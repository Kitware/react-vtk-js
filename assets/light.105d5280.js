import{b as le,r as St}from"./index.a0b359a0.js";var $t=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Ge=1e-6,lt=typeof Float32Array!="undefined"?Float32Array:Array,Iu=Math.random,Sg=Math.PI/180;function Tg(t){return t*Sg}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function Tl(){var t=new lt(9);return lt!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function oi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function _g(t){var e=new lt(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Dg(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Eg(t,e,a,r,n,i,u,o,f){var s=new lt(9);return s[0]=t,s[1]=e,s[2]=a,s[3]=r,s[4]=n,s[5]=i,s[6]=u,s[7]=o,s[8]=f,s}function Og(t,e,a,r,n,i,u,o,f,s){return t[0]=e,t[1]=a,t[2]=r,t[3]=n,t[4]=i,t[5]=u,t[6]=o,t[7]=f,t[8]=s,t}function xr(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function $0(t,e){if(t===e){var a=e[1],r=e[2],n=e[5];t[1]=e[3],t[2]=e[6],t[3]=a,t[5]=e[7],t[6]=r,t[7]=n}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function si(t,e){var a=e[0],r=e[1],n=e[2],i=e[3],u=e[4],o=e[5],f=e[6],s=e[7],l=e[8],c=l*u-o*s,p=-l*i+o*f,h=s*i-u*f,g=a*c+r*p+n*h;return g?(g=1/g,t[0]=c*g,t[1]=(-l*r+n*s)*g,t[2]=(o*r-n*u)*g,t[3]=p*g,t[4]=(l*a-n*f)*g,t[5]=(-o*a+n*i)*g,t[6]=h*g,t[7]=(-s*a+r*f)*g,t[8]=(u*a-r*i)*g,t):null}function bg(t,e){var a=e[0],r=e[1],n=e[2],i=e[3],u=e[4],o=e[5],f=e[6],s=e[7],l=e[8];return t[0]=u*l-o*s,t[1]=n*s-r*l,t[2]=r*o-n*u,t[3]=o*f-i*l,t[4]=a*l-n*f,t[5]=n*i-a*o,t[6]=i*s-u*f,t[7]=r*f-a*s,t[8]=a*u-r*i,t}function Ng(t){var e=t[0],a=t[1],r=t[2],n=t[3],i=t[4],u=t[5],o=t[6],f=t[7],s=t[8];return e*(s*i-u*f)+a*(-s*n+u*o)+r*(f*n-i*o)}function $a(t,e,a){var r=e[0],n=e[1],i=e[2],u=e[3],o=e[4],f=e[5],s=e[6],l=e[7],c=e[8],p=a[0],h=a[1],g=a[2],y=a[3],m=a[4],x=a[5],v=a[6],d=a[7],w=a[8];return t[0]=p*r+h*u+g*s,t[1]=p*n+h*o+g*l,t[2]=p*i+h*f+g*c,t[3]=y*r+m*u+x*s,t[4]=y*n+m*o+x*l,t[5]=y*i+m*f+x*c,t[6]=v*r+d*u+w*s,t[7]=v*n+d*o+w*l,t[8]=v*i+d*f+w*c,t}function Mg(t,e,a){var r=e[0],n=e[1],i=e[2],u=e[3],o=e[4],f=e[5],s=e[6],l=e[7],c=e[8],p=a[0],h=a[1];return t[0]=r,t[1]=n,t[2]=i,t[3]=u,t[4]=o,t[5]=f,t[6]=p*r+h*u+s,t[7]=p*n+h*o+l,t[8]=p*i+h*f+c,t}function Rg(t,e,a){var r=e[0],n=e[1],i=e[2],u=e[3],o=e[4],f=e[5],s=e[6],l=e[7],c=e[8],p=Math.sin(a),h=Math.cos(a);return t[0]=h*r+p*u,t[1]=h*n+p*o,t[2]=h*i+p*f,t[3]=h*u-p*r,t[4]=h*o-p*n,t[5]=h*f-p*i,t[6]=s,t[7]=l,t[8]=c,t}function kg(t,e,a){var r=a[0],n=a[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=n*e[3],t[4]=n*e[4],t[5]=n*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Lg(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Fg(t,e){var a=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=a,t[2]=0,t[3]=-a,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ag(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Bg(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Vg(t,e){var a=e[0],r=e[1],n=e[2],i=e[3],u=a+a,o=r+r,f=n+n,s=a*u,l=r*u,c=r*o,p=n*u,h=n*o,g=n*f,y=i*u,m=i*o,x=i*f;return t[0]=1-c-g,t[3]=l-x,t[6]=p+m,t[1]=l+x,t[4]=1-s-g,t[7]=h-y,t[2]=p-m,t[5]=h+y,t[8]=1-s-c,t}function Ug(t,e){var a=e[0],r=e[1],n=e[2],i=e[3],u=e[4],o=e[5],f=e[6],s=e[7],l=e[8],c=e[9],p=e[10],h=e[11],g=e[12],y=e[13],m=e[14],x=e[15],v=a*o-r*u,d=a*f-n*u,w=a*s-i*u,C=r*f-n*o,S=r*s-i*o,T=n*s-i*f,_=l*y-c*g,D=l*m-p*g,b=l*x-h*g,E=c*m-p*y,N=c*x-h*y,R=p*x-h*m,M=v*R-d*N+w*E+C*b-S*D+T*_;return M?(M=1/M,t[0]=(o*R-f*N+s*E)*M,t[1]=(f*b-u*R-s*D)*M,t[2]=(u*N-o*b+s*_)*M,t[3]=(n*N-r*R-i*E)*M,t[4]=(a*R-n*b+i*D)*M,t[5]=(r*b-a*N-i*_)*M,t[6]=(y*T-m*S+x*C)*M,t[7]=(m*w-g*T-x*d)*M,t[8]=(g*S-y*w+x*v)*M,t):null}function Gg(t,e,a){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/a,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Pg(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function jg(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function zg(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t[3]=e[3]+a[3],t[4]=e[4]+a[4],t[5]=e[5]+a[5],t[6]=e[6]+a[6],t[7]=e[7]+a[7],t[8]=e[8]+a[8],t}function _l(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t[3]=e[3]-a[3],t[4]=e[4]-a[4],t[5]=e[5]-a[5],t[6]=e[6]-a[6],t[7]=e[7]-a[7],t[8]=e[8]-a[8],t}function Wg(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*a,t}function Ig(t,e,a,r){return t[0]=e[0]+a[0]*r,t[1]=e[1]+a[1]*r,t[2]=e[2]+a[2]*r,t[3]=e[3]+a[3]*r,t[4]=e[4]+a[4]*r,t[5]=e[5]+a[5]*r,t[6]=e[6]+a[6]*r,t[7]=e[7]+a[7]*r,t[8]=e[8]+a[8]*r,t}function $g(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Hg(t,e){var a=t[0],r=t[1],n=t[2],i=t[3],u=t[4],o=t[5],f=t[6],s=t[7],l=t[8],c=e[0],p=e[1],h=e[2],g=e[3],y=e[4],m=e[5],x=e[6],v=e[7],d=e[8];return Math.abs(a-c)<=Ge*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(r-p)<=Ge*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(n-h)<=Ge*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-g)<=Ge*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(u-y)<=Ge*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(o-m)<=Ge*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(f-x)<=Ge*Math.max(1,Math.abs(f),Math.abs(x))&&Math.abs(s-v)<=Ge*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(l-d)<=Ge*Math.max(1,Math.abs(l),Math.abs(d))}var Kg=$a,Xg=_l,qg=Object.freeze(Object.defineProperty({__proto__:null,create:Tl,fromMat4:oi,clone:_g,copy:Dg,fromValues:Eg,set:Og,identity:xr,transpose:$0,invert:si,adjoint:bg,determinant:Ng,multiply:$a,translate:Mg,rotate:Rg,scale:kg,fromTranslation:Lg,fromRotation:Fg,fromScaling:Ag,fromMat2d:Bg,fromQuat:Vg,normalFromMat4:Ug,projection:Gg,str:Pg,frob:jg,add:zg,subtract:_l,multiplyScalar:Wg,multiplyScalarAndAdd:Ig,exactEquals:$g,equals:Hg,mul:Kg,sub:Xg},Symbol.toStringTag,{value:"Module"}));function H0(){var t=new lt(16);return lt!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Yg(t){var e=new lt(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Mt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Jg(t,e,a,r,n,i,u,o,f,s,l,c,p,h,g,y){var m=new lt(16);return m[0]=t,m[1]=e,m[2]=a,m[3]=r,m[4]=n,m[5]=i,m[6]=u,m[7]=o,m[8]=f,m[9]=s,m[10]=l,m[11]=c,m[12]=p,m[13]=h,m[14]=g,m[15]=y,m}function Zg(t,e,a,r,n,i,u,o,f,s,l,c,p,h,g,y,m){return t[0]=e,t[1]=a,t[2]=r,t[3]=n,t[4]=i,t[5]=u,t[6]=o,t[7]=f,t[8]=s,t[9]=l,t[10]=c,t[11]=p,t[12]=h,t[13]=g,t[14]=y,t[15]=m,t}function be(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ke(t,e){if(t===e){var a=e[1],r=e[2],n=e[3],i=e[6],u=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=a,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=n,t[13]=u,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function Zt(t,e){var a=e[0],r=e[1],n=e[2],i=e[3],u=e[4],o=e[5],f=e[6],s=e[7],l=e[8],c=e[9],p=e[10],h=e[11],g=e[12],y=e[13],m=e[14],x=e[15],v=a*o-r*u,d=a*f-n*u,w=a*s-i*u,C=r*f-n*o,S=r*s-i*o,T=n*s-i*f,_=l*y-c*g,D=l*m-p*g,b=l*x-h*g,E=c*m-p*y,N=c*x-h*y,R=p*x-h*m,M=v*R-d*N+w*E+C*b-S*D+T*_;return M?(M=1/M,t[0]=(o*R-f*N+s*E)*M,t[1]=(n*N-r*R-i*E)*M,t[2]=(y*T-m*S+x*C)*M,t[3]=(p*S-c*T-h*C)*M,t[4]=(f*b-u*R-s*D)*M,t[5]=(a*R-n*b+i*D)*M,t[6]=(m*w-g*T-x*d)*M,t[7]=(l*T-p*w+h*d)*M,t[8]=(u*N-o*b+s*_)*M,t[9]=(r*b-a*N-i*_)*M,t[10]=(g*S-y*w+x*v)*M,t[11]=(c*w-l*S-h*v)*M,t[12]=(o*D-u*E-f*_)*M,t[13]=(a*E-r*D+n*_)*M,t[14]=(y*d-g*C-m*v)*M,t[15]=(l*C-c*d+p*v)*M,t):null}function Qg(t,e){var a=e[0],r=e[1],n=e[2],i=e[3],u=e[4],o=e[5],f=e[6],s=e[7],l=e[8],c=e[9],p=e[10],h=e[11],g=e[12],y=e[13],m=e[14],x=e[15];return t[0]=o*(p*x-h*m)-c*(f*x-s*m)+y*(f*h-s*p),t[1]=-(r*(p*x-h*m)-c*(n*x-i*m)+y*(n*h-i*p)),t[2]=r*(f*x-s*m)-o*(n*x-i*m)+y*(n*s-i*f),t[3]=-(r*(f*h-s*p)-o*(n*h-i*p)+c*(n*s-i*f)),t[4]=-(u*(p*x-h*m)-l*(f*x-s*m)+g*(f*h-s*p)),t[5]=a*(p*x-h*m)-l*(n*x-i*m)+g*(n*h-i*p),t[6]=-(a*(f*x-s*m)-u*(n*x-i*m)+g*(n*s-i*f)),t[7]=a*(f*h-s*p)-u*(n*h-i*p)+l*(n*s-i*f),t[8]=u*(c*x-h*y)-l*(o*x-s*y)+g*(o*h-s*c),t[9]=-(a*(c*x-h*y)-l*(r*x-i*y)+g*(r*h-i*c)),t[10]=a*(o*x-s*y)-u*(r*x-i*y)+g*(r*s-i*o),t[11]=-(a*(o*h-s*c)-u*(r*h-i*c)+l*(r*s-i*o)),t[12]=-(u*(c*m-p*y)-l*(o*m-f*y)+g*(o*p-f*c)),t[13]=a*(c*m-p*y)-l*(r*m-n*y)+g*(r*p-n*c),t[14]=-(a*(o*m-f*y)-u*(r*m-n*y)+g*(r*f-n*o)),t[15]=a*(o*p-f*c)-u*(r*p-n*c)+l*(r*f-n*o),t}function e2(t){var e=t[0],a=t[1],r=t[2],n=t[3],i=t[4],u=t[5],o=t[6],f=t[7],s=t[8],l=t[9],c=t[10],p=t[11],h=t[12],g=t[13],y=t[14],m=t[15],x=e*u-a*i,v=e*o-r*i,d=e*f-n*i,w=a*o-r*u,C=a*f-n*u,S=r*f-n*o,T=s*g-l*h,_=s*y-c*h,D=s*m-p*h,b=l*y-c*g,E=l*m-p*g,N=c*m-p*y;return x*N-v*E+d*b+w*D-C*_+S*T}function it(t,e,a){var r=e[0],n=e[1],i=e[2],u=e[3],o=e[4],f=e[5],s=e[6],l=e[7],c=e[8],p=e[9],h=e[10],g=e[11],y=e[12],m=e[13],x=e[14],v=e[15],d=a[0],w=a[1],C=a[2],S=a[3];return t[0]=d*r+w*o+C*c+S*y,t[1]=d*n+w*f+C*p+S*m,t[2]=d*i+w*s+C*h+S*x,t[3]=d*u+w*l+C*g+S*v,d=a[4],w=a[5],C=a[6],S=a[7],t[4]=d*r+w*o+C*c+S*y,t[5]=d*n+w*f+C*p+S*m,t[6]=d*i+w*s+C*h+S*x,t[7]=d*u+w*l+C*g+S*v,d=a[8],w=a[9],C=a[10],S=a[11],t[8]=d*r+w*o+C*c+S*y,t[9]=d*n+w*f+C*p+S*m,t[10]=d*i+w*s+C*h+S*x,t[11]=d*u+w*l+C*g+S*v,d=a[12],w=a[13],C=a[14],S=a[15],t[12]=d*r+w*o+C*c+S*y,t[13]=d*n+w*f+C*p+S*m,t[14]=d*i+w*s+C*h+S*x,t[15]=d*u+w*l+C*g+S*v,t}function Ze(t,e,a){var r=a[0],n=a[1],i=a[2],u,o,f,s,l,c,p,h,g,y,m,x;return e===t?(t[12]=e[0]*r+e[4]*n+e[8]*i+e[12],t[13]=e[1]*r+e[5]*n+e[9]*i+e[13],t[14]=e[2]*r+e[6]*n+e[10]*i+e[14],t[15]=e[3]*r+e[7]*n+e[11]*i+e[15]):(u=e[0],o=e[1],f=e[2],s=e[3],l=e[4],c=e[5],p=e[6],h=e[7],g=e[8],y=e[9],m=e[10],x=e[11],t[0]=u,t[1]=o,t[2]=f,t[3]=s,t[4]=l,t[5]=c,t[6]=p,t[7]=h,t[8]=g,t[9]=y,t[10]=m,t[11]=x,t[12]=u*r+l*n+g*i+e[12],t[13]=o*r+c*n+y*i+e[13],t[14]=f*r+p*n+m*i+e[14],t[15]=s*r+h*n+x*i+e[15]),t}function Cn(t,e,a){var r=a[0],n=a[1],i=a[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function yt(t,e,a,r){var n=r[0],i=r[1],u=r[2],o=Math.hypot(n,i,u),f,s,l,c,p,h,g,y,m,x,v,d,w,C,S,T,_,D,b,E,N,R,M,G;return o<Ge?null:(o=1/o,n*=o,i*=o,u*=o,f=Math.sin(a),s=Math.cos(a),l=1-s,c=e[0],p=e[1],h=e[2],g=e[3],y=e[4],m=e[5],x=e[6],v=e[7],d=e[8],w=e[9],C=e[10],S=e[11],T=n*n*l+s,_=i*n*l+u*f,D=u*n*l-i*f,b=n*i*l-u*f,E=i*i*l+s,N=u*i*l+n*f,R=n*u*l+i*f,M=i*u*l-n*f,G=u*u*l+s,t[0]=c*T+y*_+d*D,t[1]=p*T+m*_+w*D,t[2]=h*T+x*_+C*D,t[3]=g*T+v*_+S*D,t[4]=c*b+y*E+d*N,t[5]=p*b+m*E+w*N,t[6]=h*b+x*E+C*N,t[7]=g*b+v*E+S*N,t[8]=c*R+y*M+d*G,t[9]=p*R+m*M+w*G,t[10]=h*R+x*M+C*G,t[11]=g*R+v*M+S*G,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function Ao(t,e,a){var r=Math.sin(a),n=Math.cos(a),i=e[4],u=e[5],o=e[6],f=e[7],s=e[8],l=e[9],c=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*n+s*r,t[5]=u*n+l*r,t[6]=o*n+c*r,t[7]=f*n+p*r,t[8]=s*n-i*r,t[9]=l*n-u*r,t[10]=c*n-o*r,t[11]=p*n-f*r,t}function Ha(t,e,a){var r=Math.sin(a),n=Math.cos(a),i=e[0],u=e[1],o=e[2],f=e[3],s=e[8],l=e[9],c=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*n-s*r,t[1]=u*n-l*r,t[2]=o*n-c*r,t[3]=f*n-p*r,t[8]=i*r+s*n,t[9]=u*r+l*n,t[10]=o*r+c*n,t[11]=f*r+p*n,t}function Bo(t,e,a){var r=Math.sin(a),n=Math.cos(a),i=e[0],u=e[1],o=e[2],f=e[3],s=e[4],l=e[5],c=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*n+s*r,t[1]=u*n+l*r,t[2]=o*n+c*r,t[3]=f*n+p*r,t[4]=s*n-i*r,t[5]=l*n-u*r,t[6]=c*n-o*r,t[7]=p*n-f*r,t}function Dl(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function El(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ol(t,e,a){var r=a[0],n=a[1],i=a[2],u=Math.hypot(r,n,i),o,f,s;return u<Ge?null:(u=1/u,r*=u,n*=u,i*=u,o=Math.sin(e),f=Math.cos(e),s=1-f,t[0]=r*r*s+f,t[1]=n*r*s+i*o,t[2]=i*r*s-n*o,t[3]=0,t[4]=r*n*s-i*o,t[5]=n*n*s+f,t[6]=i*n*s+r*o,t[7]=0,t[8]=r*i*s+n*o,t[9]=n*i*s-r*o,t[10]=i*i*s+f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function t2(t,e){var a=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=a,t[7]=0,t[8]=0,t[9]=-a,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function r2(t,e){var a=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-a,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=a,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function n2(t,e){var a=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=a,t[2]=0,t[3]=0,t[4]=-a,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function bl(t,e,a){var r=e[0],n=e[1],i=e[2],u=e[3],o=r+r,f=n+n,s=i+i,l=r*o,c=r*f,p=r*s,h=n*f,g=n*s,y=i*s,m=u*o,x=u*f,v=u*s;return t[0]=1-(h+y),t[1]=c+v,t[2]=p-x,t[3]=0,t[4]=c-v,t[5]=1-(l+y),t[6]=g+m,t[7]=0,t[8]=p+x,t[9]=g-m,t[10]=1-(l+h),t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t}function a2(t,e){var a=new lt(3),r=-e[0],n=-e[1],i=-e[2],u=e[3],o=e[4],f=e[5],s=e[6],l=e[7],c=r*r+n*n+i*i+u*u;return c>0?(a[0]=(o*u+l*r+f*i-s*n)*2/c,a[1]=(f*u+l*n+s*r-o*i)*2/c,a[2]=(s*u+l*i+o*n-f*r)*2/c):(a[0]=(o*u+l*r+f*i-s*n)*2,a[1]=(f*u+l*n+s*r-o*i)*2,a[2]=(s*u+l*i+o*n-f*r)*2),bl(t,e,a),t}function i2(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Nl(t,e){var a=e[0],r=e[1],n=e[2],i=e[4],u=e[5],o=e[6],f=e[8],s=e[9],l=e[10];return t[0]=Math.hypot(a,r,n),t[1]=Math.hypot(i,u,o),t[2]=Math.hypot(f,s,l),t}function Ml(t,e){var a=new lt(3);Nl(a,e);var r=1/a[0],n=1/a[1],i=1/a[2],u=e[0]*r,o=e[1]*n,f=e[2]*i,s=e[4]*r,l=e[5]*n,c=e[6]*i,p=e[8]*r,h=e[9]*n,g=e[10]*i,y=u+l+g,m=0;return y>0?(m=Math.sqrt(y+1)*2,t[3]=.25*m,t[0]=(c-h)/m,t[1]=(p-f)/m,t[2]=(o-s)/m):u>l&&u>g?(m=Math.sqrt(1+u-l-g)*2,t[3]=(c-h)/m,t[0]=.25*m,t[1]=(o+s)/m,t[2]=(p+f)/m):l>g?(m=Math.sqrt(1+l-u-g)*2,t[3]=(p-f)/m,t[0]=(o+s)/m,t[1]=.25*m,t[2]=(c+h)/m):(m=Math.sqrt(1+g-u-l)*2,t[3]=(o-s)/m,t[0]=(p+f)/m,t[1]=(c+h)/m,t[2]=.25*m),t}function Rl(t,e,a,r){var n=e[0],i=e[1],u=e[2],o=e[3],f=n+n,s=i+i,l=u+u,c=n*f,p=n*s,h=n*l,g=i*s,y=i*l,m=u*l,x=o*f,v=o*s,d=o*l,w=r[0],C=r[1],S=r[2];return t[0]=(1-(g+m))*w,t[1]=(p+d)*w,t[2]=(h-v)*w,t[3]=0,t[4]=(p-d)*C,t[5]=(1-(c+m))*C,t[6]=(y+x)*C,t[7]=0,t[8]=(h+v)*S,t[9]=(y-x)*S,t[10]=(1-(c+g))*S,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t}function o2(t,e,a,r,n){var i=e[0],u=e[1],o=e[2],f=e[3],s=i+i,l=u+u,c=o+o,p=i*s,h=i*l,g=i*c,y=u*l,m=u*c,x=o*c,v=f*s,d=f*l,w=f*c,C=r[0],S=r[1],T=r[2],_=n[0],D=n[1],b=n[2],E=(1-(y+x))*C,N=(h+w)*C,R=(g-d)*C,M=(h-w)*S,G=(1-(p+x))*S,j=(m+v)*S,z=(g+d)*T,V=(m-v)*T,L=(1-(p+y))*T;return t[0]=E,t[1]=N,t[2]=R,t[3]=0,t[4]=M,t[5]=G,t[6]=j,t[7]=0,t[8]=z,t[9]=V,t[10]=L,t[11]=0,t[12]=a[0]+_-(E*_+M*D+z*b),t[13]=a[1]+D-(N*_+G*D+V*b),t[14]=a[2]+b-(R*_+j*D+L*b),t[15]=1,t}function K0(t,e){var a=e[0],r=e[1],n=e[2],i=e[3],u=a+a,o=r+r,f=n+n,s=a*u,l=r*u,c=r*o,p=n*u,h=n*o,g=n*f,y=i*u,m=i*o,x=i*f;return t[0]=1-c-g,t[1]=l+x,t[2]=p-m,t[3]=0,t[4]=l-x,t[5]=1-s-g,t[6]=h+y,t[7]=0,t[8]=p+m,t[9]=h-y,t[10]=1-s-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function s2(t,e,a,r,n,i,u){var o=1/(a-e),f=1/(n-r),s=1/(i-u);return t[0]=i*2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i*2*f,t[6]=0,t[7]=0,t[8]=(a+e)*o,t[9]=(n+r)*f,t[10]=(u+i)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=u*i*2*s,t[15]=0,t}function kl(t,e,a,r,n){var i=1/Math.tan(e/2),u;return t[0]=i/a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,n!=null&&n!==1/0?(u=1/(r-n),t[10]=(n+r)*u,t[14]=2*n*r*u):(t[10]=-1,t[14]=-2*r),t}var u2=kl;function c2(t,e,a,r,n){var i=1/Math.tan(e/2),u;return t[0]=i/a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,n!=null&&n!==1/0?(u=1/(r-n),t[10]=n*u,t[14]=n*r*u):(t[10]=-1,t[14]=-r),t}function f2(t,e,a,r){var n=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),u=Math.tan(e.leftDegrees*Math.PI/180),o=Math.tan(e.rightDegrees*Math.PI/180),f=2/(u+o),s=2/(n+i);return t[0]=f,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-((u-o)*f*.5),t[9]=(n-i)*s*.5,t[10]=r/(a-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*a/(a-r),t[15]=0,t}function Ll(t,e,a,r,n,i,u){var o=1/(e-a),f=1/(r-n),s=1/(i-u);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(e+a)*o,t[13]=(n+r)*f,t[14]=(u+i)*s,t[15]=1,t}var Fl=Ll;function l2(t,e,a,r,n,i,u){var o=1/(e-a),f=1/(r-n),s=1/(i-u);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=s,t[11]=0,t[12]=(e+a)*o,t[13]=(n+r)*f,t[14]=i*s,t[15]=1,t}function Al(t,e,a,r){var n,i,u,o,f,s,l,c,p,h,g=e[0],y=e[1],m=e[2],x=r[0],v=r[1],d=r[2],w=a[0],C=a[1],S=a[2];return Math.abs(g-w)<Ge&&Math.abs(y-C)<Ge&&Math.abs(m-S)<Ge?be(t):(l=g-w,c=y-C,p=m-S,h=1/Math.hypot(l,c,p),l*=h,c*=h,p*=h,n=v*p-d*c,i=d*l-x*p,u=x*c-v*l,h=Math.hypot(n,i,u),h?(h=1/h,n*=h,i*=h,u*=h):(n=0,i=0,u=0),o=c*u-p*i,f=p*n-l*u,s=l*i-c*n,h=Math.hypot(o,f,s),h?(h=1/h,o*=h,f*=h,s*=h):(o=0,f=0,s=0),t[0]=n,t[1]=o,t[2]=l,t[3]=0,t[4]=i,t[5]=f,t[6]=c,t[7]=0,t[8]=u,t[9]=s,t[10]=p,t[11]=0,t[12]=-(n*g+i*y+u*m),t[13]=-(o*g+f*y+s*m),t[14]=-(l*g+c*y+p*m),t[15]=1,t)}function p2(t,e,a,r){var n=e[0],i=e[1],u=e[2],o=r[0],f=r[1],s=r[2],l=n-a[0],c=i-a[1],p=u-a[2],h=l*l+c*c+p*p;h>0&&(h=1/Math.sqrt(h),l*=h,c*=h,p*=h);var g=f*p-s*c,y=s*l-o*p,m=o*c-f*l;return h=g*g+y*y+m*m,h>0&&(h=1/Math.sqrt(h),g*=h,y*=h,m*=h),t[0]=g,t[1]=y,t[2]=m,t[3]=0,t[4]=c*m-p*y,t[5]=p*g-l*m,t[6]=l*y-c*g,t[7]=0,t[8]=l,t[9]=c,t[10]=p,t[11]=0,t[12]=n,t[13]=i,t[14]=u,t[15]=1,t}function h2(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function v2(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function g2(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t[3]=e[3]+a[3],t[4]=e[4]+a[4],t[5]=e[5]+a[5],t[6]=e[6]+a[6],t[7]=e[7]+a[7],t[8]=e[8]+a[8],t[9]=e[9]+a[9],t[10]=e[10]+a[10],t[11]=e[11]+a[11],t[12]=e[12]+a[12],t[13]=e[13]+a[13],t[14]=e[14]+a[14],t[15]=e[15]+a[15],t}function Bl(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t[3]=e[3]-a[3],t[4]=e[4]-a[4],t[5]=e[5]-a[5],t[6]=e[6]-a[6],t[7]=e[7]-a[7],t[8]=e[8]-a[8],t[9]=e[9]-a[9],t[10]=e[10]-a[10],t[11]=e[11]-a[11],t[12]=e[12]-a[12],t[13]=e[13]-a[13],t[14]=e[14]-a[14],t[15]=e[15]-a[15],t}function d2(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12]*a,t[13]=e[13]*a,t[14]=e[14]*a,t[15]=e[15]*a,t}function y2(t,e,a,r){return t[0]=e[0]+a[0]*r,t[1]=e[1]+a[1]*r,t[2]=e[2]+a[2]*r,t[3]=e[3]+a[3]*r,t[4]=e[4]+a[4]*r,t[5]=e[5]+a[5]*r,t[6]=e[6]+a[6]*r,t[7]=e[7]+a[7]*r,t[8]=e[8]+a[8]*r,t[9]=e[9]+a[9]*r,t[10]=e[10]+a[10]*r,t[11]=e[11]+a[11]*r,t[12]=e[12]+a[12]*r,t[13]=e[13]+a[13]*r,t[14]=e[14]+a[14]*r,t[15]=e[15]+a[15]*r,t}function m2(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function x2(t,e){var a=t[0],r=t[1],n=t[2],i=t[3],u=t[4],o=t[5],f=t[6],s=t[7],l=t[8],c=t[9],p=t[10],h=t[11],g=t[12],y=t[13],m=t[14],x=t[15],v=e[0],d=e[1],w=e[2],C=e[3],S=e[4],T=e[5],_=e[6],D=e[7],b=e[8],E=e[9],N=e[10],R=e[11],M=e[12],G=e[13],j=e[14],z=e[15];return Math.abs(a-v)<=Ge*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(r-d)<=Ge*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(n-w)<=Ge*Math.max(1,Math.abs(n),Math.abs(w))&&Math.abs(i-C)<=Ge*Math.max(1,Math.abs(i),Math.abs(C))&&Math.abs(u-S)<=Ge*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(o-T)<=Ge*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(f-_)<=Ge*Math.max(1,Math.abs(f),Math.abs(_))&&Math.abs(s-D)<=Ge*Math.max(1,Math.abs(s),Math.abs(D))&&Math.abs(l-b)<=Ge*Math.max(1,Math.abs(l),Math.abs(b))&&Math.abs(c-E)<=Ge*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(p-N)<=Ge*Math.max(1,Math.abs(p),Math.abs(N))&&Math.abs(h-R)<=Ge*Math.max(1,Math.abs(h),Math.abs(R))&&Math.abs(g-M)<=Ge*Math.max(1,Math.abs(g),Math.abs(M))&&Math.abs(y-G)<=Ge*Math.max(1,Math.abs(y),Math.abs(G))&&Math.abs(m-j)<=Ge*Math.max(1,Math.abs(m),Math.abs(j))&&Math.abs(x-z)<=Ge*Math.max(1,Math.abs(x),Math.abs(z))}var w2=it,C2=Bl,qs=Object.freeze(Object.defineProperty({__proto__:null,create:H0,clone:Yg,copy:Mt,fromValues:Jg,set:Zg,identity:be,transpose:Ke,invert:Zt,adjoint:Qg,determinant:e2,multiply:it,translate:Ze,scale:Cn,rotate:yt,rotateX:Ao,rotateY:Ha,rotateZ:Bo,fromTranslation:Dl,fromScaling:El,fromRotation:Ol,fromXRotation:t2,fromYRotation:r2,fromZRotation:n2,fromRotationTranslation:bl,fromQuat2:a2,getTranslation:i2,getScaling:Nl,getRotation:Ml,fromRotationTranslationScale:Rl,fromRotationTranslationScaleOrigin:o2,fromQuat:K0,frustum:s2,perspectiveNO:kl,perspective:u2,perspectiveZO:c2,perspectiveFromFieldOfView:f2,orthoNO:Ll,ortho:Fl,orthoZO:l2,lookAt:Al,targetTo:p2,str:h2,frob:v2,add:g2,subtract:Bl,multiplyScalar:d2,multiplyScalarAndAdd:y2,exactEquals:m2,equals:x2,mul:w2,sub:C2},Symbol.toStringTag,{value:"Module"}));function X0(){var t=new lt(3);return lt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function S2(t){var e=new lt(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function yn(t){var e=t[0],a=t[1],r=t[2];return Math.hypot(e,a,r)}function Ys(t,e,a){var r=new lt(3);return r[0]=t,r[1]=e,r[2]=a,r}function Vl(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function He(t,e,a,r){return t[0]=e,t[1]=a,t[2]=r,t}function Ma(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t}function Mr(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t}function Ul(t,e,a){return t[0]=e[0]*a[0],t[1]=e[1]*a[1],t[2]=e[2]*a[2],t}function q0(t,e,a){return t[0]=e[0]/a[0],t[1]=e[1]/a[1],t[2]=e[2]/a[2],t}function T2(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function _2(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function D2(t,e,a){return t[0]=Math.min(e[0],a[0]),t[1]=Math.min(e[1],a[1]),t[2]=Math.min(e[2],a[2]),t}function E2(t,e,a){return t[0]=Math.max(e[0],a[0]),t[1]=Math.max(e[1],a[1]),t[2]=Math.max(e[2],a[2]),t}function O2(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function Dr(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function b2(t,e,a,r){return t[0]=e[0]+a[0]*r,t[1]=e[1]+a[1]*r,t[2]=e[2]+a[2]*r,t}function Gl(t,e){var a=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2];return Math.hypot(a,r,n)}function Pl(t,e){var a=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2];return a*a+r*r+n*n}function jl(t){var e=t[0],a=t[1],r=t[2];return e*e+a*a+r*r}function zl(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function Wl(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function Qt(t,e){var a=e[0],r=e[1],n=e[2],i=a*a+r*r+n*n;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function Sn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function mn(t,e,a){var r=e[0],n=e[1],i=e[2],u=a[0],o=a[1],f=a[2];return t[0]=n*f-i*o,t[1]=i*u-r*f,t[2]=r*o-n*u,t}function N2(t,e,a,r){var n=e[0],i=e[1],u=e[2];return t[0]=n+r*(a[0]-n),t[1]=i+r*(a[1]-i),t[2]=u+r*(a[2]-u),t}function M2(t,e,a,r,n,i){var u=i*i,o=u*(2*i-3)+1,f=u*(i-2)+i,s=u*(i-1),l=u*(3-2*i);return t[0]=e[0]*o+a[0]*f+r[0]*s+n[0]*l,t[1]=e[1]*o+a[1]*f+r[1]*s+n[1]*l,t[2]=e[2]*o+a[2]*f+r[2]*s+n[2]*l,t}function R2(t,e,a,r,n,i){var u=1-i,o=u*u,f=i*i,s=o*u,l=3*i*o,c=3*f*u,p=f*i;return t[0]=e[0]*s+a[0]*l+r[0]*c+n[0]*p,t[1]=e[1]*s+a[1]*l+r[1]*c+n[1]*p,t[2]=e[2]*s+a[2]*l+r[2]*c+n[2]*p,t}function k2(t,e){e=e||1;var a=Iu()*2*Math.PI,r=Iu()*2-1,n=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(a)*n,t[1]=Math.sin(a)*n,t[2]=r*e,t}function Te(t,e,a){var r=e[0],n=e[1],i=e[2],u=a[3]*r+a[7]*n+a[11]*i+a[15];return u=u||1,t[0]=(a[0]*r+a[4]*n+a[8]*i+a[12])/u,t[1]=(a[1]*r+a[5]*n+a[9]*i+a[13])/u,t[2]=(a[2]*r+a[6]*n+a[10]*i+a[14])/u,t}function qi(t,e,a){var r=e[0],n=e[1],i=e[2];return t[0]=r*a[0]+n*a[3]+i*a[6],t[1]=r*a[1]+n*a[4]+i*a[7],t[2]=r*a[2]+n*a[5]+i*a[8],t}function L2(t,e,a){var r=a[0],n=a[1],i=a[2],u=a[3],o=e[0],f=e[1],s=e[2],l=n*s-i*f,c=i*o-r*s,p=r*f-n*o,h=n*p-i*c,g=i*l-r*p,y=r*c-n*l,m=u*2;return l*=m,c*=m,p*=m,h*=2,g*=2,y*=2,t[0]=o+l+h,t[1]=f+c+g,t[2]=s+p+y,t}function F2(t,e,a,r){var n=[],i=[];return n[0]=e[0]-a[0],n[1]=e[1]-a[1],n[2]=e[2]-a[2],i[0]=n[0],i[1]=n[1]*Math.cos(r)-n[2]*Math.sin(r),i[2]=n[1]*Math.sin(r)+n[2]*Math.cos(r),t[0]=i[0]+a[0],t[1]=i[1]+a[1],t[2]=i[2]+a[2],t}function A2(t,e,a,r){var n=[],i=[];return n[0]=e[0]-a[0],n[1]=e[1]-a[1],n[2]=e[2]-a[2],i[0]=n[2]*Math.sin(r)+n[0]*Math.cos(r),i[1]=n[1],i[2]=n[2]*Math.cos(r)-n[0]*Math.sin(r),t[0]=i[0]+a[0],t[1]=i[1]+a[1],t[2]=i[2]+a[2],t}function B2(t,e,a,r){var n=[],i=[];return n[0]=e[0]-a[0],n[1]=e[1]-a[1],n[2]=e[2]-a[2],i[0]=n[0]*Math.cos(r)-n[1]*Math.sin(r),i[1]=n[0]*Math.sin(r)+n[1]*Math.cos(r),i[2]=n[2],t[0]=i[0]+a[0],t[1]=i[1]+a[1],t[2]=i[2]+a[2],t}function V2(t,e){var a=t[0],r=t[1],n=t[2],i=e[0],u=e[1],o=e[2],f=Math.sqrt(a*a+r*r+n*n),s=Math.sqrt(i*i+u*u+o*o),l=f*s,c=l&&Sn(t,e)/l;return Math.acos(Math.min(Math.max(c,-1),1))}function U2(t){return t[0]=0,t[1]=0,t[2]=0,t}function G2(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Yn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Js(t,e){var a=t[0],r=t[1],n=t[2],i=e[0],u=e[1],o=e[2];return Math.abs(a-i)<=Ge*Math.max(1,Math.abs(a),Math.abs(i))&&Math.abs(r-u)<=Ge*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-o)<=Ge*Math.max(1,Math.abs(n),Math.abs(o))}var Zs=Mr,P2=Ul,j2=q0,z2=Gl,W2=Pl,Il=yn,I2=jl,$2=function(){var t=X0();return function(e,a,r,n,i,u){var o,f;for(a||(a=3),r||(r=0),n?f=Math.min(n*a+r,e.length):f=e.length,o=r;o<f;o+=a)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],i(t,t,u),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2];return e}}(),H2=Object.freeze(Object.defineProperty({__proto__:null,create:X0,clone:S2,length:yn,fromValues:Ys,copy:Vl,set:He,add:Ma,subtract:Mr,multiply:Ul,divide:q0,ceil:T2,floor:_2,min:D2,max:E2,round:O2,scale:Dr,scaleAndAdd:b2,distance:Gl,squaredDistance:Pl,squaredLength:jl,negate:zl,inverse:Wl,normalize:Qt,dot:Sn,cross:mn,lerp:N2,hermite:M2,bezier:R2,random:k2,transformMat4:Te,transformMat3:qi,transformQuat:L2,rotateX:F2,rotateY:A2,rotateZ:B2,angle:V2,zero:U2,str:G2,exactEquals:Yn,equals:Js,sub:Zs,mul:P2,div:j2,dist:z2,sqrDist:W2,len:Il,sqrLen:I2,forEach:$2},Symbol.toStringTag,{value:"Module"}));function K2(){var t=new lt(4);return lt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function X2(t,e,a,r){var n=new lt(4);return n[0]=t,n[1]=e,n[2]=a,n[3]=r,n}function q2(t,e){var a=e[0],r=e[1],n=e[2],i=e[3],u=a*a+r*r+n*n+i*i;return u>0&&(u=1/Math.sqrt(u)),t[0]=a*u,t[1]=r*u,t[2]=n*u,t[3]=i*u,t}function gi(t,e,a){var r=e[0],n=e[1],i=e[2],u=e[3];return t[0]=a[0]*r+a[4]*n+a[8]*i+a[12]*u,t[1]=a[1]*r+a[5]*n+a[9]*i+a[13]*u,t[2]=a[2]*r+a[6]*n+a[10]*i+a[14]*u,t[3]=a[3]*r+a[7]*n+a[11]*i+a[15]*u,t}(function(){var t=K2();return function(e,a,r,n,i,u){var o,f;for(a||(a=4),r||(r=0),n?f=Math.min(n*a+r,e.length):f=e.length,o=r;o<f;o+=a)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],t[3]=e[o+3],i(t,t,u),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2],e[o+3]=t[3];return e}})();function Tn(){var t=new lt(4);return lt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Y0(t,e,a){a=a*.5;var r=Math.sin(a);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(a),t}function Y2(t,e){var a=Math.acos(e[3])*2,r=Math.sin(a/2);return r>Ge?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),a}function $u(t,e,a){var r=e[0],n=e[1],i=e[2],u=e[3],o=a[0],f=a[1],s=a[2],l=a[3];return t[0]=r*l+u*o+n*s-i*f,t[1]=n*l+u*f+i*o-r*s,t[2]=i*l+u*s+r*f-n*o,t[3]=u*l-r*o-n*f-i*s,t}function ns(t,e,a,r){var n=e[0],i=e[1],u=e[2],o=e[3],f=a[0],s=a[1],l=a[2],c=a[3],p,h,g,y,m;return h=n*f+i*s+u*l+o*c,h<0&&(h=-h,f=-f,s=-s,l=-l,c=-c),1-h>Ge?(p=Math.acos(h),g=Math.sin(p),y=Math.sin((1-r)*p)/g,m=Math.sin(r*p)/g):(y=1-r,m=r),t[0]=y*n+m*f,t[1]=y*i+m*s,t[2]=y*u+m*l,t[3]=y*o+m*c,t}function J2(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Z2(t,e){var a=e[0]+e[4]+e[8],r;if(a>0)r=Math.sqrt(a+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var n=0;e[4]>e[0]&&(n=1),e[8]>e[n*3+n]&&(n=2);var i=(n+1)%3,u=(n+2)%3;r=Math.sqrt(e[n*3+n]-e[i*3+i]-e[u*3+u]+1),t[n]=.5*r,r=.5/r,t[3]=(e[i*3+u]-e[u*3+i])*r,t[i]=(e[i*3+n]+e[n*3+i])*r,t[u]=(e[u*3+n]+e[n*3+u])*r}return t}var Hu=X2,$l=q2;(function(){var t=X0(),e=Ys(1,0,0),a=Ys(0,1,0);return function(r,n,i){var u=Sn(n,i);return u<-.999999?(mn(t,e,n),Il(t)<1e-6&&mn(t,a,n),Qt(t,t),Y0(r,t,Math.PI),r):u>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(mn(t,n,i),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+u,$l(r,r))}})();(function(){var t=Tn(),e=Tn();return function(a,r,n,i,u,o){return ns(t,r,u,o),ns(e,n,i,o),ns(a,t,e,2*o*(1-o)),a}})();(function(){var t=Tl();return function(e,a,r,n){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=n[0],t[4]=n[1],t[7]=n[2],t[2]=-a[0],t[5]=-a[1],t[8]=-a[2],$l(e,Z2(e,t))}})();function Q2(t){if(Array.isArray(t))return t}function ed(t,e){var a=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var r=[],n=!0,i=!1,u,o;try{for(a=a.call(t);!(n=(u=a.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(f){i=!0,o=f}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw o}}return r}}function Qs(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function Hl(t,e){if(!!t){if(typeof t=="string")return Qs(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Qs(t,e)}}function td(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ze(t,e){return Q2(t)||ed(t,e)||Hl(t,e)||td()}function _n(t){return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(t)}function Se(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function rd(t){if(Array.isArray(t))return Qs(t)}function nd(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ad(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function de(t){return rd(t)||nd(t)||Hl(t)||ad()}function Ka(t,e){return Ka=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Ka(t,e)}function id(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ga(t,e,a){return id()?Ga=Reflect.construct:Ga=function(n,i,u){var o=[null];o.push.apply(o,i);var f=Function.bind.apply(n,o),s=new f;return u&&Ka(s,u.prototype),s},Ga.apply(null,arguments)}var od=function t(e,a){if(e===a)return!0;if(e&&a&&typeof e=="object"&&typeof a=="object"){if(e.constructor!==a.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!=a.length)return!1;for(n=r;n--!==0;)if(!t(e[n],a[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(a).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(a,i[n]))return!1;for(n=r;n--!==0;){var u=i[n];if(!t(e[u],a[u]))return!1}return!0}return e!==e&&a!==a},Ku=Object.prototype.toString,Kl=function(e){var a=Ku.call(e),r=a==="[object Arguments]";return r||(r=a!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Ku.call(e.callee)==="[object Function]"),r},Xl;if(!Object.keys){var di=Object.prototype.hasOwnProperty,Xu=Object.prototype.toString,sd=Kl,qu=Object.prototype.propertyIsEnumerable,ud=!qu.call({toString:null},"toString"),cd=qu.call(function(){},"prototype"),yi=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],as=function(t){var e=t.constructor;return e&&e.prototype===t},fd={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},ld=function(){if(typeof window=="undefined")return!1;for(var t in window)try{if(!fd["$"+t]&&di.call(window,t)&&window[t]!==null&&typeof window[t]=="object")try{as(window[t])}catch{return!0}}catch{return!0}return!1}(),pd=function(t){if(typeof window=="undefined"||!ld)return as(t);try{return as(t)}catch{return!1}};Xl=function(e){var a=e!==null&&typeof e=="object",r=Xu.call(e)==="[object Function]",n=sd(e),i=a&&Xu.call(e)==="[object String]",u=[];if(!a&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var o=cd&&r;if(i&&e.length>0&&!di.call(e,0))for(var f=0;f<e.length;++f)u.push(String(f));if(n&&e.length>0)for(var s=0;s<e.length;++s)u.push(String(s));else for(var l in e)!(o&&l==="prototype")&&di.call(e,l)&&u.push(String(l));if(ud)for(var c=pd(e),p=0;p<yi.length;++p)!(c&&yi[p]==="constructor")&&di.call(e,yi[p])&&u.push(yi[p]);return u}}var hd=Xl,vd=Array.prototype.slice,gd=Kl,Yu=Object.keys,Yi=Yu?function(e){return Yu(e)}:hd,Ju=Object.keys;Yi.shim=function(){if(Object.keys){var e=function(){var a=Object.keys(arguments);return a&&a.length===arguments.length}(1,2);e||(Object.keys=function(r){return gd(r)?Ju(vd.call(r)):Ju(r)})}else Object.keys=Yi;return Object.keys||Yi};var dd=Yi,yd=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},a=Symbol("test"),r=Object(a);if(typeof a=="string"||Object.prototype.toString.call(a)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var n=42;e[a]=n;for(a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==a||!Object.prototype.propertyIsEnumerable.call(e,a))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(e,a);if(u.value!==n||u.enumerable!==!0)return!1}return!0},Zu=typeof Symbol!="undefined"&&Symbol,md=yd,xd=function(){return typeof Zu!="function"||typeof Symbol!="function"||typeof Zu("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:md()},wd="Function.prototype.bind called on incompatible ",is=Array.prototype.slice,Cd=Object.prototype.toString,Sd="[object Function]",Td=function(e){var a=this;if(typeof a!="function"||Cd.call(a)!==Sd)throw new TypeError(wd+a);for(var r=is.call(arguments,1),n,i=function(){if(this instanceof n){var l=a.apply(this,r.concat(is.call(arguments)));return Object(l)===l?l:this}else return a.apply(e,r.concat(is.call(arguments)))},u=Math.max(0,a.length-r.length),o=[],f=0;f<u;f++)o.push("$"+f);if(n=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(i),a.prototype){var s=function(){};s.prototype=a.prototype,n.prototype=new s,s.prototype=null}return n},_d=Td,ql=Function.prototype.bind||_d,Dd=ql,Ed=Dd.call(Function.call,Object.prototype.hasOwnProperty),Pe,ra=SyntaxError,Yl=Function,Jn=TypeError,os=function(t){try{return Yl('"use strict"; return ('+t+").constructor;")()}catch{}},xn=Object.getOwnPropertyDescriptor;if(xn)try{xn({},"")}catch{xn=null}var ss=function(){throw new Jn},Od=xn?function(){try{return arguments.callee,ss}catch{try{return xn(arguments,"callee").get}catch{return ss}}}():ss,Rn=xd(),Hr=Object.getPrototypeOf||function(t){return t.__proto__},Gn={},bd=typeof Uint8Array=="undefined"?Pe:Hr(Uint8Array),Zn={"%AggregateError%":typeof AggregateError=="undefined"?Pe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?Pe:ArrayBuffer,"%ArrayIteratorPrototype%":Rn?Hr([][Symbol.iterator]()):Pe,"%AsyncFromSyncIteratorPrototype%":Pe,"%AsyncFunction%":Gn,"%AsyncGenerator%":Gn,"%AsyncGeneratorFunction%":Gn,"%AsyncIteratorPrototype%":Gn,"%Atomics%":typeof Atomics=="undefined"?Pe:Atomics,"%BigInt%":typeof BigInt=="undefined"?Pe:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?Pe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?Pe:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?Pe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?Pe:FinalizationRegistry,"%Function%":Yl,"%GeneratorFunction%":Gn,"%Int8Array%":typeof Int8Array=="undefined"?Pe:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?Pe:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?Pe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Rn?Hr(Hr([][Symbol.iterator]())):Pe,"%JSON%":typeof JSON=="object"?JSON:Pe,"%Map%":typeof Map=="undefined"?Pe:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Rn?Pe:Hr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?Pe:Promise,"%Proxy%":typeof Proxy=="undefined"?Pe:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?Pe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?Pe:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Rn?Pe:Hr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?Pe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Rn?Hr(""[Symbol.iterator]()):Pe,"%Symbol%":Rn?Symbol:Pe,"%SyntaxError%":ra,"%ThrowTypeError%":Od,"%TypedArray%":bd,"%TypeError%":Jn,"%Uint8Array%":typeof Uint8Array=="undefined"?Pe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?Pe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?Pe:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?Pe:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?Pe:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?Pe:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?Pe:WeakSet},Nd=function t(e){var a;if(e==="%AsyncFunction%")a=os("async function () {}");else if(e==="%GeneratorFunction%")a=os("function* () {}");else if(e==="%AsyncGeneratorFunction%")a=os("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(a=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=t("%AsyncGenerator%");n&&(a=Hr(n.prototype))}return Zn[e]=a,a},Qu={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ui=ql,oo=Ed,Md=ui.call(Function.call,Array.prototype.concat),Rd=ui.call(Function.apply,Array.prototype.splice),ec=ui.call(Function.call,String.prototype.replace),so=ui.call(Function.call,String.prototype.slice),kd=ui.call(Function.call,RegExp.prototype.exec),Ld=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Fd=/\\(\\)?/g,Ad=function(e){var a=so(e,0,1),r=so(e,-1);if(a==="%"&&r!=="%")throw new ra("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&a!=="%")throw new ra("invalid intrinsic syntax, expected opening `%`");var n=[];return ec(e,Ld,function(i,u,o,f){n[n.length]=o?ec(f,Fd,"$1"):u||i}),n},Bd=function(e,a){var r=e,n;if(oo(Qu,r)&&(n=Qu[r],r="%"+n[0]+"%"),oo(Zn,r)){var i=Zn[r];if(i===Gn&&(i=Nd(r)),typeof i=="undefined"&&!a)throw new Jn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new ra("intrinsic "+e+" does not exist!")},Vd=function(e,a){if(typeof e!="string"||e.length===0)throw new Jn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof a!="boolean")throw new Jn('"allowMissing" argument must be a boolean');if(kd(/^%?[^%]*%?$/,e)===null)throw new ra("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Ad(e),n=r.length>0?r[0]:"",i=Bd("%"+n+"%",a),u=i.name,o=i.value,f=!1,s=i.alias;s&&(n=s[0],Rd(r,Md([0,1],s)));for(var l=1,c=!0;l<r.length;l+=1){var p=r[l],h=so(p,0,1),g=so(p,-1);if((h==='"'||h==="'"||h==="`"||g==='"'||g==="'"||g==="`")&&h!==g)throw new ra("property names with quotes must have matching quotes");if((p==="constructor"||!c)&&(f=!0),n+="."+p,u="%"+n+"%",oo(Zn,u))o=Zn[u];else if(o!=null){if(!(p in o)){if(!a)throw new Jn("base intrinsic for "+e+" exists, but the property is not available.");return}if(xn&&l+1>=r.length){var y=xn(o,p);c=!!y,c&&"get"in y&&!("originalValue"in y.get)?o=y.get:o=o[p]}else c=oo(o,p),o=o[p];c&&!f&&(Zn[u]=o)}}return o},Ud=Vd,e0=Ud("%Object.defineProperty%",!0),t0=function(){if(e0)try{return e0({},"a",{value:1}),!0}catch{return!1}return!1};t0.hasArrayLengthDefineBug=function(){if(!t0())return null;try{return e0([],"length",{value:1}).length!==1}catch{return!0}};var Gd=t0,Pd=dd,jd=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",zd=Object.prototype.toString,Wd=Array.prototype.concat,Jl=Object.defineProperty,Id=function(t){return typeof t=="function"&&zd.call(t)==="[object Function]"},$d=Gd(),Zl=Jl&&$d,Hd=function(t,e,a,r){e in t&&(!Id(r)||!r())||(Zl?Jl(t,e,{configurable:!0,enumerable:!1,value:a,writable:!0}):t[e]=a)},Ql=function(t,e){var a=arguments.length>2?arguments[2]:{},r=Pd(e);jd&&(r=Wd.call(r,Object.getOwnPropertySymbols(e)));for(var n=0;n<r.length;n+=1)Hd(t,r[n],e[r[n]],a[r[n]])};Ql.supportsDescriptors=!!Zl;var e1=Ql,Pa={exports:{}};typeof self!="undefined"?Pa.exports=self:typeof window!="undefined"?Pa.exports=window:Pa.exports=Function("return this")();var Kd=Pa.exports,t1=function(){return typeof $t!="object"||!$t||$t.Math!==Math||$t.Array!==Array?Kd:$t},Xd=e1,qd=t1,Yd=function(){var e=qd();if(Xd.supportsDescriptors){var a=Object.getOwnPropertyDescriptor(e,"globalThis");(!a||a.configurable&&(a.enumerable||!a.writable||globalThis!==e))&&Object.defineProperty(e,"globalThis",{configurable:!0,enumerable:!1,value:e,writable:!0})}else(typeof globalThis!="object"||globalThis!==e)&&(e.globalThis=e);return e},Jd=e1,Zd=Pa.exports,r1=t1,Qd=Yd,e3=r1(),n1=function(){return e3};Jd(n1,{getPolyfill:r1,implementation:Zd,shim:Qd});var t3=n1;function tc(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function r3(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?tc(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):tc(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var or=t3(),a1={vtkObject:function(){return null}};function xt(t){if(t==null||t.isA)return t;if(!t.vtkClass)return or.console&&or.console.error&&or.console.error("Invalid VTK object"),null;var e=a1[t.vtkClass];if(!e)return or.console&&or.console.error&&or.console.error("No vtk class found for Object of type ".concat(t.vtkClass)),null;var a=r3({},t);Object.keys(a).forEach(function(n){a[n]&&_n(a[n])==="object"&&a[n].vtkClass&&(a[n]=xt(a[n]))});var r=e(a);return r&&r.modified&&r.modified(),r}function n3(t,e){a1[t]=e}xt.register=n3;function J0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rc(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z0(t,e,a){return e&&rc(t.prototype,e),a&&rc(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dn(t){return Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},Dn(t)}function a3(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Dn(t),t!==null););return t}function Ji(){return typeof Reflect!="undefined"&&Reflect.get?Ji=Reflect.get:Ji=function(e,a,r){var n=a3(e,a);if(!!n){var i=Object.getOwnPropertyDescriptor(n,a);return i.get?i.get.call(arguments.length<3?e:r):i.value}},Ji.apply(this,arguments)}function i3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ka(t,e)}function o3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s3(t,e){if(e&&(_n(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o3(t)}function u3(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function r0(t){var e=typeof Map=="function"?new Map:void 0;return r0=function(r){if(r===null||!u3(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,n)}function n(){return Ga(r,arguments,Dn(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ka(n,r)},r0(t)}function c3(t){var e=f3();return function(){var r=Dn(t),n;if(e){var i=Dn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s3(this,n)}}function f3(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var us=function(t){i3(a,t);var e=c3(a);function a(){return J0(this,a),e.apply(this,arguments)}return Z0(a,[{key:"push",value:function(){for(var n=0;n<arguments.length;n++)this.includes(arguments[n])||Ji(Dn(a.prototype),"push",this).call(this,arguments[n]);return this.length}}]),a}(r0(Array));function nc(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function uo(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?nc(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):nc(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var n0=0,l3=Symbol("void");function p3(){return n0}var i1={};function fn(){}var h3=["log","debug","info","warn","error","time","timeEnd","group","groupEnd"];h3.forEach(function(t){i1[t]=fn});or.console=console.hasOwnProperty("log")?console:i1;var Kt={debug:fn,error:or.console.error||fn,info:or.console.info||fn,log:or.console.log||fn,warn:or.console.warn||fn};function v3(t,e){Kt[t]&&(Kt[t]=e||fn)}function g3(){Kt.log.apply(Kt,arguments)}function d3(){Kt.info.apply(Kt,arguments)}function En(){Kt.debug.apply(Kt,arguments)}function Ne(){Kt.error.apply(Kt,arguments)}function ci(){Kt.warn.apply(Kt,arguments)}var ac={};function y3(t){ac[t]||(Kt.error(t),ac[t]=!0)}var Ut=Object.create(null);Ut.Float32Array=Float32Array;Ut.Float64Array=Float64Array;Ut.Uint8Array=Uint8Array;Ut.Int8Array=Int8Array;Ut.Uint16Array=Uint16Array;Ut.Int16Array=Int16Array;Ut.Uint32Array=Uint32Array;Ut.Int32Array=Int32Array;Ut.Uint8ClampedArray=Uint8ClampedArray;try{Ut.BigInt64Array=BigInt64Array,Ut.BigUint64Array=BigUint64Array}catch{}function Vo(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),r=1;r<e;r++)a[r-1]=arguments[r];return Ga(Ut[t]||Float64Array,a)}function Q0(t){for(var e,a=arguments.length,r=new Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=arguments[n];return(e=Ut[t]||Float64Array).from.apply(e,r)}function eu(t){return t.charAt(0).toUpperCase()+t.slice(1)}function wt(t){return eu(t[0]==="_"?t.slice(1):t)}function m3(t){return t.charAt(0).toLowerCase()+t.slice(1)}function x3(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3,r=["TB","GB","MB","KB"],n=Number(t),i="B";n>a;)n/=a,i=r.pop();return"".concat(n.toFixed(e)," ").concat(i)}function w3(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",a=[],r=t;r>1e3;)a.push("000".concat(r%1e3).slice(-3)),r=Math.floor(r/1e3);return r>0&&a.push(r),a.reverse(),a.join(e)}function o1(t){Object.keys(t).forEach(function(e){Array.isArray(t[e])&&(t[e]=[].concat(t[e]))})}function C3(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var a=0;a<t.length;a++)if(t[a]!==e[a])return!1;return!0}return!1}function S3(t,e){return Object.keys(t).find(function(a){return t[a]===e})}function s1(t){return t&&t.isA?t.getState():t}function u1(t){setTimeout(t,0)}function T3(t,e){var a=performance.now();t.finally(function(){var r=performance.now()-a;e(r)})}function vt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o1(e);var a=[];if(Number.isInteger(e.mtime)||(e.mtime=++n0),!("classHierarchy"in e))e.classHierarchy=new us("vtkObject");else if(!(e.classHierarchy instanceof us)){for(var r=new us,n=0;n<e.classHierarchy.length;n++)r.push(e.classHierarchy[n]);e.classHierarchy=r}function i(o){a[o]=null}function u(o){function f(){i(o)}return Object.freeze({unsubscribe:f})}return t.isDeleted=function(){return!!e.deleted},t.modified=function(o){if(e.deleted){Ne("instance deleted - cannot call any method");return}o&&o<t.getMTime()||(e.mtime=++n0,a.forEach(function(f){return f&&f(t)}))},t.onModified=function(o){if(e.deleted)return Ne("instance deleted - cannot call any method"),null;var f=a.length;return a.push(o),u(f)},t.getMTime=function(){return e.mtime},t.isA=function(o){for(var f=e.classHierarchy.length;f--;)if(e.classHierarchy[f]===o)return!0;return!1},t.getClassName=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.classHierarchy[e.classHierarchy.length-1-o]},t.set=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=!1;return Object.keys(o).forEach(function(c){var p=s?null:t["set".concat(eu(c))];p&&Array.isArray(o[c])&&p.length>1?l=p.apply(void 0,de(o[c]))||l:p?l=p(o[c])||l:(["mtime"].indexOf(c)===-1&&!f&&ci("Warning: Set value to model directly ".concat(c,", ").concat(o[c])),l=e[c]!==o[c]||l,e[c]=o[c])}),l},t.get=function(){for(var o=arguments.length,f=new Array(o),s=0;s<o;s++)f[s]=arguments[s];if(!f.length)return e;var l={};return f.forEach(function(c){l[c]=e[c]}),l},t.getReferenceByName=function(o){return e[o]},t.delete=function(){Object.keys(e).forEach(function(o){return delete e[o]}),a.forEach(function(o,f){return i(f)}),e.deleted=!0},t.getState=function(){if(e.deleted)return null;var o=uo(uo({},e),{},{vtkClass:t.getClassName()});Object.keys(o).forEach(function(s){o[s]===null||o[s]===void 0||s[0]==="_"?delete o[s]:o[s].isA?o[s]=o[s].getState():Array.isArray(o[s])&&(o[s]=o[s].map(s1))});var f={};return Object.keys(o).sort().forEach(function(s){f[s]=o[s]}),f.mtime&&delete f.mtime,f},t.shallowCopy=function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o.getClassName()!==t.getClassName())throw new Error("Cannot ShallowCopy ".concat(o.getClassName()," into ").concat(t.getClassName()));var s=o.get(),l=Object.keys(e).sort(),c=Object.keys(s).sort();c.forEach(function(p){var h=l.indexOf(p);h===-1?f&&En("add ".concat(p," in shallowCopy")):l.splice(h,1),e[p]=s[p]}),l.length&&f&&En("Untouched keys: ".concat(l.join(", "))),t.modified()},t.toJSON=function(){return t.getState()},t}var _3={object:function(e,a,r){return function(){return uo({},a[r.name])}}};function wr(t,e,a){a.forEach(function(r){if(_n(r)==="object"){var n=_3[r.type];n?t["get".concat(wt(r.name))]=n(t,e,r):t["get".concat(wt(r.name))]=function(){return e[r.name]}}else t["get".concat(wt(r))]=function(){return e[r]}})}var D3={enum:function(e,a,r){return function(n){if(typeof n=="string"){if(r.enum[n]!==void 0)return a[r.name]!==r.enum[n]?(a[r.name]=r.enum[n],e.modified(),!0):!1;throw Ne("Set Enum with invalid argument ".concat(r,", ").concat(n)),new RangeError("Set Enum with invalid string argument")}if(typeof n=="number"){if(a[r.name]!==n){if(Object.keys(r.enum).map(function(i){return r.enum[i]}).indexOf(n)!==-1)return a[r.name]=n,e.modified(),!0;throw Ne("Set Enum outside numeric range ".concat(r,", ").concat(n)),new RangeError("Set Enum outside numeric range")}return!1}throw Ne("Set Enum with invalid argument (String/Number) ".concat(r,", ").concat(n)),new TypeError("Set Enum with invalid argument (String/Number)")}},object:function(e,a,r){return function(n){return od(a[r.name],n)?!1:(a[r.name]=n,e.modified(),!0)}}};function ic(t){if(_n(t)==="object"){var e=D3[t.type];if(e)return function(a,r){return e(a,r,t)};throw Ne("No setter for field ".concat(t)),new TypeError("No setter for field")}return function(r,n){return function(u){return n.deleted?(Ne("instance deleted - cannot call any method"),!1):n[t]!==u?(n[t]=u,r.modified(),!0):!1}}}function Uo(t,e,a){a.forEach(function(r){_n(r)==="object"?t["set".concat(wt(r.name))]=ic(r)(t,e):t["set".concat(wt(r))]=ic(r)(t,e)})}function Tt(t,e,a){wr(t,e,a),Uo(t,e,a)}function Go(t,e,a){a.forEach(function(r){t["get".concat(wt(r))]=function(){return e[r]?Array.from(e[r]):e[r]},t["get".concat(wt(r),"ByReference")]=function(){return e[r]}})}function c1(t,e,a,r){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;a.forEach(function(i){if(e[i]&&r&&e[i].length!==r)throw new RangeError("Invalid initial number of values for array (".concat(i,")"));t["set".concat(wt(i))]=function(){if(e.deleted)return Ne("instance deleted - cannot call any method"),!1;for(var u=arguments.length,o=new Array(u),f=0;f<u;f++)o[f]=arguments[f];var s=o,l,c=!1;if(s.length===1&&(s[0]==null||s[0].length>=0)&&(s=s[0],c=!0),s==null)l=e[i]!==s;else{if(r&&s.length!==r)if(s.length<r&&n!==void 0)for(s=Array.from(s),c=!1;s.length<r;)s.push(n);else throw new RangeError("Invalid number of values for array setter (".concat(i,")"));l=e[i]==null||e[i].length!==s.length;for(var p=0;!l&&p<s.length;++p)l=e[i][p]!==s[p];l&&c&&(s=Array.from(s))}return l&&(e[i]=s,t.modified()),l},t["set".concat(wt(i),"From")]=function(u){var o=e[i];u.forEach(function(f,s){o[s]=f})}})}function f1(t,e,a,r){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;Go(t,e,a),c1(t,e,a,r,n)}function Po(t,e,a){for(var r=0;r<a.length;r++){var n=a[r];e[n]!==void 0&&(e["_".concat(n)]=e[n],delete e[n])}}function l1(t,e,a,r){e.inputData?e.inputData=e.inputData.map(xt):e.inputData=[],e.inputConnection?e.inputConnection=e.inputConnection.map(xt):e.inputConnection=[],e.output?e.output=e.output.map(xt):e.output=[],e.inputArrayToProcess?e.inputArrayToProcess=e.inputArrayToProcess.map(xt):e.inputArrayToProcess=[],e.numberOfInputs=a;function n(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e.deleted){Ne("instance deleted - cannot call any method");return}if(y>=e.numberOfInputs){Ne("algorithm ".concat(t.getClassName()," only has ").concat(e.numberOfInputs," input ports. To add more input ports, use addInputData()"));return}(e.inputData[y]!==g||e.inputConnection[y])&&(e.inputData[y]=g,e.inputConnection[y]=null,t.modified&&t.modified())}function i(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.inputConnection[g]&&(e.inputData[g]=e.inputConnection[g]()),e.inputData[g]}function u(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e.deleted){Ne("instance deleted - cannot call any method");return}if(y>=e.numberOfInputs){var m="algorithm ".concat(t.getClassName()," only has ");m+="".concat(e.numberOfInputs),m+=" input ports. To add more input ports, use addInputConnection()",Ne(m);return}e.inputData[y]=null,e.inputConnection[y]=g}function o(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.inputConnection[g]}function f(){for(var g=e.numberOfInputs;g&&!e.inputData[g-1]&&!e.inputConnection[g-1];)g--;return g===e.numberOfInputs&&e.numberOfInputs++,g}function s(g){if(e.deleted){Ne("instance deleted - cannot call any method");return}u(g,f())}function l(g){if(e.deleted){Ne("instance deleted - cannot call any method");return}n(g,f())}function c(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.deleted?(Ne("instance deleted - cannot call any method"),null):(t.shouldUpdate()&&t.update(),e.output[g])}t.shouldUpdate=function(){for(var g=t.getMTime(),y=1/0,m=r;m--;){if(!e.output[m]||e.output[m].isDeleted())return!0;var x=e.output[m].getMTime();if(x<g)return!0;x<y&&(y=x)}for(m=e.numberOfInputs;m--;){var v,d;if((v=e.inputConnection[m])!==null&&v!==void 0&&v.filter.shouldUpdate()||((d=t.getInputData(m))===null||d===void 0?void 0:d.getMTime())>y)return!0}return!1};function p(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=function(){return c(g)};return y.filter=t,y}if(e.numberOfInputs){for(var h=e.numberOfInputs;h--;)e.inputData.push(null),e.inputConnection.push(null);t.setInputData=n,t.setInputConnection=u,t.addInputData=l,t.addInputConnection=s,t.getInputData=i,t.getInputConnection=o}r&&(t.getOutputData=c,t.getOutputPort=p),t.update=function(){var g=[];if(e.numberOfInputs)for(var y=0;y<e.numberOfInputs;)g[y]=t.getInputData(y),y++;t.shouldUpdate()&&t.requestData&&t.requestData(g,e.output)},t.getNumberOfInputPorts=function(){return e.numberOfInputs},t.getNumberOfOutputPorts=function(){return r||e.output.length},t.getInputArrayToProcess=function(g){var y=e.inputArrayToProcess[g],m=e.inputData[g];return y&&m?m["get".concat(y.fieldAssociation)]().getArray(y.arrayName):null},t.setInputArrayToProcess=function(g,y,m){for(var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Scalars";e.inputArrayToProcess.length<g;)e.inputArrayToProcess.push(null);e.inputArrayToProcess[g]={arrayName:y,fieldAssociation:m,attributeType:x}}}var p1=Symbol("Event abort");function a0(t,e,a){var r=[],n=t.delete,i=1;function u(s){for(var l=0;l<r.length;++l){var c=ze(r[l],1),p=c[0];if(p===s){r.splice(l,1);return}}}function o(s){function l(){u(s)}return Object.freeze({unsubscribe:l})}function f(){var s=arguments;if(e.deleted){Ne("instance deleted - cannot call any method");return}for(var l=r.slice(),c=function(y){var m=ze(l[y],3),x=m[1],v=m[2];if(!x)return"continue";if(v<0)setTimeout(function(){return x.apply(t,s)},1-v);else{var d=x.apply(t,s);if(d===p1)return"break"}},p=0;p<l.length;++p){var h=c(p);if(h!=="continue"&&h==="break")break}}t["invoke".concat(wt(a))]=f,t["on".concat(wt(a))]=function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!s.apply)return console.error("Invalid callback for event ".concat(a)),null;if(e.deleted)return Ne("instance deleted - cannot call any method"),null;var c=i++;return r.push([c,s,l]),r.sort(function(p,h){return h[2]-p[2]}),o(c)},t.delete=function(){n(),r.forEach(function(s){var l=ze(s,1),c=l[0];return u(c)})}}function ot(t,e){var a=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i={},u={};return t(u,i,n),Object.freeze(u)};return e&&xt.register(e,a),a}function h1(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.filter(function(u){return!!u}).map(function(u){return u.apply(void 0,n)})}}function v1(t){return t&&t.isA&&t.isA("vtkObject")}function i0(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(v1(t)){if(r.indexOf(t)>=0)return a;r.push(t);var n=e(t);n!==void 0&&a.push(n);var i=t.get();Object.keys(i).forEach(function(u){var o=i[u];Array.isArray(o)?o.forEach(function(f){i0(f,e,a,r)}):i0(o,e,a,r)})}return a}function o0(t,e,a){var r=this,n,i=function(){for(var o=arguments.length,f=new Array(o),s=0;s<o;s++)f[s]=arguments[s];var l=r,c=function(){n=null,a||t.apply(l,f)},p=a&&!n;clearTimeout(n),n=setTimeout(c,e),p&&t.apply(l,f)};return i.cancel=function(){return clearTimeout(n)},i}function E3(t,e){var a=!1,r=null;function n(){a=!1,r!==null&&(i.apply(void 0,de(r)),r=null)}function i(){for(var u=arguments.length,o=new Array(u),f=0;f<u;f++)o[f]=arguments[f];if(a){r=o;return}a=!0,t.apply(void 0,o),setTimeout(n,e)}return i}function g1(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e.keystore=Object.assign(e.keystore||{},a),t.setKey=function(r,n){e.keystore[r]=n},t.getKey=function(r){return e.keystore[r]},t.getAllKeys=function(){return Object.keys(e.keystore)},t.deleteKey=function(r){return delete e.keystore[r]},t.clearKeystore=function(){return t.getAllKeys().forEach(function(r){return delete e.keystore[r]})}}var O3=1,mi="__root__";function b3(t,e){g1(t,e);var a=t.delete;e.proxyId="".concat(O3++),e.ui=JSON.parse(JSON.stringify(e.ui||[])),wr(t,e,["proxyId","proxyGroup","proxyName"]),Tt(t,e,["proxyManager"]);var r={},n={};function i(s,l){n[l]||(n[l]=[]);for(var c=n[l],p=0;p<s.length;p++)c.push(s[p].name),r[s[p].name]=s[p],s[p].children&&s[p].children.length&&i(s[p].children,s[p].name)}i(e.ui,mi),t.updateUI=function(s){e.ui=JSON.parse(JSON.stringify(s||[])),Object.keys(r).forEach(function(l){return delete r[l]}),Object.keys(n).forEach(function(l){return delete n[l]}),i(e.ui,mi),t.modified()};function u(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mi;return n[s]}t.updateProxyProperty=function(s,l){var c=r[s];c?Object.assign(c,l):r[s]=uo({},l)},t.activate=function(){if(e.proxyManager){var s="setActive".concat(wt(t.getProxyGroup().slice(0,-1)));e.proxyManager[s]&&e.proxyManager[s](t)}},e.propertyLinkSubscribers={},t.registerPropertyLinkForGC=function(s,l){l in e.propertyLinkSubscribers||(e.propertyLinkSubscribers[l]=[]),e.propertyLinkSubscribers[l].push(s)},t.gcPropertyLinks=function(s){for(var l=e.propertyLinkSubscribers[s]||[];l.length;)l.pop().unbind(t)},e.propertyLinkMap={},t.getPropertyLink=function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.propertyLinkMap[s])return e.propertyLinkMap[s];var c=null,p=[],h=0,g=!1;function y(w){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(g)return null;var S=[],T=null;for(h=p.length;h--;){var _=p[h];_.instance===w?T=_:S.push(_)}if(!T)return null;var D=T.instance["get".concat(wt(T.propertyName))]();if(!C3(D,c)||C){for(c=D,g=!0;S.length;){var b=S.pop();b.instance.set(Se({},b.propertyName,c))}g=!1}return e.propertyLinkMap[s].persistent&&(e.propertyLinkMap[s].value=D),D}function m(w,C){var S=[];for(h=p.length;h--;){var T=p[h];T.instance===w&&(T.propertyName===C||C===void 0)&&(T.subscription.unsubscribe(),S.push(h))}for(;S.length;)p.splice(S.pop(),1)}function x(w,C){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,T=w.onModified(y),_=p[0];return p.push({instance:w,propertyName:C,subscription:T}),S&&(e.propertyLinkMap[s].persistent&&e.propertyLinkMap[s].value!==void 0?w.set(Se({},C,e.propertyLinkMap[s].value)):_&&y(_.instance,!0)),{unsubscribe:function(){return m(w,C)}}}function v(){for(;p.length;)p.pop().subscription.unsubscribe()}var d={bind:x,unbind:m,unsubscribe:v,persistent:l};return e.propertyLinkMap[s]=d,d};function o(){for(var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mi,l=[],c=e.proxyId,p=u(s)||[],h=0;h<p.length;h++){var g=p[h],y=t["get".concat(wt(g))],m=y?y():void 0,x={id:c,name:g,value:m},v=o(g);v.length&&(x.children=v),l.push(x)}return l}t.listPropertyNames=function(){return o().map(function(s){return s.name})},t.getPropertyByName=function(s){return o().find(function(l){return l.name===s})},t.getPropertyDomainByName=function(s){return(r[s]||{}).domain},t.getProxySection=function(){return{id:e.proxyId,name:e.proxyGroup,ui:e.ui,properties:o()}},t.delete=function(){for(var s=Object.keys(e.propertyLinkMap),l=s.length;l--;)e.propertyLinkMap[s[l]].unsubscribe();Object.keys(e.propertyLinkSubscribers).forEach(t.gcPropertyLinks),a()},t.getState=function(){return null};function f(){if(e.links)for(var s=0;s<e.links.length;s++){var l=e.links[s],c=l.link,p=l.property,h=l.persistent,g=l.updateOnBind,y=l.type;if(y==="application"){var m=e.proxyManager.getPropertyLink(c,h);t.registerPropertyLinkForGC(m,"application"),m.bind(t,p,g)}}}u1(f)}function N3(t,e,a){for(var r=t.delete,n=[],i=Object.keys(a),u=i.length;u--;){var o=i[u],f=a[o],s=f.modelKey,l=f.property,c=f.modified,p=c===void 0?!0:c,h=wt(l),g=wt(o);t["get".concat(g)]=e[s]["get".concat(h)],t["set".concat(g)]=e[s]["set".concat(h)],p&&n.push(e[s].onModified(t.modified))}t.delete=function(){for(;n.length;)n.pop().unsubscribe();r()}}function M3(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};e.this=t;function n(f){for(var s=Object.keys(f),l=s.length;l--;){var c=s[l];e[c].set(f[c])}}for(var i=Object.keys(r),u=i.length,o=function(){var s=i[u];e[s]=r[s];var l=a[s];t["set".concat(wt(s))]=function(c){if(c!==e[s]){e[s]=c;var p=l[c];n(p),t.modified()}}};u--;)o();i.length&&wr(t,e,i)}var oc=10,sc=40,uc=800;function R3(t){var e=0,a=0,r=0,n=0;return"detail"in t&&(a=t.detail),"wheelDelta"in t&&(a=-t.wheelDelta/120),"wheelDeltaY"in t&&(a=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=a,a=0),r=e*oc,n=a*oc,"deltaY"in t&&(n=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||n)&&t.deltaMode&&(t.deltaMode===1?(r*=sc,n*=sc):(r*=uc,n*=uc)),r&&!e&&(e=r<1?-1:1),n&&!a&&(a=n<1?-1:1),{spinX:e,spinY:a,pixelX:r,pixelY:n}}var U={algo:l1,capitalize:eu,chain:h1,debounce:o0,enumToString:S3,event:a0,EVENT_ABORT:p1,formatBytesToProperUnit:x3,formatNumbersWithThousandSeparator:w3,get:wr,getArray:Go,getCurrentGlobalMTime:p3,getStateArrayMapFunc:s1,isVtkObject:v1,keystore:g1,measurePromiseExecution:T3,moveToProtected:Po,newInstance:ot,newTypedArray:Vo,newTypedArrayFrom:Q0,normalizeWheel:R3,obj:vt,proxy:b3,proxyPropertyMapping:N3,proxyPropertyState:M3,safeArrays:o1,set:Uo,setArray:c1,setGet:Tt,setGetArray:f1,setImmediate:u1,setLoggerFunction:v3,throttle:E3,traverseInstanceTree:i0,TYPED_ARRAYS:Ut,uncapitalize:m3,VOID:l3,vtkDebugMacro:En,vtkErrorMacro:Ne,vtkInfoMacro:d3,vtkLogMacro:g3,vtkOnceErrorMacro:y3,vtkWarningMacro:ci},k3=U.vtkErrorMacro,L3=["Build","Render"];function F3(t,e){e.classHierarchy.push("vtkViewNode"),t.build=function(r){},t.render=function(r){},t.traverse=function(r){var n=r.getTraverseOperation(),i=t[n];if(i){i(r);return}t.apply(r,!0);for(var u=0;u<e.children.length;u++)e.children[u].traverse(r);t.apply(r,!1)},t.apply=function(r,n){var i=t[r.getOperation()];i&&i(n,r)},t.getViewNodeFor=function(r){if(e.renderable===r)return t;for(var n=0;n<e.children.length;++n){var i=e.children[n],u=i.getViewNodeFor(r);if(u)return u}},t.getFirstAncestorOfType=function(r){return e._parent?e._parent.isA(r)?e._parent:e._parent.getFirstAncestorOfType(r):null},t.addMissingNode=function(r){if(!!r){var n=e._renderableChildMap.get(r);if(n!==void 0)n.setVisited(!0);else{var i=t.createViewNode(r);i&&(i.setParent(t),i.setVisited(!0),e._renderableChildMap.set(r,i),e.children.push(i))}}},t.addMissingNodes=function(r){if(!(!r||!r.length))for(var n=0;n<r.length;++n){var i=r[n],u=e._renderableChildMap.get(i);if(u!==void 0)u.setVisited(!0);else{var o=t.createViewNode(i);o&&(o.setParent(t),o.setVisited(!0),e._renderableChildMap.set(i,o),e.children.push(o))}}},t.addMissingChildren=function(r){if(!(!r||!r.length))for(var n=0;n<r.length;++n){var i=r[n],u=e.children.indexOf(i);u===-1&&(i.setParent(t),e.children.push(i)),i.setVisited(!0)}},t.prepareNodes=function(){for(var r=0;r<e.children.length;++r)e.children[r].setVisited(!1)},t.setVisited=function(r){e.visited=r},t.removeUnusedNodes=function(){for(var r=null,n=0;n<e.children.length;++n){var i=e.children[n],u=i.getVisited();if(u)i.setVisited(!1);else{var o=i.getRenderable();o&&e._renderableChildMap.delete(o),r||(r=[]),r.push(i),i.delete()}}r&&(e.children=e.children.filter(function(f){return!r.includes(f)}))},t.createViewNode=function(r){if(!e.myFactory)return k3("Cannot create view nodes without my own factory"),null;var n=e.myFactory.createNode(r);return n&&n.setRenderable(r),n};var a=t.delete;t.delete=function(){for(var r=0;r<e.children.length;r++)e.children[r].delete();a()}}var A3={renderable:null,myFactory:null,children:[],visited:!1};function d1(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,A3,a),U.obj(t,e),U.event(t,e,"event"),e._renderableChildMap=new Map,U.get(t,e,["visited"]),U.setGet(t,e,["_parent","renderable","myFactory"]),U.getArray(t,e,["children"]),U.moveToProtected(t,e,["parent"]),F3(t,e)}var B3=U.newInstance(d1,"vtkViewNode"),Rt={newInstance:B3,extend:d1,PASS_TYPES:L3};function V3(t,e){e.overrides||(e.overrides={}),e.classHierarchy.push("vtkViewNodeFactory"),t.createNode=function(a){if(a.isDeleted())return null;for(var r=0,n=a.getClassName(r++),i=!1,u=Object.keys(e.overrides);n&&!i;)u.indexOf(n)!==-1?i=!0:n=a.getClassName(r++);if(!i)return null;var o=e.overrides[n]();return o.setMyFactory(t),o},t.registerOverride=function(a,r){e.overrides[a]=r}}var U3={};function y1(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,U3,a),U.obj(t,e),V3(t,e)}var G3=U.newInstance(y1,"vtkViewNodeFactory"),P3={newInstance:G3,extend:y1},m1=Object.create(null);function kt(t,e){m1[t]=e}function j3(t,e){e.classHierarchy.push("vtkOpenGLViewNodeFactory")}var z3={};function x1(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,z3,a),e.overrides=m1,P3.extend(t,e,a),j3(t,e)}var W3=U.newInstance(x1,"vtkOpenGLViewNodeFactory"),I3={newInstance:W3,extend:x1};function $3(t,e){e.classHierarchy.push("vtkOpenGLCamera"),t.buildPass=function(a){a&&(e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext())},t.opaquePass=function(a){if(a){var r=e._openGLRenderer.getTiledSizeAndOrigin();e.context.viewport(r.lowerLeftU,r.lowerLeftV,r.usize,r.vsize),e.context.scissor(r.lowerLeftU,r.lowerLeftV,r.usize,r.vsize)}},t.translucentPass=t.opaquePass,t.opaqueZBufferPass=t.opaquePass,t.volumePass=t.opaquePass,t.getKeyMatrices=function(a){if(a!==e.lastRenderer||e._openGLRenderWindow.getMTime()>e.keyMatrixTime.getMTime()||t.getMTime()>e.keyMatrixTime.getMTime()||a.getMTime()>e.keyMatrixTime.getMTime()||e.renderable.getMTime()>e.keyMatrixTime.getMTime()){Mt(e.keyMatrices.wcvc,e.renderable.getViewMatrix()),oi(e.keyMatrices.normalMatrix,e.keyMatrices.wcvc),si(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),Ke(e.keyMatrices.wcvc,e.keyMatrices.wcvc);var r=e._openGLRenderer.getAspectRatio();Mt(e.keyMatrices.vcpc,e.renderable.getProjectionMatrix(r,-1,1)),Ke(e.keyMatrices.vcpc,e.keyMatrices.vcpc),it(e.keyMatrices.wcpc,e.keyMatrices.vcpc,e.keyMatrices.wcvc),e.keyMatrixTime.modified(),e.lastRenderer=a}return e.keyMatrices}}var H3={context:null,lastRenderer:null,keyMatrixTime:null,keyMatrices:null};function K3(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,H3,a),Rt.extend(t,e,a),e.keyMatrixTime={},vt(e.keyMatrixTime),e.keyMatrices={normalMatrix:new Float64Array(9),vcpc:new Float64Array(16),wcvc:new Float64Array(16),wcpc:new Float64Array(16)},Tt(t,e,["context","keyMatrixTime"]),$3(t,e)}var X3=ot(K3);kt("vtkCamera",X3);var q3=En;function Y3(t,e){e.classHierarchy.push("vtkOpenGLRenderer"),t.buildPass=function(a){if(a){if(!e.renderable)return;t.updateLights(),t.prepareNodes(),t.addMissingNode(e.renderable.getActiveCamera()),t.addMissingNodes(e.renderable.getViewPropsWithNestedProps()),t.removeUnusedNodes()}},t.updateLights=function(){for(var a=0,r=e.renderable.getLightsByReference(),n=0;n<r.length;++n)r[n].getSwitch()>0&&a++;return a||(q3("No lights are on, creating one."),e.renderable.createLight()),a},t.opaqueZBufferPass=function(a){if(a){var r=0,n=e.context;e.renderable.getTransparent()||(e.context.clearColor(1,0,0,1),r|=n.COLOR_BUFFER_BIT),e.renderable.getPreserveDepthBuffer()||(n.clearDepth(1),r|=n.DEPTH_BUFFER_BIT,e.context.depthMask(!0));var i=t.getTiledSizeAndOrigin();n.enable(n.SCISSOR_TEST),n.scissor(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),n.viewport(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),n.colorMask(!0,!0,!0,!0),r&&n.clear(r),n.enable(n.DEPTH_TEST)}},t.cameraPass=function(a){a&&t.clear()},t.getAspectRatio=function(){var a=e._parent.getSizeByReference(),r=e.renderable.getViewportByReference();return a[0]*(r[2]-r[0])/((r[3]-r[1])*a[1])},t.getTiledSizeAndOrigin=function(){var a=e.renderable.getViewportByReference(),r=[0,0,1,1],n=a[0]-r[0],i=a[1]-r[1],u=e._parent.normalizedDisplayToDisplay(n,i),o=Math.round(u[0]),f=Math.round(u[1]),s=a[2]-r[0],l=a[3]-r[1],c=e._parent.normalizedDisplayToDisplay(s,l),p=Math.round(c[0])-o,h=Math.round(c[1])-f;return p<0&&(p=0),h<0&&(h=0),{usize:p,vsize:h,lowerLeftU:o,lowerLeftV:f}},t.clear=function(){var a=0,r=e.context;if(!e.renderable.getTransparent()){var n=e.renderable.getBackgroundByReference();e.context.clearColor(n[0],n[1],n[2],n[3]),a|=r.COLOR_BUFFER_BIT}e.renderable.getPreserveDepthBuffer()||(r.clearDepth(1),a|=r.DEPTH_BUFFER_BIT,e.context.depthMask(!0)),r.colorMask(!0,!0,!0,!0);var i=t.getTiledSizeAndOrigin();r.enable(r.SCISSOR_TEST),r.scissor(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),r.viewport(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),a&&r.clear(a),r.enable(r.DEPTH_TEST)},t.releaseGraphicsResources=function(){e.selector!==null&&e.selector.releaseGraphicsResources()},t.setOpenGLRenderWindow=function(a){e._openGLRenderWindow!==a&&(t.releaseGraphicsResources(),e._openGLRenderWindow=a,e.context=null,a&&(e.context=e._openGLRenderWindow.getContext()))}}var J3={context:null,selector:null};function Z3(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,J3,a),Rt.extend(t,e,a),wr(t,e,["shaderCache"]),Tt(t,e,["selector"]),Po(t,e,["openGLRenderWindow"]),Y3(t,e)}var Q3=ot(Z3,"vtkOpenGLRenderer");kt("vtkRenderer",Q3);var ey={NONE:-1,I:0,J:1,K:2,X:3,Y:4,Z:5},tu={SlicingMode:ey},jo={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},at={VOID:"",CHAR:"Int8Array",SIGNED_CHAR:"Int8Array",UNSIGNED_CHAR:"Uint8Array",SHORT:"Int16Array",UNSIGNED_SHORT:"Uint16Array",INT:"Int32Array",UNSIGNED_INT:"Uint32Array",FLOAT:"Float32Array",DOUBLE:"Float64Array"},ty=at.FLOAT,w1={DefaultDataType:ty,DataTypeByteSize:jo,VtkDataTypes:at},C1={exports:{}};(function(t){(function(e,a,r){function n(f){var s=this,l=o();s.next=function(){var c=2091639*s.s0+s.c*23283064365386963e-26;return s.s0=s.s1,s.s1=s.s2,s.s2=c-(s.c=c|0)},s.c=1,s.s0=l(" "),s.s1=l(" "),s.s2=l(" "),s.s0-=l(f),s.s0<0&&(s.s0+=1),s.s1-=l(f),s.s1<0&&(s.s1+=1),s.s2-=l(f),s.s2<0&&(s.s2+=1),l=null}function i(f,s){return s.c=f.c,s.s0=f.s0,s.s1=f.s1,s.s2=f.s2,s}function u(f,s){var l=new n(f),c=s&&s.state,p=l.next;return p.int32=function(){return l.next()*4294967296|0},p.double=function(){return p()+(p()*2097152|0)*11102230246251565e-32},p.quick=p,c&&(typeof c=="object"&&i(c,l),p.state=function(){return i(l,{})}),p}function o(){var f=4022871197,s=function(l){l=String(l);for(var c=0;c<l.length;c++){f+=l.charCodeAt(c);var p=.02519603282416938*f;f=p>>>0,p-=f,p*=f,f=p>>>0,p-=f,f+=p*4294967296}return(f>>>0)*23283064365386963e-26};return s}a&&a.exports?a.exports=u:r&&r.amd?r(function(){return u}):this.alea=u})($t,t,!1)})(C1);var S1={exports:{}};(function(t){(function(e,a,r){function n(o){var f=this,s="";f.x=0,f.y=0,f.z=0,f.w=0,f.next=function(){var c=f.x^f.x<<11;return f.x=f.y,f.y=f.z,f.z=f.w,f.w^=f.w>>>19^c^c>>>8},o===(o|0)?f.x=o:s+=o;for(var l=0;l<s.length+64;l++)f.x^=s.charCodeAt(l)|0,f.next()}function i(o,f){return f.x=o.x,f.y=o.y,f.z=o.z,f.w=o.w,f}function u(o,f){var s=new n(o),l=f&&f.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var p=s.next()>>>11,h=(s.next()>>>0)/4294967296,g=(p+h)/(1<<21);while(g===0);return g},c.int32=s.next,c.quick=c,l&&(typeof l=="object"&&i(l,s),c.state=function(){return i(s,{})}),c}a&&a.exports?a.exports=u:r&&r.amd?r(function(){return u}):this.xor128=u})($t,t,!1)})(S1);var T1={exports:{}};(function(t){(function(e,a,r){function n(o){var f=this,s="";f.next=function(){var c=f.x^f.x>>>2;return f.x=f.y,f.y=f.z,f.z=f.w,f.w=f.v,(f.d=f.d+362437|0)+(f.v=f.v^f.v<<4^(c^c<<1))|0},f.x=0,f.y=0,f.z=0,f.w=0,f.v=0,o===(o|0)?f.x=o:s+=o;for(var l=0;l<s.length+64;l++)f.x^=s.charCodeAt(l)|0,l==s.length&&(f.d=f.x<<10^f.x>>>4),f.next()}function i(o,f){return f.x=o.x,f.y=o.y,f.z=o.z,f.w=o.w,f.v=o.v,f.d=o.d,f}function u(o,f){var s=new n(o),l=f&&f.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var p=s.next()>>>11,h=(s.next()>>>0)/4294967296,g=(p+h)/(1<<21);while(g===0);return g},c.int32=s.next,c.quick=c,l&&(typeof l=="object"&&i(l,s),c.state=function(){return i(s,{})}),c}a&&a.exports?a.exports=u:r&&r.amd?r(function(){return u}):this.xorwow=u})($t,t,!1)})(T1);var _1={exports:{}};(function(t){(function(e,a,r){function n(o){var f=this;f.next=function(){var l=f.x,c=f.i,p,h;return p=l[c],p^=p>>>7,h=p^p<<24,p=l[c+1&7],h^=p^p>>>10,p=l[c+3&7],h^=p^p>>>3,p=l[c+4&7],h^=p^p<<7,p=l[c+7&7],p=p^p<<13,h^=p^p<<9,l[c]=h,f.i=c+1&7,h};function s(l,c){var p,h=[];if(c===(c|0))h[0]=c;else for(c=""+c,p=0;p<c.length;++p)h[p&7]=h[p&7]<<15^c.charCodeAt(p)+h[p+1&7]<<13;for(;h.length<8;)h.push(0);for(p=0;p<8&&h[p]===0;++p);for(p==8?h[7]=-1:h[p],l.x=h,l.i=0,p=256;p>0;--p)l.next()}s(f,o)}function i(o,f){return f.x=o.x.slice(),f.i=o.i,f}function u(o,f){o==null&&(o=+new Date);var s=new n(o),l=f&&f.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var p=s.next()>>>11,h=(s.next()>>>0)/4294967296,g=(p+h)/(1<<21);while(g===0);return g},c.int32=s.next,c.quick=c,l&&(l.x&&i(l,s),c.state=function(){return i(s,{})}),c}a&&a.exports?a.exports=u:r&&r.amd?r(function(){return u}):this.xorshift7=u})($t,t,!1)})(_1);var D1={exports:{}};(function(t){(function(e,a,r){function n(o){var f=this;f.next=function(){var l=f.w,c=f.X,p=f.i,h,g;return f.w=l=l+1640531527|0,g=c[p+34&127],h=c[p=p+1&127],g^=g<<13,h^=h<<17,g^=g>>>15,h^=h>>>12,g=c[p]=g^h,f.i=p,g+(l^l>>>16)|0};function s(l,c){var p,h,g,y,m,x=[],v=128;for(c===(c|0)?(h=c,c=null):(c=c+"\0",h=0,v=Math.max(v,c.length)),g=0,y=-32;y<v;++y)c&&(h^=c.charCodeAt((y+32)%c.length)),y===0&&(m=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,y>=0&&(m=m+1640531527|0,p=x[y&127]^=h+m,g=p==0?g+1:0);for(g>=128&&(x[(c&&c.length||0)&127]=-1),g=127,y=4*128;y>0;--y)h=x[g+34&127],p=x[g=g+1&127],h^=h<<13,p^=p<<17,h^=h>>>15,p^=p>>>12,x[g]=h^p;l.w=m,l.X=x,l.i=g}s(f,o)}function i(o,f){return f.i=o.i,f.w=o.w,f.X=o.X.slice(),f}function u(o,f){o==null&&(o=+new Date);var s=new n(o),l=f&&f.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var p=s.next()>>>11,h=(s.next()>>>0)/4294967296,g=(p+h)/(1<<21);while(g===0);return g},c.int32=s.next,c.quick=c,l&&(l.X&&i(l,s),c.state=function(){return i(s,{})}),c}a&&a.exports?a.exports=u:r&&r.amd?r(function(){return u}):this.xor4096=u})($t,t,!1)})(D1);var E1={exports:{}};(function(t){(function(e,a,r){function n(o){var f=this,s="";f.next=function(){var c=f.b,p=f.c,h=f.d,g=f.a;return c=c<<25^c>>>7^p,p=p-h|0,h=h<<24^h>>>8^g,g=g-c|0,f.b=c=c<<20^c>>>12^p,f.c=p=p-h|0,f.d=h<<16^p>>>16^g,f.a=g-c|0},f.a=0,f.b=0,f.c=-1640531527,f.d=1367130551,o===Math.floor(o)?(f.a=o/4294967296|0,f.b=o|0):s+=o;for(var l=0;l<s.length+20;l++)f.b^=s.charCodeAt(l)|0,f.next()}function i(o,f){return f.a=o.a,f.b=o.b,f.c=o.c,f.d=o.d,f}function u(o,f){var s=new n(o),l=f&&f.state,c=function(){return(s.next()>>>0)/4294967296};return c.double=function(){do var p=s.next()>>>11,h=(s.next()>>>0)/4294967296,g=(p+h)/(1<<21);while(g===0);return g},c.int32=s.next,c.quick=c,l&&(typeof l=="object"&&i(l,s),c.state=function(){return i(s,{})}),c}a&&a.exports?a.exports=u:r&&r.amd?r(function(){return u}):this.tychei=u})($t,t,!1)})(E1);var O1={exports:{}};(function(t){(function(e,a,r){var n=256,i=6,u=52,o="random",f=r.pow(n,i),s=r.pow(2,u),l=s*2,c=n-1,p;function h(w,C,S){var T=[];C=C==!0?{entropy:!0}:C||{};var _=x(m(C.entropy?[w,d(a)]:w==null?v():w,3),T),D=new g(T),b=function(){for(var E=D.g(i),N=f,R=0;E<s;)E=(E+R)*n,N*=n,R=D.g(1);for(;E>=l;)E/=2,N/=2,R>>>=1;return(E+R)/N};return b.int32=function(){return D.g(4)|0},b.quick=function(){return D.g(4)/4294967296},b.double=b,x(d(D.S),a),(C.pass||S||function(E,N,R,M){return M&&(M.S&&y(M,D),E.state=function(){return y(D,{})}),R?(r[o]=E,N):E})(b,_,"global"in C?C.global:this==r,C.state)}function g(w){var C,S=w.length,T=this,_=0,D=T.i=T.j=0,b=T.S=[];for(S||(w=[S++]);_<n;)b[_]=_++;for(_=0;_<n;_++)b[_]=b[D=c&D+w[_%S]+(C=b[_])],b[D]=C;(T.g=function(E){for(var N,R=0,M=T.i,G=T.j,j=T.S;E--;)N=j[M=c&M+1],R=R*n+j[c&(j[M]=j[G=c&G+N])+(j[G]=N)];return T.i=M,T.j=G,R})(n)}function y(w,C){return C.i=w.i,C.j=w.j,C.S=w.S.slice(),C}function m(w,C){var S=[],T=typeof w,_;if(C&&T=="object")for(_ in w)try{S.push(m(w[_],C-1))}catch{}return S.length?S:T=="string"?w:w+"\0"}function x(w,C){for(var S=w+"",T,_=0;_<S.length;)C[c&_]=c&(T^=C[c&_]*19)+S.charCodeAt(_++);return d(C)}function v(){try{var w;return p&&(w=p.randomBytes)?w=w(n):(w=new Uint8Array(n),(e.crypto||e.msCrypto).getRandomValues(w)),d(w)}catch{var C=e.navigator,S=C&&C.plugins;return[+new Date,e,S,e.screen,d(a)]}}function d(w){return String.fromCharCode.apply(0,w)}if(x(r.random(),a),t.exports){t.exports=h;try{p=require("crypto")}catch{}}else r["seed"+o]=h})(typeof self!="undefined"?self:$t,[],Math)})(O1);var ry=C1.exports,ny=S1.exports,ay=T1.exports,iy=_1.exports,oy=D1.exports,sy=E1.exports,pa=O1.exports;pa.alea=ry;pa.xor128=ny;pa.xorwow=ay;pa.xorshift7=iy;pa.xor4096=oy;pa.tychei=sy;var uy=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],cy=1e-6,fy=1e-12,cc=U.vtkWarningMacro;function s0(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3,e=Array(t),a=0;a<t;++a)e[a]=0;return e}function nt(t){return t/180*Math.PI}function co(t){return t*180/Math.PI}var Xr=Math.round,fo=Math.floor;function ly(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=1/0,n=-1/0,i=e,u=t.length;i<u;i+=a)t[i]<r&&(r=t[i]),n<t[i]&&(n=t[i]);return[r,n]}function sr(t){for(var e=1;e<t;)e*=2;return e}function xi(t){return t===sr(t)}function cs(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,a=e-t;return t+a*Math.random()}function lo(t,e,a){return a[0]=t[0]+e[0],a[1]=t[1]+e[1],a[2]=t[2]+e[2],a}function ht(t,e,a){return a[0]=t[0]-e[0],a[1]=t[1]-e[1],a[2]=t[2]-e[2],a}function b1(t,e){return t[0]*=e,t[1]*=e,t[2]*=e,t}function fc(t,e,a,r){return r[0]=t[0]+e[0]*a,r[1]=t[1]+e[1]*a,r[2]=t[2]+e[2]*a,r}function Me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Nt(t,e,a){var r=t[1]*e[2]-t[2]*e[1],n=t[2]*e[0]-t[0]*e[2],i=t[0]*e[1]-t[1]*e[0];return a[0]=r,a[1]=n,a[2]=i,a}function On(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;switch(e){case 1:return Math.abs(t);case 2:return Math.sqrt(t[0]*t[0]+t[1]*t[1]);case 3:return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);default:{for(var a=0,r=0;r<e;r++)a+=t[r]*t[r];return Math.sqrt(a)}}}function ut(t){var e=On(t);return e!==0&&(t[0]/=e,t[1]/=e,t[2]/=e),e}function Yt(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])+(t[2]-e[2])*(t[2]-e[2])}function py(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function hy(t){var e=py(t);return e!==0&&(t[0]/=e,t[1]/=e),e}function Zi(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return e.length===2?e[0][0]*e[1][1]-e[1][0]*e[0][1]:e.length===4?e[0]*e[3]-e[1]*e[2]:Number.NaN}function wi(t,e,a){var r=t[0]*e[0]+t[1]*e[1]+t[2]*e[2],n=t[3]*e[0]+t[4]*e[1]+t[5]*e[2],i=t[6]*e[0]+t[7]*e[1]+t[8]*e[2];a[0]=r,a[1]=n,a[2]=i}function vy(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cy;if(t.length!==e.length)return!1;function r(n,i){return Math.abs(n-e[i])<=a}return t.every(r)}var N1=vy;function fs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!"".concat(t).includes("e"))return+"".concat(Math.round("".concat(t,"e+").concat(e)),"e-").concat(e);var a="".concat(t).split("e"),r="";return+a[1]+e>0&&(r="+"),+"".concat(Math.round("".concat(+a[0],"e").concat(r).concat(+a[1]+e)),"e-").concat(e)}function lc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return e[0]=fs(t[0],a),e[1]=fs(t[1],a),e[2]=fs(t[2],a),e}function gy(t,e,a){var r,n,i,u,o=0,f,s,l,c=s0(a);for(r=0;r<a;r++){for(u=0,n=0;n<a;n++)(l=Math.abs(t[r*a+n]))>u&&(u=l);if(u===0)return cc("Unable to factor linear system"),0;c[r]=1/u}for(n=0;n<a;n++){for(r=0;r<n;r++){for(f=t[r*a+n],i=0;i<r;i++)f-=t[r*a+i]*t[i*a+n];t[r*a+n]=f}for(u=0,r=n;r<a;r++){for(f=t[r*a+n],i=0;i<n;i++)f-=t[r*a+i]*t[i*a+n];t[r*a+n]=f,(s=c[r]*Math.abs(f))>=u&&(u=s,o=r)}if(n!==o){for(i=0;i<a;i++)s=t[o*a+i],t[o*a+i]=t[n*a+i],t[n*a+i]=s;c[o]=c[n]}if(e[n]=o,Math.abs(t[n*a+n])<=fy)return cc("Unable to factor linear system"),0;if(n!==a-1)for(s=1/t[n*a+n],r=n+1;r<a;r++)t[r*a+n]*=s}return 1}function dy(t,e,a,r){var n,i,u,o,f;for(u=-1,n=0;n<r;n++){if(o=e[n],f=a[o],a[o]=a[n],u>=0)for(i=u;i<=n-1;i++)f-=t[n*r+i]*a[i];else f!==0&&(u=n);a[n]=f}for(n=r-1;n>=0;n--){for(f=a[n],i=n+1;i<r;i++)f-=t[n*r+i]*a[i];a[n]=f/t[n*r+n]}}function yy(t,e,a){if(a===2){var r=s0(2),n=Zi(t[0],t[1],t[2],t[3]);return n===0?0:(r[0]=(t[3]*e[0]-t[1]*e[1])/n,r[1]=(-(t[2]*e[0])+t[0]*e[1])/n,e[0]=r[0],e[1]=r[1],1)}if(a===1)return t[0]===0?0:(e[0]/=t[0],1);var i=s0(a);return gy(t,i,a)===0?0:(dy(t,i,e,a),1)}function Ci(t,e){var a,r,n=ze(t,3),i=n[0],u=n[1],o=n[2],f=1/3,s=1/6,l=2/3,c=i,p=i;u>c?c=u:u<p&&(p=u),o>c?c=o:o<p&&(p=o);var h=c;h>0?r=(c-p)/c:r=0,r>0?(i===c?a=s*(u-o)/(c-p):u===c?a=f+s*(o-i)/(c-p):a=l+s*(i-u)/(c-p),a<0&&(a+=1)):a=0,e[0]=a,e[1]=r,e[2]=h}function Pn(t,e){var a=ze(t,3),r=a[0],n=a[1],i=a[2],u=1/3,o=1/6,f=2/3,s=5/6,l,c,p;r>o&&r<=u?(c=1,l=(u-r)/o,p=0):r>u&&r<=.5?(c=1,p=(r-u)/o,l=0):r>.5&&r<=f?(p=1,c=(f-r)/o,l=0):r>f&&r<=s?(p=1,l=(r-f)/o,c=0):r>s&&r<=1?(l=1,p=(1-r)/o,c=0):(l=1,c=r/o,p=0),l=n*l+(1-n),c=n*c+(1-n),p=n*p+(1-n),l*=i,c*=i,p*=i,e[0]=l,e[1]=c,e[2]=p}function my(t,e){var a=ze(t,3),r=a[0],n=a[1],i=a[2],u=(r+16)/116,o=n/500+u,f=u-i/200;Math.pow(u,3)>.008856?u=Math.pow(u,3):u=(u-16/116)/7.787,Math.pow(o,3)>.008856?o=Math.pow(o,3):o=(o-16/116)/7.787,Math.pow(f,3)>.008856?f=Math.pow(f,3):f=(f-16/116)/7.787;var s=.9505,l=1,c=1.089;e[0]=s*o,e[1]=l*u,e[2]=c*f}function xy(t,e){var a=ze(t,3),r=a[0],n=a[1],i=a[2],u=.9505,o=1,f=1.089,s=r/u,l=n/o,c=i/f;s>.008856?s=Math.pow(s,1/3):s=7.787*s+16/116,l>.008856?l=Math.pow(l,1/3):l=7.787*l+16/116,c>.008856?c=Math.pow(c,1/3):c=7.787*c+16/116,e[0]=116*l-16,e[1]=500*(s-l),e[2]=200*(l-c)}function wy(t,e){var a=ze(t,3),r=a[0],n=a[1],i=a[2],u=r*3.2406+n*-1.5372+i*-.4986,o=r*-.9689+n*1.8758+i*.0415,f=r*.0557+n*-.204+i*1.057;u>.0031308?u=1.055*Math.pow(u,1/2.4)-.055:u*=12.92,o>.0031308?o=1.055*Math.pow(o,1/2.4)-.055:o*=12.92,f>.0031308?f=1.055*Math.pow(f,1/2.4)-.055:f*=12.92;var s=u;s<o&&(s=o),s<f&&(s=f),s>1&&(u/=s,o/=s,f/=s),u<0&&(u=0),o<0&&(o=0),f<0&&(f=0),e[0]=u,e[1]=o,e[2]=f}function Cy(t,e){var a=ze(t,3),r=a[0],n=a[1],i=a[2];r>.04045?r=Math.pow((r+.055)/1.055,2.4):r/=12.92,n>.04045?n=Math.pow((n+.055)/1.055,2.4):n/=12.92,i>.04045?i=Math.pow((i+.055)/1.055,2.4):i/=12.92,e[0]=r*.4124+n*.3576+i*.1805,e[1]=r*.2126+n*.7152+i*.0722,e[2]=r*.0193+n*.1192+i*.9505}function Hn(t,e){var a=[0,0,0];Cy(t,a),xy(a,e)}function u0(t,e){var a=[0,0,0];my(t,a),wy(a,e)}function ha(t){return t[0]=1,t[1]=-1,t[2]=1,t[3]=-1,t[4]=1,t[5]=-1,t}function ls(t){return!(t[1]-t[0]<0)}function yr(t,e,a){return t<e?e:t>a?a:t}function pc(t,e,a){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0,0,0];return r[0]=yr(t[0],e[0],a[0]),r[1]=yr(t[1],e[1],a[1]),r[2]=yr(t[2],e[2],a[2]),r}var Sy=function(e){return!Number.isFinite(e)},Ty=Number.isNaN,po=Ty;function na(){return[].concat([Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE])}function hc(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function ho(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?hc(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):hc(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var _y=Ne,Dy=w1.DefaultDataType;function c0(t,e,a){var r=t.length,n,i,u,o;if(r===0)return{min:Number.MAX_VALUE,max:-Number.MAX_VALUE};for(n=t[e],i=n,o=e;o<r;o+=a)u=t[o],u<n?n=u:u>i&&(i=u);return{min:n,max:i}}function Ey(){var t=Number.MAX_VALUE,e=-Number.MAX_VALUE,a=0,r=0;return{add:function(i){t>i&&(t=i),e<i&&(e=i),a++,r+=i},get:function(){return{min:t,max:e,count:a,sum:r,mean:r/a}},getRange:function(){return{min:t,max:e}}}}function M1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(e<0&&a>1){for(var r=t.length,n=r/a,i=new Float64Array(n),u=0,o=0;u<n;++u){for(var f,s=o+a;o<s;++o)i[u]+=t[o]*t[o];f=u,i[f]=Math.pow(i[f],.5)}return c0(i,0,1)}return c0(t,e<0?0:e,a)}function vc(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=t||[];a.length<=e;)a.push(null);return a}function ru(t){return Object.prototype.toString.call(t).slice(8,-1)}function Oy(t){for(var e=t.getNumberOfComponents(),a=0,r=new Array(e),n=0;n<t.getNumberOfTuples();++n){t.getTuple(n,r);var i=On(r,e);i>a&&(a=i)}return a}var by={computeRange:M1,createRangeHelper:Ey,fastComputeRange:c0,getDataType:ru,getMaxNorm:Oy};function Ny(t,e){e.classHierarchy.push("vtkDataArray");function a(){e.ranges=null,t.modified()}function r(n){if(n<0)return!1;var i=t.getNumberOfComponents(),u=e.values.length/(i>0?i:1);if(n===u)return!0;if(n>u){var o=e.values;return e.values=Vo(e.dataType,(n+u)*i),e.values.set(o),!0}return e.size>n*i&&(e.size=n*i,a()),!0}t.resize=function(n){r(n);var i=n*t.getNumberOfComponents();return e.size!==i?(e.size=i,a(),!0):!1},t.initialize=function(){t.resize(0)},t.getElementComponentSize=function(){return e.values.BYTES_PER_ELEMENT},t.getComponent=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.values[n*e.numberOfComponents+i]},t.setComponent=function(n,i,u){u!==e.values[n*e.numberOfComponents+i]&&(e.values[n*e.numberOfComponents+i]=u,a())},t.getValue=function(n){var i=n/e.numberOfComponents,u=n%e.numberOfComponents;return t.getComponent(i,u)},t.setValue=function(n,i){var u=n/e.numberOfComponents,o=n%e.numberOfComponents;t.setComponent(u,o,i)},t.getData=function(){return e.size===e.values.length?e.values:e.values.subarray(0,e.size)},t.getRange=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,i=n<0?e.numberOfComponents:n,u=null;return e.ranges||(e.ranges=vc(e.ranges,e.numberOfComponents)),u=e.ranges[i],u?(e.rangeTuple[0]=u.min,e.rangeTuple[1]=u.max,e.rangeTuple):(u=M1(t.getData(),n,e.numberOfComponents),e.ranges[i]=u,e.rangeTuple[0]=u.min,e.rangeTuple[1]=u.max,e.rangeTuple)},t.setRange=function(n,i){e.ranges||(e.ranges=vc(e.ranges,e.numberOfComponents));var u={min:n.min,max:n.max};return e.ranges[i]=u,e.rangeTuple[0]=u.min,e.rangeTuple[1]=u.max,e.rangeTuple},t.setTuple=function(n,i){for(var u=n*e.numberOfComponents,o=0;o<e.numberOfComponents;o++)e.values[u+o]=i[o]},t.setTuples=function(n,i){for(var u=n*e.numberOfComponents,o=Math.min(i.length,e.size-u),f=0;f<o;)e.values[u++]=i[f++]},t.insertTuple=function(n,i){return e.size<=n*e.numberOfComponents&&(e.size=(n+1)*e.numberOfComponents,r(n+1)),t.setTuple(n,i),n},t.insertTuples=function(n,i){var u=n+i.length/e.numberOfComponents;return e.size<u*e.numberOfComponents&&(e.size=u*e.numberOfComponents,r(u)),t.setTuples(n,i),u},t.insertNextTuple=function(n){var i=e.size/e.numberOfComponents;return t.insertTuple(i,n)},t.insertNextTuples=function(n){var i=e.size/e.numberOfComponents;return t.insertTuples(i,n)},t.getTuple=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],u=e.numberOfComponents||1,o=n*u;switch(u){case 4:i[3]=e.values[o+3];case 3:i[2]=e.values[o+2];case 2:i[1]=e.values[o+1];case 1:i[0]=e.values[o];break;default:for(var f=u-1;f>=0;--f)i[f]=e.values[o+f]}return i},t.getTuples=function(n,i){var u=(n!=null?n:0)*e.numberOfComponents,o=(i!=null?i:t.getNumberOfTuples())*e.numberOfComponents,f=t.getData().subarray(u,o);return f.length>0?f:null},t.getTupleLocation=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return n*e.numberOfComponents},t.getNumberOfComponents=function(){return e.numberOfComponents},t.getNumberOfValues=function(){return e.size},t.getNumberOfTuples=function(){return e.size/e.numberOfComponents},t.getDataType=function(){return e.dataType},t.newClone=function(){return k1({empty:!0,name:e.name,dataType:e.dataType,numberOfComponents:e.numberOfComponents})},t.getName=function(){return e.name||(t.modified(),e.name="vtkDataArray".concat(t.getMTime())),e.name},t.setData=function(n,i){e.values=n,e.size=n.length,e.dataType=ru(n),i&&(e.numberOfComponents=i),e.size%e.numberOfComponents!==0&&(e.numberOfComponents=1),a()},t.getState=function(){if(e.deleted)return null;var n=ho(ho({},e),{},{vtkClass:t.getClassName()});n.values=Array.from(n.values),delete n.buffer,Object.keys(n).forEach(function(u){n[u]||delete n[u]});var i={};return Object.keys(n).sort().forEach(function(u){i[u]=n[u]}),i.mtime&&delete i.mtime,i},t.deepCopy=function(n){t.shallowCopy(n),t.setData(n.getData().slice())},t.interpolateTuple=function(n,i,u,o,f,s){var l=e.numberOfComponents||1;(l!==i.getNumberOfComponents()||l!==o.getNumberOfComponents())&&_y("numberOfComponents must match");var c=i.getTuple(u),p=o.getTuple(f),h=[];switch(h.length=l,l){case 4:h[3]=c[3]+(p[3]-c[3])*s;case 3:h[2]=c[2]+(p[2]-c[2])*s;case 2:h[1]=c[1]+(p[1]-c[1])*s;case 1:h[0]=c[0]+(p[0]-c[0])*s;break;default:for(var g=0;g<l;g++)h[g]=c[g]+(p[g]-c[g])*s}return t.insertTuple(n,h)}}var My={name:"",numberOfComponents:1,dataType:Dy,rangeTuple:[0,0]};function R1(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,My,a),!e.empty&&!e.values&&!e.size)throw new TypeError("Cannot create vtkDataArray object without: size > 0, values");if(e.values?Array.isArray(e.values)&&(e.values=Q0(e.dataType,e.values)):e.values=Vo(e.dataType,e.size),e.values){var r;e.size=(r=e.size)!==null&&r!==void 0?r:e.values.length,e.dataType=ru(e.values)}vt(t,e),Uo(t,e,["name","numberOfComponents"]),Ny(t,e)}var k1=ot(R1,"vtkDataArray"),we=ho(ho({newInstance:k1,extend:R1},by),w1),ja={ARRAY_BUFFER:0,ELEMENT_ARRAY_BUFFER:1,TEXTURE_BUFFER:2},L1={ObjectType:ja};function gc(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function dc(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?gc(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):gc(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var Qi=L1.ObjectType,Ry={};function ky(t,e){e.classHierarchy.push("vtkOpenGLBufferObject");function a(o){switch(o){case Qi.ELEMENT_ARRAY_BUFFER:return e.context.ELEMENT_ARRAY_BUFFER;case Qi.TEXTURE_BUFFER:if("TEXTURE_BUFFER"in e.context)return e.context.TEXTURE_BUFFER;case Qi.ARRAY_BUFFER:default:return e.context.ARRAY_BUFFER}}var r=null,n=null,i=!0,u="";t.getType=function(){return r},t.setType=function(o){r=o},t.getHandle=function(){return n},t.isReady=function(){return i===!1},t.generateBuffer=function(o){var f=a(o);return n===null&&(n=e.context.createBuffer(),r=o),a(r)===f},t.upload=function(o,f){var s=t.generateBuffer(f);return s?(e.context.bindBuffer(a(r),n),e.context.bufferData(a(r),o,e.context.STATIC_DRAW),i=!1,!0):(u="Trying to upload array buffer to incompatible buffer.",!1)},t.bind=function(){return n?(e.context.bindBuffer(a(r),n),!0):!1},t.release=function(){return n?(e.context.bindBuffer(a(r),null),!0):!1},t.releaseGraphicsResources=function(){n!==null&&(e.context.bindBuffer(a(r),null),e.context.deleteBuffer(n),n=null)},t.setOpenGLRenderWindow=function(o){e._openGLRenderWindow!==o&&(t.releaseGraphicsResources(),e._openGLRenderWindow=o,e.context=null,o&&(e.context=e._openGLRenderWindow.getContext()))},t.getError=function(){return u}}var Ly={objectType:Qi.ARRAY_BUFFER,context:null};function F1(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Ly,a),U.obj(t,e),U.get(t,e,["_openGLRenderWindow"]),U.moveToProtected(t,e,["openGLRenderWindow"]),ky(t,e)}var Fy=U.newInstance(F1),vn=dc(dc({newInstance:Fy,extend:F1},Ry),L1),A1={FLAT:0,GOURAUD:1,PHONG:2},Pt={POINTS:0,WIREFRAME:1,SURFACE:2},Ay=A1,nu={Shading:A1,Representation:Pt,Interpolation:Ay},yc=U.vtkErrorMacro;function By(t,e){var a=new Float64Array(3);Wl(a,e);var r=new Float64Array(16);return Rl(r,Tn(),t,a),r}function Vy(t,e){return t===null||e===null?!1:!(Yn(t,[0,0,0])&&Yn(e,[1,1,1]))}function Uy(t,e){e.classHierarchy.push("vtkOpenGLCellArrayBufferObject"),t.setType(ja.ARRAY_BUFFER),t.createVBO=function(a,r,n,i){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!a.getData()||!a.getData().length)return e.elementCount=0,0;e.blockSize=3,e.vertexOffset=0,e.normalOffset=0,e.tCoordOffset=0,e.tCoordComponents=0,e.colorComponents=0,e.colorOffset=0,e.customData=[];var o=i.points.getData(),f=null,s=null,l=null,c=i.colors?i.colors.getNumberOfComponents():0,p=i.tcoords?i.tcoords.getNumberOfComponents():0;i.normals&&(e.normalOffset=4*e.blockSize,e.blockSize+=3,f=i.normals.getData()),i.customAttributes&&i.customAttributes.forEach(function(A){A&&(e.customData.push({data:A.getData(),offset:4*e.blockSize,components:A.getNumberOfComponents(),name:A.getName()}),e.blockSize+=A.getNumberOfComponents())}),i.tcoords&&(e.tCoordOffset=4*e.blockSize,e.tCoordComponents=p,e.blockSize+=p,s=i.tcoords.getData()),i.colors?(e.colorComponents=i.colors.getNumberOfComponents(),e.colorOffset=0,l=i.colors.getData(),e.colorBO||(e.colorBO=vn.newInstance()),e.colorBO.setOpenGLRenderWindow(e._openGLRenderWindow)):e.colorBO=null,e.stride=4*e.blockSize;var h=0,g=0,y=0,m=0,x=0,v=0,d,w={anythingToPoints:function(F,P,I){for(var W=0;W<F;++W)d(P[I+W])},linesToWireframe:function(F,P,I){for(var W=0;W<F-1;++W)d(P[I+W]),d(P[I+W+1])},polysToWireframe:function(F,P,I){if(F>2)for(var W=0;W<F;++W)d(P[I+W]),d(P[I+(W+1)%F])},stripsToWireframe:function(F,P,I){if(F>2){for(var W=0;W<F-1;++W)d(P[I+W]),d(P[I+W+1]);for(var Q=0;Q<F-2;Q++)d(P[I+Q]),d(P[I+Q+2])}},polysToSurface:function(F,P,I){for(var W=0;W<F-2;W++)d(P[I+0]),d(P[I+W+1]),d(P[I+W+2])},stripsToSurface:function(F,P,I){for(var W=0;W<F-2;W++)d(P[I+W]),d(P[I+W+1+W%2]),d(P[I+W+1+(W+1)%2])}},C={anythingToPoints:function(F,P){return F},linesToWireframe:function(F,P){return F>1?(F-1)*2:0},polysToWireframe:function(F,P){return F>2?F*2:0},stripsToWireframe:function(F,P){return F>2?F*4-6:0},polysToSurface:function(F,P){return F>2?(F-2)*3:0},stripsToSurface:function(F,P,I){return F>2?(F-2)*3:0}},S=null,T=null;n===Pt.POINTS||r==="verts"?(S=w.anythingToPoints,T=C.anythingToPoints):n===Pt.WIREFRAME||r==="lines"?(S=w["".concat(r,"ToWireframe")],T=C["".concat(r,"ToWireframe")]):(S=w["".concat(r,"ToSurface")],T=C["".concat(r,"ToSurface")]);for(var _=a.getData(),D=_.length,b=0,E=0;E<D;)b+=T(_[E],_),E+=_[E]+1;var N=null,R=new Float32Array(b*e.blockSize);l&&(N=new Uint8Array(b*4));for(var M=0,G=0,j=0,z=0,V=0;V<3;++V){var L=i.points.getRange(V),B=L[1]-L[0];j+=B*B;var $=.5*(L[1]+L[0]);z+=$*$}var H=j>0&&(Math.abs(z)/j>1e6||Math.abs(Math.log10(j))>3||j===0&&z>1e6);if(H){for(var X=new Float64Array(3),Z=new Float64Array(3),Y=0;Y<3;++Y){var J=i.points.getRange(Y),ne=J[1]-J[0];X[Y]=.5*(J[1]+J[0]),Z[Y]=ne>0?1/ne:1}t.setCoordShiftAndScale(X,Z)}else e.coordShiftAndScaleEnabled===!0&&t.setCoordShiftAndScale(null,null);if(u)if(!u.points&&!u.cells)u.points=new Int32Array(b),u.cells=new Int32Array(b);else{var ee=new Int32Array(b+u.points.length);ee.set(u.points),u.points=ee;var te=new Int32Array(b+u.cells.length);te.set(u.cells),u.cells=te}var k=i.vertexOffset;d=function(F){if(u&&(u.points[k]=F,u.cells[k]=v+i.cellOffset),++k,h=F*3,e.coordShiftAndScaleEnabled?(R[M++]=(o[h++]-e.coordShift[0])*e.coordScale[0],R[M++]=(o[h++]-e.coordShift[1])*e.coordScale[1],R[M++]=(o[h++]-e.coordShift[2])*e.coordScale[2]):(R[M++]=o[h++],R[M++]=o[h++],R[M++]=o[h++]),f!==null&&(i.haveCellNormals?g=(v+i.cellOffset)*3:g=F*3,R[M++]=f[g++],R[M++]=f[g++],R[M++]=f[g++]),e.customData.forEach(function(I){x=F*I.components;for(var W=0;W<I.components;++W)R[M++]=I.data[x++]}),s!==null){y=F*p;for(var P=0;P<p;++P)R[M++]=s[y++]}l!==null&&(i.haveCellScalars?m=(v+i.cellOffset)*c:m=F*c,N[G++]=l[m++],N[G++]=l[m++],N[G++]=l[m++],N[G++]=c===4?l[m++]:255)};for(var O=0;O<D;)S(_[O],_,O+1),O+=_[O]+1,v++;return e.elementCount=b,t.upload(R,ja.ARRAY_BUFFER),e.colorBO&&(e.colorBOStride=4,e.colorBO.upload(N,ja.ARRAY_BUFFER)),v},t.setCoordShiftAndScale=function(a,r){if(a!==null&&(a.constructor!==Float64Array||a.length!==3)){yc("Wrong type for coordShift, expected vec3 or null");return}if(r!==null&&(r.constructor!==Float64Array||r.length!==3)){yc("Wrong type for coordScale, expected vec3 or null");return}(e.coordShift===null||a===null||!Js(a,e.coordShift))&&(e.coordShift=a),(e.coordScale===null||r===null||!Js(r,e.coordScale))&&(e.coordScale=r),e.coordShiftAndScaleEnabled=Vy(e.coordShift,e.coordScale),e.coordShiftAndScaleEnabled?e.inverseShiftAndScaleMatrix=By(e.coordShift,e.coordScale):e.inverseShiftAndScaleMatrix=null}}var Gy={elementCount:0,stride:0,colorBOStride:0,vertexOffset:0,normalOffset:0,tCoordOffset:0,tCoordComponents:0,colorOffset:0,colorComponents:0,tcoordBO:null,customData:[],coordShift:null,coordScale:null,coordShiftAndScaleEnabled:!1,inverseShiftAndScaleMatrix:null};function B1(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Gy,a),vn.extend(t,e,a),U.setGet(t,e,["colorBO","elementCount","stride","colorBOStride","vertexOffset","normalOffset","tCoordOffset","tCoordComponents","colorOffset","colorComponents","customData"]),U.get(t,e,["coordShift","coordScale","coordShiftAndScaleEnabled","inverseShiftAndScaleMatrix"]),Uy(t,e)}var Py=U.newInstance(B1),jy={newInstance:Py,extend:B1},zy=U.vtkErrorMacro;function Wy(t,e){e.classHierarchy.push("vtkShader"),t.compile=function(){var a=e.context.VERTEX_SHADER;if(!e.source||!e.source.length||e.shaderType==="Unknown")return!1;switch(e.handle!==0&&(e.context.deleteShader(e.handle),e.handle=0),e.shaderType){case"Fragment":a=e.context.FRAGMENT_SHADER;break;case"Vertex":default:a=e.context.VERTEX_SHADER;break}e.handle=e.context.createShader(a),e.context.shaderSource(e.handle,e.source),e.context.compileShader(e.handle);var r=e.context.getShaderParameter(e.handle,e.context.COMPILE_STATUS);if(!r){var n=e.context.getShaderInfoLog(e.handle);return zy("Error compiling shader '".concat(e.source,"': ").concat(n)),e.context.deleteShader(e.handle),e.handle=0,!1}return!0},t.cleanup=function(){e.shaderType==="Unknown"||e.handle===0||(e.context.deleteShader(e.handle),e.handle=0,e.dirty=!0)}}var Iy={shaderType:"Unknown",source:"",error:"",handle:0,dirty:!1,context:null};function V1(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Iy,a),U.obj(t,e),U.setGet(t,e,["shaderType","source","error","handle","context"]),Wy(t,e)}var $y=U.newInstance(V1,"vtkShader"),ps={newInstance:$y,extend:V1},pr=U.vtkErrorMacro;function Hy(t,e,a,r){var n=typeof a=="string"?a:a.join(`
`),i=r===!1?e:new RegExp(e,"g"),u=t.replace(i,n);return{replace:u!==n,result:u}}function Ky(t,e){e.classHierarchy.push("vtkShaderProgram"),t.compileShader=function(){return e.vertexShader.compile()?e.fragmentShader.compile()?!t.attachShader(e.vertexShader)||!t.attachShader(e.fragmentShader)?(pr(e.error),0):t.link()?(t.setCompiled(!0),1):(pr("Links failed: ".concat(e.error)),0):(pr(e.fragmentShader.getSource().split(`
`).map(function(a,r){return"".concat(r,": ").concat(a)}).join(`
`)),pr(e.fragmentShader.getError()),0):(pr(e.vertexShader.getSource().split(`
`).map(function(a,r){return"".concat(r,": ").concat(a)}).join(`
`)),pr(e.vertexShader.getError()),0)},t.cleanup=function(){e.shaderType==="Unknown"||e.handle===0||(e.context.deleteShader(e.handle),e.handle=0)},t.bind=function(){return!e.linked&&!t.link()?!1:(e.context.useProgram(e.handle),t.setBound(!0),!0)},t.isBound=function(){return!!e.bound},t.release=function(){e.context.useProgram(null),t.setBound(!1)},t.setContext=function(a){e.vertexShader.setContext(a),e.fragmentShader.setContext(a),e.geometryShader.setContext(a)},t.link=function(){if(e.inked)return!0;if(e.handle===0)return e.error="Program has not been initialized, and/or does not have shaders.",!1;e.uniformLocs={},e.context.linkProgram(e.handle);var a=e.context.getProgramParameter(e.handle,e.context.LINK_STATUS);if(!a){var r=e.context.getProgramInfoLog(e.handle);return pr("Error linking shader ".concat(r)),e.handle=0,!1}return t.setLinked(!0),e.attributeLocs={},!0},t.setUniformMatrix=function(a,r){var n=t.findUniform(a);if(n===-1)return e.error="Could not set uniform ".concat(a," . No such uniform."),!1;var i=new Float32Array(r);return e.context.uniformMatrix4fv(n,!1,i),!0},t.setUniformMatrix3x3=function(a,r){var n=t.findUniform(a);if(n===-1)return e.error="Could not set uniform ".concat(a," . No such uniform."),!1;var i=new Float32Array(r);return e.context.uniformMatrix3fv(n,!1,i),!0},t.setUniformf=function(a,r){var n=t.findUniform(a);return n===-1?(e.error="Could not set uniform ".concat(a," . No such uniform."),!1):(e.context.uniform1f(n,r),!0)},t.setUniformfv=function(a,r){var n=t.findUniform(a);return n===-1?(e.error="Could not set uniform ".concat(a," . No such uniform."),!1):(e.context.uniform1fv(n,r),!0)},t.setUniformi=function(a,r){var n=t.findUniform(a);return n===-1?(e.error="Could not set uniform ".concat(a," . No such uniform."),!1):(e.context.uniform1i(n,r),!0)},t.setUniformiv=function(a,r){var n=t.findUniform(a);return n===-1?(e.error="Could not set uniform ".concat(a," . No such uniform."),!1):(e.context.uniform1iv(n,r),!0)},t.setUniform2f=function(a,r,n){var i=t.findUniform(a);if(i===-1)return e.error="Could not set uniform ".concat(a," . No such uniform."),!1;if(n===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform2f(i,r,n),!0},t.setUniform2fv=function(a,r){var n=t.findUniform(a);return n===-1?(e.error="Could not set uniform ".concat(a," . No such uniform."),!1):(e.context.uniform2fv(n,r),!0)},t.setUniform2i=function(a,r,n){var i=t.findUniform(a);if(i===-1)return e.error="Could not set uniform ".concat(a," . No such uniform."),!1;if(n===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform2i(i,r,n),!0},t.setUniform2iv=function(a,r){var n=t.findUniform(a);return n===-1?(e.error="Could not set uniform ".concat(a," . No such uniform."),!1):(e.context.uniform2iv(n,r),!0)},t.setUniform3f=function(a,r,n,i){var u=t.findUniform(a);if(u===-1)return e.error="Could not set uniform ".concat(a," . No such uniform."),!1;if(i===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform3f(u,r,n,i),!0},t.setUniform3fArray=function(a,r){var n=t.findUniform(a);if(n===-1)return e.error="Could not set uniform ".concat(a," . No such uniform."),!1;if(!Array.isArray(r)||r.length!==3)throw new RangeError("Invalid number of values for array");return e.context.uniform3f(n,r[0],r[1],r[2]),!0},t.setUniform3fv=function(a,r){var n=t.findUniform(a);return n===-1?(e.error="Could not set uniform ".concat(a," . No such uniform."),!1):(e.context.uniform3fv(n,r),!0)},t.setUniform3i=function(a){var r=t.findUniform(a);if(r===-1)return e.error="Could not set uniform ".concat(a," . No such uniform."),!1;for(var n=arguments.length,i=new Array(n>1?n-1:0),u=1;u<n;u++)i[u-1]=arguments[u];var o=i;if(o.length===1&&Array.isArray(o[0])&&(o=o[0]),o.length!==3)throw new RangeError("Invalid number of values for array");return e.context.uniform3i(r,o[0],o[1],o[2]),!0},t.setUniform3iv=function(a,r){var n=t.findUniform(a);return n===-1?(e.error="Could not set uniform ".concat(a," . No such uniform."),!1):(e.context.uniform3iv(n,r),!0)},t.setUniform4f=function(a){var r=t.findUniform(a);if(r===-1)return e.error="Could not set uniform ".concat(a," . No such uniform."),!1;for(var n=arguments.length,i=new Array(n>1?n-1:0),u=1;u<n;u++)i[u-1]=arguments[u];var o=i;if(o.length===1&&Array.isArray(o[0])&&(o=o[0]),o.length!==4)throw new RangeError("Invalid number of values for array");return e.context.uniform4f(r,o[0],o[1],o[2],o[3]),!0},t.setUniform4fv=function(a,r){var n=t.findUniform(a);return n===-1?(e.error="Could not set uniform ".concat(a," . No such uniform."),!1):(e.context.uniform4fv(n,r),!0)},t.setUniform4i=function(a){var r=t.findUniform(a);if(r===-1)return e.error="Could not set uniform ".concat(a," . No such uniform."),!1;for(var n=arguments.length,i=new Array(n>1?n-1:0),u=1;u<n;u++)i[u-1]=arguments[u];var o=i;if(o.length===1&&Array.isArray(o[0])&&(o=o[0]),o.length!==4)throw new RangeError("Invalid number of values for array");return e.context.uniform4i(r,o[0],o[1],o[2],o[3]),!0},t.setUniform4iv=function(a,r){var n=t.findUniform(a);return n===-1?(e.error="Could not set uniform ".concat(a," . No such uniform."),!1):(e.context.uniform4iv(n,r),!0)},t.findUniform=function(a){if(!a||!e.linked)return-1;var r=e.uniformLocs[a];return r!==void 0?r:(r=e.context.getUniformLocation(e.handle,a),r===null?(e.error="Uniform ".concat(a," not found in current shader program."),e.uniformLocs[a]=-1,-1):(e.uniformLocs[a]=r,r))},t.isUniformUsed=function(a){if(!a)return!1;var r=e.uniformLocs[a];return r!==void 0?r!==null:e.linked?(r=e.context.getUniformLocation(e.handle,a),e.uniformLocs[a]=r,r!==null):(pr("attempt to find uniform when the shader program is not linked"),!1)},t.isAttributeUsed=function(a){if(!a)return!1;if(a in e.attributeLocs)return!0;if(!e.linked)return pr("attempt to find uniform when the shader program is not linked"),!1;var r=e.context.getAttribLocation(e.handle,a);return r===-1?!1:(e.attributeLocs[a]=r,!0)},t.attachShader=function(a){if(a.getHandle()===0)return e.error="Shader object was not initialized, cannot attach it.",!1;if(a.getShaderType()==="Unknown")return e.error="Shader object is of type Unknown and cannot be used.",!1;if(e.handle===0){var r=e.context.createProgram();if(r===0)return e.error="Could not create shader program.",!1;e.handle=r,e.linked=!1}return a.getShaderType()==="Vertex"&&(e.vertexShaderHandle!==0&&e.comntext.detachShader(e.handle,e.vertexShaderHandle),e.vertexShaderHandle=a.getHandle()),a.getShaderType()==="Fragment"&&(e.fragmentShaderHandle!==0&&e.context.detachShader(e.handle,e.fragmentShaderHandle),e.fragmentShaderHandle=a.getHandle()),e.context.attachShader(e.handle,a.getHandle()),t.setLinked(!1),!0},t.detachShader=function(a){if(a.getHandle()===0)return e.error="shader object was not initialized, cannot attach it.",!1;if(a.getShaderType()==="Unknown")return e.error="Shader object is of type Unknown and cannot be used.",!1;switch(e.handle===0&&(e.error="This shader program has not been initialized yet."),a.getShaderType()){case"Vertex":return e.vertexShaderHandle!==a.getHandle()?(e.error="The supplied shader was not attached to this program.",!1):(e.context.detachShader(e.handle,a.getHandle()),e.vertexShaderHandle=0,e.linked=!1,!0);case"Fragment":return e.fragmentShaderHandle!==a.getHandle()?(e.error="The supplied shader was not attached to this program.",!1):(e.context.detachShader(e.handle,a.getHandle()),e.fragmentShaderHandle=0,e.linked=!1,!0);default:return!1}},t.setContext=function(a){e.context=a,e.vertexShader.setContext(a),e.fragmentShader.setContext(a),e.geometryShader.setContext(a)},t.setLastCameraMTime=function(a){e.lastCameraMTime=a}}var Xy={vertexShaderHandle:0,fragmentShaderHandle:0,geometryShaderHandle:0,vertexShader:null,fragmentShader:null,geometryShader:null,linked:!1,bound:!1,compiled:!1,error:"",handle:0,numberOfOutputs:0,attributesLocs:null,uniformLocs:null,md5Hash:0,context:null,lastCameraMTime:null};function U1(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Xy,a),e.attributesLocs={},e.uniformLocs={},e.vertexShader=ps.newInstance(),e.vertexShader.setShaderType("Vertex"),e.fragmentShader=ps.newInstance(),e.fragmentShader.setShaderType("Fragment"),e.geometryShader=ps.newInstance(),e.geometryShader.setShaderType("Geometry"),U.obj(t,e),U.get(t,e,["lastCameraMTime"]),U.setGet(t,e,["error","handle","compiled","bound","md5Hash","vertexShader","fragmentShader","geometryShader","linked"]),Ky(t,e)}var qy=U.newInstance(U1,"vtkShaderProgram"),ie={newInstance:qy,extend:U1,substitute:Hy};function Yy(t,e){e.classHierarchy.push("vtkOpenGLVertexArrayObject"),t.exposedMethod=function(){},t.initialize=function(){e.instancingExtension=null,e._openGLRenderWindow.getWebgl2()||(e.instancingExtension=e.context.getExtension("ANGLE_instanced_arrays")),!e.forceEmulation&&e._openGLRenderWindow&&e._openGLRenderWindow.getWebgl2()?(e.extension=null,e.supported=!0,e.handleVAO=e.context.createVertexArray()):(e.extension=e.context.getExtension("OES_vertex_array_object"),!e.forceEmulation&&e.extension?(e.supported=!0,e.handleVAO=e.extension.createVertexArrayOES()):e.supported=!1)},t.isReady=function(){return e.handleVAO!==0||e.supported===!1},t.bind=function(){if(t.isReady()||t.initialize(),t.isReady()&&e.supported)e.extension?e.extension.bindVertexArrayOES(e.handleVAO):e.context.bindVertexArray(e.handleVAO);else if(t.isReady())for(var a=e.context,r=0;r<e.buffers.length;++r){var n=e.buffers[r];e.context.bindBuffer(a.ARRAY_BUFFER,n.buffer);for(var i=0;i<n.attributes.length;++i)for(var u=n.attributes[i],o=u.isMatrix?u.size:1,f=0;f<o;++f)a.enableVertexAttribArray(u.index+f),a.vertexAttribPointer(u.index+f,u.size,u.type,u.normalize,u.stride,u.offset+u.stride*f/u.size),u.divisor>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(u.index+f,1):a.vertexAttribDivisor(u.index+f,1))}},t.release=function(){if(t.isReady()&&e.supported)e.extension?e.extension.bindVertexArrayOES(null):e.context.bindVertexArray(null);else if(t.isReady())for(var a=e.context,r=0;r<e.buffers.length;++r){var n=e.buffers[r];e.context.bindBuffer(a.ARRAY_BUFFER,n.buffer);for(var i=0;i<n.attributes.length;++i)for(var u=n.attributes[i],o=u.isMatrix?u.size:1,f=0;f<o;++f)a.enableVertexAttribArray(u.index+f),a.vertexAttribPointer(u.index+f,u.size,u.type,u.normalize,u.stride,u.offset+u.stride*f/u.size),u.divisor>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(u.index+f,0):a.vertexAttribDivisor(u.index+f,0)),a.disableVertexAttribArray(u.index+f)}},t.shaderProgramChanged=function(){t.release(),e.handleVAO&&(e.extension?e.extension.deleteVertexArrayOES(e.handleVAO):e.context.deleteVertexArray(e.handleVAO)),e.handleVAO=0,e.handleProgram=0},t.releaseGraphicsResources=function(){t.shaderProgramChanged(),e.handleVAO&&(e.extension?e.extension.deleteVertexArrayOES(e.handleVAO):e.context.deleteVertexArray(e.handleVAO)),e.handleVAO=0,e.supported=!0,e.handleProgram=0},t.addAttributeArray=function(a,r,n,i,u,o,f,s){return t.addAttributeArrayWithDivisor(a,r,n,i,u,o,f,s,0,!1)},t.addAttributeArrayWithDivisor=function(a,r,n,i,u,o,f,s,l,c){if(!a||!a.isBound()||r.getHandle()===0||r.getType()!==ja.ARRAY_BUFFER||(e.handleProgram===0&&(e.handleProgram=a.getHandle()),t.isReady()||t.initialize(),!t.isReady()||e.handleProgram!==a.getHandle()))return!1;var p=e.context,h={};if(h.name=n,h.index=p.getAttribLocation(e.handleProgram,n),h.offset=i,h.stride=u,h.type=o,h.size=f,h.normalize=s,h.isMatrix=c,h.divisor=l,h.Index===-1)return!1;if(r.bind(),p.enableVertexAttribArray(h.index),p.vertexAttribPointer(h.index,h.size,h.type,h.normalize,h.stride,h.offset),l>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(h.index,1):p.vertexAttribDivisor(h.index,1)),h.buffer=r.getHandle(),!e.supported){for(var g=!1,y=0;y<e.buffers.length;++y){var m=e.buffers[y];if(m.buffer===h.buffer){g=!0;for(var x=!1,v=0;v<m.attributes.length;++v){var d=m.attributes[v];d.name===n&&(x=!0,m.attributes[v]=h)}x||m.attributes.push(h)}}g||e.buffers.push({buffer:h.buffer,attributes:[h]})}return!0},t.addAttributeMatrixWithDivisor=function(a,r,n,i,u,o,f,s,l){var c=t.addAttributeArrayWithDivisor(a,r,n,i,u,o,f,s,l,!0);if(!c)return c;for(var p=e.context,h=p.getAttribLocation(e.handleProgram,n),g=1;g<f;g++)p.enableVertexAttribArray(h+g),p.vertexAttribPointer(h+g,f,o,s,u,i+u*g/f),l>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(h+g,1):p.vertexAttribDivisor(h+g,1));return!0},t.removeAttributeArray=function(a){if(!t.isReady()||e.handleProgram===0)return!1;if(!e.supported)for(var r=0;r<e.buffers.length;++r)for(var n=e.buffers[r],i=0;i<n.attributes.length;++i){var u=n.attributes[i];if(u.name===a)return n.attributes.splice(i,1),n.attributes.length||e.buffers.splice(r,1),!0}return!0},t.setOpenGLRenderWindow=function(a){e._openGLRenderWindow!==a&&(t.releaseGraphicsResources(),e._openGLRenderWindow=a,e.context=null,a&&(e.context=e._openGLRenderWindow.getContext()))}}var Jy={forceEmulation:!1,handleVAO:0,handleProgram:0,supported:!0,buffers:null,context:null};function G1(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Jy,a),e.buffers=[],U.obj(t,e),U.get(t,e,["supported"]),U.setGet(t,e,["forceEmulation"]),Yy(t,e)}var Zy=U.newInstance(G1,"vtkOpenGLVertexArrayObject"),au={newInstance:Zy,extend:G1},Pr={Start:0,Points:0,Lines:1,Tris:2,TriStrips:3,TrisEdges:4,TriStripsEdges:5,End:6};function Qy(t,e){e.classHierarchy.push("vtkOpenGLHelper"),t.setOpenGLRenderWindow=function(a){e.context=a.getContext(),e.program.setContext(e.context),e.VAO.setOpenGLRenderWindow(a),e.CABO.setOpenGLRenderWindow(a)},t.releaseGraphicsResources=function(a){e.VAO.releaseGraphicsResources(),e.CABO.releaseGraphicsResources(),e.CABO.setElementCount(0)},t.drawArrays=function(a,r,n,i){if(e.CABO.getElementCount()){var u=t.getOpenGLMode(n),o=t.haveWideLines(a,r),f=e.context,s=f.getParameter(f.DEPTH_WRITEMASK);e.pointPicking&&f.depthMask(!1);var l=u===f.LINES;l&&o?(t.updateShaders(a,r,i),f.drawArraysInstanced(u,0,e.CABO.getElementCount(),2*Math.ceil(r.getProperty().getLineWidth()))):(f.lineWidth(r.getProperty().getLineWidth()),t.updateShaders(a,r,i),f.drawArrays(u,0,e.CABO.getElementCount()),f.lineWidth(1));var c=(u===f.POINTS?1:0)||(u===f.LINES?2:3);return e.pointPicking&&f.depthMask(s),e.CABO.getElementCount()/c}return 0},t.getOpenGLMode=function(a){if(e.pointPicking)return e.context.POINTS;var r=e.primitiveType;return a===Pt.POINTS||r===Pr.Points?e.context.POINTS:a===Pt.WIREFRAME||r===Pr.Lines||r===Pr.TrisEdges||r===Pr.TriStripsEdges?e.context.LINES:e.context.TRIANGLES},t.haveWideLines=function(a,r){return r.getProperty().getLineWidth()>1?!(e.CABO.getOpenGLRenderWindow()&&e.CABO.getOpenGLRenderWindow().getHardwareMaximumLineWidth()>=r.getProperty().getLineWidth()):!1},t.getNeedToRebuildShaders=function(a,r,n){return!!(n.getNeedToRebuildShaders(t,a,r)||t.getProgram()===0||t.getShaderSourceTime().getMTime()<n.getMTime()||t.getShaderSourceTime().getMTime()<r.getMTime())},t.updateShaders=function(a,r,n){if(t.getNeedToRebuildShaders(a,r,n)){var i={Vertex:null,Fragment:null,Geometry:null};n.buildShaders(i,a,r);var u=e.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);u!==t.getProgram()&&(t.setProgram(u),t.getVAO().releaseGraphicsResources()),t.getShaderSourceTime().modified()}else e.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgram(t.getProgram());t.getVAO().bind(),n.setMapperShaderParameters(t,a,r),n.setPropertyShaderParameters(t,a,r),n.setCameraShaderParameters(t,a,r),n.setLightingShaderParameters(t,a,r),n.invokeShaderCallbacks(t,a,r)},t.setMapperShaderParameters=function(a,r,n){if(t.haveWideLines(a,r)){t.getProgram().setUniform2f("viewportSize",n.usize,n.vsize);var i=parseFloat(r.getProperty().getLineWidth()),u=i/2;t.getProgram().setUniformf("lineWidthStepSize",i/Math.ceil(i)),t.getProgram().setUniformf("halfLineWidth",u)}e.primitiveType===Pr.Points||r.getProperty().getRepresentation()===Pt.POINTS?t.getProgram().setUniformf("pointSize",r.getProperty().getPointSize()):e.pointPicking&&t.getProgram().setUniformf("pointSize",t.getPointPickingPrimitiveSize())},t.replaceShaderPositionVC=function(a,r,n){var i=a.Vertex;i=ie.substitute(i,"//VTK::PositionVC::Dec",["//VTK::PositionVC::Dec","uniform float pointSize;"]).result,i=ie.substitute(i,"//VTK::PositionVC::Impl",["//VTK::PositionVC::Impl","  gl_PointSize = pointSize;"],!1).result,t.getOpenGLMode(n.getProperty().getRepresentation())===e.context.LINES&&t.haveWideLines(r,n)&&(i=ie.substitute(i,"//VTK::PositionVC::Dec",["//VTK::PositionVC::Dec","uniform vec2 viewportSize;","uniform float lineWidthStepSize;","uniform float halfLineWidth;"]).result,i=ie.substitute(i,"//VTK::PositionVC::Impl",["//VTK::PositionVC::Impl"," if (halfLineWidth > 0.0)","   {","   float offset = float(gl_InstanceID / 2) * lineWidthStepSize - halfLineWidth;","   vec4 tmpPos = gl_Position;","   vec3 tmpPos2 = tmpPos.xyz / tmpPos.w;","   tmpPos2.x = tmpPos2.x + 2.0 * mod(float(gl_InstanceID), 2.0) * offset / viewportSize[0];","   tmpPos2.y = tmpPos2.y + 2.0 * mod(float(gl_InstanceID + 1), 2.0) * offset / viewportSize[1];","   gl_Position = vec4(tmpPos2.xyz * tmpPos.w, tmpPos.w);","   }"]).result),a.Vertex=i},t.getPointPickingPrimitiveSize=function(){return e.primitiveType===Pr.Points?2:e.primitiveType===Pr.Lines?4:6}}var e5={context:null,program:null,shaderSourceTime:null,VAO:null,attributeUpdateTime:null,CABO:null,primitiveType:0,pointPicking:!1};function P1(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,e5,a),U.obj(t,e),e.shaderSourceTime={},U.obj(e.shaderSourceTime),e.attributeUpdateTime={},U.obj(e.attributeUpdateTime),U.setGet(t,e,["program","shaderSourceTime","VAO","attributeUpdateTime","CABO","primitiveType","pointPicking"]),e.program=ie.newInstance(),e.VAO=au.newInstance(),e.CABO=jy.newInstance(),Qy(t,e)}var t5=U.newInstance(P1),Zr={newInstance:t5,extend:P1,primTypes:Pr},Xa={CLAMP_TO_EDGE:0,REPEAT:1,MIRRORED_REPEAT:2},Ye={NEAREST:0,LINEAR:1,NEAREST_MIPMAP_NEAREST:2,NEAREST_MIPMAP_LINEAR:3,LINEAR_MIPMAP_NEAREST:4,LINEAR_MIPMAP_LINEAR:5},iu={Wrap:Xa,Filter:Ye},j1=new Float32Array(1),r5=new Int32Array(j1.buffer);function n5(t){j1[0]=t;var e=r5[0],a=e>>16&32768,r=e>>12&2047,n=e>>23&255;return n<103?a:n>142?(a|=31744,a|=(n===255?0:1)&&e&8388607,a):n<113?(r|=2048,a|=(r>>114-n)+(r>>113-n&1),a):(a|=n-112<<10|r>>1,a+=r&1,a)}function a5(t){var e=(t&32768)>>15,a=(t&31744)>>10,r=t&1023;return a===0?(e?-1:1)*Math.pow(2,-14)*(r/Math.pow(2,10)):a===31?r?NaN:(e?-1:1)*(1/0):(e?-1:1)*Math.pow(2,a-15)*(1+r/Math.pow(2,10))}var kn={fromHalf:a5,toHalf:n5};function mc(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function i5(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?mc(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):mc(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var Or=iu.Wrap,gt=iu.Filter,Ie=we.VtkDataTypes,hs=En,Ln=Ne,o5=ci;function s5(t,e){e.classHierarchy.push("vtkOpenGLTexture"),t.render=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(o?e._openGLRenderWindow=o:(e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent()),e.context=e._openGLRenderWindow.getContext(),e.renderable.getInterpolate()?(e.generateMipmap?t.setMinificationFilter(gt.LINEAR_MIPMAP_LINEAR):t.setMinificationFilter(gt.LINEAR),t.setMagnificationFilter(gt.LINEAR)):(t.setMinificationFilter(gt.NEAREST),t.setMagnificationFilter(gt.NEAREST)),e.renderable.getRepeat()&&(t.setWrapR(Or.REPEAT),t.setWrapS(Or.REPEAT),t.setWrapT(Or.REPEAT)),e.renderable.getInputData()&&e.renderable.setImage(null),!e.handle||e.renderable.getMTime()>e.textureBuildTime.getMTime()){if(e.renderable.getImage()!==null&&(e.renderable.getInterpolate()&&(e.generateMipmap=!0,t.setMinificationFilter(gt.LINEAR_MIPMAP_LINEAR)),e.renderable.getImage()&&e.renderable.getImageLoaded()&&(t.create2DFromImage(e.renderable.getImage()),t.activate(),t.sendParameters(),e.textureBuildTime.modified())),e.renderable.getCanvas()!==null){e.renderable.getInterpolate()&&(e.generateMipmap=!0,t.setMinificationFilter(gt.LINEAR_MIPMAP_LINEAR));var f=e.renderable.getCanvas();t.create2DFromRaw(f.width,f.height,4,Ie.UNSIGNED_CHAR,f,!0),t.activate(),t.sendParameters(),e.textureBuildTime.modified()}if(e.renderable.getJsImageData()!==null){var s=e.renderable.getJsImageData();e.renderable.getInterpolate()&&(e.generateMipmap=!0,t.setMinificationFilter(gt.LINEAR_MIPMAP_LINEAR)),t.create2DFromRaw(s.width,s.height,4,Ie.UNSIGNED_CHAR,s.data,!0),t.activate(),t.sendParameters(),e.textureBuildTime.modified()}var l=e.renderable.getInputData(0);if(l&&l.getPointData().getScalars()){for(var c=l.getExtent(),p=l.getPointData().getScalars(),h=[],g=0;g<e.renderable.getNumberOfInputPorts();++g){var y=e.renderable.getInputData(g),m=y?y.getPointData().getScalars().getData():null;m&&h.push(m)}e.renderable.getInterpolate()&&p.getNumberOfComponents()===4&&(e.generateMipmap=!0,t.setMinificationFilter(gt.LINEAR_MIPMAP_LINEAR)),h.length%6===0?t.createCubeFromRaw(c[1]-c[0]+1,c[3]-c[2]+1,p.getNumberOfComponents(),p.getDataType(),h):t.create2DFromRaw(c[1]-c[0]+1,c[3]-c[2]+1,p.getNumberOfComponents(),p.getDataType(),p.getData()),t.activate(),t.sendParameters(),e.textureBuildTime.modified()}}e.handle&&t.activate()},t.destroyTexture=function(){t.deactivate(),e.context&&e.handle&&e.context.deleteTexture(e.handle),e.handle=0,e.numberOfDimensions=0,e.target=0,e.components=0,e.width=0,e.height=0,e.depth=0,t.resetFormatAndType()},t.createTexture=function(){e.handle||(e.handle=e.context.createTexture(),e.target&&(e.context.bindTexture(e.target,e.handle),e.context.texParameteri(e.target,e.context.TEXTURE_MIN_FILTER,t.getOpenGLFilterMode(e.minificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_MAG_FILTER,t.getOpenGLFilterMode(e.magnificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_S,t.getOpenGLWrapMode(e.wrapS)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_T,t.getOpenGLWrapMode(e.wrapT)),e._openGLRenderWindow.getWebgl2()&&e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_R,t.getOpenGLWrapMode(e.wrapR)),e.context.bindTexture(e.target,null)))},t.getTextureUnit=function(){return e._openGLRenderWindow?e._openGLRenderWindow.getTextureUnitForTexture(t):-1},t.activate=function(){e._openGLRenderWindow.activateTexture(t),t.bind()},t.deactivate=function(){e._openGLRenderWindow&&e._openGLRenderWindow.deactivateTexture(t)},t.releaseGraphicsResources=function(o){o&&e.handle&&(o.activateTexture(t),o.deactivateTexture(t),e.context.deleteTexture(e.handle),e.handle=0,e.numberOfDimensions=0,e.target=0,e.internalFormat=0,e.format=0,e.openGLDataType=0,e.components=0,e.width=0,e.height=0,e.depth=0),e.shaderProgram&&(e.shaderProgram.releaseGraphicsResources(o),e.shaderProgram=null)},t.bind=function(){e.context.bindTexture(e.target,e.handle),e.autoParameters&&t.getMTime()>e.sendParametersTime.getMTime()&&t.sendParameters()},t.isBound=function(){var o=!1;if(e.context&&e.handle){var f=0;switch(e.target){case e.context.TEXTURE_2D:f=e.context.TEXTURE_BINDING_2D;break;default:o5("impossible case");break}var s=e.context.getIntegerv(f);o=s===e.handle}return o},t.sendParameters=function(){e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_S,t.getOpenGLWrapMode(e.wrapS)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_T,t.getOpenGLWrapMode(e.wrapT)),e._openGLRenderWindow.getWebgl2()&&e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_R,t.getOpenGLWrapMode(e.wrapR)),e.context.texParameteri(e.target,e.context.TEXTURE_MIN_FILTER,t.getOpenGLFilterMode(e.minificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_MAG_FILTER,t.getOpenGLFilterMode(e.magnificationFilter)),e._openGLRenderWindow.getWebgl2()&&(e.context.texParameteri(e.target,e.context.TEXTURE_BASE_LEVEL,e.baseLevel),e.context.texParameteri(e.target,e.context.TEXTURE_MAX_LEVEL,e.maxLevel)),e.sendParametersTime.modified()},t.getInternalFormat=function(o,f){return e._forceInternalFormat||(e.internalFormat=t.getDefaultInternalFormat(o,f)),e.internalFormat||hs("Unable to find suitable internal format for T=".concat(o," NC= ").concat(f)),e.internalFormat},t.getDefaultInternalFormat=function(o,f){var s=0;return s=e._openGLRenderWindow.getDefaultTextureInternalFormat(o,f,e.oglNorm16Ext,e.useHalfFloat),s||(s||(hs("Unsupported internal texture type!"),hs("Unable to find suitable internal format for T=".concat(o," NC= ").concat(f))),s)},t.setInternalFormat=function(o){e._forceInternalFormat=!0,o!==e.internalFormat&&(e.internalFormat=o,t.modified())},t.getFormat=function(o,f){return e.format=t.getDefaultFormat(o,f),e.format},t.getDefaultFormat=function(o,f){if(e._openGLRenderWindow.getWebgl2())switch(f){case 1:return e.context.RED;case 2:return e.context.RG;case 3:return e.context.RGB;case 4:return e.context.RGBA;default:return e.context.RGB}else switch(f){case 1:return e.context.LUMINANCE;case 2:return e.context.LUMINANCE_ALPHA;case 3:return e.context.RGB;case 4:return e.context.RGBA;default:return e.context.RGB}},t.resetFormatAndType=function(){e.format=0,e.internalFormat=0,e._forceInternalFormat=!1,e.openGLDataType=0},t.getDefaultDataType=function(o){if(e._openGLRenderWindow.getWebgl2())switch(o){case Ie.UNSIGNED_CHAR:return e.context.UNSIGNED_BYTE;case(e.oglNorm16Ext&&!e.useHalfFloat&&Ie.SHORT):return e.context.SHORT;case(e.oglNorm16Ext&&!e.useHalfFloat&&Ie.UNSIGNED_SHORT):return e.context.UNSIGNED_SHORT;case(e.useHalfFloat&&Ie.SHORT):return e.context.HALF_FLOAT;case(e.useHalfFloat&&Ie.UNSIGNED_SHORT):return e.context.HALF_FLOAT;case Ie.FLOAT:case Ie.VOID:default:return e.context.FLOAT}switch(o){case Ie.UNSIGNED_CHAR:return e.context.UNSIGNED_BYTE;case Ie.FLOAT:case Ie.VOID:default:if(e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear"))return e.context.FLOAT;{var f=e.context.getExtension("OES_texture_half_float");if(f&&e.context.getExtension("OES_texture_half_float_linear"))return f.HALF_FLOAT_OES}return e.context.UNSIGNED_BYTE}},t.getOpenGLDataType=function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(!e.openGLDataType||f)&&(e.openGLDataType=t.getDefaultDataType(o)),e.openGLDataType},t.getShiftAndScale=function(){var o=0,f=1;switch(e.openGLDataType){case e.context.BYTE:f=127.5,o=f-128;break;case e.context.UNSIGNED_BYTE:f=255,o=0;break;case e.context.SHORT:f=32767.5,o=f-32768;break;case e.context.UNSIGNED_SHORT:f=65536,o=0;break;case e.context.INT:f=21474836475e-1,o=f-2147483648;break;case e.context.UNSIGNED_INT:f=4294967295,o=0;break;case e.context.FLOAT:}return{shift:o,scale:f}},t.getOpenGLFilterMode=function(o){switch(o){case gt.NEAREST:return e.context.NEAREST;case gt.LINEAR:return e.context.LINEAR;case gt.NEAREST_MIPMAP_NEAREST:return e.context.NEAREST_MIPMAP_NEAREST;case gt.NEAREST_MIPMAP_LINEAR:return e.context.NEAREST_MIPMAP_LINEAR;case gt.LINEAR_MIPMAP_NEAREST:return e.context.LINEAR_MIPMAP_NEAREST;case gt.LINEAR_MIPMAP_LINEAR:return e.context.LINEAR_MIPMAP_LINEAR;default:return e.context.NEAREST}},t.getOpenGLWrapMode=function(o){switch(o){case Or.CLAMP_TO_EDGE:return e.context.CLAMP_TO_EDGE;case Or.REPEAT:return e.context.REPEAT;case Or.MIRRORED_REPEAT:return e.context.MIRRORED_REPEAT;default:return e.context.CLAMP_TO_EDGE}};function a(o,f){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=[],c=e.width*e.height*e.components;if(s&&(c*=e.depth),o!==Ie.FLOAT&&e.openGLDataType===e.context.FLOAT)for(var p=0;p<f.length;p++)if(f[p]){var h=f[p].length>c?f[p].subarray(0,c):f[p];l.push(new Float32Array(h))}else l.push(null);if(o!==Ie.UNSIGNED_CHAR&&e.openGLDataType===e.context.UNSIGNED_BYTE)for(var g=0;g<f.length;g++)if(f[g]){var y=f[g].length>c?f[g].subarray(0,c):f[g];l.push(new Uint8Array(y))}else l.push(null);var m=!1;if(e._openGLRenderWindow.getWebgl2())m=e.openGLDataType===e.context.HALF_FLOAT;else{var x=e.context.getExtension("OES_texture_half_float");m=x&&e.openGLDataType===x.HALF_FLOAT_OES}if(m)for(var v=0;v<f.length;v++)if(f[v]){for(var d=new Uint16Array(c),w=0;w<c;w++)d[w]=kn.toHalf(f[v][w]);l.push(d)}else l.push(null);if(l.length===0)for(var C=0;C<f.length;C++)l.push(f[C]);return l}function r(o){if(e._openGLRenderWindow.getWebgl2())return o;var f=[],s=e.width,l=e.height,c=e.components;if(o&&(!xi(s)||!xi(l)))for(var p=e.context.getExtension("OES_texture_half_float"),h=sr(s),g=sr(l),y=h*g*e.components,m=0;m<o.length;m++)if(o[m]!==null){var x=null,v=l/g,d=s/h,w=!1;e.openGLDataType===e.context.FLOAT?x=new Float32Array(y):p&&e.openGLDataType===p.HALF_FLOAT_OES?(x=new Uint16Array(y),w=!0):x=new Uint8Array(y);for(var C=0;C<g;C++){var S=C*h*c,T=C*v,_=Math.floor(T),D=Math.ceil(T);D>=l&&(D=l-1);var b=T-_,E=1-b;_=_*s*c,D=D*s*c;for(var N=0;N<h;N++){var R=N*c,M=N*d,G=Math.floor(M),j=Math.ceil(M);j>=s&&(j=s-1);var z=M-G;G*=c,j*=c;for(var V=0;V<c;V++)w?x[S+R+V]=kn.toHalf(kn.fromHalf(o[m][_+G+V])*E*(1-z)+kn.fromHalf(o[m][_+j+V])*E*z+kn.fromHalf(o[m][D+G+V])*b*(1-z)+kn.fromHalf(o[m][D+j+V])*b*z):x[S+R+V]=o[m][_+G+V]*E*(1-z)+o[m][_+j+V]*E*z+o[m][D+G+V]*b*(1-z)+o[m][D+j+V]*b*z}}f.push(x),e.width=h,e.height=g}else f.push(null);if(f.length===0)for(var L=0;L<o.length;L++)f.push(o[L]);return f}t.create2DFromRaw=function(o,f,s,l,c){var p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(t.getOpenGLDataType(l,!0),t.getInternalFormat(l,s),t.getFormat(l,s),!e.internalFormat||!e.format||!e.openGLDataType)return Ln("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=s,e.width=o,e.height=f,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind();var h=[c],g=a(l,h),y=r(g);return e.context.pixelStorei(e.context.UNPACK_FLIP_Y_WEBGL,p),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),e._openGLRenderWindow.getWebgl2()&&!e.resizable?(e.context.texStorage2D(e.target,1,e.internalFormat,e.width,e.height),y[0]!=null&&e.context.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.openGLDataType,y[0])):e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,y[0]),e.generateMipmap&&e.context.generateMipmap(e.target),p&&e.context.pixelStorei(e.context.UNPACK_FLIP_Y_WEBGL,!1),t.deactivate(),!0},t.createCubeFromRaw=function(o,f,s,l,c){if(t.getOpenGLDataType(l),t.getInternalFormat(l,s),t.getFormat(l,s),!e.internalFormat||!e.format||!e.openGLDataType)return Ln("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_CUBE_MAP,e.components=s,e.width=o,e.height=f,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),e.maxLevel=c.length/6-1,t.createTexture(),t.bind();for(var p=a(l,c),h=r(p),g=[],y=e.width,m=e.height,x=0;x<h.length;x++){x%6===0&&x!==0&&(y/=2,m/=2),g[x]=Vo(l,m*y*e.components);for(var v=0;v<m;++v){var d=v*y*e.components,w=(m-v-1)*y*e.components;g[x].set(h[x].slice(w,w+y*e.components),d)}}e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),e._openGLRenderWindow.getWebgl2()&&!e.resizable&&e.context.texStorage2D(e.target,6,e.internalFormat,e.width,e.height);for(var C=0;C<6;C++)for(var S=0,T=e.width,_=e.height;T>=1&&_>=1;){var D=null;S<=e.maxLevel&&(D=g[6*S+C]),e._openGLRenderWindow.getWebgl2()&&!e.resizable?D!=null&&e.context.texSubImage2D(e.context.TEXTURE_CUBE_MAP_POSITIVE_X+C,S,0,0,T,_,e.format,e.openGLDataType,D):e.context.texImage2D(e.context.TEXTURE_CUBE_MAP_POSITIVE_X+C,S,e.internalFormat,T,_,0,e.format,e.openGLDataType,D),S++,T/=2,_/=2}return t.deactivate(),!0},t.createDepthFromRaw=function(o,f,s,l){return t.getOpenGLDataType(s),e.format=e.context.DEPTH_COMPONENT,e._openGLRenderWindow.getWebgl2()?s===Ie.FLOAT?e.internalFormat=e.context.DEPTH_COMPONENT32F:e.internalFormat=e.context.DEPTH_COMPONENT16:e.internalFormat=e.context.DEPTH_COMPONENT,!e.internalFormat||!e.format||!e.openGLDataType?(Ln("Failed to determine texture parameters."),!1):(e.target=e.context.TEXTURE_2D,e.components=1,e.width=o,e.height=f,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),e._openGLRenderWindow.getWebgl2()&&!e.resizable?(e.context.texStorage2D(e.target,1,e.internalFormat,e.width,e.height),l!=null&&e.context.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.openGLDataType,l)):e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,l),e.generateMipmap&&e.context.generateMipmap(e.target),t.deactivate(),!0)},t.create2DFromImage=function(o){if(t.getOpenGLDataType(Ie.UNSIGNED_CHAR),t.getInternalFormat(Ie.UNSIGNED_CHAR,4),t.getFormat(Ie.UNSIGNED_CHAR,4),!e.internalFormat||!e.format||!e.openGLDataType)return Ln("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=4,e.width=o.width,e.height=o.height,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1);var f=!xi(o.width)||!xi(o.height),s=document.createElement("canvas");s.width=f?sr(o.width):o.width,s.height=f?sr(o.height):o.height;var l=s.getContext("2d");l.translate(0,s.height),l.scale(1,-1),l.drawImage(o,0,0,o.width,o.height,0,0,s.width,s.height);var c=s;return e._openGLRenderWindow.getWebgl2()&&!e.resizable?(e.context.texStorage2D(e.target,1,e.internalFormat,e.width,e.height),c!=null&&e.context.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.openGLDataType,c)):e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,c),e.generateMipmap&&e.context.generateMipmap(e.target),t.deactivate(),!0};function n(o,f,s){for(var l=[],c=[],p=0;p<o;++p)l[p]=s[p],c[p]=s[p];for(var h=0,g=0;g<f;++g)for(var y=0;y<o;++y)s[h]<l[y]&&(l[y]=s[h]),s[h]>c[y]&&(c[y]=s[h]),h++;for(var m=[],x=[],v=0;v<o;++v)l[v]===c[v]&&(c[v]=l[v]+1),m[v]=l[v],x[v]=c[v]-l[v];return{scale:x,offset:m}}function i(o,f){for(var s=0;s<o.length;s++){var l=o[s],c=f[s]+l;if(l<-2048||l>2048||c<-2048||c>2048)return!1}return!0}function u(o,f,s,l){t.getOpenGLDataType(o);var c=!1;if(e._openGLRenderWindow.getWebgl2())c=e.openGLDataType===e.context.HALF_FLOAT;else{var p=e.context.getExtension("OES_texture_half_float");c=p&&e.openGLDataType===p.HALF_FLOAT_OES}return!(!c||!i(f,s)&&!l)}t.create3DFromRaw=function(o,f,s,l,c,p){if(t.getOpenGLDataType(c),t.getInternalFormat(c,l),t.getFormat(c,l),!e.internalFormat||!e.format||!e.openGLDataType)return Ln("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_3D,e.components=l,e.width=o,e.height=f,e.depth=s,e.numberOfDimensions=3,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind();var h=[p],g=!0,y=a(c,h,g),m=r(y);return e._openGLRenderWindow.getWebgl2()?(e.context.texStorage3D(e.target,1,e.internalFormat,e.width,e.height,e.depth),m[0]!=null&&e.context.texSubImage3D(e.target,0,0,0,0,e.width,e.height,e.depth,e.format,e.openGLDataType,m[0])):e.context.texImage3D(e.target,0,e.internalFormat,e.width,e.height,e.depth,0,e.format,e.openGLDataType,m[0]),e.generateMipmap&&e.context.generateMipmap(e.target),t.deactivate(),!0},t.create3DFilterableFromRaw=function(o,f,s,l,c,p){for(var h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,g=o*f*s,y=[],m=[],x=0;x<l;++x)y[x]=0,m[x]=1;e.volumeInfo={scale:m,offset:y,width:o,height:f,depth:s};var v=n(l,g,p),d=v.offset,w=v.scale;if(e.volumeInfo.dataComputedScale=w,e.volumeInfo.dataComputedOffset=d,e.useHalfFloat=u(c,d,w,h),e.useHalfFloat||t.getOpenGLDataType(c,!0),e._openGLRenderWindow.getWebgl2()){if(e.oglNorm16Ext&&!e.useHalfFloat&&c===Ie.SHORT){for(var C=0;C<l;++C)e.volumeInfo.scale[C]=32767;return t.create3DFromRaw(o,f,s,l,c,p)}if(e.oglNorm16Ext&&!e.useHalfFloat&&c===Ie.UNSIGNED_SHORT){for(var S=0;S<l;++S)e.volumeInfo.scale[S]=65535;return t.create3DFromRaw(o,f,s,l,c,p)}if(c===Ie.FLOAT||e.useHalfFloat&&(c===Ie.SHORT||c===Ie.UNSIGNED_SHORT))return t.create3DFromRaw(o,f,s,l,c,p);if(c===Ie.UNSIGNED_CHAR){for(var T=0;T<l;++T)e.volumeInfo.scale[T]=255;return t.create3DFromRaw(o,f,s,l,c,p)}var _=new Float32Array(g*l);e.volumeInfo.offset=d,e.volumeInfo.scale=w;for(var D=0,b=w.map(function(Q){return 1/Q}),E=0;E<g;E++)for(var N=0;N<l;N++)_[D]=(p[D]-d[N])*b[N],D++;return t.create3DFromRaw(o,f,s,l,Ie.FLOAT,_)}var R=n(l,g,p),M=function(re,oe,ue,ve,ye){re[oe]=ue},G=Ie.UNSIGNED_CHAR;if(c===Ie.UNSIGNED_CHAR)for(var j=0;j<l;++j)R.offset[j]=0,R.scale[j]=255;else e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear")?(G=Ie.FLOAT,M=function(re,oe,ue,ve,ye){re[oe]=(ue-ve)/ye}):(G=Ie.UNSIGNED_CHAR,M=function(re,oe,ue,ve,ye){re[oe]=255*(ue-ve)/ye});if(t.getOpenGLDataType(G),t.getInternalFormat(G,l),t.getFormat(G,l),!e.internalFormat||!e.format||!e.openGLDataType)return Ln("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=l,e.depth=1,e.numberOfDimensions=2;var z=e.context.getParameter(e.context.MAX_TEXTURE_SIZE);z>4096&&(G===Ie.FLOAT||l>=3)&&(z=4096);var V=1,L=1;g>z*z&&(V=Math.ceil(Math.sqrt(g/(z*z))),L=V);var B=Math.sqrt(g)/V;B=sr(B);var $=Math.floor(B*V/o),H=Math.ceil(s/$),X=sr(f*H/L);e.width=B,e.height=X,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),e.volumeInfo.xreps=$,e.volumeInfo.yreps=H,e.volumeInfo.xstride=V,e.volumeInfo.ystride=L,e.volumeInfo.offset=R.offset,e.volumeInfo.scale=R.scale;var Z,Y=B*X*l;G===Ie.FLOAT?Z=new Float32Array(Y):Z=new Uint8Array(Y);for(var J=0,ne=Math.floor(o/V),ee=Math.floor(f/L),te=0;te<H;te++)for(var k=Math.min($,s-te*$),O=l*(e.width-k*Math.floor(o/V)),A=0;A<ee;A++){for(var F=0;F<k;F++)for(var P=l*((te*$+F)*o*f+L*A*o),I=0;I<ne;I++)for(var W=0;W<l;W++)M(Z,J,p[P+V*I*l+W],R.offset[W],R.scale[W]),J++;J+=O}return e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),e._openGLRenderWindow.getWebgl2()&&!e.resizable?(e.context.texStorage2D(e.target,1,e.internalFormat,e.width,e.height),Z!=null&&e.context.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.openGLDataType,Z)):e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,Z),t.deactivate(),!0},t.setOpenGLRenderWindow=function(o){e._openGLRenderWindow!==o&&(t.releaseGraphicsResources(),e._openGLRenderWindow=o,e.context=null,o&&(e.context=e._openGLRenderWindow.getContext()))},t.getMaximumTextureSize=function(o){return o&&o.isCurrent()?o.getIntegerv(o.MAX_TEXTURE_SIZE):-1}}var u5={_openGLRenderWindow:null,_forceInternalFormat:!1,context:null,handle:0,sendParametersTime:null,textureBuildTime:null,numberOfDimensions:0,target:0,format:0,openGLDataType:0,components:0,width:0,height:0,depth:0,autoParameters:!0,wrapS:Or.CLAMP_TO_EDGE,wrapT:Or.CLAMP_TO_EDGE,wrapR:Or.CLAMP_TO_EDGE,minificationFilter:gt.NEAREST,magnificationFilter:gt.NEAREST,minLOD:-1e3,maxLOD:1e3,baseLevel:0,maxLevel:1e3,generateMipmap:!1,useHalfFloat:!0,oglNorm16Ext:null};function z1(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,u5,a),Rt.extend(t,e,a),e.sendParametersTime={},vt(e.sendParametersTime,{mtime:0}),e.textureBuildTime={},vt(e.textureBuildTime,{mtime:0}),Uo(t,e,["format","openGLDataType"]),Tt(t,e,["keyMatrixTime","minificationFilter","magnificationFilter","wrapS","wrapT","wrapR","generateMipmap","oglNorm16Ext"]),wr(t,e,["width","height","volumeInfo","components","handle","target"]),Po(t,e,["openGLRenderWindow"]),s5(t,e)}var W1=ot(z1,"vtkOpenGLTexture"),Vt=i5({newInstance:W1,extend:z1},iu);kt("vtkTexture",W1);var f0={NEAREST:0,LINEAR:1},c5={InterpolationType:f0},I1=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

attribute vec4 vertexMC;

// frag position in VC
//VTK::PositionVC::Dec

// optional normal declaration
//VTK::Normal::Dec

// extra lighting parameters
//VTK::Light::Dec

// Texture coordinates
//VTK::TCoord::Dec

// material property values
//VTK::Color::Dec

// clipping plane vars
//VTK::Clip::Dec

// camera and actor matrix values
//VTK::Camera::Dec

// Apple Bug
//VTK::PrimID::Dec

// picking support
//VTK::Picking::Dec

void main()
{
  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Clip::Impl

  //VTK::PrimID::Impl

  //VTK::PositionVC::Impl

  //VTK::Light::Impl

  //VTK::Picking::Impl
}
`,$1=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the polydata mappers fragment shader

uniform int PrimitiveIDOffset;

// VC position of this fragment
//VTK::PositionVC::Dec

// optional color passed in from the vertex shader, vertexColor
//VTK::Color::Dec

// optional surface normal declaration
//VTK::Normal::Dec

// extra lighting parameters
//VTK::Light::Dec

// Texture coordinates
//VTK::TCoord::Dec

// picking support
//VTK::Picking::Dec

// Depth Peeling Support
//VTK::DepthPeeling::Dec

// clipping plane vars
//VTK::Clip::Dec

// the output of this shader
//VTK::Output::Dec

// Apple Bug
//VTK::PrimID::Dec

// handle coincident offsets
//VTK::Coincident::Dec

//VTK::ZBuffer::Dec

void main()
{
  // VC position of this fragment. This should not branch/return/discard.
  //VTK::PositionVC::Impl

  // Place any calls that require uniform flow (e.g. dFdx) here.
  //VTK::UniformFlow::Impl

  // Set gl_FragDepth here (gl_FragCoord.z by default)
  //VTK::Depth::Impl

  // Early depth peeling abort:
  //VTK::DepthPeeling::PreColor

  // Apple Bug
  //VTK::PrimID::Impl

  //VTK::Clip::Impl

  //VTK::Color::Impl

  // Generate the normal if we are not passed in one
  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Light::Impl

  if (gl_FragData[0].a <= 0.0)
    {
    discard;
    }

  //VTK::DepthPeeling::Impl

  //VTK::Picking::Impl

  // handle coincident offsets
  //VTK::Coincident::Impl

  //VTK::ZBuffer::Impl

  //VTK::RenderPassFragmentShader::Impl
}
`;function f5(t,e){t.replaceShaderCoincidentOffset=function(a,r,n){var i=t.getCoincidentParameters(r,n);if(i&&(i.factor!==0||i.offset!==0)){var u=a.Fragment;u=ie.substitute(u,"//VTK::Coincident::Dec",["uniform float cfactor;","uniform float coffset;"]).result,e.context.getExtension("EXT_frag_depth")&&(i.factor!==0?(u=ie.substitute(u,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,u=ie.substitute(u,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):u=ie.substitute(u,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + 0.000016*coffset;").result),e._openGLRenderWindow.getWebgl2()&&(i.factor!==0?(u=ie.substitute(u,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,u=ie.substitute(u,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):u=ie.substitute(u,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + 0.000016*coffset;").result),a.Fragment=u}}}var ou={implementReplaceShaderCoincidentOffset:f5},Fn=Ne,er=tu.SlicingMode;function xc(t,e,a){var r=e.apply(t);if(r){var n=t.getIndependentComponents();return"".concat(t.getMTime(),"-").concat(n,"-").concat(a)}return"0"}function l5(t,e){e.classHierarchy.push("vtkOpenGLImageMapper"),t.buildPass=function(a){if(a){e.currentRenderPass=null,e.openGLImageSlice=t.getFirstAncestorOfType("vtkOpenGLImageSlice"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.colorTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.pwfTexture.setOpenGLRenderWindow(e._openGLRenderWindow);var r=e._openGLRenderer.getRenderable();e.openGLCamera=e._openGLRenderer.getViewNodeFor(r.getActiveCamera()),e.renderable.isA("vtkImageMapper")&&e.renderable.getSliceAtFocalPoint()&&e.renderable.setSliceFromCamera(r.getActiveCamera())}},t.translucentPass=function(a,r){a&&(e.currentRenderPass=r,t.render())},t.opaqueZBufferPass=function(a){a&&(e.haveSeenDepthRequest=!0,e.renderDepth=!0,t.render(),e.renderDepth=!1)},t.opaquePass=function(a){a&&t.render()},t.getCoincidentParameters=function(a,r){return e.renderable.getResolveCoincidentTopology()?e.renderable.getCoincidentTopologyPolygonOffsetParameters():null},t.render=function(){var a=e.openGLImageSlice.getRenderable(),r=e._openGLRenderer.getRenderable();t.renderPiece(r,a)},t.buildShaders=function(a,r,n){t.getShaderTemplate(a,r,n),e.lastRenderPassShaderReplacement=e.currentRenderPass?e.currentRenderPass.getShaderReplacement():null,e.lastRenderPassShaderReplacement&&e.lastRenderPassShaderReplacement(a),t.replaceShaderValues(a,r,n)},t.getShaderTemplate=function(a,r,n){a.Vertex=I1,a.Fragment=$1,a.Geometry=""},t.replaceShaderValues=function(a,r,n){var i=a.Vertex,u=a.Fragment;i=ie.substitute(i,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,i=ie.substitute(i,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result,i=ie.substitute(i,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result,i=ie.substitute(i,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result;var o=e.openGLTexture.getComponents(),f=n.getProperty().getIndependentComponents(),s=["varying vec2 tcoordVCVSOutput;","uniform float cshift0;","uniform float cscale0;","uniform float pwfshift0;","uniform float pwfscale0;","uniform sampler2D texture1;","uniform sampler2D colorTexture1;","uniform sampler2D pwfTexture1;","uniform float opacity;"];if(f){for(var l=1;l<o;l++)s=s.concat(["uniform float cshift".concat(l,";"),"uniform float cscale".concat(l,";"),"uniform float pwfshift".concat(l,";"),"uniform float pwfscale".concat(l,";")]);switch(o){case 1:s=s.concat(["uniform float mix0;","#define height0 0.5"]);break;case 2:s=s.concat(["uniform float mix0;","uniform float mix1;","#define height0 0.25","#define height1 0.75"]);break;case 3:s=s.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","#define height0 0.17","#define height1 0.5","#define height2 0.83"]);break;case 4:s=s.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","uniform float mix3;","#define height0 0.125","#define height1 0.375","#define height2 0.625","#define height3 0.875"]);break;default:Fn("Unsupported number of independent coordinates.")}}if(u=ie.substitute(u,"//VTK::TCoord::Dec",s).result,f){for(var c=["r","g","b","a"],p=["vec4 tvalue = texture2D(texture1, tcoordVCVSOutput);"],h=0;h<o;h++)p=p.concat(["vec3 tcolor".concat(h," = mix").concat(h," * texture2D(colorTexture1, vec2(tvalue.").concat(c[h]," * cscale").concat(h," + cshift").concat(h,", height").concat(h,")).rgb;"),"float compWeight".concat(h," = mix").concat(h," * texture2D(pwfTexture1, vec2(tvalue.").concat(c[h]," * pwfscale").concat(h," + pwfshift").concat(h,", height").concat(h,")).r;")]);switch(o){case 1:p=p.concat(["gl_FragData[0] = vec4(tcolor0.rgb, opacity);"]);break;case 2:p=p.concat(["float weightSum = compWeight0 + compWeight1;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum))), opacity);"]);break;case 3:p=p.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum))), opacity);"]);break;case 4:p=p.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2 + compWeight3;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum)) + (tcolor3.rgb * (compWeight3 / weightSum))), opacity);"]);break;default:Fn("Unsupported number of independent coordinates.")}u=ie.substitute(u,"//VTK::TCoord::Impl",p).result}else switch(o){case 1:u=ie.substitute(u,"//VTK::TCoord::Impl",["float intensity = texture2D(texture1, tcoordVCVSOutput).r;","vec3 tcolor = texture2D(colorTexture1, vec2(intensity * cscale0 + cshift0, 0.5)).rgb;","float scalarOpacity = texture2D(pwfTexture1, vec2(intensity * pwfscale0 + pwfshift0, 0.5)).r;","gl_FragData[0] = vec4(tcolor, scalarOpacity * opacity);"]).result;break;case 2:u=ie.substitute(u,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","float intensity = tcolor.r*cscale0 + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)).rgb, pwfscale0*tcolor.g + pwfshift0);"]).result;break;case 3:u=ie.substitute(u,"//VTK::TCoord::Impl",["vec4 tcolor = cscale0*texture2D(texture1, tcoordVCVSOutput.st) + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, opacity);"]).result;break;default:u=ie.substitute(u,"//VTK::TCoord::Impl",["vec4 tcolor = cscale0*texture2D(texture1, tcoordVCVSOutput.st) + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);"]).result}e.haveSeenDepthRequest&&(u=ie.substitute(u,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,u=ie.substitute(u,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),a.Vertex=i,a.Fragment=u,t.replaceShaderClip(a,r,n),t.replaceShaderCoincidentOffset(a,r,n)},t.replaceShaderClip=function(a,r,n){var i=a.Vertex,u=a.Fragment;if(e.renderable.getNumberOfClippingPlanes()){var o=e.renderable.getNumberOfClippingPlanes();o>6&&(Ne("OpenGL has a limit of 6 clipping planes"),o=6),i=ie.substitute(i,"//VTK::Clip::Dec",["uniform int numClipPlanes;","uniform vec4 clipPlanes[6];","varying float clipDistancesVSOutput[6];"]).result,i=ie.substitute(i,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,u=ie.substitute(u,"//VTK::Clip::Dec",["uniform int numClipPlanes;","varying float clipDistancesVSOutput[6];"]).result,u=ie.substitute(u,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}a.Vertex=i,a.Fragment=u},t.getNeedToRebuildShaders=function(a,r,n){var i=e.openGLTexture.getComponents(),u=n.getProperty().getIndependentComponents(),o=!1;return(!e.currentRenderPass&&e.lastRenderPassShaderReplacement||e.currentRenderPass&&e.currentRenderPass.getShaderReplacement()!==e.lastRenderPassShaderReplacement)&&(o=!0),o||e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||a.getProgram()===0||e.lastTextureComponents!==i||e.lastIndependentComponents!==u?(e.lastHaveSeenDepthRequest=e.haveSeenDepthRequest,e.lastTextureComponents=i,e.lastIndependentComponents=u,!0):!1},t.updateShaders=function(a,r,n){if(e.lastBoundBO=a,t.getNeedToRebuildShaders(a,r,n)){var i={Vertex:null,Fragment:null,Geometry:null};t.buildShaders(i,r,n);var u=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);u!==a.getProgram()&&(a.setProgram(u),a.getVAO().releaseGraphicsResources()),a.getShaderSourceTime().modified()}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(a.getProgram());a.getVAO().bind(),t.setMapperShaderParameters(a,r,n),t.setCameraShaderParameters(a,r,n),t.setPropertyShaderParameters(a,r,n)},t.setMapperShaderParameters=function(a,r,n){a.getCABO().getElementCount()&&(e.VBOBuildTime>a.getAttributeUpdateTime().getMTime()||a.getShaderSourceTime().getMTime()>a.getAttributeUpdateTime().getMTime())&&(a.getProgram().isAttributeUsed("vertexMC")&&(a.getVAO().addAttributeArray(a.getProgram(),a.getCABO(),"vertexMC",a.getCABO().getVertexOffset(),a.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||Fn("Error setting vertexMC in shader VAO.")),a.getProgram().isAttributeUsed("tcoordMC")&&a.getCABO().getTCoordOffset()&&(a.getVAO().addAttributeArray(a.getProgram(),a.getCABO(),"tcoordMC",a.getCABO().getTCoordOffset(),a.getCABO().getStride(),e.context.FLOAT,a.getCABO().getTCoordComponents(),e.context.FALSE)||Fn("Error setting tcoordMC in shader VAO.")),a.getAttributeUpdateTime().modified());var i=e.openGLTexture.getTextureUnit();a.getProgram().setUniformi("texture1",i);var u=e.openGLTexture.getComponents(),o=n.getProperty().getIndependentComponents();if(o)for(var f=0;f<u;f++)a.getProgram().setUniformf("mix".concat(f),n.getProperty().getComponentWeight(f));for(var s=e.openGLTexture.getShiftAndScale(),l=0;l<u;l++){var c=n.getProperty().getColorWindow(),p=n.getProperty().getColorLevel(),h=o?l:0,g=n.getProperty().getRGBTransferFunction(h);if(g&&n.getProperty().getUseLookupTableScalarRange()){var y=g.getRange();c=y[1]-y[0],p=.5*(y[1]+y[0])}var m=s.scale/c,x=(s.shift-p)/c+.5;a.getProgram().setUniformf("cshift".concat(l),x),a.getProgram().setUniformf("cscale".concat(l),m)}for(var v=0;v<u;v++){var d=1,w=0,C=o?v:0,S=n.getProperty().getPiecewiseFunction(C);if(S){var T=S.getRange(),_=T[1]-T[0],D=.5*(T[0]+T[1]);d=s.scale/_,w=(s.shift-D)/_+.5}a.getProgram().setUniformf("pwfshift".concat(v),w),a.getProgram().setUniformf("pwfscale".concat(v),d)}if(e.haveSeenDepthRequest&&a.getProgram().setUniformi("depthRequest",e.renderDepth?1:0),a.getProgram().isUniformUsed("coffset")){var b=t.getCoincidentParameters(r,n);a.getProgram().setUniformf("coffset",b.offset),a.getProgram().isUniformUsed("cfactor")&&a.getProgram().setUniformf("cfactor",b.factor)}var E=e.colorTexture.getTextureUnit();a.getProgram().setUniformi("colorTexture1",E);var N=e.pwfTexture.getTextureUnit();if(a.getProgram().setUniformi("pwfTexture1",N),e.renderable.getNumberOfClippingPlanes()){var R=e.renderable.getNumberOfClippingPlanes();R>6&&(Ne("OpenGL has a limit of 6 clipping planes"),R=6);var M=a.getCABO().getCoordShiftAndScaleEnabled(),G=M?a.getCABO().getInverseShiftAndScaleMatrix():null,j=G?Mt(e.imagematinv,n.getMatrix()):n.getMatrix();G&&(Ke(j,j),it(j,j,G),Ke(j,j)),Ke(e.imagemat,e.currentInput.getIndexToWorld()),it(e.imagematinv,j,e.imagemat);for(var z=[],V=0;V<R;V++){var L=[];e.renderable.getClippingPlaneInDataCoords(e.imagematinv,V,L);for(var B=0;B<4;B++)z.push(L[B])}a.getProgram().setUniformi("numClipPlanes",R),a.getProgram().setUniform4fv("clipPlanes",z)}},t.setCameraShaderParameters=function(a,r,n){var i=a.getProgram(),u=e.openGLImageSlice.getKeyMatrices(),o=e.currentInput,f=o.getIndexToWorld();it(e.imagemat,u.mcwc,f);var s=e.openGLCamera.getKeyMatrices(r);if(it(e.imagemat,s.wcpc,e.imagemat),a.getCABO().getCoordShiftAndScaleEnabled()){var l=a.getCABO().getInverseShiftAndScaleMatrix();it(e.imagemat,e.imagemat,l)}i.setUniformMatrix("MCPCMatrix",e.imagemat)},t.setPropertyShaderParameters=function(a,r,n){var i=a.getProgram(),u=n.getProperty(),o=u.getOpacity();i.setUniformf("opacity",o)},t.renderPieceStart=function(a,r){t.updateBufferObjects(a,r),e.lastBoundBO=null},t.renderPieceDraw=function(a,r){var n=e.context;e.openGLTexture.activate(),e.colorTexture.activate(),e.pwfTexture.activate(),e.tris.getCABO().getElementCount()&&(t.updateShaders(e.tris,a,r),n.drawArrays(n.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release()),e.openGLTexture.deactivate(),e.colorTexture.deactivate(),e.pwfTexture.deactivate()},t.renderPieceFinish=function(a,r){},t.renderPiece=function(a,r){if(t.invokeEvent({type:"StartEvent"}),e.renderable.update(),e.currentInput=e.renderable.getCurrentImage(),t.invokeEvent({type:"EndEvent"}),!e.currentInput){Fn("No input!");return}t.renderPieceStart(a,r),t.renderPieceDraw(a,r),t.renderPieceFinish(a,r)},t.computeBounds=function(a,r){if(!t.getInput()){ha(e.bounds);return}e.bounds=t.getInput().getBounds()},t.updateBufferObjects=function(a,r){t.getNeedToRebuildBufferObjects(a,r)&&t.buildBufferObjects(a,r)},t.getNeedToRebuildBufferObjects=function(a,r){return e.VBOBuildTime.getMTime()<t.getMTime()||e.VBOBuildTime.getMTime()<r.getMTime()||e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<r.getProperty().getMTime()||e.VBOBuildTime.getMTime()<e.currentInput.getMTime()},t.buildBufferObjects=function(a,r){var n=e.currentInput;if(!!n){var i=n.getPointData()&&n.getPointData().getScalars();if(!!i){var u=i.getDataType(),o=i.getNumberOfComponents(),f=r.getProperty(),s=f.getInterpolationType();s===f0.NEAREST?(e.colorTexture.setMinificationFilter(Ye.NEAREST),e.colorTexture.setMagnificationFilter(Ye.NEAREST),e.pwfTexture.setMinificationFilter(Ye.NEAREST),e.pwfTexture.setMagnificationFilter(Ye.NEAREST)):(e.colorTexture.setMinificationFilter(Ye.LINEAR),e.colorTexture.setMagnificationFilter(Ye.LINEAR),e.pwfTexture.setMinificationFilter(Ye.LINEAR),e.pwfTexture.setMagnificationFilter(Ye.LINEAR));var l=f.getIndependentComponents(),c=l?o:1,p=l?2*c:1,h=xc(f,f.getRGBTransferFunction,c);if(e.colorTextureString!==h){var g=1024,y=g*p*3,m=new Uint8Array(y),x=f.getRGBTransferFunction();if(x){for(var v=new Float32Array(g*3),d=0;d<c;d++){x=f.getRGBTransferFunction(d);var w=x.getRange();if(x.getTable(w[0],w[1],g,v,1),l)for(var C=0;C<g*3;C++)m[d*g*6+C]=255*v[C],m[d*g*6+C+g*3]=255*v[C];else for(var S=0;S<g*3;S++)m[d*g*6+S]=255*v[S]}e.colorTexture.create2DFromRaw(g,p,3,at.UNSIGNED_CHAR,m)}else{for(var T=0;T<g*3;++T)m[T]=255*T/((g-1)*3),m[T+1]=255*T/((g-1)*3),m[T+2]=255*T/((g-1)*3);e.colorTexture.create2DFromRaw(g,1,3,at.UNSIGNED_CHAR,m)}e.colorTextureString=h}var _=xc(f,f.getPiecewiseFunction,c);if(e.pwfTextureString!==_){var D=1024,b=D*p,E=new Uint8Array(b),N=f.getPiecewiseFunction();if(e.pwfTexture.resetFormatAndType(),N){for(var R=new Float32Array(b),M=new Float32Array(D),G=0;G<c;++G)if(N=f.getPiecewiseFunction(G),N===null)R.fill(1);else{var j=N.getRange();if(N.getTable(j[0],j[1],D,M,1),l)for(var z=0;z<D;z++)R[G*D*2+z]=M[z],R[G*D*2+z+D]=M[z];else for(var V=0;V<D;V++)R[G*D*2+V]=M[V]}e.pwfTexture.create2DFromRaw(D,p,1,at.FLOAT,R)}else E.fill(255),e.pwfTexture.create2DFromRaw(D,1,1,at.UNSIGNED_CHAR,E);e.pwfTextureString=_}var L=e.renderable.getClosestIJKAxis(),B=L.ijkMode,$=e.renderable.getSlice();B!==e.renderable.getSlicingMode()&&($=e.renderable.getSliceAtPosition($));var H=e.renderable.isA("vtkImageArrayMapper")?e.renderable.getSubSlice():Math.round($),X=n.getExtent(),Z;B===er.I&&(Z=H-X[0]),B===er.J&&(Z=H-X[2]),(B===er.K||B===er.NONE)&&(Z=H-X[4]);var Y="".concat($,"A").concat(n.getMTime(),"A").concat(i.getMTime(),"B").concat(t.getMTime(),"C").concat(e.renderable.getSlicingMode(),"D").concat(r.getProperty().getMTime());if(e.VBOBuildString!==Y){var J=n.getDimensions();s===f0.NEAREST?(new Set([1,3,4]).has(o)&&u===at.UNSIGNED_CHAR&&!l&&e.openGLTexture.setGenerateMipmap(!0),e.openGLTexture.setMinificationFilter(Ye.NEAREST),e.openGLTexture.setMagnificationFilter(Ye.NEAREST)):(o===4&&u===at.UNSIGNED_CHAR&&!l?(e.openGLTexture.setGenerateMipmap(!0),e.openGLTexture.setMinificationFilter(Ye.LINEAR_MIPMAP_LINEAR)):e.openGLTexture.setMinificationFilter(Ye.LINEAR),e.openGLTexture.setMagnificationFilter(Ye.LINEAR)),e.openGLTexture.setWrapS(Xa.CLAMP_TO_EDGE),e.openGLTexture.setWrapT(Xa.CLAMP_TO_EDGE);for(var ne=J[0]*J[1]*o,ee=new Float32Array(12),te=new Float32Array(8),k=0;k<4;k++)te[k*2]=k%2?1:0,te[k*2+1]=k>1?1:0;var O=[er.X,er.Y,er.Z].includes(e.renderable.getSlicingMode())?$:H,A=n.getSpatialExtent(),F=i.getData(),P=null;if(B===er.I){P=new F.constructor(J[2]*J[1]*o);for(var I=0,W=0;W<J[2];W++)for(var Q=0;Q<J[1];Q++){var re=(Z+Q*J[0]+W*J[0]*J[1])*o;I=(W*J[1]+Q)*o,P.set(F.subarray(re,re+o),I)}J[0]=J[1],J[1]=J[2],ee[0]=O,ee[1]=A[2],ee[2]=A[4],ee[3]=O,ee[4]=A[3],ee[5]=A[4],ee[6]=O,ee[7]=A[2],ee[8]=A[5],ee[9]=O,ee[10]=A[3],ee[11]=A[5]}else if(B===er.J){P=new F.constructor(J[2]*J[0]*o);for(var oe=0,ue=0;ue<J[2];ue++)for(var ve=0;ve<J[0];ve++){var ye=(ve+Z*J[0]+ue*J[0]*J[1])*o;oe=(ue*J[0]+ve)*o,P.set(F.subarray(ye,ye+o),oe)}J[1]=J[2],ee[0]=A[0],ee[1]=O,ee[2]=A[4],ee[3]=A[1],ee[4]=O,ee[5]=A[4],ee[6]=A[0],ee[7]=O,ee[8]=A[5],ee[9]=A[1],ee[10]=O,ee[11]=A[5]}else B===er.K||B===er.NONE?(P=F.subarray(Z*ne,(Z+1)*ne),ee[0]=A[0],ee[1]=A[2],ee[2]=O,ee[3]=A[1],ee[4]=A[2],ee[5]=O,ee[6]=A[0],ee[7]=A[3],ee[8]=O,ee[9]=A[1],ee[10]=A[3],ee[11]=O):Fn("Reformat slicing not yet supported.");e.openGLTexture.create2DFromRaw(J[0],J[1],o,i.getDataType(),P),e.openGLTexture.activate(),e.openGLTexture.sendParameters(),e.openGLTexture.deactivate();var je=we.newInstance({numberOfComponents:3,values:ee});je.setName("points");var Oe=we.newInstance({numberOfComponents:2,values:te});Oe.setName("tcoords");var pe=new Uint16Array(8);pe[0]=3,pe[1]=0,pe[2]=1,pe[3]=3,pe[4]=3,pe[5]=0,pe[6]=3,pe[7]=2;var Xe=we.newInstance({numberOfComponents:1,values:pe});e.tris.getCABO().createVBO(Xe,"polys",Pt.SURFACE,{points:je,tcoords:Oe,cellOffset:0}),e.VBOBuildTime.modified(),e.VBOBuildString=Y}}}}}var p5={VBOBuildTime:0,VBOBuildString:null,openGLTexture:null,tris:null,imagemat:null,imagematinv:null,colorTexture:null,pwfTexture:null,lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastTextureComponents:0};function h5(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,p5,a),Rt.extend(t,e,a),ou.implementReplaceShaderCoincidentOffset(t,e,a),e.tris=Zr.newInstance(),e.openGLTexture=Vt.newInstance({resizable:!0}),e.colorTexture=Vt.newInstance({resizable:!0}),e.pwfTexture=Vt.newInstance({resizable:!0}),e.imagemat=be(new Float64Array(16)),e.imagematinv=be(new Float64Array(16)),Tt(t,e,[]),e.VBOBuildTime={},vt(e.VBOBuildTime),l5(t,e)}var v5=ot(h5,"vtkOpenGLImageMapper");kt("vtkAbstractImageMapper",v5);function g5(t,e){e.classHierarchy.push("vtkOpenGLImageSlice"),t.buildPass=function(a){if(!(!e.renderable||!e.renderable.getVisibility())&&a){if(!e.renderable)return;e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes()}},t.traverseOpaqueZBufferPass=function(a){t.traverseOpaquePass(a)},t.traverseOpaquePass=function(a){!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(a,!0),e.children.forEach(function(r){r.traverse(a)}),t.apply(a,!1))},t.traverseTranslucentPass=function(a){!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(a,!0),e.children.forEach(function(r){r.traverse(a)}),t.apply(a,!1))},t.queryPass=function(a,r){if(a){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?r.incrementOpaqueActorCount():r.incrementTranslucentActorCount()}},t.opaqueZBufferPass=function(a,r){return t.opaquePass(a,r)},t.opaquePass=function(a,r){a&&e.context.depthMask(!0)},t.translucentPass=function(a,r){e.context.depthMask(!a)},t.getKeyMatrices=function(){return e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(Mt(e.keyMatrices.mcwc,e.renderable.getMatrix()),Ke(e.keyMatrices.mcwc,e.keyMatrices.mcwc),e.keyMatrixTime.modified()),e.keyMatrices}}var d5={context:null,keyMatrixTime:null,keyMatrices:null};function y5(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,d5,a),Rt.extend(t,e,a),e.keyMatrixTime={},vt(e.keyMatrixTime,{mtime:0}),e.keyMatrices={mcwc:be(new Float64Array(16))},Tt(t,e,["context"]),g5(t,e)}var m5=ot(y5,"vtkOpenGLImageSlice");kt("vtkImageSlice",m5);function x5(t,e){e.classHierarchy.push("vtkOpenGLVolume"),t.buildPass=function(a){!e.renderable||!e.renderable.getVisibility()||a&&(e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes())},t.queryPass=function(a,r){if(a){if(!e.renderable||!e.renderable.getVisibility())return;r.incrementVolumeCount()}},t.traverseVolumePass=function(a){!e.renderable||!e.renderable.getNestedVisibility()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(a,!0),e.children[0].traverse(a),t.apply(a,!1))},t.volumePass=function(a){!e.renderable||!e.renderable.getVisibility()||e.context.depthMask(!a)},t.getKeyMatrices=function(){return e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(e.renderable.computeMatrix(),Mt(e.MCWCMatrix,e.renderable.getMatrix()),Ke(e.MCWCMatrix,e.MCWCMatrix),e.renderable.getIsIdentity()?xr(e.normalMatrix):(oi(e.normalMatrix,e.MCWCMatrix),si(e.normalMatrix,e.normalMatrix)),e.keyMatrixTime.modified()),{mcwc:e.MCWCMatrix,normalMatrix:e.normalMatrix}}}var w5={};function C5(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,w5,a),Rt.extend(t,e,a),e.keyMatrixTime={},vt(e.keyMatrixTime,{mtime:0}),e.normalMatrix=new Float64Array(9),e.MCWCMatrix=new Float64Array(16),Tt(t,e,["context"]),x5(t,e)}var S5=ot(C5,"vtkOpenGLVolume");kt("vtkVolume",S5);function T5(t,e){e.classHierarchy.push("vtkFramebuffer"),t.getBothMode=function(){return e.context.FRAMEBUFFER},t.saveCurrentBindingsAndBuffers=function(a){var r=typeof a!="undefined"?a:t.getBothMode();t.saveCurrentBindings(r),t.saveCurrentBuffers(r)},t.saveCurrentBindings=function(a){if(!e.context){Ne("you must set the OpenGLRenderWindow before calling saveCurrentBindings");return}var r=e.context;e.previousDrawBinding=r.getParameter(e.context.FRAMEBUFFER_BINDING),e.previousActiveFramebuffer=e._openGLRenderWindow.getActiveFramebuffer()},t.saveCurrentBuffers=function(a){},t.restorePreviousBindingsAndBuffers=function(a){var r=typeof a!="undefined"?a:t.getBothMode();t.restorePreviousBindings(r),t.restorePreviousBuffers(r)},t.restorePreviousBindings=function(a){if(!e.context){Ne("you must set the OpenGLRenderWindow before calling restorePreviousBindings");return}var r=e.context;r.bindFramebuffer(r.FRAMEBUFFER,e.previousDrawBinding),e._openGLRenderWindow.setActiveFramebuffer(e.previousActiveFramebuffer)},t.restorePreviousBuffers=function(a){},t.bind=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=a;r===null&&(r=e.context.FRAMEBUFFER),e.context.bindFramebuffer(r,e.glFramebuffer);for(var n=0;n<e.colorBuffers.length;n++)e.colorBuffers[n].bind();e._openGLRenderWindow.setActiveFramebuffer(t)},t.create=function(a,r){if(!e.context){Ne("you must set the OpenGLRenderWindow before calling create");return}e.glFramebuffer=e.context.createFramebuffer(),e.glFramebuffer.width=a,e.glFramebuffer.height=r},t.setColorBuffer=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=e.context;if(!n){Ne("you must set the OpenGLRenderWindow before calling setColorBuffer");return}var i=n.COLOR_ATTACHMENT0;if(r>0)if(e._openGLRenderWindow.getWebgl2())i+=r;else{Ne("Using multiple framebuffer attachments requires WebGL 2");return}e.colorBuffers[r]=a,n.framebufferTexture2D(n.FRAMEBUFFER,i,n.TEXTURE_2D,a.getHandle(),0)},t.removeColorBuffer=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=e.context;if(!r){Ne("you must set the OpenGLRenderWindow before calling removeColorBuffer");return}var n=r.COLOR_ATTACHMENT0;if(a>0)if(e._openGLRenderWindow.getWebgl2())n+=a;else{Ne("Using multiple framebuffer attachments requires WebGL 2");return}r.framebufferTexture2D(r.FRAMEBUFFER,n,r.TEXTURE_2D,null,0),e.colorBuffers=e.colorBuffers.splice(a,1)},t.setDepthBuffer=function(a){if(!e.context){Ne("you must set the OpenGLRenderWindow before calling setDepthBuffer");return}if(e._openGLRenderWindow.getWebgl2()){var r=e.context;r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,a.getHandle(),0)}else Ne("Attaching depth buffer textures to fbo requires WebGL 2")},t.removeDepthBuffer=function(){if(!e.context){Ne("you must set the OpenGLRenderWindow before calling removeDepthBuffer");return}if(e._openGLRenderWindow.getWebgl2()){var a=e.context;a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,null,0)}else Ne("Attaching depth buffer textures to framebuffers requires WebGL 2")},t.getGLFramebuffer=function(){return e.glFramebuffer},t.setOpenGLRenderWindow=function(a){e._openGLRenderWindow!==a&&(t.releaseGraphicsResources(),e._openGLRenderWindow=a,e.context=null,a&&(e.context=e._openGLRenderWindow.getContext()))},t.releaseGraphicsResources=function(){e.glFramebuffer&&e.context.deleteFramebuffer(e.glFramebuffer)},t.getSize=function(){var a=[0,0];return e.glFramebuffer!==null&&(a[0]=e.glFramebuffer.width,a[1]=e.glFramebuffer.height),a},t.populateFramebuffer=function(){if(!e.context){Ne("you must set the OpenGLRenderWindow before calling populateFrameBuffer");return}t.bind();var a=e.context,r=Vt.newInstance();r.setOpenGLRenderWindow(e._openGLRenderWindow),r.setMinificationFilter(Ye.LINEAR),r.setMagnificationFilter(Ye.LINEAR),r.create2DFromRaw(e.glFramebuffer.width,e.glFramebuffer.height,4,at.UNSIGNED_CHAR,null),t.setColorBuffer(r),e.depthTexture=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,e.depthTexture),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,e.glFramebuffer.width,e.glFramebuffer.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,e.depthTexture)},t.getColorTexture=function(){return e.colorBuffers[0]}}var _5={glFramebuffer:null,colorBuffers:null,depthTexture:null,previousDrawBinding:0,previousReadBinding:0,previousDrawBuffer:0,previousReadBuffer:0,previousActiveFramebuffer:null};function H1(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,_5,a),vt(t,e),e.colorBuffers&&Ne("you cannot initialize colorBuffers through the constructor. You should call setColorBuffer() instead."),e.colorBuffers=[],Go(t,e,["colorBuffers"]),T5(t,e)}var D5=ot(H1,"vtkFramebuffer"),zo={newInstance:D5,extend:H1},l0={NEAREST:0,LINEAR:1,FAST_LINEAR:2},K1={FRACTIONAL:0,PROPORTIONAL:1},su={InterpolationType:l0,OpacityMode:K1},X1={COMPOSITE_BLEND:0,MAXIMUM_INTENSITY_BLEND:1,MINIMUM_INTENSITY_BLEND:2,AVERAGE_INTENSITY_BLEND:3,ADDITIVE_INTENSITY_BLEND:4,RADON_TRANSFORM_BLEND:5},E5={OFF:0,NORMALIZED:1,RAW:2},q1={BlendMode:X1,FilterMode:E5},O5=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

attribute vec4 vertexDC;

varying vec3 vertexVCVSOutput;
uniform mat4 PCVCMatrix;

uniform float dcxmin;
uniform float dcxmax;
uniform float dcymin;
uniform float dcymax;

void main()
{
  // dcsmall is the device coords reduced to the
  // x y area covered by the volume
  vec4 dcsmall = vec4(
    dcxmin + 0.5 * (vertexDC.x + 1.0) * (dcxmax - dcxmin),
    dcymin + 0.5 * (vertexDC.y + 1.0) * (dcymax - dcymin),
    vertexDC.z,
    vertexDC.w);
  vec4 vcpos = PCVCMatrix * dcsmall;
  vertexVCVSOutput = vcpos.xyz/vcpos.w;
  gl_Position = dcsmall;
}
`,b5=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkVolumeFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the volume mappers fragment shader

// the output of this shader
//VTK::Output::Dec

varying vec3 vertexVCVSOutput;

// first declare the settings from the mapper
// that impact the code paths in here

// always set vtkNumComponents 1,2,3,4
//VTK::NumComponents

// possibly define vtkTrilinearOn
//VTK::TrilinearOn

// possibly define vtkIndependentComponents
//VTK::IndependentComponentsOn

// possibly define any "proportional" components
//VTK::vtkProportionalComponents

// Define the blend mode to use
#define vtkBlendMode //VTK::BlendMode

// Possibly define vtkImageLabelOutlineOn
//VTK::ImageLabelOutlineOn

#ifdef vtkImageLabelOutlineOn
uniform int outlineThickness;
uniform float outlineOpacity;
uniform float vpWidth;
uniform float vpHeight;
uniform float vpOffsetX;
uniform float vpOffsetY;
uniform mat4 PCWCMatrix;
uniform mat4 vWCtoIDX;
#endif

// define vtkLightComplexity
//VTK::LightComplexity
#if vtkLightComplexity > 0
uniform float vSpecularPower;
uniform float vAmbient;
uniform float vDiffuse;
uniform float vSpecular;
//VTK::Light::Dec
#endif

//VTK::VolumeShadowOn
//VTK::SurfaceShadowOn
//VTK::localAmbientOcclusionOn
//VTK::LAO::Dec
//VTK::VolumeShadow::Dec

// define vtkComputeNormalFromOpacity
//VTK::vtkComputeNormalFromOpacity

// possibly define vtkGradientOpacityOn
//VTK::GradientOpacityOn
#ifdef vtkGradientOpacityOn
uniform float goscale0;
uniform float goshift0;
uniform float gomin0;
uniform float gomax0;
#if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)
uniform float goscale1;
uniform float goshift1;
uniform float gomin1;
uniform float gomax1;
#if vtkNumComponents >= 3
uniform float goscale2;
uniform float goshift2;
uniform float gomin2;
uniform float gomax2;
#endif
#if vtkNumComponents >= 4
uniform float goscale3;
uniform float goshift3;
uniform float gomin3;
uniform float gomax3;
#endif
#endif
#endif

// if you want to see the raw tiled
// data in webgl1 uncomment the following line
// #define debugtile

// camera values
uniform float camThick;
uniform float camNear;
uniform float camFar;
uniform int cameraParallel;

// values describing the volume geometry
uniform vec3 vOriginVC;
uniform vec3 vSpacing;
uniform ivec3 volumeDimensions; // 3d texture dimensions
uniform vec3 vPlaneNormal0;
uniform float vPlaneDistance0;
uniform vec3 vPlaneNormal1;
uniform float vPlaneDistance1;
uniform vec3 vPlaneNormal2;
uniform float vPlaneDistance2;
uniform vec3 vPlaneNormal3;
uniform float vPlaneDistance3;
uniform vec3 vPlaneNormal4;
uniform float vPlaneDistance4;
uniform vec3 vPlaneNormal5;
uniform float vPlaneDistance5;

//VTK::ClipPlane::Dec

// opacity and color textures
uniform sampler2D otexture;
uniform float oshift0;
uniform float oscale0;
uniform sampler2D ctexture;
uniform float cshift0;
uniform float cscale0;

// jitter texture
uniform sampler2D jtexture;

// some 3D texture values
uniform float sampleDistance;
uniform vec3 vVCToIJK;

// the heights defined below are the locations
// for the up to four components of the tfuns
// the tfuns have a height of 2XnumComps pixels so the
// values are computed to hit the middle of the two rows
// for that component
#ifdef vtkIndependentComponentsOn
#if vtkNumComponents == 2
uniform float mix0;
uniform float mix1;
#define height0 0.25
#define height1 0.75
#endif
#if vtkNumComponents == 3
uniform float mix0;
uniform float mix1;
uniform float mix2;
#define height0 0.17
#define height1 0.5
#define height2 0.83
#endif
#if vtkNumComponents == 4
uniform float mix0;
uniform float mix1;
uniform float mix2;
uniform float mix3;
#define height0 0.125
#define height1 0.375
#define height2 0.625
#define height3 0.875
#endif
#endif

#if vtkNumComponents >= 2
uniform float oshift1;
uniform float oscale1;
uniform float cshift1;
uniform float cscale1;
#endif
#if vtkNumComponents >= 3
uniform float oshift2;
uniform float oscale2;
uniform float cshift2;
uniform float cscale2;
#endif
#if vtkNumComponents >= 4
uniform float oshift3;
uniform float oscale3;
uniform float cshift3;
uniform float cscale3;
#endif

uniform vec4 ipScalarRangeMin;
uniform vec4 ipScalarRangeMax;

// declaration for intermixed geometry
//VTK::ZBuffer::Dec

//=======================================================================
// global and custom variables (a temporary section before photorealistics rendering module is complete)
vec3 rayDirVC;
float sampleDistanceISVS;
float sampleDistanceIS;

#define SQRT3    1.7321
#define INV4PI   0.0796
#define EPSILON  0.001
#define PI       3.1415
#define PI2      9.8696

//=======================================================================
// Webgl2 specific version of functions
#if __VERSION__ == 300

uniform highp sampler3D texture1;

vec4 getTextureValue(vec3 pos)
{
  vec4 tmp = texture(texture1, pos);
#if vtkNumComponents == 1
  tmp.a = tmp.r;
#endif
#if vtkNumComponents == 2
  tmp.a = tmp.g;
#endif
#if vtkNumComponents == 3
  tmp.a = length(tmp.rgb);
#endif
  return tmp;
}

//=======================================================================
// WebGL1 specific version of functions
#else

uniform sampler2D texture1;

uniform float texWidth;
uniform float texHeight;
uniform int xreps;
uniform int xstride;
uniform int ystride;

// if computing trilinear values from multiple z slices
#ifdef vtkTrilinearOn
vec4 getTextureValue(vec3 ijk)
{
  float zoff = 1.0/float(volumeDimensions.z);
  vec4 val1 = getOneTextureValue(ijk);
  vec4 val2 = getOneTextureValue(vec3(ijk.xy, ijk.z + zoff));

  float indexZ = float(volumeDimensions)*ijk.z;
  float zmix =  indexZ - floor(indexZ);

  return mix(val1, val2, zmix);
}

vec4 getOneTextureValue(vec3 ijk)
#else // nearest or fast linear
vec4 getTextureValue(vec3 ijk)
#endif
{
  vec3 tdims = vec3(volumeDimensions);

#ifdef debugtile
  vec2 tpos = vec2(ijk.x, ijk.y);
  vec4 tmp = texture2D(texture1, tpos);
  tmp.a = 1.0;

#else
  int z = int(ijk.z * tdims.z);
  int yz = z / xreps;
  int xz = z - yz*xreps;

  int tileWidth = volumeDimensions.x/xstride;
  int tileHeight = volumeDimensions.y/ystride;

  xz *= tileWidth;
  yz *= tileHeight;

  float ni = float(xz) + (ijk.x*float(tileWidth));
  float nj = float(yz) + (ijk.y*float(tileHeight));

  vec2 tpos = vec2(ni/texWidth, nj/texHeight);

  vec4 tmp = texture2D(texture1, tpos);

#if vtkNumComponents == 1
  tmp.a = tmp.r;
#endif
#if vtkNumComponents == 2
  tmp.g = tmp.a;
#endif
#if vtkNumComponents == 3
  tmp.a = length(tmp.rgb);
#endif
#endif

  return tmp;
}

// End of Webgl1 specific code
//=======================================================================
#endif

//=======================================================================
// transformation between VC and IS space

// convert vector position from idx to vc
#if vtkLightComplexity > 0
vec3 IStoVC(vec3 posIS){
  vec3 posVC = posIS / vVCToIJK;
  return posVC.x * vPlaneNormal0 + 
         posVC.y * vPlaneNormal2 + 
         posVC.z * vPlaneNormal4 + 
         vOriginVC;
}

// convert vector position from vc to idx
vec3 VCtoIS(vec3 posVC){
  posVC = posVC - vOriginVC;
  posVC = vec3(
    dot(posVC, vPlaneNormal0),
    dot(posVC, vPlaneNormal2),
    dot(posVC, vPlaneNormal4));  
  return posVC * vVCToIJK;
}
#endif

//Rotate vector to view coordinate
#if (vtkLightComplexity > 0) || (defined vtkGradientOpacityOn)
void rotateToViewCoord(inout vec3 dirIS){
  dirIS.xyz =
    dirIS.x * vPlaneNormal0 +
    dirIS.y * vPlaneNormal2 +
    dirIS.z * vPlaneNormal4;
}

//Rotate vector to idx coordinate
vec3 rotateToIDX(vec3 dirVC){
  vec3 dirIS;
  dirIS.xyz = vec3(
    dot(dirVC, vPlaneNormal0),
    dot(dirVC, vPlaneNormal2),
    dot(dirVC, vPlaneNormal4));  
  return dirIS;
}
#endif

//=======================================================================
// Given a normal compute the gradient opacity factors
float computeGradientOpacityFactor(
  float normalMag, float goscale, float goshift, float gomin, float gomax)
{
#if defined(vtkGradientOpacityOn)
  return clamp(normalMag * goscale + goshift, gomin, gomax);
#else
  return 1.0;
#endif
}

//=======================================================================
// compute the normal and gradient magnitude for a position, uses forward difference
#if (vtkLightComplexity > 0) || (defined vtkGradientOpacityOn)
  #ifdef vtkComputeNormalFromOpacity
    #ifdef vtkGradientOpacityOn
      vec4 computeNormalForDensity(vec3 pos, float scalar, vec3 tstep, out mat3 scalarInterp, out vec3 secondaryGradientMag)
      {
        vec4 result;
        scalarInterp[0][0] = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)).a;
        scalarInterp[0][1] = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)).a;
        scalarInterp[0][2] = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)).a;
        // look up scalar values for computing secondary gradient
        scalarInterp[1][0] = getTextureValue(pos + vec3(2.0*tstep.x, 0.0, 0.0)).a;
        scalarInterp[1][1] = getTextureValue(pos + vec3(0.0, 2.0*tstep.y, 0.0)).a;
        scalarInterp[1][2] = getTextureValue(pos + vec3(0.0, 0.0, 2.0*tstep.z)).a;
        scalarInterp[2][0] = getTextureValue(pos + vec3(tstep.x, tstep.y, 0.0)).a;
        scalarInterp[2][1] = getTextureValue(pos + vec3(tstep.x, 0.0, tstep.z)).a;
        scalarInterp[2][2] = getTextureValue(pos + vec3(0.0, tstep.y, tstep.z)).a;
        result.x = scalarInterp[0][0] - scalar;
        result.y = scalarInterp[0][1] - scalar;
        result.z = scalarInterp[0][2] - scalar;
        // divide by spacing
        result.xyz /= vSpacing;
        result.w = length(result.xyz);
        rotateToViewCoord(result.xyz);
        secondaryGradientMag.x = length(vec3(scalarInterp[1][0] - scalarInterp[0][0],
                                             scalarInterp[2][0] - scalarInterp[0][0],
                                             scalarInterp[2][1] - scalarInterp[0][0]) / vSpacing);
        secondaryGradientMag.y = length(vec3(scalarInterp[2][0] - scalarInterp[0][1],
                                             scalarInterp[1][1] - scalarInterp[0][1],
                                             scalarInterp[2][2] - scalarInterp[0][1]) / vSpacing);
        secondaryGradientMag.z = length(vec3(scalarInterp[2][1] - scalarInterp[0][2],
                                             scalarInterp[2][2] - scalarInterp[0][2],
                                             scalarInterp[1][2] - scalarInterp[0][2]) / vSpacing);
        if (length(result.xyz) > 0.0) {
          return vec4(normalize(result.xyz),result.w);
        } else {
          return vec4(0.0);
        }
      }

      vec4 computeDensityNormal(float scalar, float gradientMag, mat3 scalarInterp, vec3 secondaryGradientMag)
      {
        vec4 opacityG;
        vec3 opacityInterp = vec3(0.0);
        float opacity = texture2D(otexture, vec2(scalar * oscale0 + oshift0, 0.5)).r;
        if (gradientMag >= 0.0){
          opacity *= computeGradientOpacityFactor(gradientMag, goscale0, goshift0, gomin0, gomax0);
        }
        opacityInterp.x = texture2D(otexture, vec2(scalarInterp[0][0] * oscale0 + oshift0, 0.5)).r; 
        if (secondaryGradientMag.x >= 0.0){
          opacityInterp.x *= computeGradientOpacityFactor(secondaryGradientMag.x, goscale0, goshift0, gomin0, gomax0);
        }
    
        opacityInterp.y = texture2D(otexture, vec2(scalarInterp[0][1] * oscale0 + oshift0, 0.5)).r;
        if (secondaryGradientMag.y >= 0.0){
          opacityInterp.y *= computeGradientOpacityFactor(secondaryGradientMag.y, goscale0, goshift0, gomin0, gomax0);
        }

        opacityInterp.z = texture2D(otexture, vec2(scalarInterp[0][2] * oscale0 + oshift0, 0.5)).r;
        if (secondaryGradientMag.z >= 0.0){
          opacityInterp.z *= computeGradientOpacityFactor(secondaryGradientMag.z, goscale0, goshift0, gomin0, gomax0);
        }

        opacityG.xyz = opacityInterp - vec3(opacity,opacity,opacity);
        // divide by spacing
        opacityG.xyz /= vSpacing;
        opacityG.w = length(opacityG.xyz);
        rotateToViewCoord(opacityG.xyz);
        if (length(opacityG.xyz) > 0.0) {  
          return vec4(normalize(opacityG.xyz),opacityG.w);
        } else {
          return vec4(0.0);
        }
      } 

    #else
    //if gradient opacity not on but using density gradient
      vec4 computeDensityNormal(float scalar, vec3 scalarInterp) 
      { 
        vec4 opacityG; 
        float opacity = texture2D(otexture, vec2(scalar * oscale0 + oshift0, 0.5)).r; 
        opacityG.x = texture2D(otexture, vec2(scalarInterp.x * oscale0 + oshift0, 0.5)).r - opacity; 
        opacityG.y = texture2D(otexture, vec2(scalarInterp.y * oscale0 + oshift0, 0.5)).r - opacity; 
        opacityG.z = texture2D(otexture, vec2(scalarInterp.z * oscale0 + oshift0, 0.5)).r - opacity; 
        // divide by spacing 
        opacityG.xyz /= vSpacing; 
        opacityG.w = length(opacityG.xyz); 
        // rotate to View Coords 
        rotateToViewCoord(opacityG.xyz);
        if (length(opacityG.xyz) > 0.0) {     
          return vec4(normalize(opacityG.xyz),opacityG.w); 
        } else { 
          return vec4(0.0); 
        } 
      } 
      vec4 computeNormalForDensity(vec3 pos, float scalar, vec3 tstep, out vec3 scalarInterp) 
      { 
        vec4 result; 
        scalarInterp.x = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)).a; 
        scalarInterp.y = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)).a; 
        scalarInterp.z = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)).a; 
        result.x = scalarInterp.x - scalar; 
        result.y = scalarInterp.y - scalar; 
        result.z = scalarInterp.z - scalar;   
        // divide by spacing
        result.xyz /= vSpacing;
        result.w = length(result.xyz); 
        // rotate to View Coords 
        rotateToViewCoord(result.xyz);      
        if (length(result.xyz) > 0.0) {     
          return vec4(normalize(result.xyz),result.w); 
        } else { 
          return vec4(0.0); 
        } 
      }           
    #endif
  #endif
  // compute scalar density
  vec4 computeNormal(vec3 pos, float scalar, vec3 tstep)  
  {  
    vec4 result;  
    result.x = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)).a - scalar;  
    result.y = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)).a - scalar;  
    result.z = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)).a - scalar;  
    // divide by spacing  
    result.xyz /= vSpacing;  
    result.w = length(result.xyz);
    if (result.w > 0.0){
      // rotate to View Coords  
      rotateToViewCoord(result.xyz);
      return vec4(normalize(result.xyz),result.w);  
    } else {
      return vec4(0.0);
    }
  }  
#endif

#ifdef vtkImageLabelOutlineOn
vec3 fragCoordToIndexSpace(vec4 fragCoord) {
  vec4 pcPos = vec4(
    (fragCoord.x / vpWidth - vpOffsetX - 0.5) * 2.0,
    (fragCoord.y / vpHeight - vpOffsetY - 0.5) * 2.0,
    (fragCoord.z - 0.5) * 2.0,
    1.0);

  vec4 worldCoord = PCWCMatrix * pcPos;
  vec4 vertex = (worldCoord/worldCoord.w);

  vec3 index = (vWCtoIDX * vertex).xyz;

  // half voxel fix for labelmapOutline 
  return (index + vec3(0.5)) / vec3(volumeDimensions);
}
#endif

//=======================================================================
// compute the normals and gradient magnitudes for a position
// for independent components
mat4 computeMat4Normal(vec3 pos, vec4 tValue, vec3 tstep)
{
  mat4 result;
  vec4 distX = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)) - tValue;
  vec4 distY = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)) - tValue;
  vec4 distZ = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)) - tValue;

  // divide by spacing
  distX /= vSpacing.x;
  distY /= vSpacing.y;
  distZ /= vSpacing.z;

  mat3 rot;
  rot[0] = vPlaneNormal0;
  rot[1] = vPlaneNormal2;
  rot[2] = vPlaneNormal4;

#if !defined(vtkComponent0Proportional)
  result[0].xyz = vec3(distX.r, distY.r, distZ.r);
  result[0].a = length(result[0].xyz);
  result[0].xyz *= rot;
  if (result[0].w > 0.0)
  {
    result[0].xyz /= result[0].w;
  }
#endif

// optionally compute the 2nd component
#if vtkNumComponents >= 2 && !defined(vtkComponent1Proportional)
  result[1].xyz = vec3(distX.g, distY.g, distZ.g);
  result[1].a = length(result[1].xyz);
  result[1].xyz *= rot;
  if (result[1].w > 0.0)
  {
    result[1].xyz /= result[1].w;
  }
#endif

// optionally compute the 3rd component
#if vtkNumComponents >= 3 && !defined(vtkComponent2Proportional)
  result[2].xyz = vec3(distX.b, distY.b, distZ.b);
  result[2].a = length(result[2].xyz);
  result[2].xyz *= rot;
  if (result[2].w > 0.0)
  {
    result[2].xyz /= result[2].w;
  }
#endif

// optionally compute the 4th component
#if vtkNumComponents >= 4 && !defined(vtkComponent3Proportional)
  result[3].xyz = vec3(distX.a, distY.a, distZ.a);
  result[3].a = length(result[3].xyz);
  result[3].xyz *= rot;
  if (result[3].w > 0.0)
  {
    result[3].xyz /= result[3].w;
  }
#endif

  return result;
}

//=======================================================================
// global shadow - secondary ray
#if defined(VolumeShadowOn) || defined(localAmbientOcclusionOn)
float random()
{ 
  float rand = fract(sin(dot(gl_FragCoord.xy,vec2(12.9898,78.233)))*43758.5453123);
  float jitter=texture2D(jtexture,gl_FragCoord.xy/32.).r;
  uint pcg_state = floatBitsToUint(jitter);
  uint state = pcg_state;
  pcg_state = pcg_state * uint(747796405) + uint(2891336453);
  uint word = ((state >> ((state >> uint(28)) + uint(4))) ^ state) * uint(277803737);
  return (float((((word >> uint(22)) ^ word) >> 1 ))/float(2147483647) + rand)/2.0;
}
#endif

#ifdef VolumeShadowOn
// henyey greenstein phase function
float phase_function(float cos_angle)
{
  // divide by 2.0 instead of 4pi to increase intensity
  return ((1.0-anisotropy2)/pow(1.0+anisotropy2-2.0*anisotropy*cos_angle, 1.5))/2.0;
}

// Computes the intersection between a ray and a box
struct Hit
{
  float tmin;
  float tmax;
};

struct Ray
{
  vec3 origin;
  vec3 dir;
  vec3 invDir;
};

bool BBoxIntersect(vec3 boundMin, vec3 boundMax, const Ray r, out Hit hit)
{
  vec3 tbot = r.invDir * (boundMin - r.origin);
  vec3 ttop = r.invDir * (boundMax - r.origin);
  vec3 tmin = min(ttop, tbot);
  vec3 tmax = max(ttop, tbot);
  vec2 t = max(tmin.xx, tmin.yz);
  float t0 = max(t.x, t.y);
  t = min(tmax.xx, tmax.yz);
  float t1 = min(t.x, t.y);
  hit.tmin = t0;
  hit.tmax = t1;
  return t1 > max(t0,0.0);
}

// As BBoxIntersect requires the inverse of the ray coords,
// this function is used to avoid numerical issues
void safe_0_vector(inout Ray ray)
{
  if(abs(ray.dir.x) < EPSILON) ray.dir.x = sign(ray.dir.x) * EPSILON;
  if(abs(ray.dir.y) < EPSILON) ray.dir.y = sign(ray.dir.y) * EPSILON;
  if(abs(ray.dir.z) < EPSILON) ray.dir.z = sign(ray.dir.z) * EPSILON;
}

float volume_shadow(vec3 posIS, vec3 lightDirNormIS)
{
  float shadow = 1.0;
  float opacity = 0.0;

  // modify sample distance with a random number between 1.5 and 3.0
  float sampleDistanceISVS_jitter = sampleDistanceISVS * mix(1.5, 3.0, random());
  float opacityPrev = texture2D(otexture, vec2(getTextureValue(posIS).r * oscale0 + oshift0, 0.5)).r;
  
  // in case the first sample near surface has a very tiled light ray, we need to offset start position 
  posIS += sampleDistanceISVS_jitter * lightDirNormIS;  

  // compute the start and end points for the ray
  Ray ray;
  Hit hit;  
  ray.origin = posIS;
  ray.dir = lightDirNormIS;
  safe_0_vector(ray);
  ray.invDir = 1.0/ray.dir;
  
  if(!BBoxIntersect(vec3(0.0),vec3(1.0), ray, hit))
  {
    return 1.0;
  }
  float maxdist = hit.tmax;

  // interpolate shadow ray length between: 1 unit of sample distance in IS to SQRT3, based on globalIlluminationReach
  float maxgi = mix(sampleDistanceISVS_jitter,SQRT3,giReach);
  maxdist = min(maxdist,maxgi);
  if(maxdist < EPSILON) {
    return 1.0;
  }

  // support gradient opacity
  #ifdef vtkGradientOpacityOn
    vec4 normal;
  #endif

  float current_dist = 0.0;
  float current_step = length(sampleDistanceISVS_jitter * lightDirNormIS);
  float clamped_step = 0.0;

  vec4 scalar = vec4(0.0);
  while(current_dist < maxdist)
  {
    scalar = getTextureValue(posIS);
    opacity = texture2D(otexture, vec2(scalar.r * oscale0 + oshift0, 0.5)).r;
    #ifdef vtkGradientOpacityOn 
      normal = computeNormal(posIS, scalar.a, vec3(1.0/vec3(volumeDimensions))); 
      opacity *= computeGradientOpacityFactor(normal.w, goscale0, goshift0, gomin0, gomax0);
    #endif    
    shadow *= 1.0 - opacity;

    // optimization: early termination
    if (shadow < EPSILON){
      return 0.0;
    }

    clamped_step = min(maxdist - current_dist, current_step);
    posIS += clamped_step * lightDirNormIS;
    current_dist += current_step;
  }

  return shadow;
}

vec3 applyShadowRay(vec3 tColor, vec3 posIS, vec3 viewDirectionVC)
{
  vec3 vertLight = vec3(0.0);
  vec3 secondary_contrib = vec3(0.0);
  // here we assume only positional light, no effect of cones
  for (int i = 0; i < lightNum; i++)
  {
    #if(vtkLightComplexity==3)
      if (lightPositional[i] == 1){
        vertLight = lightPositionVC[i] - IStoVC(posIS);
      }else{
        vertLight = - lightDirectionVC[i];
      }
    #else
      vertLight = - lightDirectionVC[i];
    #endif
    // here we assume achromatic light, only intensity
    float dDotL = dot(viewDirectionVC, normalize(vertLight));
    // isotropic scatter returns 0.5 instead of 1/4pi to increase intensity
    float phase_attenuation = 0.5;
    if (abs(anisotropy) > EPSILON){
      phase_attenuation = phase_function(dDotL);
    }
    float vol_shadow = volume_shadow(posIS, normalize(rotateToIDX(vertLight)));
    secondary_contrib += tColor * vDiffuse * lightColor[i] * vol_shadow * phase_attenuation;     
    secondary_contrib += tColor * vAmbient;
  } 
  return secondary_contrib;
}
#endif

//=======================================================================
// local ambient occlusion
#ifdef localAmbientOcclusionOn
vec3 sample_direction_uniform(int i)
{
  float rand = random() * 0.5;
  float theta = PI2 * (kernelSample[i][0] + rand);
  float phi = acos(2.0 * (kernelSample[i][1] + rand) -1.0) / 2.5;
  return normalize(vec3(cos(theta)*sin(phi), sin(theta)*sin(phi), cos(phi)));
}

// return a matrix that transform startDir into z axis; startDir should be normalized
mat3 zBaseRotationalMatrix(vec3 startDir){
  vec3 axis = cross(startDir, vec3(0.0,0.0,1.0));
  float cosA = startDir.z;
  float k = 1.0 / (1.0 + cosA);
  mat3 matrix = mat3((axis.x * axis.x * k) + cosA, (axis.y * axis.x * k) - axis.z, (axis.z * axis.x * k) + axis.y,
              (axis.x * axis.y * k) + axis.z, (axis.y * axis.y * k) + cosA, (axis.z * axis.y * k) - axis.x,
              (axis.x * axis.z * k) - axis.y, (axis.y * axis.z * k) + axis.x, (axis.z * axis.z * k) + cosA);
  return matrix;
}

float computeLAO(vec3 posIS, float opacity, vec3 lightDir, vec4 normal){
  // apply LAO only at selected locations, otherwise return full brightness
  if (normal.w > 0.0 && opacity > 0.05){
    float total_transmittance = 0.0;
    mat3 inverseRotateBasis = inverse(zBaseRotationalMatrix(normalize(-normal.xyz)));
    vec3 currPos, randomDirStep;
    float weight, transmittance, opacity;
    for (int i = 0; i < kernelSize; i++)
    {
      randomDirStep = inverseRotateBasis * sample_direction_uniform(i) * sampleDistanceIS;
      weight = 1.0 - dot(normalize(lightDir), normalize(randomDirStep));
      currPos = posIS;
      transmittance = 1.0;
      for (int j = 0; j < kernelRadius ; j++){
        currPos += randomDirStep;
        // check if it's at clipping plane, if so return full brightness
        if (all(greaterThan(currPos, vec3(EPSILON))) && all(lessThan(currPos,vec3(1.0-EPSILON)))){
          opacity = texture2D(otexture, vec2(getTextureValue(currPos).r * oscale0 + oshift0, 0.5)).r;
          #ifdef vtkGradientOpacityOn
             opacity *= computeGradientOpacityFactor(normal.w, goscale0, goshift0, gomin0, gomax0);
          #endif
          transmittance *= 1.0 - opacity;
        }
        else{
          break;
        }
      }
      total_transmittance += transmittance / float(kernelRadius) * weight;

      // early termination if fully translucent
      if (total_transmittance > 1.0 - EPSILON){
        return 1.0;
      }
    }
    // average transmittance and reduce variance
    return clamp(total_transmittance / float(kernelSize), 0.3, 1.0); 
  } else {
    return 1.0;
  }
}
#endif

//=======================================================================
// surface light contribution
#if vtkLightComplexity > 0
  void applyLighting(inout vec3 tColor, vec4 normal)
  {
    vec3 diffuse = vec3(0.0, 0.0, 0.0);
    vec3 specular = vec3(0.0, 0.0, 0.0);
    float df, sf = 0.0;
    for (int i = 0; i < lightNum; i++){
        df = abs(dot(normal.rgb, -lightDirectionVC[i]));
        diffuse += df * lightColor[i];
        sf = pow( abs(dot(lightHalfAngleVC[i],normal.rgb)), vSpecularPower);
        specular += sf * lightColor[i];
    }
    tColor.rgb = tColor.rgb*(diffuse*vDiffuse + vAmbient) + specular*vSpecular;
  }
  #ifdef SurfaceShadowOn
  #if vtkLightComplexity < 3
    vec3 applyLightingDirectional(vec3 posIS, vec4 tColor, vec4 normal)
    {
      // everything in VC
      vec3 diffuse = vec3(0.0);
      vec3 specular = vec3(0.0);
      #ifdef localAmbientOcclusionOn
        vec3 ambient = vec3(0.0);
      #endif        
      vec3 vertLightDirection;
      for (int i = 0; i < lightNum; i++){
        float ndotL,vdotR;
        vertLightDirection = lightDirectionVC[i];
        ndotL = dot(normal.xyz, vertLightDirection);
        if (ndotL < 0.0 && twoSidedLighting)
        {
          ndotL = -ndotL;
        }
        if (ndotL > 0.0)
        {
          diffuse += ndotL * lightColor[i];
          //specular
          vdotR = dot(-rayDirVC, normalize(2.0 * ndotL * -normal.xyz + vertLightDirection));
          if (vdotR > 0.0)
          {
            specular += pow(vdotR, vSpecularPower) * lightColor[i];
          }
        }
        #ifdef localAmbientOcclusionOn
            ambient += computeLAO(posIS, tColor.a, vertLightDirection, normal);
        #endif
      }  
      #ifdef localAmbientOcclusionOn
        return tColor.rgb * (diffuse * vDiffuse + vAmbient * ambient) + specular*vSpecular;
      #else 
        return tColor.rgb * (diffuse * vDiffuse + vAmbient) + specular*vSpecular;
      #endif    
    }
  #else
    vec3 applyLightingPositional(vec3 posIS, vec4 tColor, vec4 normal, vec3 posVC)
    {
      // everything in VC
      vec3 diffuse = vec3(0.0);
      vec3 specular = vec3(0.0);
      #ifdef localAmbientOcclusionOn
        vec3 ambient = vec3(0.0);
      #endif      
      vec3 vertLightDirection;
      for (int i = 0; i < lightNum; i++){
        float distance,attenuation,ndotL,vdotR;
        vec3 lightDir;
        if (lightPositional[i] == 1){
          lightDir = lightDirectionVC[i];
          vertLightDirection = posVC - lightPositionVC[i]; 
          distance = length(vertLightDirection);
          vertLightDirection = normalize(vertLightDirection);
          attenuation = 1.0 / (lightAttenuation[i].x
                              + lightAttenuation[i].y * distance
                              + lightAttenuation[i].z * distance * distance);
          // per OpenGL standard cone angle is 90 or less for a spot light
          if (lightConeAngle[i] <= 90.0){
            float coneDot = dot(vertLightDirection, lightDir);
            if (coneDot >= cos(radians(lightConeAngle[i]))){  // if inside cone
              attenuation = attenuation * pow(coneDot, lightExponent[i]);
            }
            else {
              attenuation = 0.0;
            }
          }
          ndotL = dot(normal.xyz, vertLightDirection);
          if (ndotL < 0.0 && twoSidedLighting)
          {
            ndotL = -ndotL;
          }
          if (ndotL > 0.0)
          {
            diffuse += ndotL * attenuation * lightColor[i];
            //specular
            vdotR = dot(-rayDirVC, normalize(2.0 * ndotL * -normal.xyz + vertLightDirection));
            if (vdotR > 0.0)
            {
              specular += pow(vdotR, vSpecularPower) * attenuation * lightColor[i];
            }
          }
          #ifdef localAmbientOcclusionOn
            ambient += computeLAO(posIS, tColor.a, vertLightDirection, normal);
          #endif          
        } else {
          vertLightDirection = lightDirectionVC[i];
          ndotL = dot(normal.xyz, vertLightDirection);
          if (ndotL < 0.0 && twoSidedLighting)
          {
            ndotL = -ndotL;
          }
          if (ndotL > 0.0)
          {
            diffuse += ndotL * lightColor[i];
            //specular
            vdotR = dot(-rayDirVC, normalize(2.0 * ndotL * -normal.xyz + vertLightDirection));
            if (vdotR > 0.0)
            {
              specular += pow(vdotR, vSpecularPower) * lightColor[i];
            }
          }
          #ifdef localAmbientOcclusionOn
            ambient += computeLAO(posIS, tColor.a, vertLightDirection, normal);
          #endif          
        }
      }
      #ifdef localAmbientOcclusionOn
        return tColor.rgb * (diffuse * vDiffuse + vAmbient * ambient) + specular*vSpecular;
      #else 
        return tColor.rgb * (diffuse * vDiffuse + vAmbient) + specular*vSpecular;
      #endif
    }
  #endif 
  #endif
#endif

//=======================================================================
// Given a texture value compute the color and opacity
//
vec4 getColorForValue(vec4 tValue, vec3 posIS, vec3 tstep)
{
#ifdef vtkImageLabelOutlineOn
  vec3 centerPosIS = fragCoordToIndexSpace(gl_FragCoord); // pos in texture space
  vec4 centerValue = getTextureValue(centerPosIS);
  bool pixelOnBorder = false;
  vec4 tColor = texture2D(ctexture, vec2(centerValue.r * cscale0 + cshift0, 0.5));

  // Get alpha of segment from opacity function.
  tColor.a = texture2D(otexture, vec2(centerValue.r * oscale0 + oshift0, 0.5)).r;

  // Only perform outline check on fragments rendering voxels that aren't invisible.
  // Saves a bunch of needless checks on the background.
  // TODO define epsilon when building shader?
  if (float(tColor.a) > 0.01) {
    for (int i = -outlineThickness; i <= outlineThickness; i++) {
      for (int j = -outlineThickness; j <= outlineThickness; j++) {
        if (i == 0 || j == 0) {
          continue;
        }

        vec4 neighborPixelCoord = vec4(gl_FragCoord.x + float(i),
          gl_FragCoord.y + float(j),
          gl_FragCoord.z, gl_FragCoord.w);

        vec3 neighborPosIS = fragCoordToIndexSpace(neighborPixelCoord);
        vec4 value = getTextureValue(neighborPosIS);

        // If any of my neighbours are not the same value as I
        // am, this means I am on the border of the segment.
        // We can break the loops
        if (any(notEqual(value, centerValue))) {
          pixelOnBorder = true;
          break;
        }
      }

      if (pixelOnBorder == true) {
        break;
      }
    }

    // If I am on the border, I am displayed at full opacity
    if (pixelOnBorder == true) {
      tColor.a = outlineOpacity;
    }
  }

#else
  // compute the normal and gradient magnitude if needed
  // We compute it as a vec4 if possible otherwise a mat4
  //
  vec4 goFactor = vec4(1.0,1.0,1.0,1.0);

  // compute the normal vectors as needed
  #if (vtkLightComplexity > 0) || defined(vtkGradientOpacityOn)
    #if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)
      mat4 normalMat = computeMat4Normal(posIS, tValue, tstep);
      #if !defined(vtkComponent0Proportional)
        vec4 normal0 = normalMat[0];
      #endif
      #if !defined(vtkComponent1Proportional)
        vec4 normal1 = normalMat[1];
      #endif
      #if vtkNumComponents > 2
        #if !defined(vtkComponent2Proportional)
          vec4 normal2 = normalMat[2];
        #endif
        #if vtkNumComponents > 3
          #if !defined(vtkComponent3Proportional)
            vec4 normal3 = normalMat[3];
          #endif
        #endif
      #endif
    #else
      vec4 normalLight;
      #ifdef vtkComputeNormalFromOpacity
        #ifdef vtkGradientOpacityOn
          mat3 scalarInterp;  
          vec3 secondaryGradientMag;  
          vec4 normal0 = computeNormalForDensity(posIS, tValue.a, tstep, scalarInterp, secondaryGradientMag);  
          normalLight = computeDensityNormal(tValue.a, normal0.w, scalarInterp,secondaryGradientMag);       
          if (length(normalLight) == 0.0){  
            normalLight = normal0;   
          }                      
        #else
          vec3 scalarInterp;  
          vec4 normal0 = computeNormalForDensity(posIS, tValue.a, tstep, scalarInterp);  
          if (length(normal0)>0.0){  
            normalLight = computeDensityNormal(tValue.a,scalarInterp);  
            if (length(normalLight)==0.0){  
              normalLight = normal0;  
            }  
          }                
        #endif
      #else 
        vec4 normal0 = computeNormal(posIS, tValue.a, tstep);  
        normalLight = normal0;             
      #endif
    #endif
  #endif

  // compute gradient opacity factors as needed
  #if defined(vtkGradientOpacityOn)
    #if !defined(vtkComponent0Proportional)
      goFactor.x =
        computeGradientOpacityFactor(normal0.a, goscale0, goshift0, gomin0, gomax0);
    #endif
    #if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)
      #if !defined(vtkComponent1Proportional)
        goFactor.y =
          computeGradientOpacityFactor(normal1.a, goscale1, goshift1, gomin1, gomax1);
      #endif
      #if vtkNumComponents > 2
        #if !defined(vtkComponent2Proportional)
          goFactor.z =
            computeGradientOpacityFactor(normal2.a, goscale2, goshift2, gomin2, gomax2);
        #endif
        #if vtkNumComponents > 3
          #if !defined(vtkComponent3Proportional)
            goFactor.w =
              computeGradientOpacityFactor(normal3.a, goscale3, goshift3, gomin3, gomax3);
          #endif
        #endif
      #endif
    #endif
  #endif

  // single component is always independent
  #if vtkNumComponents == 1
    vec4 tColor = texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, 0.5));
    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, 0.5)).r;
    if (tColor.a < EPSILON){
      return vec4(0.0);
    }    
  #endif

  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2
    vec4 tColor = mix0*texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, height0));
    #if !defined(vtkComponent0Proportional)
      tColor.a = goFactor.x*mix0*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, height0)).r;
    #else
      float pwfValue = texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, height0)).r;
      tColor *= pwfValue;
      tColor.a *= mix(pwfValue, 1.0, (1.0 - mix0));
    #endif

    vec3 tColor1 = mix1*texture2D(ctexture, vec2(tValue.g * cscale1 + cshift1, height1)).rgb;
    #if !defined(vtkComponent1Proportional)
      tColor.a += goFactor.y*mix1*texture2D(otexture, vec2(tValue.g * oscale1 + oshift1, height1)).r;
    #else
      float pwfValue = texture2D(otexture, vec2(tValue.g * oscale1 + oshift1, height1)).r;
      tColor1 *= pwfValue;
      tColor.a *= mix(pwfValue, 1.0, (1.0 - mix1));
    #endif

    #if vtkNumComponents >= 3
      vec3 tColor2 = mix2*texture2D(ctexture, vec2(tValue.b * cscale2 + cshift2, height2)).rgb;
      #if !defined(vtkComponent2Proportional)
        tColor.a += goFactor.z*mix2*texture2D(otexture, vec2(tValue.b * oscale2 + oshift2, height2)).r;
      #else
        float pwfValue = texture2D(otexture, vec2(tValue.b * oscale2 + oshift2, height2)).r;
        tColor2 *= pwfValue;
        tColor.a *= mix(pwfValue, 1.0, (1.0 - mix2));
      #endif

      #if vtkNumComponents >= 4
        vec3 tColor3 = mix3*texture2D(ctexture, vec2(tValue.a * cscale3 + cshift3, height3)).rgb;
        #if !defined(vtkComponent3Proportional)
          tColor.a += goFactor.w*mix3*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, height3)).r;
        #else
          float pwfValue = texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, height3)).r;
          tColor3 *= pwfValue;
          tColor.a *= mix(pwfValue, 1.0, (1.0 - mix3));
        #endif
      #endif
    #endif
  #else // then not independent

  #if vtkNumComponents == 2
    float lum = tValue.r * cscale0 + cshift0;
    float alpha = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale1 + oshift1, 0.5)).r;
    vec4 tColor = vec4(lum, lum, lum, alpha);
  #endif
  #if vtkNumComponents == 3
    vec4 tColor;
    tColor.r = tValue.r * cscale0 + cshift0;
    tColor.g = tValue.g * cscale1 + cshift1;
    tColor.b = tValue.b * cscale2 + cshift2;
    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale0 + oshift0, 0.5)).r;
  #endif
  #if vtkNumComponents == 4
    vec4 tColor;
    tColor.r = tValue.r * cscale0 + cshift0;
    tColor.g = tValue.g * cscale1 + cshift1;
    tColor.b = tValue.b * cscale2 + cshift2;
    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, 0.5)).r;
  #endif
  #endif // dependent

  // apply lighting if requested as appropriate
  #if vtkLightComplexity > 0
    #if !defined(vtkComponent0Proportional) 
      #if vtkNumComponents == 1
    
        #ifdef SurfaceShadowOn
            #if vtkLightComplexity < 3
                vec3 tColorS = applyLightingDirectional(posIS, tColor, normalLight);
            #else
                vec3 tColorS = applyLightingPositional(posIS, tColor, normalLight, IStoVC(posIS));
            #endif
        #endif

        #ifdef VolumeShadowOn
          vec3 tColorVS = applyShadowRay(tColor.rgb, posIS, rayDirVC);
          #ifdef SurfaceShadowOn
            float vol_coef = volumetricScatteringBlending * (1.0 - tColor.a / 2.0) * (1.0 - atan(normalLight.w) * INV4PI);
            tColor.rgb = (1.0-vol_coef) * tColorS + vol_coef * tColorVS;
          #else
            tColor.rgb = tColorVS;
          #endif
        #else
            tColor.rgb = tColorS;
        #endif
        
      #else
        applyLighting(tColor.rgb, normal0);
      #endif
    #endif

    #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2
      #if !defined(vtkComponent1Proportional)
        applyLighting(tColor1, normal1);
      #endif
    #if vtkNumComponents >= 3
      #if !defined(vtkComponent2Proportional)
        applyLighting(tColor2, normal2);
      #endif
    #if vtkNumComponents >= 4
      #if !defined(vtkComponent3Proportional)
        applyLighting(tColor3, normal3);
      #endif
    #endif
    #endif
    #endif
  #endif

// perform final independent blend as needed
#if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2
  tColor.rgb += tColor1;
#if vtkNumComponents >= 3
  tColor.rgb += tColor2;
#if vtkNumComponents >= 4
  tColor.rgb += tColor3;
#endif
#endif
#endif

#endif







return tColor;
}

bool valueWithinScalarRange(vec4 val, vec4 min, vec4 max) {
  bool withinRange = false;
  #if vtkNumComponents == 1
    if (val.r >= min.r && val.r <= max.r) {
      withinRange = true;
    }
  #endif
  #if defined(vtkIndependentComponentsOn) && vtkNumComponents == 2
     if (val.r >= min.r && val.r <= max.r &&
        val.g >= min.g && val.g <= max.g) {
      withinRange = true;
    }
  #endif
  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 3
    if (all(greaterThanEqual(val, ipScalarRangeMin)) &&
        all(lessThanEqual(val, ipScalarRangeMax))) {
      withinRange = true;
    }
  #endif
  return withinRange;
}

//=======================================================================
// Apply the specified blend mode operation along the ray's path.
//
void applyBlend(vec3 posIS, vec3 endIS, vec3 tdims)
{
  vec3 tstep = 1.0/tdims;

  // start slightly inside and apply some jitter
  vec3 delta = endIS - posIS;
  vec3 stepIS = normalize(delta)*sampleDistanceIS;
  float raySteps = length(delta)/sampleDistanceIS;

  // avoid 0.0 jitter
  float jitter = 0.01 + 0.99*texture2D(jtexture, gl_FragCoord.xy/32.0).r;
  float stepsTraveled = jitter;

  // local vars for the loop
  vec4 color = vec4(0.0, 0.0, 0.0, 0.0);
  vec4 tValue;
  vec4 tColor;

  // if we have less than one step then pick the middle point
  // as our value
  // if (raySteps <= 1.0)
  // {
  //   posIS = (posIS + endIS)*0.5;
  // }

  // Perform initial step at the volume boundary
  // compute the scalar
  tValue = getTextureValue(posIS);

  #if vtkBlendMode == 0 // COMPOSITE_BLEND
    // now map through opacity and color
    tColor = getColorForValue(tValue, posIS, tstep);

    // handle very thin volumes
    if (raySteps <= 1.0)
    {
      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps);
      gl_FragData[0] = tColor;
      return;
    }

    tColor.a = 1.0 - pow(1.0 - tColor.a, jitter);
    color = vec4(tColor.rgb*tColor.a, tColor.a);
    posIS += (jitter*stepIS);

    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // now map through opacity and color
      tColor = getColorForValue(tValue, posIS, tstep);

      float mix = (1.0 - color.a);

      // this line should not be needed but nvidia seems to not handle
      // the break correctly on windows/chrome 58 angle
      //mix = mix * sign(max(raySteps - stepsTraveled - 1.0, 0.0));

      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;
      stepsTraveled++;
      posIS += stepIS;
      if (color.a > 0.99) { color.a = 1.0; break; }
    }

    if (color.a < 0.99 && (raySteps - stepsTraveled) > 0.0)
    {
      posIS = endIS;

      // compute the scalar
      tValue = getTextureValue(posIS);

      // now map through opacity and color
      tColor = getColorForValue(tValue, posIS, tstep);
      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps - stepsTraveled);

      float mix = (1.0 - color.a);
      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;
    }

    gl_FragData[0] = vec4(color.rgb/color.a, color.a);
  #endif
  #if vtkBlendMode == 1 || vtkBlendMode == 2
    // MAXIMUM_INTENSITY_BLEND || MINIMUM_INTENSITY_BLEND
    // Find maximum/minimum intensity along the ray.

    // Define the operation we will use (min or max)
    #if vtkBlendMode == 1
    #define OP max
    #else
    #define OP min
    #endif

    // If the clipping range is shorter than the sample distance
    // we can skip the sampling loop along the ray.
    if (raySteps <= 1.0)
    {
      gl_FragData[0] = getColorForValue(tValue, posIS, tstep);
      return;
    }

    vec4 value = tValue;
    posIS += (jitter*stepIS);

    // Sample along the ray until MaximumSamplesValue,
    // ending slightly inside the total distance
    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // Update the maximum value if necessary
      value = OP(tValue, value);

      // Otherwise, continue along the ray
      stepsTraveled++;
      posIS += stepIS;
    }

    // Perform the last step along the ray using the
    // residual distance
    posIS = endIS;
    tValue = getTextureValue(posIS);
    value = OP(tValue, value);

    // Now map through opacity and color
    gl_FragData[0] = getColorForValue(value, posIS, tstep);
  #endif
  #if vtkBlendMode == 3 || vtkBlendMode == 4 //AVERAGE_INTENSITY_BLEND || ADDITIVE_BLEND
    vec4 sum = vec4(0.);

    if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {
      sum += tValue;
    }

    if (raySteps <= 1.0) {
      gl_FragData[0] = getColorForValue(sum, posIS, tstep);
      return;
    }

    posIS += (jitter*stepIS);

    // Sample along the ray until MaximumSamplesValue,
    // ending slightly inside the total distance
    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // One can control the scalar range by setting the AverageIPScalarRange to disregard scalar values, not in the range of interest, from the average computation.
      // Notes:
      // - We are comparing all values in the texture to see if any of them
      //   are outside of the scalar range. In the future we might want to allow
      //   scalar ranges for each component.
      if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {
        // Sum the values across each step in the path
        sum += tValue;
      }
      stepsTraveled++;
      posIS += stepIS;
    }

    // Perform the last step along the ray using the
    // residual distance
    posIS = endIS;

    // compute the scalar
    tValue = getTextureValue(posIS);

    // One can control the scalar range by setting the IPScalarRange to disregard scalar values, not in the range of interest, from the average computation
    if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {
      sum += tValue;

      stepsTraveled++;
    }

    #if vtkBlendMode == 3 // Average
      sum /= vec4(stepsTraveled, stepsTraveled, stepsTraveled, 1.0);
    #endif

    gl_FragData[0] = getColorForValue(sum, posIS, tstep);
  #endif
  #if vtkBlendMode == 5 // RADON
    float normalizedRayIntensity = 1.0;

    // handle very thin volumes
    if (raySteps <= 1.0)
    {
      tValue = getTextureValue(posIS);
      normalizedRayIntensity = normalizedRayIntensity - sampleDistance*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, 0.5)).r;
      gl_FragData[0] = texture2D(ctexture, vec2(normalizedRayIntensity, 0.5));
      return;
    }

    posIS += (jitter*stepIS);

    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar value
      tValue = getTextureValue(posIS);

      // Convert scalar value to normalizedRayIntensity coefficient and accumulate normalizedRayIntensity
      normalizedRayIntensity = normalizedRayIntensity - sampleDistance*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, 0.5)).r;

      posIS += stepIS;
      stepsTraveled++;
    }

    // map normalizedRayIntensity to color
    gl_FragData[0] = texture2D(ctexture, vec2(normalizedRayIntensity , 0.5));

  #endif
}

//=======================================================================
// Compute a new start and end point for a given ray based
// on the provided bounded clipping plane (aka a rectangle)
void getRayPointIntersectionBounds(
  vec3 rayPos, vec3 rayDir,
  vec3 planeDir, float planeDist,
  inout vec2 tbounds, vec3 vPlaneX, vec3 vPlaneY,
  float vSize1, float vSize2)
{
  float result = dot(rayDir, planeDir);
  if (abs(result) < 1e-6)
  {
    return;
  }
  result = -1.0 * (dot(rayPos, planeDir) + planeDist) / result;
  vec3 xposVC = rayPos + rayDir*result;
  vec3 vxpos = xposVC - vOriginVC;
  vec2 vpos = vec2(
    dot(vxpos, vPlaneX),
    dot(vxpos, vPlaneY));

  // on some apple nvidia systems this does not work
  // if (vpos.x < 0.0 || vpos.x > vSize1 ||
  //     vpos.y < 0.0 || vpos.y > vSize2)
  // even just
  // if (vpos.x < 0.0 || vpos.y < 0.0)
  // fails
  // so instead we compute a value that represents in and out
  //and then compute the return using this value
  float xcheck = max(0.0, vpos.x * (vpos.x - vSize1)); //  0 means in bounds
  float check = sign(max(xcheck, vpos.y * (vpos.y - vSize2))); //  0 means in bounds, 1 = out

  tbounds = mix(
   vec2(min(tbounds.x, result), max(tbounds.y, result)), // in value
   tbounds, // out value
   check);  // 0 in 1 out
}

//=======================================================================
// given a
// - ray direction (rayDir)
// - starting point (vertexVCVSOutput)
// - bounding planes of the volume
// - optionally depth buffer values
// - far clipping plane
// compute the start/end distances of the ray we need to cast
vec2 computeRayDistances(vec3 rayDir, vec3 tdims)
{
  vec2 dists = vec2(100.0*camFar, -1.0);

  vec3 vSize = vSpacing*tdims;

  // all this is in View Coordinates
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal0, vPlaneDistance0, dists, vPlaneNormal2, vPlaneNormal4,
    vSize.y, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal1, vPlaneDistance1, dists, vPlaneNormal2, vPlaneNormal4,
    vSize.y, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal2, vPlaneDistance2, dists, vPlaneNormal0, vPlaneNormal4,
    vSize.x, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal3, vPlaneDistance3, dists, vPlaneNormal0, vPlaneNormal4,
    vSize.x, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal4, vPlaneDistance4, dists, vPlaneNormal0, vPlaneNormal2,
    vSize.x, vSize.y);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal5, vPlaneDistance5, dists, vPlaneNormal0, vPlaneNormal2,
    vSize.x, vSize.y);

  //VTK::ClipPlane::Impl

  // do not go behind front clipping plane
  dists.x = max(0.0,dists.x);

  // do not go PAST far clipping plane
  float farDist = -camThick/rayDir.z;
  dists.y = min(farDist,dists.y);

  // Do not go past the zbuffer value if set
  // This is used for intermixing opaque geometry
  //VTK::ZBuffer::Impl

  return dists;
}

//=======================================================================
// Compute the index space starting position (pos) and end
// position
//
void computeIndexSpaceValues(out vec3 pos, out vec3 endPos, vec3 rayDir, vec2 dists)
{
  // compute starting and ending values in volume space
  pos = vertexVCVSOutput + dists.x*rayDir;
  pos = pos - vOriginVC;
  // convert to volume basis and origin
  pos = vec3(
    dot(pos, vPlaneNormal0),
    dot(pos, vPlaneNormal2),
    dot(pos, vPlaneNormal4));

  endPos = vertexVCVSOutput + dists.y*rayDir;
  endPos = endPos - vOriginVC;
  endPos = vec3(
    dot(endPos, vPlaneNormal0),
    dot(endPos, vPlaneNormal2),
    dot(endPos, vPlaneNormal4));

  float delta = length(endPos - pos);

  pos *= vVCToIJK;
  endPos *= vVCToIJK;

  float delta2 = length(endPos - pos);
  sampleDistanceIS = sampleDistance*delta2/delta;
  #ifdef VolumeShadowOn
    sampleDistanceISVS = sampleDistanceIS * volumeShadowSamplingDistFactor;
  #endif
}

void main()
{

  if (cameraParallel == 1)
  {
    // Camera is parallel, so the rayDir is just the direction of the camera.
    rayDirVC = vec3(0.0, 0.0, -1.0);
  } else {
    // camera is at 0,0,0 so rayDir for perspective is just the vc coord
    rayDirVC = normalize(vertexVCVSOutput);
  }

  vec3 tdims = vec3(volumeDimensions);

  // compute the start and end points for the ray
  vec2 rayStartEndDistancesVC = computeRayDistances(rayDirVC, tdims);

  // do we need to composite? aka does the ray have any length
  // If not, bail out early
  if (rayStartEndDistancesVC.y <= rayStartEndDistancesVC.x)
  {
    discard;
  }

  // IS = Index Space
  vec3 posIS;
  vec3 endIS;
  computeIndexSpaceValues(posIS, endIS, rayDirVC, rayStartEndDistancesVC);

  // Perform the blending operation along the ray
  applyBlend(posIS, endIS, tdims);
}
`;function wc(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function N5(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?wc(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):wc(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var M5=ci,vs=Ne;function R5(t,e){if(t.length!==e.length)return!1;for(var a=0;a<t.length;++a)if(t[a]!==e[a])return!1;return!0}function k5(t,e){e.classHierarchy.push("vtkOpenGLVolumeMapper"),t.buildPass=function(){e.zBufferTexture=null},t.opaqueZBufferPass=function(a,r){if(a){var n=r.getZBufferTexture();n!==e.zBufferTexture&&(e.zBufferTexture=n)}},t.volumePass=function(a,r){if(a){e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow),e.jitterTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.framebuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.scalarTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.colorTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.opacityTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLVolume=t.getFirstAncestorOfType("vtkOpenGLVolume");var n=e.openGLVolume.getRenderable();e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer");var i=e._openGLRenderer.getRenderable();e.openGLCamera=e._openGLRenderer.getViewNodeFor(i.getActiveCamera()),t.renderPiece(i,n)}},t.buildShaders=function(a,r,n){t.getShaderTemplate(a,r,n),t.replaceShaderValues(a,r,n)},t.getShaderTemplate=function(a,r,n){a.Vertex=O5,a.Fragment=b5,a.Geometry=""},t.replaceShaderValues=function(a,r,n){var i=a.Fragment,u=n.getProperty().getInterpolationType();u===l0.LINEAR&&(i=ie.substitute(i,"//VTK::TrilinearOn","#define vtkTrilinearOn").result);var o=n.getProperty().getUseLabelOutline();o===!0&&(i=ie.substitute(i,"//VTK::ImageLabelOutlineOn","#define vtkImageLabelOutlineOn").result);var f=e.scalarTexture.getComponents();i=ie.substitute(i,"//VTK::NumComponents","#define vtkNumComponents ".concat(f)).result;var s=n.getProperty().getIndependentComponents();if(s){i=ie.substitute(i,"//VTK::IndependentComponentsOn","#define vtkIndependentComponentsOn").result;for(var l=[],c=0;c<f;c++)n.getProperty().getOpacityMode(c)===K1.PROPORTIONAL&&l.push("#define vtkComponent".concat(c,"Proportional"));l.length>0&&(i=ie.substitute(i,"//VTK::vtkProportionalComponents",l.join(`
`)).result)}var p=e.currentInput.getSpatialExtent(),h=e.currentInput.getSpacing(),g=new Float64Array(3);He(g,(p[1]-p[0])*h[0],(p[3]-p[2])*h[1],(p[5]-p[4])*h[2]);var y=yn(g)/e.renderable.getSampleDistance();i=ie.substitute(i,"//VTK::MaximumSamplesValue","".concat(Math.ceil(y))).result,i=ie.substitute(i,"//VTK::LightComplexity","#define vtkLightComplexity ".concat(e.lastLightComplexity)).result,e.lastLightComplexity>0&&(e.renderable.getVolumetricScatteringBlending()>0&&(i=ie.substitute(i,"//VTK::VolumeShadowOn","#define VolumeShadowOn").result),e.renderable.getVolumetricScatteringBlending()<1&&(i=ie.substitute(i,"//VTK::SurfaceShadowOn","#define SurfaceShadowOn").result),e.renderable.getVolumetricScatteringBlending()===0&&e.renderable.getLocalAmbientOcclusion()&&n.getProperty().getAmbient()>0&&(i=ie.substitute(i,"//VTK::localAmbientOcclusionOn","#define localAmbientOcclusionOn").result)),e.gopacity=n.getProperty().getUseGradientOpacity(0);for(var m=1;s&&!e.gopacity&&m<f;++m)n.getProperty().getUseGradientOpacity(m)&&(e.gopacity=!0);e.gopacity&&(i=ie.substitute(i,"//VTK::GradientOpacityOn","#define vtkGradientOpacityOn").result),e.renderable.getComputeNormalFromOpacity()&&(i=ie.substitute(i,"//VTK::vtkComputeNormalFromOpacity","#define vtkComputeNormalFromOpacity").result),e.zBufferTexture!==null&&(i=ie.substitute(i,"//VTK::ZBuffer::Dec",["uniform sampler2D zBufferTexture;","uniform float vpWidth;","uniform float vpHeight;"]).result,i=ie.substitute(i,"//VTK::ZBuffer::Impl",["vec4 depthVec = texture2D(zBufferTexture, vec2(gl_FragCoord.x / vpWidth, gl_FragCoord.y/vpHeight));","float zdepth = (depthVec.r*256.0 + depthVec.g)/257.0;","zdepth = zdepth * 2.0 - 1.0;","if (cameraParallel == 0) {","zdepth = -2.0 * camFar * camNear / (zdepth*(camFar-camNear)-(camFar+camNear)) - camNear;}","else {",`zdepth = (zdepth + 1.0) * 0.5 * (camFar - camNear);}
`,"zdepth = -zdepth/rayDir.z;","dists.y = min(zdepth,dists.y);"]).result),i=ie.substitute(i,"//VTK::BlendMode","".concat(e.renderable.getBlendMode())).result,a.Fragment=i,t.replaceShaderLight(a,r,n),t.replaceShaderClippingPlane(a,r,n)},t.replaceShaderLight=function(a,r,n){if(e.lastLightComplexity!==0){var i=a.Fragment,u=0;r.getLights().forEach(function(o){o.getSwitch()&&(u+=1)}),i=ie.substitute(i,"//VTK::Light::Dec",["uniform int lightNum;","uniform bool twoSidedLighting;","uniform vec3 lightColor[".concat(u,"];"),"uniform vec3 lightDirectionVC[".concat(u,"]; // normalized"),"uniform vec3 lightHalfAngleVC[".concat(u,"];"),"//VTK::Light::Dec"],!1).result,e.lastLightComplexity===3&&(i=ie.substitute(i,"//VTK::Light::Dec",["uniform vec3 lightPositionVC[".concat(u,"];"),"uniform vec3 lightAttenuation[".concat(u,"];"),"uniform float lightConeAngle[".concat(u,"];"),"uniform float lightExponent[".concat(u,"];"),"uniform int lightPositional[".concat(u,"];")],!1).result),e.renderable.getVolumetricScatteringBlending()>0&&(i=ie.substitute(i,"//VTK::VolumeShadow::Dec",["uniform float volumetricScatteringBlending;","uniform float giReach;","uniform float volumeShadowSamplingDistFactor;","uniform float anisotropy;","uniform float anisotropy2;"],!1).result),e.renderable.getVolumetricScatteringBlending()===0&&e.renderable.getLocalAmbientOcclusion()&&n.getProperty().getAmbient()>0&&(i=ie.substitute(i,"//VTK::LAO::Dec",["uniform int kernelRadius;","uniform vec2 kernelSample[".concat(e.renderable.getLAOKernelRadius(),"];"),"uniform int kernelSize;"],!1).result),a.Fragment=i}},t.replaceShaderClippingPlane=function(a,r,n){var i=a.Fragment;if(e.renderable.getClippingPlanes().length>0){var u=e.renderable.getClippingPlanes().length;i=ie.substitute(i,"//VTK::ClipPlane::Dec",["uniform vec3 vClipPlaneNormals[6];","uniform float vClipPlaneDistances[6];","//VTK::ClipPlane::Dec"],!1).result,i=ie.substitute(i,"//VTK::ClipPlane::Impl",["for(int i = 0; i < ".concat(u,"; i++) {"),"  float rayDirRatio = dot(rayDir, vClipPlaneNormals[i]);","  float equationResult = dot(vertexVCVSOutput, vClipPlaneNormals[i]) + vClipPlaneDistances[i];","  if (rayDirRatio == 0.0)","  {","    if (equationResult < 0.0) dists.x = dists.y;","    continue;","  }","  float result = -1.0 * equationResult / rayDirRatio;","  if (rayDirRatio < 0.0) dists.y = min(dists.y, result);","  else dists.x = max(dists.x, result);","}","//VTK::ClipPlane::Impl"],!1).result}a.Fragment=i},t.getNeedToRebuildShaders=function(a,r,n){var i=0;n.getProperty().getShade()&&e.renderable.getBlendMode()===X1.COMPOSITE_BLEND&&(i=0,e.numberOfLights=0,r.getLights().forEach(function(x){var v=x.getSwitch();v>0&&(e.numberOfLights++,i===0&&(i=1)),i===1&&(e.numberOfLights>1||x.getIntensity()!==1||!x.lightTypeIsHeadLight())&&(i=2),i<3&&x.getPositional()&&(i=3)}));var u=!1;e.lastLightComplexity!==i&&(e.lastLightComplexity=i,u=!0);var o=e.scalarTexture.getComponents(),f=n.getProperty().getIndependentComponents(),s=!1,l=[];if(f){for(var c=0;c<o;c++)l.push(n.getProperty().getOpacityMode(c));l.length>0&&(s=!0)}var p=e.currentInput.getSpatialExtent(),h=e.currentInput.getSpacing(),g=new Float64Array(3);He(g,(p[1]-p[0])*h[0],(p[3]-p[2])*h[1],(p[5]-p[4])*h[2]);var y=yn(g)/e.renderable.getSampleDistance(),m={interpolationType:n.getProperty().getInterpolationType(),useLabelOutline:n.getProperty().getUseLabelOutline(),numComp:o,usesProportionalComponents:s,iComps:f,maxSamples:y,useGradientOpacity:n.getProperty().getUseGradientOpacity(0),blendMode:e.renderable.getBlendMode(),proportionalComponents:l};return!e.previousState||e.previousState.interpolationType!==m.interpolationType||e.previousState.useLabelOutline!==m.useLabelOutline||e.previousState.numComp!==m.numComp||e.previousState.usesProportionalComponents!==m.usesProportionalComponents||e.previousState.iComps!==m.iComps||e.previousState.maxSamples!==m.maxSamples||e.previousState.useGradientOpacity!==m.useGradientOpacity||e.previousState.blendMode!==m.blendMode||!R5(e.previousState.proportionalComponents,m.proportionalComponents)?(e.previousState=N5({},m),!0):a.getProgram()===0||u||e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||!!e.lastZBufferTexture!=!!e.zBufferTexture||a.getShaderSourceTime().getMTime()<t.getMTime()||a.getShaderSourceTime().getMTime()<e.renderable.getMTime()?(e.lastZBufferTexture=e.zBufferTexture,!0):!1},t.updateShaders=function(a,r,n){if(e.lastBoundBO=a,t.getNeedToRebuildShaders(a,r,n)){var i={Vertex:null,Fragment:null,Geometry:null};t.buildShaders(i,r,n);var u=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);u!==a.getProgram()&&(a.setProgram(u),a.getVAO().releaseGraphicsResources()),a.getShaderSourceTime().modified()}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(a.getProgram());a.getVAO().bind(),t.setMapperShaderParameters(a,r,n),t.setCameraShaderParameters(a,r,n),t.setPropertyShaderParameters(a,r,n),t.getClippingPlaneShaderParameters(a,r,n)},t.setMapperShaderParameters=function(a,r,n){var i=a.getProgram();a.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>a.getAttributeUpdateTime().getMTime()||a.getShaderSourceTime().getMTime()>a.getAttributeUpdateTime().getMTime())&&(i.isAttributeUsed("vertexDC")&&(a.getVAO().addAttributeArray(i,a.getCABO(),"vertexDC",a.getCABO().getVertexOffset(),a.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||vs("Error setting vertexDC in shader VAO.")),a.getAttributeUpdateTime().modified()),i.setUniformi("texture1",e.scalarTexture.getTextureUnit()),i.setUniformf("sampleDistance",e.renderable.getSampleDistance());for(var u=e.scalarTexture.getVolumeInfo(),o=e.renderable.getIpScalarRange(),f=[],s=[],l=0;l<4;l++)f[l]=o[0]*u.dataComputedScale[l]+u.dataComputedOffset[l],s[l]=o[1]*u.dataComputedScale[l]+u.dataComputedOffset[l],f[l]=(f[l]-u.offset[l])/u.scale[l],s[l]=(s[l]-u.offset[l])/u.scale[l];if(i.setUniform4f("ipScalarRangeMin",f[0],f[1],f[2],f[3]),i.setUniform4f("ipScalarRangeMax",s[0],s[1],s[2],s[3]),e.zBufferTexture!==null){i.setUniformi("zBufferTexture",e.zBufferTexture.getTextureUnit());var c=e._useSmallViewport?[e._smallViewportWidth,e._smallViewportHeight]:e._openGLRenderWindow.getFramebufferSize();i.setUniformf("vpWidth",c[0]),i.setUniformf("vpHeight",c[1])}},t.setCameraShaderParameters=function(a,r,n){var i=e.openGLCamera.getKeyMatrices(r),u=e.openGLVolume.getKeyMatrices();it(e.modelToView,i.wcvc,u.mcwc);var o=a.getProgram(),f=e.openGLCamera.getRenderable(),s=f.getClippingRange();o.setUniformf("camThick",s[1]-s[0]),o.setUniformf("camNear",s[0]),o.setUniformf("camFar",s[1]);for(var l=e.currentInput.getBounds(),c=e.currentInput.getDimensions(),p=new Float64Array(3),h=new Float64Array(3),g=1,y=-1,m=1,x=-1,v=0;v<8;++v){if(He(p,l[v%2],l[2+Math.floor(v/2)%2],l[4+Math.floor(v/4)]),Te(p,p,e.modelToView),!f.getParallelProjection()){Qt(h,p);var d=-s[0]/p[2];Dr(p,h,d)}Te(p,p,i.vcpc),g=Math.min(p[0],g),y=Math.max(p[0],y),m=Math.min(p[1],m),x=Math.max(p[1],x)}o.setUniformf("dcxmin",g),o.setUniformf("dcxmax",y),o.setUniformf("dcymin",m),o.setUniformf("dcymax",x),o.isUniformUsed("cameraParallel")&&o.setUniformi("cameraParallel",f.getParallelProjection());var w=e.currentInput.getSpatialExtent(),C=e.currentInput.getSpacing(),S=new Float64Array(3);He(S,(w[1]-w[0])*C[0],(w[3]-w[2])*C[1],(w[5]-w[4])*C[2]),o.setUniform3f("vSpacing",C[0],C[1],C[2]),He(p,w[0],w[2],w[4]),e.currentInput.indexToWorldVec3(p,p),Te(p,p,e.modelToView),o.setUniform3f("vOriginVC",p[0],p[1],p[2]);var T=e.currentInput.getIndexToWorld();it(e.idxToView,e.modelToView,T),$a(e.idxNormalMatrix,i.normalMatrix,u.normalMatrix),$a(e.idxNormalMatrix,e.idxNormalMatrix,e.currentInput.getDirectionByReference());var _=yn(S)/e.renderable.getSampleDistance();_>e.renderable.getMaximumSamplesPerRay()&&M5("The number of steps required ".concat(Math.ceil(_),` is larger than the
        specified maximum number of steps `).concat(e.renderable.getMaximumSamplesPerRay(),`.
        Please either change the
        volumeMapper sampleDistance or its maximum number of samples.`));var D=new Float64Array(3);if(He(D,1,1,1),q0(D,D,S),o.setUniform3f("vVCToIJK",D[0],D[1],D[2]),o.setUniform3i("volumeDimensions",c[0],c[1],c[2]),!e._openGLRenderWindow.getWebgl2()){var b=e.scalarTexture.getVolumeInfo();o.setUniformf("texWidth",e.scalarTexture.getWidth()),o.setUniformf("texHeight",e.scalarTexture.getHeight()),o.setUniformi("xreps",b.xreps),o.setUniformi("xstride",b.xstride),o.setUniformi("ystride",b.ystride)}for(var E=new Float64Array(3),N=new Float64Array(3),R=0;R<6;++R){switch(R){case 1:He(E,-1,0,0),He(N,w[0],w[2],w[4]);break;case 2:He(E,0,1,0),He(N,w[1],w[3],w[5]);break;case 3:He(E,0,-1,0),He(N,w[0],w[2],w[4]);break;case 4:He(E,0,0,1),He(N,w[1],w[3],w[5]);break;case 5:He(E,0,0,-1),He(N,w[0],w[2],w[4]);break;case 0:default:He(E,1,0,0),He(N,w[1],w[3],w[5]);break}qi(E,E,e.idxNormalMatrix),Te(N,N,e.idxToView);var M=-1*Sn(N,E);o.setUniform3f("vPlaneNormal".concat(R),E[0],E[1],E[2]),o.setUniformf("vPlaneDistance".concat(R),M)}if(n.getProperty().getUseLabelOutline()){var G=e.currentInput,j=G.getWorldToIndex();o.setUniformMatrix("vWCtoIDX",j);var z=r.getActiveCamera(),V=z.getClippingRange(),L=ze(V,2),B=L[0],$=L[1],H=z.getDistance();z.setClippingRange(H,H+.1);var X=e.openGLCamera.getKeyMatrices(r);Zt(e.projectionToWorld,X.wcpc),z.setClippingRange(B,$),e.openGLCamera.getKeyMatrices(r),o.setUniformMatrix("PCWCMatrix",e.projectionToWorld);var Z=t.getRenderTargetSize();o.setUniformf("vpWidth",Z[0]),o.setUniformf("vpHeight",Z[1]);var Y=t.getRenderTargetOffset();o.setUniformf("vpOffsetX",Y[0]/Z[0]),o.setUniformf("vpOffsetY",Y[1]/Z[1])}if(Zt(e.projectionToView,i.vcpc),o.setUniformMatrix("PCVCMatrix",e.projectionToView),e.lastLightComplexity!==0){var J=0,ne=[],ee=[],te=[];if(r.getLights().forEach(function(re){var oe=re.getSwitch();if(oe>0){var ue=re.getColor(),ve=re.getIntensity();ne[0+J*3]=ue[0]*ve,ne[1+J*3]=ue[1]*ve,ne[2+J*3]=ue[2]*ve;var ye=re.getDirection();He(E,ye[0],ye[1],ye[2]),qi(E,E,i.normalMatrix),Qt(E,E),ee[0+J*3]=E[0],ee[1+J*3]=E[1],ee[2+J*3]=E[2],te[0+J*3]=-.5*E[0],te[1+J*3]=-.5*E[1],te[2+J*3]=-.5*(E[2]-1),J++}}),o.setUniformi("twoSidedLighting",r.getTwoSidedLighting()),o.setUniformi("lightNum",J),o.setUniform3fv("lightColor",ne),o.setUniform3fv("lightDirectionVC",ee),o.setUniform3fv("lightHalfAngleVC",te),e.lastLightComplexity===3){J=0;var k=[],O=[],A=[],F=[],P=[];r.getLights().forEach(function(re){var oe=re.getSwitch();if(oe>0){var ue=re.getAttenuationValues();O[0+J*3]=ue[0],O[1+J*3]=ue[1],O[2+J*3]=ue[2],F[J]=re.getExponent(),A[J]=re.getConeAngle(),P[J]=re.getPositional();var ve=re.getTransformedPosition();Te(ve,ve,e.modelToView),k[0+J*3]=ve[0],k[1+J*3]=ve[1],k[2+J*3]=ve[2],J+=1}}),o.setUniform3fv("lightPositionVC",k),o.setUniform3fv("lightAttenuation",O),o.setUniformfv("lightConeAngle",A),o.setUniformfv("lightExponent",F),o.setUniformiv("lightPositional",P)}if(e.renderable.getVolumetricScatteringBlending()>0&&(o.setUniformf("giReach",e.renderable.getGlobalIlluminationReach()),o.setUniformf("volumetricScatteringBlending",e.renderable.getVolumetricScatteringBlending()),o.setUniformf("volumeShadowSamplingDistFactor",e.renderable.getVolumeShadowSamplingDistFactor()),o.setUniformf("anisotropy",e.renderable.getAnisotropy()),o.setUniformf("anisotropy2",Math.pow(e.renderable.getAnisotropy(),2))),e.renderable.getVolumetricScatteringBlending()===0&&e.renderable.getLocalAmbientOcclusion()&&n.getProperty().getAmbient()>0){var I=e.renderable.getLAOKernelSize();o.setUniformi("kernelSize",I);for(var W=[],Q=0;Q<I;Q++)W[Q*2]=Math.random()*.5,W[Q*2+1]=Math.random()*.5;o.setUniform2fv("kernelSample",W),o.setUniformi("kernelRadius",e.renderable.getLAOKernelRadius())}}},t.setPropertyShaderParameters=function(a,r,n){var i=a.getProgram();i.setUniformi("ctexture",e.colorTexture.getTextureUnit()),i.setUniformi("otexture",e.opacityTexture.getTextureUnit()),i.setUniformi("jtexture",e.jitterTexture.getTextureUnit());var u=e.scalarTexture.getVolumeInfo(),o=n.getProperty(),f=e.scalarTexture.getComponents(),s=n.getProperty().getIndependentComponents();if(s&&f>=2)for(var l=0;l<f;l++)i.setUniformf("mix".concat(l),n.getProperty().getComponentWeight(l));for(var c=0;c<f;c++){var p=s?c:0,h=u.scale[c],g=o.getScalarOpacity(p),y=g.getRange(),m=h/(y[1]-y[0]),x=(u.offset[c]-y[0])/(y[1]-y[0]);i.setUniformf("oshift".concat(c),x),i.setUniformf("oscale".concat(c),m);var v=o.getRGBTransferFunction(p),d=v.getRange(),w=(u.offset[c]-d[0])/(d[1]-d[0]),C=h/(d[1]-d[0]);i.setUniformf("cshift".concat(c),w),i.setUniformf("cscale".concat(c),C)}if(e.gopacity)if(s)for(var S=0;S<f;++S){var T=u.scale[S],_=o.getUseGradientOpacity(S);if(_){var D=o.getGradientOpacityMinimumOpacity(S),b=o.getGradientOpacityMaximumOpacity(S);i.setUniformf("gomin".concat(S),D),i.setUniformf("gomax".concat(S),b);var E=[o.getGradientOpacityMinimumValue(S),o.getGradientOpacityMaximumValue(S)];i.setUniformf("goscale".concat(S),T*(b-D)/(E[1]-E[0])),i.setUniformf("goshift".concat(S),-E[0]*(b-D)/(E[1]-E[0])+D)}else i.setUniformf("gomin".concat(S),1),i.setUniformf("gomax".concat(S),1),i.setUniformf("goscale".concat(S),0),i.setUniformf("goshift".concat(S),1)}else{var N=u.scale[f-1],R=o.getGradientOpacityMinimumOpacity(0),M=o.getGradientOpacityMaximumOpacity(0);i.setUniformf("gomin0",R),i.setUniformf("gomax0",M);var G=[o.getGradientOpacityMinimumValue(0),o.getGradientOpacityMaximumValue(0)];i.setUniformf("goscale0",N*(M-R)/(G[1]-G[0])),i.setUniformf("goshift0",-G[0]*(M-R)/(G[1]-G[0])+R)}var j=n.getProperty().getUseLabelOutline();if(j===!0){var z=n.getProperty().getLabelOutlineThickness(),V=n.getProperty().getLabelOutlineOpacity();i.setUniformi("outlineThickness",z),i.setUniformf("outlineOpacity",V)}e.lastLightComplexity>0&&(i.setUniformf("vAmbient",o.getAmbient()),i.setUniformf("vDiffuse",o.getDiffuse()),i.setUniformf("vSpecular",o.getSpecular()),i.setUniformf("vSpecularPower",o.getSpecularPower()))},t.getClippingPlaneShaderParameters=function(a,r,n){if(e.renderable.getClippingPlanes().length>0){for(var i=e.openGLCamera.getKeyMatrices(r),u=[],o=[],f=e.renderable.getClippingPlanes(),s=f.length,l=0;l<s;++l){var c=f[l].getNormal(),p=f[l].getOrigin();qi(c,c,i.normalMatrix),Te(p,p,i.wcvc);var h=-1*Sn(p,c);u.push(c[0]),u.push(c[1]),u.push(c[2]),o.push(h)}var g=a.getProgram();g.setUniform3fv("vClipPlaneNormals",u),g.setUniformfv("vClipPlaneDistances",o)}},t.delete=h1(function(){e._animationRateSubscription&&(e._animationRateSubscription.unsubscribe(),e._animationRateSubscription=null)},t.delete),t.getRenderTargetSize=function(){if(e._useSmallViewport)return[e._smallViewportWidth,e._smallViewportHeight];var a=e._openGLRenderer.getTiledSizeAndOrigin(),r=a.usize,n=a.vsize;return[r,n]},t.getRenderTargetOffset=function(){var a=e._openGLRenderer.getTiledSizeAndOrigin(),r=a.lowerLeftU,n=a.lowerLeftV;return[r,n]},t.renderPieceStart=function(a,r){var n=a.getVTKWindow().getInteractor();if(e._useSmallViewport=!1,n.isAnimating()&&e._lastScale>1.5&&(e._useSmallViewport=!0),e._animationRateSubscription||(e._animationRateSubscription=n.onAnimationFrameRateUpdate(function(){if(e.renderable.getAutoAdjustSampleDistances()){var s=n.getRecentAnimationFrameRate(),l=n.getDesiredUpdateRate()/s;(l>1.15||l<.85)&&(e._lastScale*=l),e._lastScale>400&&(e._lastScale=400),e._lastScale<1.5&&(e._lastScale=1.5)}else e._lastScale=e.renderable.getImageSampleDistance()*e.renderable.getImageSampleDistance();var c=e._openGLRenderWindow.getFramebufferSize();e._smallViewportWidth=Math.ceil(c[0]/Math.sqrt(e._lastScale)),e._smallViewportHeight=Math.ceil(c[1]/Math.sqrt(e._lastScale))})),e._useSmallViewport){var i=e._openGLRenderWindow.getFramebufferSize();if(e._smallViewportHeight>i[1]&&(e._smallViewportHeight=i[1]),e._smallViewportWidth>i[0]&&(e._smallViewportWidth=i[0]),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.getGLFramebuffer()===null)e.framebuffer.create(i[0],i[1]),e.framebuffer.populateFramebuffer();else{var u=e.framebuffer.getSize();(u[0]!==i[0]||u[1]!==i[1])&&(e.framebuffer.create(i[0],i[1]),e.framebuffer.populateFramebuffer())}e.framebuffer.bind();var o=e.context;o.clearColor(0,0,0,0),o.colorMask(!0,!0,!0,!0),o.clear(o.COLOR_BUFFER_BIT),o.viewport(0,0,e._smallViewportWidth,e._smallViewportHeight),e.fvp=[e._smallViewportWidth/i[0],e._smallViewportHeight/i[1]]}e.context.disable(e.context.DEPTH_TEST),t.updateBufferObjects(a,r);var f=r.getProperty().getInterpolationType();f===l0.NEAREST?(e.scalarTexture.setMinificationFilter(Ye.NEAREST),e.scalarTexture.setMagnificationFilter(Ye.NEAREST)):(e.scalarTexture.setMinificationFilter(Ye.LINEAR),e.scalarTexture.setMagnificationFilter(Ye.LINEAR)),e.lastBoundBO=null,e.zBufferTexture!==null&&e.zBufferTexture.activate()},t.renderPieceDraw=function(a,r){var n=e.context;e.scalarTexture.activate(),e.opacityTexture.activate(),e.colorTexture.activate(),e.jitterTexture.activate(),t.updateShaders(e.tris,a,r),n.drawArrays(n.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release(),e.scalarTexture.deactivate(),e.colorTexture.deactivate(),e.opacityTexture.deactivate(),e.jitterTexture.deactivate()},t.renderPieceFinish=function(a,r){if(e.zBufferTexture!==null&&e.zBufferTexture.deactivate(),e._useSmallViewport){if(e.framebuffer.restorePreviousBindingsAndBuffers(),e.copyShader===null){e.copyShader=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(["//VTK::System::Dec","attribute vec4 vertexDC;","uniform vec2 tfactor;","varying vec2 tcoord;","void main() { tcoord = vec2(vertexDC.x*0.5 + 0.5, vertexDC.y*0.5 + 0.5) * tfactor; gl_Position = vertexDC; }"].join(`
`),["//VTK::System::Dec","//VTK::Output::Dec","uniform sampler2D texture1;","varying vec2 tcoord;","void main() { gl_FragData[0] = texture2D(texture1,tcoord); }"].join(`
`),"");var n=e.copyShader;e.copyVAO=au.newInstance(),e.copyVAO.setOpenGLRenderWindow(e._openGLRenderWindow),e.tris.getCABO().bind(),e.copyVAO.addAttributeArray(n,e.tris.getCABO(),"vertexDC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||vs("Error setting vertexDC in copy shader VAO.")}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(e.copyShader);var i=e._openGLRenderWindow.getFramebufferSize();e.context.viewport(0,0,i[0],i[1]);var u=e.framebuffer.getColorTexture();u.activate(),e.copyShader.setUniformi("texture",u.getTextureUnit()),e.copyShader.setUniform2f("tfactor",e.fvp[0],e.fvp[1]);var o=e.context;o.blendFuncSeparate(o.ONE,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA),e.context.drawArrays(e.context.TRIANGLES,0,e.tris.getCABO().getElementCount()),u.deactivate(),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA)}},t.renderPiece=function(a,r){if(t.invokeEvent({type:"StartEvent"}),e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent({type:"EndEvent"}),!e.currentInput){vs("No input!");return}t.renderPieceStart(a,r),t.renderPieceDraw(a,r),t.renderPieceFinish(a,r)},t.computeBounds=function(a,r){if(!t.getInput()){ha(e.Bounds);return}e.bounds=t.getInput().getBounds()},t.updateBufferObjects=function(a,r){t.getNeedToRebuildBufferObjects(a,r)&&t.buildBufferObjects(a,r)},t.getNeedToRebuildBufferObjects=function(a,r){return e.VBOBuildTime.getMTime()<t.getMTime()||e.VBOBuildTime.getMTime()<r.getMTime()||e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<r.getProperty().getMTime()||e.VBOBuildTime.getMTime()<e.currentInput.getMTime()},t.buildBufferObjects=function(a,r){var n=e.currentInput;if(!!n){var i=n.getPointData()&&n.getPointData().getScalars();if(!!i){var u=r.getProperty();if(!e.jitterTexture.getHandle()){for(var o=new Uint8Array(1024),f=0;f<32*32;++f)o[f]=255*Math.random();e.jitterTexture.setMinificationFilter(Ye.LINEAR),e.jitterTexture.setMagnificationFilter(Ye.LINEAR),e.jitterTexture.create2DFromRaw(32,32,1,at.UNSIGNED_CHAR,o)}var s=i.getNumberOfComponents(),l=u.getIndependentComponents(),c=l?s:1,p="".concat(u.getMTime());if(e.opacityTextureString!==p){for(var h=1024,g=h*2*c,y=new Float32Array(g),m=new Float32Array(h),x=0;x<c;++x){var v=u.getScalarOpacity(x),d=e.renderable.getSampleDistance()/u.getScalarOpacityUnitDistance(x),w=v.getRange();v.getTable(w[0],w[1],h,m,1);for(var C=0;C<h;++C)y[x*h*2+C]=1-Math.pow(1-m[C],d),y[x*h*2+C+h]=y[x*h*2+C]}if(e.opacityTexture.releaseGraphicsResources(e._openGLRenderWindow),e.opacityTexture.setMinificationFilter(Ye.LINEAR),e.opacityTexture.setMagnificationFilter(Ye.LINEAR),e._openGLRenderWindow.getWebgl2()||e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear"))e.opacityTexture.create2DFromRaw(h,2*c,1,at.FLOAT,y);else{for(var S=new Uint8Array(g),T=0;T<g;++T)S[T]=255*y[T];e.opacityTexture.create2DFromRaw(h,2*c,1,at.UNSIGNED_CHAR,S)}e.opacityTextureString=p}if(p="".concat(u.getMTime()),e.colorTextureString!==p){for(var _=1024,D=_*2*c*3,b=new Uint8Array(D),E=new Float32Array(_*3),N=0;N<c;++N){var R=u.getRGBTransferFunction(N),M=R.getRange();R.getTable(M[0],M[1],_,E,1);for(var G=0;G<_*3;++G)b[N*_*6+G]=255*E[G],b[N*_*6+G+_*3]=255*E[G]}e.colorTexture.releaseGraphicsResources(e._openGLRenderWindow),e.colorTexture.setMinificationFilter(Ye.LINEAR),e.colorTexture.setMagnificationFilter(Ye.LINEAR),e.colorTexture.create2DFromRaw(_,2*c,3,at.UNSIGNED_CHAR,b),e.colorTextureString=p}if(p="".concat(n.getMTime()),e.scalarTextureString!==p){var j=n.getDimensions();e.scalarTexture.setOglNorm16Ext(e.context.getExtension("EXT_texture_norm16")),e.scalarTexture.releaseGraphicsResources(e._openGLRenderWindow),e.scalarTexture.resetFormatAndType(),e.scalarTexture.create3DFilterableFromRaw(j[0],j[1],j[2],s,i.getDataType(),i.getData(),e.renderable.getPreferSizeOverAccuracy()),e.scalarTextureString=p}if(!e.tris.getCABO().getElementCount()){for(var z=new Float32Array(12),V=0;V<4;V++)z[V*3]=V%2*2-1,z[V*3+1]=V>1?1:-1,z[V*3+2]=-1;var L=new Uint16Array(8);L[0]=3,L[1]=0,L[2]=1,L[3]=3,L[4]=3,L[5]=0,L[6]=3,L[7]=2;var B=we.newInstance({numberOfComponents:3,values:z});B.setName("points");var $=we.newInstance({numberOfComponents:1,values:L});e.tris.getCABO().createVBO($,"polys",Pt.SURFACE,{points:B,cellOffset:0})}e.VBOBuildTime.modified()}}}}var L5={context:null,VBOBuildTime:null,scalarTexture:null,scalarTextureString:null,opacityTexture:null,opacityTextureString:null,colorTexture:null,colorTextureString:null,jitterTexture:null,tris:null,framebuffer:null,copyShader:null,copyVAO:null,lastXYF:1,targetXYF:1,zBufferTexture:null,lastZBufferTexture:null,lastLightComplexity:0,fullViewportTime:1,idxToView:null,idxNormalMatrix:null,modelToView:null,projectionToView:null,avgWindowArea:0,avgFrameTime:0};function F5(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,L5,a),Rt.extend(t,e,a),e.VBOBuildTime={},vt(e.VBOBuildTime,{mtime:0}),e.tris=Zr.newInstance(),e.scalarTexture=Vt.newInstance(),e.opacityTexture=Vt.newInstance(),e.colorTexture=Vt.newInstance(),e.jitterTexture=Vt.newInstance(),e.jitterTexture.setWrapS(Xa.REPEAT),e.jitterTexture.setWrapT(Xa.REPEAT),e.framebuffer=zo.newInstance(),e.idxToView=be(new Float64Array(16)),e.idxNormalMatrix=xr(new Float64Array(9)),e.modelToView=be(new Float64Array(16)),e.projectionToView=be(new Float64Array(16)),e.projectionToWorld=be(new Float64Array(16)),e._lastScale=1,Tt(t,e,["context"]),k5(t,e)}var A5=ot(F5,"vtkOpenGLVolumeMapper");kt("vtkVolumeMapper",A5);var B5=En;function V5(t,e){e.classHierarchy.push("vtkOpenGLPixelSpaceCallbackMapper"),t.opaquePass=function(a,r){e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent();var n=e._openGLRenderer.getAspectRatio(),i=e._openGLRenderer?e._openGLRenderer.getRenderable().getActiveCamera():null,u=e._openGLRenderer.getTiledSizeAndOrigin(),o=null;if(e.renderable.getUseZValues()){var f=r.getZBufferTexture(),s=Math.floor(f.getWidth()),l=Math.floor(f.getHeight()),c=e._openGLRenderWindow.getContext();f.bind();var p=r.getFramebuffer();p?p.saveCurrentBindingsAndBuffers():B5("No framebuffer to save/restore");var h=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,h),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,f.getHandle(),0),c.checkFramebufferStatus(c.FRAMEBUFFER)===c.FRAMEBUFFER_COMPLETE&&(o=new Uint8Array(s*l*4),c.viewport(0,0,s,l),c.readPixels(0,0,s,l,c.RGBA,c.UNSIGNED_BYTE,o)),p&&p.restorePreviousBindingsAndBuffers(),c.deleteFramebuffer(h)}e.renderable.invokeCallback(e.renderable.getInputData(),i,n,u,o)},t.queryPass=function(a,r){a&&e.renderable.getUseZValues()&&r.requestDepth()}}var U5={};function G5(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,U5,a),Rt.extend(t,e,a),V5(t,e)}var P5=ot(G5,"vtkOpenGLPixelSpaceCallbackMapper");kt("vtkPixelSpaceCallbackMapper",P5);function j5(t,e){e.classHierarchy.push("vtkOpenGLActor"),t.buildPass=function(a){if(a){e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNodes(e.renderable.getTextures()),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes(),e.ogltextures=null,e.activeTextures=null;for(var r=0;r<e.children.length;r++){var n=e.children[r];n.isA("vtkOpenGLTexture")?(e.ogltextures||(e.ogltextures=[]),e.ogltextures.push(n)):e.oglmapper=n}}},t.traverseOpaqueZBufferPass=function(a){!e.renderable||!e.renderable.getNestedVisibility()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(a,!0),e.oglmapper.traverse(a),t.apply(a,!1))},t.traverseOpaquePass=function(a){!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(a,!0),e.oglmapper.traverse(a),t.apply(a,!1))},t.traverseTranslucentPass=function(a){!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(a,!0),e.oglmapper.traverse(a),t.apply(a,!1))},t.activateTextures=function(){if(!!e.ogltextures){e.activeTextures=[];for(var a=0;a<e.ogltextures.length;a++){var r=e.ogltextures[a];r.render(),r.getHandle()&&e.activeTextures.push(r)}}},t.queryPass=function(a,r){if(a){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?r.incrementOpaqueActorCount():r.incrementTranslucentActorCount()}},t.opaqueZBufferPass=function(a,r){return t.opaquePass(a,r)},t.opaquePass=function(a,r){if(a)e.context.depthMask(!0),t.activateTextures();else if(e.activeTextures)for(var n=0;n<e.activeTextures.length;n++)e.activeTextures[n].deactivate()},t.translucentPass=function(a,r){if(a)e.context.depthMask(!1),t.activateTextures();else if(e.activeTextures)for(var n=0;n<e.activeTextures.length;n++)e.activeTextures[n].deactivate()},t.getKeyMatrices=function(){return e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(e.renderable.computeMatrix(),Mt(e.keyMatrices.mcwc,e.renderable.getMatrix()),Ke(e.keyMatrices.mcwc,e.keyMatrices.mcwc),e.renderable.getIsIdentity()?xr(e.keyMatrices.normalMatrix):(oi(e.keyMatrices.normalMatrix,e.keyMatrices.mcwc),si(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),$0(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix)),e.keyMatrixTime.modified()),e.keyMatrices}}var z5={context:null,keyMatrixTime:null,keyMatrices:null,activeTextures:null};function W5(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,z5,a),Rt.extend(t,e,a),e.keyMatrixTime={},vt(e.keyMatrixTime,{mtime:0}),e.keyMatrices={normalMatrix:xr(new Float64Array(9)),mcwc:be(new Float64Array(16))},Tt(t,e,["context"]),wr(t,e,["activeTextures"]),j5(t,e)}var I5=ot(W5);kt("vtkActor",I5);function $5(t,e){e.classHierarchy.push("vtkOpenGLActor2D"),t.buildPass=function(a){if(a){if(!e.renderable)return;e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNodes(e.renderable.getTextures()),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes(),e.ogltextures=null,e.activeTextures=null;for(var r=0;r<e.children.length;r++){var n=e.children[r];n.isA("vtkOpenGLTexture")?(e.ogltextures||(e.ogltextures=[]),e.ogltextures.push(n)):e.oglmapper=n}}},t.queryPass=function(a,r){if(a){if(!e.renderable||!e.renderable.getVisibility())return;r.incrementOverlayActorCount()}},t.traverseOpaquePass=function(a){!e.oglmapper||!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(a,!0),e.oglmapper.traverse(a),t.apply(a,!1))},t.traverseTranslucentPass=function(a){!e.oglmapper||!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(a,!0),e.oglmapper.traverse(a),t.apply(a,!1))},t.traverseOverlayPass=function(a){!e.oglmapper||!e.renderable||!e.renderable.getNestedVisibility()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable||(t.apply(a,!0),e.oglmapper.traverse(a),t.apply(a,!1))},t.activateTextures=function(){if(!!e.ogltextures){e.activeTextures=[];for(var a=0;a<e.ogltextures.length;a++){var r=e.ogltextures[a];r.render(),r.getHandle()&&e.activeTextures.push(r)}}},t.opaquePass=function(a,r){if(a)e.context.depthMask(!0),t.activateTextures();else if(e.activeTextures)for(var n=0;n<e.activeTextures.length;n++)e.activeTextures[n].deactivate()},t.translucentPass=function(a,r){if(a)e.context.depthMask(!1),t.activateTextures();else if(e.activeTextures)for(var n=0;n<e.activeTextures.length;n++)e.activeTextures[n].deactivate()},t.overlayPass=function(a,r){if(a)e.context.depthMask(!0),t.activateTextures();else if(e.activeTextures)for(var n=0;n<e.activeTextures.length;n++)e.activeTextures[n].deactivate()}}var H5={context:null,activeTextures:null};function K5(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,H5,a),Rt.extend(t,e,a),Tt(t,e,["context"]),wr(t,e,["activeTextures"]),$5(t,e)}var X5=ot(K5);kt("vtkActor2D",X5);function eo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function q5(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Y1(t){let e,a,r;t.length!==2?(e=eo,a=(o,f)=>eo(t(o),f),r=(o,f)=>t(o)-f):(e=t===eo||t===q5?t:Y5,a=t,r=t);function n(o,f,s=0,l=o.length){if(s<l){if(e(f,f)!==0)return l;do{const c=s+l>>>1;a(o[c],f)<0?s=c+1:l=c}while(s<l)}return s}function i(o,f,s=0,l=o.length){if(s<l){if(e(f,f)!==0)return l;do{const c=s+l>>>1;a(o[c],f)<=0?s=c+1:l=c}while(s<l)}return s}function u(o,f,s=0,l=o.length){const c=n(o,f,s,l-1);return c>s&&r(o[c-1],f)>-r(o[c],f)?c-1:c}return{left:n,center:u,right:i}}function Y5(){return 0}function J5(t){return t===null?NaN:+t}const Z5=Y1(eo),Q5=Z5.right;Y1(J5).center;var e4=Q5,p0=Math.sqrt(50),h0=Math.sqrt(10),v0=Math.sqrt(2);function t4(t,e,a){var r,n=-1,i,u,o;if(e=+e,t=+t,a=+a,t===e&&a>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),(o=J1(t,e,a))===0||!isFinite(o))return[];if(o>0){let f=Math.round(t/o),s=Math.round(e/o);for(f*o<t&&++f,s*o>e&&--s,u=new Array(i=s-f+1);++n<i;)u[n]=(f+n)*o}else{o=-o;let f=Math.round(t*o),s=Math.round(e*o);for(f/o<t&&++f,s/o>e&&--s,u=new Array(i=s-f+1);++n<i;)u[n]=(f+n)/o}return r&&u.reverse(),u}function J1(t,e,a){var r=(e-t)/Math.max(0,a),n=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,n);return n>=0?(i>=p0?10:i>=h0?5:i>=v0?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(i>=p0?10:i>=h0?5:i>=v0?2:1)}function r4(t,e,a){var r=Math.abs(e-t)/Math.max(0,a),n=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/n;return i>=p0?n*=10:i>=h0?n*=5:i>=v0&&(n*=2),e<t?-n:n}function n4(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function uu(t,e,a){t.prototype=e.prototype=a,a.constructor=t}function Z1(t,e){var a=Object.create(t.prototype);for(var r in e)a[r]=e[r];return a}function fi(){}var qa=.7,vo=1/qa,Qn="\\s*([+-]?\\d+)\\s*",Ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a4=/^#([0-9a-f]{3,8})$/,i4=new RegExp(`^rgb\\(${Qn},${Qn},${Qn}\\)$`),o4=new RegExp(`^rgb\\(${mr},${mr},${mr}\\)$`),s4=new RegExp(`^rgba\\(${Qn},${Qn},${Qn},${Ya}\\)$`),u4=new RegExp(`^rgba\\(${mr},${mr},${mr},${Ya}\\)$`),c4=new RegExp(`^hsl\\(${Ya},${mr},${mr}\\)$`),f4=new RegExp(`^hsla\\(${Ya},${mr},${mr},${Ya}\\)$`),Cc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uu(fi,Ja,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Sc,formatHex:Sc,formatHex8:l4,formatHsl:p4,formatRgb:Tc,toString:Tc});function Sc(){return this.rgb().formatHex()}function l4(){return this.rgb().formatHex8()}function p4(){return Q1(this).formatHsl()}function Tc(){return this.rgb().formatRgb()}function Ja(t){var e,a;return t=(t+"").trim().toLowerCase(),(e=a4.exec(t))?(a=e[1].length,e=parseInt(e[1],16),a===6?_c(e):a===3?new jt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):a===8?Si(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):a===4?Si(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=i4.exec(t))?new jt(e[1],e[2],e[3],1):(e=o4.exec(t))?new jt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=s4.exec(t))?Si(e[1],e[2],e[3],e[4]):(e=u4.exec(t))?Si(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=c4.exec(t))?Oc(e[1],e[2]/100,e[3]/100,1):(e=f4.exec(t))?Oc(e[1],e[2]/100,e[3]/100,e[4]):Cc.hasOwnProperty(t)?_c(Cc[t]):t==="transparent"?new jt(NaN,NaN,NaN,0):null}function _c(t){return new jt(t>>16&255,t>>8&255,t&255,1)}function Si(t,e,a,r){return r<=0&&(t=e=a=NaN),new jt(t,e,a,r)}function h4(t){return t instanceof fi||(t=Ja(t)),t?(t=t.rgb(),new jt(t.r,t.g,t.b,t.opacity)):new jt}function g0(t,e,a,r){return arguments.length===1?h4(t):new jt(t,e,a,r==null?1:r)}function jt(t,e,a,r){this.r=+t,this.g=+e,this.b=+a,this.opacity=+r}uu(jt,g0,Z1(fi,{brighter(t){return t=t==null?vo:Math.pow(vo,t),new jt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?qa:Math.pow(qa,t),new jt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new jt(wn(this.r),wn(this.g),wn(this.b),go(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dc,formatHex:Dc,formatHex8:v4,formatRgb:Ec,toString:Ec}));function Dc(){return`#${gn(this.r)}${gn(this.g)}${gn(this.b)}`}function v4(){return`#${gn(this.r)}${gn(this.g)}${gn(this.b)}${gn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ec(){const t=go(this.opacity);return`${t===1?"rgb(":"rgba("}${wn(this.r)}, ${wn(this.g)}, ${wn(this.b)}${t===1?")":`, ${t})`}`}function go(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gn(t){return t=wn(t),(t<16?"0":"")+t.toString(16)}function Oc(t,e,a,r){return r<=0?t=e=a=NaN:a<=0||a>=1?t=e=NaN:e<=0&&(t=NaN),new cr(t,e,a,r)}function Q1(t){if(t instanceof cr)return new cr(t.h,t.s,t.l,t.opacity);if(t instanceof fi||(t=Ja(t)),!t)return new cr;if(t instanceof cr)return t;t=t.rgb();var e=t.r/255,a=t.g/255,r=t.b/255,n=Math.min(e,a,r),i=Math.max(e,a,r),u=NaN,o=i-n,f=(i+n)/2;return o?(e===i?u=(a-r)/o+(a<r)*6:a===i?u=(r-e)/o+2:u=(e-a)/o+4,o/=f<.5?i+n:2-i-n,u*=60):o=f>0&&f<1?0:u,new cr(u,o,f,t.opacity)}function g4(t,e,a,r){return arguments.length===1?Q1(t):new cr(t,e,a,r==null?1:r)}function cr(t,e,a,r){this.h=+t,this.s=+e,this.l=+a,this.opacity=+r}uu(cr,g4,Z1(fi,{brighter(t){return t=t==null?vo:Math.pow(vo,t),new cr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?qa:Math.pow(qa,t),new cr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,a=this.l,r=a+(a<.5?a:1-a)*e,n=2*a-r;return new jt(gs(t>=240?t-240:t+120,n,r),gs(t,n,r),gs(t<120?t+240:t-120,n,r),this.opacity)},clamp(){return new cr(bc(this.h),Ti(this.s),Ti(this.l),go(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=go(this.opacity);return`${t===1?"hsl(":"hsla("}${bc(this.h)}, ${Ti(this.s)*100}%, ${Ti(this.l)*100}%${t===1?")":`, ${t})`}`}}));function bc(t){return t=(t||0)%360,t<0?t+360:t}function Ti(t){return Math.max(0,Math.min(1,t||0))}function gs(t,e,a){return(t<60?e+(a-e)*t/60:t<180?a:t<240?e+(a-e)*(240-t)/60:e)*255}var cu=t=>()=>t;function d4(t,e){return function(a){return t+a*e}}function y4(t,e,a){return t=Math.pow(t,a),e=Math.pow(e,a)-t,a=1/a,function(r){return Math.pow(t+r*e,a)}}function m4(t){return(t=+t)==1?ep:function(e,a){return a-e?y4(e,a,t):cu(isNaN(e)?a:e)}}function ep(t,e){var a=e-t;return a?d4(t,a):cu(isNaN(t)?e:t)}var Nc=function t(e){var a=m4(e);function r(n,i){var u=a((n=g0(n)).r,(i=g0(i)).r),o=a(n.g,i.g),f=a(n.b,i.b),s=ep(n.opacity,i.opacity);return function(l){return n.r=u(l),n.g=o(l),n.b=f(l),n.opacity=s(l),n+""}}return r.gamma=t,r}(1);function x4(t,e){e||(e=[]);var a=t?Math.min(e.length,t.length):0,r=e.slice(),n;return function(i){for(n=0;n<a;++n)r[n]=t[n]*(1-i)+e[n]*i;return r}}function w4(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function C4(t,e){var a=e?e.length:0,r=t?Math.min(a,t.length):0,n=new Array(r),i=new Array(a),u;for(u=0;u<r;++u)n[u]=fu(t[u],e[u]);for(;u<a;++u)i[u]=e[u];return function(o){for(u=0;u<r;++u)i[u]=n[u](o);return i}}function S4(t,e){var a=new Date;return t=+t,e=+e,function(r){return a.setTime(t*(1-r)+e*r),a}}function yo(t,e){return t=+t,e=+e,function(a){return t*(1-a)+e*a}}function T4(t,e){var a={},r={},n;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(n in e)n in t?a[n]=fu(t[n],e[n]):r[n]=e[n];return function(i){for(n in a)r[n]=a[n](i);return r}}var d0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ds=new RegExp(d0.source,"g");function _4(t){return function(){return t}}function D4(t){return function(e){return t(e)+""}}function E4(t,e){var a=d0.lastIndex=ds.lastIndex=0,r,n,i,u=-1,o=[],f=[];for(t=t+"",e=e+"";(r=d0.exec(t))&&(n=ds.exec(e));)(i=n.index)>a&&(i=e.slice(a,i),o[u]?o[u]+=i:o[++u]=i),(r=r[0])===(n=n[0])?o[u]?o[u]+=n:o[++u]=n:(o[++u]=null,f.push({i:u,x:yo(r,n)})),a=ds.lastIndex;return a<e.length&&(i=e.slice(a),o[u]?o[u]+=i:o[++u]=i),o.length<2?f[0]?D4(f[0].x):_4(e):(e=f.length,function(s){for(var l=0,c;l<e;++l)o[(c=f[l]).i]=c.x(s);return o.join("")})}function fu(t,e){var a=typeof e,r;return e==null||a==="boolean"?cu(e):(a==="number"?yo:a==="string"?(r=Ja(e))?(e=r,Nc):E4:e instanceof Ja?Nc:e instanceof Date?S4:w4(e)?x4:Array.isArray(e)?C4:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?T4:yo)(t,e)}function O4(t,e){return t=+t,e=+e,function(a){return Math.round(t*(1-a)+e*a)}}function b4(t){return function(){return t}}function N4(t){return+t}var Mc=[0,1];function Kn(t){return t}function y0(t,e){return(e-=t=+t)?function(a){return(a-t)/e}:b4(isNaN(e)?NaN:.5)}function M4(t,e){var a;return t>e&&(a=t,t=e,e=a),function(r){return Math.max(t,Math.min(e,r))}}function R4(t,e,a){var r=t[0],n=t[1],i=e[0],u=e[1];return n<r?(r=y0(n,r),i=a(u,i)):(r=y0(r,n),i=a(i,u)),function(o){return i(r(o))}}function k4(t,e,a){var r=Math.min(t.length,e.length)-1,n=new Array(r),i=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<r;)n[u]=y0(t[u],t[u+1]),i[u]=a(e[u],e[u+1]);return function(o){var f=e4(t,o,1,r)-1;return i[f](n[f](o))}}function L4(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function F4(){var t=Mc,e=Mc,a=fu,r,n,i,u=Kn,o,f,s;function l(){var p=Math.min(t.length,e.length);return u!==Kn&&(u=M4(t[0],t[p-1])),o=p>2?k4:R4,f=s=null,c}function c(p){return p==null||isNaN(p=+p)?i:(f||(f=o(t.map(r),e,a)))(r(u(p)))}return c.invert=function(p){return u(n((s||(s=o(e,t.map(r),yo)))(p)))},c.domain=function(p){return arguments.length?(t=Array.from(p,N4),l()):t.slice()},c.range=function(p){return arguments.length?(e=Array.from(p),l()):e.slice()},c.rangeRound=function(p){return e=Array.from(p),a=O4,l()},c.clamp=function(p){return arguments.length?(u=p?!0:Kn,l()):u!==Kn},c.interpolate=function(p){return arguments.length?(a=p,l()):a},c.unknown=function(p){return arguments.length?(i=p,c):i},function(p,h){return r=p,n=h,l()}}function A4(){return F4()(Kn,Kn)}function B4(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function mo(t,e){if((a=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var a,r=t.slice(0,a);return[r.length>1?r[0]+r.slice(2):r,+t.slice(a+1)]}function aa(t){return t=mo(Math.abs(t)),t?t[1]:NaN}function V4(t,e){return function(a,r){for(var n=a.length,i=[],u=0,o=t[0],f=0;n>0&&o>0&&(f+o+1>r&&(o=Math.max(1,r-f)),i.push(a.substring(n-=o,n+o)),!((f+=o+1)>r));)o=t[u=(u+1)%t.length];return i.reverse().join(e)}}function U4(t){return function(e){return e.replace(/[0-9]/g,function(a){return t[+a]})}}var G4=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xo(t){if(!(e=G4.exec(t)))throw new Error("invalid format: "+t);var e;return new lu({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}xo.prototype=lu.prototype;function lu(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}lu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function P4(t){e:for(var e=t.length,a=1,r=-1,n;a<e;++a)switch(t[a]){case".":r=n=a;break;case"0":r===0&&(r=a),n=a;break;default:if(!+t[a])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(n+1):t}var tp;function j4(t,e){var a=mo(t,e);if(!a)return t+"";var r=a[0],n=a[1],i=n-(tp=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,u=r.length;return i===u?r:i>u?r+new Array(i-u+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+mo(t,Math.max(0,e+i-1))[0]}function Rc(t,e){var a=mo(t,e);if(!a)return t+"";var r=a[0],n=a[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}var kc={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:B4,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Rc(t*100,e),r:Rc,s:j4,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Lc(t){return t}var Fc=Array.prototype.map,Ac=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function z4(t){var e=t.grouping===void 0||t.thousands===void 0?Lc:V4(Fc.call(t.grouping,Number),t.thousands+""),a=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",n=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Lc:U4(Fc.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"\u2212":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function s(c){c=xo(c);var p=c.fill,h=c.align,g=c.sign,y=c.symbol,m=c.zero,x=c.width,v=c.comma,d=c.precision,w=c.trim,C=c.type;C==="n"?(v=!0,C="g"):kc[C]||(d===void 0&&(d=12),w=!0,C="g"),(m||p==="0"&&h==="=")&&(m=!0,p="0",h="=");var S=y==="$"?a:y==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",T=y==="$"?r:/[%p]/.test(C)?u:"",_=kc[C],D=/[defgprs%]/.test(C);d=d===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d));function b(E){var N=S,R=T,M,G,j;if(C==="c")R=_(E)+R,E="";else{E=+E;var z=E<0||1/E<0;if(E=isNaN(E)?f:_(Math.abs(E),d),w&&(E=P4(E)),z&&+E==0&&g!=="+"&&(z=!1),N=(z?g==="("?g:o:g==="-"||g==="("?"":g)+N,R=(C==="s"?Ac[8+tp/3]:"")+R+(z&&g==="("?")":""),D){for(M=-1,G=E.length;++M<G;)if(j=E.charCodeAt(M),48>j||j>57){R=(j===46?n+E.slice(M+1):E.slice(M))+R,E=E.slice(0,M);break}}}v&&!m&&(E=e(E,1/0));var V=N.length+E.length+R.length,L=V<x?new Array(x-V+1).join(p):"";switch(v&&m&&(E=e(L+E,L.length?x-R.length:1/0),L=""),h){case"<":E=N+E+R+L;break;case"=":E=N+L+E+R;break;case"^":E=L.slice(0,V=L.length>>1)+N+E+R+L.slice(V);break;default:E=L+N+E+R;break}return i(E)}return b.toString=function(){return c+""},b}function l(c,p){var h=s((c=xo(c),c.type="f",c)),g=Math.max(-8,Math.min(8,Math.floor(aa(p)/3)))*3,y=Math.pow(10,-g),m=Ac[8+g/3];return function(x){return h(y*x)+m}}return{format:s,formatPrefix:l}}var _i,rp,np;W4({thousands:",",grouping:[3],currency:["$",""]});function W4(t){return _i=z4(t),rp=_i.format,np=_i.formatPrefix,_i}function I4(t){return Math.max(0,-aa(Math.abs(t)))}function $4(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(aa(e)/3)))*3-aa(Math.abs(t)))}function H4(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,aa(e)-aa(t))+1}function K4(t,e,a,r){var n=r4(t,e,a),i;switch(r=xo(r==null?",f":r),r.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=$4(n,u))&&(r.precision=i),np(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=H4(n,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=I4(n))&&(r.precision=i-(r.type==="%")*2);break}}return rp(r)}function X4(t){var e=t.domain;return t.ticks=function(a){var r=e();return t4(r[0],r[r.length-1],a==null?10:a)},t.tickFormat=function(a,r){var n=e();return K4(n[0],n[n.length-1],a==null?10:a,r)},t.nice=function(a){a==null&&(a=10);var r=e(),n=0,i=r.length-1,u=r[n],o=r[i],f,s,l=10;for(o<u&&(s=u,u=o,o=s,s=n,n=i,i=s);l-- >0;){if(s=J1(u,o,a),s===f)return r[n]=u,r[i]=o,e(r);if(s>0)u=Math.floor(u/s)*s,o=Math.ceil(o/s)*s;else if(s<0)u=Math.ceil(u*s)/s,o=Math.floor(o*s)/s;else break;f=s}return t},t}function pu(){var t=A4();return t.copy=function(){return L4(t,pu())},n4.apply(t,arguments),X4(t)}function Bc(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function q4(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Bc(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Bc(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var m0=1e-6,ap="coincide",ip="disjoint";function Y4(t,e,a){return t[0]*(a[0]-e[0])+t[1]*(a[1]-e[1])+t[2]*(a[2]-e[2])}function op(t,e,a){var r=a[0]*(t[0]-e[0])+a[1]*(t[1]-e[1])+a[2]*(t[2]-e[2]);return Math.abs(r)}function sp(t,e,a,r){var n=[];ht(t,e,n);var i=Me(a,n);r[0]=t[0]-i*a[0],r[1]=t[1]-i*a[1],r[2]=t[2]-i*a[2]}function up(t,e,a){var r=Me(t,e),n=Me(e,e);return n===0&&(n=1),a[0]=t[0]-r*e[0]/n,a[1]=t[1]-r*e[1]/n,a[2]=t[2]-r*e[2]/n,a}function cp(t,e,a,r){var n=[];ht(t,e,n);var i=Me(a,n),u=Me(a,a);u!==0?(r[0]=t[0]-i*a[0]/u,r[1]=t[1]-i*a[1]/u,r[2]=t[2]-i*a[2]/u):(r[0]=t[0],r[1]=t[1],r[2]=t[2])}function fp(t,e,a,r){var n={intersection:!1,betweenPoints:!1,t:Number.MAX_VALUE,x:[]},i=[],u=[];ht(e,t,i),ht(a,t,u);var o=Me(r,u),f=Me(r,i),s,l;return f<0?s=-f:s=f,o<0?l=-o*m0:l=o*m0,s<=l||(n.t=o/f,n.x[0]=t[0]+n.t*i[0],n.x[1]=t[1]+n.t*i[1],n.x[2]=t[2]+n.t*i[2],n.intersection=!0,n.betweenPoints=n.t>=0&&n.t<=1),n}function lp(t,e,a,r){var n={intersection:!1,l0:[],l1:[],error:null},i=[];Nt(e,r,i);var u=i.map(function(p){return Math.abs(p)});if(u[0]+u[1]+u[2]<m0){var o=[];return ht(t,a,o),Me(e,o)===0?n.error=ap:n.error=ip,n}var f;u[0]>u[1]&&u[0]>u[2]?f="x":u[1]>u[2]?f="y":f="z";var s=[],l=-Me(e,t),c=-Me(r,a);switch(f){case"x":s[0]=0,s[1]=(c*e[2]-l*r[2])/i[0],s[2]=(l*r[1]-c*e[1])/i[0];break;case"y":s[0]=(l*r[2]-c*e[2])/i[1],s[1]=0,s[2]=(c*e[0]-l*r[0])/i[1];break;case"z":s[0]=(c*e[1]-l*r[1])/i[2],s[1]=(l*r[0]-c*e[0])/i[2],s[2]=0;break}return n.l0=s,lo(s,i,n.l1),n.intersection=!0,n}var J4={evaluate:Y4,distanceToPlane:op,projectPoint:sp,projectVector:up,generalizedProjectPoint:cp,intersectWithLine:fp,intersectWithPlane:lp,DISJOINT:ip,COINCIDE:ap};function Z4(t,e){e.classHierarchy.push("vtkPlane"),t.distanceToPlane=function(a){return op(a,e.origin,e.normal)},t.projectPoint=function(a,r){sp(a,e.origin,e.normal,r)},t.projectVector=function(a,r){return up(a,e.normal,r)},t.push=function(a){if(a!==0)for(var r=0;r<3;r++)e.origin[r]+=a*e.normal[r]},t.generalizedProjectPoint=function(a,r){cp(a,e.origin,e.normal,r)},t.evaluateFunction=function(a,r,n){return Array.isArray(a)?e.normal[0]*(a[0]-e.origin[0])+e.normal[1]*(a[1]-e.origin[1])+e.normal[2]*(a[2]-e.origin[2]):e.normal[0]*(a-e.origin[0])+e.normal[1]*(r-e.origin[1])+e.normal[2]*(n-e.origin[2])},t.evaluateGradient=function(a){var r=[e.normal[0],e.normal[1],e.normal[2]];return r},t.intersectWithLine=function(a,r){return fp(a,r,e.origin,e.normal)},t.intersectWithPlane=function(a,r){return lp(a,r,e.origin,e.normal)}}var Q4={normal:[0,0,1],origin:[0,0,0]};function pp(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Q4,a),U.obj(t,e),U.setGetArray(t,e,["normal","origin"],3),Z4(t,e)}var e9=U.newInstance(pp,"vtkPlane"),bn=q4({newInstance:e9,extend:pp},J4);function Vc(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function t9(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Vc(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Vc(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var Wo=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];function hp(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function Fr(t){return t[0]<=t[1]&&t[2]<=t[3]&&t[4]<=t[5]}function hu(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function vu(t){return hu(t,Wo)}function wo(t,e,a,r){var n=ze(t,6),i=n[0],u=n[1],o=n[2],f=n[3],s=n[4],l=n[5];return t[0]=i<e?i:e,t[1]=u>e?u:e,t[2]=o<a?o:a,t[3]=f>a?f:a,t[4]=s<r?s:r,t[5]=l>r?l:r,t}function gu(t,e){if(e.length===0)return t;if(Array.isArray(e[0]))for(var a=0;a<e.length;++a)wo.apply(void 0,[t].concat(de(e[a])));else for(var r=0;r<e.length;r+=3)wo.apply(void 0,[t].concat(de(e.slice(r,r+3))));return t}function vp(t,e,a,r,n,i,u){var o=ze(t,6),f=o[0],s=o[1],l=o[2],c=o[3],p=o[4],h=o[5];return u===void 0?(t[0]=Math.min(e[0],f),t[1]=Math.max(e[1],s),t[2]=Math.min(e[2],l),t[3]=Math.max(e[3],c),t[4]=Math.min(e[4],p),t[5]=Math.max(e[5],h)):(t[0]=Math.min(e,f),t[1]=Math.max(a,s),t[2]=Math.min(r,l),t[3]=Math.max(n,c),t[4]=Math.min(i,p),t[5]=Math.max(u,h)),t}function gp(t,e,a,r){var n=ze(t,6),i=n[0],u=n[1],o=n[2],f=n[3],s=n[4],l=n[5];return t[0]=e,t[1]=e>u?e:u,t[2]=a,t[3]=a>f?a:f,t[4]=r,t[5]=r>l?r:l,i!==e||o!==a||s!==r}function dp(t,e,a,r){var n=ze(t,6),i=n[0],u=n[1],o=n[2],f=n[3],s=n[4],l=n[5];return t[0]=e<i?e:i,t[1]=e,t[2]=a<o?a:o,t[3]=a,t[4]=r<s?r:s,t[5]=r,u!==e||f!==a||l!==r}function yp(t,e){return t[0]-=e,t[1]+=e,t[2]-=e,t[3]+=e,t[4]-=e,t[5]+=e,t}function du(t,e,a,r){return Fr(t)?(e>=0?(t[0]*=e,t[1]*=e):(t[0]=e*t[1],t[1]=e*t[0]),a>=0?(t[2]*=a,t[3]*=a):(t[2]=a*t[3],t[3]=a*t[2]),r>=0?(t[4]*=r,t[5]*=r):(t[4]=r*t[5],t[5]=r*t[4]),!0):!1}function yu(t){return[.5*(t[0]+t[1]),.5*(t[2]+t[3]),.5*(t[4]+t[5])]}function r9(t,e,a,r){if(!Fr(t))return!1;var n=yu(t);return t[0]-=n[0],t[1]-=n[0],t[2]-=n[1],t[3]-=n[1],t[4]-=n[2],t[5]-=n[2],du(t,e,a,r),t[0]+=n[0],t[1]+=n[0],t[2]+=n[1],t[3]+=n[1],t[4]+=n[2],t[5]+=n[2],!0}function za(t,e){return t[e*2+1]-t[e*2]}function Io(t){return[za(t,0),za(t,1),za(t,2)]}function mp(t){return t.slice(0,2)}function xp(t){return t.slice(2,4)}function wp(t){return t.slice(4,6)}function Cp(t){var e=Io(t);return e[0]>e[1]?e[0]>e[2]?e[0]:e[2]:e[1]>e[2]?e[1]:e[2]}function Sp(t){if(Fr(t)){var e=Io(t);return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}return null}function mu(t){return[t[0],t[2],t[4]]}function xu(t){return[t[1],t[3],t[5]]}function Di(t,e){return t<=0&&e>=0||t>=0&&e<=0}function wu(t,e){for(var a=0,r=0;r<2;r++)for(var n=2;n<4;n++)for(var i=4;i<6;i++)e[a]=[t[r],t[n],t[i]],a++;return e}function Tp(t,e,a){return e[0]=t[0],e[1]=t[2],e[2]=t[4],a[0]=t[1],a[1]=t[3],a[2]=t[5],e}function _p(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];a.length<6&&vu(a);for(var r=wu(t,[]),n=0;n<r.length;++n)Te(r[n],r[n],e);return gu(a,r)}function Dp(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e[0]=.5*(t[1]-t[0]),e[1]=.5*(t[3]-t[2]),e[2]=.5*(t[5]-t[4]),e}function Ep(t,e,a,r){for(var n=[].concat(Wo),i=t.getData(),u=0;u<i.length;u+=3){var o=[i[u],i[u+1],i[u+2]],f=Me(o,e);n[0]=Math.min(f,n[0]),n[1]=Math.max(f,n[1]);var s=Me(o,a);n[2]=Math.min(s,n[2]),n[3]=Math.max(s,n[3]);var l=Me(o,r);n[4]=Math.min(l,n[4]),n[5]=Math.max(l,n[5])}return n}function Op(t,e,a,r,n){for(var i=!0,u=[],o=0,f=[],s=[0,0,0],l=0,c=1,p=2,h=0;h<3;h++)e[h]<t[2*h]?(u[h]=c,s[h]=t[2*h],i=!1):e[h]>t[2*h+1]?(u[h]=l,s[h]=t[2*h+1],i=!1):u[h]=p;if(i)return r[0]=e[0],r[1]=e[1],r[2]=e[2],n[0]=0,1;for(var g=0;g<3;g++)u[g]!==p&&a[g]!==0?f[g]=(s[g]-e[g])/a[g]:f[g]=-1;for(var y=0;y<3;y++)f[o]<f[y]&&(o=y);if(f[o]>1||f[o]<0)return 0;n[0]=f[o];for(var m=0;m<3;m++)if(o!==m){if(r[m]=e[m]+f[o]*a[m],r[m]<t[2*m]||r[m]>t[2*m+1])return 0}else r[m]=s[m];return 1}function bp(t,e,a){for(var r=[],n=0,i=1,u=1,o=4;o<=5;++o){r[2]=t[o];for(var f=2;f<=3;++f){r[1]=t[f];for(var s=0;s<=1;++s)if(r[0]=t[s],n=bn.evaluate(a,e,r),u&&(i=n>=0?1:-1,u=0),n===0||i>0&&n<0||i<0&&n>0)return 1}}return 0}function Np(t,e){if(!(Fr(t)&&Fr(e)))return!1;for(var a=[0,0,0,0,0,0],r,n=0;n<3;n++)if(r=!1,e[n*2]>=t[n*2]&&e[n*2]<=t[n*2+1]?(r=!0,a[n*2]=e[n*2]):t[n*2]>=e[n*2]&&t[n*2]<=e[n*2+1]&&(r=!0,a[n*2]=t[n*2]),e[n*2+1]>=t[n*2]&&e[n*2+1]<=t[n*2+1]?(r=!0,a[n*2+1]=e[2*n+1]):t[n*2+1]>=e[n*2]&&t[n*2+1]<=e[n*2+1]&&(r=!0,a[n*2+1]=t[n*2+1]),!r)return!1;return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],!0}function Co(t,e){if(!(Fr(t)&&Fr(e)))return!1;for(var a=0;a<3;a++)if(!(e[a*2]>=t[a*2]&&e[a*2]<=t[a*2+1])&&!(t[a*2]>=e[a*2]&&t[a*2]<=e[a*2+1])&&!(e[a*2+1]>=t[a*2]&&e[a*2+1]<=t[a*2+1])&&!(t[a*2+1]>=e[a*2]&&t[a*2+1]<=e[a*2+1]))return!1;return!0}function So(t,e,a,r){return!(e<t[0]||e>t[1]||a<t[2]||a>t[3]||r<t[4]||r>t[5])}function n9(t,e){return!(!Co(t,e)||!So.apply(void 0,[t].concat(de(mu(e))))||!So.apply(void 0,[t].concat(de(xu(e)))))}function Mp(t,e,a){for(var r=[[0,1,2,3,4,5,6,7],[0,1,4,5,2,3,6,7],[0,2,4,6,1,3,5,7]],n=[0,0,0,0,0,0,0,0],i=0,u=0;u<2;u++)for(var o=2;o<4;o++)for(var f=4;f<6;f++){var s=[t[u],t[o],t[f]];n[i++]=bn.evaluate(a,e,s)}for(var l=2;l--&&!(Di(n[r[l][0]],n[r[l][4]])&&Di(n[r[l][1]],n[r[l][5]])&&Di(n[r[l][2]],n[r[l][6]])&&Di(n[r[l][3]],n[r[l][7]])););if(l<0)return!1;for(var c=Math.sign(a[l]),p=Math.abs((t[l*2+1]-t[l*2])*a[l]),h=c>0?1:0,g=0;g<4;g++)if(p!==0){var y=Math.abs(n[r[l][g]])/p;c>0&&y<h&&(h=y),c<0&&y>h&&(h=y)}var m=(1-h)*t[l*2]+h*t[l*2+1];return c>0?t[l*2]=m:t[l*2+1]=m,!0}var a9=function(){function t(e){J0(this,t),this.bounds=e,this.bounds||(this.bounds=new Float64Array(Wo))}return Z0(t,[{key:"getBounds",value:function(){return this.bounds}},{key:"equals",value:function(a){return hp(this.bounds,a)}},{key:"isValid",value:function(){return Fr(this.bounds)}},{key:"setBounds",value:function(a){return hu(this.bounds,a)}},{key:"reset",value:function(){return vu(this.bounds)}},{key:"addPoint",value:function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return wo.apply(void 0,[this.bounds].concat(r))}},{key:"addPoints",value:function(a){return gu(this.bounds,a)}},{key:"addBounds",value:function(a,r,n,i,u,o){return vp(this.bounds,a,r,n,i,u,o)}},{key:"setMinPoint",value:function(a,r,n){return gp(this.bounds,a,r,n)}},{key:"setMaxPoint",value:function(a,r,n){return dp(this.bounds,a,r,n)}},{key:"inflate",value:function(a){return yp(this.bounds,a)}},{key:"scale",value:function(a,r,n){return du(this.bounds,a,r,n)}},{key:"getCenter",value:function(){return yu(this.bounds)}},{key:"getLength",value:function(a){return za(this.bounds,a)}},{key:"getLengths",value:function(){return Io(this.bounds)}},{key:"getMaxLength",value:function(){return Cp(this.bounds)}},{key:"getDiagonalLength",value:function(){return Sp(this.bounds)}},{key:"getMinPoint",value:function(){return mu(this.bounds)}},{key:"getMaxPoint",value:function(){return xu(this.bounds)}},{key:"getXRange",value:function(){return mp(this.bounds)}},{key:"getYRange",value:function(){return xp(this.bounds)}},{key:"getZRange",value:function(){return wp(this.bounds)}},{key:"getCorners",value:function(a){return wu(this.bounds,a)}},{key:"computeCornerPoints",value:function(a,r){return Tp(this.bounds,a,r)}},{key:"computeLocalBounds",value:function(a,r,n){return Ep(this.bounds,a,r,n)}},{key:"transformBounds",value:function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return _p(this.bounds,a,r)}},{key:"computeScale3",value:function(a){return Dp(this.bounds,a)}},{key:"cutWithPlane",value:function(a,r){return Mp(this.bounds,a,r)}},{key:"intersectBox",value:function(a,r,n,i){return Op(this.bounds,a,r,n,i)}},{key:"intersectPlane",value:function(a,r){return bp(this.bounds,a,r)}},{key:"intersect",value:function(a){return Np(this.bounds,a)}},{key:"intersects",value:function(a){return Co(this.bounds,a)}},{key:"containsPoint",value:function(a,r,n){return So(this.bounds,a,r,n)}},{key:"contains",value:function(a){return Co(this.bounds,a)}}]),t}();function i9(t){var e=t&&t.bounds;return new a9(e)}var o9={equals:hp,isValid:Fr,setBounds:hu,reset:vu,addPoint:wo,addPoints:gu,addBounds:vp,setMinPoint:gp,setMaxPoint:dp,inflate:yp,scale:du,scaleAboutCenter:r9,getCenter:yu,getLength:za,getLengths:Io,getMaxLength:Cp,getDiagonalLength:Sp,getMinPoint:mu,getMaxPoint:xu,getXRange:mp,getYRange:xp,getZRange:wp,getCorners:wu,computeCornerPoints:Tp,computeLocalBounds:Ep,transformBounds:_p,computeScale3:Dp,cutWithPlane:Mp,intersectBox:Op,intersectPlane:bp,intersect:Np,intersects:Co,containsPoint:So,contains:n9,INIT_BOUNDS:Wo},We=t9({newInstance:i9},o9),s9={DISPLAY:0,WORLD:1},Rp={CoordinateSystem:s9};function Uc(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function u9(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Uc(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Uc(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var x0=Rp.CoordinateSystem;function Gc(t){return function(){return U.vtkErrorMacro("vtkProp::".concat(t," - NOT IMPLEMENTED"))}}function c9(t,e){e.classHierarchy.push("vtkProp"),t.getMTime=function(){for(var a=e.mtime,r=0;r<e.textures.length;++r){var n=e.textures[r].getMTime();n>a&&(a=n)}return a},t.processSelectorPixelBuffers=function(a,r){},t.getNestedProps=function(){return null},t.getActors=function(){return[]},t.getActors2D=function(){return[]},t.getVolumes=function(){return[]},t.pick=Gc("pick"),t.hasKey=Gc("hasKey"),t.getNestedVisibility=function(){return e.visibility&&(!e._parentProp||e._parentProp.getNestedVisibility())},t.getNestedPickable=function(){return e.pickable&&(!e._parentProp||e._parentProp.getNestedPickable())},t.getNestedDragable=function(){return e.dragable&&(!e._parentProp||e._parentProp.getNestedDragable())},t.getRedrawMTime=function(){return e.mtime},t.setEstimatedRenderTime=function(a){e.estimatedRenderTime=a,e.savedEstimatedRenderTime=a},t.restoreEstimatedRenderTime=function(){e.estimatedRenderTime=e.savedEstimatedRenderTime},t.addEstimatedRenderTime=function(a){e.estimatedRenderTime+=a},t.setAllocatedRenderTime=function(a){e.allocatedRenderTime=a,e.savedEstimatedRenderTime=e.estimatedRenderTime,e.estimatedRenderTime=0},t.getSupportsSelection=function(){return!1},t.getTextures=function(){return e.textures},t.hasTexture=function(a){return e.textures.indexOf(a)!==-1},t.addTexture=function(a){a&&!t.hasTexture(a)&&(e.textures=e.textures.concat(a),t.modified())},t.removeTexture=function(a){var r=e.textures.filter(function(n){return n!==a});e.textures.length!==r.length&&(e.textures=r,t.modified())},t.removeAllTextures=function(){e.textures=[],t.modified()},t.setCoordinateSystemToWorld=function(){return t.setCoordinateSystem(x0.WORLD)},t.setCoordinateSystemToDisplay=function(){return t.setCoordinateSystem(x0.DISPLAY)}}var f9={allocatedRenderTime:10,coordinateSystem:x0.WORLD,dragable:!0,estimatedRenderTime:0,paths:null,pickable:!0,renderTimeMultiplier:1,savedEstimatedRenderTime:0,textures:[],useBounds:!0,visibility:!0};function kp(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,f9,a),U.obj(t,e),U.get(t,e,["estimatedRenderTime","allocatedRenderTime"]),U.setGet(t,e,["_parentProp","coordinateSystem","dragable","pickable","renderTimeMultiplier","useBounds","visibility"]),U.moveToProtected(t,e,["parentProp"]),c9(t,e)}var l9=U.newInstance(kp,"vtkProp"),Cu=u9({newInstance:l9,extend:kp},Rp);function p9(t,e){e.classHierarchy.push("vtkProp3D"),t.addPosition=function(r){e.position=e.position.map(function(n,i){return n+r[i]}),t.modified()},t.getOrientationWXYZ=function(){var r=Tn();Ml(r,e.rotation);var n=new Float64Array(3),i=Y2(n,r);return[co(i),n[0],n[1],n[2]]},t.rotateX=function(r){r!==0&&(Ao(e.rotation,e.rotation,nt(r)),t.modified())},t.rotateY=function(r){r!==0&&(Ha(e.rotation,e.rotation,nt(r)),t.modified())},t.rotateZ=function(r){r!==0&&(Bo(e.rotation,e.rotation,nt(r)),t.modified())},t.rotateWXYZ=function(r,n,i,u){if(!(r===0||n===0&&i===0&&u===0)){var o=nt(r),f=Tn();Y0(f,[n,i,u],o);var s=new Float64Array(16);K0(s,f),it(e.rotation,e.rotation,s),t.modified()}},t.setOrientation=function(r,n,i){return r===e.orientation[0]&&n===e.orientation[1]&&i===e.orientation[2]?!1:(e.orientation=[r,n,i],be(e.rotation),t.rotateZ(i),t.rotateX(r),t.rotateY(n),t.modified(),!0)},t.setUserMatrix=function(r){return N1(e.userMatrix,r)?!1:(Mt(e.userMatrix,r),t.modified(),!0)},t.getMatrix=function(){return t.computeMatrix(),e.matrix},t.computeMatrix=function(){if(t.getMTime()>e.matrixMTime.getMTime()){be(e.matrix),e.userMatrix&&it(e.matrix,e.matrix,e.userMatrix),Ze(e.matrix,e.matrix,e.origin),Ze(e.matrix,e.matrix,e.position),it(e.matrix,e.matrix,e.rotation),Cn(e.matrix,e.matrix,e.scale),Ze(e.matrix,e.matrix,[-e.origin[0],-e.origin[1],-e.origin[2]]),Ke(e.matrix,e.matrix),e.isIdentity=!0;for(var r=0;r<4;++r)for(var n=0;n<4;++n)(r===n?1:0)!==e.matrix[r+n*4]&&(e.isIdentity=!1);e.matrixMTime.modified()}},t.getCenter=function(){return We.getCenter(e.bounds)},t.getLength=function(){return We.getLength(e.bounds)},t.getXRange=function(){return We.getXRange(e.bounds)},t.getYRange=function(){return We.getYRange(e.bounds)},t.getZRange=function(){return We.getZRange(e.bounds)},t.getUserMatrix=function(){return e.userMatrix};function a(){t.computeMatrix()}t.onModified(a)}var h9={origin:[0,0,0],position:[0,0,0],orientation:[0,0,0],rotation:null,scale:[1,1,1],bounds:[1,-1,1,-1,1,-1],userMatrix:null,userMatrixMTime:null,cachedProp3D:null,isIdentity:!0,matrixMTime:null};function Lp(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,h9,a),Cu.extend(t,e,a),e.matrixMTime={},U.obj(e.matrixMTime),U.get(t,e,["bounds","isIdentity"]),U.getArray(t,e,["orientation"]),U.setGetArray(t,e,["origin","position","scale"],3),e.matrix=be(new Float64Array(16)),e.rotation=be(new Float64Array(16)),e.userMatrix=be(new Float64Array(16)),e.transform=null,p9(t,e)}var v9=U.newInstance(Lp,"vtkProp3D"),Su={newInstance:v9,extend:Lp};function Pc(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function g9(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Pc(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Pc(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var Ra=nu.Representation,ka=nu.Interpolation;function jc(t){return function(){return U.vtkErrorMacro("vtkProperty::".concat(t," - NOT IMPLEMENTED"))}}function d9(t,e){e.classHierarchy.push("vtkProperty"),t.setColor=function(a,r,n){Array.isArray(a)?(e.color[0]!==a[0]||e.color[1]!==a[1]||e.color[2]!==a[2])&&(e.color[0]=a[0],e.color[1]=a[1],e.color[2]=a[2],t.modified()):(e.color[0]!==a||e.color[1]!==r||e.color[2]!==n)&&(e.color[0]=a,e.color[1]=r,e.color[2]=n,t.modified()),t.setDiffuseColor(e.color),t.setAmbientColor(e.color),t.setSpecularColor(e.color)},t.computeCompositeColor=jc("ComputeCompositeColor"),t.getColor=function(){var a=0;e.ambient+e.diffuse+e.specular>0&&(a=1/(e.ambient+e.diffuse+e.specular));for(var r=0;r<3;r++)e.color[r]=a*(e.ambient*e.ambientColor[r]+e.diffuse*e.diffuseColor[r]+e.specular*e.specularColor[r]);return[].concat(e.color)},t.setSpecularPower=function(a){var r=1/Math.max(1,a);(e.roughness!==r||e.specularPower!==a)&&(e.specularPower=a,e.roughness=r,t.modified())},t.addShaderVariable=jc("AddShaderVariable"),t.setInterpolationToFlat=function(){return t.setInterpolation(ka.FLAT)},t.setInterpolationToGouraud=function(){return t.setInterpolation(ka.GOURAUD)},t.setInterpolationToPhong=function(){return t.setInterpolation(ka.PHONG)},t.getInterpolationAsString=function(){return U.enumToString(ka,e.interpolation)},t.setRepresentationToWireframe=function(){return t.setRepresentation(Ra.WIREFRAME)},t.setRepresentationToSurface=function(){return t.setRepresentation(Ra.SURFACE)},t.setRepresentationToPoints=function(){return t.setRepresentation(Ra.POINTS)},t.getRepresentationAsString=function(){return U.enumToString(Ra,e.representation)}}var y9={color:[1,1,1],ambientColor:[1,1,1],diffuseColor:[1,1,1],specularColor:[1,1,1],edgeColor:[0,0,0],ambient:0,diffuse:1,metallic:0,roughness:.6,normalStrength:1,emission:1,baseIOR:1.45,specular:0,specularPower:1,opacity:1,interpolation:ka.GOURAUD,representation:Ra.SURFACE,edgeVisibility:!1,backfaceCulling:!1,frontfaceCulling:!1,pointSize:1,lineWidth:1,lighting:!0,shading:!1,materialName:null};function Fp(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,y9,a),U.obj(t,e),U.setGet(t,e,["lighting","interpolation","ambient","diffuse","metallic","roughness","normalStrength","emission","baseIOR","specular","specularPower","opacity","edgeVisibility","lineWidth","pointSize","backfaceCulling","frontfaceCulling","representation","diffuseTexture","metallicTexture","roughnessTexture","normalTexture","ambientOcclusionTexture","emissionTexture"]),U.setGetArray(t,e,["ambientColor","specularColor","diffuseColor","edgeColor"],3),d9(t,e)}var m9=U.newInstance(Fp,"vtkProperty"),li=g9({newInstance:m9,extend:Fp},nu);function zc(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function x9(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?zc(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):zc(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var w9=U.vtkDebugMacro;function C9(t,e){e.classHierarchy.push("vtkActor");var a=x9({},t);t.getActors=function(){return[t]},t.getIsOpaque=function(){if(e.forceOpaque)return!0;if(e.forceTranslucent)return!1;e.property||t.getProperty();var r=e.property.getOpacity()>=1;return r=r&&(!e.texture||!e.texture.isTranslucent()),r=r&&(!e.mapper||e.mapper.getIsOpaque()),r},t.hasTranslucentPolygonalGeometry=function(){return e.mapper===null?!1:(e.property===null&&t.setProperty(t.makeProperty()),!t.getIsOpaque())},t.makeProperty=li.newInstance,t.getProperty=function(){return e.property===null&&(e.property=t.makeProperty()),e.property},t.getBounds=function(){if(e.mapper===null)return e.bounds;var r=e.mapper.getBounds();if(!r||r.length!==6)return r;if(r[0]>r[1])return e.mapperBounds=r.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),r;if(!e.mapperBounds||r[0]!==e.mapperBounds[0]||r[1]!==e.mapperBounds[1]||r[2]!==e.mapperBounds[2]||r[3]!==e.mapperBounds[3]||r[4]!==e.mapperBounds[4]||r[5]!==e.mapperBounds[5]||t.getMTime()>e.boundsMTime.getMTime()){w9("Recomputing bounds..."),e.mapperBounds=r.concat();var n=[];We.getCorners(r,n),t.computeMatrix();var i=new Float64Array(16);Ke(i,e.matrix),n.forEach(function(u){return Te(u,u,i)}),e.bounds[0]=e.bounds[2]=e.bounds[4]=Number.MAX_VALUE,e.bounds[1]=e.bounds[3]=e.bounds[5]=-Number.MAX_VALUE,e.bounds=e.bounds.map(function(u,o){return o%2===0?n.reduce(function(f,s){return f>s[o/2]?s[o/2]:f},u):n.reduce(function(f,s){return f<s[(o-1)/2]?s[(o-1)/2]:f},u)}),e.boundsMTime.modified()}return e.bounds},t.getMTime=function(){var r=a.getMTime();if(e.property!==null){var n=e.property.getMTime();r=n>r?n:r}if(e.backfaceProperty!==null){var i=e.backfaceProperty.getMTime();r=i>r?i:r}return r},t.getRedrawMTime=function(){var r=e.mtime;if(e.mapper!==null){var n=e.mapper.getMTime();r=n>r?n:r,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),n=e.mapper.getInput().getMTime(),r=n>r?n:r)}return r},t.getSupportsSelection=function(){return e.mapper?e.mapper.getSupportsSelection():!1},t.processSelectorPixelBuffers=function(r,n){e.mapper&&e.mapper.processSelectorPixelBuffers&&e.mapper.processSelectorPixelBuffers(r,n)}}var S9={mapper:null,property:null,backfaceProperty:null,forceOpaque:!1,forceTranslucent:!1,bounds:[1,-1,1,-1,1,-1]};function Ap(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,S9,a),Su.extend(t,e,a),e.boundsMTime={},U.obj(e.boundsMTime),U.set(t,e,["property"]),U.setGet(t,e,["backfaceProperty","forceOpaque","forceTranslucent","mapper"]),C9(t,e)}var T9=U.newInstance(Ap,"vtkActor"),Ar={newInstance:T9,extend:Ap};function _9(t,e){e.classHierarchy.push("vtkAbstractMapper"),t.update=function(){t.getInputData()},t.addClippingPlane=function(a){return a.isA("vtkPlane")?e.clippingPlanes.includes(a)?!1:(e.clippingPlanes.push(a),t.modified(),!0):!1},t.getNumberOfClippingPlanes=function(){return e.clippingPlanes.length},t.removeAllClippingPlanes=function(){return e.clippingPlanes.length===0?!1:(e.clippingPlanes.length=0,t.modified(),!0)},t.removeClippingPlane=function(a){var r=e.clippingPlanes.indexOf(a);return r===-1?!1:(e.clippingPlanes.splice(r,1),t.modified(),!0)},t.getClippingPlanes=function(){return e.clippingPlanes},t.setClippingPlanes=function(a){if(!!a)if(!Array.isArray(a))t.addClippingPlane(a);else for(var r=a.length,n=0;n<r&&n<6;n++)t.addClippingPlane(a[n])},t.getClippingPlaneInDataCoords=function(a,r,n){var i=e.clippingPlanes,u=a;if(i){var o=i.length;if(r>=0&&r<o){var f=i[r],s=f.getNormal(),l=f.getOrigin(),c=s[0],p=s[1],h=s[2],g=-(c*l[0]+p*l[1]+h*l[2]);n[0]=c*u[0]+p*u[4]+h*u[8]+g*u[12],n[1]=c*u[1]+p*u[5]+h*u[9]+g*u[13],n[2]=c*u[2]+p*u[6]+h*u[10]+g*u[14],n[3]=c*u[3]+p*u[7]+h*u[11]+g*u[15];return}}U.vtkErrorMacro("Clipping plane index ".concat(r," is out of range."))}}var D9={clippingPlanes:[]};function E9(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,D9,a),U.obj(t,e),U.algo(t,e,1,0),e.clippingPlanes||(e.clippingPlanes=[]),_9(t,e)}var $o={extend:E9};function O9(t,e){t.getBounds=function(){return 0},t.getBounds=function(a){t.getBounds();for(var r=0;r<6;r++)a[r]=e.bounds[r]},t.getCenter=function(){t.getBounds();for(var a=0;a<3;a++)e.center[a]=(e.bounds[2*a+1]+e.bounds[2*a])/2;return e.center.slice()},t.getLength=function(){var a=0,r=0;t.getBounds();for(var n=0;n<3;n++)a=e.bounds[2*n+1]-e.bounds[2*n],r+=a*a;return Math.sqrt(r)}}var b9={bounds:[1,-1,1,-1,1,-1],center:[0,0,0]};function N9(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,b9,a),$o.extend(t,e,a),e.bounds||ha(e.bounds),e.center||(e.center=[0,0,0]),O9(t,e)}var M9={extend:N9},Wc=U.vtkErrorMacro,R9=U.vtkWarningMacro;function k9(t,e){e.classHierarchy.push("vtkFieldData");var a=t.getState;e.arrays&&(e.arrays=e.arrays.map(function(r){return{data:xt(r.data)}})),t.initialize=function(){t.initializeFields(),t.copyAllOn(),t.clearFieldFlags()},t.initializeFields=function(){e.arrays=[],e.copyFieldFlags={},t.modified()},t.copyStructure=function(r){t.initializeFields(),e.copyFieldFlags=r.getCopyFieldFlags().map(function(n){return n}),e.arrays=r.arrays().map(function(n){return{array:n}})},t.getNumberOfArrays=function(){return e.arrays.length},t.getNumberOfActiveArrays=function(){return e.arrays.length},t.addArray=function(r){var n=r.getName(),i=t.getArrayWithIndex(n),u=i.array,o=i.index;return u!=null?(e.arrays[o]={data:r},o):(e.arrays=[].concat(e.arrays,{data:r}),e.arrays.length-1)},t.removeAllArrays=function(){e.arrays=[]},t.removeArray=function(r){e.arrays=e.arrays.filter(function(n){return r!==n.data.getName()})},t.removeArrayByIndex=function(r){e.arrays=e.arrays.filter(function(n,i){return i!==r})},t.getArrays=function(){return e.arrays.map(function(r){return r.data})},t.getArray=function(r){return typeof r=="number"?t.getArrayByIndex(r):t.getArrayByName(r)},t.getArrayByName=function(r){return e.arrays.reduce(function(n,i,u){return i.data.getName()===r?i.data:n},null)},t.getArrayWithIndex=function(r){return e.arrays.reduce(function(n,i,u){return i.data&&i.data.getName()===r?{array:i.data,index:u}:n},{array:null,index:-1})},t.getArrayByIndex=function(r){return r>=0&&r<e.arrays.length?e.arrays[r].data:null},t.hasArray=function(r){return t.getArrayWithIndex(r).index>=0},t.getArrayName=function(r){var n=e.arrays[r];return n?n.data.getName():""},t.getCopyFieldFlags=function(){return e.copyFieldFlags},t.getFlag=function(r){return e.copyFieldFlags[r]},t.passData=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;r.getArrays().forEach(function(u){var o=t.getFlag(u.getName());if(o!==!1&&!(e.doCopyAllOff&&o!==!0)&&u){var f=t.getArrayByName(u.getName());if(f)if(u.getNumberOfComponents()===f.getNumberOfComponents())if(n>-1&&n<u.getNumberOfTuples()){var p=i>-1?i:n;f.insertTuple(p,u.getTuple(n))}else f.insertTuples(0,u.getTuples());else Wc("Unhandled case in passData");else if(n<0||n>u.getNumberOfTuples())t.addArray(u),r.getAttributes(u).forEach(function(h){t.setAttribute(u,h)});else{var s=u.getNumberOfComponents(),l=u.getNumberOfValues(),c=i>-1?i:n;l<=c*s&&(l=(c+1)*s),f=we.newInstance({name:u.getName(),dataType:u.getDataType(),numberOfComponents:s,values:U.newTypedArray(u.getDataType(),l),size:0}),f.insertTuple(c,u.getTuple(n)),t.addArray(f),r.getAttributes(u).forEach(function(h){t.setAttribute(f,h)})}}})},t.interpolateData=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5;r.getArrays().forEach(function(f){var s=t.getFlag(f.getName());if(s!==!1&&!(e.doCopyAllOff&&s!==!0)&&f){var l=t.getArrayByName(f.getName());if(l)if(f.getNumberOfComponents()===l.getNumberOfComponents())if(n>-1&&n<f.getNumberOfTuples()){var g=u>-1?u:n;l.interpolateTuple(g,f,n,f,i,o),R9("Unexpected case in interpolateData")}else l.insertTuples(f.getTuples());else Wc("Unhandled case in interpolateData");else if(n<0||i<0||n>f.getNumberOfTuples())t.addArray(f),r.getAttributes(f).forEach(function(y){t.setAttribute(f,y)});else{var c=f.getNumberOfComponents(),p=f.getNumberOfValues(),h=u>-1?u:n;p<=h*c&&(p=(h+1)*c),l=we.newInstance({name:f.getName(),dataType:f.getDataType(),numberOfComponents:c,values:U.newTypedArray(f.getDataType(),p),size:0}),l.interpolateTuple(h,f,n,f,i,o),t.addArray(l),r.getAttributes(f).forEach(function(y){t.setAttribute(l,y)})}}})},t.copyFieldOn=function(r){e.copyFieldFlags[r]=!0},t.copyFieldOff=function(r){e.copyFieldFlags[r]=!1},t.copyAllOn=function(){(!e.doCopyAllOn||e.doCopyAllOff)&&(e.doCopyAllOn=!0,e.doCopyAllOff=!1,t.modified())},t.copyAllOff=function(){(e.doCopyAllOn||!e.doCopyAllOff)&&(e.doCopyAllOn=!1,e.doCopyAllOff=!0,t.modified())},t.clearFieldFlags=function(){e.copyFieldFlags={}},t.deepCopy=function(r){e.arrays=r.getArrays().map(function(n){var i=n.newClone();return i.deepCopy(n),{data:i}})},t.copyFlags=function(r){return r.getCopyFieldFlags().map(function(n){return n})},t.reset=function(){return e.arrays.forEach(function(r){return r.data.reset()})},t.getMTime=function(){return e.arrays.reduce(function(r,n){return n.data.getMTime()>r?n.data.getMTime():r},e.mtime)},t.getNumberOfComponents=function(){return e.arrays.reduce(function(r,n){return r+n.data.getNumberOfComponents()},0)},t.getNumberOfTuples=function(){return e.arrays.length>0?e.arrays[0].getNumberOfTuples():0},t.getState=function(){var r=a();return r&&(r.arrays=e.arrays.map(function(n){return{data:n.data.getState()}})),r}}var L9={arrays:[],copyFieldFlags:[],doCopyAllOn:!0,doCopyAllOff:!1};function Bp(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,L9,a),U.obj(t,e),k9(t,e)}var F9=U.newInstance(Bp,"vtkFieldData"),A9={newInstance:F9,extend:Bp},Vp={SCALARS:0,VECTORS:1,NORMALS:2,TCOORDS:3,TENSORS:4,GLOBALIDS:5,PEDIGREEIDS:6,EDGEFLAG:7,NUM_ATTRIBUTES:8},B9={MAX:0,EXACT:1,NOLIMIT:2},V9={DUPLICATECELL:1,HIGHCONNECTIVITYCELL:2,LOWCONNECTIVITYCELL:4,REFINEDCELL:8,EXTERIORCELL:16,HIDDENCELL:32},U9={DUPLICATEPOINT:1,HIDDENPOINT:2},G9={COPYTUPLE:0,INTERPOLATE:1,PASSDATA:2,ALLCOPY:3},P9="vtkGhostType",Nn={DEFAULT:0,SINGLE:1,DOUBLE:2},Tu={AttributeCopyOperations:G9,AttributeLimitTypes:B9,AttributeTypes:Vp,CellGhostTypes:V9,DesiredOutputPrecision:Nn,PointGhostTypes:U9,ghostArrayName:P9};function Ic(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function j9(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Ic(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ic(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var Vr=Tu.AttributeTypes,tn=Tu.AttributeCopyOperations,Ei=U.vtkWarningMacro;function z9(t,e){var a=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"];function r(i){var u=a.find(function(o){return Vr[o.toUpperCase()]===i||typeof i!="number"&&o.toLowerCase()===i.toLowerCase()});return typeof u=="undefined"&&(u=null),u}e.classHierarchy.push("vtkDataSetAttributes"),t.checkNumberOfComponents=function(i){return!0},t.setAttribute=function(i,u){var o=r(u);if(i&&o.toUpperCase()==="PEDIGREEIDS"&&!i.isA("vtkDataArray"))return Ei("Cannot set attribute ".concat(o,". The attribute must be a vtkDataArray.")),-1;if(i&&!t.checkNumberOfComponents(i,o))return Ei("Cannot set attribute ".concat(o,". Incorrect number of components.")),-1;var f=e["active".concat(o)];if(f>=0&&f<e.arrays.length){if(e.arrays[f]===i)return f;t.removeArrayByIndex(f)}return i?(f=t.addArray(i),e["active".concat(o)]=f):e["active".concat(o)]=-1,t.modified(),e["active".concat(o)]},t.getAttributes=function(i){return a.filter(function(u){return t["get".concat(u)]()===i})},t.setActiveAttributeByName=function(i,u){return t.setActiveAttributeByIndex(t.getArrayWithIndex(i).index,u)},t.setActiveAttributeByIndex=function(i,u){var o=r(u);if(i>=0&&i<e.arrays.length){if(o.toUpperCase()!=="PEDIGREEIDS"){var f=t.getArrayByIndex(i);if(!f.isA("vtkDataArray"))return Ei("Cannot set attribute ".concat(o,". Only vtkDataArray subclasses can be set as active attributes.")),-1;if(!t.checkNumberOfComponents(f,o))return Ei("Cannot set attribute ".concat(o,". Incorrect number of components.")),-1}return e["active".concat(o)]=i,t.modified(),i}return i===-1&&(e["active".concat(o)]=i,t.modified()),-1},t.getActiveAttribute=function(i){var u=r(i);return t["get".concat(u)]()},t.removeAllArrays=function(){e.arrays=[],a.forEach(function(i){e["active".concat(i)]=-1})},t.removeArray=function(i){e.arrays=e.arrays.filter(function(u,o){return i===u.data.getName()?(a.forEach(function(f){o===e["active".concat(f)]&&(e["active".concat(f)]=-1)}),!1):!0})},t.removeArrayByIndex=function(i){e.arrays=e.arrays.filter(function(u,o){return o!==i}),a.forEach(function(u){i===e["active".concat(u)]&&(e["active".concat(u)]=-1)})},a.forEach(function(i){var u="active".concat(i);t["get".concat(i)]=function(){return t.getArrayByIndex(e[u])},t["set".concat(i)]=function(o){return t.setAttribute(o,i)},t["setActive".concat(i)]=function(o){return t.setActiveAttributeByIndex(t.getArrayWithIndex(o).index,i)},t["copy".concat(i,"Off")]=function(){var o=i.toUpperCase();e.copyAttributeFlags[tn.PASSDATA][Vr[o]]=!1},t["copy".concat(i,"On")]=function(){var o=i.toUpperCase();e.copyAttributeFlags[tn.PASSDATA][Vr[o]]=!0}}),t.initializeAttributeCopyFlags=function(){e.copyAttributeFlags=[],Object.keys(tn).filter(function(i){return i!=="ALLCOPY"}).forEach(function(i){e.copyAttributeFlags[tn[i]]=Object.keys(Vr).filter(function(u){return u!=="NUM_ATTRIBUTES"}).reduce(function(u,o){return u[Vr[o]]=!0,u},[])}),e.copyAttributeFlags[tn.COPYTUPLE][Vr.GLOBALIDS]=!1,e.copyAttributeFlags[tn.INTERPOLATE][Vr.GLOBALIDS]=!1,e.copyAttributeFlags[tn.COPYTUPLE][Vr.PEDIGREEIDS]=!1},t.initialize=U.chain(t.initialize,t.initializeAttributeCopyFlags),e.dataArrays&&Object.keys(e.dataArrays).length&&Object.keys(e.dataArrays).forEach(function(i){!e.dataArrays[i].ref&&e.dataArrays[i].type==="vtkDataArray"&&t.addArray(we.newInstance(e.dataArrays[i]))});var n=t.shallowCopy;t.shallowCopy=function(i,u){n(i,u),e.arrays=i.getArrays().map(function(o){var f=o.newClone();return f.shallowCopy(o,u),{data:f}})},t.initializeAttributeCopyFlags()}var W9={activeScalars:-1,activeVectors:-1,activeTensors:-1,activeNormals:-1,activeTCoords:-1,activeGlobalIds:-1,activePedigreeIds:-1};function Up(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,W9,a),A9.extend(t,e,a),U.setGet(t,e,["activeScalars","activeNormals","activeTCoords","activeVectors","activeTensors","activeGlobalIds","activePedigreeIds"]),e.arrays||(e.arrays={}),z9(t,e)}var I9=U.newInstance(Up,"vtkDataSetAttributes"),$c=j9({newInstance:I9,extend:Up},Tu),st={UNIFORM:0,DATA_OBJECT_FIELD:0,COORDINATE:1,POINT_DATA:1,POINT:2,POINT_FIELD_DATA:2,CELL:3,CELL_FIELD_DATA:3,VERTEX:4,VERTEX_FIELD_DATA:4,EDGE:5,EDGE_FIELD_DATA:5,ROW:6,ROW_DATA:6},Gp={FIELD_ASSOCIATION_POINTS:0,FIELD_ASSOCIATION_CELLS:1,FIELD_ASSOCIATION_NONE:2,FIELD_ASSOCIATION_POINTS_THEN_CELLS:3,FIELD_ASSOCIATION_VERTICES:4,FIELD_ASSOCIATION_EDGES:5,FIELD_ASSOCIATION_ROWS:6,NUMBER_OF_ASSOCIATIONS:7},$9={FieldDataTypes:st,FieldAssociations:Gp};function Hc(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function H9(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Hc(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Hc(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var w0=["pointData","cellData","fieldData"];function K9(t,e){e.classHierarchy.push("vtkDataSet"),w0.forEach(function(r){e[r]?e[r]=xt(e[r]):e[r]=$c.newInstance()});var a=t.shallowCopy;t.shallowCopy=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a(r,n),w0.forEach(function(i){e[i]=$c.newInstance(),e[i].shallowCopy(r.getReferenceByName(i))})}}var X9={};function Pp(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,X9,a),U.obj(t,e),U.setGet(t,e,w0),K9(t,e)}var q9=U.newInstance(Pp,"vtkDataSet"),Mn=H9({newInstance:q9,extend:Pp},$9),ar={UNCHANGED:0,SINGLE_POINT:1,X_LINE:2,Y_LINE:3,Z_LINE:4,XY_PLANE:5,YZ_PLANE:6,XZ_PLANE:7,XYZ_GRID:8,EMPTY:9},jp={StructuredType:ar};function Kc(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function Y9(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Kc(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Kc(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var Cr=jp.StructuredType;function J9(t){for(var e=0,a=0;a<3;++a)t[a*2]<t[a*2+1]&&e++;return t[0]>t[1]||t[2]>t[3]||t[4]>t[5]?Cr.EMPTY:e===3?Cr.XYZ_GRID:e===2?t[0]===t[1]?Cr.YZ_PLANE:t[2]===t[3]?Cr.XZ_PLANE:Cr.XY_PLANE:e===1?t[0]<t[1]?Cr.X_LINE:t[2]<t[3]?Cr.Y_LINE:Cr.Z_LINE:Cr.SINGLE_POINT}var Z9=Y9({getDataDescriptionFromExtent:J9},jp),rn=U.vtkErrorMacro;function Q9(t,e){e.classHierarchy.push("vtkImageData"),t.setExtent=function(){if(e.deleted)return rn("instance deleted - cannot call any method"),!1;for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];var i=r.length===1?r[0]:r;if(i.length!==6)return!1;var u=e.extent.some(function(o,f){return o!==i[f]});return u&&(e.extent=i.slice(),e.dataDescription=Z9.getDataDescriptionFromExtent(e.extent),t.modified()),u},t.setDimensions=function(){var a,r,n;if(e.deleted){rn("instance deleted - cannot call any method");return}if(arguments.length===1){var i=arguments.length<=0?void 0:arguments[0];a=i[0],r=i[1],n=i[2]}else if(arguments.length===3)a=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2];else{rn("Bad dimension specification");return}t.setExtent(0,a-1,0,r-1,0,n-1)},t.getDimensions=function(){return[e.extent[1]-e.extent[0]+1,e.extent[3]-e.extent[2]+1,e.extent[5]-e.extent[4]+1]},t.getNumberOfCells=function(){for(var a=t.getDimensions(),r=1,n=0;n<3;n++){if(a[n]===0)return 0;a[n]>1&&(r*=a[n]-1)}return r},t.getNumberOfPoints=function(){var a=t.getDimensions();return a[0]*a[1]*a[2]},t.getPoint=function(a){var r=t.getDimensions();if(r[0]===0||r[1]===0||r[2]===0)return rn("Requesting a point from an empty image."),null;var n=new Float64Array(3);switch(e.dataDescription){case ar.EMPTY:return null;case ar.SINGLE_POINT:break;case ar.X_LINE:n[0]=a;break;case ar.Y_LINE:n[1]=a;break;case ar.Z_LINE:n[2]=a;break;case ar.XY_PLANE:n[0]=a%r[0],n[1]=a/r[0];break;case ar.YZ_PLANE:n[1]=a%r[1],n[2]=a/r[1];break;case ar.XZ_PLANE:n[0]=a%r[0],n[2]=a/r[0];break;case ar.XYZ_GRID:n[0]=a%r[0],n[1]=a/r[0]%r[1],n[2]=a/(r[0]*r[1]);break;default:rn("Invalid dataDescription");break}var i=[0,0,0];return t.indexToWorld(n,i),i},t.getBounds=function(){return t.extentToBounds(t.getSpatialExtent())},t.extentToBounds=function(a){return We.transformBounds(a,e.indexToWorld)},t.getSpatialExtent=function(){return We.inflate(de(e.extent),.5)},t.computeTransforms=function(){Dl(e.indexToWorld,e.origin),e.indexToWorld[0]=e.direction[0],e.indexToWorld[1]=e.direction[1],e.indexToWorld[2]=e.direction[2],e.indexToWorld[4]=e.direction[3],e.indexToWorld[5]=e.direction[4],e.indexToWorld[6]=e.direction[5],e.indexToWorld[8]=e.direction[6],e.indexToWorld[9]=e.direction[7],e.indexToWorld[10]=e.direction[8],Cn(e.indexToWorld,e.indexToWorld,e.spacing),Zt(e.worldToIndex,e.indexToWorld)},t.indexToWorld=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Te(r,a,e.indexToWorld),r},t.indexToWorldVec3=t.indexToWorld,t.worldToIndex=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Te(r,a,e.worldToIndex),r},t.worldToIndexVec3=t.worldToIndex,t.indexToWorldBounds=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return We.transformBounds(a,e.indexToWorld,r)},t.worldToIndexBounds=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return We.transformBounds(a,e.worldToIndex,r)},t.onModified(t.computeTransforms),t.computeTransforms(),t.getCenter=function(){return We.getCenter(t.getBounds())},t.computeHistogram=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=[0,0,0,0,0,0];t.worldToIndexBounds(a,n);var i=[0,0,0],u=[0,0,0];We.computeCornerPoints(n,i,u),lc(i,i),lc(u,u);var o=t.getDimensions();pc(i,[0,0,0],[o[0]-1,o[1]-1,o[2]-1],i),pc(u,[0,0,0],[o[0]-1,o[1]-1,o[2]-1],u);for(var f=o[0],s=o[0]*o[1],l=t.getPointData().getScalars().getData(),c=-1/0,p=1/0,h=0,g=0,y=0,m=i[2];m<=u[2];m++)for(var x=i[1];x<=u[1];x++)for(var v=i[0]+x*f+m*s,d=i[0];d<=u[0];d++){if(!r||r([d,x,m],n)){var w=l[v];w>c&&(c=w),w<p&&(p=w),h+=w*w,g+=w,y+=1}++v}var C=y>0?g/y:0,S=y?Math.abs(h/y-C*C):0,T=Math.sqrt(S);return{minimum:p,maximum:c,average:C,variance:S,sigma:T,count:y}},t.computeIncrements=function(a){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=[],i=r,u=0;u<3;++u)n[u]=i,i*=a[u*2+1]-a[u*2]+1;return n},t.computeOffsetIndex=function(a){var r=ze(a,3),n=r[0],i=r[1],u=r[2],o=t.getExtent(),f=t.getPointData().getScalars().getNumberOfComponents(),s=t.computeIncrements(o,f);return Math.floor((Math.round(n)-o[0])*s[0]+(Math.round(i)-o[2])*s[1]+(Math.round(u)-o[4])*s[2])},t.getOffsetIndexFromWorld=function(a){for(var r=t.getExtent(),n=t.worldToIndex(a),i=0;i<3;++i)if(n[i]<r[i*2]||n[i]>r[i*2+1])return rn("GetScalarPointer: Pixel ".concat(n," is not in memory. Current extent = ").concat(r)),NaN;return t.computeOffsetIndex(n)},t.getScalarValueFromWorld=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t.getPointData().getScalars().getNumberOfComponents();if(r<0||r>=n)return rn("GetScalarPointer: Scalar Component ".concat(r," is not within bounds. Current Scalar numberOfComponents: ").concat(n)),NaN;var i=t.getOffsetIndexFromWorld(a);return Number.isNaN(i)?i:t.getPointData().getScalars().getComponent(i,r)}}var em={direction:null,indexToWorld:null,worldToIndex:null,spacing:[1,1,1],origin:[0,0,0],extent:[0,-1,0,-1,0,-1],dataDescription:ar.EMPTY};function zp(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,em,a),Mn.extend(t,e,a),e.direction?Array.isArray(e.direction)&&(e.direction=new Float64Array(e.direction.slice(0,9))):e.direction=xr(new Float64Array(9)),e.indexToWorld=new Float64Array(16),e.worldToIndex=new Float64Array(16),U.get(t,e,["indexToWorld","worldToIndex"]),U.setGetArray(t,e,["origin","spacing"],3),U.setGetArray(t,e,["direction"],9),U.getArray(t,e,["extent"],6),Q9(t,e)}var tm=U.newInstance(zp,"vtkImageData"),_u={newInstance:tm,extend:zp},rm={MAGNITUDE:0,COMPONENT:1,RGBCOLORS:2},C0={LUMINANCE:1,LUMINANCE_ALPHA:2,RGB:3,RGBA:4},Ho={VectorMode:rm,ScalarMappingTarget:C0},nm={DEFAULT:0,MAP_SCALARS:1,DIRECT_SCALARS:2},am={DEFAULT:0,USE_POINT_DATA:1,USE_CELL_DATA:2,USE_POINT_FIELD_DATA:3,USE_CELL_FIELD_DATA:4,USE_FIELD_DATA:5},im={BY_ID:0,BY_NAME:1},Qr={ColorMode:nm,GetArray:im,ScalarMode:am};function Xc(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function om(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Xc(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Xc(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var qc=Ho.ScalarMappingTarget,hr=Ho.VectorMode,An=we.VtkDataTypes,Yc=Qr.ColorMode,Jc=U.vtkErrorMacro;function sm(t){return t}function Zc(t){return Math.floor(t*255+.5)}function um(t,e){e.classHierarchy.push("vtkScalarsToColors"),t.setVectorModeToMagnitude=function(){return t.setVectorMode(hr.MAGNITUDE)},t.setVectorModeToComponent=function(){return t.setVectorMode(hr.COMPONENT)},t.setVectorModeToRGBColors=function(){return t.setVectorMode(hr.RGBCOLORS)},t.build=function(){},t.isOpaque=function(){return!0},t.setAnnotations=function(a,r){if(!(a&&!r||!a&&r)){if(a&&r&&a.length!==r.length){Jc("Values and annotations do not have the same number of tuples so ignoring");return}if(e.annotationArray=[],r&&a)for(var n=r.length,i=0;i<n;i++)e.annotationArray.push({value:a[i],annotation:String(r[i])});t.updateAnnotatedValueMap(),t.modified()}},t.setAnnotation=function(a,r){var n=t.checkForAnnotatedValue(a),i=!1;return n>=0?e.annotationArray[n].annotation!==r&&(e.annotationArray[n].annotation=r,i=!0):(e.annotationArray.push({value:a,annotation:r}),n=e.annotationArray.length-1,i=!0),i&&(t.updateAnnotatedValueMap(),t.modified()),n},t.getNumberOfAnnotatedValues=function(){return e.annotationArray.length},t.getAnnotatedValue=function(a){return a<0||a>=e.annotationArray.length?null:e.annotationArray[a].value},t.getAnnotation=function(a){return e.annotationArray[a]===void 0?null:e.annotationArray[a].annotation},t.getAnnotatedValueIndex=function(a){return e.annotationArray.length?t.checkForAnnotatedValue(a):-1},t.removeAnnotation=function(a){var r=t.checkForAnnotatedValue(a),n=r>=0;return n&&(e.annotationArray.splice(r,1),t.updateAnnotatedValueMap(),t.modified()),n},t.resetAnnotations=function(){e.annotationArray=[],e.annotatedValueMap=[],t.modified()},t.getAnnotationColor=function(a,r){if(e.indexedLookup){var n=t.getAnnotatedValueIndex(a);t.getIndexedColor(n,r)}else t.getColor(parseFloat(a),r),r[3]=1},t.checkForAnnotatedValue=function(a){return t.getAnnotatedValueIndexInternal(a)},t.getAnnotatedValueIndexInternal=function(a){if(e.annotatedValueMap[a]!==void 0){var r=e.annotationArray.length;return e.annotatedValueMap[a]%r}return-1},t.getIndexedColor=function(a,r){r[0]=0,r[1]=0,r[2]=0,r[3]=0},t.updateAnnotatedValueMap=function(){e.annotatedValueMap=[];for(var a=e.annotationArray.length,r=0;r<a;r++)e.annotatedValueMap[e.annotationArray[r].value]=r},t.mapScalars=function(a,r,n){var i=a.getNumberOfComponents(),u=null;if(r===Yc.DEFAULT&&a.getDataType()===An.UNSIGNED_CHAR||r===Yc.DIRECT_SCALARS&&a)u=t.convertToRGBA(a,i,a.getNumberOfTuples());else{var o={type:"vtkDataArray",name:"temp",numberOfComponents:4,dataType:An.UNSIGNED_CHAR},f=U.newTypedArray(o.dataType,4*a.getNumberOfTuples());o.values=f,o.size=f.length,u=we.newInstance(o);var s=n;s<0&&i>1?t.mapVectorsThroughTable(a,u,qc.RGBA,-1,-1):(s<0&&(s=0),s>=i&&(s=i-1),t.mapScalarsThroughTable(a,u,qc.RGBA,s))}return u},t.mapVectorsToMagnitude=function(a,r,n){for(var i=a.getNumberOfTuples(),u=a.getNumberOfComponents(),o=r.getData(),f=a.getData(),s=0;s<i;s++){for(var l=0,c=0;c<n;c++)l+=f[s*u+c]*f[s*u+c];o[s]=Math.sqrt(l)}},t.mapVectorsThroughTable=function(a,r,n,i,u){var o=t.getVectorMode(),f=u,s=i,l=a.getNumberOfComponents();o===hr.COMPONENT?(s===-1&&(s=t.getVectorComponent()),s<0&&(s=0),s>=l&&(s=l-1)):(f===-1&&(f=t.getVectorSize()),f<=0?(s=0,f=l):(s<0&&(s=0),s>=l&&(s=l-1),s+f>l&&(f=l-s)),o===hr.MAGNITUDE&&(l===1||f===1)&&(o=hr.COMPONENT));var c=0;switch(s>0&&(c=s),o){case hr.COMPONENT:{t.mapScalarsThroughTable(a,r,n,c);break}case hr.RGBCOLORS:break;case hr.MAGNITUDE:default:{var p=we.newInstance({numberOfComponents:1,values:new Float32Array(a.getNumberOfTuples())});t.mapVectorsToMagnitude(a,p,f),t.mapScalarsThroughTable(p,r,n,0);break}}},t.luminanceToRGBA=function(a,r,n,i){for(var u=i(n),o=r.getData(),f=a.getData(),s=o.length,l=0,c=1,p=0,h=l;h<s;h+=c){var g=i(o[h]);f[p*4]=g,f[p*4+1]=g,f[p*4+2]=g,f[p*4+3]=u,p++}},t.luminanceAlphaToRGBA=function(a,r,n,i){for(var u=r.getData(),o=a.getData(),f=u.length,s=0,l=2,c=0,p=s;p<f;p+=l){var h=i(u[p]);o[c]=h,o[c+1]=h,o[c+2]=h,o[c+3]=i(u[p+1])*n,c+=4}},t.rGBToRGBA=function(a,r,n,i){for(var u=Zc(n),o=r.getData(),f=a.getData(),s=o.length,l=0,c=3,p=0,h=l;h<s;h+=c)f[p*4]=i(o[h]),f[p*4+1]=i(o[h+1]),f[p*4+2]=i(o[h+2]),f[p*4+3]=u,p++},t.rGBAToRGBA=function(a,r,n,i){for(var u=r.getData(),o=a.getData(),f=u.length,s=0,l=4,c=0,p=s;p<f;p+=l)o[c*4]=i(u[p]),o[c*4+1]=i(u[p+1]),o[c*4+2]=i(u[p+2]),o[c*4+3]=i(u[p+3])*n,c++},t.convertToRGBA=function(a,r,n){var i=e.alpha;if(r===4&&i>=1&&a.getDataType()===An.UNSIGNED_CHAR)return a;var u=we.newInstance({numberOfComponents:4,empty:!0,size:4*n,dataType:An.UNSIGNED_CHAR});if(n<=0)return u;i=i>0?i:0,i=i<1?i:1;var o=sm;switch((a.getDataType()===An.FLOAT||a.getDataType()===An.DOUBLE)&&(o=Zc),r){case 1:t.luminanceToRGBA(u,a,i,o);break;case 2:t.luminanceAlphaToRGBA(u,a,o);break;case 3:t.rGBToRGBA(u,a,i,o);break;case 4:t.rGBAToRGBA(u,a,i,o);break;default:return Jc("Cannot convert colors"),null}return u},t.usingLogScale=function(){return!1},t.getNumberOfAvailableColors=function(){return 256*256*256},t.setRange=function(a,r){return t.setMappingRange(a,r)},t.getRange=function(){return t.getMappingRange()}}var cm={alpha:1,vectorComponent:0,vectorSize:-1,vectorMode:hr.COMPONENT,mappingRange:null,annotationArray:null,annotatedValueMap:null,indexedLookup:!1};function Wp(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,cm,a),U.obj(t,e),e.mappingRange=[0,255],e.annotationArray=[],e.annotatedValueMap=[],U.setGet(t,e,["vectorSize","vectorComponent","vectorMode","alpha","indexedLookup"]),U.setArray(t,e,["mappingRange"],2),U.getArray(t,e,["mappingRange"]),um(t,e)}var fm=U.newInstance(Wp,"vtkScalarsToColors"),Ko=om({newInstance:fm,extend:Wp},Ho),Qc=U.vtkErrorMacro,ef=0,tf=1,ys=2;function lm(t,e){e.classHierarchy.push("vtkLookupTable"),t.isOpaque=function(){if(e.opaqueFlagBuildTime.getMTime()<t.getMTime()){var a=!0;e.nanColor[3]<1&&(a=0),e.useBelowRangeColor&&e.belowRangeColor[3]<1&&(a=0),e.useAboveRangeColor&&e.aboveRangeColor[3]<1&&(a=0);for(var r=3;r<e.table.length&&a;r+=4)e.table[r]<255&&(a=!1);e.opaqueFlag=a,e.opaqueFlagBuildTime.modified()}return e.opaqueFlag},t.usingLogScale=function(){return!1},t.getNumberOfAvailableColors=function(){return e.table.length/4},t.linearIndexLookup=function(a,r){var n=0;return a<r.range[0]?n=r.maxIndex+ef+1.5:a>r.range[1]?n=r.maxIndex+tf+1.5:(n=(a+r.shift)*r.scale,n=n<r.maxIndex?n:r.maxIndex),Math.floor(n)},t.linearLookup=function(a,r,n){var i=0;po(a)?i=Math.floor(n.maxIndex+1.5+ys):i=t.linearIndexLookup(a,n);var u=4*i;return r.slice(u,u+4)},t.indexedLookupFunction=function(a,r,n){var i=t.getAnnotatedValueIndexInternal(a);i===-1&&(i=e.numberOfColors+ys);var u=4*i;return[r[u],r[u+1],r[u+2],r[u+3]]},t.lookupShiftAndScale=function(a,r){r.shift=-a[0],r.scale=Number.MAX_VALUE,a[1]>a[0]&&(r.scale=(r.maxIndex+1)/(a[1]-a[0]))},t.mapScalarsThroughTable=function(a,r,n,i){var u=t.linearLookup;e.indexedLookup&&(u=t.indexedLookupFunction);var o=t.getMappingRange(),f={maxIndex:t.getNumberOfColors()-1,range:o,shift:0,scale:0};t.lookupShiftAndScale(o,f);var s=t.getAlpha(),l=a.getNumberOfTuples(),c=a.getNumberOfComponents(),p=r.getData(),h=a.getData();if(s>=1){if(n===C0.RGBA)for(var g=0;g<l;g++){var y=u(h[g*c+i],e.table,f);p[g*4]=y[0],p[g*4+1]=y[1],p[g*4+2]=y[2],p[g*4+3]=y[3]}}else if(n===C0.RGBA)for(var m=0;m<l;m++){var x=u(h[m*c+i],e.table,f);p[m*4]=x[0],p[m*4+1]=x[1],p[m*4+2]=x[2],p[m*4+3]=Math.floor(x[3]*s+.5)}},t.forceBuild=function(){var a=0,r=0,n=0,i=0,u=e.numberOfColors-1;u&&(a=(e.hueRange[1]-e.hueRange[0])/u,r=(e.saturationRange[1]-e.saturationRange[0])/u,n=(e.valueRange[1]-e.valueRange[0])/u,i=(e.alphaRange[1]-e.alphaRange[0])/u),e.table.length=4*u+16;for(var o=[],f=[],s=0;s<=u;s++)o[0]=e.hueRange[0]+s*a,o[1]=e.saturationRange[0]+s*r,o[2]=e.valueRange[0]+s*n,Pn(o,f),f[3]=e.alphaRange[0]+s*i,e.table[s*4]=f[0]*255+.5,e.table[s*4+1]=f[1]*255+.5,e.table[s*4+2]=f[2]*255+.5,e.table[s*4+3]=f[3]*255+.5;t.buildSpecialColors(),e.buildTime.modified()},t.setTable=function(a){if(a.getNumberOfComponents()!==4){Qc("Expected 4 components for RGBA colors");return}if(a.getDataType()!==at.UNSIGNED_CHAR){Qc("Expected unsigned char values for RGBA colors");return}e.numberOfColors=a.getNumberOfTuples();var r=a.getData();e.table.length=r.length;for(var n=0;n<r.length;n++)e.table[n]=r[n];t.buildSpecialColors(),e.insertTime.modified(),t.modified()},t.buildSpecialColors=function(){var a=e.numberOfColors,r=e.table,n=(a+ef)*4;e.useBelowRangeColor||a===0?(r[n]=e.belowRangeColor[0]*255+.5,r[n+1]=e.belowRangeColor[1]*255+.5,r[n+2]=e.belowRangeColor[2]*255+.5,r[n+3]=e.belowRangeColor[3]*255+.5):(r[n]=r[0],r[n+1]=r[1],r[n+2]=r[2],r[n+3]=r[3]),n=(a+tf)*4,e.useAboveRangeColor||a===0?(r[n]=e.aboveRangeColor[0]*255+.5,r[n+1]=e.aboveRangeColor[1]*255+.5,r[n+2]=e.aboveRangeColor[2]*255+.5,r[n+3]=e.aboveRangeColor[3]*255+.5):(r[n]=r[4*(a-1)+0],r[n+1]=r[4*(a-1)+1],r[n+2]=r[4*(a-1)+2],r[n+3]=r[4*(a-1)+3]),n=(a+ys)*4,r[n]=e.nanColor[0]*255+.5,r[n+1]=e.nanColor[1]*255+.5,r[n+2]=e.nanColor[2]*255+.5,r[n+3]=e.nanColor[3]*255+.5},t.build=function(){(e.table.length<1||t.getMTime()>e.buildTime.getMTime()&&e.insertTime.getMTime()<=e.buildTime.getMTime())&&t.forceBuild()},e.table.length>0&&e.insertTime.modified()}var pm={numberOfColors:256,hueRange:[0,.66667],saturationRange:[1,1],valueRange:[1,1],alphaRange:[1,1],nanColor:[.5,0,0,1],belowRangeColor:[0,0,0,1],aboveRangeColor:[1,1,1,1],useAboveRangeColor:!1,useBelowRangeColor:!1,alpha:1};function Ip(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,pm,a),Ko.extend(t,e,a),e.table||(e.table=[]),e.buildTime={},U.obj(e.buildTime),e.opaqueFlagBuildTime={},U.obj(e.opaqueFlagBuildTime,{mtime:0}),e.insertTime={},U.obj(e.insertTime,{mtime:0}),U.get(t,e,["buildTime"]),U.setGet(t,e,["numberOfColors","useAboveRangeColor","useBelowRangeColor"]),U.setArray(t,e,["alphaRange","hueRange","saturationRange","valueRange"],2),U.setArray(t,e,["nanColor","belowRangeColor","aboveRangeColor"],4),U.getArray(t,e,["hueRange","saturationRange","valueRange","alphaRange","nanColor","belowRangeColor","aboveRangeColor"]),lm(t,e)}var hm=U.newInstance(Ip,"vtkLookupTable"),La={newInstance:hm,extend:Ip},$p=1,Du=0,vm=["VTK_RESOLVE_OFF","VTK_RESOLVE_POLYGON_OFFSET"];function gm(){return $p}function dm(t){$p=t}function ym(){return Du}function Xo(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;Du=t}function mm(){Xo(0)}function xm(){Xo(0)}function wm(){Xo(1)}function Cm(){return vm[Du]}var S0={getResolveCoincidentTopologyAsString:Cm,getResolveCoincidentTopologyPolygonOffsetFaces:gm,getResolveCoincidentTopology:ym,setResolveCoincidentTopology:Xo,setResolveCoincidentTopologyPolygonOffsetFaces:dm,setResolveCoincidentTopologyToDefault:mm,setResolveCoincidentTopologyToOff:xm,setResolveCoincidentTopologyToPolygonOffset:wm};function Hp(t,e,a){a.forEach(function(r){t["get".concat(r.method)]=function(){return e[r.key]},t["set".concat(r.method)]=function(n,i){e[r.key]={factor:n,offset:i}}})}var Eu=["Polygon","Line","Point"],Sm={Polygon:{factor:2,offset:0},Line:{factor:1,offset:-1},Point:{factor:0,offset:-2}},ln={};Hp(ln,Sm,Eu.map(function(t){return{key:t,method:"ResolveCoincidentTopology".concat(t,"OffsetParameters")}}));function Tm(t,e){e.resolveCoincidentTopology===void 0&&(e.resolveCoincidentTopology=!1),U.setGet(t,e,["resolveCoincidentTopology"]),e.topologyOffset={Polygon:{factor:0,offset:0},Line:{factor:0,offset:0},Point:{factor:0,offset:0}},Object.keys(S0).forEach(function(a){t[a]=S0[a]}),Object.keys(ln).forEach(function(a){t[a]=ln[a]}),Hp(t,e.topologyOffset,Eu.map(function(a){return{key:a,method:"RelativeCoincidentTopology".concat(a,"OffsetParameters")}})),t.getCoincidentTopologyPolygonOffsetParameters=function(){var a=ln.getResolveCoincidentTopologyPolygonOffsetParameters(),r=t.getRelativeCoincidentTopologyPolygonOffsetParameters();return{factor:a.factor+r.factor,offset:a.offset+r.offset}},t.getCoincidentTopologyLineOffsetParameters=function(){var a=ln.getResolveCoincidentTopologyLineOffsetParameters(),r=t.getRelativeCoincidentTopologyLineOffsetParameters();return{factor:a.factor+r.factor,offset:a.offset+r.offset}},t.getCoincidentTopologyPointOffsetParameter=function(){var a=ln.getResolveCoincidentTopologyPointOffsetParameters(),r=t.getRelativeCoincidentTopologyPointOffsetParameters();return{factor:a.factor+r.factor,offset:a.offset+r.offset}}}var va={implementCoincidentTopologyMethods:Tm,staticOffsetAPI:ln,otherStaticMethods:S0,CATEGORIES:Eu},Bt={MIN_KNOWN_PASS:0,ACTOR_PASS:0,COMPOSITE_INDEX_PASS:1,ID_LOW24:2,ID_HIGH24:3,MAX_KNOWN_PASS:3},Kp={PassTypes:Bt};function rf(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function ms(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?rf(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):rf(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var nf=Mn.FieldAssociations,_m=va.staticOffsetAPI,Dm=va.otherStaticMethods,xs=Qr.ColorMode,nn=Qr.ScalarMode,ws=Qr.GetArray,Em=Ho.VectorMode,Om=we.VtkDataTypes;function xa(t){return function(){return U.vtkErrorMacro("vtkMapper::".concat(t," - NOT IMPLEMENTED"))}}function bm(t,e){e.classHierarchy.push("vtkMapper"),t.getBounds=function(){var a=t.getInputData();return a?(e.static||t.update(),e.bounds=a.getBounds()):e.bounds=na(),e.bounds},t.setForceCompileOnly=function(a){e.forceCompileOnly=a},t.createDefaultLookupTable=function(){e.lookupTable=La.newInstance()},t.getColorModeAsString=function(){return U.enumToString(xs,e.colorMode)},t.setColorModeToDefault=function(){return t.setColorMode(0)},t.setColorModeToMapScalars=function(){return t.setColorMode(1)},t.setColorModeToDirectScalars=function(){return t.setColorMode(2)},t.getScalarModeAsString=function(){return U.enumToString(nn,e.scalarMode)},t.setScalarModeToDefault=function(){return t.setScalarMode(0)},t.setScalarModeToUsePointData=function(){return t.setScalarMode(1)},t.setScalarModeToUseCellData=function(){return t.setScalarMode(2)},t.setScalarModeToUsePointFieldData=function(){return t.setScalarMode(3)},t.setScalarModeToUseCellFieldData=function(){return t.setScalarMode(4)},t.setScalarModeToUseFieldData=function(){return t.setScalarMode(5)},t.getAbstractScalars=function(a,r,n,i,u){if(!a||!e.scalarVisibility)return{scalars:null,cellFLag:!1};var o=null,f=!1;if(r===nn.DEFAULT)o=a.getPointData().getScalars(),o||(o=a.getCellData().getScalars(),f=!0);else if(r===nn.USE_POINT_DATA)o=a.getPointData().getScalars();else if(r===nn.USE_CELL_DATA)o=a.getCellData().getScalars(),f=!0;else if(r===nn.USE_POINT_FIELD_DATA){var s=a.getPointData();n===ws.BY_ID?o=s.getArrayByIndex(i):o=s.getArrayByName(u)}else if(r===nn.USE_CELL_FIELD_DATA){var l=a.getCellData();f=!0,n===ws.BY_ID?o=l.getArrayByIndex(i):o=l.getArrayByName(u)}else if(r===nn.USE_FIELD_DATA){var c=a.getFieldData();n===ws.BY_ID?o=c.getArrayByIndex(i):o=c.getArrayByName(u)}return{scalars:o,cellFlag:f}},t.mapScalars=function(a,r){var n=t.getAbstractScalars(a,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName).scalars;if(!n){e.colorCoordinates=null,e.colorTextureMap=null,e.colorMapColors=null;return}var i="".concat(t.getMTime()).concat(n.getMTime()).concat(r);if(e.colorBuildString!==i){if(e.useLookupTableScalarRange||t.getLookupTable().setRange(e.scalarRange[0],e.scalarRange[1]),t.canUseTextureMapForColoring(a))t.mapScalarsToTexture(n,r);else{e.colorCoordinates=null,e.colorTextureMap=null;var u=t.getLookupTable();u&&(u.build(),e.colorMapColors=u.mapScalars(n,e.colorMode,e.fieldDataTupleId))}e.colorBuildString="".concat(t.getMTime()).concat(n.getMTime()).concat(r)}},t.scalarToTextureCoordinate=function(a,r,n){var i=.5,u=1;return po(a)||(u=.49,i=(a-r)*n,i>1e3?i=1e3:i<-1e3&&(i=-1e3)),{texCoordS:i,texCoordT:u}},t.createColorTextureCoordinates=function(a,r,n,i,u,o,f,s,l){var c=(o[1]-o[0])/s,p=[];p[0]=o[0]-c,p[1]=o[1]+c;var h=1/(p[1]-p[0]),g=r.getData(),y=a.getData(),m=0,x=0;if(u<0||u>=i)for(var v=0;v<n;++v){for(var d=0,w=0;w<i;++w)d+=y[m]*y[m],m++;var C=Math.sqrt(d);l&&(C=La.applyLogScale(C,f,o));var S=t.scalarToTextureCoordinate(C,p[0],h);g[x]=S.texCoordS,g[x+1]=S.texCoordT,x+=2}else{m+=u;for(var T=0;T<n;++T){var _=y[m];l&&(_=La.applyLogScale(_,f,o));var D=t.scalarToTextureCoordinate(_,p[0],h);g[x]=D.texCoordS,g[x+1]=D.texCoordT,x+=2,m+=i}}},t.mapScalarsToTexture=function(a,r){var n=e.lookupTable.getRange(),i=e.lookupTable.usingLogScale();i&&La.getLogRange(n,n);var u=e.lookupTable.getAlpha();if(e.colorMapColors=null,e.colorTextureMap==null||t.getMTime()>e.colorTextureMap.getMTime()||e.lookupTable.getMTime()>e.colorTextureMap.getMTime()||e.lookupTable.getAlpha()!==r){e.lookupTable.setAlpha(r),e.colorTextureMap=null,e.lookupTable.build();var o=e.lookupTable.getNumberOfAvailableColors();o>4094&&(o=4094),o+=2;for(var f=(n[1]-n[0])/(o-1-2),s=new Float64Array(o*2),l=0;l<o;++l)s[l]=n[0]+l*f-f,i&&(s[l]=Math.pow(10,s[l]));for(var c=0;c<o;++c)s[c+o]=NaN;e.colorTextureMap=_u.newInstance(),e.colorTextureMap.setExtent(0,o-1,0,1,0,0);var p=we.newInstance({numberOfComponents:1,values:s});e.colorTextureMap.getPointData().setScalars(e.lookupTable.mapScalars(p,e.colorMode,0)),e.lookupTable.setAlpha(u)}if(!e.colorCoordinates||t.getMTime()>e.colorCoordinates.getMTime()||t.getInputData(0).getMTime()>e.colorCoordinates.getMTime()||e.lookupTable.getMTime()>e.colorCoordinates.getMTime()){e.colorCoordinates=null;var h=a.getNumberOfComponents(),g=a.getNumberOfTuples();e.colorCoordinates=we.newInstance({numberOfComponents:2,values:new Float32Array(g*2)});var y=e.lookupTable.getVectorComponent();e.lookupTable.getVectorMode()===Em.MAGNITUDE&&a.getNumberOfComponents()>1&&(y=-1),t.createColorTextureCoordinates(a,e.colorCoordinates,g,h,y,n,e.lookupTable.getRange(),e.colorTextureMap.getPointData().getScalars().getNumberOfTuples()/2-2,i)}},t.getIsOpaque=function(){var a=t.getLookupTable();return a?(a.build(),a.isOpaque()):!0},t.canUseTextureMapForColoring=function(a){if(!e.interpolateScalarsBeforeMapping||e.lookupTable&&e.lookupTable.getIndexedLookup())return!1;var r=t.getAbstractScalars(a,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName),n=r.scalars;return!(!n||r.cellFlag||e.colorMode===xs.DEFAULT&&n.getDataType()===Om.UNSIGNED_CHAR||e.colorMode===xs.DIRECT_SCALARS)},t.clearColorArrays=function(){e.colorMapColors=null,e.colorCoordinates=null,e.colorTextureMap=null},t.getLookupTable=function(){return e.lookupTable||t.createDefaultLookupTable(),e.lookupTable},t.getMTime=function(){var a=e.mtime;if(e.lookupTable!==null){var r=e.lookupTable.getMTime();a=r>a?r:a}return a},t.getPrimitiveCount=function(){var a=t.getInputData(),r={points:a.getPoints().getNumberOfValues()/3,verts:a.getVerts().getNumberOfValues()-a.getVerts().getNumberOfCells(),lines:a.getLines().getNumberOfValues()-2*a.getLines().getNumberOfCells(),triangles:a.getPolys().getNumberOfValues()-3*a.getPolys().getNumberOfCells()};return r},t.acquireInvertibleLookupTable=xa("AcquireInvertibleLookupTable"),t.valueToColor=xa("ValueToColor"),t.colorToValue=xa("ColorToValue"),t.useInvertibleColorFor=xa("UseInvertibleColorFor"),t.clearInvertibleColor=xa("ClearInvertibleColor"),t.processSelectorPixelBuffers=function(a,r){if(!(!a||!e.selectionWebGLIdsToVTKIds||!e.populateSelectionSettings)){var n=a.getRawPixelBuffer(Bt.ID_LOW24),i=a.getRawPixelBuffer(Bt.ID_HIGH24),u=a.getCurrentPass(),o=a.getFieldAssociation(),f=null;o===nf.FIELD_ASSOCIATION_POINTS?f=e.selectionWebGLIdsToVTKIds.points:o===nf.FIELD_ASSOCIATION_CELLS&&(f=e.selectionWebGLIdsToVTKIds.cells),f&&r.forEach(function(s){if(u===Bt.ID_LOW24){var l=0;i&&(l+=i[s],l*=256),l+=n[s+2],l*=256,l+=n[s+1],l*=256,l+=n[s];var c=f[l],p=a.getPixelBuffer(Bt.ID_LOW24);p[s]=c&255,p[s+1]=(c&65280)>>8,p[s+2]=(c&16711680)>>16}else if(u===Bt.ID_HIGH24&&i){var h=0;h+=i[s],h*=256,h+=n[s],h*=256,h+=n[s+1],h*=256,h+=n[s+2];var g=f[h],y=a.getPixelBuffer(Bt.ID_HIGH24);y[s]=(g&4278190080)>>24}})}}}var Nm={colorMapColors:null,static:!1,lookupTable:null,scalarVisibility:!0,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,fieldDataTupleId:-1,populateSelectionSettings:!0,selectionWebGLIdsToVTKIds:null,interpolateScalarsBeforeMapping:!1,colorCoordinates:null,colorTextureMap:null,forceCompileOnly:0,useInvertibleColors:!1,invertibleScalars:null,viewSpecificProperties:null,customShaderAttributes:[]};function Xp(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Nm,a),M9.extend(t,e,a),U.get(t,e,["colorCoordinates","colorMapColors","colorTextureMap"]),U.setGet(t,e,["colorByArrayName","arrayAccessMode","colorMode","fieldDataTupleId","interpolateScalarsBeforeMapping","lookupTable","populateSelectionSettings","renderTime","scalarMode","scalarVisibility","selectionWebGLIdsToVTKIds","static","useLookupTableScalarRange","viewSpecificProperties","customShaderAttributes"]),U.setGetArray(t,e,["scalarRange"],2),e.viewSpecificProperties||(e.viewSpecificProperties={}),va.implementCoincidentTopologyMethods(t,e),bm(t,e)}var Mm=U.newInstance(Xp,"vtkMapper"),qr=ms(ms(ms({newInstance:Mm,extend:Xp},_m),Dm),Qr);function af(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function Ou(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?af(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):af(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function qp(t){var e=0;return t.filter(function(a,r){return r===e?(e+=a+1,!0):!1})}function Yp(t){for(var e=0,a=0;a<t.length;)a+=t[a]+1,e++;return e}var Rm={extractCellSizes:qp,getNumberOfCells:Yp};function km(t,e){e.classHierarchy.push("vtkCellArray");var a=Ou({},t);t.getNumberOfCells=function(r){return e.numberOfCells!==void 0&&!r||(e.cellSizes?e.numberOfCells=e.cellSizes.length:e.numberOfCells=Yp(t.getData())),e.numberOfCells},t.getCellSizes=function(r){return e.cellSizes!==void 0&&!r||(e.cellSizes=qp(t.getData())),e.cellSizes},t.resize=function(r){var n=t.getNumberOfTuples();a.resize(r);var i=t.getNumberOfTuples();i<n&&(i===0?(e.numberOfCells=0,e.cellSizes=[]):(e.numberOfCells=void 0,e.cellSizes=void 0))},t.setData=function(r){a.setData(r,1),e.numberOfCells=void 0,e.cellSizes=void 0},t.getCell=function(r){var n=r,i=e.values[n++];return e.values.subarray(n,n+i)},t.insertNextCell=function(r){var n=t.getNumberOfCells();return t.insertNextTuples([r.length].concat(de(r))),++e.numberOfCells,e.cellSizes!=null&&e.cellSizes.push(r.length),n}}function Lm(t){return Ou({empty:!0,numberOfComponents:1,dataType:at.UNSIGNED_INT},t)}function Jp(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};we.extend(t,e,Lm(a)),km(t,e)}var Fm=U.newInstance(Jp,"vtkCellArray"),To=Ou({newInstance:Fm,extend:Jp},Rm),Am=U.vtkErrorMacro,Bm=[1,-1,1,-1,1,-1];function Vm(t,e){e.classHierarchy.push("vtkPoints"),t.getNumberOfPoints=t.getNumberOfTuples,t.setNumberOfPoints=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;t.getNumberOfPoints()!==a&&(e.size=a*r,e.values=U.newTypedArray(e.dataType,e.size),t.setNumberOfComponents(r),t.modified())},t.setPoint=function(a){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t.setTuple(a,n)},t.getPoint=t.getTuple,t.insertNextPoint=function(a,r,n){return t.insertNextTuple([a,r,n])},t.getBounds=function(){if(t.getNumberOfComponents()===3){var a=t.getRange(0);e.bounds[0]=a[0],e.bounds[1]=a[1];var r=t.getRange(1);e.bounds[2]=r[0],e.bounds[3]=r[1];var n=t.getRange(2);return e.bounds[4]=n[0],e.bounds[5]=n[1],e.bounds}if(t.getNumberOfComponents()!==2)return Am(`getBounds called on an array with components of
        `.concat(t.getNumberOfComponents())),Bm;var i=t.getRange(0);e.bounds[0]=i[0],e.bounds[1]=i[1];var u=t.getRange(1);return e.bounds[2]=u[0],e.bounds[3]=u[1],e.bounds[4]=0,e.bounds[5]=0,e.bounds},t.computeBounds=t.getBounds,t.setNumberOfComponents(e.numberOfComponents<2?3:e.numberOfComponents)}var Um={empty:!0,numberOfComponents:3,dataType:at.FLOAT,bounds:[1,-1,1,-1,1,-1]};function Zp(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Um,a),we.extend(t,e,a),Vm(t,e)}var Gm=U.newInstance(Zp,"vtkPoints"),Yr={newInstance:Gm,extend:Zp};function Pm(t,e){e.classHierarchy.push("vtkCell"),t.initialize=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(r){e.pointsIds=r;var i=e.points.getData();i.length!==3*e.pointsIds.length&&(i=U.newTypedArray(a.getDataType(),3*e.pointsIds.length));var u=a.getData();e.pointsIds.forEach(function(o,f){var s=3*o,l=3*f;i[l]=u[s],i[++l]=u[++s],i[++l]=u[++s]}),e.points.setData(i)}else{e.points=a,e.pointsIds=new Array(a.getNumberOfPoints());for(var n=a.getNumberOfPoints()-1;n>=0;--n)e.pointsIds[n]=n}},t.getBounds=function(){var a=e.points.getNumberOfPoints(),r=[];if(a){e.points.getPoint(0,r),e.bounds[0]=r[0],e.bounds[1]=r[0],e.bounds[2]=r[1],e.bounds[3]=r[1],e.bounds[4]=r[2],e.bounds[5]=r[2];for(var n=1;n<a;n++)e.points.getPoint(n,r),e.bounds[0]=r[0]<e.bounds[0]?r[0]:e.bounds[0],e.bounds[1]=r[0]>e.bounds[1]?r[0]:e.bounds[1],e.bounds[2]=r[1]<e.bounds[2]?r[1]:e.bounds[2],e.bounds[3]=r[1]>e.bounds[3]?r[1]:e.bounds[3],e.bounds[4]=r[2]<e.bounds[4]?r[2]:e.bounds[4],e.bounds[5]=r[2]>e.bounds[5]?r[2]:e.bounds[5]}else ha(e.bounds);return e.bounds},t.getLength2=function(){t.getBounds();for(var a=0,r=0,n=0;n<3;n++)r=e.bounds[2*n+1]-e.bounds[2*n],a+=r*r;return a},t.getParametricDistance=function(a){for(var r,n=0,i=0;i<3;i++)a[i]<0?r=-a[i]:a[i]>1?r=a[i]-1:r=0,r>n&&(n=r);return n},t.getNumberOfPoints=function(){return e.points.getNumberOfPoints()},t.deepCopy=function(a){a.initialize(e.points,e.pointsIds)},t.getCellDimension=function(){},t.intersectWithLine=function(a,r,n,i,u,o,f){},t.evaluatePosition=function(a,r,n,i,u,o){U.vtkErrorMacro("vtkCell.evaluatePosition is not implemented.")}}var jm={bounds:[-1,-1,-1,-1,-1,-1],pointsIds:[]};function Qp(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,jm,a),U.obj(t,e),e.points||(e.points=Yr.newInstance()),U.get(t,e,["points","pointsIds"]),Pm(t,e)}var zm=U.newInstance(Qp,"vtkCell"),_o={newInstance:zm,extend:Qp};function Wm(t,e){var a=e;for(e>=t.array.length&&(a+=t.array.length);a>t.array.length;)t.array.push({ncells:0,cells:null});t.array.length=a}function Im(t,e){e.classHierarchy.push("vtkCellLinks"),t.buildLinks=function(a){var r=a.getPoints().getNumberOfPoints(),n=a.getNumberOfCells(),i=new Uint32Array(r);if(a.isA("vtkPolyData")){for(var u=0;u<n;++u){var o=a.getCellPoints(u),f=o.cellPointIds;f.forEach(function(y){t.incrementLinkCount(y)})}t.allocateLinks(r),e.maxId=r-1;for(var s=function(m){var x=a.getCellPoints(m),v=x.cellPointIds;v.forEach(function(d){t.insertCellReference(d,i[d]++,m)})},l=0;l<n;++l)s(l)}else{for(var c=0;c<n;c++){var p=_o.newInstance();p.getPointsIds().forEach(function(y){t.incrementLinkCount(y)})}t.allocateLinks(r),e.maxId=r-1;for(var h=function(m){var x=_o.newInstance();x.getPointsIds().forEach(function(v){t.insertCellReference(v,i[v]++,m)})},g=0;g<n;++g)h(g)}},t.allocate=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;e.array=Array(a).fill().map(function(){return{ncells:0,cells:null}}),e.extend=r,e.maxId=-1},t.initialize=function(){e.array=null},t.getLink=function(a){return e.array[a]},t.getNcells=function(a){return e.array[a].ncells},t.getCells=function(a){return e.array[a].cells},t.insertNextPoint=function(a){e.array.push({ncells:a,cells:Array(a)}),++e.maxId},t.insertNextCellReference=function(a,r){e.array[a].cells[e.array[a].ncells++]=r},t.deletePoint=function(a){e.array[a].ncells=0,e.array[a].cells=null},t.removeCellReference=function(a,r){e.array[r].cells=e.array[r].cells.filter(function(n){return n!==a}),e.array[r].ncells=e.array[r].cells.length},t.addCellReference=function(a,r){e.array[r].cells[e.array[r].ncells++]=a},t.resizeCellList=function(a,r){e.array[a].cells.length=r},t.squeeze=function(){Wm(e,e.maxId+1)},t.reset=function(){e.maxId=-1},t.deepCopy=function(a){e.array=de(a.array),e.extend=a.extend,e.maxId=a.maxId},t.incrementLinkCount=function(a){++e.array[a].ncells},t.allocateLinks=function(a){for(var r=0;r<a;++r)e.array[r].cells=new Array(e.array[r].ncells)},t.insertCellReference=function(a,r,n){e.array[a].cells[r]=n}}var $m={array:null,maxId:0,extend:0};function eh(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,$m,a),U.obj(t,e),Im(t,e)}var Hm=U.newInstance(eh,"vtkCellLinks"),Km={newInstance:Hm,extend:eh},Je={VTK_EMPTY_CELL:0,VTK_VERTEX:1,VTK_POLY_VERTEX:2,VTK_LINE:3,VTK_POLY_LINE:4,VTK_TRIANGLE:5,VTK_TRIANGLE_STRIP:6,VTK_POLYGON:7,VTK_PIXEL:8,VTK_QUAD:9,VTK_TETRA:10,VTK_VOXEL:11,VTK_HEXAHEDRON:12,VTK_WEDGE:13,VTK_PYRAMID:14,VTK_PENTAGONAL_PRISM:15,VTK_HEXAGONAL_PRISM:16,VTK_QUADRATIC_EDGE:21,VTK_QUADRATIC_TRIANGLE:22,VTK_QUADRATIC_QUAD:23,VTK_QUADRATIC_POLYGON:36,VTK_QUADRATIC_TETRA:24,VTK_QUADRATIC_HEXAHEDRON:25,VTK_QUADRATIC_WEDGE:26,VTK_QUADRATIC_PYRAMID:27,VTK_BIQUADRATIC_QUAD:28,VTK_TRIQUADRATIC_HEXAHEDRON:29,VTK_QUADRATIC_LINEAR_QUAD:30,VTK_QUADRATIC_LINEAR_WEDGE:31,VTK_BIQUADRATIC_QUADRATIC_WEDGE:32,VTK_BIQUADRATIC_QUADRATIC_HEXAHEDRON:33,VTK_BIQUADRATIC_TRIANGLE:34,VTK_CUBIC_LINE:35,VTK_CONVEX_POINT_SET:41,VTK_POLYHEDRON:42,VTK_PARAMETRIC_CURVE:51,VTK_PARAMETRIC_SURFACE:52,VTK_PARAMETRIC_TRI_SURFACE:53,VTK_PARAMETRIC_QUAD_SURFACE:54,VTK_PARAMETRIC_TETRA_REGION:55,VTK_PARAMETRIC_HEX_REGION:56,VTK_HIGHER_ORDER_EDGE:60,VTK_HIGHER_ORDER_TRIANGLE:61,VTK_HIGHER_ORDER_QUAD:62,VTK_HIGHER_ORDER_POLYGON:63,VTK_HIGHER_ORDER_TETRAHEDRON:64,VTK_HIGHER_ORDER_WEDGE:65,VTK_HIGHER_ORDER_PYRAMID:66,VTK_HIGHER_ORDER_HEXAHEDRON:67,VTK_LAGRANGE_CURVE:68,VTK_LAGRANGE_TRIANGLE:69,VTK_LAGRANGE_QUADRILATERAL:70,VTK_LAGRANGE_TETRAHEDRON:71,VTK_LAGRANGE_HEXAHEDRON:72,VTK_LAGRANGE_WEDGE:73,VTK_LAGRANGE_PYRAMID:74,VTK_NUMBER_OF_CELL_TYPES:75},T0=["vtkEmptyCell","vtkVertex","vtkPolyVertex","vtkLine","vtkPolyLine","vtkTriangle","vtkTriangleStrip","vtkPolygon","vtkPixel","vtkQuad","vtkTetra","vtkVoxel","vtkHexahedron","vtkWedge","vtkPyramid","vtkPentagonalPrism","vtkHexagonalPrism","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkQuadraticEdge","vtkQuadraticTriangle","vtkQuadraticQuad","vtkQuadraticTetra","vtkQuadraticHexahedron","vtkQuadraticWedge","vtkQuadraticPyramid","vtkBiQuadraticQuad","vtkTriQuadraticHexahedron","vtkQuadraticLinearQuad","vtkQuadraticLinearWedge","vtkBiQuadraticQuadraticWedge","vtkBiQuadraticQuadraticHexahedron","vtkBiQuadraticTriangle","vtkCubicLine","vtkQuadraticPolygon","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkConvexPointSet","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkParametricCurve","vtkParametricSurface","vtkParametricTriSurface","vtkParametricQuadSurface","vtkParametricTetraRegion","vtkParametricHexRegion","UnknownClass","UnknownClass","UnknownClass","vtkHigherOrderEdge","vtkHigherOrderTriangle","vtkHigherOrderQuad","vtkHigherOrderPolygon","vtkHigherOrderTetrahedron","vtkHigherOrderWedge","vtkHigherOrderPyramid","vtkHigherOrderHexahedron"];function of(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function Xm(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?of(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):of(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function qm(t){return t<T0.length?T0[t]:"UnknownClass"}function Ym(t){return T0.findIndex(t)}function Jm(t){return t<Je.VTK_QUADRATIC_EDGE||t===Je.VTK_CONVEX_POINT_SET||t===Je.VTK_POLYHEDRON}function Zm(t){return t===Je.VTK_TRIANGLE_STRIP||t===Je.VTK_POLY_LINE||t===Je.VTK_POLY_VERTEX}var Qm={getClassNameFromTypeId:qm,getTypeIdFromClassName:Ym,isLinear:Jm,hasSubCells:Zm};function e8(t,e){e.classHierarchy.push("vtkCellTypes"),t.allocate=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:512,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;e.size=a>0?a:1,e.extend=r>0?r:1,e.maxId=-1,e.typeArray=new Uint8Array(a),e.locationArray=new Uint32Array(a)},t.insertCell=function(a,r,n){e.typeArray[a]=r,e.locationArray[a]=n,a>e.maxId&&(e.maxId=a)},t.insertNextCell=function(a,r){return t.insertCell(++e.maxId,a,r),e.maxId},t.setCellTypes=function(a,r,n){e.size=a,e.typeArray=r,e.locationArray=n,e.maxId=a-1},t.getCellLocation=function(a){return e.locationArray[a]},t.deleteCell=function(a){e.typeArray[a]=Je.VTK_EMPTY_CELL},t.getNumberOfTypes=function(){return e.maxId+1},t.isType=function(a){for(var r=t.getNumberOfTypes(),n=0;n<r;++n)if(a===t.getCellType(n))return!0;return!1},t.insertNextType=function(a){return t.insertNextCell(a,-1)},t.getCellType=function(a){return e.typeArray[a]},t.reset=function(){e.maxId=-1},t.deepCopy=function(a){t.allocate(a.getSize(),a.getExtend()),e.typeArray.set(a.getTypeArray()),e.locationArray.set(a.getLocationArray()),e.maxId=a.getMaxId()}}var t8={size:0,maxId:-1,extend:1e3};function th(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,t8,a),U.obj(t,e),U.get(t,e,["size","maxId","extend"]),U.getArray(t,e,["typeArray","locationArray"]),e8(t,e)}var r8=U.newInstance(th,"vtkCellTypes"),n8=Xm({newInstance:r8,extend:th},Qm),a8={NO_INTERSECTION:0,YES_INTERSECTION:1,ON_LINE:2},rh={IntersectionState:a8};function sf(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function uf(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?sf(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):sf(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var to=rh.IntersectionState;function Xn(t,e,a){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,n={t:Number.MIN_VALUE,distance:0},i=[],u;i[0]=a[0]-e[0],i[1]=a[1]-e[1],i[2]=a[2]-e[2];var o=i[0]*(t[0]-e[0])+i[1]*(t[1]-e[1])+i[2]*(t[2]-e[2]),f=Me(i,i),s=1e-5*o;return f!==0&&(n.t=o/f),s<0&&(s=-s),-s<f&&f<s||f<=0||n.t<0?u=e:n.t>1?u=a:(u=i,i[0]=e[0]+n.t*i[0],i[1]=e[1]+n.t*i[1],i[2]=e[2]+n.t*i[2]),r&&(r[0]=u[0],r[1]=u[1],r[2]=u[2]),n.distance=Yt(u,t),n}function nh(t,e,a,r,n,i){var u=[],o=[],f=[];n[0]=0,i[0]=0,ht(e,t,u),ht(r,a,o),ht(a,t,f);var s=[Me(u,u),-Me(u,o),-Me(u,o),Me(o,o)],l=[];if(l[0]=Me(u,f),l[1]=-Me(o,f),yy(s,l,2)===0){for(var c=Number.MAX_VALUE,p=[t,e,a,r],h=[a,a,t,t],g=[r,r,e,e],y=[i[0],i[0],n[0],n[0]],m=[n[0],n[0],i[0],i[0]],x,v=0;v<4;v++)x=Xn(p[v],h[v],g[v]),x.distance<c&&(c=x.distance,y[v]=x.t,m[v]=v%2);return to.ON_LINE}return n[0]=l[0],i[0]=l[1],n[0]>=0&&n[0]<=1&&i[0]>=0&&i[0]<=1?to.YES_INTERSECTION:to.NO_INTERSECTION}var i8={distanceToLine:Xn,intersection:nh};function o8(t,e){e.classHierarchy.push("vtkLine");function a(r){return r>=0&&r<=1}t.getCellDimension=function(){return 1},t.intersectWithLine=function(r,n,i,u,o){var f={intersect:0,t:Number.MAX_VALUE,subId:0,betweenPoints:null};o[1]=0,o[2]=0;var s=[],l=[],c=[];e.points.getPoint(0,l),e.points.getPoint(1,c);var p=[],h=[],g=nh(r,n,l,c,p,h);if(f.t=p[0],f.betweenPoints=a(f.t),o[0]=h[0],g===to.YES_INTERSECTION){for(var y=0;y<3;y++)u[y]=l[y]+o[0]*(c[y]-l[y]),s[y]=r[y]+f.t*(n[y]-r[y]);if(Yt(u,s)<=i*i)return f.intersect=1,f}else{var m;if(f.t<0)return m=Xn(r,l,c,u),m.distance<=i*i&&(f.t=0,f.intersect=1,f.betweenPoints=!0),f;if(f.t>1)return m=Xn(n,l,c,u),m.distance<=i*i&&(f.t=1,f.intersect=1,f.betweenPoints=!0),f;if(o[0]<0)return o[0]=0,m=Xn(l,r,n,u),f.t=m.t,m.distance<=i*i&&(f.intersect=1),f;if(o[0]>1)return o[0]=1,m=Xn(c,r,n,u),f.t=m.t,m.distance<=i*i&&(f.intersect=1),f}return f},t.evaluateLocation=function(r,n,i){var u=[],o=[];e.points.getPoint(0,u),e.points.getPoint(1,o);for(var f=0;f<3;f++)n[f]=u[f]+r[0]*(o[f]-u[f]);i[0]=1-r[0],i[1]=r[0]}}var s8={};function ah(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,s8,a),_o.extend(t,e,a),o8(t,e)}var u8=U.newInstance(ah,"vtkLine"),qt=uf(uf({newInstance:u8,extend:ah},i8),rh);function c8(t,e){e.classHierarchy.push("vtkPointSet"),e.points?e.points=xt(e.points):e.points=Yr.newInstance(),t.getNumberOfPoints=function(){return e.points.getNumberOfPoints()},t.getBounds=function(){return e.points.getBounds()},t.computeBounds=function(){t.getBounds()};var a=t.shallowCopy;t.shallowCopy=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a(r,n),e.points=Yr.newInstance(),e.points.shallowCopy(r.getPoints())}}var f8={};function ih(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,f8,a),Mn.extend(t,e,a),U.setGet(t,e,["points"]),c8(t,e)}var l8=U.newInstance(ih,"vtkPointSet"),p8={newInstance:l8,extend:ih};function cf(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function h8(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?cf(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):cf(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function bu(t,e,a,r){var n=a[0]-e[0],i=a[1]-e[1],u=a[2]-e[2],o=t[0]-e[0],f=t[1]-e[1],s=t[2]-e[2];r[0]=i*s-u*f,r[1]=u*o-n*s,r[2]=n*f-i*o}function Do(t,e,a,r){bu(t,e,a,r);var n=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);n!==0&&(r[0]/=n,r[1]/=n,r[2]/=n)}function v8(t,e,a,r,n,i){var u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1e-6,o=!1,f=[],s=[],l=[],c=[],p=[];Do(t,e,a,c),Do(r,n,i,p);var h=-Me(c,t),g=-Me(p,r),y=[Me(p,t)+g,Me(p,e)+g,Me(p,a)+g];if(y[0]*y[1]>u&&y[0]*y[2]>u)return{intersect:!1,coplanar:o,pt1:f,pt2:s,surfaceId:l};var m=[Me(c,r)+h,Me(c,n)+h,Me(c,i)+h];if(m[0]*m[1]>u&&m[0]*m[2]>u)return{intersect:!1,coplanar:o,pt1:f,pt2:s,surfaceId:l};if(Math.abs(c[0]-p[0])<1e-9&&Math.abs(c[1]-p[1])<1e-9&&Math.abs(c[2]-p[2])<1e-9&&Math.abs(h-g)<1e-9)return o=!0,{intersect:!1,coplanar:o,pt1:f,pt2:s,surfaceId:l};var x=[t,e,a],v=[r,n,i],d=Me(c,p),w=(h-g*d)/(d*d-1),C=(g-h*d)/(d*d-1),S=[w*c[0]+C*p[0],w*c[1]+C*p[1],w*c[2]+C*p[2]],T=Nt(c,p,[]);ut(T);for(var _=0,D=0,b=[],E=[],N=50,R=50,M=0;M<3;M++){var G=M,j=(M+1)%3,z=bn.intersectWithLine(x[G],x[j],r,p);z.intersection&&z.t>0-u&&z.t<1+u&&(z.t<1+u&&z.t>1-u&&(N=_),b[_++]=Me(z.x,T)-Me(S,T));var V=bn.intersectWithLine(v[G],v[j],t,c);V.intersection&&V.t>0-u&&V.t<1+u&&(V.t<1+u&&V.t>1-u&&(R=D),E[D++]=Me(V.x,T)-Me(S,T))}if(_>2){_--;var L=b[2];b[2]=b[N],b[N]=L}if(D>2){D--;var B=E[2];E[2]=E[R],E[R]=B}if(_!==2||D!==2)return{intersect:!1,coplanar:o,pt1:f,pt2:s,surfaceId:l};if(Number.isNaN(b[0])||Number.isNaN(b[1])||Number.isNaN(E[0])||Number.isNaN(E[1]))return{intersect:!1,coplanar:o,pt1:f,pt2:s,surfaceId:l};if(b[0]>b[1]){var $=b[1];b[1]=b[0],b[0]=$}if(E[0]>E[1]){var H=E[1];E[1]=E[0],E[0]=H}var X,Z;return b[1]<E[0]||E[1]<b[0]?{intersect:!1,coplanar:o,pt1:f,pt2:s,surfaceId:l}:(b[0]<E[0]?b[1]<E[1]?(l[0]=2,l[1]=1,X=E[0],Z=b[1]):(l[0]=2,l[1]=2,X=E[0],Z=E[1]):b[1]<E[1]?(l[0]=1,l[1]=1,X=b[0],Z=b[1]):(l[0]=1,l[1]=2,X=b[0],Z=E[1]),fc(S,T,X,f),fc(S,T,Z,s),{intersect:!0,coplanar:o,pt1:f,pt2:s,surfaceId:l})}var g8={computeNormalDirection:bu,computeNormal:Do,intersectWithTriangle:v8};function d8(t,e){e.classHierarchy.push("vtkTriangle"),t.getCellDimension=function(){return 2},t.intersectWithLine=function(a,r,n,i,u){var o={subId:0,t:Number.MAX_VALUE,intersect:0,betweenPoints:!1};u[2]=0;var f=[],s=n*n,l=[],c=[],p=[];e.points.getPoint(0,l),e.points.getPoint(1,c),e.points.getPoint(2,p);var h=[],g=[];if(Do(l,c,p,h),h[0]!==0||h[1]!==0||h[2]!==0){var y=bn.intersectWithLine(a,r,l,h);if(o.betweenPoints=y.betweenPoints,o.t=y.t,i[0]=y.x[0],i[1]=y.x[1],i[2]=y.x[2],!y.intersection)return u[0]=0,u[1]=0,o.intersect=0,o;var m=t.evaluatePosition(i,f,u,g);if(m.evaluation>=0)return m.dist2<=s?(o.intersect=1,o):(o.intersect=m.evaluation,o)}var x=Yt(l,c),v=Yt(c,p),d=Yt(p,l);e.line||(e.line=qt.newInstance()),x>v&&x>d?(e.line.getPoints().setPoint(0,l),e.line.getPoints().setPoint(1,c)):v>d&&v>x?(e.line.getPoints().setPoint(0,c),e.line.getPoints().setPoint(1,p)):(e.line.getPoints().setPoint(0,p),e.line.getPoints().setPoint(1,l));var w=e.line.intersectWithLine(a,r,n,i,u);if(o.betweenPoints=w.betweenPoints,o.t=w.t,w.intersect){for(var C=[],S=[],T=[],_=0;_<3;_++)C[_]=l[_]-p[_],S[_]=c[_]-p[_],T[_]=i[_]-p[_];return u[0]=Me(T,C)/d,u[1]=Me(T,S)/v,o.intersect=1,o}return u[0]=0,u[1]=0,o.intersect=0,o},t.evaluatePosition=function(a,r,n,i){var u={subId:0,dist2:0,evaluation:-1},o,f,s=[],l=[],c=[],p=[],h,g=[],y=[],m=[],x=0,v=0,d=[],w,C,S,T=[],_=[],D=[],b=[];u.subId=0,n[2]=0,e.points.getPoint(1,s),e.points.getPoint(2,l),e.points.getPoint(0,c),bu(s,l,c,p),bn.generalizedProjectPoint(a,s,p,b);var E=0;for(o=0;o<3;o++)p[o]<0?h=-p[o]:h=p[o],h>E&&(E=h,v=o);for(f=0,o=0;o<3;o++)o!==v&&(d[f++]=o);for(o=0;o<2;o++)g[o]=b[d[o]]-c[d[o]],y[o]=s[d[o]]-c[d[o]],m[o]=l[d[o]]-c[d[o]];if(x=Zi(y,m),x===0)return n[0]=0,n[1]=0,u.evaluation=-1,u;if(n[0]=Zi(g,m)/x,n[1]=Zi(y,g)/x,i[0]=1-(n[0]+n[1]),i[1]=n[0],i[2]=n[1],i[0]>=0&&i[0]<=1&&i[1]>=0&&i[1]<=1&&i[2]>=0&&i[2]<=1)r&&(u.dist2=Yt(b,a),r[0]=b[0],r[1]=b[1],r[2]=b[2]),u.evaluation=1;else{var N;if(r){if(i[1]<0&&i[2]<0)for(w=Yt(a,c),C=qt.distanceToLine(a,s,c,N,_),S=qt.distanceToLine(a,c,l,N,D),w<C?(u.dist2=w,T=c):(u.dist2=C,T=_),S<u.dist2&&(u.dist2=S,T=D),o=0;o<3;o++)r[o]=T[o];else if(i[2]<0&&i[0]<0)for(w=Yt(a,s),C=qt.distanceToLine(a,s,c,N,_),S=qt.distanceToLine(a,s,l,N,D),w<C?(u.dist2=w,T=s):(u.dist2=C,T=_),S<u.dist2&&(u.dist2=S,T=D),o=0;o<3;o++)r[o]=T[o];else if(i[1]<0&&i[0]<0)for(w=Yt(a,l),C=qt.distanceToLine(a,l,c,N,_),S=qt.distanceToLine(a,s,l,N,D),w<C?(u.dist2=w,T=l):(u.dist2=C,T=_),S<u.dist2&&(u.dist2=S,T=D),o=0;o<3;o++)r[o]=T[o];else if(i[0]<0){var R=qt.distanceToLine(a,s,l,r);u.dist2=R.distance}else if(i[1]<0){var M=qt.distanceToLine(a,l,c,r);u.dist2=M.distance}else if(i[2]<0){var G=qt.distanceToLine(a,s,c,r);u.dist2=G.distance}}u.evaluation=0}return u},t.evaluateLocation=function(a,r,n){var i=[],u=[],o=[];e.points.getPoint(0,i),e.points.getPoint(1,u),e.points.getPoint(2,o);for(var f=1-a[0]-a[1],s=0;s<3;s++)r[s]=i[s]*f+u[s]*a[0]+o[s]*a[1];n[0]=f,n[1]=a[0],n[2]=a[1]},t.getParametricDistance=function(a){var r,n=0,i=[];i[0]=a[0],i[1]=a[1],i[2]=1-a[0]-a[1];for(var u=0;u<3;u++)i[u]<0?r=-i[u]:i[u]>1?r=i[u]-1:r=0,r>n&&(n=r);return n}}var y8={};function oh(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,y8,a),_o.extend(t,e,a),d8(t,e)}var m8=U.newInstance(oh,"vtkTriangle"),x8=h8({newInstance:m8,extend:oh},g8),Cs=["verts","lines","polys","strips"],wa,ff=U.vtkWarningMacro,w8=(wa={},Se(wa,Je.VTK_LINE,qt),Se(wa,Je.VTK_POLY_LINE,qt),Se(wa,Je.VTK_TRIANGLE,x8),wa);function C8(t,e){e.classHierarchy.push("vtkPolyData");function a(n){return n.replace(/(?:^\w|[A-Z]|\b\w)/g,function(i){return i.toUpperCase()}).replace(/\s+/g,"")}Cs.forEach(function(n){t["getNumberOf".concat(a(n))]=function(){return e[n].getNumberOfCells()},e[n]?e[n]=xt(e[n]):e[n]=To.newInstance()}),t.getNumberOfCells=function(){return Cs.reduce(function(n,i){return n+e[i].getNumberOfCells()},0)};var r=t.shallowCopy;t.shallowCopy=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r(n,i),Cs.forEach(function(u){e[u]=To.newInstance(),e[u].shallowCopy(n.getReferenceByName(u))})},t.buildCells=function(){var n=t.getNumberOfVerts(),i=t.getNumberOfLines(),u=t.getNumberOfPolys(),o=t.getNumberOfStrips(),f=n+i+u+o,s=new Uint8Array(f),l=s,c=new Uint32Array(f),p=c;if(n){var h=0;e.verts.getCellSizes().forEach(function(x,v){p[v]=h,l[v]=x>1?Je.VTK_POLY_VERTEX:Je.VTK_VERTEX,h+=x+1}),p=p.subarray(n),l=l.subarray(n)}if(i){var g=0;e.lines.getCellSizes().forEach(function(x,v){p[v]=g,l[v]=x>2?Je.VTK_POLY_LINE:Je.VTK_LINE,x===1&&ff("Building VTK_LINE ",v," with only one point, but VTK_LINE needs at least two points. Check the input."),g+=x+1}),p=p.subarray(i),l=l.subarray(i)}if(u){var y=0;e.polys.getCellSizes().forEach(function(x,v){switch(p[v]=y,x){case 3:l[v]=Je.VTK_TRIANGLE;break;case 4:l[v]=Je.VTK_QUAD;break;default:l[v]=Je.VTK_POLYGON;break}x<3&&ff("Building VTK_TRIANGLE ",v," with less than three points, but VTK_TRIANGLE needs at least three points. Check the input."),y+=x+1}),p+=p.subarray(u),l+=l.subarray(u)}if(o){var m=0;l.fill(Je.VTK_TRIANGLE_STRIP,0,o),e.strips.getCellSizes().forEach(function(x,v){p[v]=m,m+=x+1})}e.cells=n8.newInstance(),e.cells.setCellTypes(f,s,c)},t.buildLinks=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;e.cells===void 0&&t.buildCells(),e.links=Km.newInstance(),n>0?e.links.allocate(n):e.links.allocate(t.getPoints().getNumberOfPoints()),e.links.buildLinks(t)},t.getCellType=function(n){return e.cells.getCellType(n)},t.getCellPoints=function(n){var i=t.getCellType(n),u=null;switch(i){case Je.VTK_VERTEX:case Je.VTK_POLY_VERTEX:u=e.verts;break;case Je.VTK_LINE:case Je.VTK_POLY_LINE:u=e.lines;break;case Je.VTK_TRIANGLE:case Je.VTK_QUAD:case Je.VTK_POLYGON:u=e.polys;break;case Je.VTK_TRIANGLE_STRIP:u=e.strips;break;default:return u=null,{type:0,cellPointIds:null}}var o=e.cells.getCellLocation(n),f=u.getCell(o);return{cellType:i,cellPointIds:f}},t.getPointCells=function(n){return e.links.getCells(n)},t.getCellEdgeNeighbors=function(n,i,u){var o=e.links.getLink(i),f=e.links.getLink(u);return o.cells.filter(function(s){return s!==n&&f.cells.indexOf(s)!==-1})},t.getCell=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=t.getCellPoints(n),o=i||w8[u.cellType].newInstance();return o.initialize(t.getPoints(),u.cellPointIds),o}}var S8={};function sh(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,S8,a),p8.extend(t,e,a),U.get(t,e,["cells","links"]),U.setGet(t,e,["verts","lines","polys","strips"]),C8(t,e)}var T8=U.newInstance(sh,"vtkPolyData"),et={newInstance:T8,extend:sh};function lf(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function _8(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?lf(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):lf(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function D8(t,e){e.classHierarchy.push("vtkTexture"),t.imageLoaded=function(){e.image.removeEventListener("load",t.imageLoaded),e.imageLoaded=!0,t.modified()},t.setJsImageData=function(a){e.jsImageData!==a&&(a!==null&&(t.setInputData(null),t.setInputConnection(null),e.image=null,e.canvas=null),e.jsImageData=a,e.imageLoaded=!0,t.modified())},t.setCanvas=function(a){e.canvas!==a&&(a!==null&&(t.setInputData(null),t.setInputConnection(null),e.image=null,e.jsImageData=null),e.canvas=a,t.modified())},t.setImage=function(a){e.image!==a&&(a!==null&&(t.setInputData(null),t.setInputConnection(null),e.canvas=null,e.jsImageData=null),e.image=a,e.imageLoaded=!1,a.complete?t.imageLoaded():a.addEventListener("load",t.imageLoaded),t.modified())},t.getDimensionality=function(){var a=0,r=0,n=1;if(t.getInputData()){var i=t.getInputData();a=i.getDimensions()[0],r=i.getDimensions()[1],n=i.getDimensions()[2]}e.jsImageData&&(a=e.jsImageData.width,r=e.jsImageData.height),e.canvas&&(a=e.canvas.width,r=e.canvas.height),e.image&&(a=e.image.width,r=e.image.height);var u=(a>1)+(r>1)+(n>1);return u},t.getInputAsJsImageData=function(){if(!e.imageLoaded||t.getInputData())return null;if(e.jsImageData)return e.jsImageData();if(e.canvas){var a=e.canvas.getContext("2d"),r=a.getImageData(0,0,e.canvas.width,e.canvas.height);return r}if(e.image){var n=document.createElement("canvas");n.width=e.image.width,n.height=e.image.height;var i=n.getContext("2d");i.translate(0,n.height),i.scale(1,-1),i.drawImage(e.image,0,0,e.image.width,e.image.height);var u=i.getImageData(0,0,n.width,n.height);return u}return null}}var E8=function(e,a,r,n){for(var i=[1,2,1],u=4,o=i,f=u,s=e.length/(a*r),l=a,c=r,p=e,h=[p],g=0;g<n;g++){var y=de(p);l/=2,c/=2,p=new Uint8ClampedArray(l*c*s);for(var m=s*l,x=0,v=0;v<p.length;v+=s){v%m===0&&(x+=2*s*l);for(var d=0;d<s;d++){var w=y[x+d];w+=y[x+s+d],w+=y[x-2*m+d],w+=y[x-2*m+s+d],w/=4,p[v+d]=w}x+=2*s}for(var C=de(p),S=0;S<p.length;S+=s)for(var T=0;T<s;T++){for(var _=-(o.length-1)/2,D=f,b=0,E=0;E<o.length;E++){var N=S+T+_*s,R=N%m-(S+T)%m;R>s&&(N+=m),R<-s&&(N-=m),C[N]?b+=C[N]*o[E]:D-=o[E],_+=1}p[S+T]=b/D}C=de(p);for(var M=0;M<p.length;M+=s)for(var G=0;G<s;G++){for(var j=-(o.length-1)/2,z=f,V=0,L=0;L<o.length;L++){var B=M+G+j*m;C[B]?V+=C[B]*o[L]:z-=o[L],j+=1}p[M+G]=V/z}h.push(p)}return h},O8={image:null,canvas:null,jsImageData:null,imageLoaded:!1,repeat:!1,interpolate:!1,edgeClamp:!1,mipLevel:0,resizable:!1};function uh(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,O8,a),U.obj(t,e),U.algo(t,e,6,0),U.get(t,e,["canvas","image","jsImageData","imageLoaded"]),U.setGet(t,e,["repeat","edgeClamp","interpolate","mipLevel"]),D8(t,e)}var b8=U.newInstance(uh,"vtkTexture"),N8={generateMipmaps:E8},ch=_8({newInstance:b8,extend:uh},N8);function pf(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function Fa(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?pf(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):pf(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var M8=[[-1,0,0],[1,0,0],[0,-1,0],[0,1,0],[0,0,-1],[0,0,1]],hf=[[8,7,11,3],[9,1,10,5],[4,9,0,8],[2,11,6,10],[0,3,2,1],[4,5,6,7]],Oi=[[0,1],[1,3],[2,3],[0,2],[4,5],[5,7],[6,7],[4,6],[0,4],[1,5],[3,7],[2,6]],vf=[0,1,0,1,0,1,0,1,2,2,2,2],rt=[[1,2],[1,2],[0,2],[0,2],[0,1],[0,1]],Ee=new Float64Array(3),bi=new Float64Array(3),$e=new Float64Array(3),pn=new Float64Array(3),an=new Float64Array(3),Ni=new Float64Array(3),Ss=new Float64Array(16);function Ts(t,e){t.strokeStyle=e.strokeColor,t.lineWidth=e.strokeSize,t.fillStyle=e.fontColor,t.font="".concat(e.fontStyle," ").concat(e.fontSize,"px ").concat(e.fontFamily)}function R8(t,e){e.classHierarchy.push("vtkCubeAxesActorHelper"),t.setRenderable=function(a){e.renderable!==a&&(e.renderable=a,e.tmActor.addTexture(e.renderable.getTmTexture()),e.tmActor.setProperty(a.getProperty()),e.tmActor.setParentProp(a),t.modified())},t.createPolyDataForOneLabel=function(a,r,n,i,u,o,f){var s=e.renderable.get_tmAtlas().get(a);if(!!s){var l=e.renderable.getTextPolyData().getPoints().getData(),c=e.lastSize;Ee[0]=l[r*3],Ee[1]=l[r*3+1],Ee[2]=l[r*3+2],Te($e,Ee,n),$e[0]+=.1,Te(bi,$e,i),Mr(an,bi,Ee),$e[0]-=.1,$e[1]+=.1,Te(bi,$e,i),Mr(Ni,bi,Ee);for(var p=0;p<3;p++)an[p]/=.5*.1*c[0],Ni[p]/=.5*.1*c[1];var h=f.ptIdx,g=f.cellIdx;Ee[0]=l[r*3],Ee[1]=l[r*3+1],Ee[2]=l[r*3+2],u[0]<-.5?Dr($e,an,u[0]*o-s.width):u[0]>.5?Dr($e,an,u[0]*o):Dr($e,an,u[0]*o-s.width/2),Ma(Ee,Ee,$e),Dr($e,Ni,u[1]*o-s.height/2),Ma(Ee,Ee,$e),f.points[h*3]=Ee[0],f.points[h*3+1]=Ee[1],f.points[h*3+2]=Ee[2],f.tcoords[h*2]=s.tcoords[0],f.tcoords[h*2+1]=s.tcoords[1],h++,Dr($e,an,s.width),Ma(Ee,Ee,$e),f.points[h*3]=Ee[0],f.points[h*3+1]=Ee[1],f.points[h*3+2]=Ee[2],f.tcoords[h*2]=s.tcoords[2],f.tcoords[h*2+1]=s.tcoords[3],h++,Dr($e,Ni,s.height),Ma(Ee,Ee,$e),f.points[h*3]=Ee[0],f.points[h*3+1]=Ee[1],f.points[h*3+2]=Ee[2],f.tcoords[h*2]=s.tcoords[4],f.tcoords[h*2+1]=s.tcoords[5],h++,Dr($e,an,s.width),Mr(Ee,Ee,$e),f.points[h*3]=Ee[0],f.points[h*3+1]=Ee[1],f.points[h*3+2]=Ee[2],f.tcoords[h*2]=s.tcoords[6],f.tcoords[h*2+1]=s.tcoords[7],h++,f.polys[g*4]=3,f.polys[g*4+1]=h-4,f.polys[g*4+2]=h-3,f.polys[g*4+3]=h-2,g++,f.polys[g*4]=3,f.polys[g*4+1]=h-4,f.polys[g*4+2]=h-2,f.polys[g*4+3]=h-1,f.ptIdx+=4,f.cellIdx+=2}},t.updateTexturePolyData=function(){var a=e.camera.getCompositeProjectionMatrix(e.lastAspectRatio,-1,1);Ke(a,a);var r=e.renderable.getTextValues().length,n=r*4,i=r*2,u=new Float64Array(n*3),o=new Uint16Array(i*4),f=new Float32Array(n*2);Zt(Ss,a);for(var s={ptIdx:0,cellIdx:0,polys:o,points:u,tcoords:f},l=0,c=0,p=0,h=e.renderable.getTextPolyData().getPoints().getData(),g=e.renderable.getTextValues();l<h.length/3;){Ee[0]=h[l*3],Ee[1]=h[l*3+1],Ee[2]=h[l*3+2],Te($e,Ee,a),Ee[0]=h[l*3+3],Ee[1]=h[l*3+4],Ee[2]=h[l*3+5],Te(pn,Ee,a),Mr($e,$e,pn);var y=[$e[0],$e[1]];hy(y),t.createPolyDataForOneLabel(g[c],l,a,Ss,y,e.renderable.getAxisTitlePixelOffset(),s),l+=2,c++;for(var m=0;m<e.renderable.getTickCounts()[p];m++)t.createPolyDataForOneLabel(g[c],l,a,Ss,y,e.renderable.getTickLabelPixelOffset(),s),l++,c++;p++}var x=we.newInstance({numberOfComponents:2,values:f,name:"TextureCoordinates"});e.tmPolyData.getPointData().setTCoords(x),e.tmPolyData.getPoints().setData(u,3),e.tmPolyData.getPoints().modified(),e.tmPolyData.getPolys().setData(o,1),e.tmPolyData.getPolys().modified(),e.tmPolyData.modified()},t.updateAPISpecificData=function(a,r,n){(e.lastSize[0]!==a[0]||e.lastSize[1]!==a[1])&&(e.lastSize[0]=a[0],e.lastSize[1]=a[1],e.lastAspectRatio=a[0]/a[1],e.forceUpdate=!0),e.camera=r,t.updateTexturePolyData()}}var k8=U.newInstance(function(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{renderable:null};Object.assign(e,{},a),U.obj(t,e),e.tmPolyData=et.newInstance(),e.tmMapper=qr.newInstance(),e.tmMapper.setInputData(e.tmPolyData),e.tmActor=Ar.newInstance({parentProp:t}),e.tmActor.setMapper(e.tmMapper),U.setGet(t,e,["renderable"]),U.get(t,e,["lastSize","lastAspectRatio","axisTextStyle","tickTextStyle","tmActor","ticks"]),e.forceUpdate=!1,e.lastRedrawTime={},U.obj(e.lastRedrawTime,{mtime:0}),e.lastRebuildTime={},U.obj(e.lastRebuildTime,{mtime:0}),e.lastSize=[-1,-1],e.lastTickBounds=[],R8(t,e)},"vtkCubeAxesActorHelper");function L8(t,e){e.classHierarchy.push("vtkCubeAxesActor"),t.setCamera=function(r){e.camera!==r&&(e.cameraModifiedSub&&(e.cameraModifiedSub.unsubscribe(),e.cameraModifiedSub=null),e.camera=r,r&&(e.cameraModifiedSub=r.onModified(t.update)),t.update(),t.modified())},t.computeFacesToDraw=function(){var r=e.camera.getViewMatrix();Ke(r,r);for(var n=!1,i=We.getDiagonalLength(e.dataBounds),u=Math.sin(e.faceVisibilityAngle*Math.PI/180),o=0;o<6;o++){var f=!1,s=Math.floor(o/2),l=(s+1)%3,c=(s+2)%3;e.dataBounds[l*2]!==e.dataBounds[l*2+1]&&e.dataBounds[c*2]!==e.dataBounds[c*2+1]&&(Ee[s]=e.dataBounds[o]-.1*i*M8[o][s],Ee[l]=.5*(e.dataBounds[l*2]+e.dataBounds[l*2+1]),Ee[c]=.5*(e.dataBounds[c*2]+e.dataBounds[c*2+1]),Te($e,Ee,r),Ee[s]=e.dataBounds[o],Te(pn,Ee,r),Mr($e,pn,$e),Qt($e,$e),f=$e[2]>u,e.camera.getParallelProjection()||(Qt(pn,pn),f=Sn(pn,$e)>u)),f!==e.lastFacesToDraw[o]&&(e.lastFacesToDraw[o]=f,n=!0)}return n},t.updatePolyData=function(r,n,i){var u=0,o=0;u+=8;for(var f=0,s=0;s<12;s++)n[s]>0&&f++;if(o+=f,e.gridLines)for(var l=0;l<6;l++)r[l]&&(u+=i[rt[l][0]].length*2+i[rt[l][1]].length*2,o+=i[rt[l][0]].length+i[rt[l][1]].length);for(var c=new Float64Array(u*3),p=new Uint32Array(o*3),h=0,g=0,y=0;y<2;y++)for(var m=0;m<2;m++)for(var x=0;x<2;x++)c[h*3]=e.dataBounds[x],c[h*3+1]=e.dataBounds[2+m],c[h*3+2]=e.dataBounds[4+y],h++;for(var v=0;v<12;v++)n[v]>0&&(p[g*3]=2,p[g*3+1]=Oi[v][0],p[g*3+2]=Oi[v][1],g++);if(e.gridLines){for(var d=0;d<6;d++)if(r[d]){for(var w=Math.floor(d/2),C=i[rt[d][0]],S=0;S<C.length;S++)c[h*3+w]=e.dataBounds[d],c[h*3+rt[d][0]]=C[S],c[h*3+rt[d][1]]=e.dataBounds[rt[d][1]*2],h++,c[h*3+w]=e.dataBounds[d],c[h*3+rt[d][0]]=C[S],c[h*3+rt[d][1]]=e.dataBounds[rt[d][1]*2+1],h++,p[g*3]=2,p[g*3+1]=h-2,p[g*3+2]=h-1,g++;C=i[rt[d][1]];for(var T=0;T<C.length;T++)c[h*3+w]=e.dataBounds[d],c[h*3+rt[d][1]]=C[T],c[h*3+rt[d][0]]=e.dataBounds[rt[d][0]*2],h++,c[h*3+w]=e.dataBounds[d],c[h*3+rt[d][1]]=C[T],c[h*3+rt[d][0]]=e.dataBounds[rt[d][0]*2+1],h++,p[g*3]=2,p[g*3+1]=h-2,p[g*3+2]=h-1,g++}}e.polyData.getPoints().setData(c,3),e.polyData.getPoints().modified(),e.polyData.getLines().setData(p,1),e.polyData.getLines().modified(),e.polyData.modified()},t.updateTextData=function(r,n,i,u){for(var o=0,f=0;f<12;f++)n[f]===1&&(o+=2,o+=i[vf[f]].length);for(var s=e.polyData.getPoints().getData(),l=new Float64Array(o*3),c=0,p=0,h=0,g=0;g<6;g++)if(r[g])for(var y=0;y<4;y++){var m=hf[g][y];if(n[m]===1){var x=vf[m],v=Oi[m][0]*3,d=Oi[m][1]*3;l[c*3]=.5*(s[v]+s[d]),l[c*3+1]=.5*(s[v+1]+s[d+1]),l[c*3+2]=.5*(s[v+2]+s[d+2]),c++;var w=Math.floor(g/2);l[c*3+w]=e.dataBounds[g],l[c*3+rt[g][0]]=.5*(e.dataBounds[rt[g][0]*2]+e.dataBounds[rt[g][0]*2+1]),l[c*3+rt[g][1]]=.5*(e.dataBounds[rt[g][1]*2]+e.dataBounds[rt[g][1]*2+1]),c++,e.textValues[p]=e.axisLabels[x],p++;var C=(x+1)%3,S=(x+2)%3,T=i[x],_=u[x];e.tickCounts[h]=T.length;for(var D=0;D<T.length;D++)l[c*3+x]=T[D],l[c*3+C]=s[v+C],l[c*3+S]=s[v+S],c++,e.textValues[p]=_[D],p++;h++}}e.textPolyData.getPoints().setData(l,3),e.textPolyData.modified()},t.update=function(){if(!!e.camera){for(var r=t.computeFacesToDraw(),n=e.lastFacesToDraw,i=!1,u=0;u<6;u++)e.dataBounds[u]!==e.lastTickBounds[u]&&(i=!0,e.lastTickBounds[u]=e.dataBounds[u]);if(r||i||e.forceUpdate){for(var o=new Array(12).fill(0),f=0;f<6;f++)if(n[f])for(var s=0;s<4;s++)o[hf[f][s]]++;for(var l=[],c=[],p=0;p<3;p++){var h=pu().domain([e.dataBounds[p*2],e.dataBounds[p*2+1]]);l[p]=h.ticks(5);var g=h.tickFormat(5);c[p]=l[p].map(g)}t.updatePolyData(n,o,l),t.updateTextData(n,o,l,c),(i||e.forceUpdate)&&t.updateTextureAtlas(c)}e.forceUpdate=!1}},t.updateTextureAtlas=function(r){e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left",e._tmAtlas.clear();for(var n=0,i=1,u=0;u<3;u++){if(!e._tmAtlas.has(e.axisLabels[u])){Ts(e.tmContext,e.axisTextStyle);var o=e.tmContext.measureText(e.axisLabels[u]),f={height:o.actualBoundingBoxAscent+2,startingHeight:i,width:o.width+2,textStyle:e.axisTextStyle};e._tmAtlas.set(e.axisLabels[u],f),i+=f.height,n<f.width&&(n=f.width)}Ts(e.tmContext,e.tickTextStyle);for(var s=0;s<r[u].length;s++)if(!e._tmAtlas.has(r[u][s])){var l=e.tmContext.measureText(r[u][s]),c={height:l.actualBoundingBoxAscent+2,startingHeight:i,width:l.width+2,textStyle:e.tickTextStyle};e._tmAtlas.set(r[u][s],c),i+=c.height,n<c.width&&(n=c.width)}}n=sr(n),i=sr(i),e._tmAtlas.forEach(function(p){p.tcoords=[0,(i-p.startingHeight-p.height)/i,p.width/n,(i-p.startingHeight-p.height)/i,p.width/n,(i-p.startingHeight)/i,0,(i-p.startingHeight)/i]}),e.tmCanvas.width=n,e.tmCanvas.height=i,e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left",e.tmContext.clearRect(0,0,n,i),e._tmAtlas.forEach(function(p,h){Ts(e.tmContext,p.textStyle),e.tmContext.fillText(h,1,p.startingHeight+p.height-1)}),e.tmTexture.setCanvas(e.tmCanvas),e.tmTexture.modified()},t.onModified(function(){e.forceUpdate=!0,t.update()}),t.setTickTextStyle=function(r){e.tickTextStyle=Fa(Fa({},e.tickTextStyle),r),t.modified()},t.setAxisTextStyle=function(r){e.axisTextStyle=Fa(Fa({},e.axisTextStyle),r),t.modified()},t.get_tmAtlas=function(){return e._tmAtlas},t.getBounds=function(){return t.update(),We.setBounds(e.bounds,e.gridActor.getBounds()),We.scaleAboutCenter(e.bounds,e.boundsScaleFactor,e.boundsScaleFactor,e.boundsScaleFactor),e.bounds};var a=U.chain(t.setProperty,e.gridActor.setProperty);t.setProperty=function(r){return a(r)[0]}}function F8(t){return Fa({boundsScaleFactor:1.3,camera:null,dataBounds:de(We.INIT_BOUNDS),faceVisibilityAngle:8,gridLines:!0,axisLabels:null,axisTitlePixelOffset:35,axisTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:18,fontFamily:"serif"},tickLabelPixelOffset:12,tickTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:14,fontFamily:"serif"}},t)}function fh(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,F8(a)),Ar.extend(t,e,a),e.lastFacesToDraw=[!1,!1,!1,!1,!1,!1],e.axisLabels=["X-Axis","Y-Axis","Z-Axis"],e.tickCounts=[],e.textValues=[],e.lastTickBounds=[],e.tmCanvas=document.createElement("canvas"),e.tmContext=e.tmCanvas.getContext("2d"),e._tmAtlas=new Map,e.tmTexture=ch.newInstance(),e.tmTexture.setInterpolate(!1),t.getProperty().setDiffuse(0),t.getProperty().setAmbient(1),e.gridMapper=qr.newInstance(),e.polyData=et.newInstance(),e.gridMapper.setInputData(e.polyData),e.gridActor=Ar.newInstance(),e.gridActor.setMapper(e.gridMapper),e.gridActor.setProperty(t.getProperty()),e.gridActor.setParentProp(t),e.textPolyData=et.newInstance(),U.setGet(t,e,["axisTitlePixelOffset","boundsScaleFactor","faceVisibilityAngle","gridLines","tickLabelPixelOffset"]),U.setGetArray(t,e,["dataBounds"],6),U.setGetArray(t,e,["axisLabels"],3),U.get(t,e,["axisTextStyle","tickTextStyle","camera","tmTexture","textValues","textPolyData","tickCounts","gridActor"]),L8(t,e)}var A8=U.newInstance(fh,"vtkCubeAxesActor"),Nu={newInstance:A8,extend:fh,newCubeAxesActorHelper:k8};function B8(t,e){e.classHierarchy.push("vtkOpenGLCubeAxesActor"),t.buildPass=function(a){a&&(e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.CubeAxesActorHelper.getRenderable()||e.CubeAxesActorHelper.setRenderable(e.renderable),t.prepareNodes(),t.addMissingNode(e.CubeAxesActorHelper.getTmActor()),t.addMissingNode(e.renderable.getGridActor()),t.removeUnusedNodes())},t.opaquePass=function(a,r){if(a){var n=e._openGLRenderer?e._openGLRenderer.getRenderable().getActiveCamera():null,i=e._openGLRenderer.getTiledSizeAndOrigin();e.CubeAxesActorHelper.updateAPISpecificData([i.usize,i.vsize],n,e._openGLRenderWindow.getRenderable())}}}var V8={};function U8(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,V8,a),Rt.extend(t,e,a),e.CubeAxesActorHelper=Nu.newCubeAxesActorHelper(),B8(t,e)}var G8=ot(U8,"vtkOpenGLCubeAxesActor");kt("vtkCubeAxesActor",G8);function gf(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function df(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?gf(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):gf(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var _s=Mn.FieldAssociations,ft=Zr.primTypes,Bn=li.Representation,yf=li.Shading,Mi=qr.ScalarMode,mf=Vt.Filter,xf=Vt.Wrap,on=Ne,P8={type:"StartEvent"},j8={type:"EndEvent"},z8=Cu.CoordinateSystem;function W8(t){var e=t.getSelector();return e?e.getCurrentPass():Bt.MIN_KNOWN_PASS-1}function I8(t,e){e.classHierarchy.push("vtkOpenGLPolyDataMapper"),t.buildPass=function(r){r&&(e.currentRenderPass=null,e.openGLActor=t.getFirstAncestorOfType("vtkOpenGLActor"),e._openGLRenderer=e.openGLActor.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.openGLCamera=e._openGLRenderer.getViewNodeFor(e._openGLRenderer.getRenderable().getActiveCamera()))},t.translucentPass=function(r,n){r&&(e.currentRenderPass=n,t.render())},t.opaqueZBufferPass=function(r){r&&(e.haveSeenDepthRequest=!0,e.renderDepth=!0,t.render(),e.renderDepth=!1)},t.opaquePass=function(r){r&&t.render()},t.render=function(){var r=e._openGLRenderWindow.getContext();if(e.context!==r){e.context=r;for(var n=ft.Start;n<ft.End;n++)e.primitives[n].setOpenGLRenderWindow(e._openGLRenderWindow)}var i=e.openGLActor.getRenderable(),u=e._openGLRenderer.getRenderable();t.renderPiece(u,i)},t.buildShaders=function(r,n,i){t.getShaderTemplate(r,n,i),e.lastRenderPassShaderReplacement=e.currentRenderPass?e.currentRenderPass.getShaderReplacement():null,e.lastRenderPassShaderReplacement&&e.lastRenderPassShaderReplacement(r);var u=e.renderable.getViewSpecificProperties().OpenGL,o=null;if(u&&(o=u.ShaderReplacements),o)for(var f=0;f<o.length;f++){var s=o[f];if(s.replaceFirst){var l=s.shaderType,c=r[l],p=ie.substitute(c,s.originalValue,s.replacementValue,s.replaceAll);r[l]=p.result}}if(t.replaceShaderValues(r,n,i),o)for(var h=0;h<o.length;h++){var g=o[h];if(!g.replaceFirst){var y=g.shaderType,m=r[y],x=ie.substitute(m,g.originalValue,g.replacementValue,g.replaceAll);r[y]=x.result}}},t.getShaderTemplate=function(r,n,i){var u=e.renderable.getViewSpecificProperties().OpenGL,o=I1;if(u){var f=u.VertexShaderCode;f!==void 0&&f!==""&&(o=f)}r.Vertex=o;var s=$1;if(u){var l=u.FragmentShaderCode;l!==void 0&&l!==""&&(s=l)}r.Fragment=s;var c="";if(u){var p=u.GeometryShaderCode;p!==void 0&&(c=p)}r.Geometry=c},t.replaceShaderColor=function(r,n,i){var u=r.Vertex,o=r.Geometry,f=r.Fragment,s=e.lastBoundBO.getReferenceByName("lastLightComplexity"),l=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity","uniform vec3 ambientColorUniform;","uniform vec3 diffuseColorUniform;"];s&&(l=l.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));var c=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];s&&(c=c.concat(["  vec3 specularColor;","  float specularPower;"])),c=c.concat(["  ambientColor = ambientColorUniform;","  diffuseColor = diffuseColorUniform;","  opacity = opacityUniform;"]),s&&(c=c.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),e.lastBoundBO.getCABO().getColorComponents()!==0&&!e.drawingEdges&&(l=l.concat(["varying vec4 vertexColorVSOutput;"]),u=ie.substitute(u,"//VTK::Color::Dec",["attribute vec4 scalarColor;","varying vec4 vertexColorVSOutput;"]).result,u=ie.substitute(u,"//VTK::Color::Impl",["vertexColorVSOutput =  scalarColor;"]).result,o=ie.substitute(o,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,o=ie.substitute(o,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result),e.lastBoundBO.getCABO().getColorComponents()!==0&&!e.drawingEdges?f=ie.substitute(f,"//VTK::Color::Impl",c.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])).result:e.renderable.getInterpolateScalarsBeforeMapping()&&e.renderable.getColorCoordinates()&&!e.drawingEdges?f=ie.substitute(f,"//VTK::Color::Impl",c.concat(["  vec4 texColor = texture2D(texture1, tcoordVCVSOutput.st);","  diffuseColor = texColor.rgb;","  ambientColor = texColor.rgb;","  opacity = opacity*texColor.a;"])).result:(i.getBackfaceProperty()&&!e.drawingEdges&&(l=l.concat(["uniform float opacityUniformBF; // the fragment opacity","uniform float ambientIntensityBF; // the material ambient","uniform float diffuseIntensityBF; // the material diffuse","uniform vec3 ambientColorUniformBF; // ambient material color","uniform vec3 diffuseColorUniformBF; // diffuse material color"]),s?(l=l.concat(["uniform float specularIntensityBF; // the material specular intensity","uniform vec3 specularColorUniformBF; // intensity weighted color","uniform float specularPowerUniformBF;"]),c=c.concat(["if (gl_FrontFacing == false) {","  ambientColor = ambientIntensityBF * ambientColorUniformBF;","  diffuseColor = diffuseIntensityBF * diffuseColorUniformBF;","  specularColor = specularIntensityBF * specularColorUniformBF;","  specularPower = specularPowerUniformBF;","  opacity = opacityUniformBF; }"])):c=c.concat(["if (gl_FrontFacing == false) {","  ambientColor = ambientIntensityBF * ambientColorUniformBF;","  diffuseColor = diffuseIntensityBF * diffuseColorUniformBF;","  opacity = opacityUniformBF; }"])),e.haveCellScalars&&!e.drawingEdges&&(l=l.concat(["uniform samplerBuffer texture1;"])),f=ie.substitute(f,"//VTK::Color::Impl",c).result),f=ie.substitute(f,"//VTK::Color::Dec",l).result,r.Vertex=u,r.Geometry=o,r.Fragment=f},t.replaceShaderLight=function(r,n,i){var u=r.Fragment,o="",f=e.lastBoundBO.getReferenceByName("lastLightComplexity"),s=e.lastBoundBO.getReferenceByName("lastLightCount"),l=[];switch(f){case 0:u=ie.substitute(u,"//VTK::Light::Impl",["  gl_FragData[0] = vec4(ambientColor * ambient + diffuseColor * diffuse, opacity);","  //VTK::Light::Impl"],!1).result;break;case 1:u=ie.substitute(u,"//VTK::Light::Impl",["  float df = max(0.0, normalVCVSOutput.z);","  float sf = pow(df, specularPower);","  vec3 diffuseL = df * diffuseColor;","  vec3 specularL = sf * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"],!1).result;break;case 2:for(var c=0;c<s;++c)l=l.concat(["uniform vec3 lightColor".concat(c,";"),"uniform vec3 lightDirectionVC".concat(c,"; // normalized"),"uniform vec3 lightHalfAngleVC".concat(c,"; // normalized")]);u=ie.substitute(u,"//VTK::Light::Dec",l).result,l=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  float df;"];for(var p=0;p<s;++p)l=l.concat(["  df = max(0.0, dot(normalVCVSOutput, -lightDirectionVC".concat(p,"));"),"  diffuseL += ((df".concat(o,") * lightColor").concat(p,");"),"  if (dot(normalVCVSOutput, lightDirectionVC".concat(p,") < 0.0)"),"    {","    float sf = pow( max(0.0, dot(lightHalfAngleVC".concat(p,",normalVCVSOutput)), specularPower);"),"    specularL += ((sf".concat(o,") * lightColor").concat(p,");"),"    }"]);l=l.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),u=ie.substitute(u,"//VTK::Light::Impl",l,!1).result;break;case 3:for(var h=0;h<s;++h)l=l.concat(["uniform vec3 lightColor".concat(h,";"),"uniform vec3 lightDirectionVC".concat(h,"; // normalized"),"uniform vec3 lightHalfAngleVC".concat(h,"; // normalized"),"uniform vec3 lightPositionVC".concat(h,";"),"uniform vec3 lightAttenuation".concat(h,";"),"uniform float lightConeAngle".concat(h,";"),"uniform float lightExponent".concat(h,";"),"uniform int lightPositional".concat(h,";")]);u=ie.substitute(u,"//VTK::Light::Dec",l).result,l=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  vec3 vertLightDirectionVC;","  float attenuation;","  float df;"];for(var g=0;g<s;++g)l=l.concat(["  attenuation = 1.0;","  if (lightPositional".concat(g," == 0)"),"    {","      vertLightDirectionVC = lightDirectionVC".concat(g,";"),"    }","  else","    {","    vertLightDirectionVC = vertexVC.xyz - lightPositionVC".concat(g,";"),"    float distanceVC = length(vertLightDirectionVC);","    vertLightDirectionVC = normalize(vertLightDirectionVC);","    attenuation = 1.0 /","      (lightAttenuation".concat(g,".x"),"       + lightAttenuation".concat(g,".y * distanceVC"),"       + lightAttenuation".concat(g,".z * distanceVC * distanceVC);"),"    // per OpenGL standard cone angle is 90 or less for a spot light","    if (lightConeAngle".concat(g," <= 90.0)"),"      {","      float coneDot = dot(vertLightDirectionVC, lightDirectionVC".concat(g,");"),"      // if inside the cone","      if (coneDot >= cos(radians(lightConeAngle".concat(g,")))"),"        {","        attenuation = attenuation * pow(coneDot, lightExponent".concat(g,");"),"        }","      else","        {","        attenuation = 0.0;","        }","      }","    }","    df = max(0.0, attenuation*dot(normalVCVSOutput, -vertLightDirectionVC));","    diffuseL += ((df".concat(o,") * lightColor").concat(g,");"),"    if (dot(normalVCVSOutput, vertLightDirectionVC) < 0.0)","      {","      float sf = attenuation*pow( max(0.0, dot(lightHalfAngleVC".concat(g,",normalVCVSOutput)), specularPower);"),"    specularL += ((sf".concat(o,") * lightColor").concat(g,");"),"    }"]);l=l.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),u=ie.substitute(u,"//VTK::Light::Impl",l,!1).result;break;default:on("bad light complexity")}r.Fragment=u},t.replaceShaderNormal=function(r,n,i){var u=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(u>0){var o=r.Vertex,f=r.Geometry,s=r.Fragment;e.lastBoundBO.getCABO().getNormalOffset()?(o=ie.substitute(o,"//VTK::Normal::Dec",["attribute vec3 normalMC;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,o=ie.substitute(o,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * normalMC;"]).result,f=ie.substitute(f,"//VTK::Normal::Dec",["in vec3 normalVCVSOutput[];","out vec3 normalVCGSOutput;"]).result,f=ie.substitute(f,"//VTK::Normal::Impl",["normalVCGSOutput = normalVCVSOutput[i];"]).result,s=ie.substitute(s,"//VTK::Normal::Dec",["varying vec3 normalVCVSOutput;"]).result,s=ie.substitute(s,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalVCVSOutput);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):e.haveCellNormals?(s=ie.substitute(s,"//VTK::Normal::Dec",["uniform mat3 normalMatrix;","uniform samplerBuffer textureN;"]).result,s=ie.substitute(s,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalMatrix *","    texelFetchBuffer(textureN, gl_PrimitiveID + PrimitiveIDOffset).xyz);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):e.lastBoundBO.getOpenGLMode(i.getProperty().getRepresentation())===e.context.LINES?(s=ie.substitute(s,"//VTK::UniformFlow::Impl",["  vec3 fdx = dFdx(vertexVC.xyz);","  vec3 fdy = dFdy(vertexVC.xyz);","  //VTK::UniformFlow::Impl"]).result,s=ie.substitute(s,"//VTK::Normal::Impl",["vec3 normalVCVSOutput;","  if (abs(fdx.x) > 0.0)","    { fdx = normalize(fdx); normalVCVSOutput = normalize(cross(vec3(fdx.y, -fdx.x, 0.0), fdx)); }","  else { fdy = normalize(fdy); normalVCVSOutput = normalize(cross(vec3(fdy.y, -fdy.x, 0.0), fdy));}"]).result):(s=ie.substitute(s,"//VTK::Normal::Dec",["uniform int cameraParallel;"]).result,s=ie.substitute(s,"//VTK::UniformFlow::Impl",["  vec3 fdx = dFdx(vertexVC.xyz);","  vec3 fdy = dFdy(vertexVC.xyz);","  //VTK::UniformFlow::Impl"]).result,s=ie.substitute(s,"//VTK::Normal::Impl",["  fdx = normalize(fdx);","  fdy = normalize(fdy);","  vec3 normalVCVSOutput = normalize(cross(fdx,fdy));","  if (cameraParallel == 1 && normalVCVSOutput.z < 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }","  if (cameraParallel == 0 && dot(normalVCVSOutput,vertexVC.xyz) > 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }"]).result),r.Vertex=o,r.Geometry=f,r.Fragment=s}},t.replaceShaderPositionVC=function(r,n,i){e.lastBoundBO.replaceShaderPositionVC(r,n,i);var u=r.Vertex,o=r.Geometry,f=r.Fragment,s=e.lastBoundBO.getReferenceByName("lastLightComplexity");s>0?(u=ie.substitute(u,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,u=ie.substitute(u,"//VTK::PositionVC::Impl",["vertexVCVSOutput = MCVCMatrix * vertexMC;","  gl_Position = MCPCMatrix * vertexMC;"]).result,u=ie.substitute(u,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result,o=ie.substitute(o,"//VTK::PositionVC::Dec",["in vec4 vertexVCVSOutput[];","out vec4 vertexVCGSOutput;"]).result,o=ie.substitute(o,"//VTK::PositionVC::Impl",["vertexVCGSOutput = vertexVCVSOutput[i];"]).result,f=ie.substitute(f,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,f=ie.substitute(f,"//VTK::PositionVC::Impl",["vec4 vertexVC = vertexVCVSOutput;"]).result):(u=ie.substitute(u,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,u=ie.substitute(u,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result),r.Vertex=u,r.Geometry=o,r.Fragment=f},t.replaceShaderTCoord=function(r,n,i){if(e.lastBoundBO.getCABO().getTCoordOffset()){var u=r.Vertex,o=r.Geometry,f=r.Fragment;if(e.drawingEdges)return;u=ie.substitute(u,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result;var s=e.openGLActor.getActiveTextures(),l=2,c=2;if(s&&s.length>0&&(l=s[0].getComponents(),s[0].getTarget()===e.context.TEXTURE_CUBE_MAP&&(c=3)),e.renderable.getColorTextureMap()&&(l=e.renderable.getColorTextureMap().getPointData().getScalars().getNumberOfComponents(),c=2),c===2){if(u=ie.substitute(u,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result,o=ie.substitute(o,"//VTK::TCoord::Dec",["in vec2 tcoordVCVSOutput[];","out vec2 tcoordVCGSOutput;"]).result,o=ie.substitute(o,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,f=ie.substitute(f,"//VTK::TCoord::Dec",["varying vec2 tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,s&&s.length>=1)switch(l){case 1:f=ie.substitute(f,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;"]).result;break;case 2:f=ie.substitute(f,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;","  opacity = opacity * tcolor.g;"]).result;break;default:f=ie.substitute(f,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.rgb;","  diffuseColor = diffuseColor*tcolor.rgb;","  opacity = opacity * tcolor.a;"]).result}}else switch(u=ie.substitute(u,"//VTK::TCoord::Dec","attribute vec3 tcoordMC; varying vec3 tcoordVCVSOutput;").result,o=ie.substitute(o,"//VTK::TCoord::Dec",["in vec3 tcoordVCVSOutput[];","out vec3 tcoordVCGSOutput;"]).result,o=ie.substitute(o,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,f=ie.substitute(f,"//VTK::TCoord::Dec",["varying vec3 tcoordVCVSOutput;","uniform samplerCube texture1;"]).result,l){case 1:f=ie.substitute(f,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;"]).result;break;case 2:f=ie.substitute(f,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;","  opacity = opacity * tcolor.g;"]).result;break;default:f=ie.substitute(f,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.rgb;","  diffuseColor = diffuseColor*tcolor.rgb;","  opacity = opacity * tcolor.a;"]).result}r.Vertex=u,r.Geometry=o,r.Fragment=f}},t.replaceShaderClip=function(r,n,i){var u=r.Vertex,o=r.Fragment;if(e.renderable.getNumberOfClippingPlanes()){var f=e.renderable.getNumberOfClippingPlanes();u=ie.substitute(u,"//VTK::Clip::Dec",["uniform int numClipPlanes;","uniform vec4 clipPlanes[".concat(f,"];"),"varying float clipDistancesVSOutput[".concat(f,"];")]).result,u=ie.substitute(u,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < ".concat(f,"; planeNum++)"),"    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,o=ie.substitute(o,"//VTK::Clip::Dec",["uniform int numClipPlanes;","varying float clipDistancesVSOutput[".concat(f,"];")]).result,o=ie.substitute(o,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < ".concat(f,"; planeNum++)"),"    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}r.Vertex=u,r.Fragment=o},t.getCoincidentParameters=function(r,n){var i={factor:0,offset:0},u=n.getProperty();if(e.renderable.getResolveCoincidentTopology()||u.getEdgeVisibility()&&u.getRepresentation()===Bn.SURFACE){var o=e.lastBoundBO.getPrimitiveType();o===ft.Points||u.getRepresentation()===Bn.POINTS?i=e.renderable.getCoincidentTopologyPointOffsetParameter():o===ft.Lines||u.getRepresentation()===Bn.WIREFRAME?i=e.renderable.getCoincidentTopologyLineOffsetParameters():(o===ft.Tris||o===ft.TriStrips)&&(i=e.renderable.getCoincidentTopologyPolygonOffsetParameters()),(o===ft.TrisEdges||o===ft.TriStripsEdges)&&(i=e.renderable.getCoincidentTopologyPolygonOffsetParameters(),i.factor/=2,i.offset/=2)}var f=e._openGLRenderer.getSelector();return f&&f.getFieldAssociation()===_s.FIELD_ASSOCIATION_POINTS&&(i.offset-=2),i},t.replaceShaderPicking=function(r,n,i){var u=r.Fragment,o=r.Vertex;if(u=ie.substitute(u,"//VTK::Picking::Dec",["uniform int picking;","//VTK::Picking::Dec"]).result,!!e._openGLRenderer.getSelector()){switch((e.lastSelectionState===Bt.ID_LOW24||e.lastSelectionState===Bt.ID_HIGH24)&&(o=ie.substitute(o,"//VTK::Picking::Dec",[`flat out int vertexIDVSOutput;
`,`uniform int VertexIDOffset;
`]).result,o=ie.substitute(o,"//VTK::Picking::Impl",`  vertexIDVSOutput = gl_VertexID + VertexIDOffset;
`).result,u=ie.substitute(u,"//VTK::Picking::Dec",`flat in int vertexIDVSOutput;
`).result,u=ie.substitute(u,"//VTK::Picking::Impl",["  int idx = vertexIDVSOutput;","//VTK::Picking::Impl"]).result),e.lastSelectionState){case Bt.ID_LOW24:u=ie.substitute(u,"//VTK::Picking::Impl","  gl_FragData[0] = vec4(float(idx%256)/255.0, float((idx/256)%256)/255.0, float((idx/65536)%256)/255.0, 1.0);").result;break;case Bt.ID_HIGH24:u=ie.substitute(u,"//VTK::Picking::Impl","  gl_FragData[0] = vec4(float(idx)/255.0, 0.0, 0.0, 1.0);").result;break;default:u=ie.substitute(u,"//VTK::Picking::Dec","uniform vec3 mapperIndex;").result,u=ie.substitute(u,"//VTK::Picking::Impl","  gl_FragData[0] = picking != 0 ? vec4(mapperIndex,1.0) : gl_FragData[0];").result}r.Fragment=u,r.Vertex=o}},t.replaceShaderValues=function(r,n,i){if(t.replaceShaderColor(r,n,i),t.replaceShaderNormal(r,n,i),t.replaceShaderLight(r,n,i),t.replaceShaderTCoord(r,n,i),t.replaceShaderPicking(r,n,i),t.replaceShaderClip(r,n,i),t.replaceShaderCoincidentOffset(r,n,i),t.replaceShaderPositionVC(r,n,i),e.haveSeenDepthRequest){var u=r.Fragment;u=ie.substitute(u,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,u=ie.substitute(u,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result,r.Fragment=u}},t.getNeedToRebuildShaders=function(r,n,i){var u=0,o=0,f=r.getPrimitiveType(),s=e.currentInput,l=!1,c=s.getPointData().getNormals(),p=s.getCellData().getNormals(),h=i.getProperty().getInterpolation()===yf.FLAT,g=i.getProperty().getRepresentation(),y=r.getOpenGLMode(g,f);if((y===e.context.TRIANGLES||p&&!c||!h&&c||!h&&y===e.context.LINES)&&(l=!0),i.getProperty().getLighting()&&l){u=0;for(var m=n.getLightsByReference(),x=0;x<m.length;++x){var v=m[x],d=v.getSwitch();d>0&&(o++,u===0&&(u=1)),u===1&&(o>1||v.getIntensity()!==1||!v.lightTypeIsHeadLight())&&(u=2),u<3&&v.getPositional()&&(u=3)}}var w=!1,C=e.lastBoundBO.getReferenceByName("lastLightComplexity"),S=e.lastBoundBO.getReferenceByName("lastLightCount");return(C!==u||S!==o)&&(e.lastBoundBO.set({lastLightComplexity:u},!0),e.lastBoundBO.set({lastLightCount:o},!0),w=!0),(!e.currentRenderPass&&e.lastRenderPassShaderReplacement||e.currentRenderPass&&e.currentRenderPass.getShaderReplacement()!==e.lastRenderPassShaderReplacement)&&(w=!0),e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||r.getShaderSourceTime().getMTime()<e.renderable.getMTime()||r.getShaderSourceTime().getMTime()<e.currentInput.getMTime()||r.getShaderSourceTime().getMTime()<e.selectionStateChanged.getMTime()||w?(e.lastHaveSeenDepthRequest=e.haveSeenDepthRequest,!0):!1},t.invokeShaderCallbacks=function(r,n,i){var u=e.renderable.getViewSpecificProperties().ShadersCallbacks;u&&u.forEach(function(o){o.callback(o.userData,r,n,i)})},t.setMapperShaderParameters=function(r,n,i){if(r.getProgram().isUniformUsed("PrimitiveIDOffset")&&r.getProgram().setUniformi("PrimitiveIDOffset",e.primitiveIDOffset),r.getProgram().isUniformUsed("VertexIDOffset")&&r.getProgram().setUniformi("VertexIDOffset",e.vertexIDOffset),r.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())){var u=e.lastBoundBO.getReferenceByName("lastLightComplexity");r.getProgram().isAttributeUsed("vertexMC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"vertexMC",r.getCABO().getVertexOffset(),r.getCABO().getStride(),e.context.FLOAT,3,!1)||on("Error setting vertexMC in shader VAO.")),r.getProgram().isAttributeUsed("normalMC")&&r.getCABO().getNormalOffset()&&u>0?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"normalMC",r.getCABO().getNormalOffset(),r.getCABO().getStride(),e.context.FLOAT,3,!1)||on("Error setting normalMC in shader VAO."):r.getVAO().removeAttributeArray("normalMC"),e.renderable.getCustomShaderAttributes().forEach(function(S,T){r.getProgram().isAttributeUsed("".concat(S,"MC"))&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"".concat(S,"MC"),r.getCABO().getCustomData()[T].offset,r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getCustomData()[T].components,!1)||on("Error setting ".concat(S,"MC in shader VAO.")))}),r.getProgram().isAttributeUsed("tcoordMC")&&r.getCABO().getTCoordOffset()?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"tcoordMC",r.getCABO().getTCoordOffset(),r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getTCoordComponents(),!1)||on("Error setting tcoordMC in shader VAO."):r.getVAO().removeAttributeArray("tcoordMC"),r.getProgram().isAttributeUsed("scalarColor")&&r.getCABO().getColorComponents()?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO().getColorBO(),"scalarColor",r.getCABO().getColorOffset(),r.getCABO().getColorBOStride(),e.context.UNSIGNED_BYTE,4,!0)||on("Error setting scalarColor in shader VAO."):r.getVAO().removeAttributeArray("scalarColor"),r.getAttributeUpdateTime().modified()}if(e.renderable.getNumberOfClippingPlanes()){var o=e.renderable.getNumberOfClippingPlanes(),f=[],s=r.getCABO().getCoordShiftAndScaleEnabled(),l=s?r.getCABO().getInverseShiftAndScaleMatrix():null,c=l?Mt(e.tmpMat4,i.getMatrix()):i.getMatrix();l&&(Ke(c,c),it(c,c,l),Ke(c,c));for(var p=0;p<o;p++){var h=[];e.renderable.getClippingPlaneInDataCoords(c,p,h);for(var g=0;g<4;g++)f.push(h[g])}r.getProgram().setUniformi("numClipPlanes",o),r.getProgram().setUniform4fv("clipPlanes",f)}e.internalColorTexture&&r.getProgram().isUniformUsed("texture1")&&r.getProgram().setUniformi("texture1",e.internalColorTexture.getTextureUnit());var y=e.openGLActor.getActiveTextures();if(y)for(var m=0;m<y.length;++m){var x=y[m],v=x.getTextureUnit(),d="texture".concat(v+1);r.getProgram().isUniformUsed(d)&&r.getProgram().setUniformi(d,v)}if(e.haveSeenDepthRequest&&r.getProgram().setUniformi("depthRequest",e.renderDepth?1:0),r.getProgram().isUniformUsed("coffset")){var w=t.getCoincidentParameters(n,i);r.getProgram().setUniformf("coffset",w.offset),r.getProgram().isUniformUsed("cfactor")&&r.getProgram().setUniformf("cfactor",w.factor)}r.setMapperShaderParameters(n,i,e._openGLRenderer.getTiledSizeAndOrigin());var C=e._openGLRenderer.getSelector();r.getProgram().setUniform3fArray("mapperIndex",C?C.getPropColorValue():[0,0,0]),r.getProgram().setUniformi("picking",C?C.getCurrentPass()+1:0)},t.setLightingShaderParameters=function(r,n,i){var u=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(!(u<2)){for(var o=r.getProgram(),f=0,s=n.getLightsByReference(),l=0;l<s.length;++l){var c=s[l],p=c.getSwitch();if(p>0){var h=c.getColorByReference(),g=c.getIntensity();e.lightColor[0]=h[0]*g,e.lightColor[1]=h[1]*g,e.lightColor[2]=h[2]*g;var y=c.getDirection(),m=n.getActiveCamera().getViewMatrix(),x=de(y);c.lightTypeIsSceneLight()&&(x[0]=m[0]*y[0]+m[1]*y[1]+m[2]*y[2],x[1]=m[4]*y[0]+m[5]*y[1]+m[6]*y[2],x[2]=m[8]*y[0]+m[9]*y[1]+m[10]*y[2],ut(x)),e.lightDirection[0]=x[0],e.lightDirection[1]=x[1],e.lightDirection[2]=x[2],e.lightHalfAngle[0]=-e.lightDirection[0],e.lightHalfAngle[1]=-e.lightDirection[1],e.lightHalfAngle[2]=-e.lightDirection[2]+1,ut(e.lightDirection),o.setUniform3fArray("lightColor".concat(f),e.lightColor),o.setUniform3fArray("lightDirectionVC".concat(f),e.lightDirection),o.setUniform3fArray("lightHalfAngleVC".concat(f),e.lightHalfAngle),f++}}if(!(u<3)){var v=n.getActiveCamera(),d=v.getViewMatrix();Ke(d,d),f=0;for(var w=0;w<s.length;++w){var C=s[w],S=C.getSwitch();if(S>0){var T=C.getTransformedPosition(),_=new Float64Array(3);Te(_,T,d),o.setUniform3fArray("lightAttenuation".concat(f),C.getAttenuationValuesByReference()),o.setUniformi("lightPositional".concat(f),C.getPositional()),o.setUniformf("lightExponent".concat(f),C.getExponent()),o.setUniformf("lightConeAngle".concat(f),C.getConeAngle()),o.setUniform3fArray("lightPositionVC".concat(f),[_[0],_[1],_[2]]),f++}}}}};function a(r,n,i){return n.identity(i),r.reduce(function(u,o,f){return f===0?o?n.copy(u,o):n.identity(u):o?n.multiply(u,u,o):u},i)}t.setCameraShaderParameters=function(r,n,i){var u=r.getProgram(),o=e.openGLCamera.getKeyMatrices(n),f=n.getActiveCamera(),s=e.openGLCamera.getKeyMatrixTime().getMTime(),l=u.getLastCameraMTime(),c=r.getCABO().getCoordShiftAndScaleEnabled(),p=c?r.getCABO().getInverseShiftAndScaleMatrix():null,h=i.getIsIdentity(),g=h?{mcwc:null,normalMatrix:null}:e.openGLActor.getKeyMatrices();if(i.getCoordinateSystem()===z8.DISPLAY){var y=e._openGLRenderer.getTiledSizeAndOrigin();be(e.tmpMat4),e.tmpMat4[0]=2/y.usize,e.tmpMat4[12]=-1,e.tmpMat4[5]=2/y.vsize,e.tmpMat4[13]=-1,it(e.tmpMat4,e.tmpMat4,p),u.setUniformMatrix("MCPCMatrix",e.tmpMat4)}else u.setUniformMatrix("MCPCMatrix",a([o.wcpc,g.mcwc,p],qs,e.tmpMat4));u.isUniformUsed("MCVCMatrix")&&u.setUniformMatrix("MCVCMatrix",a([o.wcvc,g.mcwc,p],qs,e.tmpMat4)),u.isUniformUsed("normalMatrix")&&u.setUniformMatrix3x3("normalMatrix",a([o.normalMatrix,g.normalMatrix],qg,e.tmpMat3)),l!==s&&(u.isUniformUsed("cameraParallel")&&u.setUniformi("cameraParallel",f.getParallelProjection()),u.setLastCameraMTime(s)),h||u.setLastCameraMTime(0)},t.setPropertyShaderParameters=function(r,n,i){var u=r.getProgram(),o=i.getProperty(),f=o.getOpacity(),s=e.drawingEdges?o.getEdgeColorByReference():o.getAmbientColorByReference(),l=e.drawingEdges?o.getEdgeColorByReference():o.getDiffuseColorByReference(),c=e.drawingEdges?1:o.getAmbient(),p=e.drawingEdges?0:o.getDiffuse(),h=e.drawingEdges?0:o.getSpecular(),g=o.getSpecularPower();u.setUniformf("opacityUniform",f),u.setUniform3fArray("ambientColorUniform",s),u.setUniform3fArray("diffuseColorUniform",l),u.setUniformf("ambient",c),u.setUniformf("diffuse",p);var y=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(!(y<1)){var m=o.getSpecularColorByReference();if(u.setUniform3fArray("specularColorUniform",m),u.setUniformf("specularPowerUniform",g),u.setUniformf("specular",h),u.isUniformUsed("ambientIntensityBF")){if(o=i.getBackfaceProperty(),f=o.getOpacity(),s=o.getAmbientColor(),c=o.getAmbient(),l=o.getDiffuseColor(),p=o.getDiffuse(),m=o.getSpecularColor(),h=o.getSpecular(),u.setUniformf("ambientIntensityBF",c),u.setUniformf("diffuseIntensityBF",p),u.setUniformf("opacityUniformBF",f),u.setUniform3fArray("ambientColorUniformBF",s),u.setUniform3fArray("diffuseColorUniformBF",l),y<1)return;u.setUniformf("specularIntensityBF",h),u.setUniform3fArray("specularColorUniformBF",m),u.setUniformf("specularPowerUniformBF",g)}}},t.updateMaximumPointCellIds=function(r,n){var i,u,o,f,s=e._openGLRenderer.getSelector();if(!!s){if((i=e.selectionWebGLIdsToVTKIds)!==null&&i!==void 0&&(u=i.points)!==null&&u!==void 0&&u.length){var l=e.selectionWebGLIdsToVTKIds.points.length;s.setMaximumPointId(l-1)}if((o=e.selectionWebGLIdsToVTKIds)!==null&&o!==void 0&&(f=o.cells)!==null&&f!==void 0&&f.length){var c=e.selectionWebGLIdsToVTKIds.cells.length;s.setMaximumCellId(c-1)}var p=s.getFieldAssociation();p===_s.FIELD_ASSOCIATION_POINTS&&(e.pointPicking=!0)}},t.renderPieceStart=function(r,n){e.primitiveIDOffset=0,e.vertexIDOffset=0;var i=W8(e._openGLRenderer);if(e.lastSelectionState!==i&&(e.selectionStateChanged.modified(),e.lastSelectionState=i),e._openGLRenderer.getSelector())switch(i){default:e._openGLRenderer.getSelector().renderProp(n)}t.updateBufferObjects(r,n),e.renderable.getColorTextureMap()&&e.internalColorTexture.activate(),e.lastBoundBO=null},t.renderPieceDraw=function(r,n){for(var i=n.getProperty().getRepresentation(),u=n.getProperty().getEdgeVisibility()&&i===Bn.SURFACE,o=e._openGLRenderer.getSelector(),f=o&&o.getFieldAssociation()===_s.FIELD_ASSOCIATION_POINTS&&(e.lastSelectionState===Bt.ID_LOW24||e.lastSelectionState===Bt.ID_HIGH24),s=ft.Start;s<ft.End;s++){e.primitives[s].setPointPicking(f);var l=e.primitives[s].getCABO();l.getElementCount()&&(e.drawingEdges=u&&(s===ft.TrisEdges||s===ft.TriStripsEdges),(!e.drawingEdges||!(e.renderDepth||e.lastSelectionState>=0))&&(e.lastBoundBO=e.primitives[s],e.primitiveIDOffset+=e.primitives[s].drawArrays(r,n,i,t),e.vertexIDOffset+=e.primitives[s].getCABO().getElementCount()))}},t.renderPieceFinish=function(r,n){e.LastBoundBO&&e.LastBoundBO.getVAO().release(),e.renderable.getColorTextureMap()&&e.internalColorTexture.deactivate()},t.renderPiece=function(r,n){if(t.invokeEvent(P8),e.renderable.getStatic()||e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent(j8),!e.currentInput){on("No input!");return}if(!(!e.currentInput.getPoints||!e.currentInput.getPoints().getNumberOfValues())){var i=e.context,u=n.getProperty().getBackfaceCulling(),o=n.getProperty().getFrontfaceCulling();!u&&!o?e._openGLRenderWindow.disableCullFace():o?(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.FRONT)):(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.BACK)),t.renderPieceStart(r,n),t.renderPieceDraw(r,n),t.renderPieceFinish(r,n)}},t.computeBounds=function(r,n){if(!t.getInput()){ha(e.bounds);return}e.bounds=t.getInput().getBounds()},t.updateBufferObjects=function(r,n){t.getNeedToRebuildBufferObjects(r,n)&&t.buildBufferObjects(r,n)},t.getNeedToRebuildBufferObjects=function(r,n){var i=e.VBOBuildTime.getMTime();return i<t.getMTime()||i<e.renderable.getMTime()||i<n.getMTime()||i<e.currentInput.getMTime()},t.buildBufferObjects=function(r,n){var i=e.currentInput;if(i!==null){e.renderable.mapScalars(i,1);var u=e.renderable.getColorMapColors();e.haveCellScalars=!1;var o=e.renderable.getScalarMode();e.renderable.getScalarVisibility()&&(o===Mi.USE_CELL_DATA||o===Mi.USE_CELL_FIELD_DATA||o===Mi.USE_FIELD_DATA||!i.getPointData().getScalars())&&o!==Mi.USE_POINT_FIELD_DATA&&u&&(e.haveCellScalars=!0);var f=n.getProperty().getInterpolation()!==yf.FLAT?i.getPointData().getNormals():null;f===null&&i.getCellData().getNormals()&&(e.haveCellNormals=!0,f=i.getCellData().getNormals());var s=n.getProperty().getRepresentation(),l=i.getPointData().getTCoords();if(e.openGLActor.getActiveTextures()||(l=null),e.renderable.getColorCoordinates()){l=e.renderable.getColorCoordinates(),e.internalColorTexture||(e.internalColorTexture=Vt.newInstance({resizable:!0}));var c=e.internalColorTexture;c.setMinificationFilter(mf.NEAREST),c.setMagnificationFilter(mf.NEAREST),c.setWrapS(xf.CLAMP_TO_EDGE),c.setWrapT(xf.CLAMP_TO_EDGE),c.setOpenGLRenderWindow(e._openGLRenderWindow);var p=e.renderable.getColorTextureMap(),h=p.getExtent(),g=p.getPointData().getScalars();c.create2DFromRaw(h[1]-h[0]+1,h[3]-h[2]+1,g.getNumberOfComponents(),g.getDataType(),g.getData()),c.activate(),c.sendParameters(),c.deactivate()}var y="".concat(i.getMTime(),"A").concat(s,"B").concat(i.getMTime())+"C".concat(f?f.getMTime():1,"D").concat(u?u.getMTime():1)+"E".concat(n.getProperty().getEdgeVisibility())+"F".concat(l?l.getMTime():1);if(e.VBOBuildString!==y){var m=i.getPoints(),x={points:m,normals:f,tcoords:l,colors:u,cellOffset:0,vertexOffset:0,haveCellScalars:e.haveCellScalars,haveCellNormals:e.haveCellNormals,customAttributes:e.renderable.getCustomShaderAttributes().map(function(C){return i.getPointData().getArrayByName(C)})};e.renderable.getPopulateSelectionSettings()&&(e.selectionWebGLIdsToVTKIds={points:null,cells:null});for(var v=[{inRep:"verts",cells:i.getVerts()},{inRep:"lines",cells:i.getLines()},{inRep:"polys",cells:i.getPolys()},{inRep:"strips",cells:i.getStrips()},{inRep:"polys",cells:i.getPolys()},{inRep:"strips",cells:i.getStrips()}],d=n.getProperty().getEdgeVisibility()&&s===Bn.SURFACE,w=ft.Start;w<ft.End;w++)w!==ft.TrisEdges&&w!==ft.TriStripsEdges?(x.cellOffset+=e.primitives[w].getCABO().createVBO(v[w].cells,v[w].inRep,s,x,e.selectionWebGLIdsToVTKIds),x.vertexOffset+=e.primitives[w].getCABO().getElementCount()):d?e.primitives[w].getCABO().createVBO(v[w].cells,v[w].inRep,Bn.WIREFRAME,df(df({},x),{},{tcoords:null,colors:null,haveCellScalars:!1,haveCellNormals:!1})):e.primitives[w].releaseGraphicsResources();e.renderable.getPopulateSelectionSettings()&&(e.renderable.setSelectionWebGLIdsToVTKIds(e.selectionWebGLIdsToVTKIds),t.updateMaximumPointCellIds()),e.VBOBuildTime.modified(),e.VBOBuildString=y}}}}var $8={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null,tmpMat4:null,ambientColor:[],diffuseColor:[],specularColor:[],lightColor:[],lightHalfAngle:[],lightDirection:[],lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastSelectionState:Bt.MIN_KNOWN_PASS-1,selectionStateChanged:null,selectionWebGLIdsToVTKIds:null,pointPicking:!1};function lh(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,$8,a),Rt.extend(t,e,a),ou.implementReplaceShaderCoincidentOffset(t,e,a),e.primitives=[],e.primTypes=ft,e.tmpMat3=xr(new Float64Array(9)),e.tmpMat4=be(new Float64Array(16));for(var r=ft.Start;r<ft.End;r++)e.primitives[r]=Zr.newInstance(),e.primitives[r].setPrimitiveType(r),e.primitives[r].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:!1},!0);Tt(t,e,["context"]),e.VBOBuildTime={},vt(e.VBOBuildTime,{mtime:0}),e.selectionStateChanged={},vt(e.selectionStateChanged,{mtime:0}),I8(t,e)}var ph=ot(lh,"vtkOpenGLPolyDataMapper"),H8={newInstance:ph,extend:lh};kt("vtkMapper",ph);var K8=Qr.ColorMode,sn=Qr.ScalarMode,Ds=Qr.GetArray;function X8(t,e){e.classHierarchy.push("vtkMapper2D"),t.createDefaultLookupTable=function(){e.lookupTable=La.newInstance()},t.getColorModeAsString=function(){return U.enumToString(K8,e.colorMode)},t.setColorModeToDefault=function(){return t.setColorMode(0)},t.setColorModeToMapScalars=function(){return t.setColorMode(1)},t.setColorModeToDirectScalars=function(){return t.setColorMode(2)},t.getScalarModeAsString=function(){return U.enumToString(sn,e.scalarMode)},t.setScalarModeToDefault=function(){return t.setScalarMode(0)},t.setScalarModeToUsePointData=function(){return t.setScalarMode(1)},t.setScalarModeToUseCellData=function(){return t.setScalarMode(2)},t.setScalarModeToUsePointFieldData=function(){return t.setScalarMode(3)},t.setScalarModeToUseCellFieldData=function(){return t.setScalarMode(4)},t.setScalarModeToUseFieldData=function(){return t.setScalarMode(5)},t.getAbstractScalars=function(a,r,n,i,u){if(!a||!e.scalarVisibility)return{scalars:null,cellFLag:!1};var o=null,f=!1;if(r===sn.DEFAULT)o=a.getPointData().getScalars(),o||(o=a.getCellData().getScalars(),f=!0);else if(r===sn.USE_POINT_DATA)o=a.getPointData().getScalars();else if(r===sn.USE_CELL_DATA)o=a.getCellData().getScalars(),f=!0;else if(r===sn.USE_POINT_FIELD_DATA){var s=a.getPointData();n===Ds.BY_ID?o=s.getArrayByIndex(i):o=s.getArrayByName(u)}else if(r===sn.USE_CELL_FIELD_DATA){var l=a.getCellData();f=!0,n===Ds.BY_ID?o=l.getArrayByIndex(i):o=l.getArrayByName(u)}else if(r===sn.USE_FIELD_DATA){var c=a.getFieldData();n===Ds.BY_ID?o=c.getArrayByIndex(i):o=c.getArrayByName(u)}return{scalars:o,cellFlag:f}},t.getLookupTable=function(){return e.lookupTable||t.createDefaultLookupTable(),e.lookupTable},t.getMTime=function(){var a=e.mtime;if(e.lookupTable!==null){var r=e.lookupTable.getMTime();a=r>a?r:a}return a},t.mapScalars=function(a,r){var n=t.getAbstractScalars(a,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName).scalars;if(!n){e.colorMapColors=null;return}var i="".concat(t.getMTime()).concat(n.getMTime()).concat(r);if(e.colorBuildString!==i){e.useLookupTableScalarRange||t.getLookupTable().setRange(e.scalarRange[0],e.scalarRange[1]);var u=t.getLookupTable();u&&(u.build(),e.colorMapColors=u.mapScalars(n,e.colorMode,e.fieldDataTupleId)),e.colorBuildString="".concat(t.getMTime()).concat(n.getMTime()).concat(r)}}}var q8={static:!1,lookupTable:null,scalarVisibility:!1,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,transformCoordinate:null,viewSpecificProperties:null,customShaderAttributes:[]};function hh(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,q8,a),$o.extend(t,e,a),U.get(t,e,["colorMapColors"]),U.setGet(t,e,["arrayAccessMode","colorByArrayName","colorMode","lookupTable","renderTime","scalarMode","scalarVisibility","static","transformCoordinate","useLookupTableScalarRange","viewSpecificProperties","customShaderAttributes"]),U.setGetArray(t,e,["scalarRange"],2),e.viewSpecificProperties||(e.viewSpecificProperties={}),X8(t,e)}var Y8=U.newInstance(hh,"vtkMapper2D"),vh={newInstance:Y8,extend:hh},J8=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyData2DFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

uniform int PrimitiveIDOffset;

// Texture coordinates
//VTK::TCoord::Dec

// Scalar coloring
//VTK::Color::Dec

// Depth Peeling
//VTK::DepthPeeling::Dec

// picking support
//VTK::Picking::Dec

// the output of this shader
//VTK::Output::Dec

// Apple Bug
//VTK::PrimID::Dec

void main()
{
  // Apple Bug
  //VTK::PrimID::Impl

  //VTK::Color::Impl
  //VTK::TCoord::Impl

  //VTK::DepthPeeling::Impl
  //VTK::Picking::Impl

  if (gl_FragData[0].a <= 0.0)
    {
    discard;
    }
}
`,Z8=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyData2DVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

// all variables that represent positions or directions have a suffix
// indicating the coordinate system they are in. The possible values are
// MC - Model Coordinates
// WC - WC world coordinates
// VC - View Coordinates
// DC - Display Coordinates

in vec4 vertexWC;

// frag position in VC
//VTK::PositionVC::Dec

// material property values
//VTK::Color::Dec

// Texture coordinates
//VTK::TCoord::Dec

// Apple Bug
//VTK::PrimID::Dec

uniform mat4 WCVCMatrix;  // World to view matrix

void main()
{
  // Apple Bug
  //VTK::PrimID::Impl

  gl_Position = WCVCMatrix*vertexWC;

  //VTK::TCoord::Impl

  //VTK::Color::Impl

  //VTK::PositionVC::Impl
}
`,gh={BACKGROUND:0,FOREGROUND:1},dh={DisplayLocation:gh},ir=Zr.primTypes,Ri=vh.ScalarMode,ki=Ne,Q8={type:"StartEvent"},e6={type:"EndEvent"};function t6(t,e){e.classHierarchy.push("vtkOpenGLPolyDataMapper2D"),t.buildPass=function(r){r&&(e.openGLActor2D=t.getFirstAncestorOfType("vtkOpenGLActor2D"),e._openGLRenderer=e.openGLActor2D.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.openGLCamera=e._openGLRenderer.getViewNodeFor(e._openGLRenderer.getRenderable().getActiveCamera()))},t.overlayPass=function(r){r&&t.render()},t.getShaderTemplate=function(r,n,i){var u=e.renderable.getViewSpecificProperties().OpenGL,o=Z8;if(u){var f=u.VertexShaderCode;f!==void 0&&f!==""&&(o=f)}r.Vertex=o;var s=J8;if(u){var l=u.FragmentShaderCode;l!==void 0&&l!==""&&(s=l)}r.Fragment=s;var c="";if(u){var p=u.GeometryShaderCode;p!==void 0&&(c=p)}r.Geometry=c},t.render=function(){var r=e._openGLRenderWindow.getContext();if(e.context!==r){e.context=r;for(var n=ir.Start;n<ir.End;n++)e.primitives[n].setOpenGLRenderWindow(e._openGLRenderWindow)}var i=e.openGLActor2D.getRenderable(),u=e._openGLRenderer.getRenderable();t.renderPiece(u,i)},t.renderPiece=function(r,n){if(t.invokeEvent(Q8),e.renderable.getStatic()||e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent(e6),!e.currentInput){ki("No input!");return}!e.currentInput.getPoints||!e.currentInput.getPoints().getNumberOfValues()||(t.renderPieceStart(r,n),t.renderPieceDraw(r,n),t.renderPieceFinish(r,n))},t.renderPieceStart=function(r,n){if(e.primitiveIDOffset=0,e._openGLRenderer.getSelector())switch(e._openGLRenderer.getSelector().getCurrentPass()){default:e._openGLRenderer.getSelector().renderProp(n)}t.updateBufferObjects(r,n),e.lastBoundBO=null},t.getNeedToRebuildShaders=function(r,n,i){return r.getShaderSourceTime().getMTime()<e.renderable.getMTime()||r.getShaderSourceTime().getMTime()<e.currentInput.getMTime()},t.updateBufferObjects=function(r,n){t.getNeedToRebuildBufferObjects(r,n)&&t.buildBufferObjects(r,n)},t.getNeedToRebuildBufferObjects=function(r,n){var i=e.VBOBuildTime.getMTime();return!!(i<t.getMTime()||i<e._openGLRenderWindow.getMTime()||i<e.renderable.getMTime()||i<n.getMTime()||i<e.currentInput.getMTime()||e.renderable.getTransformCoordinate()&&i<r.getMTime())},t.buildBufferObjects=function(r,n){var i=e.currentInput;if(i!==null){e.renderable.mapScalars(i,n.getProperty().getOpacity());var u=e.renderable.getColorMapColors();e.haveCellScalars=!1;var o=e.renderable.getScalarMode();e.renderable.getScalarVisibility()&&(o===Ri.USE_CELL_DATA||o===Ri.USE_CELL_FIELD_DATA||o===Ri.USE_FIELD_DATA||!i.getPointData().getScalars())&&o!==Ri.USE_POINT_FIELD_DATA&&u&&(e.haveCellScalars=!0);var f=n.getProperty().getRepresentation(),s=i.getPointData().getTCoords();e.openGLActor2D.getActiveTextures()||(s=null);var l=e.renderable.getTransformCoordinate(),c=r.getRenderWindow().getViews()[0],p=c.getViewportSize(r),h="".concat(i.getMTime(),"A").concat(f,"B").concat(i.getMTime())+"C".concat(u?u.getMTime():1)+"D".concat(s?s.getMTime():1)+"E".concat(l?r.getMTime():1)+"F".concat(p);if(e.VBOBuildString!==h){var g=i.getPoints();if(l){var y=Yr.newInstance(),m=g.getNumberOfPoints();y.setNumberOfPoints(m);for(var x=[],v=0;v<m;++v){g.getPoint(v,x),l.setValue(x);var d=l.getComputedDoubleViewportValue(r);y.setPoint(v,d[0],d[1],0)}g=y}var w={points:g,tcoords:s,colors:u,cellOffset:0,haveCellScalars:e.haveCellSCalars,customAttributes:e.renderable.getCustomShaderAttributes().map(function(C){return i.getPointData().getArrayByName(C)})};w.cellOffset+=e.primitives[ir.Points].getCABO().createVBO(i.getVerts(),"verts",f,w),w.cellOffset+=e.primitives[ir.Lines].getCABO().createVBO(i.getLines(),"lines",f,w),w.cellOffset+=e.primitives[ir.Tris].getCABO().createVBO(i.getPolys(),"polys",f,w),w.cellOffset+=e.primitives[ir.TriStrips].getCABO().createVBO(i.getStrips(),"strips",f,w),e.VBOBuildTime.modified(),e.VBOBuildString=h}}},t.renderPieceDraw=function(r,n){var i=n.getProperty().getRepresentation(),u=e.context;u.depthMask(!0);for(var o=ir.Start;o<ir.End;o++){var f=e.primitives[o].getCABO();f.getElementCount()&&(e.lastBoundBO=e.primitives[o],e.primitiveIDOffset+=e.primitives[o].drawArrays(r,n,i,t))}},t.renderPieceFinish=function(r,n){e.lastBoundBO&&e.lastBoundBO.getVAO().release()},t.buildShaders=function(r,n,i){t.getShaderTemplate(r,n,i);var u=e.renderable.getViewSpecificProperties().OpenGL,o=null;if(u&&(o=u.ShaderReplacements),o)for(var f=0;f<o.length;f++){var s=o[f];if(s.replaceFirst){var l=s.shaderType,c=r[l],p=ie.substitute(c,s.originalValue,s.replacementValue,s.replaceAll);r[l]=p.result}}if(t.replaceShaderValues(r,n,i),o)for(var h=0;h<o.length;h++){var g=o[h];if(!g.replaceFirst){var y=g.shaderType,m=r[y],x=ie.substitute(m,g.originalValue,g.replacementValue,g.replaceAll);r[y]=x.result}}},t.replaceShaderValues=function(r,n,i){t.replaceShaderColor(r,n,i),t.replaceShaderTCoord(r,n,i),t.replaceShaderPicking(r,n,i),t.replaceShaderPositionVC(r,n,i)},t.replaceShaderColor=function(r,n,i){var u=r.Vertex,o=r.Geometry,f=r.Fragment;e.haveCellScalars&&(f=ie.substitute(f,"//VTK::Color::Dec",["uniform samplerBuffer texture1;"]).result,f=ie.substitute(f,"//VTK::Color::Impl",["gl_FragData[0] = texelFetchBuffer(texture1, gl_PrimitiveID + PrimitiveIDOffset);"]).result),e.lastBoundBO.getCABO().getColorComponents()!==0?(u=ie.substitute(u,"//VTK::Color::Dec",["in vec4 diffuseColor;","out vec4 fcolorVSOutput;"]).result,u=ie.substitute(u,"//VTK::Color::Impl",["fcolorVSOutput = diffuseColor;"]).result,o=ie.substitute(o,"//VTK::Color::Dec",[`in vec4 fcolorVSOutput[];
`,"out vec4 fcolorGSOutput;"]).result,o=ie.substitute(o,"//VTK::Color::Impl",["fcolorGSOutput = fcolorVSOutput[i];"]).result,f=ie.substitute(f,"//VTK::Color::Dec",["in vec4 fcolorVSOutput;"]).result,f=ie.substitute(f,"//VTK::Color::Impl",["gl_FragData[0] = fcolorVSOutput;"]).result):(f=ie.substitute(f,"//VTK::Color::Dec",["uniform vec4 diffuseColor;"]).result,f=ie.substitute(f,"//VTK::Color::Impl",["gl_FragData[0] = diffuseColor;"]).result),r.Vertex=u,r.Geometry=o,r.Fragment=f},t.replaceShaderTCoord=function(r,n,i){if(e.lastBoundBO.getCABO().getTCoordOffset()){var u=r.Vertex,o=r.Geometry,f=r.Fragment,s=e.lastBoundBO.getCABO().getTCoordComponents();s===1?(u=ie.substitute(u,"//VTK::TCoord::Dec",["in float tcoordMC;","out float tcoordVCVSOutput;"]).result,u=ie.substitute(u,"//VTK::TCoord::Impl",["tcoordVCVSOutput = tcoordMC;"]).result,o=ie.substitute(o,"//VTK::TCoord::Dec",[`in float tcoordVCVSOutput[];
`,"out float tcoordVCGSOutput;"]).result,o=ie.substitute(o,["//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];"]).result,f=ie.substitute(f,"//VTK::TCoord::Dec",["in float tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,f=ie.substitute(f,"//VTK::TCoord::Impl",["gl_FragData[0] = gl_FragData[0]*texture2D(texture1, vec2(tcoordVCVSOutput,0));"]).result):s===2&&(u=ie.substitute(u,"//VTK::TCoord::Dec",["in vec2 tcoordMC;","out vec2 tcoordVCVSOutput;"]).result,u=ie.substitute(u,"//VTK::TCoord::Impl",["tcoordVCVSOutput = tcoordMC;"]).result,o=ie.substitute(o,"//VTK::TCoord::Dec",[`in vec2 tcoordVCVSOutput[];
`,"out vec2 tcoordVCGSOutput;"]).result,o=ie.substitute(o,"//VTK::TCoord::Impl",["tcoordVCGSOutput = tcoordVCVSOutput[i];"]).result,f=ie.substitute(f,"//VTK::TCoord::Dec",["in vec2 tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,f=ie.substitute(f,"//VTK::TCoord::Impl",["gl_FragData[0] = gl_FragData[0]*texture2D(texture1, tcoordVCVSOutput.st);"]).result),e.haveCellScalars&&(o=ie.substitute(o,"//VTK::PrimID::Impl",["gl_PrimitiveID = gl_PrimitiveIDIn;"]).result),r.Vertex=u,r.Geometry=o,r.Fragment=f}},t.replaceShaderPicking=function(r,n,i){var u=r.Fragment;u=ie.substitute(u,"//VTK::Picking::Dec",["uniform vec3 mapperIndex;","uniform int picking;"]).result,u=ie.substitute(u,"//VTK::Picking::Impl","  gl_FragData[0] = picking != 0 ? vec4(mapperIndex,1.0) : gl_FragData[0];").result,r.Fragment=u},t.replaceShaderPositionVC=function(r,n,i){e.lastBoundBO.replaceShaderPositionVC(r,n,i)},t.invokeShaderCallbacks=function(r,n,i){var u=e.renderable.getViewSpecificProperties().ShadersCallbacks;u&&u.forEach(function(o){o.callback(o.userData,r,n,i)})},t.setMapperShaderParameters=function(r,n,i){if(r.getProgram().isUniformUsed("PrimitiveIDOffset")&&r.getProgram().setUniformi("PrimitiveIDOffset",e.primitiveIDOffset),r.getProgram().isAttributeUsed("vertexWC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"vertexWC",r.getCABO().getVertexOffset(),r.getCABO().getStride(),e.context.FLOAT,3,!1)||ki("Error setting vertexWC in shader VAO.")),r.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())){e.renderable.getCustomShaderAttributes().forEach(function(p,h){r.getProgram().isAttributeUsed("".concat(p,"MC"))&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"".concat(p,"MC"),r.getCABO().getCustomData()[h].offset,r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getCustomData()[h].components,!1)||ki("Error setting ".concat(p,"MC in shader VAO.")))}),r.getProgram().isAttributeUsed("tcoordMC")&&r.getCABO().getTCoordOffset()?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"tcoordMC",r.getCABO().getTCoordOffset(),r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getTCoordComponents(),!1)||ki("Error setting tcoordMC in shader VAO."):r.getVAO().removeAttributeArray("tcoordMC"),e.internalColorTexture&&r.getProgram().isUniformUsed("texture1")&&r.getProgram().setUniformi("texture1",e.internalColorTexture.getTextureUnit());var u=e.openGLActor2D.getActiveTextures();if(u)for(var o=0;o<u.length;++o){var f=u[o],s=f.getTextureUnit(),l="texture".concat(s+1);r.getProgram().isUniformUsed(l)&&r.getProgram().setUniformi(l,s)}r.setMapperShaderParameters(n,i,e._openGLRenderer.getTiledSizeAndOrigin());var c=e._openGLRenderer.getSelector();r.getProgram().setUniform3fArray("mapperIndex",c?c.getPropColorValue():[0,0,0]),r.getProgram().setUniformi("picking",c?c.getCurrentPass()+1:0)}},t.setPropertyShaderParameters=function(r,n,i){var u=e.renderable.getColorMapColors();if(!u||u.getNumberOfComponents()===0){var o=r.getProgram(),f=i.getProperty(),s=f.getOpacity(),l=f.getColor(),c=[l[0],l[1],l[2],s];o.setUniform4f("diffuseColor",c)}},t.setLightingShaderParameters=function(r,n,i){};function a(r,n,i){return n.identity(i),r.reduce(function(u,o,f){return f===0?o?n.copy(u,o):n.identity(u):o?n.multiply(u,u,o):u},i)}t.setCameraShaderParameters=function(r,n,i){var u=r.getProgram(),o=r.getCABO().getCoordShiftAndScaleEnabled(),f=o?r.getCABO().getInverseShiftAndScaleMatrix():null,s=n.getRenderWindow().getViews()[0],l=s.getViewportSize(n),c=n.getViewport(),p=i.getActualPositionCoordinate().getComputedDoubleViewportValue(n),h=[0,0,1,1],g=[0,0,1,1];if(g[0]=c[0]>=h[0]?c[0]:h[0],g[1]=c[1]>=h[1]?c[1]:h[1],g[2]=c[2]<=h[2]?c[2]:h[2],g[3]=c[3]<=h[3]?c[3]:h[3],!(g[0]>=g[2])&&!(g[1]>=g[3])){l[0]=Xr(l[0]*(g[2]-g[0])/(c[2]-c[0])),l[1]=Xr(l[1]*(g[3]-g[1])/(c[3]-c[1]));var y=e._openGLRenderer.getParent().getSize(),m=Xr(p[0]-(g[0]-c[0])*y[0]),x=Xr(p[1]-(g[1]-c[1])*y[1]),v=-m,d=-m+l[0],w=-x,C=-x+l[1];v===d&&(d=v+1),w===C&&(C=w+1);var S=be(new Float64Array(16));S[0]=2/(d-v),S[1*4+1]=2/(C-w),S[0*4+3]=-1*(d+v)/(d-v),S[1*4+3]=-1*(C+w)/(C-w),S[2*4+2]=0,S[2*4+3]=i.getProperty().getDisplayLocation()===gh.FOREGROUND?-1:1,S[3*4+3]=1,Ke(S,S),u.setUniformMatrix("WCVCMatrix",a([S,f],qs,e.tmpMat4))}}}var r6={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null};function n6(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,r6,a),Rt.extend(t,e,a),ou.implementReplaceShaderCoincidentOffset(t,e,a),e.primitives=[],e.primTypes=ir,e.tmpMat4=be(new Float64Array(16));for(var r=ir.Start;r<ir.End;r++)e.primitives[r]=Zr.newInstance(),e.primitives[r].setPrimitiveType(r),e.primitives[r].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:!1},!0);Tt(t,e,["context"]),e.VBOBuildTime={},vt(e.VBOBuildTime,{mtime:0}),t6(t,e)}var a6=ot(n6,"vtkOpenGLPolyDataMapper2D");kt("vtkMapper2D",a6);function wf(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function Rr(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?wf(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):wf(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var i6=Ko.VectorMode;function Es(t,e){t.strokeStyle=e.strokeColor,t.lineWidth=e.strokeSize,t.fillStyle=e.fontColor,t.font="".concat(e.fontStyle," ").concat(e.fontSize,"px ").concat(e.fontFamily)}function yh(t,e){return function(a){var r=a.getLastSize(),n=Math.pow(r[0]/700,.8),i=Math.pow(r[1]/700,.8),u=Math.min(n,i),o=a.getAxisTextStyle(),f=a.getTickTextStyle();Object.assign(o,e.axisTextStyle),Object.assign(f,e.tickTextStyle),o.fontSize=Math.max(24*u,12),a.getLastAspectRatio()>1?f.fontSize=Math.max(20*u,10):f.fontSize=Math.max(16*u,10);var s=a.updateTextureAtlas();a.setTopTitle(!1);var l=a.getBoxSizeByReference();if(a.getLastAspectRatio()>1)a.setTickLabelPixelOffset(.3*f.fontSize),s.titleWidth<=s.tickWidth+a.getTickLabelPixelOffset()+.8*f.fontSize?(a.setTopTitle(!0),a.setAxisTitlePixelOffset(.2*f.fontSize),l[0]=2*(s.tickWidth+a.getTickLabelPixelOffset()+.8*f.fontSize)/r[0],a.setBoxPosition([.98-l[0],-.92])):(a.setAxisTitlePixelOffset(.2*f.fontSize),l[0]=2*(s.titleHeight+a.getAxisTitlePixelOffset()+s.tickWidth+a.getTickLabelPixelOffset()+.8*f.fontSize)/r[0],a.setBoxPosition([.99-l[0],-.92])),l[1]=Math.max(1.2,Math.min(1.84/i,1.84));else{a.setAxisTitlePixelOffset(1.2*f.fontSize),a.setTickLabelPixelOffset(.1*f.fontSize);var c=2*(.8*f.fontSize+s.titleHeight+a.getAxisTitlePixelOffset())/r[1],p=2*s.tickWidth/r[0];l[0]=Math.min(1.9,Math.max(1.4,1.4*p*(a.getTicks().length+3))),l[1]=c,a.setBoxPosition([-.5*l[0],-.97])}a.recomputeBarSegments(s)}}function mh(t,e){return function(a){var r=a.getLastTickBounds(),n=pu().domain([r[0],r[1]]),i=n.ticks(5),u=n.tickFormat(5);a.setTicks(i),a.setTickStrings(i.map(u))}}function o6(t,e){e.classHierarchy.push("vtkScalarBarActorHelper"),t.setRenderable=function(n){e.renderable!==n&&(e.renderable=n,e.barActor.setProperty(n.getProperty()),e.barActor.setParentProp(n),e.barActor.setCoordinateSystemToDisplay(),e.tmActor.setProperty(n.getProperty()),e.tmActor.setParentProp(n),e.tmActor.setCoordinateSystemToDisplay(),e.generateTicks=n.generateTicks,e.axisTextStyle=Rr({},n.getAxisTextStyle()),e.tickTextStyle=Rr({},n.getTickTextStyle()),t.modified())},t.updateAPISpecificData=function(n,i,u){(e.lastSize[0]!==n[0]||e.lastSize[1]!==n[1])&&(e.lastSize[0]=n[0],e.lastSize[1]=n[1],e.lastAspectRatio=n[0]/n[1],e.forceUpdate=!0);var o=e.renderable.getScalarsToColors();if(!(!o||!e.renderable.getVisibility())&&(e.barMapper.setLookupTable(o),e.camera=i,e.renderWindow=u,e.forceUpdate||Math.max(o.getMTime(),t.getMTime(),e.renderable.getMTime())>e.lastRebuildTime.getMTime())){var f=o.getMappingRange();if(e.lastTickBounds=de(f),e.renderable.getGenerateTicks()(t),e.renderable.getAutomated())e.renderable.getAutoLayout()(t);else{e.axisTextStyle=Rr({},e.renderable.getAxisTextStyle()),e.tickTextStyle=Rr({},e.renderable.getTickTextStyle()),e.barPosition=de(e.renderable.getBarPosition()),e.barSize=de(e.renderable.getBarSize()),e.boxPosition=de(e.renderable.getBoxPosition()),e.boxSize=de(e.renderable.getBoxSize()),e.axisTitlePixelOffset=e.renderable.getAxisTitlePixelOffset(),e.tickLabelPixelOffset=e.renderable.getTickLabelPixelOffset();var s=t.updateTextureAtlas();t.recomputeBarSegments(s)}t.updatePolyDataForLabels(),t.updatePolyDataForBarSegments(),e.lastRebuildTime.modified(),e.forceUpdate=!1}},t.updateTextureAtlas=function(){e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left";var n={},i=new Map,u=0,o=1;Es(e.tmContext,e.axisTextStyle);var f=e.tmContext.measureText(e.renderable.getAxisLabel()),s={height:f.actualBoundingBoxAscent+2,startingHeight:o,width:f.width+2,textStyle:e.axisTextStyle};i.set(e.renderable.getAxisLabel(),s),o+=s.height,u=s.width,n.titleWidth=s.width,n.titleHeight=s.height,n.tickWidth=0,n.tickHeight=0,Es(e.tmContext,e.tickTextStyle);for(var l=[].concat(de(t.getTickStrings()),["NaN","Below","Above"]),c=0;c<l.length;c++)i.has(l[c])||(f=e.tmContext.measureText(l[c]),s={height:f.actualBoundingBoxAscent+2,startingHeight:o,width:f.width+2,textStyle:e.tickTextStyle},i.set(l[c],s),o+=s.height,u<s.width&&(u=s.width),n.tickWidth<s.width&&(n.tickWidth=s.width),n.tickHeight<s.height&&(n.tickHeight=s.height));return u=sr(u),o=sr(o),i.forEach(function(p){p.tcoords=[0,(o-p.startingHeight-p.height)/o,p.width/u,(o-p.startingHeight-p.height)/o,p.width/u,(o-p.startingHeight)/o,0,(o-p.startingHeight)/o]}),e.tmCanvas.width=u,e.tmCanvas.height=o,e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left",e.tmContext.clearRect(0,0,u,o),i.forEach(function(p,h){Es(e.tmContext,p.textStyle),e.tmContext.fillText(h,1,p.startingHeight+p.height-1)}),e.tmTexture.setCanvas(e.tmCanvas),e.tmTexture.modified(),e._tmAtlas=i,n},t.computeBarSize=function(n){e.vertical=e.boxSize[1]>e.boxSize[0];var i=2*n.tickHeight/e.lastSize[1],u=[1,1];if(e.vertical){var o=2*(n.tickWidth+e.tickLabelPixelOffset)/e.lastSize[0];if(e.topTitle){var f=2*(n.titleHeight+e.axisTitlePixelOffset)/e.lastSize[1];e.barSize[0]=e.boxSize[0]-o,e.barSize[1]=e.boxSize[1]-f}else{var s=2*(n.titleHeight+e.axisTitlePixelOffset)/e.lastSize[0];e.barSize[0]=e.boxSize[0]-s-o,e.barSize[1]=e.boxSize[1]}e.barPosition[0]=e.boxPosition[0]+o,e.barPosition[1]=e.boxPosition[1],u[1]=i}else{var l=(2*n.tickWidth-8)/e.lastSize[0],c=2*(n.titleHeight+e.axisTitlePixelOffset)/e.lastSize[1];e.barSize[0]=e.boxSize[0],e.barPosition[0]=e.boxPosition[0],e.barSize[1]=e.boxSize[1]-c,e.barPosition[1]=e.boxPosition[1],u[0]=l}return u},t.recomputeBarSegments=function(n){var i,u,o,f,s=t.computeBarSize(n);e.barSegments=[];var l=[0,0],c=e.vertical?1:0,p=e.vertical?.01:.02;function h(m,x){e.barSegments.push({corners:[[].concat(l),[l[0]+s[0],l[1]],[l[0]+s[0],l[1]+s[1]],[l[0],l[1]+s[1]]],scalars:x,title:m}),l[c]+=s[c]+p}e.renderable.getDrawNanAnnotation()&&e.renderable.getScalarsToColors().getNanColor()&&h("NaN",[NaN,NaN,NaN,NaN]),e.renderable.getDrawBelowRangeSwatch()&&(i=(u=e.renderable.getScalarsToColors()).getUseBelowRangeColor)!==null&&i!==void 0&&i.call(u)&&h("Below",[-.1,-.1,-.1,-.1]);var g=(o=(f=e.renderable.getScalarsToColors()).getUseAboveRangeColor)===null||o===void 0?void 0:o.call(f);l[c]+=p;var y=s[c];s[c]=g?1-2*p-s[c]-l[c]:1-p-l[c],h("ticks",e.vertical?[0,0,.995,.995]:[0,.995,.995,0]),e.renderable.getDrawAboveRangeSwatch()&&g&&(s[c]=y,l[c]+=p,h("Above",[1.1,1.1,1.1,1.1]))};var a=new Float64Array(3);t.createPolyDataForOneLabel=function(n,i,u,o,f,s){var l=e._tmAtlas.get(n);if(!!l){var c=s.ptIdx,p=s.cellIdx;a[0]=(.5*i[0]+.5)*e.lastSize[0],a[1]=(.5*i[1]+.5)*e.lastSize[1],a[2]=i[2],a[0]+=f[0],a[1]+=f[1];var h=[],g=o==="vertical"?[1,0]:[0,1];o==="vertical"?(h[0]=l.width,h[1]=-l.height,u[0]==="middle"?a[1]-=l.width/2:u[0]==="right"&&(a[1]-=l.width),u[1]==="middle"?a[0]+=l.height/2:u[1]==="top"&&(a[0]+=l.height)):(h[0]=l.width,h[1]=l.height,u[0]==="middle"?a[0]-=l.width/2:u[0]==="right"&&(a[0]-=l.width),u[1]==="middle"?a[1]-=l.height/2:u[1]==="top"&&(a[1]-=l.height)),s.points[c*3]=a[0],s.points[c*3+1]=a[1],s.points[c*3+2]=a[2],s.tcoords[c*2]=l.tcoords[0],s.tcoords[c*2+1]=l.tcoords[1],c++,a[g[0]]+=h[0],s.points[c*3]=a[0],s.points[c*3+1]=a[1],s.points[c*3+2]=a[2],s.tcoords[c*2]=l.tcoords[2],s.tcoords[c*2+1]=l.tcoords[3],c++,a[g[1]]+=h[1],s.points[c*3]=a[0],s.points[c*3+1]=a[1],s.points[c*3+2]=a[2],s.tcoords[c*2]=l.tcoords[4],s.tcoords[c*2+1]=l.tcoords[5],c++,a[g[0]]-=h[0],s.points[c*3]=a[0],s.points[c*3+1]=a[1],s.points[c*3+2]=a[2],s.tcoords[c*2]=l.tcoords[6],s.tcoords[c*2+1]=l.tcoords[7],c++,s.polys[p*4]=3,s.polys[p*4+1]=c-4,s.polys[p*4+2]=c-3,s.polys[p*4+3]=c-2,p++,s.polys[p*4]=3,s.polys[p*4+1]=c-4,s.polys[p*4+2]=c-2,s.polys[p*4+3]=c-1,s.ptIdx+=4,s.cellIdx+=2}};var r=new Float64Array(3);t.updatePolyDataForLabels=function(){var n=t.getTickStrings().length+e.barSegments.length,i=n*4,u=n*2,o=new Float64Array(i*3),f=new Uint16Array(u*4),s=new Float32Array(i*2),l={ptIdx:0,cellIdx:0,polys:f,points:o,tcoords:s},c=e.vertical?0:1,p=e.vertical?1:0;r[2]=-.99;var h=e.vertical?["right","middle"]:["middle","bottom"],g=[0,1],y=[0,0];e.vertical?(y[0]=-e.tickLabelPixelOffset,e.topTitle?(r[0]=e.boxPosition[0]+.5*e.boxSize[0],r[1]=e.barPosition[1]+e.barSize[1],t.createPolyDataForOneLabel(e.renderable.getAxisLabel(),r,["middle","bottom"],"horizontal",[0,e.axisTitlePixelOffset],l)):(r[0]=e.barPosition[0]+e.barSize[0],r[1]=e.barPosition[1]+.5*e.barSize[1],t.createPolyDataForOneLabel(e.renderable.getAxisLabel(),r,["middle","top"],"vertical",[e.axisTitlePixelOffset,0],l)),g=[-1,0]):(y[1]=e.tickLabelPixelOffset,r[0]=e.barPosition[0]+.5*e.barSize[0],r[1]=e.barPosition[1]+e.barSize[1],t.createPolyDataForOneLabel(e.renderable.getAxisLabel(),r,["middle","bottom"],"horizontal",[0,e.axisTitlePixelOffset],l)),r[c]=e.barPosition[c]+(.5*g[c]+.5)*e.barSize[c],r[p]=e.barPosition[p]+e.barSize[p]*.5;for(var m=null,x=0;x<e.barSegments.length;x++){var v=e.barSegments[x];v.title==="ticks"?m=v:(r[p]=e.barPosition[p]+.5*e.barSize[p]*(v.corners[2][p]+v.corners[0][p]),t.createPolyDataForOneLabel(v.title,r,h,"horizontal",y,l))}for(var d=e.barPosition[p]+e.barSize[p]*m.corners[0][p],w=e.barSize[p]*(m.corners[2][p]-m.corners[0][p]),C=t.getTicks(),S=t.getTickStrings(),T=0;T<C.length;T++){var _=(C[T]-e.lastTickBounds[0])/(e.lastTickBounds[1]-e.lastTickBounds[0]);r[p]=d+w*_,t.createPolyDataForOneLabel(S[T],r,h,"horizontal",y,l)}var D=we.newInstance({numberOfComponents:2,values:s,name:"TextureCoordinates"});e.tmPolyData.getPointData().setTCoords(D),e.tmPolyData.getPoints().setData(o,3),e.tmPolyData.getPoints().modified(),e.tmPolyData.getPolys().setData(f,1),e.tmPolyData.getPolys().modified(),e.tmPolyData.modified()},t.updatePolyDataForBarSegments=function(){var n,i,u=e.renderable.getScalarsToColors(),o=0;e.renderable.getDrawNanAnnotation()&&u.getNanColor()&&(o+=1),e.renderable.getDrawBelowRangeSwatch()&&(n=u.getUseBelowRangeColor)!==null&&n!==void 0&&n.call(u)&&(o+=1),e.renderable.getDrawAboveRangeSwatch()&&(i=u.getUseAboveRangeColor)!==null&&i!==void 0&&i.call(u)&&(o+=1);var f=4*(1+o),s=f,l=1;u.getVectorMode()===i6.COMPONENT&&(l=u.getVectorComponent()+1);for(var c=new Float64Array(f*3),p=new Uint16Array(s*5),h=new Float32Array(f*l),g=0,y=0,m=0;m<e.barSegments.length;m++){for(var x=e.barSegments[m],v=0;v<4;v++){r[0]=e.barPosition[0]+x.corners[v][0]*e.barSize[0],r[1]=e.barPosition[1]+x.corners[v][1]*e.barSize[1],c[g*3]=(.5*r[0]+.5)*e.lastSize[0],c[g*3+1]=(.5*r[1]+.5)*e.lastSize[1],c[g*3+2]=r[2];for(var d=0;d<l;d++)h[g*l+d]=e.lastTickBounds[0]+x.scalars[v]*(e.lastTickBounds[1]-e.lastTickBounds[0]);g++}p[y*5]=4,p[y*5+1]=g-4,p[y*5+2]=g-3,p[y*5+3]=g-2,p[y*5+4]=g-1,y++}var w=we.newInstance({numberOfComponents:l,values:h,name:"Scalars"});e.polyData.getPointData().setScalars(w),e.polyData.getPoints().setData(c,3),e.polyData.getPoints().modified(),e.polyData.getPolys().setData(p,1),e.polyData.getPolys().modified(),e.polyData.modified()}}var s6=U.newInstance(function(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{renderable:null};Object.assign(e,{},a),U.obj(t,e),U.setGet(t,e,["axisTitlePixelOffset","tickLabelPixelOffset","renderable","topTitle","ticks","tickStrings"]),U.get(t,e,["lastSize","lastAspectRatio","lastTickBounds","axisTextStyle","tickTextStyle","barActor","tmActor"]),U.getArray(t,e,["boxPosition","boxSize"]),U.setArray(t,e,["boxPosition","boxSize"],2),e.forceUpdate=!1,e.lastRebuildTime={},U.obj(e.lastRebuildTime,{mtime:0}),e.lastSize=[-1,-1],e.tmCanvas=document.createElement("canvas"),e.tmContext=e.tmCanvas.getContext("2d"),e._tmAtlas=new Map,e.barMapper=qr.newInstance(),e.barMapper.setInterpolateScalarsBeforeMapping(!0),e.barMapper.setUseLookupTableScalarRange(!0),e.polyData=et.newInstance(),e.barMapper.setInputData(e.polyData),e.barActor=Ar.newInstance(),e.barActor.setMapper(e.barMapper),e.tmPolyData=et.newInstance(),e.tmMapper=qr.newInstance(),e.tmMapper.setInputData(e.tmPolyData),e.tmTexture=ch.newInstance({resizable:!0}),e.tmTexture.setInterpolate(!1),e.tmActor=Ar.newInstance({parentProp:t}),e.tmActor.setMapper(e.tmMapper),e.tmActor.addTexture(e.tmTexture),e.barPosition=[0,0],e.barSize=[0,0],e.boxPosition=[.88,-.92],e.boxSize=[.1,1.1],e.lastTickBounds=[],o6(t,e)},"vtkScalarBarActorHelper");function u6(t,e){e.classHierarchy.push("vtkScalarBarActor"),t.setTickTextStyle=function(a){e.tickTextStyle=Rr(Rr({},e.tickTextStyle),a),t.modified()},t.setAxisTextStyle=function(a){e.axisTextStyle=Rr(Rr({},e.axisTextStyle),a),t.modified()},t.resetAutoLayoutToDefault=function(){t.setAutoLayout(yh(t,e))},t.resetGenerateTicksToDefault=function(){t.setGenerateTicks(mh())}}function c6(t){return Rr({automated:!0,autoLayout:null,axisLabel:"Scalar Value",barPosition:[0,0],barSize:[0,0],boxPosition:[.88,-.92],boxSize:[.1,1.1],scalarToColors:null,axisTitlePixelOffset:36,axisTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:18,fontFamily:"serif"},tickLabelPixelOffset:14,tickTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:14,fontFamily:"serif"},generateTicks:null,drawNanAnnotation:!0,drawBelowRangeSwatch:!0,drawAboveRangeSwatch:!0},t)}function xh(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,c6(a)),e.autoLayout||(e.autoLayout=yh(t,e)),e.generateTicks||(e.generateTicks=mh()),Ar.extend(t,e,a),t.getProperty().setDiffuse(0),t.getProperty().setAmbient(1),U.setGet(t,e,["automated","autoLayout","axisTitlePixelOffset","axisLabel","scalarsToColors","tickLabelPixelOffset","generateTicks","drawNanAnnotation","drawBelowRangeSwatch","drawAboveRangeSwatch"]),U.get(t,e,["axisTextStyle","tickTextStyle"]),U.getArray(t,e,["barPosition","barSize","boxPosition","boxSize"]),U.setArray(t,e,["barPosition","barSize","boxPosition","boxSize"],2),u6(t,e)}var f6=U.newInstance(xh,"vtkScalarBarActor"),wh={newInstance:f6,extend:xh,newScalarBarActorHelper:s6};function l6(t,e){e.classHierarchy.push("vtkOpenGLScalarBarActor"),t.buildPass=function(a){a&&(e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.scalarBarActorHelper.getRenderable()||e.scalarBarActorHelper.setRenderable(e.renderable),t.prepareNodes(),t.addMissingNode(e.scalarBarActorHelper.getBarActor()),t.addMissingNode(e.scalarBarActorHelper.getTmActor()),t.removeUnusedNodes())},t.opaquePass=function(a,r){if(a){var n=e._openGLRenderer?e._openGLRenderer.getRenderable().getActiveCamera():null,i=e._openGLRenderer.getTiledSizeAndOrigin();e.scalarBarActorHelper.updateAPISpecificData([i.usize,i.vsize],n,e._openGLRenderWindow.getRenderable())}}}var p6={};function h6(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,p6,a),Rt.extend(t,e,a),e.scalarBarActorHelper=wh.newScalarBarActorHelper(),l6(t,e)}var v6=ot(h6,"vtkOpenGLScalarBarActor");kt("vtkScalarBarActor",v6);var Cf=Ne;function g6(t,e){e.classHierarchy.push("vtkOpenGLSkybox"),t.buildPass=function(a){if(a){e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLTexture.setOpenGLRenderWindow(e._openGLRenderWindow);var r=e._openGLRenderer.getRenderable();e.openGLCamera=e._openGLRenderer.getViewNodeFor(r.getActiveCamera())}},t.queryPass=function(a,r){if(a){if(!e.renderable||!e.renderable.getVisibility())return;r.incrementOpaqueActorCount()}},t.opaquePass=function(a,r){if(a&&!e._openGLRenderer.getSelector()){t.updateBufferObjects(),e.context.depthMask(!0),e._openGLRenderWindow.getShaderCache().readyShaderProgram(e.tris.getProgram()),e.openGLTexture.render(e._openGLRenderWindow);var n=e.openGLTexture.getTextureUnit();e.tris.getProgram().setUniformi("sbtexture",n);var i=e._openGLRenderer.getRenderable(),u=e.openGLCamera.getKeyMatrices(i),o=new Float64Array(16);if(Zt(o,u.wcpc),e.tris.getProgram().setUniformMatrix("IMCPCMatrix",o),e.lastFormat==="box"){var f=i.getActiveCamera().getPosition();e.tris.getProgram().setUniform3f("camPos",f[0],f[1],f[2])}e.tris.getVAO().bind(),e.context.drawArrays(e.context.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release(),e.openGLTexture.deactivate()}},t.updateBufferObjects=function(){if(!e.tris.getCABO().getElementCount()){for(var a=new Float32Array(12),r=0;r<4;r++)a[r*3]=r%2*2-1,a[r*3+1]=r>1?1:-1,a[r*3+2]=1;var n=we.newInstance({numberOfComponents:3,values:a});n.setName("points");var i=new Uint16Array(8);i[0]=3,i[1]=0,i[2]=1,i[3]=3,i[4]=3,i[5]=0,i[6]=3,i[7]=2;var u=we.newInstance({numberOfComponents:1,values:i});e.tris.getCABO().createVBO(u,"polys",Pt.SURFACE,{points:n,cellOffset:0})}e.renderable.getFormat()!==e.lastFormat&&(e.lastFormat=e.renderable.getFormat(),e.lastFormat==="box"&&e.tris.setProgram(e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(`//VTK::System::Dec
             attribute vec3 vertexMC;
             uniform mat4 IMCPCMatrix;
             varying vec3 TexCoords;
             void main () {
              gl_Position = vec4(vertexMC.xyz, 1.0);
              vec4 wpos = IMCPCMatrix * gl_Position;
              TexCoords = wpos.xyz/wpos.w;
             }`,`//VTK::System::Dec
             //VTK::Output::Dec
             varying vec3 TexCoords;
             uniform samplerCube sbtexture;
             uniform vec3 camPos;
             void main () {
               // skybox looks from inside out
               // which means we have to adjust
               // our tcoords. Otherwise text would
               // be flipped
               vec3 tc = normalize(TexCoords - camPos);
               if (abs(tc.z) < max(abs(tc.x),abs(tc.y)))
               {
                 tc = vec3(1.0, 1.0, -1.0) * tc;
               }
               else
               {
                 tc = vec3(-1.0, 1.0, 1.0) * tc;
               }
               gl_FragData[0] = textureCube(sbtexture, tc);
             }`,"")),e.lastFormat==="background"&&e.tris.setProgram(e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(`//VTK::System::Dec
             attribute vec3 vertexMC;
             uniform mat4 IMCPCMatrix;
             varying vec2 TexCoords;
             void main () {
              gl_Position = vec4(vertexMC.xyz, 1.0);
              vec4 wpos = IMCPCMatrix * gl_Position;
              TexCoords = vec2(vertexMC.x, vertexMC.y)*0.5 + 0.5;
             }`,`//VTK::System::Dec
             //VTK::Output::Dec
             varying vec2 TexCoords;
             uniform sampler2D sbtexture;
             void main () {
               gl_FragData[0] = texture2D(sbtexture, TexCoords);
             }`,"")),e.tris.getShaderSourceTime().modified(),e.tris.getVAO().bind(),e.tris.getVAO().addAttributeArray(e.tris.getProgram(),e.tris.getCABO(),"vertexMC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||Cf("Error setting vertexMC in shader VAO."));var o=e.renderable.getTextures();o.length||Cf("vtkSkybox requires a texture map"),e.openGLTexture.getRenderable()!==o[0]&&(e.openGLTexture.releaseGraphicsResources(e._openGLRenderWindow),e.openGLTexture.setRenderable(o[0]))}}var d6={context:null};function y6(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,d6,a),Rt.extend(t,e,a),e.openGLTexture=Vt.newInstance(),e.tris=Zr.newInstance(),e.keyMatrixTime={},vt(e.keyMatrixTime,{mtime:0}),e.keyMatrices={normalMatrix:xr(new Float64Array(9)),mcwc:be(new Float64Array(16))},Tt(t,e,["context"]),wr(t,e,["activeTextures"]),g6(t,e)}var m6=ot(y6);kt("vtkSkybox",m6);function Sf(t,e,a,r,n,i,u){try{var o=t[i](u),f=o.value}catch(s){a(s);return}o.done?e(f):Promise.resolve(f).then(r,n)}function ea(t){return function(){var e=this,a=arguments;return new Promise(function(r,n){var i=t.apply(e,a);function u(f){Sf(i,r,n,u,o,"next",f)}function o(f){Sf(i,r,n,u,o,"throw",f)}u(void 0)})}}var Ch={exports:{}};(function(t){var e=function(a){var r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(L,B,$){L[B]=$.value},u,o=typeof Symbol=="function"?Symbol:{},f=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(L,B,$){return Object.defineProperty(L,B,{value:$,enumerable:!0,configurable:!0,writable:!0}),L[B]}try{c({},"")}catch{c=function(B,$,H){return B[$]=H}}function p(L,B,$,H){var X=B&&B.prototype instanceof d?B:d,Z=Object.create(X.prototype),Y=new j(H||[]);return i(Z,"_invoke",{value:N(L,$,Y)}),Z}a.wrap=p;function h(L,B,$){try{return{type:"normal",arg:L.call(B,$)}}catch(H){return{type:"throw",arg:H}}}var g="suspendedStart",y="suspendedYield",m="executing",x="completed",v={};function d(){}function w(){}function C(){}var S={};c(S,f,function(){return this});var T=Object.getPrototypeOf,_=T&&T(T(z([])));_&&_!==r&&n.call(_,f)&&(S=_);var D=C.prototype=d.prototype=Object.create(S);w.prototype=C,i(D,"constructor",{value:C,configurable:!0}),i(C,"constructor",{value:w,configurable:!0}),w.displayName=c(C,l,"GeneratorFunction");function b(L){["next","throw","return"].forEach(function(B){c(L,B,function($){return this._invoke(B,$)})})}a.isGeneratorFunction=function(L){var B=typeof L=="function"&&L.constructor;return B?B===w||(B.displayName||B.name)==="GeneratorFunction":!1},a.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,C):(L.__proto__=C,c(L,l,"GeneratorFunction")),L.prototype=Object.create(D),L},a.awrap=function(L){return{__await:L}};function E(L,B){function $(Z,Y,J,ne){var ee=h(L[Z],L,Y);if(ee.type==="throw")ne(ee.arg);else{var te=ee.arg,k=te.value;return k&&typeof k=="object"&&n.call(k,"__await")?B.resolve(k.__await).then(function(O){$("next",O,J,ne)},function(O){$("throw",O,J,ne)}):B.resolve(k).then(function(O){te.value=O,J(te)},function(O){return $("throw",O,J,ne)})}}var H;function X(Z,Y){function J(){return new B(function(ne,ee){$(Z,Y,ne,ee)})}return H=H?H.then(J,J):J()}i(this,"_invoke",{value:X})}b(E.prototype),c(E.prototype,s,function(){return this}),a.AsyncIterator=E,a.async=function(L,B,$,H,X){X===void 0&&(X=Promise);var Z=new E(p(L,B,$,H),X);return a.isGeneratorFunction(B)?Z:Z.next().then(function(Y){return Y.done?Y.value:Z.next()})};function N(L,B,$){var H=g;return function(Z,Y){if(H===m)throw new Error("Generator is already running");if(H===x){if(Z==="throw")throw Y;return V()}for($.method=Z,$.arg=Y;;){var J=$.delegate;if(J){var ne=R(J,$);if(ne){if(ne===v)continue;return ne}}if($.method==="next")$.sent=$._sent=$.arg;else if($.method==="throw"){if(H===g)throw H=x,$.arg;$.dispatchException($.arg)}else $.method==="return"&&$.abrupt("return",$.arg);H=m;var ee=h(L,B,$);if(ee.type==="normal"){if(H=$.done?x:y,ee.arg===v)continue;return{value:ee.arg,done:$.done}}else ee.type==="throw"&&(H=x,$.method="throw",$.arg=ee.arg)}}}function R(L,B){var $=B.method,H=L.iterator[$];if(H===u)return B.delegate=null,$==="throw"&&L.iterator.return&&(B.method="return",B.arg=u,R(L,B),B.method==="throw")||$!=="return"&&(B.method="throw",B.arg=new TypeError("The iterator does not provide a '"+$+"' method")),v;var X=h(H,L.iterator,B.arg);if(X.type==="throw")return B.method="throw",B.arg=X.arg,B.delegate=null,v;var Z=X.arg;if(!Z)return B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,v;if(Z.done)B[L.resultName]=Z.value,B.next=L.nextLoc,B.method!=="return"&&(B.method="next",B.arg=u);else return Z;return B.delegate=null,v}b(D),c(D,l,"Generator"),c(D,f,function(){return this}),c(D,"toString",function(){return"[object Generator]"});function M(L){var B={tryLoc:L[0]};1 in L&&(B.catchLoc=L[1]),2 in L&&(B.finallyLoc=L[2],B.afterLoc=L[3]),this.tryEntries.push(B)}function G(L){var B=L.completion||{};B.type="normal",delete B.arg,L.completion=B}function j(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(M,this),this.reset(!0)}a.keys=function(L){var B=Object(L),$=[];for(var H in B)$.push(H);return $.reverse(),function X(){for(;$.length;){var Z=$.pop();if(Z in B)return X.value=Z,X.done=!1,X}return X.done=!0,X}};function z(L){if(L){var B=L[f];if(B)return B.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var $=-1,H=function X(){for(;++$<L.length;)if(n.call(L,$))return X.value=L[$],X.done=!1,X;return X.value=u,X.done=!0,X};return H.next=H}}return{next:V}}a.values=z;function V(){return{value:u,done:!0}}return j.prototype={constructor:j,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(G),!L)for(var B in this)B.charAt(0)==="t"&&n.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=u)},stop:function(){this.done=!0;var L=this.tryEntries[0],B=L.completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var B=this;function $(ne,ee){return Z.type="throw",Z.arg=L,B.next=ne,ee&&(B.method="next",B.arg=u),!!ee}for(var H=this.tryEntries.length-1;H>=0;--H){var X=this.tryEntries[H],Z=X.completion;if(X.tryLoc==="root")return $("end");if(X.tryLoc<=this.prev){var Y=n.call(X,"catchLoc"),J=n.call(X,"finallyLoc");if(Y&&J){if(this.prev<X.catchLoc)return $(X.catchLoc,!0);if(this.prev<X.finallyLoc)return $(X.finallyLoc)}else if(Y){if(this.prev<X.catchLoc)return $(X.catchLoc,!0)}else if(J){if(this.prev<X.finallyLoc)return $(X.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(L,B){for(var $=this.tryEntries.length-1;$>=0;--$){var H=this.tryEntries[$];if(H.tryLoc<=this.prev&&n.call(H,"finallyLoc")&&this.prev<H.finallyLoc){var X=H;break}}X&&(L==="break"||L==="continue")&&X.tryLoc<=B&&B<=X.finallyLoc&&(X=null);var Z=X?X.completion:{};return Z.type=L,Z.arg=B,X?(this.method="next",this.next=X.finallyLoc,v):this.complete(Z)},complete:function(L,B){if(L.type==="throw")throw L.arg;return L.type==="break"||L.type==="continue"?this.next=L.arg:L.type==="return"?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):L.type==="normal"&&B&&(this.next=B),v},finish:function(L){for(var B=this.tryEntries.length-1;B>=0;--B){var $=this.tryEntries[B];if($.finallyLoc===L)return this.complete($.completion,$.afterLoc),G($),v}},catch:function(L){for(var B=this.tryEntries.length-1;B>=0;--B){var $=this.tryEntries[B];if($.tryLoc===L){var H=$.completion;if(H.type==="throw"){var X=H.arg;G($)}return X}}throw new Error("illegal catch attempt")},delegateYield:function(L,B,$){return this.delegate={iterator:z(L),resultName:B,nextLoc:$},this.method==="next"&&(this.arg=u),v}},a}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(Ch);var Jt=Ch.exports,x6=Mn.FieldAssociations;function w6(t,e){e.classHierarchy.push("vtkHardwareSelector"),t.getSourceDataAsync=function(){var a=ea(Jt.mark(function r(n,i,u,o,f){return Jt.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:case"end":return l.stop()}},r)}));return function(r,n,i,u,o){return a.apply(this,arguments)}}(),t.selectAsync=function(){var a=ea(Jt.mark(function r(n,i,u,o,f){var s;return Jt.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,t.getSourceDataAsync(n,i,u,o,f);case 2:if(s=c.sent,!s){c.next=5;break}return c.abrupt("return",s.generateSelection(i,u,o,f));case 5:return c.abrupt("return",[]);case 6:case"end":return c.stop()}},r)}));return function(r,n,i,u,o){return a.apply(this,arguments)}}()}var C6={fieldAssociation:x6.FIELD_ASSOCIATION_CELLS,captureZValues:!1};function Sh(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,C6,a),U.obj(t,e),U.setGet(t,e,["fieldAssociation","captureZValues"]),w6(t,e)}var S6=U.newInstance(Sh,"vtkHardwareSelector"),T6={newInstance:S6,extend:Sh},_6={GLOBALIDS:0,PEDIGREEIDS:1,VALUES:2,INDICES:3,FRUSTUM:4,LOCATIONS:5,THRESHOLDS:6,BLOCKS:7,QUERY:8},D6={CELL:0,POINT:1,FIELD:2,VERTEX:3,EDGE:4,ROW:5},E6={SelectionContent:_6,SelectionField:D6};function Tf(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function O6(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Tf(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Tf(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function b6(t,e){e.classHierarchy.push("vtkSelectionNode"),t.getBounds=function(){return e.points.getBounds()}}var N6={contentType:-1,fieldType:-1,properties:null,selectionList:[]};function Th(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,N6,a),U.obj(t,e),e.properties={},U.setGet(t,e,["contentType","fieldType","properties","selectionList"]),b6(t,e)}var M6=U.newInstance(Th,"vtkSelectionNode"),Mu=O6({newInstance:M6,extend:Th},E6);function _f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function R6(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?_f(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_f(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var ct=Kp.PassTypes,k6=Mu.SelectionContent,Df=Mu.SelectionField,Wa=Mn.FieldAssociations,_h=U.vtkErrorMacro,Kr=1;function Dh(t){return"".concat(t.propID," ").concat(t.compositeID)}function Eh(t,e,a,r){if(!a)return 0;var n=(e*(r[2]-r[0]+1)+t)*4;return a[n+3]}function br(t,e,a,r){if(!a)return 0;var n=(e*(r[2]-r[0]+1)+t)*4,i=a[n],u=a[n+1],o=a[n+2];return(o*256+u)*256+i}function Oh(t,e){var a=e;return a<<=24,a|=t,a}function jn(t,e,a,r){var n=a<0?0:a;if(n===0){if(r[0]=e[0],r[1]=e[1],e[0]<t.area[0]||e[0]>t.area[2]||e[1]<t.area[1]||e[1]>t.area[3])return null;var i=[e[0]-t.area[0],e[1]-t.area[1]],u=br(i[0],i[1],t.pixBuffer[ct.ACTOR_PASS],t.area);if(u<=0||u-Kr>=t.props.length)return null;var o={};o.valid=!0,o.propID=u-Kr,o.prop=t.props[o.propID];var f=br(i[0],i[1],t.pixBuffer[ct.COMPOSITE_INDEX_PASS],t.area);if((f<0||f>16777215)&&(f=0),o.compositeID=f-Kr,t.captureZValues){var s=(i[1]*(t.area[2]-t.area[0]+1)+i[0])*4;o.zValue=(256*t.zBuffer[s]+t.zBuffer[s+1])/65535,o.displayPosition=e}if(t.pixBuffer[ct.ID_LOW24]&&Eh(i[0],i[1],t.pixBuffer[ct.ID_LOW24],t.area)===0)return o;var l=br(i[0],i[1],t.pixBuffer[ct.ID_LOW24],t.area),c=br(i[0],i[1],t.pixBuffer[ct.ID_HIGH24],t.area);return o.attributeID=Oh(l,c),o}var p=[e[0],e[1]],h=[0,0],g=jn(t,e,0,r);if(g&&g.valid)return g;for(var y=1;y<n;++y){for(var m=p[1]>y?p[1]-y:0;m<=p[1]+y;++m)if(h[1]=m,p[0]>=y&&(h[0]=p[0]-y,g=jn(t,h,0,r),g&&g.valid)||(h[0]=p[0]+y,g=jn(t,h,0,r),g&&g.valid))return g;for(var x=p[0]>=y?p[0]-(y-1):0;x<=p[0]+(y-1);++x)if(h[0]=x,p[1]>=y&&(h[1]=p[1]-y,g=jn(t,h,0,r),g&&g.valid)||(h[1]=p[1]+y,g=jn(t,h,0,r),g&&g.valid))return g}return r[0]=e[0],r[1]=e[1],null}function bh(t,e,a,r,n){var i=[],u=0;return e.forEach(function(o,f){var s=Mu.newInstance();switch(s.setContentType(k6.INDICES),t){case Wa.FIELD_ASSOCIATION_CELLS:s.setFieldType(Df.CELL);break;case Wa.FIELD_ASSOCIATION_POINTS:s.setFieldType(Df.POINT);break;default:_h("Unknown field association")}s.getProperties().propID=o.info.propID,s.getProperties().prop=o.info.prop,s.getProperties().compositeID=o.info.compositeID,s.getProperties().attributeID=o.info.attributeID,s.getProperties().pixelCount=o.pixelCount,a&&(s.getProperties().displayPosition=[o.info.displayPosition[0],o.info.displayPosition[1],o.info.zValue],s.getProperties().worldPosition=n.displayToWorld(o.info.displayPosition[0],o.info.displayPosition[1],o.info.zValue,r)),s.setSelectionList(o.attributeIDs),i[u]=s,u++}),i}function L6(t,e,a,r,n){for(var i=Math.floor(e),u=Math.floor(a),o=Math.floor(r),f=Math.floor(n),s=new Map,l=[0,0],c=u;c<=f;c++)for(var p=i;p<=o;p++){var h=[p,c],g=jn(t,h,0,l);if(g&&g.valid){var y=Dh(g);if(!s.has(y))s.set(y,{info:g,pixelCount:1,attributeIDs:[g.attributeID]});else{var m=s.get(y);m.pixelCount++,t.captureZValues&&g.zValue<m.info.zValue&&(m.info=g),m.attributeIDs.indexOf(g.attributeID)===-1&&m.attributeIDs.push(g.attributeID)}}}return bh(t.fieldAssociation,s,t.captureZValues,t.renderer,t.openGLRenderWindow)}function F6(t,e){e.classHierarchy.push("vtkOpenGLHardwareSelector"),t.releasePixBuffers=function(){e.rawPixBuffer=[],e.pixBuffer=[],e.zBuffer=null},t.beginSelection=function(){e._openGLRenderer=e._openGLRenderWindow.getViewNodeFor(e._renderer),e.maxAttributeId=0;var r=e._openGLRenderWindow.getSize();if(!e.framebuffer)e.framebuffer=zo.newInstance(),e.framebuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.create(r[0],r[1]),e.framebuffer.populateFramebuffer();else{e.framebuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.framebuffer.saveCurrentBindingsAndBuffers();var n=e.framebuffer.getSize();n[0]!==r[0]||n[1]!==r[1]?(e.framebuffer.create(r[0],r[1]),e.framebuffer.populateFramebuffer()):e.framebuffer.bind()}if(e._openGLRenderer.clear(),e._openGLRenderer.setSelector(t),e.hitProps={},e.propPixels={},e.props=[],t.releasePixBuffers(),e.fieldAssociation===Wa.FIELD_ASSOCIATION_POINTS){var i=e._openGLRenderWindow.getContext(),u=i.isEnabled(i.BLEND);i.disable(i.BLEND),e._openGLRenderWindow.traverseAllPasses(),e._renderer.setPreserveDepthBuffer(!0),u&&i.enable(i.BLEND)}},t.endSelection=function(){e.hitProps={},e._openGLRenderer.setSelector(null),e.framebuffer.restorePreviousBindingsAndBuffers(),e._renderer.setPreserveDepthBuffer(!1)},t.preCapturePass=function(){var r=e._openGLRenderWindow.getContext();e.originalBlending=r.isEnabled(r.BLEND),r.disable(r.BLEND)},t.postCapturePass=function(){var r=e._openGLRenderWindow.getContext();e.originalBlending&&r.enable(r.BLEND)},t.select=function(){var r=null;return t.captureBuffers()&&(r=t.generateSelection(e.area[0],e.area[1],e.area[2],e.area[3]),t.releasePixBuffers()),r},t.getSourceDataAsync=function(){var r=ea(Jt.mark(function n(i,u,o,f,s){var l,c;return Jt.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(e._renderer=i,u===void 0?(l=e._openGLRenderWindow.getSize(),t.setArea(0,0,l[0]-1,l[1]-1)):t.setArea(u,o,f,s),t.captureBuffers()){h.next=4;break}return h.abrupt("return",!1);case 4:return c={area:de(e.area),pixBuffer:de(e.pixBuffer),captureZValues:e.captureZValues,zBuffer:e.zBuffer,props:de(e.props),fieldAssociation:e.fieldAssociation,renderer:i,openGLRenderWindow:e._openGLRenderWindow},c.generateSelection=function(){for(var g=arguments.length,y=new Array(g),m=0;m<g;m++)y[m]=arguments[m];return L6.apply(void 0,[c].concat(y))},h.abrupt("return",c);case 7:case"end":return h.stop()}},n)}));return function(n,i,u,o,f){return r.apply(this,arguments)}}(),t.captureBuffers=function(){if(!e._renderer||!e._openGLRenderWindow)return _h("Renderer and view must be set before calling Select."),!1;e._openGLRenderer=e._openGLRenderWindow.getViewNodeFor(e._renderer),e._openGLRenderWindow.getRenderable().preRender(),t.invokeEvent({type:"StartEvent"}),e.originalBackground=e._renderer.getBackgroundByReference(),e._renderer.setBackground(0,0,0,0);var r=e._openGLRenderWindow.getRenderPasses();for(t.beginSelection(),e.currentPass=ct.MIN_KNOWN_PASS;e.currentPass<=ct.MAX_KNOWN_PASS;e.currentPass++)t.passRequired(e.currentPass)&&(t.preCapturePass(e.currentPass),e.captureZValues&&e.currentPass===ct.ACTOR_PASS&&typeof r[0].requestDepth=="function"&&typeof r[0].getFramebuffer=="function"&&r[0].requestDepth(),e._openGLRenderWindow.traverseAllPasses(),t.postCapturePass(e.currentPass),t.savePixelBuffer(e.currentPass),t.processPixelBuffers());return t.endSelection(),e._renderer.setBackground(e.originalBackground),t.invokeEvent({type:"EndEvent"}),!0},t.processPixelBuffers=function(){e.props.forEach(function(r,n){t.isPropHit(n)&&r.processSelectorPixelBuffers(t,e.propPixels[n])})},t.passRequired=function(r){if(r===ct.ID_HIGH24){if(e.fieldAssociation===Wa.FIELD_ASSOCIATION_POINTS)return e.maximumPointId>16777215;if(e.fieldAssociation===Wa.FIELD_ASSOCIATION_CELLS)return e.maximumCellId>16777215}return!0},t.savePixelBuffer=function(r){if(e.pixBuffer[r]=e._openGLRenderWindow.getPixelData(e.area[0],e.area[1],e.area[2],e.area[3]),!e.rawPixBuffer[r]){var n=(e.area[2]-e.area[0]+1)*(e.area[3]-e.area[1]+1)*4;e.rawPixBuffer[r]=new Uint8Array(n),e.rawPixBuffer[r].set(e.pixBuffer[r])}if(r===ct.ACTOR_PASS){if(e.captureZValues){var i=e._openGLRenderWindow.getRenderPasses();if(typeof i[0].requestDepth=="function"&&typeof i[0].getFramebuffer=="function"){var u=i[0].getFramebuffer();u.saveCurrentBindingsAndBuffers(),u.bind(),e.zBuffer=e._openGLRenderWindow.getPixelData(e.area[0],e.area[1],e.area[2],e.area[3]),u.restorePreviousBindingsAndBuffers()}}t.buildPropHitList(e.rawPixBuffer[r])}},t.buildPropHitList=function(r){for(var n=0,i=0;i<=e.area[3]-e.area[1];i++)for(var u=0;u<=e.area[2]-e.area[0];u++){var o=br(u,i,r,e.area);o>0&&(o--,o in e.hitProps||(e.hitProps[o]=!0,e.propPixels[o]=[]),e.propPixels[o].push(n*4)),++n}},t.renderProp=function(r){e.currentPass===ct.ACTOR_PASS&&(t.setPropColorValueFromInt(e.props.length+Kr),e.props.push(r))},t.renderCompositeIndex=function(r){e.currentPass===ct.COMPOSITE_INDEX_PASS&&t.setPropColorValueFromInt(r+Kr)},t.renderAttributeId=function(r){r<0||(e.maxAttributeId=r>e.maxAttributeId?r:e.maxAttributeId)},t.passTypeToString=function(r){return U.enumToString(ct,r)},t.isPropHit=function(r){return Boolean(e.hitProps[r])},t.setPropColorValueFromInt=function(r){e.propColorValue[0]=r%256/255,e.propColorValue[1]=Math.floor(r/256)%256/255,e.propColorValue[2]=Math.floor(r/65536)%256/255},t.getPixelInformation=function(r,n,i){var u=n<0?0:n;if(u===0){if(i[0]=r[0],i[1]=r[1],r[0]<e.area[0]||r[0]>e.area[2]||r[1]<e.area[1]||r[1]>e.area[3])return null;var o=[r[0]-e.area[0],r[1]-e.area[1]],f=br(o[0],o[1],e.pixBuffer[ct.ACTOR_PASS],e.area);if(f<=0||f-Kr>=e.props.length)return null;var s={};s.valid=!0,s.propID=f-Kr,s.prop=e.props[s.propID];var l=br(o[0],o[1],e.pixBuffer[ct.COMPOSITE_INDEX_PASS],e.area);if((l<0||l>16777215)&&(l=0),s.compositeID=l-Kr,e.captureZValues){var c=(o[1]*(e.area[2]-e.area[0]+1)+o[0])*4;s.zValue=(256*e.zBuffer[c]+e.zBuffer[c+1])/65535,s.displayPosition=r}if(e.pixBuffer[ct.ID_LOW24]&&Eh(o[0],o[1],e.pixBuffer[ct.ID_LOW24],e.area)===0)return s;var p=br(o[0],o[1],e.pixBuffer[ct.ID_LOW24],e.area),h=br(o[0],o[1],e.pixBuffer[ct.ID_HIGH24],e.area);return s.attributeID=Oh(p,h),s}var g=[r[0],r[1]],y=[0,0],m=t.getPixelInformation(r,0,i);if(m&&m.valid)return m;for(var x=1;x<u;++x){for(var v=g[1]>x?g[1]-x:0;v<=g[1]+x;++v)if(y[1]=v,g[0]>=x&&(y[0]=g[0]-x,m=t.getPixelInformation(y,0,i),m&&m.valid)||(y[0]=g[0]+x,m=t.getPixelInformation(y,0,i),m&&m.valid))return m;for(var d=g[0]>=x?g[0]-(x-1):0;d<=g[0]+(x-1);++d)if(y[0]=d,g[1]>=x&&(y[1]=g[1]-x,m=t.getPixelInformation(y,0,i),m&&m.valid)||(y[1]=g[1]+x,m=t.getPixelInformation(y,0,i),m&&m.valid))return m}return i[0]=r[0],i[1]=r[1],null},t.generateSelection=function(r,n,i,u){for(var o=Math.floor(r),f=Math.floor(n),s=Math.floor(i),l=Math.floor(u),c=new Map,p=[0,0],h=f;h<=l;h++)for(var g=o;g<=s;g++){var y=[g,h],m=t.getPixelInformation(y,0,p);if(m&&m.valid){var x=Dh(m);if(!c.has(x))c.set(x,{info:m,pixelCount:1,attributeIDs:[m.attributeID]});else{var v=c.get(x);v.pixelCount++,e.captureZValues&&m.zValue<v.info.zValue&&(v.info=m),v.attributeIDs.indexOf(m.attributeID)===-1&&v.attributeIDs.push(m.attributeID)}}}return bh(e.fieldAssociation,c,e.captureZValues,e._renderer,e._openGLRenderWindow)},t.getRawPixelBuffer=function(r){return e.rawPixBuffer[r]},t.getPixelBuffer=function(r){return e.pixBuffer[r]},t.attach=function(r,n){e._openGLRenderWindow=r,e._renderer=n};var a=t.setArea;t.setArea=function(){return a.apply(void 0,arguments)?(e.area[0]=Math.floor(e.area[0]),e.area[1]=Math.floor(e.area[1]),e.area[2]=Math.floor(e.area[2]),e.area[3]=Math.floor(e.area[3]),!0):!1}}var A6={area:void 0,currentPass:-1,propColorValue:null,props:null,maximumPointId:0,maximumCellId:0,idOffset:1};function Nh(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,A6,a),T6.extend(t,e,a),e.propColorValue=[0,0,0],e.props=[],e.area||(e.area=[0,0,0,0]),U.setGetArray(t,e,["area"],4),U.setGet(t,e,["_renderer","currentPass","_openGLRenderWindow","maximumPointId","maximumCellId"]),U.setGetArray(t,e,["propColorValue"],3),U.moveToProtected(t,e,["renderer","openGLRenderWindow"]),U.event(t,e,"event"),F6(t,e)}var B6=U.newInstance(Nh,"vtkOpenGLHardwareSelector"),qo=R6({newInstance:B6,extend:Nh},Kp);function Ef(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function V6(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Ef(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ef(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var Ca=Ne,U6=li.Representation,Li=vn.ObjectType,G6=qo.PassTypes,P6={type:"StartEvent"},j6={type:"EndEvent"};function z6(t,e){e.classHierarchy.push("vtkOpenGLGlyph3DMapper");var a=V6({},t);t.renderPiece=function(r,n){if(t.invokeEvent(P6),e.renderable.getStatic()||e.renderable.update(),e.currentInput=e.renderable.getInputData(1),t.invokeEvent(j6),!e.currentInput){Ca("No input!");return}if(!(!e.currentInput.getPoints||!e.currentInput.getPoints().getNumberOfValues())){var i=e.context;e._openGLRenderWindow.getWebgl2()?(e.hardwareSupport=!0,e.extension=null):e.extension||(e.extension=e.context.getExtension("ANGLE_instanced_arrays"),e.hardwareSupport=!!e.extension);var u=n.getProperty().getBackfaceCulling(),o=n.getProperty().getFrontfaceCulling();!u&&!o?e._openGLRenderWindow.disableCullFace():o?(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.FRONT)):(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.BACK)),t.renderPieceStart(r,n),t.renderPieceDraw(r,n),t.renderPieceFinish(r,n)}},t.multiply4x4WithOffset=function(r,n,i,u){var o=n[0],f=n[1],s=n[2],l=n[3],c=n[4],p=n[5],h=n[6],g=n[7],y=n[8],m=n[9],x=n[10],v=n[11],d=n[12],w=n[13],C=n[14],S=n[15],T=i[u],_=i[u+1],D=i[u+2],b=i[u+3];r[0]=T*o+_*c+D*y+b*d,r[1]=T*f+_*p+D*m+b*w,r[2]=T*s+_*h+D*x+b*C,r[3]=T*l+_*g+D*v+b*S,T=i[u+4],_=i[u+5],D=i[u+6],b=i[u+7],r[4]=T*o+_*c+D*y+b*d,r[5]=T*f+_*p+D*m+b*w,r[6]=T*s+_*h+D*x+b*C,r[7]=T*l+_*g+D*v+b*S,T=i[u+8],_=i[u+9],D=i[u+10],b=i[u+11],r[8]=T*o+_*c+D*y+b*d,r[9]=T*f+_*p+D*m+b*w,r[10]=T*s+_*h+D*x+b*C,r[11]=T*l+_*g+D*v+b*S,T=i[u+12],_=i[u+13],D=i[u+14],b=i[u+15],r[12]=T*o+_*c+D*y+b*d,r[13]=T*f+_*p+D*m+b*w,r[14]=T*s+_*h+D*x+b*C,r[15]=T*l+_*g+D*v+b*S},t.replaceShaderNormal=function(r,n,i){if(e.hardwareSupport){var u=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(u>0){var o=r.Vertex;e.lastBoundBO.getCABO().getNormalOffset()&&(o=ie.substitute(o,"//VTK::Normal::Dec",["attribute vec3 normalMC;","attribute mat3 gNormal;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,o=ie.substitute(o,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * gNormal * normalMC;"]).result),r.Vertex=o}}a.replaceShaderNormal(r,n,i)},t.replaceShaderColor=function(r,n,i){if(e.hardwareSupport&&e.renderable.getColorArray()){var u=r.Vertex,o=r.Geometry,f=r.Fragment,s=e.lastBoundBO.getReferenceByName("lastLightComplexity"),l=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity"];s&&(l=l.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));var c=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];s&&(c=c.concat(["  vec3 specularColor;","  float specularPower;"])),c=c.concat(["  opacity = opacityUniform;"]),s&&(c=c.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),e.drawingEdges||(l=l.concat(["varying vec4 vertexColorVSOutput;"]),u=ie.substitute(u,"//VTK::Color::Dec",["attribute vec4 gColor;","varying vec4 vertexColorVSOutput;"]).result,u=ie.substitute(u,"//VTK::Color::Impl",["vertexColorVSOutput = gColor;"]).result,o=ie.substitute(o,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,o=ie.substitute(o,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result,c=c.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])),f=ie.substitute(f,"//VTK::Color::Impl",c).result,f=ie.substitute(f,"//VTK::Color::Dec",l).result,r.Vertex=u,r.Geometry=o,r.Fragment=f}a.replaceShaderColor(r,n,i)},t.replaceShaderPositionVC=function(r,n,i){if(e.hardwareSupport){var u=r.Vertex,o=e.lastBoundBO.getReferenceByName("lastLightComplexity");o>0?(u=ie.substitute(u,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","vertexVCVSOutput = MCVCMatrix * gVertexMC;","  gl_Position = MCPCMatrix * gVertexMC;"]).result,u=ie.substitute(u,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result):(u=ie.substitute(u,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCPCMatrix;"]).result,u=ie.substitute(u,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","  gl_Position = MCPCMatrix * gVertexMC;"]).result),r.Vertex=u}a.replaceShaderPositionVC(r,n,i)},t.replaceShaderPicking=function(r,n,i){if(e.hardwareSupport){var u=r.Fragment,o=r.Vertex;o=ie.substitute(o,"//VTK::Picking::Dec",["attribute vec3 mapperIndexVS;","varying vec3 mapperIndexVSOutput;"]).result,o=ie.substitute(o,"//VTK::Picking::Impl","  mapperIndexVSOutput = mapperIndexVS;").result,r.Vertex=o,u=ie.substitute(u,"//VTK::Picking::Dec",["varying vec3 mapperIndexVSOutput;","uniform vec3 mapperIndex;","uniform int picking;"]).result,u=ie.substitute(u,"//VTK::Picking::Impl",["  vec4 pickColor = picking == 2 ? vec4(mapperIndexVSOutput,1.0) : vec4(mapperIndex,1.0);","  gl_FragData[0] = picking != 0 ? pickColor : gl_FragData[0];"]).result,r.Fragment=u}else a.replaceShaderPicking(r,n,i)},t.updateGlyphShaderParameters=function(r,n,i,u,o,f,s,l){var c=i.getProgram();if(r){var p=e.normalMatrix,h=f,g=s*9,y=e.tmpMat3,m=p[0],x=p[1],v=p[2],d=p[3],w=p[4],C=p[5],S=p[6],T=p[7],_=p[8],D=h[g],b=h[g+1],E=h[g+2],N=h[g+3],R=h[g+4],M=h[g+5],G=h[g+6],j=h[g+7],z=h[g+8];y[0]=D*m+b*d+E*S,y[1]=D*x+b*w+E*T,y[2]=D*v+b*C+E*_,y[3]=N*m+R*d+M*S,y[4]=N*x+R*w+M*T,y[5]=N*v+R*C+M*_,y[6]=G*m+j*d+z*S,y[7]=G*x+j*w+z*T,y[8]=G*v+j*C+z*_,c.setUniformMatrix3x3("normalMatrix",e.tmpMat3)}if(t.multiply4x4WithOffset(e.tmpMat4,e.mcpcMatrix,o,s*16),c.setUniformMatrix("MCPCMatrix",e.tmpMat4),n&&(t.multiply4x4WithOffset(e.tmpMat4,e.mcvcMatrix,o,s*16),c.setUniformMatrix("MCVCMatrix",e.tmpMat4)),u){var V=u.getData();e.tmpColor[0]=V[s*4]/255,e.tmpColor[1]=V[s*4+1]/255,e.tmpColor[2]=V[s*4+2]/255,c.setUniform3fArray("ambientColorUniform",e.tmpColor),c.setUniform3fArray("diffuseColorUniform",e.tmpColor)}l&&c.setUniform3fArray("mapperIndex",l.getPropColorValue())},t.renderPieceDraw=function(r,n){var i=n.getProperty().getRepresentation(),u=e.context,o=n.getProperty().getEdgeVisibility()&&i===U6.SURFACE,f=e.openGLCamera.getKeyMatrices(r),s=e.openGLActor.getKeyMatrices();$a(e.normalMatrix,f.normalMatrix,s.normalMatrix),it(e.mcpcMatrix,f.wcpc,s.mcwc),it(e.mcvcMatrix,f.wcvc,s.mcwc);var l=e.renderable.getMatrixArray(),c=e.renderable.getNormalArray(),p=e.renderable.getColorArray(),h=l.length/16,g=!1;e._openGLRenderer.getSelector()&&e._openGLRenderer.getSelector().getCurrentPass()===G6.COMPOSITE_INDEX_PASS&&(g=!0);for(var y=e.primTypes.Start;y<e.primTypes.End;y++){var m=e.primitives[y].getCABO();if(m.getElementCount()){e.drawingEdges=o&&(y===e.primTypes.TrisEdges||y===e.primTypes.TriStripsEdges),e.lastBoundBO=e.primitives[y],e.primitives[y].updateShaders(r,n,t);var x=e.primitives[y].getProgram(),v=e.primitives[y].getOpenGLMode(i),d=x.isUniformUsed("normalMatrix"),w=x.isUniformUsed("MCVCMatrix");if(e.hardwareSupport)e.extension?e.extension.drawArraysInstancedANGLE(v,0,m.getElementCount(),h):u.drawArraysInstanced(v,0,m.getElementCount(),h);else for(var C=0;C<h;++C)g&&e._openGLRenderer.getSelector().renderCompositeIndex(C),t.updateGlyphShaderParameters(d,w,e.primitives[y],p,l,c,C,g?e._openGLRenderer.getSelector():null),u.drawArrays(v,0,m.getElementCount())}}},t.setMapperShaderParameters=function(r,n,i){if(r.getCABO().getElementCount()&&(e.glyphBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())){r.getProgram().isAttributeUsed("gMatrix")?r.getVAO().addAttributeMatrixWithDivisor(r.getProgram(),e.matrixBuffer,"gMatrix",0,64,e.context.FLOAT,4,!1,1)||Ca("Error setting gMatrix in shader VAO."):r.getVAO().removeAttributeArray("gMatrix"),r.getProgram().isAttributeUsed("gNormal")?r.getVAO().addAttributeMatrixWithDivisor(r.getProgram(),e.normalBuffer,"gNormal",0,36,e.context.FLOAT,3,!1,1)||Ca("Error setting gNormal in shader VAO."):r.getVAO().removeAttributeArray("gNormal"),r.getProgram().isAttributeUsed("gColor")?r.getVAO().addAttributeArrayWithDivisor(r.getProgram(),e.colorBuffer,"gColor",0,4,e.context.UNSIGNED_BYTE,4,!0,1,!1)||Ca("Error setting gColor in shader VAO."):r.getVAO().removeAttributeArray("gColor"),r.getProgram().isAttributeUsed("mapperIndexVS")?r.getVAO().addAttributeArrayWithDivisor(r.getProgram(),e.pickBuffer,"mapperIndexVS",0,4,e.context.UNSIGNED_BYTE,4,!0,1,!1)||Ca("Error setting mapperIndexVS in shader VAO."):r.getVAO().removeAttributeArray("mapperIndexVS"),a.setMapperShaderParameters(r,n,i),r.getAttributeUpdateTime().modified();return}a.setMapperShaderParameters(r,n,i)},t.getNeedToRebuildBufferObjects=function(r,n){e.renderable.buildArrays();var i=e.VBOBuildTime.getMTime();return i<e.renderable.getBuildTime().getMTime()?!0:a.getNeedToRebuildBufferObjects(r,n)},t.getNeedToRebuildShaders=function(r,n,i){return!!(a.getNeedToRebuildShaders(r,n,i)||r.getShaderSourceTime().getMTime()<e.renderable.getMTime()||r.getShaderSourceTime().getMTime()<e.currentInput.getMTime())},t.buildBufferObjects=function(r,n){if(e.hardwareSupport){var i=e.renderable.getMatrixArray(),u=e.renderable.getNormalArray(),o=e.renderable.getColorArray();if(e.matrixBuffer||(e.matrixBuffer=vn.newInstance(),e.matrixBuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.normalBuffer=vn.newInstance(),e.normalBuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.colorBuffer=vn.newInstance(),e.colorBuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.pickBuffer=vn.newInstance(),e.pickBuffer.setOpenGLRenderWindow(e._openGLRenderWindow)),e.renderable.getBuildTime().getMTime()>e.glyphBOBuildTime.getMTime()){e.matrixBuffer.upload(i,Li.ARRAY_BUFFER),e.normalBuffer.upload(u,Li.ARRAY_BUFFER),o?e.colorBuffer.upload(o.getData(),Li.ARRAY_BUFFER):e.colorBuffer.releaseGraphicsResources();for(var f=i.length/16,s=new Uint8Array(4*f),l=0;l<f;++l){var c=l+1,p=l*4;s[p]=c%256,c-=s[p],c/=256,s[p+1]=c%256,c-=s[p+1],c/=256,s[p+2]=c%256,s[p+3]=255}e.pickBuffer.upload(s,Li.ARRAY_BUFFER),e.glyphBOBuildTime.modified()}}return a.buildBufferObjects(r,n)}}var W6={normalMatrix:null,mcpcMatrix:null,mcwcMatrix:null};function I6(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,W6,a),H8.extend(t,e,a),e.tmpMat3=xr(new Float64Array(9)),e.normalMatrix=xr(new Float64Array(9)),e.mcpcMatrix=be(new Float64Array(16)),e.mcvcMatrix=be(new Float64Array(16)),e.tmpColor=[],e.glyphBOBuildTime={},vt(e.glyphBOBuildTime,{mtime:0}),z6(t,e)}var $6=ot(I6,"vtkOpenGLGlyph3DMapper");kt("vtkGlyph3DMapper",$6);var mt=Uint8Array,dn=Uint16Array,Mh=Uint32Array,Rh=new mt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kh=new mt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),H6=new mt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Lh=function(t,e){for(var a=new dn(31),r=0;r<31;++r)a[r]=e+=1<<t[r-1];for(var n=new Mh(a[30]),r=1;r<30;++r)for(var i=a[r];i<a[r+1];++i)n[i]=i-a[r]<<5|r;return[a,n]},Fh=Lh(Rh,2),Ah=Fh[0],K6=Fh[1];Ah[28]=258,K6[258]=28;var X6=Lh(kh,0),q6=X6[0],_0=new dn(32768);for(var Qe=0;Qe<32768;++Qe){var Ur=(Qe&43690)>>>1|(Qe&21845)<<1;Ur=(Ur&52428)>>>2|(Ur&13107)<<2,Ur=(Ur&61680)>>>4|(Ur&3855)<<4,_0[Qe]=((Ur&65280)>>>8|(Ur&255)<<8)>>>1}var Ia=function(t,e,a){for(var r=t.length,n=0,i=new dn(e);n<r;++n)t[n]&&++i[t[n]-1];var u=new dn(e);for(n=0;n<e;++n)u[n]=u[n-1]+i[n-1]<<1;var o;if(a){o=new dn(1<<e);var f=15-e;for(n=0;n<r;++n)if(t[n])for(var s=n<<4|t[n],l=e-t[n],c=u[t[n]-1]++<<l,p=c|(1<<l)-1;c<=p;++c)o[_0[c]>>>f]=s}else for(o=new dn(r),n=0;n<r;++n)t[n]&&(o[n]=_0[u[t[n]-1]++]>>>15-t[n]);return o},pi=new mt(288);for(var Qe=0;Qe<144;++Qe)pi[Qe]=8;for(var Qe=144;Qe<256;++Qe)pi[Qe]=9;for(var Qe=256;Qe<280;++Qe)pi[Qe]=7;for(var Qe=280;Qe<288;++Qe)pi[Qe]=8;var Bh=new mt(32);for(var Qe=0;Qe<32;++Qe)Bh[Qe]=5;var Y6=Ia(pi,9,1),J6=Ia(Bh,5,1),Os=function(t){for(var e=t[0],a=1;a<t.length;++a)t[a]>e&&(e=t[a]);return e},tr=function(t,e,a){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&a},bs=function(t,e){var a=e/8|0;return(t[a]|t[a+1]<<8|t[a+2]<<16)>>(e&7)},Z6=function(t){return(t+7)/8|0},Yo=function(t,e,a){(e==null||e<0)&&(e=0),(a==null||a>t.length)&&(a=t.length);var r=new(t.BYTES_PER_ELEMENT==2?dn:t.BYTES_PER_ELEMENT==4?Mh:mt)(a-e);return r.set(t.subarray(e,a)),r},Q6=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],At=function(t,e,a){var r=new Error(e||Q6[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,At),!a)throw r;return r},Ru=function(t,e,a){var r=t.length;if(!r||a&&a.f&&!a.l)return e||new mt(0);var n=!e||a,i=!a||a.i;a||(a={}),e||(e=new mt(r*3));var u=function(J){var ne=e.length;if(J>ne){var ee=new mt(Math.max(ne*2,J));ee.set(e),e=ee}},o=a.f||0,f=a.p||0,s=a.b||0,l=a.l,c=a.d,p=a.m,h=a.n,g=r*8;do{if(!l){o=tr(t,f,1);var y=tr(t,f+1,3);if(f+=3,y)if(y==1)l=Y6,c=J6,p=9,h=5;else if(y==2){var d=tr(t,f,31)+257,w=tr(t,f+10,15)+4,C=d+tr(t,f+5,31)+1;f+=14;for(var S=new mt(C),T=new mt(19),_=0;_<w;++_)T[H6[_]]=tr(t,f+_*3,7);f+=w*3;for(var D=Os(T),b=(1<<D)-1,E=Ia(T,D,1),_=0;_<C;){var N=E[tr(t,f,b)];f+=N&15;var m=N>>>4;if(m<16)S[_++]=m;else{var R=0,M=0;for(m==16?(M=3+tr(t,f,3),f+=2,R=S[_-1]):m==17?(M=3+tr(t,f,7),f+=3):m==18&&(M=11+tr(t,f,127),f+=7);M--;)S[_++]=R}}var G=S.subarray(0,d),j=S.subarray(d);p=Os(G),h=Os(j),l=Ia(G,p,1),c=Ia(j,h,1)}else At(1);else{var m=Z6(f)+4,x=t[m-4]|t[m-3]<<8,v=m+x;if(v>r){i&&At(0);break}n&&u(s+x),e.set(t.subarray(m,v),s),a.b=s+=x,a.p=f=v*8,a.f=o;continue}if(f>g){i&&At(0);break}}n&&u(s+131072);for(var z=(1<<p)-1,V=(1<<h)-1,L=f;;L=f){var R=l[bs(t,f)&z],B=R>>>4;if(f+=R&15,f>g){i&&At(0);break}if(R||At(2),B<256)e[s++]=B;else if(B==256){L=f,l=null;break}else{var $=B-254;if(B>264){var _=B-257,H=Rh[_];$=tr(t,f,(1<<H)-1)+Ah[_],f+=H}var X=c[bs(t,f)&V],Z=X>>>4;X||At(3),f+=X&15;var j=q6[Z];if(Z>3){var H=kh[Z];j+=bs(t,f)&(1<<H)-1,f+=H}if(f>g){i&&At(0);break}n&&u(s+131072);for(var Y=s+$;s<Y;s+=4)e[s]=e[s-j],e[s+1]=e[s+1-j],e[s+2]=e[s+2-j],e[s+3]=e[s+3-j];s=Y}}a.l=l,a.p=L,a.b=s,a.f=o,l&&(o=1,a.m=p,a.d=c,a.n=h)}while(!o);return s==e.length?e:Yo(e,0,s)},e7=new mt(0),dr=function(t,e){return t[e]|t[e+1]<<8},ur=function(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0},Ns=function(t,e){return ur(t,e)+ur(t,e+4)*4294967296},t7=function(t){(t[0]!=31||t[1]!=139||t[2]!=8)&&At(6,"invalid gzip data");var e=t[3],a=10;e&4&&(a+=t[10]|(t[11]<<8)+2);for(var r=(e>>3&1)+(e>>4&1);r>0;r-=!t[a++]);return a+(e&2)},r7=function(t){var e=t.length;return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0},n7=function(t){((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)&&At(6,"invalid zlib data"),t[1]&32&&At(6,"invalid zlib data: preset dictionaries not supported")};function Vh(t,e){return Ru(t,e)}function a7(t,e){return Ru(t.subarray(t7(t),-8),e||new mt(r7(t)))}function i7(t,e){return Ru((n7(t),t.subarray(2,-4)),e)}function lr(t,e){return t[0]==31&&t[1]==139&&t[2]==8?a7(t,e):(t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31?Vh(t,e):i7(t,e)}var Of=typeof TextEncoder!="undefined"&&new TextEncoder,D0=typeof TextDecoder!="undefined"&&new TextDecoder,o7=0;try{D0.decode(e7,{stream:!0}),o7=1}catch{}var s7=function(t){for(var e="",a=0;;){var r=t[a++],n=(r>127)+(r>223)+(r>239);if(a+n>t.length)return[e,Yo(t,a-1)];n?n==3?(r=((r&15)<<18|(t[a++]&63)<<12|(t[a++]&63)<<6|t[a++]&63)-65536,e+=String.fromCharCode(55296|r>>10,56320|r&1023)):n&1?e+=String.fromCharCode((r&31)<<6|t[a++]&63):e+=String.fromCharCode((r&15)<<12|(t[a++]&63)<<6|t[a++]&63):e+=String.fromCharCode(r)}};function u7(t,e){if(e){for(var a=new mt(t.length),r=0;r<t.length;++r)a[r]=t.charCodeAt(r);return a}if(Of)return Of.encode(t);for(var n=t.length,i=new mt(t.length+(t.length>>1)),u=0,o=function(l){i[u++]=l},r=0;r<n;++r){if(u+5>i.length){var f=new mt(u+8+(n-r<<1));f.set(i),i=f}var s=t.charCodeAt(r);s<128||e?o(s):s<2048?(o(192|s>>6),o(128|s&63)):s>55295&&s<57344?(s=65536+(s&1023<<10)|t.charCodeAt(++r)&1023,o(240|s>>18),o(128|s>>12&63),o(128|s>>6&63),o(128|s&63)):(o(224|s>>12),o(128|s>>6&63),o(128|s&63))}return Yo(i,0,u)}function fr(t,e){if(e){for(var a="",r=0;r<t.length;r+=16384)a+=String.fromCharCode.apply(null,t.subarray(r,r+16384));return a}else{if(D0)return D0.decode(t);var n=s7(t),i=n[0],u=n[1];return u.length&&At(8),i}}var c7=function(t,e){return e+30+dr(t,e+26)+dr(t,e+28)},f7=function(t,e,a){var r=dr(t,e+28),n=fr(t.subarray(e+46,e+46+r),!(dr(t,e+8)&2048)),i=e+46+r,u=ur(t,e+20),o=a&&u==4294967295?l7(t,i):[u,ur(t,e+24),ur(t,e+42)],f=o[0],s=o[1],l=o[2];return[dr(t,e+10),f,s,n,i+dr(t,e+30)+dr(t,e+32),l]},l7=function(t,e){for(;dr(t,e)!=1;e+=4+dr(t,e+2));return[Ns(t,e+12),Ns(t,e+4),Ns(t,e+20)]};function bf(t,e){for(var a={},r=t.length-22;ur(t,r)!=101010256;--r)(!r||t.length-r>65558)&&At(13);var n=dr(t,r+8);if(!n)return{};var i=ur(t,r+16),u=i==4294967295;u&&(r=ur(t,r-12),ur(t,r)!=101075792&&At(13),n=ur(t,r+32),i=ur(t,r+48));for(var o=e&&e.filter,f=0;f<n;++f){var s=f7(t,i,u),l=s[0],c=s[1],p=s[2],h=s[3],g=s[4],y=s[5],m=c7(t,y);i=g,(!o||o({name:h,size:c,originalSize:p,compression:l}))&&(l?l==8?a[h]=Vh(t.subarray(m,m+c),new mt(p)):At(14,"unknown compression type "+l):a[h]=Yo(t,m,m+c))}return a}function Uh(){var t=new ArrayBuffer(4),e=new Uint8Array(t),a=new Uint32Array(t);return e[0]=161,e[1]=178,e[2]=195,e[3]=212,a[0]===3569595041?"LittleEndian":a[0]===2712847316?"BigEndian":null}var p7=Uh();function h7(t,e){if(!(e<2))for(var a=new Int8Array(t),r=a.length,n=[],i=0;i<r;i+=e){for(var u=0;u<e;u++)n.push(a[i+u]);for(var o=0;o<e;o++)a[i+o]=n.pop()}}var kr={ENDIANNESS:p7,getEndianness:Uh,swapBytes:h7},ku={};function Gh(t){return!!ku[t]}function v7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ku[t](e)}function Jo(t,e){ku[t]=e}var ga={get:v7,has:Gh,registerType:Jo},Za=U.vtkErrorMacro,g7=U.vtkDebugMacro,ia=0;function Zo(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=new XMLHttpRequest;return r.open(t,e,!0),a.headers&&Object.entries(a.headers).forEach(function(n){var i=ze(n,2),u=i[0],o=i[1];return r.setRequestHeader(u,o)}),a.progressCallback&&r.addEventListener("progress",a.progressCallback),r}function d7(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e&&e.compression&&e.compression!=="gz"&&(Za("Supported algorithms are: [gz]"),Za("Unkown compression algorithm: ".concat(e.compression))),new Promise(function(a,r){var n=Zo("GET",t,e);n.onreadystatechange=function(i){n.readyState===4&&(n.status===200||n.status===0?e.compression?a(lr(new Uint8Array(n.response)).buffer):a(n.response):r({xhr:n,e:i}))},n.responseType="arraybuffer",n.send()})}function y7(t,e,a){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return a.ref&&!a.ref.pending?new Promise(function(n,i){var u=null;a.ref.url?u=a.ref.url:u=[e,a.ref.basepath,r.compression?"".concat(a.ref.id,".gz"):a.ref.id].join("/");var o=Zo("GET",u,r);o.onreadystatechange=function(f){o.readyState===1&&(a.ref.pending=!0,++ia===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0)),o.readyState===4&&(a.ref.pending=!1,o.status===200||o.status===0?(a.buffer=o.response,r.compression&&(a.dataType==="string"||a.dataType==="JSON"?a.buffer=fr(lr(new Uint8Array(a.buffer))):a.buffer=lr(new Uint8Array(a.buffer)).buffer),a.ref.encode==="JSON"?a.values=JSON.parse(a.buffer):(kr.ENDIANNESS!==a.ref.encode&&kr.ENDIANNESS&&(g7("Swap bytes of ".concat(a.name)),kr.swapBytes(a.buffer,jo[a.dataType])),a.values=U.newTypedArray(a.dataType,a.buffer)),a.values.length!==a.size&&Za("Error in FetchArray: ".concat(a.name,", does not have the proper array size. Got ").concat(a.values.length,", instead of ").concat(a.size)),delete a.ref,--ia===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),t!=null&&t.modified&&t.modified(),n(a)):i({xhr:o,e:f}))},o.responseType=r.compression||a.dataType!=="string"?"arraybuffer":"text",o.send()}):Promise.resolve(a)}function m7(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(function(r,n){var i=Zo("GET",e,a);i.onreadystatechange=function(u){i.readyState===1&&++ia===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--ia===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?a.compression?r(JSON.parse(fr(lr(new Uint8Array(i.response))))):r(JSON.parse(i.responseText)):n({xhr:i,e:u}))},i.responseType=a.compression?"arraybuffer":"text",i.send()})}function x7(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return a&&a.compression&&a.compression!=="gz"&&(Za("Supported algorithms are: [gz]"),Za("Unkown compression algorithm: ".concat(a.compression))),new Promise(function(r,n){var i=Zo("GET",e,a);i.onreadystatechange=function(u){i.readyState===1&&++ia===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--ia===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?a.compression?r(fr(lr(new Uint8Array(i.response)))):r(i.responseText):n({xhr:i,e:u}))},i.responseType=a.compression?"arraybuffer":"text",i.send()})}function w7(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(function(r,n){var i=new Image;a.crossOrigin&&(i.crossOrigin=a.crossOrigin),i.onload=function(){return r(i)},i.onerror=n,i.src=e})}var C7={fetchArray:y7,fetchJSON:m7,fetchText:x7,fetchBinary:d7,fetchImage:w7};Jo("http",function(t){return C7});var It=[];It["-".charCodeAt(0)]=62;It["_".charCodeAt(0)]=63;var qn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Fi=0;Fi<qn.length;Fi++)It[qn.charCodeAt(Fi)]=Fi;function vr(t){return It[t.charCodeAt(0)]!==void 0}function S7(t){for(var e=t.length,a=[],r=null,n=0;n<e;n++)vr(t[n])?(r||(r={start:n,count:0}),r.count++,r.end=n):t[n]==="="&&r&&(a.push(r),r=null);return r&&a.push(r),a}function T7(t,e,a,r){for(var n=e.start,i=e.count,u=i%4,o=Math.floor(i/4),f=n,s=null,l=a,c=0;c<o;c++){for(;!vr(t[f]);)f++;for(s=It[t.charCodeAt(f++)]<<18;!vr(t[f]);)f++;for(s|=It[t.charCodeAt(f++)]<<12;!vr(t[f]);)f++;for(s|=It[t.charCodeAt(f++)]<<6;!vr(t[f]);)f++;s|=It[t.charCodeAt(f++)],r[l++]=s>>16&255,r[l++]=s>>8&255,r[l++]=s&255}switch(u){case 3:for(;!vr(t[f]);)f++;for(s=It[t.charCodeAt(f++)]<<10;!vr(t[f]);)f++;for(s|=It[t.charCodeAt(f++)]<<4;!vr(t[f]);)f++;s|=It[t.charCodeAt(f++)]>>2,r[l++]=s>>8&255,r[l++]=s&255;break;case 2:for(;!vr(t[f]);)f++;for(s=It[t.charCodeAt(f++)]<<2;!vr(t[f]);)f++;s|=It[t.charCodeAt(f++)]>>4,r[l++]=s&255;break;case 1:throw new Error("BASE64: remain 1 should not happen")}return l}function _7(t){for(var e=S7(t),a=e[e.length-1].end+1,r=(4-a%4)%4,n=(a+r)*3/4-r,i=new ArrayBuffer(n),u=new Uint8Array(i),o=0,f=0;f<e.length;f++)o+=T7(t,e[f],o,u),o+=(4-e[f].count%4)%4;return i}function Nf(t,e,a){var r=(t<<16)+(e<<8)+a;return qn[r>>18]+qn[r>>12&63]+qn[r>>6&63]+qn[r&63]}function Ph(t){for(var e=new Uint8Array(t),a=t.byteLength%3,r=t.byteLength-a,n=Array(r/3),i=0;i<n.length;i++){var u=i*3;n[i]=Nf(e[u],e[u+1],e[u+2])}if(a>0){var o=Nf(e[r],e[r+1]||0,e[r+2]||0);a===1?n.push("".concat(o.substr(0,2),"==")):a===2&&n.push("".concat(o.substr(0,3),"="))}return n.join("")}var Qo={toArrayBuffer:_7,fromArrayBuffer:Ph},zn=U.vtkErrorMacro,D7=U.vtkDebugMacro;function E7(t){var e=t.split(".").pop().toLowerCase();return e==="jpg"?"jpeg":e}function O7(t,e,a){return function(r){t.buffer=new ArrayBuffer(r.length);var n=new Uint8Array(t.buffer);n.set(r),e&&(t.dataType==="string"||t.dataType==="JSON"?t.buffer=fr(lr(new Uint8Array(t.buffer))):t.buffer=lr(new Uint8Array(t.buffer)).buffer),t.ref.encode==="JSON"?t.values=JSON.parse(t.buffer):(kr.ENDIANNESS!==t.ref.encode&&kr.ENDIANNESS&&(D7("Swap bytes of ".concat(t.name)),kr.swapBytes(t.buffer,jo[t.dataType])),t.values=U.newTypedArray(t.dataType,t.buffer)),t.values.length!==t.size&&zn("Error in FetchArray: ".concat(t.name," does not have the proper array size. Got ").concat(t.values.length,", instead of ").concat(t.size)),a()}}function b7(t,e,a){return function(r){e?t.values=JSON.parse(fr(lr(r))):t.values=JSON.parse(r),a()}}function N7(t){return t[0]==="/"?t.substr(1):t}function M7(t){return new URL(t,"http://any").pathname}function Sa(t){return N7(M7(t))}function R7(t){return new Promise(function(e,a){typeof t=="string"?e(u7(t)):t instanceof Blob?e(t.arrayBuffer().then(function(r){return new Uint8Array(r)})):t instanceof ArrayBuffer?e(new Uint8Array(t)):(t==null?void 0:t.buffer)instanceof ArrayBuffer?e(new Uint8Array(t.buffer)):a(new Error("Invalid datatype to unpack."))})}function k7(t){var e=!1,a=0,r=null,n="";return R7(t.zipContent).then(function(i){r=bf(i),e=!0;var u=[];Object.keys(r).forEach(function(o){o.endsWith("index.json")&&u.push(o)}),u.sort(function(o,f){return o.length-f.length}),n=u[0].replace(/index\.json$/,""),t.callback&&t.callback(r)}),{fetchArray:function(u,o,f){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return new Promise(function(l,c){e||zn("ERROR!!! zip not ready...");var p=Sa([o,f.ref.basepath,s.compression?"".concat(f.ref.id,".gz"):f.ref.id].join("/"));++a===1&&u!==null&&u!==void 0&&u.invokeBusy&&u.invokeBusy(!0);function h(){delete f.ref,--a===0&&u!==null&&u!==void 0&&u.invokeBusy&&u.invokeBusy(!1),u!=null&&u.modified&&u.modified(),l(f)}var g=r["".concat(n).concat(p)];if(f.dataType==="string"&&!s.compression){var y=b7(f,s.compression,h);y(fr(g))}else{var m=O7(f,s.compression,h);m(g)}})},fetchJSON:function(u,o){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=Sa(o);e||zn("ERROR!!! zip not ready...");var l=r["".concat(n).concat(s)];if(f.compression){if(f.compression==="gz"){var c=fr(lr(l));return Promise.resolve(JSON.parse(c))}return Promise.reject(new Error("Invalid compression"))}return Promise.resolve(JSON.parse(fr(l)))},fetchText:function(u,o){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=Sa(o);e||zn("ERROR!!! zip not ready...");var l=r["".concat(n).concat(s)];return f.compression?f.compression==="gz"?Promise.resolve(fr(bf(l))):Promise.reject(new Error("Invalid compression")):Promise.resolve(fr(l))},fetchImage:function(u,o){var f=Sa(o);e||zn("ERROR!!! zip not ready...");var s=r["".concat(n).concat(f)];return new Promise(function(l,c){var p=new Image;p.onload=function(){return l(p)},p.onerror=c;var h=Ph(s.buffer);p.src="data:image/".concat(E7(f),";base64,").concat(h)})},fetchBinary:function(u,o){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=Sa(o);e||zn("ERROR!!! zip not ready...");var l=r["".concat(n).concat(s)];return f.compression?f.compression==="gz"?Promise.resolve(lr(l).buffer):Promise.reject(new Error("Invalid compression")):Promise.resolve(l.buffer)}}}var L7={create:k7};Jo("zip",function(t){return L7.create(t)});var F7=function(e){return e},Mf=1e-6,jh=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;J0(this,t),this.matrix=be(new Float64Array(16)),this.tmp=new Float64Array(3),this.angleConv=e?Tg:F7}return Z0(t,[{key:"rotateFromDirections",value:function(a,r){var n=new Float64Array(3),i=new Float64Array(3),u=new Float64Array(16);He(n,a[0],a[1],a[2]),He(i,r[0],r[1],r[2]),Qt(n,n),Qt(i,i);var o=Sn(n,i);return o>=1?this:(mn(this.tmp,n,i),yn(this.tmp)<Mf&&(mn(this.tmp,[1,0,0],a),yn(this.tmp)<Mf&&mn(this.tmp,[0,1,0],a)),Ol(u,Math.acos(o),this.tmp),it(this.matrix,this.matrix,u),this)}},{key:"rotate",value:function(a,r){return He.apply(H2,[this.tmp].concat(de(r))),Qt(this.tmp,this.tmp),yt(this.matrix,this.matrix,this.angleConv(a),this.tmp),this}},{key:"rotateX",value:function(a){return Ao(this.matrix,this.matrix,this.angleConv(a)),this}},{key:"rotateY",value:function(a){return Ha(this.matrix,this.matrix,this.angleConv(a)),this}},{key:"rotateZ",value:function(a){return Bo(this.matrix,this.matrix,this.angleConv(a)),this}},{key:"translate",value:function(a,r,n){return He(this.tmp,a,r,n),Ze(this.matrix,this.matrix,this.tmp),this}},{key:"scale",value:function(a,r,n){return He(this.tmp,a,r,n),Cn(this.matrix,this.matrix,this.tmp),this}},{key:"multiply",value:function(a){return it(this.matrix,this.matrix,a),this}},{key:"multiply3x3",value:function(a){return it(this.matrix,this.matrix,[a[0],a[1],a[2],0,a[3],a[4],a[5],0,a[6],a[7],a[8],0,0,0,0,1]),this}},{key:"invert",value:function(){return Zt(this.matrix,this.matrix),this}},{key:"identity",value:function(){return be(this.matrix),this}},{key:"apply",value:function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(N1(uy,this.matrix))return this;for(var i=n===-1?a.length:r+n*3,u=r;u<i;u+=3)He(this.tmp,a[u],a[u+1],a[u+2]),Te(this.tmp,this.tmp,this.matrix),a[u]=this.tmp[0],a[u+1]=this.tmp[1],a[u+2]=this.tmp[2];return this}},{key:"getMatrix",value:function(){return this.matrix}},{key:"setMatrix",value:function(a){return!!a&&a.length===16&&Mt(this.matrix,a),this}}]),t}();function A7(){return new jh(!0)}function B7(){return new jh(!1)}var Gt={buildFromDegree:A7,buildFromRadian:B7};function Rf(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function V7(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Rf(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Rf(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function U7(t,e){e.classHierarchy.push("vtkCircleSource");function a(r,n){var i,u;if(!e.deleted){var o=n[0],f=U.newTypedArray(e.pointType,e.resolution*3),s=new Uint32Array(e.resolution+2);s[0]=e.resolution+1;for(var l=2*Math.PI/e.resolution,c=0;c<e.resolution;c++){var p=e.center[0],h=e.radius*Math.cos(c*l)+e.center[1],g=e.radius*Math.sin(c*l)+e.center[2];f.set([p,h,g],c*3),s[c+1]=c}s[s.length-1]=s[1],o=et.newInstance(),o.getPoints().setData(f,3),e.lines&&o.getLines().setData(s,1),e.face&&o.getPolys().setData(s,1),(i=(u=Gt.buildFromRadian()).translate.apply(u,de(e.center)).rotateFromDirections([1,0,0],e.direction)).translate.apply(i,de(b1(de(e.center),-1))).apply(f),n[0]=o}}t.requestData=a}function G7(t){return V7({face:!0,center:[0,0,0],lines:!1,direction:[1,0,0],pointType:"Float64Array",radius:1,resolution:6},t)}function P7(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,G7(a)),U.obj(t,e),U.setGet(t,e,["radius","resolution","lines","face"]),U.setGetArray(t,e,["center","direction"],3),U.algo(t,e,0,1),U7(t,e)}U.newInstance(P7,"vtkCircleSource");function j7(t,e){e.classHierarchy.push("vtkConcentricCylinderSource");function a(){for(;e.cellFields.length<e.radius.length;)e.cellFields.push(e.cellFields.length)}t.clearRadius=function(){e.radius=[],e.cellFields=[],t.modified()},t.addRadius=function(n,i){e.radius.push(n),i!==void 0&&e.cellFields.push(i),a(),t.modified()},t.getNumberOfRadius=function(){return e.radius.length},t.getRadius=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.radius[n]},t.setRadius=function(n,i){e.radius[n]=i,t.modified()},t.setCellField=function(n,i){e.cellFields[n]=i,t.modified()},t.removeMask=function(){e.mask=null,t.modified()},t.setMaskLayer=function(n,i){var u=!1;!e.mask&&i&&(u=!0,e.mask=[]),e.mask&&(!e.mask[n]!=!i&&(u=!0),e.mask[n]=i),u&&t.modified()},t.getMaskLayer=function(n){return n===void 0?e.mask:e.mask[n]};function r(n,i){var u;if(!(e.deleted||!e.radius.length)){a();var o=i[0],f=e.radius.length,s=e.height/2,l=0,c=0,p=e.startTheta<e.endTheta?e.startTheta:e.endTheta;p*=Math.PI/180;var h=e.endTheta>e.startTheta?e.endTheta:e.startTheta;h*=Math.PI/180;var g=e.resolution,y=!1;h>=p+2*Math.PI?h=p+2*Math.PI:(++g,y=!0);var m=(h-p)/e.resolution,x=g*f*2+2;if(!e.skipInnerFaces&&!e.mask)l=2*(g+1)+5*g+(f-1)*g*20+(y?10*f:0),c=2+g+(f-1)*4*g+(y?2*f:0);else if(!e.skipInnerFaces&&e.mask){e.mask[0]||(l+=2*(g+1)+5*g+(y?10:0),c+=2+g+(y?2:0));for(var v=1;v<f;v++)e.mask[v]||(l+=g*20+(y?10:0),c+=4*g+(y?2:0))}else{(!e.skipInnerFaces||!e.mask||!e.mask[0])&&(l+=2*(g+1)+(y?10:0),c+=2+(y?2:0),(e.radius.length===1||!e.skipInnerFaces||e.mask&&e.mask[1])&&(l+=5*g,c+=g));for(var d=1;d<f;d++)if(!e.skipInnerFaces||!e.mask||!e.mask[d]){var w=f-1===d;l+=g*10+(y?10:0),c+=g*2+(y?2:0),(!e.skipInnerFaces||e.mask&&e.mask[d-1])&&(l+=g*5,c+=g),(w||!e.skipInnerFaces||e.mask&&e.mask[d+1])&&(l+=g*5,c+=g)}}var C=0,S=U.newTypedArray(e.pointType,x*3),T=0,_=new Uint32Array(l),D=0,b=new Float32Array(c);S[C*3+0]=0,S[C*3+1]=0,S[C*3+2]=s,C++,S[C*3+0]=0,S[C*3+1]=0,S[C*3+2]=-s,C++;for(var E=0;E<f;E++){for(var N=e.radius[E],R=0;R<g;R++){var M=p+R*m;S[C*3+0]=N*Math.cos(M),S[C*3+1]=N*Math.sin(M),S[C*3+2]=s,C++}for(var G=0;G<g;G++){var j=p+G*m;S[C*3+0]=N*Math.cos(j),S[C*3+1]=N*Math.sin(j),S[C*3+2]=-s,C++}}var z=e.cellFields[0];if(!e.mask||!e.mask[0]){b[D++]=z,_[T++]=g+(y?1:0),y&&(_[T++]=0);for(var V=0;V<g;V++)_[T++]=V+2;b[D++]=z,_[T++]=g+(y?1:0),y&&(_[T++]=1);for(var L=0;L<g;L++)_[T++]=2*g-L-1+2;if(!e.skipInnerFaces||e.mask&&e.mask[1]||f===1)for(var B=0;B<e.resolution;B++)_[T++]=4,_[T++]=(B+1)%g+2,_[T++]=B+2,_[T++]=B+g+2,_[T++]=(B+1)%g+g+2,b[D++]=z;y&&(_[T++]=4,_[T++]=2,_[T++]=0,_[T++]=1,_[T++]=g+2,b[D++]=z,_[T++]=4,_[T++]=0,_[T++]=g+1,_[T++]=2*g+1,_[T++]=1,b[D++]=z)}for(var $=1;$<f;$++)if(!(e.mask&&e.mask[$])){var H=g*2*($-1)+2,X=H+2*g,Z=f-1===$;z=e.cellFields[$];for(var Y=0;Y<e.resolution;Y++)_[T++]=4,_[T++]=Y+H,_[T++]=(Y+1)%g+H,_[T++]=(Y+1)%g+X,_[T++]=Y+X,b[D++]=z;for(var J=0;J<e.resolution;J++)_[T++]=4,_[T++]=(J+1)%g+H+g,_[T++]=J+H+g,_[T++]=J+X+g,_[T++]=(J+1)%g+X+g,b[D++]=z;if(!e.skipInnerFaces||e.mask&&e.mask[$-1])for(var ne=0;ne<e.resolution;ne++)_[T++]=4,_[T++]=ne+H,_[T++]=(ne+1)%g+H,_[T++]=(ne+1)%g+g+H,_[T++]=ne+g+H,b[D++]=z;if(!e.skipInnerFaces||Z||e.mask&&(e.mask[$+1]||Z))for(var ee=0;ee<e.resolution;ee++)_[T++]=4,_[T++]=(ee+1)%g+X,_[T++]=ee+X,_[T++]=ee+g+X,_[T++]=(ee+1)%g+g+X,b[D++]=z;y&&(_[T++]=4,_[T++]=X,_[T++]=H,_[T++]=g+H,_[T++]=g+X,b[D++]=z,_[T++]=4,_[T++]=e.resolution+X,_[T++]=e.resolution+H,_[T++]=e.resolution+g+H,_[T++]=e.resolution+g+X,b[D++]=z)}(u=Gt.buildFromRadian()).translate.apply(u,de(e.center)).rotateFromDirections([0,0,1],e.direction).apply(S),o=et.newInstance(),o.getPoints().setData(S,3),o.getPolys().setData(_,1),o.getCellData().setScalars(we.newInstance({name:"layer",values:b})),i[0]=o}}t.requestData=r}var z7={height:1,radius:[.5],cellFields:[1],resolution:6,startTheta:0,endTheta:360,center:[0,0,0],direction:[0,0,1],skipInnerFaces:!0,mask:null,pointType:"Float64Array"};function W7(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,z7,a),U.obj(t,e),U.setGet(t,e,["height","resolution","startTheta","endTheta","skipInnerFaces"]),U.setGetArray(t,e,["center","direction"],3),U.getArray(t,e,["cellFields"]),U.algo(t,e,0,1),j7(t,e)}U.newInstance(W7,"vtkConcentricCylinderSource");function I7(t,e){e.classHierarchy.push("vtkConeSource");function a(r,n){var i;if(!e.deleted){var u=n[0],o=2*Math.PI/e.resolution,f=-e.height/2,s=e.resolution+1,l=4*e.resolution+1+e.resolution,c=0,p=U.newTypedArray(e.pointType,s*3),h=0,g=new Uint32Array(l);p[0]=e.height/2,p[1]=0,p[2]=0,e.capping&&(g[h++]=e.resolution);for(var y=0;y<e.resolution;y++)c++,p[c*3+0]=f,p[c*3+1]=e.radius*Math.cos(y*o),p[c*3+2]=e.radius*Math.sin(y*o),e.capping&&(g[e.resolution-h+++1]=c);for(var m=0;m<e.resolution;m++)g[h++]=3,g[h++]=0,g[h++]=m+1,g[h++]=m+2>e.resolution?1:m+2;(i=Gt.buildFromRadian()).translate.apply(i,de(e.center)).rotateFromDirections([1,0,0],e.direction).apply(p),u=et.newInstance(),u.getPoints().setData(p,3),u.getPolys().setData(g,1),n[0]=u}}t.requestData=a}var $7={height:1,radius:.5,resolution:6,center:[0,0,0],direction:[1,0,0],capping:!0,pointType:"Float64Array"};function zh(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,$7,a),U.obj(t,e),U.setGet(t,e,["height","radius","resolution","capping"]),U.setGetArray(t,e,["center","direction"],3),U.algo(t,e,0,1),I7(t,e)}var H7=U.newInstance(zh,"vtkConeSource"),K7={newInstance:H7,extend:zh};function X7(t,e){e.classHierarchy.push("vtkCubeSource");function a(r,n){var i;if(!e.deleted){var u=et.newInstance();n[0]=u;var o=6,f=24,s=U.newTypedArray(e.pointType,f*3);u.getPoints().setData(s,3);var l=U.newTypedArray(e.pointType,f*3),c=we.newInstance({name:"Normals",values:l,numberOfComponents:3});u.getPointData().setNormals(c);var p=2;e.generate3DTextureCoordinates===!0&&(p=3);var h=U.newTypedArray(e.pointType,f*p),g=we.newInstance({name:"TextureCoordinates",values:h,numberOfComponents:p});u.getPointData().setTCoords(g);var y=[0,0,0],m=[0,0,0],x=[0,0],v=0;y[0]=-e.xLength/2,m[0]=-1,m[1]=0,m[2]=0;for(var d=0;d<2;d++){y[1]=-e.yLength/2;for(var w=0;w<2;w++){x[1]=y[1]+.5,y[2]=-e.zLength/2;for(var C=0;C<2;C++)x[0]=(y[2]+.5)*(1-2*d),s[v*3]=y[0],s[v*3+1]=y[1],s[v*3+2]=y[2],l[v*3]=m[0],l[v*3+1]=m[1],l[v*3+2]=m[2],p===2?(h[v*p]=x[0],h[v*p+1]=x[1]):(h[v*p]=2*d-1,h[v*p+1]=2*w-1,h[v*p+2]=2*C-1),v++,y[2]+=e.zLength;y[1]+=e.yLength}y[0]+=e.xLength,m[0]+=2}y[1]=-e.yLength/2,m[1]=-1,m[0]=0,m[2]=0;for(var S=0;S<2;S++){y[0]=-e.xLength/2;for(var T=0;T<2;T++){x[0]=(y[0]+.5)*(2*S-1),y[2]=-e.zLength/2;for(var _=0;_<2;_++)x[1]=(y[2]+.5)*-1,s[v*3]=y[0],s[v*3+1]=y[1],s[v*3+2]=y[2],l[v*3]=m[0],l[v*3+1]=m[1],l[v*3+2]=m[2],p===2?(h[v*p]=x[0],h[v*p+1]=x[1]):(h[v*p]=2*T-1,h[v*p+1]=2*S-1,h[v*p+2]=2*_-1),v++,y[2]+=e.zLength;y[0]+=e.xLength}y[1]+=e.yLength,m[1]+=2}y[2]=-e.zLength/2,m[2]=-1,m[0]=0,m[1]=0;for(var D=0;D<2;D++){y[1]=-e.yLength/2;for(var b=0;b<2;b++){x[1]=y[1]+.5,y[0]=-e.xLength/2;for(var E=0;E<2;E++)x[0]=(y[0]+.5)*(2*D-1),s[v*3]=y[0],s[v*3+1]=y[1],s[v*3+2]=y[2],l[v*3]=m[0],l[v*3+1]=m[1],l[v*3+2]=m[2],p===2?(h[v*p]=x[0],h[v*p+1]=x[1]):(h[v*p]=2*E-1,h[v*p+1]=2*b-1,h[v*p+2]=2*D-1),v++,y[0]+=e.xLength;y[1]+=e.yLength}y[2]+=e.zLength,m[2]+=2}Gt.buildFromDegree().rotateX(e.rotations[0]).rotateY(e.rotations[1]).rotateZ(e.rotations[2]).apply(s).apply(l),(i=Gt.buildFromRadian()).translate.apply(i,de(e.center)).apply(s);var N=new Uint16Array(o*5);u.getPolys().setData(N,1);var R=0;N[R++]=4,N[R++]=0,N[R++]=1,N[R++]=3,N[R++]=2,N[R++]=4,N[R++]=4,N[R++]=6,N[R++]=7,N[R++]=5,N[R++]=4,N[R++]=8,N[R++]=10,N[R++]=11,N[R++]=9,N[R++]=4,N[R++]=12,N[R++]=13,N[R++]=15,N[R++]=14,N[R++]=4,N[R++]=16,N[R++]=18,N[R++]=19,N[R++]=17,N[R++]=4,N[R++]=20,N[R++]=21,N[R++]=23,N[R]=22}}t.setBounds=function(){var r=[];if(Array.isArray(arguments.length<=0?void 0:arguments[0]))r=arguments.length<=0?void 0:arguments[0];else for(var n=0;n<arguments.length;n++)r.push(n<0||arguments.length<=n?void 0:arguments[n]);r.length===6&&(e.xLength=r[1]-r[0],e.yLength=r[3]-r[2],e.zLength=r[5]-r[4],e.center=[(r[0]+r[1])/2,(r[2]+r[3])/2,(r[4]+r[5])/2])},t.requestData=a}var q7={xLength:1,yLength:1,zLength:1,center:[0,0,0],rotations:[0,0,0],pointType:"Float64Array",generate3DTextureCoordinates:!1};function Y7(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,q7,a),U.obj(t,e),U.setGet(t,e,["xLength","yLength","zLength","generate3DTextureCoordinates"]),U.setGetArray(t,e,["center","rotations"],3),U.algo(t,e,0,1),X7(t,e)}U.newInstance(Y7,"vtkCubeSource");function J7(t,e){e.classHierarchy.push("vtkCylinderSource");function a(r,n){var i,u;if(!e.deleted){var o=n[0],f=2*Math.PI/e.resolution,s=2*e.resolution,l=5*e.resolution;e.capping&&(s=4*e.resolution,l=7*e.resolution+2);for(var c=U.newTypedArray(e.pointType,s*3),p=0,h=new Uint32Array(l),g=new Float32Array(s*3),y=we.newInstance({numberOfComponents:3,values:g,name:"Normals"}),m=new Float32Array(s*2),x=we.newInstance({numberOfComponents:2,values:m,name:"TCoords"}),v=[0,0,0],d=[0,0,0],w=[0,0,0],C=[0,0,0],S=[0,0],T=[0,0],_=e.otherRadius==null?e.radius:e.otherRadius,D=0;D<e.resolution;D++){v[0]=Math.cos(D*f+e.initAngle),d[0]=v[0],w[0]=e.radius*v[0]+e.center[0],C[0]=w[0],S[0]=Math.abs(2*D/e.resolution-1),T[0]=S[0],w[1]=.5*e.height+e.center[1],C[1]=-.5*e.height+e.center[1],S[1]=0,T[1]=1,v[2]=-Math.sin(D*f+e.initAngle),d[2]=v[2],w[2]=_*v[2]+e.center[2],C[2]=w[2];for(var b=2*D,E=0;E<3;E++)g[b*3+E]=v[E],g[(b+1)*3+E]=d[E],c[b*3+E]=w[E],c[(b+1)*3+E]=C[E],E<2&&(m[b*2+E]=S[E],m[(b+1)*2+E]=T[E])}for(var N=0;N<e.resolution;N++){h[p++]=4,h[p++]=2*N,h[p++]=2*N+1;var R=(2*N+3)%(2*e.resolution);h[p++]=R,h[p++]=R-1}if(e.capping){for(var M=0;M<e.resolution;M++){w[0]=e.radius*Math.cos(M*f+e.initAngle),C[0]=w[0],S[0]=w[0],T[0]=w[0],w[0]+=e.center[0],C[0]+=e.center[0],v[1]=1,d[1]=-1,w[1]=.5*e.height+e.center[1],C[1]=-.5*e.height+e.center[1],w[2]=-_*Math.sin(M*f+e.initAngle),C[2]=w[2],S[1]=w[2],T[1]=w[2],w[2]+=e.center[2],C[2]+=e.center[2];for(var G=2*e.resolution+M,j=3*e.resolution+e.resolution-M-1,z=0;z<3;z++)g[3*G+z]=v[z],g[3*j+z]=d[z],c[3*G+z]=w[z],c[3*j+z]=C[z],z<2&&(m[2*G+z]=S[z],m[2*j+z]=T[z])}h[p++]=e.resolution;for(var V=0;V<e.resolution;V++)h[p++]=2*e.resolution+V;h[p++]=e.resolution;for(var L=0;L<e.resolution;L++)h[p++]=3*e.resolution+L}(i=(u=Gt.buildFromRadian()).translate.apply(u,de(e.center)).rotateFromDirections([0,1,0],e.direction)).translate.apply(i,de(e.center.map(function(B){return B*-1}))).apply(c),o=et.newInstance(),o.getPoints().setData(c,3),o.getPolys().setData(h,1),o.getPointData().setNormals(y),o.getPointData().setTCoords(x),n[0]=o}}t.requestData=a}var Z7={height:1,initAngle:0,radius:1,resolution:6,center:[0,0,0],direction:[0,1,0],capping:!0,pointType:"Float64Array"};function Wh(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Z7,a),U.obj(t,e),U.setGet(t,e,["height","initAngle","otherRadius","radius","resolution","capping"]),U.setGetArray(t,e,["center","direction"],3),U.algo(t,e,0,1),J7(t,e)}var Q7=U.newInstance(Wh,"vtkCylinderSource"),ex={newInstance:Q7,extend:Wh},tx=U.vtkWarningMacro;function rx(t,e){e.classHierarchy.push("vtkLineSource"),t.requestData=function(a,r){if(!e.deleted){var n=r[0],i=n?n.getPoints().getDataType():e.pointType,u=et.newInstance(),o=[];if(ht(e.point2,e.point1,o),On(o)<=0){tx("Zero-length line definition");return}var f=e.resolution,s=f+1,l=U.newTypedArray(i,s*3);u.getPoints().setData(l,3);var c=new Uint32Array(s+1);u.getLines().setData(c,1);for(var p=0,h=0,g=0;g<f+1;g++)h=g/f,l[p*3]=e.point1[0]+h*o[0],l[p*3+1]=e.point1[1]+h*o[1],l[p*3+2]=e.point1[2]+h*o[2],p++;p=0,c[0]=s;for(var y=0;y<s;y++)c[y+1]=y;r[0]=u}}}var nx={resolution:10,point1:[-1,0,0],point2:[1,0,0],pointType:"Float64Array"};function ax(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,nx,a),U.obj(t,e),U.setGet(t,e,["resolution"]),U.setGetArray(t,e,["point1","point2"],3),U.algo(t,e,0,1),rx(t,e)}U.newInstance(ax,"vtkLineSource");var ix=U.vtkWarningMacro,ox=1e-6;function sx(t,e){e.classHierarchy.push("vtkPlaneSource"),t.requestData=function(a,r){if(!e.deleted){var n=r[0],i=n?n.getPoints().getDataType():e.pointType,u=et.newInstance(),o=[],f=[];if(ht(e.point1,e.origin,o),ht(e.point2,e.origin,f),!t.updatePlane(o,f)){ix("Bad plane definition");return}var s=e.xResolution,l=e.yResolution,c=(s+1)*(l+1),p=s*l,h=U.newTypedArray(i,c*3);u.getPoints().setData(h,3);var g=new Uint32Array(5*p);u.getPolys().setData(g,1);var y=new Float32Array(c*3),m=we.newInstance({numberOfComponents:3,values:y,name:"Normals"});u.getPointData().setNormals(m);var x=new Float32Array(c*2),v=we.newInstance({numberOfComponents:2,values:x,name:"TextureCoordinates"});u.getPointData().setTCoords(v);for(var d=new Float32Array(2),w=0,C=0;C<l+1;C++){d[1]=C/l;for(var S=0;S<s+1;S++)d[0]=S/s,h[w*3]=e.origin[0]+d[0]*o[0]+d[1]*f[0],h[w*3+1]=e.origin[1]+d[0]*o[1]+d[1]*f[1],h[w*3+2]=e.origin[2]+d[0]*o[2]+d[1]*f[2],x[w*2]=d[0],x[w*2+1]=d[1],y[w*3]=e.normal[0],y[w*3+1]=e.normal[1],y[w*3+2]=e.normal[2],w++}w=0;for(var T=0;T<l;T++)for(var _=0;_<s;_++)g[w*5+0]=4,g[w*5+1]=_+T*(s+1),g[w*5+2]=g[w*5+1]+1,g[w*5+3]=g[w*5+1]+s+2,g[w*5+4]=g[w*5+1]+s+1,w++;r[0]=u}},t.setNormal=function(){var a=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?a=de(arguments.length<=0?void 0:arguments[0]):arguments.length===3&&(a=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),ut(a)!==0){var r=Me(e.normal,a),n=0,i=[];r<1&&(r<=-1?(n=nt(180),ht(e.point1,e.origin,i)):(Nt(e.normal,a,i),n=Math.acos(r)),t.rotate(n,i))}},t.rotate=function(a,r){if(!(Math.abs(a)<ox)){var n=be(new Float64Array(16)),i=[];zl(i,e.center),Ze(n,n,e.center),yt(n,n,a,r),Ze(n,n,i),Te(e.origin,e.origin,n),Te(e.point1,e.point1,n),Te(e.point2,e.point2,n),Gt.buildFromRadian().rotate(a,r).apply(e.normal),t.modified()}},t.setCenter=function(){var a=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?a=de(arguments.length<=0?void 0:arguments[0]):arguments.length===3&&(a=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!Yn(a,e.center)){var r=[];ht(e.point1,e.origin,r);var n=[];ht(e.point2,e.origin,n);for(var i=0;i<3;i++)e.center[i]=a[i],e.origin[i]=e.center[i]-.5*(r[i]+n[i]),e.point1[i]=e.origin[i]+r[i],e.point2[i]=e.origin[i]+n[i];t.modified()}},t.setPoint1=function(){var a=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?a=de(arguments.length<=0?void 0:arguments[0]):arguments.length===3&&(a=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!Yn(a,e.point1)){var r=[],n=[];e.point1=de(a),ht(e.point1,e.origin,r),ht(e.point2,e.origin,n),t.updatePlane(r,n),t.modified()}},t.setPoint2=function(){var a=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?a=de(arguments.length<=0?void 0:arguments[0]):arguments.length===3&&(a=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!Yn(a,e.point2)){var r=[],n=[];e.point2=de(a),ht(e.point1,e.origin,r),ht(e.point2,e.origin,n),t.updatePlane(r,n),t.modified()}},t.updatePlane=function(a,r){for(var n=0;n<3;n++)e.center[n]=e.origin[n]+.5*(a[n]+r[n]);return Nt(a,r,e.normal),ut(e.normal)!==0}}var ux={xResolution:10,yResolution:10,origin:[0,0,0],point1:[1,0,0],point2:[0,1,0],pointType:"Float64Array"};function cx(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ux,a),e.normal=[0,0,1],e.center=[0,0,0],U.obj(t,e),U.setGet(t,e,["xResolution","yResolution"]),U.setGetArray(t,e,["origin"],3),U.getArray(t,e,["point1","point2","normal","center"],3),U.algo(t,e,0,1),sx(t,e),t.setPoint1(e.point1),t.setPoint2(e.point2)}U.newInstance(cx,"vtkPlaneSource");function fx(t,e){e.classHierarchy.push("vtkPointSource"),t.requestData=function(a,r){if(!e.deleted){var n=r[0],i=n?n.getPoints().getDataType():e.pointType,u=et.newInstance(),o=e.numberOfPoints,f=U.newTypedArray(i,o*3);u.getPoints().setData(f,3);var s=new Uint32Array(o+1);u.getVerts().setData(s,1);for(var l,c,p,h,g,y=0;y<o;y++)l=1-2*cs(),c=Math.sqrt(1-l*l),p=e.radius*Math.pow(cs(),.33333333),h=p*c,g=2*Math.PI*cs(),f[y*3]=e.center[0]+h*Math.cos(g),f[y*3+1]=e.center[1]+h*Math.sin(g),f[y*3+2]=e.center[2]+p*l;s[0]=o;for(var m=0;m<o;m++)s[m+1]=m;r[0]=u}}}var lx={numberOfPoints:10,center:[0,0,0],radius:.5,pointType:"Float64Array"};function px(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,lx,a),U.obj(t,e),U.setGet(t,e,["numberOfPoints","radius"]),U.setGetArray(t,e,["center"],3),U.algo(t,e,0,1),fx(t,e)}U.newInstance(px,"vtkPointSource");function hx(t,e){e.classHierarchy.push("vtkSphereSource"),t.requestData=function(a,r){if(!e.deleted){var n=r[0],i=n?n.getPoints().getDataType():e.pointType;n=et.newInstance();var u=0,o=e.thetaResolution,f=e.startTheta<e.endTheta?e.startTheta:e.endTheta;f*=Math.PI/180;var s=e.endTheta>e.startTheta?e.endTheta:e.startTheta;s*=Math.PI/180;var l=e.startPhi<e.endPhi?e.startPhi:e.endPhi;l*=Math.PI/180;var c=e.endPhi>e.startPhi?e.endPhi:e.startPhi;c*=Math.PI/180,Math.abs(f-s)<2*Math.PI&&++o;var p=(s-f)/e.thetaResolution,h=e.startPhi<=0?1:0,g=e.phiResolution+(e.endPhi>=180?-1:0),y=e.phiResolution*o+2,m=e.phiResolution*2*e.thetaResolution,x=0,v=U.newTypedArray(i,y*3),d=new Float32Array(y*3),w=0,C=new Uint32Array(m*5);e.startPhi<=0&&(v[x*3+0]=e.center[0],v[x*3+1]=e.center[1],v[x*3+2]=e.center[2]+e.radius,d[x*3+0]=0,d[x*3+1]=0,d[x*3+2]=1,x++,u++),e.endPhi>=180&&(v[x*3+0]=e.center[0],v[x*3+1]=e.center[1],v[x*3+2]=e.center[2]-e.radius,d[x*3+0]=0,d[x*3+1]=0,d[x*3+2]=-1,x++,u++);for(var S=e.phiResolution-u,T=(c-l)/(e.phiResolution-1),_=0;_<o;_++)for(var D=f+_*p,b=h;b<g;b++){var E=l+b*T,N=e.radius*Math.sin(E);d[x*3+0]=N*Math.cos(D),d[x*3+1]=N*Math.sin(D),d[x*3+2]=e.radius*Math.cos(E),v[x*3+0]=d[x*3+0]+e.center[0],v[x*3+1]=d[x*3+1]+e.center[1],v[x*3+2]=d[x*3+2]+e.center[2];var R=Math.sqrt(d[x*3+0]*d[x*3+0]+d[x*3+1]*d[x*3+1]+d[x*3+2]*d[x*3+2]);R=R===0?1:R,d[x*3+0]/=R,d[x*3+1]/=R,d[x*3+2]/=R,x++}var M=S*o;if(Math.abs(f-s)<2*Math.PI&&--o,e.startPhi<=0)for(var G=0;G<o;G++)C[w++]=3,C[w++]=S*G+u,C[w++]=S*(G+1)%M+u,C[w++]=0;if(e.endPhi>=180)for(var j=S-1+u,z=0;z<o;z++)C[w++]=3,C[w++]=S*z+j,C[w++]=u-1,C[w++]=S*(z+1)%M+j;for(var V=0;V<o;V++)for(var L=0;L<S-1;L++){var B=S*V+L+u,$=B+1,H=(S*(V+1)+L)%M+u+1;e.latLongTessellation?(C[w++]=4,C[w++]=B,C[w++]=$,C[w++]=H,C[w++]=H-1):(C[w++]=3,C[w++]=B,C[w++]=$,C[w++]=H,C[w++]=3,C[w++]=B,C[w++]=H,C[w++]=H-1)}v=v.subarray(0,x*3),n.getPoints().setData(v,3),d=d.subarray(0,x*3);var X=we.newInstance({name:"Normals",values:d,numberOfComponents:3});n.getPointData().setNormals(X),C=C.subarray(0,w),n.getPolys().setData(C,1),r[0]=n}}}var vx={radius:.5,latLongTessellation:!1,thetaResolution:8,startTheta:0,endTheta:360,phiResolution:8,startPhi:0,endPhi:180,center:[0,0,0],pointType:"Float64Array"};function gx(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,vx,a),U.obj(t,e),U.setGet(t,e,["radius","latLongTessellation","thetaResolution","startTheta","endTheta","phiResolution","startPhi","endPhi"]),U.setGetArray(t,e,["center"],3),U.algo(t,e,0,1),hx(t,e)}U.newInstance(gx,"vtkSphereSource");function kf(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function dx(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?kf(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):kf(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var Lf=Ne;function yx(t){var e=t.getPolys().getData(),a=t.getStrips().getData(),r={done:!1,polyIdx:0,stripIdx:0,remainingStripLength:0,next:function(){var i=null;if(r.polyIdx<e.length){var u=e[r.polyIdx],o=r.polyIdx+1,f=o+u;r.polyIdx=f,i=e.subarray(o,f)}else if(r.stripIdx<a.length){r.remainingStripLength===0&&(r.remainingStripLength=a[r.stripIdx]-2,r.stripIdx+=3);var s=r.stripIdx-2,l=r.stripIdx+1;r.stripIdx++,r.remainingStripLength--,i=a.subarray(s,l)}else if(r.done)throw new Error("Iterator is done");return r.done=r.polyIdx>=e.length&&r.stripIdx>=a.length,i}};return r}function mx(t,e){e.classHierarchy.push("vtkCutter");var a=dx({},t);t.getMTime=function(){var n=a.getMTime();return e.cutFunction&&(n=Math.max(n,e.cutFunction.getMTime())),n};function r(n,i){var u=n.getPoints(),o=u.getData(),f=u.getNumberOfPoints(),s=[],l=[],c=[];(!e.cutScalars||e.cutScalars.length<f)&&(e.cutScalars=new Float32Array(f));for(var p=0,h=0;p<o.length;)e.cutScalars[h++]=e.cutFunction.evaluateFunction(o[p++],o[p++],o[p++]);for(var g=[],y=new Array(3),m=new Array(3),x=yx(n);!x.done;){var v=x.next();if(!(v.length<=2)){for(var d=[],w=void 0,C=0;C<v.length;C++)w=v[C],d.push(e.cutScalars[w]);for(var S=d[0]>0,T=!0,_=1;_<d.length;_++){var D=d[_]>0;if(D!==S){T=!1;break}}if(!T){for(var b=[],E=0;E<v.length;E++){var N=E+1===v.length?0:E+1,R=d[E]>0,M=d[N]>0;if(M!==R){var G=E,j=N,z=d[j]-d[G];z<=0&&(G=N,j=E,z*=-1);var V=0;z!==0&&(V=(e.cutValue-d[G])/z);var L=v[G],B=v[j];y[0]=o[L*3],y[1]=o[L*3+1],y[2]=o[L*3+2],m[0]=o[B*3],m[1]=o[B*3+1],m[2]=o[B*3+2];var $=[y[0]+V*(m[0]-y[0]),y[1]+V*(m[1]-y[1]),y[2]+V*(m[2]-y[2])];b.push({pointEdge1:L,pointEdge2:B,intersectedPoint:$,newPointID:-1})}}for(var H=0;H<b.length;H++){for(var X=b[H],Z=!1,Y=0;Y<g.length;Y++){var J=g[Y],ne=X.pointEdge1===J.pointEdge1&&X.pointEdge2===J.pointEdge2,ee=X.intersectedPoint[0]===J.intersectedPoint[0]&&X.intersectedPoint[1]===J.intersectedPoint[1]&&X.intersectedPoint[2]===J.intersectedPoint[2];if(ne||ee){Z=!0,b[H].newPointID=g[Y].newPointID;break}}Z||(s.push(X.intersectedPoint[0]),s.push(X.intersectedPoint[1]),s.push(X.intersectedPoint[2]),b[H].newPointID=s.length/3-1,g.push(b[H]))}var te=b.length;te===2?l.push(te,b[0].newPointID,b[1].newPointID):te>2&&(c.push(te),b.forEach(function(O){c.push(O.newPointID)}))}}}var k=i.getPoints();k.setData(Q0(u.getDataType(),s),3),l.length!==0&&i.getLines().setData(Uint16Array.from(l)),c.length!==0&&i.getPolys().setData(Uint16Array.from(c))}t.requestData=function(n,i){var u=n[0];if(!u){Lf("Invalid or missing input");return}if(!e.cutFunction){Lf("Missing cut function");return}var o=et.newInstance();r(u,o),i[0]=o}}var xx={cutFunction:null,cutScalars:null,cutValue:0};function wx(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,xx,a),vt(t,e),l1(t,e,1,1),Tt(t,e,["cutFunction","cutValue"]),mx(t,e)}ot(wx,"vtkCutter");var Ai=U.vtkDebugMacro,Cx=U.vtkErrorMacro;function Sx(t,e){e.classHierarchy.push("vtkWarpScalar"),t.requestData=function(a,r){var n=a[0];if(!n)return Cx("Invalid or missing input"),1;var i=n.getPoints(),u=n.getPointData(),o=u.getNormals(),f=t.getInputArrayToProcess(0);if(!i||!f)return Ai("No data to warp",!!i,!!f),r[0]=a[0],1;var s=i.getNumberOfPoints(),l=null,c=[0,0,1];o&&!e.useNormal?(l=function(T,_){return[_.getData()[T*3],_.getData()[T*3+1],_.getData()[T*3+2]]},Ai("Using data normals")):t.getXyPlane()?(l=function(T,_){return c},Ai("Using x-y plane normal")):(l=function(T,_){return e.normal},Ai("Using Normal instance variable"));for(var p=new Float32Array(s*3),h=i.getData(),g=0,y=[0,0,1],m=1,x=f.getData(),v=f.getNumberOfComponents(),d=0;d<s;++d)g=d*3,y=l(d,o),e.xyPlane?m=h[g+2]:m=x[d*v],p[g]=h[g]+e.scaleFactor*m*y[0],p[g+1]=h[g+1]+e.scaleFactor*m*y[1],p[g+2]=h[g+2]+e.scaleFactor*m*y[2];var w=xt({vtkClass:n.getClassName()});w.shallowCopy(n);var C=Yr.newInstance();return C.setData(p,3),w.setPoints(C),r[0]=w,1}}var Tx={scaleFactor:1,useNormal:!1,normal:[0,0,1],xyPlane:!1};function _x(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Tx,a),U.obj(t,e),U.algo(t,e,1,1),U.setGet(t,e,["scaleFactor","useNormal","xyPlane"]),U.setGetArray(t,e,["normal"],3),Sx(t,e)}U.newInstance(_x,"vtkWarpScalar");var Dx={VARY_RADIUS_OFF:0,VARY_RADIUS_BY_SCALAR:1,VARY_RADIUS_BY_VECTOR:2,VARY_RADIUS_BY_ABSOLUTE_SCALAR:3},Ex={TCOORDS_OFF:0,TCOORDS_FROM_NORMALIZED_LENGTH:1,TCOORDS_FROM_LENGTH:2,TCOORDS_FROM_SCALARS:3},Ih={VaryRadius:Dx,GenerateTCoords:Ex},Aa=Ih.VaryRadius,un=Ih.GenerateTCoords,Ox=U.vtkDebugMacro,bx=U.vtkErrorMacro,Ta=U.vtkWarningMacro;function Nx(t,e){e.classHierarchy.push("vtkTubeFilter");function a(f,s){var l=f;return e.sidesShareVertices?l+=e.numberOfSides*s:l+=2*e.numberOfSides*s,e.capping&&(l+=2*e.numberOfSides),l}function r(f,s,l){for(var c=s[l],p=f.slice(3*c,3*(c+1)),h=l+1;h<s.length;){var g=s[h],y=f.slice(3*g,3*(g+1));if(p!==y)return h-1;++h}return s.length}function n(f,s,l){for(var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,p=[0,0,1],h=s,g=h[0],y=0;y<h.length;y+=g+1)if(g=h[y],g===1)l.setTuple(h[y+1],p);else if(g>1){var m=0,x=[0,0,0],v=[0,0,0],d=h.slice(y+1,y+1+g);if(m=r(f,d,0),m!==g)(function(){var C=d[m],S=f.slice(3*C,3*(C+1)),T=d[m+1],_=f.slice(3*T,3*(T+1));if(x=_.map(function(H,X){return H-S[X]}),ut(x),c)p=c;else{for(;++m<g;)if(m=r(f,d,m),m!==g){C=d[m],S=f.slice(3*C,3*(C+1)),T=d[m+1],_=f.slice(3*T,3*(T+1));for(var D=0;D<3;++D)v[D]=_[D]-S[D];ut(v);var b=[0,0,0];if(Nt(x,v,b),On(b)>.001){p=b,x=v;break}}if(m>=g){for(var E=0;E<3;++E)if(x[E]!==0){p[(E+2)%3]=0,p[(E+1)%3]=1,p[E]=-x[(E+1)%3]/x[E];break}}}ut(p);for(var N=0;++m<g&&(m=r(f,d,m),m!==g);){C=d[m],S=f.slice(3*C,3*(C+1)),T=d[m+1],_=f.slice(3*T,3*(T+1));for(var R=0;R<3;++R)v[R]=_[R]-S[R];ut(v);var M=[0,0,0];if(Nt(x,p,M),ut(M)!==0){var G=[0,0,0];if(Nt(v,x,G),ut(G)!==0){var j=Me(G,p),z=1-j*j;z>0?z=Math.sqrt(z):z=0;for(var V=[0,0,0],L=0;L<3;++L)V[L]=v[L]+x[L];ut(V),Nt(V,G,M),Nt(x,G,V),Me(p,V)*Me(M,V)<0&&(z*=-1);for(var B=N;B<m;++B)l.setTuple(d[B],p);N=m,x=v,p=j*G+z*M}}}for(var $=N;$<g;++$)l.setTuple(d[$],p)})();else for(var w=0;w<g;++w)l.setTuple(d[w],p)}return 1}function i(f,s,l,c,p,h,g,y,m,x,v,d,w,C){for(var S=[0,0,0],T=[0,0,0],_=[0,0,0],D=[0,0,0],b=[0,0,0],E=[0,0,0],N=[0,0,0],R=[0,0,0],M=[0,0,0],G=[0,0,0],j=[0,0,0],z=1,V=f,L=[],B=0;B<s;++B){if(B===0){b=c.slice(3*l[0],3*(l[0]+1)),E=c.slice(3*l[1],3*(l[1]+1));for(var $=0;$<3;++$)S[$]=E[$]-b[$],T[$]=S[$],_[$]=-T[$];ut(_)}else if(B===s-1){for(var H=0;H<3;++H)T[H]=S[H],b[H]=E[H],D[H]=S[H];ut(D)}else{for(var X=0;X<3;++X)b[X]=E[X];E=c.slice(3*l[B+1],3*(l[B+1]+1));for(var Z=0;Z<3;++Z)T[Z]=S[Z],S[Z]=E[Z]-b[Z]}if(ut(S)===0)return Ta("Coincident points!"),0;for(var Y=0;Y<3;++Y)N[Y]=(T[Y]+S[Y])/2;if(R=w.slice(3*l[B],3*(l[B]+1)),ut(N)===0&&(Nt(T,R,N),ut(N)===0&&Ox("Using alternate bevel vector")),Nt(N,R,M),ut(M)===0){var J="Bad normal: s = ";return J+="".concat(N[0],",  ").concat(N[1],", ").concat(N[2]),J+=" n = ".concat(R[0],",  ").concat(R[1],", ").concat(R[2]),Ta(J),0}if(Nt(M,N,G),ut(G),m&&e.varyRadius===Aa.VARY_RADIUS_BY_SCALAR)z=1+(e.radiusFactor-1)*(m.getComponent(l[B],0)-x[0])/(x[1]-x[0]);else if(v&&e.varyRadius===Aa.VARY_RADIUS_BY_VECTOR)z=Math.sqrt(d/On(v.getTuple(l[B],L))),z>e.radiusFactor&&(z=e.radiusFactor);else if(m&&e.varyRadius===Aa.VARY_RADIUS_BY_ABSOLUTE_SCALAR&&(z=m.getComponent(l[B],0),z<0))return Ta("Scalar value less than zero, skipping line"),0;if(e.sidesShareVertices)for(var ne=0;ne<e.numberOfSides;++ne){for(var ee=0;ee<3;++ee)j[ee]=M[ee]*Math.cos(ne*C)+G[ee]*Math.sin(ne*C),N[ee]=b[ee]+e.radius*z*j[ee],p[3*V+ee]=N[ee],y[3*V+ee]=j[ee];g.passData(h,l[B],V),V++}else for(var te=[0,0,0],k=[0,0,0],O=0;O<e.numberOfSides;++O){for(var A=0;A<3;++A)j[A]=M[A]*Math.cos(O*C)+G[A]*Math.sin(O*C),te[A]=M[A]*Math.cos((O-.5)*C)+G[A]*Math.sin((O-.5)*C),k[A]=M[A]*Math.cos((O+.5)*C)+G[A]*Math.sin((O+.5)*C),N[A]=b[A]+e.radius*z*j[A],p[3*V+A]=N[A],y[3*V+A]=te[A],p[3*(V+1)+A]=N[A],y[3*(V+1)+A]=k[A];g.passData(h,l[B],V+1),V+=2}}if(e.capping){var F=e.numberOfSides,P=1;e.sidesShareVertices||(F=2*e.numberOfSides,P=2);for(var I=0;I<F;I+=P){N=p.slice(3*(f+I),3*(f+I+1));for(var W=0;W<3;++W)p[3*V+W]=N[W],y[3*V+W]=_[W];g.passData(h,l[0],V),V++}var Q=f+(s-1)*e.numberOfSides;e.sidesShareVertices||(Q=f+2*(s-1)*e.numberOfSides);for(var re=0;re<F;re+=P){N=p.slice(3*(Q+re),3*(Q+re+1));for(var oe=0;oe<3;++oe)p[3*V+oe]=N[oe],y[3*V+oe]=D[oe];g.passData(h,l[s-1],V),V++}}return 1}function u(f,s,l,c,p,h,g){for(var y=0,m=0,x=0,v=c,d=0,w=g.getData(),C=0;d<w.length&&C!==c;)d+=w[d]+1,C++;if(e.sidesShareVertices)for(var S=f;S<e.numberOfSides+f;S+=e.onRatio){y=S%e.numberOfSides,m=(S+1)%e.numberOfSides,w[d++]=s*2;for(var T=0;T<s;++T)x=T*e.numberOfSides,w[d++]=f+m+x,w[d++]=f+y+x;h.passData(p,l,v++)}else for(var _=f;_<e.numberOfSides+f;_+=e.onRatio){y=2*(_%e.numberOfSides)+1,m=2*((_+1)%e.numberOfSides),w[d]=s*2,d++;for(var D=0;D<s;++D)x=D*2*e.numberOfSides,w[d++]=f+m+x,w[d++]=f+y+x;h.passData(p,l,v++)}if(e.capping){var b=f+s*e.numberOfSides,E=0;e.sidesShareVertices||(b=f+2*s*e.numberOfSides),w[d++]=e.numberOfSides,w[d++]=b,w[d++]=b+1;var N=0;for(y=e.numberOfSides-1,m=2,N=0;N<e.numberOfSides-2;++N)N%2?(E=b+m,w[d++]=E,m++):(E=b+y,w[d++]=E,y--);for(h.passData(p,l,v++),b+=e.numberOfSides,w[d++]=e.numberOfSides,w[d++]=b,w[d++]=b+e.numberOfSides-1,y=e.numberOfSides-2,m=1,N=0;N<e.numberOfSides-2;++N)N%2?(E=b+y,w[d++]=E,y--):(E=b+m,w[d++]=E,m++);h.passData(p,l,v++)}return v}function o(f,s,l,c,p,h){var g=e.numberOfSides;e.sidesShareVertices||(g=2*e.numberOfSides);var y=0,m=0,x=0,v=p.getData();if(e.generateTCoords===un.TCOORDS_FROM_SCALARS){m=v[l[0]];for(var d=0;d<s;++d){x=v[l[d]],y=(x-m)/e.textureLength;for(var w=0;w<g;++w){var C=w/(g-1),S=2*(f+d*g+w);h[S]=y,h[S+1]=C}}}else if(e.generateTCoords===un.TCOORDS_FROM_LENGTH)for(var T=0,_=c.slice(3*l[0],3*(l[0]+1)),D=0;D<s;++D){var b=c.slice(3*l[D],3*(l[D]+1));T+=Math.sqrt(Yt(b,_)),y=T/e.textureLength;for(var E=0;E<g;++E){var N=E/(g-1),R=2*(f+D*g+E);h[R]=y,h[R+1]=N}for(var M=0;M<3;++M)_[M]=b[M]}else if(e.generateTCoords===un.TCOORDS_FROM_NORMALIZED_LENGTH){for(var G=0,j=0,z=c.slice(3*l[0],3*(l[0]+1)),V=0;V<s;++V){var L=c.slice(3*l[V],3*(l[V]+1));j+=Math.sqrt(Yt(L,z));for(var B=0;B<3;++B)z[B]=L[B]}z=c.slice(3*l[0],3*(l[0]+1));for(var $=0;$<s;++$){var H=c.slice(3*l[$],3*(l[$]+1));G+=Math.sqrt(Yt(H,z)),y=G/j;for(var X=0;X<g;++X){var Z=X/(g-1),Y=2*(f+$*g+X);h[Y]=y,h[Y+1]=Z}for(var J=0;J<3;++J)z[J]=H[J]}}if(e.capping){for(var ne=f+s*g,ee=0;ee<e.numberOfSides;++ee){var te=2*(ne+ee);h[te]=0,h[te+1]=0}for(var k=0;k<e.numberOfSides;++k){var O=2*(ne+e.numberOfSides+k);h[O]=0,h[O+1]=0}}}t.requestData=function(f,s){var l=et.newInstance();s[0]=l;var c=f[0];if(!c){bx("Invalid or missing input");return}var p=c.getPoints();if(!!p){var h=p.getNumberOfPoints();if(!(h<1)){var g=c.getLines();if(!!g){var y=g.getNumberOfCells();if(!(y<1)){for(var m=0,x=0,v=g.getData(),d=v[0],w=0;w<v.length;w+=d+1)d=v[w],m=a(m,d),x+=(2*d+1)*Math.ceil(e.numberOfSides/e.onRatio),e.capping&&(x+=2*(e.numberOfSides+1));var C=p.getDataType();e.outputPointsPrecision===Nn.SINGLE?C=at.FLOAT:e.outputPointsPrecision===Nn.DOUBLE&&(C=at.DOUBLE);var S=Yr.newInstance({dataType:C,size:m*3,numberOfComponents:3}),T=3*m,_=new Float32Array(T),D=we.newInstance({numberOfComponents:3,values:_,name:"TubeNormals"}),b=new Uint32Array(x),E=To.newInstance({values:b}),N=0,R=c.getPointData().getNormals(),M=null,G=!1;(!R||e.useDefaultNormal)&&(M=new Float32Array(3*h),R=we.newInstance({numberOfComponents:3,values:M,name:"Normals"}),e.useDefaultNormal?M=M.map(function(re,oe){var ue=oe%3;return e.defaultNormal[ue]}):G=!0);for(var j=c.getPointData().getNumberOfArrays(),z=null,V=null,L=0;L<j;L++)z=c.getPointData().getArrayByIndex(L),V=we.newInstance({name:z.getName(),dataType:z.getDataType(),numberOfComponents:z.getNumberOfComponents(),size:m*z.getNumberOfComponents()}),l.getPointData().removeArrayByIndex(0),l.getPointData().addArray(V);var B=g.getNumberOfCells()*e.numberOfSides;e.capping&&(B+=2);for(var $=c.getCellData().getNumberOfArrays(),H=0;H<$;H++)z=c.getCellData().getArrayByIndex(H),V=we.newInstance({name:z.getName(),dataType:z.getDataType(),numberOfComponents:z.getNumberOfComponents(),size:B*z.getNumberOfComponents()}),l.getCellData().removeArrayByIndex(0),l.getCellData().addArray(V);var X=t.getInputArrayToProcess(0),Z=null,Y=[];X&&(Z=we.newInstance({name:X.getName(),dataType:X.getDataType(),numberOfComponents:X.getNumberOfComponents(),size:m*X.getNumberOfComponents()}),Y=X.getRange(),Y[1]-Y[0]===0&&(e.varyRadius===Aa.VARY_RADIUS_BY_SCALAR&&Ta("Scalar range is zero!"),Y[1]=Y[0]+1));var J=t.getInputArrayToProcess(1),ne=0;J&&(ne=J.getMaxNorm());var ee=l.getCellData();ee.copyNormalsOff(),ee.passData(c.getCellData());var te=l.getPointData();te.getNormals()!==null&&te.copyNormalsOff(),X&&Z&&te.setScalars(Z);var k=null;if(e.generateTCoords===un.TCOORDS_FROM_SCALARS&&X||e.generateTCoords===un.TCOORDS_FROM_LENGTH||e.generateTCoords===un.TCOORDS_FROM_NORMALIZED_LENGTH){var O=new Float32Array(2*m);k=we.newInstance({numberOfComponents:2,values:O,name:"TCoords"}),te.copyTCoordsOff()}te.passData(c.getPointData());var A=2*Math.PI/e.numberOfSides;d=v[0];for(var F=0,P=c.getVerts().getNumberOfCells(),I=0;I<v.length;I+=d+1){d=v[I];var W=v.slice(I+1,I+1+d);if(d>1&&G){var Q=v.slice(I,I+d+1);n(p.getData(),Q,R)}i(F,d,W,p.getData(),S.getData(),c.getPointData(),te,_,X,Y,J,ne,M,A)?(N=u(F,d,P,N,c.getCellData(),ee,E),k&&o(F,d,W,p.getData(),X,k.getData())):Ta("Could not generate points"),F=a(F,d),P++}l.setPoints(S),l.setStrips(E),l.setPointData(te),te.setNormals(D),s[0]=l}}}}}}var Mx={outputPointsPrecision:Nn.DEFAULT,radius:.5,varyRadius:Aa.VARY_RADIUS_OFF,numberOfSides:3,radiusFactor:10,defaultNormal:[0,0,1],useDefaultNormal:!1,sidesShareVertices:!0,capping:!1,onRatio:1,offset:0,generateTCoords:un.TCOORDS_OFF,textureLength:1};function Rx(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Mx,a),U.setGet(t,e,["outputPointsPrecision","radius","varyRadius","numberOfSides","radiusFactor","defaultNormal","useDefaultNormal","sidesShareVertices","capping","onRatio","offset","generateTCoords","textureLength"]),U.obj(t,e),U.algo(t,e,1,1),Nx(t,e)}U.newInstance(Rx,"vtkTubeFilter");function $h(t){var e=new TextDecoder("latin1");return e.decode(t)}function kx(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=$h(t),n=e.exec(r);if(!n)return{text:r};var i=n.index+n[0].length,u=r.substring(0,i),o=null,f=a?a.exec(r):null;if(f){var s=r.substr(f.index);o={text:u+s,binaryBuffer:t.slice(i,f.index)}}else o={text:u,binaryBuffer:t.slice(i)};return o}var Qa={arrayBufferToString:$h,extractBinary:kx},Hh=U.vtkErrorMacro,Lx=U.vtkDebugMacro,Lu=function(){return Hh("LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead."),Promise.reject(new Error("LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead."))},oa=0;function es(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=new XMLHttpRequest;return r.open(t,e,!0),a.headers&&Object.entries(a.headers).forEach(function(n){var i=ze(n,2),u=i[0],o=i[1];return r.setRequestHeader(u,o)}),a.progressCallback&&r.addEventListener("progress",a.progressCallback),r}function Fx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(a,r){var n=es("GET",t,e);n.onreadystatechange=function(i){n.readyState===4&&(n.status===200||n.status===0?a(n.response):r({xhr:n,e:i}))},n.responseType="arraybuffer",n.send()})}function Ax(t,e,a){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return r&&r.compression?Lu():a.ref&&!a.ref.pending?new Promise(function(n,i){var u=[e,a.ref.basepath,a.ref.id].join("/"),o=es("GET",u,r);o.onreadystatechange=function(f){o.readyState===1&&(a.ref.pending=!0,++oa===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0)),o.readyState===4&&(a.ref.pending=!1,o.status===200||o.status===0?(a.buffer=o.response,a.ref.encode==="JSON"?a.values=JSON.parse(a.buffer):(kr.ENDIANNESS!==a.ref.encode&&kr.ENDIANNESS&&(Lx("Swap bytes of ".concat(a.name)),kr.swapBytes(a.buffer,jo[a.dataType])),a.values=U.newTypedArray(a.dataType,a.buffer)),a.values.length!==a.size&&Hh("Error in FetchArray: ".concat(a.name,", does not have the proper array size. Got ").concat(a.values.length,", instead of ").concat(a.size)),delete a.ref,--oa===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),t!=null&&t.modified&&t.modified(),n(a)):i({xhr:o,e:f}))},o.responseType=a.dataType!=="string"?"arraybuffer":"text",o.send()}):Promise.resolve(a)}function Bx(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return a&&a.compression?Lu():new Promise(function(r,n){var i=es("GET",e,a);i.onreadystatechange=function(u){i.readyState===1&&++oa===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--oa===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?r(JSON.parse(i.responseText)):n({xhr:i,e:u}))},i.responseType="text",i.send()})}function Vx(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return a&&a.compression?Lu():new Promise(function(r,n){var i=es("GET",e,a);i.onreadystatechange=function(u){i.readyState===1&&++oa===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--oa===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?r(i.responseText):n({xhr:i,e:u}))},i.responseType="text",i.send()})}function Ux(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(function(r,n){var i=new Image;a.crossOrigin&&(i.crossOrigin=a.crossOrigin),i.onload=function(){return r(i)},i.onerror=n,i.src=e})}var Gx={fetchArray:Ax,fetchJSON:Bx,fetchText:Vx,fetchBinary:Fx,fetchImage:Ux};Gh("http")||Jo("http",function(t){return Gx});var Ms={ASCII:"ascii",BINARY_BIG_ENDIAN:"binary_big_endian",BINARY_LITTLE_ENDIAN:"binary_little_endian"},Ff={diffuse_red:"red",diffuse_green:"green",diffuse_blue:"blue"},Kh={patternHeader:/ply([\s\S]*)end_header\r?\n/,patternBody:/end_header\s([\s\S]*)$/};function Af(t){var e="",a=0,r=Kh.patternHeader.exec(t);r!==null&&(e=r[1],a=r[0].length);for(var n={comments:[],elements:[],headerLength:a},i=e.split(`
`),u,o,f,s=0;s<i.length;s++){var l=i[s];if(l=l.trim(),l!==""){var c=void 0;switch(f=l.split(/\s+/),o=f.shift(),l=f.join(" "),o){case"format":n.format=f[0],n.version=f[1];break;case"comment":n.comments.push(l);break;case"element":u!==void 0&&n.elements.push(u),u={},u.name=f[0],u.count=parseInt(f[1],10),u.properties=[];break;case"property":c={type:f[0]},c.type==="list"?(c.name=f[3],c.countType=f[1],c.itemType=f[2]):c.name=f[1],c.name in Ff&&(c.name=Ff[c.name]),u.properties.push(c);break;case"obj_info":n.objInfo=l;break;default:console.warn("unhandled",o,f);break}}}return u!==void 0&&n.elements.push(u),n}function Bf(t,e){var a=e.find(function(N){return N.name==="vertex"}),r=e.find(function(N){return N.name==="face"}),n=0,i=0;a&&(n=a.count),r&&(i=r.count);for(var u=new Float32Array(n*3),o=new Uint8Array(n*3),f=new Float32Array(n*2),s=new Float32Array(n*3),l=t.colors.length>0,c=t.uvs.length>0,p=t.normals.length>0,h=t.faceVertexUvs.length>0,g=0;g<n;g++){var y=g*3+0,m=g*3+1,x=g*3+2;u[y]=t.vertices[y],u[m]=t.vertices[m],u[x]=t.vertices[x],l&&(o[y]=t.colors[y],o[m]=t.colors[m],o[x]=t.colors[x]),c&&(y=g*2+0,m=g*2+1,f[y]=t.uvs[y],f[m]=t.uvs[m]),p&&(s[y]=t.normals[y],s[m]=t.normals[m],s[x]=t.normals[x])}if(!c&&h)for(var v=0,d=0,w=0;w<i;++w){var C=t.indices[v++],S=t.faceVertexUvs[d++];if(S&&C*2===S.length)for(var T=0;T<C;++T){var _=t.indices[v++];f[_*2+0]=S[T*2+0],f[_*2+1]=S[T*2+1]}else v+=C}var D=et.newInstance();if(D.getPoints().setData(u,3),l&&D.getPointData().setScalars(we.newInstance({numberOfComponents:3,values:o,name:"Scalars"})),c||h){var b=we.newInstance({numberOfComponents:2,values:f,name:"TextureCoordinates"}),E=D.getPointData();E.addArray(b),E.setActiveTCoords(b.getName())}return p&&D.getPointData().setNormals(we.newInstance({numberOfComponents:3,name:"Normals",values:s})),D.getPolys().setData(Uint32Array.from(t.indices)),D}function Rs(t,e){var a;switch(e){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":a=parseInt(t,10);break;case"float":case"double":case"float32":case"float64":a=parseFloat(t);break;default:console.log("Unsupported type");break}return a}function Px(t,e){for(var a=e.split(/\s+/),r={},n=0;n<t.length;n++)if(t[n].type==="list"){for(var i=[],u=Rs(a.shift(),t[n].countType),o=0;o<u;o++)i.push(Rs(a.shift(),t[n].itemType));r[t[n].name]=i}else r[t[n].name]=Rs(a.shift(),t[n].type);return r}function Vf(t,e,a){if(e==="vertex")t.vertices.push(a.x,a.y,a.z),"nx"in a&&"ny"in a&&"nz"in a&&t.normals.push(a.nx,a.ny,a.nz),"s"in a&&"t"in a?t.uvs.push(a.s,a.t):"u"in a&&"v"in a?t.uvs.push(a.u,a.v):"texture_u"in a&&"texture_v"in a&&t.uvs.push(a.texture_u,a.texture_v),"red"in a&&"green"in a&&"blue"in a&&t.colors.push(a.red,a.green,a.blue);else if(e==="face"){var r=a.vertex_indices||a.vertex_index,n=a.texcoord;r&&r.length>0&&(t.indices.push(r.length),r.forEach(function(i,u){t.indices.push(i)})),t.faceVertexUvs.push(n)}}function ks(t,e,a,r){var n;switch(a){case"int8":case"char":n=[t.getInt8(e),1];break;case"uint8":case"uchar":n=[t.getUint8(e),1];break;case"int16":case"short":n=[t.getInt16(e,r),2];break;case"uint16":case"ushort":n=[t.getUint16(e,r),2];break;case"int32":case"int":n=[t.getInt32(e,r),4];break;case"uint32":case"uint":n=[t.getUint32(e,r),4];break;case"float32":case"float":n=[t.getFloat32(e,r),4];break;case"float64":case"double":n=[t.getFloat64(e,r),8];break;default:console.log("Unsupported type");break}return n}function jx(t,e,a,r){for(var n={},i,u=0,o=0;o<a.length;o++)if(a[o].type==="list"){var f=[];i=ks(t,e+u,a[o].countType,r);var s=i[0];u+=i[1];for(var l=0;l<s;l++)i=ks(t,e+u,a[o].itemType,r),f.push(i[0]),u+=i[1];n[a[o].name]=f}else i=ks(t,e+u,a[o].type,r),n[a[o].name]=i[0],u+=i[1];return[n,u]}function zx(t,e){e.classHierarchy.push("vtkPLYReader"),e.dataAccessHelper||(e.dataAccessHelper=ga.get("http"));function a(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.compression,u=e.progressCallback;return n.binary?e.dataAccessHelper.fetchBinary(r,{compression:i,progressCallback:u}):e.dataAccessHelper.fetchText(t,r,{compression:i,progressCallback:u})}t.setUrl=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{binary:!0};e.url=r;var i=r.split("/");return i.pop(),e.baseURL=i.join("/"),e.compression=n.compression,t.loadData({progressCallback:n.progressCallback,binary:!!n.binary})},t.loadData=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=a(e.url,r);return n.then(t.parse),n},t.parse=function(r){typeof r=="string"?t.parseAsText(r):t.parseAsArrayBuffer(r)},t.parseAsArrayBuffer=function(r){if(!!r){if(r!==e.parseData)t.modified();else return;var n=Qa.arrayBufferToString(r),i=Af(n),u=i.format!==Ms.ASCII;if(!u){t.parseAsText(r);return}e.parseData=r;for(var o={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},f=i.format===Ms.BINARY_LITTLE_ENDIAN,s=r instanceof ArrayBuffer?r:r.buffer,l=new DataView(s,i.headerLength),c,p=0,h=0;h<i.elements.length;h++)for(var g=0;g<i.elements[h].count;g++){c=jx(l,p,i.elements[h].properties,f),p+=c[1];var y=c[0];Vf(o,i.elements[h].name,y)}var m=Bf(o,i.elements);e.output[0]=m}},t.parseAsText=function(r){if(!!r){if(r!==e.parseData)t.modified();else return;e.parseData=r;var n=Qa.arrayBufferToString(r),i=Af(n),u=i.format!==Ms.ASCII;if(u){t.parseAsArrayBuffer(r);return}var o={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},f=Kh.patternBody.exec(n),s="";f!==null&&(s=f[1]);for(var l=s.split(`
`),c=0,p=0,h=0;h<l.length;h++){var g=l[h];if(g=g.trim(),g!==""){p>=i.elements[c].count&&(c++,p=0);var y=Px(i.elements[c].properties,g);Vf(o,i.elements[c].name,y),p++}}var m=Bf(o,i.elements);e.output[0]=m}},t.requestData=function(r,n){t.parse(e.parseData)}}var Wx={};function Ix(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Wx,a),U.obj(t,e),U.get(t,e,["url","baseURL"]),U.setGet(t,e,["dataAccessHelper"]),U.algo(t,e,0,1),zx(t,e),e.compression||(e.compression=null),e.progressCallback||(e.progressCallback=null)}U.newInstance(Ix,"vtkPLYReader");var Ls=U.vtkErrorMacro;function $x(t){for(var e=t.split(" "),a=e.filter(function(o){return o.indexOf("=")>-1}),r={},n=0;n<a.length;++n){var i=a[n],u=i.split("=");u.length===2&&(r[u[0]]=u[1])}return r}function Uf(t,e){for(var a=0;a<t.length;a++)e.push(t[a])}function Hx(t,e,a,r,n){var i=t[e];if(i===void 0)return-1;if(i.indexOf("endfacet")!==-1||i.indexOf("facet")===-1)return e+1;var u=0,o=2,f=a.length/3,s=i.split(/[ \t]+/).filter(function(h){return h}).slice(-3).map(Number);for(Uf(s,n);t[e+o].indexOf("vertex")!==-1;){var l=t[e+o],c=l.split(/[ \t]+/).filter(function(h){return h}).slice(-3).map(Number);Uf(c,a),u++,o++}r.push(u);for(var p=0;p<u;p++)r.push(f+p);for(;t[e+o]&&t[e+o].indexOf("endfacet")!==-1;)o++;return e+o+2}function Kx(t,e){e.classHierarchy.push("vtkSTLReader"),e.dataAccessHelper||(e.dataAccessHelper=ga.get("http"));function a(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.compression!==void 0?n.compression:e.compression,u=n.progressCallback!==void 0?n.progressCallback:e.progressCallback;return n.binary?e.dataAccessHelper.fetchBinary(r,{compression:i,progressCallback:u}):e.dataAccessHelper.fetchText(t,r,{compression:i,progressCallback:u})}t.setUrl=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{binary:!0};e.url=r;var i=r.split("/");return i.pop(),e.baseURL=i.join("/"),t.loadData(n)},t.loadData=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=a(e.url,r);return n.then(t.parse),n},t.parse=function(r){typeof r=="string"?t.parseAsText(r):t.parseAsArrayBuffer(r)},t.parseAsArrayBuffer=function(r){if(!!r){if(r!==e.parseData)t.modified();else return;e.parseData=r;var n=!1,i=new DataView(r,0,80+4),u=i.getUint32(80,!0);if(n=84+u*50===r.byteLength,!n){t.parseAsText(Qa.arrayBufferToString(r));return}for(var o=r.slice(0,80),f=Qa.arrayBufferToString(o),s=$x(f),l=new DataView(r,84),c=(r.byteLength-84)/50,p=new Float32Array(c*9),h=new Float32Array(c*3),g=new Uint32Array(c*4),y=new Uint16Array(c),m=0,x=0;x<c;x++){var v=x*50;h[x*3+0]=l.getFloat32(v+0,!0),h[x*3+1]=l.getFloat32(v+4,!0),h[x*3+2]=l.getFloat32(v+8,!0),p[x*9+0]=l.getFloat32(v+12,!0),p[x*9+1]=l.getFloat32(v+16,!0),p[x*9+2]=l.getFloat32(v+20,!0),p[x*9+3]=l.getFloat32(v+24,!0),p[x*9+4]=l.getFloat32(v+28,!0),p[x*9+5]=l.getFloat32(v+32,!0),p[x*9+6]=l.getFloat32(v+36,!0),p[x*9+7]=l.getFloat32(v+40,!0),p[x*9+8]=l.getFloat32(v+44,!0),g[m++]=3,g[m++]=x*3+0,g[m++]=x*3+1,g[m++]=x*3+2,y[x]=l.getUint16(v+48,!0)}var d="SPACE";if(d in s&&s[d]!=="LPS"){var w=s[d],C=new Float32Array(16);switch(C[15]=1,w[0]){case"L":C[0]=1;break;case"R":C[0]=-1;break;default:Ls("Can not convert STL file from ".concat(w," to LPS space: ")+"permutations not supported. Use itk.js STL reader instead.");return}switch(w[1]){case"P":C[5]=1;break;case"A":C[5]=-1;break;default:Ls("Can not convert STL file from ".concat(w," to LPS space: ")+"permutations not supported. Use itk.js STL reader instead.");return}switch(w[2]){case"S":C[10]=1;break;case"I":C[10]=-1;break;default:Ls("Can not convert STL file from ".concat(w," to LPS space: ")+"permutations not supported. Use itk.js STL reader instead.");return}Gt.buildFromDegree().setMatrix(C).apply(p).apply(h)}var S=et.newInstance();S.getPoints().setData(p,3),S.getPolys().setData(g),S.getCellData().setScalars(we.newInstance({name:"Attribute",values:y})),S.getCellData().setNormals(we.newInstance({name:"Normals",values:h,numberOfComponents:3})),e.output[0]=S}},t.parseAsText=function(r){if(!!r){if(r!==e.parseData)t.modified();else return;e.parseData=r;for(var n=r.split(`
`),i=1,u=[],o=[],f=[];i!==-1;)i=Hx(n,i,u,o,f);var s=et.newInstance();s.getPoints().setData(Float32Array.from(u),3),s.getPolys().setData(Uint32Array.from(o)),s.getCellData().setNormals(we.newInstance({name:"Normals",values:Float32Array.from(f),numberOfComponents:3})),e.output[0]=s}},t.requestData=function(r,n){t.parse(e.parseData)}}var Xx={};function qx(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Xx,a),U.obj(t,e),U.get(t,e,["url","baseURL"]),U.setGet(t,e,["dataAccessHelper"]),U.algo(t,e,0,1),Kx(t,e),e.compression||(e.compression=null),e.progressCallback||(e.progressCallback=null)}U.newInstance(qx,"vtkSTLReader");function Yx(t,e){e.classHierarchy.push("vtkElevationReader"),e.dataAccessHelper||(e.dataAccessHelper=ga.get("http"));function a(r,n){return e.dataAccessHelper.fetchText(t,r,n)}t.setUrl=function(r,n){return e.url=r,t.loadData(n)},t.loadData=function(r){return a(e.url,r).then(function(n){return t.parseAsText(n),!0})},t.parseAsText=function(r){e.csv=r,e.elevation=[];var n=e.csv.split(`
`);n.forEach(function(i,u){e.elevation.push(i.split(",").map(function(o){return Number(o)}))}),t.modified()},t.requestData=function(r,n){var i=et.newInstance();if(i.getPoints().setData(new Float32Array(0,0,0,1,1,1),3),e.elevation){var u=e.elevation.length,o=e.elevation[0].length,f=i.getPoints();f.setNumberOfPoints(o*u,3);var s=f.getData(),l=To.newInstance({size:5*(o-1)*(u-1)});i.setPolys(l);var c=l.getData(),p=0,h=new Float32Array(o*u*2),g=we.newInstance({numberOfComponents:2,values:h,name:"TextureCoordinates"});i.getPointData().setTCoords(g);for(var y=0;y<u;y++)for(var m=0;m<o;m++){var x=y*o+m,v=3*x;s[v+0]=e.origin[0]+m*e.xSpacing*e.xDirection,s[v+1]=e.origin[1]+y*e.ySpacing*e.yDirection,s[v+2]=e.origin[2]+e.elevation[y][m]*e.zScaling,h[x*2]=m/(o-1),h[x*2+1]=1-y/(u-1),m>0&&y>0&&(c[p++]=4,c[p++]=x,c[p++]=x-1,c[p++]=x-1-o,c[p++]=x-o)}}e.output[0]=i},t.isBusy=function(){return!!e.requestCount}}var Jx={origin:[0,0,0],xSpacing:1,ySpacing:1,zScaling:1,xDirection:1,yDirection:-1,requestCount:0};function Zx(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Jx,a),U.obj(t,e),U.get(t,e,["url"]),U.setGet(t,e,["dataAccessHelper","xSpacing","ySpacing","zScaling","xDirection","yDirection"]),U.algo(t,e,0,1),U.event(t,e,"busy"),Yx(t,e)}U.newInstance(Zx,"vtkElevationReader");function Gf(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function Qx(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Gf(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Gf(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var ke={};function Fs(t,e,a,r,n){for(var i=0;i<n;i++)a[r+i]=t[e+i]}function ew(t){ke.splitOn=t,ke.pieces=[],ke.v=[],ke.vt=[],ke.vn=[],ke.f=[[]],ke.size=0}function tw(t){var e=t.split("/").map(function(i){return Number(i)}),a=e[0]-1,r=e[1]?e[1]-1:a,n=e[2]?e[2]-1:a;return[a,r,n]}function rw(t){if(t[0]!=="#"){var e=t.split(/[ \t]+/);if(e[0]===ke.splitOn)e.shift(),ke.pieces.push(e.join(" ").trim()),ke.f.push([]),ke.size++;else if(e[0]==="v")ke.v.push(Number(e[1])),ke.v.push(Number(e[2])),ke.v.push(Number(e[3]));else if(e[0]==="vt")ke.vt.push(Number(e[1])),ke.vt.push(Number(e[2]));else if(e[0]==="vn")ke.vn.push(Number(e[1])),ke.vn.push(Number(e[2])),ke.vn.push(Number(e[3]));else if(e[0]==="f"){ke.size===0&&ke.size++;var a=ke.f[ke.size-1];e.shift();var r=e.filter(function(u){return u.length>0&&u!=="\r"}),n=r.length;a.push(n);for(var i=0;i<n;i++)a.push(tw(r[i]))}}}function nw(t){var e=!!ke.vt.length,a=!!ke.vn.length;if(t.splitMode){t.numberOfOutputs=ke.size;for(var r=0;r<ke.size;r++){var n=ke.f[r],i=n.length,u=ke.v.length/3,o={},f=void 0;if(t.trackDuplicates){for(var s=[],l=0,c=0;c<i;)for(var p=n[c++],h=0;h<p;h++){var g=ze(n[c++],3),y=g[0],m=g[1],x=g[2],v="".concat(y,"/").concat(m,"/").concat(x);o[v]===void 0&&(s[y]===void 0?s[y]=[v]:(s[y].push(v),++l),o[v]=y)}f=new Uint16Array(u+l);for(var d=0,w=0;w<s.length;++w){var C=s[w]?s[w].length:0;f[w]=C>1?u+d:w;for(var S=1;S<C;++S){var T=u+d++;f[T]=w,o[s[w][S]]=T}}}for(var _={},D=et.newInstance({name:ke.pieces[r]}),b=[],E=[],N=[],R=[],M=0;M<i;){var G=n[M];R.push(G);for(var j=0;j<G;j++){var z=ze(n[M+j+1],3),V=z[0],L=z[1],B=z[2],$="".concat(V,"/").concat(L,"/").concat(B);if(_[$]===void 0){var H=t.trackDuplicates?o[$]:b.length/3;_[$]=H,Fs(ke.v,V*3,b,H*3,3),e&&Fs(ke.vt,L*2,E,H*2,2),a&&Fs(ke.vn,B*3,N,H*3,3)}R.push(_[$])}M+=G+1}if(D.getPoints().setData(Float32Array.from(b),3),t.trackDuplicates){var X=we.newInstance({name:"Duplicates",values:f});D.getPointData().addArray(X)}if(D.getPolys().setData(Uint32Array.from(R)),e){var Z=we.newInstance({numberOfComponents:2,values:Float32Array.from(E),name:"TextureCoordinates"});D.getPointData().setTCoords(Z)}if(a){var Y=we.newInstance({numberOfComponents:3,values:Float32Array.from(N),name:"Normals"});D.getPointData().setNormals(Y)}t.output[r]=D}}else{t.numberOfOutputs=1;var J=et.newInstance();if(J.getPoints().setData(Float32Array.from(ke.v),3),e&&ke.v.length/3===ke.vt.length/2){var ne=we.newInstance({numberOfComponents:2,values:Float32Array.from(ke.vt),name:"TextureCoordinates"});J.getPointData().setTCoords(ne)}if(a&&ke.v.length===ke.vn.length){var ee=we.newInstance({numberOfComponents:3,values:Float32Array.from(ke.vn),name:"Normals"});J.getPointData().setNormals(ee)}for(var te=[],k=ke.f[0],O=k.length,A=0;A<O;){var F=k[A];te.push(F);for(var P=0;P<F;P++){var I=ze(k[A+P+1],1),W=I[0];te.push(W)}A+=F+1}J.getPolys().setData(Uint32Array.from(te)),t.output[0]=J}}function aw(t,e){var a=[],r=t.getPointData().getArrayByName("Duplicates");if(r==null)return a;var n=r.getData(),i=Math.min(e,n[e]);a.push(i);var u=n[i];if(u!==i)for(;u<n.length&&n[u]===i;)a.push(u++);return a}var iw={getPointDuplicateIds:aw};function ow(t,e){e.classHierarchy.push("vtkOBJReader"),e.dataAccessHelper||(e.dataAccessHelper=ga.get("http"));function a(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.dataAccessHelper.fetchText(t,r,n)}t.setUrl=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r.indexOf(".obj")===-1&&!n.fullpath)e.baseURL=r,e.url="".concat(r,"/index.obj");else{e.url=r;var i=r.split("/");i.pop(),e.baseURL=i.join("/")}return t.loadData(n)},t.loadData=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return a(e.url,r).then(t.parseAsText)},t.parseAsText=function(r){return r&&(r!==e.parseData&&t.modified(),e.parseData=r,e.numberOfOutputs=0,ew(e.splitMode),r.split(`
`).forEach(rw),nw(e)),!0},t.requestData=function(r,n){t.parseAsText(e.parseData)},t.isBusy=function(){return!!e.requestCount},t.getNumberOfOutputPorts=function(){return e.numberOfOutputs}}var sw={numberOfOutputs:1,requestCount:0,splitMode:null,trackDuplicates:!1};function Xh(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,sw,a),U.obj(t,e),U.get(t,e,["url","baseURL"]),U.setGet(t,e,["dataAccessHelper","splitMode","trackDuplicates"]),U.algo(t,e,0,1),U.event(t,e,"busy"),ow(t,e)}var uw=U.newInstance(Xh,"vtkOBJReader");Qx({newInstance:uw,extend:Xh},iw);var cw=["chemical json","name","inchi","formula","atoms","bonds","properties"];function fw(t,e){e.classHierarchy.push("vtkMolecule")}var lw={"chemical json":0,name:"",inchi:"",formula:"",atoms:null,bonds:null,properties:null};function qh(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,lw,a),U.obj(t,e),e.atoms||(e.atoms={}),e.bonds||(e.bonds={}),e.properties||(e.properties={}),U.setGet(t,e,cw),fw(t,e)}var pw=U.newInstance(qh,"vtkMolecule"),hw={newInstance:pw,extend:qh},vw=[1],gw=[2],dw=[3],yw=[4],mw=[5],xw=[6],ww=[7],Cw=[8],Sw=[9],Tw=[10],_w=[11],Dw=[12],Ew=[13],Ow=[14],bw=[15],Nw=[16],Mw=[17],Rw=[18],kw=[19],Lw=[20],Fw=[21],Aw=[22],Bw=[23],Vw=[24],Uw=[25],Gw=[26],Pw=[27],jw=[28],zw=[29],Ww=[30],Iw=[31],$w=[32],Hw=[33],Kw=[34],Xw=[35],qw=[36],Yw=[37],Jw=[38],Zw=[39],Qw=[40],eC=[41],tC=[42],rC=[43],nC=[44],aC=[45],iC=[46],oC=[47],sC=[48],uC=[49],cC=[50],fC=[51],lC=[52],pC=[53],hC=[54],vC=[55],gC=[56],dC=[57],yC=[58],mC=[59],xC=[60],wC=[61],CC=[62],SC=[63],TC=[64],_C=[65],DC=[66],EC=[67],OC=[68],bC=[69],NC=[70],MC=[71],RC=[72],kC=[73],LC=[74],FC=[75],AC=[76],BC=[77],VC=[78],UC=[79],GC=[80],PC=[81],jC=[82],zC=[83],WC=[84],IC=[85],$C=[86],HC=[87],KC=[88],XC=[89],qC=[90],YC=[91],JC=[92],ZC=[93],QC=[94],eS=[95],tS=[96],rS=[97],nS=[98],aS=[99],iS=[100],oS=[101],sS=[102],uS=[103],cS=[104],fS=[105],lS=[106],pS=[107],hS=[108],vS=[109],gS=[110],dS=[111],yS=[112],mS=[113],xS=[114],wS=[115],CS=[116],SS=[117],TS=[118],_S={H:vw,He:gw,Li:dw,Be:yw,B:mw,C:xw,N:ww,O:Cw,F:Sw,Ne:Tw,Na:_w,Mg:Dw,Al:Ew,Si:Ow,P:bw,S:Nw,Cl:Mw,Ar:Rw,K:kw,Ca:Lw,Sc:Fw,Ti:Aw,V:Bw,Cr:Vw,Mn:Uw,Fe:Gw,Co:Pw,Ni:jw,Cu:zw,Zn:Ww,Ga:Iw,Ge:$w,As:Hw,Se:Kw,Br:Xw,Kr:qw,Rb:Yw,Sr:Jw,Y:Zw,Zr:Qw,Nb:eC,Mo:tC,Tc:rC,Ru:nC,Rh:aC,Pd:iC,Ag:oC,Cd:sC,In:uC,Sn:cC,Sb:fC,Te:lC,I:pC,Xe:hC,Cs:vC,Ba:gC,La:dC,Ce:yC,Pr:mC,Nd:xC,Pm:wC,Sm:CC,Eu:SC,Gd:TC,Tb:_C,Dy:DC,Ho:EC,Er:OC,Tm:bC,Yb:NC,Lu:MC,Hf:RC,Ta:kC,W:LC,Re:FC,Os:AC,Ir:BC,Pt:VC,Au:UC,Hg:GC,Tl:PC,Pb:jC,Bi:zC,Po:WC,At:IC,Rn:$C,Fr:HC,Ra:KC,Ac:XC,Th:qC,Pa:YC,U:JC,Np:ZC,Pu:QC,Am:eS,Cm:tS,Bk:rS,Cf:nS,Es:aS,Fm:iS,Md:oS,No:sS,Lr:uS,Rf:cS,Db:fS,Sg:lS,Bh:pS,Hs:hS,Mt:vS,Ds:gS,Rg:dS,Cn:yS,Uut:mS,Uuq:xS,Uup:wS,Uuh:CS,Uus:SS,Uuo:TS};function DS(t,e){e.classHierarchy.push("vtkPDBReader"),e.dataAccessHelper||(e.dataAccessHelper=ga.get("http"));function a(r,n){return e.dataAccessHelper.fetchText(t,r,n)}t.setUrl=function(r,n){if(r.indexOf(".pdb")===-1)e.baseURL=r,e.url="".concat(r);else{e.url=r;var i=r.split("/");i.pop(),e.baseURL=i.join("/")}return t.loadData(n)},t.loadData=function(r){return a(e.url,r).then(t.parseAsText)},t.parseAsText=function(r){return e.pdb=r,e.molecule=[],e.molecule=e.pdb.split(`
`),t.modified(),!0},t.requestData=function(r,n){var i=hw.newInstance();if(e.molecule){var u=e.molecule.length,o=[],f=[];e.numberOfAtoms=0;for(var s=0;s<u&&e.molecule[s]!=="END";){var l=e.molecule[s].length,c=e.molecule[s],p=c.substr(0,6).replace(/\s+/g,"");if(p.toUpperCase(),p==="ATOM"||p==="HETATM"){var h=c.substr(12,4).replace(/\s+/g,""),g=c.substr(30,8).replace(/\s+/g,""),y=c.substr(38,8).replace(/\s+/g,""),m=c.substr(46,8).replace(/\s+/g,""),x="";l>=78&&(x=c.substr(76,2).replace(/\s+/g,"")),x===""&&(x=h.substr(0,2).replace(/\d/g,"")),o.push(g),o.push(y),o.push(m);var v=ze(_S[x],1),d=v[0];f.push(d),e.numberOfAtoms++}s++}i.getAtoms().elements={},i.getAtoms().elements.number=Int8Array.from(f),i.getAtoms().coords={},i.getAtoms().coords["3d"]=Float32Array.from(o)}e.output[0]=i},t.isBusy=function(){return!!e.requestCount}}var ES={numberOfAtoms:0,requestCount:0};function OS(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ES,a),U.obj(t,e),U.get(t,e,["url","baseURL","numberOfAtoms","requestCount"]),U.setGet(t,e,["dataAccessHelper"]),U.algo(t,e,0,1),U.event(t,e,"busy"),DS(t,e)}U.newInstance(OS,"vtkPDBReader");var Yh={exports:{}};(function(t,e){(function(a,r){t.exports=r()})($t,function(){return function(a){var r={};function n(i){if(r[i])return r[i].exports;var u=r[i]={i,l:!1,exports:{}};return a[i].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=a,n.c=r,n.d=function(i,u,o){n.o(i,u)||Object.defineProperty(i,u,{enumerable:!0,get:o})},n.r=function(i){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},n.t=function(i,u){if(1&u&&(i=n(i)),8&u||4&u&&typeof i=="object"&&i&&i.__esModule)return i;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:i}),2&u&&typeof i!="string")for(var f in i)n.d(o,f,function(s){return i[s]}.bind(null,f));return o},n.n=function(i){var u=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(u,"a",u),u},n.o=function(i,u){return Object.prototype.hasOwnProperty.call(i,u)},n.p="",n(n.s=184)}([function(a,r,n){function i(u){for(var o in u)r.hasOwnProperty(o)||(r[o]=u[o])}Object.defineProperty(r,"__esModule",{value:!0}),i(n(240)),i(n(251)),i(n(175)),i(n(107)),i(n(29)),i(n(73)),i(n(106)),i(n(30)),i(n(252)),i(n(52)),i(n(97)),i(n(253)),i(n(37)),i(n(51)),i(n(173)),i(n(176)),i(n(172)),i(n(108)),i(n(254)),i(n(255)),i(n(256)),i(n(72)),i(n(177)),i(n(105)),i(n(17)),i(n(257)),i(n(12)),i(n(174))},function(a,r,n){var i=this&&this.__values||function(d){var w=typeof Symbol=="function"&&Symbol.iterator,C=w&&d[w],S=0;if(C)return C.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&S>=d.length&&(d=void 0),{value:d&&d[S++],done:!d}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=n(212);r.FixedSizeSet=u.FixedSizeSet;var o=n(213);r.ObjectCache=o.ObjectCache;var f=n(214);r.CompareCache=f.CompareCache;var s=n(215);r.Lazy=s.Lazy;var l=n(216);function c(d,w,C){if(x(d))d.forEach(function(T,_){return w.call(C,_,T)});else for(var S in d)d.hasOwnProperty(S)&&w.call(C,S,d[S])}function p(d){var w,C;if(h(d))return d;if(y(d)){var S=[];try{for(var T=i(d),_=T.next();!_.done;_=T.next()){var D=_.value;S.push(p(D))}}catch(N){w={error:N}}finally{try{_&&!_.done&&(C=T.return)&&C.call(T)}finally{if(w)throw w.error}}return S}if(g(d)){S={};for(var b in d)if(d.hasOwnProperty(b)){var E=d[b];S[b]=p(E)}return S}return d}function h(d){return!!d&&Object.prototype.toString.call(d)==="[object Function]"}function g(d){var w=typeof d;return!!d&&(w==="function"||w==="object")}function y(d){return Array.isArray(d)}function m(d){return d instanceof Set}function x(d){return d instanceof Map}function v(d){if(g(d)){var w=Object.getPrototypeOf(d),C=w.constructor;return w&&C&&typeof C=="function"&&C instanceof C&&Function.prototype.toString.call(C)===Function.prototype.toString.call(Object)}return!1}r.StringWalker=l.StringWalker,r.applyMixin=function(d,w){for(var C=[],S=2;S<arguments.length;S++)C[S-2]=arguments[S];Object.getOwnPropertyNames(w.prototype).forEach(function(T){if(T!=="constructor"){if(C.indexOf(T)!==-1){var _=Object.getOwnPropertyDescriptor(d.prototype,T);_&&Object.defineProperty(d.prototype,"_"+T,_)}var D=Object.getOwnPropertyDescriptor(w.prototype,T);D&&Object.defineProperty(d.prototype,T,D)}})},r.applyDefaults=function d(w,C,S){S===void 0&&(S=!1);var T=p(w||{});return c(C,function(_,D){v(D)?T[_]=d(T[_],D,S):(S||T[_]===void 0)&&(T[_]=D)}),T},r.forEachArray=function(d,w,C){d.forEach(w,C)},r.forEachObject=c,r.arrayLength=function(d){return m(d)?d.size:d.length},r.objectLength=function(d){return x(d)?d.size:Object.keys(d).length},r.getObjectValue=function(d,w){return x(d)?d.get(w):d[w]},r.removeObjectValue=function(d,w){x(d)?d.delete(w):delete d[w]},r.clone=p,r.isBoolean=function(d){return typeof d=="boolean"},r.isNumber=function(d){return typeof d=="number"},r.isString=function(d){return typeof d=="string"},r.isFunction=h,r.isObject=g,r.isArray=y,r.isSet=m,r.isMap=x,r.isEmpty=function(d){if(y(d))return!d.length;if(m(d)||x(d))return!d.size;if(g(d)){for(var w in d)if(d.hasOwnProperty(w))return!1;return!0}return!1},r.isPlainObject=v,r.isIterable=function(d){return d&&typeof d[Symbol.iterator]=="function"},r.getValue=function(d){return h(d.valueOf)?d.valueOf():d},r.utf8Encode=function(d){for(var w=new Uint8Array(4*d.length),C=0,S=0;S<d.length;S++){var T=d.charCodeAt(S);if(T<128)w[C++]=T;else{if(T<2048)w[C++]=T>>6|192;else{if(T>55295&&T<56320){if(++S>=d.length)throw new Error("Incomplete surrogate pair.");var _=d.charCodeAt(S);if(_<56320||_>57343)throw new Error("Invalid surrogate character.");T=65536+((1023&T)<<10)+(1023&_),w[C++]=T>>18|240,w[C++]=T>>12&63|128}else w[C++]=T>>12|224;w[C++]=T>>6&63|128}w[C++]=63&T|128}}return w.subarray(0,C)},r.utf8Decode=function(d){for(var w="",C=0;C<d.length;){var S=d[C++];if(S>127)if(S>191&&S<224){if(C>=d.length)throw new Error("Incomplete 2-byte sequence.");S=(31&S)<<6|63&d[C++]}else if(S>223&&S<240){if(C+1>=d.length)throw new Error("Incomplete 3-byte sequence.");S=(15&S)<<12|(63&d[C++])<<6|63&d[C++]}else{if(!(S>239&&S<248))throw new Error("Unknown multi-byte start.");if(C+2>=d.length)throw new Error("Incomplete 4-byte sequence.");S=(7&S)<<18|(63&d[C++])<<12|(63&d[C++])<<6|63&d[C++]}if(S<=65535)w+=String.fromCharCode(S);else{if(!(S<=1114111))throw new Error("Code point exceeds UTF-16 limit.");S-=65536,w+=String.fromCharCode(S>>10|55296),w+=String.fromCharCode(1023&S|56320)}}return w}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0}),function(i){i[i.Before=0]="Before",i[i.Equal=1]="Equal",i[i.After=2]="After"}(r.BoundaryPosition||(r.BoundaryPosition={})),function(i){i[i.None=0]="None",i[i.Capturing=1]="Capturing",i[i.AtTarget=2]="AtTarget",i[i.Bubbling=3]="Bubbling"}(r.EventPhase||(r.EventPhase={})),function(i){i[i.Element=1]="Element",i[i.Attribute=2]="Attribute",i[i.Text=3]="Text",i[i.CData=4]="CData",i[i.EntityReference=5]="EntityReference",i[i.Entity=6]="Entity",i[i.ProcessingInstruction=7]="ProcessingInstruction",i[i.Comment=8]="Comment",i[i.Document=9]="Document",i[i.DocumentType=10]="DocumentType",i[i.DocumentFragment=11]="DocumentFragment",i[i.Notation=12]="Notation"}(r.NodeType||(r.NodeType={})),function(i){i[i.Disconnected=1]="Disconnected",i[i.Preceding=2]="Preceding",i[i.Following=4]="Following",i[i.Contains=8]="Contains",i[i.ContainedBy=16]="ContainedBy",i[i.ImplementationSpecific=32]="ImplementationSpecific"}(r.Position||(r.Position={})),function(i){i[i.Accept=1]="Accept",i[i.Reject=2]="Reject",i[i.Skip=3]="Skip"}(r.FilterResult||(r.FilterResult={})),function(i){i[i.All=4294967295]="All",i[i.Element=1]="Element",i[i.Attribute=2]="Attribute",i[i.Text=4]="Text",i[i.CDataSection=8]="CDataSection",i[i.EntityReference=16]="EntityReference",i[i.Entity=32]="Entity",i[i.ProcessingInstruction=64]="ProcessingInstruction",i[i.Comment=128]="Comment",i[i.Document=256]="Document",i[i.DocumentType=512]="DocumentType",i[i.DocumentFragment=1024]="DocumentFragment",i[i.Notation=2048]="Notation"}(r.WhatToShow||(r.WhatToShow={})),function(i){i[i.StartToStart=0]="StartToStart",i[i.StartToEnd=1]="StartToEnd",i[i.EndToEnd=2]="EndToEnd",i[i.EndToStart=3]="EndToStart"}(r.HowToCompare||(r.HowToCompare={}))},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(241);r.Cast=i.Cast;var u=n(150);r.Guard=u.Guard;var o=n(242);r.EmptySet=o.EmptySet},function(a,r,n){var i=n(11),u=n(55).f,o=n(21),f=n(25),s=n(80),l=n(119),c=n(123);a.exports=function(p,h){var g,y,m,x,v,d=p.target,w=p.global,C=p.stat;if(g=w?i:C?i[d]||s(d,{}):(i[d]||{}).prototype)for(y in h){if(x=h[y],m=p.noTargetGet?(v=u(g,y))&&v.value:g[y],!c(w?y:d+(C?".":"#")+y,p.forced)&&m!==void 0){if(typeof x==typeof m)continue;l(x,m)}(p.sham||m&&m.sham)&&o(x,"sham",!0),f(g,y,x,p)}}},function(a,r,n){var i=n(11),u=n(81),o=n(14),f=n(58),s=n(86),l=n(124),c=u("wks"),p=i.Symbol,h=l?p:p&&p.withoutSetter||f;a.exports=function(g){return o(c,g)||(s&&o(p,g)?c[g]=p[g]:c[g]=h("Symbol."+g)),c[g]}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(1),u=n(29),o=function(){function f(){this._features={mutationObservers:!0,customElements:!0,slots:!0,steps:!0},this._window=null,this._compareCache=new i.CompareCache,this._rangeList=new i.FixedSizeSet}return f.prototype.setFeatures=function(s){if(s===void 0&&(s=!0),i.isObject(s))for(var l in s)this._features[l]=s[l]||!1;else for(var l in this._features)this._features[l]=s},Object.defineProperty(f.prototype,"features",{get:function(){return this._features},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"window",{get:function(){return this._window===null&&(this._window=u.create_window()),this._window},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"compareCache",{get:function(){return this._compareCache},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"rangeList",{get:function(){return this._rangeList},enumerable:!0,configurable:!0}),Object.defineProperty(f,"instance",{get:function(){return f._instance||(f._instance=new f),f._instance},enumerable:!0,configurable:!0}),f}();r.dom=o.instance},function(a,r,n){var i=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var d={};if(v!=null)for(var w in v)Object.hasOwnProperty.call(v,w)&&(d[w]=v[w]);return d.default=v,d};Object.defineProperty(r,"__esModule",{value:!0});var u=i(n(228));r.base64=u;var o=i(n(146));r.byte=o;var f=i(n(147));r.byteSequence=f;var s=i(n(96));r.codePoint=s;var l=i(n(232));r.json=l;var c=i(n(233));r.list=c;var p=i(n(234));r.map=p;var h=i(n(235));r.namespace=h;var g=i(n(236));r.queue=g;var y=i(n(237));r.set=y;var m=i(n(238));r.stack=m;var x=i(n(239));r.string=x},function(a,r){a.exports=function(n){try{return!!n()}catch{return!0}}},function(a,r,n){var i,u=this&&this.__extends||(i=function(V,L){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,$){B.__proto__=$}||function(B,$){for(var H in $)$.hasOwnProperty(H)&&(B[H]=$[H])})(V,L)},function(V,L){function B(){this.constructor=V}i(V,L),V.prototype=L===null?Object.create(L):(B.prototype=L.prototype,new B)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(V){function L(B,$){$===void 0&&($="");var H=V.call(this,$)||this;return H.name=B,H}return u(L,V),L}(Error);r.DOMException=o;var f=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"DOMStringSizeError",B)||this}return u(L,V),L}(o);r.DOMStringSizeError=f;var s=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"WrongDocumentError","The object is in the wrong document. "+B)||this}return u(L,V),L}(o);r.WrongDocumentError=s;var l=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"NoDataAllowedError",B)||this}return u(L,V),L}(o);r.NoDataAllowedError=l;var c=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"NoModificationAllowedError","The object can not be modified. "+B)||this}return u(L,V),L}(o);r.NoModificationAllowedError=c;var p=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"NotSupportedError","The operation is not supported. "+B)||this}return u(L,V),L}(o);r.NotSupportedError=p;var h=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"InUseAttributeError",B)||this}return u(L,V),L}(o);r.InUseAttributeError=h;var g=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"InvalidStateError","The object is in an invalid state. "+B)||this}return u(L,V),L}(o);r.InvalidStateError=g;var y=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"InvalidModificationError","The object can not be modified in this way. "+B)||this}return u(L,V),L}(o);r.InvalidModificationError=y;var m=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"NamespaceError","The operation is not allowed by Namespaces in XML. [XMLNS] "+B)||this}return u(L,V),L}(o);r.NamespaceError=m;var x=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"InvalidAccessError","The object does not support the operation or argument. "+B)||this}return u(L,V),L}(o);r.InvalidAccessError=x;var v=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"ValidationError",B)||this}return u(L,V),L}(o);r.ValidationError=v;var d=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"TypeMismatchError",B)||this}return u(L,V),L}(o);r.TypeMismatchError=d;var w=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"SecurityError","The operation is insecure. "+B)||this}return u(L,V),L}(o);r.SecurityError=w;var C=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"NetworkError","A network error occurred. "+B)||this}return u(L,V),L}(o);r.NetworkError=C;var S=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"AbortError","The operation was aborted. "+B)||this}return u(L,V),L}(o);r.AbortError=S;var T=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"URLMismatchError","The given URL does not match another URL. "+B)||this}return u(L,V),L}(o);r.URLMismatchError=T;var _=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"QuotaExceededError","The quota has been exceeded. "+B)||this}return u(L,V),L}(o);r.QuotaExceededError=_;var D=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"TimeoutError","The operation timed out. "+B)||this}return u(L,V),L}(o);r.TimeoutError=D;var b=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"InvalidNodeTypeError","The supplied node is incorrect or has an incorrect ancestor for this operation. "+B)||this}return u(L,V),L}(o);r.InvalidNodeTypeError=b;var E=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"DataCloneError","The object can not be cloned. "+B)||this}return u(L,V),L}(o);r.DataCloneError=E;var N=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"NotImplementedError","The DOM method is not implemented by this module. "+B)||this}return u(L,V),L}(o);r.NotImplementedError=N;var R=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"HierarchyRequestError","The operation would yield an incorrect node tree. "+B)||this}return u(L,V),L}(o);r.HierarchyRequestError=R;var M=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"NotFoundError","The object can not be found here. "+B)||this}return u(L,V),L}(o);r.NotFoundError=M;var G=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"IndexSizeError","The index is not in the allowed range. "+B)||this}return u(L,V),L}(o);r.IndexSizeError=G;var j=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"SyntaxError","The string did not match the expected pattern. "+B)||this}return u(L,V),L}(o);r.SyntaxError=j;var z=function(V){function L(B){return B===void 0&&(B=""),V.call(this,"InvalidCharacterError","The string contains invalid characters. "+B)||this}return u(L,V),L}(o);r.InvalidCharacterError=z},function(a,r,n){var i=n(53),u=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],o=["scalar","sequence","mapping"];a.exports=function(f,s){var l,c;if(s=s||{},Object.keys(s).forEach(function(p){if(u.indexOf(p)===-1)throw new i('Unknown option "'+p+'" is met in definition of "'+f+'" YAML type.')}),this.tag=f,this.kind=s.kind||null,this.resolve=s.resolve||function(){return!0},this.construct=s.construct||function(p){return p},this.instanceOf=s.instanceOf||null,this.predicate=s.predicate||null,this.represent=s.represent||null,this.defaultStyle=s.defaultStyle||null,this.styleAliases=(l=s.styleAliases||null,c={},l!==null&&Object.keys(l).forEach(function(p){l[p].forEach(function(h){c[String(h)]=p})}),c),o.indexOf(this.kind)===-1)throw new i('Unknown kind "'+this.kind+'" is specified for "'+f+'" YAML type.')}},function(a,r,n){(function(i){var u=function(o){return o&&o.Math==Math&&o};a.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof i=="object"&&i)||Function("return this")()}).call(this,n(78))},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.idl_defineConst=function(i,u,o){Object.defineProperty(i,u,{writable:!1,enumerable:!0,configurable:!1,value:o})}},function(a,r){a.exports=function(n){return typeof n=="object"?n!==null:typeof n=="function"}},function(a,r){var n={}.hasOwnProperty;a.exports=function(i,u){return n.call(i,u)}},function(a,r,n){var i=n(16),u=n(115),o=n(18),f=n(56),s=Object.defineProperty;r.f=i?s:function(l,c,p){if(o(l),c=f(c,!0),o(p),u)try{return s(l,c,p)}catch{}if("get"in p||"set"in p)throw TypeError("Accessors not supported");return"value"in p&&(l[c]=p.value),l}},function(a,r,n){var i=n(8);a.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(a,r,n){var i=this&&this.__values||function(d){var w=typeof Symbol=="function"&&Symbol.iterator,C=w&&d[w],S=0;if(C)return C.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&S>=d.length&&(d=void 0),{value:d&&d[S++],done:!d}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=n(3),o=n(2);function f(d,w,C){if(C===void 0&&(C=!1),C&&u.Guard.isElementNode(w)&&u.Guard.isShadowRoot(w.shadowRoot)&&w.shadowRoot._firstChild)return w.shadowRoot._firstChild;if(w._firstChild)return w._firstChild;if(w===d)return null;if(w._nextSibling)return w._nextSibling;for(var S=w._parent;S&&S!==d;){if(S._nextSibling)return S._nextSibling;S=S._parent}return null}function s(){var d;return(d={})[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:null}}}},d}function l(d,w,C,S){w===void 0&&(w=!1),C===void 0&&(C=!1);for(var T=w?d:f(d,d,C);T&&S&&!S(T);)T=f(d,T,C);return T}function c(d,w,C,S,T){S===void 0&&(S=!1);for(var _=f(d,w,S);_&&T&&!T(_);)_=f(d,_,S);return _}function p(d,w,C,S){var T;return w===void 0&&(w=!1),C===void 0&&(C=!1),w||d._children.size!==0?((T={})[Symbol.iterator]=function(){var _=w?d:f(d,d,C);return{next:function(){for(;_&&S&&!S(_);)_=f(d,_,C);if(_===null)return{done:!0,value:null};var D={done:!1,value:_};return _=f(d,_,C),D}}},T):s()}function h(d,w,C){w===void 0&&(w=!1);for(var S=w?d:d._parent;S&&C&&!C(S);)S=S._parent;return S}function g(d,w,C,S){for(var T=w._parent;T&&S&&!S(T);)T=T._parent;return T}function y(d){return u.Guard.isDocumentTypeNode(d)?0:u.Guard.isCharacterDataNode(d)?d._data.length:d._children.size}function m(d,w){if(w===void 0&&(w=!1),w){var C=m(d,!1);return u.Guard.isShadowRoot(C)?m(C._host,!0):C}return d._parent?m(d._parent):d}function x(d,w,C,S){C===void 0&&(C=!1),S===void 0&&(S=!1);for(var T=C?d:S&&u.Guard.isShadowRoot(d)?d._host:d._parent;T!==null;){if(T===w)return!0;T=S&&u.Guard.isShadowRoot(T)?T._host:T._parent}return!1}function v(d){for(var w=m(d),C=0,S=l(w);S!==null;){if(C++,S===d)return C;S=c(w,S)}return-1}r.tree_getFirstDescendantNode=l,r.tree_getNextDescendantNode=c,r.tree_getDescendantNodes=p,r.tree_getDescendantElements=function(d,w,C,S){var T;return w===void 0&&(w=!1),C===void 0&&(C=!1),w||d._children.size!==0?((T={})[Symbol.iterator]=function(){var _=p(d,w,C,function(b){return u.Guard.isElementNode(b)})[Symbol.iterator](),D=_.next().value;return{next:function(){for(;D&&S&&!S(D);)D=_.next().value;if(D===null)return{done:!0,value:null};var b={done:!1,value:D};return D=_.next().value,b}}},T):s()},r.tree_getSiblingNodes=function(d,w,C){var S;return w===void 0&&(w=!1),d._parent&&d._parent._children.size!==0?((S={})[Symbol.iterator]=function(){var T=d._parent?d._parent._firstChild:null;return{next:function(){for(;T&&(C&&!C(T)||!w&&T===d);)T=T._nextSibling;if(T===null)return{done:!0,value:null};var _={done:!1,value:T};return T=T._nextSibling,_}}},S):s()},r.tree_getFirstAncestorNode=h,r.tree_getNextAncestorNode=g,r.tree_getAncestorNodes=function(d,w,C){var S;return w===void 0&&(w=!1),w||d._parent?((S={})[Symbol.iterator]=function(){var T=h(d,w,C);return{next:function(){if(T===null)return{done:!0,value:null};var _={done:!1,value:T};return T=g(0,T,w,C),_}}},S):s()},r.tree_getCommonAncestor=function(d,w){if(d===w)return d._parent;for(var C=[],S=[],T=h(d,!0);T!==null;)C.push(T),T=g(0,T);for(var _=h(w,!0);_!==null;)S.push(_),_=g(0,_);for(var D=C.length,b=S.length,E=null,N=Math.min(D,b);N>0;N--){var R=C[--D];if(R!==S[--b])break;E=R}return E},r.tree_getFollowingNode=function(d,w){if(w._firstChild)return w._firstChild;if(w._nextSibling)return w._nextSibling;for(;;){var C=w._parent;if(C===null||C===d)return null;if(C._nextSibling)return C._nextSibling;w=C}},r.tree_getPrecedingNode=function(d,w){return w===d?null:w._previousSibling?(w=w._previousSibling)._lastChild?w._lastChild:w:w._parent},r.tree_isConstrained=function d(w){var C,S,T,_,D,b;switch(w._nodeType){case o.NodeType.Document:var E=!1,N=!1;try{for(var R=i(w._children),M=R.next();!M.done;M=R.next())switch(M.value._nodeType){case o.NodeType.ProcessingInstruction:case o.NodeType.Comment:break;case o.NodeType.DocumentType:if(E||N)return!1;E=!0;break;case o.NodeType.Element:if(N)return!1;N=!0;break;default:return!1}}catch(L){C={error:L}}finally{try{M&&!M.done&&(S=R.return)&&S.call(R)}finally{if(C)throw C.error}}break;case o.NodeType.DocumentFragment:case o.NodeType.Element:try{for(var G=i(w._children),j=G.next();!j.done;j=G.next())switch(j.value._nodeType){case o.NodeType.Element:case o.NodeType.Text:case o.NodeType.ProcessingInstruction:case o.NodeType.CData:case o.NodeType.Comment:break;default:return!1}}catch(L){T={error:L}}finally{try{j&&!j.done&&(_=G.return)&&_.call(G)}finally{if(T)throw T.error}}break;case o.NodeType.DocumentType:case o.NodeType.Text:case o.NodeType.ProcessingInstruction:case o.NodeType.CData:case o.NodeType.Comment:return!w.hasChildNodes()}try{for(var z=i(w._children),V=z.next();!V.done;V=z.next())if(!d(V.value))return!1}catch(L){D={error:L}}finally{try{V&&!V.done&&(b=z.return)&&b.call(z)}finally{if(D)throw D.error}}return!0},r.tree_nodeLength=y,r.tree_isEmpty=function(d){return y(d)===0},r.tree_rootNode=m,r.tree_isDescendantOf=function(d,w,C,S){C===void 0&&(C=!1),S===void 0&&(S=!1);for(var T=l(d,C,S);T!==null;){if(T===w)return!0;T=c(d,T,C,S)}return!1},r.tree_isAncestorOf=x,r.tree_isHostIncludingAncestorOf=function d(w,C,S){if(S===void 0&&(S=!1),x(w,C,S))return!0;var T=m(w);return!(!u.Guard.isDocumentFragmentNode(T)||T._host===null||!d(T._host,C,S))},r.tree_isSiblingOf=function(d,w,C){return C===void 0&&(C=!1),d!==w?d._parent!==null&&d._parent===w._parent:!!C},r.tree_isPreceding=function(d,w){var C=v(d),S=v(w);return C!==-1&&S!==-1&&m(d)===m(w)&&S<C},r.tree_isFollowing=function(d,w){var C=v(d),S=v(w);return C!==-1&&S!==-1&&m(d)===m(w)&&S>C},r.tree_isParentOf=function(d,w){return d._parent===w},r.tree_isChildOf=function(d,w){return w._parent===d},r.tree_previousSibling=function(d){return d._previousSibling},r.tree_nextSibling=function(d){return d._nextSibling},r.tree_firstChild=function(d){return d._firstChild},r.tree_lastChild=function(d){return d._lastChild},r.tree_treePosition=v,r.tree_index=function(d){for(var w=0;d._previousSibling!==null;)w++,d=d._previousSibling;return w},r.tree_retarget=function(d,w){for(;;){if(!d||!u.Guard.isNode(d))return d;var C=m(d);if(!u.Guard.isShadowRoot(C)||w&&u.Guard.isNode(w)&&x(C,w,!0,!0))return d;d=C.host}}},function(a,r,n){var i=n(13);a.exports=function(u){if(!i(u))throw TypeError(String(u)+" is not an object");return u}},function(a,r,n){var i=n(24),u=n(130),o=n(49),f=n(43),s=n(88),l=f.set,c=f.getterFor("Array Iterator");a.exports=s(Array,"Array",function(p,h){l(this,{type:"Array Iterator",target:i(p),index:0,kind:h})},function(){var p=c(this),h=p.target,g=p.kind,y=p.index++;return!h||y>=h.length?(p.target=void 0,{value:void 0,done:!0}):g=="keys"?{value:y,done:!1}:g=="values"?{value:h[y],done:!1}:{value:[y,h[y]],done:!1}},"values"),o.Arguments=o.Array,u("keys"),u("values"),u("entries")},function(a,r,n){var i=n(90),u=n(25),o=n(202);i||u(Object.prototype,"toString",o,{unsafe:!0})},function(a,r,n){var i=n(16),u=n(15),o=n(40);a.exports=i?function(f,s,l){return u.f(f,s,o(1,l))}:function(f,s,l){return f[s]=l,f}},function(a,r,n){var i=n(137).charAt,u=n(43),o=n(88),f=u.set,s=u.getterFor("String Iterator");o(String,"String",function(l){f(this,{type:"String Iterator",string:String(l),index:0})},function(){var l,c=s(this),p=c.string,h=c.index;return h>=p.length?{value:void 0,done:!0}:(l=i(p,h),c.index+=l.length,{value:l,done:!1})})},function(a,r,n){var i=n(11),u=n(203),o=n(19),f=n(21),s=n(5),l=s("iterator"),c=s("toStringTag"),p=o.values;for(var h in u){var g=i[h],y=g&&g.prototype;if(y){if(y[l]!==p)try{f(y,l,p)}catch{y[l]=p}if(y[c]||f(y,c,h),u[h]){for(var m in o)if(y[m]!==o[m])try{f(y,m,o[m])}catch{y[m]=o[m]}}}}},function(a,r,n){var i=n(41),u=n(35);a.exports=function(o){return i(u(o))}},function(a,r,n){var i=n(11),u=n(21),o=n(14),f=n(80),s=n(117),l=n(43),c=l.get,p=l.enforce,h=String(String).split("String");(a.exports=function(g,y,m,x){var v=!!x&&!!x.unsafe,d=!!x&&!!x.enumerable,w=!!x&&!!x.noTargetGet;typeof m=="function"&&(typeof y!="string"||o(m,"name")||u(m,"name",y),p(m).source=h.join(typeof y=="string"?y:"")),g!==i?(v?!w&&g[y]&&(d=!0):delete g[y],d?g[y]=m:u(g,y,m)):d?g[y]=m:f(y,m)})(Function.prototype,"toString",function(){return typeof this=="function"&&c(this).source||s(this)})},function(a,r,n){var i=n(47),u=Math.min;a.exports=function(o){return o>0?u(i(o),9007199254740991):0}},function(a,r,n){var i=n(35);a.exports=function(u){return Object(i(u))}},function(a,r,n){var i=n(16),u=n(8),o=n(14),f=Object.defineProperty,s={},l=function(c){throw c};a.exports=function(c,p){if(o(s,c))return s[c];p||(p={});var h=[][c],g=!!o(p,"ACCESSORS")&&p.ACCESSORS,y=o(p,0)?p[0]:l,m=o(p,1)?p[1]:void 0;return s[c]=!!h&&!u(function(){if(g&&!i)return!0;var x={length:-1};g?f(x,1,{enumerable:!0,get:l}):x[1]=1,h.call(x,y,m)})}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(148),u=n(149),o=n(151),f=n(98),s=n(153),l=n(154),c=n(155),p=n(99),h=n(100),g=n(156),y=n(157),m=n(101),x=n(158),v=n(159),d=n(160),w=n(161),C=n(162),S=n(163),T=n(164),_=n(165),D=n(166),b=n(167),E=n(168),N=n(169),R=n(170);r.create_domImplementation=function(M){return i.DOMImplementationImpl._create(M)},r.create_window=function(){return u.WindowImpl._create()},r.create_xmlDocument=function(){return new o.XMLDocumentImpl},r.create_document=function(){return new f.DocumentImpl},r.create_abortController=function(){return new s.AbortControllerImpl},r.create_abortSignal=function(){return l.AbortSignalImpl._create()},r.create_documentType=function(M,G,j,z){return c.DocumentTypeImpl._create(M,G,j,z)},r.create_element=function(M,G,j,z){return p.ElementImpl._create(M,G,j,z)},r.create_htmlElement=function(M,G,j,z){return p.ElementImpl._create(M,G,j,z)},r.create_htmlUnknownElement=function(M,G,j,z){return p.ElementImpl._create(M,G,j,z)},r.create_documentFragment=function(M){return h.DocumentFragmentImpl._create(M)},r.create_shadowRoot=function(M,G){return g.ShadowRootImpl._create(M,G)},r.create_attr=function(M,G){return y.AttrImpl._create(M,G)},r.create_text=function(M,G){return m.TextImpl._create(M,G)},r.create_cdataSection=function(M,G){return x.CDATASectionImpl._create(M,G)},r.create_comment=function(M,G){return v.CommentImpl._create(M,G)},r.create_processingInstruction=function(M,G,j){return d.ProcessingInstructionImpl._create(M,G,j)},r.create_htmlCollection=function(M,G){return G===void 0&&(G=function(){return!0}),w.HTMLCollectionImpl._create(M,G)},r.create_nodeList=function(M){return C.NodeListImpl._create(M)},r.create_nodeListStatic=function(M,G){return S.NodeListStaticImpl._create(M,G)},r.create_namedNodeMap=function(M){return T.NamedNodeMapImpl._create(M)},r.create_range=function(M,G){return _.RangeImpl._create(M,G)},r.create_nodeIterator=function(M,G,j){return D.NodeIteratorImpl._create(M,G,j)},r.create_treeWalker=function(M,G){return b.TreeWalkerImpl._create(M,G)},r.create_nodeFilter=function(){return E.NodeFilterImpl._create()},r.create_mutationRecord=function(M,G,j,z,V,L,B,$,H){return N.MutationRecordImpl._create(M,G,j,z,V,L,B,$,H)},r.create_domTokenList=function(M,G){return R.DOMTokenListImpl._create(M,G)}},function(a,r,n){var i=this&&this.__values||function(y){var m=typeof Symbol=="function"&&Symbol.iterator,x=m&&y[m],v=0;if(x)return x.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=n(6),o=n(17),f=n(3),s=n(72),l=new Map;function c(y,m){if(m!==y._root&&o.tree_isAncestorOf(y._reference,m,!0)){if(y._pointerBeforeReference)for(;;){var x=o.tree_getFollowingNode(y._root,m);if(x!==null&&o.tree_isDescendantOf(y._root,x,!0)&&!o.tree_isDescendantOf(m,x,!0))return void(y._reference=x);if(x===null)return void(y._pointerBeforeReference=!1)}if(m._previousSibling===null)m._parent!==null&&(y._reference=m._parent);else{for(var v=m._previousSibling,d=o.tree_getFirstDescendantNode(m._previousSibling,!0,!1);d!==null;)d!==null&&(v=d),d=o.tree_getNextDescendantNode(m._previousSibling,d,!0,!1);y._reference=v}}}function p(y,m,x,v,d){if(f.Guard.isSlot(y)&&m==="name"&&d===null){if(v===x||v===null&&x===""||v===""&&x===null)return;y._name=v===null||v===""?"":v,s.shadowTree_assignSlotablesForATree(o.tree_rootNode(y))}}function h(y,m,x,v,d){if(f.Guard.isSlotable(y)&&m==="slot"&&d===null){if(v===x||v===null&&x===""||v===""&&x===null)return;y._name=v===null||v===""?"":v,s.shadowTree_isAssigned(y)&&s.shadowTree_assignSlotables(y._assignedSlot),s.shadowTree_assignASlot(y)}}function g(y,m,x,v){m==="id"&&v===null&&(y._uniqueIdentifier=x||void 0)}r.dom_runRemovingSteps=function(y,m){},r.dom_runCloningSteps=function(y,m,x,v){},r.dom_runAdoptingSteps=function(y,m){},r.dom_runAttributeChangeSteps=function(y,m,x,v,d){var w,C;u.dom.features.slots&&(h.call(y,y,m,x,v,d),p.call(y,y,m,x,v,d)),g.call(y,y,m,v,d);try{for(var S=i(y._attributeChangeSteps),T=S.next();!T.done;T=S.next())T.value.call(y,y,m,x,v,d)}catch(_){w={error:_}}finally{try{T&&!T.done&&(C=S.return)&&C.call(S)}finally{if(w)throw w.error}}},r.dom_runInsertionSteps=function(y){},r.dom_runNodeIteratorPreRemovingSteps=function(y,m){c.call(y,y,m)},r.dom_hasSupportedTokens=function(y){return l.has(y)},r.dom_getSupportedTokens=function(y){return l.get(y)||new Set},r.dom_runEventConstructingSteps=function(y){},r.dom_runChildTextContentChangeSteps=function(y){}},function(a,r,n){var i=n(4),u=n(11),o=n(46),f=n(44),s=n(16),l=n(86),c=n(124),p=n(8),h=n(14),g=n(59),y=n(13),m=n(18),x=n(27),v=n(24),d=n(56),w=n(40),C=n(60),S=n(61),T=n(82),_=n(190),D=n(85),b=n(55),E=n(15),N=n(79),R=n(21),M=n(25),G=n(81),j=n(57),z=n(45),V=n(58),L=n(5),B=n(125),$=n(126),H=n(62),X=n(43),Z=n(36).forEach,Y=j("hidden"),J=L("toPrimitive"),ne=X.set,ee=X.getterFor("Symbol"),te=Object.prototype,k=u.Symbol,O=o("JSON","stringify"),A=b.f,F=E.f,P=_.f,I=N.f,W=G("symbols"),Q=G("op-symbols"),re=G("string-to-symbol-registry"),oe=G("symbol-to-string-registry"),ue=G("wks"),ve=u.QObject,ye=!ve||!ve.prototype||!ve.prototype.findChild,je=s&&p(function(){return C(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a!=7})?function(ce,ge,he){var xe=A(te,ge);xe&&delete te[ge],F(ce,ge,he),xe&&ce!==te&&F(te,ge,xe)}:F,Oe=function(ce,ge){var he=W[ce]=C(k.prototype);return ne(he,{type:"Symbol",tag:ce,description:ge}),s||(he.description=ge),he},pe=c?function(ce){return typeof ce=="symbol"}:function(ce){return Object(ce)instanceof k},Xe=function(ce,ge,he){ce===te&&Xe(Q,ge,he),m(ce);var xe=d(ge,!0);return m(he),h(W,xe)?(he.enumerable?(h(ce,Y)&&ce[Y][xe]&&(ce[Y][xe]=!1),he=C(he,{enumerable:w(0,!1)})):(h(ce,Y)||F(ce,Y,w(1,{})),ce[Y][xe]=!0),je(ce,xe,he)):F(ce,xe,he)},K=function(ce,ge){m(ce);var he=v(ge),xe=S(he).concat(ae(he));return Z(xe,function(Fe){s&&!_e.call(he,Fe)||Xe(ce,Fe,he[Fe])}),ce},_e=function(ce){var ge=d(ce,!0),he=I.call(this,ge);return!(this===te&&h(W,ge)&&!h(Q,ge))&&(!(he||!h(this,ge)||!h(W,ge)||h(this,Y)&&this[Y][ge])||he)},De=function(ce,ge){var he=v(ce),xe=d(ge,!0);if(he!==te||!h(W,xe)||h(Q,xe)){var Fe=A(he,xe);return!Fe||!h(W,xe)||h(he,Y)&&he[Y][xe]||(Fe.enumerable=!0),Fe}},me=function(ce){var ge=P(v(ce)),he=[];return Z(ge,function(xe){h(W,xe)||h(z,xe)||he.push(xe)}),he},ae=function(ce){var ge=ce===te,he=P(ge?Q:v(ce)),xe=[];return Z(he,function(Fe){!h(W,Fe)||ge&&!h(te,Fe)||xe.push(W[Fe])}),xe};l||(M((k=function(){if(this instanceof k)throw TypeError("Symbol is not a constructor");var ce=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,ge=V(ce),he=function(xe){this===te&&he.call(Q,xe),h(this,Y)&&h(this[Y],ge)&&(this[Y][ge]=!1),je(this,ge,w(1,xe))};return s&&ye&&je(te,ge,{configurable:!0,set:he}),Oe(ge,ce)}).prototype,"toString",function(){return ee(this).tag}),M(k,"withoutSetter",function(ce){return Oe(V(ce),ce)}),N.f=_e,E.f=Xe,b.f=De,T.f=_.f=me,D.f=ae,B.f=function(ce){return Oe(L(ce),ce)},s&&(F(k.prototype,"description",{configurable:!0,get:function(){return ee(this).description}}),f||M(te,"propertyIsEnumerable",_e,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:k}),Z(S(ue),function(ce){$(ce)}),i({target:"Symbol",stat:!0,forced:!l},{for:function(ce){var ge=String(ce);if(h(re,ge))return re[ge];var he=k(ge);return re[ge]=he,oe[he]=ge,he},keyFor:function(ce){if(!pe(ce))throw TypeError(ce+" is not a symbol");if(h(oe,ce))return oe[ce]},useSetter:function(){ye=!0},useSimple:function(){ye=!1}}),i({target:"Object",stat:!0,forced:!l,sham:!s},{create:function(ce,ge){return ge===void 0?C(ce):K(C(ce),ge)},defineProperty:Xe,defineProperties:K,getOwnPropertyDescriptor:De}),i({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:me,getOwnPropertySymbols:ae}),i({target:"Object",stat:!0,forced:p(function(){D.f(1)})},{getOwnPropertySymbols:function(ce){return D.f(x(ce))}}),O&&i({target:"JSON",stat:!0,forced:!l||p(function(){var ce=k();return O([ce])!="[null]"||O({a:ce})!="{}"||O(Object(ce))!="{}"})},{stringify:function(ce,ge,he){for(var xe,Fe=[ce],Ce=1;arguments.length>Ce;)Fe.push(arguments[Ce++]);if(xe=ge,(y(ge)||ce!==void 0)&&!pe(ce))return g(ge)||(ge=function(Ae,Be){if(typeof xe=="function"&&(Be=xe.call(this,Ae,Be)),!pe(Be))return Be}),Fe[1]=ge,O.apply(null,Fe)}}),k.prototype[J]||R(k.prototype,J,k.prototype.valueOf),H(k,"Symbol"),z[Y]=!0},function(a,r,n){var i=n(4),u=n(16),o=n(11),f=n(14),s=n(13),l=n(15).f,c=n(119),p=o.Symbol;if(u&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var h={},g=function(){var d=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),w=this instanceof g?new p(d):d===void 0?p():p(d);return d===""&&(h[w]=!0),w};c(g,p);var y=g.prototype=p.prototype;y.constructor=g;var m=y.toString,x=String(p("test"))=="Symbol(test)",v=/^Symbol\((.*)\)[^)]+$/;l(y,"description",{configurable:!0,get:function(){var d=s(this)?this.valueOf():this,w=m.call(d);if(f(h,d))return"";var C=x?w.slice(7,-1):w.replace(v,"$1");return C===""?void 0:C}}),i({global:!0,forced:!0},{Symbol:g})}},function(a,r,n){n(126)("iterator")},function(a,r,n){var i,u=this&&this.__extends||(i=function(x,v){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,w){d.__proto__=w}||function(d,w){for(var C in w)w.hasOwnProperty(C)&&(d[C]=w[C])})(x,v)},function(x,v){function d(){this.constructor=x}i(x,v),x.prototype=v===null?Object.create(v):(d.prototype=v.prototype,new d)}),o=this&&this.__values||function(x){var v=typeof Symbol=="function"&&Symbol.iterator,d=v&&x[v],w=0;if(d)return d.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&w>=x.length&&(x=void 0),{value:x&&x[w++],done:!x}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var f=n(6),s=n(2),l=n(70),c=n(3),p=n(9),h=n(0),g=n(152),y=n(12),m=function(x){function v(){var d=x.call(this)||this;return d._parent=null,d._firstChild=null,d._lastChild=null,d._previousSibling=null,d._nextSibling=null,d}return u(v,x),Object.defineProperty(v.prototype,"_childNodes",{get:function(){return this.__childNodes||(this.__childNodes=h.create_nodeList(this))},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverride||f.dom.window._associatedDocument},set:function(d){this._nodeDocumentOverride=d},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"_registeredObserverList",{get:function(){return this.__registeredObserverList||(this.__registeredObserverList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nodeType",{get:function(){return this._nodeType},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nodeName",{get:function(){return c.Guard.isElementNode(this)?this._htmlUppercasedQualifiedName:c.Guard.isAttrNode(this)?this._qualifiedName:c.Guard.isExclusiveTextNode(this)?"#text":c.Guard.isCDATASectionNode(this)?"#cdata-section":c.Guard.isProcessingInstructionNode(this)?this._target:c.Guard.isCommentNode(this)?"#comment":c.Guard.isDocumentNode(this)?"#document":c.Guard.isDocumentTypeNode(this)?this._name:c.Guard.isDocumentFragmentNode(this)?"#document-fragment":""},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"baseURI",{get:function(){return g.urlSerializer(this._nodeDocument._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isConnected",{get:function(){return c.Guard.isElementNode(this)&&h.shadowTree_isConnected(this)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"ownerDocument",{get:function(){return this._nodeType===s.NodeType.Document?null:this._nodeDocument},enumerable:!0,configurable:!0}),v.prototype.getRootNode=function(d){return h.tree_rootNode(this,!!d&&d.composed)},Object.defineProperty(v.prototype,"parentNode",{get:function(){return this._nodeType===s.NodeType.Attribute?null:this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"parentElement",{get:function(){return this._parent&&c.Guard.isElementNode(this._parent)?this._parent:null},enumerable:!0,configurable:!0}),v.prototype.hasChildNodes=function(){return this._firstChild!==null},Object.defineProperty(v.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"firstChild",{get:function(){return this._firstChild},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"lastChild",{get:function(){return this._lastChild},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nodeValue",{get:function(){return c.Guard.isAttrNode(this)?this._value:c.Guard.isCharacterDataNode(this)?this._data:null},set:function(d){d===null&&(d=""),c.Guard.isAttrNode(this)?h.attr_setAnExistingAttributeValue(this,d):c.Guard.isCharacterDataNode(this)&&h.characterData_replaceData(this,0,this._data.length,d)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"textContent",{get:function(){return c.Guard.isDocumentFragmentNode(this)||c.Guard.isElementNode(this)?h.text_descendantTextContent(this):c.Guard.isAttrNode(this)?this._value:c.Guard.isCharacterDataNode(this)?this._data:null},set:function(d){d===null&&(d=""),c.Guard.isDocumentFragmentNode(this)||c.Guard.isElementNode(this)?h.node_stringReplaceAll(d,this):c.Guard.isAttrNode(this)?h.attr_setAnExistingAttributeValue(this,d):c.Guard.isCharacterDataNode(this)&&h.characterData_replaceData(this,0,h.tree_nodeLength(this),d)},enumerable:!0,configurable:!0}),v.prototype.normalize=function(){for(var d,w,C,S,T=[],_=h.tree_getFirstDescendantNode(this,!1,!1,function(Z){return c.Guard.isExclusiveTextNode(Z)});_!==null;)T.push(_),_=h.tree_getNextDescendantNode(this,_,!1,!1,function(Z){return c.Guard.isExclusiveTextNode(Z)});for(var D=0;D<T.length;D++){var b=T[D];if(b._parent!==null){var E=h.tree_nodeLength(b);if(E!==0){var N=[],R="";try{for(var M=(d=void 0,o(h.text_contiguousExclusiveTextNodes(b))),G=M.next();!G.done;G=M.next()){var j=G.value;N.push(j),R+=j._data}}catch(Z){d={error:Z}}finally{try{G&&!G.done&&(w=M.return)&&w.call(M)}finally{if(d)throw d.error}}if(h.characterData_replaceData(b,E,0,R),f.dom.rangeList.size!==0)for(var z=b._nextSibling;z!==null&&c.Guard.isExclusiveTextNode(z);){var V=z,L=h.tree_index(V);try{for(var B=(C=void 0,o(f.dom.rangeList)),$=B.next();!$.done;$=B.next()){var H=$.value;H._start[0]===V&&(H._start[0]=b,H._start[1]+=E),H._end[0]===V&&(H._end[0]=b,H._end[1]+=E),H._start[0]===V._parent&&H._start[1]===L&&(H._start[0]=b,H._start[1]=E),H._end[0]===V._parent&&H._end[1]===L&&(H._end[0]=b,H._end[1]=E)}}catch(Z){C={error:Z}}finally{try{$&&!$.done&&(S=B.return)&&S.call(B)}finally{if(C)throw C.error}}E+=h.tree_nodeLength(z),z=z._nextSibling}for(var X=0;X<N.length;X++)(j=N[X])._parent!==null&&h.mutation_remove(j,j._parent)}else h.mutation_remove(b,b._parent)}}},v.prototype.cloneNode=function(d){if(d===void 0&&(d=!1),c.Guard.isShadowRoot(this))throw new p.NotSupportedError;return h.node_clone(this,null,d)},v.prototype.isEqualNode=function(d){return d===void 0&&(d=null),d!==null&&h.node_equals(this,d)},v.prototype.isSameNode=function(d){return d===void 0&&(d=null),this===d},v.prototype.compareDocumentPosition=function(d){if(d===this)return 0;var w=d,C=this,S=null,T=null;if(c.Guard.isAttrNode(w)&&(w=(S=w)._element),c.Guard.isAttrNode(C)&&(C=(T=C)._element,S&&w&&w===C))for(var _=0;_<C._attributeList.length;_++){var D=C._attributeList[_];if(h.node_equals(D,S))return s.Position.ImplementationSpecific|s.Position.Preceding;if(h.node_equals(D,T))return s.Position.ImplementationSpecific|s.Position.Following}return w===null||C===null||h.tree_rootNode(w)!==h.tree_rootNode(C)?s.Position.Disconnected|s.Position.ImplementationSpecific|(f.dom.compareCache.check(this,d)?s.Position.Preceding:s.Position.Following):!S&&h.tree_isAncestorOf(C,w)||T&&w===C?s.Position.Contains|s.Position.Preceding:!T&&h.tree_isDescendantOf(C,w)||S&&w===C?s.Position.ContainedBy|s.Position.Following:h.tree_isPreceding(C,w)?s.Position.Preceding:s.Position.Following},v.prototype.contains=function(d){return d!==null&&h.tree_isDescendantOf(this,d,!0)},v.prototype.lookupPrefix=function(d){return d?c.Guard.isElementNode(this)?h.node_locateANamespacePrefix(this,d):c.Guard.isDocumentNode(this)?this.documentElement===null?null:h.node_locateANamespacePrefix(this.documentElement,d):c.Guard.isDocumentTypeNode(this)||c.Guard.isDocumentFragmentNode(this)?null:c.Guard.isAttrNode(this)?this._element===null?null:h.node_locateANamespacePrefix(this._element,d):this._parent!==null&&c.Guard.isElementNode(this._parent)?h.node_locateANamespacePrefix(this._parent,d):null:null},v.prototype.lookupNamespaceURI=function(d){return h.node_locateANamespace(this,d||null)},v.prototype.isDefaultNamespace=function(d){return d||(d=null),h.node_locateANamespace(this,null)===d},v.prototype.insertBefore=function(d,w){return h.mutation_preInsert(d,this,w)},v.prototype.appendChild=function(d){return h.mutation_append(d,this)},v.prototype.replaceChild=function(d,w){return h.mutation_replace(w,d,this)},v.prototype.removeChild=function(d){return h.mutation_preRemove(d,this)},v.prototype._getTheParent=function(d){return c.Guard.isSlotable(this)&&h.shadowTree_isAssigned(this)?this._assignedSlot:this._parent},v.ELEMENT_NODE=1,v.ATTRIBUTE_NODE=2,v.TEXT_NODE=3,v.CDATA_SECTION_NODE=4,v.ENTITY_REFERENCE_NODE=5,v.ENTITY_NODE=6,v.PROCESSING_INSTRUCTION_NODE=7,v.COMMENT_NODE=8,v.DOCUMENT_NODE=9,v.DOCUMENT_TYPE_NODE=10,v.DOCUMENT_FRAGMENT_NODE=11,v.NOTATION_NODE=12,v.DOCUMENT_POSITION_DISCONNECTED=1,v.DOCUMENT_POSITION_PRECEDING=2,v.DOCUMENT_POSITION_FOLLOWING=4,v.DOCUMENT_POSITION_CONTAINS=8,v.DOCUMENT_POSITION_CONTAINED_BY=16,v.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,v}(l.EventTargetImpl);r.NodeImpl=m,m.prototype._children=new c.EmptySet,y.idl_defineConst(m.prototype,"ELEMENT_NODE",1),y.idl_defineConst(m.prototype,"ATTRIBUTE_NODE",2),y.idl_defineConst(m.prototype,"TEXT_NODE",3),y.idl_defineConst(m.prototype,"CDATA_SECTION_NODE",4),y.idl_defineConst(m.prototype,"ENTITY_REFERENCE_NODE",5),y.idl_defineConst(m.prototype,"ENTITY_NODE",6),y.idl_defineConst(m.prototype,"PROCESSING_INSTRUCTION_NODE",7),y.idl_defineConst(m.prototype,"COMMENT_NODE",8),y.idl_defineConst(m.prototype,"DOCUMENT_NODE",9),y.idl_defineConst(m.prototype,"DOCUMENT_TYPE_NODE",10),y.idl_defineConst(m.prototype,"DOCUMENT_FRAGMENT_NODE",11),y.idl_defineConst(m.prototype,"NOTATION_NODE",12),y.idl_defineConst(m.prototype,"DOCUMENT_POSITION_DISCONNECTED",1),y.idl_defineConst(m.prototype,"DOCUMENT_POSITION_PRECEDING",2),y.idl_defineConst(m.prototype,"DOCUMENT_POSITION_FOLLOWING",4),y.idl_defineConst(m.prototype,"DOCUMENT_POSITION_CONTAINS",8),y.idl_defineConst(m.prototype,"DOCUMENT_POSITION_CONTAINED_BY",16),y.idl_defineConst(m.prototype,"DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC",32)},function(a,r){a.exports=function(n){if(n==null)throw TypeError("Can't call method on "+n);return n}},function(a,r,n){var i=n(87),u=n(41),o=n(27),f=n(26),s=n(128),l=[].push,c=function(p){var h=p==1,g=p==2,y=p==3,m=p==4,x=p==6,v=p==5||x;return function(d,w,C,S){for(var T,_,D=o(d),b=u(D),E=i(w,C,3),N=f(b.length),R=0,M=S||s,G=h?M(d,N):g?M(d,0):void 0;N>R;R++)if((v||R in b)&&(_=E(T=b[R],R,D),p)){if(h)G[R]=_;else if(_)switch(p){case 3:return!0;case 5:return T;case 6:return R;case 2:l.call(G,T)}else if(m)return!1}return x?-1:y||m?m:G}};a.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(a,r,n){var i=this&&this.__values||function(D){var b=typeof Symbol=="function"&&Symbol.iterator,E=b&&D[b],N=0;if(E)return E.call(D);if(D&&typeof D.length=="number")return{next:function(){return D&&N>=D.length&&(D=void 0),{value:D&&D[N++],done:!D}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(D,b){var E=typeof Symbol=="function"&&D[Symbol.iterator];if(!E)return D;var N,R,M=E.call(D),G=[];try{for(;(b===void 0||b-- >0)&&!(N=M.next()).done;)G.push(N.value)}catch(j){R={error:j}}finally{try{N&&!N.done&&(E=M.return)&&E.call(M)}finally{if(R)throw R.error}}return G},o=this&&this.__spread||function(){for(var D=[],b=0;b<arguments.length;b++)D=D.concat(u(arguments[b]));return D};Object.defineProperty(r,"__esModule",{value:!0});var f=n(6),s=n(9),l=n(2),c=n(3),p=n(1),h=n(7),g=n(73),y=n(17),m=n(172),x=n(72),v=n(51),d=n(30),w=n(106);function C(D,b,E){var N,R,M,G,j,z,V,L,B=b._nodeType,$=D._nodeType,H=E?E._nodeType:null;if(B!==l.NodeType.Document&&B!==l.NodeType.DocumentFragment&&B!==l.NodeType.Element)throw new s.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+b.nodeName+".");if(y.tree_isHostIncludingAncestorOf(b,D,!0))throw new s.HierarchyRequestError("The node to be inserted cannot be an inclusive ancestor of parent node. Node is "+D.nodeName+", parent node is "+b.nodeName+".");if(E!==null&&E._parent!==b)throw new s.NotFoundError("The reference child node cannot be found under parent node. Child node is "+E.nodeName+", parent node is "+b.nodeName+".");if($!==l.NodeType.DocumentFragment&&$!==l.NodeType.DocumentType&&$!==l.NodeType.Element&&$!==l.NodeType.Text&&$!==l.NodeType.ProcessingInstruction&&$!==l.NodeType.CData&&$!==l.NodeType.Comment)throw new s.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+D.nodeName+".");if($===l.NodeType.Text&&B===l.NodeType.Document)throw new s.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+D.nodeName+".");if($===l.NodeType.DocumentType&&B!==l.NodeType.Document)throw new s.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+b.nodeName+".");if(B===l.NodeType.Document){if($===l.NodeType.DocumentFragment){var X=0;try{for(var Z=i(D._children),Y=Z.next();!Y.done;Y=Z.next()){var J=Y.value;if(J._nodeType===l.NodeType.Element)X++;else if(J._nodeType===l.NodeType.Text)throw new s.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+J.nodeName+".")}}catch(I){N={error:I}}finally{try{Y&&!Y.done&&(R=Z.return)&&R.call(Z)}finally{if(N)throw N.error}}if(X>1)throw new s.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+X+" element nodes.");if(X===1){try{for(var ne=i(b._children),ee=ne.next();!ee.done;ee=ne.next())if(ee.value._nodeType===l.NodeType.Element)throw new s.HierarchyRequestError("The document node already has a document element node.")}catch(I){M={error:I}}finally{try{ee&&!ee.done&&(G=ne.return)&&G.call(ne)}finally{if(M)throw M.error}}if(E){if(H===l.NodeType.DocumentType)throw new s.HierarchyRequestError("Cannot insert an element node before a document type node.");for(var te=E._nextSibling;te;){if(te._nodeType===l.NodeType.DocumentType)throw new s.HierarchyRequestError("Cannot insert an element node before a document type node.");te=te._nextSibling}}}}else if($===l.NodeType.Element){try{for(var k=i(b._children),O=k.next();!O.done;O=k.next())if(O.value._nodeType===l.NodeType.Element)throw new s.HierarchyRequestError("Document already has a document element node. Node is "+D.nodeName+".")}catch(I){j={error:I}}finally{try{O&&!O.done&&(z=k.return)&&z.call(k)}finally{if(j)throw j.error}}if(E){if(H===l.NodeType.DocumentType)throw new s.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+D.nodeName+".");for(te=E._nextSibling;te;){if(te._nodeType===l.NodeType.DocumentType)throw new s.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+D.nodeName+".");te=te._nextSibling}}}else if($===l.NodeType.DocumentType){try{for(var A=i(b._children),F=A.next();!F.done;F=A.next())if(F.value._nodeType===l.NodeType.DocumentType)throw new s.HierarchyRequestError("Document already has a document type node. Node is "+D.nodeName+".")}catch(I){V={error:I}}finally{try{F&&!F.done&&(L=A.return)&&L.call(A)}finally{if(V)throw V.error}}if(E)for(var P=E._previousSibling;P;){if(P._nodeType===l.NodeType.Element)throw new s.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+D.nodeName+".");P=P._previousSibling}else for(P=b._firstChild;P;){if(P._nodeType===l.NodeType.Element)throw new s.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+D.nodeName+".");P=P._nextSibling}}}}function S(D,b,E){C(D,b,E);var N=E;return N===D&&(N=D._nextSibling),w.document_adopt(D,b._nodeDocument),T(D,b,N),D}function T(D,b,E,N){var R,M;if(E!==null||D._nodeType===l.NodeType.DocumentFragment){var G=D._nodeType===l.NodeType.DocumentFragment?D._children.size:1;if(E!==null&&f.dom.rangeList.size!==0){var j=y.tree_index(E);try{for(var z=i(f.dom.rangeList),V=z.next();!V.done;V=z.next()){var L=V.value;L._start[0]===b&&L._start[1]>j&&(L._start[1]+=G),L._end[0]===b&&L._end[1]>j&&(L._end[1]+=G)}}catch(ee){R={error:ee}}finally{try{V&&!V.done&&(M=z.return)&&M.call(z)}finally{if(R)throw R.error}}}var B=D._nodeType===l.NodeType.DocumentFragment?new(Array.bind.apply(Array,o([void 0],D._children))):[D];if(D._nodeType===l.NodeType.DocumentFragment)for(;D._firstChild;)_(D._firstChild,D,!0);f.dom.features.mutationObservers&&D._nodeType===l.NodeType.DocumentFragment&&v.observer_queueTreeMutationRecord(D,[],B,null,null);for(var $=E?E._previousSibling:b._lastChild,H=E===null?-1:y.tree_index(E),X=0;X<B.length;X++){var Z=B[X];if(c.Guard.isElementNode(Z)&&(c.Guard.isDocumentNode(b)&&(b._documentElement=Z),Z._nodeDocument._hasNamespaces||Z._namespace===null&&Z._namespacePrefix===null||(Z._nodeDocument._hasNamespaces=!0)),Z._parent=b,E===null?h.set.append(b._children,Z):(h.set.insert(b._children,Z,H),H++),b._firstChild===null)Z._previousSibling=null,Z._nextSibling=null,b._firstChild=Z,b._lastChild=Z;else{var Y=E?E._previousSibling:b._lastChild,J=E||null;Z._previousSibling=Y,Z._nextSibling=J,Y&&(Y._nextSibling=Z),J&&(J._previousSibling=Z),Y||(b._firstChild=Z),J||(b._lastChild=Z)}f.dom.features.slots&&b._shadowRoot!==null&&c.Guard.isSlotable(Z)&&x.shadowTree_assignASlot(Z),f.dom.features.steps&&c.Guard.isTextNode(Z)&&d.dom_runChildTextContentChangeSteps(b),f.dom.features.slots&&c.Guard.isShadowRoot(y.tree_rootNode(b))&&c.Guard.isSlot(b)&&p.isEmpty(b._assignedNodes)&&x.shadowTree_signalASlotChange(b),f.dom.features.slots&&x.shadowTree_assignSlotablesForATree(y.tree_rootNode(Z));for(var ne=y.tree_getFirstDescendantNode(Z,!0,!0);ne!==null;)f.dom.features.steps&&d.dom_runInsertionSteps(ne),f.dom.features.customElements&&c.Guard.isElementNode(ne)&&x.shadowTree_isConnected(ne)&&(c.Guard.isCustomElementNode(ne)?g.customElement_enqueueACustomElementCallbackReaction(ne,"connectedCallback",[]):g.customElement_tryToUpgrade(ne)),ne=y.tree_getNextDescendantNode(Z,ne,!0,!0)}f.dom.features.mutationObservers&&(N||v.observer_queueTreeMutationRecord(b,B,[],$,E))}else(function(ee,te,k){var O=te._lastChild;if(c.Guard.isElementNode(ee)&&(c.Guard.isDocumentNode(te)&&(te._documentElement=ee),ee._nodeDocument._hasNamespaces||ee._namespace===null&&ee._namespacePrefix===null||(ee._nodeDocument._hasNamespaces=!0)),ee._parent=te,te._children.add(ee),te._firstChild===null)ee._previousSibling=null,ee._nextSibling=null,te._firstChild=ee,te._lastChild=ee;else{var A=te._lastChild;ee._previousSibling=A,ee._nextSibling=null,A&&(A._nextSibling=ee),A||(te._firstChild=ee),te._lastChild=ee}f.dom.features.slots&&te._shadowRoot!==null&&c.Guard.isSlotable(ee)&&x.shadowTree_assignASlot(ee),f.dom.features.steps&&c.Guard.isTextNode(ee)&&d.dom_runChildTextContentChangeSteps(te),f.dom.features.slots&&c.Guard.isShadowRoot(y.tree_rootNode(te))&&c.Guard.isSlot(te)&&p.isEmpty(te._assignedNodes)&&x.shadowTree_signalASlotChange(te),f.dom.features.slots&&x.shadowTree_assignSlotablesForATree(y.tree_rootNode(ee)),f.dom.features.steps&&d.dom_runInsertionSteps(ee),f.dom.features.customElements&&c.Guard.isElementNode(ee)&&x.shadowTree_isConnected(ee)&&(c.Guard.isCustomElementNode(ee)?g.customElement_enqueueACustomElementCallbackReaction(ee,"connectedCallback",[]):g.customElement_tryToUpgrade(ee)),f.dom.features.mutationObservers&&(k||v.observer_queueTreeMutationRecord(te,[ee],[],O,null))})(D,b,N)}function _(D,b,E){var N,R,M,G,j,z,V,L;if(f.dom.rangeList.size!==0){var B=y.tree_index(D);try{for(var $=i(f.dom.rangeList),H=$.next();!H.done;H=$.next()){var X=H.value;y.tree_isDescendantOf(D,X._start[0],!0)&&(X._start=[b,B]),y.tree_isDescendantOf(D,X._end[0],!0)&&(X._end=[b,B]),X._start[0]===b&&X._start[1]>B&&X._start[1]--,X._end[0]===b&&X._end[1]>B&&X._end[1]--}}catch(re){N={error:re}}finally{try{H&&!H.done&&(R=$.return)&&R.call($)}finally{if(N)throw N.error}}try{for(var Z=i(f.dom.rangeList),Y=Z.next();!Y.done;Y=Z.next())(X=Y.value)._start[0]===b&&X._start[1]>B&&(X._start[1]-=1),X._end[0]===b&&X._end[1]>B&&(X._end[1]-=1)}catch(re){M={error:re}}finally{try{Y&&!Y.done&&(G=Z.return)&&G.call(Z)}finally{if(M)throw M.error}}}if(f.dom.features.steps)try{for(var J=i(m.nodeIterator_iteratorList()),ne=J.next();!ne.done;ne=J.next()){var ee=ne.value;ee._root._nodeDocument===D._nodeDocument&&d.dom_runNodeIteratorPreRemovingSteps(ee,D)}}catch(re){j={error:re}}finally{try{ne&&!ne.done&&(z=J.return)&&z.call(J)}finally{if(j)throw j.error}}var te=D._previousSibling,k=D._nextSibling;c.Guard.isDocumentNode(b)&&c.Guard.isElementNode(D)&&(b._documentElement=null),D._parent=null,b._children.delete(D);var O=D._previousSibling,A=D._nextSibling;D._previousSibling=null,D._nextSibling=null,O&&(O._nextSibling=A),A&&(A._previousSibling=O),O||(b._firstChild=A),A||(b._lastChild=O),f.dom.features.slots&&c.Guard.isSlotable(D)&&D._assignedSlot!==null&&x.shadowTree_isAssigned(D)&&x.shadowTree_assignSlotables(D._assignedSlot),f.dom.features.slots&&c.Guard.isShadowRoot(y.tree_rootNode(b))&&c.Guard.isSlot(b)&&p.isEmpty(b._assignedNodes)&&x.shadowTree_signalASlotChange(b),f.dom.features.slots&&y.tree_getFirstDescendantNode(D,!0,!1,function(re){return c.Guard.isSlot(re)})!==null&&(x.shadowTree_assignSlotablesForATree(y.tree_rootNode(b)),x.shadowTree_assignSlotablesForATree(D)),f.dom.features.steps&&d.dom_runRemovingSteps(D,b),f.dom.features.customElements&&c.Guard.isCustomElementNode(D)&&g.customElement_enqueueACustomElementCallbackReaction(D,"disconnectedCallback",[]);for(var F=y.tree_getFirstDescendantNode(D,!1,!0);F!==null;)f.dom.features.steps&&d.dom_runRemovingSteps(F,D),f.dom.features.customElements&&c.Guard.isCustomElementNode(F)&&g.customElement_enqueueACustomElementCallbackReaction(F,"disconnectedCallback",[]),F=y.tree_getNextDescendantNode(D,F,!1,!0);if(f.dom.features.mutationObservers)for(var P=y.tree_getFirstAncestorNode(b,!0);P!==null;){try{for(var I=(V=void 0,i(P._registeredObserverList)),W=I.next();!W.done;W=I.next()){var Q=W.value;Q.options.subtree&&D._registeredObserverList.push({observer:Q.observer,options:Q.options,source:Q})}}catch(re){V={error:re}}finally{try{W&&!W.done&&(L=I.return)&&L.call(I)}finally{if(V)throw V.error}}P=y.tree_getNextAncestorNode(b,P,!0)}f.dom.features.mutationObservers&&(E||v.observer_queueTreeMutationRecord(b,[],[D],te,k)),f.dom.features.steps&&c.Guard.isTextNode(D)&&d.dom_runChildTextContentChangeSteps(b)}r.mutation_ensurePreInsertionValidity=C,r.mutation_preInsert=S,r.mutation_insert=T,r.mutation_append=function(D,b){return S(D,b,null)},r.mutation_replace=function(D,b,E){var N,R,M,G,j,z,V,L;if(E._nodeType!==l.NodeType.Document&&E._nodeType!==l.NodeType.DocumentFragment&&E._nodeType!==l.NodeType.Element)throw new s.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+E.nodeName+".");if(y.tree_isHostIncludingAncestorOf(E,b,!0))throw new s.HierarchyRequestError("The node to be inserted cannot be an ancestor of parent node. Node is "+b.nodeName+", parent node is "+E.nodeName+".");if(D._parent!==E)throw new s.NotFoundError("The reference child node cannot be found under parent node. Child node is "+D.nodeName+", parent node is "+E.nodeName+".");if(b._nodeType!==l.NodeType.DocumentFragment&&b._nodeType!==l.NodeType.DocumentType&&b._nodeType!==l.NodeType.Element&&b._nodeType!==l.NodeType.Text&&b._nodeType!==l.NodeType.ProcessingInstruction&&b._nodeType!==l.NodeType.CData&&b._nodeType!==l.NodeType.Comment)throw new s.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+b.nodeName+".");if(b._nodeType===l.NodeType.Text&&E._nodeType===l.NodeType.Document)throw new s.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+b.nodeName+".");if(b._nodeType===l.NodeType.DocumentType&&E._nodeType!==l.NodeType.Document)throw new s.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+E.nodeName+".");if(E._nodeType===l.NodeType.Document){if(b._nodeType===l.NodeType.DocumentFragment){var B=0;try{for(var $=i(b._children),H=$.next();!H.done;H=$.next()){var X=H.value;if(X._nodeType===l.NodeType.Element)B++;else if(X._nodeType===l.NodeType.Text)throw new s.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+X.nodeName+".")}}catch(Q){N={error:Q}}finally{try{H&&!H.done&&(R=$.return)&&R.call($)}finally{if(N)throw N.error}}if(B>1)throw new s.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+B+" element nodes.");if(B===1){try{for(var Z=i(E._children),Y=Z.next();!Y.done;Y=Z.next())if((O=Y.value)._nodeType===l.NodeType.Element&&O!==D)throw new s.HierarchyRequestError("The document node already has a document element node.")}catch(Q){M={error:Q}}finally{try{Y&&!Y.done&&(G=Z.return)&&G.call(Z)}finally{if(M)throw M.error}}for(var J=D._nextSibling;J;){if(J._nodeType===l.NodeType.DocumentType)throw new s.HierarchyRequestError("Cannot insert an element node before a document type node.");J=J._nextSibling}}}else if(b._nodeType===l.NodeType.Element){try{for(var ne=i(E._children),ee=ne.next();!ee.done;ee=ne.next())if((O=ee.value)._nodeType===l.NodeType.Element&&O!==D)throw new s.HierarchyRequestError("Document already has a document element node. Node is "+b.nodeName+".")}catch(Q){j={error:Q}}finally{try{ee&&!ee.done&&(z=ne.return)&&z.call(ne)}finally{if(j)throw j.error}}for(J=D._nextSibling;J;){if(J._nodeType===l.NodeType.DocumentType)throw new s.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+b.nodeName+".");J=J._nextSibling}}else if(b._nodeType===l.NodeType.DocumentType){try{for(var te=i(E._children),k=te.next();!k.done;k=te.next()){var O;if((O=k.value)._nodeType===l.NodeType.DocumentType&&O!==D)throw new s.HierarchyRequestError("Document already has a document type node. Node is "+b.nodeName+".")}}catch(Q){V={error:Q}}finally{try{k&&!k.done&&(L=te.return)&&L.call(te)}finally{if(V)throw V.error}}for(var A=D._previousSibling;A;){if(A._nodeType===l.NodeType.Element)throw new s.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+b.nodeName+".");A=A._previousSibling}}}var F=D._nextSibling;F===b&&(F=b._nextSibling);var P=D._previousSibling;w.document_adopt(b,E._nodeDocument);var I=[];D._parent!==null&&(I.push(D),_(D,D._parent,!0));var W=[];return b._nodeType===l.NodeType.DocumentFragment?W=Array.from(b._children):W.push(b),T(b,E,F,!0),f.dom.features.mutationObservers&&v.observer_queueTreeMutationRecord(E,W,I,P,F),D},r.mutation_replaceAll=function(D,b){var E,N;D!==null&&w.document_adopt(D,b._nodeDocument);var R=Array.from(b._children),M=[];D&&D._nodeType===l.NodeType.DocumentFragment?M=Array.from(D._children):D!==null&&M.push(D);try{for(var G=i(R),j=G.next();!j.done;j=G.next())_(j.value,b,!0)}catch(z){E={error:z}}finally{try{j&&!j.done&&(N=G.return)&&N.call(G)}finally{if(E)throw E.error}}D!==null&&T(D,b,null,!0),f.dom.features.mutationObservers&&v.observer_queueTreeMutationRecord(b,M,R,null,null)},r.mutation_preRemove=function(D,b){if(D._parent!==b)throw new s.NotFoundError("The child node cannot be found under parent node. Child node is "+D.nodeName+", parent node is "+b.nodeName+".");return _(D,b),D},r.mutation_remove=_},function(a,r,n){function i(u){return u==null}a.exports.isNothing=i,a.exports.isObject=function(u){return typeof u=="object"&&u!==null},a.exports.toArray=function(u){return Array.isArray(u)?u:i(u)?[]:[u]},a.exports.repeat=function(u,o){var f,s="";for(f=0;f<o;f+=1)s+=u;return s},a.exports.isNegativeZero=function(u){return u===0&&Number.NEGATIVE_INFINITY===1/u},a.exports.extend=function(u,o){var f,s,l,c;if(o)for(f=0,s=(c=Object.keys(o)).length;f<s;f+=1)u[l=c[f]]=o[l];return u}},function(a,r,n){var i=n(38),u=n(53),o=n(10);function f(l,c,p){var h=[];return l.include.forEach(function(g){p=f(g,c,p)}),l[c].forEach(function(g){p.forEach(function(y,m){y.tag===g.tag&&y.kind===g.kind&&h.push(m)}),p.push(g)}),p.filter(function(g,y){return h.indexOf(y)===-1})}function s(l){this.include=l.include||[],this.implicit=l.implicit||[],this.explicit=l.explicit||[],this.implicit.forEach(function(c){if(c.loadKind&&c.loadKind!=="scalar")throw new u("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=f(this,"implicit",[]),this.compiledExplicit=f(this,"explicit",[]),this.compiledTypeMap=function(){var c,p,h={scalar:{},sequence:{},mapping:{},fallback:{}};function g(y){h[y.kind][y.tag]=h.fallback[y.tag]=y}for(c=0,p=arguments.length;c<p;c+=1)arguments[c].forEach(g);return h}(this.compiledImplicit,this.compiledExplicit)}s.DEFAULT=null,s.create=function(){var l,c;switch(arguments.length){case 1:l=s.DEFAULT,c=arguments[0];break;case 2:l=arguments[0],c=arguments[1];break;default:throw new u("Wrong number of arguments for Schema.create function")}if(l=i.toArray(l),c=i.toArray(c),!l.every(function(p){return p instanceof s}))throw new u("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!c.every(function(p){return p instanceof o}))throw new u("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new s({include:l,explicit:c})},a.exports=s},function(a,r){a.exports=function(n,i){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:i}}},function(a,r,n){var i=n(8),u=n(42),o="".split;a.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(f){return u(f)=="String"?o.call(f,""):Object(f)}:Object},function(a,r){var n={}.toString;a.exports=function(i){return n.call(i).slice(8,-1)}},function(a,r,n){var i,u,o,f=n(186),s=n(11),l=n(13),c=n(21),p=n(14),h=n(57),g=n(45),y=s.WeakMap;if(f){var m=new y,x=m.get,v=m.has,d=m.set;i=function(C,S){return d.call(m,C,S),S},u=function(C){return x.call(m,C)||{}},o=function(C){return v.call(m,C)}}else{var w=h("state");g[w]=!0,i=function(C,S){return c(C,w,S),S},u=function(C){return p(C,w)?C[w]:{}},o=function(C){return p(C,w)}}a.exports={set:i,get:u,has:o,enforce:function(C){return o(C)?u(C):i(C,{})},getterFor:function(C){return function(S){var T;if(!l(S)||(T=u(S)).type!==C)throw TypeError("Incompatible receiver, "+C+" required");return T}}}},function(a,r){a.exports=!1},function(a,r){a.exports={}},function(a,r,n){var i=n(120),u=n(11),o=function(f){return typeof f=="function"?f:void 0};a.exports=function(f,s){return arguments.length<2?o(i[f])||o(u[f]):i[f]&&i[f][s]||u[f]&&u[f][s]}},function(a,r){var n=Math.ceil,i=Math.floor;a.exports=function(u){return isNaN(u=+u)?0:(u>0?i:n)(u)}},function(a,r,n){var i=n(8);a.exports=function(u,o){var f=[][u];return!!f&&i(function(){f.call(null,o||function(){throw 1},1)})}},function(a,r){a.exports={}},function(a,r,n){n(31),n(32),n(33),n(220),n(64),n(19),n(65),n(20),n(68),n(66),n(92),n(144),n(22),n(94),n(23);var i=this&&this.__values||function(g){var y=typeof Symbol=="function"&&Symbol.iterator,m=y&&g[y],x=0;if(m)return m.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&x>=g.length&&(g=void 0),{value:g&&g[x++],done:!g}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(g,y){var m=typeof Symbol=="function"&&g[Symbol.iterator];if(!m)return g;var x,v,d=m.call(g),w=[];try{for(;(y===void 0||y-- >0)&&!(x=d.next()).done;)w.push(x.value)}catch(C){v={error:C}}finally{try{x&&!x.done&&(m=d.return)&&m.call(d)}finally{if(v)throw v.error}}return w},o=this&&this.__spread||function(){for(var g=[],y=0;y<arguments.length;y++)g=g.concat(u(arguments[y]));return g};Object.defineProperty(r,"__esModule",{value:!0});var f=n(2),s=n(69),l=n(95),c=n(7),p=n(0),h=function(){function g(y){this.level=0,this._builderOptions=y}return g.prototype.declaration=function(y,m,x){},g.prototype.docType=function(y,m,x){},g.prototype.comment=function(y){},g.prototype.text=function(y){},g.prototype.instruction=function(y,m){},g.prototype.cdata=function(y){},g.prototype.openTagBegin=function(y){},g.prototype.openTagEnd=function(y,m,x){},g.prototype.closeTag=function(y){},g.prototype.attributes=function(y){var m,x;try{for(var v=i(y),d=v.next();!d.done;d=v.next()){var w=d.value;this.attribute(w[1]===null?w[2]:w[1]+":"+w[2],w[3])}}catch(C){m={error:C}}finally{try{d&&!d.done&&(x=v.return)&&x.call(v)}finally{if(m)throw m.error}}},g.prototype.attribute=function(y,m){},g.prototype.beginElement=function(y){},g.prototype.endElement=function(y){},g.prototype.serializeNode=function(y,m){var x=y._nodeDocument!==void 0&&y._nodeDocument._hasNamespaces;if(this.level=0,this.currentNode=y,x){var v=new l.NamespacePrefixMap;v.set("xml",c.namespace.XML),this._serializeNodeNS(y,null,v,{value:1},m)}else this._serializeNode(y,m)},g.prototype._serializeNodeNS=function(y,m,x,v,d){switch(this.currentNode=y,y.nodeType){case f.NodeType.Element:this._serializeElementNS(y,m,x,v,d);break;case f.NodeType.Document:this._serializeDocumentNS(y,m,x,v,d);break;case f.NodeType.Comment:this._serializeComment(y,d);break;case f.NodeType.Text:this._serializeText(y,d);break;case f.NodeType.DocumentFragment:this._serializeDocumentFragmentNS(y,m,x,v,d);break;case f.NodeType.DocumentType:this._serializeDocumentType(y,d);break;case f.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(y,d);break;case f.NodeType.CData:this._serializeCData(y,d);break;default:throw new Error("Unknown node type: "+y.nodeType)}},g.prototype._serializeNode=function(y,m){switch(this.currentNode=y,y.nodeType){case f.NodeType.Element:this._serializeElement(y,m);break;case f.NodeType.Document:this._serializeDocument(y,m);break;case f.NodeType.Comment:this._serializeComment(y,m);break;case f.NodeType.Text:this._serializeText(y,m);break;case f.NodeType.DocumentFragment:this._serializeDocumentFragment(y,m);break;case f.NodeType.DocumentType:this._serializeDocumentType(y,m);break;case f.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(y,m);break;case f.NodeType.CData:this._serializeCData(y,m);break;default:throw new Error("Unknown node type: "+y.nodeType)}},g.prototype._serializeElementNS=function(y,m,x,v,d){var w,C,S=[];if(d&&(y.localName.indexOf(":")!==-1||!p.xml_isName(y.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var T="",_=!1,D=!1,b=x.copy(),E={},N=this._recordNamespaceInformation(y,b,E),R=m,M=y.namespaceURI;if(R===M)N!==null&&(D=!0),T=M===c.namespace.XML?"xml:"+y.localName:y.localName,this.beginElement(T),this.openTagBegin(T);else{var G=y.prefix,j=null;if(G===null&&M===N||(j=b.get(G,M)),G==="xmlns"){if(d)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");j=G}j!==null?(T=j+":"+y.localName,N!==null&&N!==c.namespace.XML&&(R=N||null),this.beginElement(T),this.openTagBegin(T)):G!==null?(G in E&&(G=this._generatePrefix(M,b,v)),b.set(G,M),T+=G+":"+y.localName,this.beginElement(T),this.openTagBegin(T),S.push([null,"xmlns",G,this._serializeAttributeValue(M,d)]),N!==null&&(R=N||null)):N===null||N!==null&&N!==M?(D=!0,T+=y.localName,R=M,this.beginElement(T),this.openTagBegin(T),S.push([null,null,"xmlns",this._serializeAttributeValue(M,d)])):(T+=y.localName,R=M,this.beginElement(T),this.openTagBegin(T))}S.push.apply(S,o(this._serializeAttributesNS(y,b,v,E,D,d))),this.attributes(S);var z=M===c.namespace.HTML;if(z&&y.childNodes.length===0&&g._VoidElementNames.has(y.localName)?(this.openTagEnd(T,!0,!0),this.endElement(T),_=!0):z||y.childNodes.length!==0?this.openTagEnd(T,!1,!1):(this.openTagEnd(T,!0,!1),this.endElement(T),_=!0),!_){if(!(z&&y.localName==="template"))try{for(var V=i(y.childNodes),L=V.next();!L.done;L=V.next()){var B=L.value;this.level++,this._serializeNodeNS(B,R,b,v,d),this.level--}}catch($){w={error:$}}finally{try{L&&!L.done&&(C=V.return)&&C.call(V)}finally{if(w)throw w.error}}this.closeTag(T),this.endElement(T)}},g.prototype._serializeElement=function(y,m){var x,v;if(m&&(y.localName.indexOf(":")!==-1||!p.xml_isName(y.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var d=!1,w=y.localName;this.beginElement(w),this.openTagBegin(w);var C=this._serializeAttributes(y,m);if(this.attributes(C),y.hasChildNodes()?this.openTagEnd(w,!1,!1):(this.openTagEnd(w,!0,!1),this.endElement(w),d=!0),!d){try{for(var S=i(y._children),T=S.next();!T.done;T=S.next()){var _=T.value;this.level++,this._serializeNode(_,m),this.level--}}catch(D){x={error:D}}finally{try{T&&!T.done&&(v=S.return)&&v.call(S)}finally{if(x)throw x.error}}this.closeTag(w),this.endElement(w)}},g.prototype._serializeDocumentNS=function(y,m,x,v,d){var w,C;if(d&&y.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var S=i(y.childNodes),T=S.next();!T.done;T=S.next()){var _=T.value;this._serializeNodeNS(_,m,x,v,d)}}catch(D){w={error:D}}finally{try{T&&!T.done&&(C=S.return)&&C.call(S)}finally{if(w)throw w.error}}},g.prototype._serializeDocument=function(y,m){var x,v;if(m&&y.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var d=i(y._children),w=d.next();!w.done;w=d.next()){var C=w.value;this._serializeNode(C,m)}}catch(S){x={error:S}}finally{try{w&&!w.done&&(v=d.return)&&v.call(d)}finally{if(x)throw x.error}}},g.prototype._serializeComment=function(y,m){if(m&&(!p.xml_isLegalChar(y.data)||y.data.indexOf("--")!==-1||y.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");this.comment(y.data)},g.prototype._serializeText=function(y,m){if(m&&!p.xml_isLegalChar(y.data))throw new Error("Text data contains invalid characters (well-formed required).");var x=y.data.replace(/(?!&([^&;]*);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.text(x)},g.prototype._serializeDocumentFragmentNS=function(y,m,x,v,d){var w,C;try{for(var S=i(y.childNodes),T=S.next();!T.done;T=S.next()){var _=T.value;this._serializeNodeNS(_,m,x,v,d)}}catch(D){w={error:D}}finally{try{T&&!T.done&&(C=S.return)&&C.call(S)}finally{if(w)throw w.error}}},g.prototype._serializeDocumentFragment=function(y,m){var x,v;try{for(var d=i(y._children),w=d.next();!w.done;w=d.next()){var C=w.value;this._serializeNode(C,m)}}catch(S){x={error:S}}finally{try{w&&!w.done&&(v=d.return)&&v.call(d)}finally{if(x)throw x.error}}},g.prototype._serializeDocumentType=function(y,m){if(m&&!p.xml_isPubidChar(y.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(m&&(!p.xml_isLegalChar(y.systemId)||y.systemId.indexOf('"')!==-1&&y.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");this.docType(y.name,y.publicId,y.systemId)},g.prototype._serializeProcessingInstruction=function(y,m){if(m&&(y.target.indexOf(":")!==-1||/^xml$/i.test(y.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(m&&(!p.xml_isLegalChar(y.data)||y.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");this.instruction(y.target,y.data)},g.prototype._serializeCData=function(y,m){if(m&&y.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");this.cdata(y.data)},g.prototype._serializeAttributesNS=function(y,m,x,v,d,w){var C,S,T=[],_=w?new s.LocalNameSet:void 0;try{for(var D=i(y.attributes),b=D.next();!b.done;b=D.next()){var E=b.value;if(w||d||E.namespaceURI!==null){if(w&&_&&_.has(E.namespaceURI,E.localName))throw new Error("Element contains duplicate attributes (well-formed required).");w&&_&&_.set(E.namespaceURI,E.localName);var N=E.namespaceURI,R=null;if(N!==null)if(R=m.get(E.prefix,N),N===c.namespace.XMLNS){if(E.value===c.namespace.XML||E.prefix===null&&d||E.prefix!==null&&(!(E.localName in v)||v[E.localName]!==E.value)&&m.has(E.localName,E.value))continue;if(w&&E.value===c.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(w&&E.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");E.prefix==="xmlns"&&(R="xmlns")}else R===null&&(R=E.prefix===null||m.hasPrefix(E.prefix)&&!m.has(E.prefix,N)?this._generatePrefix(N,m,x):E.prefix,T.push([null,"xmlns",R,this._serializeAttributeValue(N,w)]));if(w&&(E.localName.indexOf(":")!==-1||!p.xml_isName(E.localName)||E.localName==="xmlns"&&N===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");T.push([N,R,E.localName,this._serializeAttributeValue(E.value,w)])}else T.push([null,null,E.localName,this._serializeAttributeValue(E.value,w)])}}catch(M){C={error:M}}finally{try{b&&!b.done&&(S=D.return)&&S.call(D)}finally{if(C)throw C.error}}return T},g.prototype._serializeAttributes=function(y,m){var x,v,d=[],w=m?{}:void 0;try{for(var C=i(y.attributes),S=C.next();!S.done;S=C.next()){var T=S.value;if(m){if(m&&w&&T.localName in w)throw new Error("Element contains duplicate attributes (well-formed required).");if(m&&w&&(w[T.localName]=!0),m&&(T.localName.indexOf(":")!==-1||!p.xml_isName(T.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");d.push([null,null,T.localName,this._serializeAttributeValue(T.value,m)])}else d.push([null,null,T.localName,this._serializeAttributeValue(T.value,m)])}}catch(_){x={error:_}}finally{try{S&&!S.done&&(v=C.return)&&v.call(C)}finally{if(x)throw x.error}}return d},g.prototype._recordNamespaceInformation=function(y,m,x){var v,d,w=null;try{for(var C=i(y.attributes),S=C.next();!S.done;S=C.next()){var T=S.value,_=T.namespaceURI,D=T.prefix;if(_===c.namespace.XMLNS){if(D===null){w=T.value;continue}var b=T.localName,E=T.value;if(E===c.namespace.XML||(E===""&&(E=null),m.has(b,E)))continue;m.set(b,E),x[b]=E||""}}}catch(N){v={error:N}}finally{try{S&&!S.done&&(d=C.return)&&d.call(C)}finally{if(v)throw v.error}}return w},g.prototype._generatePrefix=function(y,m,x){var v="ns"+x.value.toString();return x.value++,m.set(v,y),v},g.prototype._serializeAttributeValue=function(y,m){if(m&&y!==null&&!p.xml_isLegalChar(y))throw new Error("Invalid characters in attribute value.");return y===null?"":y.replace(/(?!&([^&;]*);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},g._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),g}();r.BaseWriter=h},function(a,r,n){var i=this&&this.__values||function(m){var x=typeof Symbol=="function"&&Symbol.iterator,v=x&&m[x],d=0;if(v)return v.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&d>=m.length&&(m=void 0),{value:m&&m[d++],done:!m}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(m,x){var v=typeof Symbol=="function"&&m[Symbol.iterator];if(!v)return m;var d,w,C=v.call(m),S=[];try{for(;(x===void 0||x-- >0)&&!(d=C.next()).done;)S.push(d.value)}catch(T){w={error:T}}finally{try{d&&!d.done&&(v=C.return)&&v.call(C)}finally{if(w)throw w.error}}return S};Object.defineProperty(r,"__esModule",{value:!0});var o=n(6),f=n(3),s=n(7),l=n(29),c=n(17),p=n(97);function h(){var m=o.dom.window;m._mutationObserverMicrotaskQueued||(m._mutationObserverMicrotaskQueued=!0,Promise.resolve().then(function(){g()}))}function g(){var m,x,v,d,w=o.dom.window;w._mutationObserverMicrotaskQueued=!1;var C=s.set.clone(w._mutationObservers),S=s.set.clone(w._signalSlots);s.set.empty(w._signalSlots);var T=function(R){var M=s.list.clone(R._recordQueue);s.list.empty(R._recordQueue);for(var G=0;G<R._nodeList.length;G++){var j=R._nodeList[G];s.list.remove(j._registeredObserverList,function(z){return f.Guard.isTransientRegisteredObserver(z)&&z.observer===R})}if(!s.list.isEmpty(M))try{R._callback.call(R,M,R)}catch{}};try{for(var _=i(C),D=_.next();!D.done;D=_.next())T(D.value)}catch(R){m={error:R}}finally{try{D&&!D.done&&(x=_.return)&&x.call(_)}finally{if(m)throw m.error}}if(o.dom.features.slots)try{for(var b=i(S),E=b.next();!E.done;E=b.next()){var N=E.value;p.event_fireAnEvent("slotchange",N,void 0,{bubbles:!0})}}catch(R){v={error:R}}finally{try{E&&!E.done&&(d=b.return)&&d.call(b)}finally{if(v)throw v.error}}}function y(m,x,v,d,w,C,S,T,_){for(var D,b,E=new Map,N=c.tree_getFirstAncestorNode(x,!0);N!==null;){for(var R=0;R<N._registeredObserverList.length;R++){var M=N._registeredObserverList[R],G=M.options;if((N===x||G.subtree)&&(m!=="attributes"||G.attributes)&&(m!=="attributes"||!G.attributeFilter||G.attributeFilter.indexOf(v||"")&&d===null)&&(m!=="characterData"||G.characterData)&&(m!=="childList"||G.childList)){var j=M.observer;E.has(j)||E.set(j,null),(m==="attributes"&&G.attributeOldValue||m==="characterData"&&G.characterDataOldValue)&&E.set(j,w)}}N=c.tree_getNextAncestorNode(x,N,!0)}try{for(var z=i(E),V=z.next();!V.done;V=z.next()){var L=u(V.value,2),B=L[0],$=L[1],H=l.create_mutationRecord(m,x,l.create_nodeListStatic(x,C),l.create_nodeListStatic(x,S),T,_,v,d,$);B._recordQueue.push(H)}}catch(X){D={error:X}}finally{try{V&&!V.done&&(b=z.return)&&b.call(z)}finally{if(D)throw D.error}}h()}r.observer_queueAMutationObserverMicrotask=h,r.observer_notifyMutationObservers=g,r.observer_queueMutationRecord=y,r.observer_queueTreeMutationRecord=function(m,x,v,d,w){y("childList",m,null,null,null,x,v,d,w)},r.observer_queueAttributeMutationRecord=function(m,x,v,d){y("attributes",m,x,v,d,[],[],null,null)}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(6),u=n(7),o=n(3),f=n(9),s=n(29),l=n(73),c=n(51),p=n(30),h=n(37),g=n(106);function y(C,S,T){i.dom.features.mutationObservers&&c.observer_queueAttributeMutationRecord(S,C._localName,C._namespace,C._value),i.dom.features.customElements&&o.Guard.isCustomElementNode(S)&&l.customElement_enqueueACustomElementCallbackReaction(S,"attributeChangedCallback",[C._localName,C._value,T,C._namespace]),i.dom.features.steps&&p.dom_runAttributeChangeSteps(S,C._localName,C._value,T,C._namespace),C._value=T}function m(C,S){i.dom.features.mutationObservers&&c.observer_queueAttributeMutationRecord(S,C._localName,C._namespace,null),i.dom.features.customElements&&o.Guard.isCustomElementNode(S)&&l.customElement_enqueueACustomElementCallbackReaction(S,"attributeChangedCallback",[C._localName,null,C._value,C._namespace]),i.dom.features.steps&&p.dom_runAttributeChangeSteps(S,C._localName,null,C._value,C._namespace),S._attributeList._asArray().push(C),C._element=S,S._nodeDocument._hasNamespaces||C._namespace===null&&C._namespacePrefix===null&&C._localName!=="xmlns"||(S._nodeDocument._hasNamespaces=!0)}function x(C,S){i.dom.features.mutationObservers&&c.observer_queueAttributeMutationRecord(S,C._localName,C._namespace,C._value),i.dom.features.customElements&&o.Guard.isCustomElementNode(S)&&l.customElement_enqueueACustomElementCallbackReaction(S,"attributeChangedCallback",[C._localName,C._value,null,C._namespace]),i.dom.features.steps&&p.dom_runAttributeChangeSteps(S,C._localName,C._value,null,C._namespace);var T=S._attributeList._asArray().indexOf(C);S._attributeList._asArray().splice(T,1),C._element=null}function v(C,S,T){i.dom.features.mutationObservers&&c.observer_queueAttributeMutationRecord(T,C._localName,C._namespace,C._value),i.dom.features.customElements&&o.Guard.isCustomElementNode(T)&&l.customElement_enqueueACustomElementCallbackReaction(T,"attributeChangedCallback",[C._localName,C._value,S._value,C._namespace]),i.dom.features.steps&&p.dom_runAttributeChangeSteps(T,C._localName,C._value,S._value,C._namespace);var _=T._attributeList._asArray().indexOf(C);_!==-1&&(T._attributeList._asArray()[_]=S),C._element=null,S._element=T,T._nodeDocument._hasNamespaces||S._namespace===null&&S._namespacePrefix===null&&S._localName!=="xmlns"||(T._nodeDocument._hasNamespaces=!0)}function d(C,S){return S._namespace===u.namespace.HTML&&S._nodeDocument._type==="html"&&(C=C.toLowerCase()),S._attributeList._asArray().find(function(T){return T._qualifiedName===C})||null}function w(C,S,T){var _=C||null;return T._attributeList._asArray().find(function(D){return D._namespace===_&&D._localName===S})||null}r.element_has=function(C,S){return S._attributeList._asArray().indexOf(C)!==-1},r.element_change=y,r.element_append=m,r.element_remove=x,r.element_replace=v,r.element_getAnAttributeByName=d,r.element_getAnAttributeByNamespaceAndLocalName=w,r.element_getAnAttributeValue=function(C,S,T){T===void 0&&(T="");var _=w(T,S,C);return _===null?"":_._value},r.element_setAnAttribute=function(C,S){if(C._element!==null&&C._element!==S)throw new f.InUseAttributeError("This attribute already exists in the document: "+C._qualifiedName+" as a child of "+C._element._qualifiedName+".");var T=w(C._namespace||"",C._localName,S);return T===C?C:(T!==null?v(T,C,S):m(C,S),T)},r.element_setAnAttributeValue=function(C,S,T,_,D){_===void 0&&(_=null),D===void 0&&(D=null);var b=w(D||"",S,C);if(b===null){var E=s.create_attr(C._nodeDocument,S);return E._namespace=D,E._namespacePrefix=_,E._value=T,void m(E,C)}y(b,C,T)},r.element_removeAnAttributeByName=function(C,S){var T=d(C,S);return T!==null&&x(T,S),T},r.element_removeAnAttributeByNamespaceAndLocalName=function(C,S,T){var _=w(C,S,T);return _!==null&&x(_,T),_},r.element_createAnElement=function(C,S,T,_,D,b){_===void 0&&(_=null),D===void 0&&(D=null),b===void 0&&(b=!1);var E=null;if(!i.dom.features.customElements)return(E=s.create_element(C,S,T,_))._customElementState="uncustomized",E._customElementDefinition=null,E._is=D,E;var N=l.customElement_lookUpACustomElementDefinition(C,T,S,D);if(N!==null&&N.name!==N.localName)(E=new(g.document_elementInterface(S,u.namespace.HTML)))._localName=S,E._namespace=u.namespace.HTML,E._namespacePrefix=_,E._customElementState="undefined",E._customElementDefinition=null,E._is=D,E._nodeDocument=C,b?l.customElement_upgrade(N,E):l.customElement_enqueueACustomElementUpgradeReaction(E,N);else if(N!==null)if(b)try{var R=new N.constructor;if(console.assert(R._customElementState!==void 0),console.assert(R._customElementDefinition!==void 0),console.assert(R._namespace===u.namespace.HTML),R._attributeList.length!==0)throw new f.NotSupportedError("Custom element already has attributes.");if(R._children.size!==0)throw new f.NotSupportedError("Custom element already has child nodes.");if(R._parent!==null)throw new f.NotSupportedError("Custom element already has a parent node.");if(R._nodeDocument!==C)throw new f.NotSupportedError("Custom element is already in a document.");if(R._localName!==S)throw new f.NotSupportedError("Custom element has a different local name.");R._namespacePrefix=_,R._is=null}catch{(E=s.create_htmlUnknownElement(C,S,u.namespace.HTML,_))._customElementState="failed",E._customElementDefinition=null,E._is=null}else(E=s.create_htmlElement(C,S,u.namespace.HTML,_))._customElementState="undefined",E._customElementDefinition=null,E._is=null,l.customElement_enqueueACustomElementUpgradeReaction(E,N);else(E=new(g.document_elementInterface(S,T)))._localName=S,E._namespace=T,E._namespacePrefix=_,E._customElementState="uncustomized",E._customElementDefinition=null,E._is=D,E._nodeDocument=C,T!==u.namespace.HTML||D===null&&!l.customElement_isValidCustomElementName(S)||(E._customElementState="undefined");if(E===null)throw new Error("Unable to create element.");return E},r.element_insertAdjacent=function(C,S,T){switch(S.toLowerCase()){case"beforebegin":return C._parent===null?null:h.mutation_preInsert(T,C._parent,C);case"afterbegin":return h.mutation_preInsert(T,C,C._firstChild);case"beforeend":return h.mutation_preInsert(T,C,null);case"afterend":return C._parent===null?null:h.mutation_preInsert(T,C._parent,C._nextSibling);default:throw new f.SyntaxError(`Invalid 'where' argument. "beforebegin", "afterbegin", "beforeend" or "afterend" expected`)}}},function(a,r,n){function i(u,o){Error.call(this),this.name="YAMLException",this.reason=u,this.mark=o,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.toString=function(u){var o=this.name+": ";return o+=this.reason||"(unknown reason)",!u&&this.mark&&(o+=" "+this.mark.toString()),o},a.exports=i},function(a,r,n){var i=n(39);a.exports=new i({include:[n(181)],implicit:[n(293),n(294)],explicit:[n(295),n(296),n(297),n(298)]})},function(a,r,n){var i=n(16),u=n(79),o=n(40),f=n(24),s=n(56),l=n(14),c=n(115),p=Object.getOwnPropertyDescriptor;r.f=i?p:function(h,g){if(h=f(h),g=s(g,!0),c)try{return p(h,g)}catch{}if(l(h,g))return o(!u.f.call(h,g),h[g])}},function(a,r,n){var i=n(13);a.exports=function(u,o){if(!i(u))return u;var f,s;if(o&&typeof(f=u.toString)=="function"&&!i(s=f.call(u))||typeof(f=u.valueOf)=="function"&&!i(s=f.call(u))||!o&&typeof(f=u.toString)=="function"&&!i(s=f.call(u)))return s;throw TypeError("Can't convert object to primitive value")}},function(a,r,n){var i=n(81),u=n(58),o=i("keys");a.exports=function(f){return o[f]||(o[f]=u(f))}},function(a,r){var n=0,i=Math.random();a.exports=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++n+i).toString(36)}},function(a,r,n){var i=n(42);a.exports=Array.isArray||function(u){return i(u)=="Array"}},function(a,r,n){var i,u=n(18),o=n(188),f=n(84),s=n(45),l=n(189),c=n(116),p=n(57),h=p("IE_PROTO"),g=function(){},y=function(x){return"<script>"+x+"<\/script>"},m=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch{}var x,v;m=i?function(w){w.write(y("")),w.close();var C=w.parentWindow.Object;return w=null,C}(i):((v=c("iframe")).style.display="none",l.appendChild(v),v.src=String("javascript:"),(x=v.contentWindow.document).open(),x.write(y("document.F=Object")),x.close(),x.F);for(var d=f.length;d--;)delete m.prototype[f[d]];return m()};s[h]=!0,a.exports=Object.create||function(x,v){var d;return x!==null?(g.prototype=u(x),d=new g,g.prototype=null,d[h]=x):d=m(),v===void 0?d:o(d,v)}},function(a,r,n){var i=n(121),u=n(84);a.exports=Object.keys||function(o){return i(o,u)}},function(a,r,n){var i=n(15).f,u=n(14),o=n(5)("toStringTag");a.exports=function(f,s,l){f&&!u(f=l?f:f.prototype,o)&&i(f,o,{configurable:!0,value:s})}},function(a,r,n){var i=n(8),u=n(5),o=n(129),f=u("species");a.exports=function(s){return o>=51||!i(function(){var l=[];return(l.constructor={})[f]=function(){return{foo:1}},l[s](Boolean).foo!==1})}},function(a,r,n){var i=n(4),u=n(122).indexOf,o=n(48),f=n(28),s=[].indexOf,l=!!s&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),p=f("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:l||!c||!p},{indexOf:function(h){return l?s.apply(this,arguments)||0:u(this,h,arguments.length>1?arguments[1]:void 0)}})},function(a,r,n){var i=n(16),u=n(15).f,o=Function.prototype,f=o.toString,s=/^\s*function ([^ (]*)/;i&&!("name"in o)&&u(o,"name",{configurable:!0,get:function(){try{return f.call(this).match(s)[1]}catch{return""}}})},function(a,r,n){var i=n(25),u=n(18),o=n(8),f=n(136),s=RegExp.prototype,l=s.toString,c=o(function(){return l.call({source:"a",flags:"b"})!="/a/b"}),p=l.name!="toString";(c||p)&&i(RegExp.prototype,"toString",function(){var h=u(this),g=String(h.source),y=h.flags;return"/"+g+"/"+String(y===void 0&&h instanceof RegExp&&!("flags"in s)?f.call(h):y)},{unsafe:!0})},function(a,r,n){n(31),n(32),n(33),n(19),n(138),n(20),n(66),n(22),n(23);var i,u=this&&this.__extends||(i=function(c,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var y in g)g.hasOwnProperty(y)&&(h[y]=g[y])})(c,p)},function(c,p){function h(){this.constructor=c}i(c,p),c.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}),o=this&&this.__values||function(c){var p=typeof Symbol=="function"&&Symbol.iterator,h=p&&c[p],g=0;if(h)return h.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&g>=c.length&&(c=void 0),{value:c&&c[g++],done:!c}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var f=n(1),s=n(2),l=function(c){function p(h,g){var y=c.call(this,h)||this;return y._writerOptions=f.applyDefaults(g,{format:"object",wellFormed:!1,group:!1,verbose:!1}),y}return u(p,c),p.prototype.serialize=function(h){return this._currentList=[],this._currentIndex=0,this._listRegister=[this._currentList],this.serializeNode(h,this._writerOptions.wellFormed),this._process(this._currentList,this._writerOptions)},p.prototype._process=function(h,g){var y,m,x,v,d,w,C;if(h.length===0)return{};for(var S={},T=!1,_=0,D=0,b=0,E=0,N=0;N<h.length;N++){var R=h[N];switch(te=Object.keys(R)[0]){case"@":continue;case"#":_++;break;case"!":D++;break;case"?":b++;break;case"$":E++;break;default:S[te]?T=!0:S[te]=!0}}var M=this._getAttrKey(),G=this._getNodeKey(s.NodeType.Text),j=this._getNodeKey(s.NodeType.Comment),z=this._getNodeKey(s.NodeType.ProcessingInstruction),V=this._getNodeKey(s.NodeType.CData);if(_===1&&h.length===1&&f.isString(h[0]["#"]))return h[0]["#"];if(T){var L={};for(N=0;N<h.length;N++)if(R=h[N],(te=Object.keys(R)[0])==="@"){var B=R["@"];(k=Object.keys(B)).length===1?L[M+k[0]]=B[k[0]]:L[M]=R["@"]}var $=[];for(N=0;N<h.length;N++)switch(R=h[N],te=Object.keys(R)[0]){case"@":break;case"#":$.push(((y={})[G]=R["#"],y));break;case"!":$.push(((m={})[j]=R["!"],m));break;case"?":$.push(((x={})[z]=R["?"],x));break;case"$":$.push(((v={})[V]=R.$,v));break;default:if((A=R)[te].length!==0&&f.isArray(A[te][0])){for(var H=[],X=A[te],Z=0;Z<X.length;Z++)H.push(this._process(X[Z],g));$.push(((d={})[te]=H,d))}else g.verbose?$.push(((w={})[te]=[this._process(A[te],g)],w)):$.push(((C={})[te]=this._process(A[te],g),C))}return L[G]=$,L}var Y=1,J=1,ne=1,ee=1;for(L={},N=0;N<h.length;N++){var te;switch(R=h[N],te=Object.keys(R)[0]){case"@":B=R["@"];var k=Object.keys(B);if(g.group&&k.length!==1)L[M]=B;else for(var O in B)L[M+O]=B[O];break;case"#":Y=this._processSpecItem(R["#"],L,g.group,G,_,Y);break;case"!":J=this._processSpecItem(R["!"],L,g.group,j,D,J);break;case"?":ne=this._processSpecItem(R["?"],L,g.group,z,b,ne);break;case"$":ee=this._processSpecItem(R.$,L,g.group,V,E,ee);break;default:var A;if((A=R)[te].length!==0&&f.isArray(A[te][0])){H=[],X=A[te];for(var F=0;F<X.length;F++)H.push(this._process(X[F],g));L[te]=H}else g.verbose?L[te]=[this._process(A[te],g)]:L[te]=this._process(A[te],g)}}return L},p.prototype._processSpecItem=function(h,g,y,m,x,v){var d,w;if(!y&&f.isArray(h)&&x+h.length>2)try{for(var C=o(h),S=C.next();!S.done;S=C.next()){var T=S.value;g[m+(v++).toString()]=T}}catch(_){d={error:_}}finally{try{S&&!S.done&&(w=C.return)&&w.call(C)}finally{if(d)throw d.error}}else g[x>1?m+(v++).toString():m]=h;return v},p.prototype.beginElement=function(h){var g,y,m=[];if(this._currentList.length===0)this._currentList.push(((g={})[h]=m,g));else{var x=this._currentList[this._currentList.length-1];this._isElementNode(x,h)?x[h].length!==0&&f.isArray(x[h][0])?x[h].push(m):x[h]=[x[h],m]:this._currentList.push(((y={})[h]=m,y))}this._currentIndex++,this._listRegister.length>this._currentIndex?this._listRegister[this._currentIndex]=m:this._listRegister.push(m),this._currentList=m},p.prototype.endElement=function(){this._currentList=this._listRegister[--this._currentIndex]},p.prototype.attribute=function(h,g){var y,m;if(this._currentList.length===0)this._currentList.push({"@":(y={},y[h]=g,y)});else{var x=this._currentList[this._currentList.length-1];this._isAttrNode(x)?x["@"][h]=g:this._currentList.push({"@":(m={},m[h]=g,m)})}},p.prototype.comment=function(h){if(this._currentList.length===0)this._currentList.push({"!":h});else{var g=this._currentList[this._currentList.length-1];this._isCommentNode(g)?f.isArray(g["!"])?g["!"].push(h):g["!"]=[g["!"],h]:this._currentList.push({"!":h})}},p.prototype.text=function(h){if(this._currentList.length===0)this._currentList.push({"#":h});else{var g=this._currentList[this._currentList.length-1];this._isTextNode(g)?f.isArray(g["#"])?g["#"].push(h):g["#"]=[g["#"],h]:this._currentList.push({"#":h})}},p.prototype.instruction=function(h,g){var y=g===""?h:h+" "+g;if(this._currentList.length===0)this._currentList.push({"?":y});else{var m=this._currentList[this._currentList.length-1];this._isInstructionNode(m)?f.isArray(m["?"])?m["?"].push(y):m["?"]=[m["?"],y]:this._currentList.push({"?":y})}},p.prototype.cdata=function(h){if(this._currentList.length===0)this._currentList.push({$:h});else{var g=this._currentList[this._currentList.length-1];this._isCDATANode(g)?f.isArray(g.$)?g.$.push(h):g.$=[g.$,h]:this._currentList.push({$:h})}},p.prototype._isAttrNode=function(h){return"@"in h},p.prototype._isTextNode=function(h){return"#"in h},p.prototype._isCommentNode=function(h){return"!"in h},p.prototype._isInstructionNode=function(h){return"?"in h},p.prototype._isCDATANode=function(h){return"$"in h},p.prototype._isElementNode=function(h,g){return g in h},p.prototype._getAttrKey=function(){return this._builderOptions.convert.att},p.prototype._getNodeKey=function(h){switch(h){case s.NodeType.Comment:return this._builderOptions.convert.comment;case s.NodeType.Text:return this._builderOptions.convert.text;case s.NodeType.ProcessingInstruction:return this._builderOptions.convert.ins;case s.NodeType.CData:return this._builderOptions.convert.cdata;default:throw new Error("Invalid node type.")}},p}(n(50).BaseWriter);r.ObjectWriter=l},function(a,r,n){var i=n(4),u=n(93);i({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function u(){this._items={},this._nullItems={}}return u.prototype.set=function(o,f){o===null?this._nullItems[f]=!0:(this._items[o]||(this._items[o]={}),this._items[o][f]=!0)},u.prototype.has=function(o,f){return o===null?this._nullItems[f]===!0:!!this._items[o]&&this._items[o][f]===!0},u}();r.LocalNameSet=i},function(a,r,n){var i=this&&this.__read||function(l,c){var p=typeof Symbol=="function"&&l[Symbol.iterator];if(!p)return l;var h,g,y=p.call(l),m=[];try{for(;(c===void 0||c-- >0)&&!(h=y.next()).done;)m.push(h.value)}catch(x){g={error:x}}finally{try{h&&!h.done&&(p=y.return)&&p.call(y)}finally{if(g)throw g.error}}return m};Object.defineProperty(r,"__esModule",{value:!0});var u=n(9),o=n(3),f=n(0),s=function(){function l(){}return Object.defineProperty(l.prototype,"_eventListenerList",{get:function(){return this.__eventListenerList||(this.__eventListenerList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_eventHandlerMap",{get:function(){return this.__eventHandlerMap||(this.__eventHandlerMap={})},enumerable:!0,configurable:!0}),l.prototype.addEventListener=function(c,p,h){h===void 0&&(h={passive:!1,once:!1,capture:!1});var g,y=i(f.eventTarget_flattenMore(h),3),m=y[0],x=y[1],v=y[2];p&&(g=o.Guard.isEventListener(p)?p:{handleEvent:p},f.eventTarget_addEventListener(this,{type:c,callback:g,capture:m,passive:x,once:v,removed:!1}))},l.prototype.removeEventListener=function(c,p,h){h===void 0&&(h={capture:!1});var g=f.eventTarget_flatten(h);if(p)for(var y=0;y<this._eventListenerList.length;y++){var m=this._eventListenerList[y];if(m.type===c&&m.capture===g){if(o.Guard.isEventListener(p)&&m.callback===p){f.eventTarget_removeEventListener(this,m,y);break}if(p&&m.callback.handleEvent===p){f.eventTarget_removeEventListener(this,m,y);break}}}},l.prototype.dispatchEvent=function(c){if(c._dispatchFlag||!c._initializedFlag)throw new u.InvalidStateError;return c._isTrusted=!1,f.event_dispatch(c,this)},l.prototype._getTheParent=function(c){return null},l}();r.EventTargetImpl=s},function(a,r,n){var i,u=this&&this.__extends||(i=function(l,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var g in h)h.hasOwnProperty(g)&&(p[g]=h[g])})(l,c)},function(l,c){function p(){this.constructor=l}i(l,c),l.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(34),f=n(0),s=function(l){function c(p){var h=l.call(this)||this;return h._data=p,h}return u(c,l),Object.defineProperty(c.prototype,"data",{get:function(){return this._data},set:function(p){f.characterData_replaceData(this,0,this._data.length,p)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"length",{get:function(){return this._data.length},enumerable:!0,configurable:!0}),c.prototype.substringData=function(p,h){return f.characterData_substringData(this,p,h)},c.prototype.appendData=function(p){return f.characterData_replaceData(this,this._data.length,0,p)},c.prototype.insertData=function(p,h){f.characterData_replaceData(this,p,0,h)},c.prototype.deleteData=function(p,h){f.characterData_replaceData(this,p,h,"")},c.prototype.replaceData=function(p,h,g){f.characterData_replaceData(this,p,h,g)},Object.defineProperty(c.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),c.prototype.before=function(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];throw new Error("Mixin: ChildNode not implemented.")},c.prototype.after=function(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];throw new Error("Mixin: ChildNode not implemented.")},c.prototype.replaceWith=function(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];throw new Error("Mixin: ChildNode not implemented.")},c.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},c}(o.NodeImpl);r.CharacterDataImpl=s},function(a,r,n){var i=this&&this.__values||function(x){var v=typeof Symbol=="function"&&Symbol.iterator,d=v&&x[v],w=0;if(d)return d.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&w>=x.length&&(x=void 0),{value:x&&x[w++],done:!x}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(x,v){var d=typeof Symbol=="function"&&x[Symbol.iterator];if(!d)return x;var w,C,S=d.call(x),T=[];try{for(;(v===void 0||v-- >0)&&!(w=S.next()).done;)T.push(w.value)}catch(_){C={error:_}}finally{try{w&&!w.done&&(d=S.return)&&d.call(S)}finally{if(C)throw C.error}}return T},o=this&&this.__spread||function(){for(var x=[],v=0;v<arguments.length;v++)x=x.concat(u(arguments[v]));return x};Object.defineProperty(r,"__esModule",{value:!0});var f=n(6),s=n(3),l=n(1),c=n(17),p=n(51);function h(x){f.dom.window._signalSlots.add(x),p.observer_queueAMutationObserverMicrotask()}function g(x,v){v===void 0&&(v=!1);var d=s.Cast.asNode(x)._parent;if(d===null)return null;var w=d._shadowRoot||null;if(w===null||v&&w._mode!=="open")return null;for(var C=c.tree_getFirstDescendantNode(w,!1,!0,function(S){return s.Guard.isSlot(S)});C!==null;){if(C._name===x._name)return C;C=c.tree_getNextDescendantNode(w,C,!1,!0,function(S){return s.Guard.isSlot(S)})}return null}function y(x){var v,d,w=[],C=c.tree_rootNode(x);if(!s.Guard.isShadowRoot(C))return w;var S=C._host;try{for(var T=i(S._children),_=T.next();!_.done;_=T.next()){var D=_.value;s.Guard.isSlotable(D)&&g(D)===x&&w.push(D)}}catch(b){v={error:b}}finally{try{_&&!_.done&&(d=T.return)&&d.call(T)}finally{if(v)throw v.error}}return w}function m(x){var v,d,w=y(x);if(w.length===x._assignedNodes.length){for(var C=!0,S=0;S<w.length;S++)if(w[S]!==x._assignedNodes[S]){C=!1;break}C||h(x)}x._assignedNodes=w;try{for(var T=i(w),_=T.next();!_.done;_=T.next())_.value._assignedSlot=x}catch(D){v={error:D}}finally{try{_&&!_.done&&(d=T.return)&&d.call(T)}finally{if(v)throw v.error}}}r.shadowTree_signalASlotChange=h,r.shadowTree_isConnected=function(x){return s.Guard.isDocumentNode(c.tree_rootNode(x,!0))},r.shadowTree_isAssigned=function(x){return x._assignedSlot!==null},r.shadowTree_findASlot=g,r.shadowTree_findSlotables=y,r.shadowTree_findFlattenedSlotables=function x(v){var d,w,C,S,T=[],_=c.tree_rootNode(v);if(!s.Guard.isShadowRoot(_))return T;var D=y(v);if(l.isEmpty(D))try{for(var b=i(v._children),E=b.next();!E.done;E=b.next()){var N=E.value;s.Guard.isSlotable(N)&&D.push(N)}}catch(z){d={error:z}}finally{try{E&&!E.done&&(w=b.return)&&w.call(b)}finally{if(d)throw d.error}}try{for(var R=i(D),M=R.next();!M.done;M=R.next()){var G=M.value;if(s.Guard.isSlot(G)&&s.Guard.isShadowRoot(c.tree_rootNode(G))){var j=x(G);T.push.apply(T,o(j))}else T.push(G)}}catch(z){C={error:z}}finally{try{M&&!M.done&&(S=R.return)&&S.call(R)}finally{if(C)throw C.error}}return T},r.shadowTree_assignSlotables=m,r.shadowTree_assignSlotablesForATree=function(x){for(var v=c.tree_getFirstDescendantNode(x,!0,!1,function(d){return s.Guard.isSlot(d)});v!==null;)m(v),v=c.tree_getNextDescendantNode(x,v,!0,!1,function(d){return s.Guard.isSlot(d)})},r.shadowTree_assignASlot=function(x){var v=g(x);v!==null&&m(v)}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=/[a-z]([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*/,u=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),o=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]),f=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),s=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]);r.customElement_isValidCustomElementName=function(l){return!!i.test(l)&&!u.has(l)},r.customElement_isValidElementName=function(l){return o.has(l)},r.customElement_isVoidElementName=function(l){return f.has(l)},r.customElement_isValidShadowHostName=function(l){return s.has(l)},r.customElement_enqueueACustomElementUpgradeReaction=function(l,c){},r.customElement_enqueueACustomElementCallbackReaction=function(l,c,p){},r.customElement_upgrade=function(l,c){},r.customElement_tryToUpgrade=function(l){},r.customElement_lookUpACustomElementDefinition=function(l,c,p,h){return null}},function(a,r,n){n(4)({target:"String",proto:!0},{repeat:n(259)})},function(a,r,n){n(278),n(68),n(179),n(94),Object.defineProperty(r,"__esModule",{value:!0});var i=n(109),u=function(){function o(f){this._builderOptions=f,f.parser&&Object.assign(this,f.parser)}return o.prototype._docType=function(f,s,l,c){return f.dtd({name:s,pubID:l,sysID:c})},o.prototype._comment=function(f,s){return f.com(s)},o.prototype._text=function(f,s){return f.txt(s)},o.prototype._instruction=function(f,s,l){return f.ins(s,l)},o.prototype._cdata=function(f,s){return f.dat(s)},o.prototype._element=function(f,s,l){return s===void 0?f.ele(l):f.ele(s,l)},o.prototype._attribute=function(f,s,l,c){return s===void 0?f.att(l,c):f.att(s,l,c)},o.prototype._sanitize=function(f){return i.sanitizeInput(f,this._builderOptions.invalidCharReplacement)},o.prototype._decodeText=function(f){return f==null?f:f.replace(/&(quot|amp|apos|lt|gt);/g,function(s,l){return o._entityTable[l]}).replace(/&#(?:x([a-fA-F0-9]+)|([0-9]+));/g,function(s,l,c){return String.fromCodePoint(parseInt(l||c,l?16:10))})},o.prototype._decodeAttributeValue=function(f){return this._decodeText(f)},o.prototype.parse=function(f,s){return this._parse(f,s)},o.prototype.docType=function(f,s,l,c){return this._docType(f,s,l,c)},o.prototype.comment=function(f,s){return this._comment(f,s)},o.prototype.text=function(f,s){return this._text(f,s)},o.prototype.instruction=function(f,s,l){return this._instruction(f,s,l)},o.prototype.cdata=function(f,s){return this._cdata(f,s)},o.prototype.element=function(f,s,l){return this._element(f,s,l)},o.prototype.attribute=function(f,s,l,c){return this._attribute(f,s,l,c)},o.prototype.sanitize=function(f){return this._sanitize(f)},o._entityTable={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},o}();r.BaseReader=u},function(a,r,n){var i=n(39);a.exports=i.DEFAULT=new i({include:[n(54)],explicit:[n(299),n(300),n(301)]})},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(185);r.XMLBuilderImpl=i.XMLBuilderImpl;var u=n(304);r.XMLBuilderCBImpl=u.XMLBuilderCBImpl;var o=n(183);r.builder=o.builder,r.create=o.create,r.fragment=o.fragment,r.convert=o.convert;var f=n(309);r.createCB=f.createCB,r.fragmentCB=f.fragmentCB},function(a,r){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{typeof window=="object"&&(n=window)}a.exports=n},function(a,r,n){var i={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,o=u&&!i.call({1:2},1);r.f=o?function(f){var s=u(this,f);return!!s&&s.enumerable}:i},function(a,r,n){var i=n(11),u=n(21);a.exports=function(o,f){try{u(i,o,f)}catch{i[o]=f}return f}},function(a,r,n){var i=n(44),u=n(118);(a.exports=function(o,f){return u[o]||(u[o]=f!==void 0?f:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},function(a,r,n){var i=n(121),u=n(84).concat("length","prototype");r.f=Object.getOwnPropertyNames||function(o){return i(o,u)}},function(a,r,n){var i=n(47),u=Math.max,o=Math.min;a.exports=function(f,s){var l=i(f);return l<0?u(l+s,0):o(l,s)}},function(a,r){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(a,r){r.f=Object.getOwnPropertySymbols},function(a,r,n){var i=n(8);a.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},function(a,r,n){var i=n(127);a.exports=function(u,o,f){if(i(u),o===void 0)return u;switch(f){case 0:return function(){return u.call(o)};case 1:return function(s){return u.call(o,s)};case 2:return function(s,l){return u.call(o,s,l)};case 3:return function(s,l,c){return u.call(o,s,l,c)}}return function(){return u.apply(o,arguments)}}},function(a,r,n){var i=n(4),u=n(195),o=n(132),f=n(133),s=n(62),l=n(21),c=n(25),p=n(5),h=n(44),g=n(49),y=n(131),m=y.IteratorPrototype,x=y.BUGGY_SAFARI_ITERATORS,v=p("iterator"),d=function(){return this};a.exports=function(w,C,S,T,_,D,b){u(S,C,T);var E,N,R,M=function($){if($===_&&L)return L;if(!x&&$ in z)return z[$];switch($){case"keys":case"values":case"entries":return function(){return new S(this,$)}}return function(){return new S(this)}},G=C+" Iterator",j=!1,z=w.prototype,V=z[v]||z["@@iterator"]||_&&z[_],L=!x&&V||M(_),B=C=="Array"&&z.entries||V;if(B&&(E=o(B.call(new w)),m!==Object.prototype&&E.next&&(h||o(E)===m||(f?f(E,m):typeof E[v]!="function"&&l(E,v,d)),s(E,G,!0,!0),h&&(g[G]=d))),_=="values"&&V&&V.name!=="values"&&(j=!0,L=function(){return V.call(this)}),h&&!b||z[v]===L||l(z,v,L),g[C]=L,_)if(N={values:M("values"),keys:D?L:M("keys"),entries:M("entries")},b)for(R in N)(x||j||!(R in z))&&c(z,R,N[R]);else i({target:C,proto:!0,forced:x||j},N);return N}},function(a,r,n){var i=n(4),u=n(13),o=n(59),f=n(83),s=n(26),l=n(24),c=n(134),p=n(5),h=n(63),g=n(28),y=h("slice"),m=g("slice",{ACCESSORS:!0,0:0,1:2}),x=p("species"),v=[].slice,d=Math.max;i({target:"Array",proto:!0,forced:!y||!m},{slice:function(w,C){var S,T,_,D=l(this),b=s(D.length),E=f(w,b),N=f(C===void 0?b:C,b);if(o(D)&&(typeof(S=D.constructor)!="function"||S!==Array&&!o(S.prototype)?u(S)&&(S=S[x])===null&&(S=void 0):S=void 0,S===Array||S===void 0))return v.call(D,E,N);for(T=new(S===void 0?Array:S)(d(N-E,0)),_=0;E<N;E++,_++)E in D&&c(T,_,D[E]);return T.length=_,T}})},function(a,r,n){var i={};i[n(5)("toStringTag")]="z",a.exports=String(i)==="[object z]"},function(a,r,n){n(19),n(138),n(20),n(92),n(22),n(23),Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultBuilderOptions={version:"1.0",encoding:void 0,standalone:void 0,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},invalidCharReplacement:void 0,parser:void 0},r.XMLBuilderOptionKeys=new Set(Object.keys(r.DefaultBuilderOptions)),r.DefaultXMLBuilderCBOptions={format:"xml",wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,spaceBeforeSlash:!1,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"}}},function(a,r,n){var i=n(139),u=n(143);a.exports=i("Set",function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}},u)},function(a,r,n){var i,u,o=n(136),f=n(221),s=RegExp.prototype.exec,l=String.prototype.replace,c=s,p=(i=/a/,u=/b*/g,s.call(i,"a"),s.call(u,"a"),i.lastIndex!==0||u.lastIndex!==0),h=f.UNSUPPORTED_Y||f.BROKEN_CARET,g=/()??/.exec("")[1]!==void 0;(p||g||h)&&(c=function(y){var m,x,v,d,w=this,C=h&&w.sticky,S=o.call(w),T=w.source,_=0,D=y;return C&&((S=S.replace("y","")).indexOf("g")===-1&&(S+="g"),D=String(y).slice(w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&y[w.lastIndex-1]!==`
`)&&(T="(?: "+T+")",D=" "+D,_++),x=new RegExp("^(?:"+T+")",S)),g&&(x=new RegExp("^"+T+"$(?!\\s)",S)),p&&(m=w.lastIndex),v=s.call(C?x:w,D),C?v?(v.input=v.input.slice(_),v[0]=v[0].slice(_),v.index=w.lastIndex,w.lastIndex+=v[0].length):w.lastIndex=0:p&&v&&(w.lastIndex=w.global?v.index+v[0].length:m),g&&v&&v.length>1&&l.call(v[0],x,function(){for(d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(v[d]=void 0)}),v}),a.exports=c},function(a,r,n){var i=n(225),u=n(18),o=n(27),f=n(26),s=n(47),l=n(35),c=n(226),p=n(227),h=Math.max,g=Math.min,y=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,x=/\$([$&'`]|\d\d?)/g;i("replace",2,function(v,d,w,C){var S=C.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,T=C.REPLACE_KEEPS_$0,_=S?"$":"$0";return[function(b,E){var N=l(this),R=b==null?void 0:b[v];return R!==void 0?R.call(b,N,E):d.call(String(N),b,E)},function(b,E){if(!S&&T||typeof E=="string"&&E.indexOf(_)===-1){var N=w(d,b,this,E);if(N.done)return N.value}var R=u(b),M=String(this),G=typeof E=="function";G||(E=String(E));var j=R.global;if(j){var z=R.unicode;R.lastIndex=0}for(var V=[];;){var L=p(R,M);if(L===null||(V.push(L),!j))break;String(L[0])===""&&(R.lastIndex=c(M,f(R.lastIndex),z))}for(var B,$="",H=0,X=0;X<V.length;X++){L=V[X];for(var Z=String(L[0]),Y=h(g(s(L.index),M.length),0),J=[],ne=1;ne<L.length;ne++)J.push((B=L[ne])===void 0?B:String(B));var ee=L.groups;if(G){var te=[Z].concat(J,Y,M);ee!==void 0&&te.push(ee);var k=String(E.apply(void 0,te))}else k=D(Z,M,Y,J,ee,E);Y>=H&&($+=M.slice(H,Y)+k,H=Y+Z.length)}return $+M.slice(H)}];function D(b,E,N,R,M,G){var j=N+b.length,z=R.length,V=x;return M!==void 0&&(M=o(M),V=m),d.call(G,V,function(L,B){var $;switch(B.charAt(0)){case"$":return"$";case"&":return b;case"`":return E.slice(0,N);case"'":return E.slice(j);case"<":$=M[B.slice(1,-1)];break;default:var H=+B;if(H===0)return L;if(H>z){var X=y(H/10);return X===0?L:X<=z?R[X-1]===void 0?B.charAt(1):R[X-1]+B.charAt(1):L}$=R[H-1]}return $===void 0?"":$})}})},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function u(){this._items={},this._nullItems=[]}return u.prototype.copy=function(){var o=new u;for(var f in this._items)o._items[f]=this._items[f].slice(0);return o._nullItems=this._nullItems.slice(0),o},u.prototype.get=function(o,f){var s=f===null?this._nullItems:this._items[f]||null;if(s===null)return null;for(var l=null,c=0;c<s.length;c++)if((l=s[c])===o)return l;return l},u.prototype.has=function(o,f){var s=f===null?this._nullItems:this._items[f]||null;return s!==null&&s.indexOf(o)!==-1},u.prototype.hasPrefix=function(o){if(this._nullItems.indexOf(o)!==-1)return!0;for(var f in this._items)if(this._items[f].indexOf(o)!==-1)return!0;return!1},u.prototype.set=function(o,f){var s=f===null?this._nullItems:this._items[f]||null;f!==null&&s===null?this._items[f]=[o]:s.push(o)},u}();r.NamespacePrefixMap=i},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.Surrogate=/[\uD800-\uDFFF]/,r.ScalarValue=/[\uD800-\uDFFF]/,r.NonCharacter=/[\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]/,r.ASCIICodePoint=/[\u0000-\u007F]/,r.ASCIITabOrNewLine=/[\t\n\r]/,r.ASCIIWhiteSpace=/[\t\n\f\r ]/,r.C0Control=/[\u0000-\u001F]/,r.C0ControlOrSpace=/[\u0000-\u001F ]/,r.Control=/[\u0000-\u001F\u007F-\u009F]/,r.ASCIIDigit=/[0-9]/,r.ASCIIUpperHexDigit=/[0-9A-F]/,r.ASCIILowerHexDigit=/[0-9a-f]/,r.ASCIIHexDigit=/[0-9A-Fa-f]/,r.ASCIIUpperAlpha=/[A-Z]/,r.ASCIILowerAlpha=/[a-z]/,r.ASCIIAlpha=/[A-Za-z]/,r.ASCIIAlphanumeric=/[0-9A-Za-z]/},function(a,r,n){var i=this&&this.__values||function(E){var N=typeof Symbol=="function"&&Symbol.iterator,R=N&&E[N],M=0;if(R)return R.call(E);if(E&&typeof E.length=="number")return{next:function(){return E&&M>=E.length&&(E=void 0),{value:E&&E[M++],done:!E}}};throw new TypeError(N?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(E,N){var R=typeof Symbol=="function"&&E[Symbol.iterator];if(!R)return E;var M,G,j=R.call(E),z=[];try{for(;(N===void 0||N-- >0)&&!(M=j.next()).done;)z.push(M.value)}catch(V){G={error:V}}finally{try{M&&!M.done&&(R=j.return)&&R.call(j)}finally{if(G)throw G.error}}return z},o=this&&this.__spread||function(){for(var E=[],N=0;N<arguments.length;N++)E=E.concat(u(arguments[N]));return E};Object.defineProperty(r,"__esModule",{value:!0});var f=n(6),s=n(2),l=n(3),c=n(171),p=n(104),h=n(9),g=n(17),y=n(72),m=n(30);function x(E,N){N===void 0&&(N=void 0),N===void 0&&(N=null);var R=v(E,N,new Date,{});return R._isTrusted=!0,R}function v(E,N,R,M){var G=new E("");return G._initializedFlag=!0,G._timeStamp=R.getTime(),Object.assign(G,M),f.dom.features.steps&&m.dom_runEventConstructingSteps(G),G}function d(E,N,R,M){var G,j,z,V;R===void 0&&(R=!1),M===void 0&&(M={value:!1});var L=!1;E._dispatchFlag=!0;var B=N;if(R){var $=N._associatedDocument;l.Guard.isDocumentNode($)&&(B=$)}var H=null,X=g.tree_retarget(E._relatedTarget,N);if(N!==X||N===E._relatedTarget){var Z=[];try{for(var Y=i(E._touchTargetList),J=Y.next();!J.done;J=Y.next()){var ne=J.value;Z.push(g.tree_retarget(ne,N))}}catch(ue){G={error:ue}}finally{try{J&&!J.done&&(j=Y.return)&&j.call(Y)}finally{if(G)throw G.error}}w(E,N,B,X,Z,!1);var ee=l.Guard.isMouseEvent(E)&&E._type==="click";ee&&N._activationBehavior!==void 0&&(H=N);for(var te=l.Guard.isSlotable(N)&&y.shadowTree_isAssigned(N)?N:null,k=!1,O=N._getTheParent(E);O!==null&&l.Guard.isNode(O);){if(te!==null){if(!l.Guard.isSlot(O))throw new Error("Parent node of a slotable should be a slot.");te=null;var A=g.tree_rootNode(O,!0);l.Guard.isShadowRoot(A)&&A._mode==="closed"&&(k=!0)}l.Guard.isSlotable(O)&&y.shadowTree_isAssigned(O)&&(te=O),X=g.tree_retarget(E._relatedTarget,O),Z=[];try{for(var F=(z=void 0,i(E._touchTargetList)),P=F.next();!P.done;P=F.next())ne=P.value,Z.push(g.tree_retarget(ne,O))}catch(ue){z={error:ue}}finally{try{P&&!P.done&&(V=F.return)&&V.call(F)}finally{if(z)throw z.error}}l.Guard.isWindow(O)||l.Guard.isNode(O)&&l.Guard.isNode(N)&&g.tree_isAncestorOf(g.tree_rootNode(N,!0),O,!0,!0)?(ee&&E._bubbles&&H===null&&O._activationBehavior&&(H=O),w(E,O,null,X,Z,k)):O===X?O=null:(N=O,ee&&H===null&&N._activationBehavior&&(H=N),w(E,O,N,X,Z,k)),O!==null&&(O=O._getTheParent(E)),k=!1}for(var I=null,W=E._path,Q=W.length-1;Q>=0;Q--)if((oe=W[Q]).shadowAdjustedTarget!==null){I=oe;break}if(I!==null)if(l.Guard.isNode(I.shadowAdjustedTarget)&&l.Guard.isShadowRoot(g.tree_rootNode(I.shadowAdjustedTarget,!0)))L=!0;else if(l.Guard.isNode(I.relatedTarget)&&l.Guard.isShadowRoot(g.tree_rootNode(I.relatedTarget,!0)))L=!0;else for(var re=0;re<I.touchTargetList.length;re++){var oe=I.touchTargetList[re];if(l.Guard.isNode(oe)&&l.Guard.isShadowRoot(g.tree_rootNode(oe,!0))){L=!0;break}}for(H!==null&&H._legacyPreActivationBehavior!==void 0&&H._legacyPreActivationBehavior(E),Q=W.length-1;Q>=0;Q--)(oe=W[Q]).shadowAdjustedTarget!==null?E._eventPhase=s.EventPhase.AtTarget:E._eventPhase=s.EventPhase.Capturing,C(oe,E,"capturing",M);for(Q=0;Q<W.length;Q++){if((oe=W[Q]).shadowAdjustedTarget!==null)E._eventPhase=s.EventPhase.AtTarget;else{if(!E._bubbles)continue;E._eventPhase=s.EventPhase.Bubbling}C(oe,E,"bubbling",M)}}return E._eventPhase=s.EventPhase.None,E._currentTarget=null,E._path=[],E._dispatchFlag=!1,E._stopPropagationFlag=!1,E._stopImmediatePropagationFlag=!1,L&&(E._target=null,E._relatedTarget=null,E._touchTargetList=[]),H!==null&&(E._canceledFlag||H._activationBehavior===void 0?H._legacyCanceledActivationBehavior!==void 0&&H._legacyCanceledActivationBehavior(E):H._activationBehavior(E)),!E._canceledFlag}function w(E,N,R,M,G,j){var z=!1;l.Guard.isNode(N)&&l.Guard.isShadowRoot(g.tree_rootNode(N))&&(z=!0);var V=!1;l.Guard.isShadowRoot(N)&&N._mode==="closed"&&(V=!0),E._path.push({invocationTarget:N,invocationTargetInShadowTree:z,shadowAdjustedTarget:R,relatedTarget:M,touchTargetList:G,rootOfClosedTree:V,slotInClosedTree:j})}function C(E,N,R,M){M===void 0&&(M={value:!1});for(var G=N._path,j=-1,z=0;z<G.length;z++)if(G[z]===E){j=z;break}if(j!==-1){var V=G[j];(V.shadowAdjustedTarget!==null||j>0&&(V=G[j-1]).shadowAdjustedTarget!==null)&&(N._target=V.shadowAdjustedTarget)}if(N._relatedTarget=E.relatedTarget,N._touchTargetList=E.touchTargetList,!N._stopPropagationFlag){N._currentTarget=E.invocationTarget;var L=N._currentTarget._eventListenerList,B=new(Array.bind.apply(Array,o([void 0],L)));if(!S(N,B,R,E,M)&&N._isTrusted){var $=N._type;$==="animationend"?N._type="webkitAnimationEnd":$==="animationiteration"?N._type="webkitAnimationIteration":$==="animationstart"?N._type="webkitAnimationStart":$==="transitionend"&&(N._type="webkitTransitionEnd"),S(N,B,R,E,M),N._type=$}}}function S(E,N,R,M,G){G===void 0&&(G={value:!1});for(var j=!1,z=0;z<N.length;z++){var V=N[z];if(!V.removed){if(E._type!==V.type||(j=!0,R==="capturing"&&!V.capture)||R==="bubbling"&&V.capture)continue;if(V.once&&E._currentTarget!==null){for(var L=E._currentTarget,B=-1,$=0;$<L._eventListenerList.length;$++)if(L._eventListenerList[$]===V){B=$;break}B!==-1&&L._eventListenerList.splice(B,1)}var H=void 0,X=void 0;l.Guard.isWindow(H)&&(X=H._currentEvent,M.invocationTargetInShadowTree===!1&&(H._currentEvent=E)),V.passive&&(E._inPassiveListenerFlag=!0);try{V.callback.handleEvent.call(E._currentTarget,E)}catch{G.value=!0}if(V.passive&&(E._inPassiveListenerFlag=!1),l.Guard.isWindow(H)&&(H._currentEvent=X),E._stopImmediatePropagationFlag)return j}}return j}function T(E,N){return null}function _(E,N){return null}function D(E,N){}function b(E,N){}r.event_setTheCanceledFlag=function(E){E._cancelable&&!E._inPassiveListenerFlag&&(E._canceledFlag=!0)},r.event_initialize=function(E,N,R,M){E._initializedFlag=!0,E._stopPropagationFlag=!1,E._stopImmediatePropagationFlag=!1,E._canceledFlag=!1,E._isTrusted=!1,E._target=null,E._type=N,E._bubbles=R,E._cancelable=M},r.event_createAnEvent=x,r.event_innerEventCreationSteps=v,r.event_dispatch=d,r.event_appendToAnEventPath=w,r.event_invoke=C,r.event_innerInvoke=S,r.event_fireAnEvent=function(E,N,R,M,G){R===void 0&&(R=p.EventImpl);var j=x(R);if(j._type=E,M)for(var z in M)j[z]=M[z];return d(j,N,G)},r.event_createLegacyEvent=function(E){var N=null;switch(E.toLowerCase()){case"beforeunloadevent":case"compositionevent":break;case"customevent":N=c.CustomEventImpl;break;case"devicemotionevent":case"deviceorientationevent":case"dragevent":break;case"event":case"events":N=p.EventImpl}if(N===null)throw new h.NotSupportedError("Event constructor not found for interface "+E+".");var R=new N("");return R._type="",R._timeStamp=new Date().getTime(),R._isTrusted=!1,R._initializedFlag=!1,R},r.event_getterEventHandlerIDLAttribute=function(E,N){return null},r.event_setterEventHandlerIDLAttribute=function(E,N,R){},r.event_determineTheTargetOfAnEventHandler=T,r.event_getTheCurrentValueOfAnEventHandler=_,r.event_activateAnEventHandler=D,r.event_deactivateAnEventHandler=b},function(a,r,n){var i,u=this&&this.__extends||(i=function(w,C){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var _ in T)T.hasOwnProperty(_)&&(S[_]=T[_])})(w,C)},function(w,C){function S(){this.constructor=w}i(w,C),w.prototype=C===null?Object.create(C):(S.prototype=C.prototype,new S)}),o=this&&this.__values||function(w){var C=typeof Symbol=="function"&&Symbol.iterator,S=C&&w[C],T=0;if(S)return S.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&T>=w.length&&(w=void 0),{value:w&&w[T++],done:!w}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")},f=this&&this.__read||function(w,C){var S=typeof Symbol=="function"&&w[Symbol.iterator];if(!S)return w;var T,_,D=S.call(w),b=[];try{for(;(C===void 0||C-- >0)&&!(T=D.next()).done;)b.push(T.value)}catch(E){_={error:E}}finally{try{T&&!T.done&&(S=D.return)&&S.call(D)}finally{if(_)throw _.error}}return b};Object.defineProperty(r,"__esModule",{value:!0});var s=n(6),l=n(2),c=n(9),p=n(34),h=n(3),g=n(1),y=n(7),m=n(152),x=n(0),v=n(12),d=function(w){function C(){var S=w.call(this)||this;return S._children=new Set,S._encoding={name:"UTF-8",labels:["unicode-1-1-utf-8","utf-8","utf8"]},S._contentType="application/xml",S._URL={scheme:"about",username:"",password:"",host:null,port:null,path:["blank"],query:null,fragment:null,_cannotBeABaseURLFlag:!0,_blobURLEntry:null},S._origin=null,S._type="xml",S._mode="no-quirks",S._documentElement=null,S._hasNamespaces=!1,S._nodeDocumentOverwrite=null,S}return u(C,w),Object.defineProperty(C.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverwrite||this},set:function(S){this._nodeDocumentOverwrite=S},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"implementation",{get:function(){return this._implementation||(this._implementation=x.create_domImplementation(this))},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"URL",{get:function(){return m.urlSerializer(this._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"documentURI",{get:function(){return this.URL},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"origin",{get:function(){return"null"},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"compatMode",{get:function(){return this._mode==="quirks"?"BackCompat":"CSS1Compat"},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"characterSet",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"charset",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"inputEncoding",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"contentType",{get:function(){return this._contentType},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"doctype",{get:function(){var S,T;try{for(var _=o(this._children),D=_.next();!D.done;D=_.next()){var b=D.value;if(h.Guard.isDocumentTypeNode(b))return b}}catch(E){S={error:E}}finally{try{D&&!D.done&&(T=_.return)&&T.call(_)}finally{if(S)throw S.error}}return null},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"documentElement",{get:function(){return this._documentElement},enumerable:!0,configurable:!0}),C.prototype.getElementsByTagName=function(S){return x.node_listOfElementsWithQualifiedName(S,this)},C.prototype.getElementsByTagNameNS=function(S,T){return x.node_listOfElementsWithNamespace(S,T,this)},C.prototype.getElementsByClassName=function(S){return x.node_listOfElementsWithClassNames(S,this)},C.prototype.createElement=function(S,T){if(!x.xml_isName(S))throw new c.InvalidCharacterError;this._type==="html"&&(S=S.toLowerCase());var _=null;T!==void 0&&(_=g.isString(T)?T:T.is);var D=this._type==="html"||this._contentType==="application/xhtml+xml"?y.namespace.HTML:null;return x.element_createAnElement(this,S,D,null,_,!0)},C.prototype.createElementNS=function(S,T,_){return x.document_internalCreateElementNS(this,S,T,_)},C.prototype.createDocumentFragment=function(){return x.create_documentFragment(this)},C.prototype.createTextNode=function(S){return x.create_text(this,S)},C.prototype.createCDATASection=function(S){if(this._type==="html")throw new c.NotSupportedError;if(S.indexOf("]]>")!==-1)throw new c.InvalidCharacterError;return x.create_cdataSection(this,S)},C.prototype.createComment=function(S){return x.create_comment(this,S)},C.prototype.createProcessingInstruction=function(S,T){if(!x.xml_isName(S))throw new c.InvalidCharacterError;if(T.indexOf("?>")!==-1)throw new c.InvalidCharacterError;return x.create_processingInstruction(this,S,T)},C.prototype.importNode=function(S,T){if(T===void 0&&(T=!1),h.Guard.isDocumentNode(S)||h.Guard.isShadowRoot(S))throw new c.NotSupportedError;return x.node_clone(S,this,T)},C.prototype.adoptNode=function(S){if(h.Guard.isDocumentNode(S))throw new c.NotSupportedError;if(h.Guard.isShadowRoot(S))throw new c.HierarchyRequestError;return x.document_adopt(S,this),S},C.prototype.createAttribute=function(S){if(!x.xml_isName(S))throw new c.InvalidCharacterError;return this._type==="html"&&(S=S.toLowerCase()),x.create_attr(this,S)},C.prototype.createAttributeNS=function(S,T){var _=f(x.namespace_validateAndExtract(S,T),3),D=_[0],b=_[1],E=_[2],N=x.create_attr(this,E);return N._namespace=D,N._namespacePrefix=b,N},C.prototype.createEvent=function(S){return x.event_createLegacyEvent(S)},C.prototype.createRange=function(){var S=x.create_range();return S._start=[this,0],S._end=[this,0],S},C.prototype.createNodeIterator=function(S,T,_){T===void 0&&(T=l.WhatToShow.All),_===void 0&&(_=null);var D=x.create_nodeIterator(S,S,!0);return D._whatToShow=T,D._iteratorCollection=x.create_nodeList(S),g.isFunction(_)?(D._filter=x.create_nodeFilter(),D._filter.acceptNode=_):D._filter=_,D},C.prototype.createTreeWalker=function(S,T,_){T===void 0&&(T=l.WhatToShow.All),_===void 0&&(_=null);var D=x.create_treeWalker(S,S);return D._whatToShow=T,g.isFunction(_)?(D._filter=x.create_nodeFilter(),D._filter.acceptNode=_):D._filter=_,D},C.prototype._getTheParent=function(S){return S._type==="load"?null:s.dom.window},C.prototype.getElementById=function(S){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(C.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),C.prototype.prepend=function(){for(var S=[],T=0;T<arguments.length;T++)S[T]=arguments[T];throw new Error("Mixin: ParentNode not implemented.")},C.prototype.append=function(){for(var S=[],T=0;T<arguments.length;T++)S[T]=arguments[T];throw new Error("Mixin: ParentNode not implemented.")},C.prototype.querySelector=function(S){throw new Error("Mixin: ParentNode not implemented.")},C.prototype.querySelectorAll=function(S){throw new Error("Mixin: ParentNode not implemented.")},C}(p.NodeImpl);r.DocumentImpl=d,v.idl_defineConst(d.prototype,"_nodeType",l.NodeType.Document)},function(a,r,n){var i,u=this&&this.__extends||(i=function(m,x){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,d){v.__proto__=d}||function(v,d){for(var w in d)d.hasOwnProperty(w)&&(v[w]=d[w])})(m,x)},function(m,x){function v(){this.constructor=m}i(m,x),m.prototype=x===null?Object.create(x):(v.prototype=x.prototype,new v)}),o=this&&this.__values||function(m){var x=typeof Symbol=="function"&&Symbol.iterator,v=x&&m[x],d=0;if(v)return v.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&d>=m.length&&(m=void 0),{value:m&&m[d++],done:!m}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")},f=this&&this.__read||function(m,x){var v=typeof Symbol=="function"&&m[Symbol.iterator];if(!v)return m;var d,w,C=v.call(m),S=[];try{for(;(x===void 0||x-- >0)&&!(d=C.next()).done;)S.push(d.value)}catch(T){w={error:T}}finally{try{d&&!d.done&&(v=C.return)&&v.call(C)}finally{if(w)throw w.error}}return S};Object.defineProperty(r,"__esModule",{value:!0});var s=n(2),l=n(34),c=n(9),p=n(7),h=n(0),g=n(12),y=function(m){function x(){var v=m.call(this)||this;return v._children=new Set,v._namespace=null,v._namespacePrefix=null,v._localName="",v._customElementState="undefined",v._customElementDefinition=null,v._is=null,v._shadowRoot=null,v._attributeList=h.create_namedNodeMap(v),v._attributeChangeSteps=[],v._name="",v._assignedSlot=null,v}return u(x,m),Object.defineProperty(x.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"tagName",{get:function(){return this._htmlUppercasedQualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"id",{get:function(){return h.element_getAnAttributeValue(this,"id")},set:function(v){h.element_setAnAttributeValue(this,"id",v)},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"className",{get:function(){return h.element_getAnAttributeValue(this,"class")},set:function(v){h.element_setAnAttributeValue(this,"class",v)},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"classList",{get:function(){var v=h.element_getAnAttributeByName("class",this);return v===null&&(v=h.create_attr(this._nodeDocument,"class")),h.create_domTokenList(this,v)},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"slot",{get:function(){return h.element_getAnAttributeValue(this,"slot")},set:function(v){h.element_setAnAttributeValue(this,"slot",v)},enumerable:!0,configurable:!0}),x.prototype.hasAttributes=function(){return this._attributeList.length!==0},Object.defineProperty(x.prototype,"attributes",{get:function(){return this._attributeList},enumerable:!0,configurable:!0}),x.prototype.getAttributeNames=function(){var v,d,w=[];try{for(var C=o(this._attributeList),S=C.next();!S.done;S=C.next()){var T=S.value;w.push(T._qualifiedName)}}catch(_){v={error:_}}finally{try{S&&!S.done&&(d=C.return)&&d.call(C)}finally{if(v)throw v.error}}return w},x.prototype.getAttribute=function(v){var d=h.element_getAnAttributeByName(v,this);return d?d._value:null},x.prototype.getAttributeNS=function(v,d){var w=h.element_getAnAttributeByNamespaceAndLocalName(v,d,this);return w?w._value:null},x.prototype.setAttribute=function(v,d){if(!h.xml_isName(v))throw new c.InvalidCharacterError;this._namespace===p.namespace.HTML&&this._nodeDocument._type==="html"&&(v=v.toLowerCase());for(var w=null,C=0;C<this._attributeList.length;C++){var S=this._attributeList[C];if(S._qualifiedName===v){w=S;break}}if(w===null)return(w=h.create_attr(this._nodeDocument,v))._value=d,void h.element_append(w,this);h.element_change(w,this,d)},x.prototype.setAttributeNS=function(v,d,w){var C=f(h.namespace_validateAndExtract(v,d),3),S=C[0],T=C[1],_=C[2];h.element_setAnAttributeValue(this,_,w,T,S)},x.prototype.removeAttribute=function(v){h.element_removeAnAttributeByName(v,this)},x.prototype.removeAttributeNS=function(v,d){h.element_removeAnAttributeByNamespaceAndLocalName(v,d,this)},x.prototype.hasAttribute=function(v){this._namespace===p.namespace.HTML&&this._nodeDocument._type==="html"&&(v=v.toLowerCase());for(var d=0;d<this._attributeList.length;d++)if(this._attributeList[d]._qualifiedName===v)return!0;return!1},x.prototype.toggleAttribute=function(v,d){if(!h.xml_isName(v))throw new c.InvalidCharacterError;this._namespace===p.namespace.HTML&&this._nodeDocument._type==="html"&&(v=v.toLowerCase());for(var w=null,C=0;C<this._attributeList.length;C++){var S=this._attributeList[C];if(S._qualifiedName===v){w=S;break}}return w===null?(d===void 0||d===!0)&&((w=h.create_attr(this._nodeDocument,v))._value="",h.element_append(w,this),!0):d!==void 0&&d!==!1||(h.element_removeAnAttributeByName(v,this),!1)},x.prototype.hasAttributeNS=function(v,d){for(var w=v||null,C=0;C<this._attributeList.length;C++){var S=this._attributeList[C];if(S._namespace===w&&S._localName===d)return!0}return!1},x.prototype.getAttributeNode=function(v){return h.element_getAnAttributeByName(v,this)},x.prototype.getAttributeNodeNS=function(v,d){return h.element_getAnAttributeByNamespaceAndLocalName(v,d,this)},x.prototype.setAttributeNode=function(v){return h.element_setAnAttribute(v,this)},x.prototype.setAttributeNodeNS=function(v){return h.element_setAnAttribute(v,this)},x.prototype.removeAttributeNode=function(v){for(var d=!1,w=0;w<this._attributeList.length;w++)if(this._attributeList[w]===v){d=!0;break}if(!d)throw new c.NotFoundError;return h.element_remove(v,this),v},x.prototype.attachShadow=function(v){if(this._namespace!==p.namespace.HTML)throw new c.NotSupportedError;if(!h.customElement_isValidCustomElementName(this._localName)&&!h.customElement_isValidShadowHostName(this._localName))throw new c.NotSupportedError;if(h.customElement_isValidCustomElementName(this._localName)||this._is!==null){var d=h.customElement_lookUpACustomElementDefinition(this._nodeDocument,this._namespace,this._localName,this._is);if(d!==null&&d.disableShadow===!0)throw new c.NotSupportedError}if(this._shadowRoot!==null)throw new c.NotSupportedError;var w=h.create_shadowRoot(this._nodeDocument,this);return w._mode=v.mode,this._shadowRoot=w,w},Object.defineProperty(x.prototype,"shadowRoot",{get:function(){var v=this._shadowRoot;return v===null||v.mode==="closed"?null:v},enumerable:!0,configurable:!0}),x.prototype.closest=function(v){throw new c.NotImplementedError},x.prototype.matches=function(v){throw new c.NotImplementedError},x.prototype.webkitMatchesSelector=function(v){return this.matches(v)},x.prototype.getElementsByTagName=function(v){return h.node_listOfElementsWithQualifiedName(v,this)},x.prototype.getElementsByTagNameNS=function(v,d){return h.node_listOfElementsWithNamespace(v,d,this)},x.prototype.getElementsByClassName=function(v){return h.node_listOfElementsWithClassNames(v,this)},x.prototype.insertAdjacentElement=function(v,d){return h.element_insertAdjacent(this,v,d)},x.prototype.insertAdjacentText=function(v,d){var w=h.create_text(this._nodeDocument,d);h.element_insertAdjacent(this,v,w)},Object.defineProperty(x.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"_htmlUppercasedQualifiedName",{get:function(){var v=this._qualifiedName;return this._namespace===p.namespace.HTML&&this._nodeDocument._type==="html"&&(v=v.toUpperCase()),v},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),x.prototype.prepend=function(){for(var v=[],d=0;d<arguments.length;d++)v[d]=arguments[d];throw new Error("Mixin: ParentNode not implemented.")},x.prototype.append=function(){for(var v=[],d=0;d<arguments.length;d++)v[d]=arguments[d];throw new Error("Mixin: ParentNode not implemented.")},x.prototype.querySelector=function(v){throw new Error("Mixin: ParentNode not implemented.")},x.prototype.querySelectorAll=function(v){throw new Error("Mixin: ParentNode not implemented.")},Object.defineProperty(x.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),x.prototype.before=function(){for(var v=[],d=0;d<arguments.length;d++)v[d]=arguments[d];throw new Error("Mixin: ChildNode not implemented.")},x.prototype.after=function(){for(var v=[],d=0;d<arguments.length;d++)v[d]=arguments[d];throw new Error("Mixin: ChildNode not implemented.")},x.prototype.replaceWith=function(){for(var v=[],d=0;d<arguments.length;d++)v[d]=arguments[d];throw new Error("Mixin: ChildNode not implemented.")},x.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},Object.defineProperty(x.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),x._create=function(v,d,w,C){w===void 0&&(w=null),C===void 0&&(C=null);var S=new x;return S._localName=d,S._namespace=w,S._namespacePrefix=C,S._nodeDocument=v,S},x}(l.NodeImpl);r.ElementImpl=y,g.idl_defineConst(y.prototype,"_nodeType",s.NodeType.Element)},function(a,r,n){var i,u=this&&this.__extends||(i=function(c,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var y in g)g.hasOwnProperty(y)&&(h[y]=g[y])})(c,p)},function(c,p){function h(){this.constructor=c}i(c,p),c.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(2),f=n(34),s=n(12),l=function(c){function p(h){h===void 0&&(h=null);var g=c.call(this)||this;return g._children=new Set,g._host=h,g}return u(p,c),p.prototype.getElementById=function(h){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(p.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),p.prototype.prepend=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];throw new Error("Mixin: ParentNode not implemented.")},p.prototype.append=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];throw new Error("Mixin: ParentNode not implemented.")},p.prototype.querySelector=function(h){throw new Error("Mixin: ParentNode not implemented.")},p.prototype.querySelectorAll=function(h){throw new Error("Mixin: ParentNode not implemented.")},p._create=function(h,g){g===void 0&&(g=null);var y=new p(g);return y._nodeDocument=h,y},p}(f.NodeImpl);r.DocumentFragmentImpl=l,s.idl_defineConst(l.prototype,"_nodeType",o.NodeType.DocumentFragment)},function(a,r,n){var i,u=this&&this.__extends||(i=function(h,g){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var x in m)m.hasOwnProperty(x)&&(y[x]=m[x])})(h,g)},function(h,g){function y(){this.constructor=h}i(h,g),h.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}),o=this&&this.__values||function(h){var g=typeof Symbol=="function"&&Symbol.iterator,y=g&&h[g],m=0;if(y)return y.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&m>=h.length&&(h=void 0),{value:h&&h[m++],done:!h}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var f=n(2),s=n(71),l=n(0),c=n(12),p=function(h){function g(y){y===void 0&&(y="");var m=h.call(this,y)||this;return m._name="",m._assignedSlot=null,m}return u(g,h),Object.defineProperty(g.prototype,"wholeText",{get:function(){var y,m,x="";try{for(var v=o(l.text_contiguousTextNodes(this,!0)),d=v.next();!d.done;d=v.next())x+=d.value._data}catch(w){y={error:w}}finally{try{d&&!d.done&&(m=v.return)&&m.call(v)}finally{if(y)throw y.error}}return x},enumerable:!0,configurable:!0}),g.prototype.splitText=function(y){return l.text_split(this,y)},Object.defineProperty(g.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),g._create=function(y,m){m===void 0&&(m="");var x=new g(m);return x._nodeDocument=y,x},g}(s.CharacterDataImpl);r.TextImpl=p,c.idl_defineConst(p.prototype,"_nodeType",f.NodeType.Text)},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function u(){}return Object.defineProperty(u.prototype,"_startNode",{get:function(){return this._start[0]},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"_startOffset",{get:function(){return this._start[1]},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"_endNode",{get:function(){return this._end[0]},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"_endOffset",{get:function(){return this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"_collapsed",{get:function(){return this._start[0]===this._end[0]&&this._start[1]===this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"startContainer",{get:function(){return this._startNode},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"startOffset",{get:function(){return this._startOffset},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"endContainer",{get:function(){return this._endNode},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"endOffset",{get:function(){return this._endOffset},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"collapsed",{get:function(){return this._collapsed},enumerable:!0,configurable:!0}),u}();r.AbstractRangeImpl=i},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(2),u=function(){function o(f){this._activeFlag=!1,this._root=f,this._whatToShow=i.WhatToShow.All,this._filter=null}return Object.defineProperty(o.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"whatToShow",{get:function(){return this._whatToShow},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),o}();r.TraverserImpl=u},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(2),u=n(0),o=n(12),f=function(){function s(l,c){this._target=null,this._relatedTarget=null,this._touchTargetList=[],this._path=[],this._currentTarget=null,this._eventPhase=i.EventPhase.None,this._stopPropagationFlag=!1,this._stopImmediatePropagationFlag=!1,this._canceledFlag=!1,this._inPassiveListenerFlag=!1,this._composedFlag=!1,this._initializedFlag=!1,this._dispatchFlag=!1,this._isTrusted=!1,this._bubbles=!1,this._cancelable=!1,this._type=l,c&&(this._bubbles=c.bubbles||!1,this._cancelable=c.cancelable||!1,this._composedFlag=c.composed||!1),this._initializedFlag=!0,this._timeStamp=new Date().getTime()}return Object.defineProperty(s.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"srcElement",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),s.prototype.composedPath=function(){var l=[],c=this._path;if(c.length===0)return l;var p=this._currentTarget;if(p===null)throw new Error("Event currentTarget is null.");l.push(p);for(var h=0,g=0,y=c.length-1;y>=0;){if(c[y].rootOfClosedTree&&g++,c[y].invocationTarget===p){h=y;break}c[y].slotInClosedTree&&g--,y--}var m=g,x=g;for(y=h-1;y>=0;)c[y].rootOfClosedTree&&m++,m<=x&&l.unshift(c[y].invocationTarget),c[y].slotInClosedTree&&--m<x&&(x=m),y--;for(m=g,x=g,y=h+1;y<c.length;)c[y].slotInClosedTree&&m++,m<=x&&l.push(c[y].invocationTarget),c[y].rootOfClosedTree&&--m<x&&(x=m),y++;return l},Object.defineProperty(s.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),s.prototype.stopPropagation=function(){this._stopPropagationFlag=!0},Object.defineProperty(s.prototype,"cancelBubble",{get:function(){return this._stopPropagationFlag},set:function(l){l&&this.stopPropagation()},enumerable:!0,configurable:!0}),s.prototype.stopImmediatePropagation=function(){this._stopPropagationFlag=!0,this._stopImmediatePropagationFlag=!0},Object.defineProperty(s.prototype,"bubbles",{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"returnValue",{get:function(){return!this._canceledFlag},set:function(l){l||u.event_setTheCanceledFlag(this)},enumerable:!0,configurable:!0}),s.prototype.preventDefault=function(){u.event_setTheCanceledFlag(this)},Object.defineProperty(s.prototype,"defaultPrevented",{get:function(){return this._canceledFlag},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"composed",{get:function(){return this._composedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"timeStamp",{get:function(){return this._timeStamp},enumerable:!0,configurable:!0}),s.prototype.initEvent=function(l,c,p){c===void 0&&(c=!1),p===void 0&&(p=!1),this._dispatchFlag||u.event_initialize(this,l,c,p)},s.NONE=0,s.CAPTURING_PHASE=1,s.AT_TARGET=2,s.BUBBLING_PHASE=3,s}();r.EventImpl=f,o.idl_defineConst(f.prototype,"NONE",0),o.idl_defineConst(f.prototype,"CAPTURING_PHASE",1),o.idl_defineConst(f.prototype,"AT_TARGET",2),o.idl_defineConst(f.prototype,"BUBBLING_PHASE",3)},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(2),u=n(9);r.traversal_filter=function(o,f){if(o._activeFlag)throw new u.InvalidStateError;var s=1<<f._nodeType-1;if((o.whatToShow&s)==0)return i.FilterResult.Skip;if(!o.filter)return i.FilterResult.Accept;o._activeFlag=!0;var l=i.FilterResult.Reject;try{l=o.filter.acceptNode(f)}catch(c){throw o._activeFlag=!1,c}return o._activeFlag=!1,l}},function(a,r,n){var i=this&&this.__read||function(x,v){var d=typeof Symbol=="function"&&x[Symbol.iterator];if(!d)return x;var w,C,S=d.call(x),T=[];try{for(;(v===void 0||v-- >0)&&!(w=S.next()).done;)T.push(w.value)}catch(_){C={error:_}}finally{try{w&&!w.done&&(d=S.return)&&d.call(S)}finally{if(C)throw C.error}}return T},u=this&&this.__values||function(x){var v=typeof Symbol=="function"&&Symbol.iterator,d=v&&x[v],w=0;if(d)return d.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&w>=x.length&&(x=void 0),{value:x&&x[w++],done:!x}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=n(6),f=n(3),s=n(1),l=n(99),c=n(73),p=n(17),h=n(173),g=n(30),y=n(52),m=n(37);r.document_elementInterface=function(x,v){return l.ElementImpl},r.document_internalCreateElementNS=function(x,v,d,w){var C=i(h.namespace_validateAndExtract(v,d),3),S=C[0],T=C[1],_=C[2],D=null;return w!==void 0&&(D=s.isString(w)?w:w.is),y.element_createAnElement(x,_,S,T,D,!0)},r.document_adopt=function(x,v){var d,w;if(x._nodeDocument!==v||x._parent!==null){var C=x._nodeDocument;if(x._parent&&m.mutation_remove(x,x._parent),v!==C)for(var S=p.tree_getFirstDescendantNode(x,!0,!0);S!==null;){if(S._nodeDocument=v,f.Guard.isElementNode(S))try{for(var T=(d=void 0,u(S._attributeList._asArray())),_=T.next();!_.done;_=T.next())_.value._nodeDocument=v}catch(D){d={error:D}}finally{try{_&&!_.done&&(w=T.return)&&w.call(T)}finally{if(d)throw d.error}}o.dom.features.customElements&&f.Guard.isElementNode(S)&&S._customElementState==="custom"&&c.customElement_enqueueACustomElementCallbackReaction(S,"adoptedCallback",[C,v]),o.dom.features.steps&&g.dom_runAdoptingSteps(S,C),S=p.tree_getNextDescendantNode(x,S,!0,!0)}}}},function(a,r,n){var i=this&&this.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,g=h&&p[h],y=0;if(g)return g.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&y>=p.length&&(p=void 0),{value:p&&p[y++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=n(6),o=n(3),f=n(9),s=n(17),l=n(51),c=n(30);r.characterData_replaceData=function(p,h,g,y){var m,x,v=s.tree_nodeLength(p);if(h>v)throw new f.IndexSizeError("Offset exceeds character data length. Offset: "+h+", Length: "+v+", Node is "+p.nodeName+".");h+g>v&&(g=v-h),u.dom.features.mutationObservers&&l.observer_queueMutationRecord("characterData",p,null,null,p._data,[],[],null,null);var d=p._data.substring(0,h)+y+p._data.substring(h+g);p._data=d;try{for(var w=i(u.dom.rangeList),C=w.next();!C.done;C=w.next()){var S=C.value;S._start[0]===p&&S._start[1]>h&&S._start[1]<=h+g&&(S._start[1]=h),S._end[0]===p&&S._end[1]>h&&S._end[1]<=h+g&&(S._end[1]=h),S._start[0]===p&&S._start[1]>h+g&&(S._start[1]+=y.length-g),S._end[0]===p&&S._end[1]>h+g&&(S._end[1]+=y.length-g)}}catch(T){m={error:T}}finally{try{C&&!C.done&&(x=w.return)&&x.call(w)}finally{if(m)throw m.error}}u.dom.features.steps&&o.Guard.isTextNode(p)&&p._parent!==null&&c.dom_runChildTextContentChangeSteps(p._parent)},r.characterData_substringData=function(p,h,g){var y=s.tree_nodeLength(p);if(h>y)throw new f.IndexSizeError("Offset exceeds character data length. Offset: "+h+", Length: "+y+", Node is "+p.nodeName+".");return h+g>y?p._data.substr(h):p._data.substr(h,g)}},function(a,r,n){var i=this&&this.__read||function(c,p){var h=typeof Symbol=="function"&&c[Symbol.iterator];if(!h)return c;var g,y,m=h.call(c),x=[];try{for(;(p===void 0||p-- >0)&&!(g=m.next()).done;)x.push(g.value)}catch(v){y={error:v}}finally{try{g&&!g.done&&(h=m.return)&&h.call(m)}finally{if(y)throw y.error}}return x},u=this&&this.__spread||function(){for(var c=[],p=0;p<arguments.length;p++)c=c.concat(i(arguments[p]));return c},o=this&&this.__values||function(c){var p=typeof Symbol=="function"&&Symbol.iterator,h=p&&c[p],g=0;if(h)return h.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&g>=c.length&&(c=void 0),{value:c&&c[g++],done:!c}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var f=n(7);function s(c){var p=f.string.splitAStringOnASCIIWhitespace(c);return new Set(p)}function l(c){return u(c).join(" ")}r.orderedSet_parse=s,r.orderedSet_serialize=l,r.orderedSet_sanitize=function(c){return l(s(c))},r.orderedSet_contains=function(c,p,h){var g,y,m,x;try{for(var v=o(p),d=v.next();!d.done;d=v.next()){var w=d.value,C=!1;try{for(var S=(m=void 0,o(c)),T=S.next();!T.done;T=S.next()){var _=T.value;if(h){if(_===w){C=!0;break}}else if(_.toUpperCase()===w.toUpperCase()){C=!0;break}}}catch(D){m={error:D}}finally{try{T&&!T.done&&(x=S.return)&&x.call(S)}finally{if(m)throw m.error}}if(!C)return!1}}catch(D){g={error:D}}finally{try{d&&!d.done&&(y=v.return)&&y.call(v)}finally{if(g)throw g.error}}return!0}},function(a,r,n){n(179),Object.defineProperty(r,"__esModule",{value:!0});var i=n(262),u=n(110),o=n(1);u.dom.setFeatures(!1),r.createDocument=function(){var f=new i.DOMImplementation().createDocument(null,"root",null);return f.documentElement&&f.removeChild(f.documentElement),f},r.sanitizeInput=function(f,s){if(f==null)return f;if(s===void 0)return f+"";var l="";f+="";for(var c=0;c<f.length;c++){var p=f.charCodeAt(c);if(p===9||p===10||p===13||p>=32&&p<=55295||p>=57344&&p<=65533)l+=f.charAt(c);else if(p>=55296&&p<=56319&&c<f.length-1){var h=f.charCodeAt(c+1);h>=56320&&h<=57343?(p=1024*(p-55296)+h-56320+65536,l+=String.fromCodePoint(p),c++):l+=o.isString(s)?s:s(f.charAt(c),c,f)}else l+=o.isString(s)?s:s(f.charAt(c),c,f)}return l}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(1),u=n(153);r.AbortController=u.AbortControllerImpl;var o=n(154);r.AbortSignal=o.AbortSignalImpl;var f=n(102);r.AbstractRange=f.AbstractRangeImpl;var s=n(157);r.Attr=s.AttrImpl;var l=n(158);r.CDATASection=l.CDATASectionImpl;var c=n(71);r.CharacterData=c.CharacterDataImpl;var p=n(263),h=n(159);r.Comment=h.CommentImpl;var g=n(171);r.CustomEvent=g.CustomEventImpl;var y=n(100);r.DocumentFragment=y.DocumentFragmentImpl;var m=n(98);r.Document=m.DocumentImpl;var x=n(264),v=n(155);r.DocumentType=v.DocumentTypeImpl;var d=n(6);r.dom=d.dom;var w=n(148);r.DOMImplementation=w.DOMImplementationImpl;var C=n(170);r.DOMTokenList=C.DOMTokenListImpl;var S=n(99);r.Element=S.ElementImpl;var T=n(104);r.Event=T.EventImpl;var _=n(70);r.EventTarget=_.EventTargetImpl;var D=n(161);r.HTMLCollection=D.HTMLCollectionImpl;var b=n(265);r.MutationObserver=b.MutationObserverImpl;var E=n(169);r.MutationRecord=E.MutationRecordImpl;var N=n(164);r.NamedNodeMap=N.NamedNodeMapImpl;var R=n(168);r.NodeFilter=R.NodeFilterImpl;var M=n(34);r.Node=M.NodeImpl;var G=n(166);r.NodeIterator=G.NodeIteratorImpl;var j=n(162);r.NodeList=j.NodeListImpl;var z=n(163);r.NodeListStatic=z.NodeListStaticImpl;var V=n(266),L=n(267),B=n(268),$=n(160);r.ProcessingInstruction=$.ProcessingInstructionImpl;var H=n(165);r.Range=H.RangeImpl;var X=n(156);r.ShadowRoot=X.ShadowRootImpl;var Z=n(269),Y=n(270);r.StaticRange=Y.StaticRangeImpl;var J=n(101);r.Text=J.TextImpl;var ne=n(103);r.Traverser=ne.TraverserImpl;var ee=n(167);r.TreeWalker=ee.TreeWalkerImpl;var te=n(149);r.Window=te.WindowImpl;var k=n(151);r.XMLDocument=k.XMLDocumentImpl,i.applyMixin(S.ElementImpl,p.ChildNodeImpl),i.applyMixin(c.CharacterDataImpl,p.ChildNodeImpl),i.applyMixin(v.DocumentTypeImpl,p.ChildNodeImpl),i.applyMixin(m.DocumentImpl,x.DocumentOrShadowRootImpl),i.applyMixin(X.ShadowRootImpl,x.DocumentOrShadowRootImpl),i.applyMixin(S.ElementImpl,V.NonDocumentTypeChildNodeImpl),i.applyMixin(c.CharacterDataImpl,V.NonDocumentTypeChildNodeImpl),i.applyMixin(m.DocumentImpl,L.NonElementParentNodeImpl),i.applyMixin(y.DocumentFragmentImpl,L.NonElementParentNodeImpl),i.applyMixin(m.DocumentImpl,B.ParentNodeImpl),i.applyMixin(y.DocumentFragmentImpl,B.ParentNodeImpl),i.applyMixin(S.ElementImpl,B.ParentNodeImpl),i.applyMixin(J.TextImpl,Z.SlotableImpl),i.applyMixin(S.ElementImpl,Z.SlotableImpl)},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0}),function(i){i[i.EOF=0]="EOF",i[i.Declaration=1]="Declaration",i[i.DocType=2]="DocType",i[i.Element=3]="Element",i[i.Text=4]="Text",i[i.CDATA=5]="CDATA",i[i.PI=6]="PI",i[i.Comment=7]="Comment",i[i.ClosingTag=8]="ClosingTag"}(r.TokenType||(r.TokenType={}))},function(a,r,n){n(64),n(20),n(66);var i,u=this&&this.__extends||(i=function(s,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var h in p)p.hasOwnProperty(h)&&(c[h]=p[h])})(s,l)},function(s,l){function c(){this.constructor=s}i(s,l),s.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(1),f=function(s){function l(){return s!==null&&s.apply(this,arguments)||this}return u(l,s),l.prototype._parse=function(c,p){var h=this,g=this._builderOptions,y=null;return o.isFunction(p)?y=this.parse(c,p.apply(this)):o.isArray(p)||o.isSet(p)?o.forEachArray(p,function(m){return y=h.parse(c,m)},this):o.isMap(p)||o.isObject(p)?o.forEachObject(p,function(m,x){if(o.isFunction(x)&&(x=x.apply(h)),g.ignoreConverters||m.indexOf(g.convert.att)!==0)if(g.ignoreConverters||m.indexOf(g.convert.text)!==0)if(g.ignoreConverters||m.indexOf(g.convert.cdata)!==0)if(g.ignoreConverters||m.indexOf(g.convert.comment)!==0)if(g.ignoreConverters||m.indexOf(g.convert.ins)!==0){if(!((o.isArray(x)||o.isSet(x))&&o.isEmpty(x))){if((o.isMap(x)||o.isObject(x))&&o.isEmpty(x))y=h.element(c,void 0,h.sanitize(m))||y;else if(g.keepNullNodes||x!=null)if(o.isArray(x)||o.isSet(x))o.forEachArray(x,function(S){var T={};T[m]=S,y=h.parse(c,T)},h);else if(o.isMap(x)||o.isObject(x))(v=h.element(c,void 0,h.sanitize(m)))&&(y=v,h.parse(v,x));else if(x!=null&&x!==""){var v;(v=h.element(c,void 0,h.sanitize(m)))&&(y=v,h.text(v,h._decodeText(h.sanitize(x))))}else y=h.element(c,void 0,h.sanitize(m))||y}}else if(o.isString(x)){var d=x.indexOf(" "),w=d===-1?x:x.substr(0,d),C=d===-1?"":x.substr(d+1);y=h.instruction(c,h.sanitize(w),h.sanitize(C))||y}else o.isArray(x)||o.isSet(x)?o.forEachArray(x,function(S){var T=S.indexOf(" "),_=T===-1?S:S.substr(0,T),D=T===-1?"":S.substr(T+1);y=h.instruction(c,h.sanitize(_),h.sanitize(D))||y},h):o.forEachObject(x,function(S,T){return y=h.instruction(c,h.sanitize(S),h.sanitize(T))||y},h);else o.isArray(x)||o.isSet(x)?o.forEachArray(x,function(S){return y=h.comment(c,h.sanitize(S))||y},h):y=h.comment(c,h.sanitize(x))||y;else o.isArray(x)||o.isSet(x)?o.forEachArray(x,function(S){return y=h.cdata(c,h.sanitize(S))||y},h):y=h.cdata(c,h.sanitize(x))||y;else y=o.isMap(x)||o.isObject(x)?h.parse(c,x):h.text(c,h._decodeText(h.sanitize(x)))||y;else if(m===g.convert.att){if(o.isArray(x)||o.isSet(x))throw new Error("Invalid attribute: "+x.toString()+". "+c._debugInfo());o.forEachObject(x,function(S,T){y=h.attribute(c,void 0,h.sanitize(S),h._decodeAttributeValue(h.sanitize(T)))||y})}else y=h.attribute(c,void 0,h.sanitize(m.substr(g.convert.att.length)),h._decodeAttributeValue(h.sanitize(x)))||y},this):(g.keepNullNodes||p!=null)&&(y=this.text(c,this._decodeText(this.sanitize(p)))||y),y||c},l}(n(75).BaseReader);r.ObjectReader=f},function(a,r,n){var i=n(39);a.exports=new i({explicit:[n(286),n(287),n(288)]})},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=function(u){this.level=0,this._builderOptions=u,this._writerOptions=u};r.BaseCBWriter=i},function(a,r,n){var i=n(16),u=n(8),o=n(116);a.exports=!i&&!u(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!=7})},function(a,r,n){var i=n(11),u=n(13),o=i.document,f=u(o)&&u(o.createElement);a.exports=function(s){return f?o.createElement(s):{}}},function(a,r,n){var i=n(118),u=Function.toString;typeof i.inspectSource!="function"&&(i.inspectSource=function(o){return u.call(o)}),a.exports=i.inspectSource},function(a,r,n){var i=n(11),u=n(80),o=i["__core-js_shared__"]||u("__core-js_shared__",{});a.exports=o},function(a,r,n){var i=n(14),u=n(187),o=n(55),f=n(15);a.exports=function(s,l){for(var c=u(l),p=f.f,h=o.f,g=0;g<c.length;g++){var y=c[g];i(s,y)||p(s,y,h(l,y))}}},function(a,r,n){var i=n(11);a.exports=i},function(a,r,n){var i=n(14),u=n(24),o=n(122).indexOf,f=n(45);a.exports=function(s,l){var c,p=u(s),h=0,g=[];for(c in p)!i(f,c)&&i(p,c)&&g.push(c);for(;l.length>h;)i(p,c=l[h++])&&(~o(g,c)||g.push(c));return g}},function(a,r,n){var i=n(24),u=n(26),o=n(83),f=function(s){return function(l,c,p){var h,g=i(l),y=u(g.length),m=o(p,y);if(s&&c!=c){for(;y>m;)if((h=g[m++])!=h)return!0}else for(;y>m;m++)if((s||m in g)&&g[m]===c)return s||m||0;return!s&&-1}};a.exports={includes:f(!0),indexOf:f(!1)}},function(a,r,n){var i=n(8),u=/#|\.prototype\./,o=function(p,h){var g=s[f(p)];return g==c||g!=l&&(typeof h=="function"?i(h):!!h)},f=o.normalize=function(p){return String(p).replace(u,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";a.exports=o},function(a,r,n){var i=n(86);a.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(a,r,n){var i=n(5);r.f=i},function(a,r,n){var i=n(120),u=n(14),o=n(125),f=n(15).f;a.exports=function(s){var l=i.Symbol||(i.Symbol={});u(l,s)||f(l,s,{value:o.f(s)})}},function(a,r){a.exports=function(n){if(typeof n!="function")throw TypeError(String(n)+" is not a function");return n}},function(a,r,n){var i=n(13),u=n(59),o=n(5)("species");a.exports=function(f,s){var l;return u(f)&&(typeof(l=f.constructor)!="function"||l!==Array&&!u(l.prototype)?i(l)&&(l=l[o])===null&&(l=void 0):l=void 0),new(l===void 0?Array:l)(s===0?0:s)}},function(a,r,n){var i,u,o=n(11),f=n(193),s=o.process,l=s&&s.versions,c=l&&l.v8;c?u=(i=c.split("."))[0]+i[1]:f&&(!(i=f.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=f.match(/Chrome\/(\d+)/))&&(u=i[1]),a.exports=u&&+u},function(a,r,n){var i=n(5),u=n(60),o=n(15),f=i("unscopables"),s=Array.prototype;s[f]==null&&o.f(s,f,{configurable:!0,value:u(null)}),a.exports=function(l){s[f][l]=!0}},function(a,r,n){var i,u,o,f=n(132),s=n(21),l=n(14),c=n(5),p=n(44),h=c("iterator"),g=!1;[].keys&&("next"in(o=[].keys())?(u=f(f(o)))!==Object.prototype&&(i=u):g=!0),i==null&&(i={}),p||l(i,h)||s(i,h,function(){return this}),a.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:g}},function(a,r,n){var i=n(14),u=n(27),o=n(57),f=n(196),s=o("IE_PROTO"),l=Object.prototype;a.exports=f?Object.getPrototypeOf:function(c){return c=u(c),i(c,s)?c[s]:typeof c.constructor=="function"&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?l:null}},function(a,r,n){var i=n(18),u=n(197);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var o,f=!1,s={};try{(o=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(s,[]),f=s instanceof Array}catch{}return function(l,c){return i(l),u(c),f?o.call(l,c):l.__proto__=c,l}}():void 0)},function(a,r,n){var i=n(56),u=n(15),o=n(40);a.exports=function(f,s,l){var c=i(s);c in f?u.f(f,c,o(0,l)):f[c]=l}},function(a,r,n){var i=n(90),u=n(42),o=n(5)("toStringTag"),f=u(function(){return arguments}())=="Arguments";a.exports=i?u:function(s){var l,c,p;return s===void 0?"Undefined":s===null?"Null":typeof(c=function(h,g){try{return h[g]}catch{}}(l=Object(s),o))=="string"?c:f?u(l):(p=u(l))=="Object"&&typeof l.callee=="function"?"Arguments":p}},function(a,r,n){var i=n(18);a.exports=function(){var u=i(this),o="";return u.global&&(o+="g"),u.ignoreCase&&(o+="i"),u.multiline&&(o+="m"),u.dotAll&&(o+="s"),u.unicode&&(o+="u"),u.sticky&&(o+="y"),o}},function(a,r,n){var i=n(47),u=n(35),o=function(f){return function(s,l){var c,p,h=String(u(s)),g=i(l),y=h.length;return g<0||g>=y?f?"":void 0:(c=h.charCodeAt(g))<55296||c>56319||g+1===y||(p=h.charCodeAt(g+1))<56320||p>57343?f?h.charAt(g):c:f?h.slice(g,g+2):p-56320+(c-55296<<10)+65536}};a.exports={codeAt:o(!1),charAt:o(!0)}},function(a,r,n){var i=n(4),u=n(27),o=n(61);i({target:"Object",stat:!0,forced:n(8)(function(){o(1)})},{keys:function(f){return o(u(f))}})},function(a,r,n){var i=n(4),u=n(11),o=n(123),f=n(25),s=n(140),l=n(141),c=n(142),p=n(13),h=n(8),g=n(208),y=n(62),m=n(209);a.exports=function(x,v,d){var w=x.indexOf("Map")!==-1,C=x.indexOf("Weak")!==-1,S=w?"set":"add",T=u[x],_=T&&T.prototype,D=T,b={},E=function(z){var V=_[z];f(_,z,z=="add"?function(L){return V.call(this,L===0?0:L),this}:z=="delete"?function(L){return!(C&&!p(L))&&V.call(this,L===0?0:L)}:z=="get"?function(L){return C&&!p(L)?void 0:V.call(this,L===0?0:L)}:z=="has"?function(L){return!(C&&!p(L))&&V.call(this,L===0?0:L)}:function(L,B){return V.call(this,L===0?0:L,B),this})};if(o(x,typeof T!="function"||!(C||_.forEach&&!h(function(){new T().entries().next()}))))D=d.getConstructor(v,x,w,S),s.REQUIRED=!0;else if(o(x,!0)){var N=new D,R=N[S](C?{}:-0,1)!=N,M=h(function(){N.has(1)}),G=g(function(z){new T(z)}),j=!C&&h(function(){for(var z=new T,V=5;V--;)z[S](V,V);return!z.has(-0)});G||((D=v(function(z,V){c(z,D,x);var L=m(new T,z,D);return V!=null&&l(V,L[S],L,w),L})).prototype=_,_.constructor=D),(M||j)&&(E("delete"),E("has"),w&&E("get")),(j||R)&&E(S),C&&_.clear&&delete _.clear}return b[x]=D,i({global:!0,forced:D!=T},b),y(D,x),C||d.setStrong(D,x,w),D}},function(a,r,n){var i=n(45),u=n(13),o=n(14),f=n(15).f,s=n(58),l=n(204),c=s("meta"),p=0,h=Object.isExtensible||function(){return!0},g=function(m){f(m,c,{value:{objectID:"O"+ ++p,weakData:{}}})},y=a.exports={REQUIRED:!1,fastKey:function(m,x){if(!u(m))return typeof m=="symbol"?m:(typeof m=="string"?"S":"P")+m;if(!o(m,c)){if(!h(m))return"F";if(!x)return"E";g(m)}return m[c].objectID},getWeakData:function(m,x){if(!o(m,c)){if(!h(m))return!0;if(!x)return!1;g(m)}return m[c].weakData},onFreeze:function(m){return l&&y.REQUIRED&&h(m)&&!o(m,c)&&g(m),m}};i[c]=!0},function(a,r,n){var i=n(18),u=n(205),o=n(26),f=n(87),s=n(206),l=n(207),c=function(p,h){this.stopped=p,this.result=h};(a.exports=function(p,h,g,y,m){var x,v,d,w,C,S,T,_=f(h,g,y?2:1);if(m)x=p;else{if(typeof(v=s(p))!="function")throw TypeError("Target is not iterable");if(u(v)){for(d=0,w=o(p.length);w>d;d++)if((C=y?_(i(T=p[d])[0],T[1]):_(p[d]))&&C instanceof c)return C;return new c(!1)}x=v.call(p)}for(S=x.next;!(T=S.call(x)).done;)if(typeof(C=l(x,_,T.value,y))=="object"&&C&&C instanceof c)return C;return new c(!1)}).stop=function(p){return new c(!0,p)}},function(a,r){a.exports=function(n,i,u){if(!(n instanceof i))throw TypeError("Incorrect "+(u?u+" ":"")+"invocation");return n}},function(a,r,n){var i=n(15).f,u=n(60),o=n(210),f=n(87),s=n(142),l=n(141),c=n(88),p=n(211),h=n(16),g=n(140).fastKey,y=n(43),m=y.set,x=y.getterFor;a.exports={getConstructor:function(v,d,w,C){var S=v(function(b,E){s(b,S,d),m(b,{type:d,index:u(null),first:void 0,last:void 0,size:0}),h||(b.size=0),E!=null&&l(E,b[C],b,w)}),T=x(d),_=function(b,E,N){var R,M,G=T(b),j=D(b,E);return j?j.value=N:(G.last=j={index:M=g(E,!0),key:E,value:N,previous:R=G.last,next:void 0,removed:!1},G.first||(G.first=j),R&&(R.next=j),h?G.size++:b.size++,M!=="F"&&(G.index[M]=j)),b},D=function(b,E){var N,R=T(b),M=g(E);if(M!=="F")return R.index[M];for(N=R.first;N;N=N.next)if(N.key==E)return N};return o(S.prototype,{clear:function(){for(var b=T(this),E=b.index,N=b.first;N;)N.removed=!0,N.previous&&(N.previous=N.previous.next=void 0),delete E[N.index],N=N.next;b.first=b.last=void 0,h?b.size=0:this.size=0},delete:function(b){var E=T(this),N=D(this,b);if(N){var R=N.next,M=N.previous;delete E.index[N.index],N.removed=!0,M&&(M.next=R),R&&(R.previous=M),E.first==N&&(E.first=R),E.last==N&&(E.last=M),h?E.size--:this.size--}return!!N},forEach:function(b){for(var E,N=T(this),R=f(b,arguments.length>1?arguments[1]:void 0,3);E=E?E.next:N.first;)for(R(E.value,E.key,this);E&&E.removed;)E=E.previous},has:function(b){return!!D(this,b)}}),o(S.prototype,w?{get:function(b){var E=D(this,b);return E&&E.value},set:function(b,E){return _(this,b===0?0:b,E)}}:{add:function(b){return _(this,b=b===0?0:b,b)}}),h&&i(S.prototype,"size",{get:function(){return T(this).size}}),S},setStrong:function(v,d,w){var C=d+" Iterator",S=x(d),T=x(C);c(v,d,function(_,D){m(this,{type:C,target:_,state:S(_),kind:D,last:void 0})},function(){for(var _=T(this),D=_.kind,b=_.last;b&&b.removed;)b=b.previous;return _.target&&(_.last=b=b?b.next:_.state.first)?D=="keys"?{value:b.key,done:!1}:D=="values"?{value:b.value,done:!1}:{value:[b.key,b.value],done:!1}:(_.target=void 0,{value:void 0,done:!0})},w?"entries":"values",!w,!0),p(d)}}},function(a,r,n){var i,u=n(4),o=n(55).f,f=n(26),s=n(222),l=n(35),c=n(224),p=n(44),h="".endsWith,g=Math.min,y=c("endsWith");u({target:"String",proto:!0,forced:!!(p||y||(i=o(String.prototype,"endsWith"),!i||i.writable))&&!y},{endsWith:function(m){var x=String(l(this));s(m);var v=arguments.length>1?arguments[1]:void 0,d=f(x.length),w=v===void 0?d:g(f(v),d),C=String(m);return h?h.call(x,C,w):x.slice(w-C.length,w)===C}})},function(a,r,n){(function(i){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var u=n(229),o=n(230),f=n(231);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(k,O){if(s()<O)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(k=new Uint8Array(O)).__proto__=c.prototype:(k===null&&(k=new c(O)),k.length=O),k}function c(k,O,A){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(k,O,A);if(typeof k=="number"){if(typeof O=="string")throw new Error("If encoding is specified then the first argument must be a string");return g(this,k)}return p(this,k,O,A)}function p(k,O,A,F){if(typeof O=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&O instanceof ArrayBuffer?function(P,I,W,Q){if(I.byteLength,W<0||I.byteLength<W)throw new RangeError("'offset' is out of bounds");if(I.byteLength<W+(Q||0))throw new RangeError("'length' is out of bounds");return I=W===void 0&&Q===void 0?new Uint8Array(I):Q===void 0?new Uint8Array(I,W):new Uint8Array(I,W,Q),c.TYPED_ARRAY_SUPPORT?(P=I).__proto__=c.prototype:P=y(P,I),P}(k,O,A,F):typeof O=="string"?function(P,I,W){if(typeof W=="string"&&W!==""||(W="utf8"),!c.isEncoding(W))throw new TypeError('"encoding" must be a valid string encoding');var Q=0|x(I,W),re=(P=l(P,Q)).write(I,W);return re!==Q&&(P=P.slice(0,re)),P}(k,O,A):function(P,I){if(c.isBuffer(I)){var W=0|m(I.length);return(P=l(P,W)).length===0||I.copy(P,0,0,W),P}if(I){if(typeof ArrayBuffer!="undefined"&&I.buffer instanceof ArrayBuffer||"length"in I)return typeof I.length!="number"||(Q=I.length)!=Q?l(P,0):y(P,I);if(I.type==="Buffer"&&f(I.data))return y(P,I.data)}var Q;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(k,O)}function h(k){if(typeof k!="number")throw new TypeError('"size" argument must be a number');if(k<0)throw new RangeError('"size" argument must not be negative')}function g(k,O){if(h(O),k=l(k,O<0?0:0|m(O)),!c.TYPED_ARRAY_SUPPORT)for(var A=0;A<O;++A)k[A]=0;return k}function y(k,O){var A=O.length<0?0:0|m(O.length);k=l(k,A);for(var F=0;F<A;F+=1)k[F]=255&O[F];return k}function m(k){if(k>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|k}function x(k,O){if(c.isBuffer(k))return k.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(k)||k instanceof ArrayBuffer))return k.byteLength;typeof k!="string"&&(k=""+k);var A=k.length;if(A===0)return 0;for(var F=!1;;)switch(O){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":case void 0:return ne(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*A;case"hex":return A>>>1;case"base64":return ee(k).length;default:if(F)return ne(k).length;O=(""+O).toLowerCase(),F=!0}}function v(k,O,A){var F=!1;if((O===void 0||O<0)&&(O=0),O>this.length||((A===void 0||A>this.length)&&(A=this.length),A<=0)||(A>>>=0)<=(O>>>=0))return"";for(k||(k="utf8");;)switch(k){case"hex":return j(this,O,A);case"utf8":case"utf-8":return R(this,O,A);case"ascii":return M(this,O,A);case"latin1":case"binary":return G(this,O,A);case"base64":return N(this,O,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,O,A);default:if(F)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),F=!0}}function d(k,O,A){var F=k[O];k[O]=k[A],k[A]=F}function w(k,O,A,F,P){if(k.length===0)return-1;if(typeof A=="string"?(F=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),A=+A,isNaN(A)&&(A=P?0:k.length-1),A<0&&(A=k.length+A),A>=k.length){if(P)return-1;A=k.length-1}else if(A<0){if(!P)return-1;A=0}if(typeof O=="string"&&(O=c.from(O,F)),c.isBuffer(O))return O.length===0?-1:C(k,O,A,F,P);if(typeof O=="number")return O&=255,c.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?P?Uint8Array.prototype.indexOf.call(k,O,A):Uint8Array.prototype.lastIndexOf.call(k,O,A):C(k,[O],A,F,P);throw new TypeError("val must be string, number or Buffer")}function C(k,O,A,F,P){var I,W=1,Q=k.length,re=O.length;if(F!==void 0&&((F=String(F).toLowerCase())==="ucs2"||F==="ucs-2"||F==="utf16le"||F==="utf-16le")){if(k.length<2||O.length<2)return-1;W=2,Q/=2,re/=2,A/=2}function oe(je,Oe){return W===1?je[Oe]:je.readUInt16BE(Oe*W)}if(P){var ue=-1;for(I=A;I<Q;I++)if(oe(k,I)===oe(O,ue===-1?0:I-ue)){if(ue===-1&&(ue=I),I-ue+1===re)return ue*W}else ue!==-1&&(I-=I-ue),ue=-1}else for(A+re>Q&&(A=Q-re),I=A;I>=0;I--){for(var ve=!0,ye=0;ye<re;ye++)if(oe(k,I+ye)!==oe(O,ye)){ve=!1;break}if(ve)return I}return-1}function S(k,O,A,F){A=Number(A)||0;var P=k.length-A;F?(F=Number(F))>P&&(F=P):F=P;var I=O.length;if(I%2!=0)throw new TypeError("Invalid hex string");F>I/2&&(F=I/2);for(var W=0;W<F;++W){var Q=parseInt(O.substr(2*W,2),16);if(isNaN(Q))return W;k[A+W]=Q}return W}function T(k,O,A,F){return te(ne(O,k.length-A),k,A,F)}function _(k,O,A,F){return te(function(P){for(var I=[],W=0;W<P.length;++W)I.push(255&P.charCodeAt(W));return I}(O),k,A,F)}function D(k,O,A,F){return _(k,O,A,F)}function b(k,O,A,F){return te(ee(O),k,A,F)}function E(k,O,A,F){return te(function(P,I){for(var W,Q,re,oe=[],ue=0;ue<P.length&&!((I-=2)<0);++ue)W=P.charCodeAt(ue),Q=W>>8,re=W%256,oe.push(re),oe.push(Q);return oe}(O,k.length-A),k,A,F)}function N(k,O,A){return O===0&&A===k.length?u.fromByteArray(k):u.fromByteArray(k.slice(O,A))}function R(k,O,A){A=Math.min(k.length,A);for(var F=[],P=O;P<A;){var I,W,Q,re,oe=k[P],ue=null,ve=oe>239?4:oe>223?3:oe>191?2:1;if(P+ve<=A)switch(ve){case 1:oe<128&&(ue=oe);break;case 2:(192&(I=k[P+1]))==128&&(re=(31&oe)<<6|63&I)>127&&(ue=re);break;case 3:I=k[P+1],W=k[P+2],(192&I)==128&&(192&W)==128&&(re=(15&oe)<<12|(63&I)<<6|63&W)>2047&&(re<55296||re>57343)&&(ue=re);break;case 4:I=k[P+1],W=k[P+2],Q=k[P+3],(192&I)==128&&(192&W)==128&&(192&Q)==128&&(re=(15&oe)<<18|(63&I)<<12|(63&W)<<6|63&Q)>65535&&re<1114112&&(ue=re)}ue===null?(ue=65533,ve=1):ue>65535&&(ue-=65536,F.push(ue>>>10&1023|55296),ue=56320|1023&ue),F.push(ue),P+=ve}return function(ye){var je=ye.length;if(je<=4096)return String.fromCharCode.apply(String,ye);for(var Oe="",pe=0;pe<je;)Oe+=String.fromCharCode.apply(String,ye.slice(pe,pe+=4096));return Oe}(F)}r.Buffer=c,r.SlowBuffer=function(k){return+k!=k&&(k=0),c.alloc(+k)},r.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=i.TYPED_ARRAY_SUPPORT!==void 0?i.TYPED_ARRAY_SUPPORT:function(){try{var k=new Uint8Array(1);return k.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},k.foo()===42&&typeof k.subarray=="function"&&k.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=s(),c.poolSize=8192,c._augment=function(k){return k.__proto__=c.prototype,k},c.from=function(k,O,A){return p(null,k,O,A)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(k,O,A){return function(F,P,I,W){return h(P),P<=0?l(F,P):I!==void 0?typeof W=="string"?l(F,P).fill(I,W):l(F,P).fill(I):l(F,P)}(null,k,O,A)},c.allocUnsafe=function(k){return g(null,k)},c.allocUnsafeSlow=function(k){return g(null,k)},c.isBuffer=function(k){return!(k==null||!k._isBuffer)},c.compare=function(k,O){if(!c.isBuffer(k)||!c.isBuffer(O))throw new TypeError("Arguments must be Buffers");if(k===O)return 0;for(var A=k.length,F=O.length,P=0,I=Math.min(A,F);P<I;++P)if(k[P]!==O[P]){A=k[P],F=O[P];break}return A<F?-1:F<A?1:0},c.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(k,O){if(!f(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return c.alloc(0);var A;if(O===void 0)for(O=0,A=0;A<k.length;++A)O+=k[A].length;var F=c.allocUnsafe(O),P=0;for(A=0;A<k.length;++A){var I=k[A];if(!c.isBuffer(I))throw new TypeError('"list" argument must be an Array of Buffers');I.copy(F,P),P+=I.length}return F},c.byteLength=x,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var k=this.length;if(k%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var O=0;O<k;O+=2)d(this,O,O+1);return this},c.prototype.swap32=function(){var k=this.length;if(k%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var O=0;O<k;O+=4)d(this,O,O+3),d(this,O+1,O+2);return this},c.prototype.swap64=function(){var k=this.length;if(k%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var O=0;O<k;O+=8)d(this,O,O+7),d(this,O+1,O+6),d(this,O+2,O+5),d(this,O+3,O+4);return this},c.prototype.toString=function(){var k=0|this.length;return k===0?"":arguments.length===0?R(this,0,k):v.apply(this,arguments)},c.prototype.equals=function(k){if(!c.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k||c.compare(this,k)===0},c.prototype.inspect=function(){var k="",O=r.INSPECT_MAX_BYTES;return this.length>0&&(k=this.toString("hex",0,O).match(/.{2}/g).join(" "),this.length>O&&(k+=" ... ")),"<Buffer "+k+">"},c.prototype.compare=function(k,O,A,F,P){if(!c.isBuffer(k))throw new TypeError("Argument must be a Buffer");if(O===void 0&&(O=0),A===void 0&&(A=k?k.length:0),F===void 0&&(F=0),P===void 0&&(P=this.length),O<0||A>k.length||F<0||P>this.length)throw new RangeError("out of range index");if(F>=P&&O>=A)return 0;if(F>=P)return-1;if(O>=A)return 1;if(this===k)return 0;for(var I=(P>>>=0)-(F>>>=0),W=(A>>>=0)-(O>>>=0),Q=Math.min(I,W),re=this.slice(F,P),oe=k.slice(O,A),ue=0;ue<Q;++ue)if(re[ue]!==oe[ue]){I=re[ue],W=oe[ue];break}return I<W?-1:W<I?1:0},c.prototype.includes=function(k,O,A){return this.indexOf(k,O,A)!==-1},c.prototype.indexOf=function(k,O,A){return w(this,k,O,A,!0)},c.prototype.lastIndexOf=function(k,O,A){return w(this,k,O,A,!1)},c.prototype.write=function(k,O,A,F){if(O===void 0)F="utf8",A=this.length,O=0;else if(A===void 0&&typeof O=="string")F=O,A=this.length,O=0;else{if(!isFinite(O))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");O|=0,isFinite(A)?(A|=0,F===void 0&&(F="utf8")):(F=A,A=void 0)}var P=this.length-O;if((A===void 0||A>P)&&(A=P),k.length>0&&(A<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");for(var I=!1;;)switch(F){case"hex":return S(this,k,O,A);case"utf8":case"utf-8":return T(this,k,O,A);case"ascii":return _(this,k,O,A);case"latin1":case"binary":return D(this,k,O,A);case"base64":return b(this,k,O,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,k,O,A);default:if(I)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),I=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(k,O,A){var F="";A=Math.min(k.length,A);for(var P=O;P<A;++P)F+=String.fromCharCode(127&k[P]);return F}function G(k,O,A){var F="";A=Math.min(k.length,A);for(var P=O;P<A;++P)F+=String.fromCharCode(k[P]);return F}function j(k,O,A){var F=k.length;(!O||O<0)&&(O=0),(!A||A<0||A>F)&&(A=F);for(var P="",I=O;I<A;++I)P+=J(k[I]);return P}function z(k,O,A){for(var F=k.slice(O,A),P="",I=0;I<F.length;I+=2)P+=String.fromCharCode(F[I]+256*F[I+1]);return P}function V(k,O,A){if(k%1!=0||k<0)throw new RangeError("offset is not uint");if(k+O>A)throw new RangeError("Trying to access beyond buffer length")}function L(k,O,A,F,P,I){if(!c.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(O>P||O<I)throw new RangeError('"value" argument is out of bounds');if(A+F>k.length)throw new RangeError("Index out of range")}function B(k,O,A,F){O<0&&(O=65535+O+1);for(var P=0,I=Math.min(k.length-A,2);P<I;++P)k[A+P]=(O&255<<8*(F?P:1-P))>>>8*(F?P:1-P)}function $(k,O,A,F){O<0&&(O=4294967295+O+1);for(var P=0,I=Math.min(k.length-A,4);P<I;++P)k[A+P]=O>>>8*(F?P:3-P)&255}function H(k,O,A,F,P,I){if(A+F>k.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function X(k,O,A,F,P){return P||H(k,0,A,4),o.write(k,O,A,F,23,4),A+4}function Z(k,O,A,F,P){return P||H(k,0,A,8),o.write(k,O,A,F,52,8),A+8}c.prototype.slice=function(k,O){var A,F=this.length;if((k=~~k)<0?(k+=F)<0&&(k=0):k>F&&(k=F),(O=O===void 0?F:~~O)<0?(O+=F)<0&&(O=0):O>F&&(O=F),O<k&&(O=k),c.TYPED_ARRAY_SUPPORT)(A=this.subarray(k,O)).__proto__=c.prototype;else{var P=O-k;A=new c(P,void 0);for(var I=0;I<P;++I)A[I]=this[I+k]}return A},c.prototype.readUIntLE=function(k,O,A){k|=0,O|=0,A||V(k,O,this.length);for(var F=this[k],P=1,I=0;++I<O&&(P*=256);)F+=this[k+I]*P;return F},c.prototype.readUIntBE=function(k,O,A){k|=0,O|=0,A||V(k,O,this.length);for(var F=this[k+--O],P=1;O>0&&(P*=256);)F+=this[k+--O]*P;return F},c.prototype.readUInt8=function(k,O){return O||V(k,1,this.length),this[k]},c.prototype.readUInt16LE=function(k,O){return O||V(k,2,this.length),this[k]|this[k+1]<<8},c.prototype.readUInt16BE=function(k,O){return O||V(k,2,this.length),this[k]<<8|this[k+1]},c.prototype.readUInt32LE=function(k,O){return O||V(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+16777216*this[k+3]},c.prototype.readUInt32BE=function(k,O){return O||V(k,4,this.length),16777216*this[k]+(this[k+1]<<16|this[k+2]<<8|this[k+3])},c.prototype.readIntLE=function(k,O,A){k|=0,O|=0,A||V(k,O,this.length);for(var F=this[k],P=1,I=0;++I<O&&(P*=256);)F+=this[k+I]*P;return F>=(P*=128)&&(F-=Math.pow(2,8*O)),F},c.prototype.readIntBE=function(k,O,A){k|=0,O|=0,A||V(k,O,this.length);for(var F=O,P=1,I=this[k+--F];F>0&&(P*=256);)I+=this[k+--F]*P;return I>=(P*=128)&&(I-=Math.pow(2,8*O)),I},c.prototype.readInt8=function(k,O){return O||V(k,1,this.length),128&this[k]?-1*(255-this[k]+1):this[k]},c.prototype.readInt16LE=function(k,O){O||V(k,2,this.length);var A=this[k]|this[k+1]<<8;return 32768&A?4294901760|A:A},c.prototype.readInt16BE=function(k,O){O||V(k,2,this.length);var A=this[k+1]|this[k]<<8;return 32768&A?4294901760|A:A},c.prototype.readInt32LE=function(k,O){return O||V(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},c.prototype.readInt32BE=function(k,O){return O||V(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},c.prototype.readFloatLE=function(k,O){return O||V(k,4,this.length),o.read(this,k,!0,23,4)},c.prototype.readFloatBE=function(k,O){return O||V(k,4,this.length),o.read(this,k,!1,23,4)},c.prototype.readDoubleLE=function(k,O){return O||V(k,8,this.length),o.read(this,k,!0,52,8)},c.prototype.readDoubleBE=function(k,O){return O||V(k,8,this.length),o.read(this,k,!1,52,8)},c.prototype.writeUIntLE=function(k,O,A,F){k=+k,O|=0,A|=0,F||L(this,k,O,A,Math.pow(2,8*A)-1,0);var P=1,I=0;for(this[O]=255&k;++I<A&&(P*=256);)this[O+I]=k/P&255;return O+A},c.prototype.writeUIntBE=function(k,O,A,F){k=+k,O|=0,A|=0,F||L(this,k,O,A,Math.pow(2,8*A)-1,0);var P=A-1,I=1;for(this[O+P]=255&k;--P>=0&&(I*=256);)this[O+P]=k/I&255;return O+A},c.prototype.writeUInt8=function(k,O,A){return k=+k,O|=0,A||L(this,k,O,1,255,0),c.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),this[O]=255&k,O+1},c.prototype.writeUInt16LE=function(k,O,A){return k=+k,O|=0,A||L(this,k,O,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[O]=255&k,this[O+1]=k>>>8):B(this,k,O,!0),O+2},c.prototype.writeUInt16BE=function(k,O,A){return k=+k,O|=0,A||L(this,k,O,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[O]=k>>>8,this[O+1]=255&k):B(this,k,O,!1),O+2},c.prototype.writeUInt32LE=function(k,O,A){return k=+k,O|=0,A||L(this,k,O,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[O+3]=k>>>24,this[O+2]=k>>>16,this[O+1]=k>>>8,this[O]=255&k):$(this,k,O,!0),O+4},c.prototype.writeUInt32BE=function(k,O,A){return k=+k,O|=0,A||L(this,k,O,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[O]=k>>>24,this[O+1]=k>>>16,this[O+2]=k>>>8,this[O+3]=255&k):$(this,k,O,!1),O+4},c.prototype.writeIntLE=function(k,O,A,F){if(k=+k,O|=0,!F){var P=Math.pow(2,8*A-1);L(this,k,O,A,P-1,-P)}var I=0,W=1,Q=0;for(this[O]=255&k;++I<A&&(W*=256);)k<0&&Q===0&&this[O+I-1]!==0&&(Q=1),this[O+I]=(k/W>>0)-Q&255;return O+A},c.prototype.writeIntBE=function(k,O,A,F){if(k=+k,O|=0,!F){var P=Math.pow(2,8*A-1);L(this,k,O,A,P-1,-P)}var I=A-1,W=1,Q=0;for(this[O+I]=255&k;--I>=0&&(W*=256);)k<0&&Q===0&&this[O+I+1]!==0&&(Q=1),this[O+I]=(k/W>>0)-Q&255;return O+A},c.prototype.writeInt8=function(k,O,A){return k=+k,O|=0,A||L(this,k,O,1,127,-128),c.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),k<0&&(k=255+k+1),this[O]=255&k,O+1},c.prototype.writeInt16LE=function(k,O,A){return k=+k,O|=0,A||L(this,k,O,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[O]=255&k,this[O+1]=k>>>8):B(this,k,O,!0),O+2},c.prototype.writeInt16BE=function(k,O,A){return k=+k,O|=0,A||L(this,k,O,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[O]=k>>>8,this[O+1]=255&k):B(this,k,O,!1),O+2},c.prototype.writeInt32LE=function(k,O,A){return k=+k,O|=0,A||L(this,k,O,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[O]=255&k,this[O+1]=k>>>8,this[O+2]=k>>>16,this[O+3]=k>>>24):$(this,k,O,!0),O+4},c.prototype.writeInt32BE=function(k,O,A){return k=+k,O|=0,A||L(this,k,O,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),c.TYPED_ARRAY_SUPPORT?(this[O]=k>>>24,this[O+1]=k>>>16,this[O+2]=k>>>8,this[O+3]=255&k):$(this,k,O,!1),O+4},c.prototype.writeFloatLE=function(k,O,A){return X(this,k,O,!0,A)},c.prototype.writeFloatBE=function(k,O,A){return X(this,k,O,!1,A)},c.prototype.writeDoubleLE=function(k,O,A){return Z(this,k,O,!0,A)},c.prototype.writeDoubleBE=function(k,O,A){return Z(this,k,O,!1,A)},c.prototype.copy=function(k,O,A,F){if(A||(A=0),F||F===0||(F=this.length),O>=k.length&&(O=k.length),O||(O=0),F>0&&F<A&&(F=A),F===A||k.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("sourceStart out of bounds");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),k.length-O<F-A&&(F=k.length-O+A);var P,I=F-A;if(this===k&&A<O&&O<F)for(P=I-1;P>=0;--P)k[P+O]=this[P+A];else if(I<1e3||!c.TYPED_ARRAY_SUPPORT)for(P=0;P<I;++P)k[P+O]=this[P+A];else Uint8Array.prototype.set.call(k,this.subarray(A,A+I),O);return I},c.prototype.fill=function(k,O,A,F){if(typeof k=="string"){if(typeof O=="string"?(F=O,O=0,A=this.length):typeof A=="string"&&(F=A,A=this.length),k.length===1){var P=k.charCodeAt(0);P<256&&(k=P)}if(F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!c.isEncoding(F))throw new TypeError("Unknown encoding: "+F)}else typeof k=="number"&&(k&=255);if(O<0||this.length<O||this.length<A)throw new RangeError("Out of range index");if(A<=O)return this;var I;if(O>>>=0,A=A===void 0?this.length:A>>>0,k||(k=0),typeof k=="number")for(I=O;I<A;++I)this[I]=k;else{var W=c.isBuffer(k)?k:ne(new c(k,F).toString()),Q=W.length;for(I=0;I<A-O;++I)this[I+O]=W[I%Q]}return this};var Y=/[^+\/0-9A-Za-z-_]/g;function J(k){return k<16?"0"+k.toString(16):k.toString(16)}function ne(k,O){var A;O=O||1/0;for(var F=k.length,P=null,I=[],W=0;W<F;++W){if((A=k.charCodeAt(W))>55295&&A<57344){if(!P){if(A>56319){(O-=3)>-1&&I.push(239,191,189);continue}if(W+1===F){(O-=3)>-1&&I.push(239,191,189);continue}P=A;continue}if(A<56320){(O-=3)>-1&&I.push(239,191,189),P=A;continue}A=65536+(P-55296<<10|A-56320)}else P&&(O-=3)>-1&&I.push(239,191,189);if(P=null,A<128){if((O-=1)<0)break;I.push(A)}else if(A<2048){if((O-=2)<0)break;I.push(A>>6|192,63&A|128)}else if(A<65536){if((O-=3)<0)break;I.push(A>>12|224,A>>6&63|128,63&A|128)}else{if(!(A<1114112))throw new Error("Invalid code point");if((O-=4)<0)break;I.push(A>>18|240,A>>12&63|128,A>>6&63|128,63&A|128)}}return I}function ee(k){return u.toByteArray(function(O){if((O=function(A){return A.trim?A.trim():A.replace(/^\s+|\s+$/g,"")}(O).replace(Y,"")).length<2)return"";for(;O.length%4!=0;)O+="=";return O}(k))}function te(k,O,A,F){for(var P=0;P<F&&!(P+A>=O.length||P>=k.length);++P)O[P+A]=k[P];return P}}).call(this,n(78))},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.isASCIIByte=function(i){return i>=0&&i<=127}},function(a,r,n){var i=this&&this.__read||function(o,f){var s=typeof Symbol=="function"&&o[Symbol.iterator];if(!s)return o;var l,c,p=s.call(o),h=[];try{for(;(f===void 0||f-- >0)&&!(l=p.next()).done;)h.push(l.value)}catch(g){c={error:g}}finally{try{l&&!l.done&&(s=p.return)&&s.call(p)}finally{if(c)throw c.error}}return h},u=this&&this.__spread||function(){for(var o=[],f=0;f<arguments.length;f++)o=o.concat(i(arguments[f]));return o};Object.defineProperty(r,"__esModule",{value:!0}),r.length=function(o){return o.length},r.byteLowercase=function(o){for(var f=0;f<o.length;f++){var s=o[f];s>=65&&s<=90&&(o[f]=s+32)}},r.byteUppercase=function(o){for(var f=0;f<o.length;f++){var s=o[f];s>=97&&s<=122&&(o[f]=s-32)}},r.byteCaseInsensitiveMatch=function(o,f){if(o.length!==f.length)return!1;for(var s=0;s<o.length;s++){var l=o[s],c=f[s];if(l>=65&&l<=90&&(l+=32),c>=65&&c<=90&&(c+=32),l!==c)return!1}return!0},r.startsWith=function(o,f){for(var s=0;;){if(s>=o.length)return!1;if(s>=f.length)return!0;if(o[s]!==f[s])return!1;s++}},r.byteLessThan=function(o,f){for(var s=0;;){if(s>=o.length)return!1;if(s>=f.length)return!0;var l=o[s],c=f[s];if(l<c)return!0;if(l>c)return!1;s++}},r.isomorphicDecode=function(o){return String.fromCodePoint.apply(String,u(o))}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(6),u=n(7),o=n(0),f=n(12),s=function(){function l(c){this._associatedDocument=c||i.dom.window.document}return l.prototype.createDocumentType=function(c,p,h){return o.namespace_validate(c),o.create_documentType(this._associatedDocument,c,p,h)},l.prototype.createDocument=function(c,p,h){h===void 0&&(h=null);var g=o.create_xmlDocument(),y=null;return p&&(y=o.document_internalCreateElementNS(g,c,p)),h&&g.appendChild(h),y&&g.appendChild(y),g._origin=this._associatedDocument._origin,c===u.namespace.HTML?g._contentType="application/xhtml+xml":c===u.namespace.SVG?g._contentType="image/svg+xml":g._contentType="application/xml",g},l.prototype.createHTMLDocument=function(c){var p=o.create_document();p._type="html",p._contentType="text/html",p.appendChild(o.create_documentType(p,"html","",""));var h=o.element_createAnElement(p,"html",u.namespace.HTML);p.appendChild(h);var g=o.element_createAnElement(p,"head",u.namespace.HTML);if(h.appendChild(g),c!==void 0){var y=o.element_createAnElement(p,"title",u.namespace.HTML);g.appendChild(y);var m=o.create_text(p,c);y.appendChild(m)}var x=o.element_createAnElement(p,"body",u.namespace.HTML);return h.appendChild(x),p._origin=this._associatedDocument._origin,p},l.prototype.hasFeature=function(){return!0},l._create=function(c){return new l(c)},l}();r.DOMImplementationImpl=s,f.idl_defineConst(s.prototype,"_ID","@oozcitak/dom")},function(a,r,n){var i,u=this&&this.__extends||(i=function(c,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var y in g)g.hasOwnProperty(y)&&(h[y]=g[y])})(c,p)},function(c,p){function h(){this.constructor=c}i(c,p),c.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(70),f=n(1),s=n(0),l=function(c){function p(){var h=c.call(this)||this;return h._signalSlots=new Set,h._mutationObserverMicrotaskQueued=!1,h._mutationObservers=new Set,h._iteratorList=new f.FixedSizeSet,h._associatedDocument=s.create_document(),h}return u(p,c),Object.defineProperty(p.prototype,"document",{get:function(){return this._associatedDocument},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"event",{get:function(){return this._currentEvent},enumerable:!0,configurable:!0}),p._create=function(){return new p},p}(o.EventTargetImpl);r.WindowImpl=l},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(2),u=function(){function o(){}return o.isNode=function(f){return!!f&&f._nodeType!==void 0},o.isDocumentNode=function(f){return o.isNode(f)&&f._nodeType===i.NodeType.Document},o.isDocumentTypeNode=function(f){return o.isNode(f)&&f._nodeType===i.NodeType.DocumentType},o.isDocumentFragmentNode=function(f){return o.isNode(f)&&f._nodeType===i.NodeType.DocumentFragment},o.isAttrNode=function(f){return o.isNode(f)&&f._nodeType===i.NodeType.Attribute},o.isCharacterDataNode=function(f){if(!o.isNode(f))return!1;var s=f._nodeType;return s===i.NodeType.Text||s===i.NodeType.ProcessingInstruction||s===i.NodeType.Comment||s===i.NodeType.CData},o.isTextNode=function(f){return o.isNode(f)&&(f._nodeType===i.NodeType.Text||f._nodeType===i.NodeType.CData)},o.isExclusiveTextNode=function(f){return o.isNode(f)&&f._nodeType===i.NodeType.Text},o.isCDATASectionNode=function(f){return o.isNode(f)&&f._nodeType===i.NodeType.CData},o.isCommentNode=function(f){return o.isNode(f)&&f._nodeType===i.NodeType.Comment},o.isProcessingInstructionNode=function(f){return o.isNode(f)&&f._nodeType===i.NodeType.ProcessingInstruction},o.isElementNode=function(f){return o.isNode(f)&&f._nodeType===i.NodeType.Element},o.isCustomElementNode=function(f){return o.isElementNode(f)&&f._customElementState==="custom"},o.isShadowRoot=function(f){return!!f&&f.host!==void 0},o.isMouseEvent=function(f){return!!f&&f.screenX!==void 0&&f.screenY!=null},o.isSlotable=function(f){return!!f&&f._name!==void 0&&f._assignedSlot!==void 0&&(o.isTextNode(f)||o.isElementNode(f))},o.isSlot=function(f){return!!f&&f._name!==void 0&&f._assignedNodes!==void 0&&o.isElementNode(f)},o.isWindow=function(f){return!!f&&f.navigator!==void 0},o.isEventListener=function(f){return!!f&&f.handleEvent!==void 0},o.isRegisteredObserver=function(f){return!!f&&f.observer!==void 0&&f.options!==void 0},o.isTransientRegisteredObserver=function(f){return!!f&&f.source!==void 0&&o.isRegisteredObserver(f)},o}();r.Guard=u},function(a,r,n){var i,u=this&&this.__extends||(i=function(f,s){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var p in c)c.hasOwnProperty(p)&&(l[p]=c[p])})(f,s)},function(f,s){function l(){this.constructor=f}i(f,s),f.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(f){function s(){return f.call(this)||this}return u(s,f),s}(n(98).DocumentImpl);r.XMLDocumentImpl=o},function(a,r,n){var i=this&&this.__values||function(F){var P=typeof Symbol=="function"&&Symbol.iterator,I=P&&F[P],W=0;if(I)return I.call(F);if(F&&typeof F.length=="number")return{next:function(){return F&&W>=F.length&&(F=void 0),{value:F&&F[W++],done:!F}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(F,P){var I=typeof Symbol=="function"&&F[Symbol.iterator];if(!I)return F;var W,Q,re=I.call(F),oe=[];try{for(;(P===void 0||P-- >0)&&!(W=re.next()).done;)oe.push(W.value)}catch(ue){Q={error:ue}}finally{try{W&&!W.done&&(I=re.return)&&I.call(re)}finally{if(Q)throw Q.error}}return oe};Object.defineProperty(r,"__esModule",{value:!0});var o,f=n(1),s=n(243),l=n(7),c=n(244),p={ftp:21,file:null,http:80,https:443,ws:80,wss:443},h=/[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,g=/[ "<>`]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,y=/[ "<>`#?{}]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,m=/[ "<>`#?{}/:;=@\[\]\\\^\|]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,x=/[0-9A-Za-z!\$&-\/:;=\?@_~\xA0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uD83E\uD840-\uD87E\uD880-\uD8BE\uD8C0-\uD8FE\uD900-\uD93E\uD940-\uD97E\uD980-\uD9BE\uD9C0-\uD9FE\uDA00-\uDA3E\uDA40-\uDA7E\uDA80-\uDABE\uDAC0-\uDAFE\uDB00-\uDB3E\uDB40-\uDB7E\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDC00-\uDFFD]/,v=/[\0\t\f\r #%/:?@\[\\\]]/;function d(F){o!==void 0&&o.call(null,"Validation Error: "+F)}function w(){return{scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null}}function C(F){return F in p}function S(F){return C(F.scheme)}function T(F){return p[F]||null}function _(F){return F.username!==""||F.password!==""}function D(F,P){var I,W;P===void 0&&(P=!1);var Q=F.scheme+":";if(F.host!==null?(Q+="//",_(F)&&(Q+=F.username,F.password!==""&&(Q+=":"+F.password),Q+="@"),Q+=b(F.host),F.port!==null&&(Q+=":"+F.port)):F.host===null&&F.scheme==="file"&&(Q+="//"),F._cannotBeABaseURLFlag)Q+=F.path[0];else try{for(var re=i(F.path),oe=re.next();!oe.done;oe=re.next())Q+="/"+oe.value}catch(ue){I={error:ue}}finally{try{oe&&!oe.done&&(W=re.return)&&W.call(re)}finally{if(I)throw I.error}}return F.query!==null&&(Q+="?"+F.query),P||F.fragment===null||(Q+="#"+F.fragment),Q}function b(F){return f.isNumber(F)?E(F):f.isArray(F)?"["+N(F)+"]":F}function E(F){for(var P="",I=F,W=1;W<=4;W++)P=(I%256).toString()+P,W!==4&&(P="."+P),I=Math.floor(I/256);return P}function N(F){for(var P="",I=null,W=-1,Q=0,re=0,oe=0;oe<8;oe++)if(F[oe]===0){Q=1;for(var ue=oe+1;ue<8&&F[ue]===0;ue++)Q++;Q>re&&(re=Q,W=oe)}re>1&&(I=W);for(var ve=!1,ye=0;ye<8;ye++)ve&&F[ye]===0||(ve&&(ve=!1),I!==ye?(P+=F[ye].toString(16),ye!==7&&(P+=":")):(P+=ye===0?"::":":",ve=!0));return P}function R(F,P,I,W,Q){var re,oe,ue,ve;if(W===void 0){W={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null};var ye=/^[\u0000-\u001F\u0020]+/,je=/[\u0000-\u001F\u0020]+$/;(ye.test(F)||je.test(F))&&d("Input string contains leading or trailing control characters or space."),F=(F=F.replace(ye,"")).replace(je,"")}var Oe=/[\u0009\u000A\u000D]/g;Oe.test(F)&&d("Input string contains tab or newline characters."),F=F.replace(Oe,"");var pe=Q===void 0?s.ParserState.SchemeStart:Q;P===void 0&&(P=null);for(var Xe=I===void 0||I==="replacement"||I==="UTF-16BE"||I==="UTF-16LE"?"UTF-8":I,K="",_e=!1,De=!1,me=!1,ae=new f.StringWalker(F);;){switch(pe){case s.ParserState.SchemeStart:if(l.codePoint.ASCIIAlpha.test(ae.c()))K+=ae.c().toLowerCase(),pe=s.ParserState.Scheme;else{if(Q!==void 0)return d("Invalid scheme start character."),null;pe=s.ParserState.NoScheme,ae.pointer--}break;case s.ParserState.Scheme:if(l.codePoint.ASCIIAlphanumeric.test(ae.c())||ae.c()==="+"||ae.c()==="-"||ae.c()===".")K+=ae.c().toLowerCase();else{if(ae.c()!==":"){if(Q===void 0){K="",pe=s.ParserState.NoScheme,ae.pointer=0;continue}return d("Invalid input string."),null}if(Q!==void 0&&(C(W.scheme)&&!C(K)||!C(W.scheme)&&C(K)||(_(W)||W.port!==null)&&K==="file"||W.scheme==="file"&&(W.host===""||W.host===null)))return W;if(W.scheme=K,Q!==void 0)return W.port===T(W.scheme)&&(W.port=null),W;K="",W.scheme==="file"?(ae.remaining().startsWith("//")||d("Invalid file URL scheme, '//' expected."),pe=s.ParserState.File):S(W)&&P!==null&&P.scheme===W.scheme?pe=s.ParserState.SpecialRelativeOrAuthority:S(W)?pe=s.ParserState.SpecialAuthoritySlashes:ae.remaining().startsWith("/")?(pe=s.ParserState.PathOrAuthority,ae.pointer++):(W._cannotBeABaseURLFlag=!0,W.path.push(""),pe=s.ParserState.CannotBeABaseURLPath)}break;case s.ParserState.NoScheme:if(P===null||P._cannotBeABaseURLFlag&&ae.c()!=="#")return d("Invalid input string."),null;P._cannotBeABaseURLFlag&&ae.c()==="#"?(W.scheme=P.scheme,W.path=l.list.clone(P.path),W.query=P.query,W.fragment="",W._cannotBeABaseURLFlag=!0,pe=s.ParserState.Fragment):P.scheme!=="file"?(pe=s.ParserState.Relative,ae.pointer--):(pe=s.ParserState.File,ae.pointer--);break;case s.ParserState.SpecialRelativeOrAuthority:ae.c()==="/"&&ae.remaining().startsWith("/")?(pe=s.ParserState.SpecialAuthorityIgnoreSlashes,ae.pointer++):(d("Invalid input string."),pe=s.ParserState.Relative,ae.pointer--);break;case s.ParserState.PathOrAuthority:ae.c()==="/"?pe=s.ParserState.Authority:(pe=s.ParserState.Path,ae.pointer--);break;case s.ParserState.Relative:if(P===null)throw new Error("Invalid parser state. Base URL is null.");switch(W.scheme=P.scheme,ae.c()){case"":W.username=P.username,W.password=P.password,W.host=P.host,W.port=P.port,W.path=l.list.clone(P.path),W.query=P.query;break;case"/":pe=s.ParserState.RelativeSlash;break;case"?":W.username=P.username,W.password=P.password,W.host=P.host,W.port=P.port,W.path=l.list.clone(P.path),W.query="",pe=s.ParserState.Query;break;case"#":W.username=P.username,W.password=P.password,W.host=P.host,W.port=P.port,W.path=l.list.clone(P.path),W.query=P.query,W.fragment="",pe=s.ParserState.Fragment;break;default:S(W)&&ae.c()==="\\"?(d("Invalid input string."),pe=s.ParserState.RelativeSlash):(W.username=P.username,W.password=P.password,W.host=P.host,W.port=P.port,W.path=l.list.clone(P.path),W.path.length!==0&&W.path.splice(W.path.length-1,1),pe=s.ParserState.Path,ae.pointer--)}break;case s.ParserState.RelativeSlash:if(!S(W)||ae.c()!=="/"&&ae.c()!=="\\")if(ae.c()==="/")pe=s.ParserState.Authority;else{if(P===null)throw new Error("Invalid parser state. Base URL is null.");W.username=P.username,W.password=P.password,W.host=P.host,W.port=P.port,pe=s.ParserState.Path,ae.pointer--}else ae.c()==="\\"&&d("Invalid input string."),pe=s.ParserState.SpecialAuthorityIgnoreSlashes;break;case s.ParserState.SpecialAuthoritySlashes:ae.c()==="/"&&ae.remaining().startsWith("/")?(pe=s.ParserState.SpecialAuthorityIgnoreSlashes,ae.pointer++):(d("Expected '//'."),pe=s.ParserState.SpecialAuthorityIgnoreSlashes,ae.pointer--);break;case s.ParserState.SpecialAuthorityIgnoreSlashes:ae.c()!=="/"&&ae.c()!=="\\"?(pe=s.ParserState.Authority,ae.pointer--):d("Unexpected '/' or '\\'.");break;case s.ParserState.Authority:if(ae.c()==="@"){d("Unexpected '@'."),_e&&(K="%40"+K),_e=!0;try{for(var ce=(re=void 0,i(K)),ge=ce.next();!ge.done;ge=ce.next()){var he=ge.value;if(he!==":"||me){var xe=te(he,m);me?W.password+=xe:W.username+=xe}else me=!0}}catch(Xt){re={error:Xt}}finally{try{ge&&!ge.done&&(oe=ce.return)&&oe.call(ce)}finally{if(re)throw re.error}}K=""}else if(ae.c()===""||ae.c()==="/"||ae.c()==="?"||ae.c()==="#"||S(W)&&ae.c()==="\\"){if(_e&&K==="")return d("Invalid input string."),null;ae.pointer-=K.length+1,K="",pe=s.ParserState.Host}else K+=ae.c();break;case s.ParserState.Host:case s.ParserState.Hostname:if(Q!==void 0&&W.scheme==="file")ae.pointer--,pe=s.ParserState.FileHost;else if(ae.c()!==":"||De)if(ae.c()===""||ae.c()==="/"||ae.c()==="?"||ae.c()==="#"||S(W)&&ae.c()==="\\"){if(ae.pointer--,S(W)&&K==="")return d("Invalid input string."),null;if(Q!==void 0&&K===""&&(_(W)||W.port!==null))return d("Invalid input string."),W;if((Ce=B(K,!S(W)))===null)return null;if(W.host=Ce,K="",pe=s.ParserState.PathStart,Q!==void 0)return W}else ae.c()==="["&&(De=!0),ae.c()==="]"&&(De=!1),K+=ae.c();else{if(K==="")return d("Invalid input string."),null;if((Ce=B(K,!S(W)))===null)return null;if(W.host=Ce,K="",pe=s.ParserState.Port,Q===s.ParserState.Hostname)return W}break;case s.ParserState.Port:if(l.codePoint.ASCIIDigit.test(ae.c()))K+=ae.c();else{if(!(ae.c()===""||ae.c()==="/"||ae.c()==="?"||ae.c()==="#"||S(W)&&ae.c()==="\\"||Q))return d("Invalid input string."),null;if(K!==""&&K!==""){var Fe=parseInt(K,10);if(Fe>Math.pow(2,16)-1)return d("Invalid port number."),null;W.port=Fe===T(W.scheme)?null:Fe,K=""}if(Q!==void 0)return W;pe=s.ParserState.PathStart,ae.pointer--}break;case s.ParserState.File:if(W.scheme="file",ae.c()==="/"||ae.c()==="\\")ae.c()==="\\"&&d("Invalid input string."),pe=s.ParserState.FileSlash;else if(P!==null&&P.scheme==="file")switch(ae.c()){case"":W.host=P.host,W.path=l.list.clone(P.path),W.query=P.query;break;case"?":W.host=P.host,W.path=l.list.clone(P.path),W.query="",pe=s.ParserState.Query;break;case"#":W.host=P.host,W.path=l.list.clone(P.path),W.query=P.query,W.fragment="",pe=s.ParserState.Fragment;break;default:L(ae.substring())?d("Unexpected windows drive letter in input string."):(W.host=P.host,W.path=l.list.clone(P.path),j(W)),pe=s.ParserState.Path,ae.pointer--}else pe=s.ParserState.Path,ae.pointer--;break;case s.ParserState.FileSlash:ae.c()==="/"||ae.c()==="\\"?(ae.c()==="\\"&&d("Invalid input string."),pe=s.ParserState.FileHost):(P===null||P.scheme!=="file"||L(ae.substring())||(z(P.path[0])?W.path.push(P.path[0]):W.host=P.host),pe=s.ParserState.Path,ae.pointer--);break;case s.ParserState.FileHost:if(ae.c()===""||ae.c()==="/"||ae.c()==="\\"||ae.c()==="?"||ae.c()==="#")if(ae.pointer--,Q===void 0&&V(K))d("Unexpected windows drive letter in input string."),pe=s.ParserState.Path;else if(K===""){if(W.host="",Q!==void 0)return W;pe=s.ParserState.PathStart}else{var Ce;if((Ce=B(K,!S(W)))===null)return null;if(Ce==="localhost"&&(Ce=""),W.host=Ce,Q!==void 0)return W;K="",pe=s.ParserState.PathStart}else K+=ae.c();break;case s.ParserState.PathStart:S(W)?(ae.c()==="\\"&&d("Invalid input string."),pe=s.ParserState.Path,ae.c()!=="/"&&ae.c()!=="\\"&&ae.pointer--):Q===void 0&&ae.c()==="?"?(W.query="",pe=s.ParserState.Query):Q===void 0&&ae.c()==="#"?(W.fragment="",pe=s.ParserState.Fragment):ae.c()!==""&&(pe=s.ParserState.Path,ae.c()!=="/"&&ae.pointer--);break;case s.ParserState.Path:if(ae.c()===""||ae.c()==="/"||S(W)&&ae.c()==="\\"||Q===void 0&&(ae.c()==="?"||ae.c()==="#")){if(S(W)&&ae.c()==="\\"&&d("Invalid input string."),G(K))j(W),ae.c()==="/"||S(W)&&ae.c()==="\\"||W.path.push("");else if(!M(K)||ae.c()==="/"||S(W)&&ae.c()==="\\"){if(!M(K)){if(W.scheme==="file"&&W.path.length===0&&V(K)){W.host!==null&&W.host!==""&&(d("Invalid input string."),W.host="");var Ae=Array.from(K);K=Ae.slice(0,1)+":"+Ae.slice(2)}W.path.push(K)}}else W.path.push("");if(K="",W.scheme==="file"&&(ae.c()===""||ae.c()==="?"||ae.c()==="#"))for(;W.path.length>1&&W.path[0]==="";)d("Invalid input string."),W.path.splice(0,1);ae.c()==="?"&&(W.query="",pe=s.ParserState.Query),ae.c()==="#"&&(W.fragment="",pe=s.ParserState.Fragment)}else x.test(ae.c())||ae.c()==="%"||d("Character is not a URL code point or a percent encoded character."),ae.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(ae.remaining())||d("Percent encoded character must be followed by two hex digits."),K+=te(ae.c(),y);break;case s.ParserState.CannotBeABaseURLPath:ae.c()==="?"?(W.query="",pe=s.ParserState.Query):ae.c()==="#"?(W.fragment="",pe=s.ParserState.Fragment):(ae.c()===""||x.test(ae.c())||ae.c()==="%"||d("Character is not a URL code point or a percent encoded character."),ae.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(ae.remaining())||d("Percent encoded character must be followed by two hex digits."),ae.c()!==""&&(W.path[0]+=te(ae.c(),h)));break;case s.ParserState.Query:if(Xe==="UTF-8"||S(W)&&W.scheme!=="ws"&&W.scheme!=="wss"||(Xe="UTF-8"),Q===void 0&&ae.c()==="#")W.fragment="",pe=s.ParserState.Fragment;else if(ae.c()!==""){if(x.test(ae.c())||ae.c()==="%"||d("Character is not a URL code point or a percent encoded character."),ae.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(ae.remaining())||d("Percent encoded character must be followed by two hex digits."),Xe.toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var Be=f.utf8Encode(ae.c());if(Be.length>=3&&Be[0]===38&&Be[1]===35&&Be[Be.length-1]===59)Be=Be.subarray(2,Be.length-1),W.query+="%26%23"+l.byteSequence.isomorphicDecode(Be)+"%3B";else try{for(var pt=(ue=void 0,i(Be)),Lt=pt.next();!Lt.done;Lt=pt.next()){var tt=Lt.value;tt<33||tt>126||tt===34||tt===35||tt===60||tt===62||tt===39&&S(W)?W.query+=J(tt):W.query+=String.fromCharCode(tt)}}catch(Xt){ue={error:Xt}}finally{try{Lt&&!Lt.done&&(ve=pt.return)&&ve.call(pt)}finally{if(ue)throw ue.error}}}break;case s.ParserState.Fragment:ae.c()===""||(ae.c()==="\0"?d("NULL character in input string."):(x.test(ae.c())||ae.c()==="%"||d("Unexpected character in fragment string."),ae.c()!=="%"||/^[A-Za-z0-9][A-Za-z0-9]/.test(ae.remaining())||d("Unexpected character in fragment string."),W.fragment+=te(ae.c(),g)))}if(ae.eof)break;ae.pointer++}return W}function M(F){return F==="."||F.toLowerCase()==="%2e"}function G(F){var P=F.toLowerCase();return P===".."||P===".%2e"||P==="%2e."||P==="%2e%2e"}function j(F){var P=F.path;P.length!==0&&(F.scheme==="file"&&P.length===1&&z(P[0])||F.path.splice(F.path.length-1,1))}function z(F){return F.length>=2&&l.codePoint.ASCIIAlpha.test(F[0])&&F[1]===":"}function V(F){return F.length>=2&&l.codePoint.ASCIIAlpha.test(F[0])&&(F[1]===":"||F[1]==="|")}function L(F){return F.length>=2&&V(F)&&(F.length===2||F[2]==="/"||F[2]==="\\"||F[2]==="?"||F[2]==="#")}function B(F,P){if(P===void 0&&(P=!1),F.startsWith("["))return F.endsWith("]")?X(F.substring(1,F.length-1)):(d("Expected ']' after '['."),null);if(P)return Z(F);var I=A(f.utf8Decode(ee(F)));if(I===null||v.test(I))return d("Invalid domain."),null;var W=H(I);return W===null||f.isNumber(W)?W:I}function $(F,P){P===void 0&&(P={value:!1});var I=10;return F.startsWith("0x")||F.startsWith("0X")?(P.value=!0,F=F.substr(2),I=16):F.length>=2&&F[0]==="0"&&(P.value=!0,F=F.substr(1),I=8),F===""?0:(I===10?/^[0-9]+$/:I===16?/^[0-9A-Fa-f]+$/:/^[0-7]+$/).test(F)?parseInt(F,I):null}function H(F){var P,I,W,Q,re={value:!1},oe=F.split(".");if(oe[oe.length-1]===""&&(re.value=!0,oe.length>1&&oe.pop()),oe.length>4)return F;var ue=[];try{for(var ve=i(oe),ye=ve.next();!ye.done;ye=ve.next()){var je=ye.value;if(je===""||(De=$(je,re))===null)return F;ue.push(De)}}catch(me){P={error:me}}finally{try{ye&&!ye.done&&(I=ve.return)&&I.call(ve)}finally{if(P)throw P.error}}re.value&&d("Invalid IP v4 address.");for(var Oe=0;Oe<ue.length;Oe++)if(ue[Oe]>255&&(d("Invalid IP v4 address."),Oe<ue.length-1))return null;if(ue[ue.length-1]>=Math.pow(256,5-ue.length))return d("Invalid IP v4 address."),null;var pe=ue[ue.length-1];ue.pop();var Xe=0;try{for(var K=i(ue),_e=K.next();!_e.done;_e=K.next()){var De;pe+=(De=_e.value)*Math.pow(256,3-Xe),Xe++}}catch(me){W={error:me}}finally{try{_e&&!_e.done&&(Q=K.return)&&Q.call(K)}finally{if(W)throw W.error}}return pe}function X(F){var P,I=[0,0,0,0,0,0,0,0],W=0,Q=null,re=new f.StringWalker(F);if(re.c()===":"){if(!re.remaining().startsWith(":"))return d("Invalid IP v6 address."),null;re.pointer+=2,Q=W+=1}for(;re.c()!=="";){if(W===8)return d("Invalid IP v6 address."),null;if(re.c()!==":"){for(var oe=0,ue=0;ue<4&&l.codePoint.ASCIIHexDigit.test(re.c());)oe=16*oe+parseInt(re.c(),16),re.pointer++,ue++;if(re.c()==="."){if(ue===0||(re.pointer-=ue,W>6))return d("Invalid IP v6 address."),null;for(var ve=0;re.c()!=="";){var ye=null;if(ve>0){if(!(re.c()==="."&&ve<4))return d("Invalid IP v6 address."),null;re.pointer++}if(!l.codePoint.ASCIIDigit.test(re.c()))return d("Invalid IP v6 address."),null;for(;l.codePoint.ASCIIDigit.test(re.c());){var je=parseInt(re.c(),10);if(ye===null)ye=je;else{if(ye===0)return d("Invalid IP v6 address."),null;ye=10*ye+je}if(ye>255)return d("Invalid IP v6 address."),null;re.pointer++}if(ye===null)return d("Invalid IP v6 address."),null;I[W]=256*I[W]+ye,++ve!==2&&ve!==4||W++}if(ve!==4)return d("Invalid IP v6 address."),null;break}if(re.c()===":"){if(re.pointer++,re.c()==="")return d("Invalid IP v6 address."),null}else if(re.c()!=="")return d("Invalid IP v6 address."),null;I[W]=oe,W++}else{if(Q!==null)return d("Invalid IP v6 address."),null;re.pointer++,Q=++W}}if(Q!==null){var Oe=W-Q;for(W=7;W!==0&&Oe>0;)P=u([I[Q+Oe-1],I[W]],2),I[W]=P[0],I[Q+Oe-1]=P[1],W--,Oe--}else if(Q===null&&W!==8)return d("Invalid IP v6 address."),null;return I}function Z(F){var P,I;if(/[\x00\t\f\r #/:?@\[\\\]]/.test(F))return d("Invalid host string."),null;var W="";try{for(var Q=i(F),re=Q.next();!re.done;re=Q.next())W+=te(re.value,h)}catch(oe){P={error:oe}}finally{try{re&&!re.done&&(I=Q.return)&&I.call(Q)}finally{if(P)throw P.error}}return W}function Y(F){return null}function J(F){return"%"+("00"+F.toString(16).toUpperCase()).slice(-2)}function ne(F){for(var P=function(ue){return ue>=48&&ue<=57||ue>=65&&ue<=70||ue>=97&&ue<=102},I=new Uint8Array(F.length),W=0,Q=0;Q<F.length;Q++){var re=F[Q];if(re!==37)I[W]=re,W++;else if(re===37&&Q>=F.length-2)I[W]=re,W++;else if(re!==37||P(F[Q+1])&&P(F[Q+2])){var oe=parseInt(f.utf8Decode(Uint8Array.of(F[Q+1],F[Q+2])),16);I[W]=oe,W++,Q+=2}else I[W]=re,W++}return I.subarray(0,W)}function ee(F){return ne(f.utf8Encode(F))}function te(F,P){var I,W;if(!P.test(F))return F;var Q=f.utf8Encode(F),re="";try{for(var oe=i(Q),ue=oe.next();!ue.done;ue=oe.next())re+=J(ue.value)}catch(ve){I={error:ve}}finally{try{ue&&!ue.done&&(W=oe.return)&&W.call(oe)}finally{if(I)throw I.error}}return re}function k(F){var P,I,W,Q,re=[],oe=[];try{for(var ue=i(F),ve=ue.next();!ve.done;ve=ue.next()){var ye=ve.value;ye===38?(re.push(Uint8Array.from(oe)),oe=[]):oe.push(ye)}}catch(ge){P={error:ge}}finally{try{ve&&!ve.done&&(I=ue.return)&&I.call(ue)}finally{if(P)throw P.error}}oe.length!==0&&re.push(Uint8Array.from(oe));var je=[];try{for(var Oe=i(re),pe=Oe.next();!pe.done;pe=Oe.next()){var Xe=pe.value;if(Xe.length!==0){for(var K=Xe.indexOf(61),_e=K!==-1?Xe.slice(0,K):Xe,De=K!==-1?Xe.slice(K+1):new Uint8Array,me=0;me<_e.length;me++)_e[me]===43&&(_e[me]=32);for(me=0;me<De.length;me++)De[me]===43&&(De[me]=32);var ae=f.utf8Decode(_e),ce=f.utf8Decode(De);je.push([ae,ce])}}}catch(ge){W={error:ge}}finally{try{pe&&!pe.done&&(Q=Oe.return)&&Q.call(Oe)}finally{if(W)throw W.error}}return je}function O(F){var P,I,W="";try{for(var Q=i(F),re=Q.next();!re.done;re=Q.next()){var oe=re.value;W+=oe===32?"+":oe===42||oe===45||oe===46||oe>=48&&oe<=57||oe>=65&&oe<=90||oe===95||oe>=97&&oe<=122?String.fromCodePoint(oe):J(oe)}}catch(ue){P={error:ue}}finally{try{re&&!re.done&&(I=Q.return)&&I.call(Q)}finally{if(P)throw P.error}}return W}function A(F,P){var I=c.domainToASCII(F);return I===""?(d("Invalid domain name."),null):I}r.setValidationErrorCallback=function(F){o=F},r.newURL=w,r.isSpecialScheme=C,r.isSpecial=S,r.defaultPort=T,r.includesCredentials=_,r.cannotHaveAUsernamePasswordPort=function(F){return F.host===null||F.host===""||F._cannotBeABaseURLFlag||F.scheme==="file"},r.urlSerializer=D,r.hostSerializer=b,r.iPv4Serializer=E,r.iPv6Serializer=N,r.urlParser=function(F,P,I){var W=R(F,P,I);return W===null?null:(W.scheme!=="blob"||(W._blobURLEntry=null),W)},r.basicURLParser=R,r.setTheUsername=function(F,P){var I,W,Q="";try{for(var re=i(P),oe=re.next();!oe.done;oe=re.next())Q+=te(oe.value,m)}catch(ue){I={error:ue}}finally{try{oe&&!oe.done&&(W=re.return)&&W.call(re)}finally{if(I)throw I.error}}F.username=Q},r.setThePassword=function(F,P){var I,W,Q="";try{for(var re=i(P),oe=re.next();!oe.done;oe=re.next())Q+=te(oe.value,m)}catch(ue){I={error:ue}}finally{try{oe&&!oe.done&&(W=re.return)&&W.call(re)}finally{if(I)throw I.error}}F.password=Q},r.isSingleDotPathSegment=M,r.isDoubleDotPathSegment=G,r.shorten=j,r.isNormalizedWindowsDriveLetter=z,r.isWindowsDriveLetter=V,r.startsWithAWindowsDriveLetter=L,r.hostParser=B,r.iPv4NumberParser=$,r.iPv4Parser=H,r.iPv6Parser=X,r.opaqueHostParser=Z,r.resolveABlobURL=Y,r.percentEncode=J,r.percentDecode=ne,r.stringPercentDecode=ee,r.utf8PercentEncode=te,r.hostEquals=function(F,P){return F===P},r.urlEquals=function(F,P,I){return I===void 0&&(I=!1),D(F,I)===D(P,I)},r.urlEncodedStringParser=function(F){return k(f.utf8Encode(F))},r.urlEncodedParser=k,r.urlEncodedByteSerializer=O,r.urlEncodedSerializer=function(F,P){var I,W;if((P===void 0||P==="replacement"||P==="UTF-16BE"||P==="UTF-16LE"?"UTF-8":P).toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var Q="";try{for(var re=i(F),oe=re.next();!oe.done;oe=re.next()){var ue=oe.value,ve=O(f.utf8Encode(ue[0])),ye=ue[1];ye=O(f.utf8Encode(ye)),Q!==""&&(Q+="&"),Q+=ve+"="+ye}}catch(je){I={error:je}}finally{try{oe&&!oe.done&&(W=re.return)&&W.call(re)}finally{if(I)throw I.error}}return Q},r.origin=function F(P){switch(P.scheme){case"blob":P._blobURLEntry;var I=R(P.path[0]);return I===null?s.OpaqueOrigin:F(I);case"ftp":case"http":case"https":case"ws":case"wss":return[P.scheme,P.host===null?"":P.host,P.port,null];case"file":default:return s.OpaqueOrigin}},r.domainToASCII=A,r.domainToUnicode=function(F,P){var I=c.domainToUnicode(F);return I===""&&d("Invalid domain name."),I},r.asciiSerializationOfAnOrigin=function(F){if(F[0]===""&&F[1]===""&&F[2]===null&&F[3]===null)return"null";var P=F[0]+"://"+b(F[1]);return F[2]!==null&&(P+=":"+F[2].toString()),P}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(0),u=function(){function o(){this._signal=i.create_abortSignal()}return Object.defineProperty(o.prototype,"signal",{get:function(){return this._signal},enumerable:!0,configurable:!0}),o.prototype.abort=function(){i.abort_signalAbort(this._signal)},o}();r.AbortControllerImpl=u},function(a,r,n){var i,u=this&&this.__extends||(i=function(l,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var g in h)h.hasOwnProperty(g)&&(p[g]=h[g])})(l,c)},function(l,c){function p(){this.constructor=l}i(l,c),l.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(70),f=n(0),s=function(l){function c(){var p=l.call(this)||this;return p._abortedFlag=!1,p._abortAlgorithms=new Set,p}return u(c,l),Object.defineProperty(c.prototype,"aborted",{get:function(){return this._abortedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"onabort",{get:function(){return f.event_getterEventHandlerIDLAttribute(this,"onabort")},set:function(p){f.event_setterEventHandlerIDLAttribute(this,"onabort",p)},enumerable:!0,configurable:!0}),c._create=function(){return new c},c}(o.EventTargetImpl);r.AbortSignalImpl=s},function(a,r,n){var i,u=this&&this.__extends||(i=function(c,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var y in g)g.hasOwnProperty(y)&&(h[y]=g[y])})(c,p)},function(c,p){function h(){this.constructor=c}i(c,p),c.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(2),f=n(34),s=n(12),l=function(c){function p(h,g,y){var m=c.call(this)||this;return m._name="",m._publicId="",m._systemId="",m._name=h,m._publicId=g,m._systemId=y,m}return u(p,c),Object.defineProperty(p.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"publicId",{get:function(){return this._publicId},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"systemId",{get:function(){return this._systemId},enumerable:!0,configurable:!0}),p.prototype.before=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];throw new Error("Mixin: ChildNode not implemented.")},p.prototype.after=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];throw new Error("Mixin: ChildNode not implemented.")},p.prototype.replaceWith=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];throw new Error("Mixin: ChildNode not implemented.")},p.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},p._create=function(h,g,y,m){y===void 0&&(y=""),m===void 0&&(m="");var x=new p(g,y,m);return x._nodeDocument=h,x},p}(f.NodeImpl);r.DocumentTypeImpl=l,s.idl_defineConst(l.prototype,"_nodeType",o.NodeType.DocumentType)},function(a,r,n){var i,u=this&&this.__extends||(i=function(c,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var y in g)g.hasOwnProperty(y)&&(h[y]=g[y])})(c,p)},function(c,p){function h(){this.constructor=c}i(c,p),c.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(100),f=n(1),s=n(0),l=function(c){function p(h,g){var y=c.call(this)||this;return y._host=h,y._mode=g,y}return u(p,c),Object.defineProperty(p.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"host",{get:function(){return this._host},enumerable:!0,configurable:!0}),p.prototype._getTheParent=function(h){return h._composedFlag||f.isEmpty(h._path)||s.tree_rootNode(h._path[0].invocationTarget)!==this?this._host:null},p._create=function(h,g){return new p(g,"closed")},p}(o.DocumentFragmentImpl);r.ShadowRootImpl=l},function(a,r,n){var i,u=this&&this.__extends||(i=function(p,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var m in y)y.hasOwnProperty(m)&&(g[m]=y[m])})(p,h)},function(p,h){function g(){this.constructor=p}i(p,h),p.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(2),f=n(34),s=n(0),l=n(12),c=function(p){function h(g){var y=p.call(this)||this;return y._namespace=null,y._namespacePrefix=null,y._element=null,y._value="",y._localName=g,y}return u(h,p),Object.defineProperty(h.prototype,"ownerElement",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"name",{get:function(){return this._qualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"value",{get:function(){return this._value},set:function(g){s.attr_setAnExistingAttributeValue(this,g)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix!==null?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),h._create=function(g,y){var m=new h(y);return m._nodeDocument=g,m},h}(f.NodeImpl);r.AttrImpl=c,l.idl_defineConst(c.prototype,"_nodeType",o.NodeType.Attribute),l.idl_defineConst(c.prototype,"specified",!0)},function(a,r,n){var i,u=this&&this.__extends||(i=function(c,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var y in g)g.hasOwnProperty(y)&&(h[y]=g[y])})(c,p)},function(c,p){function h(){this.constructor=c}i(c,p),c.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(101),f=n(2),s=n(12),l=function(c){function p(h){return c.call(this,h)||this}return u(p,c),p._create=function(h,g){g===void 0&&(g="");var y=new p(g);return y._nodeDocument=h,y},p}(o.TextImpl);r.CDATASectionImpl=l,s.idl_defineConst(l.prototype,"_nodeType",f.NodeType.CData)},function(a,r,n){var i,u=this&&this.__extends||(i=function(c,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var y in g)g.hasOwnProperty(y)&&(h[y]=g[y])})(c,p)},function(c,p){function h(){this.constructor=c}i(c,p),c.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(2),f=n(71),s=n(12),l=function(c){function p(h){return h===void 0&&(h=""),c.call(this,h)||this}return u(p,c),p._create=function(h,g){g===void 0&&(g="");var y=new p(g);return y._nodeDocument=h,y},p}(f.CharacterDataImpl);r.CommentImpl=l,s.idl_defineConst(l.prototype,"_nodeType",o.NodeType.Comment)},function(a,r,n){var i,u=this&&this.__extends||(i=function(c,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var y in g)g.hasOwnProperty(y)&&(h[y]=g[y])})(c,p)},function(c,p){function h(){this.constructor=c}i(c,p),c.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(2),f=n(71),s=n(12),l=function(c){function p(h,g){var y=c.call(this,g)||this;return y._target=h,y}return u(p,c),Object.defineProperty(p.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),p._create=function(h,g,y){var m=new p(g,y);return m._nodeDocument=h,m},p}(f.CharacterDataImpl);r.ProcessingInstructionImpl=l,s.idl_defineConst(l.prototype,"_nodeType",o.NodeType.ProcessingInstruction)},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(7),u=n(0),o=n(3),f=n(1),s=function(){function l(c,p){return this._live=!0,this._root=c,this._filter=p,new Proxy(this,this)}return Object.defineProperty(l.prototype,"length",{get:function(){for(var c=this,p=0,h=u.tree_getFirstDescendantNode(this._root,!1,!1,function(g){return o.Guard.isElementNode(g)&&c._filter(g)});h!==null;)p++,h=u.tree_getNextDescendantNode(this._root,h,!1,!1,function(g){return o.Guard.isElementNode(g)&&c._filter(g)});return p},enumerable:!0,configurable:!0}),l.prototype.item=function(c){for(var p=this,h=0,g=u.tree_getFirstDescendantNode(this._root,!1,!1,function(y){return o.Guard.isElementNode(y)&&p._filter(y)});g!==null;){if(h===c)return g;h++,g=u.tree_getNextDescendantNode(this._root,g,!1,!1,function(y){return o.Guard.isElementNode(y)&&p._filter(y)})}return null},l.prototype.namedItem=function(c){var p=this;if(c==="")return null;for(var h=u.tree_getFirstDescendantNode(this._root,!1,!1,function(m){return o.Guard.isElementNode(m)&&p._filter(m)});h!=null;){if(h._uniqueIdentifier===c)return h;if(h._namespace===i.namespace.HTML)for(var g=0;g<h._attributeList.length;g++){var y=h._attributeList[g];if(y._localName==="name"&&y._namespace===null&&y._namespacePrefix===null&&y._value===c)return h}h=u.tree_getNextDescendantNode(this._root,h,!1,!1,function(m){return o.Guard.isElementNode(m)&&p._filter(m)})}return null},l.prototype[Symbol.iterator]=function(){var c=this._root,p=this._filter,h=u.tree_getFirstDescendantNode(c,!1,!1,function(g){return o.Guard.isElementNode(g)&&p(g)});return{next:function(){if(h===null)return{done:!0,value:null};var g={done:!1,value:h};return h=u.tree_getNextDescendantNode(c,h,!1,!1,function(y){return o.Guard.isElementNode(y)&&p(y)}),g}}},l.prototype.get=function(c,p,h){if(!f.isString(p)||l.reservedNames.indexOf(p)!==-1)return Reflect.get(c,p,h);var g=Number(p);return isNaN(g)?c.namedItem(p)||void 0:c.item(g)||void 0},l.prototype.set=function(c,p,h,g){if(!f.isString(p)||l.reservedNames.indexOf(p)!==-1)return Reflect.set(c,p,h,g);var y=Number(p),m=isNaN(y)?c.namedItem(p)||void 0:c.item(y)||void 0;return!(!m||!m._parent)&&(u.mutation_replace(m,h,m._parent),!0)},l._create=function(c,p){return p===void 0&&(p=function(){return!0}),new l(c,p)},l.reservedNames=["_root","_live","_filter","length","item","namedItem","get","set"],l}();r.HTMLCollectionImpl=s},function(a,r,n){var i=this&&this.__values||function(l){var c=typeof Symbol=="function"&&Symbol.iterator,p=c&&l[c],h=0;if(p)return p.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&h>=l.length&&(l=void 0),{value:l&&l[h++],done:!l}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=n(6),o=n(1),f=n(0),s=function(){function l(c){return this._live=!0,this._filter=null,this._length=0,this._root=c,new Proxy(this,this)}return Object.defineProperty(l.prototype,"length",{get:function(){return this._root._children.size},enumerable:!0,configurable:!0}),l.prototype.item=function(c){if(c<0||c>this.length-1)return null;if(c<this.length/2){for(var p=0,h=this._root._firstChild;h!==null&&p!==c;)h=h._nextSibling,p++;return h}for(p=this.length-1,h=this._root._lastChild;h!==null&&p!==c;)h=h._previousSibling,p--;return h},l.prototype.keys=function(){var c;return(c={})[Symbol.iterator]=function(){var p=0;return{next:function(){return p===this.length?{done:!0,value:null}:{done:!1,value:p++}}.bind(this)}}.bind(this),c},l.prototype.values=function(){var c;return(c={})[Symbol.iterator]=function(){var p=this[Symbol.iterator]();return{next:function(){return p.next()}}}.bind(this),c},l.prototype.entries=function(){var c;return(c={})[Symbol.iterator]=function(){var p=this[Symbol.iterator](),h=0;return{next:function(){var g=p.next();return g.done?{done:!0,value:null}:{done:!1,value:[h++,g.value]}}}}.bind(this),c},l.prototype[Symbol.iterator]=function(){return this._root._children[Symbol.iterator]()},l.prototype.forEach=function(c,p){var h,g;p===void 0&&(p=u.dom.window);var y=0;try{for(var m=i(this._root._children),x=m.next();!x.done;x=m.next()){var v=x.value;c.call(p,v,y++,this)}}catch(d){h={error:d}}finally{try{x&&!x.done&&(g=m.return)&&g.call(m)}finally{if(h)throw h.error}}},l.prototype.get=function(c,p,h){if(!o.isString(p))return Reflect.get(c,p,h);var g=Number(p);return isNaN(g)?Reflect.get(c,p,h):c.item(g)||void 0},l.prototype.set=function(c,p,h,g){if(!o.isString(p))return Reflect.set(c,p,h,g);var y=Number(p);if(isNaN(y))return Reflect.set(c,p,h,g);var m=c.item(y)||void 0;return!!m&&!!m._parent&&(f.mutation_replace(m,h,m._parent),!0)},l._create=function(c){return new l(c)},l}();r.NodeListImpl=s},function(a,r,n){var i=this&&this.__values||function(s){var l=typeof Symbol=="function"&&Symbol.iterator,c=l&&s[l],p=0;if(c)return c.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&p>=s.length&&(s=void 0),{value:s&&s[p++],done:!s}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=n(6),o=n(1),f=function(){function s(l){return this._live=!1,this._items=[],this._length=0,this._root=l,this._items=[],this._filter=function(c){return!0},new Proxy(this,this)}return Object.defineProperty(s.prototype,"length",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),s.prototype.item=function(l){return l<0||l>this.length-1?null:this._items[l]},s.prototype.keys=function(){var l;return(l={})[Symbol.iterator]=function(){var c=0;return{next:function(){return c===this.length?{done:!0,value:null}:{done:!1,value:c++}}.bind(this)}}.bind(this),l},s.prototype.values=function(){var l;return(l={})[Symbol.iterator]=function(){var c=this[Symbol.iterator]();return{next:function(){return c.next()}}}.bind(this),l},s.prototype.entries=function(){var l;return(l={})[Symbol.iterator]=function(){var c=this[Symbol.iterator](),p=0;return{next:function(){var h=c.next();return h.done?{done:!0,value:null}:{done:!1,value:[p++,h.value]}}}}.bind(this),l},s.prototype[Symbol.iterator]=function(){var l=this._items[Symbol.iterator]();return{next:function(){return l.next()}}},s.prototype.forEach=function(l,c){var p,h;c===void 0&&(c=u.dom.window);var g=0;try{for(var y=i(this._items),m=y.next();!m.done;m=y.next()){var x=m.value;l.call(c,x,g++,this)}}catch(v){p={error:v}}finally{try{m&&!m.done&&(h=y.return)&&h.call(y)}finally{if(p)throw p.error}}},s.prototype.get=function(l,c,p){if(!o.isString(c))return Reflect.get(l,c,p);var h=Number(c);return isNaN(h)?Reflect.get(l,c,p):l._items[h]||void 0},s.prototype.set=function(l,c,p,h){if(!o.isString(c))return Reflect.set(l,c,p,h);var g=Number(c);return isNaN(g)?Reflect.set(l,c,p,h):g>=0&&g<l._items.length&&(l._items[g]=p,!0)},s._create=function(l,c){var p=new s(l);return p._items=c,p},s}();r.NodeListStaticImpl=f},function(a,r,n){var i,u=this&&this.__extends||(i=function(l,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var g in h)h.hasOwnProperty(g)&&(p[g]=h[g])})(l,c)},function(l,c){function p(){this.constructor=l}i(l,c),l.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(9),f=n(0),s=function(l){function c(p){var h=l.call(this)||this;return h._element=p,Object.setPrototypeOf(h,c.prototype),h}return u(c,l),c.prototype._asArray=function(){return this},c.prototype.item=function(p){return this[p]||null},c.prototype.getNamedItem=function(p){return f.element_getAnAttributeByName(p,this._element)},c.prototype.getNamedItemNS=function(p,h){return f.element_getAnAttributeByNamespaceAndLocalName(p||"",h,this._element)},c.prototype.setNamedItem=function(p){return f.element_setAnAttribute(p,this._element)},c.prototype.setNamedItemNS=function(p){return f.element_setAnAttribute(p,this._element)},c.prototype.removeNamedItem=function(p){var h=f.element_removeAnAttributeByName(p,this._element);if(h===null)throw new o.NotFoundError;return h},c.prototype.removeNamedItemNS=function(p,h){var g=f.element_removeAnAttributeByNamespaceAndLocalName(p||"",h,this._element);if(g===null)throw new o.NotFoundError;return g},c._create=function(p){return new c(p)},c}(Array);r.NamedNodeMapImpl=s},function(a,r,n){var i,u=this&&this.__extends||(i=function(m,x){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,d){v.__proto__=d}||function(v,d){for(var w in d)d.hasOwnProperty(w)&&(v[w]=d[w])})(m,x)},function(m,x){function v(){this.constructor=m}i(m,x),m.prototype=x===null?Object.create(x):(v.prototype=x.prototype,new v)}),o=this&&this.__values||function(m){var x=typeof Symbol=="function"&&Symbol.iterator,v=x&&m[x],d=0;if(v)return v.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&d>=m.length&&(m=void 0),{value:m&&m[d++],done:!m}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var f=n(6),s=n(2),l=n(102),c=n(9),p=n(0),h=n(12),g=n(3),y=function(m){function x(){var v=m.call(this)||this,d=f.dom.window._associatedDocument;return v._start=[d,0],v._end=[d,0],f.dom.rangeList.add(v),v}return u(x,m),Object.defineProperty(x.prototype,"commonAncestorContainer",{get:function(){for(var v=this._start[0];!p.tree_isAncestorOf(this._end[0],v,!0);){if(v._parent===null)throw new Error("Parent node  is null.");v=v._parent}return v},enumerable:!0,configurable:!0}),x.prototype.setStart=function(v,d){p.range_setTheStart(this,v,d)},x.prototype.setEnd=function(v,d){p.range_setTheEnd(this,v,d)},x.prototype.setStartBefore=function(v){var d=v._parent;if(d===null)throw new c.InvalidNodeTypeError;p.range_setTheStart(this,d,p.tree_index(v))},x.prototype.setStartAfter=function(v){var d=v._parent;if(d===null)throw new c.InvalidNodeTypeError;p.range_setTheStart(this,d,p.tree_index(v)+1)},x.prototype.setEndBefore=function(v){var d=v._parent;if(d===null)throw new c.InvalidNodeTypeError;p.range_setTheEnd(this,d,p.tree_index(v))},x.prototype.setEndAfter=function(v){var d=v._parent;if(d===null)throw new c.InvalidNodeTypeError;p.range_setTheEnd(this,d,p.tree_index(v)+1)},x.prototype.collapse=function(v){v?this._end=this._start:this._start=this._end},x.prototype.selectNode=function(v){p.range_select(v,this)},x.prototype.selectNodeContents=function(v){if(g.Guard.isDocumentTypeNode(v))throw new c.InvalidNodeTypeError;var d=p.tree_nodeLength(v);this._start=[v,0],this._end=[v,d]},x.prototype.compareBoundaryPoints=function(v,d){if(v!==s.HowToCompare.StartToStart&&v!==s.HowToCompare.StartToEnd&&v!==s.HowToCompare.EndToEnd&&v!==s.HowToCompare.EndToStart)throw new c.NotSupportedError;if(p.range_root(this)!==p.range_root(d))throw new c.WrongDocumentError;var w,C;switch(v){case s.HowToCompare.StartToStart:w=this._start,C=d._start;break;case s.HowToCompare.StartToEnd:w=this._end,C=d._start;break;case s.HowToCompare.EndToEnd:w=this._end,C=d._end;break;case s.HowToCompare.EndToStart:w=this._start,C=d._end;break;default:throw new c.NotSupportedError}var S=p.boundaryPoint_position(w,C);return S===s.BoundaryPosition.Before?-1:S===s.BoundaryPosition.After?1:0},x.prototype.deleteContents=function(){var v,d,w,C;if(!p.range_collapsed(this)){var S=this._startNode,T=this._startOffset,_=this._endNode,D=this._endOffset;if(S===_&&g.Guard.isCharacterDataNode(S))p.characterData_replaceData(S,T,D-T,"");else{var b,E,N=[];try{for(var R=o(p.range_getContainedNodes(this)),M=R.next();!M.done;M=R.next()){var G=(L=M.value)._parent;G!==null&&p.range_isContained(G,this)||N.push(L)}}catch(B){v={error:B}}finally{try{M&&!M.done&&(d=R.return)&&d.call(R)}finally{if(v)throw v.error}}if(p.tree_isAncestorOf(_,S,!0))b=S,E=T;else{for(var j=S;j._parent!==null&&!p.tree_isAncestorOf(_,j._parent,!0);)j=j._parent;if(j._parent===null)throw new Error("Parent node is null.");b=j._parent,E=p.tree_index(j)+1}g.Guard.isCharacterDataNode(S)&&p.characterData_replaceData(S,T,p.tree_nodeLength(S)-T,"");try{for(var z=o(N),V=z.next();!V.done;V=z.next()){var L;(L=V.value)._parent&&p.mutation_remove(L,L._parent)}}catch(B){w={error:B}}finally{try{V&&!V.done&&(C=z.return)&&C.call(z)}finally{if(w)throw w.error}}g.Guard.isCharacterDataNode(_)&&p.characterData_replaceData(_,0,D,""),this._start=[b,E],this._end=[b,E]}}},x.prototype.extractContents=function(){return p.range_extract(this)},x.prototype.cloneContents=function(){return p.range_cloneTheContents(this)},x.prototype.insertNode=function(v){return p.range_insert(v,this)},x.prototype.surroundContents=function(v){var d,w;try{for(var C=o(p.range_getPartiallyContainedNodes(this)),S=C.next();!S.done;S=C.next()){var T=S.value;if(!g.Guard.isTextNode(T))throw new c.InvalidStateError}}catch(D){d={error:D}}finally{try{S&&!S.done&&(w=C.return)&&w.call(C)}finally{if(d)throw d.error}}if(g.Guard.isDocumentNode(v)||g.Guard.isDocumentTypeNode(v)||g.Guard.isDocumentFragmentNode(v))throw new c.InvalidNodeTypeError;var _=p.range_extract(this);v._children.size!==0&&p.mutation_replaceAll(null,v),p.range_insert(v,this),p.mutation_append(_,v),p.range_select(v,this)},x.prototype.cloneRange=function(){return p.create_range(this._start,this._end)},x.prototype.detach=function(){f.dom.rangeList.delete(this)},x.prototype.isPointInRange=function(v,d){if(p.tree_rootNode(v)!==p.range_root(this))return!1;if(g.Guard.isDocumentTypeNode(v))throw new c.InvalidNodeTypeError;if(d>p.tree_nodeLength(v))throw new c.IndexSizeError;var w=[v,d];return p.boundaryPoint_position(w,this._start)!==s.BoundaryPosition.Before&&p.boundaryPoint_position(w,this._end)!==s.BoundaryPosition.After},x.prototype.comparePoint=function(v,d){if(p.tree_rootNode(v)!==p.range_root(this))throw new c.WrongDocumentError;if(g.Guard.isDocumentTypeNode(v))throw new c.InvalidNodeTypeError;if(d>p.tree_nodeLength(v))throw new c.IndexSizeError;var w=[v,d];return p.boundaryPoint_position(w,this._start)===s.BoundaryPosition.Before?-1:p.boundaryPoint_position(w,this._end)===s.BoundaryPosition.After?1:0},x.prototype.intersectsNode=function(v){if(p.tree_rootNode(v)!==p.range_root(this))return!1;var d=v._parent;if(d===null)return!0;var w=p.tree_index(v);return p.boundaryPoint_position([d,w],this._end)===s.BoundaryPosition.Before&&p.boundaryPoint_position([d,w+1],this._start)===s.BoundaryPosition.After},x.prototype.toString=function(){var v,d,w="";if(this._startNode===this._endNode&&g.Guard.isTextNode(this._startNode))return this._startNode._data.substring(this._startOffset,this._endOffset);g.Guard.isTextNode(this._startNode)&&(w+=this._startNode._data.substring(this._startOffset));try{for(var C=o(p.range_getContainedNodes(this)),S=C.next();!S.done;S=C.next()){var T=S.value;g.Guard.isTextNode(T)&&(w+=T._data)}}catch(_){v={error:_}}finally{try{S&&!S.done&&(d=C.return)&&d.call(C)}finally{if(v)throw v.error}}return g.Guard.isTextNode(this._endNode)&&(w+=this._endNode._data.substring(0,this._endOffset)),w},x._create=function(v,d){var w=new x;return v&&(w._start=v),d&&(w._end=d),w},x.START_TO_START=0,x.START_TO_END=1,x.END_TO_END=2,x.END_TO_START=3,x}(l.AbstractRangeImpl);r.RangeImpl=y,h.idl_defineConst(y.prototype,"START_TO_START",0),h.idl_defineConst(y.prototype,"START_TO_END",1),h.idl_defineConst(y.prototype,"END_TO_END",2),h.idl_defineConst(y.prototype,"END_TO_START",3)},function(a,r,n){var i,u=this&&this.__extends||(i=function(l,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var g in h)h.hasOwnProperty(g)&&(p[g]=h[g])})(l,c)},function(l,c){function p(){this.constructor=l}i(l,c),l.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(103),f=n(0),s=function(l){function c(p,h,g){var y=l.call(this,p)||this;return y._iteratorCollection=void 0,y._reference=h,y._pointerBeforeReference=g,f.nodeIterator_iteratorList().add(y),y}return u(c,l),Object.defineProperty(c.prototype,"referenceNode",{get:function(){return this._reference},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"pointerBeforeReferenceNode",{get:function(){return this._pointerBeforeReference},enumerable:!0,configurable:!0}),c.prototype.nextNode=function(){return f.nodeIterator_traverse(this,!0)},c.prototype.previousNode=function(){return f.nodeIterator_traverse(this,!1)},c.prototype.detach=function(){f.nodeIterator_iteratorList().delete(this)},c._create=function(p,h,g){return new c(p,h,g)},c}(o.TraverserImpl);r.NodeIteratorImpl=s},function(a,r,n){var i,u=this&&this.__extends||(i=function(c,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var y in g)g.hasOwnProperty(y)&&(h[y]=g[y])})(c,p)},function(c,p){function h(){this.constructor=c}i(c,p),c.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(2),f=n(103),s=n(0),l=function(c){function p(h,g){var y=c.call(this,h)||this;return y._current=g,y}return u(p,c),Object.defineProperty(p.prototype,"currentNode",{get:function(){return this._current},set:function(h){this._current=h},enumerable:!0,configurable:!0}),p.prototype.parentNode=function(){for(var h=this._current;h!==null&&h!==this._root;)if((h=h._parent)!==null&&s.traversal_filter(this,h)===o.FilterResult.Accept)return this._current=h,h;return null},p.prototype.firstChild=function(){return s.treeWalker_traverseChildren(this,!0)},p.prototype.lastChild=function(){return s.treeWalker_traverseChildren(this,!1)},p.prototype.nextSibling=function(){return s.treeWalker_traverseSiblings(this,!0)},p.prototype.previousNode=function(){for(var h=this._current;h!==this._root;){for(var g=h._previousSibling;g;){h=g;for(var y=s.traversal_filter(this,h);y!==o.FilterResult.Reject&&h._lastChild;)h=h._lastChild,y=s.traversal_filter(this,h);if(y===o.FilterResult.Accept)return this._current=h,h;g=h._previousSibling}if(h===this._root||h._parent===null)return null;if(h=h._parent,s.traversal_filter(this,h)===o.FilterResult.Accept)return this._current=h,h}return null},p.prototype.previousSibling=function(){return s.treeWalker_traverseSiblings(this,!1)},p.prototype.nextNode=function(){for(var h=this._current,g=o.FilterResult.Accept;;){for(;g!==o.FilterResult.Reject&&h._firstChild;)if(h=h._firstChild,(g=s.traversal_filter(this,h))===o.FilterResult.Accept)return this._current=h,h;for(var y=null,m=h;m!==null;){if(m===this._root)return null;if((y=m._nextSibling)!==null){h=y;break}m=m._parent}if((g=s.traversal_filter(this,h))===o.FilterResult.Accept)return this._current=h,h}},p._create=function(h,g){return new p(h,g)},p}(f.TraverserImpl);r.TreeWalkerImpl=l},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(2),u=n(12),o=function(){function f(){}return f.prototype.acceptNode=function(s){return i.FilterResult.Accept},f._create=function(){return new f},f.FILTER_ACCEPT=1,f.FILTER_REJECT=2,f.FILTER_SKIP=3,f.SHOW_ALL=4294967295,f.SHOW_ELEMENT=1,f.SHOW_ATTRIBUTE=2,f.SHOW_TEXT=4,f.SHOW_CDATA_SECTION=8,f.SHOW_ENTITY_REFERENCE=16,f.SHOW_ENTITY=32,f.SHOW_PROCESSING_INSTRUCTION=64,f.SHOW_COMMENT=128,f.SHOW_DOCUMENT=256,f.SHOW_DOCUMENT_TYPE=512,f.SHOW_DOCUMENT_FRAGMENT=1024,f.SHOW_NOTATION=2048,f}();r.NodeFilterImpl=o,u.idl_defineConst(o.prototype,"FILTER_ACCEPT",1),u.idl_defineConst(o.prototype,"FILTER_REJECT",2),u.idl_defineConst(o.prototype,"FILTER_SKIP",3),u.idl_defineConst(o.prototype,"SHOW_ALL",4294967295),u.idl_defineConst(o.prototype,"SHOW_ELEMENT",1),u.idl_defineConst(o.prototype,"SHOW_ATTRIBUTE",2),u.idl_defineConst(o.prototype,"SHOW_TEXT",4),u.idl_defineConst(o.prototype,"SHOW_CDATA_SECTION",8),u.idl_defineConst(o.prototype,"SHOW_ENTITY_REFERENCE",16),u.idl_defineConst(o.prototype,"SHOW_ENTITY",32),u.idl_defineConst(o.prototype,"SHOW_PROCESSING_INSTRUCTION",64),u.idl_defineConst(o.prototype,"SHOW_COMMENT",128),u.idl_defineConst(o.prototype,"SHOW_DOCUMENT",256),u.idl_defineConst(o.prototype,"SHOW_DOCUMENT_TYPE",512),u.idl_defineConst(o.prototype,"SHOW_DOCUMENT_FRAGMENT",1024),u.idl_defineConst(o.prototype,"SHOW_NOTATION",2048)},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function u(o,f,s,l,c,p,h,g,y){this._type=o,this._target=f,this._addedNodes=s,this._removedNodes=l,this._previousSibling=c,this._nextSibling=p,this._attributeName=h,this._attributeNamespace=g,this._oldValue=y}return Object.defineProperty(u.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"addedNodes",{get:function(){return this._addedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"removedNodes",{get:function(){return this._removedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"attributeName",{get:function(){return this._attributeName},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"attributeNamespace",{get:function(){return this._attributeNamespace},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"oldValue",{get:function(){return this._oldValue},enumerable:!0,configurable:!0}),u._create=function(o,f,s,l,c,p,h,g,y){return new u(o,f,s,l,c,p,h,g,y)},u}();r.MutationRecordImpl=i},function(a,r,n){var i=this&&this.__values||function(c){var p=typeof Symbol=="function"&&Symbol.iterator,h=p&&c[p],g=0;if(h)return h.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&g>=c.length&&(c=void 0),{value:c&&c[g++],done:!c}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=n(6),o=n(9),f=n(7),s=n(0),l=function(){function c(p,h){this._element=p,this._attribute=h,this._tokenSet=new Set;var g=h._localName,y=s.element_getAnAttributeValue(p,g),m=this;this._element._attributeChangeSteps.push(function(x,v,d,w,C){v===m._attribute._localName&&C===null&&(w?m._tokenSet=s.orderedSet_parse(w):m._tokenSet.clear())}),u.dom.features.steps&&s.dom_runAttributeChangeSteps(p,g,y,y,null)}return Object.defineProperty(c.prototype,"length",{get:function(){return this._tokenSet.size},enumerable:!0,configurable:!0}),c.prototype.item=function(p){var h,g,y=0;try{for(var m=i(this._tokenSet),x=m.next();!x.done;x=m.next()){var v=x.value;if(y===p)return v;y++}}catch(d){h={error:d}}finally{try{x&&!x.done&&(g=m.return)&&g.call(m)}finally{if(h)throw h.error}}return null},c.prototype.contains=function(p){return this._tokenSet.has(p)},c.prototype.add=function(){for(var p,h,g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];try{for(var m=i(g),x=m.next();!x.done;x=m.next()){var v=x.value;if(v==="")throw new o.SyntaxError("Cannot add an empty token.");if(f.codePoint.ASCIIWhiteSpace.test(v))throw new o.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.add(v)}}catch(d){p={error:d}}finally{try{x&&!x.done&&(h=m.return)&&h.call(m)}finally{if(p)throw p.error}}s.tokenList_updateSteps(this)},c.prototype.remove=function(){for(var p,h,g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];try{for(var m=i(g),x=m.next();!x.done;x=m.next()){var v=x.value;if(v==="")throw new o.SyntaxError("Cannot remove an empty token.");if(f.codePoint.ASCIIWhiteSpace.test(v))throw new o.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.delete(v)}}catch(d){p={error:d}}finally{try{x&&!x.done&&(h=m.return)&&h.call(m)}finally{if(p)throw p.error}}s.tokenList_updateSteps(this)},c.prototype.toggle=function(p,h){if(h===void 0&&(h=void 0),p==="")throw new o.SyntaxError("Cannot toggle an empty token.");if(f.codePoint.ASCIIWhiteSpace.test(p))throw new o.InvalidCharacterError("Token cannot contain whitespace.");return this._tokenSet.has(p)?h!==void 0&&h!==!1||(this._tokenSet.delete(p),s.tokenList_updateSteps(this),!1):(h===void 0||h===!0)&&(this._tokenSet.add(p),s.tokenList_updateSteps(this),!0)},c.prototype.replace=function(p,h){if(p===""||h==="")throw new o.SyntaxError("Cannot replace an empty token.");if(f.codePoint.ASCIIWhiteSpace.test(p)||f.codePoint.ASCIIWhiteSpace.test(h))throw new o.InvalidCharacterError("Token cannot contain whitespace.");return!!this._tokenSet.has(p)&&(f.set.replace(this._tokenSet,p,h),s.tokenList_updateSteps(this),!0)},c.prototype.supports=function(p){return s.tokenList_validationSteps(this,p)},Object.defineProperty(c.prototype,"value",{get:function(){return s.tokenList_serializeSteps(this)},set:function(p){s.element_setAnAttributeValue(this._element,this._attribute._localName,p)},enumerable:!0,configurable:!0}),c.prototype[Symbol.iterator]=function(){var p=this._tokenSet[Symbol.iterator]();return{next:function(){return p.next()}}},c._create=function(p,h){return new c(p,h)},c}();r.DOMTokenListImpl=l},function(a,r,n){var i,u=this&&this.__extends||(i=function(l,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var g in h)h.hasOwnProperty(g)&&(p[g]=h[g])})(l,c)},function(l,c){function p(){this.constructor=l}i(l,c),l.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(104),f=n(0),s=function(l){function c(p,h){var g=l.call(this,p,h)||this;return g._detail=null,g._detail=h&&h.detail||null,g}return u(c,l),Object.defineProperty(c.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0}),c.prototype.initCustomEvent=function(p,h,g,y){h===void 0&&(h=!1),g===void 0&&(g=!1),y===void 0&&(y=null),this._dispatchFlag||(f.event_initialize(this,p,h,g),this._detail=y)},c}(o.EventImpl);r.CustomEventImpl=s},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(6),u=n(2),o=n(105),f=n(17);r.nodeIterator_traverse=function(s,l){for(var c=s._reference,p=s._pointerBeforeReference;;){if(l)if(p)p=!1;else{var h=f.tree_getFollowingNode(s._root,c);if(!h)return null;c=h}else if(p){var g=f.tree_getPrecedingNode(s.root,c);if(!g)return null;c=g}else p=!0;if(o.traversal_filter(s,c)===u.FilterResult.Accept)break}return s._reference=c,s._pointerBeforeReference=p,c},r.nodeIterator_iteratorList=function(){return i.dom.window._iteratorList}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(9),u=n(7),o=n(174);function f(s){if(!o.xml_isName(s))throw new i.InvalidCharacterError("Invalid XML name: "+s);if(!o.xml_isQName(s))throw new i.InvalidCharacterError("Invalid XML qualified name: "+s+".")}r.namespace_validate=f,r.namespace_validateAndExtract=function(s,l){s||(s=null),f(l);var c=l.split(":"),p=c.length===2?c[0]:null,h=c.length===2?c[1]:l;if(p&&s===null)throw new i.NamespaceError("Qualified name includes a prefix but the namespace is null.");if(p==="xml"&&s!==u.namespace.XML)throw new i.NamespaceError('Qualified name includes the "xml" prefix but the namespace is not the XML namespace.');if(s!==u.namespace.XMLNS&&(p==="xmlns"||l==="xmlns"))throw new i.NamespaceError('Qualified name includes the "xmlns" prefix but the namespace is not the XMLNS namespace.');if(s===u.namespace.XMLNS&&p!=="xmlns"&&l!=="xmlns")throw new i.NamespaceError('Qualified name does not include the "xmlns" prefix but the namespace is the XMLNS namespace.');return[s,p,h]},r.namespace_extractQName=function(s){f(s);var l=s.split(":");return[l.length===2?l[0]:null,l.length===2?l[1]:s]}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.xml_isName=function(i){for(var u=0;u<i.length;u++){var o=i.charCodeAt(u);if(!(o>=97&&o<=122||o>=65&&o<=90||o===58||o===95||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533)&&(u===0||!(o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256))){if(o>=55296&&o<=56319&&u<i.length-1){var f=i.charCodeAt(u+1);if(f>=56320&&f<=57343&&(u++,(o=1024*(o-55296)+f-56320+65536)>=65536&&o<=983039))continue}return!1}}return!0},r.xml_isQName=function(i){for(var u=!1,o=0;o<i.length;o++){var f=i.charCodeAt(o);if(!(f>=97&&f<=122||f>=65&&f<=90||f===95||f>=192&&f<=214||f>=216&&f<=246||f>=248&&f<=767||f>=880&&f<=893||f>=895&&f<=8191||f>=8204&&f<=8205||f>=8304&&f<=8591||f>=11264&&f<=12271||f>=12289&&f<=55295||f>=63744&&f<=64975||f>=65008&&f<=65533)&&(o===0||!(f===45||f===46||f>=48&&f<=57||f===183||f>=768&&f<=879||f>=8255&&f<=8256))){if(o===0||f!==58){if(f>=55296&&f<=56319&&o<i.length-1){var s=i.charCodeAt(o+1);if(s>=56320&&s<=57343&&(o++,(f=1024*(f-55296)+s-56320+65536)>=65536&&f<=983039))continue}return!1}if(u||o===i.length-1)return!1;u=!0}}return!0},r.xml_isLegalChar=function(i){for(var u=0;u<i.length;u++){var o=i.charCodeAt(u);if(!(o===9||o===10||o===13||o>=32&&o<=55295||o>=57344&&o<=65533)){if(o>=55296&&o<=56319&&u<i.length-1){var f=i.charCodeAt(u+1);if(f>=56320&&f<=57343&&(u++,(o=1024*(o-55296)+f-56320+65536)>=65536&&o<=1114111))continue}return!1}}return!0},r.xml_isPubidChar=function(i){for(var u=0;u<i.length;u++){var o=i.charCodeAt(u);if(!(o>=97&&o<=122||o>=65&&o<=90||o>=39&&o<=59||o===32||o===13||o===10||o>=35&&o<=37||o===33||o===61||o===63||o===64||o===95))return!1}return!0}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(2),u=n(17);r.boundaryPoint_position=function o(f,s){var l=f[0],c=f[1],p=s[0],h=s[1];if(console.assert(u.tree_rootNode(l)===u.tree_rootNode(p),"Boundary points must share the same root node."),l===p)return c===h?i.BoundaryPosition.Equal:c<h?i.BoundaryPosition.Before:i.BoundaryPosition.After;if(u.tree_isFollowing(p,l)){var g=o([p,h],[l,c]);if(g===i.BoundaryPosition.Before)return i.BoundaryPosition.After;if(g===i.BoundaryPosition.After)return i.BoundaryPosition.Before}if(u.tree_isAncestorOf(p,l)){for(var y=p;!u.tree_isChildOf(l,y);)y._parent!==null&&(y=y._parent);if(u.tree_index(y)<c)return i.BoundaryPosition.After}return i.BoundaryPosition.Before}},function(a,r,n){var i=this&&this.__values||function(g){var y=typeof Symbol=="function"&&Symbol.iterator,m=y&&g[y],x=0;if(m)return m.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&x>=g.length&&(g=void 0),{value:g&&g[x++],done:!g}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=n(6),o=n(3),f=n(7),s=n(29),l=n(108),c=n(30),p=n(37),h=n(52);r.node_stringReplaceAll=function(g,y){var m=null;g!==""&&(m=s.create_text(y._nodeDocument,g)),p.mutation_replaceAll(m,y)},r.node_clone=function g(y,m,x){var v,d,w,C,S;if(m===void 0&&(m=null),x===void 0&&(x=!1),m===null&&(m=y._nodeDocument),o.Guard.isElementNode(y)){S=h.element_createAnElement(m,y._localName,y._namespace,y._namespacePrefix,y._is,!1);try{for(var T=i(y._attributeList),_=T.next();!_.done;_=T.next()){var D=g(_.value,m);h.element_append(D,S)}}catch(G){v={error:G}}finally{try{_&&!_.done&&(d=T.return)&&d.call(T)}finally{if(v)throw v.error}}}else if(o.Guard.isDocumentNode(y)){var b=s.create_document();b._encoding=y._encoding,b._contentType=y._contentType,b._URL=y._URL,b._origin=y._origin,b._type=y._type,b._mode=y._mode,S=b}else if(o.Guard.isDocumentTypeNode(y))S=s.create_documentType(m,y._name,y._publicId,y._systemId);else if(o.Guard.isAttrNode(y)){var E=s.create_attr(m,y.localName);E._namespace=y._namespace,E._namespacePrefix=y._namespacePrefix,E._value=y._value,S=E}else S=o.Guard.isExclusiveTextNode(y)?s.create_text(m,y._data):o.Guard.isCDATASectionNode(y)?s.create_cdataSection(m,y._data):o.Guard.isCommentNode(y)?s.create_comment(m,y._data):o.Guard.isProcessingInstructionNode(y)?s.create_processingInstruction(m,y._target,y._data):o.Guard.isDocumentFragmentNode(y)?s.create_documentFragment(m):Object.create(y);if(o.Guard.isDocumentNode(S)?(S._nodeDocument=S,m=S):S._nodeDocument=m,u.dom.features.steps&&c.dom_runCloningSteps(S,y,m,x),x)try{for(var N=i(y._children),R=N.next();!R.done;R=N.next()){var M=g(R.value,m,!0);p.mutation_append(M,S)}}catch(G){w={error:G}}finally{try{R&&!R.done&&(C=N.return)&&C.call(N)}finally{if(w)throw w.error}}return S},r.node_equals=function g(y,m){var x,v,d,w;if(y._nodeType!==m._nodeType)return!1;if(o.Guard.isDocumentTypeNode(y)&&o.Guard.isDocumentTypeNode(m)){if(y._name!==m._name||y._publicId!==m._publicId||y._systemId!==m._systemId)return!1}else if(o.Guard.isElementNode(y)&&o.Guard.isElementNode(m)){if(y._namespace!==m._namespace||y._namespacePrefix!==m._namespacePrefix||y._localName!==m._localName||y._attributeList.length!==m._attributeList.length)return!1}else if(o.Guard.isAttrNode(y)&&o.Guard.isAttrNode(m)){if(y._namespace!==m._namespace||y._localName!==m._localName||y._value!==m._value)return!1}else if(o.Guard.isProcessingInstructionNode(y)&&o.Guard.isProcessingInstructionNode(m)){if(y._target!==m._target||y._data!==m._data)return!1}else if(o.Guard.isCharacterDataNode(y)&&o.Guard.isCharacterDataNode(m)&&y._data!==m._data)return!1;if(o.Guard.isElementNode(y)&&o.Guard.isElementNode(m)){var C={};try{for(var S=i(y._attributeList),T=S.next();!T.done;T=S.next())C[(b=T.value)._localName]=b}catch(j){x={error:j}}finally{try{T&&!T.done&&(v=S.return)&&v.call(S)}finally{if(x)throw x.error}}try{for(var _=i(m._attributeList),D=_.next();!D.done;D=_.next()){var b,E=D.value;if(!(b=C[E._localName])||!g(b,E))return!1}}catch(j){d={error:j}}finally{try{D&&!D.done&&(w=_.return)&&w.call(_)}finally{if(d)throw d.error}}}if(y._children.size!==m._children.size)return!1;for(var N=y._children[Symbol.iterator](),R=m._children[Symbol.iterator](),M=N.next(),G=R.next();!M.done&&!G.done;){if(!g(M.value,G.value))return!1;M=N.next(),G=R.next()}return!0},r.node_listOfElementsWithQualifiedName=function(g,y){return g==="*"?s.create_htmlCollection(y):y._nodeDocument._type==="html"?s.create_htmlCollection(y,function(m){return m._namespace===f.namespace.HTML&&m._qualifiedName===g.toLowerCase()||m._namespace!==f.namespace.HTML&&m._qualifiedName===g}):s.create_htmlCollection(y,function(m){return m._qualifiedName===g})},r.node_listOfElementsWithNamespace=function(g,y,m){return g===""&&(g=null),g==="*"&&y==="*"?s.create_htmlCollection(m):g==="*"?s.create_htmlCollection(m,function(x){return x._localName===y}):y==="*"?s.create_htmlCollection(m,function(x){return x._namespace===g}):s.create_htmlCollection(m,function(x){return x._localName===y&&x._namespace===g})},r.node_listOfElementsWithClassNames=function(g,y){var m=l.orderedSet_parse(g);if(m.size===0)return s.create_htmlCollection(y,function(){return!1});var x=y._nodeDocument._mode!=="quirks";return s.create_htmlCollection(y,function(v){var d=v.classList;return l.orderedSet_contains(d._tokenSet,m,x)})},r.node_locateANamespacePrefix=function g(y,m){if(y._namespace===m&&y._namespacePrefix!==null)return y._namespacePrefix;for(var x=0;x<y._attributeList.length;x++){var v=y._attributeList[x];if(v._namespacePrefix==="xmlns"&&v._value===m)return v._localName}return y._parent&&o.Guard.isElementNode(y._parent)?g(y._parent,m):null},r.node_locateANamespace=function g(y,m){if(o.Guard.isElementNode(y)){if(y._namespace!==null&&y._namespacePrefix===m)return y._namespace;for(var x=0;x<y._attributeList.length;x++){var v=y._attributeList[x];if(v._namespace===f.namespace.XMLNS&&v._namespacePrefix==="xmlns"&&v._localName===m||m===null&&v._namespace===f.namespace.XMLNS&&v._namespacePrefix===null&&v._localName==="xmlns")return v._value||null}return y.parentElement===null?null:g(y.parentElement,m)}return o.Guard.isDocumentNode(y)?y.documentElement===null?null:g(y.documentElement,m):o.Guard.isDocumentTypeNode(y)||o.Guard.isDocumentFragmentNode(y)?null:o.Guard.isAttrNode(y)?y._element===null?null:g(y._element,m):y._parent&&o.Guard.isElementNode(y._parent)?g(y._parent,m):null}},function(a,r,n){var i=this&&this.__values||function(h){var g=typeof Symbol=="function"&&Symbol.iterator,y=g&&h[g],m=0;if(y)return y.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&m>=h.length&&(h=void 0),{value:h&&h[m++],done:!h}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=n(6),o=n(3),f=n(9),s=n(29),l=n(17),c=n(107),p=n(37);r.text_contiguousTextNodes=function(h,g){var y;return g===void 0&&(g=!1),(y={})[Symbol.iterator]=function(){for(var m=h;m&&o.Guard.isTextNode(m._previousSibling);)m=m._previousSibling;return{next:function(){if(m&&!g&&m===h&&(m=o.Guard.isTextNode(m._nextSibling)?m._nextSibling:null),m===null)return{done:!0,value:null};var x={done:!1,value:m};return m=o.Guard.isTextNode(m._nextSibling)?m._nextSibling:null,x}}},y},r.text_contiguousExclusiveTextNodes=function(h,g){var y;return g===void 0&&(g=!1),(y={})[Symbol.iterator]=function(){for(var m=h;m&&o.Guard.isExclusiveTextNode(m._previousSibling);)m=m._previousSibling;return{next:function(){if(m&&!g&&m===h&&(m=o.Guard.isExclusiveTextNode(m._nextSibling)?m._nextSibling:null),m===null)return{done:!0,value:null};var x={done:!1,value:m};return m=o.Guard.isExclusiveTextNode(m._nextSibling)?m._nextSibling:null,x}}},y},r.text_descendantTextContent=function(h){for(var g="",y=l.tree_getFirstDescendantNode(h,!1,!1,function(m){return o.Guard.isTextNode(m)});y!==null;)g+=y._data,y=l.tree_getNextDescendantNode(h,y,!1,!1,function(m){return o.Guard.isTextNode(m)});return g},r.text_split=function(h,g){var y,m,x=h._data.length;if(g>x)throw new f.IndexSizeError;var v=x-g,d=c.characterData_substringData(h,g,v),w=s.create_text(h._nodeDocument,d),C=h._parent;if(C!==null){p.mutation_insert(w,C,h._nextSibling);try{for(var S=i(u.dom.rangeList),T=S.next();!T.done;T=S.next()){var _=T.value;_._start[0]===h&&_._start[1]>g&&(_._start[0]=w,_._start[1]-=g),_._end[0]===h&&_._end[1]>g&&(_._end[0]=w,_._end[1]-=g);var D=l.tree_index(h);_._start[0]===C&&_._start[1]===D+1&&_._start[1]++,_._end[0]===C&&_._end[1]===D+1&&_._end[1]++}}catch(b){y={error:b}}finally{try{T&&!T.done&&(m=S.return)&&m.call(S)}finally{if(y)throw y.error}}}return c.characterData_replaceData(h,g,v,""),w}},function(a,r,n){var i=n(4),u=n(41),o=n(24),f=n(48),s=[].join,l=u!=Object,c=f("join",",");i({target:"Array",proto:!0,forced:l||!c},{join:function(p){return s.call(o(this),p===void 0?",":p)}})},function(a,r,n){var i=n(4),u=n(83),o=String.fromCharCode,f=String.fromCodePoint;i({target:"String",stat:!0,forced:!!f&&f.length!=1},{fromCodePoint:function(s){for(var l,c=[],p=arguments.length,h=0;p>h;){if(l=+arguments[h++],u(l,1114111)!==l)throw RangeError(l+" is not a valid code point");c.push(l<65536?o(l):o(55296+((l-=65536)>>10),l%1024+56320))}return c.join("")}})},function(a,r,n){var i=this&&this.__read||function(f,s){var l=typeof Symbol=="function"&&f[Symbol.iterator];if(!l)return f;var c,p,h=l.call(f),g=[];try{for(;(s===void 0||s-- >0)&&!(c=h.next()).done;)g.push(c.value)}catch(y){p={error:y}}finally{try{c&&!c.done&&(l=h.return)&&l.call(h)}finally{if(p)throw p.error}}return g};Object.defineProperty(r,"__esModule",{value:!0});var u=n(111),o=function(){function f(s,l){this._options={skipWhitespaceOnlyText:!1},this.err={line:-1,col:-1,index:-1,str:""},this._str=s,this._index=0,this._length=s.length,l&&(this._options.skipWhitespaceOnlyText=l.skipWhitespaceOnlyText||!1)}return f.prototype.nextToken=function(){if(this.eof())return{type:u.TokenType.EOF};var s=this.skipIfStartsWith("<")?this.openBracket():this.text();return this._options.skipWhitespaceOnlyText&&s.type===u.TokenType.Text&&f.isWhiteSpaceToken(s)&&(s=this.nextToken()),s},f.prototype.openBracket=function(){return this.skipIfStartsWith("?")?this.skipIfStartsWith("xml")?f.isSpace(this._str[this._index])?this.declaration():(this.seek(-3),this.pi()):this.pi():this.skipIfStartsWith("!")?this.skipIfStartsWith("--")?this.comment():this.skipIfStartsWith("[CDATA[")?this.cdata():this.skipIfStartsWith("DOCTYPE")?this.doctype():void this.throwError("Invalid '!' in opening tag."):this.skipIfStartsWith("/")?this.closeTag():this.openTag()},f.prototype.declaration=function(){for(var s="",l="",c="";!this.eof();){if(this.skipSpace(),this.skipIfStartsWith("?>"))return{type:u.TokenType.Declaration,version:s,encoding:l,standalone:c};var p=i(this.attribute(),2),h=p[0],g=p[1];h==="version"?s=g:h==="encoding"?l=g:h==="standalone"?c=g:this.throwError("Invalid attribute name: "+h)}this.throwError("Missing declaration end symbol `?>`")},f.prototype.doctype=function(){var s="",l="";this.skipSpace();var c=this.takeUntil2("[",">",!0);return this.skipSpace(),this.skipIfStartsWith("PUBLIC")?(s=this.quotedString(),l=this.quotedString()):this.skipIfStartsWith("SYSTEM")&&(l=this.quotedString()),this.skipSpace(),this.skipIfStartsWith("[")&&(this.skipUntil("]"),this.skipIfStartsWith("]")||this.throwError("Missing end bracket of DTD internal subset")),this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing doctype end symbol `>`"),{type:u.TokenType.DocType,name:c,pubId:s,sysId:l}},f.prototype.pi=function(){var s=this.takeUntilStartsWith("?>",!0);if(this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.skipSpace(),this.skipIfStartsWith("?>"))return{type:u.TokenType.PI,target:s,data:""};var l=this.takeUntilStartsWith("?>");return this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.seek(2),{type:u.TokenType.PI,target:s,data:l}},f.prototype.text=function(){var s=this.takeUntil("<");return{type:u.TokenType.Text,data:s}},f.prototype.comment=function(){var s=this.takeUntilStartsWith("-->");return this.eof()&&this.throwError("Missing comment end symbol `-->`"),this.seek(3),{type:u.TokenType.Comment,data:s}},f.prototype.cdata=function(){var s=this.takeUntilStartsWith("]]>");return this.eof()&&this.throwError("Missing CDATA end symbol `]>`"),this.seek(3),{type:u.TokenType.CDATA,data:s}},f.prototype.openTag=function(){this.skipSpace();var s=this.takeUntil2(">","/",!0);if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:u.TokenType.Element,name:s,attributes:[],selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:u.TokenType.Element,name:s,attributes:[],selfClosing:!0};for(var l=[];!this.eof();){if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:u.TokenType.Element,name:s,attributes:l,selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:u.TokenType.Element,name:s,attributes:l,selfClosing:!0};var c=this.attribute();l.push(c)}this.throwError("Missing opening element tag end symbol `>`")},f.prototype.closeTag=function(){this.skipSpace();var s=this.takeUntil(">",!0);return this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing closing element tag end symbol `>`"),{type:u.TokenType.ClosingTag,name:s}},f.prototype.attribute=function(){this.skipSpace();var s=this.takeUntil("=",!0);return this.skipSpace(),this.skipIfStartsWith("=")||this.throwError("Missing equals sign before attribute value"),[s,this.quotedString()]},f.prototype.quotedString=function(){this.skipSpace();var s=this.take(1);f.isQuote(s)||this.throwError("Missing start quote character before quoted value");var l=this.takeUntil(s);return this.skipIfStartsWith(s)||this.throwError("Missing end quote character after quoted value"),l},f.prototype.eof=function(){return this._index>=this._length},f.prototype.skipIfStartsWith=function(s){var l=s.length;if(l===1)return this._str[this._index]===s&&(this._index++,!0);for(var c=0;c<l;c++)if(this._str[this._index+c]!==s[c])return!1;return this._index+=l,!0},f.prototype.seek=function(s){this._index+=s,this._index<0&&(this._index=0),this._index>this._length&&(this._index=this._length)},f.prototype.skipSpace=function(){for(;!this.eof()&&f.isSpace(this._str[this._index]);)this._index++},f.prototype.take=function(s){if(s===1)return this._str[this._index++];var l=this._index;return this.seek(s),this._str.slice(l,this._index)},f.prototype.takeUntil=function(s,l){l===void 0&&(l=!1);for(var c=this._index;this._index<this._length;){var p=this._str[this._index];if(p===s||l&&f.isSpace(p))break;this._index++}return this._str.slice(c,this._index)},f.prototype.takeUntil2=function(s,l,c){c===void 0&&(c=!1);for(var p=this._index;this._index<this._length;){var h=this._str[this._index];if(h===s||h===l||c&&f.isSpace(h))break;this._index++}return this._str.slice(p,this._index)},f.prototype.takeUntilStartsWith=function(s,l){l===void 0&&(l=!1);for(var c=this._index,p=s.length;this._index<this._length;){for(var h=!0,g=0;g<p;g++){var y=this._str[this._index+g],m=s[g];if(l&&f.isSpace(y))return this._str.slice(c,this._index);if(y!==m){this._index++,h=!1;break}}if(h)return this._str.slice(c,this._index)}return this._index=this._length,this._str.slice(c)},f.prototype.skipUntil=function(s){for(;this._index<this._length&&this._str[this._index]!==s;)this._index++},f.isWhiteSpaceToken=function(s){for(var l=s.data,c=0;c<l.length;c++){var p=l[c];if(p!==" "&&p!==`
`&&p!=="\r"&&p!=="	"&&p!=="\f")return!1}return!0},f.isSpace=function(s){return s===" "||s===`
`||s==="\r"||s==="	"},f.isQuote=function(s){return s==='"'||s==="'"},f.prototype.throwError=function(s){for(var l=/\r\n|\r|\n/g,c=null,p=0,h=0,g=this._str.length;(c=l.exec(this._str))!==null&&c!==null;)if(p++,c.index<this._index&&(h=l.lastIndex),c.index>this._index){g=c.index;break}throw this.err={line:p,col:this._index-h,index:this._index,str:this._str.substring(h,g)},new Error(s+`
Index: `+this.err.index+`
Ln: `+this.err.line+", Col: "+this.err.col+`
Input: `+this.err.str)},f.prototype[Symbol.iterator]=function(){return this._index=0,{next:function(){var s=this.nextToken();return s.type===u.TokenType.EOF?{done:!0,value:null}:{done:!1,value:s}}.bind(this)}},f}();r.XMLStringLexer=o},function(a,r,n){var i=n(39);a.exports=new i({include:[n(182)]})},function(a,r,n){var i=n(39);a.exports=new i({include:[n(113)],implicit:[n(289),n(290),n(291),n(292)]})},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(91),u=n(1),o=n(3),f=n(77),s=n(109);function l(g,y){var m=p(g===void 0||c(g)?g:i.DefaultBuilderOptions),x=c(g)?y:g,v=s.createDocument();h(v,m);var d=new f.XMLBuilderImpl(v);return x!==void 0&&d.ele(x),d}function c(g){if(!u.isPlainObject(g))return!1;for(var y in g)if(g.hasOwnProperty(y)&&!i.XMLBuilderOptionKeys.has(y))return!1;return!0}function p(g){g===void 0&&(g={});var y=u.applyDefaults(g,i.DefaultBuilderOptions);if(y.convert.att.length===0||y.convert.ins.length===0||y.convert.text.length===0||y.convert.cdata.length===0||y.convert.comment.length===0)throw new Error("JS object converter strings cannot be zero length.");return y}function h(g,y,m){var x=g;x._xmlBuilderOptions=y,x._isFragment=m}r.builder=function(g,y){var m=p(c(g)?g:i.DefaultBuilderOptions),x=o.Guard.isNode(g)||u.isArray(g)?g:y;if(x===void 0)throw new Error("Invalid arguments.");if(u.isArray(x)){for(var v=[],d=0;d<x.length;d++){var w=new f.XMLBuilderImpl(x[d]);w.set(m),v.push(w)}return v}var C=new f.XMLBuilderImpl(x);return C.set(m),C},r.create=l,r.fragment=function(g,y){var m=p(g===void 0||c(g)?g:i.DefaultBuilderOptions),x=c(g)?y:g,v=s.createDocument();h(v,m,!0);var d=new f.XMLBuilderImpl(v.createDocumentFragment());return x!==void 0&&d.ele(x),d},r.convert=function(g,y,m){var x,v,d;return c(g)&&y!==void 0?(x=g,v=y,d=m):(x=i.DefaultBuilderOptions,v=g,d=y||void 0),l(x,v).end(d)}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(77);r.builder=i.builder,r.create=i.create,r.fragment=i.fragment,r.convert=i.convert,r.createCB=i.createCB,r.fragmentCB=i.fragmentCB},function(a,r,n){n(31),n(32),n(33),n(191),n(192),n(194),n(64),n(19),n(198),n(199),n(89),n(201),n(65),n(20),n(66),n(22),n(23);var i=this&&this.__read||function(x,v){var d=typeof Symbol=="function"&&x[Symbol.iterator];if(!d)return x;var w,C,S=d.call(x),T=[];try{for(;(v===void 0||v-- >0)&&!(w=S.next()).done;)T.push(w.value)}catch(_){C={error:_}}finally{try{w&&!w.done&&(d=S.return)&&d.call(S)}finally{if(C)throw C.error}}return T},u=this&&this.__values||function(x){var v=typeof Symbol=="function"&&Symbol.iterator,d=v&&x[v],w=0;if(d)return d.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&w>=x.length&&(x=void 0),{value:x&&x[w++],done:!x}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=n(91),f=n(1),s=n(217),l=n(2),c=n(3),p=n(0),h=n(109),g=n(7),y=n(276),m=function(){function x(v){this._domNode=v}return Object.defineProperty(x.prototype,"node",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),x.prototype.set=function(v){return this._options=f.applyDefaults(f.applyDefaults(this._options,v,!0),o.DefaultBuilderOptions),this},x.prototype.ele=function(v,d,w){var C,S,T,_,D,b;if(f.isObject(v))return new y.ObjectReader(this._options).parse(this,v);if(v!==null&&/^\s*</.test(v))return new y.XMLReader(this._options).parse(this,v);if(v!==null&&/^\s*[\{\[]/.test(v))return new y.JSONReader(this._options).parse(this,v);if(v!==null&&/^(\s*|(#.*)|(%.*))*---/.test(v))return new y.YAMLReader(this._options).parse(this,v);if((v===null||f.isString(v))&&f.isString(d))_=(C=i([v,d,w],3))[0],D=C[1],b=C[2];else{if(v===null)throw new Error("Element name cannot be null. "+this._debugInfo());_=(S=i([void 0,v,f.isObject(d)?d:void 0],3))[0],D=S[1],b=S[2]}if(b&&(b=f.getValue(b)),_=(T=i(this._extractNamespace(h.sanitizeInput(_,this._options.invalidCharReplacement),h.sanitizeInput(D,this._options.invalidCharReplacement),!0),2))[0],D=T[1],_===void 0){var E=i(p.namespace_extractQName(D),1)[0];_=this.node.lookupNamespaceURI(E)}var N=_!=null?this._doc.createElementNS(_,D):this._doc.createElement(D);this.node.appendChild(N);var R=new x(N),M=this._doc.doctype;if(N===this._doc.documentElement&&M!==null){var G=this._doc.implementation.createDocumentType(this._doc.documentElement.tagName,M.publicId,M.systemId);this._doc.replaceChild(G,M)}return b&&!f.isEmpty(b)&&R.att(b),R},x.prototype.remove=function(){var v=this.up();return v.node.removeChild(this.node),v},x.prototype.att=function(v,d,w){var C,S,T,_,D,b,E=this;if(f.isMap(v)||f.isObject(v))return f.forEachObject(v,function(V,L){return E.att(V,L)},this),this;if(v!=null&&(v=f.getValue(v+"")),d!=null&&(d=f.getValue(d+"")),w!=null&&(w=f.getValue(w+"")),v!==null&&!f.isString(v)||!f.isString(d)||w!==null&&!f.isString(w)){if(!f.isString(v)||d!=null&&!f.isString(d))throw new Error("Attribute name and value not specified. "+this._debugInfo());_=(S=i([void 0,v,d],3))[0],D=S[1],b=S[2]}else _=(C=i([v,d,w],3))[0],D=C[1],b=C[2];if(this._options.keepNullAttributes&&b==null)b="";else if(b==null)return this;if(!c.Guard.isElementNode(this.node))throw new Error("An attribute can only be assigned to an element node.");var N=this.node;_=(T=i(this._extractNamespace(_,D,!1),2))[0],D=T[1],D=h.sanitizeInput(D,this._options.invalidCharReplacement),_=h.sanitizeInput(_,this._options.invalidCharReplacement),b=h.sanitizeInput(b,this._options.invalidCharReplacement);var R=i(p.namespace_extractQName(D),2),M=R[0],G=R[1],j=i(p.namespace_extractQName(N.prefix?N.prefix+":"+N.localName:N.localName),1)[0],z=null;return M==="xmlns"?(_=g.namespace.XMLNS,N.namespaceURI===null&&j===G&&(z=b)):M===null&&G==="xmlns"&&j===null&&(_=g.namespace.XMLNS,z=b),z!==null&&(this._updateNamespace(z),N=this.node),_!==void 0?N.setAttributeNS(_,D,b):N.setAttribute(D,b),this},x.prototype.removeAtt=function(v,d){var w,C,S=this;if(!c.Guard.isElementNode(this.node))throw new Error("An attribute can only be removed from an element node.");if(v=f.getValue(v),d!==void 0&&(d=f.getValue(d)),v!==null&&d===void 0)C=v;else{if(v!==null&&!f.isString(v)||d===void 0)throw new Error("Attribute namespace must be a string. "+this._debugInfo());w=v,C=d}return f.isArray(C)||f.isSet(C)?f.forEachArray(C,function(T){return w===void 0?S.removeAtt(T):S.removeAtt(w,T)},this):w!==void 0?(C=h.sanitizeInput(C,this._options.invalidCharReplacement),w=h.sanitizeInput(w,this._options.invalidCharReplacement),this.node.removeAttributeNS(w,C)):(C=h.sanitizeInput(C,this._options.invalidCharReplacement),this.node.removeAttribute(C)),this},x.prototype.txt=function(v){if(v==null){if(!this._options.keepNullNodes)return this;v=""}var d=this._doc.createTextNode(h.sanitizeInput(v,this._options.invalidCharReplacement));return this.node.appendChild(d),this},x.prototype.com=function(v){if(v==null){if(!this._options.keepNullNodes)return this;v=""}var d=this._doc.createComment(h.sanitizeInput(v,this._options.invalidCharReplacement));return this.node.appendChild(d),this},x.prototype.dat=function(v){if(v==null){if(!this._options.keepNullNodes)return this;v=""}var d=this._doc.createCDATASection(h.sanitizeInput(v,this._options.invalidCharReplacement));return this.node.appendChild(d),this},x.prototype.ins=function(v,d){var w=this;if(d===void 0&&(d=""),d==null){if(!this._options.keepNullNodes)return this;d=""}if(f.isArray(v)||f.isSet(v))f.forEachArray(v,function(S){var T=(S+="").indexOf(" "),_=T===-1?S:S.substr(0,T),D=T===-1?"":S.substr(T+1);w.ins(_,D)},this);else if(f.isMap(v)||f.isObject(v))f.forEachObject(v,function(S,T){return w.ins(S,T)},this);else{var C=this._doc.createProcessingInstruction(h.sanitizeInput(v,this._options.invalidCharReplacement),h.sanitizeInput(d,this._options.invalidCharReplacement));this.node.appendChild(C)}return this},x.prototype.dec=function(v){return this._options.version=v.version||"1.0",this._options.encoding=v.encoding,this._options.standalone=v.standalone,this},x.prototype.dtd=function(v){var d=h.sanitizeInput(v&&v.name||(this._doc.documentElement?this._doc.documentElement.tagName:"ROOT"),this._options.invalidCharReplacement),w=h.sanitizeInput(v&&v.pubID||"",this._options.invalidCharReplacement),C=h.sanitizeInput(v&&v.sysID||"",this._options.invalidCharReplacement);if(this._doc.documentElement!==null&&d!==this._doc.documentElement.tagName)throw new Error("DocType name does not match document element name.");var S=this._doc.implementation.createDocumentType(d,w,C);return this._doc.doctype!==null?this._doc.replaceChild(S,this._doc.doctype):this._doc.insertBefore(S,this._doc.documentElement),this},x.prototype.import=function(v){var d,w,C=this._domNode,S=this._doc,T=v.node;if(c.Guard.isDocumentNode(T)){var _=T.documentElement;if(_===null)throw new Error("Imported document has no document element node. "+this._debugInfo());var D=S.importNode(_,!0);C.appendChild(D);var b=i(p.namespace_extractQName(D.prefix?D.prefix+":"+D.localName:D.localName),1)[0],E=C.lookupNamespaceURI(b);new x(D)._updateNamespace(E)}else if(c.Guard.isDocumentFragmentNode(T))try{for(var N=u(T.childNodes),R=N.next();!R.done;R=N.next()){var M=R.value;D=S.importNode(M,!0),C.appendChild(D),c.Guard.isElementNode(D)&&(b=i(p.namespace_extractQName(D.prefix?D.prefix+":"+D.localName:D.localName),1)[0],E=C.lookupNamespaceURI(b),new x(D)._updateNamespace(E))}}catch(G){d={error:G}}finally{try{R&&!R.done&&(w=N.return)&&w.call(N)}finally{if(d)throw d.error}}else D=S.importNode(T,!0),C.appendChild(D),c.Guard.isElementNode(D)&&(b=i(p.namespace_extractQName(D.prefix?D.prefix+":"+D.localName:D.localName),1)[0],E=C.lookupNamespaceURI(b),new x(D)._updateNamespace(E));return this},x.prototype.doc=function(){if(this._doc._isFragment){for(var v=this.node;v&&v.nodeType!==l.NodeType.DocumentFragment;)v=v.parentNode;if(v===null)throw new Error("Node has no parent node while searching for document fragment ancestor. "+this._debugInfo());return new x(v)}return new x(this._doc)},x.prototype.root=function(){var v=this._doc.documentElement;if(!v)throw new Error("Document root element is null. "+this._debugInfo());return new x(v)},x.prototype.up=function(){var v=this._domNode.parentNode;if(!v)throw new Error("Parent node is null. "+this._debugInfo());return new x(v)},x.prototype.prev=function(){var v=this._domNode.previousSibling;if(!v)throw new Error("Previous sibling node is null. "+this._debugInfo());return new x(v)},x.prototype.next=function(){var v=this._domNode.nextSibling;if(!v)throw new Error("Next sibling node is null. "+this._debugInfo());return new x(v)},x.prototype.first=function(){var v=this._domNode.firstChild;if(!v)throw new Error("First child node is null. "+this._debugInfo());return new x(v)},x.prototype.last=function(){var v=this._domNode.lastChild;if(!v)throw new Error("Last child node is null. "+this._debugInfo());return new x(v)},x.prototype.each=function(v,d,w,C){d===void 0&&(d=!1),w===void 0&&(w=!1);for(var S=this._getFirstDescendantNode(this._domNode,d,w);S[0];){var T=this._getNextDescendantNode(this._domNode,S[0],w,S[1],S[2]);v.call(C,new x(S[0]),S[1],S[2]),S=T}return this},x.prototype.map=function(v,d,w,C){d===void 0&&(d=!1),w===void 0&&(w=!1);var S=[];return this.each(function(T,_,D){return S.push(v.call(C,T,_,D))},d,w),S},x.prototype.reduce=function(v,d,w,C,S){w===void 0&&(w=!1),C===void 0&&(C=!1);var T=d;return this.each(function(_,D,b){return T=v.call(S,T,_,D,b)},w,C),T},x.prototype.find=function(v,d,w,C){d===void 0&&(d=!1),w===void 0&&(w=!1);for(var S=this._getFirstDescendantNode(this._domNode,d,w);S[0];){var T=new x(S[0]);if(v.call(C,T,S[1],S[2]))return T;S=this._getNextDescendantNode(this._domNode,S[0],w,S[1],S[2])}},x.prototype.filter=function(v,d,w,C){d===void 0&&(d=!1),w===void 0&&(w=!1);var S=[];return this.each(function(T,_,D){v.call(C,T,_,D)&&S.push(T)},d,w),S},x.prototype.every=function(v,d,w,C){d===void 0&&(d=!1),w===void 0&&(w=!1);for(var S=this._getFirstDescendantNode(this._domNode,d,w);S[0];){var T=new x(S[0]);if(!v.call(C,T,S[1],S[2]))return!1;S=this._getNextDescendantNode(this._domNode,S[0],w,S[1],S[2])}return!0},x.prototype.some=function(v,d,w,C){d===void 0&&(d=!1),w===void 0&&(w=!1);for(var S=this._getFirstDescendantNode(this._domNode,d,w);S[0];){var T=new x(S[0]);if(v.call(C,T,S[1],S[2]))return!0;S=this._getNextDescendantNode(this._domNode,S[0],w,S[1],S[2])}return!1},x.prototype.toArray=function(v,d){v===void 0&&(v=!1),d===void 0&&(d=!1);var w=[];return this.each(function(C){return w.push(C)},v,d),w},x.prototype.toString=function(v){return(v=v||{}).format===void 0&&(v.format="xml"),this._serialize(v)},x.prototype.toObject=function(v){return(v=v||{}).format===void 0&&(v.format="object"),this._serialize(v)},x.prototype.end=function(v){return(v=v||{}).format===void 0&&(v.format="xml"),this.doc()._serialize(v)},x.prototype._getFirstDescendantNode=function(v,d,w){return d?[this._domNode,0,0]:w?this._getNextDescendantNode(v,v,w,0,0):[this._domNode.firstChild,0,1]},x.prototype._getNextDescendantNode=function(v,d,w,C,S){if(!w)return v===d?[d.firstChild,0,S+1]:[d.nextSibling,C+1,S];if(d.firstChild)return[d.firstChild,0,S+1];if(d===v)return[null,-1,-1];if(d.nextSibling)return[d.nextSibling,C+1,S];for(var T=d.parentNode;T&&T!==v;){if(T.nextSibling)return[T.nextSibling,p.tree_index(T.nextSibling),S-1];T=T.parentNode,S--}return[null,-1,-1]},x.prototype._serialize=function(v){if(v.format==="xml")return new s.XMLWriter(this._options,v).serialize(this.node);if(v.format==="map")return new s.MapWriter(this._options,v).serialize(this.node);if(v.format==="object")return new s.ObjectWriter(this._options,v).serialize(this.node);if(v.format==="json")return new s.JSONWriter(this._options,v).serialize(this.node);if(v.format==="yaml")return new s.YAMLWriter(this._options,v).serialize(this.node);throw new Error("Invalid writer format: "+v.format+". "+this._debugInfo())},x.prototype._extractNamespace=function(v,d,w){var C=d.indexOf("@");if(C>0&&(v===void 0&&(v=d.slice(C+1)),d=d.slice(0,C)),v===void 0)v=w?this._options.defaultNamespace.ele:this._options.defaultNamespace.att;else if(v!==null&&v[0]==="@"){var S=v.slice(1);if((v=this._options.namespaceAlias[S])===void 0)throw new Error("Namespace alias `"+S+"` is not defined. "+this._debugInfo())}return[v,d]},x.prototype._updateNamespace=function(v){var d,w,C,S,T=this._domNode;if(c.Guard.isElementNode(T)&&v!==null&&T.namespaceURI!==v){var _=i(p.namespace_extractQName(T.prefix?T.prefix+":"+T.localName:T.localName),2),D=_[0],b=_[1],E=p.create_element(this._doc,b,v,D);try{for(var N=u(T.attributes),R=N.next();!R.done;R=N.next()){var M=R.value,G=M.prefix?M.prefix+":"+M.localName:M.localName,j=i(p.namespace_extractQName(G),1)[0],z=M.namespaceURI;z===null&&j!==null&&(z=T.lookupNamespaceURI(j)),z===null?E.setAttribute(G,M.value):E.setAttributeNS(z,G,M.value)}}catch(Z){d={error:Z}}finally{try{R&&!R.done&&(w=N.return)&&w.call(N)}finally{if(d)throw d.error}}var V=T.parentNode;if(V===null)throw new Error("Parent node is null."+this._debugInfo());V.replaceChild(E,T),this._domNode=E;try{for(var L=u(T.childNodes),B=L.next();!B.done;B=L.next()){var $=B.value.cloneNode(!0);if(E.appendChild($),c.Guard.isElementNode($)){var H=i(p.namespace_extractQName($.prefix?$.prefix+":"+$.localName:$.localName),1)[0],X=E.lookupNamespaceURI(H);new x($)._updateNamespace(X)}}}catch(Z){C={error:Z}}finally{try{B&&!B.done&&(S=L.return)&&S.call(L)}finally{if(C)throw C.error}}}},Object.defineProperty(x.prototype,"_doc",{get:function(){var v=this.node;if(c.Guard.isDocumentNode(v))return v;var d=v.ownerDocument;if(!d)throw new Error("Owner document is null. "+this._debugInfo());return d},enumerable:!0,configurable:!0}),x.prototype._debugInfo=function(v){var d=this.node,w=d.parentNode;v=v||d.nodeName;var C=w?w.nodeName:"";return C?"node: <"+v+">, parent: <"+C+">":"node: <"+v+">"},Object.defineProperty(x.prototype,"_options",{get:function(){var v=this._doc;if(v._xmlBuilderOptions===void 0)throw new Error("Builder options is not set.");return v._xmlBuilderOptions},set:function(v){this._doc._xmlBuilderOptions=v},enumerable:!0,configurable:!0}),x}();r.XMLBuilderImpl=m},function(a,r,n){var i=n(11),u=n(117),o=i.WeakMap;a.exports=typeof o=="function"&&/native code/.test(u(o))},function(a,r,n){var i=n(46),u=n(82),o=n(85),f=n(18);a.exports=i("Reflect","ownKeys")||function(s){var l=u.f(f(s)),c=o.f;return c?l.concat(c(s)):l}},function(a,r,n){var i=n(16),u=n(15),o=n(18),f=n(61);a.exports=i?Object.defineProperties:function(s,l){o(s);for(var c,p=f(l),h=p.length,g=0;h>g;)u.f(s,c=p[g++],l[c]);return s}},function(a,r,n){var i=n(46);a.exports=i("document","documentElement")},function(a,r,n){var i=n(24),u=n(82).f,o={}.toString,f=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(s){return f&&o.call(s)=="[object Window]"?function(l){try{return u(l)}catch{return f.slice()}}(s):u(i(s))}},function(a,r,n){var i=n(4),u=n(36).every,o=n(48),f=n(28),s=o("every"),l=f("every");i({target:"Array",proto:!0,forced:!s||!l},{every:function(c){return u(this,c,arguments.length>1?arguments[1]:void 0)}})},function(a,r,n){var i=n(4),u=n(36).filter,o=n(63),f=n(28),s=o("filter"),l=f("filter");i({target:"Array",proto:!0,forced:!s||!l},{filter:function(c){return u(this,c,arguments.length>1?arguments[1]:void 0)}})},function(a,r,n){var i=n(46);a.exports=i("navigator","userAgent")||""},function(a,r,n){var i=n(4),u=n(36).find,o=n(130),f=n(28),s=!0,l=f("find");"find"in[]&&Array(1).find(function(){s=!1}),i({target:"Array",proto:!0,forced:s||!l},{find:function(c){return u(this,c,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(a,r,n){var i=n(131).IteratorPrototype,u=n(60),o=n(40),f=n(62),s=n(49),l=function(){return this};a.exports=function(c,p,h){var g=p+" Iterator";return c.prototype=u(i,{next:o(1,h)}),f(c,g,!1,!0),s[g]=l,c}},function(a,r,n){var i=n(8);a.exports=!i(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype})},function(a,r,n){var i=n(13);a.exports=function(u){if(!i(u)&&u!==null)throw TypeError("Can't set "+String(u)+" as a prototype");return u}},function(a,r,n){var i=n(4),u=n(36).map,o=n(63),f=n(28),s=o("map"),l=f("map");i({target:"Array",proto:!0,forced:!s||!l},{map:function(c){return u(this,c,arguments.length>1?arguments[1]:void 0)}})},function(a,r,n){var i=n(4),u=n(200).left,o=n(48),f=n(28),s=o("reduce"),l=f("reduce",{1:0});i({target:"Array",proto:!0,forced:!s||!l},{reduce:function(c){return u(this,c,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(a,r,n){var i=n(127),u=n(27),o=n(41),f=n(26),s=function(l){return function(c,p,h,g){i(p);var y=u(c),m=o(y),x=f(y.length),v=l?x-1:0,d=l?-1:1;if(h<2)for(;;){if(v in m){g=m[v],v+=d;break}if(v+=d,l?v<0:x<=v)throw TypeError("Reduce of empty array with no initial value")}for(;l?v>=0:x>v;v+=d)v in m&&(g=p(g,m[v],v,y));return g}};a.exports={left:s(!1),right:s(!0)}},function(a,r,n){var i=n(4),u=n(36).some,o=n(48),f=n(28),s=o("some"),l=f("some");i({target:"Array",proto:!0,forced:!s||!l},{some:function(c){return u(this,c,arguments.length>1?arguments[1]:void 0)}})},function(a,r,n){var i=n(90),u=n(135);a.exports=i?{}.toString:function(){return"[object "+u(this)+"]"}},function(a,r){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(a,r,n){var i=n(8);a.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(a,r,n){var i=n(5),u=n(49),o=i("iterator"),f=Array.prototype;a.exports=function(s){return s!==void 0&&(u.Array===s||f[o]===s)}},function(a,r,n){var i=n(135),u=n(49),o=n(5)("iterator");a.exports=function(f){if(f!=null)return f[o]||f["@@iterator"]||u[i(f)]}},function(a,r,n){var i=n(18);a.exports=function(u,o,f,s){try{return s?o(i(f)[0],f[1]):o(f)}catch(c){var l=u.return;throw l!==void 0&&i(l.call(u)),c}}},function(a,r,n){var i=n(5)("iterator"),u=!1;try{var o=0,f={next:function(){return{done:!!o++}},return:function(){u=!0}};f[i]=function(){return this},Array.from(f,function(){throw 2})}catch{}a.exports=function(s,l){if(!l&&!u)return!1;var c=!1;try{var p={};p[i]=function(){return{next:function(){return{done:c=!0}}}},s(p)}catch{}return c}},function(a,r,n){var i=n(13),u=n(133);a.exports=function(o,f,s){var l,c;return u&&typeof(l=f.constructor)=="function"&&l!==s&&i(c=l.prototype)&&c!==s.prototype&&u(o,c),o}},function(a,r,n){var i=n(25);a.exports=function(u,o,f){for(var s in o)i(u,s,o[s],f);return u}},function(a,r,n){var i=n(46),u=n(15),o=n(5),f=n(16),s=o("species");a.exports=function(l){var c=i(l),p=u.f;f&&c&&!c[s]&&p(c,s,{configurable:!0,get:function(){return this}})}},function(a,r,n){var i=this&&this.__generator||function(f,s){var l,c,p,h,g={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return h={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function y(m){return function(x){return function(v){if(l)throw new TypeError("Generator is already executing.");for(;g;)try{if(l=1,c&&(p=2&v[0]?c.return:v[0]?c.throw||((p=c.return)&&p.call(c),0):c.next)&&!(p=p.call(c,v[1])).done)return p;switch(c=0,p&&(v=[2&v[0],p.value]),v[0]){case 0:case 1:p=v;break;case 4:return g.label++,{value:v[1],done:!1};case 5:g.label++,c=v[1],v=[0];continue;case 7:v=g.ops.pop(),g.trys.pop();continue;default:if(p=g.trys,!((p=p.length>0&&p[p.length-1])||v[0]!==6&&v[0]!==2)){g=0;continue}if(v[0]===3&&(!p||v[1]>p[0]&&v[1]<p[3])){g.label=v[1];break}if(v[0]===6&&g.label<p[1]){g.label=p[1],p=v;break}if(p&&g.label<p[2]){g.label=p[2],g.ops.push(v);break}p[2]&&g.ops.pop(),g.trys.pop();continue}v=s.call(f,g)}catch(d){v=[6,d],c=0}finally{l=p=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([m,x])}}},u=this&&this.__values||function(f){var s=typeof Symbol=="function"&&Symbol.iterator,l=s&&f[s],c=0;if(l)return l.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&c>=f.length&&(f=void 0),{value:f&&f[c++],done:!f}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function f(s){s===void 0&&(s=1e3),this._items=new Set,this._limit=s}return f.prototype.add=function(s){if(this._items.add(s),this._items.size>this._limit){var l=this._items.values().next();l.done||this._items.delete(l.value)}return this},f.prototype.delete=function(s){return this._items.delete(s)},f.prototype.has=function(s){return this._items.has(s)},f.prototype.clear=function(){this._items.clear()},Object.defineProperty(f.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),f.prototype.forEach=function(s,l){var c=this;this._items.forEach(function(p){return s.call(l,p,p,c)})},f.prototype.keys=function(){return i(this,function(s){switch(s.label){case 0:return[5,u(this._items.keys())];case 1:return s.sent(),[2]}})},f.prototype.values=function(){return i(this,function(s){switch(s.label){case 0:return[5,u(this._items.values())];case 1:return s.sent(),[2]}})},f.prototype.entries=function(){return i(this,function(s){switch(s.label){case 0:return[5,u(this._items.entries())];case 1:return s.sent(),[2]}})},f.prototype[Symbol.iterator]=function(){return i(this,function(s){switch(s.label){case 0:return[5,u(this._items)];case 1:return s.sent(),[2]}})},Object.defineProperty(f.prototype,Symbol.toStringTag,{get:function(){return"FixedSizeSet"},enumerable:!0,configurable:!0}),f}();r.FixedSizeSet=o},function(a,r,n){var i=this&&this.__generator||function(f,s){var l,c,p,h,g={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return h={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function y(m){return function(x){return function(v){if(l)throw new TypeError("Generator is already executing.");for(;g;)try{if(l=1,c&&(p=2&v[0]?c.return:v[0]?c.throw||((p=c.return)&&p.call(c),0):c.next)&&!(p=p.call(c,v[1])).done)return p;switch(c=0,p&&(v=[2&v[0],p.value]),v[0]){case 0:case 1:p=v;break;case 4:return g.label++,{value:v[1],done:!1};case 5:g.label++,c=v[1],v=[0];continue;case 7:v=g.ops.pop(),g.trys.pop();continue;default:if(p=g.trys,!((p=p.length>0&&p[p.length-1])||v[0]!==6&&v[0]!==2)){g=0;continue}if(v[0]===3&&(!p||v[1]>p[0]&&v[1]<p[3])){g.label=v[1];break}if(v[0]===6&&g.label<p[1]){g.label=p[1],p=v;break}if(p&&g.label<p[2]){g.label=p[2],g.ops.push(v);break}p[2]&&g.ops.pop(),g.trys.pop();continue}v=s.call(f,g)}catch(d){v=[6,d],c=0}finally{l=p=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([m,x])}}},u=this&&this.__values||function(f){var s=typeof Symbol=="function"&&Symbol.iterator,l=s&&f[s],c=0;if(l)return l.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&c>=f.length&&(f=void 0),{value:f&&f[c++],done:!f}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function f(s){s===void 0&&(s=1e3),this._items=new Map,this._limit=s}return f.prototype.get=function(s){return this._items.get(s)},f.prototype.set=function(s,l){if(this._items.set(s,l),this._items.size>this._limit){var c=this._items.keys().next();c.done||this._items.delete(c.value)}},f.prototype.delete=function(s){return this._items.delete(s)},f.prototype.has=function(s){return this._items.has(s)},f.prototype.clear=function(){this._items.clear()},Object.defineProperty(f.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),f.prototype.forEach=function(s,l){this._items.forEach(function(c,p){return s.call(l,p,c)})},f.prototype.keys=function(){return i(this,function(s){switch(s.label){case 0:return[5,u(this._items.keys())];case 1:return s.sent(),[2]}})},f.prototype.values=function(){return i(this,function(s){switch(s.label){case 0:return[5,u(this._items.values())];case 1:return s.sent(),[2]}})},f.prototype.entries=function(){return i(this,function(s){switch(s.label){case 0:return[5,u(this._items.entries())];case 1:return s.sent(),[2]}})},f.prototype[Symbol.iterator]=function(){return i(this,function(s){switch(s.label){case 0:return[5,u(this._items)];case 1:return s.sent(),[2]}})},Object.defineProperty(f.prototype,Symbol.toStringTag,{get:function(){return"ObjectCache"},enumerable:!0,configurable:!0}),f}();r.ObjectCache=o},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function u(o){o===void 0&&(o=1e3),this._items=new Map,this._limit=o}return u.prototype.check=function(o,f){if(this._items.get(o)===f)return!0;if(this._items.get(f)===o)return!1;var s=Math.random()<.5;if(s?this._items.set(o,f):this._items.set(f,o),this._items.size>this._limit){var l=this._items.keys().next();l.done||this._items.delete(l.value)}return s},u}();r.CompareCache=i},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function u(o){this._initialized=!1,this._value=void 0,this._initFunc=o}return Object.defineProperty(u.prototype,"value",{get:function(){return this._initialized||(this._value=this._initFunc(),this._initialized=!0),this._value},enumerable:!0,configurable:!0}),u}();r.Lazy=i},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function u(o){this._pointer=0,this._chars=Array.from(o),this._length=this._chars.length}return Object.defineProperty(u.prototype,"eof",{get:function(){return this._pointer>=this._length},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),u.prototype.codePoint=function(){if(this._codePoint===void 0)if(this.eof)this._codePoint=-1;else{var o=this._chars[this._pointer].codePointAt(0);this._codePoint=o!==void 0?o:-1}return this._codePoint},u.prototype.c=function(){return this._c===void 0&&(this._c=this.eof?"":this._chars[this._pointer]),this._c},u.prototype.remaining=function(){return this._remaining===void 0&&(this._remaining=this.eof?"":this._chars.slice(this._pointer+1).join("")),this._remaining},u.prototype.substring=function(){return this._substring===void 0&&(this._substring=this.eof?"":this._chars.slice(this._pointer).join("")),this._substring},Object.defineProperty(u.prototype,"pointer",{get:function(){return this._pointer},set:function(o){o!==this._pointer&&(this._pointer=o,this._codePoint=void 0,this._c=void 0,this._remaining=void 0,this._substring=void 0)},enumerable:!0,configurable:!0}),u}();r.StringWalker=i},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(218);r.MapWriter=i.MapWriter;var u=n(258);r.XMLWriter=u.XMLWriter;var o=n(67);r.ObjectWriter=o.ObjectWriter;var f=n(260);r.JSONWriter=f.JSONWriter;var s=n(261);r.YAMLWriter=s.YAMLWriter},function(a,r,n){n(19),n(219),n(20),n(22),n(23);var i,u=this&&this.__extends||(i=function(l,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var g in h)h.hasOwnProperty(g)&&(p[g]=h[g])})(l,c)},function(l,c){function p(){this.constructor=l}i(l,c),l.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(1),f=n(67),s=function(l){function c(p,h){var g=l.call(this,p)||this;return g._writerOptions=o.applyDefaults(h,{format:"map",wellFormed:!1,group:!1,verbose:!1}),g}return u(c,l),c.prototype.serialize=function(p){var h=o.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1,verbose:!1}),g=new f.ObjectWriter(this._builderOptions,h).serialize(p);return this._convertObject(g)},c.prototype._convertObject=function(p){if(o.isArray(p)){for(var h=0;h<p.length;h++)p[h]=this._convertObject(p[h]);return p}if(o.isObject(p)){var g=new Map;for(var y in p)g.set(y,this._convertObject(p[y]));return g}return p},c}(n(50).BaseWriter);r.MapWriter=s},function(a,r,n){var i=n(139),u=n(143);a.exports=i("Map",function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}},u)},function(a,r,n){var i=n(4),u=n(8),o=n(59),f=n(13),s=n(27),l=n(26),c=n(134),p=n(128),h=n(63),g=n(5),y=n(129),m=g("isConcatSpreadable"),x=y>=51||!u(function(){var w=[];return w[m]=!1,w.concat()[0]!==w}),v=h("concat"),d=function(w){if(!f(w))return!1;var C=w[m];return C!==void 0?!!C:o(w)};i({target:"Array",proto:!0,forced:!x||!v},{concat:function(w){var C,S,T,_,D,b=s(this),E=p(b,0),N=0;for(C=-1,T=arguments.length;C<T;C++)if(d(D=C===-1?b:arguments[C])){if(N+(_=l(D.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(S=0;S<_;S++,N++)S in D&&c(E,N,D[S])}else{if(N>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(E,N++,D)}return E.length=N,E}})},function(a,r,n){var i=n(8);function u(o,f){return RegExp(o,f)}r.UNSUPPORTED_Y=i(function(){var o=u("a","y");return o.lastIndex=2,o.exec("abcd")!=null}),r.BROKEN_CARET=i(function(){var o=u("^r","gy");return o.lastIndex=2,o.exec("str")!=null})},function(a,r,n){var i=n(223);a.exports=function(u){if(i(u))throw TypeError("The method doesn't accept regular expressions");return u}},function(a,r,n){var i=n(13),u=n(42),o=n(5)("match");a.exports=function(f){var s;return i(f)&&((s=f[o])!==void 0?!!s:u(f)=="RegExp")}},function(a,r,n){var i=n(5)("match");a.exports=function(u){var o=/./;try{"/./"[u](o)}catch{try{return o[i]=!1,"/./"[u](o)}catch{}}return!1}},function(a,r,n){n(68);var i=n(25),u=n(8),o=n(5),f=n(93),s=n(21),l=o("species"),c=!u(function(){var m=/./;return m.exec=function(){var x=[];return x.groups={a:"7"},x},"".replace(m,"$<a>")!=="7"}),p="a".replace(/./,"$0")==="$0",h=o("replace"),g=!!/./[h]&&/./[h]("a","$0")==="",y=!u(function(){var m=/(?:)/,x=m.exec;m.exec=function(){return x.apply(this,arguments)};var v="ab".split(m);return v.length!==2||v[0]!=="a"||v[1]!=="b"});a.exports=function(m,x,v,d){var w=o(m),C=!u(function(){var E={};return E[w]=function(){return 7},""[m](E)!=7}),S=C&&!u(function(){var E=!1,N=/a/;return m==="split"&&((N={}).constructor={},N.constructor[l]=function(){return N},N.flags="",N[w]=/./[w]),N.exec=function(){return E=!0,null},N[w](""),!E});if(!C||!S||m==="replace"&&(!c||!p||g)||m==="split"&&!y){var T=/./[w],_=v(w,""[m],function(E,N,R,M,G){return N.exec===f?C&&!G?{done:!0,value:T.call(N,R,M)}:{done:!0,value:E.call(R,N,M)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:g}),D=_[0],b=_[1];i(String.prototype,m,D),i(RegExp.prototype,w,x==2?function(E,N){return b.call(E,this,N)}:function(E){return b.call(E,this)})}d&&s(RegExp.prototype[w],"sham",!0)}},function(a,r,n){var i=n(137).charAt;a.exports=function(u,o,f){return o+(f?i(u,o).length:1)}},function(a,r,n){var i=n(42),u=n(93);a.exports=function(o,f){var s=o.exec;if(typeof s=="function"){var l=s.call(o,f);if(typeof l!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return l}if(i(o)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return u.call(o,f)}},function(a,r,n){(function(i){Object.defineProperty(r,"__esModule",{value:!0});var u=n(96);r.forgivingBase64Encode=function(o){return i.from(o).toString("base64")},r.forgivingBase64Decode=function(o){return o===""?"":((o=o.replace(u.ASCIIWhiteSpace,"")).length%4==0&&(o.endsWith("==")?o=o.substr(0,o.length-2):o.endsWith("=")&&(o=o.substr(0,o.length-1))),o.length%4==1?null:/[0-9A-Za-z+/]/.test(o)?i.from(o,"base64").toString("utf8"):null)}}).call(this,n(145).Buffer)},function(a,r,n){r.byteLength=function(h){var g=c(h),y=g[0],m=g[1];return 3*(y+m)/4-m},r.toByteArray=function(h){var g,y,m=c(h),x=m[0],v=m[1],d=new o(function(S,T,_){return 3*(T+_)/4-_}(0,x,v)),w=0,C=v>0?x-4:x;for(y=0;y<C;y+=4)g=u[h.charCodeAt(y)]<<18|u[h.charCodeAt(y+1)]<<12|u[h.charCodeAt(y+2)]<<6|u[h.charCodeAt(y+3)],d[w++]=g>>16&255,d[w++]=g>>8&255,d[w++]=255&g;return v===2&&(g=u[h.charCodeAt(y)]<<2|u[h.charCodeAt(y+1)]>>4,d[w++]=255&g),v===1&&(g=u[h.charCodeAt(y)]<<10|u[h.charCodeAt(y+1)]<<4|u[h.charCodeAt(y+2)]>>2,d[w++]=g>>8&255,d[w++]=255&g),d},r.fromByteArray=function(h){for(var g,y=h.length,m=y%3,x=[],v=0,d=y-m;v<d;v+=16383)x.push(p(h,v,v+16383>d?d:v+16383));return m===1?(g=h[y-1],x.push(i[g>>2]+i[g<<4&63]+"==")):m===2&&(g=(h[y-2]<<8)+h[y-1],x.push(i[g>>10]+i[g>>4&63]+i[g<<2&63]+"=")),x.join("")};for(var i=[],u=[],o=typeof Uint8Array!="undefined"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=f.length;s<l;++s)i[s]=f[s],u[f.charCodeAt(s)]=s;function c(h){var g=h.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=h.indexOf("=");return y===-1&&(y=g),[y,y===g?0:4-y%4]}function p(h,g,y){for(var m,x,v=[],d=g;d<y;d+=3)m=(h[d]<<16&16711680)+(h[d+1]<<8&65280)+(255&h[d+2]),v.push(i[(x=m)>>18&63]+i[x>>12&63]+i[x>>6&63]+i[63&x]);return v.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(a,r){r.read=function(n,i,u,o,f){var s,l,c=8*f-o-1,p=(1<<c)-1,h=p>>1,g=-7,y=u?f-1:0,m=u?-1:1,x=n[i+y];for(y+=m,s=x&(1<<-g)-1,x>>=-g,g+=c;g>0;s=256*s+n[i+y],y+=m,g-=8);for(l=s&(1<<-g)-1,s>>=-g,g+=o;g>0;l=256*l+n[i+y],y+=m,g-=8);if(s===0)s=1-h;else{if(s===p)return l?NaN:1/0*(x?-1:1);l+=Math.pow(2,o),s-=h}return(x?-1:1)*l*Math.pow(2,s-o)},r.write=function(n,i,u,o,f,s){var l,c,p,h=8*s-f-1,g=(1<<h)-1,y=g>>1,m=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=o?0:s-1,v=o?1:-1,d=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(c=isNaN(i)?1:0,l=g):(l=Math.floor(Math.log(i)/Math.LN2),i*(p=Math.pow(2,-l))<1&&(l--,p*=2),(i+=l+y>=1?m/p:m*Math.pow(2,1-y))*p>=2&&(l++,p/=2),l+y>=g?(c=0,l=g):l+y>=1?(c=(i*p-1)*Math.pow(2,f),l+=y):(c=i*Math.pow(2,y-1)*Math.pow(2,f),l=0));f>=8;n[u+x]=255&c,x+=v,c/=256,f-=8);for(l=l<<f|c,h+=f;h>0;n[u+x]=255&l,x+=v,l/=256,h-=8);n[u+x-v]|=128*d}},function(a,r){var n={}.toString;a.exports=Array.isArray||function(i){return n.call(i)=="[object Array]"}},function(a,r,n){var i=this&&this.__values||function(f){var s=typeof Symbol=="function"&&Symbol.iterator,l=s&&f[s],c=0;if(l)return l.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&c>=f.length&&(f=void 0),{value:f&&f[c++],done:!f}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=n(1);function o(f){var s,l;if(f===null||u.isString(f)||u.isNumber(f))return f;if(u.isArray(f)){var c=new Array;try{for(var p=i(f),h=p.next();!h.done;h=p.next()){var g=h.value;c.push(o(g))}}catch(x){s={error:x}}finally{try{h&&!h.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}return c}if(u.isObject(f)){c=new Map;for(var y in f)if(f.hasOwnProperty(y)){var m=f[y];c.set(y,o(m))}return c}return f}r.parseJSONFromBytes=function(f){var s=u.utf8Decode(f);return JSON.parse.call(void 0,s)},r.serializeJSONToBytes=function(f){var s=JSON.stringify.call(void 0,f);return u.utf8Encode(s)},r.parseJSONIntoInfraValues=function(f){return o(JSON.parse.call(void 0,f))},r.convertAJSONDerivedJavaScriptValueToAnInfraValue=o},function(a,r,n){var i=this&&this.__generator||function(l,c){var p,h,g,y,m={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return y={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function x(v){return function(d){return function(w){if(p)throw new TypeError("Generator is already executing.");for(;m;)try{if(p=1,h&&(g=2&w[0]?h.return:w[0]?h.throw||((g=h.return)&&g.call(h),0):h.next)&&!(g=g.call(h,w[1])).done)return g;switch(h=0,g&&(w=[2&w[0],g.value]),w[0]){case 0:case 1:g=w;break;case 4:return m.label++,{value:w[1],done:!1};case 5:m.label++,h=w[1],w=[0];continue;case 7:w=m.ops.pop(),m.trys.pop();continue;default:if(g=m.trys,!((g=g.length>0&&g[g.length-1])||w[0]!==6&&w[0]!==2)){m=0;continue}if(w[0]===3&&(!g||w[1]>g[0]&&w[1]<g[3])){m.label=w[1];break}if(w[0]===6&&m.label<g[1]){m.label=g[1],g=w;break}if(g&&m.label<g[2]){m.label=g[2],m.ops.push(w);break}g[2]&&m.ops.pop(),m.trys.pop();continue}w=c.call(l,m)}catch(C){w=[6,C],h=0}finally{p=g=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([v,d])}}},u=this&&this.__read||function(l,c){var p=typeof Symbol=="function"&&l[Symbol.iterator];if(!p)return l;var h,g,y=p.call(l),m=[];try{for(;(c===void 0||c-- >0)&&!(h=y.next()).done;)m.push(h.value)}catch(x){g={error:x}}finally{try{h&&!h.done&&(p=y.return)&&p.call(y)}finally{if(g)throw g.error}}return m},o=this&&this.__spread||function(){for(var l=[],c=0;c<arguments.length;c++)l=l.concat(u(arguments[c]));return l},f=this&&this.__values||function(l){var c=typeof Symbol=="function"&&Symbol.iterator,p=c&&l[c],h=0;if(p)return p.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&h>=l.length&&(l=void 0),{value:l&&l[h++],done:!l}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=n(1);r.append=function(l,c){l.push(c)},r.extend=function(l,c){l.push.apply(l,o(c))},r.prepend=function(l,c){l.unshift(c)},r.replace=function(l,c,p){var h,g,y=0;try{for(var m=f(l),x=m.next();!x.done;x=m.next()){var v=x.value;if(s.isFunction(c))c.call(null,v)&&(l[y]=p);else if(v===c)return void(l[y]=p);y++}}catch(d){h={error:d}}finally{try{x&&!x.done&&(g=m.return)&&g.call(m)}finally{if(h)throw h.error}}},r.insert=function(l,c,p){l.splice(p,0,c)},r.remove=function(l,c){for(var p=l.length;p--;){var h=l[p];if(s.isFunction(c))c.call(null,h)&&l.splice(p,1);else if(h===c)return void l.splice(p,1)}},r.empty=function(l){l.length=0},r.contains=function(l,c){var p,h;try{for(var g=f(l),y=g.next();!y.done;y=g.next()){var m=y.value;if(s.isFunction(c)){if(c.call(null,m))return!0}else if(m===c)return!0}}catch(x){p={error:x}}finally{try{y&&!y.done&&(h=g.return)&&h.call(g)}finally{if(p)throw p.error}}return!1},r.size=function(l,c){var p,h;if(c===void 0)return l.length;var g=0;try{for(var y=f(l),m=y.next();!m.done;m=y.next()){var x=m.value;c.call(null,x)&&g++}}catch(v){p={error:v}}finally{try{m&&!m.done&&(h=y.return)&&h.call(y)}finally{if(p)throw p.error}}return g},r.isEmpty=function(l){return l.length===0},r.forEach=function(l,c){var p,h,g,y,m,x;return i(this,function(v){switch(v.label){case 0:return c!==void 0?[3,2]:[5,f(l)];case 1:return v.sent(),[3,9];case 2:v.trys.push([2,7,8,9]),p=f(l),h=p.next(),v.label=3;case 3:return h.done?[3,6]:(g=h.value,c.call(null,g)?[4,g]:[3,5]);case 4:v.sent(),v.label=5;case 5:return h=p.next(),[3,3];case 6:return[3,9];case 7:return y=v.sent(),m={error:y},[3,9];case 8:try{h&&!h.done&&(x=p.return)&&x.call(p)}finally{if(m)throw m.error}return[7];case 9:return[2]}})},r.clone=function(l){return new(Array.bind.apply(Array,o([void 0],l)))},r.sortInAscendingOrder=function(l,c){return l.sort(function(p,h){return c.call(null,p,h)?-1:1})},r.sortInDescendingOrder=function(l,c){return l.sort(function(p,h){return c.call(null,p,h)?1:-1})}},function(a,r,n){var i=this&&this.__generator||function(l,c){var p,h,g,y,m={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return y={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function x(v){return function(d){return function(w){if(p)throw new TypeError("Generator is already executing.");for(;m;)try{if(p=1,h&&(g=2&w[0]?h.return:w[0]?h.throw||((g=h.return)&&g.call(h),0):h.next)&&!(g=g.call(h,w[1])).done)return g;switch(h=0,g&&(w=[2&w[0],g.value]),w[0]){case 0:case 1:g=w;break;case 4:return m.label++,{value:w[1],done:!1};case 5:m.label++,h=w[1],w=[0];continue;case 7:w=m.ops.pop(),m.trys.pop();continue;default:if(g=m.trys,!((g=g.length>0&&g[g.length-1])||w[0]!==6&&w[0]!==2)){m=0;continue}if(w[0]===3&&(!g||w[1]>g[0]&&w[1]<g[3])){m.label=w[1];break}if(w[0]===6&&m.label<g[1]){m.label=g[1],g=w;break}if(g&&m.label<g[2]){m.label=g[2],m.ops.push(w);break}g[2]&&m.ops.pop(),m.trys.pop();continue}w=c.call(l,m)}catch(C){w=[6,C],h=0}finally{p=g=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([v,d])}}},u=this&&this.__values||function(l){var c=typeof Symbol=="function"&&Symbol.iterator,p=c&&l[c],h=0;if(p)return p.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&h>=l.length&&(l=void 0),{value:l&&l[h++],done:!l}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(l,c){var p=typeof Symbol=="function"&&l[Symbol.iterator];if(!p)return l;var h,g,y=p.call(l),m=[];try{for(;(c===void 0||c-- >0)&&!(h=y.next()).done;)m.push(h.value)}catch(x){g={error:x}}finally{try{h&&!h.done&&(p=y.return)&&p.call(y)}finally{if(g)throw g.error}}return m},f=this&&this.__spread||function(){for(var l=[],c=0;c<arguments.length;c++)l=l.concat(o(arguments[c]));return l};Object.defineProperty(r,"__esModule",{value:!0});var s=n(1);r.get=function(l,c){return l.get(c)},r.set=function(l,c,p){l.set(c,p)},r.remove=function(l,c){var p,h,g,y;if(s.isFunction(c)){var m=[];try{for(var x=u(l),v=x.next();!v.done;v=x.next()){var d=v.value;c.call(null,d)&&m.push(d[0])}}catch(T){p={error:T}}finally{try{v&&!v.done&&(h=x.return)&&h.call(x)}finally{if(p)throw p.error}}try{for(var w=u(m),C=w.next();!C.done;C=w.next()){var S=C.value;l.delete(S)}}catch(T){g={error:T}}finally{try{C&&!C.done&&(y=w.return)&&y.call(w)}finally{if(g)throw g.error}}}else l.delete(c)},r.contains=function(l,c){var p,h;if(s.isFunction(c)){try{for(var g=u(l),y=g.next();!y.done;y=g.next()){var m=y.value;if(c.call(null,m))return!0}}catch(x){p={error:x}}finally{try{y&&!y.done&&(h=g.return)&&h.call(g)}finally{if(p)throw p.error}}return!1}return l.has(c)},r.keys=function(l){return new Set(l.keys())},r.values=function(l){return f(l.values())},r.size=function(l,c){var p,h;if(c===void 0)return l.size;var g=0;try{for(var y=u(l),m=y.next();!m.done;m=y.next()){var x=m.value;c.call(null,x)&&g++}}catch(v){p={error:v}}finally{try{m&&!m.done&&(h=y.return)&&h.call(y)}finally{if(p)throw p.error}}return g},r.isEmpty=function(l){return l.size===0},r.forEach=function(l,c){var p,h,g,y,m,x;return i(this,function(v){switch(v.label){case 0:return c!==void 0?[3,2]:[5,u(l)];case 1:return v.sent(),[3,9];case 2:v.trys.push([2,7,8,9]),p=u(l),h=p.next(),v.label=3;case 3:return h.done?[3,6]:(g=h.value,c.call(null,g)?[4,g]:[3,5]);case 4:v.sent(),v.label=5;case 5:return h=p.next(),[3,3];case 6:return[3,9];case 7:return y=v.sent(),m={error:y},[3,9];case 8:try{h&&!h.done&&(x=p.return)&&x.call(p)}finally{if(m)throw m.error}return[7];case 9:return[2]}})},r.clone=function(l){return new Map(l)},r.sortInAscendingOrder=function(l,c){var p=new(Array.bind.apply(Array,f([void 0],l)));return p.sort(function(h,g){return c.call(null,h,g)?-1:1}),new Map(p)},r.sortInDescendingOrder=function(l,c){var p=new(Array.bind.apply(Array,f([void 0],l)));return p.sort(function(h,g){return c.call(null,h,g)?1:-1}),new Map(p)}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.HTML="http://www.w3.org/1999/xhtml",r.XML="http://www.w3.org/XML/1998/namespace",r.XMLNS="http://www.w3.org/2000/xmlns/",r.MathML="http://www.w3.org/1998/Math/MathML",r.SVG="http://www.w3.org/2000/svg",r.XLink="http://www.w3.org/1999/xlink"},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.enqueue=function(i,u){i.push(u)},r.dequeue=function(i){return i.shift()||null}},function(a,r,n){var i=this&&this.__generator||function(c,p){var h,g,y,m,x={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(d){return function(w){return function(C){if(h)throw new TypeError("Generator is already executing.");for(;x;)try{if(h=1,g&&(y=2&C[0]?g.return:C[0]?g.throw||((y=g.return)&&y.call(g),0):g.next)&&!(y=y.call(g,C[1])).done)return y;switch(g=0,y&&(C=[2&C[0],y.value]),C[0]){case 0:case 1:y=C;break;case 4:return x.label++,{value:C[1],done:!1};case 5:x.label++,g=C[1],C=[0];continue;case 7:C=x.ops.pop(),x.trys.pop();continue;default:if(y=x.trys,!((y=y.length>0&&y[y.length-1])||C[0]!==6&&C[0]!==2)){x=0;continue}if(C[0]===3&&(!y||C[1]>y[0]&&C[1]<y[3])){x.label=C[1];break}if(C[0]===6&&x.label<y[1]){x.label=y[1],y=C;break}if(y&&x.label<y[2]){x.label=y[2],x.ops.push(C);break}y[2]&&x.ops.pop(),x.trys.pop();continue}C=p.call(c,x)}catch(S){C=[6,S],g=0}finally{h=y=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([d,w])}}},u=this&&this.__values||function(c){var p=typeof Symbol=="function"&&Symbol.iterator,h=p&&c[p],g=0;if(h)return h.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&g>=c.length&&(c=void 0),{value:c&&c[g++],done:!c}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(c,p){var h=typeof Symbol=="function"&&c[Symbol.iterator];if(!h)return c;var g,y,m=h.call(c),x=[];try{for(;(p===void 0||p-- >0)&&!(g=m.next()).done;)x.push(g.value)}catch(v){y={error:v}}finally{try{g&&!g.done&&(h=m.return)&&h.call(m)}finally{if(y)throw y.error}}return x},f=this&&this.__spread||function(){for(var c=[],p=0;p<arguments.length;p++)c=c.concat(o(arguments[p]));return c};Object.defineProperty(r,"__esModule",{value:!0});var s=n(1);function l(c,p){var h,g;try{for(var y=u(c),m=y.next();!m.done;m=y.next()){var x=m.value;if(!p.has(x))return!1}}catch(v){h={error:v}}finally{try{m&&!m.done&&(g=y.return)&&g.call(y)}finally{if(h)throw h.error}}return!0}r.append=function(c,p){c.add(p)},r.extend=function(c,p){p.forEach(c.add,c)},r.prepend=function(c,p){var h=new Set(c);c.clear(),c.add(p),h.forEach(c.add,c)},r.replace=function(c,p,h){var g,y,m=new Set;try{for(var x=u(c),v=x.next();!v.done;v=x.next()){var d=v.value;s.isFunction(p)?p.call(null,d)?m.add(h):m.add(d):d===p?m.add(h):m.add(d)}}catch(w){g={error:w}}finally{try{v&&!v.done&&(y=x.return)&&y.call(x)}finally{if(g)throw g.error}}c.clear(),m.forEach(c.add,c)},r.insert=function(c,p,h){var g,y,m=new Set,x=0;try{for(var v=u(c),d=v.next();!d.done;d=v.next()){var w=d.value;x===h&&m.add(p),m.add(w),x++}}catch(C){g={error:C}}finally{try{d&&!d.done&&(y=v.return)&&y.call(v)}finally{if(g)throw g.error}}c.clear(),m.forEach(c.add,c)},r.remove=function(c,p){var h,g,y,m;if(s.isFunction(p)){var x=[];try{for(var v=u(c),d=v.next();!d.done;d=v.next()){var w=d.value;p.call(null,w)&&x.push(w)}}catch(_){h={error:_}}finally{try{d&&!d.done&&(g=v.return)&&g.call(v)}finally{if(h)throw h.error}}try{for(var C=u(x),S=C.next();!S.done;S=C.next()){var T=S.value;c.delete(T)}}catch(_){y={error:_}}finally{try{S&&!S.done&&(m=C.return)&&m.call(C)}finally{if(y)throw y.error}}}else c.delete(p)},r.empty=function(c){c.clear()},r.contains=function(c,p){var h,g;if(!s.isFunction(p))return c.has(p);try{for(var y=u(c),m=y.next();!m.done;m=y.next()){var x=m.value;if(p.call(null,x))return!0}}catch(v){h={error:v}}finally{try{m&&!m.done&&(g=y.return)&&g.call(y)}finally{if(h)throw h.error}}return!1},r.size=function(c,p){var h,g;if(p===void 0)return c.size;var y=0;try{for(var m=u(c),x=m.next();!x.done;x=m.next()){var v=x.value;p.call(null,v)&&y++}}catch(d){h={error:d}}finally{try{x&&!x.done&&(g=m.return)&&g.call(m)}finally{if(h)throw h.error}}return y},r.isEmpty=function(c){return c.size===0},r.forEach=function(c,p){var h,g,y,m,x,v;return i(this,function(d){switch(d.label){case 0:return p!==void 0?[3,2]:[5,u(c)];case 1:return d.sent(),[3,9];case 2:d.trys.push([2,7,8,9]),h=u(c),g=h.next(),d.label=3;case 3:return g.done?[3,6]:(y=g.value,p.call(null,y)?[4,y]:[3,5]);case 4:d.sent(),d.label=5;case 5:return g=h.next(),[3,3];case 6:return[3,9];case 7:return m=d.sent(),x={error:m},[3,9];case 8:try{g&&!g.done&&(v=h.return)&&v.call(h)}finally{if(x)throw x.error}return[7];case 9:return[2]}})},r.clone=function(c){return new Set(c)},r.sortInAscendingOrder=function(c,p){var h=new(Array.bind.apply(Array,f([void 0],c)));return h.sort(function(g,y){return p.call(null,g,y)?-1:1}),new Set(h)},r.sortInDescendingOrder=function(c,p){var h=new(Array.bind.apply(Array,f([void 0],c)));return h.sort(function(g,y){return p.call(null,g,y)?1:-1}),new Set(h)},r.isSubsetOf=l,r.isSupersetOf=function(c,p){return l(p,c)},r.intersection=function(c,p){var h,g,y=new Set;try{for(var m=u(c),x=m.next();!x.done;x=m.next()){var v=x.value;p.has(v)&&y.add(v)}}catch(d){h={error:d}}finally{try{x&&!x.done&&(g=m.return)&&g.call(m)}finally{if(h)throw h.error}}return y},r.union=function(c,p){var h=new Set(c);return p.forEach(h.add,h),h},r.range=function(c,p){for(var h=new Set,g=c;g<=p;g++)h.add(g);return h}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0}),r.push=function(i,u){i.push(u)},r.pop=function(i){return i.pop()||null}},function(a,r,n){var i=this&&this.__values||function(x){var v=typeof Symbol=="function"&&Symbol.iterator,d=v&&x[v],w=0;if(d)return d.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&w>=x.length&&(x=void 0),{value:x&&x[w++],done:!x}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=n(96),o=n(147),f=n(146),s=n(1);function l(x,v){for(var d=0;;){var w=d<x.length?x.charCodeAt(d):null,C=d<v.length?v.charCodeAt(d):null;if(w===null)return!0;if(w!==C)return!1;d++}}function c(x){var v,d,w=Array.from(x),C=new Uint8Array(w.length),S=0;try{for(var T=i(x),_=T.next();!_.done;_=T.next()){var D=_.value.codePointAt(0);console.assert(D!==void 0&&D<=255,"isomorphicEncode requires string bytes to be less than or equal to 0x00FF."),D!==void 0&&D<=255&&(C[S++]=D)}}catch(b){v={error:b}}finally{try{_&&!_.done&&(d=T.return)&&d.call(T)}finally{if(v)throw v.error}}return C}function p(x){return/^[\u0000-\u007F]*$/.test(x)}function h(x){var v,d,w="";try{for(var C=i(x),S=C.next();!S.done;S=C.next()){var T=S.value,_=T.codePointAt(0);w+=_!==void 0&&_>=65&&_<=90?String.fromCodePoint(_+32):T}}catch(D){v={error:D}}finally{try{S&&!S.done&&(d=C.return)&&d.call(C)}finally{if(v)throw v.error}}return w}function g(x){return x.replace(/^[\t\n\f\r ]+/,"").replace(/[\t\n\f\r ]+$/,"")}function y(x,v,d){if(!s.isArray(v))return y(x,Array.from(v),d);for(var w="";d.position<v.length&&x.call(null,v[d.position]);)w+=v[d.position],d.position++;return w}function m(x,v){y(function(d){return u.ASCIIWhiteSpace.test(d)},x,v)}r.isCodeUnitPrefix=l,r.isCodeUnitLessThan=function(x,v){if(l(v,x))return!1;if(l(x,v))return!0;for(var d=0;d<Math.min(x.length,v.length);d++){var w=x.charCodeAt(d),C=v.charCodeAt(d);if(w!==C)return w<C}return!1},r.isomorphicEncode=c,r.isASCIIString=p,r.asciiLowercase=h,r.asciiUppercase=function(x){var v,d,w="";try{for(var C=i(x),S=C.next();!S.done;S=C.next()){var T=S.value,_=T.codePointAt(0);w+=_!==void 0&&_>=97&&_<=122?String.fromCodePoint(_-32):T}}catch(D){v={error:D}}finally{try{S&&!S.done&&(d=C.return)&&d.call(C)}finally{if(v)throw v.error}}return w},r.asciiCaseInsensitiveMatch=function(x,v){return h(x)===h(v)},r.asciiEncode=function(x){return console.assert(p(x),"asciiEncode requires an ASCII string."),c(x)},r.asciiDecode=function(x){var v,d;try{for(var w=i(x),C=w.next();!C.done;C=w.next()){var S=C.value;console.assert(f.isASCIIByte(S),"asciiDecode requires an ASCII byte sequence.")}}catch(T){v={error:T}}finally{try{C&&!C.done&&(d=w.return)&&d.call(w)}finally{if(v)throw v.error}}return o.isomorphicDecode(x)},r.stripNewlines=function(x){return x.replace(/[\n\r]/g,"")},r.normalizeNewlines=function(x){return x.replace(/\r\n/g,`
`).replace(/\r/g,`
`)},r.stripLeadingAndTrailingASCIIWhitespace=g,r.stripAndCollapseASCIIWhitespace=function(x){return g(x.replace(/[\t\n\f\r ]{2,}/g," "))},r.collectASequenceOfCodePoints=y,r.skipASCIIWhitespace=m,r.strictlySplit=function x(v,d){if(!s.isArray(v))return x(Array.from(v),d);var w={position:0},C=[],S=y(function(T){return d!==T},v,w);for(C.push(S);w.position<v.length;)console.assert(v[w.position]===d,"strictlySplit found no delimiter in input string."),w.position++,S=y(function(T){return d!==T},v,w),C.push(S);return C},r.splitAStringOnASCIIWhitespace=function x(v){if(!s.isArray(v))return x(Array.from(v));var d={position:0},w=[];for(m(v,d);d.position<v.length;){var C=y(function(S){return!u.ASCIIWhiteSpace.test(S)},v,d);w.push(C),m(v,d)}return w},r.splitAStringOnCommas=function x(v){if(!s.isArray(v))return x(Array.from(v));for(var d={position:0},w=[];d.position<v.length;){var C=y(function(S){return S!==","},v,d);w.push(g(C)),d.position<v.length&&(console.assert(v[d.position]===",","splitAStringOnCommas found no delimiter in input string."),d.position++)}return w},r.concatenate=function(x,v){return v===void 0&&(v=""),x.length===0?"":x.join(v)}},function(a,r,n){var i=this&&this.__values||function(o){var f=typeof Symbol=="function"&&Symbol.iterator,s=f&&o[f],l=0;if(s)return s.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&l>=o.length&&(o=void 0),{value:o&&o[l++],done:!o}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=n(97);r.abort_add=function(o,f){f._abortedFlag||f._abortAlgorithms.add(o)},r.abort_remove=function(o,f){f._abortAlgorithms.delete(o)},r.abort_signalAbort=function(o){var f,s;if(!o._abortedFlag){o._abortedFlag=!0;try{for(var l=i(o._abortAlgorithms),c=l.next();!c.done;c=l.next())c.value.call(o)}catch(p){f={error:p}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(f)throw f.error}}o._abortAlgorithms.clear(),u.event_fireAnEvent("abort",o)}}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(150),u=function(){function o(){}return o.asNode=function(f){if(i.Guard.isNode(f))return f;throw new Error("Invalid object. Node expected.")},o}();r.Cast=u},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function o(){}return Object.defineProperty(o.prototype,"size",{get:function(){return 0},enumerable:!0,configurable:!0}),o.prototype.add=function(f){throw new Error("Cannot add to an empty set.")},o.prototype.clear=function(){},o.prototype.delete=function(f){return!1},o.prototype.forEach=function(f,s){},o.prototype.has=function(f){return!1},o.prototype[Symbol.iterator]=function(){return new u},o.prototype.entries=function(){return new u},o.prototype.keys=function(){return new u},o.prototype.values=function(){return new u},Object.defineProperty(o.prototype,Symbol.toStringTag,{get:function(){return"EmptySet"},enumerable:!0,configurable:!0}),o}();r.EmptySet=i;var u=function(){function o(){}return o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){return{done:!0,value:null}},o}()},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0}),function(i){i[i.SchemeStart=0]="SchemeStart",i[i.Scheme=1]="Scheme",i[i.NoScheme=2]="NoScheme",i[i.SpecialRelativeOrAuthority=3]="SpecialRelativeOrAuthority",i[i.PathOrAuthority=4]="PathOrAuthority",i[i.Relative=5]="Relative",i[i.RelativeSlash=6]="RelativeSlash",i[i.SpecialAuthoritySlashes=7]="SpecialAuthoritySlashes",i[i.SpecialAuthorityIgnoreSlashes=8]="SpecialAuthorityIgnoreSlashes",i[i.Authority=9]="Authority",i[i.Host=10]="Host",i[i.Hostname=11]="Hostname",i[i.Port=12]="Port",i[i.File=13]="File",i[i.FileSlash=14]="FileSlash",i[i.FileHost=15]="FileHost",i[i.PathStart=16]="PathStart",i[i.Path=17]="Path",i[i.CannotBeABaseURLPath=18]="CannotBeABaseURLPath",i[i.Query=19]="Query",i[i.Fragment=20]="Fragment"}(r.ParserState||(r.ParserState={})),r.OpaqueOrigin=["","",null,null]},function(a,r,n){var i=n(245),u=n(247);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=C,r.resolve=function(S,T){return C(S,!1,!0).resolve(T)},r.resolveObject=function(S,T){return S?C(S,!1,!0).resolveObject(T):T},r.format=function(S){return u.isString(S)&&(S=C(S)),S instanceof o?S.format():o.prototype.format.call(S)},r.Url=o;var f=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),p=["'"].concat(c),h=["%","/","?",";","#"].concat(p),g=["/","?","#"],y=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=n(248);function C(S,T,_){if(S&&u.isObject(S)&&S instanceof o)return S;var D=new o;return D.parse(S,T,_),D}o.prototype.parse=function(S,T,_){if(!u.isString(S))throw new TypeError("Parameter 'url' must be a string, not "+typeof S);var D=S.indexOf("?"),b=D!==-1&&D<S.indexOf("#")?"?":"#",E=S.split(b);E[0]=E[0].replace(/\\/g,"/");var N=S=E.join(b);if(N=N.trim(),!_&&S.split("#").length===1){var R=l.exec(N);if(R)return this.path=N,this.href=N,this.pathname=R[1],R[2]?(this.search=R[2],this.query=T?w.parse(this.search.substr(1)):this.search.substr(1)):T&&(this.search="",this.query={}),this}var M=f.exec(N);if(M){var G=(M=M[0]).toLowerCase();this.protocol=G,N=N.substr(M.length)}if(_||M||N.match(/^\/\/[^@\/]+@[^@\/]+/)){var j=N.substr(0,2)==="//";!j||M&&v[M]||(N=N.substr(2),this.slashes=!0)}if(!v[M]&&(j||M&&!d[M])){for(var z,V,L=-1,B=0;B<g.length;B++)($=N.indexOf(g[B]))!==-1&&(L===-1||$<L)&&(L=$);for((V=L===-1?N.lastIndexOf("@"):N.lastIndexOf("@",L))!==-1&&(z=N.slice(0,V),N=N.slice(V+1),this.auth=decodeURIComponent(z)),L=-1,B=0;B<h.length;B++){var $;($=N.indexOf(h[B]))!==-1&&(L===-1||$<L)&&(L=$)}L===-1&&(L=N.length),this.host=N.slice(0,L),N=N.slice(L),this.parseHost(),this.hostname=this.hostname||"";var H=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!H)for(var X=this.hostname.split(/\./),Z=(B=0,X.length);B<Z;B++){var Y=X[B];if(Y&&!Y.match(y)){for(var J="",ne=0,ee=Y.length;ne<ee;ne++)Y.charCodeAt(ne)>127?J+="x":J+=Y[ne];if(!J.match(y)){var te=X.slice(0,B),k=X.slice(B+1),O=Y.match(m);O&&(te.push(O[1]),k.unshift(O[2])),k.length&&(N="/"+k.join(".")+N),this.hostname=te.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),H||(this.hostname=i.toASCII(this.hostname));var A=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+A,this.href+=this.host,H&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),N[0]!=="/"&&(N="/"+N))}if(!x[G])for(B=0,Z=p.length;B<Z;B++){var P=p[B];if(N.indexOf(P)!==-1){var I=encodeURIComponent(P);I===P&&(I=escape(P)),N=N.split(P).join(I)}}var W=N.indexOf("#");W!==-1&&(this.hash=N.substr(W),N=N.slice(0,W));var Q=N.indexOf("?");if(Q!==-1?(this.search=N.substr(Q),this.query=N.substr(Q+1),T&&(this.query=w.parse(this.query)),N=N.slice(0,Q)):T&&(this.search="",this.query={}),N&&(this.pathname=N),d[G]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){A=this.pathname||"";var re=this.search||"";this.path=A+re}return this.href=this.format(),this},o.prototype.format=function(){var S=this.auth||"";S&&(S=(S=encodeURIComponent(S)).replace(/%3A/i,":"),S+="@");var T=this.protocol||"",_=this.pathname||"",D=this.hash||"",b=!1,E="";this.host?b=S+this.host:this.hostname&&(b=S+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(b+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(E=w.stringify(this.query));var N=this.search||E&&"?"+E||"";return T&&T.substr(-1)!==":"&&(T+=":"),this.slashes||(!T||d[T])&&b!==!1?(b="//"+(b||""),_&&_.charAt(0)!=="/"&&(_="/"+_)):b||(b=""),D&&D.charAt(0)!=="#"&&(D="#"+D),N&&N.charAt(0)!=="?"&&(N="?"+N),T+b+(_=_.replace(/[?#]/g,function(R){return encodeURIComponent(R)}))+(N=N.replace("#","%23"))+D},o.prototype.resolve=function(S){return this.resolveObject(C(S,!1,!0)).format()},o.prototype.resolveObject=function(S){if(u.isString(S)){var T=new o;T.parse(S,!1,!0),S=T}for(var _=new o,D=Object.keys(this),b=0;b<D.length;b++){var E=D[b];_[E]=this[E]}if(_.hash=S.hash,S.href==="")return _.href=_.format(),_;if(S.slashes&&!S.protocol){for(var N=Object.keys(S),R=0;R<N.length;R++){var M=N[R];M!=="protocol"&&(_[M]=S[M])}return d[_.protocol]&&_.hostname&&!_.pathname&&(_.path=_.pathname="/"),_.href=_.format(),_}if(S.protocol&&S.protocol!==_.protocol){if(!d[S.protocol]){for(var G=Object.keys(S),j=0;j<G.length;j++){var z=G[j];_[z]=S[z]}return _.href=_.format(),_}if(_.protocol=S.protocol,S.host||v[S.protocol])_.pathname=S.pathname;else{for(var V=(S.pathname||"").split("/");V.length&&!(S.host=V.shift()););S.host||(S.host=""),S.hostname||(S.hostname=""),V[0]!==""&&V.unshift(""),V.length<2&&V.unshift(""),_.pathname=V.join("/")}if(_.search=S.search,_.query=S.query,_.host=S.host||"",_.auth=S.auth,_.hostname=S.hostname||S.host,_.port=S.port,_.pathname||_.search){var L=_.pathname||"",B=_.search||"";_.path=L+B}return _.slashes=_.slashes||S.slashes,_.href=_.format(),_}var $=_.pathname&&_.pathname.charAt(0)==="/",H=S.host||S.pathname&&S.pathname.charAt(0)==="/",X=H||$||_.host&&S.pathname,Z=X,Y=_.pathname&&_.pathname.split("/")||[],J=(V=S.pathname&&S.pathname.split("/")||[],_.protocol&&!d[_.protocol]);if(J&&(_.hostname="",_.port=null,_.host&&(Y[0]===""?Y[0]=_.host:Y.unshift(_.host)),_.host="",S.protocol&&(S.hostname=null,S.port=null,S.host&&(V[0]===""?V[0]=S.host:V.unshift(S.host)),S.host=null),X=X&&(V[0]===""||Y[0]==="")),H)_.host=S.host||S.host===""?S.host:_.host,_.hostname=S.hostname||S.hostname===""?S.hostname:_.hostname,_.search=S.search,_.query=S.query,Y=V;else if(V.length)Y||(Y=[]),Y.pop(),Y=Y.concat(V),_.search=S.search,_.query=S.query;else if(!u.isNullOrUndefined(S.search))return J&&(_.hostname=_.host=Y.shift(),(O=!!(_.host&&_.host.indexOf("@")>0)&&_.host.split("@"))&&(_.auth=O.shift(),_.host=_.hostname=O.shift())),_.search=S.search,_.query=S.query,u.isNull(_.pathname)&&u.isNull(_.search)||(_.path=(_.pathname?_.pathname:"")+(_.search?_.search:"")),_.href=_.format(),_;if(!Y.length)return _.pathname=null,_.search?_.path="/"+_.search:_.path=null,_.href=_.format(),_;for(var ne=Y.slice(-1)[0],ee=(_.host||S.host||Y.length>1)&&(ne==="."||ne==="..")||ne==="",te=0,k=Y.length;k>=0;k--)(ne=Y[k])==="."?Y.splice(k,1):ne===".."?(Y.splice(k,1),te++):te&&(Y.splice(k,1),te--);if(!X&&!Z)for(;te--;te)Y.unshift("..");!X||Y[0]===""||Y[0]&&Y[0].charAt(0)==="/"||Y.unshift(""),ee&&Y.join("/").substr(-1)!=="/"&&Y.push("");var O,A=Y[0]===""||Y[0]&&Y[0].charAt(0)==="/";return J&&(_.hostname=_.host=A?"":Y.length?Y.shift():"",(O=!!(_.host&&_.host.indexOf("@")>0)&&_.host.split("@"))&&(_.auth=O.shift(),_.host=_.hostname=O.shift())),(X=X||_.host&&Y.length)&&!A&&Y.unshift(""),Y.length?_.pathname=Y.join("/"):(_.pathname=null,_.path=null),u.isNull(_.pathname)&&u.isNull(_.search)||(_.path=(_.pathname?_.pathname:"")+(_.search?_.search:"")),_.auth=S.auth||_.auth,_.slashes=_.slashes||S.slashes,_.href=_.format(),_},o.prototype.parseHost=function(){var S=this.host,T=s.exec(S);T&&((T=T[0])!==":"&&(this.port=T.substr(1)),S=S.substr(0,S.length-T.length)),S&&(this.hostname=S)}},function(a,r,n){(function(i,u){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(f){r&&r.nodeType,i&&i.nodeType;var s=typeof u=="object"&&u;s.global!==s&&s.window!==s&&s.self;var l,c=2147483647,p=/^xn--/,h=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,x=String.fromCharCode;function v(E){throw new RangeError(y[E])}function d(E,N){for(var R=E.length,M=[];R--;)M[R]=N(E[R]);return M}function w(E,N){var R=E.split("@"),M="";return R.length>1&&(M=R[0]+"@",E=R[1]),M+d((E=E.replace(g,".")).split("."),N).join(".")}function C(E){for(var N,R,M=[],G=0,j=E.length;G<j;)(N=E.charCodeAt(G++))>=55296&&N<=56319&&G<j?(64512&(R=E.charCodeAt(G++)))==56320?M.push(((1023&N)<<10)+(1023&R)+65536):(M.push(N),G--):M.push(N);return M}function S(E){return d(E,function(N){var R="";return N>65535&&(R+=x((N-=65536)>>>10&1023|55296),N=56320|1023&N),R+=x(N)}).join("")}function T(E,N){return E+22+75*(E<26)-((N!=0)<<5)}function _(E,N,R){var M=0;for(E=R?m(E/700):E>>1,E+=m(E/N);E>455;M+=36)E=m(E/35);return m(M+36*E/(E+38))}function D(E){var N,R,M,G,j,z,V,L,B,$,H,X=[],Z=E.length,Y=0,J=128,ne=72;for((R=E.lastIndexOf("-"))<0&&(R=0),M=0;M<R;++M)E.charCodeAt(M)>=128&&v("not-basic"),X.push(E.charCodeAt(M));for(G=R>0?R+1:0;G<Z;){for(j=Y,z=1,V=36;G>=Z&&v("invalid-input"),((L=(H=E.charCodeAt(G++))-48<10?H-22:H-65<26?H-65:H-97<26?H-97:36)>=36||L>m((c-Y)/z))&&v("overflow"),Y+=L*z,!(L<(B=V<=ne?1:V>=ne+26?26:V-ne));V+=36)z>m(c/($=36-B))&&v("overflow"),z*=$;ne=_(Y-j,N=X.length+1,j==0),m(Y/N)>c-J&&v("overflow"),J+=m(Y/N),Y%=N,X.splice(Y++,0,J)}return S(X)}function b(E){var N,R,M,G,j,z,V,L,B,$,H,X,Z,Y,J,ne=[];for(X=(E=C(E)).length,N=128,R=0,j=72,z=0;z<X;++z)(H=E[z])<128&&ne.push(x(H));for(M=G=ne.length,G&&ne.push("-");M<X;){for(V=c,z=0;z<X;++z)(H=E[z])>=N&&H<V&&(V=H);for(V-N>m((c-R)/(Z=M+1))&&v("overflow"),R+=(V-N)*Z,N=V,z=0;z<X;++z)if((H=E[z])<N&&++R>c&&v("overflow"),H==N){for(L=R,B=36;!(L<($=B<=j?1:B>=j+26?26:B-j));B+=36)J=L-$,Y=36-$,ne.push(x(T($+J%Y,0))),L=m(J/Y);ne.push(x(T(L,0))),j=_(R,Z,M==G),R=0,++M}++R,++N}return ne.join("")}l={version:"1.4.1",ucs2:{decode:C,encode:S},decode:D,encode:b,toASCII:function(E){return w(E,function(N){return h.test(N)?"xn--"+b(N):N})},toUnicode:function(E){return w(E,function(N){return p.test(N)?D(N.slice(4).toLowerCase()):N})}},(o=function(){return l}.call(r,n,r,i))===void 0||(i.exports=o)})()}).call(this,n(246)(a),n(78))},function(a,r){a.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(a,r,n){a.exports={isString:function(i){return typeof i=="string"},isObject:function(i){return typeof i=="object"&&i!==null},isNull:function(i){return i===null},isNullOrUndefined:function(i){return i==null}}},function(a,r,n){r.decode=r.parse=n(249),r.encode=r.stringify=n(250)},function(a,r,n){function i(o,f){return Object.prototype.hasOwnProperty.call(o,f)}a.exports=function(o,f,s,l){f=f||"&",s=s||"=";var c={};if(typeof o!="string"||o.length===0)return c;var p=/\+/g;o=o.split(f);var h=1e3;l&&typeof l.maxKeys=="number"&&(h=l.maxKeys);var g=o.length;h>0&&g>h&&(g=h);for(var y=0;y<g;++y){var m,x,v,d,w=o[y].replace(p,"%20"),C=w.indexOf(s);C>=0?(m=w.substr(0,C),x=w.substr(C+1)):(m=w,x=""),v=decodeURIComponent(m),d=decodeURIComponent(x),i(c,v)?u(c[v])?c[v].push(d):c[v]=[c[v],d]:c[v]=d}return c};var u=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"}},function(a,r,n){var i=function(s){switch(typeof s){case"string":return s;case"boolean":return s?"true":"false";case"number":return isFinite(s)?s:"";default:return""}};a.exports=function(s,l,c,p){return l=l||"&",c=c||"=",s===null&&(s=void 0),typeof s=="object"?o(f(s),function(h){var g=encodeURIComponent(i(h))+c;return u(s[h])?o(s[h],function(y){return g+encodeURIComponent(i(y))}).join(l):g+encodeURIComponent(i(s[h]))}).join(l):p?encodeURIComponent(i(p))+c+encodeURIComponent(i(s)):""};var u=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function o(s,l){if(s.map)return s.map(l);for(var c=[],p=0;p<s.length;p++)c.push(l(s[p],p));return c}var f=Object.keys||function(s){var l=[];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&l.push(c);return l}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(52);r.attr_setAnExistingAttributeValue=function(u,o){u._element===null?u._value=o:i.element_change(u,u._element,o)}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(108),u=n(30),o=n(52);r.tokenList_validationSteps=function(f,s){if(!u.dom_hasSupportedTokens(f._attribute._localName))throw new TypeError("There are no supported tokens defined for attribute name: '"+f._attribute._localName+"'.");return u.dom_getSupportedTokens(f._attribute._localName).has(s.toLowerCase())},r.tokenList_updateSteps=function(f){(f._element.hasAttribute(f._attribute._localName)||f._tokenSet.size!==0)&&o.element_setAnAttributeValue(f._element,f._attribute._localName,i.orderedSet_serialize(f._tokenSet))},r.tokenList_serializeSteps=function(f){return o.element_getAnAttributeValue(f._element,f._attribute._localName)}},function(a,r,n){var i=this&&this.__values||function(f){var s=typeof Symbol=="function"&&Symbol.iterator,l=s&&f[s],c=0;if(l)return l.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&c>=f.length&&(f=void 0),{value:f&&f[c++],done:!f}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=n(1);function o(f){return u.isBoolean(f)?f:f.capture||!1}r.eventTarget_flatten=o,r.eventTarget_flattenMore=function(f){var s=o(f),l=!1,c=!1;return u.isBoolean(f)||(l=f.once||!1,c=f.passive||!1),[s,c,l]},r.eventTarget_addEventListener=function(f,s){if(s.callback!==null){for(var l=0;l<f._eventListenerList.length;l++){var c=f._eventListenerList[l];if(c.type===s.type&&c.callback.handleEvent===s.callback.handleEvent&&c.capture===s.capture)return}f._eventListenerList.push(s)}},r.eventTarget_removeEventListener=function(f,s,l){s.removed=!0,f._eventListenerList.splice(l,1)},r.eventTarget_removeAllEventListeners=function(f){var s,l;try{for(var c=i(f._eventListenerList),p=c.next();!p.done;p=c.next())p.value.removed=!0}catch(h){s={error:h}}finally{try{p&&!p.done&&(l=c.return)&&l.call(c)}finally{if(s)throw s.error}}f._eventListenerList.length=0}},function(a,r,n){var i=this&&this.__values||function(f){var s=typeof Symbol=="function"&&Symbol.iterator,l=s&&f[s],c=0;if(l)return l.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&c>=f.length&&(f=void 0),{value:f&&f[c++],done:!f}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=n(1),o=n(29);r.parentNode_convertNodesIntoANode=function(f,s){for(var l,c,p=null,h=0;h<f.length;h++){var g=f[h];if(u.isString(g)){var y=o.create_text(s,g);f[h]=y}}if(f.length===1)p=f[0];else{var m=p=o.create_documentFragment(s);try{for(var x=i(f),v=x.next();!v.done;v=x.next())g=v.value,m.appendChild(g)}catch(d){l={error:d}}finally{try{v&&!v.done&&(c=x.return)&&c.call(x)}finally{if(l)throw l.error}}}return p}},function(a,r,n){var i=this&&this.__values||function(T){var _=typeof Symbol=="function"&&Symbol.iterator,D=_&&T[_],b=0;if(D)return D.call(T);if(T&&typeof T.length=="number")return{next:function(){return T&&b>=T.length&&(T=void 0),{value:T&&T[b++],done:!T}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(T,_){var D=typeof Symbol=="function"&&T[Symbol.iterator];if(!D)return T;var b,E,N=D.call(T),R=[];try{for(;(_===void 0||_-- >0)&&!(b=N.next()).done;)R.push(b.value)}catch(M){E={error:M}}finally{try{b&&!b.done&&(D=N.return)&&D.call(N)}finally{if(E)throw E.error}}return R},o=this&&this.__spread||function(){for(var T=[],_=0;_<arguments.length;_++)T=T.concat(u(arguments[_]));return T};Object.defineProperty(r,"__esModule",{value:!0});var f=n(2),s=n(9),l=n(3),c=n(29),p=n(17),h=n(175),g=n(107),y=n(176),m=n(37),x=n(177);function v(T){return T._startNode===T._endNode&&T._startOffset===T._endOffset}function d(T){return p.tree_rootNode(T._startNode)}function w(T,_){return p.tree_rootNode(T)===d(_)&&h.boundaryPoint_position([T,0],_._start)===f.BoundaryPosition.After&&h.boundaryPoint_position([T,p.tree_nodeLength(T)],_._end)===f.BoundaryPosition.Before}function C(T,_){var D=p.tree_isAncestorOf(_._startNode,T,!0),b=p.tree_isAncestorOf(_._endNode,T,!0);return D&&!b||!D&&b}function S(T){var _,D,b,E,N,R,M=c.create_documentFragment(T._startNode._nodeDocument);if(v(T))return M;var G=T._startNode,j=T._startOffset,z=T._endNode,V=T._endOffset;if(G===z&&l.Guard.isCharacterDataNode(G))return(F=y.node_clone(G))._data=g.characterData_substringData(G,j,V-j),m.mutation_append(F,M),g.characterData_replaceData(G,j,V-j,""),M;for(var L=G;!p.tree_isAncestorOf(z,L,!0);){if(L._parent===null)throw new Error("Parent node  is null.");L=L._parent}var B=null;if(!p.tree_isAncestorOf(z,G,!0))try{for(var $=i(L._children),H=$.next();!H.done;H=$.next())if(C(J=H.value,T)){B=J;break}}catch(re){_={error:re}}finally{try{H&&!H.done&&(D=$.return)&&D.call($)}finally{if(_)throw _.error}}var X=null;if(!p.tree_isAncestorOf(G,z,!0))for(var Z=o(L._children),Y=Z.length-1;Y>0;Y--){var J;if(C(J=Z[Y],T)){X=J;break}}var ne,ee,te=[];try{for(var k=i(L._children),O=k.next();!O.done;O=k.next())if(w(Q=O.value,T)){if(l.Guard.isDocumentTypeNode(Q))throw new s.HierarchyRequestError;te.push(Q)}}catch(re){b={error:re}}finally{try{O&&!O.done&&(E=k.return)&&E.call(k)}finally{if(b)throw b.error}}if(p.tree_isAncestorOf(z,G,!0))ne=G,ee=j;else{for(var A=G;A._parent!==null&&!p.tree_isAncestorOf(z,A._parent);)A=A._parent;if(A._parent===null)throw new Error("Parent node is null.");ne=A._parent,ee=1+p.tree_index(A)}if(l.Guard.isCharacterDataNode(B))(F=y.node_clone(G))._data=g.characterData_substringData(G,j,p.tree_nodeLength(G)-j),m.mutation_append(F,M),g.characterData_replaceData(G,j,p.tree_nodeLength(G)-j,"");else if(B!==null){var F=y.node_clone(B);m.mutation_append(F,M);var P=S(c.create_range([G,j],[B,p.tree_nodeLength(B)]));m.mutation_append(P,F)}try{for(var I=i(te),W=I.next();!W.done;W=I.next()){var Q=W.value;m.mutation_append(Q,M)}}catch(re){N={error:re}}finally{try{W&&!W.done&&(R=I.return)&&R.call(I)}finally{if(N)throw N.error}}return l.Guard.isCharacterDataNode(X)?((F=y.node_clone(z))._data=g.characterData_substringData(z,0,V),m.mutation_append(F,M),g.characterData_replaceData(z,0,V,"")):X!==null&&(F=y.node_clone(X),m.mutation_append(F,M),P=S(c.create_range([X,0],[z,V])),m.mutation_append(P,F)),T._start=[ne,ee],T._end=[ne,ee],M}r.range_collapsed=v,r.range_root=d,r.range_isContained=w,r.range_isPartiallyContained=C,r.range_setTheStart=function(T,_,D){if(l.Guard.isDocumentTypeNode(_))throw new s.InvalidNodeTypeError;if(D>p.tree_nodeLength(_))throw new s.IndexSizeError;var b=[_,D];d(T)===p.tree_rootNode(_)&&h.boundaryPoint_position(b,T._end)!==f.BoundaryPosition.After||(T._end=b),T._start=b},r.range_setTheEnd=function(T,_,D){if(l.Guard.isDocumentTypeNode(_))throw new s.InvalidNodeTypeError;if(D>p.tree_nodeLength(_))throw new s.IndexSizeError;var b=[_,D];d(T)===p.tree_rootNode(_)&&h.boundaryPoint_position(b,T._start)!==f.BoundaryPosition.Before||(T._start=b),T._end=b},r.range_select=function(T,_){var D=T._parent;if(D===null)throw new s.InvalidNodeTypeError;var b=p.tree_index(T);_._start=[D,b],_._end=[D,b+1]},r.range_extract=S,r.range_cloneTheContents=function T(_){var D,b,E,N,R,M,G=c.create_documentFragment(_._startNode._nodeDocument);if(v(_))return G;var j=_._startNode,z=_._startOffset,V=_._endNode,L=_._endOffset;j===V&&l.Guard.isCharacterDataNode(j)&&((O=y.node_clone(j))._data=g.characterData_substringData(j,z,L-z),m.mutation_append(O,G));for(var B=j;!p.tree_isAncestorOf(V,B,!0);){if(B._parent===null)throw new Error("Parent node  is null.");B=B._parent}var $=null;if(!p.tree_isAncestorOf(V,j,!0))try{for(var H=i(B._children),X=H.next();!X.done;X=H.next())if(C(ne=X.value,_)){$=ne;break}}catch(W){D={error:W}}finally{try{X&&!X.done&&(b=H.return)&&b.call(H)}finally{if(D)throw D.error}}var Z=null;if(!p.tree_isAncestorOf(j,V,!0))for(var Y=o(B._children),J=Y.length-1;J>0;J--){var ne;if(C(ne=Y[J],_)){Z=ne;break}}var ee=[];try{for(var te=i(B._children),k=te.next();!k.done;k=te.next())if(w(I=k.value,_)){if(l.Guard.isDocumentTypeNode(I))throw new s.HierarchyRequestError;ee.push(I)}}catch(W){E={error:W}}finally{try{k&&!k.done&&(N=te.return)&&N.call(te)}finally{if(E)throw E.error}}if(l.Guard.isCharacterDataNode($))(O=y.node_clone(j))._data=g.characterData_substringData(j,z,p.tree_nodeLength(j)-z),m.mutation_append(O,G);else if($!==null){var O=y.node_clone($);m.mutation_append(O,G);var A=T(c.create_range([j,z],[$,p.tree_nodeLength($)]));m.mutation_append(A,O)}try{for(var F=i(ee),P=F.next();!P.done;P=F.next()){var I=P.value,O=y.node_clone(I);m.mutation_append(O,G)}}catch(W){R={error:W}}finally{try{P&&!P.done&&(M=F.return)&&M.call(F)}finally{if(R)throw R.error}}return l.Guard.isCharacterDataNode(Z)?((O=y.node_clone(V))._data=g.characterData_substringData(V,0,L),m.mutation_append(O,G)):Z!==null&&(O=y.node_clone(Z),G.append(O),A=S(c.create_range([Z,0],[V,L])),m.mutation_append(A,O)),G},r.range_insert=function(T,_){var D,b;if(l.Guard.isProcessingInstructionNode(_._startNode)||l.Guard.isCommentNode(_._startNode)||l.Guard.isTextNode(_._startNode)&&_._startNode._parent===null||_._startNode===T)throw new s.HierarchyRequestError;var E,N=null;if(l.Guard.isTextNode(_._startNode))N=_._startNode;else{var R=0;try{for(var M=i(_._startNode._children),G=M.next();!G.done;G=M.next()){var j=G.value;if(R===_._startOffset){N=j;break}R++}}catch(V){D={error:V}}finally{try{G&&!G.done&&(b=M.return)&&b.call(M)}finally{if(D)throw D.error}}}if(N===null)E=_._startNode;else{if(N._parent===null)throw new Error("Parent node is null.");E=N._parent}m.mutation_ensurePreInsertionValidity(T,E,N),l.Guard.isTextNode(_._startNode)&&(N=x.text_split(_._startNode,_._startOffset)),T===N&&(N=T._nextSibling),T._parent!==null&&m.mutation_remove(T,T._parent);var z=N===null?p.tree_nodeLength(E):p.tree_index(N);l.Guard.isDocumentFragmentNode(T)?z+=p.tree_nodeLength(T):z++,m.mutation_preInsert(T,E,N),v(_)&&(_._end=[E,z])},r.range_getContainedNodes=function(T){var _;return(_={})[Symbol.iterator]=function(){var D=T.commonAncestorContainer,b=p.tree_getFirstDescendantNode(D);return{next:function(){for(;b&&!w(b,T);)b=p.tree_getNextDescendantNode(D,b);if(b===null)return{done:!0,value:null};var E={done:!1,value:b};return b=p.tree_getNextDescendantNode(D,b),E}}},_},r.range_getPartiallyContainedNodes=function(T){var _;return(_={})[Symbol.iterator]=function(){var D=T.commonAncestorContainer,b=p.tree_getFirstDescendantNode(D);return{next:function(){for(;b&&!C(b,T);)b=p.tree_getNextDescendantNode(D,b);if(b===null)return{done:!0,value:null};var E={done:!1,value:b};return b=p.tree_getNextDescendantNode(D,b),E}}},_}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(9);r.selectors_scopeMatchASelectorsString=function(u,o){throw new i.NotSupportedError}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(2),u=n(105);r.treeWalker_traverseChildren=function(o,f){for(var s=f?o._current._firstChild:o._current._lastChild;s!==null;){var l=u.traversal_filter(o,s);if(l===i.FilterResult.Accept)return o._current=s,s;if(l===i.FilterResult.Skip){var c=f?s._firstChild:s._lastChild;if(c!==null){s=c;continue}}for(;s!==null;){var p=f?s._nextSibling:s._previousSibling;if(p!==null){s=p;break}var h=s._parent;if(h===null||h===o._root||h===o._current)return null;s=h}}return null},r.treeWalker_traverseSiblings=function(o,f){var s=o._current;if(s===o._root)return null;for(;;){for(var l=f?s._nextSibling:s._previousSibling;l!==null;){s=l;var c=u.traversal_filter(o,s);if(c===i.FilterResult.Accept)return o._current=s,s;l=f?s._firstChild:s._lastChild,c!==i.FilterResult.Reject&&l!==null||(l=f?s._nextSibling:s._previousSibling)}if((s=s._parent)===null||s===o._root||u.traversal_filter(o,s)===i.FilterResult.Accept)return null}}},function(a,r,n){n(89),n(74);var i,u=this&&this.__extends||(i=function(p,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var m in y)y.hasOwnProperty(m)&&(g[m]=y[m])})(p,h)},function(p,h){function g(){this.constructor=p}i(p,h),p.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(1),f=n(2),s=n(50),l=n(3),c=function(p){function h(g,y){var m=p.call(this,g)||this;return m._indentation={},m._lengthToLastNewline=0,m._writerOptions=o.applyDefaults(y,{wellFormed:!1,headless:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,indentTextOnlyNodes:!1,spaceBeforeSlash:!1}),m}return u(h,p),h.prototype.serialize=function(g){return this._refs={suppressPretty:!1,emptyNode:!1,markup:""},g.nodeType!==f.NodeType.Document||this._writerOptions.headless||this.declaration(this._builderOptions.version,this._builderOptions.encoding,this._builderOptions.standalone),this.serializeNode(g,this._writerOptions.wellFormed),this._writerOptions.prettyPrint&&this._refs.markup.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(this._refs.markup=this._refs.markup.slice(0,-this._writerOptions.newline.length)),this._refs.markup},h.prototype.declaration=function(g,y,m){this._beginLine(),this._refs.markup+='<?xml version="'+g+'"',y!==void 0&&(this._refs.markup+=' encoding="'+y+'"'),m!==void 0&&(this._refs.markup+=' standalone="'+(m?"yes":"no")+'"'),this._refs.markup+="?>",this._endLine()},h.prototype.docType=function(g,y,m){this._beginLine(),this._refs.markup+=y&&m?"<!DOCTYPE "+g+' PUBLIC "'+y+'" "'+m+'">':y?"<!DOCTYPE "+g+' PUBLIC "'+y+'">':m?"<!DOCTYPE "+g+' SYSTEM "'+m+'">':"<!DOCTYPE "+g+">",this._endLine()},h.prototype.openTagBegin=function(g){this._beginLine(),this._refs.markup+="<"+g},h.prototype.openTagEnd=function(g,y,m){if(this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._writerOptions.prettyPrint&&!y&&!m){for(var x=!0,v=!0,d=this.currentNode.firstChild,w=0,C=0;d;){if(l.Guard.isExclusiveTextNode(d))C++;else{if(!l.Guard.isCDATASectionNode(d)){x=!1,v=!1;break}w++}d.data!==""&&(v=!1),d=d.nextSibling}this._refs.suppressPretty=!this._writerOptions.indentTextOnlyNodes&&x&&(w<=1&&C===0||w===0),this._refs.emptyNode=v}(m||y||this._refs.emptyNode)&&this._writerOptions.allowEmptyTags?this._refs.markup+="></"+g+">":this._refs.markup+=m?" />":y||this._refs.emptyNode?this._writerOptions.spaceBeforeSlash?" />":"/>":">",this._endLine()},h.prototype.closeTag=function(g){this._refs.emptyNode||(this._beginLine(),this._refs.markup+="</"+g+">"),this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._endLine()},h.prototype.attribute=function(g,y){var m=g+'="'+y+'"';this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._refs.markup.length-this._lengthToLastNewline+1+m.length>this._writerOptions.width?(this._endLine(),this._beginLine(),this._refs.markup+=this._indent(1)+m):this._refs.markup+=" "+m},h.prototype.text=function(g){g!==""&&(this._beginLine(),this._refs.markup+=g,this._endLine())},h.prototype.cdata=function(g){g!==""&&(this._beginLine(),this._refs.markup+="<![CDATA["+g+"]]>",this._endLine())},h.prototype.comment=function(g){this._beginLine(),this._refs.markup+="<!--"+g+"-->",this._endLine()},h.prototype.instruction=function(g,y){this._beginLine(),this._refs.markup+="<?"+(y===""?g:g+" "+y)+"?>",this._endLine()},h.prototype._beginLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._indent(this._writerOptions.offset+this.level))},h.prototype._endLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._writerOptions.newline,this._lengthToLastNewline=this._refs.markup.length)},h.prototype._indent=function(g){if(g<=0)return"";if(this._indentation[g]!==void 0)return this._indentation[g];var y=this._writerOptions.indent.repeat(g);return this._indentation[g]=y,y},h}(s.BaseWriter);r.XMLWriter=c},function(a,r,n){var i=n(47),u=n(35);a.exports="".repeat||function(o){var f=String(u(this)),s="",l=i(o);if(l<0||l==1/0)throw RangeError("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(f+=f))1&l&&(s+=f);return s}},function(a,r,n){n(31),n(32),n(33),n(19),n(178),n(20),n(22),n(23);var i,u=this&&this.__extends||(i=function(c,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var y in g)g.hasOwnProperty(y)&&(h[y]=g[y])})(c,p)},function(c,p){function h(){this.constructor=c}i(c,p),c.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}),o=this&&this.__values||function(c){var p=typeof Symbol=="function"&&Symbol.iterator,h=p&&c[p],g=0;if(h)return h.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&g>=c.length&&(c=void 0),{value:c&&c[g++],done:!c}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var f=n(67),s=n(1),l=function(c){function p(h,g){var y=c.call(this,h)||this;return y._writerOptions=s.applyDefaults(g,{wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),y}return u(p,c),p.prototype.serialize=function(h){var g=s.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),y=new f.ObjectWriter(this._builderOptions,g).serialize(h);return this._beginLine(this._writerOptions,0)+this._convertObject(y,this._writerOptions)},p.prototype._convertObject=function(h,g,y){var m,x,v=this;y===void 0&&(y=0);var d="",w=this._isLeafNode(h);if(s.isArray(h)){d+="[";var C=h.length,S=0;try{for(var T=o(h),_=T.next();!_.done;_=T.next()){var D=_.value;d+=this._endLine(g,y+1)+this._beginLine(g,y+1)+this._convertObject(D,g,y+1),S<C-1&&(d+=","),S++}}catch(N){m={error:N}}finally{try{_&&!_.done&&(x=T.return)&&x.call(T)}finally{if(m)throw m.error}}d+=this._endLine(g,y)+this._beginLine(g,y),d+="]"}else if(s.isObject(h)){d+="{";var b=s.objectLength(h),E=0;s.forEachObject(h,function(N,R){w&&g.prettyPrint?d+=" ":d+=v._endLine(g,y+1)+v._beginLine(g,y+1),d+=v._key(N),g.prettyPrint&&(d+=" "),d+=v._convertObject(R,g,y+1),E<b-1&&(d+=","),E++},this),w&&g.prettyPrint?d+=" ":d+=this._endLine(g,y)+this._beginLine(g,y),d+="}"}else d+=this._val(h);return d},p.prototype._beginLine=function(h,g){if(!h.prettyPrint)return"";var y=h.offset+g+1;return y>0?new Array(y).join(h.indent):""},p.prototype._endLine=function(h,g){return h.prettyPrint?h.newline:""},p.prototype._key=function(h){return'"'+h+'":'},p.prototype._val=function(h){return JSON.stringify(h)},p.prototype._isLeafNode=function(h){return this._descendantCount(h)<=1},p.prototype._descendantCount=function(h,g){var y=this;return g===void 0&&(g=0),s.isArray(h)?s.forEachArray(h,function(m){return g+=y._descendantCount(m,g)},this):s.isObject(h)?s.forEachObject(h,function(m,x){return g+=y._descendantCount(x,g)},this):g++,g},p}(n(50).BaseWriter);r.JSONWriter=l},function(a,r,n){n(31),n(32),n(33),n(19),n(178),n(89),n(20),n(22),n(23);var i,u=this&&this.__extends||(i=function(c,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var y in g)g.hasOwnProperty(y)&&(h[y]=g[y])})(c,p)},function(c,p){function h(){this.constructor=c}i(c,p),c.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)}),o=this&&this.__values||function(c){var p=typeof Symbol=="function"&&Symbol.iterator,h=p&&c[p],g=0;if(h)return h.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&g>=c.length&&(c=void 0),{value:c&&c[g++],done:!c}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var f=n(67),s=n(1),l=function(c){function p(h,g){var y=c.call(this,h)||this;if(y._writerOptions=s.applyDefaults(g,{wellFormed:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),y._writerOptions.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(y._writerOptions.offset<0)throw new Error("YAML offset should be zero or a positive number.");return y}return u(p,c),p.prototype.serialize=function(h){var g=s.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),y=new f.ObjectWriter(this._builderOptions,g).serialize(h),m=this._beginLine(this._writerOptions,0)+"---"+this._endLine(this._writerOptions)+this._convertObject(y,this._writerOptions,0);return m.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(m=m.slice(0,-this._writerOptions.newline.length)),m},p.prototype._convertObject=function(h,g,y,m){var x,v,d=this;m===void 0&&(m=!1);var w="";if(s.isArray(h))try{for(var C=o(h),S=C.next();!S.done;S=C.next()){var T=S.value;w+=this._beginLine(g,y,!0),s.isObject(T)?s.isEmpty(T)?w+='""'+this._endLine(g):w+=this._convertObject(T,g,y,!0):w+=this._val(T)+this._endLine(g)}}catch(_){x={error:_}}finally{try{S&&!S.done&&(v=C.return)&&v.call(C)}finally{if(x)throw x.error}}else s.forEachObject(h,function(_,D){m?(w+=d._key(_),m=!1):w+=d._beginLine(g,y)+d._key(_),s.isObject(D)?s.isEmpty(D)?w+=' ""'+d._endLine(g):w+=d._endLine(g)+d._convertObject(D,g,y+1):w+=" "+d._val(D)+d._endLine(g)},this);return w},p.prototype._beginLine=function(h,g,y){y===void 0&&(y=!1);var m=h.offset+g+1,x=new Array(m).join(h.indent);return y?x.substr(0,x.length-2)+"-"+x.substr(-1,1):x},p.prototype._endLine=function(h){return h.newline},p.prototype._key=function(h){return'"'+h+'":'},p.prototype._val=function(h){return JSON.stringify(h)},p}(n(50).BaseWriter);r.YAMLWriter=l},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0}),n(110).dom.setFeatures(!0);var i=n(110);r.DOMImplementation=i.DOMImplementation;var u=n(271);r.DOMParser=u.DOMParser;var o=n(274);r.XMLSerializer=o.XMLSerializer},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(3),u=n(0),o=function(){function f(){}return f.prototype.before=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=i.Cast.asNode(this),p=c._parent;if(p!==null){for(var h=c._previousSibling,g=!0;g&&h;){g=!1;for(var y=0;y<s.length;y++){var m=s[y];if(m===h){h=h._previousSibling,g=!0;break}}}var x=u.parentNode_convertNodesIntoANode(s,c._nodeDocument);h=h===null?p._firstChild:h._nextSibling,u.mutation_preInsert(x,p,h)}},f.prototype.after=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=i.Cast.asNode(this),p=c._parent;if(p){for(var h=c._nextSibling,g=!0;g&&h;){g=!1;for(var y=0;y<s.length;y++){var m=s[y];if(m===h){h=h._nextSibling,g=!0;break}}}var x=u.parentNode_convertNodesIntoANode(s,c._nodeDocument);u.mutation_preInsert(x,p,h)}},f.prototype.replaceWith=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=i.Cast.asNode(this),p=c._parent;if(p){for(var h=c._nextSibling,g=!0;g&&h;){g=!1;for(var y=0;y<s.length;y++){var m=s[y];if(m===h){h=h._nextSibling,g=!0;break}}}var x=u.parentNode_convertNodesIntoANode(s,c._nodeDocument);c._parent===p?u.mutation_replace(c,x,p):u.mutation_preInsert(x,p,h)}},f.prototype.remove=function(){var s=i.Cast.asNode(this),l=s._parent;l&&u.mutation_remove(s,l)},f}();r.ChildNodeImpl=o},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){};r.DocumentOrShadowRootImpl=i},function(a,r,n){var i=this&&this.__values||function(l){var c=typeof Symbol=="function"&&Symbol.iterator,p=c&&l[c],h=0;if(p)return p.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&h>=l.length&&(l=void 0),{value:l&&l[h++],done:!l}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=n(6),o=n(3),f=n(7),s=function(){function l(c){this._nodeList=[],this._recordQueue=[],this._callback=c;var p=u.dom.window;f.set.append(p._mutationObservers,this)}return l.prototype.observe=function(c,p){var h,g;if((p=p||{childList:!1,subtree:!1}).attributeOldValue===void 0&&p.attributeFilter===void 0||p.attributes!==void 0||(p.attributes=!0),p.characterDataOldValue!==void 0&&p.characterData===void 0&&(p.characterData=!0),!p.childList&&!p.attributes&&!p.characterData)throw new TypeError;if(p.attributeOldValue&&!p.attributes)throw new TypeError;if(p.attributeFilter!==void 0&&!p.attributes)throw new TypeError;if(p.characterDataOldValue&&!p.characterData)throw new TypeError;var y=!1,m=p,x=function(C){var S,T;if(C.observer===v){y=!0;try{for(var _=(S=void 0,i(v._nodeList)),D=_.next();!D.done;D=_.next()){var b=D.value;f.list.remove(b._registeredObserverList,function(E){return o.Guard.isTransientRegisteredObserver(E)&&E.source===C})}}catch(E){S={error:E}}finally{try{D&&!D.done&&(T=_.return)&&T.call(_)}finally{if(S)throw S.error}}C.options=m}},v=this;try{for(var d=i(c._registeredObserverList),w=d.next();!w.done;w=d.next())x(w.value)}catch(C){h={error:C}}finally{try{w&&!w.done&&(g=d.return)&&g.call(d)}finally{if(h)throw h.error}}y||(c._registeredObserverList.push({observer:this,options:p}),this._nodeList.push(c))},l.prototype.disconnect=function(){var c,p,h=this;try{for(var g=i(this._nodeList),y=g.next();!y.done;y=g.next()){var m=y.value;f.list.remove(m._registeredObserverList,function(x){return x.observer===h})}}catch(x){c={error:x}}finally{try{y&&!y.done&&(p=g.return)&&p.call(g)}finally{if(c)throw c.error}}this._recordQueue=[]},l.prototype.takeRecords=function(){var c=this._recordQueue;return this._recordQueue=[],c},l}();r.MutationObserverImpl=s},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(3),u=function(){function o(){}return Object.defineProperty(o.prototype,"previousElementSibling",{get:function(){for(var f=i.Cast.asNode(this)._previousSibling;f;){if(i.Guard.isElementNode(f))return f;f=f._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"nextElementSibling",{get:function(){for(var f=i.Cast.asNode(this)._nextSibling;f;){if(i.Guard.isElementNode(f))return f;f=f._nextSibling}return null},enumerable:!0,configurable:!0}),o}();r.NonDocumentTypeChildNodeImpl=u},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(3),u=n(0),o=function(){function f(){}return f.prototype.getElementById=function(s){for(var l=u.tree_getFirstDescendantNode(i.Cast.asNode(this),!1,!1,function(c){return i.Guard.isElementNode(c)});l!==null;){if(l._uniqueIdentifier===s)return l;l=u.tree_getNextDescendantNode(i.Cast.asNode(this),l,!1,!1,function(c){return i.Guard.isElementNode(c)})}return null},f}();r.NonElementParentNodeImpl=o},function(a,r,n){var i=this&&this.__values||function(s){var l=typeof Symbol=="function"&&Symbol.iterator,c=l&&s[l],p=0;if(c)return c.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&p>=s.length&&(s=void 0),{value:s&&s[p++],done:!s}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=n(3),o=n(0),f=function(){function s(){}return Object.defineProperty(s.prototype,"children",{get:function(){return o.create_htmlCollection(u.Cast.asNode(this))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"firstElementChild",{get:function(){for(var l=u.Cast.asNode(this)._firstChild;l;){if(u.Guard.isElementNode(l))return l;l=l._nextSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"lastElementChild",{get:function(){for(var l=u.Cast.asNode(this)._lastChild;l;){if(u.Guard.isElementNode(l))return l;l=l._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"childElementCount",{get:function(){var l,c,p=0;try{for(var h=i(u.Cast.asNode(this)._children),g=h.next();!g.done;g=h.next()){var y=g.value;u.Guard.isElementNode(y)&&p++}}catch(m){l={error:m}}finally{try{g&&!g.done&&(c=h.return)&&c.call(h)}finally{if(l)throw l.error}}return p},enumerable:!0,configurable:!0}),s.prototype.prepend=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var p=u.Cast.asNode(this),h=o.parentNode_convertNodesIntoANode(l,p._nodeDocument);o.mutation_preInsert(h,p,p._firstChild)},s.prototype.append=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var p=u.Cast.asNode(this),h=o.parentNode_convertNodesIntoANode(l,p._nodeDocument);o.mutation_append(h,p)},s.prototype.querySelector=function(l){var c=u.Cast.asNode(this),p=o.selectors_scopeMatchASelectorsString(l,c);return p.length===0?null:p[0]},s.prototype.querySelectorAll=function(l){var c=u.Cast.asNode(this),p=o.selectors_scopeMatchASelectorsString(l,c);return o.create_nodeListStatic(c,p)},s}();r.ParentNodeImpl=f},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(0),u=function(){function o(){}return Object.defineProperty(o.prototype,"_name",{get:function(){return this.__name||""},set:function(f){this.__name=f},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"_assignedSlot",{get:function(){return this.__assignedSlot||null},set:function(f){this.__assignedSlot=f},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"assignedSlot",{get:function(){return i.shadowTree_findASlot(this,!0)},enumerable:!0,configurable:!0}),o}();r.SlotableImpl=u},function(a,r,n){var i,u=this&&this.__extends||(i=function(c,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var y in g)g.hasOwnProperty(y)&&(h[y]=g[y])})(c,p)},function(c,p){function h(){this.constructor=c}i(c,p),c.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(102),f=n(9),s=n(3),l=function(c){function p(h){var g=c.call(this)||this;if(s.Guard.isDocumentTypeNode(h.startContainer)||s.Guard.isAttrNode(h.startContainer)||s.Guard.isDocumentTypeNode(h.endContainer)||s.Guard.isAttrNode(h.endContainer))throw new f.InvalidNodeTypeError;return g._start=[h.startContainer,h.startOffset],g._end=[h.endContainer,h.endOffset],g}return u(p,c),p}(o.AbstractRangeImpl);r.StaticRangeImpl=l},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(272);r.DOMParser=i.DOMParserImpl},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(0),u=n(273),o=function(){function f(){}return f.prototype.parseFromString=function(s,l){if(l==="text/html")throw new Error("HTML parser not implemented.");try{return(c=new u.XMLParserImpl().parse(s))._contentType=l,c}catch(y){var c,p="http://www.mozilla.org/newlayout/xml/parsererror.xml",h=(c=i.create_xmlDocument()).createElementNS(p,"parsererror"),g=c.createElementNS(p,"error");return g.setAttribute("message",y.message),h.appendChild(g),c.appendChild(h),c}},f}();r.DOMParserImpl=o},function(a,r,n){var i=this&&this.__read||function(h,g){var y=typeof Symbol=="function"&&h[Symbol.iterator];if(!y)return h;var m,x,v=y.call(h),d=[];try{for(;(g===void 0||g-- >0)&&!(m=v.next()).done;)d.push(m.value)}catch(w){x={error:w}}finally{try{m&&!m.done&&(y=v.return)&&y.call(v)}finally{if(x)throw x.error}}return d},u=this&&this.__values||function(h){var g=typeof Symbol=="function"&&Symbol.iterator,y=g&&h[g],m=0;if(y)return y.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&m>=h.length&&(h=void 0),{value:h&&h[m++],done:!h}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=n(180),f=n(111),s=n(7),l=n(0),c=n(69),p=function(){function h(){}return h.prototype.parse=function(g){for(var y,m,x,v,d=new o.XMLStringLexer(g,{skipWhitespaceOnlyText:!0}),w=l.create_document(),C=w,S=d.nextToken();S.type!==f.TokenType.EOF;){switch(S.type){case f.TokenType.Declaration:var T=S;if(T.version!=="1.0")throw new Error("Invalid xml version: "+T.version);break;case f.TokenType.DocType:var _=S;if(!l.xml_isPubidChar(_.pubId))throw new Error("DocType public identifier does not match PubidChar construct.");if(!l.xml_isLegalChar(_.sysId)||_.sysId.indexOf('"')!==-1&&_.sysId.indexOf("'")!==-1)throw new Error("DocType system identifier contains invalid characters.");C.appendChild(w.implementation.createDocumentType(_.name,_.pubId,_.sysId));break;case f.TokenType.CDATA:var D=S;if(!l.xml_isLegalChar(D.data)||D.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters.");C.appendChild(w.createCDATASection(D.data));break;case f.TokenType.Comment:var b=S;if(!l.xml_isLegalChar(b.data)||b.data.indexOf("--")!==-1||b.data.endsWith("-"))throw new Error("Comment data contains invalid characters.");C.appendChild(w.createComment(b.data));break;case f.TokenType.PI:var E=S;if(E.target.indexOf(":")!==-1||/^xml$/i.test(E.target))throw new Error("Processing instruction target contains invalid characters.");if(!l.xml_isLegalChar(E.data)||E.data.indexOf("?>")!==-1)throw new Error("Processing instruction data contains invalid characters.");C.appendChild(w.createProcessingInstruction(E.target,E.data));break;case f.TokenType.Text:var N=S;if(!l.xml_isLegalChar(N.data))throw new Error("Text data contains invalid characters.");C.appendChild(w.createTextNode(this._decodeText(N.data)));break;case f.TokenType.Element:var R=S,M=i(l.namespace_extractQName(R.name),2),G=M[0],j=M[1];if(j.indexOf(":")!==-1||!l.xml_isName(j))throw new Error("Node local name contains invalid characters.");if(G==="xmlns")throw new Error("An element cannot have the 'xmlns' prefix.");var z=C.lookupNamespaceURI(G),V={};try{for(var L=(y=void 0,u(R.attributes)),B=L.next();!B.done;B=L.next()){var $=i(B.value,2),H=$[0],X=$[1];if(H==="xmlns")z=X;else{var Z=i(l.namespace_extractQName(H),2),Y=Z[0],J=Z[1];Y==="xmlns"&&(J===G&&(z=X),V[J]=X)}}}catch(P){y={error:P}}finally{try{B&&!B.done&&(m=L.return)&&m.call(L)}finally{if(y)throw y.error}}var ne=z!==null?w.createElementNS(z,R.name):w.createElement(R.name);C.appendChild(ne);var ee=new c.LocalNameSet;try{for(var te=(x=void 0,u(R.attributes)),k=te.next();!k.done;k=te.next()){var O=i(k.value,2),A=(H=O[0],X=O[1],i(l.namespace_extractQName(H),2)),F=(Y=A[0],J=A[1],null);if(Y==="xmlns"||Y===null&&J==="xmlns"?F=s.namespace.XMLNS:(F=ne.lookupNamespaceURI(Y))!==null&&ne.isDefaultNamespace(F)?F=null:F===null&&Y!==null&&(F=V[Y]||null),ee.has(F,J))throw new Error("Element contains duplicate attributes.");if(ee.set(F,J),F===s.namespace.XMLNS&&X===s.namespace.XMLNS)throw new Error("XMLNS namespace is reserved.");if(J.indexOf(":")!==-1||!l.xml_isName(J))throw new Error("Attribute local name contains invalid characters.");if(Y==="xmlns"&&X==="")throw new Error("Empty XML namespace is not allowed.");F!==null?ne.setAttributeNS(F,H,this._decodeAttributeValue(X)):ne.setAttribute(H,this._decodeAttributeValue(X))}}catch(P){x={error:P}}finally{try{k&&!k.done&&(v=te.return)&&v.call(te)}finally{if(x)throw x.error}}R.selfClosing||(C=ne);break;case f.TokenType.ClosingTag:if(S.name!==C.nodeName)throw new Error("Closing tag name does not match opening tag name.");C._parent&&(C=C._parent)}S=d.nextToken()}return w},h.prototype._decodeText=function(g){return g==null?g:g.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},h.prototype._decodeAttributeValue=function(g){return g==null?g:g.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},h}();r.XMLParserImpl=p},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(275);r.XMLSerializer=i.XMLSerializerImpl},function(a,r,n){var i=this&&this.__values||function(h){var g=typeof Symbol=="function"&&Symbol.iterator,y=g&&h[g],m=0;if(y)return y.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&m>=h.length&&(h=void 0),{value:h&&h[m++],done:!h}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=n(2),o=n(69),f=n(95),s=n(9),l=n(7),c=n(0),p=function(){function h(){}return h.prototype.serializeToString=function(g){return this._xmlSerialization(g,!1)},h.prototype._xmlSerialization=function(g,y){if(g._nodeDocument===void 0||g._nodeDocument._hasNamespaces){var m=new f.NamespacePrefixMap;m.set("xml",l.namespace.XML);try{return this._serializeNodeNS(g,null,m,{value:1},y)}catch{throw new s.InvalidStateError}}else try{return this._serializeNode(g,y)}catch{throw new s.InvalidStateError}},h.prototype._serializeNodeNS=function(g,y,m,x,v){switch(g.nodeType){case u.NodeType.Element:return this._serializeElementNS(g,y,m,x,v);case u.NodeType.Document:return this._serializeDocumentNS(g,y,m,x,v);case u.NodeType.Comment:return this._serializeComment(g,v);case u.NodeType.Text:return this._serializeText(g,v);case u.NodeType.DocumentFragment:return this._serializeDocumentFragmentNS(g,y,m,x,v);case u.NodeType.DocumentType:return this._serializeDocumentType(g,v);case u.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(g,v);case u.NodeType.CData:return this._serializeCData(g,v);default:throw new Error("Unknown node type: "+g.nodeType)}},h.prototype._serializeNode=function(g,y){switch(g.nodeType){case u.NodeType.Element:return this._serializeElement(g,y);case u.NodeType.Document:return this._serializeDocument(g,y);case u.NodeType.Comment:return this._serializeComment(g,y);case u.NodeType.Text:return this._serializeText(g,y);case u.NodeType.DocumentFragment:return this._serializeDocumentFragment(g,y);case u.NodeType.DocumentType:return this._serializeDocumentType(g,y);case u.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(g,y);case u.NodeType.CData:return this._serializeCData(g,y);default:throw new Error("Unknown node type: "+g.nodeType)}},h.prototype._serializeElementNS=function(g,y,m,x,v){var d,w;if(v&&(g.localName.indexOf(":")!==-1||!c.xml_isName(g.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var C="<",S="",T=!1,_=!1,D=m.copy(),b={},E=this._recordNamespaceInformation(g,D,b),N=y,R=g.namespaceURI;if(N===R)E!==null&&(_=!0),C+=S=R===l.namespace.XML?"xml:"+g.localName:g.localName;else{var M=g.prefix,G=null;if(M===null&&R===E||(G=D.get(M,R)),M==="xmlns"){if(v)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");G=M}G!==null?(S=G+":"+g.localName,E!==null&&E!==l.namespace.XML&&(N=E||null),C+=S):M!==null?(M in b&&(M=this._generatePrefix(R,D,x)),D.set(M,R),C+=S+=M+":"+g.localName,C+=" xmlns:"+M+'="'+this._serializeAttributeValue(R,v)+'"',E!==null&&(N=E||null)):E===null||E!==null&&E!==R?(_=!0,N=R,C+=S+=g.localName,C+=' xmlns="'+this._serializeAttributeValue(R,v)+'"'):(N=R,C+=S+=g.localName)}C+=this._serializeAttributesNS(g,D,x,b,_,v);var j=R===l.namespace.HTML;if(j&&g.childNodes.length===0&&h._VoidElementNames.has(g.localName)?(C+=" /",T=!0):j||g.childNodes.length!==0||(C+="/",T=!0),C+=">",T)return C;if(!(j&&g.localName==="template"))try{for(var z=i(g._children||g.childNodes),V=z.next();!V.done;V=z.next()){var L=V.value;C+=this._serializeNodeNS(L,N,D,x,v)}}catch(B){d={error:B}}finally{try{V&&!V.done&&(w=z.return)&&w.call(z)}finally{if(d)throw d.error}}return C+="</"+S+">"},h.prototype._serializeDocumentNS=function(g,y,m,x,v){var d,w;if(v&&g.documentElement===null)throw new Error("Missing document element (well-formed required).");var C="";try{for(var S=i(g._children||g.childNodes),T=S.next();!T.done;T=S.next()){var _=T.value;C+=this._serializeNodeNS(_,y,m,x,v)}}catch(D){d={error:D}}finally{try{T&&!T.done&&(w=S.return)&&w.call(S)}finally{if(d)throw d.error}}return C},h.prototype._serializeComment=function(g,y){if(y&&(!c.xml_isLegalChar(g.data)||g.data.indexOf("--")!==-1||g.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");return"<!--"+g.data+"-->"},h.prototype._serializeText=function(g,y){if(y&&!c.xml_isLegalChar(g.data))throw new Error("Text data contains invalid characters (well-formed required).");for(var m="",x=0;x<g.data.length;x++){var v=g.data[x];m+=v==="&"?"&amp;":v==="<"?"&lt;":v===">"?"&gt;":v}return m},h.prototype._serializeDocumentFragmentNS=function(g,y,m,x,v){var d,w,C="";try{for(var S=i(g._children||g.childNodes),T=S.next();!T.done;T=S.next()){var _=T.value;C+=this._serializeNodeNS(_,y,m,x,v)}}catch(D){d={error:D}}finally{try{T&&!T.done&&(w=S.return)&&w.call(S)}finally{if(d)throw d.error}}return C},h.prototype._serializeDocumentType=function(g,y){if(y&&!c.xml_isPubidChar(g.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(y&&(!c.xml_isLegalChar(g.systemId)||g.systemId.indexOf('"')!==-1&&g.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");return g.publicId&&g.systemId?"<!DOCTYPE "+g.name+' PUBLIC "'+g.publicId+'" "'+g.systemId+'">':g.publicId?"<!DOCTYPE "+g.name+' PUBLIC "'+g.publicId+'">':g.systemId?"<!DOCTYPE "+g.name+' SYSTEM "'+g.systemId+'">':"<!DOCTYPE "+g.name+">"},h.prototype._serializeProcessingInstruction=function(g,y){if(y&&(g.target.indexOf(":")!==-1||/^xml$/i.test(g.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(y&&(!c.xml_isLegalChar(g.data)||g.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");return"<?"+(g.data===""?g.target:g.target+" "+g.data)+"?>"},h.prototype._serializeCData=function(g,y){if(y&&g.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");return"<![CDATA["+g.data+"]]>"},h.prototype._serializeAttributesNS=function(g,y,m,x,v,d){var w,C,S="",T=d?new o.LocalNameSet:void 0;try{for(var _=i(g.attributes),D=_.next();!D.done;D=_.next()){var b=D.value;if(v||d||b.namespaceURI!==null){if(d&&T&&T.has(b.namespaceURI,b.localName))throw new Error("Element contains duplicate attributes (well-formed required).");d&&T&&T.set(b.namespaceURI,b.localName);var E=b.namespaceURI,N=null;if(E!==null)if(N=y.get(b.prefix,E),E===l.namespace.XMLNS){if(b.value===l.namespace.XML||b.prefix===null&&v||b.prefix!==null&&(!(b.localName in x)||x[b.localName]!==b.value)&&y.has(b.localName,b.value))continue;if(d&&b.value===l.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(d&&b.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");b.prefix==="xmlns"&&(N="xmlns")}else N===null&&(S+=" xmlns:"+(N=b.prefix===null||y.hasPrefix(b.prefix)&&!y.has(b.prefix,E)?this._generatePrefix(E,y,m):b.prefix)+'="'+this._serializeAttributeValue(E,d)+'"');if(S+=" ",N!==null&&(S+=N+":"),d&&(b.localName.indexOf(":")!==-1||!c.xml_isName(b.localName)||b.localName==="xmlns"&&E===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");S+=b.localName+'="'+this._serializeAttributeValue(b.value,d)+'"'}else S+=" "+b.localName+'="'+this._serializeAttributeValue(b.value,d)+'"'}}catch(R){w={error:R}}finally{try{D&&!D.done&&(C=_.return)&&C.call(_)}finally{if(w)throw w.error}}return S},h.prototype._recordNamespaceInformation=function(g,y,m){var x,v,d=null;try{for(var w=i(g.attributes),C=w.next();!C.done;C=w.next()){var S=C.value,T=S.namespaceURI,_=S.prefix;if(T===l.namespace.XMLNS){if(_===null){d=S.value;continue}var D=S.localName,b=S.value;if(b===l.namespace.XML||(b===""&&(b=null),y.has(D,b)))continue;y.set(D,b),m[D]=b||""}}}catch(E){x={error:E}}finally{try{C&&!C.done&&(v=w.return)&&v.call(w)}finally{if(x)throw x.error}}return d},h.prototype._generatePrefix=function(g,y,m){var x="ns"+m.value;return m.value++,y.set(x,g),x},h.prototype._serializeAttributeValue=function(g,y){if(y&&g!==null&&!c.xml_isLegalChar(g))throw new Error("Invalid characters in attribute value.");if(g===null)return"";for(var m="",x=0;x<g.length;x++){var v=g[x];m+=v==='"'?"&quot;":v==="&"?"&amp;":v==="<"?"&lt;":v===">"?"&gt;":v}return m},h.prototype._serializeElement=function(g,y){var m,x;if(y&&(g.localName.indexOf(":")!==-1||!c.xml_isName(g.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var v=!1,d=g.localName,w="<"+d;if(w+=this._serializeAttributes(g,y),g._children.size===0&&(w+="/",v=!0),w+=">",v)return w;try{for(var C=i(g._children),S=C.next();!S.done;S=C.next()){var T=S.value;w+=this._serializeNode(T,y)}}catch(_){m={error:_}}finally{try{S&&!S.done&&(x=C.return)&&x.call(C)}finally{if(m)throw m.error}}return w+="</"+d+">"},h.prototype._serializeDocument=function(g,y){var m,x;if(y&&g.documentElement===null)throw new Error("Missing document element (well-formed required).");var v="";try{for(var d=i(g._children),w=d.next();!w.done;w=d.next()){var C=w.value;v+=this._serializeNode(C,y)}}catch(S){m={error:S}}finally{try{w&&!w.done&&(x=d.return)&&x.call(d)}finally{if(m)throw m.error}}return v},h.prototype._serializeDocumentFragment=function(g,y){var m,x,v="";try{for(var d=i(g._children),w=d.next();!w.done;w=d.next()){var C=w.value;v+=this._serializeNode(C,y)}}catch(S){m={error:S}}finally{try{w&&!w.done&&(x=d.return)&&x.call(d)}finally{if(m)throw m.error}}return v},h.prototype._serializeAttributes=function(g,y){var m,x,v="",d=y?{}:void 0;try{for(var w=i(g.attributes),C=w.next();!C.done;C=w.next()){var S=C.value;if(y&&d&&S.localName in d)throw new Error("Element contains duplicate attributes (well-formed required).");if(y&&d&&(d[S.localName]=!0),y&&(S.localName.indexOf(":")!==-1||!c.xml_isName(S.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");v+=" "+S.localName+'="'+this._serializeAttributeValue(S.value,y)+'"'}}catch(T){m={error:T}}finally{try{C&&!C.done&&(x=w.return)&&x.call(w)}finally{if(m)throw m.error}}return v},h._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),h}();r.XMLSerializerImpl=p},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(277);r.XMLReader=i.XMLReader;var u=n(112);r.ObjectReader=u.ObjectReader;var o=n(280);r.JSONReader=o.JSONReader;var f=n(281);r.YAMLReader=f.YAMLReader},function(a,r,n){n(31),n(32),n(33),n(19),n(65),n(20),n(22),n(23);var i,u=this&&this.__extends||(i=function(g,y){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,x){m.__proto__=x}||function(m,x){for(var v in x)x.hasOwnProperty(v)&&(m[v]=x[v])})(g,y)},function(g,y){function m(){this.constructor=g}i(g,y),g.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)}),o=this&&this.__read||function(g,y){var m=typeof Symbol=="function"&&g[Symbol.iterator];if(!m)return g;var x,v,d=m.call(g),w=[];try{for(;(y===void 0||y-- >0)&&!(x=d.next()).done;)w.push(x.value)}catch(C){v={error:C}}finally{try{x&&!x.done&&(m=d.return)&&m.call(d)}finally{if(v)throw v.error}}return w},f=this&&this.__values||function(g){var y=typeof Symbol=="function"&&Symbol.iterator,m=y&&g[y],x=0;if(m)return m.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&x>=g.length&&(g=void 0),{value:g&&g[x++],done:!g}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=n(180),l=n(111),c=n(7),p=n(0),h=function(g){function y(){return g!==null&&g.apply(this,arguments)||this}return u(y,g),y.prototype._parse=function(m,x){for(var v,d,w,C,S=new s.XMLStringLexer(x,{skipWhitespaceOnlyText:!0}),T=m,_=m,D=S.nextToken();D.type!==l.TokenType.EOF;){switch(D.type){case l.TokenType.Declaration:var b=D,E=this.sanitize(b.version);if(E!=="1.0")throw new Error("Invalid xml version: "+E);var N={version:E};b.encoding&&(N.encoding=this.sanitize(b.encoding)),b.standalone&&(N.standalone=this.sanitize(b.standalone)==="yes"),_.set(N);break;case l.TokenType.DocType:var R=D;_=this.docType(_,this.sanitize(R.name),this.sanitize(R.pubId),this.sanitize(R.sysId))||_;break;case l.TokenType.CDATA:var M=D;_=this.cdata(_,this.sanitize(M.data))||_;break;case l.TokenType.Comment:var G=D;_=this.comment(_,this.sanitize(G.data))||_;break;case l.TokenType.PI:var j=D;_=this.instruction(_,this.sanitize(j.target),this.sanitize(j.data))||_;break;case l.TokenType.Text:var z=D;_=this.text(_,this._decodeText(this.sanitize(z.data)))||_;break;case l.TokenType.Element:var V=D,L=this.sanitize(V.name),B=o(p.namespace_extractQName(L),1)[0],$=_.node.lookupNamespaceURI(B),H={};try{for(var X=(v=void 0,f(V.attributes)),Z=X.next();!Z.done;Z=X.next()){var Y=o(Z.value,2),J=Y[0],ne=Y[1];if(J=this.sanitize(J),ne=this.sanitize(ne),J==="xmlns")$=ne;else{var ee=o(p.namespace_extractQName(J),2),te=ee[0],k=ee[1];te==="xmlns"&&(k===B&&($=ne),H[k]=ne)}}}catch(Q){v={error:Q}}finally{try{Z&&!Z.done&&(d=X.return)&&d.call(X)}finally{if(v)throw v.error}}var O=$!==null?this.element(_,$,L):this.element(_,void 0,L);if(O===void 0)break;_.node===m.node&&(T=O);try{for(var A=(w=void 0,f(V.attributes)),F=A.next();!F.done;F=A.next()){var P=o(F.value,2);J=P[0],ne=P[1],J=this.sanitize(J),ne=this.sanitize(ne);var I=o(p.namespace_extractQName(J),2),W=(te=I[0],k=I[1],null);te==="xmlns"||te===null&&k==="xmlns"?W=c.namespace.XMLNS:(W=O.node.lookupNamespaceURI(te))!==null&&O.node.isDefaultNamespace(W)?W=null:W===null&&te!==null&&(W=H[te]||null),W!==null?this.attribute(O,W,J,this._decodeAttributeValue(ne)):this.attribute(O,void 0,J,this._decodeAttributeValue(ne))}}catch(Q){w={error:Q}}finally{try{F&&!F.done&&(C=A.return)&&C.call(A)}finally{if(w)throw w.error}}V.selfClosing||(_=O);break;case l.TokenType.ClosingTag:_.node.parentNode&&(_=_.up())}D=S.nextToken()}return T},y}(n(75).BaseReader);r.XMLReader=h},function(a,r,n){var i=n(4),u=n(279);i({target:"Object",stat:!0,forced:Object.assign!==u},{assign:u})},function(a,r,n){var i=n(16),u=n(8),o=n(61),f=n(85),s=n(79),l=n(27),c=n(41),p=Object.assign,h=Object.defineProperty;a.exports=!p||u(function(){if(i&&p({b:1},p(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var g={},y={},m=Symbol();return g[m]=7,"abcdefghijklmnopqrst".split("").forEach(function(x){y[x]=x}),p({},g)[m]!=7||o(p({},y)).join("")!="abcdefghijklmnopqrst"})?function(g,y){for(var m=l(g),x=arguments.length,v=1,d=f.f,w=s.f;x>v;)for(var C,S=c(arguments[v++]),T=d?o(S).concat(d(S)):o(S),_=T.length,D=0;_>D;)C=T[D++],i&&!w.call(S,C)||(m[C]=S[C]);return m}:p},function(a,r,n){var i,u=this&&this.__extends||(i=function(s,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var h in p)p.hasOwnProperty(h)&&(c[h]=p[h])})(s,l)},function(s,l){function c(){this.constructor=s}i(s,l),s.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(112),f=function(s){function l(){return s!==null&&s.apply(this,arguments)||this}return u(l,s),l.prototype._parse=function(c,p){return new o.ObjectReader(this._builderOptions).parse(c,JSON.parse(p))},l}(n(75).BaseReader);r.JSONReader=f},function(a,r,n){var i,u=this&&this.__extends||(i=function(c,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var y in g)g.hasOwnProperty(y)&&(h[y]=g[y])})(c,p)},function(c,p){function h(){this.constructor=c}i(c,p),c.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=n(112),f=n(75),s=n(282),l=function(c){function p(){return c!==null&&c.apply(this,arguments)||this}return u(p,c),p.prototype._parse=function(h,g){var y=s.safeLoad(g);if(y===void 0)throw new Error("Unable to parse YAML document.");return new o.ObjectReader(this._builderOptions).parse(h,y)},p}(f.BaseReader);r.YAMLReader=l},function(a,r,n){var i=n(283);a.exports=i},function(a,r,n){var i=n(284),u=n(303);function o(f){return function(){throw new Error("Function "+f+" is deprecated and cannot be used.")}}a.exports.Type=n(10),a.exports.Schema=n(39),a.exports.FAILSAFE_SCHEMA=n(113),a.exports.JSON_SCHEMA=n(182),a.exports.CORE_SCHEMA=n(181),a.exports.DEFAULT_SAFE_SCHEMA=n(54),a.exports.DEFAULT_FULL_SCHEMA=n(76),a.exports.load=i.load,a.exports.loadAll=i.loadAll,a.exports.safeLoad=i.safeLoad,a.exports.safeLoadAll=i.safeLoadAll,a.exports.dump=u.dump,a.exports.safeDump=u.safeDump,a.exports.YAMLException=n(53),a.exports.MINIMAL_SCHEMA=n(113),a.exports.SAFE_SCHEMA=n(54),a.exports.DEFAULT_SCHEMA=n(76),a.exports.scan=o("scan"),a.exports.parse=o("parse"),a.exports.compose=o("compose"),a.exports.addConstructor=o("addConstructor")},function(a,r,n){var i=n(38),u=n(53),o=n(285),f=n(54),s=n(76),l=Object.prototype.hasOwnProperty,c=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,p=/[\x85\u2028\u2029]/,h=/[,\[\]\{\}]/,g=/^(?:!|!!|![a-z\-]+!)$/i,y=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function m(O){return Object.prototype.toString.call(O)}function x(O){return O===10||O===13}function v(O){return O===9||O===32}function d(O){return O===9||O===32||O===10||O===13}function w(O){return O===44||O===91||O===93||O===123||O===125}function C(O){var A;return 48<=O&&O<=57?O-48:97<=(A=32|O)&&A<=102?A-97+10:-1}function S(O){return O===48?"\0":O===97?"\x07":O===98?"\b":O===116||O===9?"	":O===110?`
`:O===118?"\v":O===102?"\f":O===114?"\r":O===101?"\x1B":O===32?" ":O===34?'"':O===47?"/":O===92?"\\":O===78?"\x85":O===95?"\xA0":O===76?"\u2028":O===80?"\u2029":""}function T(O){return O<=65535?String.fromCharCode(O):String.fromCharCode(55296+(O-65536>>10),56320+(O-65536&1023))}for(var _=new Array(256),D=new Array(256),b=0;b<256;b++)_[b]=S(b)?1:0,D[b]=S(b);function E(O,A){this.input=O,this.filename=A.filename||null,this.schema=A.schema||s,this.onWarning=A.onWarning||null,this.legacy=A.legacy||!1,this.json=A.json||!1,this.listener=A.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=O.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function N(O,A){return new u(A,new o(O.filename,O.input,O.position,O.line,O.position-O.lineStart))}function R(O,A){throw N(O,A)}function M(O,A){O.onWarning&&O.onWarning.call(null,N(O,A))}var G={YAML:function(O,A,F){var P,I,W;O.version!==null&&R(O,"duplication of %YAML directive"),F.length!==1&&R(O,"YAML directive accepts exactly one argument"),(P=/^([0-9]+)\.([0-9]+)$/.exec(F[0]))===null&&R(O,"ill-formed argument of the YAML directive"),I=parseInt(P[1],10),W=parseInt(P[2],10),I!==1&&R(O,"unacceptable YAML version of the document"),O.version=F[0],O.checkLineBreaks=W<2,W!==1&&W!==2&&M(O,"unsupported YAML version of the document")},TAG:function(O,A,F){var P,I;F.length!==2&&R(O,"TAG directive accepts exactly two arguments"),P=F[0],I=F[1],g.test(P)||R(O,"ill-formed tag handle (first argument) of the TAG directive"),l.call(O.tagMap,P)&&R(O,'there is a previously declared suffix for "'+P+'" tag handle'),y.test(I)||R(O,"ill-formed tag prefix (second argument) of the TAG directive"),O.tagMap[P]=I}};function j(O,A,F,P){var I,W,Q,re;if(A<F){if(re=O.input.slice(A,F),P)for(I=0,W=re.length;I<W;I+=1)(Q=re.charCodeAt(I))===9||32<=Q&&Q<=1114111||R(O,"expected valid JSON character");else c.test(re)&&R(O,"the stream contains non-printable characters");O.result+=re}}function z(O,A,F,P){var I,W,Q,re;for(i.isObject(F)||R(O,"cannot merge mappings; the provided source object is unacceptable"),Q=0,re=(I=Object.keys(F)).length;Q<re;Q+=1)W=I[Q],l.call(A,W)||(A[W]=F[W],P[W]=!0)}function V(O,A,F,P,I,W,Q,re){var oe,ue;if(Array.isArray(I))for(oe=0,ue=(I=Array.prototype.slice.call(I)).length;oe<ue;oe+=1)Array.isArray(I[oe])&&R(O,"nested arrays are not supported inside keys"),typeof I=="object"&&m(I[oe])==="[object Object]"&&(I[oe]="[object Object]");if(typeof I=="object"&&m(I)==="[object Object]"&&(I="[object Object]"),I=String(I),A===null&&(A={}),P==="tag:yaml.org,2002:merge")if(Array.isArray(W))for(oe=0,ue=W.length;oe<ue;oe+=1)z(O,A,W[oe],F);else z(O,A,W,F);else O.json||l.call(F,I)||!l.call(A,I)||(O.line=Q||O.line,O.position=re||O.position,R(O,"duplicated mapping key")),A[I]=W,delete F[I];return A}function L(O){var A;(A=O.input.charCodeAt(O.position))===10?O.position++:A===13?(O.position++,O.input.charCodeAt(O.position)===10&&O.position++):R(O,"a line break is expected"),O.line+=1,O.lineStart=O.position}function B(O,A,F){for(var P=0,I=O.input.charCodeAt(O.position);I!==0;){for(;v(I);)I=O.input.charCodeAt(++O.position);if(A&&I===35)do I=O.input.charCodeAt(++O.position);while(I!==10&&I!==13&&I!==0);if(!x(I))break;for(L(O),I=O.input.charCodeAt(O.position),P++,O.lineIndent=0;I===32;)O.lineIndent++,I=O.input.charCodeAt(++O.position)}return F!==-1&&P!==0&&O.lineIndent<F&&M(O,"deficient indentation"),P}function $(O){var A,F=O.position;return!((A=O.input.charCodeAt(F))!==45&&A!==46||A!==O.input.charCodeAt(F+1)||A!==O.input.charCodeAt(F+2)||(F+=3,(A=O.input.charCodeAt(F))!==0&&!d(A)))}function H(O,A){A===1?O.result+=" ":A>1&&(O.result+=i.repeat(`
`,A-1))}function X(O,A){var F,P,I=O.tag,W=O.anchor,Q=[],re=!1;for(O.anchor!==null&&(O.anchorMap[O.anchor]=Q),P=O.input.charCodeAt(O.position);P!==0&&P===45&&d(O.input.charCodeAt(O.position+1));)if(re=!0,O.position++,B(O,!0,-1)&&O.lineIndent<=A)Q.push(null),P=O.input.charCodeAt(O.position);else if(F=O.line,J(O,A,3,!1,!0),Q.push(O.result),B(O,!0,-1),P=O.input.charCodeAt(O.position),(O.line===F||O.lineIndent>A)&&P!==0)R(O,"bad indentation of a sequence entry");else if(O.lineIndent<A)break;return!!re&&(O.tag=I,O.anchor=W,O.kind="sequence",O.result=Q,!0)}function Z(O){var A,F,P,I,W=!1,Q=!1;if((I=O.input.charCodeAt(O.position))!==33)return!1;if(O.tag!==null&&R(O,"duplication of a tag property"),(I=O.input.charCodeAt(++O.position))===60?(W=!0,I=O.input.charCodeAt(++O.position)):I===33?(Q=!0,F="!!",I=O.input.charCodeAt(++O.position)):F="!",A=O.position,W){do I=O.input.charCodeAt(++O.position);while(I!==0&&I!==62);O.position<O.length?(P=O.input.slice(A,O.position),I=O.input.charCodeAt(++O.position)):R(O,"unexpected end of the stream within a verbatim tag")}else{for(;I!==0&&!d(I);)I===33&&(Q?R(O,"tag suffix cannot contain exclamation marks"):(F=O.input.slice(A-1,O.position+1),g.test(F)||R(O,"named tag handle cannot contain such characters"),Q=!0,A=O.position+1)),I=O.input.charCodeAt(++O.position);P=O.input.slice(A,O.position),h.test(P)&&R(O,"tag suffix cannot contain flow indicator characters")}return P&&!y.test(P)&&R(O,"tag name cannot contain such characters: "+P),W?O.tag=P:l.call(O.tagMap,F)?O.tag=O.tagMap[F]+P:F==="!"?O.tag="!"+P:F==="!!"?O.tag="tag:yaml.org,2002:"+P:R(O,'undeclared tag handle "'+F+'"'),!0}function Y(O){var A,F;if((F=O.input.charCodeAt(O.position))!==38)return!1;for(O.anchor!==null&&R(O,"duplication of an anchor property"),F=O.input.charCodeAt(++O.position),A=O.position;F!==0&&!d(F)&&!w(F);)F=O.input.charCodeAt(++O.position);return O.position===A&&R(O,"name of an anchor node must contain at least one character"),O.anchor=O.input.slice(A,O.position),!0}function J(O,A,F,P,I){var W,Q,re,oe,ue,ve,ye,je,Oe=1,pe=!1,Xe=!1;if(O.listener!==null&&O.listener("open",O),O.tag=null,O.anchor=null,O.kind=null,O.result=null,W=Q=re=F===4||F===3,P&&B(O,!0,-1)&&(pe=!0,O.lineIndent>A?Oe=1:O.lineIndent===A?Oe=0:O.lineIndent<A&&(Oe=-1)),Oe===1)for(;Z(O)||Y(O);)B(O,!0,-1)?(pe=!0,re=W,O.lineIndent>A?Oe=1:O.lineIndent===A?Oe=0:O.lineIndent<A&&(Oe=-1)):re=!1;if(re&&(re=pe||I),Oe!==1&&F!==4||(ye=F===1||F===2?A:A+1,je=O.position-O.lineStart,Oe===1?re&&(X(O,je)||function(K,_e,De){var me,ae,ce,ge,he,xe=K.tag,Fe=K.anchor,Ce={},Ae={},Be=null,pt=null,Lt=null,tt=!1,Xt=!1;for(K.anchor!==null&&(K.anchorMap[K.anchor]=Ce),he=K.input.charCodeAt(K.position);he!==0;){if(me=K.input.charCodeAt(K.position+1),ce=K.line,ge=K.position,he!==63&&he!==58||!d(me)){if(!J(K,De,2,!1,!0))break;if(K.line===ce){for(he=K.input.charCodeAt(K.position);v(he);)he=K.input.charCodeAt(++K.position);if(he===58)d(he=K.input.charCodeAt(++K.position))||R(K,"a whitespace character is expected after the key-value separator within a block mapping"),tt&&(V(K,Ce,Ae,Be,pt,null),Be=pt=Lt=null),Xt=!0,tt=!1,ae=!1,Be=K.tag,pt=K.result;else{if(!Xt)return K.tag=xe,K.anchor=Fe,!0;R(K,"can not read an implicit mapping pair; a colon is missed")}}else{if(!Xt)return K.tag=xe,K.anchor=Fe,!0;R(K,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else he===63?(tt&&(V(K,Ce,Ae,Be,pt,null),Be=pt=Lt=null),Xt=!0,tt=!0,ae=!0):tt?(tt=!1,ae=!0):R(K,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),K.position+=1,he=me;if((K.line===ce||K.lineIndent>_e)&&(J(K,_e,4,!0,ae)&&(tt?pt=K.result:Lt=K.result),tt||(V(K,Ce,Ae,Be,pt,Lt,ce,ge),Be=pt=Lt=null),B(K,!0,-1),he=K.input.charCodeAt(K.position)),K.lineIndent>_e&&he!==0)R(K,"bad indentation of a mapping entry");else if(K.lineIndent<_e)break}return tt&&V(K,Ce,Ae,Be,pt,null),Xt&&(K.tag=xe,K.anchor=Fe,K.kind="mapping",K.result=Ce),Xt}(O,je,ye))||function(K,_e){var De,me,ae,ce,ge,he,xe,Fe,Ce,Ae,Be=!0,pt=K.tag,Lt=K.anchor,tt={};if((Ae=K.input.charCodeAt(K.position))===91)ae=93,he=!1,me=[];else{if(Ae!==123)return!1;ae=125,he=!0,me={}}for(K.anchor!==null&&(K.anchorMap[K.anchor]=me),Ae=K.input.charCodeAt(++K.position);Ae!==0;){if(B(K,!0,_e),(Ae=K.input.charCodeAt(K.position))===ae)return K.position++,K.tag=pt,K.anchor=Lt,K.kind=he?"mapping":"sequence",K.result=me,!0;Be||R(K,"missed comma between flow collection entries"),Ce=null,ce=ge=!1,Ae===63&&d(K.input.charCodeAt(K.position+1))&&(ce=ge=!0,K.position++,B(K,!0,_e)),De=K.line,J(K,_e,1,!1,!0),Fe=K.tag,xe=K.result,B(K,!0,_e),Ae=K.input.charCodeAt(K.position),!ge&&K.line!==De||Ae!==58||(ce=!0,Ae=K.input.charCodeAt(++K.position),B(K,!0,_e),J(K,_e,1,!1,!0),Ce=K.result),he?V(K,me,tt,Fe,xe,Ce):ce?me.push(V(K,null,tt,Fe,xe,Ce)):me.push(xe),B(K,!0,_e),(Ae=K.input.charCodeAt(K.position))===44?(Be=!0,Ae=K.input.charCodeAt(++K.position)):Be=!1}R(K,"unexpected end of the stream within a flow collection")}(O,ye)?Xe=!0:(Q&&function(K,_e){var De,me,ae,ce,ge,he=1,xe=!1,Fe=!1,Ce=_e,Ae=0,Be=!1;if((ce=K.input.charCodeAt(K.position))===124)me=!1;else{if(ce!==62)return!1;me=!0}for(K.kind="scalar",K.result="";ce!==0;)if((ce=K.input.charCodeAt(++K.position))===43||ce===45)he===1?he=ce===43?3:2:R(K,"repeat of a chomping mode identifier");else{if(!((ae=48<=(ge=ce)&&ge<=57?ge-48:-1)>=0))break;ae===0?R(K,"bad explicit indentation width of a block scalar; it cannot be less than one"):Fe?R(K,"repeat of an indentation width identifier"):(Ce=_e+ae-1,Fe=!0)}if(v(ce)){do ce=K.input.charCodeAt(++K.position);while(v(ce));if(ce===35)do ce=K.input.charCodeAt(++K.position);while(!x(ce)&&ce!==0)}for(;ce!==0;){for(L(K),K.lineIndent=0,ce=K.input.charCodeAt(K.position);(!Fe||K.lineIndent<Ce)&&ce===32;)K.lineIndent++,ce=K.input.charCodeAt(++K.position);if(!Fe&&K.lineIndent>Ce&&(Ce=K.lineIndent),x(ce))Ae++;else{if(K.lineIndent<Ce){he===3?K.result+=i.repeat(`
`,xe?1+Ae:Ae):he===1&&xe&&(K.result+=`
`);break}for(me?v(ce)?(Be=!0,K.result+=i.repeat(`
`,xe?1+Ae:Ae)):Be?(Be=!1,K.result+=i.repeat(`
`,Ae+1)):Ae===0?xe&&(K.result+=" "):K.result+=i.repeat(`
`,Ae):K.result+=i.repeat(`
`,xe?1+Ae:Ae),xe=!0,Fe=!0,Ae=0,De=K.position;!x(ce)&&ce!==0;)ce=K.input.charCodeAt(++K.position);j(K,De,K.position,!1)}}return!0}(O,ye)||function(K,_e){var De,me,ae;if((De=K.input.charCodeAt(K.position))!==39)return!1;for(K.kind="scalar",K.result="",K.position++,me=ae=K.position;(De=K.input.charCodeAt(K.position))!==0;)if(De===39){if(j(K,me,K.position,!0),(De=K.input.charCodeAt(++K.position))!==39)return!0;me=K.position,K.position++,ae=K.position}else x(De)?(j(K,me,ae,!0),H(K,B(K,!1,_e)),me=ae=K.position):K.position===K.lineStart&&$(K)?R(K,"unexpected end of the document within a single quoted scalar"):(K.position++,ae=K.position);R(K,"unexpected end of the stream within a single quoted scalar")}(O,ye)||function(K,_e){var De,me,ae,ce,ge,he,xe;if((he=K.input.charCodeAt(K.position))!==34)return!1;for(K.kind="scalar",K.result="",K.position++,De=me=K.position;(he=K.input.charCodeAt(K.position))!==0;){if(he===34)return j(K,De,K.position,!0),K.position++,!0;if(he===92){if(j(K,De,K.position,!0),x(he=K.input.charCodeAt(++K.position)))B(K,!1,_e);else if(he<256&&_[he])K.result+=D[he],K.position++;else if((ge=(xe=he)===120?2:xe===117?4:xe===85?8:0)>0){for(ae=ge,ce=0;ae>0;ae--)(ge=C(he=K.input.charCodeAt(++K.position)))>=0?ce=(ce<<4)+ge:R(K,"expected hexadecimal character");K.result+=T(ce),K.position++}else R(K,"unknown escape sequence");De=me=K.position}else x(he)?(j(K,De,me,!0),H(K,B(K,!1,_e)),De=me=K.position):K.position===K.lineStart&&$(K)?R(K,"unexpected end of the document within a double quoted scalar"):(K.position++,me=K.position)}R(K,"unexpected end of the stream within a double quoted scalar")}(O,ye)?Xe=!0:function(K){var _e,De,me;if((me=K.input.charCodeAt(K.position))!==42)return!1;for(me=K.input.charCodeAt(++K.position),_e=K.position;me!==0&&!d(me)&&!w(me);)me=K.input.charCodeAt(++K.position);return K.position===_e&&R(K,"name of an alias node must contain at least one character"),De=K.input.slice(_e,K.position),K.anchorMap.hasOwnProperty(De)||R(K,'unidentified alias "'+De+'"'),K.result=K.anchorMap[De],B(K,!0,-1),!0}(O)?(Xe=!0,O.tag===null&&O.anchor===null||R(O,"alias node should not have any properties")):function(K,_e,De){var me,ae,ce,ge,he,xe,Fe,Ce,Ae=K.kind,Be=K.result;if(d(Ce=K.input.charCodeAt(K.position))||w(Ce)||Ce===35||Ce===38||Ce===42||Ce===33||Ce===124||Ce===62||Ce===39||Ce===34||Ce===37||Ce===64||Ce===96||(Ce===63||Ce===45)&&(d(me=K.input.charCodeAt(K.position+1))||De&&w(me)))return!1;for(K.kind="scalar",K.result="",ae=ce=K.position,ge=!1;Ce!==0;){if(Ce===58){if(d(me=K.input.charCodeAt(K.position+1))||De&&w(me))break}else if(Ce===35){if(d(K.input.charCodeAt(K.position-1)))break}else{if(K.position===K.lineStart&&$(K)||De&&w(Ce))break;if(x(Ce)){if(he=K.line,xe=K.lineStart,Fe=K.lineIndent,B(K,!1,-1),K.lineIndent>=_e){ge=!0,Ce=K.input.charCodeAt(K.position);continue}K.position=ce,K.line=he,K.lineStart=xe,K.lineIndent=Fe;break}}ge&&(j(K,ae,ce,!1),H(K,K.line-he),ae=ce=K.position,ge=!1),v(Ce)||(ce=K.position+1),Ce=K.input.charCodeAt(++K.position)}return j(K,ae,ce,!1),!!K.result||(K.kind=Ae,K.result=Be,!1)}(O,ye,F===1)&&(Xe=!0,O.tag===null&&(O.tag="?")),O.anchor!==null&&(O.anchorMap[O.anchor]=O.result)):Oe===0&&(Xe=re&&X(O,je))),O.tag!==null&&O.tag!=="!")if(O.tag==="?"){for(O.result!==null&&O.kind!=="scalar"&&R(O,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+O.kind+'"'),oe=0,ue=O.implicitTypes.length;oe<ue;oe+=1)if((ve=O.implicitTypes[oe]).resolve(O.result)){O.result=ve.construct(O.result),O.tag=ve.tag,O.anchor!==null&&(O.anchorMap[O.anchor]=O.result);break}}else l.call(O.typeMap[O.kind||"fallback"],O.tag)?(ve=O.typeMap[O.kind||"fallback"][O.tag],O.result!==null&&ve.kind!==O.kind&&R(O,"unacceptable node kind for !<"+O.tag+'> tag; it should be "'+ve.kind+'", not "'+O.kind+'"'),ve.resolve(O.result)?(O.result=ve.construct(O.result),O.anchor!==null&&(O.anchorMap[O.anchor]=O.result)):R(O,"cannot resolve a node with !<"+O.tag+"> explicit tag")):R(O,"unknown tag !<"+O.tag+">");return O.listener!==null&&O.listener("close",O),O.tag!==null||O.anchor!==null||Xe}function ne(O){var A,F,P,I,W=O.position,Q=!1;for(O.version=null,O.checkLineBreaks=O.legacy,O.tagMap={},O.anchorMap={};(I=O.input.charCodeAt(O.position))!==0&&(B(O,!0,-1),I=O.input.charCodeAt(O.position),!(O.lineIndent>0||I!==37));){for(Q=!0,I=O.input.charCodeAt(++O.position),A=O.position;I!==0&&!d(I);)I=O.input.charCodeAt(++O.position);for(P=[],(F=O.input.slice(A,O.position)).length<1&&R(O,"directive name must not be less than one character in length");I!==0;){for(;v(I);)I=O.input.charCodeAt(++O.position);if(I===35){do I=O.input.charCodeAt(++O.position);while(I!==0&&!x(I));break}if(x(I))break;for(A=O.position;I!==0&&!d(I);)I=O.input.charCodeAt(++O.position);P.push(O.input.slice(A,O.position))}I!==0&&L(O),l.call(G,F)?G[F](O,F,P):M(O,'unknown document directive "'+F+'"')}B(O,!0,-1),O.lineIndent===0&&O.input.charCodeAt(O.position)===45&&O.input.charCodeAt(O.position+1)===45&&O.input.charCodeAt(O.position+2)===45?(O.position+=3,B(O,!0,-1)):Q&&R(O,"directives end mark is expected"),J(O,O.lineIndent-1,4,!1,!0),B(O,!0,-1),O.checkLineBreaks&&p.test(O.input.slice(W,O.position))&&M(O,"non-ASCII line breaks are interpreted as content"),O.documents.push(O.result),O.position===O.lineStart&&$(O)?O.input.charCodeAt(O.position)===46&&(O.position+=3,B(O,!0,-1)):O.position<O.length-1&&R(O,"end of the stream or a document separator is expected")}function ee(O,A){A=A||{},(O=String(O)).length!==0&&(O.charCodeAt(O.length-1)!==10&&O.charCodeAt(O.length-1)!==13&&(O+=`
`),O.charCodeAt(0)===65279&&(O=O.slice(1)));var F=new E(O,A),P=O.indexOf("\0");for(P!==-1&&(F.position=P,R(F,"null byte is not allowed in input")),F.input+="\0";F.input.charCodeAt(F.position)===32;)F.lineIndent+=1,F.position+=1;for(;F.position<F.length-1;)ne(F);return F.documents}function te(O,A,F){A!==null&&typeof A=="object"&&F===void 0&&(F=A,A=null);var P=ee(O,F);if(typeof A!="function")return P;for(var I=0,W=P.length;I<W;I+=1)A(P[I])}function k(O,A){var F=ee(O,A);if(F.length!==0){if(F.length===1)return F[0];throw new u("expected a single document in the stream, but found more")}}a.exports.loadAll=te,a.exports.load=k,a.exports.safeLoadAll=function(O,A,F){return typeof A=="object"&&A!==null&&F===void 0&&(F=A,A=null),te(O,A,i.extend({schema:f},F))},a.exports.safeLoad=function(O,A){return k(O,i.extend({schema:f},A))}},function(a,r,n){var i=n(38);function u(o,f,s,l,c){this.name=o,this.buffer=f,this.position=s,this.line=l,this.column=c}u.prototype.getSnippet=function(o,f){var s,l,c,p,h;if(!this.buffer)return null;for(o=o||4,f=f||75,s="",l=this.position;l>0&&`\0\r
\x85\u2028\u2029`.indexOf(this.buffer.charAt(l-1))===-1;)if(l-=1,this.position-l>f/2-1){s=" ... ",l+=5;break}for(c="",p=this.position;p<this.buffer.length&&`\0\r
\x85\u2028\u2029`.indexOf(this.buffer.charAt(p))===-1;)if((p+=1)-this.position>f/2-1){c=" ... ",p-=5;break}return h=this.buffer.slice(l,p),i.repeat(" ",o)+s+h+c+`
`+i.repeat(" ",o+this.position-l+s.length)+"^"},u.prototype.toString=function(o){var f,s="";return this.name&&(s+='in "'+this.name+'" '),s+="at line "+(this.line+1)+", column "+(this.column+1),o||(f=this.getSnippet())&&(s+=`:
`+f),s},a.exports=u},function(a,r,n){var i=n(10);a.exports=new i("tag:yaml.org,2002:str",{kind:"scalar",construct:function(u){return u!==null?u:""}})},function(a,r,n){var i=n(10);a.exports=new i("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(u){return u!==null?u:[]}})},function(a,r,n){var i=n(10);a.exports=new i("tag:yaml.org,2002:map",{kind:"mapping",construct:function(u){return u!==null?u:{}}})},function(a,r,n){var i=n(10);a.exports=new i("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(u){if(u===null)return!0;var o=u.length;return o===1&&u==="~"||o===4&&(u==="null"||u==="Null"||u==="NULL")},construct:function(){return null},predicate:function(u){return u===null},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(a,r,n){var i=n(10);a.exports=new i("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(u){if(u===null)return!1;var o=u.length;return o===4&&(u==="true"||u==="True"||u==="TRUE")||o===5&&(u==="false"||u==="False"||u==="FALSE")},construct:function(u){return u==="true"||u==="True"||u==="TRUE"},predicate:function(u){return Object.prototype.toString.call(u)==="[object Boolean]"},represent:{lowercase:function(u){return u?"true":"false"},uppercase:function(u){return u?"TRUE":"FALSE"},camelcase:function(u){return u?"True":"False"}},defaultStyle:"lowercase"})},function(a,r,n){var i=n(38),u=n(10);function o(s){return 48<=s&&s<=55}function f(s){return 48<=s&&s<=57}a.exports=new u("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(s){if(s===null)return!1;var l,c,p=s.length,h=0,g=!1;if(!p)return!1;if((l=s[h])!=="-"&&l!=="+"||(l=s[++h]),l==="0"){if(h+1===p)return!0;if((l=s[++h])==="b"){for(h++;h<p;h++)if((l=s[h])!=="_"){if(l!=="0"&&l!=="1")return!1;g=!0}return g&&l!=="_"}if(l==="x"){for(h++;h<p;h++)if((l=s[h])!=="_"){if(!(48<=(c=s.charCodeAt(h))&&c<=57||65<=c&&c<=70||97<=c&&c<=102))return!1;g=!0}return g&&l!=="_"}for(;h<p;h++)if((l=s[h])!=="_"){if(!o(s.charCodeAt(h)))return!1;g=!0}return g&&l!=="_"}if(l==="_")return!1;for(;h<p;h++)if((l=s[h])!=="_"){if(l===":")break;if(!f(s.charCodeAt(h)))return!1;g=!0}return!(!g||l==="_")&&(l!==":"||/^(:[0-5]?[0-9])+$/.test(s.slice(h)))},construct:function(s){var l,c,p=s,h=1,g=[];return p.indexOf("_")!==-1&&(p=p.replace(/_/g,"")),(l=p[0])!=="-"&&l!=="+"||(l==="-"&&(h=-1),l=(p=p.slice(1))[0]),p==="0"?0:l==="0"?p[1]==="b"?h*parseInt(p.slice(2),2):p[1]==="x"?h*parseInt(p,16):h*parseInt(p,8):p.indexOf(":")!==-1?(p.split(":").forEach(function(y){g.unshift(parseInt(y,10))}),p=0,c=1,g.forEach(function(y){p+=y*c,c*=60}),h*p):h*parseInt(p,10)},predicate:function(s){return Object.prototype.toString.call(s)==="[object Number]"&&s%1==0&&!i.isNegativeZero(s)},represent:{binary:function(s){return s>=0?"0b"+s.toString(2):"-0b"+s.toString(2).slice(1)},octal:function(s){return s>=0?"0"+s.toString(8):"-0"+s.toString(8).slice(1)},decimal:function(s){return s.toString(10)},hexadecimal:function(s){return s>=0?"0x"+s.toString(16).toUpperCase():"-0x"+s.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(a,r,n){var i=n(38),u=n(10),o=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),f=/^[-+]?[0-9]+e/;a.exports=new u("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(s){return s!==null&&!(!o.test(s)||s[s.length-1]==="_")},construct:function(s){var l,c,p,h;return c=(l=s.replace(/_/g,"").toLowerCase())[0]==="-"?-1:1,h=[],"+-".indexOf(l[0])>=0&&(l=l.slice(1)),l===".inf"?c===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:l===".nan"?NaN:l.indexOf(":")>=0?(l.split(":").forEach(function(g){h.unshift(parseFloat(g,10))}),l=0,p=1,h.forEach(function(g){l+=g*p,p*=60}),c*l):c*parseFloat(l,10)},predicate:function(s){return Object.prototype.toString.call(s)==="[object Number]"&&(s%1!=0||i.isNegativeZero(s))},represent:function(s,l){var c;if(isNaN(s))switch(l){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===s)switch(l){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===s)switch(l){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(i.isNegativeZero(s))return"-0.0";return c=s.toString(10),f.test(c)?c.replace("e",".e"):c},defaultStyle:"lowercase"})},function(a,r,n){var i=n(10),u=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");a.exports=new i("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(f){return f!==null&&(u.exec(f)!==null||o.exec(f)!==null)},construct:function(f){var s,l,c,p,h,g,y,m,x=0,v=null;if((s=u.exec(f))===null&&(s=o.exec(f)),s===null)throw new Error("Date resolve error");if(l=+s[1],c=+s[2]-1,p=+s[3],!s[4])return new Date(Date.UTC(l,c,p));if(h=+s[4],g=+s[5],y=+s[6],s[7]){for(x=s[7].slice(0,3);x.length<3;)x+="0";x=+x}return s[9]&&(v=6e4*(60*+s[10]+ +(s[11]||0)),s[9]==="-"&&(v=-v)),m=new Date(Date.UTC(l,c,p,h,g,y,x)),v&&m.setTime(m.getTime()-v),m},instanceOf:Date,represent:function(f){return f.toISOString()}})},function(a,r,n){var i=n(10);a.exports=new i("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(u){return u==="<<"||u===null}})},function(a,r,n){var i;try{i=n(145).Buffer}catch{}var u=n(10),o=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;a.exports=new u("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(f){if(f===null)return!1;var s,l,c=0,p=f.length,h=o;for(l=0;l<p;l++)if(!((s=h.indexOf(f.charAt(l)))>64)){if(s<0)return!1;c+=6}return c%8==0},construct:function(f){var s,l,c=f.replace(/[\r\n=]/g,""),p=c.length,h=o,g=0,y=[];for(s=0;s<p;s++)s%4==0&&s&&(y.push(g>>16&255),y.push(g>>8&255),y.push(255&g)),g=g<<6|h.indexOf(c.charAt(s));return(l=p%4*6)===0?(y.push(g>>16&255),y.push(g>>8&255),y.push(255&g)):l===18?(y.push(g>>10&255),y.push(g>>2&255)):l===12&&y.push(g>>4&255),i?i.from?i.from(y):new i(y):y},predicate:function(f){return i&&i.isBuffer(f)},represent:function(f){var s,l,c="",p=0,h=f.length,g=o;for(s=0;s<h;s++)s%3==0&&s&&(c+=g[p>>18&63],c+=g[p>>12&63],c+=g[p>>6&63],c+=g[63&p]),p=(p<<8)+f[s];return(l=h%3)===0?(c+=g[p>>18&63],c+=g[p>>12&63],c+=g[p>>6&63],c+=g[63&p]):l===2?(c+=g[p>>10&63],c+=g[p>>4&63],c+=g[p<<2&63],c+=g[64]):l===1&&(c+=g[p>>2&63],c+=g[p<<4&63],c+=g[64],c+=g[64]),c}})},function(a,r,n){var i=n(10),u=Object.prototype.hasOwnProperty,o=Object.prototype.toString;a.exports=new i("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(f){if(f===null)return!0;var s,l,c,p,h,g=[],y=f;for(s=0,l=y.length;s<l;s+=1){if(c=y[s],h=!1,o.call(c)!=="[object Object]")return!1;for(p in c)if(u.call(c,p)){if(h)return!1;h=!0}if(!h||g.indexOf(p)!==-1)return!1;g.push(p)}return!0},construct:function(f){return f!==null?f:[]}})},function(a,r,n){var i=n(10),u=Object.prototype.toString;a.exports=new i("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(o){if(o===null)return!0;var f,s,l,c,p,h=o;for(p=new Array(h.length),f=0,s=h.length;f<s;f+=1){if(l=h[f],u.call(l)!=="[object Object]"||(c=Object.keys(l)).length!==1)return!1;p[f]=[c[0],l[c[0]]]}return!0},construct:function(o){if(o===null)return[];var f,s,l,c,p,h=o;for(p=new Array(h.length),f=0,s=h.length;f<s;f+=1)l=h[f],c=Object.keys(l),p[f]=[c[0],l[c[0]]];return p}})},function(a,r,n){var i=n(10),u=Object.prototype.hasOwnProperty;a.exports=new i("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(o){if(o===null)return!0;var f,s=o;for(f in s)if(u.call(s,f)&&s[f]!==null)return!1;return!0},construct:function(o){return o!==null?o:{}}})},function(a,r,n){var i=n(10);a.exports=new i("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(u){return u===void 0},represent:function(){return""}})},function(a,r,n){var i=n(10);a.exports=new i("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(u){if(u===null||u.length===0)return!1;var o=u,f=/\/([gim]*)$/.exec(u),s="";return!(o[0]==="/"&&(f&&(s=f[1]),s.length>3||o[o.length-s.length-1]!=="/"))},construct:function(u){var o=u,f=/\/([gim]*)$/.exec(u),s="";return o[0]==="/"&&(f&&(s=f[1]),o=o.slice(1,o.length-s.length-1)),new RegExp(o,s)},predicate:function(u){return Object.prototype.toString.call(u)==="[object RegExp]"},represent:function(u){var o="/"+u.source+"/";return u.global&&(o+="g"),u.multiline&&(o+="m"),u.ignoreCase&&(o+="i"),o}})},function(a,r,n){var i;try{i=n(302)}catch{typeof window!="undefined"&&(i=window.esprima)}var u=n(10);a.exports=new u("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(o){if(o===null)return!1;try{var f="("+o+")",s=i.parse(f,{range:!0});return s.type==="Program"&&s.body.length===1&&s.body[0].type==="ExpressionStatement"&&(s.body[0].expression.type==="ArrowFunctionExpression"||s.body[0].expression.type==="FunctionExpression")}catch{return!1}},construct:function(o){var f,s="("+o+")",l=i.parse(s,{range:!0}),c=[];if(l.type!=="Program"||l.body.length!==1||l.body[0].type!=="ExpressionStatement"||l.body[0].expression.type!=="ArrowFunctionExpression"&&l.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return l.body[0].expression.params.forEach(function(p){c.push(p.name)}),f=l.body[0].expression.body.range,l.body[0].expression.body.type==="BlockStatement"?new Function(c,s.slice(f[0]+1,f[1]-1)):new Function(c,"return "+s.slice(f[0],f[1]))},predicate:function(o){return Object.prototype.toString.call(o)==="[object Function]"},represent:function(o){return o.toString()}})},function(a,r,n){var i;i=function(){return function(u){var o={};function f(s){if(o[s])return o[s].exports;var l=o[s]={exports:{},id:s,loaded:!1};return u[s].call(l.exports,l,l.exports,f),l.loaded=!0,l.exports}return f.m=u,f.c=o,f.p="",f(0)}([function(u,o,f){Object.defineProperty(o,"__esModule",{value:!0});var s=f(1),l=f(3),c=f(8),p=f(15);function h(y,m,x){var v=null,d=function(b,E){x&&x(b,E),v&&v.visit(b,E)},w=typeof x=="function"?d:null,C=!1;if(m){C=typeof m.comment=="boolean"&&m.comment;var S=typeof m.attachComment=="boolean"&&m.attachComment;(C||S)&&((v=new s.CommentHandler).attach=S,m.comment=!0,w=d)}var T,_=!1;m&&typeof m.sourceType=="string"&&(_=m.sourceType==="module"),T=m&&typeof m.jsx=="boolean"&&m.jsx?new l.JSXParser(y,m,w):new c.Parser(y,m,w);var D=_?T.parseModule():T.parseScript();return C&&v&&(D.comments=v.comments),T.config.tokens&&(D.tokens=T.tokens),T.config.tolerant&&(D.errors=T.errorHandler.errors),D}o.parse=h,o.parseModule=function(y,m,x){var v=m||{};return v.sourceType="module",h(y,v,x)},o.parseScript=function(y,m,x){var v=m||{};return v.sourceType="script",h(y,v,x)},o.tokenize=function(y,m,x){var v,d=new p.Tokenizer(y,m);v=[];try{for(;;){var w=d.getNextToken();if(!w)break;x&&(w=x(w)),v.push(w)}}catch(C){d.errorHandler.tolerate(C)}return d.errorHandler.tolerant&&(v.errors=d.errors()),v};var g=f(2);o.Syntax=g.Syntax,o.version="4.0.1"},function(u,o,f){Object.defineProperty(o,"__esModule",{value:!0});var s=f(2),l=function(){function c(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return c.prototype.insertInnerComments=function(p,h){if(p.type===s.Syntax.BlockStatement&&p.body.length===0){for(var g=[],y=this.leading.length-1;y>=0;--y){var m=this.leading[y];h.end.offset>=m.start&&(g.unshift(m.comment),this.leading.splice(y,1),this.trailing.splice(y,1))}g.length&&(p.innerComments=g)}},c.prototype.findTrailingComments=function(p){var h=[];if(this.trailing.length>0){for(var g=this.trailing.length-1;g>=0;--g){var y=this.trailing[g];y.start>=p.end.offset&&h.unshift(y.comment)}return this.trailing.length=0,h}var m=this.stack[this.stack.length-1];if(m&&m.node.trailingComments){var x=m.node.trailingComments[0];x&&x.range[0]>=p.end.offset&&(h=m.node.trailingComments,delete m.node.trailingComments)}return h},c.prototype.findLeadingComments=function(p){for(var h,g=[];this.stack.length>0&&(x=this.stack[this.stack.length-1])&&x.start>=p.start.offset;)h=x.node,this.stack.pop();if(h){for(var y=(h.leadingComments?h.leadingComments.length:0)-1;y>=0;--y){var m=h.leadingComments[y];m.range[1]<=p.start.offset&&(g.unshift(m),h.leadingComments.splice(y,1))}return h.leadingComments&&h.leadingComments.length===0&&delete h.leadingComments,g}for(y=this.leading.length-1;y>=0;--y){var x;(x=this.leading[y]).start<=p.start.offset&&(g.unshift(x.comment),this.leading.splice(y,1))}return g},c.prototype.visitNode=function(p,h){if(!(p.type===s.Syntax.Program&&p.body.length>0)){this.insertInnerComments(p,h);var g=this.findTrailingComments(h),y=this.findLeadingComments(h);y.length>0&&(p.leadingComments=y),g.length>0&&(p.trailingComments=g),this.stack.push({node:p,start:h.start.offset})}},c.prototype.visitComment=function(p,h){var g=p.type[0]==="L"?"Line":"Block",y={type:g,value:p.value};if(p.range&&(y.range=p.range),p.loc&&(y.loc=p.loc),this.comments.push(y),this.attach){var m={comment:{type:g,value:p.value,range:[h.start.offset,h.end.offset]},start:h.start.offset};p.loc&&(m.comment.loc=p.loc),p.type=g,this.leading.push(m),this.trailing.push(m)}},c.prototype.visit=function(p,h){p.type==="LineComment"||p.type==="BlockComment"?this.visitComment(p,h):this.attach&&this.visitNode(p,h)},c}();o.CommentHandler=l},function(u,o){Object.defineProperty(o,"__esModule",{value:!0}),o.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(u,o,f){var s,l=this&&this.__extends||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,C){w.__proto__=C}||function(w,C){for(var S in C)C.hasOwnProperty(S)&&(w[S]=C[S])},function(w,C){function S(){this.constructor=w}s(w,C),w.prototype=C===null?Object.create(C):(S.prototype=C.prototype,new S)});Object.defineProperty(o,"__esModule",{value:!0});var c=f(4),p=f(5),h=f(6),g=f(7),y=f(8),m=f(13),x=f(14);function v(w){var C;switch(w.type){case h.JSXSyntax.JSXIdentifier:C=w.name;break;case h.JSXSyntax.JSXNamespacedName:var S=w;C=v(S.namespace)+":"+v(S.name);break;case h.JSXSyntax.JSXMemberExpression:var T=w;C=v(T.object)+"."+v(T.property)}return C}m.TokenName[100]="JSXIdentifier",m.TokenName[101]="JSXText";var d=function(w){function C(S,T,_){return w.call(this,S,T,_)||this}return l(C,w),C.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():w.prototype.parsePrimaryExpression.call(this)},C.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},C.prototype.finishJSX=function(){this.nextToken()},C.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},C.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},C.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},C.prototype.scanXHTMLEntity=function(S){for(var T="&",_=!0,D=!1,b=!1,E=!1;!this.scanner.eof()&&_&&!D;){var N=this.scanner.source[this.scanner.index];if(N===S)break;if(D=N===";",T+=N,++this.scanner.index,!D)switch(T.length){case 2:b=N==="#";break;case 3:b&&(_=(E=N==="x")||c.Character.isDecimalDigit(N.charCodeAt(0)),b=b&&!E);break;default:_=(_=_&&!(b&&!c.Character.isDecimalDigit(N.charCodeAt(0))))&&!(E&&!c.Character.isHexDigit(N.charCodeAt(0)))}}if(_&&D&&T.length>2){var R=T.substr(1,T.length-2);b&&R.length>1?T=String.fromCharCode(parseInt(R.substr(1),10)):E&&R.length>2?T=String.fromCharCode(parseInt("0"+R.substr(1),16)):b||E||!x.XHTMLEntities[R]||(T=x.XHTMLEntities[R])}return T},C.prototype.lexJSX=function(){var S=this.scanner.source.charCodeAt(this.scanner.index);if(S===60||S===62||S===47||S===58||S===61||S===123||S===125)return{type:7,value:N=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(S===34||S===39){for(var T=this.scanner.index,_=this.scanner.source[this.scanner.index++],D="";!this.scanner.eof()&&(R=this.scanner.source[this.scanner.index++])!==_;)D+=R==="&"?this.scanXHTMLEntity(_):R;return{type:8,value:D,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:T,end:this.scanner.index}}if(S===46){var b=this.scanner.source.charCodeAt(this.scanner.index+1),E=this.scanner.source.charCodeAt(this.scanner.index+2),N=b===46&&E===46?"...":".";return T=this.scanner.index,this.scanner.index+=N.length,{type:7,value:N,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:T,end:this.scanner.index}}if(S===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(c.Character.isIdentifierStart(S)&&S!==92){for(T=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var R=this.scanner.source.charCodeAt(this.scanner.index);if(c.Character.isIdentifierPart(R)&&R!==92)++this.scanner.index;else{if(R!==45)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(T,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:T,end:this.scanner.index}}return this.scanner.lex()},C.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var S=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(S)),S},C.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var S=this.scanner.index,T="";!this.scanner.eof();){var _=this.scanner.source[this.scanner.index];if(_==="{"||_==="<")break;++this.scanner.index,T+=_,c.Character.isLineTerminator(_.charCodeAt(0))&&(++this.scanner.lineNumber,_==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var D={type:101,value:T,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:S,end:this.scanner.index};return T.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(D)),D},C.prototype.peekJSXToken=function(){var S=this.scanner.saveState();this.scanner.scanComments();var T=this.lexJSX();return this.scanner.restoreState(S),T},C.prototype.expectJSX=function(S){var T=this.nextJSXToken();T.type===7&&T.value===S||this.throwUnexpectedToken(T)},C.prototype.matchJSX=function(S){var T=this.peekJSXToken();return T.type===7&&T.value===S},C.prototype.parseJSXIdentifier=function(){var S=this.createJSXNode(),T=this.nextJSXToken();return T.type!==100&&this.throwUnexpectedToken(T),this.finalize(S,new p.JSXIdentifier(T.value))},C.prototype.parseJSXElementName=function(){var S=this.createJSXNode(),T=this.parseJSXIdentifier();if(this.matchJSX(":")){var _=T;this.expectJSX(":");var D=this.parseJSXIdentifier();T=this.finalize(S,new p.JSXNamespacedName(_,D))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var b=T;this.expectJSX(".");var E=this.parseJSXIdentifier();T=this.finalize(S,new p.JSXMemberExpression(b,E))}return T},C.prototype.parseJSXAttributeName=function(){var S,T=this.createJSXNode(),_=this.parseJSXIdentifier();if(this.matchJSX(":")){var D=_;this.expectJSX(":");var b=this.parseJSXIdentifier();S=this.finalize(T,new p.JSXNamespacedName(D,b))}else S=_;return S},C.prototype.parseJSXStringLiteralAttribute=function(){var S=this.createJSXNode(),T=this.nextJSXToken();T.type!==8&&this.throwUnexpectedToken(T);var _=this.getTokenRaw(T);return this.finalize(S,new g.Literal(T.value,_))},C.prototype.parseJSXExpressionAttribute=function(){var S=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var T=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(S,new p.JSXExpressionContainer(T))},C.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},C.prototype.parseJSXNameValueAttribute=function(){var S=this.createJSXNode(),T=this.parseJSXAttributeName(),_=null;return this.matchJSX("=")&&(this.expectJSX("="),_=this.parseJSXAttributeValue()),this.finalize(S,new p.JSXAttribute(T,_))},C.prototype.parseJSXSpreadAttribute=function(){var S=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var T=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(S,new p.JSXSpreadAttribute(T))},C.prototype.parseJSXAttributes=function(){for(var S=[];!this.matchJSX("/")&&!this.matchJSX(">");){var T=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();S.push(T)}return S},C.prototype.parseJSXOpeningElement=function(){var S=this.createJSXNode();this.expectJSX("<");var T=this.parseJSXElementName(),_=this.parseJSXAttributes(),D=this.matchJSX("/");return D&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(S,new p.JSXOpeningElement(T,D,_))},C.prototype.parseJSXBoundaryElement=function(){var S=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var T=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(S,new p.JSXClosingElement(T))}var _=this.parseJSXElementName(),D=this.parseJSXAttributes(),b=this.matchJSX("/");return b&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(S,new p.JSXOpeningElement(_,b,D))},C.prototype.parseJSXEmptyExpression=function(){var S=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(S,new p.JSXEmptyExpression)},C.prototype.parseJSXExpressionContainer=function(){var S,T=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(S=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),S=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(T,new p.JSXExpressionContainer(S))},C.prototype.parseJSXChildren=function(){for(var S=[];!this.scanner.eof();){var T=this.createJSXChildNode(),_=this.nextJSXText();if(_.start<_.end){var D=this.getTokenRaw(_),b=this.finalize(T,new p.JSXText(_.value,D));S.push(b)}if(this.scanner.source[this.scanner.index]!=="{")break;var E=this.parseJSXExpressionContainer();S.push(E)}return S},C.prototype.parseComplexJSXElement=function(S){for(var T=[];!this.scanner.eof();){S.children=S.children.concat(this.parseJSXChildren());var _=this.createJSXChildNode(),D=this.parseJSXBoundaryElement();if(D.type===h.JSXSyntax.JSXOpeningElement){var b=D;if(b.selfClosing){var E=this.finalize(_,new p.JSXElement(b,[],null));S.children.push(E)}else T.push(S),S={node:_,opening:b,closing:null,children:[]}}if(D.type===h.JSXSyntax.JSXClosingElement){S.closing=D;var N=v(S.opening.name);if(N!==v(S.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",N),!(T.length>0))break;E=this.finalize(S.node,new p.JSXElement(S.opening,S.children,S.closing)),(S=T[T.length-1]).children.push(E),T.pop()}}return S},C.prototype.parseJSXElement=function(){var S=this.createJSXNode(),T=this.parseJSXOpeningElement(),_=[],D=null;if(!T.selfClosing){var b=this.parseComplexJSXElement({node:S,opening:T,closing:D,children:_});_=b.children,D=b.closing}return this.finalize(S,new p.JSXElement(T,_,D))},C.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var S=this.parseJSXElement();return this.finishJSX(),S},C.prototype.isStartOfExpression=function(){return w.prototype.isStartOfExpression.call(this)||this.match("<")},C}(y.Parser);o.JSXParser=d},function(u,o){Object.defineProperty(o,"__esModule",{value:!0});var f={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};o.Character={fromCodePoint:function(s){return s<65536?String.fromCharCode(s):String.fromCharCode(55296+(s-65536>>10))+String.fromCharCode(56320+(s-65536&1023))},isWhiteSpace:function(s){return s===32||s===9||s===11||s===12||s===160||s>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(s)>=0},isLineTerminator:function(s){return s===10||s===13||s===8232||s===8233},isIdentifierStart:function(s){return s===36||s===95||s>=65&&s<=90||s>=97&&s<=122||s===92||s>=128&&f.NonAsciiIdentifierStart.test(o.Character.fromCodePoint(s))},isIdentifierPart:function(s){return s===36||s===95||s>=65&&s<=90||s>=97&&s<=122||s>=48&&s<=57||s===92||s>=128&&f.NonAsciiIdentifierPart.test(o.Character.fromCodePoint(s))},isDecimalDigit:function(s){return s>=48&&s<=57},isHexDigit:function(s){return s>=48&&s<=57||s>=65&&s<=70||s>=97&&s<=102},isOctalDigit:function(s){return s>=48&&s<=55}}},function(u,o,f){Object.defineProperty(o,"__esModule",{value:!0});var s=f(6),l=function(C){this.type=s.JSXSyntax.JSXClosingElement,this.name=C};o.JSXClosingElement=l;var c=function(C,S,T){this.type=s.JSXSyntax.JSXElement,this.openingElement=C,this.children=S,this.closingElement=T};o.JSXElement=c;var p=function(){this.type=s.JSXSyntax.JSXEmptyExpression};o.JSXEmptyExpression=p;var h=function(C){this.type=s.JSXSyntax.JSXExpressionContainer,this.expression=C};o.JSXExpressionContainer=h;var g=function(C){this.type=s.JSXSyntax.JSXIdentifier,this.name=C};o.JSXIdentifier=g;var y=function(C,S){this.type=s.JSXSyntax.JSXMemberExpression,this.object=C,this.property=S};o.JSXMemberExpression=y;var m=function(C,S){this.type=s.JSXSyntax.JSXAttribute,this.name=C,this.value=S};o.JSXAttribute=m;var x=function(C,S){this.type=s.JSXSyntax.JSXNamespacedName,this.namespace=C,this.name=S};o.JSXNamespacedName=x;var v=function(C,S,T){this.type=s.JSXSyntax.JSXOpeningElement,this.name=C,this.selfClosing=S,this.attributes=T};o.JSXOpeningElement=v;var d=function(C){this.type=s.JSXSyntax.JSXSpreadAttribute,this.argument=C};o.JSXSpreadAttribute=d;var w=function(C,S){this.type=s.JSXSyntax.JSXText,this.value=C,this.raw=S};o.JSXText=w},function(u,o){Object.defineProperty(o,"__esModule",{value:!0}),o.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(u,o,f){Object.defineProperty(o,"__esModule",{value:!0});var s=f(2),l=function(se){this.type=s.Syntax.ArrayExpression,this.elements=se};o.ArrayExpression=l;var c=function(se){this.type=s.Syntax.ArrayPattern,this.elements=se};o.ArrayPattern=c;var p=function(se,fe,Re){this.type=s.Syntax.ArrowFunctionExpression,this.id=null,this.params=se,this.body=fe,this.generator=!1,this.expression=Re,this.async=!1};o.ArrowFunctionExpression=p;var h=function(se,fe,Re){this.type=s.Syntax.AssignmentExpression,this.operator=se,this.left=fe,this.right=Re};o.AssignmentExpression=h;var g=function(se,fe){this.type=s.Syntax.AssignmentPattern,this.left=se,this.right=fe};o.AssignmentPattern=g;var y=function(se,fe,Re){this.type=s.Syntax.ArrowFunctionExpression,this.id=null,this.params=se,this.body=fe,this.generator=!1,this.expression=Re,this.async=!0};o.AsyncArrowFunctionExpression=y;var m=function(se,fe,Re){this.type=s.Syntax.FunctionDeclaration,this.id=se,this.params=fe,this.body=Re,this.generator=!1,this.expression=!1,this.async=!0};o.AsyncFunctionDeclaration=m;var x=function(se,fe,Re){this.type=s.Syntax.FunctionExpression,this.id=se,this.params=fe,this.body=Re,this.generator=!1,this.expression=!1,this.async=!0};o.AsyncFunctionExpression=x;var v=function(se){this.type=s.Syntax.AwaitExpression,this.argument=se};o.AwaitExpression=v;var d=function(se,fe,Re){var Wt=se==="||"||se==="&&";this.type=Wt?s.Syntax.LogicalExpression:s.Syntax.BinaryExpression,this.operator=se,this.left=fe,this.right=Re};o.BinaryExpression=d;var w=function(se){this.type=s.Syntax.BlockStatement,this.body=se};o.BlockStatement=w;var C=function(se){this.type=s.Syntax.BreakStatement,this.label=se};o.BreakStatement=C;var S=function(se,fe){this.type=s.Syntax.CallExpression,this.callee=se,this.arguments=fe};o.CallExpression=S;var T=function(se,fe){this.type=s.Syntax.CatchClause,this.param=se,this.body=fe};o.CatchClause=T;var _=function(se){this.type=s.Syntax.ClassBody,this.body=se};o.ClassBody=_;var D=function(se,fe,Re){this.type=s.Syntax.ClassDeclaration,this.id=se,this.superClass=fe,this.body=Re};o.ClassDeclaration=D;var b=function(se,fe,Re){this.type=s.Syntax.ClassExpression,this.id=se,this.superClass=fe,this.body=Re};o.ClassExpression=b;var E=function(se,fe){this.type=s.Syntax.MemberExpression,this.computed=!0,this.object=se,this.property=fe};o.ComputedMemberExpression=E;var N=function(se,fe,Re){this.type=s.Syntax.ConditionalExpression,this.test=se,this.consequent=fe,this.alternate=Re};o.ConditionalExpression=N;var R=function(se){this.type=s.Syntax.ContinueStatement,this.label=se};o.ContinueStatement=R;var M=function(){this.type=s.Syntax.DebuggerStatement};o.DebuggerStatement=M;var G=function(se,fe){this.type=s.Syntax.ExpressionStatement,this.expression=se,this.directive=fe};o.Directive=G;var j=function(se,fe){this.type=s.Syntax.DoWhileStatement,this.body=se,this.test=fe};o.DoWhileStatement=j;var z=function(){this.type=s.Syntax.EmptyStatement};o.EmptyStatement=z;var V=function(se){this.type=s.Syntax.ExportAllDeclaration,this.source=se};o.ExportAllDeclaration=V;var L=function(se){this.type=s.Syntax.ExportDefaultDeclaration,this.declaration=se};o.ExportDefaultDeclaration=L;var B=function(se,fe,Re){this.type=s.Syntax.ExportNamedDeclaration,this.declaration=se,this.specifiers=fe,this.source=Re};o.ExportNamedDeclaration=B;var $=function(se,fe){this.type=s.Syntax.ExportSpecifier,this.exported=fe,this.local=se};o.ExportSpecifier=$;var H=function(se){this.type=s.Syntax.ExpressionStatement,this.expression=se};o.ExpressionStatement=H;var X=function(se,fe,Re){this.type=s.Syntax.ForInStatement,this.left=se,this.right=fe,this.body=Re,this.each=!1};o.ForInStatement=X;var Z=function(se,fe,Re){this.type=s.Syntax.ForOfStatement,this.left=se,this.right=fe,this.body=Re};o.ForOfStatement=Z;var Y=function(se,fe,Re,Wt){this.type=s.Syntax.ForStatement,this.init=se,this.test=fe,this.update=Re,this.body=Wt};o.ForStatement=Y;var J=function(se,fe,Re,Wt){this.type=s.Syntax.FunctionDeclaration,this.id=se,this.params=fe,this.body=Re,this.generator=Wt,this.expression=!1,this.async=!1};o.FunctionDeclaration=J;var ne=function(se,fe,Re,Wt){this.type=s.Syntax.FunctionExpression,this.id=se,this.params=fe,this.body=Re,this.generator=Wt,this.expression=!1,this.async=!1};o.FunctionExpression=ne;var ee=function(se){this.type=s.Syntax.Identifier,this.name=se};o.Identifier=ee;var te=function(se,fe,Re){this.type=s.Syntax.IfStatement,this.test=se,this.consequent=fe,this.alternate=Re};o.IfStatement=te;var k=function(se,fe){this.type=s.Syntax.ImportDeclaration,this.specifiers=se,this.source=fe};o.ImportDeclaration=k;var O=function(se){this.type=s.Syntax.ImportDefaultSpecifier,this.local=se};o.ImportDefaultSpecifier=O;var A=function(se){this.type=s.Syntax.ImportNamespaceSpecifier,this.local=se};o.ImportNamespaceSpecifier=A;var F=function(se,fe){this.type=s.Syntax.ImportSpecifier,this.local=se,this.imported=fe};o.ImportSpecifier=F;var P=function(se,fe){this.type=s.Syntax.LabeledStatement,this.label=se,this.body=fe};o.LabeledStatement=P;var I=function(se,fe){this.type=s.Syntax.Literal,this.value=se,this.raw=fe};o.Literal=I;var W=function(se,fe){this.type=s.Syntax.MetaProperty,this.meta=se,this.property=fe};o.MetaProperty=W;var Q=function(se,fe,Re,Wt,rs){this.type=s.Syntax.MethodDefinition,this.key=se,this.computed=fe,this.value=Re,this.kind=Wt,this.static=rs};o.MethodDefinition=Q;var re=function(se){this.type=s.Syntax.Program,this.body=se,this.sourceType="module"};o.Module=re;var oe=function(se,fe){this.type=s.Syntax.NewExpression,this.callee=se,this.arguments=fe};o.NewExpression=oe;var ue=function(se){this.type=s.Syntax.ObjectExpression,this.properties=se};o.ObjectExpression=ue;var ve=function(se){this.type=s.Syntax.ObjectPattern,this.properties=se};o.ObjectPattern=ve;var ye=function(se,fe,Re,Wt,rs,Cg){this.type=s.Syntax.Property,this.key=fe,this.computed=Re,this.value=Wt,this.kind=se,this.method=rs,this.shorthand=Cg};o.Property=ye;var je=function(se,fe,Re,Wt){this.type=s.Syntax.Literal,this.value=se,this.raw=fe,this.regex={pattern:Re,flags:Wt}};o.RegexLiteral=je;var Oe=function(se){this.type=s.Syntax.RestElement,this.argument=se};o.RestElement=Oe;var pe=function(se){this.type=s.Syntax.ReturnStatement,this.argument=se};o.ReturnStatement=pe;var Xe=function(se){this.type=s.Syntax.Program,this.body=se,this.sourceType="script"};o.Script=Xe;var K=function(se){this.type=s.Syntax.SequenceExpression,this.expressions=se};o.SequenceExpression=K;var _e=function(se){this.type=s.Syntax.SpreadElement,this.argument=se};o.SpreadElement=_e;var De=function(se,fe){this.type=s.Syntax.MemberExpression,this.computed=!1,this.object=se,this.property=fe};o.StaticMemberExpression=De;var me=function(){this.type=s.Syntax.Super};o.Super=me;var ae=function(se,fe){this.type=s.Syntax.SwitchCase,this.test=se,this.consequent=fe};o.SwitchCase=ae;var ce=function(se,fe){this.type=s.Syntax.SwitchStatement,this.discriminant=se,this.cases=fe};o.SwitchStatement=ce;var ge=function(se,fe){this.type=s.Syntax.TaggedTemplateExpression,this.tag=se,this.quasi=fe};o.TaggedTemplateExpression=ge;var he=function(se,fe){this.type=s.Syntax.TemplateElement,this.value=se,this.tail=fe};o.TemplateElement=he;var xe=function(se,fe){this.type=s.Syntax.TemplateLiteral,this.quasis=se,this.expressions=fe};o.TemplateLiteral=xe;var Fe=function(){this.type=s.Syntax.ThisExpression};o.ThisExpression=Fe;var Ce=function(se){this.type=s.Syntax.ThrowStatement,this.argument=se};o.ThrowStatement=Ce;var Ae=function(se,fe,Re){this.type=s.Syntax.TryStatement,this.block=se,this.handler=fe,this.finalizer=Re};o.TryStatement=Ae;var Be=function(se,fe){this.type=s.Syntax.UnaryExpression,this.operator=se,this.argument=fe,this.prefix=!0};o.UnaryExpression=Be;var pt=function(se,fe,Re){this.type=s.Syntax.UpdateExpression,this.operator=se,this.argument=fe,this.prefix=Re};o.UpdateExpression=pt;var Lt=function(se,fe){this.type=s.Syntax.VariableDeclaration,this.declarations=se,this.kind=fe};o.VariableDeclaration=Lt;var tt=function(se,fe){this.type=s.Syntax.VariableDeclarator,this.id=se,this.init=fe};o.VariableDeclarator=tt;var Xt=function(se,fe){this.type=s.Syntax.WhileStatement,this.test=se,this.body=fe};o.WhileStatement=Xt;var xg=function(se,fe){this.type=s.Syntax.WithStatement,this.object=se,this.body=fe};o.WithStatement=xg;var wg=function(se,fe){this.type=s.Syntax.YieldExpression,this.argument=se,this.delegate=fe};o.YieldExpression=wg},function(u,o,f){Object.defineProperty(o,"__esModule",{value:!0});var s=f(9),l=f(10),c=f(11),p=f(7),h=f(12),g=f(2),y=f(13),m=function(){function x(v,d,w){d===void 0&&(d={}),this.config={range:typeof d.range=="boolean"&&d.range,loc:typeof d.loc=="boolean"&&d.loc,source:null,tokens:typeof d.tokens=="boolean"&&d.tokens,comment:typeof d.comment=="boolean"&&d.comment,tolerant:typeof d.tolerant=="boolean"&&d.tolerant},this.config.loc&&d.source&&d.source!==null&&(this.config.source=String(d.source)),this.delegate=w,this.errorHandler=new l.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new h.Scanner(v,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return x.prototype.throwError=function(v){for(var d=[],w=1;w<arguments.length;w++)d[w-1]=arguments[w];var C=Array.prototype.slice.call(arguments,1),S=v.replace(/%(\d)/g,function(b,E){return s.assert(E<C.length,"Message reference must be in range"),C[E]}),T=this.lastMarker.index,_=this.lastMarker.line,D=this.lastMarker.column+1;throw this.errorHandler.createError(T,_,D,S)},x.prototype.tolerateError=function(v){for(var d=[],w=1;w<arguments.length;w++)d[w-1]=arguments[w];var C=Array.prototype.slice.call(arguments,1),S=v.replace(/%(\d)/g,function(b,E){return s.assert(E<C.length,"Message reference must be in range"),C[E]}),T=this.lastMarker.index,_=this.scanner.lineNumber,D=this.lastMarker.column+1;this.errorHandler.tolerateError(T,_,D,S)},x.prototype.unexpectedTokenError=function(v,d){var w,C=d||c.Messages.UnexpectedToken;if(v?(d||(C=v.type===2?c.Messages.UnexpectedEOS:v.type===3?c.Messages.UnexpectedIdentifier:v.type===6?c.Messages.UnexpectedNumber:v.type===8?c.Messages.UnexpectedString:v.type===10?c.Messages.UnexpectedTemplate:c.Messages.UnexpectedToken,v.type===4&&(this.scanner.isFutureReservedWord(v.value)?C=c.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(v.value)&&(C=c.Messages.StrictReservedWord))),w=v.value):w="ILLEGAL",C=C.replace("%0",w),v&&typeof v.lineNumber=="number"){var S=v.start,T=v.lineNumber,_=this.lastMarker.index-this.lastMarker.column,D=v.start-_+1;return this.errorHandler.createError(S,T,D,C)}return S=this.lastMarker.index,T=this.lastMarker.line,D=this.lastMarker.column+1,this.errorHandler.createError(S,T,D,C)},x.prototype.throwUnexpectedToken=function(v,d){throw this.unexpectedTokenError(v,d)},x.prototype.tolerateUnexpectedToken=function(v,d){this.errorHandler.tolerate(this.unexpectedTokenError(v,d))},x.prototype.collectComments=function(){if(this.config.comment){var v=this.scanner.scanComments();if(v.length>0&&this.delegate)for(var d=0;d<v.length;++d){var w=v[d],C=void 0;C={type:w.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(w.slice[0],w.slice[1])},this.config.range&&(C.range=w.range),this.config.loc&&(C.loc=w.loc);var S={start:{line:w.loc.start.line,column:w.loc.start.column,offset:w.range[0]},end:{line:w.loc.end.line,column:w.loc.end.column,offset:w.range[1]}};this.delegate(C,S)}}else this.scanner.scanComments()},x.prototype.getTokenRaw=function(v){return this.scanner.source.slice(v.start,v.end)},x.prototype.convertToken=function(v){var d={type:y.TokenName[v.type],value:this.getTokenRaw(v)};if(this.config.range&&(d.range=[v.start,v.end]),this.config.loc&&(d.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),v.type===9){var w=v.pattern,C=v.flags;d.regex={pattern:w,flags:C}}return d},x.prototype.nextToken=function(){var v=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var d=this.scanner.lex();return this.hasLineTerminator=v.lineNumber!==d.lineNumber,d&&this.context.strict&&d.type===3&&this.scanner.isStrictModeReservedWord(d.value)&&(d.type=4),this.lookahead=d,this.config.tokens&&d.type!==2&&this.tokens.push(this.convertToken(d)),v},x.prototype.nextRegexToken=function(){this.collectComments();var v=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(v))),this.lookahead=v,this.nextToken(),v},x.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},x.prototype.startNode=function(v,d){d===void 0&&(d=0);var w=v.start-v.lineStart,C=v.lineNumber;return w<0&&(w+=d,C--),{index:v.start,line:C,column:w}},x.prototype.finalize=function(v,d){if(this.config.range&&(d.range=[v.index,this.lastMarker.index]),this.config.loc&&(d.loc={start:{line:v.line,column:v.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(d.loc.source=this.config.source)),this.delegate){var w={start:{line:v.line,column:v.column,offset:v.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(d,w)}return d},x.prototype.expect=function(v){var d=this.nextToken();d.type===7&&d.value===v||this.throwUnexpectedToken(d)},x.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var v=this.lookahead;v.type===7&&v.value===","?this.nextToken():v.type===7&&v.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(v)):this.tolerateUnexpectedToken(v,c.Messages.UnexpectedToken)}else this.expect(",")},x.prototype.expectKeyword=function(v){var d=this.nextToken();d.type===4&&d.value===v||this.throwUnexpectedToken(d)},x.prototype.match=function(v){return this.lookahead.type===7&&this.lookahead.value===v},x.prototype.matchKeyword=function(v){return this.lookahead.type===4&&this.lookahead.value===v},x.prototype.matchContextualKeyword=function(v){return this.lookahead.type===3&&this.lookahead.value===v},x.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var v=this.lookahead.value;return v==="="||v==="*="||v==="**="||v==="/="||v==="%="||v==="+="||v==="-="||v==="<<="||v===">>="||v===">>>="||v==="&="||v==="^="||v==="|="},x.prototype.isolateCoverGrammar=function(v){var d=this.context.isBindingElement,w=this.context.isAssignmentTarget,C=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var S=v.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=d,this.context.isAssignmentTarget=w,this.context.firstCoverInitializedNameError=C,S},x.prototype.inheritCoverGrammar=function(v){var d=this.context.isBindingElement,w=this.context.isAssignmentTarget,C=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var S=v.call(this);return this.context.isBindingElement=this.context.isBindingElement&&d,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&w,this.context.firstCoverInitializedNameError=C||this.context.firstCoverInitializedNameError,S},x.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type===2||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},x.prototype.parsePrimaryExpression=function(){var v,d,w,C=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),v=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(C,new p.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,c.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,d=this.nextToken(),w=this.getTokenRaw(d),v=this.finalize(C,new p.Literal(d.value,w));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,d=this.nextToken(),w=this.getTokenRaw(d),v=this.finalize(C,new p.Literal(d.value==="true",w));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,d=this.nextToken(),w=this.getTokenRaw(d),v=this.finalize(C,new p.Literal(null,w));break;case 10:v=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,v=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":v=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":v=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,d=this.nextRegexToken(),w=this.getTokenRaw(d),v=this.finalize(C,new p.RegexLiteral(d.regex,w,d.pattern,d.flags));break;default:v=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?v=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?v=this.finalize(C,new p.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?v=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),v=this.finalize(C,new p.ThisExpression)):v=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:v=this.throwUnexpectedToken(this.nextToken())}return v},x.prototype.parseSpreadElement=function(){var v=this.createNode();this.expect("...");var d=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(v,new p.SpreadElement(d))},x.prototype.parseArrayInitializer=function(){var v=this.createNode(),d=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),d.push(null);else if(this.match("...")){var w=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),d.push(w)}else d.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(v,new p.ArrayExpression(d))},x.prototype.parsePropertyMethod=function(v){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var d=this.context.strict,w=this.context.allowStrictDirective;this.context.allowStrictDirective=v.simple;var C=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&v.firstRestricted&&this.tolerateUnexpectedToken(v.firstRestricted,v.message),this.context.strict&&v.stricted&&this.tolerateUnexpectedToken(v.stricted,v.message),this.context.strict=d,this.context.allowStrictDirective=w,C},x.prototype.parsePropertyMethodFunction=function(){var v=this.createNode(),d=this.context.allowYield;this.context.allowYield=!0;var w=this.parseFormalParameters(),C=this.parsePropertyMethod(w);return this.context.allowYield=d,this.finalize(v,new p.FunctionExpression(null,w.params,C,!1))},x.prototype.parsePropertyMethodAsyncFunction=function(){var v=this.createNode(),d=this.context.allowYield,w=this.context.await;this.context.allowYield=!1,this.context.await=!0;var C=this.parseFormalParameters(),S=this.parsePropertyMethod(C);return this.context.allowYield=d,this.context.await=w,this.finalize(v,new p.AsyncFunctionExpression(null,C.params,S))},x.prototype.parseObjectPropertyKey=function(){var v,d=this.createNode(),w=this.nextToken();switch(w.type){case 8:case 6:this.context.strict&&w.octal&&this.tolerateUnexpectedToken(w,c.Messages.StrictOctalLiteral);var C=this.getTokenRaw(w);v=this.finalize(d,new p.Literal(w.value,C));break;case 3:case 1:case 5:case 4:v=this.finalize(d,new p.Identifier(w.value));break;case 7:w.value==="["?(v=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):v=this.throwUnexpectedToken(w);break;default:v=this.throwUnexpectedToken(w)}return v},x.prototype.isPropertyKey=function(v,d){return v.type===g.Syntax.Identifier&&v.name===d||v.type===g.Syntax.Literal&&v.value===d},x.prototype.parseObjectProperty=function(v){var d,w=this.createNode(),C=this.lookahead,S=null,T=null,_=!1,D=!1,b=!1,E=!1;if(C.type===3){var N=C.value;this.nextToken(),_=this.match("["),S=(E=!(this.hasLineTerminator||N!=="async"||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(w,new p.Identifier(N))}else this.match("*")?this.nextToken():(_=this.match("["),S=this.parseObjectPropertyKey());var R=this.qualifiedPropertyName(this.lookahead);if(C.type===3&&!E&&C.value==="get"&&R)d="get",_=this.match("["),S=this.parseObjectPropertyKey(),this.context.allowYield=!1,T=this.parseGetterMethod();else if(C.type===3&&!E&&C.value==="set"&&R)d="set",_=this.match("["),S=this.parseObjectPropertyKey(),T=this.parseSetterMethod();else if(C.type===7&&C.value==="*"&&R)d="init",_=this.match("["),S=this.parseObjectPropertyKey(),T=this.parseGeneratorMethod(),D=!0;else if(S||this.throwUnexpectedToken(this.lookahead),d="init",this.match(":")&&!E)!_&&this.isPropertyKey(S,"__proto__")&&(v.value&&this.tolerateError(c.Messages.DuplicateProtoProperty),v.value=!0),this.nextToken(),T=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))T=E?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),D=!0;else if(C.type===3)if(N=this.finalize(w,new p.Identifier(C.value)),this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),b=!0;var M=this.isolateCoverGrammar(this.parseAssignmentExpression);T=this.finalize(w,new p.AssignmentPattern(N,M))}else b=!0,T=N;else this.throwUnexpectedToken(this.nextToken());return this.finalize(w,new p.Property(d,S,_,T,D,b))},x.prototype.parseObjectInitializer=function(){var v=this.createNode();this.expect("{");for(var d=[],w={value:!1};!this.match("}");)d.push(this.parseObjectProperty(w)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(v,new p.ObjectExpression(d))},x.prototype.parseTemplateHead=function(){s.assert(this.lookahead.head,"Template literal must start with a template head");var v=this.createNode(),d=this.nextToken(),w=d.value,C=d.cooked;return this.finalize(v,new p.TemplateElement({raw:w,cooked:C},d.tail))},x.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var v=this.createNode(),d=this.nextToken(),w=d.value,C=d.cooked;return this.finalize(v,new p.TemplateElement({raw:w,cooked:C},d.tail))},x.prototype.parseTemplateLiteral=function(){var v=this.createNode(),d=[],w=[],C=this.parseTemplateHead();for(w.push(C);!C.tail;)d.push(this.parseExpression()),C=this.parseTemplateElement(),w.push(C);return this.finalize(v,new p.TemplateLiteral(w,d))},x.prototype.reinterpretExpressionAsPattern=function(v){switch(v.type){case g.Syntax.Identifier:case g.Syntax.MemberExpression:case g.Syntax.RestElement:case g.Syntax.AssignmentPattern:break;case g.Syntax.SpreadElement:v.type=g.Syntax.RestElement,this.reinterpretExpressionAsPattern(v.argument);break;case g.Syntax.ArrayExpression:v.type=g.Syntax.ArrayPattern;for(var d=0;d<v.elements.length;d++)v.elements[d]!==null&&this.reinterpretExpressionAsPattern(v.elements[d]);break;case g.Syntax.ObjectExpression:for(v.type=g.Syntax.ObjectPattern,d=0;d<v.properties.length;d++)this.reinterpretExpressionAsPattern(v.properties[d].value);break;case g.Syntax.AssignmentExpression:v.type=g.Syntax.AssignmentPattern,delete v.operator,this.reinterpretExpressionAsPattern(v.left)}},x.prototype.parseGroupExpression=function(){var v;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),v={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var d=this.lookahead,w=[];if(this.match("..."))v=this.parseRestElement(w),this.expect(")"),this.match("=>")||this.expect("=>"),v={type:"ArrowParameterPlaceHolder",params:[v],async:!1};else{var C=!1;if(this.context.isBindingElement=!0,v=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var S=[];for(this.context.isAssignmentTarget=!1,S.push(v);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var T=0;T<S.length;T++)this.reinterpretExpressionAsPattern(S[T]);C=!0,v={type:"ArrowParameterPlaceHolder",params:S,async:!1}}else if(this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),S.push(this.parseRestElement(w)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,T=0;T<S.length;T++)this.reinterpretExpressionAsPattern(S[T]);C=!0,v={type:"ArrowParameterPlaceHolder",params:S,async:!1}}else S.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(C)break}C||(v=this.finalize(this.startNode(d),new p.SequenceExpression(S)))}if(!C){if(this.expect(")"),this.match("=>")&&(v.type===g.Syntax.Identifier&&v.name==="yield"&&(C=!0,v={type:"ArrowParameterPlaceHolder",params:[v],async:!1}),!C)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),v.type===g.Syntax.SequenceExpression)for(T=0;T<v.expressions.length;T++)this.reinterpretExpressionAsPattern(v.expressions[T]);else this.reinterpretExpressionAsPattern(v);v={type:"ArrowParameterPlaceHolder",params:v.type===g.Syntax.SequenceExpression?v.expressions:[v],async:!1}}this.context.isBindingElement=!1}}}return v},x.prototype.parseArguments=function(){this.expect("(");var v=[];if(!this.match(")"))for(;;){var d=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(v.push(d),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),v},x.prototype.isIdentifierName=function(v){return v.type===3||v.type===4||v.type===1||v.type===5},x.prototype.parseIdentifierName=function(){var v=this.createNode(),d=this.nextToken();return this.isIdentifierName(d)||this.throwUnexpectedToken(d),this.finalize(v,new p.Identifier(d.value))},x.prototype.parseNewExpression=function(){var v,d=this.createNode(),w=this.parseIdentifierName();if(s.assert(w.name==="new","New expression must start with `new`"),this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var C=this.parseIdentifierName();v=new p.MetaProperty(w,C)}else this.throwUnexpectedToken(this.lookahead);else{var S=this.isolateCoverGrammar(this.parseLeftHandSideExpression),T=this.match("(")?this.parseArguments():[];v=new p.NewExpression(S,T),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(d,v)},x.prototype.parseAsyncArgument=function(){var v=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,v},x.prototype.parseAsyncArguments=function(){this.expect("(");var v=[];if(!this.match(")"))for(;;){var d=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(v.push(d),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),v},x.prototype.parseLeftHandSideExpressionAllowCall=function(){var v,d=this.lookahead,w=this.matchContextualKeyword("async"),C=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(v=this.createNode(),this.nextToken(),v=this.finalize(v,new p.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):v=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var S=this.parseIdentifierName();v=this.finalize(this.startNode(d),new p.StaticMemberExpression(v,S))}else if(this.match("(")){var T=w&&d.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var _=T?this.parseAsyncArguments():this.parseArguments();if(v=this.finalize(this.startNode(d),new p.CallExpression(v,_)),T&&this.match("=>")){for(var D=0;D<_.length;++D)this.reinterpretExpressionAsPattern(_[D]);v={type:"ArrowParameterPlaceHolder",params:_,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),S=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),v=this.finalize(this.startNode(d),new p.ComputedMemberExpression(v,S));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var b=this.parseTemplateLiteral();v=this.finalize(this.startNode(d),new p.TaggedTemplateExpression(v,b))}return this.context.allowIn=C,v},x.prototype.parseSuper=function(){var v=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(v,new p.Super)},x.prototype.parseLeftHandSideExpression=function(){s.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var v=this.startNode(this.lookahead),d=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var w=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),d=this.finalize(v,new p.ComputedMemberExpression(d,w))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),w=this.parseIdentifierName(),d=this.finalize(v,new p.StaticMemberExpression(d,w));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var C=this.parseTemplateLiteral();d=this.finalize(v,new p.TaggedTemplateExpression(d,C))}return d},x.prototype.parseUpdateExpression=function(){var v,d=this.lookahead;if(this.match("++")||this.match("--")){var w=this.startNode(d),C=this.nextToken();v=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&v.type===g.Syntax.Identifier&&this.scanner.isRestrictedWord(v.name)&&this.tolerateError(c.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(c.Messages.InvalidLHSInAssignment);var S=!0;v=this.finalize(w,new p.UpdateExpression(C.value,v,S)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(v=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&v.type===g.Syntax.Identifier&&this.scanner.isRestrictedWord(v.name)&&this.tolerateError(c.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(c.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var T=this.nextToken().value;S=!1,v=this.finalize(this.startNode(d),new p.UpdateExpression(T,v,S))}return v},x.prototype.parseAwaitExpression=function(){var v=this.createNode();this.nextToken();var d=this.parseUnaryExpression();return this.finalize(v,new p.AwaitExpression(d))},x.prototype.parseUnaryExpression=function(){var v;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var d=this.startNode(this.lookahead),w=this.nextToken();v=this.inheritCoverGrammar(this.parseUnaryExpression),v=this.finalize(d,new p.UnaryExpression(w.value,v)),this.context.strict&&v.operator==="delete"&&v.argument.type===g.Syntax.Identifier&&this.tolerateError(c.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else v=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return v},x.prototype.parseExponentiationExpression=function(){var v=this.lookahead,d=this.inheritCoverGrammar(this.parseUnaryExpression);if(d.type!==g.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var w=d,C=this.isolateCoverGrammar(this.parseExponentiationExpression);d=this.finalize(this.startNode(v),new p.BinaryExpression("**",w,C))}return d},x.prototype.binaryPrecedence=function(v){var d=v.value;return v.type===7?this.operatorPrecedence[d]||0:v.type===4&&(d==="instanceof"||this.context.allowIn&&d==="in")?7:0},x.prototype.parseBinaryExpression=function(){var v=this.lookahead,d=this.inheritCoverGrammar(this.parseExponentiationExpression),w=this.lookahead,C=this.binaryPrecedence(w);if(C>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var S=[v,this.lookahead],T=d,_=this.isolateCoverGrammar(this.parseExponentiationExpression),D=[T,w.value,_],b=[C];!((C=this.binaryPrecedence(this.lookahead))<=0);){for(;D.length>2&&C<=b[b.length-1];){_=D.pop();var E=D.pop();b.pop(),T=D.pop(),S.pop();var N=this.startNode(S[S.length-1]);D.push(this.finalize(N,new p.BinaryExpression(E,T,_)))}D.push(this.nextToken().value),b.push(C),S.push(this.lookahead),D.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var R=D.length-1;d=D[R];for(var M=S.pop();R>1;){var G=S.pop(),j=M&&M.lineStart;N=this.startNode(G,j),E=D[R-1],d=this.finalize(N,new p.BinaryExpression(E,D[R-2],d)),R-=2,M=G}}return d},x.prototype.parseConditionalExpression=function(){var v=this.lookahead,d=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var w=this.context.allowIn;this.context.allowIn=!0;var C=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=w,this.expect(":");var S=this.isolateCoverGrammar(this.parseAssignmentExpression);d=this.finalize(this.startNode(v),new p.ConditionalExpression(d,C,S)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return d},x.prototype.checkPatternParam=function(v,d){switch(d.type){case g.Syntax.Identifier:this.validateParam(v,d,d.name);break;case g.Syntax.RestElement:this.checkPatternParam(v,d.argument);break;case g.Syntax.AssignmentPattern:this.checkPatternParam(v,d.left);break;case g.Syntax.ArrayPattern:for(var w=0;w<d.elements.length;w++)d.elements[w]!==null&&this.checkPatternParam(v,d.elements[w]);break;case g.Syntax.ObjectPattern:for(w=0;w<d.properties.length;w++)this.checkPatternParam(v,d.properties[w].value)}v.simple=v.simple&&d instanceof p.Identifier},x.prototype.reinterpretAsCoverFormalsList=function(v){var d,w=[v],C=!1;switch(v.type){case g.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":w=v.params,C=v.async;break;default:return null}d={simple:!0,paramSet:{}};for(var S=0;S<w.length;++S)(T=w[S]).type===g.Syntax.AssignmentPattern?T.right.type===g.Syntax.YieldExpression&&(T.right.argument&&this.throwUnexpectedToken(this.lookahead),T.right.type=g.Syntax.Identifier,T.right.name="yield",delete T.right.argument,delete T.right.delegate):C&&T.type===g.Syntax.Identifier&&T.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(d,T),w[S]=T;if(this.context.strict||!this.context.allowYield)for(S=0;S<w.length;++S){var T;(T=w[S]).type===g.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(d.message===c.Messages.StrictParamDupe){var _=this.context.strict?d.stricted:d.firstRestricted;this.throwUnexpectedToken(_,d.message)}return{simple:d.simple,params:w,stricted:d.stricted,firstRestricted:d.firstRestricted,message:d.message}},x.prototype.parseAssignmentExpression=function(){var v;if(!this.context.allowYield&&this.matchKeyword("yield"))v=this.parseYieldExpression();else{var d=this.lookahead,w=d;if(v=this.parseConditionalExpression(),w.type===3&&w.lineNumber===this.lookahead.lineNumber&&w.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var C=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(C),v={type:"ArrowParameterPlaceHolder",params:[C],async:!0}}if(v.type==="ArrowParameterPlaceHolder"||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var S=v.async,T=this.reinterpretAsCoverFormalsList(v);if(T){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var _=this.context.strict,D=this.context.allowStrictDirective;this.context.allowStrictDirective=T.simple;var b=this.context.allowYield,E=this.context.await;this.context.allowYield=!0,this.context.await=S;var N=this.startNode(d);this.expect("=>");var R=void 0;if(this.match("{")){var M=this.context.allowIn;this.context.allowIn=!0,R=this.parseFunctionSourceElements(),this.context.allowIn=M}else R=this.isolateCoverGrammar(this.parseAssignmentExpression);var G=R.type!==g.Syntax.BlockStatement;this.context.strict&&T.firstRestricted&&this.throwUnexpectedToken(T.firstRestricted,T.message),this.context.strict&&T.stricted&&this.tolerateUnexpectedToken(T.stricted,T.message),v=S?this.finalize(N,new p.AsyncArrowFunctionExpression(T.params,R,G)):this.finalize(N,new p.ArrowFunctionExpression(T.params,R,G)),this.context.strict=_,this.context.allowStrictDirective=D,this.context.allowYield=b,this.context.await=E}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(c.Messages.InvalidLHSInAssignment),this.context.strict&&v.type===g.Syntax.Identifier){var j=v;this.scanner.isRestrictedWord(j.name)&&this.tolerateUnexpectedToken(w,c.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(j.name)&&this.tolerateUnexpectedToken(w,c.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(v):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var z=(w=this.nextToken()).value,V=this.isolateCoverGrammar(this.parseAssignmentExpression);v=this.finalize(this.startNode(d),new p.AssignmentExpression(z,v,V)),this.context.firstCoverInitializedNameError=null}}return v},x.prototype.parseExpression=function(){var v=this.lookahead,d=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var w=[];for(w.push(d);this.lookahead.type!==2&&this.match(",");)this.nextToken(),w.push(this.isolateCoverGrammar(this.parseAssignmentExpression));d=this.finalize(this.startNode(v),new p.SequenceExpression(w))}return d},x.prototype.parseStatementListItem=function(){var v;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,c.Messages.IllegalExportDeclaration),v=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,c.Messages.IllegalImportDeclaration),v=this.parseImportDeclaration();break;case"const":v=this.parseLexicalDeclaration({inFor:!1});break;case"function":v=this.parseFunctionDeclaration();break;case"class":v=this.parseClassDeclaration();break;case"let":v=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:v=this.parseStatement()}else v=this.parseStatement();return v},x.prototype.parseBlock=function(){var v=this.createNode();this.expect("{");for(var d=[];!this.match("}");)d.push(this.parseStatementListItem());return this.expect("}"),this.finalize(v,new p.BlockStatement(d))},x.prototype.parseLexicalBinding=function(v,d){var w=this.createNode(),C=this.parsePattern([],v);this.context.strict&&C.type===g.Syntax.Identifier&&this.scanner.isRestrictedWord(C.name)&&this.tolerateError(c.Messages.StrictVarName);var S=null;return v==="const"?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),S=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(c.Messages.DeclarationMissingInitializer,"const")):(!d.inFor&&C.type!==g.Syntax.Identifier||this.match("="))&&(this.expect("="),S=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(w,new p.VariableDeclarator(C,S))},x.prototype.parseBindingList=function(v,d){for(var w=[this.parseLexicalBinding(v,d)];this.match(",");)this.nextToken(),w.push(this.parseLexicalBinding(v,d));return w},x.prototype.isLexicalDeclaration=function(){var v=this.scanner.saveState();this.scanner.scanComments();var d=this.scanner.lex();return this.scanner.restoreState(v),d.type===3||d.type===7&&d.value==="["||d.type===7&&d.value==="{"||d.type===4&&d.value==="let"||d.type===4&&d.value==="yield"},x.prototype.parseLexicalDeclaration=function(v){var d=this.createNode(),w=this.nextToken().value;s.assert(w==="let"||w==="const","Lexical declaration must be either let or const");var C=this.parseBindingList(w,v);return this.consumeSemicolon(),this.finalize(d,new p.VariableDeclaration(C,w))},x.prototype.parseBindingRestElement=function(v,d){var w=this.createNode();this.expect("...");var C=this.parsePattern(v,d);return this.finalize(w,new p.RestElement(C))},x.prototype.parseArrayPattern=function(v,d){var w=this.createNode();this.expect("[");for(var C=[];!this.match("]");)if(this.match(","))this.nextToken(),C.push(null);else{if(this.match("...")){C.push(this.parseBindingRestElement(v,d));break}C.push(this.parsePatternWithDefault(v,d)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(w,new p.ArrayPattern(C))},x.prototype.parsePropertyPattern=function(v,d){var w,C,S=this.createNode(),T=!1,_=!1;if(this.lookahead.type===3){var D=this.lookahead;w=this.parseVariableIdentifier();var b=this.finalize(S,new p.Identifier(D.value));if(this.match("=")){v.push(D),_=!0,this.nextToken();var E=this.parseAssignmentExpression();C=this.finalize(this.startNode(D),new p.AssignmentPattern(b,E))}else this.match(":")?(this.expect(":"),C=this.parsePatternWithDefault(v,d)):(v.push(D),_=!0,C=b)}else T=this.match("["),w=this.parseObjectPropertyKey(),this.expect(":"),C=this.parsePatternWithDefault(v,d);return this.finalize(S,new p.Property("init",w,T,C,!1,_))},x.prototype.parseObjectPattern=function(v,d){var w=this.createNode(),C=[];for(this.expect("{");!this.match("}");)C.push(this.parsePropertyPattern(v,d)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(w,new p.ObjectPattern(C))},x.prototype.parsePattern=function(v,d){var w;return this.match("[")?w=this.parseArrayPattern(v,d):this.match("{")?w=this.parseObjectPattern(v,d):(!this.matchKeyword("let")||d!=="const"&&d!=="let"||this.tolerateUnexpectedToken(this.lookahead,c.Messages.LetInLexicalBinding),v.push(this.lookahead),w=this.parseVariableIdentifier(d)),w},x.prototype.parsePatternWithDefault=function(v,d){var w=this.lookahead,C=this.parsePattern(v,d);if(this.match("=")){this.nextToken();var S=this.context.allowYield;this.context.allowYield=!0;var T=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=S,C=this.finalize(this.startNode(w),new p.AssignmentPattern(C,T))}return C},x.prototype.parseVariableIdentifier=function(v){var d=this.createNode(),w=this.nextToken();return w.type===4&&w.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(w,c.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(w):w.type!==3?this.context.strict&&w.type===4&&this.scanner.isStrictModeReservedWord(w.value)?this.tolerateUnexpectedToken(w,c.Messages.StrictReservedWord):(this.context.strict||w.value!=="let"||v!=="var")&&this.throwUnexpectedToken(w):(this.context.isModule||this.context.await)&&w.type===3&&w.value==="await"&&this.tolerateUnexpectedToken(w),this.finalize(d,new p.Identifier(w.value))},x.prototype.parseVariableDeclaration=function(v){var d=this.createNode(),w=this.parsePattern([],"var");this.context.strict&&w.type===g.Syntax.Identifier&&this.scanner.isRestrictedWord(w.name)&&this.tolerateError(c.Messages.StrictVarName);var C=null;return this.match("=")?(this.nextToken(),C=this.isolateCoverGrammar(this.parseAssignmentExpression)):w.type===g.Syntax.Identifier||v.inFor||this.expect("="),this.finalize(d,new p.VariableDeclarator(w,C))},x.prototype.parseVariableDeclarationList=function(v){var d={inFor:v.inFor},w=[];for(w.push(this.parseVariableDeclaration(d));this.match(",");)this.nextToken(),w.push(this.parseVariableDeclaration(d));return w},x.prototype.parseVariableStatement=function(){var v=this.createNode();this.expectKeyword("var");var d=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(v,new p.VariableDeclaration(d,"var"))},x.prototype.parseEmptyStatement=function(){var v=this.createNode();return this.expect(";"),this.finalize(v,new p.EmptyStatement)},x.prototype.parseExpressionStatement=function(){var v=this.createNode(),d=this.parseExpression();return this.consumeSemicolon(),this.finalize(v,new p.ExpressionStatement(d))},x.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(c.Messages.StrictFunction),this.parseStatement()},x.prototype.parseIfStatement=function(){var v,d=this.createNode(),w=null;this.expectKeyword("if"),this.expect("(");var C=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),v=this.finalize(this.createNode(),new p.EmptyStatement)):(this.expect(")"),v=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),w=this.parseIfClause())),this.finalize(d,new p.IfStatement(C,v,w))},x.prototype.parseDoWhileStatement=function(){var v=this.createNode();this.expectKeyword("do");var d=this.context.inIteration;this.context.inIteration=!0;var w=this.parseStatement();this.context.inIteration=d,this.expectKeyword("while"),this.expect("(");var C=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(v,new p.DoWhileStatement(w,C))},x.prototype.parseWhileStatement=function(){var v,d=this.createNode();this.expectKeyword("while"),this.expect("(");var w=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),v=this.finalize(this.createNode(),new p.EmptyStatement);else{this.expect(")");var C=this.context.inIteration;this.context.inIteration=!0,v=this.parseStatement(),this.context.inIteration=C}return this.finalize(d,new p.WhileStatement(w,v))},x.prototype.parseForStatement=function(){var v,d,w,C=null,S=null,T=null,_=!0,D=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){C=this.createNode(),this.nextToken();var b=this.context.allowIn;this.context.allowIn=!1;var E=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=b,E.length===1&&this.matchKeyword("in")){var N=E[0];N.init&&(N.id.type===g.Syntax.ArrayPattern||N.id.type===g.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(c.Messages.ForInOfLoopInitializer,"for-in"),C=this.finalize(C,new p.VariableDeclaration(E,"var")),this.nextToken(),v=C,d=this.parseExpression(),C=null}else E.length===1&&E[0].init===null&&this.matchContextualKeyword("of")?(C=this.finalize(C,new p.VariableDeclaration(E,"var")),this.nextToken(),v=C,d=this.parseAssignmentExpression(),C=null,_=!1):(C=this.finalize(C,new p.VariableDeclaration(E,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){C=this.createNode();var R=this.nextToken().value;this.context.strict||this.lookahead.value!=="in"?(b=this.context.allowIn,this.context.allowIn=!1,E=this.parseBindingList(R,{inFor:!0}),this.context.allowIn=b,E.length===1&&E[0].init===null&&this.matchKeyword("in")?(C=this.finalize(C,new p.VariableDeclaration(E,R)),this.nextToken(),v=C,d=this.parseExpression(),C=null):E.length===1&&E[0].init===null&&this.matchContextualKeyword("of")?(C=this.finalize(C,new p.VariableDeclaration(E,R)),this.nextToken(),v=C,d=this.parseAssignmentExpression(),C=null,_=!1):(this.consumeSemicolon(),C=this.finalize(C,new p.VariableDeclaration(E,R)))):(C=this.finalize(C,new p.Identifier(R)),this.nextToken(),v=C,d=this.parseExpression(),C=null)}else{var M=this.lookahead;if(b=this.context.allowIn,this.context.allowIn=!1,C=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=b,this.matchKeyword("in"))this.context.isAssignmentTarget&&C.type!==g.Syntax.AssignmentExpression||this.tolerateError(c.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(C),v=C,d=this.parseExpression(),C=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&C.type!==g.Syntax.AssignmentExpression||this.tolerateError(c.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(C),v=C,d=this.parseAssignmentExpression(),C=null,_=!1;else{if(this.match(",")){for(var G=[C];this.match(",");)this.nextToken(),G.push(this.isolateCoverGrammar(this.parseAssignmentExpression));C=this.finalize(this.startNode(M),new p.SequenceExpression(G))}this.expect(";")}}if(v===void 0&&(this.match(";")||(S=this.parseExpression()),this.expect(";"),this.match(")")||(T=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),w=this.finalize(this.createNode(),new p.EmptyStatement);else{this.expect(")");var j=this.context.inIteration;this.context.inIteration=!0,w=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=j}return v===void 0?this.finalize(D,new p.ForStatement(C,S,T,w)):_?this.finalize(D,new p.ForInStatement(v,d,w)):this.finalize(D,new p.ForOfStatement(v,d,w))},x.prototype.parseContinueStatement=function(){var v=this.createNode();this.expectKeyword("continue");var d=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var w=this.parseVariableIdentifier();d=w;var C="$"+w.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,C)||this.throwError(c.Messages.UnknownLabel,w.name)}return this.consumeSemicolon(),d!==null||this.context.inIteration||this.throwError(c.Messages.IllegalContinue),this.finalize(v,new p.ContinueStatement(d))},x.prototype.parseBreakStatement=function(){var v=this.createNode();this.expectKeyword("break");var d=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var w=this.parseVariableIdentifier(),C="$"+w.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,C)||this.throwError(c.Messages.UnknownLabel,w.name),d=w}return this.consumeSemicolon(),d!==null||this.context.inIteration||this.context.inSwitch||this.throwError(c.Messages.IllegalBreak),this.finalize(v,new p.BreakStatement(d))},x.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(c.Messages.IllegalReturn);var v=this.createNode();this.expectKeyword("return");var d=(this.match(";")||this.match("}")||this.hasLineTerminator||this.lookahead.type===2)&&this.lookahead.type!==8&&this.lookahead.type!==10?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(v,new p.ReturnStatement(d))},x.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(c.Messages.StrictModeWith);var v,d=this.createNode();this.expectKeyword("with"),this.expect("(");var w=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),v=this.finalize(this.createNode(),new p.EmptyStatement)):(this.expect(")"),v=this.parseStatement()),this.finalize(d,new p.WithStatement(w,v))},x.prototype.parseSwitchCase=function(){var v,d=this.createNode();this.matchKeyword("default")?(this.nextToken(),v=null):(this.expectKeyword("case"),v=this.parseExpression()),this.expect(":");for(var w=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)w.push(this.parseStatementListItem());return this.finalize(d,new p.SwitchCase(v,w))},x.prototype.parseSwitchStatement=function(){var v=this.createNode();this.expectKeyword("switch"),this.expect("(");var d=this.parseExpression();this.expect(")");var w=this.context.inSwitch;this.context.inSwitch=!0;var C=[],S=!1;for(this.expect("{");!this.match("}");){var T=this.parseSwitchCase();T.test===null&&(S&&this.throwError(c.Messages.MultipleDefaultsInSwitch),S=!0),C.push(T)}return this.expect("}"),this.context.inSwitch=w,this.finalize(v,new p.SwitchStatement(d,C))},x.prototype.parseLabelledStatement=function(){var v,d=this.createNode(),w=this.parseExpression();if(w.type===g.Syntax.Identifier&&this.match(":")){this.nextToken();var C=w,S="$"+C.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,S)&&this.throwError(c.Messages.Redeclaration,"Label",C.name),this.context.labelSet[S]=!0;var T=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),T=this.parseClassDeclaration();else if(this.matchKeyword("function")){var _=this.lookahead,D=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(_,c.Messages.StrictFunction):D.generator&&this.tolerateUnexpectedToken(_,c.Messages.GeneratorInLegacyContext),T=D}else T=this.parseStatement();delete this.context.labelSet[S],v=new p.LabeledStatement(C,T)}else this.consumeSemicolon(),v=new p.ExpressionStatement(w);return this.finalize(d,v)},x.prototype.parseThrowStatement=function(){var v=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(c.Messages.NewlineAfterThrow);var d=this.parseExpression();return this.consumeSemicolon(),this.finalize(v,new p.ThrowStatement(d))},x.prototype.parseCatchClause=function(){var v=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var d=[],w=this.parsePattern(d),C={},S=0;S<d.length;S++){var T="$"+d[S].value;Object.prototype.hasOwnProperty.call(C,T)&&this.tolerateError(c.Messages.DuplicateBinding,d[S].value),C[T]=!0}this.context.strict&&w.type===g.Syntax.Identifier&&this.scanner.isRestrictedWord(w.name)&&this.tolerateError(c.Messages.StrictCatchVariable),this.expect(")");var _=this.parseBlock();return this.finalize(v,new p.CatchClause(w,_))},x.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},x.prototype.parseTryStatement=function(){var v=this.createNode();this.expectKeyword("try");var d=this.parseBlock(),w=this.matchKeyword("catch")?this.parseCatchClause():null,C=this.matchKeyword("finally")?this.parseFinallyClause():null;return w||C||this.throwError(c.Messages.NoCatchOrFinally),this.finalize(v,new p.TryStatement(d,w,C))},x.prototype.parseDebuggerStatement=function(){var v=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(v,new p.DebuggerStatement)},x.prototype.parseStatement=function(){var v;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:v=this.parseExpressionStatement();break;case 7:var d=this.lookahead.value;v=d==="{"?this.parseBlock():d==="("?this.parseExpressionStatement():d===";"?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:v=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":v=this.parseBreakStatement();break;case"continue":v=this.parseContinueStatement();break;case"debugger":v=this.parseDebuggerStatement();break;case"do":v=this.parseDoWhileStatement();break;case"for":v=this.parseForStatement();break;case"function":v=this.parseFunctionDeclaration();break;case"if":v=this.parseIfStatement();break;case"return":v=this.parseReturnStatement();break;case"switch":v=this.parseSwitchStatement();break;case"throw":v=this.parseThrowStatement();break;case"try":v=this.parseTryStatement();break;case"var":v=this.parseVariableStatement();break;case"while":v=this.parseWhileStatement();break;case"with":v=this.parseWithStatement();break;default:v=this.parseExpressionStatement()}break;default:v=this.throwUnexpectedToken(this.lookahead)}return v},x.prototype.parseFunctionSourceElements=function(){var v=this.createNode();this.expect("{");var d=this.parseDirectivePrologues(),w=this.context.labelSet,C=this.context.inIteration,S=this.context.inSwitch,T=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)d.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=w,this.context.inIteration=C,this.context.inSwitch=S,this.context.inFunctionBody=T,this.finalize(v,new p.BlockStatement(d))},x.prototype.validateParam=function(v,d,w){var C="$"+w;this.context.strict?(this.scanner.isRestrictedWord(w)&&(v.stricted=d,v.message=c.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(v.paramSet,C)&&(v.stricted=d,v.message=c.Messages.StrictParamDupe)):v.firstRestricted||(this.scanner.isRestrictedWord(w)?(v.firstRestricted=d,v.message=c.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(w)?(v.firstRestricted=d,v.message=c.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(v.paramSet,C)&&(v.stricted=d,v.message=c.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(v.paramSet,C,{value:!0,enumerable:!0,writable:!0,configurable:!0}):v.paramSet[C]=!0},x.prototype.parseRestElement=function(v){var d=this.createNode();this.expect("...");var w=this.parsePattern(v);return this.match("=")&&this.throwError(c.Messages.DefaultRestParameter),this.match(")")||this.throwError(c.Messages.ParameterAfterRestParameter),this.finalize(d,new p.RestElement(w))},x.prototype.parseFormalParameter=function(v){for(var d=[],w=this.match("...")?this.parseRestElement(d):this.parsePatternWithDefault(d),C=0;C<d.length;C++)this.validateParam(v,d[C],d[C].value);v.simple=v.simple&&w instanceof p.Identifier,v.params.push(w)},x.prototype.parseFormalParameters=function(v){var d;if(d={simple:!0,params:[],firstRestricted:v},this.expect("("),!this.match(")"))for(d.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(d),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:d.simple,params:d.params,stricted:d.stricted,firstRestricted:d.firstRestricted,message:d.message}},x.prototype.matchAsyncFunction=function(){var v=this.matchContextualKeyword("async");if(v){var d=this.scanner.saveState();this.scanner.scanComments();var w=this.scanner.lex();this.scanner.restoreState(d),v=d.lineNumber===w.lineNumber&&w.type===4&&w.value==="function"}return v},x.prototype.parseFunctionDeclaration=function(v){var d=this.createNode(),w=this.matchContextualKeyword("async");w&&this.nextToken(),this.expectKeyword("function");var C,S=!w&&this.match("*");S&&this.nextToken();var T=null,_=null;if(!v||!this.match("(")){var D=this.lookahead;T=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(D.value)&&this.tolerateUnexpectedToken(D,c.Messages.StrictFunctionName):this.scanner.isRestrictedWord(D.value)?(_=D,C=c.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(D.value)&&(_=D,C=c.Messages.StrictReservedWord)}var b=this.context.await,E=this.context.allowYield;this.context.await=w,this.context.allowYield=!S;var N=this.parseFormalParameters(_),R=N.params,M=N.stricted;_=N.firstRestricted,N.message&&(C=N.message);var G=this.context.strict,j=this.context.allowStrictDirective;this.context.allowStrictDirective=N.simple;var z=this.parseFunctionSourceElements();return this.context.strict&&_&&this.throwUnexpectedToken(_,C),this.context.strict&&M&&this.tolerateUnexpectedToken(M,C),this.context.strict=G,this.context.allowStrictDirective=j,this.context.await=b,this.context.allowYield=E,w?this.finalize(d,new p.AsyncFunctionDeclaration(T,R,z)):this.finalize(d,new p.FunctionDeclaration(T,R,z,S))},x.prototype.parseFunctionExpression=function(){var v=this.createNode(),d=this.matchContextualKeyword("async");d&&this.nextToken(),this.expectKeyword("function");var w,C=!d&&this.match("*");C&&this.nextToken();var S,T=null,_=this.context.await,D=this.context.allowYield;if(this.context.await=d,this.context.allowYield=!C,!this.match("(")){var b=this.lookahead;T=this.context.strict||C||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(b.value)&&this.tolerateUnexpectedToken(b,c.Messages.StrictFunctionName):this.scanner.isRestrictedWord(b.value)?(S=b,w=c.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(b.value)&&(S=b,w=c.Messages.StrictReservedWord)}var E=this.parseFormalParameters(S),N=E.params,R=E.stricted;S=E.firstRestricted,E.message&&(w=E.message);var M=this.context.strict,G=this.context.allowStrictDirective;this.context.allowStrictDirective=E.simple;var j=this.parseFunctionSourceElements();return this.context.strict&&S&&this.throwUnexpectedToken(S,w),this.context.strict&&R&&this.tolerateUnexpectedToken(R,w),this.context.strict=M,this.context.allowStrictDirective=G,this.context.await=_,this.context.allowYield=D,d?this.finalize(v,new p.AsyncFunctionExpression(T,N,j)):this.finalize(v,new p.FunctionExpression(T,N,j,C))},x.prototype.parseDirective=function(){var v=this.lookahead,d=this.createNode(),w=this.parseExpression(),C=w.type===g.Syntax.Literal?this.getTokenRaw(v).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(d,C?new p.Directive(w,C):new p.ExpressionStatement(w))},x.prototype.parseDirectivePrologues=function(){for(var v=null,d=[];;){var w=this.lookahead;if(w.type!==8)break;var C=this.parseDirective();d.push(C);var S=C.directive;if(typeof S!="string")break;S==="use strict"?(this.context.strict=!0,v&&this.tolerateUnexpectedToken(v,c.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(w,c.Messages.IllegalLanguageModeDirective)):!v&&w.octal&&(v=w)}return d},x.prototype.qualifiedPropertyName=function(v){switch(v.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return v.value==="["}return!1},x.prototype.parseGetterMethod=function(){var v=this.createNode(),d=this.context.allowYield;this.context.allowYield=!0;var w=this.parseFormalParameters();w.params.length>0&&this.tolerateError(c.Messages.BadGetterArity);var C=this.parsePropertyMethod(w);return this.context.allowYield=d,this.finalize(v,new p.FunctionExpression(null,w.params,C,!1))},x.prototype.parseSetterMethod=function(){var v=this.createNode(),d=this.context.allowYield;this.context.allowYield=!0;var w=this.parseFormalParameters();w.params.length!==1?this.tolerateError(c.Messages.BadSetterArity):w.params[0]instanceof p.RestElement&&this.tolerateError(c.Messages.BadSetterRestParameter);var C=this.parsePropertyMethod(w);return this.context.allowYield=d,this.finalize(v,new p.FunctionExpression(null,w.params,C,!1))},x.prototype.parseGeneratorMethod=function(){var v=this.createNode(),d=this.context.allowYield;this.context.allowYield=!0;var w=this.parseFormalParameters();this.context.allowYield=!1;var C=this.parsePropertyMethod(w);return this.context.allowYield=d,this.finalize(v,new p.FunctionExpression(null,w.params,C,!0))},x.prototype.isStartOfExpression=function(){var v=!0,d=this.lookahead.value;switch(this.lookahead.type){case 7:v=d==="["||d==="("||d==="{"||d==="+"||d==="-"||d==="!"||d==="~"||d==="++"||d==="--"||d==="/"||d==="/=";break;case 4:v=d==="class"||d==="delete"||d==="function"||d==="let"||d==="new"||d==="super"||d==="this"||d==="typeof"||d==="void"||d==="yield"}return v},x.prototype.parseYieldExpression=function(){var v=this.createNode();this.expectKeyword("yield");var d=null,w=!1;if(!this.hasLineTerminator){var C=this.context.allowYield;this.context.allowYield=!1,(w=this.match("*"))?(this.nextToken(),d=this.parseAssignmentExpression()):this.isStartOfExpression()&&(d=this.parseAssignmentExpression()),this.context.allowYield=C}return this.finalize(v,new p.YieldExpression(d,w))},x.prototype.parseClassElement=function(v){var d=this.lookahead,w=this.createNode(),C="",S=null,T=null,_=!1,D=!1,b=!1,E=!1;if(this.match("*"))this.nextToken();else if(_=this.match("["),(S=this.parseObjectPropertyKey()).name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(d=this.lookahead,b=!0,_=this.match("["),this.match("*")?this.nextToken():S=this.parseObjectPropertyKey()),d.type===3&&!this.hasLineTerminator&&d.value==="async"){var N=this.lookahead.value;N!==":"&&N!=="("&&N!=="*"&&(E=!0,d=this.lookahead,S=this.parseObjectPropertyKey(),d.type===3&&d.value==="constructor"&&this.tolerateUnexpectedToken(d,c.Messages.ConstructorIsAsync))}var R=this.qualifiedPropertyName(this.lookahead);return d.type===3?d.value==="get"&&R?(C="get",_=this.match("["),S=this.parseObjectPropertyKey(),this.context.allowYield=!1,T=this.parseGetterMethod()):d.value==="set"&&R&&(C="set",_=this.match("["),S=this.parseObjectPropertyKey(),T=this.parseSetterMethod()):d.type===7&&d.value==="*"&&R&&(C="init",_=this.match("["),S=this.parseObjectPropertyKey(),T=this.parseGeneratorMethod(),D=!0),!C&&S&&this.match("(")&&(C="init",T=E?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),D=!0),C||this.throwUnexpectedToken(this.lookahead),C==="init"&&(C="method"),_||(b&&this.isPropertyKey(S,"prototype")&&this.throwUnexpectedToken(d,c.Messages.StaticPrototype),!b&&this.isPropertyKey(S,"constructor")&&((C!=="method"||!D||T&&T.generator)&&this.throwUnexpectedToken(d,c.Messages.ConstructorSpecialMethod),v.value?this.throwUnexpectedToken(d,c.Messages.DuplicateConstructor):v.value=!0,C="constructor")),this.finalize(w,new p.MethodDefinition(S,_,T,C,b))},x.prototype.parseClassElementList=function(){var v=[],d={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():v.push(this.parseClassElement(d));return this.expect("}"),v},x.prototype.parseClassBody=function(){var v=this.createNode(),d=this.parseClassElementList();return this.finalize(v,new p.ClassBody(d))},x.prototype.parseClassDeclaration=function(v){var d=this.createNode(),w=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var C=v&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),S=null;this.matchKeyword("extends")&&(this.nextToken(),S=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var T=this.parseClassBody();return this.context.strict=w,this.finalize(d,new p.ClassDeclaration(C,S,T))},x.prototype.parseClassExpression=function(){var v=this.createNode(),d=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var w=this.lookahead.type===3?this.parseVariableIdentifier():null,C=null;this.matchKeyword("extends")&&(this.nextToken(),C=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var S=this.parseClassBody();return this.context.strict=d,this.finalize(v,new p.ClassExpression(w,C,S))},x.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var v=this.createNode(),d=this.parseDirectivePrologues();this.lookahead.type!==2;)d.push(this.parseStatementListItem());return this.finalize(v,new p.Module(d))},x.prototype.parseScript=function(){for(var v=this.createNode(),d=this.parseDirectivePrologues();this.lookahead.type!==2;)d.push(this.parseStatementListItem());return this.finalize(v,new p.Script(d))},x.prototype.parseModuleSpecifier=function(){var v=this.createNode();this.lookahead.type!==8&&this.throwError(c.Messages.InvalidModuleSpecifier);var d=this.nextToken(),w=this.getTokenRaw(d);return this.finalize(v,new p.Literal(d.value,w))},x.prototype.parseImportSpecifier=function(){var v,d,w=this.createNode();return this.lookahead.type===3?(d=v=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),d=this.parseVariableIdentifier())):(d=v=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),d=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(w,new p.ImportSpecifier(d,v))},x.prototype.parseNamedImports=function(){this.expect("{");for(var v=[];!this.match("}");)v.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),v},x.prototype.parseImportDefaultSpecifier=function(){var v=this.createNode(),d=this.parseIdentifierName();return this.finalize(v,new p.ImportDefaultSpecifier(d))},x.prototype.parseImportNamespaceSpecifier=function(){var v=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(c.Messages.NoAsAfterImportNamespace),this.nextToken();var d=this.parseIdentifierName();return this.finalize(v,new p.ImportNamespaceSpecifier(d))},x.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(c.Messages.IllegalImportDeclaration);var v,d=this.createNode();this.expectKeyword("import");var w=[];if(this.lookahead.type===8)v=this.parseModuleSpecifier();else{if(this.match("{")?w=w.concat(this.parseNamedImports()):this.match("*")?w.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(w.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?w.push(this.parseImportNamespaceSpecifier()):this.match("{")?w=w.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var C=this.lookahead.value?c.Messages.UnexpectedToken:c.Messages.MissingFromClause;this.throwError(C,this.lookahead.value)}this.nextToken(),v=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(d,new p.ImportDeclaration(w,v))},x.prototype.parseExportSpecifier=function(){var v=this.createNode(),d=this.parseIdentifierName(),w=d;return this.matchContextualKeyword("as")&&(this.nextToken(),w=this.parseIdentifierName()),this.finalize(v,new p.ExportSpecifier(d,w))},x.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(c.Messages.IllegalExportDeclaration);var v,d=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var w=this.parseFunctionDeclaration(!0);v=this.finalize(d,new p.ExportDefaultDeclaration(w))}else this.matchKeyword("class")?(w=this.parseClassDeclaration(!0),v=this.finalize(d,new p.ExportDefaultDeclaration(w))):this.matchContextualKeyword("async")?(w=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),v=this.finalize(d,new p.ExportDefaultDeclaration(w))):(this.matchContextualKeyword("from")&&this.throwError(c.Messages.UnexpectedToken,this.lookahead.value),w=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),v=this.finalize(d,new p.ExportDefaultDeclaration(w)));else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var C=this.lookahead.value?c.Messages.UnexpectedToken:c.Messages.MissingFromClause;this.throwError(C,this.lookahead.value)}this.nextToken();var S=this.parseModuleSpecifier();this.consumeSemicolon(),v=this.finalize(d,new p.ExportAllDeclaration(S))}else if(this.lookahead.type===4){switch(w=void 0,this.lookahead.value){case"let":case"const":w=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":w=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}v=this.finalize(d,new p.ExportNamedDeclaration(w,[],null))}else if(this.matchAsyncFunction())w=this.parseFunctionDeclaration(),v=this.finalize(d,new p.ExportNamedDeclaration(w,[],null));else{var T=[],_=null,D=!1;for(this.expect("{");!this.match("}");)D=D||this.matchKeyword("default"),T.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),_=this.parseModuleSpecifier(),this.consumeSemicolon()):D?(C=this.lookahead.value?c.Messages.UnexpectedToken:c.Messages.MissingFromClause,this.throwError(C,this.lookahead.value)):this.consumeSemicolon(),v=this.finalize(d,new p.ExportNamedDeclaration(null,T,_))}return v},x}();o.Parser=m},function(u,o){Object.defineProperty(o,"__esModule",{value:!0}),o.assert=function(f,s){if(!f)throw new Error("ASSERT: "+s)}},function(u,o){Object.defineProperty(o,"__esModule",{value:!0});var f=function(){function s(){this.errors=[],this.tolerant=!1}return s.prototype.recordError=function(l){this.errors.push(l)},s.prototype.tolerate=function(l){if(!this.tolerant)throw l;this.recordError(l)},s.prototype.constructError=function(l,c){var p=new Error(l);try{throw p}catch(h){Object.create&&Object.defineProperty&&(p=Object.create(h),Object.defineProperty(p,"column",{value:c}))}return p},s.prototype.createError=function(l,c,p,h){var g="Line "+c+": "+h,y=this.constructError(g,p);return y.index=l,y.lineNumber=c,y.description=h,y},s.prototype.throwError=function(l,c,p,h){throw this.createError(l,c,p,h)},s.prototype.tolerateError=function(l,c,p,h){var g=this.createError(l,c,p,h);if(!this.tolerant)throw g;this.recordError(g)},s}();o.ErrorHandler=f},function(u,o){Object.defineProperty(o,"__esModule",{value:!0}),o.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(u,o,f){Object.defineProperty(o,"__esModule",{value:!0});var s=f(9),l=f(4),c=f(11);function p(y){return"0123456789abcdef".indexOf(y.toLowerCase())}function h(y){return"01234567".indexOf(y)}var g=function(){function y(m,x){this.source=m,this.errorHandler=x,this.trackComment=!1,this.isModule=!1,this.length=m.length,this.index=0,this.lineNumber=m.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return y.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},y.prototype.restoreState=function(m){this.index=m.index,this.lineNumber=m.lineNumber,this.lineStart=m.lineStart},y.prototype.eof=function(){return this.index>=this.length},y.prototype.throwUnexpectedToken=function(m){return m===void 0&&(m=c.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,m)},y.prototype.tolerateUnexpectedToken=function(m){m===void 0&&(m=c.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,m)},y.prototype.skipSingleLineComment=function(m){var x,v,d=[];for(this.trackComment&&(d=[],x=this.index-m,v={start:{line:this.lineNumber,column:this.index-this.lineStart-m},end:{}});!this.eof();){var w=this.source.charCodeAt(this.index);if(++this.index,l.Character.isLineTerminator(w)){if(this.trackComment){v.end={line:this.lineNumber,column:this.index-this.lineStart-1};var C={multiLine:!1,slice:[x+m,this.index-1],range:[x,this.index-1],loc:v};d.push(C)}return w===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,d}}return this.trackComment&&(v.end={line:this.lineNumber,column:this.index-this.lineStart},C={multiLine:!1,slice:[x+m,this.index],range:[x,this.index],loc:v},d.push(C)),d},y.prototype.skipMultiLineComment=function(){var m,x,v=[];for(this.trackComment&&(v=[],m=this.index-2,x={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var d=this.source.charCodeAt(this.index);if(l.Character.isLineTerminator(d))d===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(d===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){x.end={line:this.lineNumber,column:this.index-this.lineStart};var w={multiLine:!0,slice:[m+2,this.index-2],range:[m,this.index],loc:x};v.push(w)}return v}++this.index}else++this.index}return this.trackComment&&(x.end={line:this.lineNumber,column:this.index-this.lineStart},w={multiLine:!0,slice:[m+2,this.index],range:[m,this.index],loc:x},v.push(w)),this.tolerateUnexpectedToken(),v},y.prototype.scanComments=function(){var m;this.trackComment&&(m=[]);for(var x=this.index===0;!this.eof();){var v=this.source.charCodeAt(this.index);if(l.Character.isWhiteSpace(v))++this.index;else if(l.Character.isLineTerminator(v))++this.index,v===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,x=!0;else if(v===47)if((v=this.source.charCodeAt(this.index+1))===47){this.index+=2;var d=this.skipSingleLineComment(2);this.trackComment&&(m=m.concat(d)),x=!0}else{if(v!==42)break;this.index+=2,d=this.skipMultiLineComment(),this.trackComment&&(m=m.concat(d))}else if(x&&v===45){if(this.source.charCodeAt(this.index+1)!==45||this.source.charCodeAt(this.index+2)!==62)break;this.index+=3,d=this.skipSingleLineComment(3),this.trackComment&&(m=m.concat(d))}else{if(v!==60||this.isModule||this.source.slice(this.index+1,this.index+4)!=="!--")break;this.index+=4,d=this.skipSingleLineComment(4),this.trackComment&&(m=m.concat(d))}}return m},y.prototype.isFutureReservedWord=function(m){switch(m){case"enum":case"export":case"import":case"super":return!0;default:return!1}},y.prototype.isStrictModeReservedWord=function(m){switch(m){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},y.prototype.isRestrictedWord=function(m){return m==="eval"||m==="arguments"},y.prototype.isKeyword=function(m){switch(m.length){case 2:return m==="if"||m==="in"||m==="do";case 3:return m==="var"||m==="for"||m==="new"||m==="try"||m==="let";case 4:return m==="this"||m==="else"||m==="case"||m==="void"||m==="with"||m==="enum";case 5:return m==="while"||m==="break"||m==="catch"||m==="throw"||m==="const"||m==="yield"||m==="class"||m==="super";case 6:return m==="return"||m==="typeof"||m==="delete"||m==="switch"||m==="export"||m==="import";case 7:return m==="default"||m==="finally"||m==="extends";case 8:return m==="function"||m==="continue"||m==="debugger";case 10:return m==="instanceof";default:return!1}},y.prototype.codePointAt=function(m){var x=this.source.charCodeAt(m);if(x>=55296&&x<=56319){var v=this.source.charCodeAt(m+1);v>=56320&&v<=57343&&(x=1024*(x-55296)+v-56320+65536)}return x},y.prototype.scanHexEscape=function(m){for(var x=m==="u"?4:2,v=0,d=0;d<x;++d){if(this.eof()||!l.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;v=16*v+p(this.source[this.index++])}return String.fromCharCode(v)},y.prototype.scanUnicodeCodePointEscape=function(){var m=this.source[this.index],x=0;for(m==="}"&&this.throwUnexpectedToken();!this.eof()&&(m=this.source[this.index++],l.Character.isHexDigit(m.charCodeAt(0)));)x=16*x+p(m);return(x>1114111||m!=="}")&&this.throwUnexpectedToken(),l.Character.fromCodePoint(x)},y.prototype.getIdentifier=function(){for(var m=this.index++;!this.eof();){var x=this.source.charCodeAt(this.index);if(x===92)return this.index=m,this.getComplexIdentifier();if(x>=55296&&x<57343)return this.index=m,this.getComplexIdentifier();if(!l.Character.isIdentifierPart(x))break;++this.index}return this.source.slice(m,this.index)},y.prototype.getComplexIdentifier=function(){var m,x=this.codePointAt(this.index),v=l.Character.fromCodePoint(x);for(this.index+=v.length,x===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,m=this.scanUnicodeCodePointEscape()):(m=this.scanHexEscape("u"))!==null&&m!=="\\"&&l.Character.isIdentifierStart(m.charCodeAt(0))||this.throwUnexpectedToken(),v=m);!this.eof()&&(x=this.codePointAt(this.index),l.Character.isIdentifierPart(x));)v+=m=l.Character.fromCodePoint(x),this.index+=m.length,x===92&&(v=v.substr(0,v.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,m=this.scanUnicodeCodePointEscape()):(m=this.scanHexEscape("u"))!==null&&m!=="\\"&&l.Character.isIdentifierPart(m.charCodeAt(0))||this.throwUnexpectedToken(),v+=m);return v},y.prototype.octalToDecimal=function(m){var x=m!=="0",v=h(m);return!this.eof()&&l.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(x=!0,v=8*v+h(this.source[this.index++]),"0123".indexOf(m)>=0&&!this.eof()&&l.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(v=8*v+h(this.source[this.index++]))),{code:v,octal:x}},y.prototype.scanIdentifier=function(){var m,x=this.index,v=this.source.charCodeAt(x)===92?this.getComplexIdentifier():this.getIdentifier();if((m=v.length===1?3:this.isKeyword(v)?4:v==="null"?5:v==="true"||v==="false"?1:3)!=3&&x+v.length!==this.index){var d=this.index;this.index=x,this.tolerateUnexpectedToken(c.Messages.InvalidEscapedReservedWord),this.index=d}return{type:m,value:v,lineNumber:this.lineNumber,lineStart:this.lineStart,start:x,end:this.index}},y.prototype.scanPunctuator=function(){var m=this.index,x=this.source[this.index];switch(x){case"(":case"{":x==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,x="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:(x=this.source.substr(this.index,4))===">>>="?this.index+=4:(x=x.substr(0,3))==="==="||x==="!=="||x===">>>"||x==="<<="||x===">>="||x==="**="?this.index+=3:(x=x.substr(0,2))==="&&"||x==="||"||x==="=="||x==="!="||x==="+="||x==="-="||x==="*="||x==="/="||x==="++"||x==="--"||x==="<<"||x===">>"||x==="&="||x==="|="||x==="^="||x==="%="||x==="<="||x===">="||x==="=>"||x==="**"?this.index+=2:(x=this.source[this.index],"<>=!+-*%&|^/".indexOf(x)>=0&&++this.index)}return this.index===m&&this.throwUnexpectedToken(),{type:7,value:x,lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},y.prototype.scanHexLiteral=function(m){for(var x="";!this.eof()&&l.Character.isHexDigit(this.source.charCodeAt(this.index));)x+=this.source[this.index++];return x.length===0&&this.throwUnexpectedToken(),l.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+x,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},y.prototype.scanBinaryLiteral=function(m){for(var x,v="";!this.eof()&&((x=this.source[this.index])==="0"||x==="1");)v+=this.source[this.index++];return v.length===0&&this.throwUnexpectedToken(),this.eof()||(x=this.source.charCodeAt(this.index),(l.Character.isIdentifierStart(x)||l.Character.isDecimalDigit(x))&&this.throwUnexpectedToken()),{type:6,value:parseInt(v,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},y.prototype.scanOctalLiteral=function(m,x){var v="",d=!1;for(l.Character.isOctalDigit(m.charCodeAt(0))?(d=!0,v="0"+this.source[this.index++]):++this.index;!this.eof()&&l.Character.isOctalDigit(this.source.charCodeAt(this.index));)v+=this.source[this.index++];return d||v.length!==0||this.throwUnexpectedToken(),(l.Character.isIdentifierStart(this.source.charCodeAt(this.index))||l.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(v,8),octal:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:x,end:this.index}},y.prototype.isImplicitOctalLiteral=function(){for(var m=this.index+1;m<this.length;++m){var x=this.source[m];if(x==="8"||x==="9")return!1;if(!l.Character.isOctalDigit(x.charCodeAt(0)))return!0}return!0},y.prototype.scanNumericLiteral=function(){var m=this.index,x=this.source[m];s.assert(l.Character.isDecimalDigit(x.charCodeAt(0))||x===".","Numeric literal must start with a decimal digit or a decimal point");var v="";if(x!=="."){if(v=this.source[this.index++],x=this.source[this.index],v==="0"){if(x==="x"||x==="X")return++this.index,this.scanHexLiteral(m);if(x==="b"||x==="B")return++this.index,this.scanBinaryLiteral(m);if(x==="o"||x==="O")return this.scanOctalLiteral(x,m);if(x&&l.Character.isOctalDigit(x.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(x,m)}for(;l.Character.isDecimalDigit(this.source.charCodeAt(this.index));)v+=this.source[this.index++];x=this.source[this.index]}if(x==="."){for(v+=this.source[this.index++];l.Character.isDecimalDigit(this.source.charCodeAt(this.index));)v+=this.source[this.index++];x=this.source[this.index]}if(x==="e"||x==="E")if(v+=this.source[this.index++],(x=this.source[this.index])!=="+"&&x!=="-"||(v+=this.source[this.index++]),l.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;l.Character.isDecimalDigit(this.source.charCodeAt(this.index));)v+=this.source[this.index++];else this.throwUnexpectedToken();return l.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(v),lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},y.prototype.scanStringLiteral=function(){var m=this.index,x=this.source[m];s.assert(x==="'"||x==='"',"String literal must starts with a quote"),++this.index;for(var v=!1,d="";!this.eof();){var w=this.source[this.index++];if(w===x){x="";break}if(w==="\\")if((w=this.source[this.index++])&&l.Character.isLineTerminator(w.charCodeAt(0)))++this.lineNumber,w==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(w){case"u":if(this.source[this.index]==="{")++this.index,d+=this.scanUnicodeCodePointEscape();else{var C=this.scanHexEscape(w);C===null&&this.throwUnexpectedToken(),d+=C}break;case"x":var S=this.scanHexEscape(w);S===null&&this.throwUnexpectedToken(c.Messages.InvalidHexEscapeSequence),d+=S;break;case"n":d+=`
`;break;case"r":d+="\r";break;case"t":d+="	";break;case"b":d+="\b";break;case"f":d+="\f";break;case"v":d+="\v";break;case"8":case"9":d+=w,this.tolerateUnexpectedToken();break;default:if(w&&l.Character.isOctalDigit(w.charCodeAt(0))){var T=this.octalToDecimal(w);v=T.octal||v,d+=String.fromCharCode(T.code)}else d+=w}else{if(l.Character.isLineTerminator(w.charCodeAt(0)))break;d+=w}}return x!==""&&(this.index=m,this.throwUnexpectedToken()),{type:8,value:d,octal:v,lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},y.prototype.scanTemplate=function(){var m="",x=!1,v=this.index,d=this.source[v]==="`",w=!1,C=2;for(++this.index;!this.eof();){var S=this.source[this.index++];if(S==="`"){C=1,w=!0,x=!0;break}if(S==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,x=!0;break}m+=S}else if(S==="\\")if(S=this.source[this.index++],l.Character.isLineTerminator(S.charCodeAt(0)))++this.lineNumber,S==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(S){case"n":m+=`
`;break;case"r":m+="\r";break;case"t":m+="	";break;case"u":if(this.source[this.index]==="{")++this.index,m+=this.scanUnicodeCodePointEscape();else{var T=this.index,_=this.scanHexEscape(S);_!==null?m+=_:(this.index=T,m+=S)}break;case"x":var D=this.scanHexEscape(S);D===null&&this.throwUnexpectedToken(c.Messages.InvalidHexEscapeSequence),m+=D;break;case"b":m+="\b";break;case"f":m+="\f";break;case"v":m+="\v";break;default:S==="0"?(l.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(c.Messages.TemplateOctalLiteral),m+="\0"):l.Character.isOctalDigit(S.charCodeAt(0))?this.throwUnexpectedToken(c.Messages.TemplateOctalLiteral):m+=S}else l.Character.isLineTerminator(S.charCodeAt(0))?(++this.lineNumber,S==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,m+=`
`):m+=S}return x||this.throwUnexpectedToken(),d||this.curlyStack.pop(),{type:10,value:this.source.slice(v+1,this.index-C),cooked:m,head:d,tail:w,lineNumber:this.lineNumber,lineStart:this.lineStart,start:v,end:this.index}},y.prototype.testRegExp=function(m,x){var v=m,d=this;x.indexOf("u")>=0&&(v=v.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(w,C,S){var T=parseInt(C||S,16);return T>1114111&&d.throwUnexpectedToken(c.Messages.InvalidRegExp),T<=65535?String.fromCharCode(T):"\uFFFF"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"\uFFFF"));try{RegExp(v)}catch{this.throwUnexpectedToken(c.Messages.InvalidRegExp)}try{return new RegExp(m,x)}catch{return null}},y.prototype.scanRegExpBody=function(){var m=this.source[this.index];s.assert(m==="/","Regular expression literal must start with a slash");for(var x=this.source[this.index++],v=!1,d=!1;!this.eof();)if(x+=m=this.source[this.index++],m==="\\")m=this.source[this.index++],l.Character.isLineTerminator(m.charCodeAt(0))&&this.throwUnexpectedToken(c.Messages.UnterminatedRegExp),x+=m;else if(l.Character.isLineTerminator(m.charCodeAt(0)))this.throwUnexpectedToken(c.Messages.UnterminatedRegExp);else if(v)m==="]"&&(v=!1);else{if(m==="/"){d=!0;break}m==="["&&(v=!0)}return d||this.throwUnexpectedToken(c.Messages.UnterminatedRegExp),x.substr(1,x.length-2)},y.prototype.scanRegExpFlags=function(){for(var m="";!this.eof();){var x=this.source[this.index];if(!l.Character.isIdentifierPart(x.charCodeAt(0)))break;if(++this.index,x!=="\\"||this.eof())m+=x;else if((x=this.source[this.index])==="u"){++this.index;var v=this.index,d=this.scanHexEscape("u");if(d!==null)for(m+=d;v<this.index;++v)this.source[v];else this.index=v,m+="u";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return m},y.prototype.scanRegExp=function(){var m=this.index,x=this.scanRegExpBody(),v=this.scanRegExpFlags();return{type:9,value:"",pattern:x,flags:v,regex:this.testRegExp(x,v),lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},y.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var m=this.source.charCodeAt(this.index);return l.Character.isIdentifierStart(m)?this.scanIdentifier():m===40||m===41||m===59?this.scanPunctuator():m===39||m===34?this.scanStringLiteral():m===46?l.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():l.Character.isDecimalDigit(m)?this.scanNumericLiteral():m===96||m===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():m>=55296&&m<57343&&l.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},y}();o.Scanner=g},function(u,o){Object.defineProperty(o,"__esModule",{value:!0}),o.TokenName={},o.TokenName[1]="Boolean",o.TokenName[2]="<end>",o.TokenName[3]="Identifier",o.TokenName[4]="Keyword",o.TokenName[5]="Null",o.TokenName[6]="Numeric",o.TokenName[7]="Punctuator",o.TokenName[8]="String",o.TokenName[9]="RegularExpression",o.TokenName[10]="Template"},function(u,o){Object.defineProperty(o,"__esModule",{value:!0}),o.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27E8",rang:"\u27E9"}},function(u,o,f){Object.defineProperty(o,"__esModule",{value:!0});var s=f(10),l=f(12),c=f(13),p=function(){function g(){this.values=[],this.curly=this.paren=-1}return g.prototype.beforeFunctionExpression=function(y){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(y)>=0},g.prototype.isRegexStart=function(){var y=this.values[this.values.length-1],m=y!==null;switch(y){case"this":case"]":m=!1;break;case")":var x=this.values[this.paren-1];m=x==="if"||x==="while"||x==="for"||x==="with";break;case"}":if(m=!1,this.values[this.curly-3]==="function")m=!!(v=this.values[this.curly-4])&&!this.beforeFunctionExpression(v);else if(this.values[this.curly-4]==="function"){var v;m=!(v=this.values[this.curly-5])||!this.beforeFunctionExpression(v)}}return m},g.prototype.push=function(y){y.type===7||y.type===4?(y.value==="{"?this.curly=this.values.length:y.value==="("&&(this.paren=this.values.length),this.values.push(y.value)):this.values.push(null)},g}(),h=function(){function g(y,m){this.errorHandler=new s.ErrorHandler,this.errorHandler.tolerant=!!m&&typeof m.tolerant=="boolean"&&m.tolerant,this.scanner=new l.Scanner(y,this.errorHandler),this.scanner.trackComment=!!m&&typeof m.comment=="boolean"&&m.comment,this.trackRange=!!m&&typeof m.range=="boolean"&&m.range,this.trackLoc=!!m&&typeof m.loc=="boolean"&&m.loc,this.buffer=[],this.reader=new p}return g.prototype.errors=function(){return this.errorHandler.errors},g.prototype.getNextToken=function(){if(this.buffer.length===0){var y=this.scanner.scanComments();if(this.scanner.trackComment)for(var m=0;m<y.length;++m){var x=y[m],v=this.scanner.source.slice(x.slice[0],x.slice[1]),d={type:x.multiLine?"BlockComment":"LineComment",value:v};this.trackRange&&(d.range=x.range),this.trackLoc&&(d.loc=x.loc),this.buffer.push(d)}if(!this.scanner.eof()){var w=void 0;this.trackLoc&&(w={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var C=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(C);var S={type:c.TokenName[C.type],value:this.scanner.source.slice(C.start,C.end)};if(this.trackRange&&(S.range=[C.start,C.end]),this.trackLoc&&(w.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},S.loc=w),C.type===9){var T=C.pattern,_=C.flags;S.regex={pattern:T,flags:_}}this.buffer.push(S)}}return this.buffer.shift()},g}();o.Tokenizer=h}])},a.exports=i()},function(a,r,n){var i=n(38),u=n(53),o=n(76),f=n(54),s=Object.prototype.toString,l=Object.prototype.hasOwnProperty,c={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},p=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function h(M){var G,j,z;if(G=M.toString(16).toUpperCase(),M<=255)j="x",z=2;else if(M<=65535)j="u",z=4;else{if(!(M<=4294967295))throw new u("code point within a string may not be greater than 0xFFFFFFFF");j="U",z=8}return"\\"+j+i.repeat("0",z-G.length)+G}function g(M){this.schema=M.schema||o,this.indent=Math.max(1,M.indent||2),this.noArrayIndent=M.noArrayIndent||!1,this.skipInvalid=M.skipInvalid||!1,this.flowLevel=i.isNothing(M.flowLevel)?-1:M.flowLevel,this.styleMap=function(G,j){var z,V,L,B,$,H,X;if(j===null)return{};for(z={},L=0,B=(V=Object.keys(j)).length;L<B;L+=1)$=V[L],H=String(j[$]),$.slice(0,2)==="!!"&&($="tag:yaml.org,2002:"+$.slice(2)),(X=G.compiledTypeMap.fallback[$])&&l.call(X.styleAliases,H)&&(H=X.styleAliases[H]),z[$]=H;return z}(this.schema,M.styles||null),this.sortKeys=M.sortKeys||!1,this.lineWidth=M.lineWidth||80,this.noRefs=M.noRefs||!1,this.noCompatMode=M.noCompatMode||!1,this.condenseFlow=M.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function y(M,G){for(var j,z=i.repeat(" ",G),V=0,L=-1,B="",$=M.length;V<$;)(L=M.indexOf(`
`,V))===-1?(j=M.slice(V),V=$):(j=M.slice(V,L+1),V=L+1),j.length&&j!==`
`&&(B+=z),B+=j;return B}function m(M,G){return`
`+i.repeat(" ",M.indent*G)}function x(M){return M===32||M===9}function v(M){return 32<=M&&M<=126||161<=M&&M<=55295&&M!==8232&&M!==8233||57344<=M&&M<=65533&&M!==65279||65536<=M&&M<=1114111}function d(M,G){return v(M)&&M!==65279&&M!==44&&M!==91&&M!==93&&M!==123&&M!==125&&M!==58&&(M!==35||G&&function(j){return v(j)&&!x(j)&&j!==65279&&j!==13&&j!==10}(G))}function w(M){return/^\n* /.test(M)}function C(M,G,j,z,V){var L,B,$,H,X=!1,Z=!1,Y=z!==-1,J=-1,ne=v(H=M.charCodeAt(0))&&H!==65279&&!x(H)&&H!==45&&H!==63&&H!==58&&H!==44&&H!==91&&H!==93&&H!==123&&H!==125&&H!==35&&H!==38&&H!==42&&H!==33&&H!==124&&H!==61&&H!==62&&H!==39&&H!==34&&H!==37&&H!==64&&H!==96&&!x(M.charCodeAt(M.length-1));if(G)for(L=0;L<M.length;L++){if(!v(B=M.charCodeAt(L)))return 5;$=L>0?M.charCodeAt(L-1):null,ne=ne&&d(B,$)}else{for(L=0;L<M.length;L++){if((B=M.charCodeAt(L))===10)X=!0,Y&&(Z=Z||L-J-1>z&&M[J+1]!==" ",J=L);else if(!v(B))return 5;$=L>0?M.charCodeAt(L-1):null,ne=ne&&d(B,$)}Z=Z||Y&&L-J-1>z&&M[J+1]!==" "}return X||Z?j>9&&w(M)?5:Z?4:3:ne&&!V(M)?1:2}function S(M,G,j,z){M.dump=function(){if(G.length===0)return"''";if(!M.noCompatMode&&p.indexOf(G)!==-1)return"'"+G+"'";var V=M.indent*Math.max(1,j),L=M.lineWidth===-1?-1:Math.max(Math.min(M.lineWidth,40),M.lineWidth-V),B=z||M.flowLevel>-1&&j>=M.flowLevel;switch(C(G,B,M.indent,L,function($){return function(H,X){var Z,Y;for(Z=0,Y=H.implicitTypes.length;Z<Y;Z+=1)if(H.implicitTypes[Z].resolve(X))return!0;return!1}(M,$)})){case 1:return G;case 2:return"'"+G.replace(/'/g,"''")+"'";case 3:return"|"+T(G,M.indent)+_(y(G,V));case 4:return">"+T(G,M.indent)+_(y(function($,H){for(var X,Z,Y=/(\n+)([^\n]*)/g,J=(ee=$.indexOf(`
`),ee=ee!==-1?ee:$.length,Y.lastIndex=ee,D($.slice(0,ee),H)),ne=$[0]===`
`||$[0]===" ",ee;Z=Y.exec($);){var te=Z[1],k=Z[2];X=k[0]===" ",J+=te+(ne||X||k===""?"":`
`)+D(k,H),ne=X}return J}(G,L),V));case 5:return'"'+function($){for(var H,X,Z,Y="",J=0;J<$.length;J++)(H=$.charCodeAt(J))>=55296&&H<=56319&&(X=$.charCodeAt(J+1))>=56320&&X<=57343?(Y+=h(1024*(H-55296)+X-56320+65536),J++):(Z=c[H],Y+=!Z&&v(H)?$[J]:Z||h(H));return Y}(G)+'"';default:throw new u("impossible error: invalid scalar style")}}()}function T(M,G){var j=w(M)?String(G):"",z=M[M.length-1]===`
`;return j+(z&&(M[M.length-2]===`
`||M===`
`)?"+":z?"":"-")+`
`}function _(M){return M[M.length-1]===`
`?M.slice(0,-1):M}function D(M,G){if(M===""||M[0]===" ")return M;for(var j,z,V=/ [^ ]/g,L=0,B=0,$=0,H="";j=V.exec(M);)($=j.index)-L>G&&(z=B>L?B:$,H+=`
`+M.slice(L,z),L=z+1),B=$;return H+=`
`,M.length-L>G&&B>L?H+=M.slice(L,B)+`
`+M.slice(B+1):H+=M.slice(L),H.slice(1)}function b(M,G,j){var z,V,L,B,$,H;for(L=0,B=(V=j?M.explicitTypes:M.implicitTypes).length;L<B;L+=1)if((($=V[L]).instanceOf||$.predicate)&&(!$.instanceOf||typeof G=="object"&&G instanceof $.instanceOf)&&(!$.predicate||$.predicate(G))){if(M.tag=j?$.tag:"?",$.represent){if(H=M.styleMap[$.tag]||$.defaultStyle,s.call($.represent)==="[object Function]")z=$.represent(G,H);else{if(!l.call($.represent,H))throw new u("!<"+$.tag+'> tag resolver accepts not "'+H+'" style');z=$.represent[H](G,H)}M.dump=z}return!0}return!1}function E(M,G,j,z,V,L){M.tag=null,M.dump=j,b(M,j,!1)||b(M,j,!0);var B=s.call(M.dump);z&&(z=M.flowLevel<0||M.flowLevel>G);var $,H,X=B==="[object Object]"||B==="[object Array]";if(X&&(H=($=M.duplicates.indexOf(j))!==-1),(M.tag!==null&&M.tag!=="?"||H||M.indent!==2&&G>0)&&(V=!1),H&&M.usedDuplicates[$])M.dump="*ref_"+$;else{if(X&&H&&!M.usedDuplicates[$]&&(M.usedDuplicates[$]=!0),B==="[object Object]")z&&Object.keys(M.dump).length!==0?(function(Y,J,ne,ee){var te,k,O,A,F,P,I="",W=Y.tag,Q=Object.keys(ne);if(Y.sortKeys===!0)Q.sort();else if(typeof Y.sortKeys=="function")Q.sort(Y.sortKeys);else if(Y.sortKeys)throw new u("sortKeys must be a boolean or a function");for(te=0,k=Q.length;te<k;te+=1)P="",ee&&te===0||(P+=m(Y,J)),A=ne[O=Q[te]],E(Y,J+1,O,!0,!0,!0)&&((F=Y.tag!==null&&Y.tag!=="?"||Y.dump&&Y.dump.length>1024)&&(Y.dump&&Y.dump.charCodeAt(0)===10?P+="?":P+="? "),P+=Y.dump,F&&(P+=m(Y,J)),E(Y,J+1,A,!0,F)&&(Y.dump&&Y.dump.charCodeAt(0)===10?P+=":":P+=": ",I+=P+=Y.dump));Y.tag=W,Y.dump=I||"{}"}(M,G,M.dump,V),H&&(M.dump="&ref_"+$+M.dump)):(function(Y,J,ne){var ee,te,k,O,A,F="",P=Y.tag,I=Object.keys(ne);for(ee=0,te=I.length;ee<te;ee+=1)A="",ee!==0&&(A+=", "),Y.condenseFlow&&(A+='"'),O=ne[k=I[ee]],E(Y,J,k,!1,!1)&&(Y.dump.length>1024&&(A+="? "),A+=Y.dump+(Y.condenseFlow?'"':"")+":"+(Y.condenseFlow?"":" "),E(Y,J,O,!1,!1)&&(F+=A+=Y.dump));Y.tag=P,Y.dump="{"+F+"}"}(M,G,M.dump),H&&(M.dump="&ref_"+$+" "+M.dump));else if(B==="[object Array]"){var Z=M.noArrayIndent&&G>0?G-1:G;z&&M.dump.length!==0?(function(Y,J,ne,ee){var te,k,O="",A=Y.tag;for(te=0,k=ne.length;te<k;te+=1)E(Y,J+1,ne[te],!0,!0)&&(ee&&te===0||(O+=m(Y,J)),Y.dump&&Y.dump.charCodeAt(0)===10?O+="-":O+="- ",O+=Y.dump);Y.tag=A,Y.dump=O||"[]"}(M,Z,M.dump,V),H&&(M.dump="&ref_"+$+M.dump)):(function(Y,J,ne){var ee,te,k="",O=Y.tag;for(ee=0,te=ne.length;ee<te;ee+=1)E(Y,J,ne[ee],!1,!1)&&(ee!==0&&(k+=","+(Y.condenseFlow?"":" ")),k+=Y.dump);Y.tag=O,Y.dump="["+k+"]"}(M,Z,M.dump),H&&(M.dump="&ref_"+$+" "+M.dump))}else{if(B!=="[object String]"){if(M.skipInvalid)return!1;throw new u("unacceptable kind of an object to dump "+B)}M.tag!=="?"&&S(M,M.dump,G,L)}M.tag!==null&&M.tag!=="?"&&(M.dump="!<"+M.tag+"> "+M.dump)}return!0}function N(M,G){var j,z,V=[],L=[];for(function B($,H,X){var Z,Y,J;if($!==null&&typeof $=="object")if((Y=H.indexOf($))!==-1)X.indexOf(Y)===-1&&X.push(Y);else if(H.push($),Array.isArray($))for(Y=0,J=$.length;Y<J;Y+=1)B($[Y],H,X);else for(Z=Object.keys($),Y=0,J=Z.length;Y<J;Y+=1)B($[Z[Y]],H,X)}(M,V,L),j=0,z=L.length;j<z;j+=1)G.duplicates.push(V[L[j]]);G.usedDuplicates=new Array(z)}function R(M,G){var j=new g(G=G||{});return j.noRefs||N(M,j),E(j,0,M,!0,!0)?j.dump+`
`:""}a.exports.dump=R,a.exports.safeDump=function(M,G){return R(M,i.extend({schema:f},G))}},function(a,r,n){n(31),n(32),n(33),n(64),n(19),n(65),n(20),n(68),n(92),n(144),n(22),n(94),n(23);var i,u=this&&this.__extends||(i=function(C,S){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,_){T.__proto__=_}||function(T,_){for(var D in _)_.hasOwnProperty(D)&&(T[D]=_[D])})(C,S)},function(C,S){function T(){this.constructor=C}i(C,S),C.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}),o=this&&this.__values||function(C){var S=typeof Symbol=="function"&&Symbol.iterator,T=S&&C[S],_=0;if(T)return T.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&_>=C.length&&(C=void 0),{value:C&&C[_++],done:!C}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")},f=this&&this.__read||function(C,S){var T=typeof Symbol=="function"&&C[Symbol.iterator];if(!T)return C;var _,D,b=T.call(C),E=[];try{for(;(S===void 0||S-- >0)&&!(_=b.next()).done;)E.push(_.value)}catch(N){D={error:N}}finally{try{_&&!_.done&&(T=b.return)&&T.call(b)}finally{if(D)throw D.error}}return E};Object.defineProperty(r,"__esModule",{value:!0});var s=n(91),l=n(1),c=n(183),p=n(0),h=n(7),g=n(95),y=n(69),m=n(3),x=n(305),v=n(306),d=n(307),w=function(C){function S(T,_){_===void 0&&(_=!1);var D=C.call(this)||this;return D._hasDeclaration=!1,D._docTypeName="",D._hasDocumentElement=!1,D._currentElementSerialized=!1,D._openTags=[],D._ended=!1,D._fragment=_,D._options=l.applyDefaults(T||{},s.DefaultXMLBuilderCBOptions),D._builderOptions={defaultNamespace:D._options.defaultNamespace,namespaceAlias:D._options.namespaceAlias},D._options.format==="json"?D._writer=new v.JSONCBWriter(D._options):D._options.format==="yaml"?D._writer=new d.YAMLCBWriter(D._options):D._writer=new x.XMLCBWriter(D._options),D._options.data!==void 0&&D.on("data",D._options.data),D._options.end!==void 0&&D.on("end",D._options.end),D._options.error!==void 0&&D.on("error",D._options.error),D._prefixMap=new g.NamespacePrefixMap,D._prefixMap.set("xml",h.namespace.XML),D._prefixIndex={value:1},D._push(D._writer.frontMatter()),D}return u(S,C),S.prototype.ele=function(T,_,D){var b,E;if(l.isObject(T)||l.isString(T)&&(/^\s*</.test(T)||/^\s*[\{\[]/.test(T)||/^(\s*|(#.*)|(%.*))*---/.test(T))){var N=c.fragment().set(this._options);try{N.ele(T)}catch(j){return this.emit("error",j),this}try{for(var R=o(N.node.childNodes),M=R.next();!M.done;M=R.next()){var G=M.value;this._fromNode(G)}}catch(j){b={error:j}}finally{try{M&&!M.done&&(E=R.return)&&E.call(R)}finally{if(b)throw b.error}}return this}if(this._serializeOpenTag(!0),!this._fragment&&this._hasDocumentElement&&this._writer.level===0)return this.emit("error",new Error("Document cannot have multiple document element nodes.")),this;try{this._currentElement=c.fragment(this._builderOptions).ele(T,_,D)}catch(j){return this.emit("error",j),this}return this._fragment||this._hasDocumentElement||this._docTypeName===""||this._currentElement.node._qualifiedName===this._docTypeName?(this._currentElementSerialized=!1,this._fragment||(this._hasDocumentElement=!0),this):(this.emit("error",new Error("Document element name does not match DocType declaration name.")),this)},S.prototype.att=function(T,_,D){if(this._currentElement===void 0)return this.emit("error",new Error("Cannot insert an attribute node as child of a document node.")),this;try{this._currentElement.att(T,_,D)}catch(b){return this.emit("error",b),this}return this},S.prototype.com=function(T){var _;this._serializeOpenTag(!0);try{_=c.fragment(this._builderOptions).com(T).first().node}catch(D){return this.emit("error",D),this}return!this._options.wellFormed||p.xml_isLegalChar(_.data)&&_.data.indexOf("--")===-1&&!_.data.endsWith("-")?(this._push(this._writer.comment(_.data)),this):(this.emit("error",new Error("Comment data contains invalid characters (well-formed required).")),this)},S.prototype.txt=function(T){if(!this._fragment&&this._currentElement===void 0)return this.emit("error",new Error("Cannot insert a text node as child of a document node.")),this;var _;this._serializeOpenTag(!0);try{_=c.fragment(this._builderOptions).txt(T).first().node}catch(b){return this.emit("error",b),this}if(this._options.wellFormed&&!p.xml_isLegalChar(_.data))return this.emit("error",new Error("Text data contains invalid characters (well-formed required).")),this;var D=_.data.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return this._push(this._writer.text(D)),this},S.prototype.ins=function(T,_){var D;_===void 0&&(_=""),this._serializeOpenTag(!0);try{D=c.fragment(this._builderOptions).ins(T,_).first().node}catch(b){return this.emit("error",b),this}return this._options.wellFormed&&(D.target.indexOf(":")!==-1||/^xml$/i.test(D.target))?(this.emit("error",new Error("Processing instruction target contains invalid characters (well-formed required).")),this):this._options.wellFormed&&!p.xml_isLegalChar(D.data)?(this.emit("error",Error("Processing instruction data contains invalid characters (well-formed required).")),this):(this._push(this._writer.instruction(D.target,D.data)),this)},S.prototype.dat=function(T){var _;this._serializeOpenTag(!0);try{_=c.fragment(this._builderOptions).dat(T).first().node}catch(D){return this.emit("error",D),this}return this._push(this._writer.cdata(_.data)),this},S.prototype.dec=function(T){return T===void 0&&(T={version:"1.0"}),this._fragment?(this.emit("error",Error("Cannot insert an XML declaration into a document fragment.")),this):this._hasDeclaration?(this.emit("error",Error("XML declaration is already inserted.")),this):(this._push(this._writer.declaration(T.version||"1.0",T.encoding,T.standalone)),this._hasDeclaration=!0,this)},S.prototype.dtd=function(T){if(this._fragment)return this.emit("error",Error("Cannot insert a DocType declaration into a document fragment.")),this;if(this._docTypeName!=="")return this.emit("error",new Error("DocType declaration is already inserted.")),this;if(this._hasDocumentElement)return this.emit("error",new Error("Cannot insert DocType declaration after document element.")),this;var _;try{_=c.create().dtd(T).first().node}catch(D){return this.emit("error",D),this}return this._options.wellFormed&&!p.xml_isPubidChar(_.publicId)?(this.emit("error",new Error("DocType public identifier does not match PubidChar construct (well-formed required).")),this):this._options.wellFormed&&(!p.xml_isLegalChar(_.systemId)||_.systemId.indexOf('"')!==-1&&_.systemId.indexOf("'")!==-1)?(this.emit("error",new Error("DocType system identifier contains invalid characters (well-formed required).")),this):(this._docTypeName=T.name,this._push(this._writer.docType(T.name,_.publicId,_.systemId)),this)},S.prototype.import=function(T){var _,D,b=c.fragment().set(this._options);try{b.import(T)}catch(M){return this.emit("error",M),this}try{for(var E=o(b.node.childNodes),N=E.next();!N.done;N=E.next()){var R=N.value;this._fromNode(R)}}catch(M){_={error:M}}finally{try{N&&!N.done&&(D=E.return)&&D.call(E)}finally{if(_)throw _.error}}return this},S.prototype.up=function(){return this._serializeOpenTag(!1),this._serializeCloseTag(),this},S.prototype.end=function(){for(this._serializeOpenTag(!1);this._openTags.length>0;)this._serializeCloseTag();return this._push(null),this},S.prototype._serializeOpenTag=function(T){if(!this._currentElementSerialized&&this._currentElement!==void 0){var _=this._currentElement.node;if(!this._options.wellFormed||_.localName.indexOf(":")===-1&&p.xml_isName(_.localName)){var D="",b=!1,E=this._prefixMap.copy(),N={},R=this._recordNamespaceInformation(_,E,N),M=this._openTags.length===0?null:this._openTags[this._openTags.length-1][1],G=_.namespaceURI;if(G===null&&(G=M),M===G)R!==null&&(b=!0),D=G===h.namespace.XML?"xml:"+_.localName:_.localName,this._writer.beginElement(D),this._push(this._writer.openTagBegin(D));else{var j=_.prefix,z=null;if(j===null&&G===R||(z=E.get(j,G)),j==="xmlns"){if(this._options.wellFormed)return void this.emit("error",new Error("An element cannot have the 'xmlns' prefix (well-formed required)."));z=j}z!==null?(D=z+":"+_.localName,R!==null&&R!==h.namespace.XML&&(M=R||null),this._writer.beginElement(D),this._push(this._writer.openTagBegin(D))):j!==null?(j in N&&(j=this._generatePrefix(G,E,this._prefixIndex)),E.set(j,G),D+=j+":"+_.localName,this._writer.beginElement(D),this._push(this._writer.openTagBegin(D)),this._push(this._writer.attribute("xmlns:"+j,this._serializeAttributeValue(G,this._options.wellFormed))),R!==null&&(M=R||null)):R===null||R!==null&&R!==G?(b=!0,D+=_.localName,M=G,this._writer.beginElement(D),this._push(this._writer.openTagBegin(D)),this._push(this._writer.attribute("xmlns",this._serializeAttributeValue(G,this._options.wellFormed)))):(D+=_.localName,M=G,this._writer.beginElement(D),this._push(this._writer.openTagBegin(D)))}this._serializeAttributes(_,E,this._prefixIndex,N,b,this._options.wellFormed);var V=G===h.namespace.HTML;V&&!T&&S._VoidElementNames.has(_.localName)?(this._push(this._writer.openTagEnd(D,!0,!0)),this._writer.endElement(D)):V||T?this._push(this._writer.openTagEnd(D,!1,!1)):(this._push(this._writer.openTagEnd(D,!0,!1)),this._writer.endElement(D)),this._currentElementSerialized=!0,this._openTags.push([D,M,this._prefixMap,T]),this._isPrefixMapModified(this._prefixMap,E)&&(this._prefixMap=E),this._writer.level++}else this.emit("error",new Error("Node local name contains invalid characters (well-formed required)."))}},S.prototype._serializeCloseTag=function(){this._writer.level--;var T=this._openTags.pop();if(T!==void 0){var _=f(T,4),D=_[0],b=(_[1],_[2]),E=_[3];this._prefixMap=b,E&&(this._push(this._writer.closeTag(D)),this._writer.endElement(D))}else this.emit("error",new Error("Last element is undefined."))},S.prototype._push=function(T){T===null?(this._ended=!0,this.emit("end")):this._ended?this.emit("error",new Error("Cannot push to ended stream.")):T.length!==0&&(this._writer.hasData=!0,this.emit("data",T,this._writer.level))},S.prototype._fromNode=function(T){var _,D,b,E;if(m.Guard.isElementNode(T)){var N=T.prefix?T.prefix+":"+T.localName:T.localName;T.namespaceURI!==null?this.ele(T.namespaceURI,N):this.ele(N);try{for(var R=o(T.attributes),M=R.next();!M.done;M=R.next()){var G=M.value,j=G.prefix?G.prefix+":"+G.localName:G.localName;G.namespaceURI!==null?this.att(G.namespaceURI,j,G.value):this.att(j,G.value)}}catch(B){_={error:B}}finally{try{M&&!M.done&&(D=R.return)&&D.call(R)}finally{if(_)throw _.error}}try{for(var z=o(T.childNodes),V=z.next();!V.done;V=z.next()){var L=V.value;this._fromNode(L)}}catch(B){b={error:B}}finally{try{V&&!V.done&&(E=z.return)&&E.call(z)}finally{if(b)throw b.error}}this.up()}else m.Guard.isExclusiveTextNode(T)&&T.data?this.txt(T.data):m.Guard.isCommentNode(T)?this.com(T.data):m.Guard.isCDATASectionNode(T)?this.dat(T.data):m.Guard.isProcessingInstructionNode(T)&&this.ins(T.target,T.data)},S.prototype._serializeAttributes=function(T,_,D,b,E,N){var R,M,G=N?new y.LocalNameSet:void 0;try{for(var j=o(T.attributes),z=j.next();!z.done;z=j.next()){var V=z.value;if(N||E||V.namespaceURI!==null){if(N&&G&&G.has(V.namespaceURI,V.localName))return void this.emit("error",new Error("Element contains duplicate attributes (well-formed required)."));N&&G&&G.set(V.namespaceURI,V.localName);var L=V.namespaceURI,B=null;if(L!==null)if(B=_.get(V.prefix,L),L===h.namespace.XMLNS){if(V.value===h.namespace.XML||V.prefix===null&&E||V.prefix!==null&&(!(V.localName in b)||b[V.localName]!==V.value)&&_.has(V.localName,V.value))continue;if(N&&V.value===h.namespace.XMLNS)return void this.emit("error",new Error("XMLNS namespace is reserved (well-formed required)."));if(N&&V.value==="")return void this.emit("error",new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required)."));V.prefix==="xmlns"&&(B="xmlns")}else B===null&&(B=V.prefix===null||_.hasPrefix(V.prefix)&&!_.has(V.prefix,L)?this._generatePrefix(L,_,D):V.prefix,this._push(this._writer.attribute("xmlns:"+B,this._serializeAttributeValue(L,this._options.wellFormed))));if(N&&(V.localName.indexOf(":")!==-1||!p.xml_isName(V.localName)||V.localName==="xmlns"&&L===null))return void this.emit("error",new Error("Attribute local name contains invalid characters (well-formed required)."));this._push(this._writer.attribute((B!==null?B+":":"")+V.localName,this._serializeAttributeValue(V.value,this._options.wellFormed)))}else this._push(this._writer.attribute(V.localName,this._serializeAttributeValue(V.value,this._options.wellFormed)))}}catch($){R={error:$}}finally{try{z&&!z.done&&(M=j.return)&&M.call(j)}finally{if(R)throw R.error}}},S.prototype._serializeAttributeValue=function(T,_){return _&&T!==null&&!p.xml_isLegalChar(T)?(this.emit("error",new Error("Invalid characters in attribute value.")),""):T===null?"":T.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},S.prototype._recordNamespaceInformation=function(T,_,D){var b,E,N=null;try{for(var R=o(T.attributes),M=R.next();!M.done;M=R.next()){var G=M.value,j=G.namespaceURI,z=G.prefix;if(j===h.namespace.XMLNS){if(z===null){N=G.value;continue}var V=G.localName,L=G.value;if(L===h.namespace.XML||(L===""&&(L=null),_.has(V,L)))continue;_.set(V,L),D[V]=L||""}}}catch(B){b={error:B}}finally{try{M&&!M.done&&(E=R.return)&&E.call(R)}finally{if(b)throw b.error}}return N},S.prototype._generatePrefix=function(T,_,D){var b="ns"+D.value;return D.value++,_.set(b,T),b},S.prototype._isPrefixMapModified=function(T,_){var D=T._items,b=_._items,E=T._nullItems,N=_._nullItems;for(var R in b){var M=D[R];if(M===void 0)return!0;var G=b[R];if(M.length!==G.length)return!0;for(var j=0;j<M.length;j++)if(M[j]!==G[j])return!0}if(E.length!==N.length)return!0;for(j=0;j<E.length;j++)if(E[j]!==N[j])return!0;return!1},S._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),S}(n(308).EventEmitter);r.XMLBuilderCBImpl=w},function(a,r,n){n(74);var i,u=this&&this.__extends||(i=function(f,s){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var p in c)c.hasOwnProperty(p)&&(l[p]=c[p])})(f,s)},function(f,s){function l(){this.constructor=f}i(f,s),f.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(f){function s(l){var c=f.call(this,l)||this;return c._lineLength=0,c}return u(s,f),s.prototype.frontMatter=function(){return""},s.prototype.declaration=function(l,c,p){var h=this._beginLine()+"<?xml";return h+=' version="'+l+'"',c!==void 0&&(h+=' encoding="'+c+'"'),p!==void 0&&(h+=' standalone="'+(p?"yes":"no")+'"'),h+="?>"},s.prototype.docType=function(l,c,p){var h=this._beginLine();return h+=c&&p?"<!DOCTYPE "+l+' PUBLIC "'+c+'" "'+p+'">':c?"<!DOCTYPE "+l+' PUBLIC "'+c+'">':p?"<!DOCTYPE "+l+' SYSTEM "'+p+'">':"<!DOCTYPE "+l+">"},s.prototype.comment=function(l){return this._beginLine()+"<!--"+l+"-->"},s.prototype.text=function(l){return this._beginLine()+l},s.prototype.instruction=function(l,c){return c?this._beginLine()+"<?"+l+" "+c+"?>":this._beginLine()+"<?"+l+"?>"},s.prototype.cdata=function(l){return this._beginLine()+"<![CDATA["+l+"]]>"},s.prototype.openTagBegin=function(l){return this._lineLength+=1+l.length,this._beginLine()+"<"+l},s.prototype.openTagEnd=function(l,c,p){return p?" />":c?this._writerOptions.allowEmptyTags?"></"+l+">":this._writerOptions.spaceBeforeSlash?" />":"/>":">"},s.prototype.closeTag=function(l){return this._beginLine()+"</"+l+">"},s.prototype.attribute=function(l,c){var p=l+'="'+c+'"';return this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._lineLength+1+p.length>this._writerOptions.width?(p=this._beginLine()+this._indent(1)+p,this._lineLength=p.length,p):(this._lineLength+=1+p.length," "+p)},s.prototype.beginElement=function(l){},s.prototype.endElement=function(l){},s.prototype._beginLine=function(){if(this._writerOptions.prettyPrint){var l=(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level);return this._lineLength=l.length,l}return""},s.prototype._indent=function(l){return l<=0?"":this._writerOptions.indent.repeat(l)},s}(n(114).BaseCBWriter);r.XMLCBWriter=o},function(a,r,n){n(74);var i,u=this&&this.__extends||(i=function(f,s){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var p in c)c.hasOwnProperty(p)&&(l[p]=c[p])})(f,s)},function(f,s){function l(){this.constructor=f}i(f,s),f.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(f){function s(l){var c=f.call(this,l)||this;return c._hasChildren=[],c._additionalLevel=0,c}return u(s,f),s.prototype.frontMatter=function(){return""},s.prototype.declaration=function(l,c,p){return""},s.prototype.docType=function(l,c,p){return""},s.prototype.comment=function(l){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.comment)+this._sep()+this._val(l)+this._sep()+"}"},s.prototype.text=function(l){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.text)+this._sep()+this._val(l)+this._sep()+"}"},s.prototype.instruction=function(l,c){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.ins)+this._sep()+this._val(c?l+" "+c:l)+this._sep()+"}"},s.prototype.cdata=function(l){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.cdata)+this._sep()+this._val(l)+this._sep()+"}"},s.prototype.attribute=function(l,c){return this._comma()+this._beginLine(1)+"{"+this._sep()+this._key(this._builderOptions.convert.att+l)+this._sep()+this._val(c)+this._sep()+"}"},s.prototype.openTagBegin=function(l){var c=this._comma()+this._beginLine()+"{"+this._sep()+this._key(l)+this._sep()+"{";return this._additionalLevel++,this.hasData=!0,c+=this._beginLine()+this._key(this._builderOptions.convert.text)+this._sep()+"[",this._hasChildren.push(!1),c},s.prototype.openTagEnd=function(l,c,p){if(c){var h=this._sep()+"]";return this._additionalLevel--,h+=this._beginLine()+"}"+this._sep()+"}"}return""},s.prototype.closeTag=function(l){var c=this._beginLine()+"]";return this._additionalLevel--,c+=this._beginLine()+"}"+this._sep()+"}"},s.prototype.beginElement=function(l){},s.prototype.endElement=function(l){this._hasChildren.pop()},s.prototype._beginLine=function(l){return l===void 0&&(l=0),this._writerOptions.prettyPrint?(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level+l):""},s.prototype._indent=function(l){return l+this._additionalLevel<=0?"":this._writerOptions.indent.repeat(l+this._additionalLevel)},s.prototype._comma=function(){var l=this._hasChildren[this._hasChildren.length-1]?",":"";return this._hasChildren.length>0&&(this._hasChildren[this._hasChildren.length-1]=!0),l},s.prototype._sep=function(){return this._writerOptions.prettyPrint?" ":""},s.prototype._key=function(l){return'"'+l+'":'},s.prototype._val=function(l){return JSON.stringify(l)},s}(n(114).BaseCBWriter);r.JSONCBWriter=o},function(a,r,n){n(74);var i,u=this&&this.__extends||(i=function(f,s){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var p in c)c.hasOwnProperty(p)&&(l[p]=c[p])})(f,s)},function(f,s){function l(){this.constructor=f}i(f,s),f.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(f){function s(l){var c=f.call(this,l)||this;if(c._rootWritten=!1,c._additionalLevel=0,l.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(l.offset<0)throw new Error("YAML offset should be zero or a positive number.");return c}return u(s,f),s.prototype.frontMatter=function(){return this._beginLine()+"---"},s.prototype.declaration=function(l,c,p){return""},s.prototype.docType=function(l,c,p){return""},s.prototype.comment=function(l){return this._beginLine()+this._key(this._builderOptions.convert.comment)+" "+this._val(l)},s.prototype.text=function(l){return this._beginLine()+this._key(this._builderOptions.convert.text)+" "+this._val(l)},s.prototype.instruction=function(l,c){return this._beginLine()+this._key(this._builderOptions.convert.ins)+" "+this._val(c?l+" "+c:l)},s.prototype.cdata=function(l){return this._beginLine()+this._key(this._builderOptions.convert.cdata)+" "+this._val(l)},s.prototype.attribute=function(l,c){this._additionalLevel++;var p=this._beginLine()+this._key(this._builderOptions.convert.att+l)+" "+this._val(c);return this._additionalLevel--,p},s.prototype.openTagBegin=function(l){var c=this._beginLine()+this._key(l);return this._rootWritten||(this._rootWritten=!0),this.hasData=!0,this._additionalLevel++,c+=this._beginLine(!0)+this._key(this._builderOptions.convert.text)},s.prototype.openTagEnd=function(l,c,p){return c?" "+this._val(""):""},s.prototype.closeTag=function(l){return this._additionalLevel--,""},s.prototype.beginElement=function(l){},s.prototype.endElement=function(l){},s.prototype._beginLine=function(l){return l===void 0&&(l=!1),(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level,l)},s.prototype._indent=function(l,c){if(l+this._additionalLevel<=0)return"";var p=this._writerOptions.indent.repeat(l+this._additionalLevel);return!c&&this._rootWritten?p.substr(0,p.length-2)+"-"+p.substr(-1,1):p},s.prototype._key=function(l){return'"'+l+'":'},s.prototype._val=function(l){return JSON.stringify(l)},s}(n(114).BaseCBWriter);r.YAMLCBWriter=o},function(a,r,n){var i,u=typeof Reflect=="object"?Reflect:null,o=u&&typeof u.apply=="function"?u.apply:function(d,w,C){return Function.prototype.apply.call(d,w,C)};i=u&&typeof u.ownKeys=="function"?u.ownKeys:Object.getOwnPropertySymbols?function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:function(d){return Object.getOwnPropertyNames(d)};var f=Number.isNaN||function(d){return d!=d};function s(){s.init.call(this)}a.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(d){if(typeof d!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof d)}function p(d){return d._maxListeners===void 0?s.defaultMaxListeners:d._maxListeners}function h(d,w,C,S){var T,_,D,b;if(c(C),(_=d._events)===void 0?(_=d._events=Object.create(null),d._eventsCount=0):(_.newListener!==void 0&&(d.emit("newListener",w,C.listener?C.listener:C),_=d._events),D=_[w]),D===void 0)D=_[w]=C,++d._eventsCount;else if(typeof D=="function"?D=_[w]=S?[C,D]:[D,C]:S?D.unshift(C):D.push(C),(T=p(d))>0&&D.length>T&&!D.warned){D.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+D.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");E.name="MaxListenersExceededWarning",E.emitter=d,E.type=w,E.count=D.length,b=E,console&&console.warn&&console.warn(b)}return d}function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(d,w,C){var S={fired:!1,wrapFn:void 0,target:d,type:w,listener:C},T=g.bind(S);return T.listener=C,S.wrapFn=T,T}function m(d,w,C){var S=d._events;if(S===void 0)return[];var T=S[w];return T===void 0?[]:typeof T=="function"?C?[T.listener||T]:[T]:C?function(_){for(var D=new Array(_.length),b=0;b<D.length;++b)D[b]=_[b].listener||_[b];return D}(T):v(T,T.length)}function x(d){var w=this._events;if(w!==void 0){var C=w[d];if(typeof C=="function")return 1;if(C!==void 0)return C.length}return 0}function v(d,w){for(var C=new Array(w),S=0;S<w;++S)C[S]=d[S];return C}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(d){if(typeof d!="number"||d<0||f(d))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+d+".");l=d}}),s.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||f(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this},s.prototype.getMaxListeners=function(){return p(this)},s.prototype.emit=function(d){for(var w=[],C=1;C<arguments.length;C++)w.push(arguments[C]);var S=d==="error",T=this._events;if(T!==void 0)S=S&&T.error===void 0;else if(!S)return!1;if(S){var _;if(w.length>0&&(_=w[0]),_ instanceof Error)throw _;var D=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw D.context=_,D}var b=T[d];if(b===void 0)return!1;if(typeof b=="function")o(b,this,w);else{var E=b.length,N=v(b,E);for(C=0;C<E;++C)o(N[C],this,w)}return!0},s.prototype.addListener=function(d,w){return h(this,d,w,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(d,w){return h(this,d,w,!0)},s.prototype.once=function(d,w){return c(w),this.on(d,y(this,d,w)),this},s.prototype.prependOnceListener=function(d,w){return c(w),this.prependListener(d,y(this,d,w)),this},s.prototype.removeListener=function(d,w){var C,S,T,_,D;if(c(w),(S=this._events)===void 0)return this;if((C=S[d])===void 0)return this;if(C===w||C.listener===w)--this._eventsCount==0?this._events=Object.create(null):(delete S[d],S.removeListener&&this.emit("removeListener",d,C.listener||w));else if(typeof C!="function"){for(T=-1,_=C.length-1;_>=0;_--)if(C[_]===w||C[_].listener===w){D=C[_].listener,T=_;break}if(T<0)return this;T===0?C.shift():function(b,E){for(;E+1<b.length;E++)b[E]=b[E+1];b.pop()}(C,T),C.length===1&&(S[d]=C[0]),S.removeListener!==void 0&&this.emit("removeListener",d,D||w)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(d){var w,C,S;if((C=this._events)===void 0)return this;if(C.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):C[d]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete C[d]),this;if(arguments.length===0){var T,_=Object.keys(C);for(S=0;S<_.length;++S)(T=_[S])!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(w=C[d])=="function")this.removeListener(d,w);else if(w!==void 0)for(S=w.length-1;S>=0;S--)this.removeListener(d,w[S]);return this},s.prototype.listeners=function(d){return m(this,d,!0)},s.prototype.rawListeners=function(d){return m(this,d,!1)},s.listenerCount=function(d,w){return typeof d.listenerCount=="function"?d.listenerCount(w):x.call(d,w)},s.prototype.listenerCount=x,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(a,r,n){Object.defineProperty(r,"__esModule",{value:!0});var i=n(77);r.createCB=function(u){return new i.XMLBuilderCBImpl(u)},r.fragmentCB=function(u){return new i.XMLBuilderCBImpl(u,!0)}}])})})(Yh);function Jh(t,e){return de(t.getElementsByTagName(e))}function Pf(t,e){return Jh(t,e)[0]}function bS(t){return Yh.exports.create(t)}function NS(t){var e=/^\s*<AppendedData\s+encoding="raw">\s*_/m,a=/\n\s*<\/AppendedData>/m;return Qa.extractBinary(t,e,a)}var jr={Int8:Int8Array,UInt8:Uint8Array,Int16:Int16Array,UInt16:Uint16Array,Int32:Int32Array,UInt32:Uint32Array,Int64:Int32Array,UInt64:Uint32Array,Float32:Float32Array,Float64:Float64Array},Er={Int8:1,UInt8:1,Int16:2,UInt16:2,Int32:4,UInt32:4,Int64:8,UInt64:8,Float32:4,Float64:8};function As(t){var e=t.length-1;return t.filter(function(a,r){return r<e&&r%2===0})}function Zh(t,e){if(e==="UInt64"){var a=8,r=new Uint32Array(t.buffer,0,6),n=r[0],i=r[2],u=r[4],o=[a,n,i,u];r=new Uint32Array(t.buffer,3*8,n*2);for(var f=0;f<n;f++)o.push(r[f*2]);return o}var s=new Uint32Array(t.buffer,0,3),l=4,c=s[0],p=s[1],h=s[2],g=[l,c,p,h];s=new Uint32Array(t.buffer,3*4,c);for(var y=0;y<c;y++)g.push(s[y]);return g}function Qh(t,e){var a=lr(t);e.uint8.set(a,e.offset),e.offset+=a.length}function ei(t,e,a,r,n,i){var u=e.getAttribute("type"),o=e.getAttribute("Name"),f=e.getAttribute("format"),s=Number(e.getAttribute("NumberOfComponents")||"1"),l=null;if(f==="ascii"){l=new jr[u](t*s);var c=0;e.firstChild.nodeValue.split(/[\\t \\n]+/).forEach(function(_){_.trim().length&&(l[c++]=Number(_))})}else if(f==="binary"){var p=new Uint8Array(Qo.toArrayBuffer(e.firstChild.nodeValue.trim()));if(a==="vtkZLibDataCompressor"){var h=new ArrayBuffer(Er[u]*t*s);l=new jr[u](h);for(var g={offset:0,uint8:new Uint8Array(h)},y=Zh(p,n),m=y[1],x=p.length-(y.reduce(function(_,D){return _+D},0)-(y[0]+y[1]+y[2]+y[3])),v=0;v<m;v++){var d=y[4+v],w=new Uint8Array(p.buffer,x,d);Qh(w,g),x+=d}u.indexOf("Int64")!==-1&&(l=As(l))}else l=new jr[u](p.buffer,Er[n]),u.indexOf("Int64")!==-1&&(l=As(l))}else if(f==="appended"){var C=Number(e.getAttribute("offset")),S;C%Er[n]===0?S=new jr[n](i,C,1):S=new jr[n](i.slice(C,C+Er[n]));var T=S[0]/Er[u];u.indexOf("Int64")!==-1&&(T*=2),C+=Er[n],C%Er[u]===0?l=new jr[u](i,C,T):l=new jr[u](i.slice(C,C+S[0])),u.indexOf("Int64")!==-1&&(l=As(l))}else console.error("Format not supported",f);return{name:o,values:l,numberOfComponents:s}}function MS(t,e,a,r,n,i){for(var u={},o=e.getElementsByTagName("DataArray"),f=0;f<o.length;f++){var s=o[f];u[s.getAttribute("Name")]=s}var l=ei(t,u.offsets,a,r,n,i).values,c=l[l.length-1],p=ei(c,u.connectivity,a,r,n,i).values,h=new Uint32Array(t+c),g=0,y=0;return l.forEach(function(m){var x=m-y;h[g++]=x;for(var v=0;v<x;v++)h[g++]=p[y+v];y=m}),h}function RS(t,e,a,r,n,i,u){if(e){var o=["Scalars","Vectors","Normals","Tensors","TCoords"],f={};o.forEach(function(y){var m=e.getAttribute(y);m&&(f[m]=a["set".concat(y)])});for(var s=e.getElementsByTagName("DataArray"),l=s.length,c=0;c<l;c++){var p=s[c],h=we.newInstance(ei(t,p,r,n,i,u)),g=h.getName();(f[g]||a.addArray)(h)}}}function kS(t,e,a,r,n){return de(t.getElementsByTagName("DataArray")).map(function(i){return we.newInstance(ei(Number(i.getAttribute("NumberOfTuples")),i,e,a,r,n))})}function LS(t,e){e.classHierarchy.push("vtkXMLReader"),e.dataAccessHelper||(e.dataAccessHelper=ga.get("http"));function a(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.dataAccessHelper.fetchBinary(r,n)}t.setUrl=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.url=r;var i=r.split("/");return i.pop(),e.baseURL=i.join("/"),t.loadData(n)},t.loadData=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return a(e.url,r).then(t.parseAsArrayBuffer)},t.parseAsArrayBuffer=function(r){if(!r)return!1;if(r!==e.rawDataBuffer)t.modified();else return!0;var n=NS(r),i=n.text,u=n.binaryBuffer;e.rawDataBuffer=r,e.binaryBuffer=u;var o=bS(i),f=o.root().node,s=f.getAttribute("type"),l=f.getAttribute("compressor"),c=f.getAttribute("byte_order"),p=f.getAttribute("header_type")||"UInt32";if(l&&l!=="vtkZLibDataCompressor")return console.error("Invalid compressor",l),!1;if(c&&c!=="LittleEndian")return console.error("Only LittleEndian encoding is supported"),!1;if(s!==e.dataType)return console.error("Invalid data type",s,"expecting",e.dataType),!1;if(Pf(f,"AppendedData")){var h=Pf(f,"AppendedData"),g=h.getAttribute("encoding"),y=Jh(f,"DataArray"),m=e.binaryBuffer;g==="base64"&&(m=h.textContent.trim().substr(1));for(var x=[],v=0;v<y.length;++v){var d=Number(y[v].getAttribute("offset")),w=0;v===y.length-1?w=m.length||m.byteLength:w=Number(y[v+1].getAttribute("offset")),g==="base64"?x.push(new Uint8Array(Qo.toArrayBuffer(m.substring(d,w)))):x.push(new Uint8Array(m.slice(d,w)))}if(l==="vtkZLibDataCompressor")for(var C=0;C<x.length;++C){var S=x[C],T=Zh(S,p),_=T[1],D=S.length-(T.reduce(function(ee,te){return ee+te},0)-(T[0]+T[1]+T[2]+T[3])),b=null;_>0?T[3]===0?b=new ArrayBuffer(T[2]*_):b=new ArrayBuffer(T[2]*(_-1)+T[3]):b=new ArrayBuffer(0);for(var E=new Uint8Array(b),N={offset:0,uint8:E},R=0;R<_;R++){var M=T[4+R],G=new Uint8Array(S.buffer,D,M);Qh(G,N),D+=M}var j=new Uint8Array(E.length+Er[p]);new jr[p](j.buffer,0,1)[0]=E.length,j.set(E,Er[p]),x[C]=j}for(var z=x.reduce(function(ee,te){return ee+te.length},0),V=new ArrayBuffer(z),L=new Uint8Array(V),B=0,$=0;B<x.length;++B)y[B].setAttribute("offset",$),L.set(x[B],$),$+=x[B].length;if(e.binaryBuffer=V,!e.binaryBuffer)return console.error("Processing appended data format: requires binaryBuffer to parse"),!1}t.parseXML(f,s,l,c,p);var H=f.getElementsByTagName(s)[0],X=H.getElementsByTagName("FieldData")[0];if(X)for(var Z=kS(X,l,c,p,e.binaryBuffer),Y=0;Y<e.output.length;Y++)for(var J=e.output[Y].getFieldData(),ne=0;ne<Z.length;ne++)J.addArray(Z[ne]);return!0},t.requestData=function(r,n){t.parseAsArrayBuffer(e.rawDataBuffer)}}var FS={};function AS(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,FS,a),U.obj(t,e),U.get(t,e,["url","baseURL"]),U.setGet(t,e,["dataAccessHelper"]),U.algo(t,e,0,1),LS(t,e)}var Jr={extend:AS,processDataArray:ei,processFieldData:RS,processCells:MS};function BS(t,e){e.classHierarchy.push("vtkXMLImageDataReader"),t.parseXML=function(a,r,n,i,u){for(var o,f=a.getElementsByTagName(e.dataType)[0],s=f.getAttribute("Origin").split(" ").map(function(v){return Number(v)}),l=f.getAttribute("Spacing").split(" ").map(function(v){return Number(v)}),c=(o=f.getAttribute("Direction"))===null||o===void 0?void 0:o.split(" ").map(function(v){return Number(v)}),p=f.getElementsByTagName("Piece"),h=p.length,g=0;g<h;g++){var y=p[g],m=y.getAttribute("Extent").split(" ").map(function(v){return Number(v)}),x=_u.newInstance({origin:s,spacing:l,direction:c,extent:m});Jr.processFieldData(x.getNumberOfPoints(),y.getElementsByTagName("PointData")[0],x.getPointData(),n,i,u,e.binaryBuffer),Jr.processFieldData(x.getNumberOfCells(),y.getElementsByTagName("CellData")[0],x.getCellData(),n,i,u,e.binaryBuffer),e.output[g]=x}}}var VS={dataType:"ImageData"};function US(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,VS,a),Jr.extend(t,e,a),BS(t,e)}U.newInstance(US,"vtkXMLImageDataReader");function GS(t,e,a,r,n,i,u){var o=Number(a.getAttribute("NumberOf".concat(e)));if(o>0){var f=a.getElementsByTagName(e)[0].getElementsByTagName("DataArray")[0],s=Jr.processDataArray(o,f,r,n,i,u),l=s.values,c=s.numberOfComponents;t["get".concat(e)]().setData(l,c)}return o}function PS(t,e,a,r,n,i,u){var o=Number(a.getAttribute("NumberOf".concat(e)));if(o>0){var f=Jr.processCells(o,a.getElementsByTagName(e)[0],r,n,i,u);t["get".concat(e)]().setData(f)}return o}function jS(t,e){e.classHierarchy.push("vtkXMLPolyDataReader"),t.parseXML=function(a,r,n,i,u){for(var o=a.getElementsByTagName(e.dataType)[0],f=o.getElementsByTagName("Piece"),s=f.length,l=function(h){var g=et.newInstance(),y=f[h],m=GS(g,"Points",y,n,i,u,e.binaryBuffer),x=0;["Verts","Lines","Strips","Polys"].forEach(function(v){x+=PS(g,v,y,n,i,u,e.binaryBuffer)}),Jr.processFieldData(m,y.getElementsByTagName("PointData")[0],g.getPointData(),n,i,u,e.binaryBuffer),Jr.processFieldData(x,y.getElementsByTagName("CellData")[0],g.getCellData(),n,i,u,e.binaryBuffer),e.output[h]=g},c=0;c<s;c++)l(c)}}var zS={dataType:"PolyData"};function WS(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,zS,a),Jr.extend(t,e,a),jS(t,e)}U.newInstance(WS,"vtkXMLPolyDataReader");function E0(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function IS(t){if(Array.isArray(t))return E0(t)}function $S(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ev(t,e){if(!!t){if(typeof t=="string")return E0(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return E0(t,e)}}function HS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ht(t){return IS(t)||$S(t)||ev(t)||HS()}function _t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lr(t){return Lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lr(t)}function KS(t,e){if(Lr(t)!=="object"||t===null)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e||"default");if(Lr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tv(t){var e=KS(t,"string");return Lr(e)==="symbol"?e:String(e)}function jf(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tv(r.key),r)}}function Dt(t,e,a){return e&&jf(t.prototype,e),a&&jf(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function O0(t,e){return O0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},O0(t,e)}function Et(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O0(t,e)}function ta(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ot(t,e){if(e&&(Lr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ta(t)}function Ue(t){return Ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},Ue(t)}var rv={exports:{}},XS="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qS=XS,YS=qS;function nv(){}function av(){}av.resetWarningCache=nv;var JS=function(){function t(r,n,i,u,o,f){if(f!==YS){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}t.isRequired=t;function e(){return t}var a={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:av,resetWarningCache:nv};return a.PropTypes=a,a};rv.exports=JS();var q=rv.exports;function ZS(t){if(Array.isArray(t))return t}function QS(t,e){var a=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var r,n,i,u,o=[],f=!0,s=!1;try{if(i=(a=a.call(t)).next,e===0){if(Object(a)!==a)return;f=!1}else for(;!(f=(r=i.call(a)).done)&&(o.push(r.value),o.length!==e);f=!0);}catch(l){s=!0,n=l}finally{try{if(!f&&a.return!=null&&(u=a.return(),Object(u)!==u))return}finally{if(s)throw n}}return o}}function eT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zf(t,e){return ZS(t)||QS(t,e)||ev(t,e)||eT()}function hi(t,e,a){return e=tv(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var tT=U.vtkErrorMacro;function rT(t,e){var a=0;return t.map(function(r,n){return n===a?(a+=r+1,r):r+e})}function Bi(t,e,a,r){t.set(rT(e,a),r)}function nT(t,e){e.classHierarchy.push("vtkAppendPolyData"),t.requestData=function(a,r){var n=t.getNumberOfInputPorts();if(!n){tT("No input specified.");return}if(n===1){r[0]=a[0];return}for(var i=et.newInstance(),u=0,o=0,f=1,s=1,l=0,c=0,p=0,h=0,g=!0,y=!0,m=!0,x=0;x<n;x++){var v=a[x];if(!!v){var d=v.getPoints().getNumberOfPoints();u+=d,l+=v.getVerts().getNumberOfValues(),c+=v.getLines().getNumberOfValues(),p+=v.getStrips().getNumberOfValues(),h+=v.getPolys().getNumberOfValues(),d&&(s&&(s=0,o=v.getPoints().getDataType()),f=v.getPoints().getDataType(),o=o>f?o:f);var w=v.getPointData();w?(g=g&&w.getNormals()!==null,y=y&&w.getTCoords()!==null,m=m&&w.getScalars()!==null):(g=!1,y=!1,m=!1)}}e.outputPointsPrecision===Nn.SINGLE?o=at.FLOAT:e.outputPointsPrecision===Nn.DOUBLE&&(o=at.DOUBLE);var C=Yr.newInstance({dataType:o});C.setNumberOfPoints(u);var S=C.getData(),T=new Uint32Array(l),_=new Uint32Array(c),D=new Uint32Array(p),b=new Uint32Array(h),E=null,N=null,R=null,M=a[n-1];if(g){var G=M.getPointData().getNormals();E=we.newInstance({numberOfComponents:3,numberOfTuples:u,size:3*u,dataType:G.getDataType(),name:G.getName()})}if(y){var j=M.getPointData().getTCoords();N=we.newInstance({numberOfComponents:2,numberOfTuples:u,size:2*u,dataType:j.getDataType(),name:j.getName()})}if(m){var z=M.getPointData().getScalars();R=we.newInstance({numberOfComponents:z.getNumberOfComponents(),numberOfTuples:u,size:u*z.getNumberOfComponents(),dataType:z.getDataType(),name:z.getName()})}u=0,l=0,c=0,p=0,h=0;for(var V=0;V<n;V++){var L=a[V];S.set(L.getPoints().getData(),u*3),Bi(T,L.getVerts().getData(),u,l),l+=L.getVerts().getNumberOfValues(),Bi(_,L.getLines().getData(),u,c),c+=L.getLines().getNumberOfValues(),Bi(D,L.getStrips().getData(),u,p),p+=L.getStrips().getNumberOfValues(),Bi(b,L.getPolys().getData(),u,h),h+=L.getPolys().getNumberOfValues();var B=L.getPointData();if(g){var $=B.getNormals();E.getData().set($.getData(),u*3)}if(y){var H=B.getTCoords();N.getData().set(H.getData(),u*2)}if(m){var X=B.getScalars();R.getData().set(X.getData(),u*R.getNumberOfComponents())}u+=L.getPoints().getNumberOfPoints()}i.setPoints(C),i.getVerts().setData(T),i.getLines().setData(_),i.getStrips().setData(D),i.getPolys().setData(b),E&&i.getPointData().setNormals(E),N&&i.getPointData().setTCoords(N),R&&i.getPointData().setScalars(R),r[0]=i}}var aT={outputPointsPrecision:Nn.DEFAULT};function iv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,aT,a),U.setGet(t,e,["outputPointsPrecision"]),U.obj(t,e),U.algo(t,e,1,1),nT(t,e)}var iT=U.newInstance(iv,"vtkAppendPolyData"),ov={newInstance:iT,extend:iv};function oT(t,e){e.classHierarchy.push("vtkArrowSource");function a(r,n){if(!e.deleted){var i=ex.newInstance({capping:!0});i.setResolution(e.shaftResolution),i.setRadius(e.shaftRadius),i.setHeight(1-e.tipLength),i.setCenter(0,(1-e.tipLength)*.5,0);var u=i.getOutputData(),o=u.getPoints().getData(),f=u.getPointData().getNormals().getData();Gt.buildFromDegree().rotateZ(-90).apply(o).apply(f);var s=K7.newInstance();s.setResolution(e.tipResolution),s.setHeight(e.tipLength),s.setRadius(e.tipRadius);var l=s.getOutputData(),c=l.getPoints().getData();Gt.buildFromRadian().translate(1-e.tipLength*.5,0,0).apply(c);var p=ov.newInstance();p.setInputData(u),p.addInputData(l);var h=p.getOutputData(),g=h.getPoints().getData();Gt.buildFromRadian().translate(-.5+e.tipLength*.5,0,0).apply(g),e.invert?(Gt.buildFromRadian().rotateFromDirections([1,0,0],e.direction).scale(-1,-1,-1).apply(g),n[0]=h):(Gt.buildFromRadian().rotateFromDirections([1,0,0],e.direction).scale(1,1,1).apply(g),n[0]=p.getOutputData())}}t.requestData=a}var sT={tipResolution:6,tipRadius:.1,tipLength:.35,shaftResolution:6,shaftRadius:.03,invert:!1,direction:[1,0,0],pointType:"Float64Array"};function sv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,sT,a),U.obj(t,e),U.setGet(t,e,["tipResolution","tipRadius","tipLength","shaftResolution","shaftRadius","invert"]),U.setGetArray(t,e,["direction"],3),U.algo(t,e,0,1),oT(t,e)}var uT=U.newInstance(sv,"vtkArrowSource"),Bs={newInstance:uT,extend:sv};function Wf(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function Vs(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Wf(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Wf(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function Us(t){var e,a=t.getPoints().getBounds(),r=[-(a[0]+a[1])*.5,-(a[2]+a[3])*.5,-(a[4]+a[5])*.5];(e=Gt.buildFromDegree()).translate.apply(e,r).apply(t.getPoints().getData())}function Gs(t,e,a,r){for(var n=t.getPoints().getData().length,i=new Uint8Array(n),u=0;u<n;)i[u++]=e,i[u++]=a,i[u++]=r;t.getPointData().setScalars(we.newInstance({name:"color",numberOfComponents:3,values:i}))}function cT(t,e){e.classHierarchy.push("vtkAxesActor"),t.update=function(){var a=Bs.newInstance(Vs({direction:[1,0,0]},e.config)).getOutputData();Us(a),Gs.apply(void 0,[a].concat(de(e.xAxisColor)));var r=Bs.newInstance(Vs({direction:[0,1,0]},e.config)).getOutputData();Us(r),Gs.apply(void 0,[r].concat(de(e.yAxisColor)));var n=Bs.newInstance(Vs({direction:[0,0,1]},e.config)).getOutputData();Us(n),Gs.apply(void 0,[n].concat(de(e.zAxisColor)));var i=ov.newInstance();i.setInputData(a),i.addInputData(r),i.addInputData(n);var u=qr.newInstance();u.setInputConnection(i.getOutputPort()),t.setMapper(u)},t.update()}var fT={config:{tipResolution:60,tipRadius:.1,tipLength:.2,shaftResolution:60,shaftRadius:.03,invert:!1},xAxisColor:[255,0,0],yAxisColor:[255,255,0],zAxisColor:[0,128,0]};function uv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,fT,a),Ar.extend(t,e,a),U.setGet(t,e,["config"]),U.setGetArray(t,e,["xAxisColor","yAxisColor","zAxisColor"],3,255),cT(t,e)}var lT=U.newInstance(uv,"vtkAxesActor"),pT={newInstance:lT,extend:uv},Vi=U.vtkDebugMacro;function hT(t,e){e.classHierarchy.push("vtkCamera");var a=new Float64Array(3),r=new Float64Array([0,0,-1]),n=new Float64Array([0,1,0]),i=be(new Float64Array(16)),u=be(new Float64Array(16)),o=new Float64Array(3),f=new Float64Array(3),s=new Float64Array(3),l=be(new Float64Array(16)),c=be(new Float64Array(16)),p=new Float64Array(3),h=new Float64Array(3);function g(){e.viewPlaneNormal[0]=-e.directionOfProjection[0],e.viewPlaneNormal[1]=-e.directionOfProjection[1],e.viewPlaneNormal[2]=-e.directionOfProjection[2]}t.orthogonalizeViewUp=function(){var y=t.getViewMatrix();e.viewUp[0]=y[4],e.viewUp[1]=y[5],e.viewUp[2]=y[6],t.modified()},t.setPosition=function(y,m,x){y===e.position[0]&&m===e.position[1]&&x===e.position[2]||(e.position[0]=y,e.position[1]=m,e.position[2]=x,t.computeDistance(),t.modified())},t.setFocalPoint=function(y,m,x){y===e.focalPoint[0]&&m===e.focalPoint[1]&&x===e.focalPoint[2]||(e.focalPoint[0]=y,e.focalPoint[1]=m,e.focalPoint[2]=x,t.computeDistance(),t.modified())},t.setDistance=function(y){if(e.distance!==y){e.distance=y,e.distance<1e-20&&(e.distance=1e-20,Vi("Distance is set to minimum."));var m=e.directionOfProjection;e.focalPoint[0]=e.position[0]+m[0]*e.distance,e.focalPoint[1]=e.position[1]+m[1]*e.distance,e.focalPoint[2]=e.position[2]+m[2]*e.distance,t.modified()}},t.computeDistance=function(){var y=e.focalPoint[0]-e.position[0],m=e.focalPoint[1]-e.position[1],x=e.focalPoint[2]-e.position[2];if(e.distance=Math.sqrt(y*y+m*m+x*x),e.distance<1e-20){e.distance=1e-20,Vi("Distance is set to minimum.");var v=e.directionOfProjection;e.focalPoint[0]=e.position[0]+v[0]*e.distance,e.focalPoint[1]=e.position[1]+v[1]*e.distance,e.focalPoint[2]=e.position[2]+v[2]*e.distance}e.directionOfProjection[0]=y/e.distance,e.directionOfProjection[1]=m/e.distance,e.directionOfProjection[2]=x/e.distance,g()},t.dolly=function(y){if(!(y<=0)){var m=e.distance/y;t.setPosition(e.focalPoint[0]-m*e.directionOfProjection[0],e.focalPoint[1]-m*e.directionOfProjection[1],e.focalPoint[2]-m*e.directionOfProjection[2])}},t.roll=function(y){var m=e.position,x=e.focalPoint,v=e.viewUp,d=new Float64Array([v[0],v[1],v[2],0]);be(l);var w=new Float64Array([x[0]-m[0],x[1]-m[1],x[2]-m[2]]);yt(l,l,nt(y),w),gi(d,d,l),e.viewUp[0]=d[0],e.viewUp[1]=d[1],e.viewUp[2]=d[2],t.modified()},t.azimuth=function(y){var m=e.focalPoint;be(c),Ze(c,c,m),yt(c,c,nt(y),e.viewUp),Ze(c,c,[-m[0],-m[1],-m[2]]),Te(p,e.position,c),t.setPosition(p[0],p[1],p[2])},t.yaw=function(y){var m=e.position;be(c),Ze(c,c,m),yt(c,c,nt(y),e.viewUp),Ze(c,c,[-m[0],-m[1],-m[2]]),Te(h,e.focalPoint,c),t.setFocalPoint(h[0],h[1],h[2])},t.elevation=function(y){var m=e.focalPoint,x=t.getViewMatrix(),v=[-x[0],-x[1],-x[2]];be(c),Ze(c,c,m),yt(c,c,nt(y),v),Ze(c,c,[-m[0],-m[1],-m[2]]),Te(p,e.position,c),t.setPosition(p[0],p[1],p[2])},t.pitch=function(y){var m=e.position,x=t.getViewMatrix(),v=[x[0],x[1],x[2]];be(c),Ze(c,c,m),yt(c,c,nt(y),v),Ze(c,c,[-m[0],-m[1],-m[2]]),Te(h,e.focalPoint,c),t.setFocalPoint.apply(t,de(h))},t.zoom=function(y){y<=0||(e.parallelProjection?e.parallelScale/=y:e.viewAngle/=y,t.modified())},t.translate=function(y,m,x){var v=[y,m,x];lo(e.position,v,e.position),lo(e.focalPoint,v,e.focalPoint),t.computeDistance(),t.modified()},t.applyTransform=function(y){var m=[].concat(de(e.viewUp),[1]),x=[],v=[],d=[];m[0]+=e.position[0],m[1]+=e.position[1],m[2]+=e.position[2],gi(x,[].concat(de(e.position),[1]),y),gi(v,[].concat(de(e.focalPoint),[1]),y),gi(d,m,y),d[0]-=x[0],d[1]-=x[1],d[2]-=x[2],t.setPosition.apply(t,de(x.slice(0,3))),t.setFocalPoint.apply(t,de(v.slice(0,3))),t.setViewUp.apply(t,de(d.slice(0,3)))},t.getThickness=function(){return e.clippingRange[1]-e.clippingRange[0]},t.setThickness=function(y){var m=y;m<1e-20&&(m=1e-20,Vi("Thickness is set to minimum.")),t.setClippingRange(e.clippingRange[0],e.clippingRange[0]+m)},t.setThicknessFromFocalPoint=function(y){var m=y;m<1e-20&&(m=1e-20,Vi("Thickness is set to minimum.")),t.setClippingRange(e.distance-m/2,e.distance+m/2)},t.setRoll=function(y){},t.getRoll=function(){},t.setObliqueAngles=function(y,m){},t.getOrientation=function(){},t.getOrientationWXYZ=function(){},t.getFrustumPlanes=function(y){},t.getCameraLightTransformMatrix=function(y){return Mt(y,e.cameraLightTransform),y},t.computeCameraLightTransform=function(){Mt(i,t.getViewMatrix()),Zt(i,i),El(u,[e.distance,e.distance,e.distance]),it(i,i,u),be(e.cameraLightTransform),Ze(e.cameraLightTransform,i,[0,0,-1])},t.deepCopy=function(y){},t.physicalOrientationToWorldDirection=function(y){var m=Hu(y[0],y[1],y[2],y[3]),x=Tn(),v=Hu(0,0,1,0);return J2(x,m),$u(v,m,v),$u(v,v,x),[v[0],v[1],v[2]]},t.getPhysicalToWorldMatrix=function(y){t.getWorldToPhysicalMatrix(y),Zt(y,y)},t.getWorldToPhysicalMatrix=function(y){be(y);var m=[3];Nt(e.physicalViewNorth,e.physicalViewUp,m),y[0]=m[0],y[1]=m[1],y[2]=m[2],y[4]=e.physicalViewUp[0],y[5]=e.physicalViewUp[1],y[6]=e.physicalViewUp[2],y[8]=-e.physicalViewNorth[0],y[9]=-e.physicalViewNorth[1],y[10]=-e.physicalViewNorth[2],Ke(y,y),He(o,1/e.physicalScale,1/e.physicalScale,1/e.physicalScale),Cn(y,y,o),Ze(y,y,e.physicalTranslation)},t.computeViewParametersFromViewMatrix=function(y){Zt(i,y),Te(o,a,i),t.computeDistance();var m=e.distance;t.setPosition(o[0],o[1],o[2]),Te(f,r,i),Mr(f,f,o),Qt(f,f),t.setDirectionOfProjection(f[0],f[1],f[2]),Te(s,n,i),Mr(s,s,o),Qt(s,s),t.setViewUp(s[0],s[1],s[2]),t.setDistance(m)},t.computeViewParametersFromPhysicalMatrix=function(y){t.getWorldToPhysicalMatrix(i),it(i,y,i),t.computeViewParametersFromViewMatrix(i)},t.setViewMatrix=function(y){e.viewMatrix=y,e.viewMatrix&&(Mt(i,e.viewMatrix),t.computeViewParametersFromViewMatrix(i),Ke(e.viewMatrix,e.viewMatrix))},t.getViewMatrix=function(){if(e.viewMatrix)return e.viewMatrix;Al(i,e.position,e.focalPoint,e.viewUp),Ke(i,i);var y=new Float64Array(16);return Mt(y,i),y},t.setProjectionMatrix=function(y){e.projectionMatrix=y},t.getProjectionMatrix=function(y,m,x){var v=new Float64Array(16);if(be(v),e.projectionMatrix){var d=1/e.physicalScale;return He(o,d,d,d),Mt(v,e.projectionMatrix),Cn(v,v,o),Ke(v,v),v}be(i);var w=e.clippingRange[1]-e.clippingRange[0],C=[e.clippingRange[0]+(m+1)*w/2,e.clippingRange[0]+(x+1)*w/2];if(e.parallelProjection){var S=e.parallelScale*y,T=e.parallelScale,_=(e.windowCenter[0]-1)*S,D=(e.windowCenter[0]+1)*S,b=(e.windowCenter[1]-1)*T,E=(e.windowCenter[1]+1)*T;Fl(i,_,D,b,E,C[0],C[1]),Ke(i,i)}else{if(e.useOffAxisProjection)throw new Error("Off-Axis projection is not supported at this time");var N=Math.tan(nt(e.viewAngle)/2),R,M;e.useHorizontalViewAngle===!0?(R=e.clippingRange[0]*N,M=e.clippingRange[0]*N/y):(R=e.clippingRange[0]*N*y,M=e.clippingRange[0]*N);var G=(e.windowCenter[0]-1)*R,j=(e.windowCenter[0]+1)*R,z=(e.windowCenter[1]-1)*M,V=(e.windowCenter[1]+1)*M,L=C[0],B=C[1];i[0]=2*L/(j-G),i[5]=2*L/(V-z),i[2]=(G+j)/(j-G),i[6]=(z+V)/(V-z),i[10]=-(L+B)/(B-L),i[14]=-1,i[11]=-2*L*B/(B-L),i[15]=0}return Mt(v,i),v},t.getCompositeProjectionMatrix=function(y,m,x){var v=t.getViewMatrix(),d=t.getProjectionMatrix(y,m,x);return it(d,v,d),d},t.setDirectionOfProjection=function(y,m,x){if(!(e.directionOfProjection[0]===y&&e.directionOfProjection[1]===m&&e.directionOfProjection[2]===x)){e.directionOfProjection[0]=y,e.directionOfProjection[1]=m,e.directionOfProjection[2]=x;var v=e.directionOfProjection;e.focalPoint[0]=e.position[0]+v[0]*e.distance,e.focalPoint[1]=e.position[1]+v[1]*e.distance,e.focalPoint[2]=e.position[2]+v[2]*e.distance,g()}},t.setDeviceAngles=function(y,m,x,v){var d=[3];Nt(e.physicalViewNorth,e.physicalViewUp,d);var w=be(new Float64Array(16));yt(w,w,nt(y),e.physicalViewUp),yt(w,w,nt(m),d),yt(w,w,nt(x),e.physicalViewNorth),yt(w,w,nt(-v),e.physicalViewUp);var C=new Float64Array([-e.physicalViewUp[0],-e.physicalViewUp[1],-e.physicalViewUp[2]]),S=new Float64Array(e.physicalViewNorth);Te(C,C,w),Te(S,S,w),t.setDirectionOfProjection(C[0],C[1],C[2]),t.setViewUp(S[0],S[1],S[2]),t.modified()},t.setOrientationWXYZ=function(y,m,x,v){var d=be(new Float64Array(16));if(y!==0&&(m!==0||x!==0||v!==0)){var w=nt(y),C=Tn();Y0(C,[m,x,v],w),K0(d,C)}var S=new Float64Array(3);Te(S,[0,0,-1],d);var T=new Float64Array(3);Te(T,[0,1,0],d),t.setDirectionOfProjection.apply(t,de(S)),t.setViewUp.apply(t,de(T)),t.modified()},t.computeClippingRange=function(y){var m=null,x=null;m=e.viewPlaneNormal,x=e.position;for(var v=-m[0],d=-m[1],w=-m[2],C=-(v*x[0]+d*x[1]+w*x[2]),S=[v*y[0]+d*y[2]+w*y[4]+C,1e-18],T=0;T<2;T++)for(var _=0;_<2;_++)for(var D=0;D<2;D++){var b=v*y[D]+d*y[2+_]+w*y[4+T]+C;S[0]=b<S[0]?b:S[0],S[1]=b>S[1]?b:S[1]}return S}}var vT={position:[0,0,1],focalPoint:[0,0,0],viewUp:[0,1,0],directionOfProjection:[0,0,-1],parallelProjection:!1,useHorizontalViewAngle:!1,viewAngle:30,parallelScale:1,clippingRange:[.01,1000.01],windowCenter:[0,0],viewPlaneNormal:[0,0,1],useOffAxisProjection:!1,screenBottomLeft:[-.5,-.5,-.5],screenBottomRight:[.5,-.5,-.5],screenTopRight:[.5,.5,-.5],freezeFocalPoint:!1,projectionMatrix:null,viewMatrix:null,cameraLightTransform:H0(),physicalTranslation:[0,0,0],physicalScale:1,physicalViewUp:[0,1,0],physicalViewNorth:[0,0,-1]};function cv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,vT,a),U.obj(t,e),U.get(t,e,["distance"]),U.setGet(t,e,["parallelProjection","useHorizontalViewAngle","viewAngle","parallelScale","useOffAxisProjection","freezeFocalPoint","physicalScale"]),U.getArray(t,e,["directionOfProjection","viewPlaneNormal","position","focalPoint"]),U.setGetArray(t,e,["clippingRange","windowCenter"],2),U.setGetArray(t,e,["viewUp","screenBottomLeft","screenBottomRight","screenTopRight","physicalTranslation","physicalViewUp","physicalViewNorth"],3),hT(t,e)}var gT=U.newInstance(cv,"vtkCamera"),dT={newInstance:gT,extend:cv},yT=["HeadLight","CameraLight","SceneLight"];function mT(t,e){e.classHierarchy.push("vtkLight");var a=new Float64Array(3);t.getTransformedPosition=function(){return e.transformMatrix?Te(a,e.position,e.transformMatrix):He(a,e.position[0],e.position[1],e.position[2]),a},t.getTransformedFocalPoint=function(){return e.transformMatrix?Te(a,e.focalPoint,e.transformMatrix):He(a,e.focalPoint[0],e.focalPoint[1],e.focalPoint[2]),a},t.getDirection=function(){return e.directionMTime<e.mtime&&(Zs(e.direction,e.focalPoint,e.position),ut(e.direction),e.directionMTime=e.mtime),e.direction},t.setDirection=function(r){var n=new Float64Array(3);Zs(n,e.position,r),e.focalPoint=n},t.setDirectionAngle=function(r,n){var i=nt(r),u=nt(n);t.setPosition(Math.cos(i)*Math.sin(u),Math.sin(i),Math.cos(i)*Math.cos(u)),t.setFocalPoint(0,0,0),t.setPositional(0)},t.setLightTypeToHeadLight=function(){t.setLightType("HeadLight")},t.setLightTypeToCameraLight=function(){t.setLightType("CameraLight")},t.setLightTypeToSceneLight=function(){t.setTransformMatrix(null),t.setLightType("SceneLight")},t.lightTypeIsHeadLight=function(){return e.lightType==="HeadLight"},t.lightTypeIsSceneLight=function(){return e.lightType==="SceneLight"},t.lightTypeIsCameraLight=function(){return e.lightType==="CameraLight"}}var xT={switch:!0,intensity:1,color:[1,1,1],position:[0,0,1],focalPoint:[0,0,0],positional:!1,exponent:1,coneAngle:30,coneFalloff:5,attenuationValues:[1,0,0],transformMatrix:null,lightType:"SceneLight",shadowAttenuation:1,direction:[0,0,0],directionMTime:0};function fv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,xT,a),U.obj(t,e),U.setGet(t,e,["intensity","switch","positional","exponent","coneAngle","coneFalloff","transformMatrix","lightType","shadowAttenuation","attenuationValues"]),U.setGetArray(t,e,["color","position","focalPoint","attenuationValues"],3),mT(t,e)}var wT=U.newInstance(fv,"vtkLight"),CT={newInstance:wT,extend:fv,LIGHT_TYPES:yT},ro=U.vtkErrorMacro;function ST(t){return function(){return ro("vtkViewport::".concat(t," - NOT IMPLEMENTED"))}}function TT(t,e){e.classHierarchy.push("vtkViewport"),t.getViewProps=function(){return e.props},t.hasViewProp=function(r){return!!e.props.filter(function(n){return n===r}).length},t.addViewProp=function(r){r&&!t.hasViewProp(r)&&(e.props=e.props.concat(r))},t.removeViewProp=function(r){var n=e.props.filter(function(i){return i!==r});e.props.length!==n.length&&(e.props=n)},t.removeAllViewProps=function(){e.props=[]};function a(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];n.push(r);var i=r.getNestedProps();if(i&&i.length)for(var u=0;u<i.length;u++)a(i[u],n);return n}t.getViewPropsWithNestedProps=function(){for(var r=[],n=0;n<e.props.length;n++)a(e.props[n],r);return r},t.addActor2D=t.addViewProp,t.removeActor2D=function(r){t.removeViewProp(r)},t.getActors2D=function(){return e.actors2D=[],e.props.forEach(function(r){e.actors2D=e.actors2D.concat(r.getActors2D())}),e.actors2D},t.displayToView=function(){return ro("call displayToView on your view instead")},t.viewToDisplay=function(){return ro("callviewtodisplay on your view instead")},t.getSize=function(){return ro("call getSize on your View instead")},t.normalizedDisplayToProjection=function(r,n,i){var u=t.normalizedDisplayToNormalizedViewport(r,n,i);return t.normalizedViewportToProjection(u[0],u[1],u[2])},t.normalizedDisplayToNormalizedViewport=function(r,n,i){var u=[e.viewport[2]-e.viewport[0],e.viewport[3]-e.viewport[1]];return[(r-e.viewport[0])/u[0],(n-e.viewport[1])/u[1],i]},t.normalizedViewportToProjection=function(r,n,i){return[r*2-1,n*2-1,i*2-1]},t.projectionToNormalizedDisplay=function(r,n,i){var u=t.projectionToNormalizedViewport(r,n,i);return t.normalizedViewportToNormalizedDisplay(u[0],u[1],u[2])},t.normalizedViewportToNormalizedDisplay=function(r,n,i){var u=[e.viewport[2]-e.viewport[0],e.viewport[3]-e.viewport[1]];return[r*u[0]+e.viewport[0],n*u[1]+e.viewport[1],i]},t.projectionToNormalizedViewport=function(r,n,i){return[(r+1)*.5,(n+1)*.5,(i+1)*.5]},t.PickPropFrom=ST("PickPropFrom")}var _T={background:[0,0,0],background2:[.2,.2,.2],gradientBackground:!1,viewport:[0,0,1,1],aspect:[1,1],pixelAspect:[1,1],props:[],actors2D:[]};function lv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,_T,a),U.obj(t,e),U.event(t,e,"event"),U.setGetArray(t,e,["viewport"],4),U.setGetArray(t,e,["background","background2"],3),TT(t,e)}var DT=U.newInstance(lv,"vtkViewport"),ET={newInstance:DT,extend:lv},_a=En,zr=Ne,OT=ci;function If(t){return function(){return zr("vtkRenderer::".concat(t," - NOT IMPLEMENTED"))}}function bT(t,e){e.classHierarchy.push("vtkRenderer");var a={type:"ComputeVisiblePropBoundsEvent",renderer:t},r={type:"ResetCameraClippingRangeEvent",renderer:t},n={type:"ResetCameraEvent",renderer:t};t.updateCamera=function(){return e.activeCamera||(_a("No cameras are on, creating one."),t.getActiveCameraAndResetIfCreated()),e.activeCamera.render(t),!0},t.updateLightsGeometryToFollowCamera=function(){var i=t.getActiveCameraAndResetIfCreated();e.lights.forEach(function(u){u.lightTypeIsSceneLight()||(u.lightTypeIsHeadLight()?(u.setPositionFrom(i.getPositionByReference()),u.setFocalPointFrom(i.getFocalPointByReference()),u.modified(i.getMTime())):u.lightTypeIsCameraLight()?u.setTransformMatrix(i.getCameraLightTransformMatrix(H0())):zr("light has unknown light type",u.get()))})},t.updateLightGeometry=function(){return e.lightFollowCamera?t.updateLightsGeometryToFollowCamera():!0},t.allocateTime=If("allocateTime"),t.updateGeometry=If("updateGeometry"),t.getVTKWindow=function(){return e._renderWindow},t.setLayer=function(i){_a(t.getClassName(),t,"setting Layer to ",i),e.layer!==i&&(e.layer=i,t.modified()),t.setPreserveColorBuffer(!!i)},t.setActiveCamera=function(i){return e.activeCamera===i?!1:(e.activeCamera=i,t.modified(),t.invokeEvent({type:"ActiveCameraEvent",camera:i}),!0)},t.makeCamera=function(){var i=dT.newInstance();return t.invokeEvent({type:"CreateCameraEvent",camera:i}),i},t.getActiveCamera=function(){return e.activeCamera||(e.activeCamera=t.makeCamera()),e.activeCamera},t.getActiveCameraAndResetIfCreated=function(){return e.activeCamera||(t.getActiveCamera(),t.resetCamera()),e.activeCamera},t.getActors=function(){return e.actors=[],e.props.forEach(function(i){e.actors=e.actors.concat(i.getActors())}),e.actors},t.addActor=t.addViewProp,t.removeActor=function(i){e.actors=e.actors.filter(function(u){return u!==i}),t.removeViewProp(i),t.modified()},t.removeAllActors=function(){var i=t.getActors();i.forEach(function(u){t.removeViewProp(u)}),e.actors=[],t.modified()},t.getVolumes=function(){return e.volumes=[],e.props.forEach(function(i){e.volumes=e.volumes.concat(i.getVolumes())}),e.volumes},t.addVolume=t.addViewProp,t.removeVolume=function(i){e.volumes=e.volumes.filter(function(u){return u!==i}),t.removeViewProp(i),t.modified()},t.removeAllVolumes=function(){var i=t.getVolumes();i.forEach(function(u){t.removeViewProp(u)}),e.volumes=[],t.modified()},t.addLight=function(i){e.lights=[].concat(e.lights,i),t.modified()},t.removeLight=function(i){e.lights=e.lights.filter(function(u){return u!==i}),t.modified()},t.removeAllLights=function(){e.lights=[],t.modified()},t.setLightCollection=function(i){e.lights=i,t.modified()},t.makeLight=CT.newInstance,t.createLight=function(){!e.automaticLightCreation||(e._createdLight&&(t.removeLight(e._createdLight),e._createdLight.delete(),e._createdLight=null),e._createdLight=t.makeLight(),t.addLight(e._createdLight),e._createdLight.setLightTypeToHeadLight(),e._createdLight.setPosition(t.getActiveCamera().getPosition()),e._createdLight.setFocalPoint(t.getActiveCamera().getFocalPoint()))},t.normalizedDisplayToWorld=function(i,u,o,f){var s=t.normalizedDisplayToProjection(i,u,o);return s=t.projectionToView(s[0],s[1],s[2],f),t.viewToWorld(s[0],s[1],s[2])},t.worldToNormalizedDisplay=function(i,u,o,f){var s=t.worldToView(i,u,o);return s=t.viewToProjection(s[0],s[1],s[2],f),t.projectionToNormalizedDisplay(s[0],s[1],s[2])},t.viewToWorld=function(i,u,o){if(e.activeCamera===null)return zr("ViewToWorld: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];var f=e.activeCamera.getViewMatrix();Zt(f,f),Ke(f,f);var s=new Float64Array([i,u,o]);return Te(s,s,f),s},t.projectionToView=function(i,u,o,f){if(e.activeCamera===null)return zr("ProjectionToView: no active camera, cannot compute projection to view, returning 0,0,0"),[0,0,0];var s=e.activeCamera.getProjectionMatrix(f,-1,1);Zt(s,s),Ke(s,s);var l=new Float64Array([i,u,o]);return Te(l,l,s),l},t.worldToView=function(i,u,o){if(e.activeCamera===null)return zr("WorldToView: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];var f=e.activeCamera.getViewMatrix();Ke(f,f);var s=new Float64Array([i,u,o]);return Te(s,s,f),s},t.viewToProjection=function(i,u,o,f){if(e.activeCamera===null)return zr("ViewToProjection: no active camera, cannot compute view to projection, returning 0,0,0"),[0,0,0];var s=e.activeCamera.getProjectionMatrix(f,-1,1);Ke(s,s);var l=new Float64Array([i,u,o]);return Te(l,l,s),l},t.computeVisiblePropBounds=function(){e.allBounds[0]=We.INIT_BOUNDS[0],e.allBounds[1]=We.INIT_BOUNDS[1],e.allBounds[2]=We.INIT_BOUNDS[2],e.allBounds[3]=We.INIT_BOUNDS[3],e.allBounds[4]=We.INIT_BOUNDS[4],e.allBounds[5]=We.INIT_BOUNDS[5];var i=!0;t.invokeEvent(a);for(var u=0;u<e.props.length;++u){var o=e.props[u];if(o.getVisibility()&&o.getUseBounds()){var f=o.getBounds();f&&ls(f)&&(i=!1,f[0]<e.allBounds[0]&&(e.allBounds[0]=f[0]),f[1]>e.allBounds[1]&&(e.allBounds[1]=f[1]),f[2]<e.allBounds[2]&&(e.allBounds[2]=f[2]),f[3]>e.allBounds[3]&&(e.allBounds[3]=f[3]),f[4]<e.allBounds[4]&&(e.allBounds[4]=f[4]),f[5]>e.allBounds[5]&&(e.allBounds[5]=f[5]))}}return i&&(ha(e.allBounds),_a("Can't compute bounds, no 3D props are visible")),e.allBounds},t.resetCamera=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,u=i||t.computeVisiblePropBounds(),o=[0,0,0];if(!ls(u))return _a("Cannot reset camera!"),!1;var f=null;if(t.getActiveCamera())f=e.activeCamera.getViewPlaneNormal();else return zr("Trying to reset non-existent camera"),!1;e.activeCamera.setViewAngle(30),o[0]=(u[0]+u[1])/2,o[1]=(u[2]+u[3])/2,o[2]=(u[4]+u[5])/2;var s=u[1]-u[0],l=u[3]-u[2],c=u[5]-u[4];s*=s,l*=l,c*=c;var p=s+l+c;p=p===0?1:p,p=Math.sqrt(p)*.5;var h=nt(e.activeCamera.getViewAngle()),g=p,y=p/Math.sin(h*.5),m=e.activeCamera.getViewUp();return Math.abs(Me(m,f))>.999&&(OT("Resetting view-up since view plane normal is parallel"),e.activeCamera.setViewUp(-m[2],m[0],m[1])),e.activeCamera.setFocalPoint(o[0],o[1],o[2]),e.activeCamera.setPosition(o[0]+y*f[0],o[1]+y*f[1],o[2]+y*f[2]),t.resetCameraClippingRange(u),e.activeCamera.setParallelScale(g),e.activeCamera.setPhysicalScale(p),e.activeCamera.setPhysicalTranslation(-o[0],-o[1],-o[2]),t.invokeEvent(n),!0},t.resetCameraClippingRange=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,u=i||t.computeVisiblePropBounds();if(!ls(u))return _a("Cannot reset camera clipping range!"),!1;if(t.getActiveCameraAndResetIfCreated(),!e.activeCamera)return zr("Trying to reset clipping range of non-existent camera"),!1;var o=e.activeCamera.computeClippingRange(u),f=0;if(e.activeCamera.getParallelProjection())f=.2*e.activeCamera.getParallelScale();else{var s=nt(e.activeCamera.getViewAngle());f=.2*Math.tan(s/2)*o[1]}return o[1]-o[0]<f&&(f=f-o[1]+o[0],o[1]+=f/2,o[0]-=f/2),o[0]<0&&(o[0]=0),o[0]=.99*o[0]-(o[1]-o[0])*e.clippingRangeExpansion,o[1]=1.01*o[1]+(o[1]-o[0])*e.clippingRangeExpansion,o[0]=o[0]>=o[1]?.01*o[1]:o[0],e.nearClippingPlaneTolerance||(e.nearClippingPlaneTolerance=.01),o[0]<e.nearClippingPlaneTolerance*o[1]&&(o[0]=e.nearClippingPlaneTolerance*o[1]),e.activeCamera.setClippingRange(o[0],o[1]),t.invokeEvent(r),!1},t.setRenderWindow=function(i){i!==e._renderWindow&&(e._vtkWindow=i,e._renderWindow=i)},t.visibleActorCount=function(){return e.props.filter(function(i){return i.getVisibility()}).length},t.visibleVolumeCount=t.visibleActorCount,t.getMTime=function(){var i=e.mtime,u=e.activeCamera?e.activeCamera.getMTime():0;u>i&&(i=u);var o=e._createdLight?e._createdLight.getMTime():0;return o>i&&(i=o),i},t.getTransparent=function(){return!!e.preserveColorBuffer},t.isActiveCameraCreated=function(){return!!e.activeCamera}}var NT={pickedProp:null,activeCamera:null,allBounds:[],ambient:[1,1,1],allocatedRenderTime:100,timeFactor:1,automaticLightCreation:!0,twoSidedLighting:!0,lastRenderTimeInSeconds:-1,renderWindow:null,lights:[],actors:[],volumes:[],lightFollowCamera:!0,numberOfPropsRendered:0,propArray:null,pathArray:null,layer:0,preserveColorBuffer:!1,preserveDepthBuffer:!1,computeVisiblePropBounds:na(),interactive:!0,nearClippingPlaneTolerance:0,clippingRangeExpansion:.05,erase:!0,draw:!0,useShadows:!1,useDepthPeeling:!1,occlusionRatio:0,maximumNumberOfPeels:4,selector:null,delegate:null,texturedBackground:!1,backgroundTexture:null,environmentTexture:null,environmentTextureDiffuseStrength:1,environmentTextureSpecularStrength:1,useEnvironmentTextureAsBackground:!1,pass:0};function pv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(Object.assign(e,NT,a),ET.extend(t,e,a),e.background||(e.background=[0,0,0,1]);e.background.length<3;)e.background.push(0);e.background.length===3&&e.background.push(1),wr(t,e,["_renderWindow","allocatedRenderTime","timeFactor","lastRenderTimeInSeconds","numberOfPropsRendered","lastRenderingUsedDepthPeeling","selector"]),Tt(t,e,["twoSidedLighting","lightFollowCamera","automaticLightCreation","erase","draw","nearClippingPlaneTolerance","clippingRangeExpansion","backingStore","interactive","layer","preserveColorBuffer","preserveDepthBuffer","useDepthPeeling","occlusionRatio","maximumNumberOfPeels","delegate","backgroundTexture","texturedBackground","environmentTexture","environmentTextureDiffuseStrength","environmentTextureSpecularStrength","useEnvironmentTextureAsBackground","useShadows","pass"]),Go(t,e,["actors","volumes","lights"]),f1(t,e,["background"],4,1),Po(t,e,["renderWindow"]),bT(t,e)}var MT=ot(pv,"vtkRenderer"),hv={newInstance:MT,extend:pv},RT={TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_RIGHT:"BOTTOM_RIGHT"},Fu={Corners:RT};function $f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function vv(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?$f(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$f(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var Ps=U.vtkErrorMacro,Ui=Fu.Corners;function kT(t,e){e.classHierarchy.push("vtkOrientationMarkerWidget");var a=vv({},t),r=[],n=hv.newInstance(),i=new ResizeObserver(function(p){t.updateViewport()}),u=null,o=null,f=null,s=null,l=null;function c(){e._interactor.isAnimating()||t.updateMarkerOrientation()}t.computeViewport=function(){var p=e.parentRenderer||e._interactor.getCurrentRenderer(),h=p.getViewport(),g=ze(h,4),y=g[0],m=g[1],x=g[2],v=g[3],d=e._interactor.getView(),w=d.getSize(),C=d.getViewportSize(p),S=ze(C,2),T=S[0],_=S[1],D=Math.min(T,_),b=e.viewportSize*D;b=Math.max(Math.min(e.minPixelSize,D),Math.min(e.maxPixelSize,b));var E=b/w[0],N=b/w[1];switch(e.viewportCorner){case Ui.TOP_LEFT:return[y,v-N,y+E,v];case Ui.TOP_RIGHT:return[x-E,v-N,x,v];case Ui.BOTTOM_LEFT:return[y,m,y+E,m+N];case Ui.BOTTOM_RIGHT:return[x-E,m,x,m+N];default:return Ps("Invalid widget corner"),null}},t.updateViewport=function(){e.enabled&&(n.setViewport.apply(n,de(t.computeViewport())),e._interactor.render())},t.updateMarkerOrientation=function(){var p=e.parentRenderer||e._interactor.getCurrentRenderer(),h=p.getActiveCamera();if(!!h){var g=h.getReferenceByName("position"),y=h.getReferenceByName("focalPoint"),m=h.getReferenceByName("viewUp");if(r[0]!==g[0]||r[1]!==g[1]||r[2]!==g[2]||r[3]!==y[0]||r[4]!==y[1]||r[5]!==y[2]||r[6]!==m[0]||r[7]!==m[1]||r[8]!==m[2]){r[0]=g[0],r[1]=g[1],r[2]=g[2],r[3]=y[0],r[4]=y[1],r[5]=y[2],r[6]=m[0],r[7]=m[1],r[8]=m[2];var x=n.getActiveCamera();x.setPosition(g[0],g[1],g[2]),x.setFocalPoint(y[0],y[1],y[2]),x.setViewUp(m[0],m[1],m[2]),n.resetCamera()}}},t.setEnabled=function(p){if(p){if(e.enabled)return;if(!e.actor){Ps("Must set actor before enabling orientation marker.");return}if(!e._interactor){Ps("Must set interactor before enabling orientation marker.");return}var h=e.parentRenderer||e._interactor.getCurrentRenderer(),g=h.getRenderWindow();g.addRenderer(n),g.getNumberOfLayers()<2&&g.setNumberOfLayers(2),n.setLayer(g.getNumberOfLayers()-1),n.setInteractive(!1),n.addViewProp(e.actor),e.actor.setVisibility(!0),u=h.onEvent(function(v){v.type==="ActiveCameraEvent"&&(o&&o.unsubscribe(),o=v.camera.onModified(c))}),o=h.getActiveCamera().onModified(c),f=e._interactor.onAnimation(t.updateMarkerOrientation),s=e._interactor.onEndAnimation(t.updateMarkerOrientation),i.observe(e._interactor.getView().getCanvas()),t.updateViewport(),t.updateMarkerOrientation(),e.enabled=!0}else{var y,m;if(!e.enabled)return;e.enabled=!1,i.disconnect(),u.unsubscribe(),u=null,o.unsubscribe(),o=null,f.unsubscribe(),f=null,s.unsubscribe(),s=null,e.actor.setVisibility(!1),n.removeViewProp(e.actor);var x=(y=e._interactor)===null||y===void 0||(m=y.findPokedRenderer())===null||m===void 0?void 0:m.getRenderWindow();x&&x.removeRenderer(n)}t.modified()},t.setViewportCorner=function(p){p!==e.viewportCorner&&(e.viewportCorner=p,t.updateViewport())},t.setViewportSize=function(p){var h=Math.min(1,Math.max(0,p));h!==e.viewportSize&&(e.viewportSize=h,t.updateViewport())},t.setActor=function(p){var h=e.enabled;t.setEnabled(!1),e.actor=p,t.setEnabled(h)},t.setParentRenderer=function(p){var h=a.setParentRenderer(p);return h&&t.updateViewport(),h},t.getRenderer=function(){return n},t.delete=function(){a.delete(),l&&(l.unsubscribe(),l=null),u&&(u.unsubscribe(),u=null),o&&(o.unsubscribe(),o=null),f&&(f.unsubscribe(),f=null),s&&(s.unsubscribe(),s=null),i.disconnect()},l=t.onModified(t.updateViewport)}var LT={viewportCorner:Fu.Corners.BOTTOM_LEFT,viewportSize:.2,minPixelSize:50,maxPixelSize:200,parentRenderer:null};function gv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,LT,a),U.obj(t,e),U.get(t,e,["enabled","viewportCorner","viewportSize"]),U.setGet(t,e,["_interactor","minPixelSize","maxPixelSize","parentRenderer"]),U.get(t,e,["actor"]),U.moveToProtected(t,e,["interactor"]),kT(t,e)}var FT=U.newInstance(gv,"vtkOrientationMarkerWidget"),Hf=vv({newInstance:FT,extend:gv},Fu),AT={Unknown:0,LeftController:1,RightController:2},BT={Unknown:0,Trigger:1,TrackPad:2,Grip:3,Thumbstick:4,A:5,B:6,ApplicationMenu:7},VT={Unknown:0,TouchpadX:1,TouchpadY:2,ThumbstickX:3,ThumbstickY:4},Au={Device:AT,Input:BT,Axis:VT};function Kf(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function qe(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Kf(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Kf(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var Gi=Au.Device,cn=Au.Input,Pi=U.vtkWarningMacro,ji=U.vtkErrorMacro,UT=U.normalizeWheel,GT=U.vtkOnceErrorMacro,Vn=new MouseEvent(""),js={"xr-standard":[cn.Trigger,cn.Grip,cn.TrackPad,cn.Thumbstick,cn.A,cn.B]},Bu=["StartAnimation","Animation","EndAnimation","PointerEnter","PointerLeave","MouseEnter","MouseLeave","StartMouseMove","MouseMove","EndMouseMove","LeftButtonPress","LeftButtonRelease","MiddleButtonPress","MiddleButtonRelease","RightButtonPress","RightButtonRelease","KeyPress","KeyDown","KeyUp","StartMouseWheel","MouseWheel","EndMouseWheel","StartPinch","Pinch","EndPinch","StartPan","Pan","EndPan","StartRotate","Rotate","EndRotate","Button3D","Move3D","StartPointerLock","EndPointerLock","StartInteraction","Interaction","EndInteraction","AnimationFrameRateUpdate"];function Da(t){t.cancelable&&t.preventDefault()}function zi(t){var e=Object.create(null);return t.forEach(function(a){var r=a.pointerId,n=a.position;e[r]=n}),e}function PT(t,e){e.classHierarchy.push("vtkRenderWindowInteractor");var a=new Set,r=new Map;t.start=function(){!e.initialized&&(t.initialize(),!e.initialized)||t.startEventLoop()},t.setRenderWindow=function(c){ji("you want to call setView(view) instead of setRenderWindow on a vtk.js interactor")},t.setInteractorStyle=function(c){e.interactorStyle!==c&&(e.interactorStyle!=null&&e.interactorStyle.setInteractor(null),e.interactorStyle=c,e.interactorStyle!=null&&e.interactorStyle.getInteractor()!==t&&e.interactorStyle.setInteractor(t))},t.initialize=function(){e.initialized=!0,t.enable(),t.render()},t.enable=function(){return t.setEnabled(!0)},t.disable=function(){return t.setEnabled(!1)},t.startEventLoop=function(){return Pi("empty event loop")};function n(c,p){e._forcedRenderer||(e.currentRenderer=t.findPokedRenderer(c,p))}t.getCurrentRenderer=function(){return e.currentRenderer||n(0,0),e.currentRenderer};function i(c){var p=e._view.getCanvas(),h=p.getBoundingClientRect(),g=p.width/h.width,y=p.height/h.height,m={x:g*(c.clientX-h.left),y:y*(h.height-c.clientY+h.top),z:0};return(r.size<=1||!e.currentRenderer)&&n(m.x,m.y),m}function u(c){return{controlKey:c.ctrlKey,altKey:c.altKey,shiftKey:c.shiftKey}}function o(c){var p=u(c),h=qe({key:c.key,keyCode:c.charCode},p);return h}function f(c){return c.pointerType||""}t.bindEvents=function(c){e.container=c,c.addEventListener("contextmenu",Da),c.addEventListener("wheel",t.handleWheel),c.addEventListener("DOMMouseScroll",t.handleWheel),c.addEventListener("pointerenter",t.handlePointerEnter),c.addEventListener("pointerleave",t.handlePointerLeave),c.addEventListener("pointermove",t.handlePointerMove,{passive:!1}),c.addEventListener("pointerdown",t.handlePointerDown,{passive:!1}),c.addEventListener("pointerup",t.handlePointerUp),c.addEventListener("pointercancel",t.handlePointerCancel),document.addEventListener("keypress",t.handleKeyPress),document.addEventListener("keydown",t.handleKeyDown),document.addEventListener("keyup",t.handleKeyUp),document.addEventListener("pointerlockchange",t.handlePointerLockChange),c.style.touchAction="none",c.style.userSelect="none",c.style.webkitTapHighlightColor="rgba(0,0,0,0)"},t.unbindEvents=function(){var c=e.container;c.removeEventListener("contextmenu",Da),c.removeEventListener("wheel",t.handleWheel),c.removeEventListener("DOMMouseScroll",t.handleWheel),c.removeEventListener("pointerenter",t.handlePointerEnter),c.removeEventListener("pointerleave",t.handlePointerLeave),c.removeEventListener("pointermove",t.handlePointerMove,{passive:!1}),c.removeEventListener("pointerdown",t.handlePointerDown,{passive:!1}),c.removeEventListener("pointerup",t.handlePointerUp),c.removeEventListener("pointercancel",t.handlePointerCancel),document.removeEventListener("keypress",t.handleKeyPress),document.removeEventListener("keydown",t.handleKeyDown),document.removeEventListener("keyup",t.handleKeyUp),document.removeEventListener("pointerlockchange",t.handlePointerLockChange),e.container=null,r.clear()},t.handleKeyPress=function(c){var p=o(c);t.keyPressEvent(p)},t.handleKeyDown=function(c){var p=o(c);t.keyDownEvent(p)},t.handleKeyUp=function(c){var p=o(c);t.keyUpEvent(p)},t.handlePointerEnter=function(c){var p=qe(qe({},u(c)),{},{position:i(c),deviceType:f(c)});t.pointerEnterEvent(p),p.deviceType==="mouse"&&t.mouseEnterEvent(p)},t.handlePointerLeave=function(c){var p=qe(qe({},u(c)),{},{position:i(c),deviceType:f(c)});t.pointerLeaveEvent(p),p.deviceType==="mouse"&&t.mouseLeaveEvent(p)},t.handlePointerDown=function(c){if(!(c.button>2||t.isPointerLocked()))switch(e.preventDefaultOnPointerDown&&Da(c),c.target.hasPointerCapture(c.pointerId)&&c.target.releasePointerCapture(c.pointerId),e.container.setPointerCapture(c.pointerId),r.has(c.pointerId)&&Pi("[RenderWindowInteractor] duplicate pointerId detected"),r.set(c.pointerId,{pointerId:c.pointerId,position:i(c)}),c.pointerType){case"pen":case"touch":t.handleTouchStart(c);break;case"mouse":default:t.handleMouseDown(c);break}},t.handlePointerUp=function(c){if(r.has(c.pointerId))switch(e.preventDefaultOnPointerUp&&Da(c),r.delete(c.pointerId),e.container.releasePointerCapture(c.pointerId),c.pointerType){case"pen":case"touch":t.handleTouchEnd(c);break;case"mouse":default:t.handleMouseUp(c);break}},t.handlePointerCancel=function(c){if(r.has(c.pointerId))switch(r.delete(c.pointerId),c.pointerType){case"pen":case"touch":t.handleTouchEnd(c);break;case"mouse":default:t.handleMouseUp(c);break}},t.handlePointerMove=function(c){if(r.has(c.pointerId)){var p=r.get(c.pointerId);p.position=i(c)}switch(c.pointerType){case"pen":case"touch":t.handleTouchMove(c);break;case"mouse":default:t.handleMouseMove(c);break}},t.handleMouseDown=function(c){var p=qe(qe({},u(c)),{},{position:i(c),deviceType:f(c)});switch(c.button){case 0:t.leftButtonPressEvent(p);break;case 1:t.middleButtonPressEvent(p);break;case 2:t.rightButtonPressEvent(p);break;default:ji("Unknown mouse button pressed: ".concat(c.button));break}},t.requestPointerLock=function(){e.container&&e.container.requestPointerLock()},t.exitPointerLock=function(){return document.exitPointerLock()},t.isPointerLocked=function(){return!!e.container&&document.pointerLockElement===e.container},t.handlePointerLockChange=function(){t.isPointerLocked()?t.startPointerLockEvent():t.endPointerLockEvent()};function s(){e._view&&e.enabled&&e.enableRender&&(e.inRender=!0,e._view.traverseAllPasses(),e.inRender=!1),t.invokeRenderEvent()}t.requestAnimation=function(c){if(c===void 0){ji("undefined requester, can not start animating");return}if(a.has(c)){Pi("requester is already registered for animating");return}a.add(c),!e.animationRequest&&a.size===1&&!e.xrAnimation&&(e._animationStartTime=Date.now(),e._animationFrameCount=0,e.animationRequest=requestAnimationFrame(t.handleAnimation),t.startAnimationEvent())},t.extendAnimation=function(c){var p=Date.now()+c;e._animationExtendedEnd=Math.max(e._animationExtendedEnd,p),!e.animationRequest&&a.size===0&&!e.xrAnimation&&(e._animationStartTime=Date.now(),e._animationFrameCount=0,e.animationRequest=requestAnimationFrame(t.handleAnimation),t.startAnimationEvent())},t.isAnimating=function(){return e.xrAnimation||e.animationRequest!==null},t.cancelAnimation=function(c){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!a.has(c)){if(!p){var h=c&&c.getClassName?c.getClassName():c;Pi("".concat(h," did not request an animation"))}return}a.delete(c),e.animationRequest&&a.size===0&&Date.now()>e._animationExtendedEnd&&(cancelAnimationFrame(e.animationRequest),e.animationRequest=null,t.endAnimationEvent(),t.render())},t.switchToXRAnimation=function(){e.animationRequest&&(cancelAnimationFrame(e.animationRequest),e.animationRequest=null),e.xrAnimation=!0},t.returnFromXRAnimation=function(){e.xrAnimation=!1,a.size!==0&&(e.recentAnimationFrameRate=10,e.animationRequest=requestAnimationFrame(t.handleAnimation))},t.updateXRGamepads=function(c,p,h){c.inputSources.forEach(function(g){var y=g.gripSpace==null?null:p.getPose(g.gripSpace,h),m=g.gamepad,x=g.handedness;if(m){m.index in e.lastGamepadValues||(e.lastGamepadValues[m.index]={left:{buttons:{}},right:{buttons:{}},none:{buttons:{}}});for(var v=0;v<m.buttons.length;++v)v in e.lastGamepadValues[m.index][x].buttons||(e.lastGamepadValues[m.index][x].buttons[v]=!1),e.lastGamepadValues[m.index][x].buttons[v]!==m.buttons[v].pressed&&y!=null&&(t.button3DEvent({gamepad:m,position:y.transform.position,orientation:y.transform.orientation,pressed:m.buttons[v].pressed,device:g.handedness==="left"?Gi.LeftController:Gi.RightController,input:js[m.mapping]&&js[m.mapping][v]?js[m.mapping][v]:cn.Trigger}),e.lastGamepadValues[m.index][x].buttons[v]=m.buttons[v].pressed),e.lastGamepadValues[m.index][x].buttons[v]&&y!=null&&t.move3DEvent({gamepad:m,position:y.transform.position,orientation:y.transform.orientation,device:g.handedness==="left"?Gi.LeftController:Gi.RightController})}})},t.handleMouseMove=function(c){var p=qe(qe({},u(c)),{},{position:i(c),deviceType:f(c)});e.moveTimeoutID===0?t.startMouseMoveEvent(p):(t.mouseMoveEvent(p),clearTimeout(e.moveTimeoutID)),e.moveTimeoutID=setTimeout(function(){t.endMouseMoveEvent(),e.moveTimeoutID=0},200)},t.handleAnimation=function(){var c=Date.now();e._animationFrameCount++,c-e._animationStartTime>1e3&&e._animationFrameCount>1&&(e.recentAnimationFrameRate=1e3*(e._animationFrameCount-1)/(c-e._animationStartTime),e.lastFrameTime=1/e.recentAnimationFrameRate,t.animationFrameRateUpdateEvent(),e._animationStartTime=c,e._animationFrameCount=1),t.animationEvent(),s(),a.size>0||Date.now()<e._animationExtendedEnd?e.animationRequest=requestAnimationFrame(t.handleAnimation):(cancelAnimationFrame(e.animationRequest),e.animationRequest=null,t.endAnimationEvent(),t.render())},t.handleWheel=function(c){Da(c);var p=qe(qe(qe({},UT(c)),u(c)),{},{position:i(c),deviceType:f(c)});e.wheelTimeoutID===0?(t.startMouseWheelEvent(p),t.mouseWheelEvent(p)):(t.mouseWheelEvent(p),clearTimeout(e.wheelTimeoutID)),e.wheelTimeoutID=setTimeout(function(){t.extendAnimation(600),t.endMouseWheelEvent(),e.wheelTimeoutID=0},200)},t.handleMouseUp=function(c){var p=qe(qe({},u(c)),{},{position:i(c),deviceType:f(c)});switch(c.button){case 0:t.leftButtonReleaseEvent(p);break;case 1:t.middleButtonReleaseEvent(p);break;case 2:t.rightButtonReleaseEvent(p);break;default:ji("Unknown mouse button released: ".concat(c.button));break}},t.handleTouchStart=function(c){var p=de(r.values());if(e.recognizeGestures&&p.length>1){var h=zi(r);if(p.length===2){var g=qe(qe({},u(Vn)),{},{position:p[0].position,deviceType:f(c)});t.leftButtonReleaseEvent(g)}t.recognizeGesture("TouchStart",h)}else if(p.length===1){var y=qe(qe({},u(Vn)),{},{position:i(c),deviceType:f(c)});t.leftButtonPressEvent(y)}},t.handleTouchMove=function(c){var p=de(r.values());if(e.recognizeGestures&&p.length>1){var h=zi(r);t.recognizeGesture("TouchMove",h)}else if(p.length===1){var g=qe(qe({},u(Vn)),{},{position:p[0].position,deviceType:f(c)});t.mouseMoveEvent(g)}},t.handleTouchEnd=function(c){var p=de(r.values());if(e.recognizeGestures)if(p.length===0){var h=qe(qe({},u(Vn)),{},{position:i(c),deviceType:f(c)});t.leftButtonReleaseEvent(h)}else if(p.length===1){var g=zi(r);t.recognizeGesture("TouchEnd",g);var y=qe(qe({},u(Vn)),{},{position:p[0].position,deviceType:f(c)});t.leftButtonPressEvent(y)}else{var m=zi(r);t.recognizeGesture("TouchMove",m)}else if(p.length===1){var x=qe(qe({},u(Vn)),{},{position:p[0].position,deviceType:f(c)});t.leftButtonReleaseEvent(x)}},t.setView=function(c){e._view!==c&&(e._view=c,e._view.getRenderable().setInteractor(t),t.modified())},t.getFirstRenderer=function(){var c,p,h;return(c=e._view)===null||c===void 0||(p=c.getRenderable())===null||p===void 0||(h=p.getRenderersByReference())===null||h===void 0?void 0:h[0]},t.findPokedRenderer=function(){var c,p,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e._view)return null;var y=(c=e._view)===null||c===void 0||(p=c.getRenderable())===null||p===void 0?void 0:p.getRenderers();if(!y||y.length===0)return null;y.sort(function(C,S){return C.getLayer()-S.getLayer()});for(var m=null,x=null,v=null,d=y.length;d--;){var w=y[d];if(e._view.isInViewport(h,g,w)&&w.getInteractive()){v=w;break}m===null&&w.getInteractive()&&(m=w),x===null&&e._view.isInViewport(h,g,w)&&(x=w)}return v===null&&(v=m),v===null&&(v=x),v==null&&(v=y[0]),v},t.render=function(){!t.isAnimating()&&!e.inRender&&s()},Bu.forEach(function(c){var p=c.charAt(0).toLowerCase()+c.slice(1);t["".concat(p,"Event")]=function(h){if(!!e.enabled){var g=t.getCurrentRenderer();if(!g){GT(`
          Can not forward events without a current renderer on the interactor.
        `);return}var y=qe({type:c,pokedRenderer:e.currentRenderer,firstRenderer:t.getFirstRenderer()},h);t["invoke".concat(c)](y)}}}),t.recognizeGesture=function(c,p){if(!(Object.keys(p).length>2)){if(e.startingEventPositions||(e.startingEventPositions={}),c==="TouchStart"){Object.keys(p).forEach(function(j){e.startingEventPositions[j]=p[j]}),e.currentGesture="Start";return}if(c==="TouchEnd"){e.currentGesture==="Pinch"&&(t.render(),t.endPinchEvent()),e.currentGesture==="Rotate"&&(t.render(),t.endRotateEvent()),e.currentGesture==="Pan"&&(t.render(),t.endPanEvent()),e.currentGesture="Start",e.startingEventPositions={};return}var h=0,g=[],y=[];Object.keys(p).forEach(function(j){g[h]=p[j],y[h]=e.startingEventPositions[j],h++});var m=Math.sqrt((y[0].x-y[1].x)*(y[0].x-y[1].x)+(y[0].y-y[1].y)*(y[0].y-y[1].y)),x=Math.sqrt((g[0].x-g[1].x)*(g[0].x-g[1].x)+(g[0].y-g[1].y)*(g[0].y-g[1].y)),v=co(Math.atan2(y[1].y-y[0].y,y[1].x-y[0].x)),d=co(Math.atan2(g[1].y-g[0].y,g[1].x-g[0].x)),w=d-v;d=d+180>=360?d-180:d+180,v=v+180>=360?v-180:v+180,Math.abs(d-v)<Math.abs(w)&&(w=d-v);var C=[];if(C[0]=(g[0].x-y[0].x+g[1].x-y[1].x)/2,C[1]=(g[0].y-y[0].y+g[1].y-y[1].y)/2,c==="TouchMove")if(e.currentGesture==="Start"){var S=.01*Math.sqrt(e.container.clientWidth*e.container.clientWidth+e.container.clientHeight*e.container.clientHeight);S<15&&(S=15);var T=Math.abs(x-m),_=x*3.1415926*Math.abs(w)/360,D=Math.sqrt(C[0]*C[0]+C[1]*C[1]);if(T>S&&T>_&&T>D){e.currentGesture="Pinch";var b={scale:1,touches:p};t.startPinchEvent(b)}else if(_>S&&_>D){e.currentGesture="Rotate";var E={rotation:0,touches:p};t.startRotateEvent(E)}else if(D>S){e.currentGesture="Pan";var N={translation:[0,0],touches:p};t.startPanEvent(N)}}else{if(e.currentGesture==="Rotate"){var R={rotation:w,touches:p};t.rotateEvent(R)}if(e.currentGesture==="Pinch"){var M={scale:x/m,touches:p};t.pinchEvent(M)}if(e.currentGesture==="Pan"){var G={translation:C,touches:p};t.panEvent(G)}}}},t.handleVisibilityChange=function(){e._animationStartTime=Date.now(),e._animationFrameCount=0},t.setCurrentRenderer=function(c){e._forcedRenderer=!!c,e.currentRenderer=c};var l=t.delete;t.delete=function(){for(;a.size;)t.cancelAnimation(a.values().next().value);typeof document.hidden!="undefined"&&document.removeEventListener("visibilitychange",t.handleVisibilityChange),e.container&&t.unbindEvents(),l()},typeof document.hidden!="undefined"&&document.addEventListener("visibilitychange",t.handleVisibilityChange,!1)}var jT={renderWindow:null,interactorStyle:null,picker:null,pickingManager:null,initialized:!1,enabled:!1,enableRender:!0,currentRenderer:null,lightFollowCamera:!0,desiredUpdateRate:30,stillUpdateRate:2,container:null,recognizeGestures:!0,currentGesture:"Start",animationRequest:null,lastFrameTime:.1,recentAnimationFrameRate:10,wheelTimeoutID:0,moveTimeoutID:0,lastGamepadValues:{},preventDefaultOnPointerDown:!1,preventDefaultOnPointerUp:!1};function dv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,jT,a),U.obj(t,e),e._animationExtendedEnd=0,U.event(t,e,"RenderEvent"),Bu.forEach(function(r){return U.event(t,e,r)}),U.get(t,e,["initialized","container","interactorStyle","lastFrameTime","recentAnimationFrameRate","_view"]),U.setGet(t,e,["lightFollowCamera","enabled","enableRender","recognizeGestures","desiredUpdateRate","stillUpdateRate","picker","preventDefaultOnPointerDown","preventDefaultOnPointerUp"]),U.moveToProtected(t,e,["view"]),PT(t,e)}var zT=U.newInstance(dv,"vtkRenderWindowInteractor"),Vu=qe({newInstance:zT,extend:dv,handledEvents:Bu},Au);function Xf(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function yv(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Xf(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Xf(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var WT=U.vtkErrorMacro,IT=U.VOID;function $T(t,e,a,r){var n=t.getRenderWindow().getViews()[0];return n.worldToDisplay(e,a,r,t)}function HT(t,e,a,r){var n=t.getRenderWindow().getViews()[0];return n.displayToWorld(e,a,r,t)}var KT={computeWorldToDisplay:$T,computeDisplayToWorld:HT};function XT(t,e){e.classHierarchy.push("vtkInteractorObserver");var a=yv({},t);function r(){for(;e.subscribedEvents.length;)e.subscribedEvents.pop().unsubscribe()}function n(){Vu.handledEvents.forEach(function(i){t["handle".concat(i)]&&e.subscribedEvents.push(e._interactor["on".concat(i)](function(u){return e.processEvents?t["handle".concat(i)](u):IT},e.priority))})}t.setInteractor=function(i){i!==e._interactor&&(r(),e._interactor=i,i&&e.enabled&&n(),t.modified())},t.setEnabled=function(i){i!==e.enabled&&(r(),i&&(e._interactor?n():WT(`
          The interactor must be set before subscribing to events
        `)),e.enabled=i,t.modified())},t.computeDisplayToWorld=function(i,u,o,f){return i?e._interactor.getView().displayToWorld(u,o,f,i):null},t.computeWorldToDisplay=function(i,u,o,f){return i?e._interactor.getView().worldToDisplay(u,o,f,i):null},t.setPriority=function(i){var u=a.setPriority(i);u&&e._interactor&&(r(),n())}}var qT={enabled:!0,priority:0,processEvents:!0,subscribedEvents:[]};function mv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,qT,a),U.obj(t,e),U.event(t,e,"InteractionEvent"),U.event(t,e,"StartInteractionEvent"),U.event(t,e,"EndInteractionEvent"),U.get(t,e,["_interactor","enabled"]),U.setGet(t,e,["priority","processEvents"]),U.moveToProtected(t,e,["interactor"]),XT(t,e)}var YT=U.newInstance(mv,"vtkInteractorObserver"),JT=yv({newInstance:YT,extend:mv},KT),ZT={IS_START:0,IS_NONE:0,IS_ROTATE:1,IS_PAN:2,IS_SPIN:3,IS_DOLLY:4,IS_CAMERA_POSE:11,IS_WINDOW_LEVEL:1024,IS_SLICE:1025},xv={States:ZT};function qf(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function QT(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?qf(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):qf(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var gr=xv.States,zs={Rotate:gr.IS_ROTATE,Pan:gr.IS_PAN,Spin:gr.IS_SPIN,Dolly:gr.IS_DOLLY,CameraPose:gr.IS_CAMERA_POSE,WindowLevel:gr.IS_WINDOW_LEVEL,Slice:gr.IS_SLICE};function e_(t,e){e.classHierarchy.push("vtkInteractorStyle"),Object.keys(zs).forEach(function(a){U.event(t,e,"Start".concat(a,"Event")),t["start".concat(a)]=function(){e.state===gr.IS_NONE&&(e.state=zs[a],e._interactor.requestAnimation(t),t.invokeStartInteractionEvent({type:"StartInteractionEvent"}),t["invokeStart".concat(a,"Event")]({type:"Start".concat(a,"Event")}))},U.event(t,e,"End".concat(a,"Event")),t["end".concat(a)]=function(){e.state===zs[a]&&(e.state=gr.IS_NONE,e._interactor.cancelAnimation(t),t.invokeEndInteractionEvent({type:"EndInteractionEvent"}),t["invokeEnd".concat(a,"Event")]({type:"End".concat(a,"Event")}),e._interactor.render())}}),t.handleKeyPress=function(a){var r=e._interactor,n=null;switch(a.key){case"r":case"R":a.pokedRenderer.resetCamera(),r.render();break;case"w":case"W":n=a.pokedRenderer.getActors(),n.forEach(function(i){var u=i.getProperty();u.setRepresentationToWireframe&&u.setRepresentationToWireframe()}),r.render();break;case"s":case"S":n=a.pokedRenderer.getActors(),n.forEach(function(i){var u=i.getProperty();u.setRepresentationToSurface&&u.setRepresentationToSurface()}),r.render();break;case"v":case"V":n=a.pokedRenderer.getActors(),n.forEach(function(i){var u=i.getProperty();u.setRepresentationToPoints&&u.setRepresentationToPoints()}),r.render();break}}}var t_={state:gr.IS_NONE,handleObservers:1,autoAdjustCameraClippingRange:1};function wv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,t_,a),JT.extend(t,e,a),e_(t,e)}var r_=U.newInstance(wv,"vtkInteractorStyle"),Cv=QT({newInstance:r_,extend:wv},xv);function Yf(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function n_(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Yf(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Yf(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var Ws=U.vtkDebugMacro,a_=Cv.States,Ea={type:"StartInteractionEvent"},Gr={type:"InteractionEvent"},Oa={type:"EndInteractionEvent"};function b0(t,e,a,r,n,i){var u=t.getActiveCamera(),o=u.getFocalPoint();o=e.getInteractorStyle().computeWorldToDisplay(t,o[0],o[1],o[2]);var f=o[2],s=e.getInteractorStyle().computeDisplayToWorld(t,a,r,f),l=e.getInteractorStyle().computeDisplayToWorld(t,n,i,f),c=[l[0]-s[0],l[1]-s[1],l[2]-s[2]];o=u.getFocalPoint();var p=u.getPosition();u.setFocalPoint(c[0]+o[0],c[1]+o[1],c[2]+o[2]),u.setPosition(c[0]+p[0],c[1]+p[1],c[2]+p[2])}function i_(t,e,a,r){var n=a.getActiveCamera();if(n.getParallelProjection()){var i=r.getView(),u=i.getViewportSize(a),o=a.getViewport(),f=i.getSize(),s=u[0],l=u[1],c=s/2,p=l/2,h=e.x-o[0]*f[0],g=e.y-o[1]*f[1];b0(a,r,c,p,h,g),n.setParallelScale(n.getParallelScale()/t),b0(a,r,h,g,c,p)}else{var y=n.getFocalPoint(),m=n.getViewPlaneNormal();y=r.getInteractorStyle().computeWorldToDisplay(a,y[0],y[1],y[2]);var x=r.getInteractorStyle().computeDisplayToWorld(a,e.x,e.y,y[2]);n.setFocalPoint(x[0],x[1],x[2]),n.dolly(t),a.resetCameraClippingRange();var v=n.getPosition();y=n.getFocalPoint();var d=[0,0,0],w=m[0]*(y[0]-v[0])+m[1]*(y[1]-v[1])+m[2]*(y[2]-v[2]);w/=Math.pow(m[0],2)+Math.pow(m[1],2)+Math.pow(m[2],2),d[0]=v[0]+m[0]*w,d[1]=v[1]+m[1]*w,d[2]=v[2]+m[2]*w,n.setFocalPoint(d[0],d[1],d[2]),a.resetCameraClippingRange()}}function o_(t,e,a){if(!Number.isNaN(a)){var r=e.getActiveCamera();r.getParallelProjection()?r.setParallelScale(r.getParallelScale()/a):(r.dolly(a),e.resetCameraClippingRange()),t.getLightFollowCamera()&&e.updateLightsGeometryToFollowCamera()}}var s_={dollyToPosition:i_,translateCamera:b0,dollyByFactor:o_};function u_(t,e){e.classHierarchy.push("vtkInteractorStyleManipulator"),e.mouseManipulators=[],e.keyboardManipulators=[],e.vrManipulators=[],e.gestureManipulators=[],e.currentManipulator=null,e.currentWheelManipulator=null,e.centerOfRotation=[0,0,0],e.rotationFactor=1,t.removeAllManipulators=function(){t.removeAllMouseManipulators(),t.removeAllKeyboardManipulators(),t.removeAllVRManipulators(),t.removeAllGestureManipulators()},t.removeAllMouseManipulators=function(){e.mouseManipulators=[]},t.removeAllKeyboardManipulators=function(){e.keyboardManipulators=[]},t.removeAllVRManipulators=function(){e.vrManipulators=[]},t.removeAllGestureManipulators=function(){e.gestureManipulators=[]};var a=function(i,u){var o=u.indexOf(i);return o===-1?!1:(u.splice(o,1),t.modified(),!0)};t.removeMouseManipulator=function(n){return a(n,e.mouseManipulators)},t.removeKeyboardManipulator=function(n){return a(n,e.keyboardManipulators)},t.removeVRManipulator=function(n){return a(n,e.vrManipulators)},t.removeGestureManipulator=function(n){return a(n,e.gestureManipulators)};var r=function(i,u){var o=u.indexOf(i);return o!==-1?!1:(u.push(i),t.modified(),!0)};t.addMouseManipulator=function(n){return r(n,e.mouseManipulators)},t.addKeyboardManipulator=function(n){return r(n,e.keyboardManipulators)},t.addVRManipulator=function(n){return r(n,e.vrManipulators)},t.addGestureManipulator=function(n){return r(n,e.gestureManipulators)},t.getNumberOfMouseManipulators=function(){return e.mouseManipulators.length},t.getNumberOfKeyboardManipulators=function(){return e.keyboardManipulators.length},t.getNumberOfVRManipulators=function(){return e.vrManipulators.length},t.getNumberOfGestureManipulators=function(){return e.gestureManipulators.length},t.resetCurrentManipulator=function(){e.currentManipulator=null,e.currentWheelManipulator=null},t.handleLeftButtonPress=function(n){e.previousPosition=n.position,t.onButtonDown(1,n)},t.handleMiddleButtonPress=function(n){e.previousPosition=n.position,t.onButtonDown(2,n)},t.handleRightButtonPress=function(n){e.previousPosition=n.position,t.onButtonDown(3,n)},t.handleButton3D=function(n){!n||(e.currentManipulator=t.findVRManipulator(n.device,n.input,n.pressed),e.currentManipulator?(e.currentManipulator.onButton3D(t,n.pokedRenderer,e.state,n.device,n.input,n.pressed),n.pressed?t.startCameraPose():t.endCameraPose()):Ws("No manipulator found"))},t.handleMove3D=function(n){e.currentManipulator&&e.state===a_.IS_CAMERA_POSE&&e.currentManipulator.onMove3D(t,n.pokedRenderer,e.state,n)},t.onButtonDown=function(n,i){e.currentManipulator||(e.currentManipulator=t.findMouseManipulator(n,i.shiftKey,i.controlKey,i.altKey),e.currentManipulator?(e.currentManipulator.setCenter&&e.currentManipulator.setCenter(e.centerOfRotation),e.currentManipulator.setRotationFactor&&e.currentManipulator.setRotationFactor(e.rotationFactor),e.currentManipulator.startInteraction(),e.currentManipulator.onButtonDown(e._interactor,i.pokedRenderer,i.position),e._interactor.requestAnimation(t.onButtonDown),t.invokeStartInteractionEvent(Ea)):Ws("No manipulator found"))},t.findMouseManipulator=function(n,i,u,o){for(var f=null,s=e.mouseManipulators.length;s--;){var l=e.mouseManipulators[s];l&&l.getButton()===n&&l.getShift()===i&&l.getControl()===u&&l.getAlt()===o&&l.isDragEnabled()&&(f=l)}return f},t.findVRManipulator=function(n,i){for(var u=null,o=e.vrManipulators.length;o--;){var f=e.vrManipulators[o];f&&f.getDevice()===n&&f.getInput()===i&&(u=f)}return u},t.handleLeftButtonRelease=function(){t.onButtonUp(1)},t.handleMiddleButtonRelease=function(){t.onButtonUp(2)},t.handleRightButtonRelease=function(){t.onButtonUp(3)},t.onButtonUp=function(n){!e.currentManipulator||e.currentManipulator.getButton&&e.currentManipulator.getButton()===n&&(e.currentManipulator.onButtonUp(e._interactor),e.currentManipulator.endInteraction(),e.currentManipulator=null,e._interactor.cancelAnimation(t.onButtonDown),t.invokeEndInteractionEvent(Oa))},t.handleStartMouseWheel=function(n){if(!e.currentWheelManipulator){for(var i=null,u=e.mouseManipulators.length;u--;){var o=e.mouseManipulators[u];o&&o.isScrollEnabled()&&o.getShift()===n.shiftKey&&o.getControl()===n.controlKey&&o.getAlt()===n.altKey&&(i=o)}i?(e.currentWheelManipulator=i,e.currentWheelManipulator.onStartScroll(e._interactor,n.pokedRenderer,n.spinY),e.currentWheelManipulator.startInteraction(),e._interactor.requestAnimation(t.handleStartMouseWheel),t.invokeStartInteractionEvent(Ea)):Ws("No manipulator found")}},t.handleEndMouseWheel=function(){!e.currentWheelManipulator||e.currentWheelManipulator.onEndScroll&&(e.currentWheelManipulator.onEndScroll(e._interactor),e.currentWheelManipulator.endInteraction(),e.currentWheelManipulator=null,e._interactor.cancelAnimation(t.handleStartMouseWheel),t.invokeEndInteractionEvent(Oa))},t.handleMouseWheel=function(n){e.currentWheelManipulator&&e.currentWheelManipulator.onScroll&&(e.currentWheelManipulator.onScroll(e._interactor,n.pokedRenderer,n.spinY,e.cachedMousePosition),t.invokeInteractionEvent(Gr))},t.handleMouseMove=function(n){e.cachedMousePosition=n.position,e.currentManipulator&&e.currentManipulator.onMouseMove&&(e.currentManipulator.onMouseMove(e._interactor,n.pokedRenderer,n.position),t.invokeInteractionEvent(Gr))},t.handleKeyPress=function(n){e.keyboardManipulators.filter(function(i){return i.onKeyPress}).forEach(function(i){i.onKeyPress(e._interactor,n.pokedRenderer,n.key),t.invokeInteractionEvent(Gr)})},t.handleKeyDown=function(n){e.keyboardManipulators.filter(function(i){return i.onKeyDown}).forEach(function(i){i.onKeyDown(e._interactor,n.pokedRenderer,n.key),t.invokeInteractionEvent(Gr)})},t.handleKeyUp=function(n){e.keyboardManipulators.filter(function(i){return i.onKeyUp}).forEach(function(i){i.onKeyUp(e._interactor,n.pokedRenderer,n.key),t.invokeInteractionEvent(Gr)})},t.handleStartPinch=function(n){t.startDolly();for(var i=e.gestureManipulators.length;i--;){var u=e.gestureManipulators[i];u&&u.isPinchEnabled()&&(u.onStartPinch(e._interactor,n.scale),u.startInteraction())}e._interactor.requestAnimation(t.handleStartPinch),t.invokeStartInteractionEvent(Ea)},t.handleEndPinch=function(){t.endDolly();for(var n=e.gestureManipulators.length;n--;){var i=e.gestureManipulators[n];i&&i.isPinchEnabled()&&(i.onEndPinch(e._interactor),i.endInteraction())}e._interactor.cancelAnimation(t.handleStartPinch),t.invokeEndInteractionEvent(Oa)},t.handleStartRotate=function(n){t.startRotate();for(var i=e.gestureManipulators.length;i--;){var u=e.gestureManipulators[i];u&&u.isRotateEnabled()&&(u.onStartRotate(e._interactor,n.rotation),u.startInteraction())}e._interactor.requestAnimation(t.handleStartRotate),t.invokeStartInteractionEvent(Ea)},t.handleEndRotate=function(){t.endRotate();for(var n=e.gestureManipulators.length;n--;){var i=e.gestureManipulators[n];i&&i.isRotateEnabled()&&(i.onEndRotate(e._interactor),i.endInteraction())}e._interactor.cancelAnimation(t.handleStartRotate),t.invokeEndInteractionEvent(Oa)},t.handleStartPan=function(n){t.startPan();for(var i=e.gestureManipulators.length;i--;){var u=e.gestureManipulators[i];u&&u.isPanEnabled()&&(u.onStartPan(e._interactor,n.translation),u.startInteraction())}e._interactor.requestAnimation(t.handleStartPan),t.invokeStartInteractionEvent(Ea)},t.handleEndPan=function(){t.endPan();for(var n=e.gestureManipulators.length;n--;){var i=e.gestureManipulators[n];i&&i.isPanEnabled()&&(i.onEndPan(e._interactor),i.endInteraction())}e._interactor.cancelAnimation(t.handleStartPan),t.invokeEndInteractionEvent(Oa)},t.handlePinch=function(n){for(var i=e.gestureManipulators.length,u=0;i--;){var o=e.gestureManipulators[i];o&&o.isPinchEnabled()&&(o.onPinch(e._interactor,n.pokedRenderer,n.scale),u++)}u&&t.invokeInteractionEvent(Gr)},t.handlePan=function(n){for(var i=e.gestureManipulators.length,u=0;i--;){var o=e.gestureManipulators[i];o&&o.isPanEnabled()&&(o.onPan(e._interactor,n.pokedRenderer,n.translation),u++)}u&&t.invokeInteractionEvent(Gr)},t.handleRotate=function(n){for(var i=e.gestureManipulators.length,u=0;i--;){var o=e.gestureManipulators[i];o&&o.isRotateEnabled()&&(o.onRotate(e._interactor,n.pokedRenderer,n.rotation),u++)}u&&t.invokeInteractionEvent(Gr)}}var c_={cachedMousePosition:null,currentManipulator:null,currentWheelManipulator:null,centerOfRotation:[0,0,0],rotationFactor:1};function Sv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,c_,a),Cv.extend(t,e,a),U.setGet(t,e,["rotationFactor"]),U.get(t,e,["mouseManipulators","keyboardManipulators","vrManipulators","gestureManipulators"]),U.setGetArray(t,e,["centerOfRotation"],3),u_(t,e)}var f_=U.newInstance(Sv,"vtkInteractorStyleManipulator"),Eo=n_({newInstance:f_,extend:Sv},s_);function l_(t,e){e.classHierarchy.push("vtkCompositeCameraManipulator"),t.computeDisplayCenter=function(a,r){var n=a.computeWorldToDisplay(r,e.center[0],e.center[1],e.center[2]);e.displayCenter[0]=n[0],e.displayCenter[1]=n[1]}}var p_={center:[0,0,0],rotationFactor:1,displayCenter:[0,0]};function h_(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,p_,a),U.setGet(t,e,["rotationFactor"]),U.setGetArray(t,e,["displayCenter"],2),U.setGetArray(t,e,["center"],3),l_(t,e)}var da={extend:h_};function v_(t,e){e.classHierarchy.push("vtkCompositeMouseManipulator"),t.startInteraction=function(){},t.endInteraction=function(){},t.onButtonDown=function(a,r,n){},t.onButtonUp=function(a){},t.onMouseMove=function(a,r,n){},t.onStartScroll=function(a,r,n){},t.onScroll=function(a,r,n){},t.onEndScroll=function(a){},t.isDragEnabled=function(){return e.dragEnabled},t.isScrollEnabled=function(){return e.scrollEnabled}}var g_={button:1,shift:!1,control:!1,alt:!1,dragEnabled:!0,scrollEnabled:!1};function d_(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,g_,a),U.setGet(t,e,["button","shift","control","alt"]),U.set(t,e,["dragEnabled","scrollEnabled"]),v_(t,e)}var ya={extend:d_};function y_(t,e){e.classHierarchy.push("vtkMouseCameraTrackballRotateManipulator");var a=new Float64Array(3),r=new Float64Array(3),n=new Float64Array(3),i=new Float64Array(16),u=new Float64Array(3),o=new Float64Array(3),f=new Float64Array(3);t.onButtonDown=function(s,l,c){e.previousPosition=c},t.onMouseMove=function(s,l,c){if(!!c){var p=l.getActiveCamera(),h=p.getPosition(),g=p.getFocalPoint();be(i);var y=e.center,m=e.rotationFactor;e.useFocalPointAsCenterOfRotation&&(y[0]=g[0],y[1]=g[1],y[2]=g[2]);var x=e.previousPosition.x-c.x,v=e.previousPosition.y-c.y,d=s.getView().getViewportSize(l),w=p.getViewUp();if(e.useWorldUpVec){var C=new Float64Array(3);Vl(C,e.worldUpVec),b1(C,Me(h,e.worldUpVec)/Me(e.worldUpVec,e.worldUpVec)),lo(y,C,C),Ze(i,i,C),yt(i,i,nt(360*x/d[0]*m),e.worldUpVec),C[0]=-C[0],C[1]=-C[1],C[2]=-C[2],Ze(i,i,C),Ze(i,i,y)}else Ze(i,i,y),yt(i,i,nt(360*x/d[0]*m),w);Nt(p.getDirectionOfProjection(),w,u),yt(i,i,nt(-360*v/d[1]*m),u),o[0]=-y[0],o[1]=-y[1],o[2]=-y[2],Ze(i,i,o),Te(a,h,i),Te(r,g,i),f[0]=w[0]+h[0],f[1]=w[1]+h[1],f[2]=w[2]+h[2],Te(n,f,i),p.setPosition(a[0],a[1],a[2]),p.setFocalPoint(r[0],r[1],r[2]),p.setViewUp(n[0]-a[0],n[1]-a[1],n[2]-a[2]),p.orthogonalizeViewUp(),l.resetCameraClippingRange(),s.getLightFollowCamera()&&l.updateLightsGeometryToFollowCamera(),e.previousPosition=c}}}var m_={useWorldUpVec:!1,worldUpVec:[0,1,0],useFocalPointAsCenterOfRotation:!1};function Tv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,m_,a),U.obj(t,e),ya.extend(t,e,a),da.extend(t,e,a),U.setGet(t,e,["useWorldUpVec"]),U.setGetArray(t,e,["worldUpVec"],3),U.setGet(t,e,["useFocalPointAsCenterOfRotation"]),y_(t,e)}var x_=U.newInstance(Tv,"vtkMouseCameraTrackballRotateManipulator"),_v={newInstance:x_,extend:Tv};function w_(t,e){e.classHierarchy.push("vtkMouseCameraTrackballRollManipulator");var a=new Float64Array(3),r=new Float64Array(3),n=new Float64Array(3),i=new Float64Array(16),u=new Float64Array(3),o=new Float64Array(3),f=new Float64Array(3);t.onButtonDown=function(s,l,c){e.previousPosition=c},t.onMouseMove=function(s,l,c){if(!!c){var p=l.getActiveCamera(),h=p.getPosition(),g=p.getFocalPoint(),y=p.getViewUp();a[0]=g[0]-h[0],a[1]=g[1]-h[1],a[2]=g[2]-h[2],t.computeDisplayCenter(s.getInteractorStyle(),l);var m=e.previousPosition.x-e.displayCenter[0],x=c.x-e.displayCenter[0],v=e.previousPosition.y-e.displayCenter[1],d=c.y-e.displayCenter[1];if(!(x===0&&d===0||m===0&&v===0)){var w=co((m*d-v*x)/(Math.sqrt(m*m+v*v)*Math.sqrt(x*x+d*d))),C=e.center;be(i),n[0]=-C[0],n[1]=-C[1],n[2]=-C[2],Ze(i,i,C),yt(i,i,nt(w),a),Ze(i,i,n),Te(u,h,i),Te(o,g,i),r[0]=y[0]+h[0],r[1]=y[1]+h[1],r[2]=y[2]+h[2],Te(f,r,i),p.setPosition(u[0],u[1],u[2]),p.setFocalPoint(o[0],o[1],o[2]),p.setViewUp(f[0]-u[0],f[1]-u[1],f[2]-u[2]),p.orthogonalizeViewUp(),l.resetCameraClippingRange(),s.getLightFollowCamera()&&l.updateLightsGeometryToFollowCamera(),e.previousPosition=c}}}}var C_={};function Dv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,C_,a),U.obj(t,e),da.extend(t,e,a),ya.extend(t,e,a),w_(t,e)}var S_=U.newInstance(Dv,"vtkMouseCameraTrackballRollManipulator"),Ev={newInstance:S_,extend:Dv};function T_(t,e){return t<e?e:t}function Jf(t){return t*t}function __(t,e){e.classHierarchy.push("vtkMouseCameraTrackballMultiRotateManipulator");var a=_v.newInstance(),r=Ev.newInstance(),n=null;t.onButtonDown=function(i,u,o){var f=i.getView().getViewportSize(u),s=[.5*f[0],.5*f[1]],l=.9*T_(s[0],s[1]),c=Jf(s[0]-o.x)+Jf(s[1]-o.y);l*l>c?n=a:n=r,n.setButton(t.getButton()),n.setShift(t.getShift()),n.setControl(t.getControl()),n.setCenter(t.getCenter()),n.onButtonDown(i,o)},t.onButtonUp=function(i){n&&n.onButtonUp(i)},t.onMouseMove=function(i,u,o){n&&n.onMouseMove(i,u,o)}}var D_={};function Ov(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,D_,a),U.obj(t,e),ya.extend(t,e,a),da.extend(t,e,a),__(t,e)}var E_=U.newInstance(Ov,"vtkMouseCameraTrackballMultiRotateManipulator"),O_={newInstance:E_,extend:Ov};function b_(t,e){e.classHierarchy.push("vtkMouseCameraTrackballPanManipulator"),t.onButtonDown=function(a,r,n){e.previousPosition=n},t.onMouseMove=function(a,r,n){if(!!n){var i=n,u=e.previousPosition;e.previousPosition=n;var o=r.getActiveCamera(),f=o.getPosition(),s=o.getFocalPoint();if(o.getParallelProjection()){o.orthogonalizeViewUp();var l=o.getViewUp(),c=o.getViewPlaneNormal(),p=[0,0,0];Nt(c,l,p);var h=a.getView().getViewportSize(r)[1],g=(i.x-u.x)/h,y=(u.y-i.y)/h,m=o.getParallelScale();g*=m*2,y*=m*2;var x=p[0]*g+l[0]*y;f[0]+=x,s[0]+=x,x=p[1]*g+l[1]*y,f[1]+=x,s[1]+=x,x=p[2]*g+l[2]*y,f[2]+=x,s[2]+=x,o.setPosition(f[0],f[1],f[2]),o.setFocalPoint(s[0],s[1],s[2])}else{var v=e.center,d=a.getInteractorStyle(),w=d.computeWorldToDisplay(r,v[0],v[1],v[2])[2],C=d.computeDisplayToWorld(r,i.x,i.y,w),S=d.computeDisplayToWorld(r,u.x,u.y,w),T=[f[0]+(S[0]-C[0]),f[1]+(S[1]-C[1]),f[2]+(S[2]-C[2])],_=[s[0]+(S[0]-C[0]),s[1]+(S[1]-C[1]),s[2]+(S[2]-C[2])];o.setPosition(T[0],T[1],T[2]),o.setFocalPoint(_[0],_[1],_[2])}r.resetCameraClippingRange(),a.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera()}}}var N_={};function bv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,N_,a),U.obj(t,e),da.extend(t,e,a),ya.extend(t,e,a),b_(t,e)}var M_=U.newInstance(bv,"vtkMouseCameraTrackballPanManipulator"),R_={newInstance:M_,extend:bv};function k_(t,e){e.classHierarchy.push("vtkMouseCameraTrackballZoomManipulator"),t.onButtonDown=function(a,r,n){e.previousPosition=n;var i=a.getView().getViewportSize(r),u=r.getActiveCamera(),o=e.flipDirection?-1:1;if(u.getParallelProjection())e.zoomScale=1.5/i[1]*o;else{var f=u.getClippingRange();e.zoomScale=1.5*(f[1]/i[1])*o}},t.onMouseMove=function(a,r,n){if(!!n){var i=e.previousPosition.y-n.y,u=r.getActiveCamera();if(u.getParallelProjection()){var o=i*e.zoomScale;u.setParallelScale((1-o)*u.getParallelScale())}else{var f=u.getPosition(),s=u.getFocalPoint(),l=u.getDirectionOfProjection(),c=i*e.zoomScale,p=c*l[0];f[0]+=p,s[0]+=p,p=c*l[1],f[1]+=p,s[1]+=p,p=c*l[2],f[2]+=p,s[2]+=p,u.getFreezeFocalPoint()||u.setFocalPoint(s[0],s[1],s[2]),u.setPosition(f[0],f[1],f[2]),r.resetCameraClippingRange()}a.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera(),e.previousPosition=n}},t.onScroll=function(a,r,n){if(!!n){var i=r.getActiveCamera(),u=1-n/10;i.getParallelProjection()?i.setParallelScale(i.getParallelScale()/u):(i.dolly(u),r.resetCameraClippingRange()),a.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera()}}}var L_={zoomScale:0,flipDirection:!1};function Nv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,L_,a),U.obj(t,e),ya.extend(t,e,a),da.extend(t,e,a),U.setGet(t,e,["flipDirection"]),k_(t,e)}var F_=U.newInstance(Nv,"vtkMouseCameraTrackballZoomManipulator"),Mv={newInstance:F_,extend:Nv};function A_(t,e){e.classHierarchy.push("vtkMouseCameraTrackballZoomToMouseManipulator");var a=t.onButtonDown;t.onButtonDown=function(r,n,i){a(r,n,i),e.zoomPosition=i},t.onMouseMove=function(r,n,i){if(!!i){var u=e.previousPosition.y-i.y,o=u*e.zoomScale;Eo.dollyToPosition(1-o,e.zoomPosition,n,r),r.getLightFollowCamera()&&n.updateLightsGeometryToFollowCamera(),e.previousPosition=i}},t.onScroll=function(r,n,i,u){if(!(!i||!u)){var o=1-i*.1;Eo.dollyToPosition(o,u,n,r),r.getLightFollowCamera()&&n.updateLightsGeometryToFollowCamera()}}}var B_={zoomPosition:null};function Rv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,B_,a),Mv.extend(t,e,a),A_(t,e)}var V_=U.newInstance(Rv,"vtkMouseCameraTrackballZoomToMouseManipulator"),U_={newInstance:V_,extend:Rv};function G_(t,e){e.classHierarchy.push("vtkCompositeGestureManipulator"),t.startInteraction=function(){},t.endInteraction=function(){},t.onStartPinch=function(a,r){},t.onStartRotate=function(a,r){},t.onStartPan=function(a,r){},t.onPinch=function(a,r,n){},t.onRotate=function(a,r,n){},t.onPan=function(a,r,n){},t.onEndPinch=function(a){},t.onEndRotate=function(a){},t.onEndPan=function(a){},t.isPinchEnabled=function(){return e.pinchEnabled},t.isPanEnabled=function(){return e.panEnabled},t.isRotateEnabled=function(){return e.rotateEnabled}}var P_={pinchEnabled:!0,panEnabled:!0,rotateEnabled:!0};function j_(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,P_,a),U.set(t,e,["pinchEnabled","panEnabled","rotateEnabled"]),U.setGet(t,e,["interactorStyle"]),G_(t,e)}var z_={extend:j_};function W_(t,e){e.classHierarchy.push("vtkGestureCameraManipulator"),t.onStartPinch=function(a,r){e.previousScale=r},t.onStartRotate=function(a,r){e.previousRotation=r},t.onStartPan=function(a,r){e.previousTranslation=r},t.onPinch=function(a,r,n){Eo.dollyByFactor(a,r,n/e.previousScale),e.previousScale=n},t.onPan=function(a,r,n){var i=r.getActiveCamera(),u=a.getInteractorStyle(),o=i.getFocalPoint();o=u.computeWorldToDisplay(r,o[0],o[1],o[2]);var f=o[2],s=n,l=e.previousTranslation,c=u.computeDisplayToWorld(r,o[0]+s[0]-l[0],o[1]+s[1]-l[1],f),p=u.computeDisplayToWorld(r,o[0],o[1],f),h=[];h[0]=p[0]-c[0],h[1]=p[1]-c[1],h[2]=p[2]-c[2],o=i.getFocalPoint();var g=i.getPosition();i.setFocalPoint(h[0]+o[0],h[1]+o[1],h[2]+o[2]),i.setPosition(h[0]+g[0],h[1]+g[1],h[2]+g[2]),a.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera(),i.orthogonalizeViewUp(),e.previousTranslation=n},t.onRotate=function(a,r,n){var i=r.getActiveCamera();i.roll(n-e.previousRotation),i.orthogonalizeViewUp(),e.previousRotation=n}}var I_={};function kv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,I_,a),U.obj(t,e),z_.extend(t,e,a),da.extend(t,e,a),W_(t,e)}var $_=U.newInstance(kv,"vtkGestureCameraManipulator"),H_={newInstance:$_,extend:kv};function Zf(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function Wi(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Zf(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Zf(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var K_=[-2,-1,-2,-1],X_={position:"absolute",zIndex:1,border:"2px solid #F44336",backgroundColor:"rgba(0, 0, 0, 0.1)",borderRadius:"4px",boxSizing:"border-box"};function q_(t,e){Object.keys(e).forEach(function(a){t.style[a]=e[a]})}function Y_(t,e){e.classHierarchy.push("vtkMouseBoxSelectionManipulator");var a=null,r=null,n=null,i=null,u=null,o=!1;function f(){return!n||!i?K_:[Math.min(n.x,i.x),Math.max(n.x,i.x),Math.min(n.y,i.y),Math.max(n.y,i.y)]}function s(){if(!(!a||!r)){var l=a.getSize(),c=ze(l,2),p=c[0],h=c[1],g=r.getBoundingClientRect(),y=g.width,m=g.height,x=f(),v=ze(x,4),d=v[0],w=v[1],C=v[2],S=v[3];u.style.left="".concat(y*d/p,"px"),u.style.top="".concat(m-m*S/h,"px"),u.style.width="".concat(y*(w-d)/p,"px"),u.style.height="".concat(m*(S-C)/h,"px")}}t.onButtonDown=function(l,c,p){if(n=p,e.renderSelection){var h;a||(a=l.getView()),!r&&(h=a)!==null&&h!==void 0&&h.getContainer&&(r=a.getContainer()),r||(r=e.container),u||(u=document.createElement("div"),q_(u,e.selectionStyle)),s(),r&&!o&&(o=!0,r.appendChild(u))}},t.onMouseMove=function(l,c,p){!n||!p||(i=p,t.invokeBoxSelectInput({view:a,container:r,selection:f()}),e.renderSelection&&s())},t.onButtonUp=function(l,c){!n||!i&&!e.boxChangeOnClick||(i||(i=n),t.invokeBoxSelectChange({view:a,container:r,selection:f()}),o&&(u.parentElement.removeChild(u),o=!1),a=null,r=null,n=null,i=null)}}function J_(t){return Wi(Wi({boxChangeOnClick:!1,renderSelection:!0},t),{},{selectionStyle:Wi(Wi({},X_),t.selectionStyle)})}function Lv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,J_(a)),vt(t,e),ya.extend(t,e,a),a0(t,e,"BoxSelectChange"),a0(t,e,"BoxSelectInput"),Tt(t,e,["renderSelection","boxChangeOnClick","selectionStyle","container"]),Y_(t,e)}var Z_=ot(Lv,"vtkMouseBoxSelectionManipulator"),Q_={newInstance:Z_,extend:Lv};function Qf(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function ba(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Qf(Object(a),!0).forEach(function(r){hi(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Qf(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function eD(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=Ue(t);if(e){var n=Ue(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Ot(this,a)}}var Br=le.createContext(null),zt=le.createContext(null),en=le.createContext(null),vi=le.createContext(null),Ct=le.createContext(null),tD={None:null,Pan:R_,Zoom:Mv,Roll:Ev,Rotate:_v,MultiRotate:O_,ZoomToMouse:U_,Select:Q_},rD={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},ti=function(t){Et(a,St.exports.Component);var e=eD(a);function a(r){var n;_t(this,a),(n=e.call(this,r)).containerRef=le.createRef(),n.renderWindow=r.renderWindow,n.renderer=r.renderer,n.camera=n.renderer.getActiveCamera(),n.openglRenderWindow=r.renderWindowView,n.interactor=r.interactor,n.defaultStyle=Eo.newInstance(),n.style=r.interactive?n.defaultStyle:null,n.axesActor=pT.newInstance(),n.orientationWidget=Hf.newInstance({actor:n.axesActor,interactor:n.interactor,parentRenderer:n.renderer}),n.orientationWidget.setViewportCorner(Hf.Corners.BOTTOM_LEFT),n.orientationWidget.setViewportSize(.15),n.orientationWidget.setMinPixelSize(100),n.orientationWidget.setMaxPixelSize(300),n.selector=qo.newInstance({captureZValues:!0}),n.selector.setFieldAssociation(Gp.FIELD_ASSOCIATION_POINTS),n.selector.attach(n.openglRenderWindow,n.renderer),n.renderView=function(){n.updateCubeBounds(),n.renderWindow.render()},n.resetCamera=n.resetCamera.bind(ta(n));var i=We.newInstance({bounds:[0,0,0,0,0,0]});n.updateCubeBounds=function(){if(n.props.showCubeAxes){i.reset();for(var o=n.renderer.get("props").props,f=0;f<o.length;f++){var s=o[f];s.getVisibility()&&s.getUseBounds()&&s!==n.cubeAxes&&i.addBounds.apply(i,Ht(s.getBounds()))}n.cubeAxes&&n.cubeAxes.setDataBounds(i.getBounds())}},n.debouncedCubeBounds=o0(n.updateCubeBounds,50),n.setInteractorStyle=function(o){n.props.interactive&&(n.style=o,n.interactor.setInteractorStyle(o))},n.hasFocus=!1,n.handleKey=function(o){n.hasFocus&&o.code==="KeyR"&&r.keybindResetCamera&&n.resetCamera()},n.onEnter=function(){n.hasFocus=!0},n.onLeave=function(){n.hasFocus=!1};var u=function(o,f,s,l){var c=s.x,p=s.y;if(n.props.pickingModes.indexOf(f)!==-1){var h=n.getPointerSizeTolerance(),g=n.pickClosest(Math.floor(c),Math.floor(p),h);o&&o(g[0],l),"setProps"in n.props&&n.props.setProps(hi({},"".concat(f,"Info"),g[0]))}};return n.hover=o0(function(o,f){var s=o.x,l=o.y;if(n.props.pickingModes.indexOf("hover")!==-1){var c=n.getPointerSizeTolerance(),p=n.pickClosest(Math.floor(s),Math.floor(l),c);n.lastSelection.length===0&&p.length===0||(n.lastSelection=p,n.props.onHover&&n.props.onHover(p[0],f),"setProps"in n.props&&n.props.setProps({hoverInfo:p[0]}))}},10),n.onClick=function(o){return u(n.props.onClick,"click",n.getScreenEventPositionFor(o),o)},n.onMouseDown=function(o){return u(n.props.onMouseDown,"mouseDown",n.getScreenEventPositionFor(o),o)},n.onMouseUp=function(o){return u(n.props.onMouseUp,"mouseUp",n.getScreenEventPositionFor(o),o)},n.onMouseMove=function(o){n.props.pickingModes.indexOf("hover")!==-1&&n.hover(n.getScreenEventPositionFor(o),o)},n.lastSelection=[],n.onBoxSelectChange=function(o){var f=o.selection;if(n.props.pickingModes.indexOf("select")!==-1){var s=zf(f,4),l=s[0],c=s[1],p=s[2],h=s[3],g=n.pick(l,p,c,h,!0);n.props.onSelect&&n.props.onSelect(g,event),"setProps"in n.props&&n.props.setProps({selectInfo:g})}},n.props.showCubeAxes&&n.initCubeAxes(),n.subscriptions=[],n.subscriptions.push(n.renderer.onEvent(function(o){var f=o.type;o.renderer&&f==="ComputeVisiblePropBoundsEvent"&&n.debouncedCubeBounds()})),n}return Dt(a,[{key:"initCubeAxes",value:function(){this.cubeAxes=Nu.newInstance({visibility:!1,dataBounds:[-1,1,-1,1,-1,1]}),Array.from(this.cubeAxes.getActors()).forEach(function(r){return(0,r.setVisibility)(!1)}),this.cubeAxes.setCamera(this.camera),this.renderer.addActor(this.cubeAxes)}},{key:"getPointerSizeTolerance",value:function(){return this.props.pointerSize/2}},{key:"getScreenEventPositionFor",value:function(r){var n=this.openglRenderWindow.getCanvas().getBoundingClientRect(),i=this.openglRenderWindow.getSize(),u=zf(i,2),o=u[0],f=u[1],s=o/n.width,l=f/n.height;return{x:s*(r.clientX-n.left),y:l*(n.height-r.clientY+n.top),z:0}}},{key:"render",value:function(){var r=this.props,n=r.id,i=r.children,u=r.style,o=r.className;return le.createElement("div",{key:n,id:n,className:o,style:ba({position:"relative"},u),onMouseEnter:this.onEnter,onMouseLeave:this.onLeave,onClick:this.onClick,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove},le.createElement("div",{style:rD,ref:this.containerRef}),le.createElement(Br.Provider,{value:this},i))}},{key:"componentDidMount",value:function(){var r=this,n=this.containerRef.current;document.addEventListener("keyup",this.handleKey),n.addEventListener("mousedown",this.onMouseDown),this.update(this.props),this.resetCamera(),this.firstResetTimeout=setTimeout(function(){return r.resetCamera()},100)}},{key:"componentDidUpdate",value:function(r,n,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){for(this.debouncedCubeBounds&&this.debouncedCubeBounds.cancel(),this.hover&&this.hover.cancel(),clearTimeout(this.resetCameraTimeout),clearTimeout(this.renderViewTimeout),clearTimeout(this.firstResetTimeout);this.subscriptions.length;)this.subscriptions.pop().unsubscribe();this.containerRef.current.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("keyup",this.handleKey),this.selector.delete(),this.orientationWidget.delete(),this.interactor.getInteractorStyle()!==this.style&&this.interactor.getInteractorStyle()!==this.defaultStyle||this.interactor.setInteractorStyle(null),this.style.delete(),this.defaultStyle.delete(),this.defaultStyle=null,this.style=null,this.renderer=null,this.selector=null,this.orientationWidget=null}},{key:"update",value:function(r,n){var i,u,o,f=r.background,s=r.interactorSettings,l=r.interactive,c=r.cameraPosition,p=r.cameraViewUp,h=r.cameraFocalPoint,g=r.cameraParallelProjection,y=r.autoResetCamera,m=r.triggerRender,x=r.triggerResetCamera,v=r.showCubeAxes,d=r.cubeAxesStyle,w=r.showOrientationAxes;!f||n&&f===n.background||this.renderer.setBackground(f),!l||!s||n&&s===n.interactorSettings||(i=this.style,u=s,o=this,i.removeAllMouseManipulators(),u.forEach(function(C){var S=tD[C.action];if(S){var T=C.button,_=C.shift,D=C.control,b=C.alt,E=C.scrollEnabled,N=C.dragEnabled,R=C.useWorldUpVec,M=C.worldUpVec,G=C.useFocalPointAsCenterOfRotation,j=S.newInstance();j.setButton(T),j.setShift(!!_),j.setControl(!!D),j.setAlt(!!b),E!==void 0&&j.setScrollEnabled(E),N!==void 0&&j.setDragEnabled(N),i.addMouseManipulator(j),j.onBoxSelectChange&&o.onBoxSelectChange&&j.onBoxSelectChange(o.onBoxSelectChange),R!==void 0&&j.setUseWorldUpVec(R),M!==void 0&&j.setWorldUpVec(M),G!==void 0&&j.setUseFocalPointAsCenterOfRotation(G)}}),i.addGestureManipulator(H_.newInstance())),!g||n&&g===n.cameraParallelProjection||(this.renderer.getActiveCamera().setParallelProjection(g),n&&y&&this.resetCamera()),(!c||n&&JSON.stringify(c)===JSON.stringify(n.cameraPosition))&&(!p||n&&JSON.stringify(p)===JSON.stringify(n.cameraViewUp))&&(!h||n&&JSON.stringify(h)===JSON.stringify(n.cameraFocalPoint))||(this.renderer.getActiveCamera().set({position:c,viewUp:p,focalPoint:h}),n&&y&&this.resetCamera()),this.props.showCubeAxes&&(this.cubeAxes==null&&this.initCubeAxes(),this.cubeAxes.setVisibility(v)&&(Array.from(this.cubeAxes.getActors()).forEach(function(C){return(0,C.setVisibility)(v)}),this.renderView()),this.cubeAxes.set(d||{})&&this.renderView()),w!==this.orientationWidget.getEnabled()&&this.orientationWidget.setEnabled(w),n&&m!==n.triggerRender&&(this.renderViewTimeout=setTimeout(this.renderView,0)),n&&x!==n.triggerResetCamera&&(this.resetCameraTimeout=setTimeout(this.resetCamera,0))}},{key:"resetCamera",value:function(){this.renderer.resetCamera(),this.props.interactive&&this.style.setCenterOfRotation(this.renderer.getActiveCamera().getFocalPoint()),this.renderWindow.render()}},{key:"pickClosest",value:function(r,n,i){var u=Math.floor(r-i),o=Math.floor(n-i),f=Math.ceil(r+i),s=Math.ceil(n+i);if(this.selector.setArea(u,o,f,s),this.previousSelectedData=null,this.selector.captureBuffers()){var l=[r,n],c=this.selector.getPixelInformation(l,i,[0,0]);if(c==null||c.prop==null)return[];var p=this.openglRenderWindow.displayToWorld(Math.round((u+f)/2),Math.round((o+s)/2),0,this.renderer),h=this.openglRenderWindow.displayToWorld(Math.round((u+f)/2),Math.round((o+s)/2),1,this.renderer),g=[Array.from(p),Array.from(h)],y=Array.from(this.openglRenderWindow.displayToWorld(c.displayPosition[0],c.displayPosition[1],c.zValue,this.renderer)),m=[c.displayPosition[0],c.displayPosition[1],c.zValue],x=[];return x[0]=ba(ba({worldPosition:y,displayPosition:m,compositeID:c.compositeID},c.prop.get("representationId")),{},{ray:g}),x}return[]}},{key:"pick",value:function(r,n,i,u){var o=this,f=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(this.selector.setArea(r,n,i,u),this.previousSelectedData=null,this.selector.captureBuffers()){if(this.selections=this.selector.generateSelection(r,n,i,u)||[],f){var s=[Array.from(this.openglRenderWindow.displayToWorld(r,n,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(i,n,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(i,u,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(r,u,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(r,n,1,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(i,n,1,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(i,u,1,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(r,u,1,this.renderer))],l=[];return this.selections.forEach(function(p){var h=p.getProperties().prop,g=h==null?void 0:h.get("representationId").representationId;g&&l.push(g)}),{frustrum:s,representationIds:l}}var c=[Array.from(this.openglRenderWindow.displayToWorld(Math.round((r+i)/2),Math.round((n+u)/2),0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(Math.round((r+i)/2),Math.round((n+u)/2),1,this.renderer))];return this.selections.map(function(p){var h=p.getProperties(),g=h.prop,y=h.compositeID,m=h.displayPosition;return g!=null&&ba(ba({worldPosition:Array.from(o.openglRenderWindow.displayToWorld(m[0],m[1],m[2],o.renderer)),displayPosition:m,compositeID:y},g.get("representationId")),{},{ray:c})}).filter(Boolean)}return[]}}]),a}();ti.defaultProps={style:{width:"100%",height:"100%"},background:[.2,.3,.4],cameraPosition:[0,0,1],cameraViewUp:[0,1,0],cameraFocalPoint:[0,0,0],autoResetCamera:!0,cameraParallelProjection:!1,triggerRender:0,triggerResetCamera:0,interactorSettings:[{button:1,action:"Rotate"},{button:2,action:"Pan"},{button:3,action:"Zoom",scrollEnabled:!0},{button:1,action:"Pan",alt:!0},{button:1,action:"Zoom",control:!0},{button:1,action:"Select",shift:!0},{button:1,action:"Roll",alt:!0,shift:!0}],interactive:!0,pickingModes:[],showCubeAxes:!1,pointerSize:0,showOrientationAxes:!1,keybindResetCamera:!0},ti.propTypes={id:q.string,style:q.object,className:q.string,background:q.array,interactorSettings:q.array,interactive:q.bool,cameraPosition:q.array,cameraFocalPoint:q.array,cameraViewUp:q.array,cameraParallelProjection:q.bool,autoResetCamera:q.bool,triggerRender:q.number,triggerResetCamera:q.number,children:q.oneOfType([q.arrayOf(q.node),q.node]),pickingModes:q.arrayOf(q.oneOf(["click","hover","select","mouseDown","mouseUp"])),onClick:q.func,clickInfo:q.object,onMouseDown:q.func,mouseDownInfo:q.object,onMouseUp:q.func,mouseUpInfo:q.object,onHover:q.func,hoverInfo:q.object,onSelect:q.func,selectInfo:q.object,pointerSize:q.number,showCubeAxes:q.bool,cubeAxesStyle:q.object,showOrientationAxes:q.bool,keybindResetCamera:q.bool};var nD={int32:Int32Array,int16:Int16Array,int8:Int8Array,uint32:Uint32Array,uint16:Uint16Array,uint8:Uint8Array,float32:Float32Array,float64:Float64Array};function Wn(t,e){if(!t)return null;if(Array.isArray(t))return e.from(t);if(t.dtype){var a=t.bvals,r=t.dtype,n=Qo.toArrayBuffer(a);return new nD[r](n)}return t}function Fv(t,e){return!(!t||t.length!==2||!e||e.length!==2)&&t[0]===e[0]&&t[1]===e[1]}function el(t,e){for(var a in t)if(!(a in e)||t[a]!==e[a])return!1;return!0}function aD(t,e){if(t.length!==e.length)return!1;for(var a=0;a<t.length;a++)if(t[a]!==e[a])return!1;return!0}function tl(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Nr(t,e){return Lr(t)===Lr(e)&&(tl(t)&&tl(e)?aD(t,e):Lr(t)==="object"&&t&&e?el(t,e)&&el(e,t):t===e)}var iD={RGB:0,HSV:1,LAB:2,DIVERGING:3},oD={LINEAR:0,LOG10:1},Uu={ColorSpace:iD,Scale:oD};function rl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function sD(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?rl(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):rl(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var nr=Uu.ColorSpace,Av=Uu.Scale,Ii=Ko.ScalarMappingTarget,uD=U.vtkDebugMacro,Sr=U.vtkErrorMacro,cD=U.vtkWarningMacro;function nl(t,e){var a=t[0],r=t[1],n=t[2],i=Math.sqrt(a*a+r*r+n*n),u=i>.001?Math.acos(a/i):0,o=u>.001?Math.atan2(n,r):0;e[0]=i,e[1]=u,e[2]=o}function fD(t,e){var a=t[0],r=t[1],n=t[2];e[0]=a*Math.cos(r),e[1]=a*Math.sin(r)*Math.cos(n),e[2]=a*Math.sin(r)*Math.sin(n)}function al(t,e){if(t[0]>=e-.1)return t[2];var a=t[1]*Math.sqrt(e*e-t[0]*t[0])/(t[0]*Math.sin(t[1]));return t[2]>-.3*Math.PI?t[2]+a:t[2]-a}function lD(t,e){var a=t-e;for(a<0&&(a=-a);a>=2*Math.PI;)a-=2*Math.PI;return a>Math.PI&&(a=2*Math.PI-a),a}function il(t,e,a,r){var n=[],i=[];Hn(e,n),Hn(a,i);var u=[],o=[];nl(n,u),nl(i,o);var f=t;if(u[1]>.05&&o[1]>.05&&lD(u[2],o[2])>.33*Math.PI){var s=Math.max(u[0],o[0]);s=Math.max(88,s),t<.5?(o[0]=s,o[1]=0,o[2]=0,f*=2):(u[0]=s,u[1]=0,u[2]=0,f=2*f-1)}u[1]<.05&&o[1]>.05?u[2]=al(o,u[0]):o[1]<.05&&u[1]>.05&&(o[2]=al(u,o[0]));var l=[];l[0]=(1-f)*u[0]+f*o[0],l[1]=(1-f)*u[1]+f*o[1],l[2]=(1-f)*u[2]+f*o[2];var c=[];fD(l,c),u0(c,r)}function pD(t,e){e.classHierarchy.push("vtkColorTransferFunction"),t.getSize=function(){return e.nodes.length},t.addRGBPoint=function(a,r,n,i){return t.addRGBPointLong(a,r,n,i,.5,0)},t.addRGBPointLong=function(a,r,n,i){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(u<0||u>1)return Sr("Midpoint outside range [0.0, 1.0]"),-1;if(o<0||o>1)return Sr("Sharpness outside range [0.0, 1.0]"),-1;e.allowDuplicateScalars||t.removePoint(a);var f={x:a,r,g:n,b:i,midpoint:u,sharpness:o};e.nodes.push(f),t.sortAndUpdateRange();for(var s=0;s<e.nodes.length&&e.nodes[s].x!==a;s++);return s<e.nodes.length?s:-1},t.addHSVPoint=function(a,r,n,i){return t.addHSVPointLong(a,r,n,i,.5,0)},t.addHSVPointLong=function(a,r,n,i){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,f=[],s=[r,n,i];return Pn(s,f),t.addRGBPoint(a,f[0],f[1],f[2],u,o)},t.setNodes=function(a){if(e.nodes!==a){var r=JSON.stringify(e.nodes);e.nodes=a;var n=JSON.stringify(e.nodes);if(t.sortAndUpdateRange()||r!==n)return t.modified(),!0}return!1},t.sortAndUpdateRange=function(){var a=JSON.stringify(e.nodes);e.nodes.sort(function(i,u){return i.x-u.x});var r=JSON.stringify(e.nodes),n=t.updateRange();return!n&&a!==r?(t.modified(),!0):n},t.updateRange=function(){var a=[2];a[0]=e.mappingRange[0],a[1]=e.mappingRange[1];var r=e.nodes.length;return r?(e.mappingRange[0]=e.nodes[0].x,e.mappingRange[1]=e.nodes[r-1].x):(e.mappingRange[0]=0,e.mappingRange[1]=0),a[0]===e.mappingRange[0]&&a[1]===e.mappingRange[1]?!1:(t.modified(),!0)},t.removePoint=function(a){for(var r=0;r<e.nodes.length&&e.nodes[r].x!==a;r++);var n=r;if(r>=e.nodes.length)return-1;var i=!1;return e.nodes.splice(r,1),(r===0||r===e.nodes.length)&&(i=t.updateRange()),i||t.modified(),n},t.movePoint=function(a,r){if(a!==r){t.removePoint(r);for(var n=0;n<e.nodes.length;n++)if(e.nodes[n].x===a){e.nodes[n].x=r,t.sortAndUpdateRange();break}}},t.removeAllPoints=function(){e.nodes=[],t.sortAndUpdateRange()},t.addRGBSegment=function(a,r,n,i,u,o,f,s){t.sortAndUpdateRange();for(var l=0;l<e.nodes.length;)e.nodes[l].x>=a&&e.nodes[l].x<=u?e.nodes.splice(l,1):l++;t.addRGBPointLong(a,r,n,i,.5,0),t.addRGBPointLong(u,o,f,s,.5,0),t.modified()},t.addHSVSegment=function(a,r,n,i,u,o,f,s){var l=[r,n,i],c=[o,f,s],p=[],h=[];Pn(l,p),Pn(c,h),t.addRGBSegment(a,p[0],p[1],p[2],u,h[0],h[1],h[2])},t.mapValue=function(a){var r=[];return t.getColor(a,r),[Math.floor(255*r[0]+.5),Math.floor(255*r[1]+.5),Math.floor(255*r[2]+.5),255]},t.getColor=function(a,r){if(e.indexedLookup){var n=t.getSize(),i=t.getAnnotatedValueIndexInternal(a);if(i<0||n===0)t.getNanColor(r);else{var u=[];t.getNodeValue(i%n,u),r[0]=u.r,r[1]=u.g,r[2]=u.b}return}t.getTable(a,a,1,r)},t.getRedValue=function(a){var r=[];return t.getColor(a,r),r[0]},t.getGreenValue=function(a){var r=[];return t.getColor(a,r),r[1]},t.getBlueValue=function(a){var r=[];return t.getColor(a,r),r[2]},t.getTable=function(a,r,n,i){var u=Number(a),o=Number(r);if(po(u)||po(o)){for(var f=0;f<n;f++)i[f*3+0]=e.nanColor[0],i[f*3+1]=e.nanColor[1],i[f*3+2]=e.nanColor[2];return}var s=0,l=e.nodes.length,c=0,p=0,h=0;l!==0&&(c=e.nodes[l-1].r,p=e.nodes[l-1].g,h=e.nodes[l-1].b);var g=0,y=0,m=0,x=[0,0,0],v=[0,0,0],d=0,w=0,C=[],S=e.scale===Av.LOG10;S&&(S=e.mappingRange[0]>0);var T=0,_=0,D=0;S&&(T=Math.log10(u),_=Math.log10(o));for(var b=0;b<n;b++){var E=3*b;if(n>1?S?(D=T+b/(n-1)*(_-T),g=Math.pow(10,D)):g=u+b/(n-1)*(o-u):S?(D=.5*(T+_),g=Math.pow(10,D)):g=.5*(u+o),e.discretize){var N=e.mappingRange;if(g>=N[0]&&g<=N[1]){var R=e.numberOfValues,M=N[1]-N[0];if(R<=1)g=N[0]+M/2;else{var G=(g-N[0])/M,j=fo(R*G);g=N[0]+j/(R-1)*M}}}for(;s<l&&g>e.nodes[s].x;)s++,s<l&&(y=e.nodes[s-1].x,m=e.nodes[s].x,S&&(y=Math.log10(y),m=Math.log10(m)),x[0]=e.nodes[s-1].r,v[0]=e.nodes[s].r,x[1]=e.nodes[s-1].g,v[1]=e.nodes[s].g,x[2]=e.nodes[s-1].b,v[2]=e.nodes[s].b,d=e.nodes[s-1].midpoint,w=e.nodes[s-1].sharpness,d<1e-5&&(d=1e-5),d>.99999&&(d=.99999));if(g>e.mappingRange[1])i[E]=0,i[E+1]=0,i[E+2]=0,e.clamping&&(t.getUseAboveRangeColor()?(i[E]=e.aboveRangeColor[0],i[E+1]=e.aboveRangeColor[1],i[E+2]=e.aboveRangeColor[2]):(i[E]=c,i[E+1]=p,i[E+2]=h));else if(g<e.mappingRange[0]||Sy(g)&&g<0)i[E]=0,i[E+1]=0,i[E+2]=0,e.clamping&&(t.getUseBelowRangeColor()?(i[E]=e.belowRangeColor[0],i[E+1]=e.belowRangeColor[1],i[E+2]=e.belowRangeColor[2]):l>0&&(i[E]=e.nodes[0].r,i[E+1]=e.nodes[0].g,i[E+2]=e.nodes[0].b));else if(s===0&&(Math.abs(g-u)<1e-6||e.discretize))l>0?(i[E]=e.nodes[0].r,i[E+1]=e.nodes[0].g,i[E+2]=e.nodes[0].b):(i[E]=0,i[E+1]=0,i[E+2]=0);else{var z=0;if(S?z=(D-y)/(m-y):z=(g-y)/(m-y),z<d?z=.5*z/d:z=.5+.5*(z-d)/(1-d),w>.99)if(z<.5){i[E]=x[0],i[E+1]=x[1],i[E+2]=x[2];continue}else{i[E]=v[0],i[E+1]=v[1],i[E+2]=v[2];continue}if(w<.01){if(e.colorSpace===nr.RGB)i[E]=(1-z)*x[0]+z*v[0],i[E+1]=(1-z)*x[1]+z*v[1],i[E+2]=(1-z)*x[2]+z*v[2];else if(e.colorSpace===nr.HSV){var V=[],L=[];Ci(x,V),Ci(v,L),e.hSVWrap&&(V[0]-L[0]>.5||L[0]-V[0]>.5)&&(V[0]>L[0]?V[0]-=1:L[0]-=1);var B=[];B[0]=(1-z)*V[0]+z*L[0],B[0]<0&&(B[0]+=1),B[1]=(1-z)*V[1]+z*L[1],B[2]=(1-z)*V[2]+z*L[2],Pn(B,C),i[E]=C[0],i[E+1]=C[1],i[E+2]=C[2]}else if(e.colorSpace===nr.LAB){var $=[],H=[];Hn(x,$),Hn(v,H);var X=[];X[0]=(1-z)*$[0]+z*H[0],X[1]=(1-z)*$[1]+z*H[1],X[2]=(1-z)*$[2]+z*H[2],u0(X,C),i[E]=C[0],i[E+1]=C[1],i[E+2]=C[2]}else e.colorSpace===nr.DIVERGING?(il(z,x,v,C),i[E]=C[0],i[E+1]=C[1],i[E+2]=C[2]):Sr("ColorSpace set to invalid value.",e.colorSpace);continue}z<.5?z=.5*Math.pow(z*2,1+10*w):z>.5&&(z=1-.5*Math.pow((1-z)*2,1+10*w));var Z=z*z,Y=Z*z,J=2*Y-3*Z+1,ne=-2*Y+3*Z,ee=Y-2*Z+z,te=Y-Z,k=void 0,O=void 0;if(e.colorSpace===nr.RGB)for(var A=0;A<3;A++)k=v[A]-x[A],O=(1-w)*k,i[E+A]=J*x[A]+ne*v[A]+ee*O+te*O;else if(e.colorSpace===nr.HSV){var F=[],P=[];Ci(x,F),Ci(v,P),e.hSVWrap&&(F[0]-P[0]>.5||P[0]-F[0]>.5)&&(F[0]>P[0]?F[0]-=1:P[0]-=1);for(var I=[],W=0;W<3;W++)k=P[W]-F[W],O=(1-w)*k,I[W]=J*F[W]+ne*P[W]+ee*O+te*O,W===0&&I[W]<0&&(I[W]+=1);Pn(I,C),i[E]=C[0],i[E+1]=C[1],i[E+2]=C[2]}else if(e.colorSpace===nr.LAB){var Q=[],re=[];Hn(x,Q),Hn(v,re);for(var oe=[],ue=0;ue<3;ue++)k=re[ue]-Q[ue],O=(1-w)*k,oe[ue]=J*Q[ue]+ne*re[ue]+ee*O+te*O;u0(oe,C),i[E]=C[0],i[E+1]=C[1],i[E+2]=C[2]}else e.colorSpace===nr.DIVERGING?(il(z,x,v,C),i[E]=C[0],i[E+1]=C[1],i[E+2]=C[2]):Sr("ColorSpace set to invalid value.");for(var ve=0;ve<3;ve++)i[E+ve]=i[E+ve]<0?0:i[E+ve],i[E+ve]=i[E+ve]>1?1:i[E+ve]}}},t.getUint8Table=function(a,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t.getMTime()<=e.buildTime&&e.tableSize===n&&e.tableWithAlpha!==i)return e.table;if(e.nodes.length===0)return Sr("Attempting to lookup a value with no points in the function"),e.table;var u=i?4:3;(e.tableSize!==n||e.tableWithAlpha!==i)&&(e.table=new Uint8Array(n*u),e.tableSize=n,e.tableWithAlpha=i);var o=[];t.getTable(a,r,n,o);for(var f=0;f<n;f++)e.table[f*u+0]=Math.floor(o[f*3+0]*255+.5),e.table[f*u+1]=Math.floor(o[f*3+1]*255+.5),e.table[f*u+2]=Math.floor(o[f*3+2]*255+.5),i&&(e.table[f*u+3]=255);return e.buildTime.modified(),e.table},t.buildFunctionFromArray=function(a){t.removeAllPoints();for(var r=a.getNumberOfComponents(),n=0;n<a.getNumberOfTuples();n++)switch(r){case 3:{e.nodes.push({x:n,r:a.getComponent(n,0),g:a.getComponent(n,1),b:a.getComponent(n,2),midpoint:.5,sharpness:0});break}case 4:{e.nodes.push({x:a.getComponent(n,0),r:a.getComponent(n,1),g:a.getComponent(n,2),b:a.getComponent(n,3),midpoint:.5,sharpness:0});break}case 5:{e.nodes.push({x:n,r:a.getComponent(n,0),g:a.getComponent(n,1),b:a.getComponent(n,2),midpoint:a.getComponent(n,4),sharpness:a.getComponent(n,5)});break}case 6:{e.nodes.push({x:a.getComponent(n,0),r:a.getComponent(n,1),g:a.getComponent(n,2),b:a.getComponent(n,3),midpoint:a.getComponent(n,4),sharpness:a.getComponent(n,5)});break}}t.sortAndUpdateRange()},t.buildFunctionFromTable=function(a,r,n,i){var u=0;t.removeAllPoints(),n>1&&(u=(r-a)/(n-1));for(var o=0;o<n;o++){var f={x:a+u*o,r:i[o*3],g:i[o*3+1],b:i[o*3+2],sharpness:0,midpoint:.5};e.nodes.push(f)}t.sortAndUpdateRange()},t.getNodeValue=function(a,r){return a<0||a>=e.nodes.length?(Sr("Index out of range!"),-1):(r[0]=e.nodes[a].x,r[1]=e.nodes[a].r,r[2]=e.nodes[a].g,r[3]=e.nodes[a].b,r[4]=e.nodes[a].midpoint,r[5]=e.nodes[a].sharpness,1)},t.setNodeValue=function(a,r){if(a<0||a>=e.nodes.length)return Sr("Index out of range!"),-1;var n=e.nodes[a].x;return e.nodes[a].x=r[0],e.nodes[a].r=r[1],e.nodes[a].g=r[2],e.nodes[a].b=r[3],e.nodes[a].midpoint=r[4],e.nodes[a].sharpness=r[5],n!==r[0]?t.sortAndUpdateRange():t.modified(),1},t.getNumberOfAvailableColors=function(){return e.indexedLookup&&t.getSize()?t.getSize():e.tableSize?e.tableSize:16777216},t.getIndexedColor=function(a,r){var n=t.getSize();if(n>0&&a>=0){var i=[];t.getNodeValue(a%n,i);for(var u=0;u<3;++u)r[u]=i[u+1];r[3]=1;return}t.getNanColor(r),r[3]=1},t.fillFromDataPointer=function(a,r){if(!(a<=0||!r)){t.removeAllPoints();for(var n=0;n<a;n++)t.addRGBPoint(r[n*4],r[n*4+1],r[n*4+2],r[n*4+3])}},t.setMappingRange=function(a,r){var n=[a,r],i=t.getRange();if(!(i[1]===n[1]&&i[0]===n[0])){if(n[1]===n[0]){Sr("attempt to set zero width color range");return}for(var u=(n[1]-n[0])/(i[1]-i[0]),o=n[0]-i[0]*u,f=0;f<e.nodes.length;++f)e.nodes[f].x=e.nodes[f].x*u+o;e.mappingRange[0]=n[0],e.mappingRange[1]=n[1],t.modified()}},t.adjustRange=function(a){var r=t.getRange(),n=[];r[0]<a[0]?(t.getColor(a[0],n),t.addRGBPoint(a[0],n[0],n[1],n[2])):(t.getColor(r[0],n),t.addRGBPoint(a[0],n[0],n[1],n[2])),r[1]>a[1]?(t.getColor(a[1],n),t.addRGBPoint(a[1],n[0],n[1],n[2])):(t.getColor(r[1],n),t.addRGBPoint(a[1],n[0],n[1],n[2])),t.sortAndUpdateRange();for(var i=0;i<e.nodes.length;)e.nodes[i].x>=a[0]&&e.nodes[i].x<=a[1]?e.nodes.splice(i,1):++i;return 1},t.estimateMinNumberOfSamples=function(a,r){var n=t.findMinimumXDistance();return Math.ceil((r-a)/n)},t.findMinimumXDistance=function(){if(e.nodes.length<2)return-1;for(var a=Number.MAX_VALUE,r=0;r<e.nodes.length-1;r++){var n=e.nodes[r+1].x-e.nodes[r].x;n<a&&(a=n)}return a},t.mapScalarsThroughTable=function(a,r,n,i){if(t.getSize()===0){uD("Transfer Function Has No Points!");return}e.indexedLookup?t.mapDataIndexed(a,r,n,i):t.mapData(a,r,n,i)},t.mapData=function(a,r,n,i){if(t.getSize()===0){cD("Transfer Function Has No Points!");return}var u=Math.floor(t.getAlpha()*255+.5),o=a.getNumberOfTuples(),f=a.getNumberOfComponents(),s=r.getData(),l=a.getData(),c=[];if(n===Ii.RGBA)for(var p=0;p<o;p++){var h=l[p*f+i];t.getColor(h,c),s[p*4]=Math.floor(c[0]*255+.5),s[p*4+1]=Math.floor(c[1]*255+.5),s[p*4+2]=Math.floor(c[2]*255+.5),s[p*4+3]=u}if(n===Ii.RGB)for(var g=0;g<o;g++){var y=l[g*f+i];t.getColor(y,c),s[g*3]=Math.floor(c[0]*255+.5),s[g*3+1]=Math.floor(c[1]*255+.5),s[g*3+2]=Math.floor(c[2]*255+.5)}if(n===Ii.LUMINANCE)for(var m=0;m<o;m++){var x=l[m*f+i];t.getColor(x,c),s[m]=Math.floor(c[0]*76.5+c[1]*150.45+c[2]*28.05+.5)}if(n===Ii.LUMINANCE_ALPHA)for(var v=0;v<o;v++){var d=l[v*f+i];t.getColor(d,c),s[v*2]=Math.floor(c[0]*76.5+c[1]*150.45+c[2]*28.05+.5),s[v*2+1]=u}},t.applyColorMap=function(a){var r=JSON.stringify(e.colorSpace);a.ColorSpace&&(e.colorSpace=nr[a.ColorSpace.toUpperCase()],e.colorSpace===void 0&&(Sr("ColorSpace ".concat(a.ColorSpace," not supported, using RGB instead")),e.colorSpace=nr.RGB));var n=r!==JSON.stringify(e.colorSpace),i=n||JSON.stringify(e.nanColor);if(a.NanColor)for(e.nanColor=[].concat(a.NanColor);e.nanColor.length<4;)e.nanColor.push(1);n=n||i!==JSON.stringify(e.nanColor);var u=n||JSON.stringify(e.nodes);if(a.RGBPoints){var o=a.RGBPoints.length;e.nodes=[];for(var f=.5,s=0,l=0;l<o;l+=4)e.nodes.push({x:a.RGBPoints[l],r:a.RGBPoints[l+1],g:a.RGBPoints[l+2],b:a.RGBPoints[l+3],midpoint:f,sharpness:s})}var c=t.sortAndUpdateRange(),p=!c&&(n||u!==JSON.stringify(e.nodes));return p&&t.modified(),c||p}}var hD={clamping:!0,colorSpace:nr.RGB,hSVWrap:!0,scale:Av.LINEAR,nanColor:null,belowRangeColor:null,aboveRangeColor:null,useAboveRangeColor:!1,useBelowRangeColor:!1,allowDuplicateScalars:!1,table:null,tableSize:0,buildTime:null,nodes:null,discretize:!1,numberOfValues:256};function Bv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,hD,a),Ko.extend(t,e,a),e.table=[],e.nodes=[],e.nanColor=[.5,0,0,1],e.belowRangeColor=[0,0,0,1],e.aboveRangeColor=[1,1,1,1],e.buildTime={},U.obj(e.buildTime),U.get(t,e,["buildTime","mappingRange"]),U.setGet(t,e,["useAboveRangeColor","useBelowRangeColor","colorSpace","discretize","numberOfValues"]),U.setArray(t,e,["nanColor","belowRangeColor","aboveRangeColor"],4),U.getArray(t,e,["nanColor","belowRangeColor","aboveRangeColor"]),pD(t,e)}var vD=U.newInstance(Bv,"vtkColorTransferFunction"),ma=sD({newInstance:vD,extend:Bv},Uu),$i=U.vtkErrorMacro;function gD(t,e){e.classHierarchy.push("vtkPiecewiseFunction"),t.getSize=function(){return e.nodes.length},t.getType=function(){var a,r=0,n=0;e.nodes.length>0&&(r=e.nodes[0].y);for(var i=1;i<e.nodes.length;i++){if(a=e.nodes[i].y,a!==r)if(a>r)switch(n){case 0:case 1:n=1;break;case 2:default:n=3;break}else switch(n){case 0:case 2:n=2;break;case 1:default:n=3;break}if(r=a,n===3)break}switch(n){case 0:return"Constant";case 1:return"NonDecreasing";case 2:return"NonIncreasing";case 3:default:return"Varied"}},t.getDataPointer=function(){var a=e.nodes.length;if(e.function=null,a>0){e.function=[];for(var r=0;r<a;r++)e.function[2*r]=e.nodes[r].x,e.function[2*r+1]=e.nodes[r].y}return e.function},t.getFirstNonZeroValue=function(){if(e.nodes.length===0)return 0;for(var a=1,r=0,n=0;n<e.nodes.length;n++)if(e.nodes[n].y!==0){a=0;break}return a?r=Number.MAX_VALUE:n>0?r=e.nodes[n-1].x:e.clamping?r=-Number.MAX_VALUE:r=e.nodes[0].x,r},t.getNodeValue=function(a,r){var n=e.nodes.length;return a<0||a>=n?($i("Index out of range!"),-1):(r[0]=e.nodes[a].x,r[1]=e.nodes[a].y,r[2]=e.nodes[a].midpoint,r[3]=e.nodes[a].sharpness,1)},t.setNodeValue=function(a,r){var n=e.nodes.length;if(a<0||a>=n)return $i("Index out of range!"),-1;var i=e.nodes[a].x;return e.nodes[a].x=r[0],e.nodes[a].y=r[1],e.nodes[a].midpoint=r[2],e.nodes[a].sharpness=r[3],i!==r[0]?t.sortAndUpdateRange():t.modified(),1},t.addPoint=function(a,r){return t.addPointLong(a,r,.5,0)},t.addPointLong=function(a,r,n,i){if(n<0||n>1)return $i("Midpoint outside range [0.0, 1.0]"),-1;if(i<0||i>1)return $i("Sharpness outside range [0.0, 1.0]"),-1;e.allowDuplicateScalars||t.removePoint(a);var u={x:a,y:r,midpoint:n,sharpness:i};e.nodes.push(u),t.sortAndUpdateRange();var o;for(o=0;o<e.nodes.length&&e.nodes[o].x!==a;o++);return o<e.nodes.length?o:-1},t.setNodes=function(a){e.nodes!==a&&(e.nodes=a,t.sortAndUpdateRange())},t.sortAndUpdateRange=function(){e.nodes.sort(function(r,n){return r.x-n.x});var a=t.updateRange();a||t.modified()},t.updateRange=function(){var a=e.range.slice(),r=e.nodes.length;return r?(e.range[0]=e.nodes[0].x,e.range[1]=e.nodes[r-1].x):(e.range[0]=0,e.range[1]=0),a[0]===e.range[0]&&a[1]===e.range[1]?!1:(t.modified(),!0)},t.removePoint=function(a){var r;for(r=0;r<e.nodes.length&&e.nodes[r].x!==a;r++);if(r>=e.nodes.length)return-1;var n=r,i=!1;return e.nodes.splice(r,1),(r===0||r===e.nodes.length)&&(i=t.updateRange()),i||t.modified(),n},t.removeAllPoints=function(){e.nodes=[],t.sortAndUpdateRange()},t.addSegment=function(a,r,n,i){t.sortAndUpdateRange();for(var u=0;u<e.nodes.length;)e.nodes[u].x>=a&&e.nodes[u].x<=n?e.nodes.splice(u,1):u++;t.addPoint(a,r,.5,0),t.addPoint(n,i,.5,0)},t.getValue=function(a){var r=[];return t.getTable(a,a,1,r),r[0]},t.adjustRange=function(a){if(a.length<2)return 0;var r=t.getRange();r[0]<a[0]?t.addPoint(a[0],t.getValue(a[0])):t.addPoint(a[0],t.getValue(r[0])),r[1]>a[1]?t.addPoint(a[1],t.getValue(a[1])):t.addPoint(a[1],t.getValue(r[1])),t.sortAndUpdateRange();for(var n=0;n<e.nodes.length;)e.nodes[n].x>=a[0]&&e.nodes[n].x<=a[1]?e.nodes.splice(n,1):++n;return t.sortAndUpdateRange(),1},t.estimateMinNumberOfSamples=function(a,r){var n=t.findMinimumXDistance();return Math.ceil((r-a)/n)},t.findMinimumXDistance=function(){var a=e.nodes.length;if(a<2)return-1;for(var r=e.nodes[1].x-e.nodes[0].x,n=0;n<a-1;n++){var i=e.nodes[n+1].x-e.nodes[n].x;i<r&&(r=i)}return r},t.getTable=function(a,r,n,i){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o,f=0,s=e.nodes.length,l=0;s!==0&&(l=e.nodes[s-1].y);var c=0,p=0,h=0,g=0,y=0,m=0,x=0;for(o=0;o<n;o++){var v=u*o;for(n>1?c=a+o/(n-1)*(r-a):c=.5*(a+r);f<s&&c>e.nodes[f].x;)f++,f<s&&(p=e.nodes[f-1].x,h=e.nodes[f].x,g=e.nodes[f-1].y,y=e.nodes[f].y,m=e.nodes[f-1].midpoint,x=e.nodes[f-1].sharpness,m<1e-5&&(m=1e-5),m>.99999&&(m=.99999));if(f>=s)i[v]=e.clamping?l:0;else if(f===0)i[v]=e.clamping?e.nodes[0].y:0;else{var d=(c-p)/(h-p);if(d<m?d=.5*d/m:d=.5+.5*(d-m)/(1-m),x>.99)if(d<.5){i[v]=g;continue}else{i[v]=y;continue}if(x<.01){i[v]=(1-d)*g+d*y;continue}d<.5?d=.5*Math.pow(d*2,1+10*x):d>.5&&(d=1-.5*Math.pow((1-d)*2,1+10*x));var w=d*d,C=w*d,S=2*C-3*w+1,T=-2*C+3*w,_=C-2*w+d,D=C-w,b=y-g,E=(1-x)*b;i[v]=S*g+T*y+_*E+D*E;var N=g<y?g:y,R=g>y?g:y;i[v]=i[v]<N?N:i[v],i[v]=i[v]>R?R:i[v]}}}}var dD={range:[0,0],clamping:!0,allowDuplicateScalars:!1};function Vv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,dD,a),U.obj(t,e),e.nodes=[],U.setGet(t,e,["allowDuplicateScalars","clamping"]),U.setArray(t,e,["range"],2),U.getArray(t,e,["range"]),gD(t,e)}var yD=U.newInstance(Vv,"vtkPiecewiseFunction"),ri={newInstance:yD,extend:Vv};function ol(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function mD(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?ol(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ol(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var Ba=su.InterpolationType,xD=su.OpacityMode,Is=U.vtkErrorMacro,no=4;function wD(t,e){e.classHierarchy.push("vtkVolumeProperty"),t.getMTime=function(){for(var n=e.mtime,i,u=0;u<no;u++)e.componentData[u].colorChannels===1?e.componentData[u].grayTransferFunction&&(i=e.componentData[u].grayTransferFunction.getMTime(),n=n>i?n:i):e.componentData[u].colorChannels===3&&e.componentData[u].rGBTransferFunction&&(i=e.componentData[u].rGBTransferFunction.getMTime(),n=n>i?n:i),e.componentData[u].scalarOpacity&&(i=e.componentData[u].scalarOpacity.getMTime(),n=n>i?n:i),e.componentData[u].gradientOpacity&&(e.componentData[u].disableGradientOpacity||(i=e.componentData[u].gradientOpacity.getMTime(),n=n>i?n:i));return n},t.getColorChannels=function(n){return n<0||n>3?(Is("Bad index - must be between 0 and 3"),0):e.componentData[n].colorChannels},t.setGrayTransferFunction=function(n,i){var u=!1;return e.componentData[n].grayTransferFunction!==i&&(e.componentData[n].grayTransferFunction=i,u=!0),e.componentData[n].colorChannels!==1&&(e.componentData[n].colorChannels=1,u=!0),u&&t.modified(),u},t.getGrayTransferFunction=function(n){return e.componentData[n].grayTransferFunction===null&&(e.componentData[n].grayTransferFunction=ri.newInstance(),e.componentData[n].grayTransferFunction.addPoint(0,0),e.componentData[n].grayTransferFunction.addPoint(1024,1),e.componentData[n].colorChannels!==1&&(e.componentData[n].colorChannels=1),t.modified()),e.componentData[n].grayTransferFunction},t.setRGBTransferFunction=function(n,i){var u=!1;return e.componentData[n].rGBTransferFunction!==i&&(e.componentData[n].rGBTransferFunction=i,u=!0),e.componentData[n].colorChannels!==3&&(e.componentData[n].colorChannels=3,u=!0),u&&t.modified(),u},t.getRGBTransferFunction=function(n){return e.componentData[n].rGBTransferFunction===null&&(e.componentData[n].rGBTransferFunction=ma.newInstance(),e.componentData[n].rGBTransferFunction.addRGBPoint(0,0,0,0),e.componentData[n].rGBTransferFunction.addRGBPoint(1024,1,1,1),e.componentData[n].colorChannels!==3&&(e.componentData[n].colorChannels=3),t.modified()),e.componentData[n].rGBTransferFunction},t.setScalarOpacity=function(n,i){return e.componentData[n].scalarOpacity!==i?(e.componentData[n].scalarOpacity=i,t.modified(),!0):!1},t.getScalarOpacity=function(n){return e.componentData[n].scalarOpacity===null&&(e.componentData[n].scalarOpacity=ri.newInstance(),e.componentData[n].scalarOpacity.addPoint(0,1),e.componentData[n].scalarOpacity.addPoint(1024,1),t.modified()),e.componentData[n].scalarOpacity},t.setComponentWeight=function(n,i){if(n<0||n>=no)return Is("Invalid index"),!1;var u=Math.min(1,Math.max(0,i));return e.componentData[n].componentWeight!==u?(e.componentData[n].componentWeight=u,t.modified(),!0):!1},t.getComponentWeight=function(n){return n<0||n>=no?(Is("Invalid index"),0):e.componentData[n].componentWeight},t.setInterpolationTypeToNearest=function(){return t.setInterpolationType(Ba.NEAREST)},t.setInterpolationTypeToLinear=function(){return t.setInterpolationType(Ba.LINEAR)},t.setInterpolationTypeToFastLinear=function(){return t.setInterpolationType(Ba.FAST_LINEAR)},t.getInterpolationTypeAsString=function(){return U.enumToString(Ba,e.interpolationType)};var a=["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity","opacityMode"];a.forEach(function(n){var i=U.capitalize(n);t["set".concat(i)]=function(u,o){return e.componentData[u]["".concat(n)]!==o?(e.componentData[u]["".concat(n)]=o,t.modified(),!0):!1}});var r=["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity","opacityMode"];r.forEach(function(n){var i=U.capitalize(n);t["get".concat(i)]=function(u){return e.componentData[u]["".concat(n)]}})}var CD={independentComponents:!0,interpolationType:Ba.FAST_LINEAR,shade:!1,ambient:.1,diffuse:.7,specular:.2,specularPower:10,useLabelOutline:!1,labelOutlineThickness:1,labelOutlineOpacity:1};function Uv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,CD,a),U.obj(t,e),!e.componentData){e.componentData=[];for(var r=0;r<no;++r)e.componentData.push({colorChannels:1,grayTransferFunction:null,rGBTransferFunction:null,scalarOpacity:null,scalarOpacityUnitDistance:1,opacityMode:xD.FRACTIONAL,gradientOpacityMinimumValue:0,gradientOpacityMinimumOpacity:0,gradientOpacityMaximumValue:1,gradientOpacityMaximumOpacity:1,useGradientOpacity:!1,componentWeight:1})}U.setGet(t,e,["independentComponents","interpolationType","shade","ambient","diffuse","specular","specularPower","useLabelOutline","labelOutlineThickness","labelOutlineOpacity"]),wD(t,e)}var SD=U.newInstance(Uv,"vtkVolumeProperty"),TD=mD({newInstance:SD,extend:Uv},su),_D=U.vtkDebugMacro;function DD(t,e){e.classHierarchy.push("vtkVolume"),t.getVolumes=function(){return t},t.makeProperty=TD.newInstance,t.getProperty=function(){return e.property===null&&(e.property=t.makeProperty()),e.property},t.getBounds=function(){if(e.mapper===null)return e.bounds;var a=e.mapper.getBounds();if(!a||a.length!==6)return a;if(a[0]>a[1])return e.mapperBounds=a.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),a;var r=function(o){return o[0].map(function(f,s){return o.map(function(l){return l[s]})})};if(!e.mapperBounds||!r([a,e.mapperBounds]).reduce(function(u,o){return u&&o[0]===o[1]},!0)||t.getMTime()>e.boundsMTime.getMTime()){_D("Recomputing bounds..."),e.mapperBounds=a.map(function(u){return u});var n=[];We.getCorners(a,n),t.computeMatrix();var i=new Float64Array(16);Ke(i,e.matrix),n.forEach(function(u){return Te(u,u,i)}),e.bounds[0]=e.bounds[2]=e.bounds[4]=Number.MAX_VALUE,e.bounds[1]=e.bounds[3]=e.bounds[5]=-Number.MAX_VALUE,e.bounds=e.bounds.map(function(u,o){return o%2===0?n.reduce(function(f,s){return f>s[o/2]?s[o/2]:f},u):n.reduce(function(f,s){return f<s[(o-1)/2]?s[(o-1)/2]:f},u)}),e.boundsMTime.modified()}return e.bounds},t.getMTime=function(){var a=e.mtime;if(e.property!==null){var r=e.property.getMTime();a=r>a?r:a}return a},t.getRedrawMTime=function(){var a=e.mtime;if(e.mapper!==null){var r=e.mapper.getMTime();a=r>a?r:a,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),r=e.mapper.getInput().getMTime(),a=r>a?r:a)}return a}}var ED={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1]};function Gv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ED,a),Su.extend(t,e,a),e.boundsMTime={},U.obj(e.boundsMTime),U.set(t,e,["property"]),U.setGet(t,e,["mapper"]),U.getArray(t,e,["bounds"],6),DD(t,e)}var OD=U.newInstance(Gv,"vtkVolume"),bD={newInstance:OD,extend:Gv};function sl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function Pv(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?sl(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):sl(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var Wr=q1.BlendMode,Va=q1.FilterMode;function ND(t,e,a,r,n){var i=null;return n?(i=n,i.removeAllPoints()):i=ri.newInstance(),i.addPointLong(-1024,0,1,1),i.addPoint(t,e),i.addPoint(a,r),i}var MD={createRadonTransferFunction:ND};function RD(t,e){e.classHierarchy.push("vtkVolumeMapper");var a=Pv({},t);t.getBounds=function(){var r=t.getInputData();return r?(e.static||t.update(),e.bounds=r.getBounds()):e.bounds=na(),e.bounds},t.update=function(){t.getInputData()},t.setBlendModeToComposite=function(){t.setBlendMode(Wr.COMPOSITE_BLEND)},t.setBlendModeToMaximumIntensity=function(){t.setBlendMode(Wr.MAXIMUM_INTENSITY_BLEND)},t.setBlendModeToMinimumIntensity=function(){t.setBlendMode(Wr.MINIMUM_INTENSITY_BLEND)},t.setBlendModeToAverageIntensity=function(){t.setBlendMode(Wr.AVERAGE_INTENSITY_BLEND)},t.setBlendModeToAdditiveIntensity=function(){t.setBlendMode(Wr.ADDITIVE_INTENSITY_BLEND)},t.setBlendModeToRadonTransform=function(){t.setBlendMode(Wr.RADON_TRANSFORM_BLEND)},t.getBlendModeAsString=function(){return U.enumToString(Wr,e.blendMode)},t.setAverageIPScalarRange=function(r,n){console.warn("setAverageIPScalarRange is deprecated use setIpScalarRange"),t.setIpScalarRange(r,n)},t.getFilterModeAsString=function(){return U.enumToString(Va,e.filterMode)},t.setFilterModeToOff=function(){t.setFilterMode(Va.OFF)},t.setFilterModeToNormalized=function(){t.setFilterMode(Va.NORMALIZED)},t.setFilterModeToRaw=function(){t.setFilterMode(Va.RAW)},t.setGlobalIlluminationReach=function(r){return a.setGlobalIlluminationReach(yr(r,0,1))},t.setVolumetricScatteringBlending=function(r){return a.setVolumetricScatteringBlending(yr(r,0,1))},t.setVolumeShadowSamplingDistFactor=function(r){return a.setVolumeShadowSamplingDistFactor(r>=1?r:1)},t.setAnisotropy=function(r){return a.setAnisotropy(yr(r,-.99,.99))},t.setLAOKernelSize=function(r){return a.setLAOKernelSize(fo(yr(r,1,32)))},t.setLAOKernelRadius=function(r){return a.setLAOKernelRadius(r>=1?r:1)}}var kD={bounds:[1,-1,1,-1,1,-1],sampleDistance:1,imageSampleDistance:1,maximumSamplesPerRay:1e3,autoAdjustSampleDistances:!0,blendMode:Wr.COMPOSITE_BLEND,ipScalarRange:[-1e6,1e6],filterMode:Va.OFF,preferSizeOverAccuracy:!1,computeNormalFromOpacity:!1,volumetricScatteringBlending:0,globalIlluminationReach:0,volumeShadowSamplingDistFactor:5,anisotropy:0,localAmbientOcclusion:!1,LAOKernelSize:15,LAOKernelRadius:7};function jv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,kD,a),$o.extend(t,e,a),U.setGet(t,e,["sampleDistance","imageSampleDistance","maximumSamplesPerRay","autoAdjustSampleDistances","blendMode","filterMode","preferSizeOverAccuracy","computeNormalFromOpacity","volumetricScatteringBlending","globalIlluminationReach","volumeShadowSamplingDistFactor","anisotropy","localAmbientOcclusion","LAOKernelSize","LAOKernelRadius"]),U.setGetArray(t,e,["ipScalarRange"],2),U.event(t,e,"lightingActivated"),RD(t,e)}var LD=U.newInstance(jv,"vtkVolumeMapper"),FD=Pv({newInstance:LD,extend:jv},MD),AD=[{Name:"KAAMS",IndexedColors:[1,1,1,1,0,0,0,1,0,0,0,1,1,1,0,1,0,1,0,1,1,.63,.63,1,.67,.5,.33,1,.5,.75,.53,.35,.7,1,.75,.5],Annotations:[0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11]},{ColorSpace:"Diverging",Name:"Cool to Warm",NanColor:[1,1,0],RGBPoints:[0,.23137254902,.298039215686,.752941176471,.5,.865,.865,.865,1,.705882352941,.0156862745098,.149019607843]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Cool to Warm (Extended)",NanColor:[.25,0,0],RGBPoints:[0,0,0,.34902,.03125,.039216,.062745,.380392,.0625,.062745,.117647,.411765,.09375,.090196,.184314,.45098,.125,.12549,.262745,.501961,.15625,.160784,.337255,.541176,.1875,.2,.396078,.568627,.21875,.239216,.454902,.6,.25,.286275,.521569,.65098,.28125,.337255,.592157,.701961,.3125,.388235,.654902,.74902,.34375,.466667,.737255,.819608,.375,.572549,.819608,.878431,.40625,.654902,.866667,.909804,.4375,.752941,.917647,.941176,.46875,.823529,.956863,.968627,.5,.988235,.960784,.901961,.5,.941176,.984314,.988235,.52,.988235,.945098,.85098,.54,.980392,.898039,.784314,.5625,.968627,.835294,.698039,.59375,.94902,.733333,.588235,.625,.929412,.65098,.509804,.65625,.909804,.564706,.435294,.6875,.878431,.458824,.352941,.71875,.839216,.388235,.286275,.75,.760784,.294118,.211765,.78125,.701961,.211765,.168627,.8125,.65098,.156863,.129412,.84375,.6,.094118,.094118,.875,.54902,.066667,.098039,.90625,.501961,.05098,.12549,.9375,.45098,.054902,.172549,.96875,.4,.054902,.192157,1,.34902,.070588,.211765]},{ColorSpace:"Diverging",Name:"Warm to Cool",NanColor:[1,1,0],RGBPoints:[0,.705882352941,.0156862745098,.149019607843,.5,.865,.865,.865,1,.23137254902,.298039215686,.752941176471]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Warm to Cool (Extended)",NanColor:[.250004,0,0],RGBPoints:[0,.34902,0,.129412,.025,.4,.00392157,.101961,.05,.470588,.0156863,.0901961,.075,.54902,.027451,.0705882,.1,.619608,.0627451,.0431373,.125,.690196,.12549,.0627451,.15,.741176,.184314,.0745098,.175,.788235,.266667,.0941176,.2,.811765,.345098,.113725,.225,.831373,.411765,.133333,.25,.85098,.47451,.145098,.275,.870588,.54902,.156863,.3,.878431,.619608,.168627,.325,.890196,.658824,.196078,.35,.909804,.717647,.235294,.375,.929412,.776471,.278431,.395522,.94902,.823529,.321569,.418905,.968627,.87451,.407843,.444278,.980392,.917647,.509804,.470149,.988235,.956863,.643137,.483582,.992157,.964706,.713725,.499,.988235,.980392,.870588,.5,1,1,1,.501,.913725,.988235,.937255,.516418,.827451,.980392,.886275,.531343,.764706,.980392,.866667,.546766,.658824,.980392,.843137,.564179,.572549,.964706,.835294,.587562,.423529,.941176,.87451,.60597,.262745,.901961,.862745,.629851,.0705882,.854902,.870588,.651741,.0509804,.8,.85098,.681592,.0235294,.709804,.831373,.712935,.0313725,.615686,.811765,.75,.0313725,.537255,.788235,.775,.0392157,.466667,.768627,.8,.0509804,.396078,.741176,.825,.054902,.317647,.709804,.85,.054902,.243137,.678431,.875,.0431373,.164706,.639216,.9,.0313725,.0980392,.6,.925,.0392157,.0392157,.560784,.95,.105882,.0509804,.509804,.975,.113725,.0235294,.45098,1,.12549,0,.380392]},{ColorSpace:"RGB",Name:"Rainbow Desaturated",NanColor:[1,1,0],RGBPoints:[0,.278431372549,.278431372549,.858823529412,.143,0,0,.360784313725,.285,0,1,1,.429,0,.501960784314,0,.571,1,1,0,.714,1,.380392156863,0,.857,.419607843137,0,0,1,.878431372549,.301960784314,.301960784314]},{ColorSpace:"RGB",Name:"Cold and Hot",NanColor:[1,1,0],RGBPoints:[0,0,1,1,.45,0,0,1,.5,0,0,.501960784314,.55,1,0,0,1,1,1,0]},{ColorSpace:"RGB",Name:"Black-Body Radiation",NanColor:[0,.498039215686,1],RGBPoints:[0,0,0,0,.4,.901960784314,0,0,.8,.901960784314,.901960784314,0,1,1,1,1]},{ColorSpace:"RGB",Name:"X Ray",NanColor:[1,0,0],RGBPoints:[0,1,1,1,1,0,0,0]},{ColorSpace:"RGB",Name:"Grayscale",NanColor:[1,0,0],RGBPoints:[0,0,0,0,1,1,1,1]},{ColorSpace:"RGB",Name:"BkRd",NanColor:[0,1,1],RGBPoints:[0,0,0,0,1,1,0,0]},{ColorSpace:"RGB",Name:"BkGn",NanColor:[1,0,1],RGBPoints:[0,0,0,0,1,0,1,0]},{ColorSpace:"RGB",Name:"BkBu",NanColor:[1,1,0],RGBPoints:[0,0,0,0,1,0,0,1]},{ColorSpace:"RGB",Name:"BkMa",NanColor:[0,1,0],RGBPoints:[0,0,0,0,1,1,0,1]},{ColorSpace:"RGB",Name:"BkCy",NanColor:[0,1,1],RGBPoints:[0,0,0,0,1,0,1,1]},{ColorSpace:"RGB",Name:"Black, Blue and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,0,0,.501960784314,.666,0,.501960784314,1,1,1,1,1]},{ColorSpace:"RGB",Name:"Black, Orange and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,.501960784314,0,0,.666,1,.501960784314,0,1,1,1,1]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Linear YGB 1211g",NanColor:[.25,0,0],RGBPoints:[0,1,.988235,.968627,.02,1,.952941,.878431,.05,.968627,.905882,.776471,.1,.94902,.898039,.647059,.15,.901961,.878431,.556863,.2,.847059,.858824,.482353,.25,.690196,.819608,.435294,.3,.513725,.768627,.384314,.35,.337255,.721569,.337255,.4,.278431,.658824,.392157,.45,.231373,.639216,.435294,.5,.203922,.6,.486275,.55,.172549,.568627,.537255,.6,.141176,.517647,.54902,.65,.133333,.458824,.541176,.7,.12549,.396078,.529412,.75,.117647,.321569,.521569,.8,.121569,.258824,.509804,.85,.133333,.227451,.501961,.9,.145098,.192157,.490196,.95,.188235,.164706,.470588,1,.258824,.196078,.439216]},{ColorSpace:"CIELAB",Creator:"Francesca Samsel",Name:"Linear Green (Gr4L)",NanColor:[.25,0,0],RGBPoints:[0,.054902,.109804,.121569,.05,.07451,.172549,.180392,.1,.086275,.231373,.219608,.15,.094118,.278431,.25098,.2,.109804,.34902,.278431,.25,.113725,.4,.278431,.3,.117647,.45098,.270588,.35,.117647,.490196,.243137,.4,.113725,.521569,.203922,.45,.109804,.54902,.152941,.5,.082353,.588235,.082353,.55,.109804,.631373,.05098,.6,.211765,.678431,.082353,.65,.317647,.721569,.113725,.7,.431373,.760784,.160784,.75,.556863,.8,.239216,.8,.666667,.839216,.294118,.85,.784314,.878431,.396078,.9,.886275,.921569,.533333,.95,.960784,.94902,.670588,1,1,.984314,.901961]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Linear Blue (8_31f)",NanColor:[.25,0,0],RGBPoints:[0,.960784,1,.980392,.05,.815686,.960784,.913725,.1,.670588,.929412,.870588,.15,.556863,.901961,.843137,.2,.478431,.870588,.823529,.25,.439216,.831373,.803922,.3,.4,.8,.788235,.35,.376471,.768627,.768627,.4,.34902,.709804,.729412,.45,.32549,.654902,.690196,.5,.301961,.607843,.658824,.55,.247059,.545098,.619608,.6,.239216,.494118,.580392,.65,.227451,.439216,.541176,.7,.227451,.403922,.521569,.75,.231373,.368627,.501961,.8,.227451,.321569,.470588,.85,.219608,.282353,.439216,.9,.192157,.235294,.4,.95,.160784,.184314,.34902,1,.133333,.12549,.301961]},{ColorSpace:"HSV",Name:"Blue to Red Rainbow",NanColor:[.498039215686,.498039215686,.498039215686],RGBPoints:[0,0,0,1,1,1,0,0]},{ColorSpace:"HSV",Name:"Red to Blue Rainbow",NanColor:[.498039215686,.498039215686,.498039215686],RGBPoints:[0,1,0,0,1,0,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended White",NanColor:[1,1,0],RGBPoints:[0,1,1,1,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended Grey",NanColor:[1,1,0],RGBPoints:[0,.317647058824,.341176470588,.43137254902,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended Black",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Blue to Yellow",NanColor:[1,0,0],RGBPoints:[0,.0392156862745,.0392156862745,.949019607843,1,.949019607843,.949019607843,.0392156862745]},{ColorSpace:"HSV",Name:"blot",RGBPoints:[0,0,0,1,.166,0,0,1,.167,1,0,1,.332,1,0,1,.333,0,1,1,.5,0,1,1,.501,0,1,0,.666,0,1,0,.667,1,1,0,.832,1,1,0,.833,1,0,0,1,1,0,0]},{ColorSpace:"Lab",Name:"CIELab Blue to Red",NanColor:[1,1,0],RGBPoints:[0,0,.6,.749019607843,1,.76862745098,.466666666667,.341176470588]},{ColorSpace:"RGB",Name:"jet",RGBPoints:[-1,0,0,.5625,-.777778,0,0,1,-.269841,0,1,1,-.015873,.5,1,.5,.238095,1,1,0,.746032,1,0,0,1,.5,0,0]},{ColorSpace:"RGB",Name:"rainbow",RGBPoints:[-1,0,0,1,-.5,0,1,1,0,0,1,0,.5,1,1,0,1,1,0,0]},{ColorSpace:"Lab",Name:"erdc_rainbow_bright",RGBPoints:[-1,.32549,.14902,.960784,-.866221,.297047,.375586,.963836,-.732441,.180302,.536818,.964627,-.598662,.1302,.649207,.929647,-.464883,.0445143,.749654,.855998,-.331104,.0271325,.830713,.721527,-.197324,.259504,.866145,.543555,-.0635452,.428364,.890725,.329819,.0702341,.568503,.898508,.187623,.204013,.738259,.890317,.0825461,.337793,.84546,.86136,.0147555,.471572,.912191,.808018,0,.605351,.962848,.710445,0,.73913,.999469,.600258,.0176284,.87291,.994156,.445975,.193912,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"erdc_rainbow_dark",RGBPoints:[-1,0,0,.423499,-.866221,0,.119346,.529237,-.732441,0,.238691,.634976,-.598662,0,.346852,.68788,-.464883,0,.45022,.718141,-.331104,0,.553554,.664839,-.197324,0,.651082,.519303,-.0635452,.115841,.72479,.352857,.0702341,.326771,.781195,.140187,.204013,.522765,.798524,.0284624,.337793,.703162,.788685,.00885756,.471572,.845118,.751133,0,.605351,.955734,.690825,0,.73913,.995402,.567916,.0618524,.87291,.987712,.403398,.164851,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"nic_CubicL",RGBPoints:[-1,.479965,.0118108,.5307,-.87451,.522213,.0551282,.706919,-.74902,.50839,.237278,.867764,-.623529,.451617,.373834,.987255,-.498039,.39365,.497255,.97506,-.372549,.328631,.599639,.891843,-.247059,.250043,.690286,.778553,-.121569,.249656,.764905,.645857,.00392157,.297954,.821466,.50449,.129412,.337509,.872595,.358447,.254902,.430011,.913789,.297079,.380392,.587191,.931381,.333353,.505882,.727937,.93591,.353742,.631373,.826403,.921081,.365066,.756863,.893201,.846317,.372662,.882353,.965347,.73884,.378506,1,.983235,.597451,.366856]},{ColorSpace:"Lab",Name:"nic_CubicYF",RGBPoints:[-1,.5151,.0482,.6697,-.87451,.520711,.168955,.800574,-.74902,.493694,.278596,.911824,-.623529,.440026,.369475,.984978,-.498039,.398932,.457593,.987053,-.372549,.350651,.540644,.929608,-.247059,.298827,.615625,.857729,-.121569,.239928,.685061,.769531,.00392157,.228832,.739349,.673287,.129412,.263297,.78608,.569988,.254902,.298107,.828337,.460214,.380392,.33092,.864071,.352674,.505882,.38306,.898169,.287309,.631373,.49023,.917481,.307961,.756863,.62372,.926026,.332309,.882353,.717458,.92527,.342476,1,.8,.9255,.3529]},{ColorSpace:"Lab",Name:"gist_earth",RGBPoints:[-1,0,0,0,-.87451,.239216,.027451,.415686,-.74902,.0901961,.254902,.556863,-.623529,.0941176,.352941,.54902,-.498039,.105882,.435294,.533333,-.372549,.12549,.52549,.501961,-.247059,.156863,.596078,.443137,-.121569,.196078,.65098,.380392,.00392157,.282353,.717647,.301961,.129412,.466667,.772549,.27451,.254902,.678431,.784314,.309804,.380392,.901961,.756863,.376471,.505882,.992157,.705882,.521569,.631373,1,.721569,.701961,.756863,1,.784314,.784314,.882353,1,.866667,.866667,1,1,1,1]},{ColorSpace:"Lab",Name:"2hot",RGBPoints:[-1,.0416667,0,0,-.873016,.208333,0,0,-.746032,.375,0,0,-.619048,.541667,0,0,-.492063,.708333,0,0,-.365079,.854137,0,0,-.238095,.937488,.039062,0,-.111111,1,.208333,0,.015873,1,.375,0,.142857,1,.541667,0,.269841,1,.708333,0,.396825,1,.858805,.03125,.52381,1,.947392,.15625,.650794,1,1,.3125,.777778,1,1,.5625,.904762,1,1,.8125,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_red2yellow_BW",RGBPoints:[-1,754296e-12,0,109827e-10,-.87451,.18285,.0264094,0,-.74902,.3066,0,0,-.623529,.422841,0,0,-.498039,.522945,0,0,-.372549,.605721,0,0,-.247059,.672502,.14168,0,-.121569,.728167,.244025,0,.00392157,.781215,.333454,0,.129412,.825,.423586,0,.254902,.855893,.516793,0,.380392,.880491,.608846,0,.505882,.910305,.695505,0,.631373,.94109,.779067,.223528,.756863,.967873,.858572,.473521,.882353,.986815,.933211,.751583,1,1,1,.999997]},{ColorSpace:"Lab",Name:"erdc_marine2gold_BW",RGBPoints:[-1,111641e-12,0,162551e-11,-.87451,.0413146,.0619808,.209857,-.74902,.0185557,.101341,.350684,-.623529,.00486405,.149847,.461054,-.498039,.0836345,.210845,.517906,-.372549,.173222,.276134,.541793,-.247059,.259857,.343877,.535869,-.121569,.362299,.408124,.504293,.00392157,.468266,.468276,.468257,.129412,.582781,.527545,.374914,.254902,.691591,.585251,.274266,.380392,.784454,.645091,.247332,.505882,.862299,.710383,.27518,.631373,.920863,.782923,.351563,.756863,.955792,.859699,.533541,.882353,.976162,.93433,.780671,1,1,1,.999983]},{ColorSpace:"Lab",Name:"erdc_blue2gold_BW",RGBPoints:[-1,0,0,0,-.87451,.0742735,.0440331,.230013,-.74902,.125276,.0258685,.415826,-.623529,.143879,.0163031,.591346,-.498039,.212261,.0627855,.705239,-.372549,.306048,.141178,.763636,-.247059,.391537,.232286,.773263,-.121569,.461734,.336633,.708321,.00392157,.54209,.427581,.590007,.129412,.61704,.508623,.460978,.254902,.702703,.579586,.309117,.380392,.790336,.644811,.170397,.505882,.870173,.710733,.117134,.631373,.93656,.781991,.157144,.756863,.965672,.862068,.409836,.882353,.985751,.936296,.714162,1,1,1,.999999]},{ColorSpace:"Lab",Name:"erdc_sapphire2gold_BW",RGBPoints:[-1,.107704,.107708,.107694,-.87451,.1851,.112354,.308554,-.74902,.236782,.114233,.48788,-.623529,.28296,.126187,.639464,-.498039,.344787,.171643,.739713,-.372549,.413325,.242371,.76913,-.247059,.481863,.3131,.719841,-.121569,.550402,.383829,.612222,.00392157,.61894,.454558,.51126,.129412,.687478,.525287,.39993,.254902,.756017,.596016,.289923,.380392,.824555,.666745,.255498,.505882,.892979,.736822,.27696,.631373,.938851,.804966,.351734,.756863,.966491,.874853,.53572,.882353,.982105,.94153,.782579,1,1,1,.999986]},{ColorSpace:"Lab",Name:"erdc_red2purple_BW",RGBPoints:[-1,0,0,0,-.87451,.167793,.0166271,.0431278,-.74902,.262608,.0107595,.0791181,-.623529,.351902,.0101858,.100926,-.498039,.441257,.0160835,.131919,-.372549,.5221,.0555972,.195625,-.247059,.593852,.104294,.310234,-.121569,.654628,.158115,.448486,.00392157,.707443,.220914,.570253,.129412,.749504,.293268,.67897,.254902,.781587,.370517,.779269,.380392,.809951,.451099,.855831,.505882,.84424,.531462,.900451,.631373,.865174,.620901,.91606,.756863,.875041,.714054,.910284,.882353,.880764,.80554,.896276,1,.887572,.887591,.887556]},{ColorSpace:"Lab",Name:"erdc_purple2pink_BW",RGBPoints:[-1,0,0,0,-.87451,.117562,.0291202,.175876,-.74902,.178368,.0458476,.285454,-.623529,.237731,.0680173,.387717,-.498039,.300877,.0956291,.484802,-.372549,.370929,.136858,.554985,-.247059,.449033,.189273,.58863,-.121569,.529971,.245796,.598587,.00392157,.609914,.300643,.610244,.129412,.697079,.351286,.616371,.254902,.785858,.401991,.617376,.380392,.862517,.45745,.64463,.505882,.91359,.525462,.705336,.631373,.932583,.61064,.767412,.756863,.922478,.706966,.817522,.882353,.901302,.803071,.856311,1,.887571,.887591,.887549]},{ColorSpace:"Lab",Name:"erdc_pbj_lin",RGBPoints:[-1,0,0,0,-.87451,.091821,.0611476,.10617,-.74902,.160311,.0900022,.192713,-.623529,.22484,.12126,.272128,-.498039,.291263,.157469,.340828,-.372549,.360015,.200388,.388903,-.247059,.437497,.250058,.387201,-.121569,.512636,.304969,.355955,.00392157,.582603,.360874,.33488,.129412,.655126,.416374,.306351,.254902,.725889,.473329,.279051,.380392,.778125,.537928,.302697,.505882,.815894,.606931,.382431,.631373,.839159,.679308,.497608,.756863,.854748,.751666,.631792,.882353,.869483,.822508,.768592,1,.887572,.887589,.887565]},{ColorSpace:"Lab",Name:"erdc_blue2green_muted",RGBPoints:[-1,.107704,.107708,.107695,-.87451,.141522,.13066,.270741,-.74902,.180123,.146119,.42308,-.623529,.210161,.169674,.551795,-.498039,.239701,.212939,.634969,-.372549,.253916,.282947,.653641,-.247059,.242791,.366933,.608521,-.121569,.226302,.446776,.52693,.00392157,.236237,.514689,.458798,.129412,.274641,.577589,.376069,.254902,.349625,.633993,.288131,.380392,.4437,.683677,.260497,.505882,.536247,.731214,.285424,.631373,.628472,.777128,.349151,.756863,.718259,.819287,.496825,.882353,.804768,.856164,.703299,1,.887571,.887591,.887548]},{ColorSpace:"Lab",Name:"erdc_blue2green_BW",RGBPoints:[-1,363578e-12,0,529374e-11,-.87451,.0539915,.0577948,.212806,-.74902,.0620393,.0758942,.388959,-.623529,.0697499,.102032,.54177,-.498039,.113295,.156156,.64334,-.372549,.152047,.243196,.670283,-.247059,.158096,.344084,.622864,-.121569,.151142,.43922,.532767,.00392157,.17155,.521588,.457719,.129412,.225861,.599141,.363997,.254902,.32328,.67007,.259083,.380392,.442344,.733697,.223754,.505882,.558409,.794941,.257411,.631373,.673875,.854344,.340822,.756863,.787244,.909326,.524717,.882353,.896483,.958063,.775914,1,1,1,.999982]},{ColorSpace:"Lab",Name:"GREEN-WHITE_LINEAR",RGBPoints:[-1,0,0,0,-.87451,0,.062745,0,-.74902,0,.12549,0,-.623529,0,.188235,0,-.498039,0,.25098,0,-.372549,0,.313725,0,-.247059,0,.376471,0,-.121569,.094118,.439216,0,.00392157,.196078,.501961,0,.129412,.294118,.564706,0,.254902,.396078,.627451,0,.380392,.498039,.690196,0,.505882,.6,.752941,.145098,.631373,.701961,.815686,.364706,.756863,.8,.878431,.580392,.882353,.901961,.941176,.796078,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_green2yellow_BW",RGBPoints:[-1,0,0,0,-.87451,0,.105542,.0603919,-.74902,0,.159454,.104148,-.623529,0,.219502,.15542,-.498039,0,.282276,.203811,-.372549,0,.346331,.235652,-.247059,0,.411765,.235428,-.121569,0,.477177,.217977,.00392157,.0593644,.541635,.21361,.129412,.233081,.604722,.210591,.254902,.369803,.664942,.226536,.380392,.498446,.722367,.288237,.505882,.601929,.782244,.380815,.631373,.703207,.840497,.512134,.756863,.803186,.896433,.674462,.882353,.903834,.950266,.846715,1,1,1,.999981]},{ColorSpace:"Lab",Name:"blue2cyan",RGBPoints:[-1,0,0,0,-.87451,0,.152941,.364706,-.74902,0,.254902,.470588,-.623529,0,.34902,.572549,-.498039,0,.443137,.670588,-.372549,0,.537255,.772549,-.247059,0,.627451,.870588,-.121569,0,.717647,.964706,.00392157,.0784314,.772549,1,.129412,.207843,.858824,1,.254902,.32549,.941176,1,.380392,.45098,1,1,.505882,.560784,1,1,.631373,.662745,1,1,.756863,.760784,1,1,.882353,.870588,1,1,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_blue2cyan_BW",RGBPoints:[-1,405298e-12,0,59012e-10,-.87451,.0207526,.0740933,.18093,-.74902,0,.121033,.30343,-.623529,0,.166892,.416095,-.498039,0,.216768,.524796,-.372549,.0164769,.275471,.608585,-.247059,.0544527,.344824,.659267,-.121569,.0880643,.419118,.688675,.00392157,.127938,.492556,.720256,.129412,.149476,.566946,.756918,.254902,.188961,.641333,.792122,.380392,.245482,.715336,.827609,.505882,.329216,.786235,.874761,.631373,.453558,.852803,.918466,.756863,.626281,.910493,.954,.882353,.82257,.958709,.980146,1,1,1,.999989]},{ColorSpace:"Lab",Name:"erdc_blue_BW",RGBPoints:[-1,0,0,0,-.87451,.0425591,.0763529,.150682,-.74902,.0569472,.119154,.275403,-.623529,.0635978,.164772,.395427,-.498039,.0774342,.213851,.510014,-.372549,.106815,.267034,.615102,-.247059,.122093,.324649,.720068,-.121569,.160851,.387068,.806956,.00392157,.213754,.453516,.878012,.129412,.26722,.524656,.932436,.254902,.326844,.599279,.968038,.380392,.403403,.674712,.984784,.505882,.499703,.745519,1,.631373,.615055,.813983,1,.756863,.74405,.879228,1,.882353,.877909,.941913,1,1,1,1,.999996]},{ColorSpace:"Lab",Name:"BLUE-WHITE",RGBPoints:[-1,0,0,0,-.87451,0,0,.082353,-.74902,0,0,.168627,-.623529,0,0,.254902,-.498039,0,0,.337255,-.372549,0,0,.423529,-.247059,0,0,.509804,-.121569,0,.101961,.592157,.00392157,0,.203922,.678431,.129412,0,.301961,.764706,.254902,0,.403922,.85098,.380392,0,.505882,.933333,.505882,0,.603922,1,.631373,.254902,.705882,1,.756863,.509804,.807843,1,.882353,.764706,.905882,1,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_purple_BW",RGBPoints:[-1,4264e-11,0,620844e-12,-.87451,.100579,.0593111,.145666,-.74902,.167794,.0889224,.254953,-.623529,.231446,.123339,.360511,-.498039,.296699,.163027,.461278,-.372549,.363211,.209286,.55306,-.247059,.431136,.260776,.637195,-.121569,.498202,.320012,.705799,.00392157,.567456,.380459,.778091,.129412,.629381,.445284,.8448,.254902,.688373,.517374,.895694,.380392,.74891,.590906,.93976,.505882,.805017,.667956,.977626,.631373,.850914,.752618,.992396,.756863,.89724,.838454,.994093,.882353,.948461,.922603,.994449,1,1,1,.999967]},{ColorSpace:"Lab",Name:"erdc_magenta_BW",RGBPoints:[-1,0,0,254023e-10,-.87451,.128696,.0456782,.11635,-.74902,.228133,.0476299,.201452,-.623529,.327273,.0374065,.282107,-.498039,.420953,.0408166,.35709,-.372549,.511562,.0642203,.430511,-.247059,.599552,.102686,.504257,-.121569,.684646,.150536,.579429,.00392157,.765817,.205978,.656062,.129412,.839176,.27229,.731807,.254902,.89536,.357594,.797309,.380392,.930238,.457825,.846984,.505882,.945921,.564536,.880571,.631373,.948995,.670753,.902279,.756863,.947124,.772819,.918171,.882353,.947265,.869424,.934352,1,.954719,.95475,.954726]},{ColorSpace:"Lab",Name:"magenta",RGBPoints:[-1,0,0,0,-.87451,.364706,0,.152941,-.74902,.470588,0,.254902,-.623529,.572549,0,.34902,-.498039,.670588,0,.443137,-.372549,.772549,0,.537255,-.247059,.870588,0,.627451,-.121569,.964706,0,.717647,.00392157,1,.0784314,.772549,.129412,1,.207843,.858824,.254902,1,.32549,.941176,.380392,1,.45098,1,.505882,1,.560784,1,.631373,1,.662745,1,.756863,1,.760784,1,.882353,1,.870588,1,1,1,1,1]},{ColorSpace:"Lab",Name:"RED-PURPLE",RGBPoints:[-1,0,0,0,-.87451,.188235,0,.007843,-.74902,.345098,0,.035294,-.623529,.439216,0,.098039,-.498039,.533333,0,.152941,-.372549,.627451,.015686,.211765,-.247059,.721569,.031373,.266667,-.121569,.8,.047059,.329412,.00392157,.862745,.047059,.403922,.129412,.941176,.062745,.466667,.254902,.988235,.078431,.54902,.380392,.988235,.141176,.643137,.505882,.988235,.25098,.729412,.631373,.988235,.376471,.811765,.756863,.988235,.54902,.886275,.882353,.988235,.752941,.952941,1,.996078,.996078,.996078]},{ColorSpace:"Lab",Name:"erdc_red_BW",RGBPoints:[-1,0,0,0,-.87451,.147204,.0480135,.0401815,-.74902,.253411,.0617478,.0301333,-.623529,.356059,.0746331,.0446897,-.498039,.457731,.0934935,.0636931,-.372549,.557199,.122714,.0860013,-.247059,.665179,.144238,.105585,-.121569,.763833,.187056,.138326,.00392157,.847035,.254558,.189407,.129412,.905663,.345937,.258215,.254902,.941431,.447111,.346277,.380392,.962608,.546927,.457571,.505882,.987833,.637276,.569944,.631373,.994202,.732176,.687958,.756863,.993304,.826268,.800567,.882353,.994413,.917205,.906393,1,1,1,.999979]},{ColorSpace:"Lab",Name:"RED_TEMPERATURE",RGBPoints:[-1,0,0,0,-.87451,.090196,0,0,-.74902,.180392,0,0,-.623529,.270588,0,0,-.498039,.360784,0,0,-.372549,.45098,0,0,-.247059,.545098,0,0,-.121569,.635294,0,0,.00392157,.72549,.058824,0,.129412,.815686,.176471,0,.254902,.905882,.294118,0,.380392,1,.411765,0,.505882,1,.533333,.027451,.631373,1,.65098,.27451,.756863,1,.768627,.521569,.882353,1,.886275,.768627,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_orange_BW",RGBPoints:[-1,0,0,253806e-10,-.87451,.135871,.0593824,0,-.74902,.224328,.0907216,0,-.623529,.318083,.119647,0,-.498039,.414443,.150246,0,-.372549,.511077,.184884,0,-.247059,.605501,.226033,0,-.121569,.695274,.275491,0,.00392157,.777826,.334445,0,.129412,.851498,.402441,0,.254902,.915899,.47759,602975e-9,.380392,.971984,.557882,.0361443,.505882,1,.641287,.135967,.631373,1,.725198,.27997,.756863,1,.808205,.438135,.882353,1,.89306,.587036,1,1,.977928,.721599]},{ColorSpace:"Lab",Name:"heated_object",RGBPoints:[-1,0,0,0,-.87451,.34902,.0862745,0,-.74902,.45098,.172549,0,-.623529,.52549,.231373,0,-.498039,.580392,.278431,0,-.372549,.623529,.313725,0,-.247059,.670588,.352941,0,-.121569,.717647,.392157,0,.00392157,.772549,.439216,0,.129412,.839216,.494118,0,.254902,.901961,.541176,0,.380392,.968627,.6,0,.505882,1,.658824,0,.631373,1,.721569,0,.756863,1,.827451,.298039,.882353,1,.976471,.72549,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_gold_BW",RGBPoints:[-1,0,0,190933e-10,-.87451,.128363,.0636265,0,-.74902,.193795,.111057,0,-.623529,.25976,.15987,0,-.498039,.328546,.210589,0,-.372549,.399726,.26332,0,-.247059,.472969,.318261,0,-.121569,.546245,.375827,0,.00392157,.61745,.436719,0,.129412,.685545,.501113,0,.254902,.749578,.568799,0,.380392,.80962,.6394,0,.505882,.865572,.712699,.10257,.631373,.917709,.787569,.233665,.756863,.966914,.863138,.369608,.882353,1,.939405,.496104,1,.999225,1,.612275]},{ColorSpace:"Lab",Name:"erdc_brown_BW",RGBPoints:[-1,33216e-11,0,483629e-11,-.87451,.14693,.0518172,0,-.74902,.225806,.0814996,0,-.623529,.301681,.111452,0,-.498039,.370487,.150664,0,-.372549,.43108,.199477,0,-.247059,.4849,.255107,0,-.121569,.536798,.313486,0,.00392157,.59286,.371167,0,.129412,.653119,.428135,0,.254902,.714589,.485917,.0379541,.380392,.774667,.54565,.116634,.505882,.831222,.608047,.183895,.631373,.880305,.674199,.260298,.756863,.922314,.742472,.367086,.882353,.959408,.811222,.497258,1,.993548,.875183,.622093]},{ColorSpace:"Lab",Name:"copper_Matlab",RGBPoints:[-1,0,0,0,-.87451,.0784314,.0501961,.0313725,-.74902,.156863,.100392,.0627451,-.623529,.235294,.150588,.0941176,-.498039,.313725,.200784,.12549,-.372549,.392157,.25098,.156863,-.247059,.470588,.301176,.188235,-.121569,.54902,.351373,.219608,.00392157,.627451,.401569,.25098,.129412,.705882,.451765,.282353,.254902,.784314,.501961,.313725,.380392,.862745,.552157,.345098,.505882,.941176,.602353,.376471,.631373,1,.652549,.407843,.756863,1,.702745,.439216,.882353,1,.752941,.470588,1,1,.8,.5]},{ColorSpace:"Lab",Name:"pink_Matlab",RGBPoints:[-1,0,0,0,-.87451,.312416,.204524,.204524,-.74902,.441822,.289241,.289241,-.623529,.54112,.354246,.354246,-.498039,.624831,.409048,.409048,-.372549,.698582,.45733,.45733,-.247059,.764404,.502282,.500979,-.121569,.791292,.591516,.54112,.00392157,.817297,.66895,.578481,.129412,.842499,.738308,.613572,.254902,.866968,.801687,.646762,.380392,.890766,.86041,.678329,.505882,.913944,.913944,.711254,.631373,.936549,.936549,.79459,.756863,.958621,.958621,.869979,.882353,.980196,.980196,.939336,1,1,1,1]},{ColorSpace:"Lab",Name:"bone_Matlab",RGBPoints:[-1,0,0,0,-.87451,.054902,.054902,.075817,-.74902,.109804,.109804,.151634,-.623529,.164706,.164706,.227451,-.498039,.219608,.219608,.303268,-.372549,.27451,.27451,.379085,-.247059,.329412,.329902,.454412,-.121569,.384314,.405719,.509314,.00392157,.439216,.481536,.564216,.129412,.494118,.557353,.619118,.254902,.54902,.63317,.67402,.380392,.603922,.708987,.728922,.505882,.660294,.783824,.783824,.631373,.746569,.838725,.838725,.756863,.832843,.893627,.893627,.882353,.919118,.948529,.948529,1,1,1,1]},{ColorSpace:"Lab",Name:"gray_Matlab",RGBPoints:[-1,0,0,0,-.87451,.0627451,.0627451,.0627451,-.74902,.12549,.12549,.12549,-.623529,.188235,.188235,.188235,-.498039,.25098,.25098,.25098,-.372549,.313725,.313725,.313725,-.247059,.376471,.376471,.376471,-.121569,.439216,.439216,.439216,.00392157,.501961,.501961,.501961,.129412,.564706,.564706,.564706,.254902,.627451,.627451,.627451,.380392,.690196,.690196,.690196,.505882,.752941,.752941,.752941,.631373,.815686,.815686,.815686,.756863,.878431,.878431,.878431,.882353,.941176,.941176,.941176,1,1,1,1]},{ColorSpace:"Lab",Name:"Purples",RGBPoints:[-1,.247059,0,.490196,-.87451,.288397,.07677,.525629,-.74902,.32975,.153587,.561092,-.623529,.373057,.236263,.600461,-.498039,.416363,.319,.639923,-.372549,.459669,.405613,.685198,-.247059,.503345,.491534,.730058,-.121569,.562399,.54862,.757616,.00392157,.621453,.606075,.785544,.129412,.680508,.674971,.824914,.254902,.739562,.743406,.863899,.380392,.798616,.800492,.893426,.505882,.85684,.856655,.922491,.631373,.898178,.894056,.942176,.756863,.938654,.930919,.961646,.882353,.964245,.958478,.977393,1,.988235,.984314,.992157]},{ColorSpace:"Lab",Name:"Blues",RGBPoints:[-1,.031373,.188235,.419608,-.87451,.031373,.253195,.516063,-.74902,.031757,.318139,.612149,-.623529,.080969,.38113,.661361,-.498039,.130427,.444152,.710327,-.372549,.195386,.509112,.743791,-.247059,.260715,.573841,.777209,-.121569,.341423,.628958,.808704,.00392157,.422745,.684075,.839892,.129412,.523137,.739193,.861546,.254902,.622684,.793464,.883429,.380392,.701423,.826928,.910988,.505882,.778685,.8603,.937993,.631373,.825928,.891795,.953741,.756863,.87328,.923291,.969489,.882353,.922491,.954787,.985236,1,.968627,.984314,1]},{ColorSpace:"Lab",Name:"Greens",RGBPoints:[-1,0,.266667,.105882,-.87451,0,.347374,.139346,-.74902,538e-6,.427912,.172933,-.623529,.069435,.486967,.222145,-.498039,.138178,.546082,.271326,-.372549,.197232,.609073,.31857,-.247059,.257255,.671742,.365859,-.121569,.357647,.720953,.415071,.00392157,.45767,.769919,.465021,.129412,.546251,.811257,.537855,.254902,.634295,.852211,.610688,.380392,.709097,.883706,.683522,.505882,.78316,.914833,.755894,.631373,.842215,.938454,.818885,.756863,.899977,.961538,.880692,.882353,.935409,.975317,.92203,1,.968627,.988235,.960784]},{ColorSpace:"Lab",Name:"PuBu",RGBPoints:[-1,.301961,0,.294118,-.87451,.404321,.029527,.390573,-.74902,.50599,.059592,.486782,-.623529,.519769,.158016,.551742,-.498039,.533456,.256194,.616301,-.372549,.54133,.33887,.655671,-.247059,.54902,.421592,.695087,-.121569,.54902,.506236,.736424,.00392157,.550127,.590573,.777701,.129412,.585559,.665375,.81707,.254902,.622145,.739023,.855825,.380392,.687105,.784298,.879446,.505882,.752065,.829758,.903253,.631373,.817024,.87897,.930811,.756863,.880907,.927213,.957832,.882353,.926182,.958708,.975548,1,.968627,.988235,.992157]},{ColorSpace:"Lab",Name:"BuPu",RGBPoints:[-1,.007843,.219608,.345098,-.87451,.01178,.286536,.449427,-.74902,.015702,.35328,.553479,-.623529,.01767,.396586,.622376,-.498039,.021115,.4402,.690688,-.372549,.11757,.503191,.722184,-.247059,.214625,.565859,.753633,-.121569,.336671,.615071,.78316,.00392157,.457978,.663975,.812503,.129412,.556401,.703345,.836125,.254902,.65421,.742714,.859669,.380392,.736886,.782084,.881323,.505882,.81827,.821638,.903068,.631373,.873387,.864944,.92669,.756863,.927536,.907605,.949988,.882353,.964937,.9391,.967705,1,1,.968627,.984314]},{ColorSpace:"Lab",Name:"BuGn",RGBPoints:[-1,.031373,.25098,.505882,-.87451,.031373,.329719,.590527,-.74902,.031911,.408397,.674787,-.623529,.100807,.479262,.710219,-.498039,.169704,.550219,.745744,-.372549,.238601,.62699,.787082,-.247059,.307958,.703114,.826759,-.121569,.39654,.752326,.797232,.00392157,.485121,.801046,.767705,.129412,.573702,.83451,.738178,.254902,.661592,.867743,.711034,.380392,.732457,.895302,.74253,.505882,.801845,.922307,.774579,.631373,.841215,.938055,.817885,.756863,.880907,.95391,.861084,.882353,.926182,.971626,.902422,1,.968627,.988235,.941176]},{ColorSpace:"Lab",Name:"GnBu",RGBPoints:[-1,0,.266667,.105882,-.87451,0,.347374,.139346,-.74902,538e-6,.427912,.172933,-.623529,.069435,.486967,.222145,-.498039,.138178,.546175,.272095,-.372549,.197232,.615071,.368551,-.247059,.256609,.683276,.464867,-.121569,.329443,.722645,.555417,.00392157,.403137,.762138,.645413,.129412,.503529,.805444,.718247,.254902,.603922,.848597,.790465,.380392,.704314,.887966,.847551,.505882,.802307,.926321,.903714,.631373,.851519,.944037,.941115,.756863,.899977,.961538,.976901,.882353,.935409,.975317,.984775,1,.968627,.988235,.992157]},{ColorSpace:"Lab",Name:"GnBuPu",RGBPoints:[-1,.003922,.27451,.211765,-.87451,.003922,.349312,.280661,-.74902,.003937,.423852,.349773,-.623529,.005905,.46519,.446228,-.498039,.009443,.506344,.542837,-.372549,.111803,.535871,.649135,-.247059,.214025,.565859,.753633,-.121569,.310481,.615071,.78316,.00392157,.407797,.663975,.812503,.129412,.531811,.703345,.836125,.254902,.65421,.742714,.859669,.380392,.736886,.782084,.881323,.505882,.81827,.821176,.902884,.631373,.873387,.854641,.922568,.756863,.927536,.888535,.942361,.882353,.964937,.929873,.964014,1,1,.968627,.984314]},{ColorSpace:"Lab",Name:"BuGnYl",RGBPoints:[-1,.031373,.113725,.345098,-.87451,.088458,.159,.463206,-.74902,.145052,.204567,.5807,-.623529,.139146,.287243,.620069,-.498039,.13318,.370196,.659562,-.372549,.123337,.470588,.706805,-.247059,.115386,.570335,.753126,-.121569,.186251,.643168,.761,.00392157,.258716,.71514,.768074,.129412,.380761,.760415,.750358,.254902,.503576,.806075,.732795,.380392,.645306,.861192,.719016,.505882,.783899,.91511,.705606,.631373,.858701,.944637,.6997,.756863,.931349,.973303,.698424,.882353,.966782,.987082,.777163,1,1,1,.85098]},{ColorSpace:"Lab",Name:"PuRd",RGBPoints:[-1,.286275,0,.415686,-.87451,.38273,.001968,.441276,-.74902,.479231,.003922,.466774,-.623529,.581592,.003922,.480554,-.498039,.683799,.00549,.494887,-.372549,.776317,.105882,.544098,-.247059,.867866,.206321,.592618,-.121569,.919047,.308681,.612303,.00392157,.968812,.411226,.632603,.129412,.974717,.519493,.671972,.254902,.980546,.626451,.71065,.380392,.984483,.701253,.732303,.505882,.988328,.77504,.755617,.631373,.990296,.828189,.812703,.756863,.992372,.880907,.869035,.882353,.996309,.926182,.912341,1,1,.968627,.952941]},{ColorSpace:"Lab",Name:"RdPu",RGBPoints:[-1,.403922,0,.121569,-.87451,.500377,0,.192434,-.74902,.596909,277e-6,.263037,-.623529,.703206,.035709,.300438,-.498039,.808612,.071296,.338854,-.372549,.857824,.116571,.441215,-.247059,.905513,.163552,.54293,-.121569,.889765,.281661,.617732,.00392157,.873156,.39897,.691611,.129412,.82985,.491488,.736886,.254902,.789081,.583237,.781853,.380392,.810734,.656071,.819254,.505882,.833126,.729181,.85684,.631373,.870527,.80792,.898178,.756863,.907605,.884398,.938331,.882353,.9391,.921799,.958016,1,.968627,.956863,.976471]},{ColorSpace:"Lab",Name:"Oranges",RGBPoints:[-1,.498039,.152941,.015686,-.87451,.57481,.182468,.013718,-.74902,.651765,.212042,.011734,-.623529,.752157,.247474,.007797,-.498039,.851719,.283368,.004475,-.372549,.898962,.348328,.039908,-.247059,.945652,.413426,.076401,-.121569,.969273,.484291,.157109,.00392157,.992157,.554971,.238185,.129412,.992157,.619931,.330704,.254902,.992157,.684967,.423837,.380392,.992157,.751895,.532103,.505882,.992249,.817716,.639354,.631373,.994218,.861023,.725967,.756863,.996186,.903576,.810965,.882353,.998155,.933103,.868051,1,1,.960784,.921569]},{ColorSpace:"Lab",Name:"Reds",RGBPoints:[-1,.403922,0,.05098,-.87451,.525967,.029527,.066728,-.74902,.647643,.058962,.082476,-.623529,.722445,.076678,.098224,-.498039,.797186,.095194,.114187,-.372549,.868051,.164091,.143714,-.247059,.937809,.233541,.173933,-.121569,.96143,.326059,.232987,.00392157,.984375,.418147,.292657,.129412,.986344,.496886,.371396,.254902,.988235,.575702,.450673,.380392,.988235,.656409,.543191,.505882,.98842,.736747,.635894,.631373,.992357,.809581,.732349,.756863,.996186,.880692,.826759,.882353,.998155,.92203,.885813,1,1,.960784,.941176]},{ColorSpace:"Lab",Name:"RdOr",RGBPoints:[-1,.498039,0,0,-.87451,.6004,0,0,-.74902,.702514,738e-6,477e-6,-.623529,.773379,.095225,.061499,-.498039,.843875,.189865,.12283,-.372549,.891119,.294195,.203537,-.247059,.937855,.397924,.283137,-.121569,.963445,.476663,.316601,.00392157,.988297,.555771,.351665,.129412,.990265,.646321,.436309,.254902,.992157,.735256,.519646,.380392,.992157,.784468,.570827,.505882,.992249,.833218,.623483,.631373,.994218,.872587,.706159,.756863,.996186,.911419,.788189,.882353,.998155,.940946,.859054,1,1,.968627,.92549]},{ColorSpace:"Lab",Name:"BrOrYl",RGBPoints:[-1,.4,.145098,.023529,-.87451,.500392,.174625,.019592,-.74902,.600784,.204291,.015656,-.623529,.701176,.251534,.011719,-.498039,.800984,.299146,.008397,-.372549,.863975,.370012,.043829,-.247059,.926321,.441107,.0794,-.121569,.961753,.521815,.120738,.00392157,.996078,.602645,.163122,.129412,.996078,.68729,.237924,.254902,.996078,.771011,.314879,.380392,.996078,.832034,.444798,.505882,.996171,.892042,.572595,.631373,.998139,.931411,.65724,.756863,1,.969489,.741669,.882353,1,.985236,.822376,1,1,1,.898039]},{ColorSpace:"Lab",Name:"RdOrYl",RGBPoints:[-1,.501961,0,.14902,-.87451,.622038,0,.14902,-.74902,.741761,4e-4,.148866,-.623529,.816563,.05158,.129181,-.498039,.890965,.10356,.110235,-.372549,.940177,.205921,.137793,-.247059,.988281,.308789,.165536,-.121569,.99025,.432803,.200969,.00392157,.992218,.555217,.236278,.129412,.994187,.628051,.267774,.254902,.996078,.701038,.301269,.380392,.996078,.777809,.383945,.505882,.996171,.852826,.466621,.631373,.998139,.892195,.549296,.756863,1,.931349,.632188,.882353,1,.966782,.7188,1,1,1,.8]},{ColorSpace:"Lab",Name:"CIELab_blue2red",RGBPoints:[-1,0,.6,.74902,1,.76863,.46667,.34118]},{ColorSpace:"Lab",Name:"blue2yellow",RGBPoints:[-1,0,0,1,0,.5,.5,.5,1,1,1,0]},{ColorSpace:"Lab",Name:"erdc_blue2gold",RGBPoints:[-1,.175119,.0438468,1,-.874016,.22383,.159771,.94557,-.748031,.27254,.233611,.891216,-.622047,.321251,.296526,.836857,-.496063,.369962,.354296,.782359,-.370079,.418672,.409139,.72754,-.244094,.467383,.462152,.672148,-.11811,.51609,.51396,.615825,.00787402,.572863,.55452,.559172,.133858,.630269,.593822,.517729,.259843,.689588,.624668,.47446,.385827,.745394,.656113,.428638,.511811,.798624,.688104,.379105,.637795,.849926,.720593,.323834,.76378,.899765,.753543,.258657,.889764,.948487,.78692,.171778,1,.990413,.816451,.00729848]},{ColorSpace:"Lab",Name:"erdc_blue2yellow",RGBPoints:[-1,.0830122,0,.495617,-.87451,.141973,.0551288,.57363,-.74902,.193048,.110258,.604561,-.623529,.234231,.165386,.57643,-.498039,.275413,.220515,.548299,-.372549,.316596,.275644,.520169,-.247059,.357778,.330773,.492038,-.121569,.398961,.385901,.463908,.00392157,.449929,.438487,.426815,.129412,.511572,.488299,.379944,.254902,.581222,.53603,.325741,.380392,.650871,.583761,.271538,.505882,.720521,.631493,.217335,.631373,.79017,.679224,.163132,.756863,.85982,.726955,.108929,.882353,.910254,.774159,.14112,1,.927513,.81759,.306289]},{ColorSpace:"Lab",Name:"erdc_cyan2orange",RGBPoints:[-1,.0471513,.213874,.414329,-.87451,.0674702,.256648,.439027,-.74902,.0959957,.299331,.462089,-.623529,.132428,.341872,.483212,-.498039,.188743,.38277,.500597,-.372549,.268511,.420229,.512179,-.247059,.352945,.455602,.519101,-.121569,.43893,.489368,.521538,.00392157,.522445,.522495,.522436,.129412,.600089,.555682,.53205,.254902,.67988,.587981,.539163,.380392,.761011,.619586,.544439,.505882,.84278,.650741,.548567,.631373,.910713,.687347,.557822,.756863,.952232,.734972,.577775,.882353,.975642,.789858,.604868,1,.990752,.843643,.632857]},{ColorSpace:"Lab",Name:"erdc_purple2green",RGBPoints:[-1,.235006,.0483128,.530899,-.87451,.302968,.108419,.552391,-.74902,.360241,.166059,.569502,-.623529,.406746,.226782,.579373,-.498039,.444073,.28964,.582094,-.372549,.473648,.353774,.577947,-.247059,.497636,.418154,.567911,-.121569,.519086,.481741,.553968,.00392157,.542884,.542914,.542875,.129412,.566303,.603989,.527499,.254902,.595218,.662965,.516857,.380392,.628641,.720701,.510673,.505882,.665373,.777849,.508165,.631373,.704182,.834921,.508303,.756863,.743846,.892328,.50999,.882353,.783158,.950422,.512181,1,.818617,1,.513888]},{ColorSpace:"Lab",Name:"erdc_purple2green_dark",RGBPoints:[-1,.107656,0,.428682,-.87451,.1924,0,.449799,-.74902,.255118,.0648939,.466726,-.623529,.304256,.133066,.476703,-.498039,.343202,.19716,.479793,-.372549,.373876,.260353,.476241,-.247059,.398497,.322872,.466953,-.121569,.420016,.384252,.453785,.00392157,.44319,.443216,.443186,.129412,.465553,.502139,.428233,.254902,.492959,.559151,.417591,.380392,.524654,.615092,.411016,.505882,.55959,.670583,.40779,.631373,.596614,.726102,.406948,.756863,.634544,.782032,.407439,.882353,.672183,.838703,.408237,1,.706131,.892759,.408452]},{ColorSpace:"Lab",Name:"coolwarm",RGBPoints:[-1,.229806,.298718,.753683,-.875,.303869,.406535,.844959,-.75,.383013,.509419,.917388,-.625,.466667,.604563,.968155,-.5,.552953,.688929,.995376,-.375,.639176,.7596,.998151,-.25,.722193,.813953,.976575,-.125,.798692,.849786,.931689,0,.865395,.86541,.865396,.125,.924128,.827385,.774508,.25,.958853,.769768,.678008,.375,.969954,.694267,.579375,.5,.958003,.602842,.481776,.625,.923945,.497309,.38797,.75,.869187,.378313,.300267,.875,.795632,.241284,.220526,1,.705673,.0155562,.150233]},{ColorSpace:"Lab",Name:"BuRd",RGBPoints:[-1,.019608,.188235,.380392,-.87451,.088504,.321107,.564937,-.74902,.163399,.444983,.697501,-.623529,.247059,.555709,.754095,-.498039,.420684,.676432,.818685,-.372549,.606459,.789773,.880277,-.247059,.761476,.868512,.924567,-.121569,.878047,.925721,.951942,.00392157,.969089,.966474,.964937,.129412,.983852,.897578,.846828,.254902,.982468,.800692,.706113,.380392,.960323,.66782,.536332,.505882,.894579,.503806,.399769,.631373,.81707,.33218,.281046,.756863,.728489,.155017,.197386,.882353,.576932,.055363,.14925,1,.403922,0,.121569]},{ColorSpace:"Lab",Name:"Spectral_lowBlue",RGBPoints:[-1,.368627,.309804,.635294,-.87451,.260361,.450058,.70173,-.74902,.248058,.591311,.717186,-.623529,.376009,.734025,.658132,-.498039,.537947,.814764,.64506,-.372549,.702345,.879585,.636678,-.247059,.84752,.938639,.607151,-.121569,.940408,.976163,.656055,.00392157,.999923,.997616,.745021,.129412,.997463,.921338,.61707,.254902,.995002,.824606,.499885,.380392,.992541,.701576,.39654,.505882,.973472,.547405,.318108,.631373,.937793,.398539,.270127,.756863,.861515,.282891,.299654,.882353,.746482,.144637,.288812,1,.619608,.003922,.258824]},{ColorSpace:"Lab",Name:"GnRP",RGBPoints:[-1,0,.266667,.105882,-.87451,.066436,.394617,.174779,-.74902,.168858,.524567,.25767,-.623529,.323875,.657439,.361015,-.498039,.504883,.772318,.506344,-.372549,.678431,.870127,.654902,-.247059,.803922,.921799,.780392,-.121569,.897116,.951942,.882814,.00392157,.967397,.965936,.967474,.129412,.928028,.879815,.930565,.254902,.866052,.780777,.882891,.380392,.77501,.665129,.821376,.505882,.675663,.537024,.737024,.631373,.57847,.396155,.645982,.756863,.492349,.223914,.547559,.882353,.375548,.096886,.423299,1,.25098,0,.294118]},{ColorSpace:"Lab",Name:"GYPi",RGBPoints:[-1,.152941,.392157,.098039,-.87451,.246444,.505344,.117724,-.74902,.351942,.614533,.161399,-.623529,.474971,.717878,.240138,-.498039,.611995,.811226,.392849,-.372549,.746328,.893118,.565321,-.247059,.859516,.94233,.747405,-.121569,.928105,.96386,.875663,.00392157,.969089,.966859,.968012,.129412,.983852,.910265,.948328,.254902,.979239,.833218,.914648,.380392,.949712,.729873,.862976,.505882,.905652,.58293,.763552,.631373,.85521,.410073,.652211,.756863,.793695,.183699,.531642,.882353,.683737,.063899,.420761,1,.556863,.003922,.321569]},{ColorSpace:"Lab",Name:"GnYlRd",RGBPoints:[-1,0,.407843,.215686,-.87451,.063975,.525952,.277201,-.74902,.177932,.633064,.332718,-.623529,.364937,.724106,.379469,-.498039,.527951,.797155,.40223,-.372549,.678431,.862822,.433449,-.247059,.803922,.916955,.514648,-.121569,.909419,.961861,.625067,.00392157,.999923,.997616,.745021,.129412,.997463,.921338,.61707,.254902,.995002,.824606,.499885,.380392,.992541,.701576,.39654,.505882,.973472,.547405,.318108,.631373,.939023,.389927,.245521,.756863,.867666,.239831,.176624,.882353,.762399,.110727,.151326,1,.647059,0,.14902]},{ColorSpace:"Lab",Name:"GBBr",RGBPoints:[-1,0,.235294,.188235,-.87451,.002461,.338639,.301423,-.74902,.055902,.448981,.417609,-.623529,.183852,.56955,.538178,-.498039,.357785,.700115,.660746,-.372549,.540177,.819531,.77624,-.247059,.714879,.890888,.864821,-.121569,.851134,.934564,.922645,.00392157,.960861,.959785,.95694,.129412,.963322,.927797,.83391,.254902,.939946,.868897,.68935,.380392,.883353,.775394,.517109,.505882,.808074,.625836,.324106,.631373,.717647,.476355,.15494,.756863,.592157,.358247,.06882,.882353,.458593,.26436,.031142,1,.329412,.188235,.019608]},{ColorSpace:"Lab",Name:"PuOr",RGBPoints:[-1,.498039,.231373,.031373,-.87451,.62599,.30273,.026451,-.74902,.746943,.387082,.037524,-.623529,.85767,.490427,.071972,-.498039,.936409,.617762,.236371,-.372549,.992695,.743099,.43291,-.247059,.995156,.841523,.63714,-.121569,.985313,.913802,.813687,.00392157,.966244,.966398,.967705,.129412,.889965,.89504,.938178,.254902,.806151,.804306,.894656,.380392,.712649,.688658,.833141,.505882,.594233,.554325,.744637,.631373,.474894,.404229,.652364,.756863,.366628,.217224,.563783,.882353,.266436,.089965,.434833,1,.176471,0,.294118]},{ColorSpace:"Lab",Name:"PRGn",RGBPoints:[-1,.25098,0,.294118,-.87451,.383852,.103345,.431911,-.74902,.497732,.234679,.55371,-.623529,.583852,.40692,.652134,-.498039,.681968,.545175,.742561,-.372549,.7807,.672357,.825221,-.247059,.871742,.788005,.886736,-.121569,.930488,.885198,.932872,.00392157,.966321,.968089,.965859,.129412,.892503,.950865,.877278,.254902,.796078,.91857,.772549,.380392,.670588,.866897,.647059,.505882,.493195,.765398,.496655,.631373,.314187,.649135,.354556,.756863,.15917,.516263,.251211,.882353,.062284,.386621,.170473,1,0,.266667,.105882]},{ColorSpace:"Lab",Name:"PiYG",RGBPoints:[-1,.556863,.003922,.321569,-.87451,.692195,.067897,.427374,-.74902,.797539,.197847,.539177,-.623529,.859054,.424221,.659746,-.498039,.908574,.592618,.770319,-.372549,.951557,.736332,.866205,-.247059,.981084,.839677,.917878,-.121569,.98293,.913802,.949558,.00392157,.96732,.968474,.965629,.129412,.92549,.963552,.869666,.254902,.852441,.939254,.736025,.380392,.739254,.890042,.553941,.505882,.60323,.805536,.382238,.631373,.467282,.711419,.235217,.756863,.344252,.608074,.156478,.882353,.2406,.49827,.116494,1,.152941,.392157,.098039]},{ColorSpace:"Lab",Name:"OrPu",RGBPoints:[-1,.176471,0,.294118,-.87451,.272434,.095963,.444214,-.74902,.373395,.228912,.56932,-.623529,.481661,.415917,.657901,-.498039,.601922,.562937,.750481,-.372549,.718493,.695886,.836986,-.247059,.811995,.811534,.898501,-.121569,.894733,.8995,.940023,.00392157,.969166,.966859,.963629,.129412,.98639,.910265,.803691,.254902,.995002,.835371,.624375,.380392,.992541,.736947,.420146,.505882,.931949,.609458,.224221,.631373,.85075,.483968,.069819,.756863,.740023,.380623,.035371,.882353,.617993,.29827,.026759,1,.498039,.231373,.031373]},{ColorSpace:"Lab",Name:"BrBG",RGBPoints:[-1,.329412,.188235,.019608,-.87451,.467205,.269435,.031911,-.74902,.6,.365629,.074202,-.623529,.72549,.483737,.160323,-.498039,.812995,.635832,.336409,-.372549,.88689,.781238,.527874,-.247059,.943483,.87474,.700115,-.121569,.963168,.929796,.841599,.00392157,.957247,.959938,.959554,.129412,.84406,.932872,.920185,.254902,.70396,.886428,.859285,.380392,.529258,.815071,.770704,.505882,.346251,.691811,.653057,.631373,.175855,.562015,.530642,.756863,.047905,.441446,.410073,.882353,.002307,.33218,.294348,1,0,.235294,.188235]},{ColorSpace:"Lab",Name:"GyRd",RGBPoints:[-1,.101961,.101961,.101961,-.87451,.227451,.227451,.227451,-.74902,.359939,.359939,.359939,-.623529,.502653,.502653,.502653,-.498039,.631373,.631373,.631373,-.372549,.749865,.749865,.749865,-.247059,.843368,.843368,.843368,-.121569,.926105,.926105,.926105,.00392157,.999846,.997232,.995694,.129412,.994925,.908651,.857901,.254902,.982468,.800692,.706113,.380392,.960323,.66782,.536332,.505882,.894579,.503806,.399769,.631373,.81707,.33218,.281046,.756863,.728489,.155017,.197386,.882353,.576932,.055363,.14925,1,.403922,0,.121569]},{ColorSpace:"Lab",Name:"erdc_divHi_purpleGreen",RGBPoints:[-1,.297553,0,.489074,-.87451,.40259,.151146,.567754,-.74902,.516038,.284843,.658231,-.623529,.629783,.423646,.750938,-.498039,.735198,.563697,.835956,-.372549,.82408,.695541,.903582,-.247059,.889091,.807454,.944862,-.121569,.92334,.886917,.951839,.00392157,.921045,.921084,.921003,.129412,.877324,.907455,.845381,.254902,.797649,.849713,.734695,.380392,.691646,.75964,.600532,.505882,.568981,.649159,.453807,.631373,.438945,.529756,.304259,.756863,.30973,.412001,.158303,.882353,.187078,.305111,.00251458,1,.101655,.220836,0]},{ColorSpace:"Lab",Name:"erdc_divHi_purpleGreen_dim",RGBPoints:[-1,.404088,.131038,.592767,-.87451,.486469,.230957,.651243,-.74902,.575165,.339335,.717723,-.623529,.662741,.454332,.784263,-.498039,.742071,.570213,.842918,-.372549,.806935,.678992,.886227,-.247059,.852219,.771315,.90763,-.121569,.873345,.837327,.901572,.00392157,.866783,.86682,.866745,.129412,.82839,.858225,.796812,.254902,.762578,.814287,.700202,.380392,.676429,.744229,.585735,.505882,.577033,.65732,.461526,.631373,.47128,.562476,.33476,.756863,.365461,.467957,.21076,.882353,.264758,.381138,.0878313,1,.182591,.312249,0]},{ColorSpace:"Lab",Name:"erdc_divLow_icePeach",RGBPoints:[-1,.480048,.817441,.998056,-.87451,.425898,.726921,.883187,-.74902,.366682,.629445,.761936,-.623529,.308756,.531002,.640217,-.498039,.258021,.43705,.523433,-.372549,.219244,.352381,.416348,-.247059,.195127,.281032,.322979,-.121569,.186286,.22627,.246525,.00392157,.192352,.19236,.192364,.129412,.255927,.214469,.191756,.254902,.340459,.254426,.206666,.380392,.444655,.309315,.234029,.505882,.565353,.376004,.270969,.631373,.697917,.450748,.314293,.756863,.836657,.529064,.360227,.882353,.972695,.614884,.413123,1,1,.705904,.472699]},{ColorSpace:"Lab",Name:"erdc_divLow_purpleGreen",RGBPoints:[-1,.956034,.666487,.952663,-.87451,.874457,.572698,.936352,-.74902,.753465,.488253,.909063,-.623529,.63309,.413507,.763833,-.498039,.514491,.345878,.620015,-.372549,.405008,.288141,.484376,-.247059,.311388,.241986,.363556,-.121569,.238722,.209044,.263449,.00392157,.192352,.192366,.192362,.129412,.200379,.233201,.168618,.254902,.230151,.291737,.165227,.380392,.279481,.366076,.178607,.505882,.344927,.453267,.205703,.631373,.421554,.549449,.242643,.756863,.503334,.649999,.284377,.882353,.583497,.749672,.324969,1,.650705,.837228,.356264]},{ColorSpace:"Lab",Name:"Haze_green",RGBPoints:[-1,1,.835294,.886275,-.87451,.937255,.756863,.870443,-.74902,.875817,.666376,.857807,-.623529,.778359,.583007,.808134,-.498039,.676253,.494118,.745098,-.372549,.561365,.390123,.682353,-.247059,.438344,.262745,.621496,-.121569,.321133,.141031,.558751,.00392157,.203922,.0217865,.495861,.129412,.265505,.129412,.433261,.254902,.311692,.255338,.37008,.380392,.356282,.377342,.310821,.505882,.39971,.488889,.258243,.631373,.442556,.604357,.205519,.756863,.48671,.71968,.152941,.882353,.529847,.830356,.100944,1,.572549,.933333,.054902]},{ColorSpace:"Lab",Name:"Haze_lime",RGBPoints:[-1,.704034,.784196,1,-.87451,.633111,.691418,.956078,-.74902,.564021,.600606,.912157,-.623529,.496827,.51189,.868235,-.498039,.43157,.425416,.824314,-.372549,.368248,.341347,.780392,-.247059,.306767,.259855,.736471,-.121569,.246862,.181069,.692549,.00392157,.191619,.109542,.648627,.129412,.257404,.194031,.604706,.254902,.321794,.278775,.560784,.380392,.387909,.364617,.516863,.505882,.456569,.451881,.472941,.631373,.527424,.540773,.42902,.756863,.599759,.631427,.385098,.882353,.673065,.723898,.341176,1,.742751,.812252,.3]},{ColorSpace:"RGB",Name:"Haze",RGBPoints:[-1,1,.835294,.996078,-.00392157,.023529,.141176,.498039,.00392157,.015686,.137255,.494118,1,.984314,.764706,0]},{ColorSpace:"Lab",Name:"Haze_cyan",RGBPoints:[-1,.956863,1,.835294,-.87451,.933188,.921714,.760784,-.74902,.870588,.803486,.671605,-.623529,.807843,.684096,.583297,-.498039,.745098,.569208,.494118,-.372549,.682353,.437763,.390123,-.247059,.621496,.288163,.262745,-.121569,.558751,.144517,.141031,.00392157,.495861,.0217865,.0413943,.129412,.433261,.137255,.129412,.254902,.37008,.263181,.255338,.380392,.306318,.381845,.372694,.505882,.243137,.503994,.494263,.631373,.180392,.629484,.619753,.756863,.117647,.754975,.747131,.882353,.054902,.876398,.866812,1,0,.988235,.976471]},{ColorSpace:"Lab",Name:"nic_Edge",RGBPoints:[-1,.191208,.191208,.191208,-.87451,.239484,.00545035,.614821,-.74902,.220593,.0617459,.863547,-.623529,.17509,.278988,.97794,-.498039,.143526,.576069,.998553,-.372549,.166456,.871883,.96594,-.247059,.376202,.993555,.981833,-.121569,.681996,.991297,.999239,.00392157,.954172,.952734,.94374,.129412,.999735,.99301,.662896,.254902,.979399,.991466,.357973,.380392,.968771,.854967,.162659,.505882,.999245,.556697,.144323,.631373,.973959,.26223,.177946,.756863,.852358,.0526707,.222974,.882353,.593889,.00912724,.238855,1,.191208,.191208,.191208]},{ColorSpace:"Lab",Name:"erdc_iceFire_H",RGBPoints:[-1,405432e-12,0,590122e-11,-.87451,0,.120401,.302675,-.74902,0,.216583,.524574,-.623529,.0552475,.345025,.6595,-.498039,.128047,.492588,.720288,-.372549,.188955,.641309,.792092,-.247059,.327673,.784935,.873434,-.121569,.60824,.892164,.935547,.00392157,.881371,.912178,.818099,.129412,.951407,.835621,.449279,.254902,.904481,.690489,0,.380392,.85407,.510864,0,.505882,.777093,.33018,88199e-8,.631373,.672862,.139087,.00269398,.756863,.508815,0,0,.882353,.299417,366289e-9,547829e-9,1,.0157519,.00332021,455569e-13]},{ColorSpace:"Lab",Name:"erdc_iceFire_L",RGBPoints:[-1,.870485,.913768,.832905,-.87451,.586919,.887865,.934003,-.74902,.31583,.776442,.867858,-.623529,.18302,.632034,.787722,-.498039,.117909,.484134,.713825,-.372549,.0507239,.335979,.654741,-.247059,0,.209874,.511832,-.121569,0,.114689,.28935,.00392157,.0157519,.00332021,455569e-13,.129412,.312914,0,0,.254902,.520865,0,0,.380392,.680105,.15255,.0025996,.505882,.785109,.339479,797922e-9,.631373,.857354,.522494,0,.756863,.910974,.699774,0,.882353,.951921,.842817,.478545,1,.881371,.912178,.818099]},{ColorSpace:"RGB",Name:"hsv",RGBPoints:[-1,1,0,0,-.666666,1,0,1,-.333333,0,0,1,0,0,1,1,.33333,0,1,0,.66666,1,1,0,1,1,0,0]},{ColorSpace:"Lab",Name:"hue_L60",RGBPoints:[-1,.964784,.400592,.349549,-.87451,.964915,.372498,.53785,-.74902,.892353,.401039,.759569,-.623529,.79263,.446956,.903017,-.498039,.682208,.49954,.966673,-.372549,.56392,.553082,.968836,-.247059,.442031,.606396,.901601,-.121569,.305499,.65701,.765784,.00392157,.197251,.687914,.620914,.129412,.193882,.701887,.472654,.254902,.249866,.706123,.320005,.380392,.35132,.697417,.202919,.505882,.498097,.669467,.125232,.631373,.637477,.626239,.107431,.756863,.762115,.56872,.155812,.882353,.889434,.481116,.240445,1,.964784,.400592,.349549]},{IndexedColors:[0,0,0,.8941176470588236,.1019607843137255,.1098039215686274,.2156862745098039,.4941176470588236,.7215686274509804,.3019607843137255,.6862745098039216,.2901960784313726,.596078431372549,.3058823529411765,.6392156862745098,1,.4980392156862745,0,.6509803921568628,.3372549019607843,.1568627450980392],Name:"Spectrum",NanColor:[.6509803921568628,.3372549019607843,.1568627450980392]},{IndexedColors:[.4745098039215686,.09019607843137255,.09019607843137255,.7098039215686275,.00392156862745098,.00392156862745098,.9372549019607843,.2784313725490196,.09803921568627451,.9764705882352941,.5137254901960784,.1411764705882353,1,.7058823529411765,0,1,.8980392156862745,.02352941176470588],Name:"Warm",NanColor:[1,.8980392156862745,.02352941176470588]},{IndexedColors:[.4588235294117647,.6941176470588235,.00392156862745098,.3450980392156863,.5019607843137255,.1607843137254902,.3137254901960784,.8431372549019608,.7490196078431373,.1098039215686274,.5843137254901961,.803921568627451,.2313725490196079,.407843137254902,.6705882352941176,.6039215686274509,.407843137254902,1,.3725490196078431,.2,.5019607843137255],Name:"Cool",NanColor:[.3725490196078431,.2,.5019607843137255]},{IndexedColors:[.2313725490196079,.407843137254902,.6705882352941176,.1098039215686274,.5843137254901961,.803921568627451,.3058823529411765,.8509803921568627,.9176470588235294,.4509803921568628,.6039215686274509,.8352941176470589,.2588235294117647,.2392156862745098,.6627450980392157,.3137254901960784,.3294117647058823,.5294117647058824,.06274509803921569,.1647058823529412,.3215686274509804],Name:"Blues",NanColor:[.06274509803921569,.1647058823529412,.3215686274509804]},{IndexedColors:[.1098039215686274,.5843137254901961,.803921568627451,.2313725490196079,.407843137254902,.6705882352941176,.4,.2431372549019608,.7176470588235294,.6352941176470588,.3294117647058823,.8117647058823529,.8705882352941177,.3803921568627451,.807843137254902,.8627450980392157,.3803921568627451,.5843137254901961,.2392156862745098,.06274509803921569,.3215686274509804],Name:"Wild Flower",NanColor:[.2392156862745098,.06274509803921569,.3215686274509804]},{IndexedColors:[.396078431372549,.4862745098039216,.2156862745098039,.4588235294117647,.6941176470588235,.00392156862745098,.6980392156862745,.7294117647058823,.1882352941176471,1,.8980392156862745,.02352941176470588,1,.7058823529411765,0,.9764705882352941,.5137254901960784,.1411764705882353],Name:"Citrus",NanColor:[.9764705882352941,.5137254901960784,.1411764705882353]},{IndexedColors:[.4980392156862745,.2313725490196079,.03137254901960784,.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333,.1764705882352941,0,.2941176470588235],Name:"Brewer Diverging Purple-Orange (11)",NanColor:[.1764705882352941,0,.2941176470588235]},{IndexedColors:[.4980392156862745,.2313725490196079,.03137254901960784,.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333,.1764705882352941,0,.2941176470588235],Name:"Brewer Diverging Purple-Orange (10)",NanColor:[.1764705882352941,0,.2941176470588235]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (9)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (8)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.9450980392156862,.6392156862745098,.2509803921568627,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6,.5568627450980392,.7647058823529411,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (7)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.9450980392156862,.6392156862745098,.2509803921568627,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6,.5568627450980392,.7647058823529411,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (6)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.9019607843137255,.3803921568627451,.00392156862745098,.9921568627450981,.7215686274509804,.3882352941176471,.9686274509803922,.9686274509803922,.9686274509803922,.6980392156862745,.6705882352941176,.8235294117647058,.3686274509803922,.2352941176470588,.6],Name:"Brewer Diverging Purple-Orange (5)",NanColor:[.3686274509803922,.2352941176470588,.6]},{IndexedColors:[.9019607843137255,.3803921568627451,.00392156862745098,.9921568627450981,.7215686274509804,.3882352941176471,.6980392156862745,.6705882352941176,.8235294117647058,.3686274509803922,.2352941176470588,.6],Name:"Brewer Diverging Purple-Orange (4)",NanColor:[.3686274509803922,.2352941176470588,.6]},{IndexedColors:[.9450980392156862,.6392156862745098,.2509803921568627,.9686274509803922,.9686274509803922,.9686274509803922,.6,.5568627450980392,.7647058823529411],Name:"Brewer Diverging Purple-Orange (3)",NanColor:[.6,.5568627450980392,.7647058823529411]},{IndexedColors:[.6196078431372549,.00392156862745098,.2588235294117647,.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353,.3686274509803922,.3098039215686275,.6352941176470588],Name:"Brewer Diverging Spectral (11)",NanColor:[.3686274509803922,.3098039215686275,.6352941176470588]},{IndexedColors:[.6196078431372549,.00392156862745098,.2588235294117647,.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353,.3686274509803922,.3098039215686275,.6352941176470588],Name:"Brewer Diverging Spectral (10)",NanColor:[.3686274509803922,.3098039215686275,.6352941176470588]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (9)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (8)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9882352941176471,.5529411764705883,.3490196078431372,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6,.8352941176470589,.5803921568627451,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (7)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9882352941176471,.5529411764705883,.3490196078431372,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6,.8352941176470589,.5803921568627451,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (6)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8431372549019608,.09803921568627451,.1098039215686274,.9921568627450981,.6823529411764706,.3803921568627451,1,1,.7490196078431373,.6705882352941176,.8666666666666667,.6431372549019608,.1686274509803922,.5137254901960784,.7294117647058823],Name:"Brewer Diverging Spectral (5)",NanColor:[.1686274509803922,.5137254901960784,.7294117647058823]},{IndexedColors:[.8431372549019608,.09803921568627451,.1098039215686274,.9921568627450981,.6823529411764706,.3803921568627451,.6705882352941176,.8666666666666667,.6431372549019608,.1686274509803922,.5137254901960784,.7294117647058823],Name:"Brewer Diverging Spectral (4)",NanColor:[.1686274509803922,.5137254901960784,.7294117647058823]},{IndexedColors:[.9882352941176471,.5529411764705883,.3490196078431372,1,1,.7490196078431373,.6,.8352941176470589,.5803921568627451],Name:"Brewer Diverging Spectral (3)",NanColor:[.6,.8352941176470589,.5803921568627451]},{IndexedColors:[.3294117647058823,.1882352941176471,.0196078431372549,.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922,0,.2352941176470588,.1882352941176471],Name:"Brewer Diverging Brown-Blue-Green (11)",NanColor:[0,.2352941176470588,.1882352941176471]},{IndexedColors:[.3294117647058823,.1882352941176471,.0196078431372549,.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922,0,.2352941176470588,.1882352941176471],Name:"Brewer Diverging Brown-Blue-Green (10)",NanColor:[0,.2352941176470588,.1882352941176471]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (9)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (8)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.8470588235294118,.7019607843137254,.396078431372549,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.3529411764705883,.7058823529411765,.6745098039215687,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (7)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.8470588235294118,.7019607843137254,.396078431372549,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.3529411764705883,.7058823529411765,.6745098039215687,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (6)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.6509803921568628,.3803921568627451,.1019607843137255,.8745098039215686,.7607843137254902,.4901960784313725,.9607843137254902,.9607843137254902,.9607843137254902,.5019607843137255,.803921568627451,.7568627450980392,.00392156862745098,.5215686274509804,.4431372549019608],Name:"Brewer Diverging Brown-Blue-Green (5)",NanColor:[.00392156862745098,.5215686274509804,.4431372549019608]},{IndexedColors:[.6509803921568628,.3803921568627451,.1019607843137255,.8745098039215686,.7607843137254902,.4901960784313725,.5019607843137255,.803921568627451,.7568627450980392,.00392156862745098,.5215686274509804,.4431372549019608],Name:"Brewer Diverging Brown-Blue-Green (4)",NanColor:[.00392156862745098,.5215686274509804,.4431372549019608]},{IndexedColors:[.8470588235294118,.7019607843137254,.396078431372549,.9607843137254902,.9607843137254902,.9607843137254902,.3529411764705883,.7058823529411765,.6745098039215687],Name:"Brewer Diverging Brown-Blue-Green (3)",NanColor:[.3529411764705883,.7058823529411765,.6745098039215687]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8980392156862745,.9607843137254902,.9764705882352941,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.4274509803921568,.1725490196078431,0,.2666666666666667,.1058823529411765],Name:"Brewer Sequential Blue-Green (9)",NanColor:[0,.2666666666666667,.1058823529411765]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8980392156862745,.9607843137254902,.9764705882352941,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.3450980392156863,.1411764705882353],Name:"Brewer Sequential Blue-Green (8)",NanColor:[0,.3450980392156863,.1411764705882353]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.8,.9254901960784314,.9019607843137255,.8,.9254901960784314,.9019607843137255,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.3450980392156863,.1411764705882353],Name:"Brewer Sequential Blue-Green (7)",NanColor:[0,.3450980392156863,.1411764705882353]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.1725490196078431,.6352941176470588,.3725490196078431,0,.4274509803921568,.1725490196078431],Name:"Brewer Sequential Blue-Green (6)",NanColor:[0,.4274509803921568,.1725490196078431]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.6980392156862745,.8862745098039215,.8862745098039215,.4,.7607843137254902,.6431372549019608,.1725490196078431,.6352941176470588,.3725490196078431,0,.4274509803921568,.1725490196078431],Name:"Brewer Sequential Blue-Green (5)",NanColor:[0,.4274509803921568,.1725490196078431]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.6980392156862745,.8862745098039215,.8862745098039215,.4,.7607843137254902,.6431372549019608,.1372549019607843,.5450980392156862,.2705882352941176],Name:"Brewer Sequential Blue-Green (4)",NanColor:[.1372549019607843,.5450980392156862,.2705882352941176]},{IndexedColors:[.8980392156862745,.9607843137254902,.9764705882352941,.6,.8470588235294118,.788235294117647,.1725490196078431,.6352941176470588,.3725490196078431],Name:"Brewer Sequential Blue-Green (3)",NanColor:[.1725490196078431,.6352941176470588,.3725490196078431]},{IndexedColors:[1,1,.8980392156862745,1,.9686274509803922,.7372549019607844,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.6,.203921568627451,.01568627450980392,.4,.1450980392156863,.02352941176470588],Name:"Brewer Sequential Yellow-Orange-Brown (9)",NanColor:[.4,.1450980392156863,.02352941176470588]},{IndexedColors:[1,1,.8980392156862745,1,.9686274509803922,.7372549019607844,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.5490196078431373,.1764705882352941,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (8)",NanColor:[.5490196078431373,.1764705882352941,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.5490196078431373,.1764705882352941,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (7)",NanColor:[.5490196078431373,.1764705882352941,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.8509803921568627,.3725490196078431,.05490196078431372,.6,.203921568627451,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (6)",NanColor:[.6,.203921568627451,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8509803921568627,.5568627450980392,.996078431372549,.6,.1607843137254902,.8509803921568627,.3725490196078431,.05490196078431372,.6,.203921568627451,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (5)",NanColor:[.6,.203921568627451,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8509803921568627,.5568627450980392,.996078431372549,.6,.1607843137254902,.8,.2980392156862745,.00784313725490196],Name:"Brewer Sequential Yellow-Orange-Brown (4)",NanColor:[.8,.2980392156862745,.00784313725490196]},{IndexedColors:[1,.9686274509803922,.7372549019607844,.996078431372549,.7686274509803922,.3098039215686275,.8509803921568627,.3725490196078431,.05490196078431372],Name:"Brewer Sequential Yellow-Orange-Brown (3)",NanColor:[.8509803921568627,.3725490196078431,.05490196078431372]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8784313725490196,.9254901960784314,.9568627450980393,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.5058823529411764,.05882352941176471,.4862745098039216,.3019607843137255,0,.2941176470588235],Name:"Brewer Sequential Blue-Purple (9)",NanColor:[.3019607843137255,0,.2941176470588235]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8784313725490196,.9254901960784314,.9568627450980393,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.4313725490196079,.00392156862745098,.4196078431372549],Name:"Brewer Sequential Blue-Purple (8)",NanColor:[.4313725490196079,.00392156862745098,.4196078431372549]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.4313725490196079,.00392156862745098,.4196078431372549],Name:"Brewer Sequential Blue-Purple (7)",NanColor:[.4313725490196079,.00392156862745098,.4196078431372549]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.3372549019607843,.6549019607843137,.5058823529411764,.05882352941176471,.4862745098039216],Name:"Brewer Sequential Blue-Purple (6)",NanColor:[.5058823529411764,.05882352941176471,.4862745098039216]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7019607843137254,.803921568627451,.8901960784313725,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.3372549019607843,.6549019607843137,.5058823529411764,.05882352941176471,.4862745098039216],Name:"Brewer Sequential Blue-Purple (5)",NanColor:[.5058823529411764,.05882352941176471,.4862745098039216]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7019607843137254,.803921568627451,.8901960784313725,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.2549019607843137,.615686274509804],Name:"Brewer Sequential Blue-Purple (4)",NanColor:[.5333333333333333,.2549019607843137,.615686274509804]},{IndexedColors:[.8784313725490196,.9254901960784314,.9568627450980393,.6196078431372549,.7372549019607844,.8549019607843137,.5333333333333333,.3372549019607843,.6549019607843137],Name:"Brewer Sequential Blue-Purple (3)",NanColor:[.5333333333333333,.3372549019607843,.6549019607843137]},{IndexedColors:[.4980392156862745,.788235294117647,.4980392156862745,.7450980392156863,.6823529411764706,.8313725490196079,.9921568627450981,.7529411764705882,.5254901960784314,1,1,.6,.2196078431372549,.4235294117647059,.6901960784313725,.9411764705882353,.00784313725490196,.4980392156862745,.7490196078431373,.3568627450980392,.09019607843137255,.4,.4,.4],Name:"Brewer Qualitative Accent",NanColor:[.4,.4,.4]},{IndexedColors:[.1058823529411765,.6196078431372549,.4666666666666667,.8509803921568627,.3725490196078431,.00784313725490196,.4588235294117647,.4392156862745098,.7019607843137254,.9058823529411765,.1607843137254902,.5411764705882353,.4,.6509803921568628,.1176470588235294,.9019607843137255,.6705882352941176,.00784313725490196,.6509803921568628,.4627450980392157,.1137254901960784,.4,.4,.4],Name:"Brewer Qualitative Dark2",NanColor:[.4,.4,.4]},{IndexedColors:[.4,.7607843137254902,.6470588235294118,.9882352941176471,.5529411764705883,.3843137254901961,.5529411764705883,.6274509803921569,.796078431372549,.9058823529411765,.5411764705882353,.7647058823529411,.6509803921568628,.8470588235294118,.3294117647058823,1,.8509803921568627,.1843137254901961,.8980392156862745,.7686274509803922,.5803921568627451,.7019607843137254,.7019607843137254,.7019607843137254],Name:"Brewer Qualitative Set2",NanColor:[.7019607843137254,.7019607843137254,.7019607843137254]},{IndexedColors:[.7019607843137254,.8862745098039215,.803921568627451,.9921568627450981,.803921568627451,.6745098039215687,.796078431372549,.8352941176470589,.9098039215686274,.9568627450980393,.792156862745098,.8941176470588236,.9019607843137255,.9607843137254902,.788235294117647,1,.9490196078431372,.6823529411764706,.9450980392156862,.8862745098039215,.8,.8,.8,.8],Name:"Brewer Qualitative Pastel2",NanColor:[.8,.8,.8]},{IndexedColors:[.984313725490196,.7058823529411765,.6823529411764706,.7019607843137254,.803921568627451,.8901960784313725,.8,.9215686274509803,.7725490196078432,.8705882352941177,.796078431372549,.8941176470588236,.996078431372549,.8509803921568627,.6509803921568628,1,1,.8,.8980392156862745,.8470588235294118,.7411764705882353,.9921568627450981,.8549019607843137,.9254901960784314,.9490196078431372,.9490196078431372,.9490196078431372],Name:"Brewer Qualitative Pastel1",NanColor:[.9490196078431372,.9490196078431372,.9490196078431372]},{IndexedColors:[.8941176470588236,.1019607843137255,.1098039215686274,.2156862745098039,.4941176470588236,.7215686274509804,.3019607843137255,.6862745098039216,.2901960784313726,.596078431372549,.3058823529411765,.6392156862745098,1,.4980392156862745,0,1,1,.2,.6509803921568628,.3372549019607843,.1568627450980392,.9686274509803922,.5058823529411764,.7490196078431373,.6,.6,.6],Name:"Brewer Qualitative Set1",NanColor:[.6,.6,.6]},{IndexedColors:[.6509803921568628,.807843137254902,.8901960784313725,.1215686274509804,.4705882352941176,.7058823529411765,.6980392156862745,.8745098039215686,.5411764705882353,.2,.6274509803921569,.1725490196078431,.984313725490196,.6039215686274509,.6,.8901960784313725,.1019607843137255,.1098039215686274,.9921568627450981,.7490196078431373,.4352941176470588,1,.4980392156862745,0,.792156862745098,.6980392156862745,.8392156862745098,.4156862745098039,.2392156862745098,.6039215686274509,1,1,.6],Name:"Brewer Qualitative Paired",NanColor:[1,1,.6]},{IndexedColors:[.5529411764705883,.8274509803921568,.7803921568627451,1,1,.7019607843137254,.7450980392156863,.7294117647058823,.8549019607843137,.984313725490196,.5019607843137255,.4470588235294118,.5019607843137255,.6941176470588235,.8274509803921568,.9921568627450981,.7058823529411765,.3843137254901961,.7019607843137254,.8705882352941177,.4117647058823529,.9882352941176471,.803921568627451,.8980392156862745,.8509803921568627,.8509803921568627,.8509803921568627,.7372549019607844,.5019607843137255,.7411764705882353,.8,.9215686274509803,.7725490196078432,1,.9294117647058824,.4352941176470588],Name:"Brewer Qualitative Set3",NanColor:[1,.9294117647058824,.4352941176470588]},{IndexedColors:[1,0,0,1,.862745,0,0,.695201,0],Name:"Traffic Lights",NanColor:[.803922,0,.803922]},{IndexedColors:[.908659,.604013,.581857,1,.862745,0,0,.695201,0],Name:"Traffic Lights For Deuteranopes",NanColor:[.803922,0,.803922]},{IndexedColors:[.4196078431372549,0,.07058823529411765,.9019607843137255,.9411764705882353,.0196078431372549,.01568627450980392,.6196078431372549,.00784313725490196],Name:"Traffic Lights For Deuteranopes 2",NanColor:[.803922,0,.803922]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Muted Blue-Green",NanColor:[.25,0,0],RGBPoints:[0,.109804,.27451,.301961,.02,.129412,.309804,.341176,.05,.14902,.341176,.380392,.1,.188235,.403922,.458824,.15,.227451,.447059,.521569,.2,.290196,.494118,.588235,.25,.368627,.552941,.670588,.3,.458824,.619608,.74902,.35,.588235,.713725,.85098,.4,.72549,.815686,.941176,.45,.831373,.882353,.980392,.475,.909804,.933333,1,.5,.980392,.984314,1,.5,.996078,1,.94902,.5,1,1,.980392,.5,.980392,.984314,1,.525,.972549,.988235,.890196,.55,.917647,.960784,.835294,.6,.835294,.921569,.772549,.65,.768627,.901961,.737255,.7,.670588,.831373,.654902,.75,.576471,.760784,.584314,.8,.498039,.678431,.521569,.85,.392157,.560784,.427451,.9,.294118,.45098,.333333,.95,.211765,.34902,.254902,1,.152941,.278431,.196078]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Green-Blue Asymmetric Divergent (62Blbc)",NanColor:[.25,0,0],RGBPoints:[0,.121569,.2,.145098,.05,.196078,.301961,.223529,.1,.258824,.4,.278431,.2,.341176,.54902,.341176,.25,.419608,.619608,.376471,.3,.545098,.701961,.392157,.35,.643137,.780392,.403922,.4,.729412,.819608,.45098,.45,.811765,.870588,.521569,.5,.898039,.909804,.564706,.55,.941176,.92549,.686275,.6,.960784,.94902,.776471,.64,1,1,1,.65,.890196,.988235,.972549,.7,.721569,.894118,.901961,.75,.631373,.823529,.839216,.8,.517647,.662745,.701961,.85,.384314,.494118,.54902,.9,.298039,.360784,.45098,.95,.223529,.25098,.34902,.99,.156863,.172549,.25098,1,.137255,.137255,.188235]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Asymmtrical Earth Tones (6_21b)",NanColor:[.25,0,0],RGBPoints:[0,.141176,.14902,.2,.05,.215686,.258824,.321569,.1,.243137,.368627,.380392,.15,.27451,.439216,.4,.2,.32549,.501961,.384314,.25,.403922,.6,.419608,.3,.486275,.701961,.454902,.35,.556863,.74902,.494118,.4,.670588,.8,.545098,.5,.854902,.901961,.631373,.55,.92549,.941176,.694118,.6,.960784,.94902,.776471,.65,.988235,.968627,.909804,.7,.839216,.815686,.772549,.75,.701961,.662745,.615686,.8,.6,.529412,.478431,.85,.501961,.403922,.360784,.9,.439216,.313725,.290196,1,.301961,.164706,.176471]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Yellow 15",NanColor:[.25,0,0],RGBPoints:[0,1,1,.988235,.002,1,1,.988235,.05,.984314,.988235,.843137,.1,.988235,.988235,.741176,.15,.980392,.968627,.654902,.2,.980392,.945098,.576471,.25,.968627,.905882,.486275,.3,.968627,.862745,.388235,.35,.960784,.803922,.286275,.4,.94902,.741176,.219608,.45,.941176,.678431,.14902,.5,.929412,.607843,.094118,.55,.921569,.545098,.054902,.6,.909804,.486275,.035294,.65,.890196,.411765,.019608,.7,.8,.305882,0,.75,.760784,.239216,0,.8,.678431,.180392,.011765,.85,.6,.121569,.023529,.9,.501961,.054902,.031373,.95,.4,.039216,.058824,1,.301961,.047059,.090196]},{ColorSpace:"Diverging",Name:"Magma (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.001462,466e-6,.013866,.003922,.002258,.001295,.018331,.007843,.003279,.002305,.023708,.011765,.004512,.00349,.029965,.015686,.00595,.004843,.03713,.019608,.007588,.006356,.044973,.023529,.009426,.008022,.052844,.027451,.011465,.009828,.06075,.031373,.013708,.011771,.068667,.035294,.016156,.01384,.076603,.039216,.018815,.016026,.084584,.043137,.021692,.01832,.09261,.047059,.024792,.020715,.100676,.05098,.028123,.023201,.108787,.054902,.031696,.025765,.116965,.058824,.03552,.028397,.125209,.062745,.039608,.03109,.133515,.066667,.04383,.03383,.141886,.070588,.048062,.036607,.150327,.07451,.05232,.039407,.158841,.078431,.056615,.04216,.167446,.082353,.060949,.044794,.176129,.086275,.06533,.047318,.184892,.090196,.069764,.049726,.193735,.094118,.074257,.052017,.20266,.098039,.078815,.054184,.211667,.101961,.083446,.056225,.220755,.105882,.088155,.058133,.229922,.109804,.092949,.059904,.239164,.113725,.097833,.061531,.248477,.117647,.102815,.06301,.257854,.121569,.107899,.064335,.267289,.12549,.113094,.065492,.276784,.129412,.118405,.066479,.286321,.133333,.123833,.067295,.295879,.137255,.12938,.067935,.305443,.141176,.135053,.068391,.315,.145098,.140858,.068654,.324538,.14902,.146785,.068738,.334011,.152941,.152839,.068637,.343404,.156863,.159018,.068354,.352688,.160784,.165308,.067911,.361816,.164706,.171713,.067305,.370771,.168627,.178212,.066576,.379497,.172549,.184801,.065732,.387973,.176471,.19146,.064818,.396152,.180392,.198177,.063862,.404009,.184314,.204935,.062907,.411514,.188235,.211718,.061992,.418647,.192157,.218512,.061158,.425392,.196078,.225302,.060445,.431742,.2,.232077,.059889,.437695,.203922,.238826,.059517,.443256,.207843,.245543,.059352,.448436,.211765,.25222,.059415,.453248,.215686,.258857,.059706,.45771,.219608,.265447,.060237,.46184,.223529,.271994,.060994,.46566,.227451,.278493,.061978,.46919,.231373,.284951,.063168,.472451,.235294,.291366,.064553,.475462,.239216,.29774,.066117,.478243,.243137,.304081,.067835,.480812,.247059,.310382,.069702,.483186,.25098,.316654,.07169,.48538,.254902,.322899,.073782,.487408,.258824,.329114,.075972,.489287,.262745,.335308,.078236,.491024,.266667,.341482,.080564,.492631,.270588,.347636,.082946,.494121,.27451,.353773,.085373,.495501,.278431,.359898,.087831,.496778,.282353,.366012,.090314,.49796,.286275,.372116,.092816,.499053,.290196,.378211,.095332,.500067,.294118,.384299,.097855,.501002,.298039,.390384,.100379,.501864,.301961,.396467,.102902,.502658,.305882,.402548,.10542,.503386,.309804,.408629,.10793,.504052,.313725,.414709,.110431,.504662,.317647,.420791,.11292,.505215,.321569,.426877,.115395,.505714,.32549,.432967,.117855,.50616,.329412,.439062,.120298,.506555,.333333,.445163,.122724,.506901,.337255,.451271,.125132,.507198,.341176,.457386,.127522,.507448,.345098,.463508,.129893,.507652,.34902,.46964,.132245,.507809,.352941,.47578,.134577,.507921,.356863,.481929,.136891,.507989,.360784,.488088,.139186,.508011,.364706,.494258,.141462,.507988,.368627,.500438,.143719,.50792,.372549,.506629,.145958,.507806,.376471,.512831,.148179,.507648,.380392,.519045,.150383,.507443,.384314,.52527,.152569,.507192,.388235,.531507,.154739,.506895,.392157,.537755,.156894,.506551,.396078,.544015,.159033,.506159,.4,.550287,.161158,.505719,.403922,.556571,.163269,.50523,.407843,.562866,.165368,.504692,.411765,.569172,.167454,.504105,.415686,.57549,.16953,.503466,.419608,.581819,.171596,.502777,.423529,.588158,.173652,.502035,.427451,.594508,.175701,.501241,.431373,.600868,.177743,.500394,.435294,.607238,.179779,.499492,.439216,.613617,.181811,.498536,.443137,.620005,.18384,.497524,.447059,.626401,.185867,.496456,.45098,.632805,.187893,.495332,.454902,.639216,.189921,.49415,.458824,.645633,.191952,.49291,.462745,.652056,.193986,.491611,.466667,.658483,.196027,.490253,.470588,.664915,.198075,.488836,.47451,.671349,.200133,.487358,.478431,.677786,.202203,.485819,.482353,.684224,.204286,.484219,.486275,.690661,.206384,.482558,.490196,.697098,.208501,.480835,.494118,.703532,.210638,.479049,.498039,.709962,.212797,.477201,.501961,.716387,.214982,.47529,.505882,.722805,.217194,.473316,.509804,.729216,.219437,.471279,.513725,.735616,.221713,.46918,.517647,.742004,.224025,.467018,.521569,.748378,.226377,.464794,.52549,.754737,.228772,.462509,.529412,.761077,.231214,.460162,.533333,.767398,.233705,.457755,.537255,.773695,.236249,.455289,.541176,.779968,.238851,.452765,.545098,.786212,.241514,.450184,.54902,.792427,.244242,.447543,.552941,.798608,.24704,.444848,.556863,.804752,.249911,.442102,.560784,.810855,.252861,.439305,.564706,.816914,.255895,.436461,.568627,.822926,.259016,.433573,.572549,.828886,.262229,.430644,.576471,.834791,.26554,.427671,.580392,.840636,.268953,.424666,.584314,.846416,.272473,.421631,.588235,.852126,.276106,.418573,.592157,.857763,.279857,.415496,.596078,.86332,.283729,.412403,.6,.868793,.287728,.409303,.603922,.874176,.291859,.406205,.607843,.879464,.296125,.403118,.611765,.884651,.30053,.400047,.615686,.889731,.305079,.397002,.619608,.8947,.309773,.393995,.623529,.899552,.314616,.391037,.627451,.904281,.31961,.388137,.631373,.908884,.324755,.385308,.635294,.913354,.330052,.382563,.639216,.917689,.3355,.379915,.643137,.921884,.341098,.377376,.647059,.925937,.346844,.374959,.65098,.929845,.352734,.372677,.654902,.933606,.358764,.370541,.658824,.937221,.364929,.368567,.662745,.940687,.371224,.366762,.666667,.944006,.377643,.365136,.670588,.94718,.384178,.363701,.67451,.95021,.39082,.362468,.678431,.953099,.397563,.361438,.682353,.955849,.4044,.360619,.686275,.958464,.411324,.360014,.690196,.960949,.418323,.35963,.694118,.96331,.42539,.359469,.698039,.965549,.432519,.359529,.701961,.967671,.439703,.35981,.705882,.96968,.446936,.360311,.709804,.971582,.45421,.36103,.713725,.973381,.46152,.361965,.717647,.975082,.468861,.363111,.721569,.97669,.476226,.364466,.72549,.97821,.483612,.366025,.729412,.979645,.491014,.367783,.733333,.981,.498428,.369734,.737255,.982279,.505851,.371874,.741176,.983485,.51328,.374198,.745098,.984622,.520713,.376698,.74902,.985693,.528148,.379371,.752941,.9867,.535582,.38221,.756863,.987646,.543015,.38521,.760784,.988533,.550446,.388365,.764706,.989363,.557873,.391671,.768627,.990138,.565296,.395122,.772549,.990871,.572706,.398714,.776471,.991558,.580107,.402441,.780392,.992196,.587502,.406299,.784314,.992785,.594891,.410283,.788235,.993326,.602275,.41439,.792157,.993834,.609644,.418613,.796078,.994309,.616999,.42295,.8,.994738,.62435,.427397,.803922,.995122,.631696,.431951,.807843,.99548,.639027,.436607,.811765,.99581,.646344,.441361,.815686,.996096,.653659,.446213,.819608,.996341,.660969,.45116,.823529,.99658,.668256,.456192,.827451,.996775,.675541,.461314,.831373,.996925,.682828,.466526,.835294,.997077,.690088,.471811,.839216,.997186,.697349,.477182,.843137,.997254,.704611,.482635,.847059,.997325,.711848,.488154,.85098,.997351,.719089,.493755,.854902,.997351,.726324,.499428,.858824,.997341,.733545,.505167,.862745,.997285,.740772,.510983,.866667,.997228,.747981,.516859,.870588,.997138,.75519,.522806,.87451,.997019,.762398,.528821,.878431,.996898,.769591,.534892,.882353,.996727,.776795,.541039,.886275,.996571,.783977,.547233,.890196,.996369,.791167,.553499,.894118,.996162,.798348,.55982,.898039,.995932,.805527,.566202,.901961,.99568,.812706,.572645,.905882,.995424,.819875,.57914,.909804,.995131,.827052,.585701,.913725,.994851,.834213,.592307,.917647,.994524,.841387,.598983,.921569,.994222,.84854,.605696,.92549,.993866,.855711,.612482,.929412,.993545,.862859,.619299,.933333,.99317,.870024,.626189,.937255,.992831,.877168,.633109,.941176,.99244,.88433,.640099,.945098,.992089,.89147,.647116,.94902,.991688,.898627,.654202,.952941,.991332,.905763,.661309,.956863,.99093,.912915,.668481,.960784,.99057,.920049,.675675,.964706,.990175,.927196,.682926,.968627,.989815,.934329,.690198,.972549,.989434,.94147,.697519,.976471,.989077,.948604,.704863,.980392,.988717,.955742,.712242,.984314,.988367,.962878,.719649,.988235,.988033,.970012,.727077,.992157,.987691,.977154,.734536,.996078,.987387,.984288,.742002,1,.987053,.991438,.749504]},{ColorSpace:"Diverging",Name:"Inferno (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.001462,466e-6,.013866,.003922,.002267,.00127,.01857,.007843,.003299,.002249,.024239,.011765,.004547,.003392,.030909,.015686,.006006,.004692,.038558,.019608,.007676,.006136,.046836,.023529,.009561,.007713,.055143,.027451,.011663,.009417,.06346,.031373,.013995,.011225,.071862,.035294,.016561,.013136,.080282,.039216,.019373,.015133,.088767,.043137,.022447,.017199,.097327,.047059,.025793,.019331,.10593,.05098,.029432,.021503,.114621,.054902,.033385,.023702,.123397,.058824,.037668,.025921,.132232,.062745,.042253,.028139,.141141,.066667,.046915,.030324,.150164,.070588,.051644,.032474,.159254,.07451,.056449,.034569,.168414,.078431,.06134,.03659,.177642,.082353,.066331,.038504,.186962,.086275,.071429,.040294,.196354,.090196,.076637,.041905,.205799,.094118,.081962,.043328,.215289,.098039,.087411,.044556,.224813,.101961,.09299,.045583,.234358,.105882,.098702,.046402,.243904,.109804,.104551,.047008,.25343,.113725,.110536,.047399,.262912,.117647,.116656,.047574,.272321,.121569,.122908,.047536,.281624,.12549,.129285,.047293,.290788,.129412,.135778,.046856,.299776,.133333,.142378,.046242,.308553,.137255,.149073,.045468,.317085,.141176,.15585,.044559,.325338,.145098,.162689,.043554,.333277,.14902,.169575,.042489,.340874,.152941,.176493,.041402,.348111,.156863,.183429,.040329,.354971,.160784,.190367,.039309,.361447,.164706,.197297,.0384,.367535,.168627,.204209,.037632,.373238,.172549,.211095,.03703,.378563,.176471,.217949,.036615,.383522,.180392,.224763,.036405,.388129,.184314,.231538,.036405,.3924,.188235,.238273,.036621,.396353,.192157,.244967,.037055,.400007,.196078,.25162,.037705,.403378,.2,.258234,.038571,.406485,.203922,.26481,.039647,.409345,.207843,.271347,.040922,.411976,.211765,.27785,.042353,.414392,.215686,.284321,.043933,.416608,.219608,.290763,.045644,.418637,.223529,.297178,.04747,.420491,.227451,.303568,.049396,.422182,.231373,.309935,.051407,.423721,.235294,.316282,.05349,.425116,.239216,.32261,.055634,.426377,.243137,.328921,.057827,.427511,.247059,.335217,.06006,.428524,.25098,.3415,.062325,.429425,.254902,.347771,.064616,.430217,.258824,.354032,.066925,.430906,.262745,.360284,.069247,.431497,.266667,.366529,.071579,.431994,.270588,.372768,.073915,.4324,.27451,.379001,.076253,.432719,.278431,.385228,.078591,.432955,.282353,.391453,.080927,.433109,.286275,.397674,.083257,.433183,.290196,.403894,.08558,.433179,.294118,.410113,.087896,.433098,.298039,.416331,.090203,.432943,.301961,.422549,.092501,.432714,.305882,.428768,.09479,.432412,.309804,.434987,.097069,.432039,.313725,.441207,.099338,.431594,.317647,.447428,.101597,.43108,.321569,.453651,.103848,.430498,.32549,.459875,.106089,.429846,.329412,.4661,.108322,.429125,.333333,.472328,.110547,.428334,.337255,.478558,.112764,.427475,.341176,.484789,.114974,.426548,.345098,.491022,.117179,.425552,.34902,.497257,.119379,.424488,.352941,.503493,.121575,.423356,.356863,.50973,.123769,.422156,.360784,.515967,.12596,.420887,.364706,.522206,.12815,.419549,.368627,.528444,.130341,.418142,.372549,.534683,.132534,.416667,.376471,.54092,.134729,.415123,.380392,.547157,.136929,.413511,.384314,.553392,.139134,.411829,.388235,.559624,.141346,.410078,.392157,.565854,.143567,.408258,.396078,.572081,.145797,.406369,.4,.578304,.148039,.404411,.403922,.584521,.150294,.402385,.407843,.590734,.152563,.40029,.411765,.59694,.154848,.398125,.415686,.603139,.157151,.395891,.419608,.60933,.159474,.393589,.423529,.615513,.161817,.391219,.427451,.621685,.164184,.388781,.431373,.627847,.166575,.386276,.435294,.633998,.168992,.383704,.439216,.640135,.171438,.381065,.443137,.64626,.173914,.378359,.447059,.652369,.176421,.375586,.45098,.658463,.178962,.372748,.454902,.66454,.181539,.369846,.458824,.670599,.184153,.366879,.462745,.676638,.186807,.363849,.466667,.682656,.189501,.360757,.470588,.688653,.192239,.357603,.47451,.694627,.195021,.354388,.478431,.700576,.197851,.351113,.482353,.7065,.200728,.347777,.486275,.712396,.203656,.344383,.490196,.718264,.206636,.340931,.494118,.724103,.20967,.337424,.498039,.729909,.212759,.333861,.501961,.735683,.215906,.330245,.505882,.741423,.219112,.326576,.509804,.747127,.222378,.322856,.513725,.752794,.225706,.319085,.517647,.758422,.229097,.315266,.521569,.76401,.232554,.311399,.52549,.769556,.236077,.307485,.529412,.775059,.239667,.303526,.533333,.780517,.243327,.299523,.537255,.785929,.247056,.295477,.541176,.791293,.250856,.29139,.545098,.796607,.254728,.287264,.54902,.801871,.258674,.283099,.552941,.807082,.262692,.278898,.556863,.812239,.266786,.274661,.560784,.817341,.270954,.27039,.564706,.822386,.275197,.266085,.568627,.827372,.279517,.26175,.572549,.832299,.283913,.257383,.576471,.837165,.288385,.252988,.580392,.841969,.292933,.248564,.584314,.846709,.297559,.244113,.588235,.851384,.30226,.239636,.592157,.855992,.307038,.235133,.596078,.860533,.311892,.230606,.6,.865006,.316822,.226055,.603922,.869409,.321827,.221482,.607843,.873741,.326906,.216886,.611765,.878001,.33206,.212268,.615686,.882188,.337287,.207628,.619608,.886302,.342586,.202968,.623529,.890341,.347957,.198286,.627451,.894305,.353399,.193584,.631373,.898192,.358911,.18886,.635294,.902003,.364492,.184116,.639216,.905735,.37014,.17935,.643137,.90939,.375856,.174563,.647059,.912966,.381636,.169755,.65098,.916462,.387481,.164924,.654902,.919879,.393389,.16007,.658824,.923215,.399359,.155193,.662745,.92647,.405389,.150292,.666667,.929644,.411479,.145367,.670588,.932737,.417627,.140417,.67451,.935747,.423831,.13544,.678431,.938675,.430091,.130438,.682353,.941521,.436405,.125409,.686275,.944285,.442772,.120354,.690196,.946965,.449191,.115272,.694118,.949562,.45566,.110164,.698039,.952075,.462178,.105031,.701961,.954506,.468744,.099874,.705882,.956852,.475356,.094695,.709804,.959114,.482014,.089499,.713725,.961293,.488716,.084289,.717647,.963387,.495462,.079073,.721569,.965397,.502249,.073859,.72549,.967322,.509078,.068659,.729412,.969163,.515946,.063488,.733333,.970919,.522853,.058367,.737255,.97259,.529798,.053324,.741176,.974176,.53678,.048392,.745098,.975677,.543798,.043618,.74902,.977092,.55085,.03905,.752941,.978422,.557937,.034931,.756863,.979666,.565057,.031409,.760784,.980824,.572209,.028508,.764706,.981895,.579392,.02625,.768627,.982881,.586606,.024661,.772549,.983779,.593849,.02377,.776471,.984591,.601122,.023606,.780392,.985315,.608422,.024202,.784314,.985952,.61575,.025592,.788235,.986502,.623105,.027814,.792157,.986964,.630485,.030908,.796078,.987337,.63789,.034916,.8,.987622,.64532,.039886,.803922,.987819,.652773,.045581,.807843,.987926,.66025,.05175,.811765,.987945,.667748,.058329,.815686,.987874,.675267,.065257,.819608,.987714,.682807,.072489,.823529,.987464,.690366,.07999,.827451,.987124,.697944,.087731,.831373,.986694,.70554,.095694,.835294,.986175,.713153,.103863,.839216,.985566,.720782,.112229,.843137,.984865,.728427,.120785,.847059,.984075,.736087,.129527,.85098,.983196,.743758,.138453,.854902,.982228,.751442,.147565,.858824,.981173,.759135,.156863,.862745,.980032,.766837,.166353,.866667,.978806,.774545,.176037,.870588,.977497,.782258,.185923,.87451,.976108,.789974,.196018,.878431,.974638,.797692,.206332,.882353,.973088,.805409,.216877,.886275,.971468,.813122,.227658,.890196,.969783,.820825,.238686,.894118,.968041,.828515,.249972,.898039,.966243,.836191,.261534,.901961,.964394,.843848,.273391,.905882,.962517,.851476,.285546,.909804,.960626,.859069,.29801,.913725,.95872,.866624,.31082,.917647,.956834,.874129,.323974,.921569,.954997,.881569,.337475,.92549,.953215,.888942,.351369,.929412,.951546,.896226,.365627,.933333,.950018,.903409,.380271,.937255,.948683,.910473,.395289,.941176,.947594,.917399,.410665,.945098,.946809,.924168,.426373,.94902,.946392,.930761,.442367,.952941,.946403,.937159,.458592,.956863,.946903,.943348,.47497,.960784,.947937,.949318,.491426,.964706,.949545,.955063,.50786,.968627,.95174,.960587,.524203,.972549,.954529,.965896,.540361,.976471,.957896,.971003,.556275,.980392,.961812,.975924,.571925,.984314,.966249,.980678,.587206,.988235,.971162,.985282,.602154,.992157,.976511,.989753,.61676,.996078,.982257,.994109,.631017,1,.988362,.998364,.644924]},{ColorSpace:"Diverging",Name:"Plasma (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.050383,.029803,.527975,.003922,.063536,.028426,.533124,.007843,.075353,.027206,.538007,.011765,.086222,.026125,.542658,.015686,.096379,.025165,.547103,.019608,.10598,.024309,.551368,.023529,.115124,.023556,.555468,.027451,.123903,.022878,.559423,.031373,.132381,.022258,.56325,.035294,.140603,.021687,.566959,.039216,.148607,.021154,.570562,.043137,.156421,.020651,.574065,.047059,.16407,.020171,.577478,.05098,.171574,.019706,.580806,.054902,.17895,.019252,.584054,.058824,.186213,.018803,.587228,.062745,.193374,.018354,.59033,.066667,.200445,.017902,.593364,.070588,.207435,.017442,.596333,.07451,.21435,.016973,.599239,.078431,.221197,.016497,.602083,.082353,.227983,.016007,.604867,.086275,.234715,.015502,.607592,.090196,.241396,.014979,.610259,.094118,.248032,.014439,.612868,.098039,.254627,.013882,.615419,.101961,.261183,.013308,.617911,.105882,.267703,.012716,.620346,.109804,.274191,.012109,.622722,.113725,.280648,.011488,.625038,.117647,.287076,.010855,.627295,.121569,.293478,.010213,.62949,.12549,.299855,.009561,.631624,.129412,.30621,.008902,.633694,.133333,.312543,.008239,.6357,.137255,.318856,.007576,.63764,.141176,.32515,.006915,.639512,.145098,.331426,.006261,.641316,.14902,.337683,.005618,.643049,.152941,.343925,.004991,.64471,.156863,.35015,.004382,.646298,.160784,.356359,.003798,.64781,.164706,.362553,.003243,.649245,.168627,.368733,.002724,.650601,.172549,.374897,.002245,.651876,.176471,.381047,.001814,.653068,.180392,.387183,.001434,.654177,.184314,.393304,.001114,.655199,.188235,.399411,859e-6,.656133,.192157,.405503,678e-6,.656977,.196078,.41158,577e-6,.65773,.2,.417642,564e-6,.65839,.203922,.423689,646e-6,.658956,.207843,.429719,831e-6,.659425,.211765,.435734,.001127,.659797,.215686,.441732,.00154,.660069,.219608,.447714,.00208,.66024,.223529,.453677,.002755,.66031,.227451,.459623,.003574,.660277,.231373,.46555,.004545,.660139,.235294,.471457,.005678,.659897,.239216,.477344,.00698,.659549,.243137,.48321,.00846,.659095,.247059,.489055,.010127,.658534,.25098,.494877,.01199,.657865,.254902,.500678,.014055,.657088,.258824,.506454,.016333,.656202,.262745,.512206,.018833,.655209,.266667,.517933,.021563,.654109,.270588,.523633,.024532,.652901,.27451,.529306,.027747,.651586,.278431,.534952,.031217,.650165,.282353,.54057,.03495,.64864,.286275,.546157,.038954,.64701,.290196,.551715,.043136,.645277,.294118,.557243,.047331,.643443,.298039,.562738,.051545,.641509,.301961,.568201,.055778,.639477,.305882,.573632,.060028,.637349,.309804,.579029,.064296,.635126,.313725,.584391,.068579,.632812,.317647,.589719,.072878,.630408,.321569,.595011,.07719,.627917,.32549,.600266,.081516,.625342,.329412,.605485,.085854,.622686,.333333,.610667,.090204,.619951,.337255,.615812,.094564,.61714,.341176,.620919,.098934,.614257,.345098,.625987,.103312,.611305,.34902,.631017,.107699,.608287,.352941,.636008,.112092,.605205,.356863,.640959,.116492,.602065,.360784,.645872,.120898,.598867,.364706,.650746,.125309,.595617,.368627,.65558,.129725,.592317,.372549,.660374,.134144,.588971,.376471,.665129,.138566,.585582,.380392,.669845,.142992,.582154,.384314,.674522,.147419,.578688,.388235,.67916,.151848,.575189,.392157,.683758,.156278,.57166,.396078,.688318,.160709,.568103,.4,.69284,.165141,.564522,.403922,.697324,.169573,.560919,.407843,.701769,.174005,.557296,.411765,.706178,.178437,.553657,.415686,.710549,.182868,.550004,.419608,.714883,.187299,.546338,.423529,.719181,.191729,.542663,.427451,.723444,.196158,.538981,.431373,.72767,.200586,.535293,.435294,.731862,.205013,.531601,.439216,.736019,.209439,.527908,.443137,.740143,.213864,.524216,.447059,.744232,.218288,.520524,.45098,.748289,.222711,.516834,.454902,.752312,.227133,.513149,.458824,.756304,.231555,.509468,.462745,.760264,.235976,.505794,.466667,.764193,.240396,.502126,.470588,.76809,.244817,.498465,.47451,.771958,.249237,.494813,.478431,.775796,.253658,.491171,.482353,.779604,.258078,.487539,.486275,.783383,.2625,.483918,.490196,.787133,.266922,.480307,.494118,.790855,.271345,.476706,.498039,.794549,.27577,.473117,.501961,.798216,.280197,.469538,.505882,.801855,.284626,.465971,.509804,.805467,.289057,.462415,.513725,.809052,.293491,.45887,.517647,.812612,.297928,.455338,.521569,.816144,.302368,.451816,.52549,.819651,.306812,.448306,.529412,.823132,.311261,.444806,.533333,.826588,.315714,.441316,.537255,.830018,.320172,.437836,.541176,.833422,.324635,.434366,.545098,.836801,.329105,.430905,.54902,.840155,.33358,.427455,.552941,.843484,.338062,.424013,.556863,.846788,.342551,.420579,.560784,.850066,.347048,.417153,.564706,.853319,.351553,.413734,.568627,.856547,.356066,.410322,.572549,.85975,.360588,.406917,.576471,.862927,.365119,.403519,.580392,.866078,.36966,.400126,.584314,.869203,.374212,.396738,.588235,.872303,.378774,.393355,.592157,.875376,.383347,.389976,.596078,.878423,.387932,.3866,.6,.881443,.392529,.383229,.603922,.884436,.397139,.37986,.607843,.887402,.401762,.376494,.611765,.89034,.406398,.37313,.615686,.89325,.411048,.369768,.619608,.896131,.415712,.366407,.623529,.898984,.420392,.363047,.627451,.901807,.425087,.359688,.631373,.904601,.429797,.356329,.635294,.907365,.434524,.35297,.639216,.910098,.439268,.34961,.643137,.9128,.444029,.346251,.647059,.915471,.448807,.34289,.65098,.918109,.453603,.339529,.654902,.920714,.458417,.336166,.658824,.923287,.463251,.332801,.662745,.925825,.468103,.329435,.666667,.928329,.472975,.326067,.670588,.930798,.477867,.322697,.67451,.933232,.48278,.319325,.678431,.93563,.487712,.315952,.682353,.93799,.492667,.312575,.686275,.940313,.497642,.309197,.690196,.942598,.502639,.305816,.694118,.944844,.507658,.302433,.698039,.947051,.512699,.299049,.701961,.949217,.517763,.295662,.705882,.951344,.52285,.292275,.709804,.953428,.52796,.288883,.713725,.95547,.533093,.28549,.717647,.957469,.53825,.282096,.721569,.959424,.543431,.278701,.72549,.961336,.548636,.275305,.729412,.963203,.553865,.271909,.733333,.965024,.559118,.268513,.737255,.966798,.564396,.265118,.741176,.968526,.5697,.261721,.745098,.970205,.575028,.258325,.74902,.971835,.580382,.254931,.752941,.973416,.585761,.25154,.756863,.974947,.591165,.248151,.760784,.976428,.596595,.244767,.764706,.977856,.602051,.241387,.768627,.979233,.607532,.238013,.772549,.980556,.613039,.234646,.776471,.981826,.618572,.231287,.780392,.983041,.624131,.227937,.784314,.984199,.629718,.224595,.788235,.985301,.63533,.221265,.792157,.986345,.640969,.217948,.796078,.987332,.646633,.214648,.8,.98826,.652325,.211364,.803922,.989128,.658043,.2081,.807843,.989935,.663787,.204859,.811765,.990681,.669558,.201642,.815686,.991365,.675355,.198453,.819608,.991985,.681179,.195295,.823529,.992541,.68703,.19217,.827451,.993032,.692907,.189084,.831373,.993456,.69881,.186041,.835294,.993814,.704741,.183043,.839216,.994103,.710698,.180097,.843137,.994324,.716681,.177208,.847059,.994474,.722691,.174381,.85098,.994553,.728728,.171622,.854902,.994561,.734791,.168938,.858824,.994495,.74088,.166335,.862745,.994355,.746995,.163821,.866667,.994141,.753137,.161404,.870588,.993851,.759304,.159092,.87451,.993482,.765499,.156891,.878431,.993033,.77172,.154808,.882353,.992505,.777967,.152855,.886275,.991897,.784239,.151042,.890196,.991209,.790537,.149377,.894118,.990439,.796859,.14787,.898039,.989587,.803205,.146529,.901961,.988648,.809579,.145357,.905882,.987621,.815978,.144363,.909804,.986509,.822401,.143557,.913725,.985314,.828846,.142945,.917647,.984031,.835315,.142528,.921569,.982653,.841812,.142303,.92549,.98119,.848329,.142279,.929412,.979644,.854866,.142453,.933333,.977995,.861432,.142808,.937255,.976265,.868016,.143351,.941176,.974443,.874622,.144061,.945098,.97253,.88125,.144923,.94902,.970533,.887896,.145919,.952941,.968443,.894564,.147014,.956863,.966271,.901249,.14818,.960784,.964021,.90795,.14937,.964706,.961681,.914672,.15052,.968627,.959276,.921407,.151566,.972549,.956808,.928152,.152409,.976471,.954287,.934908,.152921,.980392,.951726,.941671,.152925,.984314,.949151,.948435,.152178,.988235,.946602,.95519,.150328,.992157,.944152,.961916,.146861,.996078,.941896,.96859,.140956,1,.940015,.975158,.131326]},{ColorSpace:"Diverging",Name:"Viridis (matplotlib)",NanColor:[1,0,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Eric Firing",RGBPoints:[0,.267004,.004874,.329415,.003922,.26851,.009605,.335427,.007843,.269944,.014625,.341379,.011765,.271305,.019942,.347269,.015686,.272594,.025563,.353093,.019608,.273809,.031497,.358853,.023529,.274952,.037752,.364543,.027451,.276022,.044167,.370164,.031373,.277018,.050344,.375715,.035294,.277941,.056324,.381191,.039216,.278791,.062145,.386592,.043137,.279566,.067836,.391917,.047059,.280267,.073417,.397163,.05098,.280894,.078907,.402329,.054902,.281446,.08432,.407414,.058824,.281924,.089666,.412415,.062745,.282327,.094955,.417331,.066667,.282656,.100196,.42216,.070588,.28291,.105393,.426902,.07451,.283091,.110553,.431554,.078431,.283197,.11568,.436115,.082353,.283229,.120777,.440584,.086275,.283187,.125848,.44496,.090196,.283072,.130895,.449241,.094118,.282884,.13592,.453427,.098039,.282623,.140926,.457517,.101961,.28229,.145912,.46151,.105882,.281887,.150881,.465405,.109804,.281412,.155834,.469201,.113725,.280868,.160771,.472899,.117647,.280255,.165693,.476498,.121569,.279574,.170599,.479997,.12549,.278826,.17549,.483397,.129412,.278012,.180367,.486697,.133333,.277134,.185228,.489898,.137255,.276194,.190074,.493001,.141176,.275191,.194905,.496005,.145098,.274128,.199721,.498911,.14902,.273006,.20452,.501721,.152941,.271828,.209303,.504434,.156863,.270595,.214069,.507052,.160784,.269308,.218818,.509577,.164706,.267968,.223549,.512008,.168627,.26658,.228262,.514349,.172549,.265145,.232956,.516599,.176471,.263663,.237631,.518762,.180392,.262138,.242286,.520837,.184314,.260571,.246922,.522828,.188235,.258965,.251537,.524736,.192157,.257322,.25613,.526563,.196078,.255645,.260703,.528312,.2,.253935,.265254,.529983,.203922,.252194,.269783,.531579,.207843,.250425,.27429,.533103,.211765,.248629,.278775,.534556,.215686,.246811,.283237,.535941,.219608,.244972,.287675,.53726,.223529,.243113,.292092,.538516,.227451,.241237,.296485,.539709,.231373,.239346,.300855,.540844,.235294,.237441,.305202,.541921,.239216,.235526,.309527,.542944,.243137,.233603,.313828,.543914,.247059,.231674,.318106,.544834,.25098,.229739,.322361,.545706,.254902,.227802,.326594,.546532,.258824,.225863,.330805,.547314,.262745,.223925,.334994,.548053,.266667,.221989,.339161,.548752,.270588,.220057,.343307,.549413,.27451,.21813,.347432,.550038,.278431,.21621,.351535,.550627,.282353,.214298,.355619,.551184,.286275,.212395,.359683,.55171,.290196,.210503,.363727,.552206,.294118,.208623,.367752,.552675,.298039,.206756,.371758,.553117,.301961,.204903,.375746,.553533,.305882,.203063,.379716,.553925,.309804,.201239,.38367,.554294,.313725,.19943,.387607,.554642,.317647,.197636,.391528,.554969,.321569,.19586,.395433,.555276,.32549,.1941,.399323,.555565,.329412,.192357,.403199,.555836,.333333,.190631,.407061,.556089,.337255,.188923,.41091,.556326,.341176,.187231,.414746,.556547,.345098,.185556,.41857,.556753,.34902,.183898,.422383,.556944,.352941,.182256,.426184,.55712,.356863,.180629,.429975,.557282,.360784,.179019,.433756,.55743,.364706,.177423,.437527,.557565,.368627,.175841,.44129,.557685,.372549,.174274,.445044,.557792,.376471,.172719,.448791,.557885,.380392,.171176,.45253,.557965,.384314,.169646,.456262,.55803,.388235,.168126,.459988,.558082,.392157,.166617,.463708,.558119,.396078,.165117,.467423,.558141,.4,.163625,.471133,.558148,.403922,.162142,.474838,.55814,.407843,.160665,.47854,.558115,.411765,.159194,.482237,.558073,.415686,.157729,.485932,.558013,.419608,.15627,.489624,.557936,.423529,.154815,.493313,.55784,.427451,.153364,.497,.557724,.431373,.151918,.500685,.557587,.435294,.150476,.504369,.55743,.439216,.149039,.508051,.55725,.443137,.147607,.511733,.557049,.447059,.14618,.515413,.556823,.45098,.144759,.519093,.556572,.454902,.143343,.522773,.556295,.458824,.141935,.526453,.555991,.462745,.140536,.530132,.555659,.466667,.139147,.533812,.555298,.470588,.13777,.537492,.554906,.47451,.136408,.541173,.554483,.478431,.135066,.544853,.554029,.482353,.133743,.548535,.553541,.486275,.132444,.552216,.553018,.490196,.131172,.555899,.552459,.494118,.129933,.559582,.551864,.498039,.128729,.563265,.551229,.501961,.127568,.566949,.550556,.505882,.126453,.570633,.549841,.509804,.125394,.574318,.549086,.513725,.124395,.578002,.548287,.517647,.123463,.581687,.547445,.521569,.122606,.585371,.546557,.52549,.121831,.589055,.545623,.529412,.121148,.592739,.544641,.533333,.120565,.596422,.543611,.537255,.120092,.600104,.54253,.541176,.119738,.603785,.5414,.545098,.119512,.607464,.540218,.54902,.119423,.611141,.538982,.552941,.119483,.614817,.537692,.556863,.119699,.61849,.536347,.560784,.120081,.622161,.534946,.564706,.120638,.625828,.533488,.568627,.12138,.629492,.531973,.572549,.122312,.633153,.530398,.576471,.123444,.636809,.528763,.580392,.12478,.640461,.527068,.584314,.126326,.644107,.525311,.588235,.128087,.647749,.523491,.592157,.130067,.651384,.521608,.596078,.132268,.655014,.519661,.6,.134692,.658636,.517649,.603922,.137339,.662252,.515571,.607843,.14021,.665859,.513427,.611765,.143303,.669459,.511215,.615686,.146616,.67305,.508936,.619608,.150148,.676631,.506589,.623529,.153894,.680203,.504172,.627451,.157851,.683765,.501686,.631373,.162016,.687316,.499129,.635294,.166383,.690856,.496502,.639216,.170948,.694384,.493803,.643137,.175707,.6979,.491033,.647059,.180653,.701402,.488189,.65098,.185783,.704891,.485273,.654902,.19109,.708366,.482284,.658824,.196571,.711827,.479221,.662745,.202219,.715272,.476084,.666667,.20803,.718701,.472873,.670588,.214,.722114,.469588,.67451,.220124,.725509,.466226,.678431,.226397,.728888,.462789,.682353,.232815,.732247,.459277,.686275,.239374,.735588,.455688,.690196,.24607,.73891,.452024,.694118,.252899,.742211,.448284,.698039,.259857,.745492,.444467,.701961,.266941,.748751,.440573,.705882,.274149,.751988,.436601,.709804,.281477,.755203,.432552,.713725,.288921,.758394,.428426,.717647,.296479,.761561,.424223,.721569,.304148,.764704,.419943,.72549,.311925,.767822,.415586,.729412,.319809,.770914,.411152,.733333,.327796,.77398,.40664,.737255,.335885,.777018,.402049,.741176,.344074,.780029,.397381,.745098,.35236,.783011,.392636,.74902,.360741,.785964,.387814,.752941,.369214,.788888,.382914,.756863,.377779,.791781,.377939,.760784,.386433,.794644,.372886,.764706,.395174,.797475,.367757,.768627,.404001,.800275,.362552,.772549,.412913,.803041,.357269,.776471,.421908,.805774,.35191,.780392,.430983,.808473,.346476,.784314,.440137,.811138,.340967,.788235,.449368,.813768,.335384,.792157,.458674,.816363,.329727,.796078,.468053,.818921,.323998,.8,.477504,.821444,.318195,.803922,.487026,.823929,.312321,.807843,.496615,.826376,.306377,.811765,.506271,.828786,.300362,.815686,.515992,.831158,.294279,.819608,.525776,.833491,.288127,.823529,.535621,.835785,.281908,.827451,.545524,.838039,.275626,.831373,.555484,.840254,.269281,.835294,.565498,.84243,.262877,.839216,.575563,.844566,.256415,.843137,.585678,.846661,.249897,.847059,.595839,.848717,.243329,.85098,.606045,.850733,.236712,.854902,.616293,.852709,.230052,.858824,.626579,.854645,.223353,.862745,.636902,.856542,.21662,.866667,.647257,.8584,.209861,.870588,.657642,.860219,.203082,.87451,.668054,.861999,.196293,.878431,.678489,.863742,.189503,.882353,.688944,.865448,.182725,.886275,.699415,.867117,.175971,.890196,.709898,.868751,.169257,.894118,.720391,.87035,.162603,.898039,.730889,.871916,.156029,.901961,.741388,.873449,.149561,.905882,.751884,.874951,.143228,.909804,.762373,.876424,.137064,.913725,.772852,.877868,.131109,.917647,.783315,.879285,.125405,.921569,.79376,.880678,.120005,.92549,.804182,.882046,.114965,.929412,.814576,.883393,.110347,.933333,.82494,.88472,.106217,.937255,.83527,.886029,.102646,.941176,.845561,.887322,.099702,.945098,.85581,.888601,.097452,.94902,.866013,.889868,.095953,.952941,.876168,.891125,.09525,.956863,.886271,.892374,.095374,.960784,.89632,.893616,.096335,.964706,.906311,.894855,.098125,.968627,.916242,.896091,.100717,.972549,.926106,.89733,.104071,.976471,.935904,.89857,.108131,.980392,.945636,.899815,.112838,.984314,.9553,.901065,.118128,.988235,.964894,.902323,.123941,.992157,.974417,.90359,.130215,.996078,.983868,.904867,.136897,1,.993248,.906157,.143936]},{ShowIndexedColorActiveValues:1,IndexedColors:[.07,.5,.7,1,1,1,.85,1,1,.8,.5,1,.76,1,0,1,.71,.71,.5,.5,.5,.05,.05,1,1,.05,.05,.7,1,1,.7,.89,.96,.67,.36,.95,.54,1,0,.75,.65,.65,.5,.6,.6,1,.5,0,1,1,.19,.12,.94,.12,.5,.82,.89,.56,.25,.83,.24,1,0,.9,.9,.9,.75,.76,.78,.65,.65,.67,.54,.6,.78,.61,.48,.78,.5,.48,.78,.44,.48,.78,.36,.48,.76,1,.48,.38,.49,.5,.69,.76,.56,.56,.4,.56,.56,.74,.5,.89,1,.63,0,.65,.16,.16,.36,.72,.82,.44,.18,.69,0,1,0,.58,1,1,.58,.88,.88,.45,.76,.79,.33,.71,.71,.23,.62,.62,.14,.56,.56,.04,.49,.55,0,.41,.52,.88,.88,1,1,.85,.56,.65,.46,.45,.4,.5,.5,.62,.39,.71,.83,.48,0,.58,0,.58,.26,.62,.69,.34,.09,.56,0,.79,0,.44,.83,1,1,1,.78,.85,1,.78,.78,1,.78,.64,1,.78,.56,1,.78,.38,1,.78,.27,1,.78,.19,1,.78,.12,1,.78,0,1,.61,0,.9,.46,0,.83,.32,0,.75,.22,0,.67,.14,.3,.76,1,.3,.65,1,.13,.58,.84,.15,.49,.67,.15,.4,.59,.09,.33,.53,.96,.93,.82,.8,.82,.12,.71,.71,.76,.65,.33,.3,.34,.35,.38,.62,.31,.71,.67,.36,0,.46,.31,.27,.26,.51,.59,.26,0,.4,0,.49,0,.44,.67,.98,0,.73,1,0,.63,1,0,.56,1,0,.5,1,0,.42,1,.33,.36,.95,.47,.36,.89,.54,.31,.89,.63,.21,.83,.7,.12,.83,.7,.12,.73,.7,.05,.65,.74,.05,.53,.78,0,.4,.8,0,.35,.82,0,.31,.85,0,.27,.88,0,.22,.9,0,.18,.91,0,.15,.92,0,.14,.93,0,.13,.94,0,.12,.95,0,.11,.96,0,.1,.97,0,.09,.98,0,.08,.99,0,.07,1,0,.06],Annotations:[0,"Xx",1,"H",2,"He",3,"Li",4,"Be",5,"B",6,"C",7,"N",8,"O",9,"F",10,"Ne",11,"Na",12,"Mg",13,"Al",14,"Si",15,"P",16,"S",17,"Cl",18,"Ar",19,"K",20,"Ca",21,"Sc",22,"Ti",23,"V",24,"Cr",25,"Mn",26,"Fe",27,"Co",28,"Ni",29,"Cu",30,"Zn",31,"Ga",32,"Ge",33,"As",34,"Se",35,"Br",36,"Kr",37,"Rb",38,"Sr",39,"Y",40,"Zr",41,"Nb",42,"Mo",43,"Tc",44,"Ru",45,"Rh",46,"Pd",47,"Ag",48,"Cd",49,"In",50,"Sn",51,"Sb",52,"Te",53,"I",54,"Xe",55,"Cs",56,"Ba",57,"La",58,"Ce",59,"Pr",60,"Nd",61,"Pm",62,"Sm",63,"Eu",64,"Gd",65,"Tb",66,"Dy",67,"Ho",68,"Er",69,"Tm",70,"Yb",71,"Lu",72,"Hf",73,"Ta",74,"W",75,"Re",76,"Os",77,"Ir",78,"Pt",79,"Au",80,"Hg",81,"Tl",82,"Pb",83,"Bi",84,"Po",85,"At",86,"Rn",87,"Fr",88,"Ra",89,"Ac",90,"Th",91,"Pa",92,"U",93,"Np",94,"Pu",95,"Am",96,"Cm",97,"Bk",98,"Cf",99,"Es",100,"Fm",101,"Md",102,"No",103,"Lr",104,"Rf",105,"Db",106,"Sg",107,"Bh",108,"Hs",109,"Mt",110,"Ds",111,"Rg",112,"Cn",113,"Uut",114,"Uuq",115,"Uup",116,"Uuh",117,"Uus",118,"Uuo"],Name:"BlueObeliskElements"}],sa=Object.create(null);AD.filter(function(t){return t.RGBPoints}).filter(function(t){return t.ColorSpace!=="CIELAB"}).forEach(function(t){sa[t.Name]=t});var ua=Object.keys(sa);ua.sort();function BD(t){return sa[t]}function VD(t){!t.RGBPoints||t.ColorSpace==="CIELAB"||(sa[t.Name]||(ua.push(t.Name),ua.sort()),sa[t.Name]=t)}function UD(t){var e=ua.indexOf(t);e>-1&&ua.splice(e,1),delete sa[t]}var ca={addPreset:VD,removePresetByName:UD,getPresetByName:BD,rgbPresetNames:ua};function GD(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=Ue(t);if(e){var n=Ue(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Ot(this,a)}}var Oo=function(t){Et(a,St.exports.Component);var e=GD(a);function a(r){var n;return _t(this,a),(n=e.call(this,r)).validData=!1,n.currentVisibility=!0,n.lookupTable=ma.newInstance(),n.piecewiseFunction=ri.newInstance(),n.volume=bD.newInstance({visibility:!1}),n.mapper=FD.newInstance(),n.volume.setMapper(n.mapper),n.volume.getProperty().setRGBTransferFunction(0,n.lookupTable),n.volume.getProperty().setScalarOpacity(0,n.piecewiseFunction),n.volume.getProperty().setInterpolationTypeToLinear(),n}return Dt(a,[{key:"render",value:function(){var r=this;return le.createElement(Br.Consumer,null,function(n){return r.view||(n.renderer.addVolume(r.volume),r.view=n),le.createElement(zt.Provider,{value:r},le.createElement(Ct.Provider,{value:r.mapper},le.createElement("div",{key:r.props.id,id:r.props.id},r.props.children)))})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,n,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.view&&this.view.renderer&&(this.view.renderer.removeVolume(this.volume),this.view=null),this.volume.delete(),this.volume=null,this.mapper.delete(),this.mapper=null}},{key:"update",value:function(r,n){var i,u=r.volume,o=r.property,f=r.mapper,s=r.colorMapPreset,l=r.colorDataRange,c=!1;if(!u||n&&u===n.volume||(c=this.volume.set(u)||c),!o||n&&o===n.property||(c=this.volume.getProperty().set(o)||c),!f||n&&f===n.mapper||(c=this.mapper.set(f)||c),s&&(!n||s!==n.colorMapPreset)){var p;c=!0;var h=ca.getPresetByName(s);this.lookupTable.applyColorMap(h),(p=this.lookupTable).setMappingRange.apply(p,Ht(l)),this.lookupTable.updateRange()}!l||n&&Nr(l,n.colorDataRange)||(c=!0,typeof l=="string"?n?this.dataChanged():(this.lookupTable.setMappingRange(0,1),this.lookupTable.updateRange(),this.piecewiseFunction.setNodes([{x:0,y:0,midpoint:.5,sharpness:0},{x:1,y:1,midpoint:.5,sharpness:0}])):((i=this.lookupTable).setMappingRange.apply(i,Ht(l)),this.lookupTable.updateRange(),this.piecewiseFunction.setNodes([{x:l[0],y:0,midpoint:.5,sharpness:0},{x:l[1],y:1,midpoint:.5,sharpness:0}]))),u&&u.visibility!==void 0&&(this.currentVisibility=u.visibility,c=this.volume.setVisibility(this.currentVisibility&&this.validData)||c),c&&this.dataChanged()}},{key:"dataAvailable",value:function(){this.validData||(this.validData=!0,this.volume.setVisibility(this.currentVisibility),this.dataChanged())}},{key:"dataChanged",value:function(){if(this.props.colorDataRange==="auto"){this.mapper.update();var r,n=this.mapper.getInputData(),i=n&&n.getPointData().getScalars(),u=i&&i.getRange();u&&((r=this.lookupTable).setMappingRange.apply(r,Ht(u)),this.lookupTable.updateRange(),this.piecewiseFunction.setNodes([{x:u[0],y:0,midpoint:.5,sharpness:0},{x:u[1],y:1,midpoint:.5,sharpness:0}])),this.view&&this.view.renderView()}}}]),a}();Oo.defaultProps={colorMapPreset:"erdc_rainbow_bright",colorDataRange:"auto"},Oo.propTypes={id:q.string,mapper:q.object,volume:q.object,property:q.object,colorMapPreset:q.string,colorDataRange:q.oneOfType([q.arrayOf(q.number),q.string]),children:q.oneOfType([q.arrayOf(q.node),q.node])};var ao=c5.InterpolationType,ul=U.vtkErrorMacro,io=4;function PD(t,e){e.classHierarchy.push("vtkImageProperty"),t.getMTime=function(){for(var a=e.mtime,r,n=0;n<io;n++)e.componentData[n].rGBTransferFunction&&(r=e.componentData[n].rGBTransferFunction.getMTime(),a=a>r?a:r),e.componentData[n].piecewiseFunction&&(r=e.componentData[n].piecewiseFunction.getMTime(),a=a>r?a:r);return a},t.setRGBTransferFunction=function(a,r){var n=a,i=r;return Number.isInteger(a)||(i=a,n=0),e.componentData[n].rGBTransferFunction!==i?(e.componentData[n].rGBTransferFunction=i,t.modified(),!0):!1},t.getRGBTransferFunction=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.componentData[a].rGBTransferFunction},t.setPiecewiseFunction=function(a,r){var n=a,i=r;return Number.isInteger(a)||(i=a,n=0),e.componentData[n].piecewiseFunction!==i?(e.componentData[n].piecewiseFunction=i,t.modified(),!0):!1},t.getPiecewiseFunction=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.componentData[a].piecewiseFunction},t.setScalarOpacity=function(a,r){var n=a,i=r;return Number.isInteger(a)||(i=a,n=0),t.setPiecewiseFunction(n,i)},t.getScalarOpacity=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t.getPiecewiseFunction(a)},t.setComponentWeight=function(a,r){if(a<0||a>=io)return ul("Invalid index"),!1;var n=Math.min(1,Math.max(0,r));return e.componentData[a].componentWeight!==n?(e.componentData[a].componentWeight=n,t.modified(),!0):!1},t.getComponentWeight=function(a){return a<0||a>=io?(ul("Invalid index"),0):e.componentData[a].componentWeight},t.setInterpolationTypeToNearest=function(){return t.setInterpolationType(ao.NEAREST)},t.setInterpolationTypeToLinear=function(){return t.setInterpolationType(ao.LINEAR)},t.getInterpolationTypeAsString=function(){return U.enumToString(ao,e.interpolationType)}}var jD={independentComponents:!1,interpolationType:ao.LINEAR,colorWindow:255,colorLevel:127.5,ambient:1,diffuse:0,opacity:1,useLookupTableScalarRange:!1};function zv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,jD,a),U.obj(t,e),!e.componentData){e.componentData=[];for(var r=0;r<io;r++)e.componentData.push({rGBTransferFunction:null,piecewiseFunction:null,componentWeight:1})}U.setGet(t,e,["independentComponents","interpolationType","colorWindow","colorLevel","ambient","diffuse","opacity","useLookupTableScalarRange"]),PD(t,e)}var zD=U.newInstance(zv,"vtkImageProperty"),WD={newInstance:zD,extend:zv},ID=U.vtkDebugMacro;function $D(t,e){e.classHierarchy.push("vtkImageSlice"),t.getActors=function(){return t},t.getImages=function(){return t},t.getIsOpaque=function(){if(e.forceOpaque)return!0;if(e.forceTranslucent)return!1;e.property||t.getProperty();var a=e.property.getOpacity()>=1;return a=a&&(!e.mapper||e.mapper.getIsOpaque()),a},t.hasTranslucentPolygonalGeometry=function(){return!1},t.makeProperty=WD.newInstance,t.getProperty=function(){return e.property===null&&(e.property=t.makeProperty()),e.property},t.getBounds=function(){if(e.mapper===null)return e.bounds;var a=e.mapper.getBounds();if(!a||a.length!==6)return a;if(a[0]>a[1])return e.mapperBounds=a.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),a;var r=function(o){return o[0].map(function(f,s){return o.map(function(l){return l[s]})})};if(!e.mapperBounds||!r([a,e.mapperBounds]).reduce(function(u,o){return u&&o[0]===o[1]},!0)||t.getMTime()>e.boundsMTime.getMTime()){ID("Recomputing bounds..."),e.mapperBounds=a.map(function(u){return u});var n=[];We.getCorners(a,n),t.computeMatrix();var i=new Float64Array(16);Ke(i,e.matrix),n.forEach(function(u){return Te(u,u,i)}),e.bounds[0]=e.bounds[2]=e.bounds[4]=Number.MAX_VALUE,e.bounds[1]=e.bounds[3]=e.bounds[5]=-Number.MAX_VALUE,e.bounds=e.bounds.map(function(u,o){return o%2===0?n.reduce(function(f,s){return f>s[o/2]?s[o/2]:f},u):n.reduce(function(f,s){return f<s[(o-1)/2]?s[(o-1)/2]:f},u)}),e.boundsMTime.modified()}return e.bounds},t.getBoundsForSlice=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=e.mapper.getBoundsForSlice(a,r);if(!n||n.length!==6||n[0]>n[1])return n;var i=[];We.getCorners(n,i),t.computeMatrix();var u=new Float64Array(16);Ke(u,e.matrix),i.forEach(function(f){return Te(f,f,u)});var o=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];return o=o.map(function(f,s){return s%2===0?i.reduce(function(l,c){return l>c[s/2]?c[s/2]:l},f):i.reduce(function(l,c){return l<c[(s-1)/2]?c[(s-1)/2]:l},f)}),o},t.getMinXBound=function(){return t.getBounds(),e.bounds[0]},t.getMaxXBound=function(){return t.getBounds(),e.bounds[1]},t.getMinYBound=function(){return t.getBounds(),e.bounds[2]},t.getMaxYBound=function(){return t.getBounds(),e.bounds[3]},t.getMinZBound=function(){return t.getBounds(),e.bounds[4]},t.getMaxZBound=function(){return t.getBounds(),e.bounds[5]},t.getMTime=function(){var a=e.mtime;if(e.property!==null){var r=e.property.getMTime();a=r>a?r:a}return a},t.getRedrawMTime=function(){var a=e.mtime;if(e.mapper!==null){var r=e.mapper.getMTime();a=r>a?r:a,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),r=e.mapper.getInput().getMTime(),a=r>a?r:a)}if(e.property!==null){var n=e.property.getMTime();a=n>a?n:a,e.property.getRGBTransferFunction()!==null&&(n=e.property.getRGBTransferFunction().getMTime(),a=n>a?n:a)}return a},t.getSupportsSelection=function(){return e.mapper?e.mapper.getSupportsSelection():!1}}var HD={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1]};function Wv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,HD,a),Su.extend(t,e,a),e.boundsMTime={},U.obj(e.boundsMTime),U.set(t,e,["property"]),U.setGet(t,e,["mapper"]),U.getArray(t,e,["bounds"],6),$D(t,e)}var KD=U.newInstance(Wv,"vtkImageSlice"),XD={newInstance:KD,extend:Wv};function qD(t,e){e.classHierarchy.push("vtkAbstractImageMapper"),t.getIsOpaque=function(){return!0},t.getCurrentImage=function(){return null}}var YD={slice:0,customDisplayExtent:[0,0,0,0,0,0],useCustomExtents:!1};function JD(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,YD,a),$o.extend(t,e,a),U.setGet(t,e,["slice","useCustomExtents"]),U.setGetArray(t,e,["customDisplayExtent"],6),qD(t,e)}var ZD={extend:JD};function Iv(t,e,a){var r=a.getCurrentImage(),n=r.getExtent(),i=[n[0],n[2],n[4]],u=a.getClosestIJKAxis(),o=u.ijkMode,f=a.isA("vtkImageArrayMapper")?a.getSubSlice():a.getSlice();o!==a.getSlicingMode()&&(f=a.getSliceAtPosition(f)),i[o]+=f;var s=[0,0,0];r.indexToWorld(i,s),i[o]+=1;var l=[0,0,0];r.indexToWorld(i,l),l[0]-=s[0],l[1]-=s[1],l[2]-=s[2],Qt(l,l);var c=bn.intersectWithLine(t,e,s,l);if(c.intersection){var p=c.x,h=[0,0,0];return r.worldToIndex(p,h),{t:c.t,absoluteIJK:h}}return null}function QD(t,e,a){var r=Iv(t,e,a);if(r){var n=a.getCurrentImage(),i=n.getExtent(),u=[Math.round(r.absoluteIJK[0]),Math.round(r.absoluteIJK[1]),Math.round(r.absoluteIJK[2])];return u[0]<i[0]||u[0]>i[1]||u[1]<i[2]||u[1]>i[3]||u[2]<i[4]||u[2]>i[5]?null:{t:r.t,ijk:u}}return null}function eE(t,e,a){var r=Iv(t,e,a);if(r){var n=a.getCurrentImage(),i=n.getExtent(),u=r.absoluteIJK,o=[Math.floor(u[0]),Math.floor(u[1]),Math.floor(u[2])];if(o[0]<i[0]||o[0]>i[1]-1||o[1]<i[2]||o[1]>i[3]-1||o[2]<i[4]||o[2]>(i[5]?i[5]-1:i[5]))return null;var f=[u[0]-o[0],u[1]-o[1],u[2]-o[2]];return{t:r.t,ijk:o,pCoords:f}}return null}function cl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function $s(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?cl(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):cl(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var tE=va.staticOffsetAPI,rE=va.otherStaticMethods,nE=U.vtkWarningMacro,Ve=tu.SlicingMode;function aE(t,e){e.classHierarchy.push("vtkImageMapper"),t.getSliceAtPosition=function(r){var n=t.getCurrentImage(),i;if(r.length===3)i=r;else if(Number.isFinite(r)){var u=n.getBounds();switch(e.slicingMode){case Ve.X:i=[r,(u[3]+u[2])/2,(u[5]+u[4])/2];break;case Ve.Y:i=[(u[1]+u[0])/2,r,(u[5]+u[4])/2];break;case Ve.Z:i=[(u[1]+u[0])/2,(u[3]+u[2])/2,r];break}}var o=[0,0,0];n.worldToIndex(i,o);var f=n.getExtent(),s=t.getClosestIJKAxis(),l=s.ijkMode,c=0;switch(l){case Ve.I:c=yr(o[0],f[0],f[1]);break;case Ve.J:c=yr(o[1],f[2],f[3]);break;case Ve.K:c=yr(o[2],f[4],f[5]);break;default:return 0}return c},t.setSliceFromCamera=function(r){var n=r.getFocalPoint();switch(e.slicingMode){case Ve.I:case Ve.J:case Ve.K:{var i=t.getSliceAtPosition(n);t.setSlice(i)}break;case Ve.X:t.setSlice(n[0]);break;case Ve.Y:t.setSlice(n[1]);break;case Ve.Z:t.setSlice(n[2]);break}},t.setXSlice=function(r){t.setSlicingMode(Ve.X),t.setSlice(r)},t.setYSlice=function(r){t.setSlicingMode(Ve.Y),t.setSlice(r)},t.setZSlice=function(r){t.setSlicingMode(Ve.Z),t.setSlice(r)},t.setISlice=function(r){t.setSlicingMode(Ve.I),t.setSlice(r)},t.setJSlice=function(r){t.setSlicingMode(Ve.J),t.setSlice(r)},t.setKSlice=function(r){t.setSlicingMode(Ve.K),t.setSlice(r)},t.getSlicingModeNormal=function(){var r=[0,0,0],n=t.getCurrentImage().getDirection(),i=[[n[0],n[1],n[2]],[n[3],n[4],n[5]],[n[6],n[7],n[8]]];switch(e.slicingMode){case Ve.X:r[0]=1;break;case Ve.Y:r[1]=1;break;case Ve.Z:r[2]=1;break;case Ve.I:wi(i,[1,0,0],r);break;case Ve.J:wi(i,[0,1,0],r);break;case Ve.K:wi(i,[0,0,1],r);break}return r};function a(){var r;switch(e.slicingMode){case Ve.X:r=[1,0,0];break;case Ve.Y:r=[0,1,0];break;case Ve.Z:r=[0,0,1];break;default:e.closestIJKAxis={ijkMode:e.slicingMode,flip:!1};return}var n=[0,0,0],i=t.getCurrentImage().getDirection();wi(i,r,n);for(var u=0,o=-1,f=!1,s=0;s<n.length;++s){var l=Math.abs(n[s]);l>u&&(u=l,f=n[s]<0,o=s)}if(u!==1){var c="IJKXYZ"[e.slicingMode],p="IJKXYZ"[o];nE("Unaccurate slicing along ".concat(c," axis which ")+"is not aligned with any IJK axis of the image data. "+"Using ".concat(p," axis  as a fallback (").concat(u,"% aligned). ")+"Necessitates slice reformat that is not yet implemented.  You can switch the slicing mode on your mapper to do IJK slicing instead.")}e.closestIJKAxis={ijkMode:o,flip:f}}t.setSlicingMode=function(r){e.slicingMode!==r&&(e.slicingMode=r,t.getCurrentImage()&&a(),t.modified())},t.getClosestIJKAxis=function(){return(e.closestIJKAxis===void 0||e.closestIJKAxis.ijkMode===Ve.NONE)&&t.getCurrentImage()&&a(),e.closestIJKAxis},t.getBounds=function(){var r=t.getCurrentImage();if(!r)return na();if(!e.useCustomExtents)return r.getBounds();var n=e.customDisplayExtent.slice(),i=t.getClosestIJKAxis(),u=i.ijkMode,o=e.slice;switch(u!==e.slicingMode&&(o=t.getSliceAtPosition(e.slice)),u){case Ve.I:n[0]=o,n[1]=o;break;case Ve.J:n[2]=o,n[3]=o;break;case Ve.K:n[4]=o,n[5]=o;break}return r.extentToBounds(n)},t.getBoundsForSlice=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.slice,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=t.getCurrentImage();if(!i)return na();var u=i.getSpatialExtent(),o=t.getClosestIJKAxis(),f=o.ijkMode,s=r;switch(f!==e.slicingMode&&(s=t.getSliceAtPosition(r)),f){case Ve.I:u[0]=s-n,u[1]=s+n;break;case Ve.J:u[2]=s-n,u[3]=s+n;break;case Ve.K:u[4]=s-n,u[5]=s+n;break}return i.extentToBounds(u)},t.intersectWithLineForPointPicking=function(r,n){return QD(r,n,t)},t.intersectWithLineForCellPicking=function(r,n){return eE(r,n,t)},t.getCurrentImage=function(){return t.getInputData()}}var iE={slicingMode:Ve.NONE,closestIJKAxis:{ijkMode:Ve.NONE,flip:!1},renderToRectangle:!1,sliceAtFocalPoint:!1};function $v(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,iE,a),ZD.extend(t,e,a),U.get(t,e,["slicingMode"]),U.setGet(t,e,["closestIJKAxis","renderToRectangle","sliceAtFocalPoint"]),va.implementCoincidentTopologyMethods(t,e),aE(t,e)}var oE=U.newInstance($v,"vtkImageMapper"),sE=$s($s($s({newInstance:oE,extend:$v},tE),rE),tu);function uE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=Ue(t);if(e){var n=Ue(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Ot(this,a)}}var N0=function(t){Et(a,St.exports.Component);var e=uE(a);function a(r){var n,i,u;_t(this,a),(u=e.call(this,r)).validData=!1,u.currentVisibility=!0,u.lookupTable=ma.newInstance();var o=ca.getPresetByName((n=u.props.colorMapPreset)!==null&&n!==void 0?n:"Grayscale");return u.lookupTable.applyColorMap(o),u.piecewiseFunction=ri.newInstance(),u.actor=XD.newInstance({visibility:!1}),u.mapper=(i=r.mapperInstance)!==null&&i!==void 0?i:sE.newInstance(),u.actor.setMapper(u.mapper),u.actor.getProperty().setRGBTransferFunction(0,u.lookupTable),u.actor.getProperty().setInterpolationTypeToLinear(),u}return Dt(a,[{key:"render",value:function(){var r=this;return le.createElement(Br.Consumer,null,function(n){return r.view||(n.renderer.addActor(r.actor),r.view=n),le.createElement(zt.Provider,{value:r},le.createElement(Ct.Provider,{value:r.mapper},le.createElement("div",{key:r.props.id,id:r.props.id},r.props.children)))})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,n,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.view&&this.view.renderer&&this.view.renderer.removeActor(this.actor),this.actor.delete(),this.actor=null,this.mapper.delete(),this.mapper=null}},{key:"update",value:function(r,n){var i,u=r.actor,o=r.property,f=r.mapper,s=r.colorMapPreset,l=r.colorDataRange,c=r.iSlice,p=r.jSlice,h=r.kSlice,g=r.xSlice,y=r.ySlice,m=r.zSlice,x=!1;if(!u||n&&u===n.actor||(x=this.actor.set(u)||x),!o||n&&o===n.property||(x=this.actor.getProperty().set(o)||x),!f||n&&f===n.mapper||f===this.mapper||(x=this.mapper.set(f)||x),s&&(!n||s!==n.colorMapPreset)){x=!0;var v=ca.getPresetByName(s);this.lookupTable.applyColorMap(v)}!l||n&&Nr(l,n.colorDataRange)||(x=!0,typeof l=="string"?n?this.dataChanged():(this.lookupTable.setMappingRange(0,1),this.lookupTable.updateRange(),this.piecewiseFunction.setNodes([{x:0,y:0,midpoint:.5,sharpness:0},{x:1,y:1,midpoint:.5,sharpness:0}])):((i=this.lookupTable).setMappingRange.apply(i,Ht(l)),this.lookupTable.updateRange(),this.piecewiseFunction.setNodes([{x:l[0],y:0,midpoint:.5,sharpness:0},{x:l[1],y:1,midpoint:.5,sharpness:0}]))),this.validData&&(this.mapper.isA("vtkImageMapper")?(c==null||n&&c===n.iSlice||(x=this.mapper.setISlice(c)||x),p==null||n&&p===n.jSlice||(x=this.mapper.setJSlice(p)||x),h==null||n&&h===n.kSlice||(x=this.mapper.setKSlice(h)||x),g==null||n&&g===n.xSlice||(x=this.mapper.setXSlice(g)||x),y==null||n&&y===n.ySlice||(x=this.mapper.setYSlice(y)||x),m==null||n&&m===n.zSlice||(x=this.mapper.setZSlice(m)||x)):this.mapper.isA("vtkImageArrayMapper")&&(h==null||n&&h===n.kSlice||(x=this.mapper.setSlice(h)||x))),u&&u.visibility!==void 0&&(this.currentVisibility=u.visibility,x=this.actor.setVisibility(this.currentVisibility&&this.validData)||x),x&&this.dataChanged()}},{key:"dataAvailable",value:function(){this.validData||(this.validData=!0,this.actor.setVisibility(this.currentVisibility),this.view&&this.view.props.autoResetCamera&&this.view.resetCamera(),this.dataChanged())}},{key:"dataChanged",value:function(){if(this.props.colorDataRange==="auto"){if(this.mapper.update(),this.mapper.getInputData()){var r,n,i=this.mapper.getCurrentImage(),u=i&&((r=i.getPointData())===null||r===void 0?void 0:r.getScalars()),o=u&&u.getRange();o&&((n=this.lookupTable).setMappingRange.apply(n,Ht(o)),this.lookupTable.updateRange(),this.piecewiseFunction.setNodes([{x:o[0],y:0,midpoint:.5,sharpness:0},{x:o[1],y:1,midpoint:.5,sharpness:0}]))}this.view&&this.view.renderView()}}}]),a}();N0.defaultProps={colorMapPreset:"Grayscale",colorDataRange:"auto"},N0.propTypes={id:q.string,mapper:q.object,mapperInstance:q.object,actor:q.object,property:q.object,colorMapPreset:q.string,colorDataRange:q.oneOfType([q.arrayOf(q.number),q.string]),iSlice:q.number,jSlice:q.number,kSlice:q.number,xSlice:q.number,ySlice:q.number,zSlice:q.number,children:q.oneOfType([q.arrayOf(q.node),q.node])};var cE=[{ColorSpace:"Diverging",Name:"Cool to Warm",NanColor:[1,1,0],RGBPoints:[0,.23137254902,.298039215686,.752941176471,.5,.865,.865,.865,1,.705882352941,.0156862745098,.149019607843]},{ColorSpace:"Diverging",Name:"Warm to Cool",NanColor:[1,1,0],RGBPoints:[0,.705882352941,.0156862745098,.149019607843,.5,.865,.865,.865,1,.23137254902,.298039215686,.752941176471]},{ColorSpace:"RGB",Name:"Rainbow Desaturated",NanColor:[1,1,0],RGBPoints:[0,.278431372549,.278431372549,.858823529412,.143,0,0,.360784313725,.285,0,1,1,.429,0,.501960784314,0,.571,1,1,0,.714,1,.380392156863,0,.857,.419607843137,0,0,1,.878431372549,.301960784314,.301960784314]},{ColorSpace:"RGB",Name:"Cold and Hot",NanColor:[1,1,0],RGBPoints:[0,0,1,1,.45,0,0,1,.5,0,0,.501960784314,.55,1,0,0,1,1,1,0]},{ColorSpace:"RGB",Name:"Black-Body Radiation",NanColor:[0,.498039215686,1],RGBPoints:[0,0,0,0,.4,.901960784314,0,0,.8,.901960784314,.901960784314,0,1,1,1,1]},{ColorSpace:"RGB",Name:"X Ray",NanColor:[1,0,0],RGBPoints:[0,1,1,1,1,0,0,0]},{ColorSpace:"RGB",Name:"Grayscale",NanColor:[1,0,0],RGBPoints:[0,0,0,0,1,1,1,1]},{ColorSpace:"RGB",Name:"Black, Blue and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,0,0,.501960784314,.666,0,.501960784314,1,1,1,1,1]},{ColorSpace:"RGB",Name:"Black, Orange and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,.501960784314,0,0,.666,1,.501960784314,0,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_rainbow_bright",RGBPoints:[-1,.32549,.14902,.960784,-.866221,.297047,.375586,.963836,-.732441,.180302,.536818,.964627,-.598662,.1302,.649207,.929647,-.464883,.0445143,.749654,.855998,-.331104,.0271325,.830713,.721527,-.197324,.259504,.866145,.543555,-.0635452,.428364,.890725,.329819,.0702341,.568503,.898508,.187623,.204013,.738259,.890317,.0825461,.337793,.84546,.86136,.0147555,.471572,.912191,.808018,0,.605351,.962848,.710445,0,.73913,.999469,.600258,.0176284,.87291,.994156,.445975,.193912,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"erdc_rainbow_dark",RGBPoints:[-1,0,0,.423499,-.866221,0,.119346,.529237,-.732441,0,.238691,.634976,-.598662,0,.346852,.68788,-.464883,0,.45022,.718141,-.331104,0,.553554,.664839,-.197324,0,.651082,.519303,-.0635452,.115841,.72479,.352857,.0702341,.326771,.781195,.140187,.204013,.522765,.798524,.0284624,.337793,.703162,.788685,.00885756,.471572,.845118,.751133,0,.605351,.955734,.690825,0,.73913,.995402,.567916,.0618524,.87291,.987712,.403398,.164851,1,.980407,.247105,.262699]}],fa=Object.create(null);cE.filter(function(t){return t.RGBPoints}).filter(function(t){return t.ColorSpace!=="CIELAB"}).forEach(function(t){fa[t.Name]=t});var la=Object.keys(fa);la.sort();function fE(t){return fa[t]}function lE(t){!t.RGBPoints||t.ColorSpace==="CIELAB"||(fa[t.Name]||(la.push(t.Name),la.sort()),fa[t.Name]=t)}function pE(t){var e=la.indexOf(t);e>-1&&la.splice(e,1),delete fa[t]}var Hv={addPreset:lE,removePresetByName:pE,getPresetByName:fE,rgbPresetNames:la};class hE{constructor(){Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}emit(e,...a){if(!this.__listeners[e])return this;for(const r of this.__listeners[e])r(...a);return this}once(e,a){const r=(...n)=>{this.off(e,r),a(...n)};return this.on(e,r)}on(e,a){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(a),this}off(e,a){return a?this.__listeners[e]=this.__listeners[e].filter(r=>r!==a):this.__listeners[e]=[],this}}var vE=hE;const gE=vE,dE=0,yE=1,mE=1;class xE extends gE{constructor(e){super(),this._messageId=1,this._messages=new Map,this._worker=e,this._worker.onmessage=this._onMessage.bind(this),this._id=Math.ceil(Math.random()*1e7)}terminate(){this._worker.terminate()}isFree(){return this._messages.size===0}jobsLength(){return this._messages.size}exec(e,a=null,r=[],n){return new Promise((i,u)=>{const o=this._messageId++;this._messages.set(o,[i,u,n]),this._worker.postMessage([o,a,e],r||[])})}postMessage(e=null,a=[],r){return new Promise((n,i)=>{const u=this._messageId++;this._messages.set(u,[n,i,r]),this._worker.postMessage([u,e],a||[])})}emit(e,...a){this._worker.postMessage({eventName:e,args:a})}_onMessage(e){if(!Array.isArray(e.data)&&e.data.eventName)return super.emit(e.data.eventName,...e.data.args);const[a,...r]=e.data;if(a===yE)this._onEvent(...r);else if(a===dE)this._onResult(...r);else throw new Error(`Wrong message type '${a}'`)}_onResult(e,a,r){const[n,i]=this._messages.get(e);return this._messages.delete(e),a===mE?n(r):i(r)}_onEvent(e,a,r){const[,,n]=this._messages.get(e);n&&n(a,r)}}var wE=xE;function CE(t,e){var a=e===void 0?null:e,r=/(['"])__worker_loader_strict__(['"])/g,n=[],i=t.toString();return i=i.replace(r,"$1use strict$2"),n.push("("+i+")()"),a&&n.push("//# sourceMappingURL="+a+`
`),n}function SE(t,e){var a=CE(t,e),r=new Blob(a,{type:"application/javascript"});return URL.createObjectURL(r)}function TE(t,e){var a;return function(n){return a=a||SE(t,e),new Worker(a,n)}}var _E=TE(function(){(function(){var t={exports:{}},e=function(){function T(_,D){for(var b=0;b<D.length;b++){var E=D[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,D,b){return D&&T(_.prototype,D),b&&T(_,b),_}}();function a(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}var r=function(){function T(){a(this,T),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return e(T,[{key:"emit",value:function(D){if(!this.__listeners[D])return this;for(var b=arguments.length,E=Array(b>1?b-1:0),N=1;N<b;N++)E[N-1]=arguments[N];var R=!0,M=!1,G=void 0;try{for(var j=this.__listeners[D][Symbol.iterator](),z;!(R=(z=j.next()).done);R=!0){var V=z.value;V.apply(void 0,E)}}catch(L){M=!0,G=L}finally{try{!R&&j.return&&j.return()}finally{if(M)throw G}}return this}},{key:"once",value:function(D,b){var E=this,N=function R(){E.off(D,R),b.apply(void 0,arguments)};return this.on(D,N)}},{key:"on",value:function(D,b){return this.__listeners[D]||(this.__listeners[D]=[]),this.__listeners[D].push(b),this}},{key:"off",value:function(D,b){return b?this.__listeners[D]=this.__listeners[D].filter(function(E){return E!==b}):this.__listeners[D]=[],this}}]),T}(),n=r,i=function(){function T(_,D){for(var b=0;b<D.length;b++){var E=D[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,D,b){return D&&T(_.prototype,D),b&&T(_,b),_}}(),u=function T(_,D,b){_===null&&(_=Function.prototype);var E=Object.getOwnPropertyDescriptor(_,D);if(E===void 0){var N=Object.getPrototypeOf(_);return N===null?void 0:T(N,D,b)}else{if("value"in E)return E.value;var R=E.get;return R===void 0?void 0:R.call(b)}},o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T};function f(T){if(Array.isArray(T)){for(var _=0,D=Array(T.length);_<T.length;_++)D[_]=T[_];return D}else return Array.from(T)}function s(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}function l(T,_){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:T}function c(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);T.prototype=Object.create(_&&_.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(T,_):T.__proto__=_)}function p(T,_,D){return _ in T?Object.defineProperty(T,_,{value:D,enumerable:!0,configurable:!0,writable:!0}):T[_]=D,T}var h=n,g=0,y=1,m=0,x=1,v="main",d=function(_){return(typeof _=="undefined"?"undefined":o(_))==="object"&&_!==null&&typeof _.then=="function"&&typeof _.catch=="function"};function w(T){var _=p({},v,T),D=self.postMessage.bind(self),b=new(function(G){c(j,G);function j(){return s(this,j),l(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return i(j,[{key:"emit",value:function(V){for(var L=arguments.length,B=Array(L>1?L-1:0),$=1;$<L;$++)B[$-1]=arguments[$];return B.length==1&&B[0]instanceof C?D({eventName:V,args:B},B[0].transferable):D({eventName:V,args:B}),this}},{key:"emitLocally",value:function(V){for(var L,B=arguments.length,$=Array(B>1?B-1:0),H=1;H<B;H++)$[H-1]=arguments[H];(L=u(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"emit",this)).call.apply(L,[this,V].concat($))}},{key:"operation",value:function(V,L){return _[V]=L,this}}]),j}(h)),E=function(j,z,V){var L=function(X){X&&X instanceof C?R(j,x,X.payload,X.transferable):R(j,x,X)},B=function(X){R(j,m,{message:X.message,stack:X.stack})};try{var $=N(j,z,V);d($)?$.then(L).catch(B):L($)}catch(H){B(H)}},N=function(j,z,V){var L=_[V||v];if(!L)throw new Error("Not found handler for this request");return L(z,M.bind(null,j))},R=function(j,z,V){var L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];D([g,j,z,V],L)},M=function(j,z,V){if(!z)throw new Error("eventName is required");if(typeof z!="string")throw new Error("eventName should be string");D([y,j,z,V])};return self.addEventListener("message",function(G){var j=G.data;Array.isArray(j)?E.apply(void 0,f(j)):j&&j.eventName&&b.emitLocally.apply(b,[j.eventName].concat(f(j.args)))}),b}var C=function T(_,D){s(this,T),this.payload=_,this.transferable=D};t.exports=w,t.exports.TransferableResponse=C;var S=t.exports;S(function(T,_){var D=T.array,b=T.min,E=T.max,N=T.component||0,R=T.numberOfComponents||1,M=T.numberOfBins,G=E-b,j=new Float32Array(M);j.fill(0);for(var z=D.length,V=N;V<z;V+=R){var L=Math.floor((M-1)*(Number(D[V])-b)/G);j[L]+=1}return Promise.resolve(new S.TransferableResponse(j,[j.buffer]))})})()},null);function fl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function In(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?fl(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):fl(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var bo=.001,Hs={adjustPosition:"-webkit-grab",adjustHeight:"row-resize",adjustBias:"crosshair",adjustWidth:"col-resize",adjustZoom:"col-resize"},dt=[],Ks={adjustPosition:function(e,a,r){var n=r.originalXY,i=r.gaussian,u=r.originalGaussian,o=u.position-n[0];return i.position=e+o,!0},adjustHeight:function(e,a,r){var n=r.model,i=r.gaussian;return i.height=1-a,i.height=Math.min(1,Math.max(n.gaussianMinimumHeight,i.height)),!0},adjustBias:function(e,a,r){var n=r.originalXY,i=r.gaussian,u=r.originalGaussian;return i.xBias=u.xBias-(n[0]-e)/i.height,i.yBias=u.yBias+4*(n[1]-a)/i.height,i.xBias=Math.max(-1,Math.min(1,i.xBias)),i.yBias=Math.max(0,Math.min(2,i.yBias)),!0},adjustWidth:function(e,a,r){var n=r.originalXY,i=r.gaussian,u=r.originalGaussian,o=r.gaussianSide;return i.width=o<0?u.width-(n[0]-e):u.width+(n[0]-e),i.width<bo&&(i.width=bo),!0},adjustZoom:function(e,a,r){var n=r.rangeZoom,i=r.publicAPI,u=n[1]-n[0],o=(e-n[0])/u,f=Math.abs(o-n[0]),s=Math.abs(o-n[1]),l=Math.abs(o-.5*(n[0]+n[1]));if(l<Math.min(f,s)){var c=u*.5;n[0]=Math.min(Math.max(o-c,0),n[1]-.1),n[1]=Math.max(Math.min(o+c,1),n[0]+.1)}else f<s?n[0]=Math.min(Math.max(o,0),n[1]-.1):n[1]=Math.max(Math.min(o,1),n[0]+.1);return i.invokeZoomChange(n),!1}};function hn(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:256,a=[];a.length<e;)a.push(0);for(var r=t.length;r--;)for(var n=t[r],i=n.position,u=n.height,o=n.width,f=n.xBias,s=n.yBias,l=0;l<e;l++){var c=l/(e-1);if(c>i+o||c<i-o){a[l]<0&&(a[l]=0);continue}var p=o<bo?bo:o,h=0;f===0||c===i+f?h=c:c>i+f?p===f?h=i:h=i+(c-i-f)*(p/(p-f)):-p===f?h=i:h=i-(c-i-f)*(p/(p+f));var g=(h-i)/p,y=Math.exp(-(4*g*g)),m=1-g*g,x=1,v=void 0;s<1?v=s*m+(1-s)*y:v=(2-s)*m+(s-1)*x;var d=u*v;d>a[l]&&(a[l]=d)}return a}function DE(t,e,a,r){for(var n=hn(t,e),i=[],u=(a[1]-a[0])/(n.length-1),o=.5,f=0,s=0;s<n.length;s++){var l=a[0]+u*s,c=n[s];i.push({x:l,y:c,midpoint:o,sharpness:f})}r.setNodes(i)}function $n(t,e,a){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{lineWidth:1,strokeStyle:"#000"},n=e[3],i=e[2]/(a.length-1),u=!!r.fillStyle,o=n+e[1];t.lineWidth=r.lineWidth,t.strokeStyle=r.strokeStyle,t.beginPath(),t.moveTo(e[0],e[1]+e[3]);for(var f=0;f<a.length;f++)t.lineTo(e[0]+f*i,Math.max(e[1],o-a[f]*n));if(u){if(t.fillStyle=r.fillStyle,t.lineTo(e[0]+e[2],e[1]+e[3]),r.clip){t.clip();return}t.fill()}t.stroke()}function EE(t,e,a,r){var n=r||document.createElement("canvas");n.setAttribute("width",e),n.setAttribute("height",256);for(var i=n.getContext("2d"),u=t.getUint8Table(a[0],a[1],e,4),o=i.getImageData(0,0,e,256),f=0;f<256;f++)o.data.set(u,f*4*e);for(var s=256*e*4,l=e*4,c=3;c<s;c+=4)o.data[c]=255-Math.floor(c/l);return i.putImageData(o,0,0),n}function OE(t,e,a){var r=a||document.createElement("canvas");r.setAttribute("width",e),r.setAttribute("height",256);var n=r.getContext("2d");return n.drawImage(t,0,0,t.width,t.height,0,0,e,256),r}function Ir(t,e,a){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0,1];return[r[0]+(t-a[0])/a[2]*(r[1]-r[0]),(e-a[1])/a[3]]}function Ua(t,e){var a=e.map(function(n){return Math.abs(n.position-t)}),r=Math.min.apply(Math,de(a));return a.indexOf(r)}function Tr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function(a){var r=a.offsetX,n=a.offsetY;e&&a.preventDefault(),t(r,n)}}function bE(){for(var t=dt.length,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return dt.push({callbacks:a,timeout:0,deltaT:200,count:0,ready:!1}),t}function NE(){dt.filter(function(t){return t.ready}).forEach(function(t){t.callbacks.forEach(function(e){e.touches===t.touches&&e.clicks===t.count&&e.action.apply(e,de(t.singleTouche))}),t.ts=0,t.count=0,t.touches=0,t.ready=!1})}function Hi(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return function(n){var i=n.target.getBoundingClientRect(),u=Array.prototype.map.call(n.touches,function(f){return[f.pageX-i.left,f.pageY-i.top]}),o=u.reduce(function(f,s){return[f[0]+s[0],f[1]+s[1]]},[0,0]).map(function(f){return f/n.touches.length});n.type==="touchstart"?(clearTimeout(dt[t].timeout),dt[t].ts=n.timeStamp,dt[t].singleTouche=o,dt[t].touches=n.touches.length):n.type==="touchmove"?(dt[t].ts=0,dt[t].count=0,dt[t].ready=!1):n.type==="touchend"&&(n.timeStamp-dt[t].ts<dt[t].deltaT?(dt[t].count+=1,dt[t].ready=!0,r&&n.preventDefault(),dt[t].timeout=setTimeout(NE,dt[t].deltaT)):dt[t].ready=!1),n.touches.length===a&&(e.apply(void 0,de(o)),r&&n.preventDefault())}}function M0(t,e,a){return function(r){return t()?e(r):a(r)}}function Na(t,e){if(!e)return t;var a=t.length-1,r=e.map(function(n){return Math.round(n*a)});return t.slice(r[0],r[1]+1)}function ME(t,e){return e?(t-e[0])/(e[1]-e[0]):t}var RE={applyGaussianToPiecewiseFunction:DE,computeOpacities:hn,createListener:Tr,drawChart:$n,findGaussian:Ua,listenerSelector:M0,normalizeCoordinates:Ir};function kE(t,e){e.classHierarchy.push("vtkPiecewiseGaussianWidget"),e.canvas||(e.canvas=document.createElement("canvas")),t.setContainer=function(n){e.container&&e.container!==n&&e.container.removeChild(e.canvas),e.container!==n&&(e.container=n,e.container&&e.container.appendChild(e.canvas),t.modified())},t.setGaussians=function(n){e.gaussians!==n&&(e.gaussians=n,e.opacities=hn(e.gaussians,e.piecewiseSize),t.invokeOpacityChange(t),t.modified())},t.addGaussian=function(n,i,u,o,f){var s=e.gaussians.length;return e.gaussians.push({position:n,height:i,width:u,xBias:o,yBias:f}),e.opacities=hn(e.gaussians,e.piecewiseSize),t.invokeOpacityChange(t),t.modified(),s},t.removeGaussian=function(n){e.gaussians.splice(n,1),e.opacities=hn(e.gaussians,e.piecewiseSize),t.invokeOpacityChange(t),t.modified()},t.setSize=function(n,i){e.canvas.setAttribute("width",n),e.canvas.setAttribute("height",i),(e.size[0]!==n||e.size[1]!==i)&&(e.size=[n,i],e.colorCanvasMTime=0,t.modified())},t.updateStyle=function(n){e.style=In(In({},e.style),n),t.modified()},t.setDataArray=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=i.numberOfBinToConsiders,o=u===void 0?1:u,f=i.numberOfBinsToSkip,s=f===void 0?1:f,l=i.numberOfComponents,c=l===void 0?1:l,p=i.component,h=p===void 0?0:p;e.histogram=null,e.histogramArray=n,e.dataRange=ly(n,h,c);var g=ze(e.dataRange,2),y=g[0],m=g[1],x=4,v=Math.floor(n.length/x)||1;v+=v%c;for(var d=0,w=[],C=[];d<n.length;){var S=new _E;C.push(S);var T=new wE(S),_=d,D=Math.min(d+v,n.length-1),b=new n.constructor(n.slice(_,D+1));w.push(T.postMessage({array:b,component:h,numberOfComponents:c,min:y,max:m,numberOfBins:e.numberOfBins},[b.buffer])),d+=v}Promise.all(w).then(function(E){C.forEach(function(V){return V.terminate()}),e.histogram=new Float32Array(e.numberOfBins),e.histogram.fill(0),E.forEach(function(V){for(var L=0,B=V.length;L<B;++L)e.histogram[L]+=V[L]});var N=Math.min(o,e.histogram.length-s),R=Array.from(e.histogram);R.sort(function(V,L){return Number(V)-Number(L)});for(var M=0;M<s;M++)R.pop();for(;R.length>N;)R.shift();for(var G=R.reduce(function(V,L){return V+L},0)/N,j=0,z=e.histogram.length;j<z;++j)e.histogram[j]/=G;t.modified(),setTimeout(t.render,0)}),t.modified()},t.onClick=function(n,i){var u=Ir(n,i,e.graphArea,e.enableRangeZoom?e.rangeZoom:null),o=ze(u,2),f=o[0],s=o[1];if(f<0&&e.style.iconSize>1){for(var l=e.style.iconSize+e.style.padding,c=l,p=0;i>c;)p+=1,c+=l;switch(p){case 0:{var h=t.addGaussian(0,1,.1,0,0),g=e.gaussians[h],y=In({},g),m=Ks.adjustPosition;e.activeGaussian=h,e.selectedGaussian=h,U.setImmediate(function(){t.onDown(n,i),e.dragAction={originalXY:[0,0],action:m,gaussian:g,originalGaussian:y}});break}case 1:{e.selectedGaussian!==-1&&t.removeGaussian(e.selectedGaussian);break}default:e.selectedGaussian=-1,e.dragAction=null}}else if(f<0||f>1||s<0||s>1)e.selectedGaussian=-1,e.dragAction=null;else{var x=Ua(f,e.gaussians);x!==e.selectedGaussian&&(e.selectedGaussian=x,t.modified())}return!0},t.onHover=function(n,i){var u=20/e.canvas.height,o=Ir(n,i,e.graphArea,e.enableRangeZoom?e.rangeZoom:null),f=ze(o,2),s=f[0],l=f[1],c=Ir(n,i,e.graphArea),p=ze(c,1),h=p[0],g=s<0?e.selectedGaussian:Ua(s,e.gaussians);e.canvas.style.cursor="default";var y=e.gaussians[g];if(e.enableRangeZoom&&h>=0&&i<e.graphArea[1]-6){var m=(e.rangeZoom[1]-e.rangeZoom[0])/3;h<e.rangeZoom[0]+m||h>e.rangeZoom[1]-m?e.canvas.style.cursor=Hs.adjustZoom:e.canvas.style.cursor=Hs.adjustPosition,e.dragAction={rangeZoom:e.rangeZoom,action:Ks.adjustZoom}}else if(y&&h>=0){var x=1-l,v=null;x>y.height+u?v="adjustPosition":x>y.height-u?Math.abs(s-y.position)<u?v="adjustHeight":v="adjustPosition":x>y.height*.5+u?v="adjustPosition":x>y.height*.5-u?Math.abs(s-y.position)<u?v="adjustBias":v="adjustPosition":x>u?v="adjustPosition":v="adjustWidth",e.canvas.style.cursor=Hs[v];var d=Ks[v],w=In({},y);e.dragAction={originalXY:[s,l],action:d,gaussian:y,originalGaussian:w}}return g!==e.activeGaussian&&(e.activeGaussian=g,t.modified()),!0},t.onDown=function(n,i){e.mouseIsDown||t.invokeAnimation(!0),e.mouseIsDown=!0;var u=Ir(n,i,e.graphArea,e.enableRangeZoom?e.rangeZoom:null)[0],o=Ua(u,e.gaussians);e.gaussianSide=0;var f=e.gaussians[o];return f&&(e.gaussianSide=f.position-u),o!==e.selectedGaussian&&u>0&&(e.selectedGaussian=o,t.modified()),!0},t.onDrag=function(n,i){if(e.dragAction){var u=Ir(n,i,e.graphArea,e.enableRangeZoom?e.rangeZoom:null),o=ze(u,2),f=o[0],s=o[1],l=e.dragAction.action;l(f,s,In({gaussianSide:e.gaussianSide,model:e,publicAPI:t},e.dragAction))&&(e.opacities=hn(e.gaussians,e.piecewiseSize),t.invokeOpacityChange(t,!0)),t.modified()}return!0},t.onUp=function(n,i){return e.mouseIsDown&&t.invokeAnimation(!1),e.mouseIsDown=!1,!0},t.onLeave=function(n,i){return t.onUp(n,i),e.canvas.style.cursor="default",e.activeGaussian=-1,t.modified(),!0},t.onAddGaussian=function(n,i){var u=Ir(n,i,e.graphArea,e.enableRangeZoom?e.rangeZoom:null),o=ze(u,2),f=o[0],s=o[1];return f>=0&&t.addGaussian(f,1-s,.1,0,0),!0},t.onRemoveGaussian=function(n,i){var u=Ir(n,i,e.graphArea,e.enableRangeZoom?e.rangeZoom:null)[0],o=Ua(u,e.gaussians);return u>=0&&o!==-1&&t.removeGaussian(o),!0},t.bindMouseListeners=function(){if(!e.listeners){var n=function(){return!!e.mouseIsDown},i=bE({clicks:1,touches:1,action:t.onClick},{clicks:2,touches:1,action:t.onAddGaussian},{clicks:2,touches:2,action:t.onRemoveGaussian});e.listeners={mousemove:M0(n,Tr(t.onDrag),Tr(t.onHover)),dblclick:Tr(t.onAddGaussian),contextmenu:Tr(t.onRemoveGaussian),click:Tr(t.onClick),mouseup:Tr(t.onUp),mousedown:Tr(t.onDown),mouseout:Tr(t.onLeave),touchstart:Hi(i,U.chain(t.onHover,t.onDown)),touchmove:M0(n,Hi(i,t.onDrag),Hi(i,t.onHover)),touchend:Hi(i,t.onUp,0)},Object.keys(e.listeners).forEach(function(u){e.canvas.addEventListener(u,e.listeners[u],!1)})}},t.unbindMouseListeners=function(){e.listeners&&(Object.keys(e.listeners).forEach(function(n){e.canvas.removeEventListener(n,e.listeners[n])}),delete e.listeners)},t.render=function(){var n=e.canvas.getContext("2d");n.imageSmoothingEnabled=!0;var i=ze(e.size,2),u=i[0],o=i[1],f=e.style.padding,s=[Math.floor(e.style.iconSize+f),Math.floor(f),Math.ceil(u-2*f-e.style.iconSize),Math.ceil(o-2*f)],l=e.style.zoomControlHeight;if(e.enableRangeZoom&&(s[1]+=Math.floor(l),s[3]-=Math.floor(l)),e.graphArea=s,n.clearRect(0,0,u,o),n.lineJoin="round",n.fillStyle=e.style.backgroundColor,n.fillRect.apply(n,s),e.style.iconSize>1){var c=Math.round(e.style.iconSize/2-e.style.strokeWidth),p=Math.round(c+f+e.style.strokeWidth);n.beginPath(),n.lineWidth=e.style.buttonStrokeWidth,n.strokeStyle=e.style.buttonStrokeColor,n.arc(p-f/2,p,c,0,2*Math.PI,!1),n.fillStyle=e.style.buttonFillColor,n.fill(),n.stroke(),n.moveTo(p-c+e.style.strokeWidth+2-f/2,p),n.lineTo(p+c-e.style.strokeWidth-2-f/2,p),n.stroke(),n.moveTo(p-f/2,p-c+e.style.strokeWidth+2),n.lineTo(p-f/2,p+c-e.style.strokeWidth-2),n.stroke(),e.selectedGaussian===-1?(n.fillStyle=e.style.buttonDisableFillColor,n.lineWidth=e.style.buttonDisableStrokeWidth,n.strokeStyle=e.style.buttonDisableStrokeColor):(n.fillStyle=e.style.buttonFillColor,n.lineWidth=e.style.buttonStrokeWidth,n.strokeStyle=e.style.buttonStrokeColor),n.beginPath(),n.arc(p-f/2,p+f/2+e.style.iconSize,c,0,2*Math.PI,!1),n.fill(),n.stroke(),n.moveTo(p-c+e.style.strokeWidth+2-f/2,p+f/2+e.style.iconSize),n.lineTo(p+c-e.style.strokeWidth-2-f/2,p+f/2+e.style.iconSize),n.stroke()}if(e.histogram&&$n(n,s,Na(e.histogram,e.rangeZoom),{lineWidth:1,strokeStyle:e.style.histogramColor,fillStyle:e.style.histogramColor}),$n(n,s,Na(e.opacities,e.enableRangeZoom&&e.rangeZoom),{lineWidth:e.style.strokeWidth,strokeStyle:e.style.strokeColor}),e.colorTransferFunction&&e.colorTransferFunction.getSize()){var h=e.dataRange||e.colorTransferFunction.getMappingRange();(!e.colorCanvas||e.colorCanvasMTime!==e.colorTransferFunction.getMTime())&&(e.colorCanvasMTime=e.colorTransferFunction.getMTime(),e.colorCanvas=EE(e.colorTransferFunction,s[2],h,e.colorCanvas)),n.save(),$n(n,s,Na(e.opacities,e.enableRangeZoom&&e.rangeZoom),{lineWidth:1,strokeStyle:"rgba(0,0,0,0)",fillStyle:"rgba(0,0,0,1)",clip:!0}),e.enableRangeZoom?n.drawImage(e.colorCanvas,e.rangeZoom[0]*s[2],0,s[2],s[3],s[0],s[1],s[2]/(e.rangeZoom[1]-e.rangeZoom[0]),s[3]):n.drawImage(e.colorCanvas,s[0],s[1]),n.restore()}else e.backgroundImage&&(e.colorCanvas=OE(e.backgroundImage,s[2],e.colorCanvas),n.save(),$n(n,s,Na(e.opacities,e.enableRangeZoom&&e.rangeZoom),{lineWidth:1,strokeStyle:"rgba(0,0,0,0)",fillStyle:"rgba(0,0,0,1)",clip:!0}),n.drawImage(e.colorCanvas,s[0],s[1]),n.restore());e.enableRangeZoom&&(n.fillStyle=e.style.zoomControlColor,n.beginPath(),n.rect(s[0]+e.rangeZoom[0]*s[2],0,(e.rangeZoom[1]-e.rangeZoom[0])*s[2],l),n.fill());var g=e.gaussians[e.activeGaussian]||e.gaussians[e.selectedGaussian];if(g){var y=hn([g],s[2]);$n(n,s,Na(y,e.enableRangeZoom&&e.rangeZoom),{lineWidth:e.style.activeStrokeWidth,strokeStyle:e.style.activeColor});var m=s[0]+ME(g.position,e.enableRangeZoom&&e.rangeZoom)*s[2],x=s[1]+(1-g.height)*s[3],v=s[1]+(1-.5*g.height)*s[3],d=s[1]+s[3],w=g.width*s[2];e.enableRangeZoom&&(w/=e.rangeZoom[1]-e.rangeZoom[0]),n.lineWidth=e.style.handleWidth,n.strokeStyle=e.style.handleColor,n.fillStyle=e.style.backgroundColor,n.beginPath(),n.moveTo(m,s[1]+(1-g.height)*s[3]),n.lineTo(m,s[1]+s[3]),n.stroke(),n.beginPath(),n.arc(m,x,6,0,2*Math.PI),n.fill(),n.stroke();var C=Math.min(w*.1,g.height*s[3]*.2);n.beginPath(),n.rect(m-C,v-C,C*2,C*2),n.fill(),n.stroke(),n.beginPath();var S=w*.8;n.rect(m-S,d-5,2*S,10),n.fill(),n.stroke()}},t.getOpacityNodes=function(n){for(var i=n||e.dataRange,u=(i[1]-i[0])/(e.opacities.length-1),o=[],f=.5,s=0,l=0;l<e.opacities.length;l++){var c=i[0]+u*l,p=e.opacities[l];o.push({x:c,y:p,midpoint:f,sharpness:s})}return o},t.applyOpacity=function(n,i){var u=t.getOpacityNodes(i);n.setNodes(u)},t.getOpacityRange=function(n){for(var i=n||e.dataRange,u=(i[1]-i[0])/(e.opacities.length-1),o=e.opacities.length-1,f=0,s=0;s<e.opacities.length;s++)e.opacities[s]>0&&(o=Math.min(o,s)),e.opacities[s]>0&&(f=Math.max(f,s));return[i[0]+o*u,i[0]+f*u]};var a=t.setEnableRangeZoom;t.setEnableRangeZoom=function(n){var i=a(n);return i&&(e.colorCanvasMTime=0,e.rangeZoom=[0,1]),i};var r=t.setRangeZoom;t.setRangeZoom=function(){var n=r.apply(void 0,arguments);return n&&(e.colorCanvasMTime=0),n},t.onModified(function(){return t.render()}),t.setSize.apply(t,de(e.size))}var LE={histogram:[],numberOfBins:256,histogramArray:null,dataRange:[0,1],gaussians:[],opacities:[],size:[600,300],piecewiseSize:256,colorCanvasMTime:0,gaussianMinimumHeight:.05,style:{backgroundColor:"rgba(255, 255, 255, 1)",histogramColor:"rgba(200, 200, 200, 0.5)",strokeColor:"rgb(0, 0, 0)",activeColor:"rgb(0, 0, 150)",buttonDisableFillColor:"rgba(255, 255, 255, 0.5)",buttonDisableStrokeColor:"rgba(0, 0, 0, 0.5)",buttonStrokeColor:"rgba(0, 0, 0, 1)",buttonFillColor:"rgba(255, 255, 255, 1)",handleColor:"rgb(0, 150, 0)",strokeWidth:2,activeStrokeWidth:3,buttonStrokeWidth:1.5,handleWidth:3,iconSize:20,padding:10,zoomControlHeight:10,zoomControlColor:"#999"},activeGaussian:-1,selectedGaussian:-1,enableRangeZoom:!0,rangeZoom:[0,1]};function Kv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,LE,a),U.obj(t,e),U.setGet(t,e,["piecewiseSize","numberOfBins","colorTransferFunction","backgroundImage","enableRangeZoom","gaussianMinimumHeight"]),U.setGetArray(t,e,["rangeZoom"],2),U.get(t,e,["size","canvas","gaussians"]),U.event(t,e,"opacityChange"),U.event(t,e,"animation"),U.event(t,e,"zoomChange"),kE(t,e)}var FE=U.newInstance(Kv,"vtkPiecewiseGaussianWidget"),AE=In({newInstance:FE,extend:Kv},RE),BE='<svg viewBox="0 0 196 196" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M67.77 157.024a86.095 86.095 0 0 1-2.3 9.306c-.977 3.206-2.44 6.116-4.392 8.73-1.952 2.614-4.531 4.758-7.738 6.43-3.206 1.674-7.284 2.51-12.233 2.51-6.343 0-11.501-1.55-15.474-4.653-3.974-3.102-6.518-7.301-7.633-12.599l16.102-5.228c.279 1.882 1.01 3.485 2.196 4.81 1.185 1.324 2.753 1.986 4.705 1.986 3.067 0 5.262-1.08 6.587-3.24 1.324-2.162 2.265-4.88 2.823-8.156l8.574-48.933h17.565l-8.783 49.037Zm58.029-31.053c-1.394-1.883-3.137-3.311-5.228-4.287-2.091-.976-4.426-1.464-7.005-1.464-1.185 0-2.44.157-3.764.47a10.815 10.815 0 0 0-3.608 1.569 9.806 9.806 0 0 0-2.718 2.77c-.732 1.116-1.098 2.475-1.098 4.078 0 2.091.819 3.747 2.457 4.967 1.638 1.22 3.921 2.352 6.849 3.398 3.206 1.115 6.064 2.352 8.573 3.712 2.51 1.359 4.636 2.91 6.378 4.652 1.743 1.743 3.067 3.712 3.974 5.908.906 2.196 1.359 4.688 1.359 7.476 0 4.461-.924 8.26-2.77 11.397-1.848 3.136-4.236 5.698-7.163 7.685-2.928 1.986-6.204 3.433-9.829 4.339-3.624.906-7.214 1.359-10.769 1.359-2.649 0-5.298-.244-7.946-.732a42.608 42.608 0 0 1-7.633-2.143 31.681 31.681 0 0 1-6.796-3.608c-2.092-1.463-3.869-3.136-5.333-5.018l12.86-10.456c1.465 2.23 3.625 4.043 6.483 5.437 2.858 1.394 5.751 2.091 8.679 2.091 1.533 0 3.014-.157 4.443-.47 1.43-.314 2.701-.837 3.817-1.569a8.267 8.267 0 0 0 2.666-2.823c.662-1.15.993-2.527.993-4.13 0-2.579-1.045-4.618-3.136-6.117-2.092-1.498-4.88-2.84-8.365-4.025a58.492 58.492 0 0 1-6.849-2.823c-2.126-1.046-3.973-2.335-5.541-3.869-1.569-1.533-2.823-3.363-3.764-5.489-.941-2.126-1.412-4.688-1.412-7.685 0-3.764.784-7.162 2.353-10.194a23.324 23.324 0 0 1 6.43-7.738c2.719-2.126 5.89-3.764 9.515-4.914 3.624-1.15 7.493-1.725 11.606-1.725 2.16 0 4.356.21 6.587.627a35.853 35.853 0 0 1 6.43 1.83 28.502 28.502 0 0 1 5.699 2.98c1.742 1.185 3.206 2.544 4.39 4.078L125.8 125.97Z" fill="#8A8B8A"/><rect fill="#1C4678" transform="rotate(45 169.749 159.749)" x="152.249" y="142.249" width="35" height="35" rx="17.5"/><path fill="#1C4678" d="m7.775 11 20.483 86.069h22.53l34.24-71.408H63.841L42.91 70.03 28.259 11zM88.663 25.344h50.476l-8.093 16.562-17.246-.049-9.652 54.62H85.609l9.572-54.535H80.99zM141.366 25.344l16.072.066-4.414 24.987h2.388l16.856-25.053h20.975l-22.442 33.403 13.203 54.063h-20.94l-10.652-44.43h-2.296l-5.125 28.135h-21.024l9.763-55.043z"/><path fill="#8A8B8A" d="M3 11h3.182l20.864 85.944h-3.187zM58.102 25.344h2.788L43.747 61.155l-.955-3.866zM88.608 44.469h2.883l-9.157 52.096H79.4zM126.785 44.469h2.924l-9.186 52.046H117.6zM166.38 25.344h3.594l-12.582 18.854 1.316-7.545zM150.902 74.75l8.917 37.613h-3.311l-7.075-29.073z"/></g></svg>',VE='<svg viewBox="0 0 180 180" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="100%" y1="50%" x2="0%" y2="50%" id="a"><stop stop-color="#FFF" offset="0%"/><stop stop-color="#FFF" offset="49.416%"/><stop offset="49.677%"/><stop offset="100%"/></linearGradient></defs><circle cx="90" cy="90" r="80" stroke-width="10" stroke="#000" fill="url(#a)" fill-rule="evenodd"/></svg>',UE='<svg viewBox="0 0 180 180" xmlns="http://www.w3.org/2000/svg"><g stroke="#000" stroke-width="10" fill="none" fill-rule="evenodd" stroke-linecap="square"><path d="M10 90h160M10 133.488V47M170 133.488V47M90 133.488V47"/></g></svg>';function GE(t,e){e===void 0&&(e={});var a=e.insertAt;if(!(!t||typeof document=="undefined")){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",a==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}}var PE=`.VolumeController-module_container__2HNSO {
  display: flex;
  align-items: stretch;
  flex-direction: column;
  justify-content: space-between;
  position: absolute;
  top: 5px;
  left: 5px;
  background: rgba(128, 128, 128, 0.5);
  border-radius: 5px;
  padding: 2px;
  border: 0.5px solid black;
  box-sizing: border-box;
}

.VolumeController-module_line__3rtqL {
  display: flex;
  flex-direction: row;
  flex: 1;
  align-items: center;
  justify-content: space-between;
}

.VolumeController-module_button__2T-xL {
  cursor: pointer;
  width: 1rem;
  margin-left: 5px;
  margin-right: 5px;
}

.VolumeController-module_button__2T-xL svg {
  width: 1rem;
  height: 1rem;
}

.VolumeController-module_sliderEntry__27XSC {
  flex: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
}

.VolumeController-module_sliderIcon__U8YAZ {
  height: 1rem;
}

.VolumeController-module_slider__3PS68 {
  flex: 1;
  min-height: 1rem;
  width: 5px;
}

.VolumeController-module_piecewiseEditor__2_jav {
  flex: 1;
}

.VolumeController-module_select__7mbfS {
  flex: 1;
  border: none;
  background: transparent;
  color: white;
  border: none;
  -moz-appearance: none;
  width: 5px;
}

.VolumeController-module_select__7mbfS select:focus {
  outline: none;
  border: none;
}

.VolumeController-module_presets__1h4j5 {
}

.VolumeController-module_shadow__29K9t {
}

.VolumeController-module_buttonDarkBG__3W1zO {
}

.VolumeController-module_presetsDarkBG__2ZI2W {
  color: white;
}

.VolumeController-module_presetsDarkBG__2ZI2W option {
  color: black;
}

.VolumeController-module_shadowDarkBG__WHYZ- {
  color: white;
}

.VolumeController-module_shadowDarkBG__WHYZ- option {
  color: black;
}

.VolumeController-module_buttonBrightBG__2dstz {
}

.VolumeController-module_presetsBrightBG__3_VRC {
  color: black;
}

.VolumeController-module_presetsBrightBG__3_VRC option {
  color: white;
}

.VolumeController-module_shadowBrightBG__YCHpe {
  color: black;
}

.VolumeController-module_shadowBrightBG__YCHpe option {
  color: white;
}
`,rr={container:"VolumeController-module_container__2HNSO",line:"VolumeController-module_line__3rtqL",button:"VolumeController-module_button__2T-xL",sliderEntry:"VolumeController-module_sliderEntry__27XSC",sliderIcon:"VolumeController-module_sliderIcon__U8YAZ VolumeController-module_button__2T-xL",slider:"VolumeController-module_slider__3PS68",piecewiseEditor:"VolumeController-module_piecewiseEditor__2_jav",select:"VolumeController-module_select__7mbfS",presets:"VolumeController-module_presets__1h4j5 VolumeController-module_select__7mbfS",shadow:"VolumeController-module_shadow__29K9t VolumeController-module_select__7mbfS",buttonDarkBG:"VolumeController-module_buttonDarkBG__3W1zO VolumeController-module_button__2T-xL",presetsDarkBG:"VolumeController-module_presetsDarkBG__2ZI2W VolumeController-module_presets__1h4j5 VolumeController-module_select__7mbfS",shadowDarkBG:"VolumeController-module_shadowDarkBG__WHYZ- VolumeController-module_shadow__29K9t VolumeController-module_select__7mbfS",buttonBrightBG:"VolumeController-module_buttonBrightBG__2dstz VolumeController-module_button__2T-xL",presetsBrightBG:"VolumeController-module_presetsBrightBG__3_VRC VolumeController-module_presets__1h4j5 VolumeController-module_select__7mbfS",shadowBrightBG:"VolumeController-module_shadowBrightBG__YCHpe VolumeController-module_shadow__29K9t VolumeController-module_select__7mbfS"};GE(PE);var jE=Hv.rgbPresetNames.map(function(t){return'<option value="'.concat(t,'">').concat(t,"</option>")});function zE(t,e){e.classHierarchy.push("vtkVolumeController"),e.el=document.createElement("div"),e.el.setAttribute("class",rr.container),e.widget=AE.newInstance({numberOfBins:256,size:e.size});function a(){var o=!!Number(e.el.querySelector(".js-shadow").value);e.actor.getProperty().setShade(o),e.renderWindow.render()}function r(){var o=e.actor.getMapper().getInputData();if(!!o){var f=o.getPointData().getScalars()||o.getPointData().getArrays()[0],s=e.rescaleColorMap?e.colorDataRange:f.getRange(),l=Hv.getPresetByName(e.el.querySelector(".js-color-preset").value),c=e.actor.getProperty().getRGBTransferFunction(0);c.applyColorMap(l),c.setMappingRange.apply(c,de(s)),c.updateRange(),e.renderWindow.render()}}function n(){var o=Number(e.el.querySelector(".js-spacing").value),f=e.actor.getMapper().getInputData(),s=.7*Math.sqrt(f.getSpacing().map(function(l){return l*l}).reduce(function(l,c){return l+c},0));e.actor.getMapper().setSampleDistance(s*Math.pow(2,o*3-1.5)),e.renderWindow.render()}function i(){var o=Number(e.el.querySelector(".js-edge").value);if(o===0)e.actor.getProperty().setUseGradientOpacity(0,!1);else{var f=e.actor.getMapper().getInputData(),s=f.getPointData().getScalars()||f.getPointData().getArrays()[0],l=s.getRange();e.actor.getProperty().setUseGradientOpacity(0,!0);var c=Math.max(0,o-.3)/.7;e.actor.getProperty().setGradientOpacityMinimumValue(0,(l[1]-l[0])*.2*c*c),e.actor.getProperty().setGradientOpacityMaximumValue(0,(l[1]-l[0])*1*o*o)}e.renderWindow.render()}t.setupContent=function(o,f,s){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"1",c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"erdc_rainbow_bright";t.setActor(f),t.setRenderWindow(o);var p=e.actor.getMapper().getInputData(),h=p.getPointData().getScalars()||p.getPointData().getArrays()[0],g=e.actor.getProperty().getRGBTransferFunction(0),y=e.actor.getProperty().getScalarOpacity(0),m=s?"DarkBG":"BrightBG",x={};["button","presets","shadow"].forEach(function(_){x[_]=rr["".concat(_).concat(m)]}),e.el.innerHTML=`
      <div class="`.concat(rr.line,`">
        <div class="`).concat(x.button,' js-button">').concat(BE,`</div>
        <select class="`).concat(x.shadow,` js-shadow js-toggle">
          <option value="1">Use Shadow</option>
          <option value="0">No Shadow</option>
        </select>
        <select class="`).concat(x.presets,` js-color-preset js-toggle">
          `).concat(jE,`
        </select>
      </div>
      <div class="`).concat(rr.line,` js-toggle">
        <div class="`).concat(rr.sliderEntry,`">
          <div class="`).concat(rr.sliderIcon,'">').concat(UE,`</div>
          <input type="range" min="0" max="1" value="0.4" step="0.01" class="`).concat(rr.slider,` js-spacing" />
        </div>
        <div class="`).concat(rr.sliderEntry,`">
          <div class="`).concat(rr.sliderIcon,'">').concat(VE,`</div>
          <input type="range" min="0" max="1" value="0.2" step="0.01" class="`).concat(rr.slider,` js-edge" />
        </div>
      </div>
      <div class="`).concat(rr.piecewiseEditor,` js-pwf js-toggle"></div>
    `);var v=e.el.querySelector(".js-button"),d=e.el.querySelector(".js-shadow"),w=e.el.querySelector(".js-color-preset"),C=e.el.querySelector(".js-spacing"),S=e.el.querySelector(".js-edge"),T=e.el.querySelector(".js-pwf");e.widget.updateStyle({backgroundColor:"rgba(255, 255, 255, 0.6)",histogramColor:"rgba(100, 100, 100, 0.5)",strokeColor:"rgb(0, 0, 0)",activeColor:"rgb(255, 255, 255)",handleColor:"rgb(50, 150, 50)",buttonDisableFillColor:"rgba(255, 255, 255, 0.5)",buttonDisableStrokeColor:"rgba(0, 0, 0, 0.5)",buttonStrokeColor:"rgba(0, 0, 0, 1)",buttonFillColor:"rgba(255, 255, 255, 1)",strokeWidth:2,activeStrokeWidth:3,buttonStrokeWidth:1.5,handleWidth:3,iconSize:0,padding:10}),e.widget.addGaussian(.5,1,.5,.5,.4),e.widget.setDataArray(h.getData()),e.widget.setColorTransferFunction(g),e.widget.applyOpacity(y),e.widget.setContainer(T),e.widget.bindMouseListeners(),e.colorDataRange=e.widget.getOpacityRange(),v.addEventListener("click",t.toggleVisibility),d.addEventListener("change",a),w.addEventListener("change",r),C.addEventListener("input",n),S.addEventListener("input",i),e.widget.onOpacityChange(function(){e.widget.applyOpacity(y),e.colorDataRange=e.widget.getOpacityRange(),e.rescaleColorMap&&r(),e.renderWindow.getInteractor().isAnimating()||e.renderWindow.render()}),e.widget.onAnimation(function(_){_?e.renderWindow.getInteractor().requestAnimation(e.widget):(e.renderWindow.getInteractor().cancelAnimation(e.widget),e.renderWindow.render())}),g.onModified(function(){e.widget.render(),e.renderWindow.getInteractor().isAnimating()||e.renderWindow.render()}),d.value=Number(l)?"1":"0",w.value=c,a(),r(),n(),i()},t.setContainer=function(o){e.container&&e.container!==o&&e.container.removeChild(e.el),e.container!==o&&(e.container=o,e.container&&e.container.appendChild(e.el),t.modified())};var u=t.setRescaleColorMap;t.setRescaleColorMap=function(o){return u(o)?(r(),!0):!1},t.toggleVisibility=function(){t.setExpanded(!t.getExpanded())},t.setExpanded=function(o){var f=e.el.querySelectorAll(".js-toggle"),s=f.length;if(e.expanded=o,e.expanded)for(;s--;)f[s].style.display="flex";else for(;s--;)f[s].style.display="none"},t.getExpanded=function(){return e.expanded},t.setSize=e.widget.setSize,t.render=e.widget.render,t.onAnimation=e.widget.onAnimation,t.onModified(t.render),t.setSize.apply(t,de(e.size))}var WE={size:[600,300],expanded:!0,rescaleColorMap:!1};function Xv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,WE,a),U.obj(t,e),U.setGet(t,e,["actor","renderWindow","rescaleColorMap"]),U.get(t,e,["widget"]),zE(t,e)}var IE=U.newInstance(Xv,"vtkVolumeController"),$E={newInstance:IE,extend:Xv};function HE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=Ue(t);if(e){var n=Ue(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Ot(this,a)}}var No=function(t){Et(a,St.exports.Component);var e=HE(a);function a(r){var n;_t(this,a),(n=e.call(this,r)).subscriptions=[],n.containerRef=le.createRef();var i=r.size,u=r.rescaleColorMap;return n.controller=$E.newInstance({size:i,rescaleColorMap:u}),n}return Dt(a,[{key:"render",value:function(){var r=this;return le.createElement(Br.Consumer,null,function(n){return le.createElement(zt.Consumer,null,function(i){return r.view=n,r.representation=i,le.createElement("div",{ref:r.containerRef})})})}},{key:"componentDidMount",value:function(){this.init()}},{key:"componentDidUpdate",value:function(r,n,i){var u;(u=this.controller).setSize.apply(u,Ht(this.props.size)),this.controller.render()}},{key:"componentWillUnmount",value:function(){for(;this.subscriptions.length;)this.subscriptions.pop().unsubscribe();this.controller.setContainer(null),this.controller.delete(),this.controller=null}},{key:"init",value:function(){var r=this,n=this.containerRef.current,i=this.view,u=i.renderWindow,o=i.props,f=this.representation.volume,s=o.background[0]+o.background[1]+o.background[2]<1.5;if(f&&f.getMapper()&&f.getMapper().getInputData()){var l=f.getMapper().getInputData();this.controller.setContainer(n),this.controller.setupContent(u,f,s),this.controller.render(),this.view.resetCamera(),this.view.renderView(),this.subscriptions.push(l.onModified(function(){return r.onDataChange()},-1))}else setTimeout(function(){return r.init()},100)}},{key:"onDataChange",value:function(){var r=this.controller.getWidget();if(this.representation&&this.representation.volume){var n=this.representation.volume.getMapper().getInputData(),i=n.getPointData().getScalars()||n.getPointData().getArrays()[0];r.setDataArray(i.getData())}}}]),a}();No.defaultProps={size:[400,150],rescaleColorMap:!0},No.propTypes={id:q.string,size:q.arrayOf(q.number),rescaleColorMap:q.bool};function ni(t){return le.createElement(en.Consumer,null,function(e){return le.createElement(vi.Provider,{value:e.getDataSet().getPointData()},t.children)})}ni.defaultProps={},ni.propTypes={children:q.oneOfType([q.arrayOf(q.node),q.node])};function KE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=Ue(t);if(e){var n=Ue(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Ot(this,a)}}var Mo=function(t){Et(a,St.exports.Component);var e=KE(a);function a(r){var n;return _t(this,a),(n=e.call(this,r)).polydata=et.newInstance(),n}return Dt(a,[{key:"render",value:function(){var r=this;return le.createElement(zt.Consumer,null,function(n){return le.createElement(Ct.Consumer,null,function(i){return r.representation=n,r.downstream||(r.downstream=i),le.createElement(en.Provider,{value:r},le.createElement("div",{key:r.props.id,id:r.props.id},r.props.children))})})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,n,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.polydata.delete(),this.polydata=null}},{key:"update",value:function(r,n){var i,u=r.connectivity,o=r.points,f=r.verts,s=r.lines,l=r.polys,c=r.strips,p=!1,h=Uint32Array;if(o&&(!n||!Nr(o,n.points))){var g=Wn(o,Float64Array);this.polydata.getPoints().setData(g,3),p=!0,h=g.length>196608?Uint32Array:Uint16Array}if(!f||n&&Nr(f,n.verts)||(this.polydata.getVerts().setData(Wn(f,h)),p=!0),!s||n&&Nr(s,n.lines)||(this.polydata.getLines().setData(Wn(s,h)),p=!0),!l||n&&Nr(l,n.polys)||(this.polydata.getPolys().setData(Wn(l,h)),p=!0),!c||n&&Nr(c,n.strips)||(this.polydata.getStrips().setData(Wn(c,h)),p=!0),u&&(!n||(o==null?void 0:o.length)!==((i=n.points)===null||i===void 0?void 0:i.length)||u!==n.connectivity)){var y=o.length/3;switch(u){case"points":var m=new Uint32Array(y+1);m[0]=y;for(var x=0;x<y;x++)m[x+1]=x;this.polydata.getVerts().setData(m),p=!0;break;case"triangles":for(var v=new Uint32Array(y+y/3),d=0,w=0;w<y;w+=3)v[d++]=3,v[d++]=w+0,v[d++]=w+1,v[d++]=w+2;this.polydata.getPolys().setData(v),p=!0;break;case"strips":var C=new Uint32Array(y+1);C[0]=y;for(var S=0;S<y;S++)C[S+1]=S;this.polydata.getStrips().setData(C),p=!0}}p&&this.modified()}},{key:"getDataSet",value:function(){return this.polydata}},{key:"modified",value:function(){this.polydata.modified(),this.downstream.setInputData(this.polydata,this.props.port),this.representation&&this.polydata.getPoints().getData().length&&(this.representation.dataAvailable(),this.representation.dataChanged())}}]),a}();Mo.defaultProps={port:0,points:[],connectivity:"manual"},Mo.propTypes={id:q.string,port:q.number,points:q.oneOfType([q.arrayOf(q.number),q.object,q.instanceOf(Float64Array),q.instanceOf(Float32Array)]),verts:q.oneOfType([q.arrayOf(q.number),q.object,q.instanceOf(Uint8Array),q.instanceOf(Uint16Array),q.instanceOf(Uint32Array)]),lines:q.oneOfType([q.arrayOf(q.number),q.object,q.instanceOf(Uint8Array),q.instanceOf(Uint16Array),q.instanceOf(Uint32Array)]),polys:q.oneOfType([q.arrayOf(q.number),q.object,q.instanceOf(Uint8Array),q.instanceOf(Uint16Array),q.instanceOf(Uint32Array)]),strips:q.oneOfType([q.arrayOf(q.number),q.object,q.instanceOf(Uint8Array),q.instanceOf(Uint16Array),q.instanceOf(Uint32Array)]),connectivity:q.string,children:q.oneOfType([q.arrayOf(q.node),q.node])};function XE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=Ue(t);if(e){var n=Ue(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Ot(this,a)}}var R0=function(t){Et(a,St.exports.Component);var e=XE(a);function a(r){var n;return _t(this,a),(n=e.call(this,r)).reader=null,n}return Dt(a,[{key:"render",value:function(){var r=this;return le.createElement(Br.Consumer,null,function(n){return le.createElement(zt.Consumer,null,function(i){return r.representation=i,le.createElement(Ct.Consumer,null,function(u){return r.reader||(r.reader=r.createReader(r.props)),r.downstream||(u.setInputConnection(r.reader.getOutputPort(),r.props.port),r.downstream=u),r.view=n,le.createElement(Ct.Provider,{value:r.reader},le.createElement("div",{key:r.props.id,id:r.props.id},r.props.children))})})})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,n,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.reader.delete(),this.reader=null}},{key:"createReader",value:function(r){var n=r.vtkClass,i=r.options;return xt({vtkClass:n,progressCallback:i.progressCallback})}},{key:"update",value:function(r,n){var i=this,u=r.vtkClass,o=r.url,f=r.parseAsText,s=r.parseAsArrayBuffer,l=r.options;!u||n&&u===n.vtkClass||(this.reader=this.createReader(r),this.downstream.setInputConnection(this.reader.getOutputPort(),this.props.port)),!o||n&&o===n.url||this.reader.setUrl(o,l).then(function(){i.reader&&(i.representation&&i.representation.dataAvailable(),i.view&&(i.props.resetCameraOnUpdate&&i.view.resetCamera(),i.props.renderOnUpdate&&i.view.renderView()))}),!f||n&&f===n.parseAsText||(this.reader.parseAsText(f),this.representation&&this.representation.dataAvailable()),!s||n&&s===n.parseAsArrayBuffer||(this.reader.parseAsArrayBuffer(Qo.toArrayBuffer(s)),this.representation&&this.representation.dataAvailable()),this.view&&(this.props.resetCameraOnUpdate&&this.view.resetCamera(),this.props.renderOnUpdate&&this.view.renderView())}}]),a}();R0.defaultProps={port:0,vtkClass:"",renderOnUpdate:!0,resetCameraOnUpdate:!0,options:{binary:!0}},R0.propTypes={id:q.string,port:q.number,vtkClass:q.string,url:q.string,parseAsText:q.string,parseAsArrayBuffer:q.string,renderOnUpdate:q.bool,resetCameraOnUpdate:q.bool,options:q.object,children:q.oneOfType([q.arrayOf(q.node),q.node])};function qE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=Ue(t);if(e){var n=Ue(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Ot(this,a)}}function YE(t,e){e.classHierarchy.push("vtkTrivialProducer"),t.requestData=function(a,r){r.length=a.length;for(var n=0;n<a.length;n++)r[n]=a[n]}}var JE=U.newInstance(function(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,a),U.obj(t,e),U.algo(t,e,1,1),U.event(t,e,"DataAvailable"),YE(t,e)},"vtkTrivialProducer"),ll={},k0=function(t){Et(a,St.exports.Component);var e=qE(a);function a(){return _t(this,a),e.apply(this,arguments)}return Dt(a,[{key:"getTrivialProducer",value:function(){var r=ll[this.props.name];return r||(r=JE(),ll[this.props.name]=r),r}},{key:"componentDidMount",value:function(){var r=this.getTrivialProducer().getOutputData();r&&!r.isDeleted()&&this.dataAvailable()}},{key:"componentWillUnmount",value:function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}},{key:"render",value:function(){var r=this;return this.update(),le.createElement(zt.Consumer,null,function(n){return le.createElement(Ct.Consumer,null,function(i){return r.representation=n,r.downstream||(r.downstream=i),le.createElement(zt.Provider,{value:r},le.createElement(Ct.Provider,{value:r.getTrivialProducer()},le.createElement("div",{key:r.props.id,id:r.props.id},r.props.children)))})})}},{key:"update",value:function(){var r=this;this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.subscription=this.getTrivialProducer().onDataAvailable(function(){r.dataAvailable()})}},{key:"dataAvailable",value:function(){this.downstream&&this.downstream.setInputConnection(this.getTrivialProducer().getOutputPort(),this.props.port),this.validData||(this.validData=!0,this.getTrivialProducer().invokeDataAvailable()),this.representation&&this.representation.dataAvailable()}},{key:"dataChanged",value:function(){this.representation&&this.representation.dataChanged()}}]),a}();k0.defaultProps={port:0,name:"shared"},k0.propTypes={id:q.string,port:q.number,name:q.string,children:q.oneOfType([q.arrayOf(q.node),q.node])};function ZE(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=Ue(t);if(e){var n=Ue(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Ot(this,a)}}var L0=function(t){Et(a,St.exports.Component);var e=ZE(a);function a(){return _t(this,a),e.apply(this,arguments)}return Dt(a,[{key:"componentDidMount",value:function(){this.dataset&&!this.dataset.isDeleted()?this.dataAvailable():this.update(this.props,{data:null,fetchData:null})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var r=this;return le.createElement(zt.Consumer,null,function(n){return le.createElement(Ct.Consumer,null,function(i){return r.representation=n,r.downstream||(r.downstream=i),le.createElement(en.Provider,{value:r},le.createElement("div",{key:r.props.id,id:r.props.id},r.props.children))})})}},{key:"componentDidUpdate",value:function(r,n,i){this.update(this.props,r)}},{key:"update",value:function(r,n){var i=this,u=r.data,o=r.fetchData;u&&u!==n.data?(this.dataset=u,this.dataAvailable()):o&&o!==n.fetchData&&o().then(function(f){f&&(i.dataset=f,i.dataAvailable())})}},{key:"dataAvailable",value:function(){this.downstream&&this.dataset&&this.downstream.setInputData(this.dataset),this.representation&&(this.representation.dataAvailable(),this.representation.dataChanged())}}]),a}();L0.defaultProps={data:null,fetchData:null},L0.propTypes={id:q.string,data:q.object,fetchData:q.func,children:q.oneOfType([q.arrayOf(q.node),q.node])};function ai(){return ai=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},ai.apply(this,arguments)}var QE=navigator.gpu?"WebGPU":"WebGL",Ro=Object.create(null);function qv(t,e){Ro[t]=e}function eO(){return Object.keys(Ro)}function Yv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ro[t]&&Ro[t](e)}function tO(t,e){e.classHierarchy.push("vtkRenderWindow"),t.addRenderer=function(a){t.hasRenderer(a)||(a.setRenderWindow(t),e.renderers.push(a),t.modified())},t.removeRenderer=function(a){e.renderers=e.renderers.filter(function(r){return r!==a}),t.modified()},t.hasRenderer=function(a){return e.renderers.indexOf(a)!==-1},t.newAPISpecificView=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Yv(a||e.defaultViewAPI,r)},t.addView=function(a){t.hasView(a)||(a.setRenderable(t),e._views.push(a),t.modified())},t.removeView=function(a){e._views=e._views.filter(function(r){return r!==a}),t.modified()},t.hasView=function(a){return e._views.indexOf(a)!==-1},t.preRender=function(){e.renderers.forEach(function(a){a.isActiveCameraCreated()||a.resetCamera()})},t.render=function(){t.preRender(),e.interactor?e.interactor.render():e._views.forEach(function(a){return a.traverseAllPasses()})},t.getStatistics=function(){var a={propCount:0,invisiblePropCount:0};return e.renderers.forEach(function(r){var n=r.getViewProps();n.forEach(function(i){if(i.getVisibility()){a.propCount+=1;var u=i.getMapper&&i.getMapper();if(u&&u.getPrimitiveCount){var o=u.getPrimitiveCount();Object.keys(o).forEach(function(f){a[f]||(a[f]=0),a[f]+=o[f]})}}else a.invisiblePropCount+=1})}),a.str=Object.keys(a).map(function(r){return"".concat(r,": ").concat(a[r])}).join(`
`),a},t.captureImages=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return U.setImmediate(t.render),e._views.map(function(n){return n.captureNextImage?n.captureNextImage(a,r):void 0}).filter(function(n){return!!n})}}var rO={defaultViewAPI:QE,renderers:[],views:[],interactor:null,neverRendered:!0,numberOfLayers:1};function Jv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,rO,a),U.obj(t,e),U.setGet(t,e,["interactor","numberOfLayers","_views","defaultViewAPI"]),U.get(t,e,["neverRendered"]),U.getArray(t,e,["renderers"]),U.moveToProtected(t,e,["views"]),U.event(t,e,"completion"),tO(t,e)}var nO=U.newInstance(Jv,"vtkRenderWindow"),Zv={newInstance:nO,extend:Jv,registerViewConstructor:qv,listViewAPIs:eO,newAPISpecificView:Yv};function aO(t,e){e.classHierarchy.push("vtkRenderPass"),t.getOperation=function(){return e.currentOperation},t.setCurrentOperation=function(a){e.currentOperation=a,e.currentTraverseOperation="traverse".concat(U.capitalize(e.currentOperation))},t.getTraverseOperation=function(){return e.currentTraverseOperation},t.traverse=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e.deleted||(e._currentParent=r,e.preDelegateOperations.forEach(function(n){t.setCurrentOperation(n),a.traverse(t)}),e.delegates.forEach(function(n){n.traverse(a,t)}),e.postDelegateOperations.forEach(function(n){t.setCurrentOperation(n),a.traverse(t)}))}}var iO={delegates:[],currentOperation:null,preDelegateOperations:[],postDelegateOperations:[],currentParent:null};function Qv(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,iO,a),U.obj(t,e),U.get(t,e,["currentOperation"]),U.setGet(t,e,["delegates","_currentParent","preDelegateOperations","postDelegateOperations"]),U.moveToProtected(t,e,["currentParent"]),aO(t,e)}var oO=U.newInstance(Qv,"vtkRenderPass"),Gu={newInstance:oO,extend:Qv},sO=li.Representation,pl=U.vtkErrorMacro;function uO(t){var e=ie.substitute(t.Fragment,"//VTK::RenderPassFragmentShader::Impl",`
      float weight = gl_FragData[0].a * pow(max(1.1 - gl_FragCoord.z, 0.0), 2.0);
      gl_FragData[0] = vec4(gl_FragData[0].rgb*weight, gl_FragData[0].a);
      gl_FragData[1].r = weight;
    `,!1);t.Fragment=e.result}var cO=`//VTK::System::Dec

in vec2 tcoord;

uniform sampler2D translucentRTexture;
uniform sampler2D translucentRGBATexture;

// the output of this shader
//VTK::Output::Dec

void main()
{
  vec4 t1Color = texture(translucentRGBATexture, tcoord);
  float t2Color = texture(translucentRTexture, tcoord).r;
  gl_FragData[0] = vec4(t1Color.rgb/max(t2Color,0.01), 1.0 - t1Color.a);
}
`;function fO(t,e){e.classHierarchy.push("vtkOpenGLOrderIndependentTranslucentPass"),t.createVertexBuffer=function(){var a=new Float32Array([-1,-1,-1,1,-1,-1,-1,1,-1,1,1,-1]),r=new Float32Array([0,0,1,0,0,1,1,1]),n=new Uint16Array([4,0,1,3,2]),i=we.newInstance({numberOfComponents:3,values:a});i.setName("points");var u=we.newInstance({numberOfComponents:2,values:r});u.setName("tcoords");var o=we.newInstance({numberOfComponents:1,values:n});e.tris.getCABO().createVBO(o,"polys",sO.SURFACE,{points:i,tcoords:u,cellOffset:0}),e.VBOBuildTime.modified()},t.createFramebuffer=function(a){var r,n=a.getSize(),i=a.getContext();e.framebuffer=zo.newInstance(),e.framebuffer.setOpenGLRenderWindow(a),(r=e.framebuffer).create.apply(r,de(n)),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.bind(),e.translucentRGBATexture=Vt.newInstance(),e.translucentRGBATexture.setInternalFormat(i.RGBA16F),e.translucentRGBATexture.setFormat(i.RGBA),e.translucentRGBATexture.setOpenGLDataType(i.HALF_FLOAT),e.translucentRGBATexture.setOpenGLRenderWindow(a),e.translucentRGBATexture.create2DFromRaw(n[0],n[1],4,"Float32Array",null),e.translucentRTexture=Vt.newInstance(),e.translucentRTexture.setInternalFormat(i.R16F),e.translucentRTexture.setFormat(i.RED),e.translucentRTexture.setOpenGLDataType(i.HALF_FLOAT),e.translucentRTexture.setOpenGLRenderWindow(a),e.translucentRTexture.create2DFromRaw(n[0],n[1],1,"Float32Array",null),e.translucentZTexture=Vt.newInstance(),e.translucentZTexture.setOpenGLRenderWindow(a),e.translucentZTexture.createDepthFromRaw(n[0],n[1],"Float32Array",null),e.framebuffer.setColorBuffer(e.translucentRGBATexture,0),e.framebuffer.setColorBuffer(e.translucentRTexture,1),e.framebuffer.setDepthBuffer(e.translucentZTexture)},t.createCopyShader=function(a){e.copyShader=a.getShaderCache().readyShaderProgramArray(["//VTK::System::Dec","attribute vec4 vertexDC;","attribute vec2 tcoordTC;","varying vec2 tcoord;","void main() { tcoord = tcoordTC; gl_Position = vertexDC; }"].join(`
`),cO,"")},t.createVBO=function(a){var r=a.getContext();e.tris.setOpenGLRenderWindow(a),t.createVertexBuffer();var n=e.copyShader;e.tris.getCABO().bind(),e.copyVAO.addAttributeArray(n,e.tris.getCABO(),"vertexDC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),r.FLOAT,3,r.FALSE)||pl("Error setting vertexDC in copy shader VAO."),e.copyVAO.addAttributeArray(n,e.tris.getCABO(),"tcoordTC",e.tris.getCABO().getTCoordOffset(),e.tris.getCABO().getStride(),r.FLOAT,2,r.FALSE)||pl("Error setting vertexDC in copy shader VAO.")},t.traverse=function(a,r,n){if(!e.deleted){var i=a.getSize(),u=a.getContext();if(e._supported=!1,r.getSelector()||!u||!a.getWebgl2()||!u.getExtension("EXT_color_buffer_half_float")&&!u.getExtension("EXT_color_buffer_float")){t.setCurrentOperation("translucentPass"),r.traverse(t);return}if(e._supported=!0,e.framebuffer===null)t.createFramebuffer(a);else{var o=e.framebuffer.getSize();o===null||o[0]!==i[0]||o[1]!==i[1]?(e.framebuffer.releaseGraphicsResources(),e.translucentRGBATexture.releaseGraphicsResources(a),e.translucentRTexture.releaseGraphicsResources(a),e.translucentZTexture.releaseGraphicsResources(a),t.createFramebuffer(a)):(e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.bind())}u.drawBuffers([u.COLOR_ATTACHMENT0]),u.clearBufferfv(u.COLOR,0,[0,0,0,0]),u.clearBufferfv(u.DEPTH,0,[1]),u.colorMask(!1,!1,!1,!1),n.getOpaqueActorCount()>0&&(n.setCurrentOperation("opaquePass"),r.traverse(n)),u.colorMask(!0,!0,!0,!0),u.drawBuffers([u.COLOR_ATTACHMENT0,u.COLOR_ATTACHMENT1]),u.viewport(0,0,i[0],i[1]),u.scissor(0,0,i[0],i[1]),u.clearBufferfv(u.COLOR,0,[0,0,0,1]),u.clearBufferfv(u.COLOR,1,[0,0,0,0]),u.enable(u.DEPTH_TEST),u.enable(u.BLEND),u.blendFuncSeparate(u.ONE,u.ONE,u.ZERO,u.ONE_MINUS_SRC_ALPHA),t.setCurrentOperation("translucentPass"),r.traverse(t),u.drawBuffers([u.NONE]),e.framebuffer.restorePreviousBindingsAndBuffers(),e.copyShader===null?t.createCopyShader(a):a.getShaderCache().readyShaderProgram(e.copyShader),e.copyVAO||(e.copyVAO=au.newInstance(),e.copyVAO.setOpenGLRenderWindow(a)),e.copyVAO.bind(),e.VBOBuildTime.getMTime()<t.getMTime()&&t.createVBO(a),u.blendFuncSeparate(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA),u.depthMask(!1),u.depthFunc(u.ALWAYS),u.viewport(0,0,i[0],i[1]),u.scissor(0,0,i[0],i[1]),e.translucentRGBATexture.activate(),e.copyShader.setUniformi("translucentRGBATexture",e.translucentRGBATexture.getTextureUnit()),e.translucentRTexture.activate(),e.copyShader.setUniformi("translucentRTexture",e.translucentRTexture.getTextureUnit()),u.drawArrays(u.TRIANGLES,0,e.tris.getCABO().getElementCount()),u.depthMask(!0),u.depthFunc(u.LEQUAL),e.translucentRGBATexture.deactivate(),e.translucentRTexture.deactivate()}},t.getShaderReplacement=function(){return e._supported?uO:null},t.releaseGraphicsResources=function(a){e.framebuffer&&(e.framebuffer.releaseGraphicsResources(a),e.framebuffer=null),e.translucentRGBATexture&&(e.translucentRGBATexture.releaseGraphicsResources(a),e.translucentRGBATexture=null),e.translucentRTexture&&(e.translucentRTexture.releaseGraphicsResources(a),e.translucentRTexture=null),e.translucentZTexture&&(e.translucentZTexture.releaseGraphicsResources(a),e.translucentZTexture=null),e.copyVAO&&(e.copyVAO.releaseGraphicsResources(a),e.copyVAO=null),e.copyShader&&(e.copyShader.releaseGraphicsResources(a),e.copyShader=null),e.tris&&(e.tris.releaseGraphicsResources(a),e.tris=null),t.modified()}}var lO={framebuffer:null,copyShader:null,tris:null};function eg(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,lO,a),Gu.extend(t,e,a),e.VBOBuildTime={},U.obj(e.VBOBuildTime,{mtime:0}),e.tris=Zr.newInstance(),U.get(t,e,["framebuffer"]),fO(t,e)}var pO=U.newInstance(eg,"vtkOpenGLOrderIndependentTranslucentPass"),hO={newInstance:pO,extend:eg};function vO(t,e){e.classHierarchy.push("vtkForwardPass"),t.traverse=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!e.deleted){e._currentParent=r,t.setCurrentOperation("buildPass"),a.traverse(t);for(var n=a.getRenderable().getNumberOfLayers(),i=a.getChildren(),u=0;u<n;u++)for(var o=0;o<i.length;o++){var f=i[o],s=a.getRenderable().getRenderers()[o];if(s.getDraw()&&s.getLayer()===u){if(e.opaqueActorCount=0,e.translucentActorCount=0,e.volumeCount=0,e.overlayActorCount=0,t.setCurrentOperation("queryPass"),f.traverse(t),e.opaqueActorCount>0&&e.volumeCount>0||e.depthRequested){var l=a.getFramebufferSize();e.framebuffer===null&&(e.framebuffer=zo.newInstance()),e.framebuffer.setOpenGLRenderWindow(a),e.framebuffer.saveCurrentBindingsAndBuffers();var c=e.framebuffer.getSize();(c===null||c[0]!==l[0]||c[1]!==l[1])&&(e.framebuffer.create(l[0],l[1]),e.framebuffer.populateFramebuffer()),e.framebuffer.bind(),t.setCurrentOperation("opaqueZBufferPass"),f.traverse(t),e.framebuffer.restorePreviousBindingsAndBuffers(),e.depthRequested=!1}t.setCurrentOperation("cameraPass"),f.traverse(t),e.opaqueActorCount>0&&(t.setCurrentOperation("opaquePass"),f.traverse(t)),e.translucentActorCount>0&&(e.translucentPass||(e.translucentPass=hO.newInstance()),e.translucentPass.traverse(a,f,t)),e.volumeCount>0&&(t.setCurrentOperation("volumePass"),f.traverse(t)),e.overlayActorCount>0&&(t.setCurrentOperation("overlayPass"),f.traverse(t))}}}},t.getZBufferTexture=function(){return e.framebuffer?e.framebuffer.getColorTexture():null},t.requestDepth=function(){e.depthRequested=!0},t.incrementOpaqueActorCount=function(){return e.opaqueActorCount++},t.incrementTranslucentActorCount=function(){return e.translucentActorCount++},t.incrementVolumeCount=function(){return e.volumeCount++},t.incrementOverlayActorCount=function(){return e.overlayActorCount++}}var gO={opaqueActorCount:0,translucentActorCount:0,volumeCount:0,overlayActorCount:0,framebuffer:null,depthRequested:!1};function tg(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,gO,a),Gu.extend(t,e,a),U.get(t,e,["framebuffer","opaqueActorCount","translucentActorCount","volumeCount"]),vO(t,e)}var dO=U.newInstance(tg,"vtkForwardPass"),yO={newInstance:dO,extend:tg},rg={exports:{}};(function(t,e){(function(a){t.exports=a()})(function(a){var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(x,v){var d=x[0],w=x[1],C=x[2],S=x[3];d+=(w&C|~w&S)+v[0]-680876936|0,d=(d<<7|d>>>25)+w|0,S+=(d&w|~d&C)+v[1]-389564586|0,S=(S<<12|S>>>20)+d|0,C+=(S&d|~S&w)+v[2]+606105819|0,C=(C<<17|C>>>15)+S|0,w+=(C&S|~C&d)+v[3]-1044525330|0,w=(w<<22|w>>>10)+C|0,d+=(w&C|~w&S)+v[4]-176418897|0,d=(d<<7|d>>>25)+w|0,S+=(d&w|~d&C)+v[5]+1200080426|0,S=(S<<12|S>>>20)+d|0,C+=(S&d|~S&w)+v[6]-1473231341|0,C=(C<<17|C>>>15)+S|0,w+=(C&S|~C&d)+v[7]-45705983|0,w=(w<<22|w>>>10)+C|0,d+=(w&C|~w&S)+v[8]+1770035416|0,d=(d<<7|d>>>25)+w|0,S+=(d&w|~d&C)+v[9]-1958414417|0,S=(S<<12|S>>>20)+d|0,C+=(S&d|~S&w)+v[10]-42063|0,C=(C<<17|C>>>15)+S|0,w+=(C&S|~C&d)+v[11]-1990404162|0,w=(w<<22|w>>>10)+C|0,d+=(w&C|~w&S)+v[12]+1804603682|0,d=(d<<7|d>>>25)+w|0,S+=(d&w|~d&C)+v[13]-40341101|0,S=(S<<12|S>>>20)+d|0,C+=(S&d|~S&w)+v[14]-1502002290|0,C=(C<<17|C>>>15)+S|0,w+=(C&S|~C&d)+v[15]+1236535329|0,w=(w<<22|w>>>10)+C|0,d+=(w&S|C&~S)+v[1]-165796510|0,d=(d<<5|d>>>27)+w|0,S+=(d&C|w&~C)+v[6]-1069501632|0,S=(S<<9|S>>>23)+d|0,C+=(S&w|d&~w)+v[11]+643717713|0,C=(C<<14|C>>>18)+S|0,w+=(C&d|S&~d)+v[0]-373897302|0,w=(w<<20|w>>>12)+C|0,d+=(w&S|C&~S)+v[5]-701558691|0,d=(d<<5|d>>>27)+w|0,S+=(d&C|w&~C)+v[10]+38016083|0,S=(S<<9|S>>>23)+d|0,C+=(S&w|d&~w)+v[15]-660478335|0,C=(C<<14|C>>>18)+S|0,w+=(C&d|S&~d)+v[4]-405537848|0,w=(w<<20|w>>>12)+C|0,d+=(w&S|C&~S)+v[9]+568446438|0,d=(d<<5|d>>>27)+w|0,S+=(d&C|w&~C)+v[14]-1019803690|0,S=(S<<9|S>>>23)+d|0,C+=(S&w|d&~w)+v[3]-187363961|0,C=(C<<14|C>>>18)+S|0,w+=(C&d|S&~d)+v[8]+1163531501|0,w=(w<<20|w>>>12)+C|0,d+=(w&S|C&~S)+v[13]-1444681467|0,d=(d<<5|d>>>27)+w|0,S+=(d&C|w&~C)+v[2]-51403784|0,S=(S<<9|S>>>23)+d|0,C+=(S&w|d&~w)+v[7]+1735328473|0,C=(C<<14|C>>>18)+S|0,w+=(C&d|S&~d)+v[12]-1926607734|0,w=(w<<20|w>>>12)+C|0,d+=(w^C^S)+v[5]-378558|0,d=(d<<4|d>>>28)+w|0,S+=(d^w^C)+v[8]-2022574463|0,S=(S<<11|S>>>21)+d|0,C+=(S^d^w)+v[11]+1839030562|0,C=(C<<16|C>>>16)+S|0,w+=(C^S^d)+v[14]-35309556|0,w=(w<<23|w>>>9)+C|0,d+=(w^C^S)+v[1]-1530992060|0,d=(d<<4|d>>>28)+w|0,S+=(d^w^C)+v[4]+1272893353|0,S=(S<<11|S>>>21)+d|0,C+=(S^d^w)+v[7]-155497632|0,C=(C<<16|C>>>16)+S|0,w+=(C^S^d)+v[10]-1094730640|0,w=(w<<23|w>>>9)+C|0,d+=(w^C^S)+v[13]+681279174|0,d=(d<<4|d>>>28)+w|0,S+=(d^w^C)+v[0]-358537222|0,S=(S<<11|S>>>21)+d|0,C+=(S^d^w)+v[3]-722521979|0,C=(C<<16|C>>>16)+S|0,w+=(C^S^d)+v[6]+76029189|0,w=(w<<23|w>>>9)+C|0,d+=(w^C^S)+v[9]-640364487|0,d=(d<<4|d>>>28)+w|0,S+=(d^w^C)+v[12]-421815835|0,S=(S<<11|S>>>21)+d|0,C+=(S^d^w)+v[15]+530742520|0,C=(C<<16|C>>>16)+S|0,w+=(C^S^d)+v[2]-995338651|0,w=(w<<23|w>>>9)+C|0,d+=(C^(w|~S))+v[0]-198630844|0,d=(d<<6|d>>>26)+w|0,S+=(w^(d|~C))+v[7]+1126891415|0,S=(S<<10|S>>>22)+d|0,C+=(d^(S|~w))+v[14]-1416354905|0,C=(C<<15|C>>>17)+S|0,w+=(S^(C|~d))+v[5]-57434055|0,w=(w<<21|w>>>11)+C|0,d+=(C^(w|~S))+v[12]+1700485571|0,d=(d<<6|d>>>26)+w|0,S+=(w^(d|~C))+v[3]-1894986606|0,S=(S<<10|S>>>22)+d|0,C+=(d^(S|~w))+v[10]-1051523|0,C=(C<<15|C>>>17)+S|0,w+=(S^(C|~d))+v[1]-2054922799|0,w=(w<<21|w>>>11)+C|0,d+=(C^(w|~S))+v[8]+1873313359|0,d=(d<<6|d>>>26)+w|0,S+=(w^(d|~C))+v[15]-30611744|0,S=(S<<10|S>>>22)+d|0,C+=(d^(S|~w))+v[6]-1560198380|0,C=(C<<15|C>>>17)+S|0,w+=(S^(C|~d))+v[13]+1309151649|0,w=(w<<21|w>>>11)+C|0,d+=(C^(w|~S))+v[4]-145523070|0,d=(d<<6|d>>>26)+w|0,S+=(w^(d|~C))+v[11]-1120210379|0,S=(S<<10|S>>>22)+d|0,C+=(d^(S|~w))+v[2]+718787259|0,C=(C<<15|C>>>17)+S|0,w+=(S^(C|~d))+v[9]-343485551|0,w=(w<<21|w>>>11)+C|0,x[0]=d+x[0]|0,x[1]=w+x[1]|0,x[2]=C+x[2]|0,x[3]=S+x[3]|0}function i(x){var v=[],d;for(d=0;d<64;d+=4)v[d>>2]=x.charCodeAt(d)+(x.charCodeAt(d+1)<<8)+(x.charCodeAt(d+2)<<16)+(x.charCodeAt(d+3)<<24);return v}function u(x){var v=[],d;for(d=0;d<64;d+=4)v[d>>2]=x[d]+(x[d+1]<<8)+(x[d+2]<<16)+(x[d+3]<<24);return v}function o(x){var v=x.length,d=[1732584193,-271733879,-1732584194,271733878],w,C,S,T,_,D;for(w=64;w<=v;w+=64)n(d,i(x.substring(w-64,w)));for(x=x.substring(w-64),C=x.length,S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0;w<C;w+=1)S[w>>2]|=x.charCodeAt(w)<<(w%4<<3);if(S[w>>2]|=128<<(w%4<<3),w>55)for(n(d,S),w=0;w<16;w+=1)S[w]=0;return T=v*8,T=T.toString(16).match(/(.*?)(.{0,8})$/),_=parseInt(T[2],16),D=parseInt(T[1],16)||0,S[14]=_,S[15]=D,n(d,S),d}function f(x){var v=x.length,d=[1732584193,-271733879,-1732584194,271733878],w,C,S,T,_,D;for(w=64;w<=v;w+=64)n(d,u(x.subarray(w-64,w)));for(x=w-64<v?x.subarray(w-64):new Uint8Array(0),C=x.length,S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0;w<C;w+=1)S[w>>2]|=x[w]<<(w%4<<3);if(S[w>>2]|=128<<(w%4<<3),w>55)for(n(d,S),w=0;w<16;w+=1)S[w]=0;return T=v*8,T=T.toString(16).match(/(.*?)(.{0,8})$/),_=parseInt(T[2],16),D=parseInt(T[1],16)||0,S[14]=_,S[15]=D,n(d,S),d}function s(x){var v="",d;for(d=0;d<4;d+=1)v+=r[x>>d*8+4&15]+r[x>>d*8&15];return v}function l(x){var v;for(v=0;v<x.length;v+=1)x[v]=s(x[v]);return x.join("")}l(o("hello")),typeof ArrayBuffer!="undefined"&&!ArrayBuffer.prototype.slice&&function(){function x(v,d){return v=v|0||0,v<0?Math.max(v+d,0):Math.min(v,d)}ArrayBuffer.prototype.slice=function(v,d){var w=this.byteLength,C=x(v,w),S=w,T,_,D,b;return d!==a&&(S=x(d,w)),C>S?new ArrayBuffer(0):(T=S-C,_=new ArrayBuffer(T),D=new Uint8Array(_),b=new Uint8Array(this,C,T),D.set(b),_)}}();function c(x){return/[\u0080-\uFFFF]/.test(x)&&(x=unescape(encodeURIComponent(x))),x}function p(x,v){var d=x.length,w=new ArrayBuffer(d),C=new Uint8Array(w),S;for(S=0;S<d;S+=1)C[S]=x.charCodeAt(S);return v?C:w}function h(x){return String.fromCharCode.apply(null,new Uint8Array(x))}function g(x,v,d){var w=new Uint8Array(x.byteLength+v.byteLength);return w.set(new Uint8Array(x)),w.set(new Uint8Array(v),x.byteLength),d?w:w.buffer}function y(x){var v=[],d=x.length,w;for(w=0;w<d-1;w+=2)v.push(parseInt(x.substr(w,2),16));return String.fromCharCode.apply(String,v)}function m(){this.reset()}return m.prototype.append=function(x){return this.appendBinary(c(x)),this},m.prototype.appendBinary=function(x){this._buff+=x,this._length+=x.length;var v=this._buff.length,d;for(d=64;d<=v;d+=64)n(this._hash,i(this._buff.substring(d-64,d)));return this._buff=this._buff.substring(d-64),this},m.prototype.end=function(x){var v=this._buff,d=v.length,w,C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S;for(w=0;w<d;w+=1)C[w>>2]|=v.charCodeAt(w)<<(w%4<<3);return this._finish(C,d),S=l(this._hash),x&&(S=y(S)),this.reset(),S},m.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},m.prototype.setState=function(x){return this._buff=x.buff,this._length=x.length,this._hash=x.hash,this},m.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},m.prototype._finish=function(x,v){var d=v,w,C,S;if(x[d>>2]|=128<<(d%4<<3),d>55)for(n(this._hash,x),d=0;d<16;d+=1)x[d]=0;w=this._length*8,w=w.toString(16).match(/(.*?)(.{0,8})$/),C=parseInt(w[2],16),S=parseInt(w[1],16)||0,x[14]=C,x[15]=S,n(this._hash,x)},m.hash=function(x,v){return m.hashBinary(c(x),v)},m.hashBinary=function(x,v){var d=o(x),w=l(d);return v?y(w):w},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(x){var v=g(this._buff.buffer,x,!0),d=v.length,w;for(this._length+=x.byteLength,w=64;w<=d;w+=64)n(this._hash,u(v.subarray(w-64,w)));return this._buff=w-64<d?new Uint8Array(v.buffer.slice(w-64)):new Uint8Array(0),this},m.ArrayBuffer.prototype.end=function(x){var v=this._buff,d=v.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C,S;for(C=0;C<d;C+=1)w[C>>2]|=v[C]<<(C%4<<3);return this._finish(w,d),S=l(this._hash),x&&(S=y(S)),this.reset(),S},m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.getState=function(){var x=m.prototype.getState.call(this);return x.buff=h(x.buff),x},m.ArrayBuffer.prototype.setState=function(x){return x.buff=p(x.buff,!0),m.prototype.setState.call(this,x)},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.hash=function(x,v){var d=f(new Uint8Array(x)),w=l(d);return v?y(w):w},m})})(rg);var mO=rg.exports,xO=["lastShaderBound","context","_openGLRenderWindow"];function wO(t,e){e.classHierarchy.push("vtkShaderCache"),t.replaceShaderValues=function(a,r,n){var i=r;n.length>0&&(i=ie.substitute(i,"VSOut","GSOut").result);var u=e._openGLRenderWindow.getWebgl2(),o=`
`,f=`#version 100
`;u?f=`#version 300 es
#define attribute in
#define textureCube texture
#define texture2D texture
#define textureCubeLod textureLod
#define texture2DLod textureLod
`:(e.context.getExtension("OES_standard_derivatives"),e.context.getExtension("EXT_frag_depth")&&(o=`#extension GL_EXT_frag_depth : enable
`),e.context.getExtension("EXT_shader_texture_lod")&&(o+=`#extension GL_EXT_shader_texture_lod : enable
#define textureCubeLod textureCubeLodEXT
#define texture2DLod texture2DLodEXT`)),i=ie.substitute(i,"//VTK::System::Dec",["".concat(f,`
`),u?"":`#extension GL_OES_standard_derivatives : enable
`,o,"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;var s=ie.substitute(a,"//VTK::System::Dec",["".concat(f,`
`),"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;if(u){s=ie.substitute(s,"varying","out").result,i=ie.substitute(i,"varying","in").result;for(var l="",c=0;i.includes("gl_FragData[".concat(c,"]"));)i=ie.substitute(i,"gl_FragData\\[".concat(c,"\\]"),"fragOutput".concat(c)).result,l+="layout(location = ".concat(c,") out vec4 fragOutput").concat(c,`;
`),c++;i=ie.substitute(i,"//VTK::Output::Dec",l).result}var p=ie.substitute(n,"//VTK::System::Dec",f).result;return{VSSource:s,FSSource:i,GSSource:p}},t.readyShaderProgramArray=function(a,r,n){var i=t.replaceShaderValues(a,r,n),u=t.getShaderProgram(i.VSSource,i.FSSource,i.GSSource);return t.readyShaderProgram(u)},t.readyShaderProgram=function(a){return!a||!a.getCompiled()&&!a.compileShader()||!t.bindShader(a)?null:a},t.getShaderProgram=function(a,r,n){var i="".concat(a).concat(r).concat(n),u=mO.hash(i);if(!(u in e.shaderPrograms)){var o=ie.newInstance();return o.setContext(e.context),o.getVertexShader().setSource(a),o.getFragmentShader().setSource(r),n&&o.getGeometryShader().setSource(n),o.setMd5Hash(u),e.shaderPrograms[u]=o,o}return e.shaderPrograms[u]},t.releaseGraphicsResources=function(a){t.releaseCurrentShader(),Object.keys(e.shaderPrograms).map(function(r){return e.shaderPrograms[r]}).forEach(function(r){return r.releaseGraphicsResources(a)})},t.releaseGraphicsResources=function(){e.astShaderBound&&(e.lastShaderBound.release(),e.lastShaderBound=null)},t.bindShader=function(a){return e.lastShaderBound===a||(e.lastShaderBound&&e.lastShaderBound.release(),a.bind(),e.lastShaderBound=a),1}}var CO={lastShaderBound:null,shaderPrograms:null,context:null};function ng(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,CO,a),e.shaderPrograms={},U.obj(t,e),U.setGet(t,e,xO),U.moveToProtected(t,e,["openGLRenderWindow"]),wO(t,e)}var SO=U.newInstance(ng,"vtkShaderCache"),TO={newInstance:SO,extend:ng},_O=U.vtkErrorMacro;function DO(t,e){e.classHierarchy.push("vtkOpenGLTextureUnitManager"),t.deleteTable=function(){for(var a=0;a<e.numberOfTextureUnits;++a)e.textureUnits[a]===!0&&_O("some texture units  were not properly released");e.textureUnits=[],e.numberOfTextureUnits=0},t.setContext=function(a){if(e.context!==a){if(e.context!==0&&t.deleteTable(),e.context=a,e.context){e.numberOfTextureUnits=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);for(var r=0;r<e.numberOfTextureUnits;++r)e.textureUnits[r]=!1}t.modified()}},t.allocate=function(){for(var a=0;a<e.numberOfTextureUnits;a++)if(!t.isAllocated(a))return e.textureUnits[a]=!0,a;return-1},t.allocateUnit=function(a){return t.isAllocated(a)?-1:(e.textureUnits[a]=!0,a)},t.isAllocated=function(a){return e.textureUnits[a]},t.free=function(a){e.textureUnits[a]=!1}}var EO={context:null,numberOfTextureUnits:0,textureUnits:0};function ag(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,EO,a),U.obj(t,e),e.textureUnits=[],U.get(t,e,["numberOfTextureUnits"]),U.setGet(t,e,["context"]),DO(t,e)}var OO=U.newInstance(ag,"vtkOpenGLTextureUnitManager"),bO={newInstance:OO,extend:ag};function NO(t,e){e.classHierarchy.push("vtkRenderWindowViewNode"),t.getViewNodeFactory=function(){return null},t.getAspectRatio=function(){return e.size[0]/e.size[1]},t.getAspectRatioForRenderer=function(a){var r=a.getViewportByReference();return e.size[0]*(r[2]-r[0])/((r[3]-r[1])*e.size[1])},t.isInViewport=function(a,r,n){var i=n.getViewportByReference(),u=t.getFramebufferSize();return i[0]*u[0]<=a&&i[2]*u[0]>=a&&i[1]*u[1]<=r&&i[3]*u[1]>=r},t.getViewportSize=function(a){var r=a.getViewportByReference(),n=t.getFramebufferSize();return[(r[2]-r[0])*n[0],(r[3]-r[1])*n[1]]},t.getViewportCenter=function(a){var r=t.getViewportSize(a);return[r[0]*.5,r[1]*.5]},t.displayToNormalizedDisplay=function(a,r,n){var i=t.getFramebufferSize();return[a/i[0],r/i[1],n]},t.normalizedDisplayToDisplay=function(a,r,n){var i=t.getFramebufferSize();return[a*i[0],r*i[1],n]},t.worldToView=function(a,r,n,i){return i.worldToView(a,r,n)},t.viewToWorld=function(a,r,n,i){return i.viewToWorld(a,r,n)},t.worldToDisplay=function(a,r,n,i){var u=i.worldToView(a,r,n),o=t.getViewportSize(i),f=i.viewToProjection(u[0],u[1],u[2],o[0]/o[1]),s=i.projectionToNormalizedDisplay(f[0],f[1],f[2]);return t.normalizedDisplayToDisplay(s[0],s[1],s[2])},t.displayToWorld=function(a,r,n,i){var u=t.displayToNormalizedDisplay(a,r,n),o=i.normalizedDisplayToProjection(u[0],u[1],u[2]),f=t.getViewportSize(i),s=i.projectionToView(o[0],o[1],o[2],f[0]/f[1]);return i.viewToWorld(s[0],s[1],s[2])},t.normalizedDisplayToViewport=function(a,r,n,i){var u=i.getViewportByReference();u=t.normalizedDisplayToDisplay(u[0],u[1],0);var o=t.normalizedDisplayToDisplay(a,r,n);return[o[0]-u[0]-.5,o[1]-u[1]-.5,n]},t.viewportToNormalizedViewport=function(a,r,n,i){var u=t.getViewportSize(i);return u&&u[0]!==0&&u[1]!==0?[a/(u[0]-1),r/(u[1]-1),n]:[a,r,n]},t.normalizedViewportToViewport=function(a,r,n,i){var u=t.getViewportSize(i);return[a*(u[0]-1),r*(u[1]-1),n]},t.displayToLocalDisplay=function(a,r,n){var i=t.getFramebufferSize();return[a,i[1]-r-1,n]},t.viewportToNormalizedDisplay=function(a,r,n,i){var u=i.getViewportByReference();u=t.normalizedDisplayToDisplay(u[0],u[1],0);var o=a+u[0]+.5,f=r+u[1]+.5;return t.displayToNormalizedDisplay(o,f,n)},t.getComputedDevicePixelRatio=function(){return e.size[0]/t.getContainerSize()[0]},t.getContainerSize=function(){U.vtkErrorMacro("not implemented")},t.getPixelData=function(a,r,n,i){U.vtkErrorMacro("not implemented")},t.createSelector=function(){U.vtkErrorMacro("not implemented")}}var MO={size:void 0,selector:void 0};function ig(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,MO,a),e.size||(e.size=[300,300]),U.getArray(t,e,["size"],2),U.get(t,e,["selector"]),Rt.extend(t,e,a),NO(t,e)}var RO=U.newInstance(ig,"vtkRenderWindowViewNode"),kO={newInstance:RO,extend:ig},og="__getUnderlyingContext";function LO(){var t=new Map,e={apply:function(i,u,o){return t.has(o[0])?t.get(o[0]):i.apply(u,o)}};function a(n){return{apply:function(u,o,f){return t.set(n,f[0]),u.apply(o,f)}}}var r=Object.create(null);return r.getParameter=function(n,i,u,o){return new Proxy(o.bind(n),e)},r.depthMask=function(n,i,u,o){return new Proxy(o.bind(n),a(n.DEPTH_WRITEMASK))},{get:function(i,u,o){if(u===og)return function(){return i};var f=Reflect.get(i,u,i);f instanceof Function&&(f=f.bind(i));var s=r[u];return s?s(i,u,o,f):f}}}var hl=U.vtkDebugMacro,vl=U.vtkErrorMacro,FO={position:"absolute",top:0,left:0,width:"100%",height:"100%"},Un={vr:{rescaleFactor:1,translateZ:-.7},ar:{rescaleFactor:.25,translateZ:-.5}};function Ft(t,e,a){var r=t.createFramebuffer(),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,e,2,2,0,e,a,null),t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);var i=t.checkFramebufferStatus(t.FRAMEBUFFER);return t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindTexture(t.TEXTURE_2D,null),i===t.FRAMEBUFFER_COMPLETE}var ko=0,ts=[];function AO(){ko++,ts.forEach(function(t){return t(ko)})}function BO(){ko--,ts.forEach(function(t){return t(ko)})}function VO(t){ts.push(t)}function UO(t){return ts.pop()}function gl(t){t.preventDefault()}function GO(t,e){e.classHierarchy.push("vtkOpenGLRenderWindow");var a=LO();t.getViewNodeFactory=function(){return e.myFactory},e.canvas.addEventListener("webglcontextlost",gl,!1),e.canvas.addEventListener("webglcontextrestored",t.restoreContext,!1);var r=navigator.xr!==void 0&&navigator.xr.isSessionSupported("immersive-vr"),n=[0,0];function i(){e.renderable&&(e.size[0]!==n[0]||e.size[1]!==n[1])&&(n[0]=e.size[0],n[1]=e.size[1],e.canvas.setAttribute("width",e.size[0]),e.canvas.setAttribute("height",e.size[1])),e.viewStream&&e.viewStream.setSize(e.size[0],e.size[1]),e.canvas.style.display=e.useOffScreen?"none":"block",e.el&&(e.el.style.cursor=e.cursorVisibility?e.cursor:"none"),e.containerSize=null}t.onModified(i),t.buildPass=function(s){if(s){if(!e.renderable)return;t.prepareNodes(),t.addMissingNodes(e.renderable.getRenderersByReference()),t.removeUnusedNodes(),t.initialize(),e.children.forEach(function(l){l.setOpenGLRenderWindow(t)})}},t.initialize=function(){if(!e.initialized){e.context=t.get3DContext(),e.textureUnitManager=bO.newInstance(),e.textureUnitManager.setContext(e.context),e.shaderCache.setContext(e.context);var s=e.context;s.blendFuncSeparate(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA),s.depthFunc(s.LEQUAL),s.enable(s.BLEND),e.initialized=!0}},t.makeCurrent=function(){e.context.makeCurrent()},t.setContainer=function(s){e.el&&e.el!==s&&(e.canvas.parentNode!==e.el&&vl("Error: canvas parent node does not match container"),e.el.removeChild(e.canvas),e.el.contains(e.bgImage)&&e.el.removeChild(e.bgImage)),e.el!==s&&(e.el=s,e.el&&(e.el.appendChild(e.canvas),e.useBackgroundImage&&e.el.appendChild(e.bgImage)),t.modified())},t.getContainer=function(){return e.el},t.getContainerSize=function(){if(!e.containerSize&&e.el){var s=e.el.getBoundingClientRect(),l=s.width,c=s.height;e.containerSize=[l,c]}return e.containerSize||e.size},t.getFramebufferSize=function(){return e.activeFramebuffer?e.activeFramebuffer.getSize():e.size},t.getPixelData=function(s,l,c,p){var h=new Uint8Array((c-s+1)*(p-l+1)*4);return e.context.readPixels(s,l,c-s+1,p-l+1,e.context.RGBA,e.context.UNSIGNED_BYTE,h),h},t.get3DContext=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{preserveDrawingBuffer:!1,depth:!0,alpha:!0,powerPreference:"high-performance"},l=null;r&&t.invokeHaveVRDisplay();var c=typeof WebGL2RenderingContext!="undefined";return e.webgl2=!1,e.defaultToWebgl2&&c&&(l=e.canvas.getContext("webgl2",s),l&&(e.webgl2=!0,hl("using webgl2"))),l||(hl("using webgl1"),l=e.canvas.getContext("webgl",s)||e.canvas.getContext("experimental-webgl",s)),new Proxy(l,a)},t.startXR=function(s){if(navigator.xr===void 0)throw new Error("WebXR is not available");e.xrSessionIsAR=s;var l=s?"immersive-ar":"immersive-vr";if(!navigator.xr.isSessionSupported(l))throw s?new Error("Device does not support AR session"):new Error("VR display is not available");if(e.xrSession===null)navigator.xr.requestSession(l).then(t.enterXR,function(){throw new Error("Failed to create XR session!")});else throw new Error("XR Session already exists!")},t.enterXR=function(){var s=ea(Jt.mark(function l(c){var p,h;return Jt.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(e.xrSession=c,e.oldCanvasSize=e.size.slice(),e.xrSession===null){y.next=15;break}return p=t.get3DContext(),y.next=6,p.makeXRCompatible();case 6:h=new global.XRWebGLLayer(e.xrSession,p[og]()),t.setSize(h.framebufferWidth,h.framebufferHeight),e.xrSession.updateRenderState({baseLayer:h}),e.xrSession.requestReferenceSpace("local").then(function(m){e.xrReferenceSpace=m}),t.resetXRScene(),e.renderable.getInteractor().switchToXRAnimation(),e.xrSceneFrame=e.xrSession.requestAnimationFrame(t.xrRender),y.next=16;break;case 15:throw new Error("Failed to enter VR with a null xrSession.");case 16:case"end":return y.stop()}},l)}));return function(l){return s.apply(this,arguments)}}(),t.resetXRScene=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Un.vr.rescaleFactor,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Un.vr.translateZ,c=s,p=l;e.xrSessionIsAR&&c===Un.vr.rescaleFactor&&(c=Un.ar.rescaleFactor),e.xrSessionIsAR&&p===Un.vr.translateZ&&(p=Un.ar.translateZ);var h=e.renderable.getRenderers()[0];h.resetCamera();var g=h.getActiveCamera(),y=g.getPhysicalScale(),m=g.getPhysicalTranslation();y/=c,p*=y,m[2]+=p,g.setPhysicalScale(y),g.setPhysicalTranslation(m),g.setClippingRange(.1*y,100*y)},t.stopXR=ea(Jt.mark(function s(){var l,c;return Jt.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(navigator.xr!==void 0){h.next=2;break}return h.abrupt("return");case 2:if(e.xrSession===null){h.next=10;break}return e.xrSession.cancelAnimationFrame(e.xrSceneFrame),e.renderable.getInteractor().returnFromXRAnimation(),l=t.get3DContext(),l.bindFramebuffer(l.FRAMEBUFFER,null),h.next=9,e.xrSession.end().catch(function(g){if(!(g instanceof DOMException))throw g});case 9:e.xrSession=null;case 10:e.oldCanvasSize!==void 0&&t.setSize.apply(t,de(e.oldCanvasSize)),c=e.renderable.getRenderers()[0],c.getActiveCamera().setProjectionMatrix(null),c.resetCamera(),c.setViewport(0,0,1,1),t.traverseAllPasses();case 16:case"end":return h.stop()}},s)})),t.xrRender=function(){var s=ea(Jt.mark(function l(c,p){var h,g,y,m,x;return Jt.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:h=p.session,e.renderable.getInteractor().updateXRGamepads(h,p,e.xrReferenceSpace),e.xrSceneFrame=e.xrSession.requestAnimationFrame(t.xrRender),g=p.getViewerPose(e.xrReferenceSpace),g&&(y=t.get3DContext(),e.xrSessionIsAR&&e.oldCanvasSize!==void 0&&(y.canvas.width=e.oldCanvasSize[0],y.canvas.height=e.oldCanvasSize[1]),m=h.renderState.baseLayer,y.bindFramebuffer(y.FRAMEBUFFER,m.framebuffer),y.clear(y.COLOR_BUFFER_BIT),y.clear(y.DEPTH_BUFFER_BIT),x=e.renderable.getRenderers()[0],g.views.forEach(function(w){var C=m.getViewport(w);if(y.viewport(C.x,C.y,C.width,C.height),!e.xrSessionIsAR)if(w.eye==="left")x.setViewport(0,0,.5,1);else if(w.eye==="right")x.setViewport(.5,0,1,1);else return;x.getActiveCamera().computeViewParametersFromPhysicalMatrix(w.transform.inverse.matrix),x.getActiveCamera().setProjectionMatrix(w.projectionMatrix),t.traverseAllPasses()}));case 5:case"end":return d.stop()}},l)}));return function(l,c){return s.apply(this,arguments)}}(),t.restoreContext=function(){var s=Gu.newInstance();s.setCurrentOperation("Release"),s.traverse(t,null)},t.activateTexture=function(s){var l=e._textureResourceIds.get(s);if(l!==void 0){e.context.activeTexture(e.context.TEXTURE0+l);return}var c=t.getTextureUnitManager().allocate();if(c<0){vl("Hardware does not support the number of textures defined.");return}e._textureResourceIds.set(s,c),e.context.activeTexture(e.context.TEXTURE0+c)},t.deactivateTexture=function(s){var l=e._textureResourceIds.get(s);l!==void 0&&(t.getTextureUnitManager().free(l),e._textureResourceIds.delete(s))},t.getTextureUnitForTexture=function(s){var l=e._textureResourceIds.get(s);return l!==void 0?l:-1},t.getDefaultTextureInternalFormat=function(s,l){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.webgl2)switch(s){case at.UNSIGNED_CHAR:switch(l){case 1:return e.context.R8;case 2:return e.context.RG8;case 3:return e.context.RGB8;case 4:default:return e.context.RGBA8}case(c&&!p&&at.UNSIGNED_SHORT):switch(l){case 1:return c.R16_EXT;case 2:return c.RG16_EXT;case 3:return c.RGB16_EXT;case 4:default:return c.RGBA16_EXT}case(c&&!p&&at.SHORT):switch(l){case 1:return c.R16_SNORM_EXT;case 2:return c.RG16_SNORM_EXT;case 3:return c.RGB16_SNORM_EXT;case 4:default:return c.RGBA16_SNORM_EXT}case at.FLOAT:default:switch(l){case 1:return e.context.R16F;case 2:return e.context.RG16F;case 3:return e.context.RGB16F;case 4:default:return e.context.RGBA16F}}switch(l){case 1:return e.context.LUMINANCE;case 2:return e.context.LUMINANCE_ALPHA;case 3:return e.context.RGB;case 4:default:return e.context.RGBA}},t.setBackgroundImage=function(s){e.bgImage.src=s.src},t.setUseBackgroundImage=function(s){e.useBackgroundImage=s,e.useBackgroundImage&&!e.el.contains(e.bgImage)?e.el.appendChild(e.bgImage):!e.useBackgroundImage&&e.el.contains(e.bgImage)&&e.el.removeChild(e.bgImage)};function u(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.imageFormat,l=document.createElement("canvas"),c=l.getContext("2d");l.width=e.canvas.width,l.height=e.canvas.height,c.drawImage(e.canvas,0,0);var p=e.canvas.getBoundingClientRect(),h=e.renderable,g=h.getRenderers();g.forEach(function(m){var x=m.getViewProps();x.forEach(function(v){if(v.getContainer)for(var d=v.getContainer(),w=d.getElementsByTagName("canvas"),C=0;C<w.length;C++){var S=w[C],T=S.getBoundingClientRect(),_=T.x-p.x,D=T.y-p.y;c.drawImage(S,_,D)}})});var y=l.toDataURL(s);l.remove(),t.invokeImageReady(y)}t.captureNextImage=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=l.resetCamera,p=c===void 0?!1:c,h=l.size,g=h===void 0?null:h,y=l.scale,m=y===void 0?1:y;if(e.deleted)return null;e.imageFormat=s;var x=e.notifyStartCaptureImage;return e.notifyStartCaptureImage=!0,e._screenshot={size:!!g||m!==1?g||e.size.map(function(v){return v*m}):null},new Promise(function(v,d){var w=t.onImageReady(function(C){if(e._screenshot.size===null)e.notifyStartCaptureImage=x,w.unsubscribe(),e._screenshot.placeHolder&&(e.size=e._screenshot.originalSize,t.modified(),e._screenshot.cameras&&e._screenshot.cameras.forEach(function(_){var D=_.restoreParamsFn,b=_.arg;return D(b)}),t.traverseAllPasses(),e.el.removeChild(e._screenshot.placeHolder),e._screenshot.placeHolder.remove(),e._screenshot=null),v(C);else{var S=document.createElement("img");if(S.style=FO,S.src=C,e._screenshot.placeHolder=e.el.appendChild(S),e.canvas.style.display="none",e._screenshot.originalSize=e.size,e.size=e._screenshot.size,e._screenshot.size=null,t.modified(),p){var T=p!==!0;e._screenshot.cameras=e.renderable.getRenderers().map(function(_){var D=_.getActiveCamera(),b=D.get("focalPoint","position","parallelScale");return{resetCameraArgs:T?{renderer:_}:void 0,resetCameraFn:T?p:_.resetCamera,restoreParamsFn:D.set,arg:JSON.parse(JSON.stringify(b))}}),e._screenshot.cameras.forEach(function(_){var D=_.resetCameraFn,b=_.resetCameraArgs;return D(b)})}t.traverseAllPasses()}})})};var o;t.getHardwareMaximumLineWidth=function(){if(o!=null)return o;var s=t.get3DContext(),l=s.getParameter(s.ALIASED_LINE_WIDTH_RANGE);return o=l[1],l[1]},t.getGLInformations=function(){for(var s=t.get3DContext(),l=s.getExtension("OES_texture_float"),c=s.getExtension("OES_texture_half_float"),p=s.getExtension("WEBGL_debug_renderer_info"),h=s.getExtension("WEBGL_draw_buffers"),g=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),y=[["Max Vertex Attributes","MAX_VERTEX_ATTRIBS",s.getParameter(s.MAX_VERTEX_ATTRIBS)],["Max Varying Vectors","MAX_VARYING_VECTORS",s.getParameter(s.MAX_VARYING_VECTORS)],["Max Vertex Uniform Vectors","MAX_VERTEX_UNIFORM_VECTORS",s.getParameter(s.MAX_VERTEX_UNIFORM_VECTORS)],["Max Fragment Uniform Vectors","MAX_FRAGMENT_UNIFORM_VECTORS",s.getParameter(s.MAX_FRAGMENT_UNIFORM_VECTORS)],["Max Fragment Texture Image Units","MAX_TEXTURE_IMAGE_UNITS",s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS)],["Max Vertex Texture Image Units","MAX_VERTEX_TEXTURE_IMAGE_UNITS",s.getParameter(s.MAX_VERTEX_TEXTURE_IMAGE_UNITS)],["Max Combined Texture Image Units","MAX_COMBINED_TEXTURE_IMAGE_UNITS",s.getParameter(s.MAX_COMBINED_TEXTURE_IMAGE_UNITS)],["Max 2D Texture Size","MAX_TEXTURE_SIZE",s.getParameter(s.MAX_TEXTURE_SIZE)],["Max Cube Texture Size","MAX_CUBE_MAP_TEXTURE_SIZE",s.getParameter(s.MAX_CUBE_MAP_TEXTURE_SIZE)],["Max Texture Anisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT",g&&s.getParameter(g.MAX_TEXTURE_MAX_ANISOTROPY_EXT)],["Point Size Range","ALIASED_POINT_SIZE_RANGE",s.getParameter(s.ALIASED_POINT_SIZE_RANGE).join(" - ")],["Line Width Range","ALIASED_LINE_WIDTH_RANGE",s.getParameter(s.ALIASED_LINE_WIDTH_RANGE).join(" - ")],["Max Viewport Dimensions","MAX_VIEWPORT_DIMS",s.getParameter(s.MAX_VIEWPORT_DIMS).join(" - ")],["Max Renderbuffer Size","MAX_RENDERBUFFER_SIZE",s.getParameter(s.MAX_RENDERBUFFER_SIZE)],["Framebuffer Red Bits","RED_BITS",s.getParameter(s.RED_BITS)],["Framebuffer Green Bits","GREEN_BITS",s.getParameter(s.GREEN_BITS)],["Framebuffer Blue Bits","BLUE_BITS",s.getParameter(s.BLUE_BITS)],["Framebuffer Alpha Bits","ALPHA_BITS",s.getParameter(s.ALPHA_BITS)],["Framebuffer Depth Bits","DEPTH_BITS",s.getParameter(s.DEPTH_BITS)],["Framebuffer Stencil Bits","STENCIL_BITS",s.getParameter(s.STENCIL_BITS)],["Framebuffer Subpixel Bits","SUBPIXEL_BITS",s.getParameter(s.SUBPIXEL_BITS)],["MSAA Samples","SAMPLES",s.getParameter(s.SAMPLES)],["MSAA Sample Buffers","SAMPLE_BUFFERS",s.getParameter(s.SAMPLE_BUFFERS)],["Supported Formats for UByte Render Targets     ","UNSIGNED_BYTE RENDER TARGET FORMATS",[l&&Ft(s,s.RGBA,s.UNSIGNED_BYTE)?"RGBA":"",l&&Ft(s,s.RGB,s.UNSIGNED_BYTE)?"RGB":"",l&&Ft(s,s.LUMINANCE,s.UNSIGNED_BYTE)?"LUMINANCE":"",l&&Ft(s,s.ALPHA,s.UNSIGNED_BYTE)?"ALPHA":"",l&&Ft(s,s.LUMINANCE_ALPHA,s.UNSIGNED_BYTE)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Half Float Render Targets","HALF FLOAT RENDER TARGET FORMATS",[c&&Ft(s,s.RGBA,c.HALF_FLOAT_OES)?"RGBA":"",c&&Ft(s,s.RGB,c.HALF_FLOAT_OES)?"RGB":"",c&&Ft(s,s.LUMINANCE,c.HALF_FLOAT_OES)?"LUMINANCE":"",c&&Ft(s,s.ALPHA,c.HALF_FLOAT_OES)?"ALPHA":"",c&&Ft(s,s.LUMINANCE_ALPHA,c.HALF_FLOAT_OES)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Full Float Render Targets","FLOAT RENDER TARGET FORMATS",[l&&Ft(s,s.RGBA,s.FLOAT)?"RGBA":"",l&&Ft(s,s.RGB,s.FLOAT)?"RGB":"",l&&Ft(s,s.LUMINANCE,s.FLOAT)?"LUMINANCE":"",l&&Ft(s,s.ALPHA,s.FLOAT)?"ALPHA":"",l&&Ft(s,s.LUMINANCE_ALPHA,s.FLOAT)?"LUMINANCE_ALPHA":""].join(" ")],["Max Multiple Render Targets Buffers","MAX_DRAW_BUFFERS_WEBGL",h?s.getParameter(h.MAX_DRAW_BUFFERS_WEBGL):0],["High Float Precision in Vertex Shader","HIGH_FLOAT VERTEX_SHADER",[s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.HIGH_FLOAT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Vertex Shader","MEDIUM_FLOAT VERTEX_SHADER",[s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.MEDIUM_FLOAT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Vertex Shader","LOW_FLOAT VERTEX_SHADER",[s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.LOW_FLOAT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Float Precision in Fragment Shader","HIGH_FLOAT FRAGMENT_SHADER",[s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Fragment Shader","MEDIUM_FLOAT FRAGMENT_SHADER",[s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.MEDIUM_FLOAT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Fragment Shader","LOW_FLOAT FRAGMENT_SHADER",[s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.LOW_FLOAT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Int Precision in Vertex Shader","HIGH_INT VERTEX_SHADER",[s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.HIGH_INT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.HIGH_INT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Vertex Shader","MEDIUM_INT VERTEX_SHADER",[s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.MEDIUM_INT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Vertex Shader","LOW_INT VERTEX_SHADER",[s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.LOW_INT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.LOW_INT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.VERTEX_SHADER,s.LOW_INT).rangeMax,"</sup>)"].join("")],["High Int Precision in Fragment Shader","HIGH_INT FRAGMENT_SHADER",[s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_INT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_INT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Fragment Shader","MEDIUM_INT FRAGMENT_SHADER",[s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.MEDIUM_INT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Fragment Shader","LOW_INT FRAGMENT_SHADER",[s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.LOW_INT).precision," (-2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.LOW_INT).rangeMin,"</sup> - 2<sup>",s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.LOW_INT).rangeMax,"</sup>)"].join("")],["Supported Extensions","EXTENSIONS",s.getSupportedExtensions().join("<br/>					    ")],["WebGL Renderer","RENDERER",s.getParameter(s.RENDERER)],["WebGL Vendor","VENDOR",s.getParameter(s.VENDOR)],["WebGL Version","VERSION",s.getParameter(s.VERSION)],["Shading Language Version","SHADING_LANGUAGE_VERSION",s.getParameter(s.SHADING_LANGUAGE_VERSION)],["Unmasked Renderer","UNMASKED_RENDERER",p&&s.getParameter(p.UNMASKED_RENDERER_WEBGL)],["Unmasked Vendor","UNMASKED_VENDOR",p&&s.getParameter(p.UNMASKED_VENDOR_WEBGL)],["WebGL Version","WEBGL_VERSION",e.webgl2?2:1]],m={};y.length;){var x=y.pop(),v=ze(x,3),d=v[0],w=v[1],C=v[2];w&&(m[w]={label:d,value:C})}return m},t.traverseAllPasses=function(){if(e.renderPasses)for(var s=0;s<e.renderPasses.length;++s)e.renderPasses[s].traverse(t,null);e.notifyStartCaptureImage&&u()},t.disableCullFace=function(){e.cullFaceEnabled&&(e.context.disable(e.context.CULL_FACE),e.cullFaceEnabled=!1)},t.enableCullFace=function(){e.cullFaceEnabled||(e.context.enable(e.context.CULL_FACE),e.cullFaceEnabled=!0)},t.setViewStream=function(s){if(e.viewStream===s)return!1;if(e.subscription&&(e.subscription.unsubscribe(),e.subscription=null),e.viewStream=s,e.viewStream){var l=e.renderable.getRenderers()[0];l.getBackgroundByReference()[3]=0,t.setUseBackgroundImage(!0),e.subscription=e.viewStream.onImageReady(function(c){return t.setBackgroundImage(c.image)}),e.viewStream.setSize(e.size[0],e.size[1]),e.viewStream.invalidateCache(),e.viewStream.render(),t.modified()}return!0},t.createSelector=function(){var s=qo.newInstance();return s.setOpenGLRenderWindow(t),s};function f(){e.canvas.removeEventListener("webglcontextlost",gl),e.canvas.removeEventListener("webglcontextrestored",t.restoreContext)}t.delete=U.chain(f,t.delete,t.setViewStream,BO)}var PO={cullFaceEnabled:!1,shaderCache:null,initialized:!1,context:null,canvas:null,cursorVisibility:!0,cursor:"pointer",textureUnitManager:null,textureResourceIds:null,containerSize:null,renderPasses:[],notifyStartCaptureImage:!1,webgl2:!1,defaultToWebgl2:!0,activeFramebuffer:null,xrSession:null,xrSessionIsAR:!1,xrReferenceSpace:null,xrSupported:!0,imageFormat:"image/png",useOffScreen:!1,useBackgroundImage:!1};function sg(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,PO,a),kO.extend(t,e,a),e.canvas=document.createElement("canvas"),e.canvas.style.width="100%",AO(),e.selector||(e.selector=qo.newInstance(),e.selector.setOpenGLRenderWindow(t)),e.bgImage=new Image,e.bgImage.style.position="absolute",e.bgImage.style.left="0",e.bgImage.style.top="0",e.bgImage.style.width="100%",e.bgImage.style.height="100%",e.bgImage.style.zIndex="-1",e._textureResourceIds=new Map,e.myFactory=I3.newInstance(),e.myFactory.registerOverride("vtkRenderWindow",Pu),e.shaderCache=TO.newInstance(),e.shaderCache.setOpenGLRenderWindow(t),e.renderPasses[0]=yO.newInstance(),U.event(t,e,"imageReady"),U.event(t,e,"haveVRDisplay"),U.get(t,e,["shaderCache","textureUnitManager","webgl2","vrDisplay","useBackgroundImage","xrSupported"]),U.setGet(t,e,["initialized","context","canvas","renderPasses","notifyStartCaptureImage","defaultToWebgl2","cursor","useOffScreen","activeFramebuffer"]),U.setGetArray(t,e,["size"],2),GO(t,e)}var Pu=U.newInstance(sg,"vtkOpenGLRenderWindow");qv("WebGL",Pu);var ug={newInstance:Pu,extend:sg,pushMonitorGLContextCount:VO,popMonitorGLContextCount:UO};function jO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=Ue(t);if(e){var n=Ue(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Ot(this,a)}}function dl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function cg(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?dl(Object(a),!0).forEach(function(r){hi(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):dl(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var fg=le.createContext(null);function zO(t,e){var a=cg({},t);return e.forEach(function(r){delete a[r]}),a}var WO={position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none"},ju=function(t){Et(a,St.exports.Component);var e=jO(a);function a(r){var n;return _t(this,a),(n=e.call(this,r)).containerRef=le.createRef(),n.containerToRenderer=new Map,n.renderWindow=Zv.newInstance(),n.interactor=null,n.renderWindowView=ug.newInstance(),n.renderWindow.addView(n.renderWindowView),n.resizeObserver=new ResizeObserver(function(i){n.onResize(i)}),n.interactor=Vu.newInstance(),n.interactor.setView(n.renderWindowView),n.onResize=n.onResize.bind(ta(n)),n.initialized=!1,n}return Dt(a,[{key:"componentDidMount",value:function(){if(!this.props.disabled){var r=this.containerRef.current;this.renderWindowView.setContainer(r),this.interactor.initialize(),this.resizeObserver.observe(r),this.resizeRootContainer(),this.initialized=!0,this.update(this.props)}}},{key:"componentDidUpdate",value:function(r){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.initialized&&(this.resizeObserver.disconnect(),this.interactor.getContainer()&&this.interactor.unbindEvents(),this.renderWindowView.setContainer(null)),this.renderWindow.removeView(this.renderWindowView),this.interactor.delete(),this.renderWindow.delete(),this.renderWindowView.delete(),this.interactor=null,this.renderWindow=null,this.renderWindowView=null}},{key:"render",value:function(){var r=this.props,n=r.id,i=r.children,u=r.style,o=r.disabled;return le.createElement("div",ai({key:n,id:n,style:cg({position:"relative"},u)},zO(this.props,Object.keys(lg))),le.createElement("div",{style:WO,ref:this.containerRef}),le.createElement(fg.Provider,{value:o?null:this},i))}},{key:"bindInteractorEvents",value:function(r){this.interactor&&(this.interactor.getContainer()&&this.interactor.unbindEvents(),r&&this.interactor.bindEvents(r))}},{key:"observeRendererResize",value:function(r,n){this.containerToRenderer.has(r)||(this.containerToRenderer.set(r,n),this.resizeObserver.observe(r))}},{key:"unobserveRendererResize",value:function(r){this.containerToRenderer.delete(r),this.resizeObserver.unobserve(r)}},{key:"resizeRootContainer",value:function(){var r=this.containerRef.current;if(r){var n=window.devicePixelRatio||1,i=r.getBoundingClientRect(),u=i.width,o=i.height,f=Math.floor(u*n),s=Math.floor(o*n);this.renderWindowView.setSize(Math.max(f,10),Math.max(s,10))}}},{key:"onResize",value:function(r){var n=this;r.forEach(function(i){var u=n.containerRef.current;if(i.target===u)n.resizeRootContainer();else if(n.containerToRenderer.has(i.target)){var o=n.containerToRenderer.get(i.target),f=i.target.getBoundingClientRect(),s=n.renderWindowView.getCanvas().getBoundingClientRect(),l=f.top-s.top,c=f.left-s.left,p=c/s.width,h=(c+f.width)/s.width,g=1-(l+f.height)/s.height,y=1-l/s.height;o.setViewport(p,g,h,y)}}),this.renderWindow.render()}},{key:"update",value:function(r,n){var i=r.triggerRender;n&&i!==n.triggerRender&&(this.renderViewTimeout=setTimeout(this.renderWindow.render,0))}}]),a}();ju.defaultProps={triggerRender:0,disabled:!1};var lg={id:q.string,triggerRender:q.number,disabled:q.bool,children:q.oneOfType([q.arrayOf(q.node),q.node])};ju.propTypes=lg;function yl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function IO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=Ue(t);if(e){var n=Ue(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Ot(this,a)}}var F0=function(t){Et(a,St.exports.Component);var e=IO(a);function a(r){var n;return _t(this,a),(n=e.call(this,r)).renderer=hv.newInstance(),n.view=null,n.resizeObserver=new ResizeObserver(function(){return n.onResize()}),r.root?(n.renderWindow=r.root.renderWindow,n.openglRenderWindow=r.root.renderWindowView,n.interactor=r.root.interactor):(n.renderWindow=Zv.newInstance(),n.openglRenderWindow=ug.newInstance(),n.interactor=Vu.newInstance(),n.renderWindow.addView(n.openglRenderWindow),r.interactive&&(n.interactor.setView(n.openglRenderWindow),n.interactor.initialize())),n.renderWindow.addRenderer(n.renderer),n.onEnter=n.onEnter.bind(ta(n)),n.onResize=n.onResize.bind(ta(n)),n.setViewRef=n.setViewRef.bind(ta(n)),n}return Dt(a,[{key:"componentDidMount",value:function(){var r,n=(r=this.view)===null||r===void 0?void 0:r.containerRef.current;this.view&&n&&(n.addEventListener("pointerenter",this.onEnter),this.props.root?this.props.root.observeRendererResize(n,this.renderer):(this.resizeObserver.observe(n),this.openglRenderWindow.setContainer(n),this.props.interactive&&this.interactor.bindEvents(n),this.interactor.setInteractorStyle(this.view.style),this.onResize()))}},{key:"componentWillUnmount",value:function(){var r,n=(r=this.view)===null||r===void 0?void 0:r.containerRef.current;n.removeEventListener("pointerenter",this.onEnter),this.resizeObserver.disconnect(),this.props.root&&this.props.root.unobserveRendererResize(n),this.renderWindow.isDeleted()||this.renderWindow.removeRenderer(this.renderer),this.props.root?this.bindInteractorEvents(null):(this.interactor.getContainer()&&this.interactor.unbindEvents(),this.openglRenderWindow.setContainer(null),this.renderWindow.isDeleted()||(this.renderWindow.removeView(this.openglRenderWindow),this.renderWindow.delete()),this.interactor.delete(),this.openglRenderWindow.delete()),this.renderer.delete(),this.interactor=null,this.renderWindow=null,this.openglRenderWindow=null}},{key:"render",value:function(){var r=function(n){for(var i=1;i<arguments.length;i++){var u=arguments[i]!=null?arguments[i]:{};i%2?yl(Object(u),!0).forEach(function(o){hi(n,o,u[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(u)):yl(Object(u)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(u,o))})}return n}({},this.props);return delete r.root,le.createElement(ti,ai({renderWindow:this.renderWindow,renderWindowView:this.openglRenderWindow,renderer:this.renderer,interactor:this.interactor,ref:this.setViewRef},r))}},{key:"setViewRef",value:function(r){this.view=r,this.props.forwardedRef&&(this.props.forwardedRef.current=r)}},{key:"bindInteractorEvents",value:function(r){var n=this.interactor.getContainer();n!==r&&(n&&this.interactor.unbindEvents(),r&&this.interactor.bindEvents(r))}},{key:"onEnter",value:function(){var r,n=(r=this.view)===null||r===void 0?void 0:r.containerRef.current;this.props.root&&n&&(this.bindInteractorEvents(n),this.interactor.setCurrentRenderer(this.renderer),this.interactor.setInteractorStyle(this.view.style))}},{key:"onResize",value:function(){var r,n=(r=this.view)===null||r===void 0?void 0:r.containerRef.current;if(n&&!this.props.root){var i=window.devicePixelRatio||1,u=n.getBoundingClientRect(),o=u.width,f=u.height,s=Math.floor(o*i),l=Math.floor(f*i);this.openglRenderWindow.setSize(Math.max(s,10),Math.max(l,10)),this.renderWindow.render()}}}]),a}();F0.defaultProps=ti.defaultProps,F0.propTypes=ti.propTypes;var $O=le.forwardRef(function(t,e){return le.createElement(fg.Consumer,null,function(a){return le.createElement(F0,ai({forwardedRef:e},t,{root:a}))})});function HO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=Ue(t);if(e){var n=Ue(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Ot(this,a)}}var Lo=function(t){Et(a,St.exports.Component);var e=HO(a);function a(r){var n;return _t(this,a),(n=e.call(this,r)).validData=!1,n.currentVisibility=!0,n.actor=Ar.newInstance({visibility:!1,representationId:r.id}),n.lookupTable=ma.newInstance(),n.mapper=qr.newInstance({lookupTable:n.lookupTable,useLookupTableScalarRange:!0}),n.actor.setMapper(n.mapper),n.scalarBar=wh.newInstance(),n.scalarBar.setScalarsToColors(n.lookupTable),n.scalarBar.setVisibility(!1),n.subscriptions=[],r.showCubeAxes&&n.initCubeAxes(),n}return Dt(a,[{key:"initCubeAxes",value:function(){var r=this;this.cubeAxes=Nu.newInstance({visibility:!1,dataBounds:[-1,1,-1,1,-1,1]}),this.cubeAxes.getActors().forEach(function(n){return(0,n.setVisibility)(!1)}),this.subscriptions.push(this.mapper.onModified(function n(){if(r.mapper.getInputData()){r.subscriptions.length===1&&r.subscriptions.push(r.mapper.getInputData().onModified(n));var i=r.mapper.getInputData().getBounds();i[0]<i[1]&&(r.cubeAxes&&r.cubeAxes.setDataBounds(i),r.view&&r.view.renderView())}}))}},{key:"render",value:function(){var r=this;return le.createElement(Br.Consumer,null,function(n){return r.view||(r.cubeAxes&&(r.cubeAxes.setCamera(n.renderer.getActiveCamera()),n.renderer.addActor(r.cubeAxes)),n.renderer.addActor(r.scalarBar),n.renderer.addActor(r.actor),r.view=n),le.createElement(zt.Provider,{value:r},le.createElement(Ct.Provider,{value:r.mapper},le.createElement("div",{key:r.props.id,id:r.props.id},r.props.children)))})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,n,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){for(;this.subscriptions.length;)this.subscriptions.pop().unsubscribe();this.view&&this.view.renderer&&(this.view.renderer.removeActor(this.scalarBar),this.view.renderer.removeActor(this.cubeAxes),this.view.renderer.removeActor(this.actor)),this.scalarBar.delete(),this.scalarBar=null,this.cubeAxes&&(this.cubeAxes.delete(),this.cubeAxes=null),this.actor.delete(),this.actor=null,this.mapper.delete(),this.mapper=null,this.lookupTable.delete(),this.lookupTable=null}},{key:"update",value:function(r,n){var i,u=this,o=r.cubeAxesStyle,f=r.showCubeAxes,s=r.actor,l=r.mapper,c=r.property,p=r.colorMapPreset,h=r.colorDataRange,g=!1;if(!s||n&&s===n.actor||(g=this.actor.set(s)||g),!l||n&&l===n.mapper||(g=this.mapper.set(l)||g),!c||n&&c===n.property||(g=this.actor.getProperty().set(c)||g),p&&(!n||p!==n.colorMapPreset)){var y;g=!0;var m=ca.getPresetByName(p);this.lookupTable.applyColorMap(m),(y=this.lookupTable).setMappingRange.apply(y,Ht(h)),this.lookupTable.updateRange()}!h||n&&Fv(h,n.colorDataRange)||(g=!0,(i=this.lookupTable).setMappingRange.apply(i,Ht(h)),this.lookupTable.updateRange()),f&&(this.cubeAxes==null&&(g=!0,this.initCubeAxes()),!o||n&&o===n.cubeAxesStyle||(g=!0,this.cubeAxes.set(o))),this.cubeAxes!=null&&f!==this.cubeAxes.getVisibility()&&(g=!0,this.cubeAxes.setVisibility(f&&this.validData),this.cubeAxes.getActors().forEach(function(x){return(0,x.setVisibility)(f&&u.validData)})),g=this.scalarBar.setVisibility(r.showScalarBar&&this.validData)||g,g=this.scalarBar.setAxisLabel(r.scalarBarTitle)||g,g=this.scalarBar.set(r.scalarBarStyle||{})||g,s&&s.visibility!==void 0&&(this.currentVisibility=s.visibility,g=this.actor.setVisibility(this.currentVisibility&&this.validData)||g),g&&this.dataChanged()}},{key:"dataAvailable",value:function(){var r=this;this.validData||(this.validData=!0,this.actor.setVisibility(this.currentVisibility),this.scalarBar.setVisibility(this.props.showScalarBar),this.cubeAxes&&(this.cubeAxes.setVisibility(this.props.showCubeAxes),this.cubeAxes.getActors().forEach(function(n){return(0,n.setVisibility)(r.props.showCubeAxes)})),this.dataChanged())}},{key:"dataChanged",value:function(){this.view&&this.view.renderView()}}]),a}();Lo.defaultProps={colorMapPreset:"erdc_rainbow_bright",colorDataRange:[0,1],showCubeAxes:!1,showScalarBar:!1,scalarBarTitle:""},Lo.propTypes={id:q.string,actor:q.object,mapper:q.object,property:q.object,colorMapPreset:q.string,colorDataRange:q.arrayOf(q.number),showCubeAxes:q.bool,cubeAxesStyle:q.object,showScalarBar:q.bool,scalarBarTitle:q.string,scalarBarStyle:q.object,children:q.oneOfType([q.arrayOf(q.node),q.node])};var zu={DISPLAY:0,NORMALIZED_DISPLAY:1,VIEWPORT:2,NORMALIZED_VIEWPORT:3,PROJECTION:4,VIEW:5,WORLD:6},pg={Coordinate:zu};function ml(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function KO(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?ml(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ml(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var Le=pg.Coordinate,Ki=U.vtkErrorMacro;function XO(t,e){e.classHierarchy.push("vtkCoordinate"),t.setValue=function(){if(e.deleted)return Ki("instance deleted - cannot call any method"),!1;for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];var i=r;if(i.length===1&&Array.isArray(i[0])&&(i=i[0]),i.length===2)return t.setValue(i[0],i[1],0),!0;if(i.length!==3)throw new RangeError("Invalid number of values for array setter");var u=!1;return e.value.forEach(function(o,f){if(o!==i[f]){if(u)return;u=!0}}),u&&(e.value=[].concat(i),t.modified()),!0},t.setCoordinateSystemToDisplay=function(){t.setCoordinateSystem(Le.DISPLAY)},t.setCoordinateSystemToNormalizedDisplay=function(){t.setCoordinateSystem(Le.NORMALIZED_DISPLAY)},t.setCoordinateSystemToViewport=function(){t.setCoordinateSystem(Le.VIEWPORT)},t.setCoordinateSystemToNormalizedViewport=function(){t.setCoordinateSystem(Le.NORMALIZED_VIEWPORT)},t.setCoordinateSystemToProjection=function(){t.setCoordinateSystem(Le.PROJECTION)},t.setCoordinateSystemToView=function(){t.setCoordinateSystem(Le.VIEW)},t.setCoordinateSystemToWorld=function(){t.setCoordinateSystem(Le.WORLD)},t.getCoordinateSystemAsString=function(){return U.enumToString(Le,e.coordinateSystem)},t.getComputedWorldValue=function(a){var r=e.computedWorldValue;if(e.computing)return r;e.computing=1,r[0]=e.value[0],r[1]=e.value[1],r[2]=e.value[2];var n=a;if(e.renderer&&(n=e.renderer),!n){if(e.coordinateSystem===Le.WORLD){if(e.referenceCoordinate){var i=e.referenceCoordinate.getComputedWorldValue(n);r[0]+=i[0],r[1]+=i[1],r[2]+=i[2]}e.computing=0}else Ki("Attempt to compute world coordinates from another coordinate system without a renderer");return r}var u=null;if(n&&n.getRenderWindow().getViews())u=n.getRenderWindow().getViews()[0];else return e.computedWorldValue;var o=u.getViewportSize(n),f=o[0]/o[1];if(e.referenceCoordinate&&e.coordinateSystem!==Le.WORLD){var s=e.referenceCoordinate.getComputedDoubleDisplayValue(n),l=[s[0],s[1],0];switch(e.coordinateSystem){case Le.NORMALIZED_DISPLAY:l=u.displayToNormalizedDisplay(l[0],l[1],l[2]);break;case Le.VIEWPORT:l=u.displayToNormalizedDisplay(l[0],l[1],l[2]),l=u.normalizedDisplayToViewport(l[0],l[1],l[2],n);break;case Le.NORMALIZED_VIEWPORT:l=u.displayToNormalizedDisplay(l[0],l[1],l[2]),l=u.normalizedDisplayToViewport(l[0],l[1],l[2],n),l=u.viewportToNormalizedViewport(l[0],l[1],l[2],n);break;case Le.PROJECTION:l=u.displayToNormalizedDisplay(l[0],l[1],l[2]),l=u.normalizedDisplayToViewport(l[0],l[1],l[2],n),l=u.viewportToNormalizedViewport(l[0],l[1],l[2],n),l=n.normalizedViewportToProjection(l[0],l[1],l[2]);break;case Le.VIEW:l=u.displayToNormalizedDisplay(l[0],l[1],l[2]),l=u.normalizedDisplayToViewport(l[0],l[1],l[2],n),l=u.viewportToNormalizedViewport(l[0],l[1],l[2],n),l=n.normalizedViewportToProjection(l[0],l[1],l[2]),l=n.projectionToView(l[0],l[1],l[2],f);break}r[0]+=l[0],r[1]+=l[1],r[2]+=l[2]}switch(e.coordinateSystem){case Le.DISPLAY:r=u.displayToNormalizedDisplay(r[0],r[1],r[2]),r=u.normalizedDisplayToViewport(r[0],r[1],r[2],n),r=u.viewportToNormalizedViewport(r[0],r[1],r[2],n),r=n.normalizedViewportToProjection(r[0],r[1],r[2]),r=n.projectionToView(r[0],r[1],r[2],f),r=n.viewToWorld(r[0],r[1],r[2]);break;case Le.NORMALIZED_DISPLAY:r=u.normalizedDisplayToViewport(r[0],r[1],r[2],n),r=u.viewportToNormalizedViewport(r[0],r[1],r[2],n),r=n.normalizedViewportToProjection(r[0],r[1],r[2]),r=n.projectionToView(r[0],r[1],r[2],f),r=n.viewToWorld(r[0],r[1],r[2]);break;case Le.VIEWPORT:r=u.viewportToNormalizedViewport(r[0],r[1],r[2],n),r=n.normalizedViewportToProjection(r[0],r[1],r[2]),r=n.projectionToView(r[0],r[1],r[2],f),r=n.viewToWorld(r[0],r[1],r[2]);break;case Le.NORMALIZED_VIEWPORT:r=n.normalizedViewportToProjection(r[0],r[1],r[2]),r=n.projectionToView(r[0],r[1],r[2],f),r=n.viewToWorld(r[0],r[1],r[2]);break;case Le.PROJECTION:r=n.projectionToView(r[0],r[1],r[2],f),r=n.viewToWorld(r[0],r[1],r[2]);break;case Le.VIEW:r=n.viewToWorld(r[0],r[1],r[2]);break}if(e.referenceCoordinate&&e.coordinateSystem===Le.WORLD){var c=t.getComputedWorldValue(n);r[0]+=c[0],r[1]+=c[1],r[2]+=c[2]}return e.computing=0,e.computedWorldValue=r.slice(0),r},t.getComputedViewportValue=function(a){var r=t.getComputedDoubleViewportValue(a);return[Xr(r[0]),Xr(r[1])]},t.getComputedDisplayValue=function(a){var r=t.getComputedDoubleDisplayValue(a);return[fo(r[0]),fo(r[1])]},t.getComputedLocalDisplayValue=function(a){var r=a;e.renderer&&(r=e.renderer);var n=t.getComputedDisplayValue(r);if(!r)return Ki("Attempt to convert to local display coordinates without a renderer"),n;var i=null;if(r&&r.getRenderWindow().getViews())i=r.getRenderWindow().getViews()[0];else return n;return n=i.displayToLocalDisplay(n[0],n[1],n[2]),[Xr(n[0]),Xr(n[1])]},t.getComputedDoubleViewportValue=function(a){var r=a;e.renderer&&(r=e.renderer);var n=t.getComputedDoubleDisplayValue(r);if(!r)return n;var i=null;if(r&&r.getRenderWindow().getViews())i=r.getRenderWindow().getViews()[0];else return n;return n=i.displayToNormalizedDisplay(n[0],n[1],n[2]),n=i.normalizedDisplayToViewport(n[0],n[1],n[2],r),[n[0],n[1]]},t.getComputedDoubleDisplayValue=function(a){if(e.computing)return e.computedDoubleDisplayValue;e.computing=1;var r=e.value.slice(0),n=a;if(e.renderer&&(n=e.renderer),!n){if(e.coordinateSystem===Le.DISPLAY){if(e.computedDoubleDisplayValue[0]=r[0],e.computedDoubleDisplayValue[1]=r[1],e.referenceCoordinate){var i=e.referenceCoordinate.getComputedDoubleDisplayValue();e.computedDoubleDisplayValue[0]+=i[0],e.computedDoubleDisplayValue[1]+=i[1]}}else e.computedDoubleDisplayValue[0]=Number.MAX_VALUE,e.computedDoubleDisplayValue[1]=Number.MAX_VALUE,Ki("Request for coordinate transformation without required viewport");return e.computedDoubleDisplayValue}var u=null;if(n&&n.getRenderWindow().getViews())u=n.getRenderWindow().getViews()[0];else return r;var o=u.getViewportSize(n),f=o[0]/o[1];switch(e.coordinateSystem){case Le.WORLD:{if(e.referenceCoordinate){var s=e.referenceCoordinate.getComputedWorldValue(n);r[0]+=s[0],r[1]+=s[1],r[2]+=s[2]}r=n.worldToView(r[0],r[1],r[2]),r=n.viewToProjection(r[0],r[1],r[2],f),r=n.projectionToNormalizedViewport(r[0],r[1],r[2]),r=u.normalizedViewportToViewport(r[0],r[1],r[2],n),r=u.viewportToNormalizedDisplay(r[0],r[1],r[2],n),r=u.normalizedDisplayToDisplay(r[0],r[1],r[2]);break}case Le.VIEW:{r=n.viewToProjection(r[0],r[1],r[2],f),r=n.projectionToNormalizedViewport(r[0],r[1],r[2]),r=u.normalizedViewportToViewport(r[0],r[1],r[2],n),r=u.viewportToNormalizedDisplay(r[0],r[1],r[2],n),r=u.normalizedDisplayToDisplay(r[0],r[1],r[2]);break}case Le.PROJECTION:{r=n.projectionToNormalizedViewport(r[0],r[1],r[2]),r=u.normalizedViewportToViewport(r[0],r[1],r[2],n),r=u.viewportToNormalizedDisplay(r[0],r[1],r[2],n),r=u.normalizedDisplayToDisplay(r[0],r[1],r[2]);break}case Le.NORMALIZED_VIEWPORT:{if(r=u.normalizedViewportToViewport(r[0],r[1],r[2],n),e.referenceCoordinate){var l=e.referenceCoordinate.getComputedDoubleViewportValue(n);r[0]+=l[0],r[1]+=l[1]}r=u.viewportToNormalizedDisplay(r[0],r[1],r[2],n),r=u.normalizedDisplayToDisplay(r[0],r[1],r[2]);break}case Le.VIEWPORT:{if(e.referenceCoordinate){var c=e.referenceCoordinate.getComputedDoubleViewportValue(n);r[0]+=c[0],r[1]+=c[1]}r=u.viewportToNormalizedDisplay(r[0],r[1],r[2],n),r=u.normalizedDisplayToDisplay(r[0],r[1],r[2]);break}case Le.NORMALIZED_DISPLAY:r=u.normalizedDisplayToDisplay(r[0],r[1],r[2]);break;case Le.USERDEFINED:r=e.value.slice(0);break}if(e.referenceCoordinate&&(e.coordinateSystem===Le.DISPLAY||e.coordinateSystem===Le.NORMALIZED_DISPLAY)){var p=e.referenceCoordinate.getComputedDoubleDisplayValue(n);r[0]+=p[0],r[1]+=p[1]}return e.computedDoubleDisplayValue[0]=r[0],e.computedDoubleDisplayValue[1]=r[1],e.computing=0,e.computedDoubleDisplayValue},t.getComputedValue=function(a){var r=a;switch(e.renderer&&(r=e.renderer),e.coordinateSystem){case Le.WORLD:return t.getComputedWorldValue(r);case Le.VIEW:case Le.NORMALIZED_VIEWPORT:case Le.VIEWPORT:{var n=t.getComputedViewportValue(r);e.computedWorldValue[0]=n[0],e.computedWorldValue[1]=n[1];break}case Le.NORMALIZED_DISPLAY:case Le.DISPLAY:{var i=e.getComputedDisplayValue(r);e.computedWorldValue[0]=i[0],e.computedWorldValue[1]=i[1];break}}return e.computedWorldValue}}var qO={coordinateSystem:Le.WORLD,value:[0,0,0],renderer:null,referenceCoordinate:null,computing:0,computedWorldValue:[0,0,0],computedDoubleDisplayValue:[0,0]};function hg(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,qO,a),U.obj(t,e),U.set(t,e,["property"]),U.get(t,e,["value"]),U.setGet(t,e,["coordinateSystem","referenceCoordinate","renderer"]),U.getArray(t,e,["value"],3),XO(t,e)}var YO=U.newInstance(hg,"vtkCoordinate"),A0=KO({newInstance:YO,extend:hg},pg);function xl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function JO(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?xl(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):xl(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var B0=dh.DisplayLocation;function ZO(t,e){e.classHierarchy.push("vtkProperty2D"),t.setDisplayLocationToBackground=function(){return t.setDisplayLocation(B0.BACKGROUND)},t.setDisplayLocationToForeground=function(){return t.setDisplayLocation(B0.FOREGROUND)},t.setRepresentationToWireframe=function(){return t.setRepresentation(Pt.WIREFRAME)},t.setRepresentationToSurface=function(){return t.setRepresentation(Pt.SURFACE)},t.setRepresentationToPoints=function(){return t.setRepresentation(Pt.POINTS)},t.getRepresentationAsString=function(){return U.enumToString(Pt,e.representation)}}var QO={color:[1,1,1],opacity:1,pointSize:1,lineWidth:1,representation:Pt.SURFACE,displayLocation:B0.FOREGROUND};function vg(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,QO,a),U.obj(t,e),U.setGet(t,e,["opacity","lineWidth","pointSize","displayLocation","representation"]),U.setGetArray(t,e,["color"],3),ZO(t,e)}var eb=U.newInstance(vg,"vtkProperty2D"),tb=JO({newInstance:eb,extend:vg},dh);function rb(t,e){e.classHierarchy.push("vtkActor2D"),t.getActors2D=function(){return t},t.getIsOpaque=function(){e.property||t.getProperty();var a=e.property.getOpacity()>=1;return a=a&&(!e.texture||!e.texture.isTranslucent()),a},t.hasTranslucentPolygonalGeometry=function(){return e.mapper===null?!1:(e.property===null&&t.setProperty(t.makeProperty()),!t.getIsOpaque())},t.makeProperty=tb.newInstance,t.getProperty=function(){return e.property===null&&(e.property=t.makeProperty()),e.property},t.setDisplayPosition=function(a,r){e.positionCoordinate.setCoordinateSystem(zu.DISPLAY),e.positionCoordinate.setValue(a,r,0)},t.setWidth=function(a){var r=e.position2Coordinate.getValue();e.position2Coordinate.setCoordinateSystemToNormalizedViewport(),e.position2Coordinate.setValue(a,r[1])},t.setHeight=function(a){var r=e.position2Coordinate.getValue();e.position2Coordinate.setCoordinateSystemToNormalizedViewport(),e.position2Coordinate.setValue(r[0],a)},t.getWidth=function(){return e.position2Coordinate.getValue()[0]},t.getHeight=function(){return e.position2Coordinate.getValue()[1]},t.getMTime=function(){var a=e.mtime;if(e.property!==null){var r=e.property.getMTime();a=r>a?r:a}return a=e.positionCoordinate.getMTime()>a?e.positionCoordinate.getMTime():a,a=e.positionCoordinate2.getMTime()>a?e.positionCoordinate2.getMTime():a,a},t.getRedrawMTime=function(){var a=e.mtime;if(e.mapper!==null){var r=e.mapper.getMTime();a=r>a?r:a,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),r=e.mapper.getInput().getMTime(),a=r>a?r:a)}return a},t.getBounds=function(){return typeof t.getMapper().getBounds=="function"?(e.useBounds=!0,t.getMapper().getBounds()):(e.useBounds=!1,[])},t.getActualPositionCoordinate=function(){return e.positionCoordinate},t.getActualPositionCoordinate2=function(){return e.positionCoordinate2}}var nb={mapper:null,property:null,layerNumber:0,positionCoordinate:null,positionCoordinate2:null};function gg(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,nb,a),Cu.extend(t,e,a),e.positionCoordinate=A0.newInstance(),e.positionCoordinate.setCoordinateSystemToViewport(),e.positionCoordinate2=A0.newInstance(),e.positionCoordinate2.setCoordinateSystemToNormalizedViewport(),e.positionCoordinate2.setValue(.5,.5),e.positionCoordinate2.setReferenceCoordinate(e.positionCoordinate),U.set(t,e,["property"]),U.setGet(t,e,["mapper"]),rb(t,e)}var ab=U.newInstance(gg,"vtkActor2D"),ib={newInstance:ab,extend:gg};function ob(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=Ue(t);if(e){var n=Ue(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Ot(this,a)}}var V0=function(t){Et(a,St.exports.Component);var e=ob(a);function a(r){var n,i,u;return _t(this,a),(u=e.call(this,r)).validData=!1,u.currentVisibility=!0,u.actor=ib.newInstance({visibility:!1,representationId:r.id}),u.lookupTable=ma.newInstance(),u.transformCoordinate=A0.newInstance({coordinateSystem:(n=(i=u.props.transformCoordinate)===null||i===void 0?void 0:i.coordinateSystem)!==null&&n!==void 0?n:zu.DISPLAY}),u.mapper=vh.newInstance({lookupTable:u.lookupTable,useLookupTableScalarRange:!1,scalarVisibility:!1,transformCoordinate:u.transformCoordinate}),u.actor.setMapper(u.mapper),u.subscriptions=[],u}return Dt(a,[{key:"render",value:function(){var r=this;return le.createElement(Br.Consumer,null,function(n){return r.view||(n.renderer.addActor2D(r.actor),r.view=n),le.createElement(zt.Provider,{value:r},le.createElement(Ct.Provider,{value:r.mapper},le.createElement("div",{key:r.props.id,id:r.props.id},r.props.children)))})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,n,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){for(;this.subscriptions.length;)this.subscriptions.pop().unsubscribe();this.view&&this.view.renderer&&this.view.renderer.removeActor(this.actor),this.actor.delete(),this.actor=null,this.mapper.delete(),this.mapper=null,this.lookupTable.delete(),this.lookupTable=null,this.transformCoordinate.delete(),this.transformCoordinate=null}},{key:"update",value:function(r,n){var i,u=r.actor,o=r.mapper,f=r.property,s=r.colorMapPreset,l=r.colorDataRange,c=r.transformCoordinate,p=!1;if(!u||n&&u===n.actor||(p=this.actor.set(u)||p),!o||n&&o===n.mapper||(p=this.mapper.set(o)||p),!f||n&&f===n.property||(p=this.actor.getProperty().set(f)||p),s&&this.lookupTable&&(!n||s!==n.colorMapPreset)){var h;p=!0;var g=ca.getPresetByName(s);this.lookupTable.applyColorMap(g),(h=this.lookupTable).setMappingRange.apply(h,Ht(l)),this.lookupTable.updateRange()}!l||!this.lookupTable||n&&Fv(l,n.colorDataRange)||(p=!0,(i=this.lookupTable).setMappingRange.apply(i,Ht(l)),this.lookupTable.updateRange()),!c||!this.transformCoordinate||n&&c===n.transformCoordinate||(p=!0,this.transformCoordinate.set(c)),u&&u.visibility!==void 0&&(this.currentVisibility=u.visibility,p=this.actor.setVisibility(this.currentVisibility&&this.validData)||p),p&&this.dataChanged()}},{key:"dataAvailable",value:function(){this.validData||(this.validData=!0,this.actor.setVisibility(this.currentVisibility),this.dataChanged())}},{key:"dataChanged",value:function(){this.view&&this.view.renderView()}}]),a}();V0.defaultProps={colorMapPreset:"erdc_rainbow_bright",colorDataRange:[0,1]},V0.propTypes={id:q.string,actor:q.object,mapper:q.object,property:q.object,colorMapPreset:q.string,colorDataRange:q.arrayOf(q.number),transformCoordinate:q.object,children:q.oneOfType([q.arrayOf(q.node),q.node])};var sb={DIRECTION:0,ROTATION:1,MATRIX:2},ub={SCALE_BY_CONSTANT:0,SCALE_BY_MAGNITUDE:1,SCALE_BY_COMPONENTS:2},Wu={OrientationModes:sb,ScaleModes:ub};function wl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function cb(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?wl(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):wl(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var $r=Wu.OrientationModes,_r=Wu.ScaleModes,fb=U.vtkErrorMacro;function lb(t,e){e.classHierarchy.push("vtkGlyph3DMapper"),t.getOrientationModeAsString=function(){return U.enumToString($r,e.orientationMode)},t.setOrientationModeToDirection=function(){return t.setOrientationMode($r.DIRECTION)},t.setOrientationModeToRotation=function(){return t.setOrientationMode($r.ROTATION)},t.setOrientationModeToMatrix=function(){return t.setOrientationMode($r.MATRIX)},t.getOrientationArrayData=function(){var a=t.getInputData(0);return!a||!a.getPointData()?null:e.orientationArray?a.getPointData().getArray(e.orientationArray):a.getPointData().getVectors()},t.getScaleModeAsString=function(){return U.enumToString(_r,e.scaleMode)},t.setScaleModeToScaleByMagnitude=function(){return t.setScaleMode(_r.SCALE_BY_MAGNITUDE)},t.setScaleModeToScaleByComponents=function(){return t.setScaleMode(_r.SCALE_BY_COMPONENTS)},t.setScaleModeToScaleByConstant=function(){return t.setScaleMode(_r.SCALE_BY_CONSTANT)},t.getScaleArrayData=function(){var a=t.getInputData(0);return!a||!a.getPointData()?null:e.scaleArray?a.getPointData().getArray(e.scaleArray):a.getPointData().getScalars()},t.getBounds=function(){var a=t.getInputData(0),r=t.getInputData(1);return!a||!r?na():(t.buildArrays(),e.bounds)},t.buildArrays=function(){var a=t.getInputData(0),r=t.getInputData(1);if(e.buildTime.getMTime()<r.getMTime()||e.buildTime.getMTime()<a.getMTime()||e.buildTime.getMTime()<t.getMTime()){var n=a.getPoints().getData(),i=t.getScaleArrayData(),u=null,o=0;i&&(u=i.getData(),o=i.getNumberOfComponents()),e.scaling&&i&&e.scaleMode===_r.SCALE_BY_COMPONENTS&&i.getNumberOfComponents()!==3&&(fb("Cannot scale by components since scale array does not have 3 components."),i=null);var f=r.getBounds(),s=[];We.getCorners(f,s),e.bounds[0]=We.INIT_BOUNDS[0],e.bounds[1]=We.INIT_BOUNDS[1],e.bounds[2]=We.INIT_BOUNDS[2],e.bounds[3]=We.INIT_BOUNDS[3],e.bounds[4]=We.INIT_BOUNDS[4],e.bounds[5]=We.INIT_BOUNDS[5];var l=new Float64Array(3),c=t.getOrientationArrayData(),p=be(new Float64Array(16)),h=[],g=[],y=n.length/3;e.matrixArray=new Float32Array(16*y);var m=e.matrixArray.buffer;e.normalArray=new Float32Array(9*y);for(var x=e.normalArray.buffer,v=[],d=0;d<y;++d){var w=new Float32Array(m,d*64,16);if(h[0]=n[d*3],h[1]=n[d*3+1],h[2]=n[d*3+2],Ze(w,p,h),c){var C=[];switch(c.getTuple(d,C),e.orientationMode){case $r.MATRIX:{var S=[].concat(de(C.slice(0,3)),[0],de(C.slice(3,6)),[0],de(C.slice(6,9)),[0,0,0,0,1]);it(w,w,S);break}case $r.ROTATION:Bo(w,w,C[2]),Ao(w,w,C[0]),Ha(w,w,C[1]);break;case $r.DIRECTION:if(C[1]===0&&C[2]===0)C[0]<0&&Ha(w,w,3.1415926);else{var T=On(C),_=[];_[0]=(C[0]+T)/2,_[1]=C[1]/2,_[2]=C[2]/2,yt(w,w,3.1415926,_)}break}}if(e.scaling){if(g[0]=e.scaleFactor,g[1]=e.scaleFactor,g[2]=e.scaleFactor,i)switch(e.scaleMode){case _r.SCALE_BY_MAGNITUDE:for(var D=0;D<o;++D)v[D]=u[d*o+D];g[0]*=On(v,o),g[1]=g[0],g[2]=g[0];break;case _r.SCALE_BY_COMPONENTS:for(var b=0;b<o;++b)v[b]=u[d*o+b];g[0]*=v[0],g[1]*=v[1],g[2]*=v[2];break;case _r.SCALE_BY_CONSTANT:}g[0]===0&&(g[0]=1e-10),g[1]===0&&(g[1]=1e-10),g[2]===0&&(g[2]=1e-10),Cn(w,w,g)}for(var E=0;E<8;++E)Te(l,s[E],w),l[0]<e.bounds[0]&&(e.bounds[0]=l[0]),l[1]<e.bounds[2]&&(e.bounds[2]=l[1]),l[2]<e.bounds[4]&&(e.bounds[4]=l[2]),l[0]>e.bounds[1]&&(e.bounds[1]=l[0]),l[1]>e.bounds[3]&&(e.bounds[3]=l[1]),l[2]>e.bounds[5]&&(e.bounds[5]=l[2]);var N=new Float32Array(x,d*36,9);oi(N,w),si(N,N),$0(N,N)}var R=t.getAbstractScalars(a,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName).scalars;e.useLookupTableScalarRange||t.getLookupTable().setRange(e.scalarRange[0],e.scalarRange[1]),e.colorArray=null;var M=t.getLookupTable();M&&R&&(M.build(),e.colorArray=M.mapScalars(R,e.colorMode,0)),e.buildTime.modified()}},t.getPrimitiveCount=function(){var a=t.getInputData(1),r=t.getInputData().getPoints().getNumberOfValues()/3,n={points:r*a.getPoints().getNumberOfValues()/3,verts:r*(a.getVerts().getNumberOfValues()-a.getVerts().getNumberOfCells()),lines:r*(a.getLines().getNumberOfValues()-2*a.getLines().getNumberOfCells()),triangles:r*(a.getPolys().getNumberOfValues()-3*a.getLines().getNumberOfCells())};return n}}var pb={orient:!0,orientationMode:$r.DIRECTION,orientationArray:null,scaling:!0,scaleFactor:1,scaleMode:_r.SCALE_BY_MAGNITUDE,scaleArray:null,matrixArray:null,normalArray:null,colorArray:null};function dg(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,pb,a),qr.extend(t,e,a),U.algo(t,e,2,0),e.buildTime={},U.obj(e.buildTime,{mtime:0}),e.boundsTime={},U.obj(e.boundsTime,{mtime:0}),U.setGet(t,e,["orient","orientationMode","orientationArray","scaleArray","scaleFactor","scaleMode","scaling"]),U.get(t,e,["colorArray","matrixArray","normalArray","buildTime"]),lb(t,e)}var hb=U.newInstance(dg,"vtkGlyph3DMapper"),vb=cb({newInstance:hb,extend:dg},Wu);function gb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=Ue(t);if(e){var n=Ue(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Ot(this,a)}}var U0=function(t){Et(a,St.exports.Component);var e=gb(a);function a(r){var n;return _t(this,a),(n=e.call(this,r)).validData=!1,n.currentVisibility=!0,n.actor=Ar.newInstance({visibility:!1}),n.lookupTable=ma.newInstance(),n.mapper=vb.newInstance({lookupTable:n.lookupTable,useLookupTableScalarRange:!0}),n.actor.setMapper(n.mapper),n}return Dt(a,[{key:"render",value:function(){var r=this;return le.createElement(Br.Consumer,null,function(n){return r.view||(n.renderer.addActor(r.actor),r.view=n),le.createElement(zt.Provider,{value:r},le.createElement(Ct.Provider,{value:r.mapper},le.createElement("div",{key:r.props.id,id:r.props.id},r.props.children)))})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,n,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.view&&this.view.renderer&&this.view.renderer.removeActor(this.actor),this.actor.delete(),this.actor=null,this.mapper.delete(),this.mapper=null,this.lookupTable.delete(),this.lookupTable=null}},{key:"update",value:function(r,n){var i,u=r.actor,o=r.mapper,f=r.property,s=r.colorMapPreset,l=r.colorDataRange,c=!1;if(!u||n&&u===n.actor||(c=this.actor.set(u)||c),!o||n&&o===n.mapper||(c=this.mapper.set(o)||c),!f||n&&f===n.property||(c=this.actor.getProperty().set(f)||c),s&&(!n||s!==n.colorMapPreset)){var p;c=!0;var h=ca.getPresetByName(s);this.lookupTable.applyColorMap(h),(p=this.lookupTable).setMappingRange.apply(p,Ht(l)),this.lookupTable.updateRange()}!l||n&&Nr(l,n.colorDataRange)||(c=!0,(i=this.lookupTable).setMappingRange.apply(i,Ht(l)),this.lookupTable.updateRange()),u&&u.visibility!==void 0&&(this.currentVisibility=u.visibility,c=this.actor.setVisibility(this.currentVisibility&&this.validData)||c),c&&this.dataChanged()}},{key:"dataAvailable",value:function(){this.validData||(this.validData=!0,this.actor.setVisibility(this.currentVisibility),this.dataChanged())}},{key:"dataChanged",value:function(){this.view&&this.view.renderView()}}]),a}();U0.defaultProps={colorMapPreset:"erdc_rainbow_bright",colorDataRange:[0,1]},U0.propTypes={id:q.string,actor:q.object,mapper:q.object,property:q.object,colorMapPreset:q.string,colorDataRange:q.arrayOf(q.number),children:q.oneOfType([q.arrayOf(q.node),q.node])};function db(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=Ue(t);if(e){var n=Ue(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Ot(this,a)}}var Fo=function(t){Et(a,St.exports.Component);var e=db(a);function a(r){var n;return _t(this,a),(n=e.call(this,r)).imageData=_u.newInstance(),n}return Dt(a,[{key:"render",value:function(){var r=this;return le.createElement(zt.Consumer,null,function(n){return le.createElement(Ct.Consumer,null,function(i){return r.representation=n,r.downstream||(r.downstream=i),le.createElement(en.Provider,{value:r},le.createElement("div",{key:r.props.id,id:r.props.id},r.props.children))})})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,n,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.imageData.delete(),this.imageData=null}},{key:"update",value:function(r,n){var i=r.dimensions,u=r.spacing,o=r.origin,f=r.direction;this.imageData.set({dimensions:i,spacing:u,origin:o,direction:f})}},{key:"getDataSet",value:function(){return this.imageData}},{key:"modified",value:function(){this.imageData.modified(),this.representation&&this.imageData.getPointData().getScalars()&&(this.downstream.setInputData(this.imageData,this.props.port),this.representation.dataAvailable(),this.representation.dataChanged())}}]),a}();Fo.defaultProps={port:0,dimensions:[1,1,1],spacing:[1,1,1],origin:[0,0,0],direction:[1,0,0,0,1,0,0,0,1]},Fo.propTypes={id:q.string,port:q.number,dimensions:q.arrayOf(q.number),spacing:q.arrayOf(q.number),origin:q.arrayOf(q.number),direction:q.arrayOf(q.number),children:q.oneOfType([q.arrayOf(q.node),q.node])};function yb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=Ue(t);if(e){var n=Ue(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Ot(this,a)}}var ii=function(t){Et(a,St.exports.Component);var e=yb(a);function a(r){var n;return _t(this,a),(n=e.call(this,r)).array=we.newInstance({name:"scalars",empty:!0}),n.arrayAttached=!1,n}return Dt(a,[{key:"render",value:function(){var r=this;return le.createElement(en.Consumer,null,function(n){return r.dataset=n,le.createElement(vi.Consumer,null,function(i){return r.fields||(r.fields=i),le.createElement("div",{key:r.props.id,name:r.props.name})})})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,n,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.fields.removeArray(this.array.getName()),this.array.delete(),this.array=null}},{key:"update",value:function(r,n){var i=r.name,u=r.type,o=r.values,f=r.numberOfComponents,s=r.range,l=Ut[u],c=!1;this.array.setName(i),!u||n&&u===n.type||(c=!0),!f||n&&f===n.numberOfComponents||(c=!0),!o||!c&&n&&o===n.values||(this.array.setData(Wn(o,l),f),s&&this.array.setRange(s,f),c=!0),this.arrayAttached||(this.fields[this.props.registration](this.array),this.arrayAttached=!0,c=!0),c&&this.dataset&&this.dataset.modified()}}]),a}();ii.defaultProps={name:"scalars",type:"Float32Array",values:[],numberOfComponents:1,registration:"addArray"},ii.propTypes={id:q.string,type:q.string,name:q.string,values:q.oneOfType([q.arrayOf(q.number),q.object,q.instanceOf(Float64Array),q.instanceOf(Float32Array),q.instanceOf(Int32Array),q.instanceOf(Int16Array),q.instanceOf(Int8Array),q.instanceOf(Uint32Array),q.instanceOf(Uint16Array),q.instanceOf(Uint8Array)]),numberOfComponents:q.number,registration:q.string};function G0(t){return le.createElement(en.Consumer,null,function(e){return le.createElement(vi.Provider,{value:e.getDataSet().getFieldData()},t.children)})}G0.defaultProps={},G0.propTypes={children:q.oneOfType([q.arrayOf(q.node),q.node])};function Cl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function Xs(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Cl(Object(a),!0).forEach(function(r){hi(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Cl(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function mb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=Ue(t);if(e){var n=Ue(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Ot(this,a)}}var P0=function(t){Et(a,St.exports.Component);var e=mb(a);function a(r){var n;return _t(this,a),(n=e.call(this,r)).algo=null,n}return Dt(a,[{key:"render",value:function(){var r=this;return le.createElement(zt.Consumer,null,function(n){return le.createElement(Ct.Consumer,null,function(i){if(r.representation=n,!r.algo){var u=r.props,o=u.vtkClass,f=u.state;r.algo=xt(Xs({vtkClass:o},f))}return r.downstream||(i.setInputConnection(r.algo.getOutputPort(),r.props.port),r.downstream=i),le.createElement(Ct.Provider,{value:r.algo},le.createElement("div",{key:r.props.id,id:r.props.id},r.props.children))})})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,n,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.algo.delete(),this.algo=null}},{key:"update",value:function(r,n){var i=r.vtkClass,u=r.state;if(i&&(!n||i!==n.vtkClass)){if(this.algo){if(this.algo.getClassName()!==i){var o=this.algo;this.algo=xt(Xs({vtkClass:i},u));for(var f=o.getNumberOfInputPorts(),s=0;s<f;s++){var l=o.getInputConnection(s);l?this.algo.setInputConnection(l,s):this.algo.setInputData(o.getInputData(s),s)}}}else this.algo=xt(Xs({vtkClass:i},u));this.downstream.setInputConnection(this.algo.getOutputPort(),this.props.port)}!u||n&&Nr(u,n.state)||(this.algo.set(u),this.representation&&this.representation.dataChanged()),this.algo.getNumberOfInputPorts()===0&&this.representation&&this.representation.dataAvailable()}}]),a}();P0.defaultProps={port:0,vtkClass:"vtkConeSource",state:{}},P0.propTypes={id:q.string,port:q.number,vtkClass:q.string,state:q.object,children:q.oneOfType([q.arrayOf(q.node),q.node])};function Sl(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function xb(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Sl(Object(a),!0).forEach(function(r){Se(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Sl(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}var Xi=U.vtkWarningMacro;function wb(t,e){e.classHierarchy.push("vtkCalculator"),t.setFormula=function(a){return a===e.formula?!1:(e.formula=a,t.modified(),!0)},t.getFormula=function(){return e.formula},t.augmentInputArrays=function(a,r){var n=r.slice(0);return(a===st.POINT||a===st.VERTEX)&&n.push({location:st.COORDINATE}),n},t.createSimpleFormulaObject=function(a,r,n,i){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return{getArrays:function(){return{input:t.augmentInputArrays(a,r.map(function(f){return{location:a,name:f}})),output:[{location:a,name:n,attribute:"outputAttributeType"in u?u.outputAttributeType:Vp.SCALARS,numberOfComponents:"numberOfOutputComponents"in u?u.numberOfOutputComponents:1}]}},evaluate:function(f,s){var l=new Array(f.length),c=f.map(function(d,w){var C=d.getNumberOfComponents(),S=d.getData();return C===1?function(T){return S[T]}:function(T){return d.getTuple(T,l[w])}}),p=s[0],h=p.getData(),g=p.getNumberOfComponents(),y=new Array(g);if(g===1)h.forEach(function(d,w){h[w]=i.apply(void 0,de(c.map(function(C){return C(w)})).concat([w,y]))});else for(var m=p.getNumberOfTuples(),x=function(w){y=i.apply(void 0,de(c.map(function(C){return C(w)})).concat([w,y])),p.setTuple(w,y)},v=0;v<m;++v)x(v)}}},t.setFormulaSimple=function(a,r,n,i){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return t.setFormula(t.createSimpleFormulaObject(a,r,n,i,u))},t.prepareArrays=function(a,r,n){var i=[],u=[];return a.input.forEach(function(o){if(o.location===st.COORDINATE)i.push(r.getPoints());else{var f=[[st.UNIFORM,function(l){return l.getFieldData()}],[st.POINT,function(l){return l.getPointData()}],[st.CELL,function(l){return l.getCellData()}],[st.VERTEX,function(l){return l.getVertexData()}],[st.EDGE,function(l){return l.getEdgeData()}],[st.ROW,function(l){return l.getRowData()}]].reduce(function(l,c){return l[c[0]]=c[1],l},{}),s="location"in o&&o.location in f?f[o.location](r):null;s?o.name?i.push(s.getArrayByName(o.name)):"index"in o?i.push(s.getArrayByIndex(o.index)):"attribute"in o&&o.location!==st.UNIFORM?i.push(s.getActiveAttribute(o.attribute)):(Xi('No matching array for specifier "'.concat(JSON.stringify(o),'".')),i.push(null)):(Xi('Specifier "'.concat(JSON.stringify(o),'" did not provide a usable location.')),i.push(null))}}),a.output.forEach(function(o){var f=xb({},o),s="numberOfComponents"in f?f.numberOfComponents:1;if(o.location===st.UNIFORM&&"tuples"in f&&(f.size=s*f.tuples),o.location===st.COORDINATE){var l=r.getPoints(),c=Yr.newInstance({dataType:l.getDataType()});c.setNumberOfPoints(l.getNumberOfPoints(),l.getNumberOfComponents()),n.setPoints(c),u.push(c)}else{var p=[[st.UNIFORM,function(x){return x.getFieldData()},function(x,v){return"tuples"in v?v.tuples:0}],[st.POINT,function(x){return x.getPointData()},function(x){return x.getPoints().getNumberOfPoints()}],[st.CELL,function(x){return x.getCellData()},function(x){return x.getNumberOfCells()}],[st.VERTEX,function(x){return x.getVertexData()},function(x){return x.getNumberOfVertices()}],[st.EDGE,function(x){return x.getEdgeData()},function(x){return x.getNumberOfEdges()}],[st.ROW,function(x){return x.getRowData()},function(x){return x.getNumberOfRows()}]].reduce(function(x,v){return x[v[0]]={getData:v[1],getSize:v[2]},x},{}),h=null,g=0;if("location"in o&&o.location in p&&(h=p[o.location].getData(n),g=p[o.location].getSize(r,f)),g<=0)Xi("Output array size could not be determined for ".concat(JSON.stringify(o),".")),u.push(null);else if(h){f.size=s*g;var y=we.newInstance(f),m=h.addArray(y);"attribute"in f&&o.location!==st.UNIFORM&&h.setActiveAttributeByIndex(m,f.attribute),u.push(y)}else Xi('Specifier "'.concat(JSON.stringify(o),'" did not provide a usable location.')),u.push(null)}}),{arraysIn:i,arraysOut:u}},t.requestData=function(a,r){if(!e.formula)return 0;var n=e.formula.getArrays(a),i=xt({vtkClass:a[0].getClassName()});i.shallowCopy(a[0]),r[0]=i;var u=t.prepareArrays(n,a[0],r[0]);return e.formula.evaluate(u.arraysIn,u.arraysOut),1}}var Cb={formula:{getArrays:function(){return{input:[],output:[]}},evaluate:function(){return null}}};function yg(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Cb,a),U.obj(t,e),U.algo(t,e,1,1),wb(t,e)}var Sb=U.newInstance(yg,"vtkCalculator"),Tb={newInstance:Sb,extend:yg};function _b(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,r=Ue(t);if(e){var n=Ue(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return Ot(this,a)}}var Db=Mn.FieldDataTypes,j0=function(t){Et(a,St.exports.Component);var e=_b(a);function a(r){var n;return _t(this,a),(n=e.call(this,r)).calculator=Tb.newInstance(),n}return Dt(a,[{key:"render",value:function(){var r=this,n=this.props,i=n.name,u=n.arrays,o=n.location,f=n.formula;return this.calculator.setFormulaSimple(Db[o],u,i,f),le.createElement(Ct.Consumer,null,function(s){return r.downstream||(s.setInputConnection(r.calculator.getOutputPort(),r.props.port),r.downstream=s),le.createElement(Ct.Provider,{value:r.calculator},le.createElement("div",{key:r.props.id,id:r.props.id},r.props.children))})}},{key:"componentWillUnmount",value:function(){this.calculator.delete(),this.calculator=null}}]),a}();j0.defaultProps={port:0,name:"scalars",location:"POINT",arrays:[],formula:function(t){return t[0]}},j0.propTypes={id:q.string,port:q.number,name:q.string,location:q.string,arrays:q.arrayOf(q.string),formula:q.func,children:q.oneOfType([q.arrayOf(q.node),q.node])};function z0(t){return le.createElement(en.Consumer,null,function(e){return le.createElement(vi.Provider,{value:e.getDataSet().getCellData()},t.children)})}z0.defaultProps={},z0.propTypes={children:q.oneOfType([q.arrayOf(q.node),q.node])};var bt={VolumeRepresentation:Oo,SliceRepresentation:N0,VolumeController:No,PointData:ni,PolyData:Mo,Reader:R0,ShareDataSet:k0,Dataset:L0,View:$O,GeometryRepresentation:Lo,Geometry2DRepresentation:V0,GlyphRepresentation:U0,ImageData:Fo,DataArray:ii,FieldData:G0,Algorithm:P0,Calculator:j0,CellData:z0,MultiViewRoot:ju};function W0(t){var e=0,a=null,r=null;return t.rgb&&(a=t.rgb,e=3,r="Uint8Array"),t.rgba&&(a=t.rgb,e=4,r="Uint8Array"),t.scalars&&(a=t.scalars,e=1,r="Float32Array"),console.log("nbComponents",e),le.createElement(Lo,{id:t.id,colorMapPreset:t.colorMapPreset,colorDataRange:t.colorDataRange,property:t.property,showCubeAxes:t.showCubeAxes,cubeAxesStyle:t.cubeAxesStyle,showScalarBar:t.showScalarBar,scalarBarTitle:t.scalarBarTitle,scalarBarStyle:t.scalarBarStyle},le.createElement(Mo,{points:t.xyz,connectivity:"points"},e&&le.createElement(ni,null,le.createElement(ii,{registration:"setScalars",numberOfComponents:e,values:a,type:r}))))}W0.defaultProps={xyz:[0,0,0],colorMapPreset:"erdc_rainbow_bright",colorDataRange:[0,1],showCubeAxes:!1,showScalarBar:!1,scalarBarTitle:""},W0.propTypes={id:q.string,xyz:q.arrayOf(q.number),rgb:q.arrayOf(q.number),rgba:q.arrayOf(q.number),scalars:q.arrayOf(q.number),colorMapPreset:q.string,colorDataRange:q.arrayOf(q.number),property:q.object,showCubeAxes:q.bool,cubeAxesStyle:q.object,showScalarBar:q.bool,scalarBarTitle:q.string,scalarBarStyle:q.object};function I0(t){var e=0,a=null,r=null;return t.rgb&&(a=t.rgb,e=3,r="Uint8Array"),t.rgba&&(a=t.rgb,e=4,r="Uint8Array"),t.scalars&&(a=t.scalars,e=1,r=t.scalarsType),le.createElement(Oo,{id:t.id,colorMapPreset:t.colorMapPreset,colorDataRange:t.colorDataRange,property:t.property,mapper:t.mapper,volume:t.volume},t.volumeController&&le.createElement(No,{rescaleColorMap:t.rescaleColorMap,size:t.controllerSize}),le.createElement(Fo,{dimensions:t.dimensions,origin:t.origin,spacing:t.spacing},le.createElement(ni,null,le.createElement(ii,{registration:"setScalars",numberOfComponents:e,values:a,type:r}))))}I0.defaultProps={scalarsType:"Float32Array",colorMapPreset:"erdc_rainbow_bright",colorDataRange:"auto",volumeController:!0,rescaleColorMap:!0,controllerSize:[400,150]},I0.propTypes={id:q.string,dimensions:q.arrayOf(q.number),spacing:q.arrayOf(q.number),origin:q.arrayOf(q.number),rgb:q.arrayOf(q.number),rgba:q.arrayOf(q.number),scalars:q.arrayOf(q.number),scalarsType:q.string,mapper:q.object,volume:q.object,property:q.object,colorMapPreset:q.string,volumeController:q.bool,controllerSize:q.arrayOf(q.number),rescaleColorMap:q.bool,colorDataRange:q.oneOfType([q.arrayOf(q.number),q.string])};var mg={PointCloudRepresentation:W0,VolumeDataRepresentation:I0},Ob=bt.VolumeRepresentation,bb=bt.SliceRepresentation,Nb=bt.VolumeController,Mb=bt.PointData,Rb=bt.PolyData,kb=bt.Reader,Lb=bt.ShareDataSet,Fb=bt.Dataset,Ab=bt.View,Bb=bt.GeometryRepresentation,Vb=bt.Geometry2DRepresentation,Ub=bt.GlyphRepresentation,Gb=bt.ImageData,Pb=bt.DataArray,jb=bt.Algorithm,zb=bt.Calculator,Wb=bt.MultiViewRoot,Ib=mg.PointCloudRepresentation,$b=mg.VolumeDataRepresentation,Hb={ViewContext:Br,RepresentationContext:zt,DataSetContext:en,FieldsContext:vi,DownstreamContext:Ct};export{Hb as A,$b as B,zu as C,Rb as D,Gb as E,Wb as G,Gx as L,Ib as P,kb as R,Ab as V,Se as _,Pt as a,gh as b,Pb as c,Bb as d,Lb as e,jb as f,U as g,zb as h,sE as i,va as j,ZD as k,Ob as l,Nb as m,e9 as n,na as o,Mb as p,QD as q,eE as r,bb as s,_u as t,Vb as u,ca as v,Ub as w,we as x,et as y,Fb as z};
