import{c as Pt,a as Ki,b as me,r as Lt}from"./vendor.0d147815.js";var ze=1e-6,vt=typeof Float32Array!="undefined"?Float32Array:Array,Ac=Math.random,Jg=Math.PI/180;function Qg(t){return t*Jg}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function Gh(){var t=new vt(9);return vt!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Bi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function e2(t){var e=new vt(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function t2(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function r2(t,e,n,r,a,i,s,o,c){var u=new vt(9);return u[0]=t,u[1]=e,u[2]=n,u[3]=r,u[4]=a,u[5]=i,u[6]=s,u[7]=o,u[8]=c,u}function n2(t,e,n,r,a,i,s,o,c,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=i,t[5]=s,t[6]=o,t[7]=c,t[8]=u,t}function Nr(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Bu(t,e){if(t===e){var n=e[1],r=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function Vi(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],s=e[4],o=e[5],c=e[6],u=e[7],f=e[8],l=f*s-o*u,h=-f*i+o*c,p=u*i-s*c,v=n*l+r*h+a*p;return v?(v=1/v,t[0]=l*v,t[1]=(-f*r+a*u)*v,t[2]=(o*r-a*s)*v,t[3]=h*v,t[4]=(f*n-a*c)*v,t[5]=(-o*n+a*i)*v,t[6]=p*v,t[7]=(-u*n+r*c)*v,t[8]=(s*n-r*i)*v,t):null}function a2(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],s=e[4],o=e[5],c=e[6],u=e[7],f=e[8];return t[0]=s*f-o*u,t[1]=a*u-r*f,t[2]=r*o-a*s,t[3]=o*c-i*f,t[4]=n*f-a*c,t[5]=a*i-n*o,t[6]=i*u-s*c,t[7]=r*c-n*u,t[8]=n*s-r*i,t}function i2(t){var e=t[0],n=t[1],r=t[2],a=t[3],i=t[4],s=t[5],o=t[6],c=t[7],u=t[8];return e*(u*i-s*c)+n*(-u*a+s*o)+r*(c*a-i*o)}function pi(t,e,n){var r=e[0],a=e[1],i=e[2],s=e[3],o=e[4],c=e[5],u=e[6],f=e[7],l=e[8],h=n[0],p=n[1],v=n[2],y=n[3],_=n[4],m=n[5],d=n[6],g=n[7],x=n[8];return t[0]=h*r+p*s+v*u,t[1]=h*a+p*o+v*f,t[2]=h*i+p*c+v*l,t[3]=y*r+_*s+m*u,t[4]=y*a+_*o+m*f,t[5]=y*i+_*c+m*l,t[6]=d*r+g*s+x*u,t[7]=d*a+g*o+x*f,t[8]=d*i+g*c+x*l,t}function o2(t,e,n){var r=e[0],a=e[1],i=e[2],s=e[3],o=e[4],c=e[5],u=e[6],f=e[7],l=e[8],h=n[0],p=n[1];return t[0]=r,t[1]=a,t[2]=i,t[3]=s,t[4]=o,t[5]=c,t[6]=h*r+p*s+u,t[7]=h*a+p*o+f,t[8]=h*i+p*c+l,t}function s2(t,e,n){var r=e[0],a=e[1],i=e[2],s=e[3],o=e[4],c=e[5],u=e[6],f=e[7],l=e[8],h=Math.sin(n),p=Math.cos(n);return t[0]=p*r+h*s,t[1]=p*a+h*o,t[2]=p*i+h*c,t[3]=p*s-h*r,t[4]=p*o-h*a,t[5]=p*c-h*i,t[6]=u,t[7]=f,t[8]=l,t}function u2(t,e,n){var r=n[0],a=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function c2(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function f2(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function l2(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function h2(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function p2(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],s=n+n,o=r+r,c=a+a,u=n*s,f=r*s,l=r*o,h=a*s,p=a*o,v=a*c,y=i*s,_=i*o,m=i*c;return t[0]=1-l-v,t[3]=f-m,t[6]=h+_,t[1]=f+m,t[4]=1-u-v,t[7]=p-y,t[2]=h-_,t[5]=p+y,t[8]=1-u-l,t}function v2(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],s=e[4],o=e[5],c=e[6],u=e[7],f=e[8],l=e[9],h=e[10],p=e[11],v=e[12],y=e[13],_=e[14],m=e[15],d=n*o-r*s,g=n*c-a*s,x=n*u-i*s,w=r*c-a*o,C=r*u-i*o,S=a*u-i*c,T=f*y-l*v,b=f*_-h*v,O=f*m-p*v,D=l*_-h*y,M=l*m-p*y,R=h*m-p*_,E=d*R-g*M+x*D+w*O-C*b+S*T;return E?(E=1/E,t[0]=(o*R-c*M+u*D)*E,t[1]=(c*O-s*R-u*b)*E,t[2]=(s*M-o*O+u*T)*E,t[3]=(a*M-r*R-i*D)*E,t[4]=(n*R-a*O+i*b)*E,t[5]=(r*O-n*M-i*T)*E,t[6]=(y*S-_*C+m*w)*E,t[7]=(_*x-v*S-m*g)*E,t[8]=(v*C-y*x+m*d)*E,t):null}function d2(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function g2(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function y2(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function m2(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function Ph(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function _2(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function x2(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function w2(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function C2(t,e){var n=t[0],r=t[1],a=t[2],i=t[3],s=t[4],o=t[5],c=t[6],u=t[7],f=t[8],l=e[0],h=e[1],p=e[2],v=e[3],y=e[4],_=e[5],m=e[6],d=e[7],g=e[8];return Math.abs(n-l)<=ze*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-h)<=ze*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(a-p)<=ze*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(i-v)<=ze*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(s-y)<=ze*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(o-_)<=ze*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(c-m)<=ze*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(u-d)<=ze*Math.max(1,Math.abs(u),Math.abs(d))&&Math.abs(f-g)<=ze*Math.max(1,Math.abs(f),Math.abs(g))}var S2=pi,T2=Ph,b2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:Gh,fromMat4:Bi,clone:e2,copy:t2,fromValues:r2,set:n2,identity:Nr,transpose:Bu,invert:Vi,adjoint:a2,determinant:i2,multiply:pi,translate:o2,rotate:s2,scale:u2,fromTranslation:c2,fromRotation:f2,fromScaling:l2,fromMat2d:h2,fromQuat:p2,normalFromMat4:v2,projection:d2,str:g2,frob:y2,add:m2,subtract:Ph,multiplyScalar:_2,multiplyScalarAndAdd:x2,exactEquals:w2,equals:C2,mul:S2,sub:T2});function E2(){var t=new vt(16);return vt!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function D2(t){var e=new vt(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function zt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function O2(t,e,n,r,a,i,s,o,c,u,f,l,h,p,v,y){var _=new vt(16);return _[0]=t,_[1]=e,_[2]=n,_[3]=r,_[4]=a,_[5]=i,_[6]=s,_[7]=o,_[8]=c,_[9]=u,_[10]=f,_[11]=l,_[12]=h,_[13]=p,_[14]=v,_[15]=y,_}function N2(t,e,n,r,a,i,s,o,c,u,f,l,h,p,v,y,_){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=i,t[5]=s,t[6]=o,t[7]=c,t[8]=u,t[9]=f,t[10]=l,t[11]=h,t[12]=p,t[13]=v,t[14]=y,t[15]=_,t}function Ae(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ye(t,e){if(t===e){var n=e[1],r=e[2],a=e[3],i=e[6],s=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=a,t[13]=s,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function ir(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],s=e[4],o=e[5],c=e[6],u=e[7],f=e[8],l=e[9],h=e[10],p=e[11],v=e[12],y=e[13],_=e[14],m=e[15],d=n*o-r*s,g=n*c-a*s,x=n*u-i*s,w=r*c-a*o,C=r*u-i*o,S=a*u-i*c,T=f*y-l*v,b=f*_-h*v,O=f*m-p*v,D=l*_-h*y,M=l*m-p*y,R=h*m-p*_,E=d*R-g*M+x*D+w*O-C*b+S*T;return E?(E=1/E,t[0]=(o*R-c*M+u*D)*E,t[1]=(a*M-r*R-i*D)*E,t[2]=(y*S-_*C+m*w)*E,t[3]=(h*C-l*S-p*w)*E,t[4]=(c*O-s*R-u*b)*E,t[5]=(n*R-a*O+i*b)*E,t[6]=(_*x-v*S-m*g)*E,t[7]=(f*S-h*x+p*g)*E,t[8]=(s*M-o*O+u*T)*E,t[9]=(r*O-n*M-i*T)*E,t[10]=(v*C-y*x+m*d)*E,t[11]=(l*x-f*C-p*d)*E,t[12]=(o*b-s*D-c*T)*E,t[13]=(n*D-r*b+a*T)*E,t[14]=(y*g-v*w-_*d)*E,t[15]=(f*w-l*g+h*d)*E,t):null}function M2(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],s=e[4],o=e[5],c=e[6],u=e[7],f=e[8],l=e[9],h=e[10],p=e[11],v=e[12],y=e[13],_=e[14],m=e[15];return t[0]=o*(h*m-p*_)-l*(c*m-u*_)+y*(c*p-u*h),t[1]=-(r*(h*m-p*_)-l*(a*m-i*_)+y*(a*p-i*h)),t[2]=r*(c*m-u*_)-o*(a*m-i*_)+y*(a*u-i*c),t[3]=-(r*(c*p-u*h)-o*(a*p-i*h)+l*(a*u-i*c)),t[4]=-(s*(h*m-p*_)-f*(c*m-u*_)+v*(c*p-u*h)),t[5]=n*(h*m-p*_)-f*(a*m-i*_)+v*(a*p-i*h),t[6]=-(n*(c*m-u*_)-s*(a*m-i*_)+v*(a*u-i*c)),t[7]=n*(c*p-u*h)-s*(a*p-i*h)+f*(a*u-i*c),t[8]=s*(l*m-p*y)-f*(o*m-u*y)+v*(o*p-u*l),t[9]=-(n*(l*m-p*y)-f*(r*m-i*y)+v*(r*p-i*l)),t[10]=n*(o*m-u*y)-s*(r*m-i*y)+v*(r*u-i*o),t[11]=-(n*(o*p-u*l)-s*(r*p-i*l)+f*(r*u-i*o)),t[12]=-(s*(l*_-h*y)-f*(o*_-c*y)+v*(o*h-c*l)),t[13]=n*(l*_-h*y)-f*(r*_-a*y)+v*(r*h-a*l),t[14]=-(n*(o*_-c*y)-s*(r*_-a*y)+v*(r*c-a*o)),t[15]=n*(o*h-c*l)-s*(r*h-a*l)+f*(r*c-a*o),t}function k2(t){var e=t[0],n=t[1],r=t[2],a=t[3],i=t[4],s=t[5],o=t[6],c=t[7],u=t[8],f=t[9],l=t[10],h=t[11],p=t[12],v=t[13],y=t[14],_=t[15],m=e*s-n*i,d=e*o-r*i,g=e*c-a*i,x=n*o-r*s,w=n*c-a*s,C=r*c-a*o,S=u*v-f*p,T=u*y-l*p,b=u*_-h*p,O=f*y-l*v,D=f*_-h*v,M=l*_-h*y;return m*M-d*D+g*O+x*b-w*T+C*S}function ct(t,e,n){var r=e[0],a=e[1],i=e[2],s=e[3],o=e[4],c=e[5],u=e[6],f=e[7],l=e[8],h=e[9],p=e[10],v=e[11],y=e[12],_=e[13],m=e[14],d=e[15],g=n[0],x=n[1],w=n[2],C=n[3];return t[0]=g*r+x*o+w*l+C*y,t[1]=g*a+x*c+w*h+C*_,t[2]=g*i+x*u+w*p+C*m,t[3]=g*s+x*f+w*v+C*d,g=n[4],x=n[5],w=n[6],C=n[7],t[4]=g*r+x*o+w*l+C*y,t[5]=g*a+x*c+w*h+C*_,t[6]=g*i+x*u+w*p+C*m,t[7]=g*s+x*f+w*v+C*d,g=n[8],x=n[9],w=n[10],C=n[11],t[8]=g*r+x*o+w*l+C*y,t[9]=g*a+x*c+w*h+C*_,t[10]=g*i+x*u+w*p+C*m,t[11]=g*s+x*f+w*v+C*d,g=n[12],x=n[13],w=n[14],C=n[15],t[12]=g*r+x*o+w*l+C*y,t[13]=g*a+x*c+w*h+C*_,t[14]=g*i+x*u+w*p+C*m,t[15]=g*s+x*f+w*v+C*d,t}function nt(t,e,n){var r=n[0],a=n[1],i=n[2],s,o,c,u,f,l,h,p,v,y,_,m;return e===t?(t[12]=e[0]*r+e[4]*a+e[8]*i+e[12],t[13]=e[1]*r+e[5]*a+e[9]*i+e[13],t[14]=e[2]*r+e[6]*a+e[10]*i+e[14],t[15]=e[3]*r+e[7]*a+e[11]*i+e[15]):(s=e[0],o=e[1],c=e[2],u=e[3],f=e[4],l=e[5],h=e[6],p=e[7],v=e[8],y=e[9],_=e[10],m=e[11],t[0]=s,t[1]=o,t[2]=c,t[3]=u,t[4]=f,t[5]=l,t[6]=h,t[7]=p,t[8]=v,t[9]=y,t[10]=_,t[11]=m,t[12]=s*r+f*a+v*i+e[12],t[13]=o*r+l*a+y*i+e[13],t[14]=c*r+h*a+_*i+e[14],t[15]=u*r+p*a+m*i+e[15]),t}function Bn(t,e,n){var r=n[0],a=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function St(t,e,n,r){var a=r[0],i=r[1],s=r[2],o=Math.hypot(a,i,s),c,u,f,l,h,p,v,y,_,m,d,g,x,w,C,S,T,b,O,D,M,R,E,B;return o<ze?null:(o=1/o,a*=o,i*=o,s*=o,c=Math.sin(n),u=Math.cos(n),f=1-u,l=e[0],h=e[1],p=e[2],v=e[3],y=e[4],_=e[5],m=e[6],d=e[7],g=e[8],x=e[9],w=e[10],C=e[11],S=a*a*f+u,T=i*a*f+s*c,b=s*a*f-i*c,O=a*i*f-s*c,D=i*i*f+u,M=s*i*f+a*c,R=a*s*f+i*c,E=i*s*f-a*c,B=s*s*f+u,t[0]=l*S+y*T+g*b,t[1]=h*S+_*T+x*b,t[2]=p*S+m*T+w*b,t[3]=v*S+d*T+C*b,t[4]=l*O+y*D+g*M,t[5]=h*O+_*D+x*M,t[6]=p*O+m*D+w*M,t[7]=v*O+d*D+C*M,t[8]=l*R+y*E+g*B,t[9]=h*R+_*E+x*B,t[10]=p*R+m*E+w*B,t[11]=v*R+d*E+C*B,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function xs(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[4],s=e[5],o=e[6],c=e[7],u=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*a+u*r,t[5]=s*a+f*r,t[6]=o*a+l*r,t[7]=c*a+h*r,t[8]=u*a-i*r,t[9]=f*a-s*r,t[10]=l*a-o*r,t[11]=h*a-c*r,t}function vi(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[0],s=e[1],o=e[2],c=e[3],u=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a-u*r,t[1]=s*a-f*r,t[2]=o*a-l*r,t[3]=c*a-h*r,t[8]=i*r+u*a,t[9]=s*r+f*a,t[10]=o*r+l*a,t[11]=c*r+h*a,t}function ws(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[0],s=e[1],o=e[2],c=e[3],u=e[4],f=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a+u*r,t[1]=s*a+f*r,t[2]=o*a+l*r,t[3]=c*a+h*r,t[4]=u*a-i*r,t[5]=f*a-s*r,t[6]=l*a-o*r,t[7]=h*a-c*r,t}function jh(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function R2(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function zh(t,e,n){var r=n[0],a=n[1],i=n[2],s=Math.hypot(r,a,i),o,c,u;return s<ze?null:(s=1/s,r*=s,a*=s,i*=s,o=Math.sin(e),c=Math.cos(e),u=1-c,t[0]=r*r*u+c,t[1]=a*r*u+i*o,t[2]=i*r*u-a*o,t[3]=0,t[4]=r*a*u-i*o,t[5]=a*a*u+c,t[6]=i*a*u+r*o,t[7]=0,t[8]=r*i*u+a*o,t[9]=a*i*u-r*o,t[10]=i*i*u+c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function F2(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function L2(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function A2(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Wh(t,e,n){var r=e[0],a=e[1],i=e[2],s=e[3],o=r+r,c=a+a,u=i+i,f=r*o,l=r*c,h=r*u,p=a*c,v=a*u,y=i*u,_=s*o,m=s*c,d=s*u;return t[0]=1-(p+y),t[1]=l+d,t[2]=h-m,t[3]=0,t[4]=l-d,t[5]=1-(f+y),t[6]=v+_,t[7]=0,t[8]=h+m,t[9]=v-_,t[10]=1-(f+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function B2(t,e){var n=new vt(3),r=-e[0],a=-e[1],i=-e[2],s=e[3],o=e[4],c=e[5],u=e[6],f=e[7],l=r*r+a*a+i*i+s*s;return l>0?(n[0]=(o*s+f*r+c*i-u*a)*2/l,n[1]=(c*s+f*a+u*r-o*i)*2/l,n[2]=(u*s+f*i+o*a-c*r)*2/l):(n[0]=(o*s+f*r+c*i-u*a)*2,n[1]=(c*s+f*a+u*r-o*i)*2,n[2]=(u*s+f*i+o*a-c*r)*2),Wh(t,e,n),t}function V2(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Ih(t,e){var n=e[0],r=e[1],a=e[2],i=e[4],s=e[5],o=e[6],c=e[8],u=e[9],f=e[10];return t[0]=Math.hypot(n,r,a),t[1]=Math.hypot(i,s,o),t[2]=Math.hypot(c,u,f),t}function $h(t,e){var n=new vt(3);Ih(n,e);var r=1/n[0],a=1/n[1],i=1/n[2],s=e[0]*r,o=e[1]*a,c=e[2]*i,u=e[4]*r,f=e[5]*a,l=e[6]*i,h=e[8]*r,p=e[9]*a,v=e[10]*i,y=s+f+v,_=0;return y>0?(_=Math.sqrt(y+1)*2,t[3]=.25*_,t[0]=(l-p)/_,t[1]=(h-c)/_,t[2]=(o-u)/_):s>f&&s>v?(_=Math.sqrt(1+s-f-v)*2,t[3]=(l-p)/_,t[0]=.25*_,t[1]=(o+u)/_,t[2]=(h+c)/_):f>v?(_=Math.sqrt(1+f-s-v)*2,t[3]=(h-c)/_,t[0]=(o+u)/_,t[1]=.25*_,t[2]=(l+p)/_):(_=Math.sqrt(1+v-s-f)*2,t[3]=(o-u)/_,t[0]=(h+c)/_,t[1]=(l+p)/_,t[2]=.25*_),t}function Hh(t,e,n,r){var a=e[0],i=e[1],s=e[2],o=e[3],c=a+a,u=i+i,f=s+s,l=a*c,h=a*u,p=a*f,v=i*u,y=i*f,_=s*f,m=o*c,d=o*u,g=o*f,x=r[0],w=r[1],C=r[2];return t[0]=(1-(v+_))*x,t[1]=(h+g)*x,t[2]=(p-d)*x,t[3]=0,t[4]=(h-g)*w,t[5]=(1-(l+_))*w,t[6]=(y+m)*w,t[7]=0,t[8]=(p+d)*C,t[9]=(y-m)*C,t[10]=(1-(l+v))*C,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function U2(t,e,n,r,a){var i=e[0],s=e[1],o=e[2],c=e[3],u=i+i,f=s+s,l=o+o,h=i*u,p=i*f,v=i*l,y=s*f,_=s*l,m=o*l,d=c*u,g=c*f,x=c*l,w=r[0],C=r[1],S=r[2],T=a[0],b=a[1],O=a[2],D=(1-(y+m))*w,M=(p+x)*w,R=(v-g)*w,E=(p-x)*C,B=(1-(h+m))*C,I=(_+d)*C,P=(v+g)*S,L=(_-d)*S,F=(1-(h+y))*S;return t[0]=D,t[1]=M,t[2]=R,t[3]=0,t[4]=E,t[5]=B,t[6]=I,t[7]=0,t[8]=P,t[9]=L,t[10]=F,t[11]=0,t[12]=n[0]+T-(D*T+E*b+P*O),t[13]=n[1]+b-(M*T+B*b+L*O),t[14]=n[2]+O-(R*T+I*b+F*O),t[15]=1,t}function Vu(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],s=n+n,o=r+r,c=a+a,u=n*s,f=r*s,l=r*o,h=a*s,p=a*o,v=a*c,y=i*s,_=i*o,m=i*c;return t[0]=1-l-v,t[1]=f+m,t[2]=h-_,t[3]=0,t[4]=f-m,t[5]=1-u-v,t[6]=p+y,t[7]=0,t[8]=h+_,t[9]=p-y,t[10]=1-u-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function G2(t,e,n,r,a,i,s){var o=1/(n-e),c=1/(a-r),u=1/(i-s);return t[0]=i*2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i*2*c,t[6]=0,t[7]=0,t[8]=(n+e)*o,t[9]=(a+r)*c,t[10]=(s+i)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*i*2*u,t[15]=0,t}function Kh(t,e,n,r,a){var i=1/Math.tan(e/2),s;return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,a!=null&&a!==1/0?(s=1/(r-a),t[10]=(a+r)*s,t[14]=2*a*r*s):(t[10]=-1,t[14]=-2*r),t}var P2=Kh;function j2(t,e,n,r,a){var i=1/Math.tan(e/2),s;return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,a!=null&&a!==1/0?(s=1/(r-a),t[10]=a*s,t[14]=a*r*s):(t[10]=-1,t[14]=-r),t}function z2(t,e,n,r){var a=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),o=Math.tan(e.rightDegrees*Math.PI/180),c=2/(s+o),u=2/(a+i);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-((s-o)*c*.5),t[9]=(a-i)*u*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function Xh(t,e,n,r,a,i,s){var o=1/(e-n),c=1/(r-a),u=1/(i-s);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*o,t[13]=(a+r)*c,t[14]=(s+i)*u,t[15]=1,t}var qh=Xh;function W2(t,e,n,r,a,i,s){var o=1/(e-n),c=1/(r-a),u=1/(i-s);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=u,t[11]=0,t[12]=(e+n)*o,t[13]=(a+r)*c,t[14]=i*u,t[15]=1,t}function Yh(t,e,n,r){var a,i,s,o,c,u,f,l,h,p,v=e[0],y=e[1],_=e[2],m=r[0],d=r[1],g=r[2],x=n[0],w=n[1],C=n[2];return Math.abs(v-x)<ze&&Math.abs(y-w)<ze&&Math.abs(_-C)<ze?Ae(t):(f=v-x,l=y-w,h=_-C,p=1/Math.hypot(f,l,h),f*=p,l*=p,h*=p,a=d*h-g*l,i=g*f-m*h,s=m*l-d*f,p=Math.hypot(a,i,s),p?(p=1/p,a*=p,i*=p,s*=p):(a=0,i=0,s=0),o=l*s-h*i,c=h*a-f*s,u=f*i-l*a,p=Math.hypot(o,c,u),p?(p=1/p,o*=p,c*=p,u*=p):(o=0,c=0,u=0),t[0]=a,t[1]=o,t[2]=f,t[3]=0,t[4]=i,t[5]=c,t[6]=l,t[7]=0,t[8]=s,t[9]=u,t[10]=h,t[11]=0,t[12]=-(a*v+i*y+s*_),t[13]=-(o*v+c*y+u*_),t[14]=-(f*v+l*y+h*_),t[15]=1,t)}function I2(t,e,n,r){var a=e[0],i=e[1],s=e[2],o=r[0],c=r[1],u=r[2],f=a-n[0],l=i-n[1],h=s-n[2],p=f*f+l*l+h*h;p>0&&(p=1/Math.sqrt(p),f*=p,l*=p,h*=p);var v=c*h-u*l,y=u*f-o*h,_=o*l-c*f;return p=v*v+y*y+_*_,p>0&&(p=1/Math.sqrt(p),v*=p,y*=p,_*=p),t[0]=v,t[1]=y,t[2]=_,t[3]=0,t[4]=l*_-h*y,t[5]=h*v-f*_,t[6]=f*y-l*v,t[7]=0,t[8]=f,t[9]=l,t[10]=h,t[11]=0,t[12]=a,t[13]=i,t[14]=s,t[15]=1,t}function $2(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function H2(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function K2(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Zh(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function X2(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function q2(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function Y2(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Z2(t,e){var n=t[0],r=t[1],a=t[2],i=t[3],s=t[4],o=t[5],c=t[6],u=t[7],f=t[8],l=t[9],h=t[10],p=t[11],v=t[12],y=t[13],_=t[14],m=t[15],d=e[0],g=e[1],x=e[2],w=e[3],C=e[4],S=e[5],T=e[6],b=e[7],O=e[8],D=e[9],M=e[10],R=e[11],E=e[12],B=e[13],I=e[14],P=e[15];return Math.abs(n-d)<=ze*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-g)<=ze*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(a-x)<=ze*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(i-w)<=ze*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(s-C)<=ze*Math.max(1,Math.abs(s),Math.abs(C))&&Math.abs(o-S)<=ze*Math.max(1,Math.abs(o),Math.abs(S))&&Math.abs(c-T)<=ze*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(u-b)<=ze*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(f-O)<=ze*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(l-D)<=ze*Math.max(1,Math.abs(l),Math.abs(D))&&Math.abs(h-M)<=ze*Math.max(1,Math.abs(h),Math.abs(M))&&Math.abs(p-R)<=ze*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(v-E)<=ze*Math.max(1,Math.abs(v),Math.abs(E))&&Math.abs(y-B)<=ze*Math.max(1,Math.abs(y),Math.abs(B))&&Math.abs(_-I)<=ze*Math.max(1,Math.abs(_),Math.abs(I))&&Math.abs(m-P)<=ze*Math.max(1,Math.abs(m),Math.abs(P))}var J2=ct,Q2=Zh,z0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:E2,clone:D2,copy:zt,fromValues:O2,set:N2,identity:Ae,transpose:Ye,invert:ir,adjoint:M2,determinant:k2,multiply:ct,translate:nt,scale:Bn,rotate:St,rotateX:xs,rotateY:vi,rotateZ:ws,fromTranslation:jh,fromScaling:R2,fromRotation:zh,fromXRotation:F2,fromYRotation:L2,fromZRotation:A2,fromRotationTranslation:Wh,fromQuat2:B2,getTranslation:V2,getScaling:Ih,getRotation:$h,fromRotationTranslationScale:Hh,fromRotationTranslationScaleOrigin:U2,fromQuat:Vu,frustum:G2,perspectiveNO:Kh,perspective:P2,perspectiveZO:j2,perspectiveFromFieldOfView:z2,orthoNO:Xh,ortho:qh,orthoZO:W2,lookAt:Yh,targetTo:I2,str:$2,frob:H2,add:K2,subtract:Zh,multiplyScalar:X2,multiplyScalarAndAdd:q2,exactEquals:Y2,equals:Z2,mul:J2,sub:Q2});function Uu(){var t=new vt(3);return vt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function e3(t){var e=new vt(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Fn(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function W0(t,e,n){var r=new vt(3);return r[0]=t,r[1]=e,r[2]=n,r}function Jh(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Ze(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function jr(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function rr(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Qh(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function Gu(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function t3(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function r3(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function n3(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function a3(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function i3(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function _t(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function o3(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function e1(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return Math.hypot(n,r,a)}function t1(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return n*n+r*r+a*a}function r1(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function n1(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function a1(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function mr(t,e){var n=e[0],r=e[1],a=e[2],i=n*n+r*r+a*a;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function Vn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ln(t,e,n){var r=e[0],a=e[1],i=e[2],s=n[0],o=n[1],c=n[2];return t[0]=a*c-i*o,t[1]=i*s-r*c,t[2]=r*o-a*s,t}function s3(t,e,n,r){var a=e[0],i=e[1],s=e[2];return t[0]=a+r*(n[0]-a),t[1]=i+r*(n[1]-i),t[2]=s+r*(n[2]-s),t}function u3(t,e,n,r,a,i){var s=i*i,o=s*(2*i-3)+1,c=s*(i-2)+i,u=s*(i-1),f=s*(3-2*i);return t[0]=e[0]*o+n[0]*c+r[0]*u+a[0]*f,t[1]=e[1]*o+n[1]*c+r[1]*u+a[1]*f,t[2]=e[2]*o+n[2]*c+r[2]*u+a[2]*f,t}function c3(t,e,n,r,a,i){var s=1-i,o=s*s,c=i*i,u=o*s,f=3*i*o,l=3*c*s,h=c*i;return t[0]=e[0]*u+n[0]*f+r[0]*l+a[0]*h,t[1]=e[1]*u+n[1]*f+r[1]*l+a[1]*h,t[2]=e[2]*u+n[2]*f+r[2]*l+a[2]*h,t}function f3(t,e){e=e||1;var n=Ac()*2*Math.PI,r=Ac()*2-1,a=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*a,t[1]=Math.sin(n)*a,t[2]=r*e,t}function be(t,e,n){var r=e[0],a=e[1],i=e[2],s=n[3]*r+n[7]*a+n[11]*i+n[15];return s=s||1,t[0]=(n[0]*r+n[4]*a+n[8]*i+n[12])/s,t[1]=(n[1]*r+n[5]*a+n[9]*i+n[13])/s,t[2]=(n[2]*r+n[6]*a+n[10]*i+n[14])/s,t}function Fo(t,e,n){var r=e[0],a=e[1],i=e[2];return t[0]=r*n[0]+a*n[3]+i*n[6],t[1]=r*n[1]+a*n[4]+i*n[7],t[2]=r*n[2]+a*n[5]+i*n[8],t}function l3(t,e,n){var r=n[0],a=n[1],i=n[2],s=n[3],o=e[0],c=e[1],u=e[2],f=a*u-i*c,l=i*o-r*u,h=r*c-a*o,p=a*h-i*l,v=i*f-r*h,y=r*l-a*f,_=s*2;return f*=_,l*=_,h*=_,p*=2,v*=2,y*=2,t[0]=o+f+p,t[1]=c+l+v,t[2]=u+h+y,t}function h3(t,e,n,r){var a=[],i=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],i[0]=a[0],i[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),i[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function p3(t,e,n,r){var a=[],i=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],i[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),i[1]=a[1],i[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function v3(t,e,n,r){var a=[],i=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],i[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),i[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),i[2]=a[2],t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function d3(t,e){var n=t[0],r=t[1],a=t[2],i=e[0],s=e[1],o=e[2],c=Math.sqrt(n*n+r*r+a*a),u=Math.sqrt(i*i+s*s+o*o),f=c*u,l=f&&Vn(t,e)/f;return Math.acos(Math.min(Math.max(l,-1),1))}function g3(t){return t[0]=0,t[1]=0,t[2]=0,t}function y3(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function da(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function I0(t,e){var n=t[0],r=t[1],a=t[2],i=e[0],s=e[1],o=e[2];return Math.abs(n-i)<=ze*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-s)<=ze*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(a-o)<=ze*Math.max(1,Math.abs(a),Math.abs(o))}var m3=rr,_3=Qh,x3=Gu,w3=e1,C3=t1,i1=Fn,S3=r1,T3=function(){var t=Uu();return function(e,n,r,a,i,s){var o,c;for(n||(n=3),r||(r=0),a?c=Math.min(a*n+r,e.length):c=e.length,o=r;o<c;o+=n)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],i(t,t,s),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2];return e}}(),b3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:Uu,clone:e3,length:Fn,fromValues:W0,copy:Jh,set:Ze,add:jr,subtract:rr,multiply:Qh,divide:Gu,ceil:t3,floor:r3,min:n3,max:a3,round:i3,scale:_t,scaleAndAdd:o3,distance:e1,squaredDistance:t1,squaredLength:r1,negate:n1,inverse:a1,normalize:mr,dot:Vn,cross:Ln,lerp:s3,hermite:u3,bezier:c3,random:f3,transformMat4:be,transformMat3:Fo,transformQuat:l3,rotateX:h3,rotateY:p3,rotateZ:v3,angle:d3,zero:g3,str:y3,exactEquals:da,equals:I0,sub:m3,mul:_3,div:x3,dist:w3,sqrDist:C3,len:i1,sqrLen:S3,forEach:T3});function E3(){var t=new vt(4);return vt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function D3(t,e,n,r){var a=new vt(4);return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a}function O3(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],s=n*n+r*r+a*a+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=n*s,t[1]=r*s,t[2]=a*s,t[3]=i*s,t}function Xi(t,e,n){var r=e[0],a=e[1],i=e[2],s=e[3];return t[0]=n[0]*r+n[4]*a+n[8]*i+n[12]*s,t[1]=n[1]*r+n[5]*a+n[9]*i+n[13]*s,t[2]=n[2]*r+n[6]*a+n[10]*i+n[14]*s,t[3]=n[3]*r+n[7]*a+n[11]*i+n[15]*s,t}(function(){var t=E3();return function(e,n,r,a,i,s){var o,c;for(n||(n=4),r||(r=0),a?c=Math.min(a*n+r,e.length):c=e.length,o=r;o<c;o+=n)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],t[3]=e[o+3],i(t,t,s),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2],e[o+3]=t[3];return e}})();function Un(){var t=new vt(4);return vt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Pu(t,e,n){n=n*.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function N3(t,e){var n=Math.acos(e[3])*2,r=Math.sin(n/2);return r>ze?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function Bc(t,e,n){var r=e[0],a=e[1],i=e[2],s=e[3],o=n[0],c=n[1],u=n[2],f=n[3];return t[0]=r*f+s*o+a*u-i*c,t[1]=a*f+s*c+i*o-r*u,t[2]=i*f+s*u+r*c-a*o,t[3]=s*f-r*o-a*c-i*u,t}function zs(t,e,n,r){var a=e[0],i=e[1],s=e[2],o=e[3],c=n[0],u=n[1],f=n[2],l=n[3],h,p,v,y,_;return p=a*c+i*u+s*f+o*l,p<0&&(p=-p,c=-c,u=-u,f=-f,l=-l),1-p>ze?(h=Math.acos(p),v=Math.sin(h),y=Math.sin((1-r)*h)/v,_=Math.sin(r*h)/v):(y=1-r,_=r),t[0]=y*a+_*c,t[1]=y*i+_*u,t[2]=y*s+_*f,t[3]=y*o+_*l,t}function M3(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function k3(t,e){var n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[a*3+a]&&(a=2);var i=(a+1)%3,s=(a+2)%3;r=Math.sqrt(e[a*3+a]-e[i*3+i]-e[s*3+s]+1),t[a]=.5*r,r=.5/r,t[3]=(e[i*3+s]-e[s*3+i])*r,t[i]=(e[i*3+a]+e[a*3+i])*r,t[s]=(e[s*3+a]+e[a*3+s])*r}return t}var Vc=D3,o1=O3;(function(){var t=Uu(),e=W0(1,0,0),n=W0(0,1,0);return function(r,a,i){var s=Vn(a,i);return s<-.999999?(Ln(t,e,a),i1(t)<1e-6&&Ln(t,n,a),mr(t,t),Pu(r,t,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(Ln(t,a,i),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+s,o1(r,r))}})();(function(){var t=Un(),e=Un();return function(n,r,a,i,s,o){return zs(t,r,s,o),zs(e,a,i,o),zs(n,t,e,2*o*(1-o)),n}})();(function(){var t=Gh();return function(e,n,r,a){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=a[0],t[4]=a[1],t[7]=a[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],o1(e,k3(e,t))}})();function R3(t){if(Array.isArray(t))return t}function F3(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,s,o;try{for(n=n.call(t);!(a=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));a=!0);}catch(c){i=!0,o=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw o}}return r}}function $0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s1(t,e){if(!!t){if(typeof t=="string")return $0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $0(t,e)}}function L3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ie(t,e){return R3(t)||F3(t,e)||s1(t,e)||L3()}function Dr(t){return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(t)}function Oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A3(t){if(Array.isArray(t))return $0(t)}function B3(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function we(t){return A3(t)||B3(t)||s1(t)||V3()}function di(t,e){return di=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},di(t,e)}function U3(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ii(t,e,n){return U3()?ii=Reflect.construct:ii=function(a,i,s){var o=[null];o.push.apply(o,i);var c=Function.bind.apply(a,o),u=new c;return s&&di(u,s.prototype),u},ii.apply(null,arguments)}var Uc=Object.prototype.toString,u1=function(e){var n=Uc.call(e),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Uc.call(e.callee)==="[object Function]"),r},c1;if(!Object.keys){var qi=Object.prototype.hasOwnProperty,Gc=Object.prototype.toString,G3=u1,Pc=Object.prototype.propertyIsEnumerable,P3=!Pc.call({toString:null},"toString"),j3=Pc.call(function(){},"prototype"),Yi=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Ws=function(t){var e=t.constructor;return e&&e.prototype===t},z3={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},W3=function(){if(typeof window=="undefined")return!1;for(var t in window)try{if(!z3["$"+t]&&qi.call(window,t)&&window[t]!==null&&typeof window[t]=="object")try{Ws(window[t])}catch{return!0}}catch{return!0}return!1}(),I3=function(t){if(typeof window=="undefined"||!W3)return Ws(t);try{return Ws(t)}catch{return!1}};c1=function(e){var n=e!==null&&typeof e=="object",r=Gc.call(e)==="[object Function]",a=G3(e),i=n&&Gc.call(e)==="[object String]",s=[];if(!n&&!r&&!a)throw new TypeError("Object.keys called on a non-object");var o=j3&&r;if(i&&e.length>0&&!qi.call(e,0))for(var c=0;c<e.length;++c)s.push(String(c));if(a&&e.length>0)for(var u=0;u<e.length;++u)s.push(String(u));else for(var f in e)!(o&&f==="prototype")&&qi.call(e,f)&&s.push(String(f));if(P3)for(var l=I3(e),h=0;h<Yi.length;++h)!(l&&Yi[h]==="constructor")&&qi.call(e,Yi[h])&&s.push(Yi[h]);return s}}var $3=c1,H3=Array.prototype.slice,K3=u1,jc=Object.keys,Lo=jc?function(e){return jc(e)}:$3,zc=Object.keys;Lo.shim=function(){if(Object.keys){var e=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);e||(Object.keys=function(r){return K3(r)?zc(H3.call(r)):zc(r)})}else Object.keys=Lo;return Object.keys||Lo};var X3=Lo,q3=X3,Y3=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Z3=Object.prototype.toString,J3=Array.prototype.concat,ju=Object.defineProperty,Q3=function(t){return typeof t=="function"&&Z3.call(t)==="[object Function]"},ey=function(){var t={};try{ju(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch{return!1}},f1=ju&&ey(),ty=function(t,e,n,r){e in t&&(!Q3(r)||!r())||(f1?ju(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},l1=function(t,e){var n=arguments.length>2?arguments[2]:{},r=q3(e);Y3&&(r=J3.call(r,Object.getOwnPropertySymbols(e)));for(var a=0;a<r.length;a+=1)ty(t,r[a],e[r[a]],n[r[a]])};l1.supportsDescriptors=!!f1;var h1=l1,oi={exports:{}};typeof self!="undefined"?oi.exports=self:typeof window!="undefined"?oi.exports=window:oi.exports=Function("return this")();var ry=oi.exports,p1=function(){return typeof Pt!="object"||!Pt||Pt.Math!==Math||Pt.Array!==Array?ry:Pt},ny=h1,ay=p1,iy=function(){var e=ay();if(ny.supportsDescriptors){var n=Object.getOwnPropertyDescriptor(e,"globalThis");(!n||n.configurable&&(n.enumerable||n.writable||globalThis!==e))&&Object.defineProperty(e,"globalThis",{configurable:!0,enumerable:!1,value:e,writable:!1})}else(typeof globalThis!="object"||globalThis!==e)&&(e.globalThis=e);return e},oy=h1,sy=oi.exports,v1=p1,uy=iy,cy=v1(),d1=function(){return cy};oy(d1,{getPolyfill:v1,implementation:sy,shim:uy});var fy=d1;function Wc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wc(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var dr=fy(),g1={vtkObject:function(){return null}};function Tt(t){if(t==null||t.isA)return t;if(!t.vtkClass)return dr.console&&dr.console.error&&dr.console.error("Invalid VTK object"),null;var e=g1[t.vtkClass];if(!e)return dr.console&&dr.console.error&&dr.console.error("No vtk class found for Object of type ".concat(t.vtkClass)),null;var n=ly({},t);Object.keys(n).forEach(function(a){n[a]&&Dr(n[a])==="object"&&n[a].vtkClass&&(n[a]=Tt(n[a]))});var r=e(n);return r&&r.modified&&r.modified(),r}function hy(t,e){g1[t]=e}Tt.register=hy;function dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ic(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gt(t,e,n){return e&&Ic(t.prototype,e),n&&Ic(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ge(t){return Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ge(t)}function py(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ge(t),t!==null););return t}function Ao(){return typeof Reflect!="undefined"&&Reflect.get?Ao=Reflect.get:Ao=function(e,n,r){var a=py(e,n);if(!!a){var i=Object.getOwnPropertyDescriptor(a,n);return i.get?i.get.call(arguments.length<3?e:r):i.value}},Ao.apply(this,arguments)}function Dt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&di(t,e)}function gi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ot(t,e){if(e&&(Dr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gi(t)}function vy(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function H0(t){var e=typeof Map=="function"?new Map:void 0;return H0=function(r){if(r===null||!vy(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,a)}function a(){return ii(r,arguments,Ge(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),di(a,r)},H0(t)}function dy(t){var e=gy();return function(){var r=Ge(t),a;if(e){var i=Ge(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return Ot(this,a)}}function gy(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Is=function(t){Dt(n,t);var e=dy(n);function n(){return dt(this,n),e.apply(this,arguments)}return gt(n,[{key:"push",value:function(){for(var a=this,i,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=o.filter(function(f){return!a.includes(f)});return(i=Ao(Ge(n.prototype),"push",this)).call.apply(i,[this].concat(we(u)))}}]),n}(H0(Array));function $c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function K0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$c(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$c(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var X0=0,yy=Symbol("void");function my(){return X0}var y1={};function bn(){}var _y=["log","debug","info","warn","error","time","timeEnd","group","groupEnd"];_y.forEach(function(t){y1[t]=bn});dr.console=console.hasOwnProperty("log")?console:y1;var qt={debug:bn,error:dr.console.error||bn,info:dr.console.info||bn,log:dr.console.log||bn,warn:dr.console.warn||bn};function xy(t,e){qt[t]&&(qt[t]=e||bn)}function wy(){qt.log.apply(qt,arguments)}function Cy(){qt.info.apply(qt,arguments)}function Gn(){qt.debug.apply(qt,arguments)}function Re(){qt.error.apply(qt,arguments)}function Ui(){qt.warn.apply(qt,arguments)}var Hc={};function Sy(t){Hc[t]||(qt.error(t),Hc[t]=!0)}var Zt=Object.create(null);Zt.Float32Array=Float32Array;Zt.Float64Array=Float64Array;Zt.Uint8Array=Uint8Array;Zt.Int8Array=Int8Array;Zt.Uint16Array=Uint16Array;Zt.Int16Array=Int16Array;Zt.Uint32Array=Uint32Array;Zt.Int32Array=Int32Array;Zt.Uint8ClampedArray=Uint8ClampedArray;function zu(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ii(Zt[t]||Float64Array,n)}function Wu(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(e=Zt[t]||Float64Array).from.apply(e,r)}function Iu(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Rt(t){return Iu(t[0]==="_"?t.slice(1):t)}function Ty(t){return t.charAt(0).toLowerCase()+t.slice(1)}function by(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3,r=["TB","GB","MB","KB"],a=Number(t),i="B";a>n;)a/=n,i=r.pop();return"".concat(a.toFixed(e)," ").concat(i)}function Ey(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",n=[],r=t;r>1e3;)n.push("000".concat(r%1e3).slice(-3)),r=Math.floor(r/1e3);return r>0&&n.push(r),n.reverse(),n.join(e)}function m1(t){Object.keys(t).forEach(function(e){Array.isArray(t[e])&&(t[e]=[].concat(t[e]))})}function Dy(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}function Oy(t,e){return Object.keys(t).find(function(n){return t[n]===e})}function _1(t){return t&&t.isA?t.getState():t}function x1(t){setTimeout(t,0)}function Ny(t,e){var n=performance.now();t.finally(function(){var r=performance.now()-n;e(r)})}function Et(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};m1(e);var n=[];Number.isInteger(e.mtime)||(e.mtime=++X0),"classHierarchy"in e?e.classHierarchy instanceof Is||(e.classHierarchy=Is.from(e.classHierarchy)):e.classHierarchy=new Is("vtkObject");function r(i){n[i]=null}function a(i){function s(){r(i)}return Object.freeze({unsubscribe:s})}return t.isDeleted=function(){return!!e.deleted},t.modified=function(i){if(e.deleted){Re("instance deleted - cannot call any method");return}i&&i<t.getMTime()||(e.mtime=++X0,n.forEach(function(s){return s&&s(t)}))},t.onModified=function(i){if(e.deleted)return Re("instance deleted - cannot call any method"),null;var s=n.length;return n.push(i),a(s)},t.getMTime=function(){return e.mtime},t.isA=function(i){for(var s=e.classHierarchy.length;s--;)if(e.classHierarchy[s]===i)return!0;return!1},t.getClassName=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.classHierarchy[e.classHierarchy.length-1-i]},t.set=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=!1;return Object.keys(i).forEach(function(u){var f=o?null:t["set".concat(Iu(u))];f&&Array.isArray(i[u])&&f.length>1?c=f.apply(void 0,we(i[u]))||c:f?c=f(i[u])||c:(["mtime"].indexOf(u)===-1&&!s&&Ui("Warning: Set value to model directly ".concat(u,", ").concat(i[u])),c=e[u]!==i[u]||c,e[u]=i[u])}),c},t.get=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(!s.length)return e;var c={};return s.forEach(function(u){c[u]=e[u]}),c},t.getReferenceByName=function(i){return e[i]},t.delete=function(){Object.keys(e).forEach(function(i){return delete e[i]}),n.forEach(function(i,s){return r(s)}),e.deleted=!0},t.getState=function(){if(e.deleted)return null;var i=K0(K0({},e),{},{vtkClass:t.getClassName()});Object.keys(i).forEach(function(o){i[o]===null||i[o]===void 0||o[0]==="_"?delete i[o]:i[o].isA?i[o]=i[o].getState():Array.isArray(i[o])&&(i[o]=i[o].map(_1))});var s={};return Object.keys(i).sort().forEach(function(o){s[o]=i[o]}),s.mtime&&delete s.mtime,s},t.shallowCopy=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i.getClassName()!==t.getClassName())throw new Error("Cannot ShallowCopy ".concat(i.getClassName()," into ").concat(t.getClassName()));var o=i.get(),c=Object.keys(e).sort(),u=Object.keys(o).sort();u.forEach(function(f){var l=c.indexOf(f);l===-1?s&&Gn("add ".concat(f," in shallowCopy")):c.splice(l,1),e[f]=o[f]}),c.length&&s&&Gn("Untouched keys: ".concat(c.join(", "))),t.modified()},t.toJSON=function(){return t.getState()},t}function Mr(t,e,n){n.forEach(function(r){Dr(r)==="object"?t["get".concat(Rt(r.name))]=function(){return e[r.name]}:t["get".concat(Rt(r))]=function(){return e[r]}})}var My={enum:function(e,n,r){return function(a){if(typeof a=="string"){if(r.enum[a]!==void 0)return n[r.name]!==r.enum[a]?(n[r.name]=r.enum[a],e.modified(),!0):!1;throw Re("Set Enum with invalid argument ".concat(r,", ").concat(a)),new RangeError("Set Enum with invalid string argument")}if(typeof a=="number"){if(n[r.name]!==a){if(Object.keys(r.enum).map(function(i){return r.enum[i]}).indexOf(a)!==-1)return n[r.name]=a,e.modified(),!0;throw Re("Set Enum outside numeric range ".concat(r,", ").concat(a)),new RangeError("Set Enum outside numeric range")}return!1}throw Re("Set Enum with invalid argument (String/Number) ".concat(r,", ").concat(a)),new TypeError("Set Enum with invalid argument (String/Number)")}}};function Kc(t){if(Dr(t)==="object"){var e=My[t.type];if(e)return function(n,r){return e(n,r,t)};throw Re("No setter for field ".concat(t)),new TypeError("No setter for field")}return function(r,a){return function(s){return a.deleted?(Re("instance deleted - cannot call any method"),!1):a[t]!==s?(a[t]=s,r.modified(),!0):!1}}}function Cs(t,e,n){n.forEach(function(r){Dr(r)==="object"?t["set".concat(Rt(r.name))]=Kc(r)(t,e):t["set".concat(Rt(r))]=Kc(r)(t,e)})}function Nt(t,e,n){Mr(t,e,n),Cs(t,e,n)}function Ss(t,e,n){n.forEach(function(r){t["get".concat(Rt(r))]=function(){return e[r]?[].concat(e[r]):e[r]},t["get".concat(Rt(r),"ByReference")]=function(){return e[r]}})}function w1(t,e,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;n.forEach(function(i){if(e[i]&&r&&e[i].length!==r)throw new RangeError("Invalid initial number of values for array (".concat(i,")"));t["set".concat(Rt(i))]=function(){if(e.deleted)return Re("instance deleted - cannot call any method"),!1;for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=o,f,l=!1;if(u.length===1&&(u[0]==null||u[0].length>=0)&&(u=u[0],l=!0),u==null)f=e[i]!==u;else{if(r&&u.length!==r)if(u.length<r&&a!==void 0)for(u=Array.from(u),l=!1;u.length<r;)u.push(a);else throw new RangeError("Invalid number of values for array setter (".concat(i,")"));f=e[i]==null||e[i].some(function(h,p){return h!==u[p]})||e[i].length!==u.length,f&&l&&(u=Array.from(u))}return f&&(e[i]=u,t.modified()),f},t["set".concat(Rt(i),"From")]=function(s){var o=e[i];s.forEach(function(c,u){o[u]=c})}})}function C1(t,e,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;Ss(t,e,n),w1(t,e,n,r,a)}function $u(t,e,n){for(var r=0;r<n.length;r++){var a=n[r];e[a]!==void 0&&(e["_".concat(a)]=e[a],delete e[a])}}function S1(t,e,n,r){e.inputData?e.inputData=e.inputData.map(Tt):e.inputData=[],e.inputConnection?e.inputConnection=e.inputConnection.map(Tt):e.inputConnection=[],e.output?e.output=e.output.map(Tt):e.output=[],e.inputArrayToProcess?e.inputArrayToProcess=e.inputArrayToProcess.map(Tt):e.inputArrayToProcess=[],e.numberOfInputs=n;function a(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e.deleted){Re("instance deleted - cannot call any method");return}if(y>=e.numberOfInputs){Re("algorithm ".concat(t.getClassName()," only has ").concat(e.numberOfInputs," input ports. To add more input ports, use addInputData()"));return}(e.inputData[y]!==v||e.inputConnection[y])&&(e.inputData[y]=v,e.inputConnection[y]=null,t.modified&&t.modified())}function i(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.inputConnection[v]&&(e.inputData[v]=e.inputConnection[v]()),e.inputData[v]}function s(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e.deleted){Re("instance deleted - cannot call any method");return}if(y>=e.numberOfInputs){var _="algorithm ".concat(t.getClassName()," only has ");_+="".concat(e.numberOfInputs),_+=" input ports. To add more input ports, use addInputConnection()",Re(_);return}e.inputData[y]=null,e.inputConnection[y]=v}function o(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.inputConnection[v]}function c(){for(var v=e.numberOfInputs;v&&!e.inputData[v-1]&&!e.inputConnection[v-1];)v--;return v===e.numberOfInputs&&e.numberOfInputs++,v}function u(v){if(e.deleted){Re("instance deleted - cannot call any method");return}s(v,c())}function f(v){if(e.deleted){Re("instance deleted - cannot call any method");return}a(v,c())}function l(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.deleted?(Re("instance deleted - cannot call any method"),null):(t.shouldUpdate()&&t.update(),e.output[v])}t.shouldUpdate=function(){for(var v=t.getMTime(),y=1/0,_=r;_--;){if(!e.output[_]||e.output[_].isDeleted())return!0;var m=e.output[_].getMTime();if(m<v)return!0;m<y&&(y=m)}for(_=e.numberOfInputs;_--;){var d,g;if((d=e.inputConnection[_])!==null&&d!==void 0&&d.filter.shouldUpdate()||((g=t.getInputData(_))===null||g===void 0?void 0:g.getMTime())>y)return!0}return!1};function h(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=function(){return l(v)};return y.filter=t,y}if(e.numberOfInputs){for(var p=e.numberOfInputs;p--;)e.inputData.push(null),e.inputConnection.push(null);t.setInputData=a,t.setInputConnection=s,t.addInputData=f,t.addInputConnection=u,t.getInputData=i,t.getInputConnection=o}r&&(t.getOutputData=l,t.getOutputPort=h),t.update=function(){var v=[];if(e.numberOfInputs)for(var y=0;y<e.numberOfInputs;)v[y]=t.getInputData(y),y++;t.shouldUpdate()&&t.requestData&&t.requestData(v,e.output)},t.getNumberOfInputPorts=function(){return e.numberOfInputs},t.getNumberOfOutputPorts=function(){return r||e.output.length},t.getInputArrayToProcess=function(v){var y=e.inputArrayToProcess[v],_=e.inputData[v];return y&&_?_["get".concat(y.fieldAssociation)]().getArray(y.arrayName):null},t.setInputArrayToProcess=function(v,y,_){for(var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Scalars";e.inputArrayToProcess.length<v;)e.inputArrayToProcess.push(null);e.inputArrayToProcess[v]={arrayName:y,fieldAssociation:_,attributeType:m}}}var T1=Symbol("Event abort");function q0(t,e,n){var r=[],a=t.delete,i=1;function s(u){for(var f=0;f<r.length;++f){var l=Ie(r[f],1),h=l[0];if(h===u){r.splice(f,1);return}}}function o(u){function f(){s(u)}return Object.freeze({unsubscribe:f})}function c(){var u=arguments;if(e.deleted){Re("instance deleted - cannot call any method");return}for(var f=r.slice(),l=function(y){var _=Ie(f[y],3),m=_[1],d=_[2];if(!m)return"continue";if(d<0)setTimeout(function(){return m.apply(t,u)},1-d);else{var g=m.apply(t,u);if(g===T1)return"break"}},h=0;h<f.length;++h){var p=l(h);if(p!=="continue"&&p==="break")break}}t["invoke".concat(Rt(n))]=c,t["on".concat(Rt(n))]=function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!u.apply)return console.error("Invalid callback for event ".concat(n)),null;if(e.deleted)return Re("instance deleted - cannot call any method"),null;var l=i++;return r.push([l,u,f]),r.sort(function(h,p){return p[2]-h[2]}),o(l)},t.delete=function(){a(),r.forEach(function(u){var f=Ie(u,1),l=f[0];return s(l)})}}function st(t,e){var n=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i={},s={};return t(s,i,a),Object.freeze(s)};return e&&Tt.register(e,n),n}function b1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e.filter(function(s){return!!s}).map(function(s){return s.apply(void 0,a)})}}function E1(t){return t&&t.isA&&t.isA("vtkObject")}function Y0(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(E1(t)){if(r.indexOf(t)>=0)return n;r.push(t);var a=e(t);a!==void 0&&n.push(a);var i=t.get();Object.keys(i).forEach(function(s){var o=i[s];Array.isArray(o)?o.forEach(function(c){Y0(c,e,n,r)}):Y0(o,e,n,r)})}return n}function Z0(t,e,n){var r=this,a,i=function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var f=r,l=function(){a=null,n||t.apply(f,c)},h=n&&!a;clearTimeout(a),a=setTimeout(l,e),h&&t.apply(f,c)};return i.cancel=function(){return clearTimeout(a)},i}function ky(t,e){var n=!1,r=null;function a(){n=!1,r!==null&&(i.apply(void 0,we(r)),r=null)}function i(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];if(n){r=o;return}n=!0,t.apply(void 0,o),setTimeout(a,e)}return i}function D1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e.keystore=Object.assign(e.keystore||{},n),t.setKey=function(r,a){e.keystore[r]=a},t.getKey=function(r){return e.keystore[r]},t.getAllKeys=function(){return Object.keys(e.keystore)},t.deleteKey=function(r){return delete e.keystore[r]},t.clearKeystore=function(){return t.getAllKeys().forEach(function(r){return delete e.keystore[r]})}}var Ry=1,Zi="__root__";function Fy(t,e){D1(t,e);var n=t.delete;e.proxyId="".concat(Ry++),e.ui=JSON.parse(JSON.stringify(e.ui||[])),Mr(t,e,["proxyId","proxyGroup","proxyName"]),Nt(t,e,["proxyManager"]);var r={},a={};function i(u,f){a[f]||(a[f]=[]);for(var l=a[f],h=0;h<u.length;h++)l.push(u[h].name),r[u[h].name]=u[h],u[h].children&&u[h].children.length&&i(u[h].children,u[h].name)}i(e.ui,Zi),t.updateUI=function(u){e.ui=JSON.parse(JSON.stringify(u||[])),Object.keys(r).forEach(function(f){return delete r[f]}),Object.keys(a).forEach(function(f){return delete a[f]}),i(e.ui,Zi),t.modified()};function s(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zi;return a[u]}t.updateProxyProperty=function(u,f){var l=r[u];l?Object.assign(l,f):r[u]=K0({},f)},t.activate=function(){if(e.proxyManager){var u="setActive".concat(Rt(t.getProxyGroup().slice(0,-1)));e.proxyManager[u]&&e.proxyManager[u](t)}},e.propertyLinkSubscribers={},t.registerPropertyLinkForGC=function(u,f){f in e.propertyLinkSubscribers||(e.propertyLinkSubscribers[f]=[]),e.propertyLinkSubscribers[f].push(u)},t.gcPropertyLinks=function(u){for(var f=e.propertyLinkSubscribers[u]||[];f.length;)f.pop().unbind(t)},e.propertyLinkMap={},t.getPropertyLink=function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.propertyLinkMap[u])return e.propertyLinkMap[u];var l=null,h=[],p=0,v=!1;function y(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(v)return null;var C=[],S=null;for(p=h.length;p--;){var T=h[p];T.instance===x?S=T:C.push(T)}if(!S)return null;var b=S.instance["get".concat(Rt(S.propertyName))]();if(!Dy(b,l)||w){for(l=b,v=!0;C.length;){var O=C.pop();O.instance.set(Oe({},O.propertyName,l))}v=!1}return e.propertyLinkMap[u].persistent&&(e.propertyLinkMap[u].value=b),b}function _(x,w){var C=[];for(p=h.length;p--;){var S=h[p];S.instance===x&&(S.propertyName===w||w===void 0)&&(S.subscription.unsubscribe(),C.push(p))}for(;C.length;)h.splice(C.pop(),1)}function m(x,w){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,S=x.onModified(y),T=h[0];return h.push({instance:x,propertyName:w,subscription:S}),C&&(e.propertyLinkMap[u].persistent&&e.propertyLinkMap[u].value!==void 0?x.set(Oe({},w,e.propertyLinkMap[u].value)):T&&y(T.instance,!0)),{unsubscribe:function(){return _(x,w)}}}function d(){for(;h.length;)h.pop().subscription.unsubscribe()}var g={bind:m,unbind:_,unsubscribe:d,persistent:f};return e.propertyLinkMap[u]=g,g};function o(){for(var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zi,f=[],l=e.proxyId,h=s(u)||[],p=0;p<h.length;p++){var v=h[p],y=t["get".concat(Rt(v))],_=y?y():void 0,m={id:l,name:v,value:_},d=o(v);d.length&&(m.children=d),f.push(m)}return f}t.listPropertyNames=function(){return o().map(function(u){return u.name})},t.getPropertyByName=function(u){return o().find(function(f){return f.name===u})},t.getPropertyDomainByName=function(u){return(r[u]||{}).domain},t.getProxySection=function(){return{id:e.proxyId,name:e.proxyGroup,ui:e.ui,properties:o()}},t.delete=function(){for(var u=Object.keys(e.propertyLinkMap),f=u.length;f--;)e.propertyLinkMap[u[f]].unsubscribe();Object.keys(e.propertyLinkSubscribers).forEach(t.gcPropertyLinks),n()},t.getState=function(){return null};function c(){if(e.links)for(var u=0;u<e.links.length;u++){var f=e.links[u],l=f.link,h=f.property,p=f.persistent,v=f.updateOnBind,y=f.type;if(y==="application"){var _=e.proxyManager.getPropertyLink(l,p);t.registerPropertyLinkForGC(_,"application"),_.bind(t,h,v)}}}x1(c)}function Ly(t,e,n){for(var r=t.delete,a=[],i=Object.keys(n),s=i.length;s--;){var o=i[s],c=n[o],u=c.modelKey,f=c.property,l=c.modified,h=l===void 0?!0:l,p=Rt(f),v=Rt(o);t["get".concat(v)]=e[u]["get".concat(p)],t["set".concat(v)]=e[u]["set".concat(p)],h&&a.push(e[u].onModified(t.modified))}t.delete=function(){for(;a.length;)a.pop().unsubscribe();r()}}function Ay(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};e.this=t;function a(c){for(var u=Object.keys(c),f=u.length;f--;){var l=u[f];e[l].set(c[l])}}for(var i=Object.keys(r),s=i.length,o=function(){var u=i[s];e[u]=r[u];var f=n[u];t["set".concat(Rt(u))]=function(l){if(l!==e[u]){e[u]=l;var h=f[l];a(h),t.modified()}}};s--;)o();i.length&&Mr(t,e,i)}var Xc=10,qc=40,Yc=800;function By(t){var e=0,n=0,r=0,a=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*Xc,a=n*Xc,"deltaY"in t&&(a=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||a)&&t.deltaMode&&(t.deltaMode===1?(r*=qc,a*=qc):(r*=Yc,a*=Yc)),r&&!e&&(e=r<1?-1:1),a&&!n&&(n=a<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:a}}var W={algo:S1,capitalize:Iu,chain:b1,debounce:Z0,enumToString:Oy,event:q0,EVENT_ABORT:T1,formatBytesToProperUnit:by,formatNumbersWithThousandSeparator:Ey,get:Mr,getArray:Ss,getCurrentGlobalMTime:my,getStateArrayMapFunc:_1,isVtkObject:E1,keystore:D1,measurePromiseExecution:Ny,moveToProtected:$u,newInstance:st,newTypedArray:zu,newTypedArrayFrom:Wu,normalizeWheel:By,obj:Et,proxy:Fy,proxyPropertyMapping:Ly,proxyPropertyState:Ay,safeArrays:m1,set:Cs,setArray:w1,setGet:Nt,setGetArray:C1,setImmediate:x1,setLoggerFunction:xy,throttle:ky,traverseInstanceTree:Y0,TYPED_ARRAYS:Zt,uncapitalize:Ty,VOID:yy,vtkDebugMacro:Gn,vtkErrorMacro:Re,vtkInfoMacro:Cy,vtkLogMacro:wy,vtkOnceErrorMacro:Sy,vtkWarningMacro:Ui},Vy=W.vtkErrorMacro,Uy=["Build","Render"];function Gy(t,e){e.classHierarchy.push("vtkViewNode"),t.build=function(n){},t.render=function(n){},t.traverse=function(n){var r=n.getTraverseOperation(),a=t[r];if(a){a(n);return}t.apply(n,!0);for(var i=0;i<e.children.length;i++)e.children[i].traverse(n);t.apply(n,!1)},t.apply=function(n,r){var a=t[n.getOperation()];a&&a(r,n)},t.getViewNodeFor=function(n){if(e.renderable===n)return t;for(var r=0;r<e.children.length;++r){var a=e.children[r],i=a.getViewNodeFor(n);if(i)return i}},t.getFirstAncestorOfType=function(n){return e._parent?e._parent.isA(n)?e._parent:e._parent.getFirstAncestorOfType(n):null},t.addMissingNode=function(n){if(!!n){var r=e._renderableChildMap.get(n);if(r!==void 0)r.setVisited(!0);else{var a=t.createViewNode(n);a&&(a.setParent(t),a.setVisited(!0),e._renderableChildMap.set(n,a),e.children.push(a))}}},t.addMissingNodes=function(n){if(!(!n||!n.length))for(var r=0;r<n.length;++r){var a=n[r],i=e._renderableChildMap.get(a);if(i!==void 0)i.setVisited(!0);else{var s=t.createViewNode(a);s&&(s.setParent(t),s.setVisited(!0),e._renderableChildMap.set(a,s),e.children.push(s))}}},t.addMissingChildren=function(n){if(!(!n||!n.length))for(var r=0;r<n.length;++r){var a=n[r],i=e.children.indexOf(a);i===-1&&(a.setParent(t),e.children.push(a)),a.setVisited(!0)}},t.prepareNodes=function(){for(var n=0;n<e.children.length;++n)e.children[n].setVisited(!1)},t.setVisited=function(n){e.visited=n},t.removeUnusedNodes=function(){for(var n=null,r=0;r<e.children.length;++r){var a=e.children[r],i=a.getVisited();if(i)a.setVisited(!1);else{var s=a.getRenderable();s&&e._renderableChildMap.delete(s),n||(n=[]),n.push(a)}}n&&(e.children=e.children.filter(function(o){return!n.includes(o)}))},t.createViewNode=function(n){if(!e.myFactory)return Vy("Cannot create view nodes without my own factory"),null;var r=e.myFactory.createNode(n);return r&&r.setRenderable(n),r}}var Py={renderable:null,myFactory:null,children:[],visited:!1};function O1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Py,n),W.obj(t,e),W.event(t,e,"event"),e._renderableChildMap=new Map,W.get(t,e,["visited"]),W.setGet(t,e,["_parent","renderable","myFactory"]),W.getArray(t,e,["children"]),W.moveToProtected(t,e,["parent"]),Gy(t,e)}var jy=W.newInstance(O1,"vtkViewNode"),At={newInstance:jy,extend:O1,PASS_TYPES:Uy};function zy(t,e){e.overrides||(e.overrides={}),e.classHierarchy.push("vtkViewNodeFactory"),t.createNode=function(n){if(n.isDeleted())return null;for(var r=0,a=n.getClassName(r++),i=!1,s=Object.keys(e.overrides);a&&!i;)s.indexOf(a)!==-1?i=!0:a=n.getClassName(r++);if(!i)return null;var o=e.overrides[a]();return o.setMyFactory(t),o},t.registerOverride=function(n,r){e.overrides[n]=r}}var Wy={};function N1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Wy,n),W.obj(t,e),zy(t,e)}var Iy=W.newInstance(N1,"vtkViewNodeFactory"),$y={newInstance:Iy,extend:N1},M1=Object.create(null);function Bt(t,e){M1[t]=e}function Hy(t,e){e.classHierarchy.push("vtkOpenGLViewNodeFactory")}var Ky={};function k1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Ky,n),e.overrides=M1,$y.extend(t,e,n),Hy(t,e)}var Xy=W.newInstance(k1,"vtkOpenGLViewNodeFactory"),qy={newInstance:Xy,extend:k1};function Yy(t,e){e.classHierarchy.push("vtkOpenGLCamera"),t.buildPass=function(n){n&&(e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext())},t.opaquePass=function(n){if(n){var r=e.openGLRenderer.getTiledSizeAndOrigin();e.context.viewport(r.lowerLeftU,r.lowerLeftV,r.usize,r.vsize),e.context.scissor(r.lowerLeftU,r.lowerLeftV,r.usize,r.vsize)}},t.translucentPass=t.opaquePass,t.opaqueZBufferPass=t.opaquePass,t.volumePass=t.opaquePass,t.getKeyMatrices=function(n){if(n!==e.lastRenderer||e._openGLRenderWindow.getMTime()>e.keyMatrixTime.getMTime()||t.getMTime()>e.keyMatrixTime.getMTime()||n.getMTime()>e.keyMatrixTime.getMTime()||e.renderable.getMTime()>e.keyMatrixTime.getMTime()){zt(e.keyMatrices.wcvc,e.renderable.getViewMatrix()),Bi(e.keyMatrices.normalMatrix,e.keyMatrices.wcvc),Vi(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),Ye(e.keyMatrices.wcvc,e.keyMatrices.wcvc);var r=e.openGLRenderer.getAspectRatio();zt(e.keyMatrices.vcpc,e.renderable.getProjectionMatrix(r,-1,1)),Ye(e.keyMatrices.vcpc,e.keyMatrices.vcpc),ct(e.keyMatrices.wcpc,e.keyMatrices.vcpc,e.keyMatrices.wcvc),e.keyMatrixTime.modified(),e.lastRenderer=n}return e.keyMatrices}}var Zy={context:null,lastRenderer:null,keyMatrixTime:null,keyMatrices:null};function Jy(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Zy,n),At.extend(t,e,n),e.keyMatrixTime={},Et(e.keyMatrixTime),e.keyMatrices={normalMatrix:new Float64Array(9),vcpc:new Float64Array(16),wcvc:new Float64Array(16),wcpc:new Float64Array(16)},Nt(t,e,["context","keyMatrixTime"]),Yy(t,e)}var Qy=st(Jy);Bt("vtkCamera",Qy);var e5=Gn;function t5(t,e){e.classHierarchy.push("vtkOpenGLRenderer"),t.buildPass=function(n){if(n){if(!e.renderable)return;t.updateLights(),t.prepareNodes(),t.addMissingNode(e.renderable.getActiveCamera()),t.addMissingNodes(e.renderable.getViewPropsWithNestedProps()),t.removeUnusedNodes()}},t.updateLights=function(){for(var n=0,r=e.renderable.getLightsByReference(),a=0;a<r.length;++a)r[a].getSwitch()>0&&n++;return n||(e5("No lights are on, creating one."),e.renderable.createLight()),n},t.opaqueZBufferPass=function(n){if(n){var r=0,a=e.context;e.renderable.getTransparent()||(e.context.clearColor(1,0,0,1),r|=a.COLOR_BUFFER_BIT),e.renderable.getPreserveDepthBuffer()||(a.clearDepth(1),r|=a.DEPTH_BUFFER_BIT,e.context.depthMask(!0));var i=t.getTiledSizeAndOrigin();a.enable(a.SCISSOR_TEST),a.scissor(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),a.viewport(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),a.colorMask(!0,!0,!0,!0),a.clear(r),a.enable(a.DEPTH_TEST)}},t.cameraPass=function(n){n&&t.clear()},t.getAspectRatio=function(){var n=e._parent.getSizeByReference(),r=e.renderable.getViewportByReference();return n[0]*(r[2]-r[0])/((r[3]-r[1])*n[1])},t.getTiledSizeAndOrigin=function(){var n=e.renderable.getViewportByReference(),r=[0,0,1,1],a=n[0]-r[0],i=n[1]-r[1],s=e._parent.normalizedDisplayToDisplay(a,i),o=Math.round(s[0]),c=Math.round(s[1]),u=n[2]-r[0],f=n[3]-r[1],l=e._parent.normalizedDisplayToDisplay(u,f),h=Math.round(l[0])-o,p=Math.round(l[1])-c;return h<0&&(h=0),p<0&&(p=0),{usize:h,vsize:p,lowerLeftU:o,lowerLeftV:c}},t.clear=function(){var n=0,r=e.context;if(!e.renderable.getTransparent()){var a=e.renderable.getBackgroundByReference();e.context.clearColor(a[0],a[1],a[2],a[3]),n|=r.COLOR_BUFFER_BIT}e.renderable.getPreserveDepthBuffer()||(r.clearDepth(1),n|=r.DEPTH_BUFFER_BIT,e.context.depthMask(!0)),r.colorMask(!0,!0,!0,!0);var i=t.getTiledSizeAndOrigin();r.enable(r.SCISSOR_TEST),r.scissor(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),r.viewport(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),r.clear(n),r.enable(r.DEPTH_TEST)},t.releaseGraphicsResources=function(){e.selector!==null&&e.selector.releaseGraphicsResources()},t.setOpenGLRenderWindow=function(n){e._openGLRenderWindow!==n&&(t.releaseGraphicsResources(),e._openGLRenderWindow=n,e.context=null,n&&(e.context=e._openGLRenderWindow.getContext()))}}var r5={context:null,selector:null};function n5(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,r5,n),At.extend(t,e,n),Mr(t,e,["shaderCache"]),Nt(t,e,["selector"]),$u(t,e,["openGLRenderWindow"]),t5(t,e)}var a5=st(n5,"vtkOpenGLRenderer");Bt("vtkRenderer",a5);var i5={NONE:-1,I:0,J:1,K:2,X:3,Y:4,Z:5},Hu={SlicingMode:i5},Ts={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},ht={VOID:"",CHAR:"Int8Array",SIGNED_CHAR:"Int8Array",UNSIGNED_CHAR:"Uint8Array",SHORT:"Int16Array",UNSIGNED_SHORT:"Uint16Array",INT:"Int32Array",UNSIGNED_INT:"Uint32Array",FLOAT:"Float32Array",DOUBLE:"Float64Array"},o5=ht.FLOAT,R1={DefaultDataType:o5,DataTypeByteSize:Ts,VtkDataTypes:ht},F1={exports:{}};(function(t){(function(e,n,r){function a(c){var u=this,f=o();u.next=function(){var l=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=l-(u.c=l|0)},u.c=1,u.s0=f(" "),u.s1=f(" "),u.s2=f(" "),u.s0-=f(c),u.s0<0&&(u.s0+=1),u.s1-=f(c),u.s1<0&&(u.s1+=1),u.s2-=f(c),u.s2<0&&(u.s2+=1),f=null}function i(c,u){return u.c=c.c,u.s0=c.s0,u.s1=c.s1,u.s2=c.s2,u}function s(c,u){var f=new a(c),l=u&&u.state,h=f.next;return h.int32=function(){return f.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,l&&(typeof l=="object"&&i(l,f),h.state=function(){return i(f,{})}),h}function o(){var c=4022871197,u=function(f){f=String(f);for(var l=0;l<f.length;l++){c+=f.charCodeAt(l);var h=.02519603282416938*c;c=h>>>0,h-=c,h*=c,c=h>>>0,h-=c,c+=h*4294967296}return(c>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=s:r&&r.amd?r(function(){return s}):this.alea=s})(Pt,t,!1)})(F1);var L1={exports:{}};(function(t){(function(e,n,r){function a(o){var c=this,u="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var l=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^l^l>>>8},o===(o|0)?c.x=o:u+=o;for(var f=0;f<u.length+64;f++)c.x^=u.charCodeAt(f)|0,c.next()}function i(o,c){return c.x=o.x,c.y=o.y,c.z=o.z,c.w=o.w,c}function s(o,c){var u=new a(o),f=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var h=u.next()>>>11,p=(u.next()>>>0)/4294967296,v=(h+p)/(1<<21);while(v===0);return v},l.int32=u.next,l.quick=l,f&&(typeof f=="object"&&i(f,u),l.state=function(){return i(u,{})}),l}n&&n.exports?n.exports=s:r&&r.amd?r(function(){return s}):this.xor128=s})(Pt,t,!1)})(L1);var A1={exports:{}};(function(t){(function(e,n,r){function a(o){var c=this,u="";c.next=function(){var l=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(l^l<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,o===(o|0)?c.x=o:u+=o;for(var f=0;f<u.length+64;f++)c.x^=u.charCodeAt(f)|0,f==u.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function i(o,c){return c.x=o.x,c.y=o.y,c.z=o.z,c.w=o.w,c.v=o.v,c.d=o.d,c}function s(o,c){var u=new a(o),f=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var h=u.next()>>>11,p=(u.next()>>>0)/4294967296,v=(h+p)/(1<<21);while(v===0);return v},l.int32=u.next,l.quick=l,f&&(typeof f=="object"&&i(f,u),l.state=function(){return i(u,{})}),l}n&&n.exports?n.exports=s:r&&r.amd?r(function(){return s}):this.xorwow=s})(Pt,t,!1)})(A1);var B1={exports:{}};(function(t){(function(e,n,r){function a(o){var c=this;c.next=function(){var f=c.x,l=c.i,h,p;return h=f[l],h^=h>>>7,p=h^h<<24,h=f[l+1&7],p^=h^h>>>10,h=f[l+3&7],p^=h^h>>>3,h=f[l+4&7],p^=h^h<<7,h=f[l+7&7],h=h^h<<13,p^=h^h<<9,f[l]=p,c.i=l+1&7,p};function u(f,l){var h,p=[];if(l===(l|0))p[0]=l;else for(l=""+l,h=0;h<l.length;++h)p[h&7]=p[h&7]<<15^l.charCodeAt(h)+p[h+1&7]<<13;for(;p.length<8;)p.push(0);for(h=0;h<8&&p[h]===0;++h);for(h==8&&(p[7]=-1),f.x=p,f.i=0,h=256;h>0;--h)f.next()}u(c,o)}function i(o,c){return c.x=o.x.slice(),c.i=o.i,c}function s(o,c){o==null&&(o=+new Date);var u=new a(o),f=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var h=u.next()>>>11,p=(u.next()>>>0)/4294967296,v=(h+p)/(1<<21);while(v===0);return v},l.int32=u.next,l.quick=l,f&&(f.x&&i(f,u),l.state=function(){return i(u,{})}),l}n&&n.exports?n.exports=s:r&&r.amd?r(function(){return s}):this.xorshift7=s})(Pt,t,!1)})(B1);var V1={exports:{}};(function(t){(function(e,n,r){function a(o){var c=this;c.next=function(){var f=c.w,l=c.X,h=c.i,p,v;return c.w=f=f+1640531527|0,v=l[h+34&127],p=l[h=h+1&127],v^=v<<13,p^=p<<17,v^=v>>>15,p^=p>>>12,v=l[h]=v^p,c.i=h,v+(f^f>>>16)|0};function u(f,l){var h,p,v,y,_,m=[],d=128;for(l===(l|0)?(p=l,l=null):(l=l+"\0",p=0,d=Math.max(d,l.length)),v=0,y=-32;y<d;++y)l&&(p^=l.charCodeAt((y+32)%l.length)),y===0&&(_=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,y>=0&&(_=_+1640531527|0,h=m[y&127]^=p+_,v=h==0?v+1:0);for(v>=128&&(m[(l&&l.length||0)&127]=-1),v=127,y=4*128;y>0;--y)p=m[v+34&127],h=m[v=v+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,m[v]=p^h;f.w=_,f.X=m,f.i=v}u(c,o)}function i(o,c){return c.i=o.i,c.w=o.w,c.X=o.X.slice(),c}function s(o,c){o==null&&(o=+new Date);var u=new a(o),f=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var h=u.next()>>>11,p=(u.next()>>>0)/4294967296,v=(h+p)/(1<<21);while(v===0);return v},l.int32=u.next,l.quick=l,f&&(f.X&&i(f,u),l.state=function(){return i(u,{})}),l}n&&n.exports?n.exports=s:r&&r.amd?r(function(){return s}):this.xor4096=s})(Pt,t,!1)})(V1);var U1={exports:{}};(function(t){(function(e,n,r){function a(o){var c=this,u="";c.next=function(){var l=c.b,h=c.c,p=c.d,v=c.a;return l=l<<25^l>>>7^h,h=h-p|0,p=p<<24^p>>>8^v,v=v-l|0,c.b=l=l<<20^l>>>12^h,c.c=h=h-p|0,c.d=p<<16^h>>>16^v,c.a=v-l|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,o===Math.floor(o)?(c.a=o/4294967296|0,c.b=o|0):u+=o;for(var f=0;f<u.length+20;f++)c.b^=u.charCodeAt(f)|0,c.next()}function i(o,c){return c.a=o.a,c.b=o.b,c.c=o.c,c.d=o.d,c}function s(o,c){var u=new a(o),f=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var h=u.next()>>>11,p=(u.next()>>>0)/4294967296,v=(h+p)/(1<<21);while(v===0);return v},l.int32=u.next,l.quick=l,f&&(typeof f=="object"&&i(f,u),l.state=function(){return i(u,{})}),l}n&&n.exports?n.exports=s:r&&r.amd?r(function(){return s}):this.tychei=s})(Pt,t,!1)})(U1);var G1={exports:{}};(function(t){(function(e,n,r){var a=256,i=6,s=52,o="random",c=r.pow(a,i),u=r.pow(2,s),f=u*2,l=a-1,h;function p(x,w,C){var S=[];w=w==!0?{entropy:!0}:w||{};var T=m(_(w.entropy?[x,g(n)]:x==null?d():x,3),S),b=new v(S),O=function(){for(var D=b.g(i),M=c,R=0;D<u;)D=(D+R)*a,M*=a,R=b.g(1);for(;D>=f;)D/=2,M/=2,R>>>=1;return(D+R)/M};return O.int32=function(){return b.g(4)|0},O.quick=function(){return b.g(4)/4294967296},O.double=O,m(g(b.S),n),(w.pass||C||function(D,M,R,E){return E&&(E.S&&y(E,b),D.state=function(){return y(b,{})}),R?(r[o]=D,M):D})(O,T,"global"in w?w.global:this==r,w.state)}function v(x){var w,C=x.length,S=this,T=0,b=S.i=S.j=0,O=S.S=[];for(C||(x=[C++]);T<a;)O[T]=T++;for(T=0;T<a;T++)O[T]=O[b=l&b+x[T%C]+(w=O[T])],O[b]=w;(S.g=function(D){for(var M,R=0,E=S.i,B=S.j,I=S.S;D--;)M=I[E=l&E+1],R=R*a+I[l&(I[E]=I[B=l&B+M])+(I[B]=M)];return S.i=E,S.j=B,R})(a)}function y(x,w){return w.i=x.i,w.j=x.j,w.S=x.S.slice(),w}function _(x,w){var C=[],S=typeof x,T;if(w&&S=="object")for(T in x)try{C.push(_(x[T],w-1))}catch{}return C.length?C:S=="string"?x:x+"\0"}function m(x,w){for(var C=x+"",S,T=0;T<C.length;)w[l&T]=l&(S^=w[l&T]*19)+C.charCodeAt(T++);return g(w)}function d(){try{var x;return h&&(x=h.randomBytes)?x=x(a):(x=new Uint8Array(a),(e.crypto||e.msCrypto).getRandomValues(x)),g(x)}catch{var w=e.navigator,C=w&&w.plugins;return[+new Date,e,C,e.screen,g(n)]}}function g(x){return String.fromCharCode.apply(0,x)}if(m(r.random(),n),t.exports){t.exports=p;try{h=require("crypto")}catch{}}else r["seed"+o]=p})(typeof self!="undefined"?self:Pt,[],Math)})(G1);var s5=F1.exports,u5=L1.exports,c5=A1.exports,f5=B1.exports,l5=V1.exports,h5=U1.exports,Na=G1.exports;Na.alea=s5;Na.xor128=u5;Na.xorwow=c5;Na.xorshift7=f5;Na.xor4096=l5;Na.tychei=h5;var Zc=W.vtkWarningMacro,p5=1e-12;function J0(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3,e=[];e.length<t;)e.push(0);return e}function rt(t){return t/180*Math.PI}function Ko(t){return t*180/Math.PI}var nn=Math.round,Q0=Math.floor;function v5(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=1/0,a=-1/0,i=e,s=t.length;i<s;i+=n)t[i]<r&&(r=t[i]),a<t[i]&&(a=t[i]);return[r,a]}function gr(t){for(var e=1;e<t;)e*=2;return e}function Ji(t){return t===gr(t)}function $s(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=e-t;return t+n*Math.random()}function Xo(t,e,n){return n[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2],n}function Gt(t,e,n){return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n[2]=t[2]-e[2],n}function d5(t,e){return t[0]*=e,t[1]*=e,t[2]*=e,t}function Jc(t,e,n,r){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r[2]=t[2]+e[2]*n,r}function Be(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function kt(t,e,n){var r=t[1]*e[2]-t[2]*e[1],a=t[2]*e[0]-t[0]*e[2],i=t[0]*e[1]-t[1]*e[0];return n[0]=r,n[1]=a,n[2]=i,n}function Pn(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;switch(e){case 1:return Math.abs(t);case 2:return Math.sqrt(t[0]*t[0]+t[1]*t[1]);case 3:return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);default:{for(var n=0,r=0;r<e;r++)n+=t[r]*t[r];return Math.sqrt(n)}}}function lt(t){var e=Pn(t);return e!==0&&(t[0]/=e,t[1]/=e,t[2]/=e),e}function er(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])+(t[2]-e[2])*(t[2]-e[2])}function g5(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function y5(t){var e=g5(t);return e!==0&&(t[0]/=e,t[1]/=e),e}function Bo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===2?e[0][0]*e[1][1]-e[1][0]*e[0][1]:e.length===4?e[0]*e[3]-e[1]*e[2]:Number.NaN}function Qi(t,e,n){var r=t[0][0]*e[0]+t[0][1]*e[1]+t[0][2]*e[2],a=t[1][0]*e[0]+t[1][1]*e[1]+t[1][2]*e[2],i=t[2][0]*e[0]+t[2][1]*e[1]+t[2][2]*e[2];n[0]=r,n[1]=a,n[2]=i}function m5(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-6;if(t.length!==e.length)return!1;function r(a,i){return Math.abs(a-e[i])<=n}return t.every(r)}var _5=m5;function Hs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!"".concat(t).includes("e"))return+"".concat(Math.round("".concat(t,"e+").concat(e)),"e-").concat(e);var n="".concat(t).split("e"),r="";return+n[1]+e>0&&(r="+"),+"".concat(Math.round("".concat(+n[0],"e").concat(r).concat(+n[1]+e)),"e-").concat(e)}function Qc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return e[0]=Hs(t[0],n),e[1]=Hs(t[1],n),e[2]=Hs(t[2],n),e}function x5(t,e,n){var r,a,i,s,o=0,c,u,f,l=J0(n);for(r=0;r<n;r++){for(s=0,a=0;a<n;a++)(f=Math.abs(t[r][a]))>s&&(s=f);if(s===0)return Zc("Unable to factor linear system"),0;l[r]=1/s}for(a=0;a<n;a++){for(r=0;r<a;r++){for(c=t[r][a],i=0;i<r;i++)c-=t[r][i]*t[i][a];t[r][a]=c}for(s=0,r=a;r<n;r++){for(c=t[r][a],i=0;i<a;i++)c-=t[r][i]*t[i][a];t[r][a]=c,(u=l[r]*Math.abs(c))>=s&&(s=u,o=r)}if(a!==o){for(i=0;i<n;i++)u=t[o][i],t[o][i]=t[a][i],t[a][i]=u;l[o]=l[a]}if(e[a]=o,Math.abs(t[a][a])<=p5)return Zc("Unable to factor linear system"),0;if(a!==n-1)for(u=1/t[a][a],r=a+1;r<n;r++)t[r][a]*=u}return 1}function w5(t,e,n,r){var a,i,s,o,c;for(s=-1,a=0;a<r;a++){if(o=e[a],c=n[o],n[o]=n[a],s>=0)for(i=s;i<=a-1;i++)c-=t[a][i]*n[i];else c!==0&&(s=a);n[a]=c}for(a=r-1;a>=0;a--){for(c=n[a],i=a+1;i<r;i++)c-=t[a][i]*n[i];n[a]=c/t[a][a]}}function C5(t,e,n){if(n===2){var r=J0(2),a=Bo(t[0][0],t[0][1],t[1][0],t[1][1]);return a===0?0:(r[0]=(t[1][1]*e[0]-t[0][1]*e[1])/a,r[1]=(-(t[1][0]*e[0])+t[0][0]*e[1])/a,e[0]=r[0],e[1]=r[1],1)}if(n===1)return t[0][0]===0?0:(e[0]/=t[0][0],1);var i=J0(n);return x5(t,i,n)===0?0:(w5(t,i,e,n),1)}function eo(t,e){var n,r,a=Ie(t,3),i=a[0],s=a[1],o=a[2],c=1/3,u=1/6,f=2/3,l=i,h=i;s>l?l=s:s<h&&(h=s),o>l?l=o:o<h&&(h=o);var p=l;p>0?r=(l-h)/l:r=0,r>0?(i===l?n=u*(s-o)/(l-h):s===l?n=c+u*(o-i)/(l-h):n=f+u*(i-s)/(l-h),n<0&&(n+=1)):n=0,e[0]=n,e[1]=r,e[2]=p}function aa(t,e){var n=Ie(t,3),r=n[0],a=n[1],i=n[2],s=1/3,o=1/6,c=2/3,u=5/6,f,l,h;r>o&&r<=s?(l=1,f=(s-r)/o,h=0):r>s&&r<=.5?(l=1,h=(r-s)/o,f=0):r>.5&&r<=c?(h=1,l=(c-r)/o,f=0):r>c&&r<=u?(h=1,f=(r-c)/o,l=0):r>u&&r<=1?(f=1,h=(1-r)/o,l=0):(f=1,l=r/o,h=0),f=a*f+(1-a),l=a*l+(1-a),h=a*h+(1-a),f*=i,l*=i,h*=i,e[0]=f,e[1]=l,e[2]=h}function S5(t,e){var n=Ie(t,3),r=n[0],a=n[1],i=n[2],s=(r+16)/116,o=a/500+s,c=s-i/200;Math.pow(s,3)>.008856?s=Math.pow(s,3):s=(s-16/116)/7.787,Math.pow(o,3)>.008856?o=Math.pow(o,3):o=(o-16/116)/7.787,Math.pow(c,3)>.008856?c=Math.pow(c,3):c=(c-16/116)/7.787;var u=.9505,f=1,l=1.089;e[0]=u*o,e[1]=f*s,e[2]=l*c}function T5(t,e){var n=Ie(t,3),r=n[0],a=n[1],i=n[2],s=.9505,o=1,c=1.089,u=r/s,f=a/o,l=i/c;u>.008856?u=Math.pow(u,1/3):u=7.787*u+16/116,f>.008856?f=Math.pow(f,1/3):f=7.787*f+16/116,l>.008856?l=Math.pow(l,1/3):l=7.787*l+16/116,e[0]=116*f-16,e[1]=500*(u-f),e[2]=200*(f-l)}function b5(t,e){var n=Ie(t,3),r=n[0],a=n[1],i=n[2],s=r*3.2406+a*-1.5372+i*-.4986,o=r*-.9689+a*1.8758+i*.0415,c=r*.0557+a*-.204+i*1.057;s>.0031308?s=1.055*Math.pow(s,1/2.4)-.055:s*=12.92,o>.0031308?o=1.055*Math.pow(o,1/2.4)-.055:o*=12.92,c>.0031308?c=1.055*Math.pow(c,1/2.4)-.055:c*=12.92;var u=s;u<o&&(u=o),u<c&&(u=c),u>1&&(s/=u,o/=u,c/=u),s<0&&(s=0),o<0&&(o=0),c<0&&(c=0),e[0]=s,e[1]=o,e[2]=c}function E5(t,e){var n=Ie(t,3),r=n[0],a=n[1],i=n[2];r>.04045?r=Math.pow((r+.055)/1.055,2.4):r/=12.92,a>.04045?a=Math.pow((a+.055)/1.055,2.4):a/=12.92,i>.04045?i=Math.pow((i+.055)/1.055,2.4):i/=12.92,e[0]=r*.4124+a*.3576+i*.1805,e[1]=r*.2126+a*.7152+i*.0722,e[2]=r*.0193+a*.1192+i*.9505}function la(t,e){var n=[0,0,0];E5(t,n),T5(n,e)}function eu(t,e){var n=[0,0,0];S5(t,n),b5(n,e)}function Ma(t){return t[0]=1,t[1]=-1,t[2]=1,t[3]=-1,t[4]=1,t[5]=-1,t}function Ks(t){return!(t[1]-t[0]<0)}function ef(t,e,n){return n[0]=Math.min(t[0],e[0]),n[1]=Math.max(t[0],e[0]),n[2]=Math.min(t[1],e[1]),n[3]=Math.max(t[1],e[1]),n[4]=Math.min(t[2],e[2]),n[5]=Math.max(t[2],e[2]),n}function ga(t,e,n){return t<e?e:t>n?n:t}function tf(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0,0,0];return r[0]=ga(t[0],e[0],n[0]),r[1]=ga(t[1],e[1],n[1]),r[2]=ga(t[2],e[2],n[2]),r}var D5=function(e){return!Number.isFinite(e)},O5=Number.isNaN,qo=O5;function xa(){return[].concat([Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE])}function rf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var N5=R1.DefaultDataType,M5=[];function tu(t,e,n){var r=t.length,a,i,s,o;if(r===0)return{min:Number.MAX_VALUE,max:-Number.MAX_VALUE};for(a=t[e],i=a,o=e;o<r;o+=n)s=t[o],s<a?a=s:s>i&&(i=s);return{min:a,max:i}}function k5(){var t=Number.MAX_VALUE,e=-Number.MAX_VALUE,n=0,r=0;return{add:function(i){t>i&&(t=i),e<i&&(e=i),n++,r+=i},get:function(){return{min:t,max:e,count:n,sum:r,mean:r/n}},getRange:function(){return{min:t,max:e}}}}function P1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(e<0&&n>1){for(var r=t.length,a=r/n,i=new Float64Array(a),s=0,o=0;s<a;++s){for(var c,u=o+n;o<u;++o)i[s]+=t[o]*t[o];c=s,i[c]=Math.pow(i[c],.5)}return tu(i,0,1)}return tu(t,e<0?0:e,n)}function nf(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t||[];n.length<=e;)n.push(null);return n}function Ku(t){return Object.prototype.toString.call(t).slice(8,-1)}function R5(t){for(var e=t.getNumberOfComponents(),n=0,r=0;r<t.getNumberOfTuples();++r){var a=Pn(t.getTuple(r),e);a>n&&(n=a)}return n}var F5={computeRange:P1,createRangeHelper:k5,fastComputeRange:tu,getDataType:Ku,getMaxNorm:R5};function L5(t,e){e.classHierarchy.push("vtkDataArray");function n(){e.ranges=null,t.modified()}t.getElementComponentSize=function(){return e.values.BYTES_PER_ELEMENT},t.getComponent=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.values[r*e.numberOfComponents+a]},t.setComponent=function(r,a,i){i!==e.values[r*e.numberOfComponents+a]&&(e.values[r*e.numberOfComponents+a]=i,n())},t.getData=function(){return e.values},t.getRange=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,a=r<0?e.numberOfComponents:r,i=null;return e.ranges||(e.ranges=nf(e.ranges,e.numberOfComponents)),i=e.ranges[a],i?(e.rangeTuple[0]=i.min,e.rangeTuple[1]=i.max,e.rangeTuple):(i=P1(e.values,r,e.numberOfComponents),e.ranges[a]=i,e.rangeTuple[0]=i.min,e.rangeTuple[1]=i.max,e.rangeTuple)},t.setRange=function(r,a){e.ranges||(e.ranges=nf(e.ranges,e.numberOfComponents));var i={min:r.min,max:r.max};return e.ranges[a]=i,e.rangeTuple[0]=i.min,e.rangeTuple[1]=i.max,e.rangeTuple},t.setTuple=function(r,a){for(var i=r*e.numberOfComponents,s=0;s<e.numberOfComponents;s++)e.values[i+s]=a[s]},t.getTuple=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M5,i=e.numberOfComponents||1;a.length!==i&&(a.length=i);var s=r*i;if(i===1)a[0]=e.values[s];else if(i===2)a[0]=e.values[s],a[1]=e.values[s+1];else if(i===3)a[0]=e.values[s],a[1]=e.values[s+1],a[2]=e.values[s+2];else if(i===4)a[0]=e.values[s],a[1]=e.values[s+1],a[2]=e.values[s+2],a[3]=e.values[s+3];else for(var o=0;o<i;o++)a[o]=e.values[s+o];return a},t.getTupleLocation=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return r*e.numberOfComponents},t.getNumberOfComponents=function(){return e.numberOfComponents},t.getNumberOfValues=function(){return e.values.length},t.getNumberOfTuples=function(){return e.values.length/e.numberOfComponents},t.getDataType=function(){return e.dataType},t.newClone=function(){return z1({empty:!0,name:e.name,dataType:e.dataType,numberOfComponents:e.numberOfComponents})},t.getName=function(){return e.name||(t.modified(),e.name="vtkDataArray".concat(t.getMTime())),e.name},t.setData=function(r,a){e.values=r,e.size=r.length,e.dataType=Ku(r),a&&(e.numberOfComponents=a),e.size%e.numberOfComponents!==0&&(e.numberOfComponents=1),n()},t.getState=function(){if(e.deleted)return null;var r=Yo(Yo({},e),{},{vtkClass:t.getClassName()});r.values=Array.from(r.values),delete r.buffer,Object.keys(r).forEach(function(i){r[i]||delete r[i]});var a={};return Object.keys(r).sort().forEach(function(i){a[i]=r[i]}),a.mtime&&delete a.mtime,a}}var A5={name:"",numberOfComponents:1,size:0,dataType:N5,rangeTuple:[0,0]};function j1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,A5,n),!e.empty&&!e.values&&!e.size)throw new TypeError("Cannot create vtkDataArray object without: size > 0, values");e.values?Array.isArray(e.values)&&(e.values=Wu(e.dataType,e.values)):e.values=zu(e.dataType,e.size),e.values&&(e.size=e.values.length,e.dataType=Ku(e.values)),Et(t,e),Cs(t,e,["name","numberOfComponents"]),L5(t,e)}var z1=st(j1,"vtkDataArray"),Ee=Yo(Yo({newInstance:z1,extend:j1},F5),R1),si={ARRAY_BUFFER:0,ELEMENT_ARRAY_BUFFER:1,TEXTURE_BUFFER:2},W1={ObjectType:si};function af(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function of(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?af(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):af(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Vo=W1.ObjectType,B5={};function V5(t,e){e.classHierarchy.push("vtkOpenGLBufferObject");function n(o){switch(o){case Vo.ELEMENT_ARRAY_BUFFER:return e.context.ELEMENT_ARRAY_BUFFER;case Vo.TEXTURE_BUFFER:if("TEXTURE_BUFFER"in e.context)return e.context.TEXTURE_BUFFER;case Vo.ARRAY_BUFFER:default:return e.context.ARRAY_BUFFER}}var r=null,a=null,i=!0,s="";t.getType=function(){return r},t.setType=function(o){r=o},t.getHandle=function(){return a},t.isReady=function(){return i===!1},t.generateBuffer=function(o){var c=n(o);return a===null&&(a=e.context.createBuffer(),r=o),n(r)===c},t.upload=function(o,c){var u=t.generateBuffer(c);return u?(e.context.bindBuffer(n(r),a),e.context.bufferData(n(r),o,e.context.STATIC_DRAW),i=!1,!0):(s="Trying to upload array buffer to incompatible buffer.",!1)},t.bind=function(){return a?(e.context.bindBuffer(n(r),a),!0):!1},t.release=function(){return a?(e.context.bindBuffer(n(r),null),!0):!1},t.releaseGraphicsResources=function(){a!==null&&(e.context.bindBuffer(n(r),null),e.context.deleteBuffer(a),a=null)},t.setOpenGLRenderWindow=function(o){e._openGLRenderWindow!==o&&(t.releaseGraphicsResources(),e._openGLRenderWindow=o,e.context=null,o&&(e.context=e._openGLRenderWindow.getContext()))},t.getError=function(){return s}}var U5={objectType:Vo.ARRAY_BUFFER,context:null};function I1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,U5,n),W.obj(t,e),W.get(t,e,["_openGLRenderWindow"]),W.moveToProtected(t,e,["openGLRenderWindow"]),V5(t,e)}var G5=W.newInstance(I1),Nn=of(of({newInstance:G5,extend:I1},B5),W1),$1={FLAT:0,GOURAUD:1,PHONG:2},Wt={POINTS:0,WIREFRAME:1,SURFACE:2},P5=$1,Xu={Shading:$1,Representation:Wt,Interpolation:P5},sf=W.vtkErrorMacro;function j5(t,e){var n=new Float64Array(3);a1(n,e);var r=new Float64Array(16);return Hh(r,Un(),t,n),r}function z5(t,e){return t===null||e===null?!1:!(da(t,[0,0,0])&&da(e,[1,1,1]))}function W5(t,e){e.classHierarchy.push("vtkOpenGLCellArrayBufferObject"),t.setType(si.ARRAY_BUFFER),t.createVBO=function(n,r,a,i){if(!n.getData()||!n.getData().length)return e.elementCount=0,0;e.blockSize=3,e.vertexOffset=0,e.normalOffset=0,e.tCoordOffset=0,e.tCoordComponents=0,e.colorComponents=0,e.colorOffset=0,e.customData=[];var s=i.points.getData(),o=null,c=null,u=null,f=i.colors?i.colors.getNumberOfComponents():0,l=i.tcoords?i.tcoords.getNumberOfComponents():0;i.normals&&(e.normalOffset=4*e.blockSize,e.blockSize+=3,o=i.normals.getData()),i.customAttributes&&i.customAttributes.forEach(function(oe){oe&&(e.customData.push({data:oe.getData(),offset:4*e.blockSize,components:oe.getNumberOfComponents(),name:oe.getName()}),e.blockSize+=oe.getNumberOfComponents())}),i.tcoords&&(e.tCoordOffset=4*e.blockSize,e.tCoordComponents=l,e.blockSize+=l,c=i.tcoords.getData()),i.colors?(e.colorComponents=i.colors.getNumberOfComponents(),e.colorOffset=0,u=i.colors.getData(),e.colorBO||(e.colorBO=Nn.newInstance()),e.colorBO.setOpenGLRenderWindow(e._openGLRenderWindow)):e.colorBO=null,e.stride=4*e.blockSize;var h=0,p=0,v=0,y=0,_=0,m=0,d,g={anythingToPoints:function(te,A,N){for(var U=0;U<te;++U)d(A[N+U])},linesToWireframe:function(te,A,N){for(var U=0;U<te-1;++U)d(A[N+U]),d(A[N+U+1])},polysToWireframe:function(te,A,N){if(te>2)for(var U=0;U<te;++U)d(A[N+U]),d(A[N+(U+1)%te])},stripsToWireframe:function(te,A,N){if(te>2){for(var U=0;U<te-1;++U)d(A[N+U]),d(A[N+U+1]);for(var V=0;V<te-2;V++)d(A[N+V]),d(A[N+V+2])}},polysToSurface:function(te,A,N){for(var U=0;U<te-2;U++)d(A[N+0]),d(A[N+U+1]),d(A[N+U+2])},stripsToSurface:function(te,A,N){for(var U=0;U<te-2;U++)d(A[N+U]),d(A[N+U+1+U%2]),d(A[N+U+1+(U+1)%2])}},x={anythingToPoints:function(te,A){return te},linesToWireframe:function(te,A){return te>1?(te-1)*2:0},polysToWireframe:function(te,A){return te>2?te*2:0},stripsToWireframe:function(te,A){return te>2?te*4-6:0},polysToSurface:function(te,A){return te>2?(te-2)*3:0},stripsToSurface:function(te,A,N){return te>2?(te-2)*3:0}},w=null,C=null;a===Wt.POINTS||r==="verts"?(w=g.anythingToPoints,C=x.anythingToPoints):a===Wt.WIREFRAME||r==="lines"?(w=g["".concat(r,"ToWireframe")],C=x["".concat(r,"ToWireframe")]):(w=g["".concat(r,"ToSurface")],C=x["".concat(r,"ToSurface")]);for(var S=n.getData(),T=S.length,b=0,O=0;O<T;)b+=C(S[O],S),O+=S[O]+1;var D=null,M=new Float32Array(b*e.blockSize);u&&(D=new Uint8Array(b*4));for(var R=0,E=0,B=0,I=0,P=0;P<3;++P){var L=i.points.getRange(P),F=L[1]-L[0];B+=F*F;var G=.5*(L[1]+L[0]);I+=G*G}var $=B>0&&(Math.abs(I)/B>1e6||Math.abs(Math.log10(B))>3||B===0&&I>1e6);if($){for(var H=new Float64Array(3),J=new Float64Array(3),Q=0;Q<3;++Q){var q=i.points.getRange(Q),ne=q[1]-q[0];H[Q]=.5*(q[1]+q[0]),J[Q]=ne>0?1/ne:1}t.setCoordShiftAndScale(H,J)}else e.coordShiftAndScaleEnabled===!0&&t.setCoordShiftAndScale(null,null);d=function(te){if(h=te*3,e.coordShiftAndScaleEnabled?(M[R++]=(s[h++]-e.coordShift[0])*e.coordScale[0],M[R++]=(s[h++]-e.coordShift[1])*e.coordScale[1],M[R++]=(s[h++]-e.coordShift[2])*e.coordScale[2]):(M[R++]=s[h++],M[R++]=s[h++],M[R++]=s[h++]),o!==null&&(i.haveCellNormals?p=(m+i.cellOffset)*3:p=te*3,M[R++]=o[p++],M[R++]=o[p++],M[R++]=o[p++]),e.customData.forEach(function(N){_=te*N.components;for(var U=0;U<N.components;++U)M[R++]=N.data[_++]}),c!==null){v=te*l;for(var A=0;A<l;++A)M[R++]=c[v++]}u!==null&&(i.haveCellScalars?y=(m+i.cellOffset)*f:y=te*f,D[E++]=u[y++],D[E++]=u[y++],D[E++]=u[y++],D[E++]=f===4?u[y++]:255)};for(var re=0;re<T;)w(S[re],S,re+1),re+=S[re]+1,m++;return e.elementCount=b,t.upload(M,si.ARRAY_BUFFER),e.colorBO&&(e.colorBOStride=4,e.colorBO.upload(D,si.ARRAY_BUFFER)),m},t.setCoordShiftAndScale=function(n,r){if(n!==null&&(n.constructor!==Float64Array||n.length!==3)){sf("Wrong type for coordShift, expected vec3 or null");return}if(r!==null&&(r.constructor!==Float64Array||r.length!==3)){sf("Wrong type for coordScale, expected vec3 or null");return}(e.coordShift===null||n===null||!I0(n,e.coordShift))&&(e.coordShift=n),(e.coordScale===null||r===null||!I0(r,e.coordScale))&&(e.coordScale=r),e.coordShiftAndScaleEnabled=z5(e.coordShift,e.coordScale),e.coordShiftAndScaleEnabled?e.inverseShiftAndScaleMatrix=j5(e.coordShift,e.coordScale):e.inverseShiftAndScaleMatrix=null}}var I5={elementCount:0,stride:0,colorBOStride:0,vertexOffset:0,normalOffset:0,tCoordOffset:0,tCoordComponents:0,colorOffset:0,colorComponents:0,tcoordBO:null,customData:[],coordShift:null,coordScale:null,coordShiftAndScaleEnabled:!1,inverseShiftAndScaleMatrix:null};function H1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,I5,n),Nn.extend(t,e,n),W.setGet(t,e,["colorBO","elementCount","stride","colorBOStride","vertexOffset","normalOffset","tCoordOffset","tCoordComponents","colorOffset","colorComponents","customData"]),W.get(t,e,["coordShift","coordScale","coordShiftAndScaleEnabled","inverseShiftAndScaleMatrix"]),W5(t,e)}var $5=W.newInstance(H1),H5={newInstance:$5,extend:H1},K5=W.vtkErrorMacro;function X5(t,e){e.classHierarchy.push("vtkShader"),t.compile=function(){var n=e.context.VERTEX_SHADER;if(!e.source||!e.source.length||e.shaderType==="Unknown")return!1;switch(e.handle!==0&&(e.context.deleteShader(e.handle),e.handle=0),e.shaderType){case"Fragment":n=e.context.FRAGMENT_SHADER;break;case"Vertex":default:n=e.context.VERTEX_SHADER;break}e.handle=e.context.createShader(n),e.context.shaderSource(e.handle,e.source),e.context.compileShader(e.handle);var r=e.context.getShaderParameter(e.handle,e.context.COMPILE_STATUS);if(!r){var a=e.context.getShaderInfoLog(e.handle);return K5("Error compiling shader '".concat(e.source,"': ").concat(a)),e.context.deleteShader(e.handle),e.handle=0,!1}return!0},t.cleanup=function(){e.shaderType==="Unknown"||e.handle===0||(e.context.deleteShader(e.handle),e.handle=0,e.dirty=!0)}}var q5={shaderType:"Unknown",source:"",error:"",handle:0,dirty:!1,context:null};function K1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,q5,n),W.obj(t,e),W.setGet(t,e,["shaderType","source","error","handle","context"]),X5(t,e)}var Y5=W.newInstance(K1,"vtkShader"),Xs={newInstance:Y5,extend:K1},xr=W.vtkErrorMacro;function Z5(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=Array.isArray(n)?n.join(`
`):n,i=!1;t.search(e)!==-1&&(i=!0);var s="";r&&(s="g");var o=new RegExp(e,s),c=t.replace(o,a);return{replace:i,result:c}}function J5(t,e){e.classHierarchy.push("vtkShaderProgram"),t.compileShader=function(){return e.vertexShader.compile()?e.fragmentShader.compile()?!t.attachShader(e.vertexShader)||!t.attachShader(e.fragmentShader)?(xr(e.error),0):t.link()?(t.setCompiled(!0),1):(xr("Links failed: ".concat(e.error)),0):(xr(e.fragmentShader.getSource().split(`
`).map(function(n,r){return"".concat(r,": ").concat(n)}).join(`
`)),xr(e.fragmentShader.getError()),0):(xr(e.vertexShader.getSource().split(`
`).map(function(n,r){return"".concat(r,": ").concat(n)}).join(`
`)),xr(e.vertexShader.getError()),0)},t.cleanup=function(){e.shaderType==="Unknown"||e.handle===0||(e.context.deleteShader(e.handle),e.handle=0)},t.bind=function(){return!e.linked&&!t.link()?!1:(e.context.useProgram(e.handle),t.setBound(!0),!0)},t.isBound=function(){return!!e.bound},t.release=function(){e.context.useProgram(null),t.setBound(!1)},t.setContext=function(n){e.vertexShader.setContext(n),e.fragmentShader.setContext(n),e.geometryShader.setContext(n)},t.link=function(){if(e.inked)return!0;if(e.handle===0)return e.error="Program has not been initialized, and/or does not have shaders.",!1;e.uniformLocs={},e.context.linkProgram(e.handle);var n=e.context.getProgramParameter(e.handle,e.context.LINK_STATUS);if(!n){var r=e.context.getProgramInfoLog(e.handle);return xr("Error linking shader ".concat(r)),e.handle=0,!1}return t.setLinked(!0),e.attributeLocs={},!0},t.setUniformMatrix=function(n,r){var a=t.findUniform(n);if(a===-1)return e.error="Could not set uniform ".concat(n," . No such uniform."),!1;var i=new Float32Array(r);return e.context.uniformMatrix4fv(a,!1,i),!0},t.setUniformMatrix3x3=function(n,r){var a=t.findUniform(n);if(a===-1)return e.error="Could not set uniform ".concat(n," . No such uniform."),!1;var i=new Float32Array(r);return e.context.uniformMatrix3fv(a,!1,i),!0},t.setUniformf=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform1f(a,r),!0)},t.setUniformfv=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform1fv(a,r),!0)},t.setUniformi=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform1i(a,r),!0)},t.setUniformiv=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform1iv(a,r),!0)},t.setUniform2f=function(n,r,a){var i=t.findUniform(n);if(i===-1)return e.error="Could not set uniform ".concat(n," . No such uniform."),!1;if(a===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform2f(i,r,a),!0},t.setUniform2fv=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform2fv(a,r),!0)},t.setUniform2i=function(n,r,a){var i=t.findUniform(n);if(i===-1)return e.error="Could not set uniform ".concat(n," . No such uniform."),!1;if(a===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform2i(i,r,a),!0},t.setUniform2iv=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform2iv(a,r),!0)},t.setUniform3f=function(n,r,a,i){var s=t.findUniform(n);if(s===-1)return e.error="Could not set uniform ".concat(n," . No such uniform."),!1;if(i===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform3f(s,r,a,i),!0},t.setUniform3fArray=function(n,r){var a=t.findUniform(n);if(a===-1)return e.error="Could not set uniform ".concat(n," . No such uniform."),!1;if(!Array.isArray(r)||r.length!==3)throw new RangeError("Invalid number of values for array");return e.context.uniform3f(a,r[0],r[1],r[2]),!0},t.setUniform3fv=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform3fv(a,r),!0)},t.setUniform3i=function(n){var r=t.findUniform(n);if(r===-1)return e.error="Could not set uniform ".concat(n," . No such uniform."),!1;for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];var o=i;if(o.length===1&&Array.isArray(o[0])&&(o=o[0]),o.length!==3)throw new RangeError("Invalid number of values for array");return e.context.uniform3i(r,o[0],o[1],o[2]),!0},t.setUniform3iv=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform3iv(a,r),!0)},t.setUniform4f=function(n){var r=t.findUniform(n);if(r===-1)return e.error="Could not set uniform ".concat(n," . No such uniform."),!1;for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];var o=i;if(o.length===1&&Array.isArray(o[0])&&(o=o[0]),o.length!==4)throw new RangeError("Invalid number of values for array");return e.context.uniform4f(r,o[0],o[1],o[2],o[3]),!0},t.setUniform4fv=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform4fv(a,r),!0)},t.setUniform4i=function(n){var r=t.findUniform(n);if(r===-1)return e.error="Could not set uniform ".concat(n," . No such uniform."),!1;for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];var o=i;if(o.length===1&&Array.isArray(o[0])&&(o=o[0]),o.length!==4)throw new RangeError("Invalid number of values for array");return e.context.uniform4i(r,o[0],o[1],o[2],o[3]),!0},t.setUniform4iv=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform4iv(a,r),!0)},t.findUniform=function(n){if(!n||!e.linked)return-1;var r=e.uniformLocs[n];return r!==void 0?r:(r=e.context.getUniformLocation(e.handle,n),r===null?(e.error="Uniform ".concat(n," not found in current shader program."),e.uniformLocs[n]=-1,-1):(e.uniformLocs[n]=r,r))},t.isUniformUsed=function(n){if(!n)return!1;var r=e.uniformLocs[n];return r!==void 0?r!==null:e.linked?(r=e.context.getUniformLocation(e.handle,n),e.uniformLocs[n]=r,r!==null):(xr("attempt to find uniform when the shader program is not linked"),!1)},t.isAttributeUsed=function(n){if(!n)return!1;var r=Object.keys(e.attributeLocs).indexOf(n);return r!==-1?!0:e.linked?(r=e.context.getAttribLocation(e.handle,n),r===-1?!1:(e.attributeLocs[n]=r,!0)):(xr("attempt to find uniform when the shader program is not linked"),!1)},t.attachShader=function(n){if(n.getHandle()===0)return e.error="Shader object was not initialized, cannot attach it.",!1;if(n.getShaderType()==="Unknown")return e.error="Shader object is of type Unknown and cannot be used.",!1;if(e.handle===0){var r=e.context.createProgram();if(r===0)return e.error="Could not create shader program.",!1;e.handle=r,e.linked=!1}return n.getShaderType()==="Vertex"&&(e.vertexShaderHandle!==0&&e.comntext.detachShader(e.handle,e.vertexShaderHandle),e.vertexShaderHandle=n.getHandle()),n.getShaderType()==="Fragment"&&(e.fragmentShaderHandle!==0&&e.context.detachShader(e.handle,e.fragmentShaderHandle),e.fragmentShaderHandle=n.getHandle()),e.context.attachShader(e.handle,n.getHandle()),t.setLinked(!1),!0},t.detachShader=function(n){if(n.getHandle()===0)return e.error="shader object was not initialized, cannot attach it.",!1;if(n.getShaderType()==="Unknown")return e.error="Shader object is of type Unknown and cannot be used.",!1;switch(e.handle===0&&(e.error="This shader program has not been initialized yet."),n.getShaderType()){case"Vertex":return e.vertexShaderHandle!==n.getHandle()?(e.error="The supplied shader was not attached to this program.",!1):(e.context.detachShader(e.handle,n.getHandle()),e.vertexShaderHandle=0,e.linked=!1,!0);case"Fragment":return e.fragmentShaderHandle!==n.getHandle()?(e.error="The supplied shader was not attached to this program.",!1):(e.context.detachShader(e.handle,n.getHandle()),e.fragmentShaderHandle=0,e.linked=!1,!0);default:return!1}},t.setContext=function(n){e.context=n,e.vertexShader.setContext(n),e.fragmentShader.setContext(n),e.geometryShader.setContext(n)},t.setLastCameraMTime=function(n){e.lastCameraMTime=n}}var Q5={vertexShaderHandle:0,fragmentShaderHandle:0,geometryShaderHandle:0,vertexShader:null,fragmentShader:null,geometryShader:null,linked:!1,bound:!1,compiled:!1,error:"",handle:0,numberOfOutputs:0,attributesLocs:null,uniformLocs:null,md5Hash:0,context:null,lastCameraMTime:null};function X1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Q5,n),e.attributesLocs={},e.uniformLocs={},e.vertexShader=Xs.newInstance(),e.vertexShader.setShaderType("Vertex"),e.fragmentShader=Xs.newInstance(),e.fragmentShader.setShaderType("Fragment"),e.geometryShader=Xs.newInstance(),e.geometryShader.setShaderType("Geometry"),W.obj(t,e),W.get(t,e,["lastCameraMTime"]),W.setGet(t,e,["error","handle","compiled","bound","md5Hash","vertexShader","fragmentShader","geometryShader","linked"]),J5(t,e)}var e4=W.newInstance(X1,"vtkShaderProgram"),fe={newInstance:e4,extend:X1,substitute:Z5};function t4(t,e){e.classHierarchy.push("vtkOpenGLVertexArrayObject"),t.exposedMethod=function(){},t.initialize=function(){e.instancingExtension=null,e._openGLRenderWindow.getWebgl2()||(e.instancingExtension=e.context.getExtension("ANGLE_instanced_arrays")),!e.forceEmulation&&e._openGLRenderWindow&&e._openGLRenderWindow.getWebgl2()?(e.extension=null,e.supported=!0,e.handleVAO=e.context.createVertexArray()):(e.extension=e.context.getExtension("OES_vertex_array_object"),!e.forceEmulation&&e.extension?(e.supported=!0,e.handleVAO=e.extension.createVertexArrayOES()):e.supported=!1)},t.isReady=function(){return e.handleVAO!==0||e.supported===!1},t.bind=function(){if(t.isReady()||t.initialize(),t.isReady()&&e.supported)e.extension?e.extension.bindVertexArrayOES(e.handleVAO):e.context.bindVertexArray(e.handleVAO);else if(t.isReady())for(var n=e.context,r=0;r<e.buffers.length;++r){var a=e.buffers[r];e.context.bindBuffer(n.ARRAY_BUFFER,a.buffer);for(var i=0;i<a.attributes.length;++i)for(var s=a.attributes[i],o=s.isMatrix?s.size:1,c=0;c<o;++c)n.enableVertexAttribArray(s.index+c),n.vertexAttribPointer(s.index+c,s.size,s.type,s.normalize,s.stride,s.offset+s.stride*c/s.size),s.divisor>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(s.index+c,1):n.vertexAttribDivisor(s.index+c,1))}},t.release=function(){if(t.isReady()&&e.supported)e.extension?e.extension.bindVertexArrayOES(null):e.context.bindVertexArray(null);else if(t.isReady())for(var n=e.context,r=0;r<e.buffers.length;++r){var a=e.buffers[r];e.context.bindBuffer(n.ARRAY_BUFFER,a.buffer);for(var i=0;i<a.attributes.length;++i)for(var s=a.attributes[i],o=s.isMatrix?s.size:1,c=0;c<o;++c)n.enableVertexAttribArray(s.index+c),n.vertexAttribPointer(s.index+c,s.size,s.type,s.normalize,s.stride,s.offset+s.stride*c/s.size),s.divisor>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(s.index+c,0):n.vertexAttribDivisor(s.index+c,0)),n.disableVertexAttribArray(s.index+c)}},t.shaderProgramChanged=function(){t.release(),e.handleVAO&&(e.extension?e.extension.deleteVertexArrayOES(e.handleVAO):e.context.deleteVertexArray(e.handleVAO)),e.handleVAO=0,e.handleProgram=0},t.releaseGraphicsResources=function(){t.shaderProgramChanged(),e.handleVAO&&(e.extension?e.extension.deleteVertexArrayOES(e.handleVAO):e.context.deleteVertexArray(e.handleVAO)),e.handleVAO=0,e.supported=!0,e.handleProgram=0},t.addAttributeArray=function(n,r,a,i,s,o,c,u){return t.addAttributeArrayWithDivisor(n,r,a,i,s,o,c,u,0,!1)},t.addAttributeArrayWithDivisor=function(n,r,a,i,s,o,c,u,f,l){if(!n||!n.isBound()||r.getHandle()===0||r.getType()!==si.ARRAY_BUFFER||(e.handleProgram===0&&(e.handleProgram=n.getHandle()),t.isReady()||t.initialize(),!t.isReady()||e.handleProgram!==n.getHandle()))return!1;var h=e.context,p={};if(p.name=a,p.index=h.getAttribLocation(e.handleProgram,a),p.offset=i,p.stride=s,p.type=o,p.size=c,p.normalize=u,p.isMatrix=l,p.divisor=f,p.Index===-1)return!1;if(r.bind(),h.enableVertexAttribArray(p.index),h.vertexAttribPointer(p.index,p.size,p.type,p.normalize,p.stride,p.offset),f>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(p.index,1):h.vertexAttribDivisor(p.index,1)),p.buffer=r.getHandle(),!e.supported){for(var v=!1,y=0;y<e.buffers.length;++y){var _=e.buffers[y];if(_.buffer===p.buffer){v=!0;for(var m=!1,d=0;d<_.attributes.length;++d){var g=_.attributes[d];g.name===a&&(m=!0,_.attributes[d]=p)}m||_.attributes.push(p)}}v||e.buffers.push({buffer:p.buffer,attributes:[p]})}return!0},t.addAttributeMatrixWithDivisor=function(n,r,a,i,s,o,c,u,f){var l=t.addAttributeArrayWithDivisor(n,r,a,i,s,o,c,u,f,!0);if(!l)return l;for(var h=e.context,p=h.getAttribLocation(e.handleProgram,a),v=1;v<c;v++)h.enableVertexAttribArray(p+v),h.vertexAttribPointer(p+v,c,o,u,s,i+s*v/c),f>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(p+v,1):h.vertexAttribDivisor(p+v,1));return!0},t.removeAttributeArray=function(n){if(!t.isReady()||e.handleProgram===0)return!1;if(!e.supported)for(var r=0;r<e.buffers.length;++r)for(var a=e.buffers[r],i=0;i<a.attributes.length;++i){var s=a.attributes[i];if(s.name===n)return a.attributes.splice(i,1),a.attributes.length||e.buffers.splice(r,1),!0}return!0},t.setOpenGLRenderWindow=function(n){e._openGLRenderWindow!==n&&(t.releaseGraphicsResources(),e._openGLRenderWindow=n,e.context=null,n&&(e.context=e._openGLRenderWindow.getContext()))}}var r4={forceEmulation:!1,handleVAO:0,handleProgram:0,supported:!0,buffers:null,context:null};function q1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,r4,n),e.buffers=[],W.obj(t,e),W.get(t,e,["supported"]),W.setGet(t,e,["forceEmulation"]),t4(t,e)}var n4=W.newInstance(q1,"vtkOpenGLVertexArrayObject"),qu={newInstance:n4,extend:q1},ia={Start:0,Points:0,Lines:1,Tris:2,TriStrips:3,TrisEdges:4,TriStripsEdges:5,End:6};function a4(t,e){e.classHierarchy.push("vtkOpenGLHelper"),t.setOpenGLRenderWindow=function(n){e.context=n.getContext(),e.program.setContext(e.context),e.VAO.setOpenGLRenderWindow(n),e.CABO.setOpenGLRenderWindow(n)},t.releaseGraphicsResources=function(n){e.VAO.releaseGraphicsResources(),e.CABO.releaseGraphicsResources(),e.CABO.setElementCount(0)},t.drawArrays=function(n,r,a,i){if(e.CABO.getElementCount()){var s=t.getOpenGLMode(a),o=t.haveWideLines(n,r),c=e.context,u=s===c.LINES;u&&o?(t.updateShaders(n,r,i),c.drawArraysInstanced(s,0,e.CABO.getElementCount(),2*Math.ceil(r.getProperty().getLineWidth()))):(c.lineWidth(r.getProperty().getLineWidth()),t.updateShaders(n,r,i),c.drawArrays(s,0,e.CABO.getElementCount()),c.lineWidth(1));var f=(s===c.POINTS?1:0)||(s===c.LINES?2:3);return e.CABO.getElementCount()/f}return 0},t.getOpenGLMode=function(n){var r=e.primitiveType;return n===Wt.POINTS||r===ia.Points?e.context.POINTS:n===Wt.WIREFRAME||r===ia.Lines||r===ia.TrisEdges||r===ia.TriStripsEdges?e.context.LINES:e.context.TRIANGLES},t.haveWideLines=function(n,r){return r.getProperty().getLineWidth()>1?!(e.CABO.getOpenGLRenderWindow()&&e.CABO.getOpenGLRenderWindow().getHardwareMaximumLineWidth()>=r.getProperty().getLineWidth()):!1},t.getNeedToRebuildShaders=function(n,r,a){return!!(a.getNeedToRebuildShaders(t,n,r)||t.getProgram()===0||t.getShaderSourceTime().getMTime()<a.getMTime()||t.getShaderSourceTime().getMTime()<r.getMTime())},t.updateShaders=function(n,r,a){if(t.getNeedToRebuildShaders(n,r,a)){var i={Vertex:null,Fragment:null,Geometry:null};a.buildShaders(i,n,r);var s=e.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);s!==t.getProgram()&&(t.setProgram(s),t.getVAO().releaseGraphicsResources()),t.getShaderSourceTime().modified()}else e.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgram(t.getProgram());t.getVAO().bind(),a.setMapperShaderParameters(t,n,r),a.setPropertyShaderParameters(t,n,r),a.setCameraShaderParameters(t,n,r),a.setLightingShaderParameters(t,n,r),a.invokeShaderCallbacks(t,n,r)},t.setMapperShaderParameters=function(n,r,a){if(t.haveWideLines(n,r)){t.getProgram().setUniform2f("viewportSize",a.usize,a.vsize);var i=parseFloat(r.getProperty().getLineWidth()),s=i/2;t.getProgram().setUniformf("lineWidthStepSize",i/Math.ceil(i)),t.getProgram().setUniformf("halfLineWidth",s)}},t.replaceShaderPositionVC=function(n,r,a){var i=n.Vertex;t.getOpenGLMode(a.getProperty().getRepresentation())===e.context.LINES&&t.haveWideLines(r,a)&&(i=fe.substitute(i,"//VTK::PositionVC::Dec",["//VTK::PositionVC::Dec","uniform vec2 viewportSize;","uniform float lineWidthStepSize;","uniform float halfLineWidth;"]).result,i=fe.substitute(i,"//VTK::PositionVC::Impl",["//VTK::PositionVC::Impl"," if (halfLineWidth > 0.0)","   {","   float offset = float(gl_InstanceID / 2) * lineWidthStepSize - halfLineWidth;","   vec4 tmpPos = gl_Position;","   vec3 tmpPos2 = tmpPos.xyz / tmpPos.w;","   tmpPos2.x = tmpPos2.x + 2.0 * mod(float(gl_InstanceID), 2.0) * offset / viewportSize[0];","   tmpPos2.y = tmpPos2.y + 2.0 * mod(float(gl_InstanceID + 1), 2.0) * offset / viewportSize[1];","   gl_Position = vec4(tmpPos2.xyz * tmpPos.w, tmpPos.w);","   }"]).result),(a.getProperty().getRepresentation()===Wt.POINTS||e.primitiveType===ia.Points)&&(i=fe.substitute(i,"//VTK::PositionVC::Impl",["//VTK::PositionVC::Impl","  gl_PointSize = ".concat(a.getProperty().getPointSize(),".0;")],!1).result),n.Vertex=i}}var i4={context:null,program:null,shaderSourceTime:null,VAO:null,attributeUpdateTime:null,CABO:null,primitiveType:0};function Y1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,i4,n),W.obj(t,e),e.shaderSourceTime={},W.obj(e.shaderSourceTime),e.attributeUpdateTime={},W.obj(e.attributeUpdateTime),W.setGet(t,e,["program","shaderSourceTime","VAO","attributeUpdateTime","CABO","primitiveType"]),e.program=fe.newInstance(),e.VAO=qu.newInstance(),e.CABO=H5.newInstance(),a4(t,e)}var o4=W.newInstance(Y1),pn={newInstance:o4,extend:Y1,primTypes:ia},yi={CLAMP_TO_EDGE:0,REPEAT:1,MIRRORED_REPEAT:2},Qe={NEAREST:0,LINEAR:1,NEAREST_MIPMAP_NEAREST:2,NEAREST_MIPMAP_LINEAR:3,LINEAR_MIPMAP_NEAREST:4,LINEAR_MIPMAP_LINEAR:5},Yu={Wrap:yi,Filter:Qe},Z1=new Float32Array(1),s4=new Int32Array(Z1.buffer);function u4(t){Z1[0]=t;var e=s4[0],n=e>>16&32768,r=e>>12&2047,a=e>>23&255;return a<103?n:a>142?(n|=31744,n|=(a===255?0:1)&&e&8388607,n):a<113?(r|=2048,n|=(r>>114-a)+(r>>113-a&1),n):(n|=a-112<<10|r>>1,n+=r&1,n)}function c4(t){var e=(t&32768)>>15,n=(t&31744)>>10,r=t&1023;return n===0?(e?-1:1)*Math.pow(2,-14)*(r/Math.pow(2,10)):n===31?r?NaN:(e?-1:1)*(1/0):(e?-1:1)*Math.pow(2,n-15)*(1+r/Math.pow(2,10))}var Yn={fromHalf:c4,toHalf:u4};function uf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function f4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Vr=Yu.Wrap,wt=Yu.Filter,Je=Ee.VtkDataTypes,qs=Gn,Zn=Re,l4=Ui;function h4(t,e){var n=this;e.classHierarchy.push("vtkOpenGLTexture"),t.render=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(c?e._openGLRenderWindow=c:(e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent()),e.context=e._openGLRenderWindow.getContext(),e.renderable.getInterpolate()?(e.generateMipmap?t.setMinificationFilter(wt.LINEAR_MIPMAP_LINEAR):t.setMinificationFilter(wt.LINEAR),t.setMagnificationFilter(wt.LINEAR)):(t.setMinificationFilter(wt.NEAREST),t.setMagnificationFilter(wt.NEAREST)),e.renderable.getRepeat()&&(t.setWrapR(Vr.REPEAT),t.setWrapS(Vr.REPEAT),t.setWrapT(Vr.REPEAT)),e.renderable.getInputData()&&e.renderable.setImage(null),!e.handle||e.renderable.getMTime()>e.textureBuildTime.getMTime()){if(e.renderable.getImage()!==null&&(e.renderable.getInterpolate()&&(e.generateMipmap=!0,t.setMinificationFilter(wt.LINEAR_MIPMAP_LINEAR)),e.renderable.getImage()&&e.renderable.getImageLoaded()&&(t.create2DFromImage(e.renderable.getImage()),t.activate(),t.sendParameters(),e.textureBuildTime.modified())),e.renderable.getCanvas()!==null){e.renderable.getInterpolate()&&(e.generateMipmap=!0,t.setMinificationFilter(wt.LINEAR_MIPMAP_LINEAR));var u=e.renderable.getCanvas();t.create2DFromRaw(u.width,u.height,4,Je.UNSIGNED_CHAR,u,!0),t.activate(),t.sendParameters(),e.textureBuildTime.modified()}if(e.renderable.getJsImageData()!==null){var f=e.renderable.getJsImageData();e.renderable.getInterpolate()&&(e.generateMipmap=!0,t.setMinificationFilter(wt.LINEAR_MIPMAP_LINEAR)),t.create2DFromRaw(f.width,f.height,4,Je.UNSIGNED_CHAR,f.data,!0),t.activate(),t.sendParameters(),e.textureBuildTime.modified()}var l=e.renderable.getInputData(0);if(l&&l.getPointData().getScalars()){for(var h=l.getExtent(),p=l.getPointData().getScalars(),v=[],y=0;y<e.renderable.getNumberOfInputPorts();++y){var _=e.renderable.getInputData(y),m=_?_.getPointData().getScalars().getData():null;m&&v.push(m)}e.renderable.getInterpolate()&&p.getNumberOfComponents()===4&&(e.generateMipmap=!0,t.setMinificationFilter(wt.LINEAR_MIPMAP_LINEAR)),v.length%6===0?t.createCubeFromRaw(h[1]-h[0]+1,h[3]-h[2]+1,p.getNumberOfComponents(),p.getDataType(),v):t.create2DFromRaw(h[1]-h[0]+1,h[3]-h[2]+1,p.getNumberOfComponents(),p.getDataType(),p.getData()),t.activate(),t.sendParameters(),e.textureBuildTime.modified()}}e.handle&&t.activate()},t.destroyTexture=function(){t.deactivate(),e.context&&e.handle&&e.context.deleteTexture(e.handle),e.handle=0,e.numberOfDimensions=0,e.target=0,e.components=0,e.width=0,e.height=0,e.depth=0,t.resetFormatAndType()},t.createTexture=function(){e.handle||(e.handle=e.context.createTexture(),e.target&&(e.context.bindTexture(e.target,e.handle),e.context.texParameteri(e.target,e.context.TEXTURE_MIN_FILTER,t.getOpenGLFilterMode(e.minificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_MAG_FILTER,t.getOpenGLFilterMode(e.magnificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_S,t.getOpenGLWrapMode(e.wrapS)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_T,t.getOpenGLWrapMode(e.wrapT)),e._openGLRenderWindow.getWebgl2()&&e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_R,t.getOpenGLWrapMode(e.wrapR)),e.context.bindTexture(e.target,null)))},t.getTextureUnit=function(){return e._openGLRenderWindow?e._openGLRenderWindow.getTextureUnitForTexture(t):-1},t.activate=function(){e._openGLRenderWindow.activateTexture(t),t.bind()},t.deactivate=function(){e._openGLRenderWindow&&e._openGLRenderWindow.deactivateTexture(t)},t.releaseGraphicsResources=function(c){c&&e.handle&&(c.activateTexture(t),c.deactivateTexture(t),e.context.deleteTexture(e.handle),e.handle=0,e.numberOfDimensions=0,e.target=0,e.internalFormat=0,e.format=0,e.openGLDataType=0,e.components=0,e.width=0,e.height=0,e.depth=0),e.shaderProgram&&(e.shaderProgram.releaseGraphicsResources(c),e.shaderProgram=null)},t.bind=function(){e.context.bindTexture(e.target,e.handle),e.autoParameters&&t.getMTime()>e.sendParametersTime.getMTime()&&t.sendParameters()},t.isBound=function(){var c=!1;if(e.context&&e.handle){var u=0;switch(e.target){case e.context.TEXTURE_2D:u=e.context.TEXTURE_BINDING_2D;break;default:l4("impossible case");break}var f=e.context.getIntegerv(u);c=f===e.handle}return c},t.sendParameters=function(){e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_S,t.getOpenGLWrapMode(e.wrapS)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_T,t.getOpenGLWrapMode(e.wrapT)),e._openGLRenderWindow.getWebgl2()&&e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_R,t.getOpenGLWrapMode(e.wrapR)),e.context.texParameteri(e.target,e.context.TEXTURE_MIN_FILTER,t.getOpenGLFilterMode(e.minificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_MAG_FILTER,t.getOpenGLFilterMode(e.magnificationFilter)),e._openGLRenderWindow.getWebgl2()&&(e.context.texParameteri(e.target,e.context.TEXTURE_BASE_LEVEL,e.baseLevel),e.context.texParameteri(e.target,e.context.TEXTURE_MAX_LEVEL,e.maxLevel)),e.sendParametersTime.modified()},t.getInternalFormat=function(c,u){return e.internalFormat||(e.internalFormat=t.getDefaultInternalFormat(c,u)),e.internalFormat||qs("Unable to find suitable internal format for T=".concat(c," NC= ").concat(u)),e.internalFormat},t.getDefaultInternalFormat=function(c,u){var f=0;return f=e._openGLRenderWindow.getDefaultTextureInternalFormat(c,u,!1),f||(f=n._openGLRenderWindow.getDefaultTextureInternalFormat(c,u,!0),f||(qs("Unsupported internal texture type!"),qs("Unable to find suitable internal format for T=".concat(c," NC= ").concat(u))),f)},t.setInternalFormat=function(c){c!==e.internalFormat&&(e.internalFormat=c,t.modified())},t.getFormat=function(c,u){return e.format=t.getDefaultFormat(c,u),e.format},t.getDefaultFormat=function(c,u){if(e._openGLRenderWindow.getWebgl2())switch(u){case 1:return e.context.RED;case 2:return e.context.RG;case 3:return e.context.RGB;case 4:return e.context.RGBA;default:return e.context.RGB}else switch(u){case 1:return e.context.LUMINANCE;case 2:return e.context.LUMINANCE_ALPHA;case 3:return e.context.RGB;case 4:return e.context.RGBA;default:return e.context.RGB}},t.resetFormatAndType=function(){e.format=0,e.internalFormat=0,e.openGLDataType=0},t.getDefaultDataType=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e._openGLRenderWindow.getWebgl2())switch(c){case Je.UNSIGNED_CHAR:return e.context.UNSIGNED_BYTE;case(u&&Je.SHORT):return e.context.HALF_FLOAT;case(u&&Je.UNSIGNED_SHORT):return e.context.HALF_FLOAT;case Je.FLOAT:case Je.VOID:default:return e.context.FLOAT}switch(c){case Je.UNSIGNED_CHAR:return e.context.UNSIGNED_BYTE;case Je.FLOAT:case Je.VOID:default:if(e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear"))return e.context.FLOAT;{var f=e.context.getExtension("OES_texture_half_float");if(f&&e.context.getExtension("OES_texture_half_float_linear"))return f.HALF_FLOAT_OES}return e.context.UNSIGNED_BYTE}},t.getOpenGLDataType=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return e.openGLDataType||(e.openGLDataType=t.getDefaultDataType(c,u)),e.openGLDataType},t.getShiftAndScale=function(){var c=0,u=1;switch(e.openGLDataType){case e.context.BYTE:u=127.5,c=u-128;break;case e.context.UNSIGNED_BYTE:u=255,c=0;break;case e.context.SHORT:u=32767.5,c=u-32768;break;case e.context.UNSIGNED_SHORT:u=65536,c=0;break;case e.context.INT:u=21474836475e-1,c=u-2147483648;break;case e.context.UNSIGNED_INT:u=4294967295,c=0;break;case e.context.FLOAT:}return{shift:c,scale:u}},t.getOpenGLFilterMode=function(c){switch(c){case wt.NEAREST:return e.context.NEAREST;case wt.LINEAR:return e.context.LINEAR;case wt.NEAREST_MIPMAP_NEAREST:return e.context.NEAREST_MIPMAP_NEAREST;case wt.NEAREST_MIPMAP_LINEAR:return e.context.NEAREST_MIPMAP_LINEAR;case wt.LINEAR_MIPMAP_NEAREST:return e.context.LINEAR_MIPMAP_NEAREST;case wt.LINEAR_MIPMAP_LINEAR:return e.context.LINEAR_MIPMAP_LINEAR;default:return e.context.NEAREST}},t.getOpenGLWrapMode=function(c){switch(c){case Vr.CLAMP_TO_EDGE:return e.context.CLAMP_TO_EDGE;case Vr.REPEAT:return e.context.REPEAT;case Vr.MIRRORED_REPEAT:return e.context.MIRRORED_REPEAT;default:return e.context.CLAMP_TO_EDGE}};function r(c,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=[],h=e.width*e.height*e.components;if(f&&(h*=e.depth),c!==Je.FLOAT&&e.openGLDataType===e.context.FLOAT)for(var p=0;p<u.length;p++)if(u[p]){for(var v=new Float32Array(h),y=0;y<h;y++)v[y]=u[p][y];l.push(v)}else l.push(null);if(c!==Je.UNSIGNED_CHAR&&e.openGLDataType===e.context.UNSIGNED_BYTE)for(var _=0;_<u.length;_++)if(u[_]){for(var m=new Uint8Array(h),d=0;d<h;d++)m[d]=u[_][d];l.push(m)}else l.push(null);var g=e.context.getExtension("OES_texture_half_float"),x=e._openGLRenderWindow.getWebgl2()?e.openGLDataType===e.context.HALF_FLOAT:g&&e.openGLDataType===g.HALF_FLOAT_OES;if(x)for(var w=0;w<u.length;w++)if(u[w]){for(var C=new Uint16Array(h),S=0;S<h;S++)C[S]=Yn.toHalf(u[w][S]);l.push(C)}else l.push(null);if(l.length===0)for(var T=0;T<u.length;T++)l.push(u[T]);return l}function a(c){if(e._openGLRenderWindow.getWebgl2())return c;var u=[],f=e.width,l=e.height,h=e.components;if(c&&(!Ji(f)||!Ji(l)))for(var p=e.context.getExtension("OES_texture_half_float"),v=gr(f),y=gr(l),_=v*y*e.components,m=0;m<c.length;m++)if(c[m]!==null){var d=null,g=l/y,x=f/v,w=!1;e.openGLDataType===e.context.FLOAT?d=new Float32Array(_):p&&e.openGLDataType===p.HALF_FLOAT_OES?(d=new Uint16Array(_),w=!0):d=new Uint8Array(_);for(var C=0;C<y;C++){var S=C*v*h,T=C*g,b=Math.floor(T),O=Math.ceil(T);O>=l&&(O=l-1);var D=T-b,M=1-D;b=b*f*h,O=O*f*h;for(var R=0;R<v;R++){var E=R*h,B=R*x,I=Math.floor(B),P=Math.ceil(B);P>=f&&(P=f-1);var L=B-I;I*=h,P*=h;for(var F=0;F<h;F++)w?d[S+E+F]=Yn.toHalf(Yn.fromHalf(c[m][b+I+F])*M*(1-L)+Yn.fromHalf(c[m][b+P+F])*M*L+Yn.fromHalf(c[m][O+I+F])*D*(1-L)+Yn.fromHalf(c[m][O+P+F])*D*L):d[S+E+F]=c[m][b+I+F]*M*(1-L)+c[m][b+P+F]*M*L+c[m][O+I+F]*D*(1-L)+c[m][O+P+F]*D*L}}u.push(d),e.width=v,e.height=y}else u.push(null);if(u.length===0)for(var G=0;G<c.length;G++)u.push(c[G]);return u}t.create2DFromRaw=function(c,u,f,l,h){var p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(t.getOpenGLDataType(l),t.getInternalFormat(l,f),t.getFormat(l,f),!e.internalFormat||!e.format||!e.openGLDataType)return Zn("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=f,e.width=c,e.height=u,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind();var v=[h],y=r(l,v),_=a(y);return e.context.pixelStorei(e.context.UNPACK_FLIP_Y_WEBGL,p),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,_[0]),e.generateMipmap&&e.context.generateMipmap(e.target),p&&e.context.pixelStorei(e.context.UNPACK_FLIP_Y_WEBGL,!1),t.deactivate(),!0},t.createCubeFromRaw=function(c,u,f,l,h){if(t.getOpenGLDataType(l),t.getInternalFormat(l,f),t.getFormat(l,f),!e.internalFormat||!e.format||!e.openGLDataType)return Zn("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_CUBE_MAP,e.components=f,e.width=c,e.height=u,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),e.maxLevel=h.length/6-1,t.createTexture(),t.bind();for(var p=r(l,h),v=a(p),y=[],_=e.width,m=e.height,d=0;d<v.length;d++){d%6===0&&d!==0&&(_/=2,m/=2),y[d]=zu(l,m*_*e.components);for(var g=0;g<m;++g){var x=g*_*e.components,w=(m-g-1)*_*e.components;y[d].set(v[d].slice(w,w+_*e.components),x)}}e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1);for(var C=0;C<6;C++)for(var S=0,T=e.width,b=e.height;T>=1&&b>=1;){var O=null;S<=e.maxLevel&&(O=y[6*S+C]),e.context.texImage2D(e.context.TEXTURE_CUBE_MAP_POSITIVE_X+C,S,e.internalFormat,T,b,0,e.format,e.openGLDataType,O),S++,T/=2,b/=2}return t.deactivate(),!0},t.createDepthFromRaw=function(c,u,f,l){return t.getOpenGLDataType(f),e.format=e.context.DEPTH_COMPONENT,e._openGLRenderWindow.getWebgl2()?f===Je.FLOAT?e.internalFormat=e.context.DEPTH_COMPONENT32F:e.internalFormat=e.context.DEPTH_COMPONENT16:e.internalFormat=e.context.DEPTH_COMPONENT,!e.internalFormat||!e.format||!e.openGLDataType?(Zn("Failed to determine texture parameters."),!1):(e.target=e.context.TEXTURE_2D,e.components=1,e.width=c,e.height=u,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,l),e.generateMipmap&&e.context.generateMipmap(e.target),t.deactivate(),!0)},t.create2DFromImage=function(c){if(t.getOpenGLDataType(Je.UNSIGNED_CHAR),t.getInternalFormat(Je.UNSIGNED_CHAR,4),t.getFormat(Je.UNSIGNED_CHAR,4),!e.internalFormat||!e.format||!e.openGLDataType)return Zn("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=4,e.width=c.width,e.height=c.height,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1);var u=!Ji(c.width)||!Ji(c.height),f=document.createElement("canvas");f.width=u?gr(c.width):c.width,f.height=u?gr(c.height):c.height;var l=f.getContext("2d");l.translate(0,f.height),l.scale(1,-1),l.drawImage(c,0,0,c.width,c.height,0,0,f.width,f.height);var h=f;return e.context.texImage2D(e.target,0,e.internalFormat,e.format,e.openGLDataType,h),e.generateMipmap&&e.context.generateMipmap(e.target),t.deactivate(),!0};function i(c,u,f){for(var l=[],h=[],p=0;p<c;++p)l[p]=f[p],h[p]=f[p];for(var v=0,y=0;y<u;++y)for(var _=0;_<c;++_)f[v]<l[_]&&(l[_]=f[v]),f[v]>h[_]&&(h[_]=f[v]),v++;for(var m=[],d=[],g=0;g<c;++g)l[g]===h[g]&&(h[g]=l[g]+1),m[g]=l[g],d[g]=h[g]-l[g];return{scale:d,offset:m}}function s(c,u){for(var f=0;f<c.length;f++){var l=c[f],h=u[f]+l;if(l<-2048||l>2048||h<-2048||h>2048)return!1}return!0}function o(c,u,f,l){var h=!0;t.getOpenGLDataType(c,h);var p=e.context.getExtension("OES_texture_half_float"),v=e._openGLRenderWindow.getWebgl2()?e.openGLDataType===e.context.HALF_FLOAT:p&&e.openGLDataType===p.HALF_FLOAT_OES;return!(!v||!s(u,f)&&!l)}t.create3DFromRaw=function(c,u,f,l,h,p){var v=!0;if(t.getOpenGLDataType(h,v),t.getInternalFormat(h,l),t.getFormat(h,l),!e.internalFormat||!e.format||!e.openGLDataType)return Zn("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_3D,e.components=l,e.width=c,e.height=u,e.depth=f,e.numberOfDimensions=3,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind();var y=[p],_=!0,m=r(h,y,_),d=a(m);return e.context.texImage3D(e.target,0,e.internalFormat,e.width,e.height,e.depth,0,e.format,e.openGLDataType,d[0]),e.generateMipmap&&e.context.generateMipmap(e.target),t.deactivate(),!0},t.create3DFilterableFromRaw=function(c,u,f,l,h,p){for(var v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,y=c*u*f,_=[],m=[],d=0;d<l;++d)_[d]=0,m[d]=1;e.volumeInfo={scale:m,offset:_,width:c,height:u,depth:f};var g=i(l,y,p),x=g.offset,w=g.scale;e.volumeInfo.dataComputedScale=w,e.volumeInfo.dataComputedOffset=x;var C=o(h,x,w,v);if(e._openGLRenderWindow.getWebgl2()){if(h===Je.FLOAT||C&&(h===Je.SHORT||h===Je.UNSIGNED_SHORT))return t.create3DFromRaw(c,u,f,l,h,p);if(h===Je.UNSIGNED_CHAR){for(var S=0;S<l;++S)e.volumeInfo.scale[S]=255;return t.create3DFromRaw(c,u,f,l,h,p)}var T=new Float32Array(y*l);e.volumeInfo.offset=x,e.volumeInfo.scale=w;for(var b=0,O=w.map(function(K){return 1/K}),D=0;D<y;D++)for(var M=0;M<l;M++)T[b]=(p[b]-x[M])*O[M],b++;return t.create3DFromRaw(c,u,f,l,Je.FLOAT,T)}var R=i(l,y,p),E=function(X,Z,ae,ue,ie){X[Z]=ae},B=Je.UNSIGNED_CHAR;if(h===Je.UNSIGNED_CHAR)for(var I=0;I<l;++I)R.offset[I]=0,R.scale[I]=255;else e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear")?(B=Je.FLOAT,E=function(X,Z,ae,ue,ie){X[Z]=(ae-ue)/ie}):(B=Je.UNSIGNED_CHAR,E=function(X,Z,ae,ue,ie){X[Z]=255*(ae-ue)/ie});if(t.getOpenGLDataType(B),t.getInternalFormat(B,l),t.getFormat(B,l),!e.internalFormat||!e.format||!e.openGLDataType)return Zn("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=l,e.depth=1,e.numberOfDimensions=2;var P=e.context.getParameter(e.context.MAX_TEXTURE_SIZE);P>4096&&(B===Je.FLOAT||l>=3)&&(P=4096);var L=1,F=1;y>P*P&&(L=Math.ceil(Math.sqrt(y/(P*P))),F=L);var G=Math.sqrt(y)/L;G=gr(G);var $=Math.floor(G*L/c),H=Math.ceil(f/$),J=gr(u*H/F);e.width=G,e.height=J,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),e.volumeInfo.xreps=$,e.volumeInfo.yreps=H,e.volumeInfo.xstride=L,e.volumeInfo.ystride=F,e.volumeInfo.offset=R.offset,e.volumeInfo.scale=R.scale;var Q,q=G*J*l;B===Je.FLOAT?Q=new Float32Array(q):Q=new Uint8Array(q);for(var ne=0,re=Math.floor(c/L),oe=Math.floor(u/F),te=0;te<H;te++)for(var A=Math.min($,f-te*$),N=l*(e.width-A*Math.floor(c/L)),U=0;U<oe;U++){for(var V=0;V<A;V++)for(var k=l*((te*$+V)*c*u+F*U*c),z=0;z<re;z++)for(var j=0;j<l;j++)E(Q,ne,p[k+L*z*l+j],R.offset[j],R.scale[j]),ne++;ne+=N}return e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,Q),t.deactivate(),!0},t.setOpenGLRenderWindow=function(c){e._openGLRenderWindow!==c&&(t.releaseGraphicsResources(),e._openGLRenderWindow=c,e.context=null,c&&(e.context=e._openGLRenderWindow.getContext()))},t.getMaximumTextureSize=function(c){return c&&c.isCurrent()?c.getIntegerv(c.MAX_TEXTURE_SIZE):-1}}var p4={_openGLRenderWindow:null,context:null,handle:0,sendParametersTime:null,textureBuildTime:null,numberOfDimensions:0,target:0,format:0,openGLDataType:0,components:0,width:0,height:0,depth:0,autoParameters:!0,wrapS:Vr.CLAMP_TO_EDGE,wrapT:Vr.CLAMP_TO_EDGE,wrapR:Vr.CLAMP_TO_EDGE,minificationFilter:wt.NEAREST,magnificationFilter:wt.NEAREST,minLOD:-1e3,maxLOD:1e3,baseLevel:0,maxLevel:1e3,generateMipmap:!1};function J1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,p4,n),At.extend(t,e,n),e.sendParametersTime={},Et(e.sendParametersTime,{mtime:0}),e.textureBuildTime={},Et(e.textureBuildTime,{mtime:0}),Cs(t,e,["format","openGLDataType"]),Nt(t,e,["keyMatrixTime","minificationFilter","magnificationFilter","wrapS","wrapT","wrapR","generateMipmap"]),Mr(t,e,["width","height","volumeInfo","components","handle","target"]),h4(t,e)}var Q1=st(J1,"vtkOpenGLTexture"),jt=f4({newInstance:Q1,extend:J1},Yu);Bt("vtkTexture",Q1);var ru={NEAREST:0,LINEAR:1},v4={InterpolationType:ru},ep=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

attribute vec4 vertexMC;

// frag position in VC
//VTK::PositionVC::Dec

// optional normal declaration
//VTK::Normal::Dec

// extra lighting parameters
//VTK::Light::Dec

// Texture coordinates
//VTK::TCoord::Dec

// material property values
//VTK::Color::Dec

// clipping plane vars
//VTK::Clip::Dec

// camera and actor matrix values
//VTK::Camera::Dec

// Apple Bug
//VTK::PrimID::Dec

// picking support
//VTK::Picking::Dec

void main()
{
  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Clip::Impl

  //VTK::PrimID::Impl

  //VTK::PositionVC::Impl

  //VTK::Light::Impl

  //VTK::Picking::Impl
}
`,tp=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the polydata mappers fragment shader

uniform int PrimitiveIDOffset;

// VC position of this fragment
//VTK::PositionVC::Dec

// optional color passed in from the vertex shader, vertexColor
//VTK::Color::Dec

// optional surface normal declaration
//VTK::Normal::Dec

// extra lighting parameters
//VTK::Light::Dec

// Texture coordinates
//VTK::TCoord::Dec

// picking support
//VTK::Picking::Dec

// Depth Peeling Support
//VTK::DepthPeeling::Dec

// clipping plane vars
//VTK::Clip::Dec

// the output of this shader
//VTK::Output::Dec

// Apple Bug
//VTK::PrimID::Dec

// handle coincident offsets
//VTK::Coincident::Dec

//VTK::ZBuffer::Dec

void main()
{
  // VC position of this fragment. This should not branch/return/discard.
  //VTK::PositionVC::Impl

  // Place any calls that require uniform flow (e.g. dFdx) here.
  //VTK::UniformFlow::Impl

  // Set gl_FragDepth here (gl_FragCoord.z by default)
  //VTK::Depth::Impl

  // Early depth peeling abort:
  //VTK::DepthPeeling::PreColor

  // Apple Bug
  //VTK::PrimID::Impl

  //VTK::Clip::Impl

  //VTK::Color::Impl

  // Generate the normal if we are not passed in one
  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Light::Impl

  if (gl_FragData[0].a <= 0.0)
    {
    discard;
    }

  //VTK::DepthPeeling::Impl

  //VTK::Picking::Impl

  // handle coincident offsets
  //VTK::Coincident::Impl

  //VTK::ZBuffer::Impl

  //VTK::RenderPassFragmentShader::Impl
}
`;function d4(t,e){t.replaceShaderCoincidentOffset=function(n,r,a){var i=t.getCoincidentParameters(r,a);if(i&&(i.factor!==0||i.offset!==0)){var s=n.Fragment;s=fe.substitute(s,"//VTK::Coincident::Dec",["uniform float cfactor;","uniform float coffset;"]).result,e.context.getExtension("EXT_frag_depth")&&(i.factor!==0?(s=fe.substitute(s,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,s=fe.substitute(s,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):s=fe.substitute(s,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + 0.000016*coffset;").result),e._openGLRenderWindow.getWebgl2()&&(i.factor!==0?(s=fe.substitute(s,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,s=fe.substitute(s,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):s=fe.substitute(s,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + 0.000016*coffset;").result),n.Fragment=s}}}var Zu={implementReplaceShaderCoincidentOffset:d4},Jn=Re,sr=Hu.SlicingMode;function cf(t,e,n){var r=e.apply(t);if(r){var a=t.getIndependentComponents();return"".concat(t.getMTime(),"-").concat(a,"-").concat(n)}return"0"}function g4(t,e){e.classHierarchy.push("vtkOpenGLImageMapper"),t.buildPass=function(n){if(n){e.currentRenderPass=null,e.openGLImageSlice=t.getFirstAncestorOfType("vtkOpenGLImageSlice"),e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.colorTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.pwfTexture.setOpenGLRenderWindow(e._openGLRenderWindow);var r=e.openGLRenderer.getRenderable();e.openGLCamera=e.openGLRenderer.getViewNodeFor(r.getActiveCamera()),e.renderable.getSliceAtFocalPoint()&&e.renderable.setSliceFromCamera(r.getActiveCamera())}},t.translucentPass=function(n,r){n&&(e.currentRenderPass=r,t.render())},t.opaqueZBufferPass=function(n){n&&(e.haveSeenDepthRequest=!0,e.renderDepth=!0,t.render(),e.renderDepth=!1)},t.opaquePass=function(n){n&&t.render()},t.getCoincidentParameters=function(n,r){return e.renderable.getResolveCoincidentTopology()?e.renderable.getCoincidentTopologyPolygonOffsetParameters():null},t.render=function(){var n=e.openGLImageSlice.getRenderable(),r=e.openGLRenderer.getRenderable();t.renderPiece(r,n)},t.buildShaders=function(n,r,a){t.getShaderTemplate(n,r,a),e.lastRenderPassShaderReplacement&&e.lastRenderPassShaderReplacement(n),t.replaceShaderValues(n,r,a)},t.getShaderTemplate=function(n,r,a){n.Vertex=ep,n.Fragment=tp,n.Geometry=""},t.replaceShaderValues=function(n,r,a){var i=n.Vertex,s=n.Fragment;i=fe.substitute(i,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,i=fe.substitute(i,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result,i=fe.substitute(i,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result,i=fe.substitute(i,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result;var o=e.openGLTexture.getComponents(),c=a.getProperty().getIndependentComponents(),u=["varying vec2 tcoordVCVSOutput;","uniform float cshift0;","uniform float cscale0;","uniform float pwfshift0;","uniform float pwfscale0;","uniform sampler2D texture1;","uniform sampler2D colorTexture1;","uniform sampler2D pwfTexture1;","uniform float opacity;"];if(c){for(var f=1;f<o;f++)u=u.concat(["uniform float cshift".concat(f,";"),"uniform float cscale".concat(f,";"),"uniform float pwfshift".concat(f,";"),"uniform float pwfscale".concat(f,";")]);switch(o){case 1:u=u.concat(["uniform float mix0;","#define height0 0.5"]);break;case 2:u=u.concat(["uniform float mix0;","uniform float mix1;","#define height0 0.25","#define height1 0.75"]);break;case 3:u=u.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","#define height0 0.17","#define height1 0.5","#define height2 0.83"]);break;case 4:u=u.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","uniform float mix3;","#define height0 0.125","#define height1 0.375","#define height2 0.625","#define height3 0.875"]);break;default:Jn("Unsupported number of independent coordinates.")}}if(s=fe.substitute(s,"//VTK::TCoord::Dec",u).result,c){for(var l=["r","g","b","a"],h=["vec4 tvalue = texture2D(texture1, tcoordVCVSOutput);"],p=0;p<o;p++)h=h.concat(["vec3 tcolor".concat(p," = mix").concat(p," * texture2D(colorTexture1, vec2(tvalue.").concat(l[p]," * cscale").concat(p," + cshift").concat(p,", height").concat(p,")).rgb;"),"float compWeight".concat(p," = mix").concat(p," * texture2D(pwfTexture1, vec2(tvalue.").concat(l[p]," * pwfscale").concat(p," + pwfshift").concat(p,", height").concat(p,")).r;")]);switch(o){case 1:h=h.concat(["gl_FragData[0] = vec4(tcolor0.rgb, opacity);"]);break;case 2:h=h.concat(["float weightSum = compWeight0 + compWeight1;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum))), opacity);"]);break;case 3:h=h.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum))), opacity);"]);break;case 4:h=h.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2 + compWeight3;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum)) + (tcolor3.rgb * (compWeight3 / weightSum))), opacity);"]);break;default:Jn("Unsupported number of independent coordinates.")}s=fe.substitute(s,"//VTK::TCoord::Impl",h).result}else switch(o){case 1:s=fe.substitute(s,"//VTK::TCoord::Impl",["float intensity = texture2D(texture1, tcoordVCVSOutput).r;","vec3 tcolor = texture2D(colorTexture1, vec2(intensity * cscale0 + cshift0, 0.5)).rgb;","float scalarOpacity = texture2D(pwfTexture1, vec2(intensity * pwfscale0 + pwfshift0, 0.5)).r;","gl_FragData[0] = vec4(tcolor, scalarOpacity * opacity);"]).result;break;case 2:s=fe.substitute(s,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","float intensity = tcolor.r*cscale0 + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)).rgb, pwfscale0*tcolor.g + pwfshift0);"]).result;break;default:s=fe.substitute(s,"//VTK::TCoord::Impl",["vec4 tcolor = cscale0*texture2D(texture1, tcoordVCVSOutput.st) + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);"]).result}e.haveSeenDepthRequest&&(s=fe.substitute(s,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,s=fe.substitute(s,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),n.Vertex=i,n.Fragment=s,t.replaceShaderClip(n,r,a),t.replaceShaderCoincidentOffset(n,r,a)},t.replaceShaderClip=function(n,r,a){var i=n.Vertex,s=n.Fragment;if(e.renderable.getNumberOfClippingPlanes()){var o=e.renderable.getNumberOfClippingPlanes();o>6&&(Re("OpenGL has a limit of 6 clipping planes"),o=6),i=fe.substitute(i,"//VTK::Clip::Dec",["uniform int numClipPlanes;","uniform vec4 clipPlanes[6];","varying float clipDistancesVSOutput[6];"]).result,i=fe.substitute(i,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,s=fe.substitute(s,"//VTK::Clip::Dec",["uniform int numClipPlanes;","varying float clipDistancesVSOutput[6];"]).result,s=fe.substitute(s,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}n.Vertex=i,n.Fragment=s},t.getNeedToRebuildShaders=function(n,r,a){var i=e.openGLTexture.getComponents(),s=a.getProperty().getIndependentComponents(),o=!1;return!e.currentRenderPass&&e.lastRenderPassShaderReplacement&&(o=!0,e.lastRenderPassShaderReplacement=null),e.currentRenderPass&&e.currentRenderPass.getShaderReplacement()!==e.lastRenderPassShaderReplacement&&(e.lastRenderPassShaderReplacement=e.currentRenderPass.getShaderReplacement(),o=!0),o||e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||n.getProgram()===0||e.lastTextureComponents!==i||e.lastIndependentComponents!==s?(e.lastHaveSeenDepthRequest=e.haveSeenDepthRequest,e.lastTextureComponents=i,e.lastIndependentComponents=s,!0):!1},t.updateShaders=function(n,r,a){if(e.lastBoundBO=n,t.getNeedToRebuildShaders(n,r,a)){var i={Vertex:null,Fragment:null,Geometry:null};t.buildShaders(i,r,a);var s=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);s!==n.getProgram()&&(n.setProgram(s),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),t.setMapperShaderParameters(n,r,a),t.setCameraShaderParameters(n,r,a),t.setPropertyShaderParameters(n,r,a)},t.setMapperShaderParameters=function(n,r,a){n.getCABO().getElementCount()&&(e.VBOBuildTime>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())&&(n.getProgram().isAttributeUsed("vertexMC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"vertexMC",n.getCABO().getVertexOffset(),n.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||Jn("Error setting vertexMC in shader VAO.")),n.getProgram().isAttributeUsed("tcoordMC")&&n.getCABO().getTCoordOffset()&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"tcoordMC",n.getCABO().getTCoordOffset(),n.getCABO().getStride(),e.context.FLOAT,n.getCABO().getTCoordComponents(),e.context.FALSE)||Jn("Error setting tcoordMC in shader VAO.")),n.getAttributeUpdateTime().modified());var i=e.openGLTexture.getTextureUnit();n.getProgram().setUniformi("texture1",i);var s=e.openGLTexture.getComponents(),o=a.getProperty().getIndependentComponents();if(o)for(var c=0;c<s;c++)n.getProgram().setUniformf("mix".concat(c),a.getProperty().getComponentWeight(c));for(var u=e.openGLTexture.getShiftAndScale(),f=0;f<s;f++){var l=a.getProperty().getColorWindow(),h=a.getProperty().getColorLevel(),p=o?f:0,v=a.getProperty().getRGBTransferFunction(p);if(v&&a.getProperty().getUseLookupTableScalarRange()){var y=v.getRange();l=y[1]-y[0],h=.5*(y[1]+y[0])}var _=u.scale/l,m=(u.shift-h)/l+.5;n.getProgram().setUniformf("cshift".concat(f),m),n.getProgram().setUniformf("cscale".concat(f),_)}for(var d=0;d<s;d++){var g=1,x=0,w=o?d:0,C=a.getProperty().getPiecewiseFunction(w);if(C){var S=C.getRange(),T=S[1]-S[0],b=.5*(S[0]+S[1]);g=u.scale/T,x=(u.shift-b)/T+.5}n.getProgram().setUniformf("pwfshift".concat(d),x),n.getProgram().setUniformf("pwfscale".concat(d),g)}if(e.haveSeenDepthRequest&&n.getProgram().setUniformi("depthRequest",e.renderDepth?1:0),n.getProgram().isUniformUsed("coffset")){var O=t.getCoincidentParameters(r,a);n.getProgram().setUniformf("coffset",O.offset),n.getProgram().isUniformUsed("cfactor")&&n.getProgram().setUniformf("cfactor",O.factor)}var D=e.colorTexture.getTextureUnit();n.getProgram().setUniformi("colorTexture1",D);var M=e.pwfTexture.getTextureUnit();if(n.getProgram().setUniformi("pwfTexture1",M),e.renderable.getNumberOfClippingPlanes()){var R=e.renderable.getNumberOfClippingPlanes();R>6&&(Re("OpenGL has a limit of 6 clipping planes"),R=6);var E=e.currentInput,B=E.getWorldToIndex(),I=n.getCABO().getCoordShiftAndScaleEnabled(),P=I?n.getCABO().getInverseShiftAndScaleMatrix():null,L=P?zt(e.imagematinv,a.getMatrix()):a.getMatrix();P&&(Ye(L,L),ct(L,L,P),Ye(L,L)),ct(e.imagematinv,L,B);for(var F=[],G=0;G<R;G++){var $=[];e.renderable.getClippingPlaneInDataCoords(e.imagematinv,G,$);for(var H=0;H<4;H++)F.push($[H])}n.getProgram().setUniformi("numClipPlanes",R),n.getProgram().setUniform4fv("clipPlanes",F)}},t.setCameraShaderParameters=function(n,r,a){var i=n.getProgram(),s=e.openGLImageSlice.getKeyMatrices(),o=e.currentInput,c=o.getIndexToWorld();ct(e.imagemat,s.mcwc,c);var u=e.openGLCamera.getKeyMatrices(r);if(ct(e.imagemat,u.wcpc,e.imagemat),n.getCABO().getCoordShiftAndScaleEnabled()){var f=n.getCABO().getInverseShiftAndScaleMatrix();ct(e.imagemat,e.imagemat,f)}i.setUniformMatrix("MCPCMatrix",e.imagemat)},t.setPropertyShaderParameters=function(n,r,a){var i=n.getProgram(),s=a.getProperty(),o=s.getOpacity();i.setUniformf("opacity",o)},t.renderPieceStart=function(n,r){t.updateBufferObjects(n,r),e.lastBoundBO=null},t.renderPieceDraw=function(n,r){var a=e.context;e.openGLTexture.activate(),e.colorTexture.activate(),e.pwfTexture.activate(),e.tris.getCABO().getElementCount()&&(t.updateShaders(e.tris,n,r),a.drawArrays(a.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release()),e.openGLTexture.deactivate(),e.colorTexture.deactivate(),e.pwfTexture.deactivate()},t.renderPieceFinish=function(n,r){},t.renderPiece=function(n,r){if(t.invokeEvent({type:"StartEvent"}),e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent({type:"EndEvent"}),!e.currentInput){Jn("No input!");return}t.renderPieceStart(n,r),t.renderPieceDraw(n,r),t.renderPieceFinish(n,r)},t.computeBounds=function(n,r){if(!t.getInput()){Ma(e.bounds);return}e.bounds=t.getInput().getBounds()},t.updateBufferObjects=function(n,r){t.getNeedToRebuildBufferObjects(n,r)&&t.buildBufferObjects(n,r)},t.getNeedToRebuildBufferObjects=function(n,r){return e.VBOBuildTime.getMTime()<t.getMTime()||e.VBOBuildTime.getMTime()<r.getMTime()||e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<r.getProperty().getMTime()||e.VBOBuildTime.getMTime()<e.currentInput.getMTime()},t.buildBufferObjects=function(n,r){var a=e.currentInput;if(!!a){var i=a.getPointData()&&a.getPointData().getScalars();if(!!i){var s=r.getProperty(),o=s.getInterpolationType();o===ru.NEAREST?(e.colorTexture.setMinificationFilter(Qe.NEAREST),e.colorTexture.setMagnificationFilter(Qe.NEAREST),e.pwfTexture.setMinificationFilter(Qe.NEAREST),e.pwfTexture.setMagnificationFilter(Qe.NEAREST)):(e.colorTexture.setMinificationFilter(Qe.LINEAR),e.colorTexture.setMagnificationFilter(Qe.LINEAR),e.pwfTexture.setMinificationFilter(Qe.LINEAR),e.pwfTexture.setMagnificationFilter(Qe.LINEAR));var c=i.getNumberOfComponents(),u=s.getIndependentComponents(),f=u?c:1,l=u?2*f:1,h=cf(s,s.getRGBTransferFunction,f);if(e.colorTextureString!==h){var p=1024,v=p*l*3,y=new Uint8Array(v),_=s.getRGBTransferFunction();if(_){for(var m=new Float32Array(p*3),d=0;d<f;d++){_=s.getRGBTransferFunction(d);var g=_.getRange();if(_.getTable(g[0],g[1],p,m,1),u)for(var x=0;x<p*3;x++)y[d*p*6+x]=255*m[x],y[d*p*6+x+p*3]=255*m[x];else for(var w=0;w<p*3;w++)y[d*p*6+w]=255*m[w]}e.colorTexture.create2DFromRaw(p,l,3,ht.UNSIGNED_CHAR,y)}else{for(var C=0;C<p*3;++C)y[C]=255*C/((p-1)*3),y[C+1]=255*C/((p-1)*3),y[C+2]=255*C/((p-1)*3);e.colorTexture.create2DFromRaw(p,1,3,ht.UNSIGNED_CHAR,y)}e.colorTextureString=h}var S=cf(s,s.getPiecewiseFunction,f);if(e.pwfTextureString!==S){var T=1024,b=T*l,O=new Uint8Array(b),D=s.getPiecewiseFunction();if(e.pwfTexture.resetFormatAndType(),D){for(var M=new Float32Array(b),R=new Float32Array(T),E=0;E<f;++E)if(D=s.getPiecewiseFunction(E),D===null)M.fill(1);else{var B=D.getRange();if(D.getTable(B[0],B[1],T,R,1),u)for(var I=0;I<T;I++)M[E*T*2+I]=R[I],M[E*T*2+I+T]=R[I];else for(var P=0;P<T;P++)M[E*T*2+P]=R[P]}e.pwfTexture.create2DFromRaw(T,l,1,ht.FLOAT,M)}else O.fill(255),e.pwfTexture.create2DFromRaw(T,1,1,ht.UNSIGNED_CHAR,O);e.pwfTextureString=S}var L=e.renderable.getClosestIJKAxis(),F=L.ijkMode,G=e.renderable.getSlice();F!==e.renderable.getSlicingMode()&&(G=e.renderable.getSliceAtPosition(G));var $=Math.round(G),H=a.getExtent(),J;F===sr.I&&(J=$-H[0]),F===sr.J&&(J=$-H[2]),(F===sr.K||F===sr.NONE)&&(J=$-H[4]);var Q="".concat(G,"A").concat(a.getMTime(),"A").concat(i.getMTime(),"B").concat(t.getMTime(),"C").concat(e.renderable.getSlicingMode(),"D").concat(r.getProperty().getMTime());if(e.VBOBuildString!==Q){var q=a.getDimensions();o===ru.NEAREST?(c===4&&e.openGLTexture.setGenerateMipmap(!0),e.openGLTexture.setMinificationFilter(Qe.NEAREST),e.openGLTexture.setMagnificationFilter(Qe.NEAREST)):(c===4?(e.openGLTexture.setGenerateMipmap(!0),e.openGLTexture.setMinificationFilter(Qe.LINEAR_MIPMAP_LINEAR)):e.openGLTexture.setMinificationFilter(Qe.LINEAR),e.openGLTexture.setMagnificationFilter(Qe.LINEAR)),e.openGLTexture.setWrapS(yi.CLAMP_TO_EDGE),e.openGLTexture.setWrapT(yi.CLAMP_TO_EDGE);for(var ne=q[0]*q[1]*c,re=new Float32Array(12),oe=new Float32Array(8),te=0;te<4;te++)oe[te*2]=te%2?1:0,oe[te*2+1]=te>1?1:0;var A=[sr.X,sr.Y,sr.Z].includes(e.renderable.getSlicingMode())?G:$,N=a.getSpatialExtent(),U=i.getData(),V=null;if(F===sr.I){V=new U.constructor(q[2]*q[1]*c);for(var k=0,z=0;z<q[2];z++)for(var j=0;j<q[1];j++){var K=(J+j*q[0]+z*q[0]*q[1])*c;k=(z*q[1]+j)*c,V.set(U.subarray(K,K+c),k)}q[0]=q[1],q[1]=q[2],re[0]=A,re[1]=N[2],re[2]=N[4],re[3]=A,re[4]=N[3],re[5]=N[4],re[6]=A,re[7]=N[2],re[8]=N[5],re[9]=A,re[10]=N[3],re[11]=N[5]}else if(F===sr.J){V=new U.constructor(q[2]*q[0]*c);for(var X=0,Z=0;Z<q[2];Z++)for(var ae=0;ae<q[0];ae++){var ue=(ae+J*q[0]+Z*q[0]*q[1])*c;X=(Z*q[0]+ae)*c,V.set(U.subarray(ue,ue+c),X)}q[1]=q[2],re[0]=N[0],re[1]=A,re[2]=N[4],re[3]=N[1],re[4]=A,re[5]=N[4],re[6]=N[0],re[7]=A,re[8]=N[5],re[9]=N[1],re[10]=A,re[11]=N[5]}else F===sr.K||F===sr.NONE?(V=U.subarray(J*ne,(J+1)*ne),re[0]=N[0],re[1]=N[2],re[2]=A,re[3]=N[1],re[4]=N[2],re[5]=A,re[6]=N[0],re[7]=N[3],re[8]=A,re[9]=N[1],re[10]=N[3],re[11]=A):Jn("Reformat slicing not yet supported.");e.openGLTexture.create2DFromRaw(q[0],q[1],c,i.getDataType(),V),e.openGLTexture.activate(),e.openGLTexture.sendParameters(),e.openGLTexture.deactivate();var ie=Ee.newInstance({numberOfComponents:3,values:re});ie.setName("points");var pe=Ee.newInstance({numberOfComponents:2,values:oe});pe.setName("tcoords");var ve=new Uint16Array(8);ve[0]=3,ve[1]=0,ve[2]=1,ve[3]=3,ve[4]=3,ve[5]=0,ve[6]=3,ve[7]=2;var ce=Ee.newInstance({numberOfComponents:1,values:ve});e.tris.getCABO().createVBO(ce,"polys",Wt.SURFACE,{points:ie,tcoords:pe,cellOffset:0}),e.VBOBuildTime.modified(),e.VBOBuildString=Q}}}}}var y4={VBOBuildTime:0,VBOBuildString:null,openGLTexture:null,tris:null,imagemat:null,imagematinv:null,colorTexture:null,pwfTexture:null,lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastTextureComponents:0};function m4(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,y4,n),At.extend(t,e,n),Zu.implementReplaceShaderCoincidentOffset(t,e,n),e.tris=pn.newInstance(),e.openGLTexture=jt.newInstance(),e.colorTexture=jt.newInstance(),e.pwfTexture=jt.newInstance(),e.imagemat=Ae(new Float64Array(16)),e.imagematinv=Ae(new Float64Array(16)),Nt(t,e,[]),e.VBOBuildTime={},Et(e.VBOBuildTime),g4(t,e)}var _4=st(m4,"vtkOpenGLImageMapper");Bt("vtkImageMapper",_4);function x4(t,e){e.classHierarchy.push("vtkOpenGLImageSlice"),t.buildPass=function(n){if(!(!e.renderable||!e.renderable.getVisibility())&&n){if(!e.renderable)return;e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes()}},t.traverseOpaqueZBufferPass=function(n){t.traverseOpaquePass(n)},t.traverseOpaquePass=function(n){!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.children.forEach(function(r){r.traverse(n)}),t.apply(n,!1))},t.traverseTranslucentPass=function(n){!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.children.forEach(function(r){r.traverse(n)}),t.apply(n,!1))},t.queryPass=function(n,r){if(n){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?r.incrementOpaqueActorCount():r.incrementTranslucentActorCount()}},t.opaqueZBufferPass=function(n,r){return t.opaquePass(n,r)},t.opaquePass=function(n,r){n&&e.context.depthMask(!0)},t.translucentPass=function(n,r){e.context.depthMask(!n)},t.getKeyMatrices=function(){return e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(zt(e.keyMatrices.mcwc,e.renderable.getMatrix()),Ye(e.keyMatrices.mcwc,e.keyMatrices.mcwc),e.keyMatrixTime.modified()),e.keyMatrices}}var w4={context:null,keyMatrixTime:null,keyMatrices:null};function C4(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,w4,n),At.extend(t,e,n),e.keyMatrixTime={},Et(e.keyMatrixTime,{mtime:0}),e.keyMatrices={mcwc:Ae(new Float64Array(16))},Nt(t,e,["context"]),x4(t,e)}var S4=st(C4,"vtkOpenGLImageSlice");Bt("vtkImageSlice",S4);function T4(t,e){e.classHierarchy.push("vtkOpenGLVolume"),t.buildPass=function(n){!e.renderable||!e.renderable.getVisibility()||n&&(e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes())},t.queryPass=function(n,r){if(n){if(!e.renderable||!e.renderable.getVisibility())return;r.incrementVolumeCount()}},t.traverseVolumePass=function(n){!e.renderable||!e.renderable.getNestedVisibility()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.children[0].traverse(n),t.apply(n,!1))},t.volumePass=function(n){!e.renderable||!e.renderable.getVisibility()||e.context.depthMask(!n)},t.getKeyMatrices=function(){return e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(e.renderable.computeMatrix(),zt(e.MCWCMatrix,e.renderable.getMatrix()),Ye(e.MCWCMatrix,e.MCWCMatrix),e.renderable.getIsIdentity()?Nr(e.normalMatrix):(Bi(e.normalMatrix,e.MCWCMatrix),Vi(e.normalMatrix,e.normalMatrix)),e.keyMatrixTime.modified()),{mcwc:e.MCWCMatrix,normalMatrix:e.normalMatrix}}}var b4={};function E4(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,b4,n),At.extend(t,e,n),e.keyMatrixTime={},Et(e.keyMatrixTime,{mtime:0}),e.normalMatrix=new Float64Array(9),e.MCWCMatrix=new Float64Array(16),Nt(t,e,["context"]),T4(t,e)}var D4=st(E4,"vtkOpenGLVolume");Bt("vtkVolume",D4);function O4(t,e){e.classHierarchy.push("vtkFramebuffer"),t.getBothMode=function(){return e.context.FRAMEBUFFER},t.saveCurrentBindingsAndBuffers=function(n){var r=typeof n!="undefined"?n:t.getBothMode();t.saveCurrentBindings(r),t.saveCurrentBuffers(r)},t.saveCurrentBindings=function(n){if(!e.context){Re("you must set the OpenGLRenderWindow before calling saveCurrentBindings");return}var r=e.context;e.previousDrawBinding=r.getParameter(e.context.FRAMEBUFFER_BINDING),e.previousActiveFramebuffer=e._openGLRenderWindow.getActiveFramebuffer()},t.saveCurrentBuffers=function(n){},t.restorePreviousBindingsAndBuffers=function(n){var r=typeof n!="undefined"?n:t.getBothMode();t.restorePreviousBindings(r),t.restorePreviousBuffers(r)},t.restorePreviousBindings=function(n){if(!e.context){Re("you must set the OpenGLRenderWindow before calling restorePreviousBindings");return}var r=e.context;r.bindFramebuffer(r.FRAMEBUFFER,e.previousDrawBinding),e._openGLRenderWindow.setActiveFramebuffer(e.previousActiveFramebuffer)},t.restorePreviousBuffers=function(n){},t.bind=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=n;r===null&&(r=e.context.FRAMEBUFFER),e.context.bindFramebuffer(r,e.glFramebuffer);for(var a=0;a<e.colorBuffers.length;a++)e.colorBuffers[a].bind();e._openGLRenderWindow.setActiveFramebuffer(t)},t.create=function(n,r){if(!e.context){Re("you must set the OpenGLRenderWindow before calling create");return}e.glFramebuffer=e.context.createFramebuffer(),e.glFramebuffer.width=n,e.glFramebuffer.height=r},t.setColorBuffer=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=e.context;if(!a){Re("you must set the OpenGLRenderWindow before calling setColorBuffer");return}var i=a.COLOR_ATTACHMENT0;if(r>0)if(e._openGLRenderWindow.getWebgl2())i+=r;else{Re("Using multiple framebuffer attachments requires WebGL 2");return}e.colorBuffers[r]=n,a.framebufferTexture2D(a.FRAMEBUFFER,i,a.TEXTURE_2D,n.getHandle(),0)},t.removeColorBuffer=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=e.context;if(!r){Re("you must set the OpenGLRenderWindow before calling removeColorBuffer");return}var a=r.COLOR_ATTACHMENT0;if(n>0)if(e._openGLRenderWindow.getWebgl2())a+=n;else{Re("Using multiple framebuffer attachments requires WebGL 2");return}r.framebufferTexture2D(r.FRAMEBUFFER,a,r.TEXTURE_2D,null,0),e.colorBuffers=e.colorBuffers.splice(n,1)},t.setDepthBuffer=function(n){if(!e.context){Re("you must set the OpenGLRenderWindow before calling setDepthBuffer");return}if(e._openGLRenderWindow.getWebgl2()){var r=e.context;r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,n.getHandle(),0)}else Re("Attaching depth buffer textures to fbo requires WebGL 2")},t.removeDepthBuffer=function(){if(!e.context){Re("you must set the OpenGLRenderWindow before calling removeDepthBuffer");return}if(e._openGLRenderWindow.getWebgl2()){var n=e.context;n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,null,0)}else Re("Attaching depth buffer textures to framebuffers requires WebGL 2")},t.getGLFramebuffer=function(){return e.glFramebuffer},t.setOpenGLRenderWindow=function(n){e._openGLRenderWindow!==n&&(t.releaseGraphicsResources(),e._openGLRenderWindow=n,e.context=null,n&&(e.context=e._openGLRenderWindow.getContext()))},t.releaseGraphicsResources=function(){e.glFramebuffer&&e.context.deleteFramebuffer(e.glFramebuffer)},t.getSize=function(){var n=[0,0];return e.glFramebuffer!==null&&(n[0]=e.glFramebuffer.width,n[1]=e.glFramebuffer.height),n},t.populateFramebuffer=function(){if(!e.context){Re("you must set the OpenGLRenderWindow before calling populateFrameBuffer");return}t.bind();var n=e.context,r=jt.newInstance();r.setOpenGLRenderWindow(e._openGLRenderWindow),r.setMinificationFilter(Qe.LINEAR),r.setMagnificationFilter(Qe.LINEAR),r.create2DFromRaw(e.glFramebuffer.width,e.glFramebuffer.height,4,ht.UNSIGNED_CHAR,null),t.setColorBuffer(r),e.depthTexture=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,e.depthTexture),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,e.glFramebuffer.width,e.glFramebuffer.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,e.depthTexture)},t.getColorTexture=function(){return e.colorBuffers[0]}}var N4={glFramebuffer:null,colorBuffers:null,depthTexture:null,previousDrawBinding:0,previousReadBinding:0,previousDrawBuffer:0,previousReadBuffer:0,previousActiveFramebuffer:null};function rp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,N4,n),Et(t,e),e.colorBuffers&&Re("you cannot initialize colorBuffers through the constructor. You should call setColorBuffer() instead."),e.colorBuffers=[],Ss(t,e,["colorBuffers"]),O4(t,e)}var M4=st(rp,"vtkFramebuffer"),bs={newInstance:M4,extend:rp},nu={NEAREST:0,LINEAR:1,FAST_LINEAR:2},np={FRACTIONAL:0,PROPORTIONAL:1},Ju={InterpolationType:nu,OpacityMode:np},ap={COMPOSITE_BLEND:0,MAXIMUM_INTENSITY_BLEND:1,MINIMUM_INTENSITY_BLEND:2,AVERAGE_INTENSITY_BLEND:3,ADDITIVE_INTENSITY_BLEND:4},k4={OFF:0,NORMALIZED:1,RAW:2},ip={BlendMode:ap,FilterMode:k4},R4=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

attribute vec4 vertexDC;

varying vec3 vertexVCVSOutput;
uniform mat4 PCVCMatrix;

uniform float dcxmin;
uniform float dcxmax;
uniform float dcymin;
uniform float dcymax;

void main()
{
  // dcsmall is the device coords reduced to the
  // x y area covered by the volume
  vec4 dcsmall = vec4(
    dcxmin + 0.5 * (vertexDC.x + 1.0) * (dcxmax - dcxmin),
    dcymin + 0.5 * (vertexDC.y + 1.0) * (dcymax - dcymin),
    vertexDC.z,
    vertexDC.w);
  vec4 vcpos = PCVCMatrix * dcsmall;
  vertexVCVSOutput = vcpos.xyz/vcpos.w;
  gl_Position = dcsmall;
}
`,F4=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkVolumeFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the volume mappers fragment shader

// the output of this shader
//VTK::Output::Dec

varying vec3 vertexVCVSOutput;

// first declare the settings from the mapper
// that impact the code paths in here

// always set vtkNumComponents 1,2,3,4
//VTK::NumComponents

// possibly define vtkTrilinearOn
//VTK::TrilinearOn

// possibly define vtkIndependentComponents
//VTK::IndependentComponentsOn

// possibly define any "proportional" components
//VTK::vtkProportionalComponents

// Define the blend mode to use
#define vtkBlendMode //VTK::BlendMode

// Possibly define vtkImageLabelOutlineOn
//VTK::ImageLabelOutlineOn

#ifdef vtkImageLabelOutlineOn
uniform int outlineThickness;
uniform float vpWidth;
uniform float vpHeight;
uniform float vpOffsetX;
uniform float vpOffsetY;
uniform mat4 PCWCMatrix;
uniform mat4 vWCtoIDX;
#endif

// define vtkLightComplexity
//VTK::LightComplexity
#if vtkLightComplexity > 0
uniform float vSpecularPower;
uniform float vAmbient;
uniform float vDiffuse;
uniform float vSpecular;
//VTK::Light::Dec
#endif

// possibly define vtkGradientOpacityOn
//VTK::GradientOpacityOn
#ifdef vtkGradientOpacityOn
uniform float goscale0;
uniform float goshift0;
uniform float gomin0;
uniform float gomax0;
#if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)
uniform float goscale1;
uniform float goshift1;
uniform float gomin1;
uniform float gomax1;
#if vtkNumComponents >= 3
uniform float goscale2;
uniform float goshift2;
uniform float gomin2;
uniform float gomax2;
#endif
#if vtkNumComponents >= 4
uniform float goscale3;
uniform float goshift3;
uniform float gomin3;
uniform float gomax3;
#endif
#endif
#endif

// if you want to see the raw tiled
// data in webgl1 uncomment the following line
// #define debugtile

// camera values
uniform float camThick;
uniform float camNear;
uniform float camFar;
uniform int cameraParallel;

// values describing the volume geometry
uniform vec3 vOriginVC;
uniform vec3 vSpacing;
uniform ivec3 volumeDimensions; // 3d texture dimensions
uniform vec3 vPlaneNormal0;
uniform float vPlaneDistance0;
uniform vec3 vPlaneNormal1;
uniform float vPlaneDistance1;
uniform vec3 vPlaneNormal2;
uniform float vPlaneDistance2;
uniform vec3 vPlaneNormal3;
uniform float vPlaneDistance3;
uniform vec3 vPlaneNormal4;
uniform float vPlaneDistance4;
uniform vec3 vPlaneNormal5;
uniform float vPlaneDistance5;

//VTK::ClipPlane::Dec

// opacity and color textures
uniform sampler2D otexture;
uniform float oshift0;
uniform float oscale0;
uniform sampler2D ctexture;
uniform float cshift0;
uniform float cscale0;

// jitter texture
uniform sampler2D jtexture;

// some 3D texture values
uniform float sampleDistance;
uniform vec3 vVCToIJK;

// the heights defined below are the locations
// for the up to four components of the tfuns
// the tfuns have a height of 2XnumComps pixels so the
// values are computed to hit the middle of the two rows
// for that component
#ifdef vtkIndependentComponentsOn
#if vtkNumComponents == 2
uniform float mix0;
uniform float mix1;
#define height0 0.25
#define height1 0.75
#endif
#if vtkNumComponents == 3
uniform float mix0;
uniform float mix1;
uniform float mix2;
#define height0 0.17
#define height1 0.5
#define height2 0.83
#endif
#if vtkNumComponents == 4
uniform float mix0;
uniform float mix1;
uniform float mix2;
uniform float mix3;
#define height0 0.125
#define height1 0.375
#define height2 0.625
#define height3 0.875
#endif
#endif

#if vtkNumComponents >= 2
uniform float oshift1;
uniform float oscale1;
uniform float cshift1;
uniform float cscale1;
#endif
#if vtkNumComponents >= 3
uniform float oshift2;
uniform float oscale2;
uniform float cshift2;
uniform float cscale2;
#endif
#if vtkNumComponents >= 4
uniform float oshift3;
uniform float oscale3;
uniform float cshift3;
uniform float cscale3;
#endif

uniform vec4 ipScalarRangeMin;
uniform vec4 ipScalarRangeMax;

// declaration for intermixed geometry
//VTK::ZBuffer::Dec

// Lighting values
//VTK::Light::Dec

//=======================================================================
// Webgl2 specific version of functions
#if __VERSION__ == 300

uniform highp sampler3D texture1;

vec4 getTextureValue(vec3 pos)
{
  vec4 tmp = texture(texture1, pos);
#if vtkNumComponents == 1
  tmp.a = tmp.r;
#endif
#if vtkNumComponents == 2
  tmp.a = tmp.g;
#endif
#if vtkNumComponents == 3
  tmp.a = length(tmp.rgb);
#endif
  return tmp;
}

//=======================================================================
// WebGL1 specific version of functions
#else

uniform sampler2D texture1;

uniform float texWidth;
uniform float texHeight;
uniform int xreps;
uniform int xstride;
uniform int ystride;

// if computing trilinear values from multiple z slices
#ifdef vtkTrilinearOn
vec4 getTextureValue(vec3 ijk)
{
  float zoff = 1.0/float(volumeDimensions.z);
  vec4 val1 = getOneTextureValue(ijk);
  vec4 val2 = getOneTextureValue(vec3(ijk.xy, ijk.z + zoff));

  float indexZ = float(volumeDimensions)*ijk.z;
  float zmix =  indexZ - floor(indexZ);

  return mix(val1, val2, zmix);
}

vec4 getOneTextureValue(vec3 ijk)
#else // nearest or fast linear
vec4 getTextureValue(vec3 ijk)
#endif
{
  vec3 tdims = vec3(volumeDimensions);

#ifdef debugtile
  vec2 tpos = vec2(ijk.x, ijk.y);
  vec4 tmp = texture2D(texture1, tpos);
  tmp.a = 1.0;

#else
  int z = int(ijk.z * tdims.z);
  int yz = z / xreps;
  int xz = z - yz*xreps;

  int tileWidth = volumeDimensions.x/xstride;
  int tileHeight = volumeDimensions.y/ystride;

  xz *= tileWidth;
  yz *= tileHeight;

  float ni = float(xz) + (ijk.x*float(tileWidth));
  float nj = float(yz) + (ijk.y*float(tileHeight));

  vec2 tpos = vec2(ni/texWidth, nj/texHeight);

  vec4 tmp = texture2D(texture1, tpos);

#if vtkNumComponents == 1
  tmp.a = tmp.r;
#endif
#if vtkNumComponents == 2
  tmp.g = tmp.a;
#endif
#if vtkNumComponents == 3
  tmp.a = length(tmp.rgb);
#endif
#endif

  return tmp;
}

// End of Webgl1 specific code
//=======================================================================
#endif

//=======================================================================
// compute the normal and gradient magnitude for a position
vec4 computeNormal(vec3 pos, float scalar, vec3 tstep)
{
  vec4 result;

  result.x = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)).a - scalar;
  result.y = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)).a - scalar;
  result.z = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)).a - scalar;

  // divide by spacing
  result.xyz /= vSpacing;

  result.w = length(result.xyz);

  // rotate to View Coords
  result.xyz =
    result.x * vPlaneNormal0 +
    result.y * vPlaneNormal2 +
    result.z * vPlaneNormal4;

  if (result.w > 0.0)
  {
    result.xyz /= result.w;
  }
  return result;
}

#ifdef vtkImageLabelOutlineOn
vec3 fragCoordToIndexSpace(vec4 fragCoord) {
  vec4 pcPos = vec4(
    (fragCoord.x / vpWidth - vpOffsetX - 0.5) * 2.0,
    (fragCoord.y / vpHeight - vpOffsetY - 0.5) * 2.0,
    (fragCoord.z - 0.5) * 2.0,
    1.0);

  vec4 worldCoord = PCWCMatrix * pcPos;
  vec4 vertex = (worldCoord/worldCoord.w);

  vec3 index = (vWCtoIDX * vertex).xyz;

  // half voxel fix for labelmapOutline 
  return (index + vec3(0.5)) / vec3(volumeDimensions);
}
#endif

//=======================================================================
// compute the normals and gradient magnitudes for a position
// for independent components
mat4 computeMat4Normal(vec3 pos, vec4 tValue, vec3 tstep)
{
  mat4 result;
  vec4 distX = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)) - tValue;
  vec4 distY = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)) - tValue;
  vec4 distZ = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)) - tValue;

  // divide by spacing
  distX /= vSpacing.x;
  distY /= vSpacing.y;
  distZ /= vSpacing.z;

  mat3 rot;
  rot[0] = vPlaneNormal0;
  rot[1] = vPlaneNormal2;
  rot[2] = vPlaneNormal4;

#if !defined(vtkComponent0Proportional)
  result[0].xyz = vec3(distX.r, distY.r, distZ.r);
  result[0].a = length(result[0].xyz);
  result[0].xyz *= rot;
  if (result[0].w > 0.0)
  {
    result[0].xyz /= result[0].w;
  }
#endif

// optionally compute the 2nd component
#if vtkNumComponents >= 2 && !defined(vtkComponent1Proportional)
  result[1].xyz = vec3(distX.g, distY.g, distZ.g);
  result[1].a = length(result[1].xyz);
  result[1].xyz *= rot;
  if (result[1].w > 0.0)
  {
    result[1].xyz /= result[1].w;
  }
#endif

// optionally compute the 3rd component
#if vtkNumComponents >= 3 && !defined(vtkComponent2Proportional)
  result[2].xyz = vec3(distX.b, distY.b, distZ.b);
  result[2].a = length(result[2].xyz);
  result[2].xyz *= rot;
  if (result[2].w > 0.0)
  {
    result[2].xyz /= result[2].w;
  }
#endif

// optionally compute the 4th component
#if vtkNumComponents >= 4 && !defined(vtkComponent3Proportional)
  result[3].xyz = vec3(distX.a, distY.a, distZ.a);
  result[3].a = length(result[3].xyz);
  result[3].xyz *= rot;
  if (result[3].w > 0.0)
  {
    result[3].xyz /= result[3].w;
  }
#endif

  return result;
}

//=======================================================================
// Given a normal compute the gradient opacity factors
//
float computeGradientOpacityFactor(
  vec4 normal, float goscale, float goshift, float gomin, float gomax)
{
#if defined(vtkGradientOpacityOn)
  return clamp(normal.a*goscale + goshift, gomin, gomax);
#else
  return 1.0;
#endif
}

#if vtkLightComplexity > 0
void applyLighting(inout vec3 tColor, vec4 normal)
{
  vec3 diffuse = vec3(0.0, 0.0, 0.0);
  vec3 specular = vec3(0.0, 0.0, 0.0);
  //VTK::Light::Impl
  tColor.rgb = tColor.rgb*(diffuse*vDiffuse + vAmbient) + specular*vSpecular;
}
#endif

//=======================================================================
// Given a texture value compute the color and opacity
//
vec4 getColorForValue(vec4 tValue, vec3 posIS, vec3 tstep)
{
#ifdef vtkImageLabelOutlineOn
  vec3 centerPosIS = fragCoordToIndexSpace(gl_FragCoord); // pos in texture space
  vec4 centerValue = getTextureValue(centerPosIS);
  bool pixelOnBorder = false;
  vec4 tColor = texture2D(ctexture, vec2(centerValue.r * cscale0 + cshift0, 0.5));

  // Get alpha of segment from opacity function.
  tColor.a = texture2D(otexture, vec2(centerValue.r * oscale0 + oshift0, 0.5)).r;

  // Only perform outline check on fragments rendering voxels that aren't invisible.
  // Saves a bunch of needless checks on the background.
  // TODO define epsilon when building shader?
  if (float(tColor.a) > 0.01) {
    for (int i = -outlineThickness; i <= outlineThickness; i++) {
      for (int j = -outlineThickness; j <= outlineThickness; j++) {
        if (i == 0 || j == 0) {
          continue;
        }

        vec4 neighborPixelCoord = vec4(gl_FragCoord.x + float(i),
          gl_FragCoord.y + float(j),
          gl_FragCoord.z, gl_FragCoord.w);

        vec3 neighborPosIS = fragCoordToIndexSpace(neighborPixelCoord);
        vec4 value = getTextureValue(neighborPosIS);

        // If any of my neighbours are not the same value as I
        // am, this means I am on the border of the segment.
        // We can break the loops
        if (any(notEqual(value, centerValue))) {
          pixelOnBorder = true;
          break;
        }
      }

      if (pixelOnBorder == true) {
        break;
      }
    }

    // If I am on the border, I am displayed at full opacity
    if (pixelOnBorder == true) {
      tColor.a = 1.0;
    }
  }

#else
  // compute the normal and gradient magnitude if needed
  // We compute it as a vec4 if possible otherwise a mat4
  //
  vec4 goFactor = vec4(1.0,1.0,1.0,1.0);

  // compute the normal vectors as needed
  #if (vtkLightComplexity > 0) || defined(vtkGradientOpacityOn)
    #if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)
      mat4 normalMat = computeMat4Normal(posIS, tValue, tstep);
      #if !defined(vtkComponent0Proportional)
        vec4 normal0 = normalMat[0];
      #endif
      #if !defined(vtkComponent1Proportional)
        vec4 normal1 = normalMat[1];
      #endif
      #if vtkNumComponents > 2
        #if !defined(vtkComponent2Proportional)
          vec4 normal2 = normalMat[2];
        #endif
        #if vtkNumComponents > 3
          #if !defined(vtkComponent3Proportional)
            vec4 normal3 = normalMat[3];
          #endif
        #endif
      #endif
    #else
      vec4 normal0 = computeNormal(posIS, tValue.a, tstep);
    #endif
  #endif

  // compute gradient opacity factors as needed
  #if defined(vtkGradientOpacityOn)
    #if !defined(vtkComponent0Proportional)
      goFactor.x =
        computeGradientOpacityFactor(normal0, goscale0, goshift0, gomin0, gomax0);
    #endif
    #if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)
      #if !defined(vtkComponent1Proportional)
        goFactor.y =
          computeGradientOpacityFactor(normal1, goscale1, goshift1, gomin1, gomax1);
      #endif
      #if vtkNumComponents > 2
        #if !defined(vtkComponent2Proportional)
          goFactor.z =
            computeGradientOpacityFactor(normal2, goscale2, goshift2, gomin2, gomax2);
        #endif
        #if vtkNumComponents > 3
          #if !defined(vtkComponent3Proportional)
            goFactor.w =
              computeGradientOpacityFactor(normal3, goscale3, goshift3, gomin3, gomax3);
          #endif
        #endif
      #endif
    #endif
  #endif

  // single component is always independent
  #if vtkNumComponents == 1
    vec4 tColor = texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, 0.5));
    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, 0.5)).r;
  #endif

  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2
    vec4 tColor = mix0*texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, height0));
    #if !defined(vtkComponent0Proportional)
      tColor.a = goFactor.x*mix0*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, height0)).r;
    #else
      float pwfValue = texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, height0)).r;
      tColor *= pwfValue;
      tColor.a *= mix(pwfValue, 1.0, (1.0 - mix0));
    #endif

    vec3 tColor1 = mix1*texture2D(ctexture, vec2(tValue.g * cscale1 + cshift1, height1)).rgb;
    #if !defined(vtkComponent1Proportional)
      tColor.a += goFactor.y*mix1*texture2D(otexture, vec2(tValue.g * oscale1 + oshift1, height1)).r;
    #else
      float pwfValue = texture2D(otexture, vec2(tValue.g * oscale1 + oshift1, height1)).r;
      tColor1 *= pwfValue;
      tColor.a *= mix(pwfValue, 1.0, (1.0 - mix1));
    #endif

    #if vtkNumComponents >= 3
      vec3 tColor2 = mix2*texture2D(ctexture, vec2(tValue.b * cscale2 + cshift2, height2)).rgb;
      #if !defined(vtkComponent2Proportional)
        tColor.a += goFactor.z*mix2*texture2D(otexture, vec2(tValue.b * oscale2 + oshift2, height2)).r;
      #else
        float pwfValue = texture2D(otexture, vec2(tValue.b * oscale2 + oshift2, height2)).r;
        tColor2 *= pwfValue;
        tColor.a *= mix(pwfValue, 1.0, (1.0 - mix2));
      #endif

      #if vtkNumComponents >= 4
        vec3 tColor3 = mix3*texture2D(ctexture, vec2(tValue.a * cscale3 + cshift3, height3)).rgb;
        #if !defined(vtkComponent3Proportional)
          tColor.a += goFactor.w*mix3*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, height3)).r;
        #else
          float pwfValue = texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, height3)).r;
          tColor3 *= pwfValue;
          tColor.a *= mix(pwfValue, 1.0, (1.0 - mix3));
        #endif
      #endif
    #endif
  #else // then not independent

  #if vtkNumComponents == 2
    float lum = tValue.r * cscale0 + cshift0;
    float alpha = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale1 + oshift1, 0.5)).r;
    vec4 tColor = vec4(lum, lum, lum, alpha);
  #endif
  #if vtkNumComponents == 3
    vec4 tColor;
    tColor.r = tValue.r * cscale0 + cshift0;
    tColor.g = tValue.g * cscale1 + cshift1;
    tColor.b = tValue.b * cscale2 + cshift2;
    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale0 + oshift0, 0.5)).r;
  #endif
  #if vtkNumComponents == 4
    vec4 tColor;
    tColor.r = tValue.r * cscale0 + cshift0;
    tColor.g = tValue.g * cscale1 + cshift1;
    tColor.b = tValue.b * cscale2 + cshift2;
    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, 0.5)).r;
  #endif
  #endif // dependent

  // apply lighting if requested as appropriate
  #if vtkLightComplexity > 0
    #if !defined(vtkComponent0Proportional)
      applyLighting(tColor.rgb, normal0);
    #endif
  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2
    #if !defined(vtkComponent1Proportional)
      applyLighting(tColor1, normal1);
    #endif
  #if vtkNumComponents >= 3
    #if !defined(vtkComponent2Proportional)
      applyLighting(tColor2, normal2);
    #endif
  #if vtkNumComponents >= 4
    #if !defined(vtkComponent3Proportional)
      applyLighting(tColor3, normal3);
    #endif
  #endif
  #endif
  #endif
#endif

// perform final independent blend as needed
#if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2
  tColor.rgb += tColor1;
#if vtkNumComponents >= 3
  tColor.rgb += tColor2;
#if vtkNumComponents >= 4
  tColor.rgb += tColor3;
#endif
#endif
#endif

#endif







return tColor;
}

bool valueWithinScalarRange(vec4 val, vec4 min, vec4 max) {
  bool withinRange = false;
  #if vtkNumComponents == 1
    if (val.r >= min.r && val.r <= max.r) {
      withinRange = true;
    }
  #endif
  #if defined(vtkIndependentComponentsOn) && vtkNumComponents == 2
     if (val.r >= min.r && val.r <= max.r &&
        val.g >= min.g && val.g <= max.g) {
      withinRange = true;
    }
  #endif
  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 3
    if (all(greaterThanEqual(val, ipScalarRangeMin)) &&
        all(lessThanEqual(val, ipScalarRangeMax))) {
      withinRange = true;
    }
  #endif
  return withinRange;
}

//=======================================================================
// Apply the specified blend mode operation along the ray's path.
//
void applyBlend(vec3 posIS, vec3 endIS, float sampleDistanceIS, vec3 tdims)
{
  vec3 tstep = 1.0/tdims;

  // start slightly inside and apply some jitter
  vec3 delta = endIS - posIS;
  vec3 stepIS = normalize(delta)*sampleDistanceIS;
  float raySteps = length(delta)/sampleDistanceIS;

  // avoid 0.0 jitter
  float jitter = 0.01 + 0.99*texture2D(jtexture, gl_FragCoord.xy/32.0).r;
  float stepsTraveled = jitter;

  // local vars for the loop
  vec4 color = vec4(0.0, 0.0, 0.0, 0.0);
  vec4 tValue;
  vec4 tColor;

  // if we have less than one step then pick the middle point
  // as our value
  // if (raySteps <= 1.0)
  // {
  //   posIS = (posIS + endIS)*0.5;
  // }

  // Perform initial step at the volume boundary
  // compute the scalar
  tValue = getTextureValue(posIS);

  #if vtkBlendMode == 0 // COMPOSITE_BLEND
    // now map through opacity and color
    tColor = getColorForValue(tValue, posIS, tstep);

    // handle very thin volumes
    if (raySteps <= 1.0)
    {
      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps);
      gl_FragData[0] = tColor;
      return;
    }

    tColor.a = 1.0 - pow(1.0 - tColor.a, jitter);
    color = vec4(tColor.rgb*tColor.a, tColor.a);
    posIS += (jitter*stepIS);

    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // now map through opacity and color
      tColor = getColorForValue(tValue, posIS, tstep);

      float mix = (1.0 - color.a);

      // this line should not be needed but nvidia seems to not handle
      // the break correctly on windows/chrome 58 angle
      //mix = mix * sign(max(raySteps - stepsTraveled - 1.0, 0.0));

      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;
      stepsTraveled++;
      posIS += stepIS;
      if (color.a > 0.99) { color.a = 1.0; break; }
    }

    if (color.a < 0.99 && (raySteps - stepsTraveled) > 0.0)
    {
      posIS = endIS;

      // compute the scalar
      tValue = getTextureValue(posIS);

      // now map through opacity and color
      tColor = getColorForValue(tValue, posIS, tstep);
      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps - stepsTraveled);

      float mix = (1.0 - color.a);
      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;
    }

    gl_FragData[0] = vec4(color.rgb/color.a, color.a);
  #endif
  #if vtkBlendMode == 1 || vtkBlendMode == 2
    // MAXIMUM_INTENSITY_BLEND || MINIMUM_INTENSITY_BLEND
    // Find maximum/minimum intensity along the ray.

    // Define the operation we will use (min or max)
    #if vtkBlendMode == 1
    #define OP max
    #else
    #define OP min
    #endif

    // If the clipping range is shorter than the sample distance
    // we can skip the sampling loop along the ray.
    if (raySteps <= 1.0)
    {
      gl_FragData[0] = getColorForValue(tValue, posIS, tstep);
      return;
    }

    vec4 value = tValue;
    posIS += (jitter*stepIS);

    // Sample along the ray until MaximumSamplesValue,
    // ending slightly inside the total distance
    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // Update the maximum value if necessary
      value = OP(tValue, value);

      // Otherwise, continue along the ray
      stepsTraveled++;
      posIS += stepIS;
    }

    // Perform the last step along the ray using the
    // residual distance
    posIS = endIS;
    tValue = getTextureValue(posIS);
    value = OP(tValue, value);

    // Now map through opacity and color
    gl_FragData[0] = getColorForValue(value, posIS, tstep);
  #endif
  #if vtkBlendMode == 3 || vtkBlendMode == 4 //AVERAGE_INTENSITY_BLEND || ADDITIVE_BLEND
    vec4 sum = vec4(0.);

    if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {
      sum += tValue;
    }

    if (raySteps <= 1.0) {
      gl_FragData[0] = getColorForValue(sum, posIS, tstep);
      return;
    }

    posIS += (jitter*stepIS);

    // Sample along the ray until MaximumSamplesValue,
    // ending slightly inside the total distance
    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // One can control the scalar range by setting the AverageIPScalarRange to disregard scalar values, not in the range of interest, from the average computation.
      // Notes:
      // - We are comparing all values in the texture to see if any of them
      //   are outside of the scalar range. In the future we might want to allow
      //   scalar ranges for each component.
      if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {
        // Sum the values across each step in the path
        sum += tValue;
      }
      stepsTraveled++;
      posIS += stepIS;
    }

    // Perform the last step along the ray using the
    // residual distance
    posIS = endIS;

    // compute the scalar
    tValue = getTextureValue(posIS);

    // One can control the scalar range by setting the IPScalarRange to disregard scalar values, not in the range of interest, from the average computation
    if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {
      sum += tValue;

      stepsTraveled++;
    }

    #if vtkBlendMode == 3 // Average
      sum /= vec4(stepsTraveled, stepsTraveled, stepsTraveled, 1.0);
    #endif

    gl_FragData[0] = getColorForValue(sum, posIS, tstep);
  #endif
}

//=======================================================================
// Compute a new start and end point for a given ray based
// on the provided bounded clipping plane (aka a rectangle)
void getRayPointIntersectionBounds(
  vec3 rayPos, vec3 rayDir,
  vec3 planeDir, float planeDist,
  inout vec2 tbounds, vec3 vPlaneX, vec3 vPlaneY,
  float vSize1, float vSize2)
{
  float result = dot(rayDir, planeDir);
  if (abs(result) < 1e-6)
  {
    return;
  }
  result = -1.0 * (dot(rayPos, planeDir) + planeDist) / result;
  vec3 xposVC = rayPos + rayDir*result;
  vec3 vxpos = xposVC - vOriginVC;
  vec2 vpos = vec2(
    dot(vxpos, vPlaneX),
    dot(vxpos, vPlaneY));

  // on some apple nvidia systems this does not work
  // if (vpos.x < 0.0 || vpos.x > vSize1 ||
  //     vpos.y < 0.0 || vpos.y > vSize2)
  // even just
  // if (vpos.x < 0.0 || vpos.y < 0.0)
  // fails
  // so instead we compute a value that represents in and out
  //and then compute the return using this value
  float xcheck = max(0.0, vpos.x * (vpos.x - vSize1)); //  0 means in bounds
  float check = sign(max(xcheck, vpos.y * (vpos.y - vSize2))); //  0 means in bounds, 1 = out

  tbounds = mix(
   vec2(min(tbounds.x, result), max(tbounds.y, result)), // in value
   tbounds, // out value
   check);  // 0 in 1 out
}

//=======================================================================
// given a
// - ray direction (rayDir)
// - starting point (vertexVCVSOutput)
// - bounding planes of the volume
// - optionally depth buffer values
// - far clipping plane
// compute the start/end distances of the ray we need to cast
vec2 computeRayDistances(vec3 rayDir, vec3 tdims)
{
  vec2 dists = vec2(100.0*camFar, -1.0);

  vec3 vSize = vSpacing*tdims;

  // all this is in View Coordinates
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal0, vPlaneDistance0, dists, vPlaneNormal2, vPlaneNormal4,
    vSize.y, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal1, vPlaneDistance1, dists, vPlaneNormal2, vPlaneNormal4,
    vSize.y, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal2, vPlaneDistance2, dists, vPlaneNormal0, vPlaneNormal4,
    vSize.x, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal3, vPlaneDistance3, dists, vPlaneNormal0, vPlaneNormal4,
    vSize.x, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal4, vPlaneDistance4, dists, vPlaneNormal0, vPlaneNormal2,
    vSize.x, vSize.y);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal5, vPlaneDistance5, dists, vPlaneNormal0, vPlaneNormal2,
    vSize.x, vSize.y);

  //VTK::ClipPlane::Impl

  // do not go behind front clipping plane
  dists.x = max(0.0,dists.x);

  // do not go PAST far clipping plane
  float farDist = -camThick/rayDir.z;
  dists.y = min(farDist,dists.y);

  // Do not go past the zbuffer value if set
  // This is used for intermixing opaque geometry
  //VTK::ZBuffer::Impl

  return dists;
}

//=======================================================================
// Compute the index space starting position (pos) and end
// position
//
void computeIndexSpaceValues(out vec3 pos, out vec3 endPos, out float sampleDistanceIS, vec3 rayDir, vec2 dists)
{
  // compute starting and ending values in volume space
  pos = vertexVCVSOutput + dists.x*rayDir;
  pos = pos - vOriginVC;
  // convert to volume basis and origin
  pos = vec3(
    dot(pos, vPlaneNormal0),
    dot(pos, vPlaneNormal2),
    dot(pos, vPlaneNormal4));

  endPos = vertexVCVSOutput + dists.y*rayDir;
  endPos = endPos - vOriginVC;
  endPos = vec3(
    dot(endPos, vPlaneNormal0),
    dot(endPos, vPlaneNormal2),
    dot(endPos, vPlaneNormal4));

  float delta = length(endPos - pos);

  pos *= vVCToIJK;
  endPos *= vVCToIJK;

  float delta2 = length(endPos - pos);
  sampleDistanceIS = sampleDistance*delta2/delta;
}

void main()
{

  vec3 rayDirVC;

  if (cameraParallel == 1)
  {
    // Camera is parallel, so the rayDir is just the direction of the camera.
    rayDirVC = vec3(0.0, 0.0, -1.0);
  } else {
    // camera is at 0,0,0 so rayDir for perspective is just the vc coord
    rayDirVC = normalize(vertexVCVSOutput);
  }

  vec3 tdims = vec3(volumeDimensions);

  // compute the start and end points for the ray
  vec2 rayStartEndDistancesVC = computeRayDistances(rayDirVC, tdims);

  // do we need to composite? aka does the ray have any length
  // If not, bail out early
  if (rayStartEndDistancesVC.y <= rayStartEndDistancesVC.x)
  {
    discard;
  }

  // IS = Index Space
  vec3 posIS;
  vec3 endIS;
  float sampleDistanceIS;
  computeIndexSpaceValues(posIS, endIS, sampleDistanceIS, rayDirVC, rayStartEndDistancesVC);

  // Perform the blending operation along the ray
  applyBlend(posIS, endIS, sampleDistanceIS, tdims);
}
`;function ff(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function L4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ff(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ff(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var A4=Ui,Ys=Re;function B4(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function V4(t,e){e.classHierarchy.push("vtkOpenGLVolumeMapper"),t.buildPass=function(){e.zBufferTexture=null},t.opaqueZBufferPass=function(n,r){if(n){var a=r.getZBufferTexture();a!==e.zBufferTexture&&(e.zBufferTexture=a)}},t.volumePass=function(n,r){if(n){e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow),e.jitterTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.framebuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.scalarTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.colorTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.opacityTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLVolume=t.getFirstAncestorOfType("vtkOpenGLVolume");var a=e.openGLVolume.getRenderable();e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer");var i=e.openGLRenderer.getRenderable();e.openGLCamera=e.openGLRenderer.getViewNodeFor(i.getActiveCamera()),t.renderPiece(i,a)}},t.buildShaders=function(n,r,a){t.getShaderTemplate(n,r,a),t.replaceShaderValues(n,r,a)},t.getShaderTemplate=function(n,r,a){n.Vertex=R4,n.Fragment=F4,n.Geometry=""},t.replaceShaderValues=function(n,r,a){var i=n.Fragment,s=a.getProperty().getInterpolationType();s===nu.LINEAR&&(i=fe.substitute(i,"//VTK::TrilinearOn","#define vtkTrilinearOn").result);var o=a.getProperty().getUseLabelOutline();o===!0&&(i=fe.substitute(i,"//VTK::ImageLabelOutlineOn","#define vtkImageLabelOutlineOn").result);var c=e.scalarTexture.getComponents();i=fe.substitute(i,"//VTK::NumComponents","#define vtkNumComponents ".concat(c)).result;var u=a.getProperty().getIndependentComponents();if(u){i=fe.substitute(i,"//VTK::IndependentComponentsOn","#define vtkIndependentComponentsOn").result;for(var f=[],l=0;l<c;l++)a.getProperty().getOpacityMode(l)===np.PROPORTIONAL&&f.push("#define vtkComponent".concat(l,"Proportional"));f.length>0&&(i=fe.substitute(i,"//VTK::vtkProportionalComponents",f.join(`
`)).result)}var h=e.currentInput.getSpatialExtent(),p=e.currentInput.getSpacing(),v=new Float64Array(3);Ze(v,(h[1]-h[0])*p[0],(h[3]-h[2])*p[1],(h[5]-h[4])*p[2]);var y=Fn(v)/e.renderable.getSampleDistance();i=fe.substitute(i,"//VTK::MaximumSamplesValue","".concat(Math.ceil(y))).result,i=fe.substitute(i,"//VTK::LightComplexity","#define vtkLightComplexity ".concat(e.lastLightComplexity)).result,e.gopacity=a.getProperty().getUseGradientOpacity(0);for(var _=1;u&&!e.gopacity&&_<c;++_)a.getProperty().getUseGradientOpacity(_)&&(e.gopacity=!0);e.gopacity&&(i=fe.substitute(i,"//VTK::GradientOpacityOn","#define vtkGradientOpacityOn").result),e.zBufferTexture!==null&&(i=fe.substitute(i,"//VTK::ZBuffer::Dec",["uniform sampler2D zBufferTexture;","uniform float vpWidth;","uniform float vpHeight;"]).result,i=fe.substitute(i,"//VTK::ZBuffer::Impl",["vec4 depthVec = texture2D(zBufferTexture, vec2(gl_FragCoord.x / vpWidth, gl_FragCoord.y/vpHeight));","float zdepth = (depthVec.r*256.0 + depthVec.g)/257.0;","zdepth = zdepth * 2.0 - 1.0;","zdepth = -2.0 * camFar * camNear / (zdepth*(camFar-camNear)-(camFar+camNear)) - camNear;","zdepth = -zdepth/rayDir.z;","dists.y = min(zdepth,dists.y);"]).result),i=fe.substitute(i,"//VTK::BlendMode","".concat(e.renderable.getBlendMode())).result,n.Fragment=i,t.replaceShaderLight(n,r,a),t.replaceShaderClippingPlane(n,r,a)},t.replaceShaderLight=function(n,r,a){var i=n.Fragment,s="";switch(e.lastLightComplexity){case 1:case 2:case 3:{var o=0;r.getLights().forEach(function(c){var u=c.getSwitch();u>0&&(i=fe.substitute(i,"//VTK::Light::Dec",["uniform vec3 lightColor".concat(o,";"),"uniform vec3 lightDirectionVC".concat(o,"; // normalized"),"uniform vec3 lightHalfAngleVC".concat(o,"; // normalized"),"//VTK::Light::Dec"],!1).result,i=fe.substitute(i,"//VTK::Light::Impl",["  float df = abs(dot(normal.rgb, -lightDirectionVC".concat(o,"));"),"  diffuse += ((df".concat(s,") * lightColor").concat(o,");"),"    float sf = pow( abs(dot(lightHalfAngleVC".concat(o,",normal.rgb)), vSpecularPower);"),"    specular += ((sf".concat(s,") * lightColor").concat(o,");"),"  //VTK::Light::Impl"],!1).result,o++)});break}}n.Fragment=i},t.replaceShaderClippingPlane=function(n,r,a){var i=n.Fragment;if(e.renderable.getClippingPlanes().length>0){var s=e.renderable.getClippingPlanes().length;i=fe.substitute(i,"//VTK::ClipPlane::Dec",["uniform vec3 vClipPlaneNormals[6];","uniform float vClipPlaneDistances[6];","//VTK::ClipPlane::Dec"],!1).result,i=fe.substitute(i,"//VTK::ClipPlane::Impl",["for(int i = 0; i < ".concat(s,"; i++) {"),"  float rayDirRatio = dot(rayDir, vClipPlaneNormals[i]);","  float equationResult = dot(vertexVCVSOutput, vClipPlaneNormals[i]) + vClipPlaneDistances[i];","  if (rayDirRatio == 0.0)","  {","    if (equationResult < 0.0) dists.x = dists.y;","    continue;","  }","  float result = -1.0 * equationResult / rayDirRatio;","  if (rayDirRatio < 0.0) dists.y = min(dists.y, result);","  else dists.x = max(dists.x, result);","}","//VTK::ClipPlane::Impl"],!1).result}n.Fragment=i},t.getNeedToRebuildShaders=function(n,r,a){var i=0;a.getProperty().getShade()&&e.renderable.getBlendMode()===ap.COMPOSITE_BLEND&&(i=0,e.numberOfLights=0,r.getLights().forEach(function(m){var d=m.getSwitch();d>0&&(e.numberOfLights++,i===0&&(i=1)),i===1&&(e.numberOfLights>1||m.getIntensity()!==1||!m.lightTypeIsHeadLight())&&(i=2),i<3&&m.getPositional()&&(i=3)}));var s=!1;e.lastLightComplexity!==i&&(e.lastLightComplexity=i,s=!0);var o=e.scalarTexture.getComponents(),c=a.getProperty().getIndependentComponents(),u=!1,f=[];if(c){for(var l=0;l<o;l++)f.push(a.getProperty().getOpacityMode(l));f.length>0&&(u=!0)}var h=e.currentInput.getSpatialExtent(),p=e.currentInput.getSpacing(),v=new Float64Array(3);Ze(v,(h[1]-h[0])*p[0],(h[3]-h[2])*p[1],(h[5]-h[4])*p[2]);var y=Fn(v)/e.renderable.getSampleDistance(),_={interpolationType:a.getProperty().getInterpolationType(),useLabelOutline:a.getProperty().getUseLabelOutline(),numComp:o,usesProportionalComponents:u,iComps:c,maxSamples:y,useGradientOpacity:a.getProperty().getUseGradientOpacity(0),blendMode:e.renderable.getBlendMode(),proportionalComponents:f};return!e.previousState||e.previousState.interpolationType!==_.interpolationType||e.previousState.useLabelOutline!==_.useLabelOutline||e.previousState.numComp!==_.numComp||e.previousState.usesProportionalComponents!==_.usesProportionalComponents||e.previousState.iComps!==_.iComps||e.previousState.maxSamples!==_.maxSamples||e.previousState.useGradientOpacity!==_.useGradientOpacity||e.previousState.blendMode!==_.blendMode||!B4(e.previousState.proportionalComponents,_.proportionalComponents)?(e.previousState=L4({},_),!0):n.getProgram()===0||s||e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||!!e.lastZBufferTexture!=!!e.zBufferTexture||n.getShaderSourceTime().getMTime()<t.getMTime()||n.getShaderSourceTime().getMTime()<e.renderable.getMTime()?(e.lastZBufferTexture=e.zBufferTexture,!0):!1},t.updateShaders=function(n,r,a){if(e.lastBoundBO=n,t.getNeedToRebuildShaders(n,r,a)){var i={Vertex:null,Fragment:null,Geometry:null};t.buildShaders(i,r,a);var s=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);s!==n.getProgram()&&(n.setProgram(s),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),t.setMapperShaderParameters(n,r,a),t.setCameraShaderParameters(n,r,a),t.setPropertyShaderParameters(n,r,a),t.getClippingPlaneShaderParameters(n,r,a)},t.setMapperShaderParameters=function(n,r,a){var i=n.getProgram();n.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())&&(i.isAttributeUsed("vertexDC")&&(n.getVAO().addAttributeArray(i,n.getCABO(),"vertexDC",n.getCABO().getVertexOffset(),n.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||Ys("Error setting vertexDC in shader VAO.")),n.getAttributeUpdateTime().modified()),i.setUniformi("texture1",e.scalarTexture.getTextureUnit()),i.setUniformf("sampleDistance",e.renderable.getSampleDistance());for(var s=e.scalarTexture.getVolumeInfo(),o=e.renderable.getIpScalarRange(),c=[],u=[],f=0;f<4;f++)c[f]=o[0]*s.dataComputedScale[f]+s.dataComputedOffset[f],u[f]=o[1]*s.dataComputedScale[f]+s.dataComputedOffset[f],c[f]=(c[f]-s.offset[f])/s.scale[f],u[f]=(u[f]-s.offset[f])/s.scale[f];if(i.setUniform4f("ipScalarRangeMin",c[0],c[1],c[2],c[3]),i.setUniform4f("ipScalarRangeMax",u[0],u[1],u[2],u[3]),e.zBufferTexture!==null){i.setUniformi("zBufferTexture",e.zBufferTexture.getTextureUnit());var l=e._useSmallViewport?[e._smallViewportWidth,e._smallViewportHeight]:e._openGLRenderWindow.getFramebufferSize();i.setUniformf("vpWidth",l[0]),i.setUniformf("vpHeight",l[1])}},t.setCameraShaderParameters=function(n,r,a){var i=e.openGLCamera.getKeyMatrices(r),s=e.openGLVolume.getKeyMatrices();ct(e.modelToView,i.wcvc,s.mcwc);var o=n.getProgram(),c=e.openGLCamera.getRenderable(),u=c.getClippingRange();o.setUniformf("camThick",u[1]-u[0]),o.setUniformf("camNear",u[0]),o.setUniformf("camFar",u[1]);for(var f=e.currentInput.getBounds(),l=e.currentInput.getDimensions(),h=new Float64Array(3),p=new Float64Array(3),v=1,y=-1,_=1,m=-1,d=0;d<8;++d){if(Ze(h,f[d%2],f[2+Math.floor(d/2)%2],f[4+Math.floor(d/4)]),be(h,h,e.modelToView),!c.getParallelProjection()){mr(p,h);var g=-u[0]/h[2];_t(h,p,g)}be(h,h,i.vcpc),v=Math.min(h[0],v),y=Math.max(h[0],y),_=Math.min(h[1],_),m=Math.max(h[1],m)}o.setUniformf("dcxmin",v),o.setUniformf("dcxmax",y),o.setUniformf("dcymin",_),o.setUniformf("dcymax",m),o.isUniformUsed("cameraParallel")&&o.setUniformi("cameraParallel",c.getParallelProjection());var x=e.currentInput.getSpatialExtent(),w=e.currentInput.getSpacing(),C=new Float64Array(3);Ze(C,(x[1]-x[0])*w[0],(x[3]-x[2])*w[1],(x[5]-x[4])*w[2]),o.setUniform3f("vSpacing",w[0],w[1],w[2]),Ze(h,x[0],x[2],x[4]),e.currentInput.indexToWorldVec3(h,h),be(h,h,e.modelToView),o.setUniform3f("vOriginVC",h[0],h[1],h[2]);var S=e.currentInput.getIndexToWorld();ct(e.idxToView,e.modelToView,S),pi(e.idxNormalMatrix,i.normalMatrix,s.normalMatrix),pi(e.idxNormalMatrix,e.idxNormalMatrix,e.currentInput.getDirection());var T=Fn(C)/e.renderable.getSampleDistance();T>e.renderable.getMaximumSamplesPerRay()&&A4("The number of steps required ".concat(Math.ceil(T),` is larger than the
        specified maximum number of steps `).concat(e.renderable.getMaximumSamplesPerRay(),`.
        Please either change the
        volumeMapper sampleDistance or its maximum number of samples.`));var b=new Float64Array(3);if(Ze(b,1,1,1),Gu(b,b,C),o.setUniform3f("vVCToIJK",b[0],b[1],b[2]),o.setUniform3i("volumeDimensions",l[0],l[1],l[2]),!e._openGLRenderWindow.getWebgl2()){var O=e.scalarTexture.getVolumeInfo();o.setUniformf("texWidth",e.scalarTexture.getWidth()),o.setUniformf("texHeight",e.scalarTexture.getHeight()),o.setUniformi("xreps",O.xreps),o.setUniformi("xstride",O.xstride),o.setUniformi("ystride",O.ystride)}for(var D=new Float64Array(3),M=new Float64Array(3),R=0;R<6;++R){switch(R){case 1:Ze(D,-1,0,0),Ze(M,x[0],x[2],x[4]);break;case 2:Ze(D,0,1,0),Ze(M,x[1],x[3],x[5]);break;case 3:Ze(D,0,-1,0),Ze(M,x[0],x[2],x[4]);break;case 4:Ze(D,0,0,1),Ze(M,x[1],x[3],x[5]);break;case 5:Ze(D,0,0,-1),Ze(M,x[0],x[2],x[4]);break;case 0:default:Ze(D,1,0,0),Ze(M,x[1],x[3],x[5]);break}Fo(D,D,e.idxNormalMatrix),be(M,M,e.idxToView);var E=-1*Vn(M,D);if(o.setUniform3f("vPlaneNormal".concat(R),D[0],D[1],D[2]),o.setUniformf("vPlaneDistance".concat(R),E),a.getProperty().getUseLabelOutline()){var B=e.currentInput,I=B.getWorldToIndex();o.setUniformMatrix("vWCtoIDX",I),ir(e.projectionToWorld,i.wcpc),o.setUniformMatrix("PCWCMatrix",e.projectionToWorld);var P=t.getRenderTargetSize();o.setUniformf("vpWidth",P[0]),o.setUniformf("vpHeight",P[1]);var L=t.getRenderTargetOffset();o.setUniformf("vpOffsetX",L[0]/P[0]),o.setUniformf("vpOffsetY",L[1]/P[1])}}switch(ir(e.projectionToView,i.vcpc),o.setUniformMatrix("PCVCMatrix",e.projectionToView),e.lastLightComplexity){case 1:case 2:case 3:{var F=0,G=[];r.getLights().forEach(function($){var H=$.getSwitch();if(H>0){var J=$.getColor(),Q=$.getIntensity();G[0]=J[0]*Q,G[1]=J[1]*Q,G[2]=J[2]*Q,o.setUniform3fArray("lightColor".concat(F),G);var q=$.getDirection();Ze(D,q[0],q[1],q[2]),Fo(D,D,i.normalMatrix),o.setUniform3f("lightDirectionVC".concat(F),D[0],D[1],D[2]);var ne=[-.5*D[0],-.5*D[1],-.5*(D[2]-1)];o.setUniform3fArray("lightHalfAngleVC".concat(F),ne),F++}});break}}},t.setPropertyShaderParameters=function(n,r,a){var i=n.getProgram();i.setUniformi("ctexture",e.colorTexture.getTextureUnit()),i.setUniformi("otexture",e.opacityTexture.getTextureUnit()),i.setUniformi("jtexture",e.jitterTexture.getTextureUnit());var s=e.scalarTexture.getVolumeInfo(),o=a.getProperty(),c=e.scalarTexture.getComponents(),u=a.getProperty().getIndependentComponents();if(u&&c>=2)for(var f=0;f<c;f++)i.setUniformf("mix".concat(f),a.getProperty().getComponentWeight(f));for(var l=0;l<c;l++){var h=u?l:0,p=s.scale[l],v=o.getScalarOpacity(h),y=v.getRange(),_=p/(y[1]-y[0]),m=(s.offset[l]-y[0])/(y[1]-y[0]);i.setUniformf("oshift".concat(l),m),i.setUniformf("oscale".concat(l),_);var d=o.getRGBTransferFunction(h),g=d.getRange();i.setUniformf("cshift".concat(l),(s.offset[l]-g[0])/(g[1]-g[0])),i.setUniformf("cscale".concat(l),p/(g[1]-g[0]))}if(e.gopacity)if(u)for(var x=0;x<c;++x){var w=s.scale[x],C=o.getUseGradientOpacity(x);if(C){var S=o.getGradientOpacityMinimumOpacity(x),T=o.getGradientOpacityMaximumOpacity(x);i.setUniformf("gomin".concat(x),S),i.setUniformf("gomax".concat(x),T);var b=[o.getGradientOpacityMinimumValue(x),o.getGradientOpacityMaximumValue(x)];i.setUniformf("goscale".concat(x),w*(T-S)/(b[1]-b[0])),i.setUniformf("goshift".concat(x),-b[0]*(T-S)/(b[1]-b[0])+S)}else i.setUniformf("gomin".concat(x),1),i.setUniformf("gomax".concat(x),1),i.setUniformf("goscale".concat(x),0),i.setUniformf("goshift".concat(x),1)}else{var O=s.scale[c-1],D=o.getGradientOpacityMinimumOpacity(0),M=o.getGradientOpacityMaximumOpacity(0);i.setUniformf("gomin0",D),i.setUniformf("gomax0",M);var R=[o.getGradientOpacityMinimumValue(0),o.getGradientOpacityMaximumValue(0)];i.setUniformf("goscale0",O*(M-D)/(R[1]-R[0])),i.setUniformf("goshift0",-R[0]*(M-D)/(R[1]-R[0])+D)}var E=a.getProperty().getUseLabelOutline();if(E===!0){var B=a.getProperty().getLabelOutlineThickness();i.setUniformi("outlineThickness",B)}e.lastLightComplexity>0&&(i.setUniformf("vAmbient",o.getAmbient()),i.setUniformf("vDiffuse",o.getDiffuse()),i.setUniformf("vSpecular",o.getSpecular()),i.setUniformf("vSpecularPower",o.getSpecularPower()))},t.getClippingPlaneShaderParameters=function(n,r,a){if(e.renderable.getClippingPlanes().length>0){for(var i=e.openGLCamera.getKeyMatrices(r),s=[],o=[],c=e.renderable.getClippingPlanes(),u=c.length,f=0;f<u;++f){var l=c[f].getNormal(),h=c[f].getOrigin();Fo(l,l,i.normalMatrix),be(h,h,i.wcvc);var p=-1*Vn(h,l);s.push(l[0]),s.push(l[1]),s.push(l[2]),o.push(p)}var v=n.getProgram();v.setUniform3fv("vClipPlaneNormals",s),v.setUniformfv("vClipPlaneDistances",o)}},t.delete=b1(function(){e._animationRateSubscription&&(e._animationRateSubscription.unsubscribe(),e._animationRateSubscription=null)},t.delete),t.getRenderTargetSize=function(){if(e._useSmallViewport)return[e._smallViewportWidth,e._smallViewportHeight];var n=e.openGLRenderer.getTiledSizeAndOrigin(),r=n.usize,a=n.vsize;return[r,a]},t.getRenderTargetOffset=function(){var n=e.openGLRenderer.getTiledSizeAndOrigin(),r=n.lowerLeftU,a=n.lowerLeftV;return[r,a]},t.renderPieceStart=function(n,r){var a=n.getVTKWindow().getInteractor();if(e._useSmallViewport=!1,a.isAnimating()&&e._lastScale>1.5&&(e._useSmallViewport=!0),e._animationRateSubscription||(e._animationRateSubscription=a.onAnimationFrameRateUpdate(function(){if(e.renderable.getAutoAdjustSampleDistances()){var u=a.getRecentAnimationFrameRate(),f=a.getDesiredUpdateRate()/u;(f>1.15||f<.85)&&(e._lastScale*=f),e._lastScale>400&&(e._lastScale=400),e._lastScale<1.5&&(e._lastScale=1.5)}else e._lastScale=e.renderable.getImageSampleDistance()*e.renderable.getImageSampleDistance();var l=e._openGLRenderWindow.getFramebufferSize();e._smallViewportWidth=Math.ceil(l[0]/Math.sqrt(e._lastScale)),e._smallViewportHeight=Math.ceil(l[1]/Math.sqrt(e._lastScale))})),e._useSmallViewport){var i=e._openGLRenderWindow.getFramebufferSize();if(e._smallViewportHeight>i[1]&&(e._smallViewportHeight=i[1]),e._smallViewportWidth>i[0]&&(e._smallViewportWidth=i[0]),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.getGLFramebuffer()===null)e.framebuffer.create(i[0],i[1]),e.framebuffer.populateFramebuffer();else{var s=e.framebuffer.getSize();(s[0]!==i[0]||s[1]!==i[1])&&(e.framebuffer.create(i[0],i[1]),e.framebuffer.populateFramebuffer())}e.framebuffer.bind();var o=e.context;o.clearColor(0,0,0,0),o.colorMask(!0,!0,!0,!0),o.clear(o.COLOR_BUFFER_BIT),o.viewport(0,0,e._smallViewportWidth,e._smallViewportHeight),e.fvp=[e._smallViewportWidth/i[0],e._smallViewportHeight/i[1]]}e.context.disable(e.context.DEPTH_TEST),t.updateBufferObjects(n,r);var c=r.getProperty().getInterpolationType();c===nu.NEAREST?(e.scalarTexture.setMinificationFilter(Qe.NEAREST),e.scalarTexture.setMagnificationFilter(Qe.NEAREST)):(e.scalarTexture.setMinificationFilter(Qe.LINEAR),e.scalarTexture.setMagnificationFilter(Qe.LINEAR)),e.lastBoundBO=null,e.zBufferTexture!==null&&e.zBufferTexture.activate()},t.renderPieceDraw=function(n,r){var a=e.context;e.scalarTexture.activate(),e.opacityTexture.activate(),e.colorTexture.activate(),e.jitterTexture.activate(),t.updateShaders(e.tris,n,r),a.drawArrays(a.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release(),e.scalarTexture.deactivate(),e.colorTexture.deactivate(),e.opacityTexture.deactivate(),e.jitterTexture.deactivate()},t.renderPieceFinish=function(n,r){if(e.zBufferTexture!==null&&e.zBufferTexture.deactivate(),e._useSmallViewport){if(e.framebuffer.restorePreviousBindingsAndBuffers(),e.copyShader===null){e.copyShader=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(["//VTK::System::Dec","attribute vec4 vertexDC;","uniform vec2 tfactor;","varying vec2 tcoord;","void main() { tcoord = vec2(vertexDC.x*0.5 + 0.5, vertexDC.y*0.5 + 0.5) * tfactor; gl_Position = vertexDC; }"].join(`
`),["//VTK::System::Dec","//VTK::Output::Dec","uniform sampler2D texture1;","varying vec2 tcoord;","void main() { gl_FragData[0] = texture2D(texture1,tcoord); }"].join(`
`),"");var a=e.copyShader;e.copyVAO=qu.newInstance(),e.copyVAO.setOpenGLRenderWindow(e._openGLRenderWindow),e.tris.getCABO().bind(),e.copyVAO.addAttributeArray(a,e.tris.getCABO(),"vertexDC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||Ys("Error setting vertexDC in copy shader VAO.")}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(e.copyShader);var i=e._openGLRenderWindow.getFramebufferSize();e.context.viewport(0,0,i[0],i[1]);var s=e.framebuffer.getColorTexture();s.activate(),e.copyShader.setUniformi("texture",s.getTextureUnit()),e.copyShader.setUniform2f("tfactor",e.fvp[0],e.fvp[1]);var o=e.context;o.blendFuncSeparate(o.ONE,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA),e.context.drawArrays(e.context.TRIANGLES,0,e.tris.getCABO().getElementCount()),s.deactivate(),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA)}},t.renderPiece=function(n,r){if(t.invokeEvent({type:"StartEvent"}),e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent({type:"EndEvent"}),!e.currentInput){Ys("No input!");return}t.renderPieceStart(n,r),t.renderPieceDraw(n,r),t.renderPieceFinish(n,r)},t.computeBounds=function(n,r){if(!t.getInput()){Ma(e.Bounds);return}e.bounds=t.getInput().getBounds()},t.updateBufferObjects=function(n,r){t.getNeedToRebuildBufferObjects(n,r)&&t.buildBufferObjects(n,r)},t.getNeedToRebuildBufferObjects=function(n,r){return e.VBOBuildTime.getMTime()<t.getMTime()||e.VBOBuildTime.getMTime()<r.getMTime()||e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<r.getProperty().getMTime()||e.VBOBuildTime.getMTime()<e.currentInput.getMTime()},t.buildBufferObjects=function(n,r){var a=e.currentInput;if(!!a){var i=a.getPointData()&&a.getPointData().getScalars();if(!!i){var s=r.getProperty();if(!e.jitterTexture.getHandle()){for(var o=new Uint8Array(1024),c=0;c<32*32;++c)o[c]=255*Math.random();e.jitterTexture.setMinificationFilter(Qe.LINEAR),e.jitterTexture.setMagnificationFilter(Qe.LINEAR),e.jitterTexture.create2DFromRaw(32,32,1,ht.UNSIGNED_CHAR,o)}var u=i.getNumberOfComponents(),f=s.getIndependentComponents(),l=f?u:1,h="".concat(s.getMTime());if(e.opacityTextureString!==h){for(var p=1024,v=p*2*l,y=new Float32Array(v),_=new Float32Array(p),m=0;m<l;++m){var d=s.getScalarOpacity(m),g=e.renderable.getSampleDistance()/s.getScalarOpacityUnitDistance(m),x=d.getRange();d.getTable(x[0],x[1],p,_,1);for(var w=0;w<p;++w)y[m*p*2+w]=1-Math.pow(1-_[w],g),y[m*p*2+w+p]=y[m*p*2+w]}if(e.opacityTexture.releaseGraphicsResources(e._openGLRenderWindow),e.opacityTexture.setMinificationFilter(Qe.LINEAR),e.opacityTexture.setMagnificationFilter(Qe.LINEAR),e._openGLRenderWindow.getWebgl2()||e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear"))e.opacityTexture.create2DFromRaw(p,2*l,1,ht.FLOAT,y);else{for(var C=new Uint8Array(v),S=0;S<v;++S)C[S]=255*y[S];e.opacityTexture.create2DFromRaw(p,2*l,1,ht.UNSIGNED_CHAR,C)}e.opacityTextureString=h}if(h="".concat(s.getMTime()),e.colorTextureString!==h){for(var T=1024,b=T*2*l*3,O=new Uint8Array(b),D=new Float32Array(T*3),M=0;M<l;++M){var R=s.getRGBTransferFunction(M),E=R.getRange();R.getTable(E[0],E[1],T,D,1);for(var B=0;B<T*3;++B)O[M*T*6+B]=255*D[B],O[M*T*6+B+T*3]=255*D[B]}e.colorTexture.releaseGraphicsResources(e._openGLRenderWindow),e.colorTexture.setMinificationFilter(Qe.LINEAR),e.colorTexture.setMagnificationFilter(Qe.LINEAR),e.colorTexture.create2DFromRaw(T,2*l,3,ht.UNSIGNED_CHAR,O),e.colorTextureString=h}if(h="".concat(a.getMTime()),e.scalarTextureString!==h){var I=a.getDimensions();e.scalarTexture.releaseGraphicsResources(e._openGLRenderWindow),e.scalarTexture.resetFormatAndType(),e.scalarTexture.create3DFilterableFromRaw(I[0],I[1],I[2],u,i.getDataType(),i.getData(),e.renderable.getPreferSizeOverAccuracy()),e.scalarTextureString=h}if(!e.tris.getCABO().getElementCount()){for(var P=new Float32Array(12),L=0;L<4;L++)P[L*3]=L%2*2-1,P[L*3+1]=L>1?1:-1,P[L*3+2]=-1;var F=new Uint16Array(8);F[0]=3,F[1]=0,F[2]=1,F[3]=3,F[4]=3,F[5]=0,F[6]=3,F[7]=2;var G=Ee.newInstance({numberOfComponents:3,values:P});G.setName("points");var $=Ee.newInstance({numberOfComponents:1,values:F});e.tris.getCABO().createVBO($,"polys",Wt.SURFACE,{points:G,cellOffset:0})}e.VBOBuildTime.modified()}}}}var U4={context:null,VBOBuildTime:null,scalarTexture:null,scalarTextureString:null,opacityTexture:null,opacityTextureString:null,colorTexture:null,colorTextureString:null,jitterTexture:null,tris:null,framebuffer:null,copyShader:null,copyVAO:null,lastXYF:1,targetXYF:1,zBufferTexture:null,lastZBufferTexture:null,lastLightComplexity:0,fullViewportTime:1,idxToView:null,idxNormalMatrix:null,modelToView:null,projectionToView:null,avgWindowArea:0,avgFrameTime:0};function G4(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,U4,n),At.extend(t,e,n),e.VBOBuildTime={},Et(e.VBOBuildTime,{mtime:0}),e.tris=pn.newInstance(),e.scalarTexture=jt.newInstance(),e.opacityTexture=jt.newInstance(),e.colorTexture=jt.newInstance(),e.jitterTexture=jt.newInstance(),e.jitterTexture.setWrapS(yi.REPEAT),e.jitterTexture.setWrapT(yi.REPEAT),e.framebuffer=bs.newInstance(),e.idxToView=Ae(new Float64Array(16)),e.idxNormalMatrix=Nr(new Float64Array(9)),e.modelToView=Ae(new Float64Array(16)),e.projectionToView=Ae(new Float64Array(16)),e.projectionToWorld=Ae(new Float64Array(16)),e._lastScale=1,Nt(t,e,["context"]),V4(t,e)}var P4=st(G4,"vtkOpenGLVolumeMapper");Bt("vtkVolumeMapper",P4);var j4=Gn;function z4(t,e){e.classHierarchy.push("vtkOpenGLPixelSpaceCallbackMapper"),t.opaquePass=function(n,r){e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent();var a=e.openGLRenderer.getAspectRatio(),i=e.openGLRenderer?e.openGLRenderer.getRenderable().getActiveCamera():null,s=e.openGLRenderer.getTiledSizeAndOrigin(),o=null;if(e.renderable.getUseZValues()){var c=r.getZBufferTexture(),u=Math.floor(c.getWidth()),f=Math.floor(c.getHeight()),l=e._openGLRenderWindow.getContext();c.bind();var h=r.getFramebuffer();h?h.saveCurrentBindingsAndBuffers():j4("No framebuffer to save/restore");var p=l.createFramebuffer();l.bindFramebuffer(l.FRAMEBUFFER,p),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,c.getHandle(),0),l.checkFramebufferStatus(l.FRAMEBUFFER)===l.FRAMEBUFFER_COMPLETE&&(o=new Uint8Array(u*f*4),l.viewport(0,0,u,f),l.readPixels(0,0,u,f,l.RGBA,l.UNSIGNED_BYTE,o)),h&&h.restorePreviousBindingsAndBuffers(),l.deleteFramebuffer(p)}e.renderable.invokeCallback(e.renderable.getInputData(),i,a,s,o)},t.queryPass=function(n,r){n&&e.renderable.getUseZValues()&&r.requestDepth()}}var W4={};function I4(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,W4,n),At.extend(t,e,n),z4(t,e)}var $4=st(I4,"vtkOpenGLPixelSpaceCallbackMapper");Bt("vtkPixelSpaceCallbackMapper",$4);function H4(t,e){e.classHierarchy.push("vtkOpenGLActor"),t.buildPass=function(n){if(n){e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNodes(e.renderable.getTextures()),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes(),e.ogltextures=null,e.activeTextures=null;for(var r=0;r<e.children.length;r++){var a=e.children[r];a.isA("vtkOpenGLTexture")?(e.ogltextures||(e.ogltextures=[]),e.ogltextures.push(a)):e.oglmapper=a}}},t.traverseOpaqueZBufferPass=function(n){!e.renderable||!e.renderable.getNestedVisibility()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.traverseOpaquePass=function(n){!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.traverseTranslucentPass=function(n){!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.activateTextures=function(){if(!!e.ogltextures){e.activeTextures=[];for(var n=0;n<e.ogltextures.length;n++){var r=e.ogltextures[n];r.render(),r.getHandle()&&e.activeTextures.push(r)}}},t.queryPass=function(n,r){if(n){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?r.incrementOpaqueActorCount():r.incrementTranslucentActorCount()}},t.opaqueZBufferPass=function(n,r){return t.opaquePass(n,r)},t.opaquePass=function(n,r){if(n)e.context.depthMask(!0),t.activateTextures();else if(e.activeTextures)for(var a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()},t.translucentPass=function(n,r){if(n)e.context.depthMask(!1),t.activateTextures();else if(e.activeTextures)for(var a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()},t.getKeyMatrices=function(){return e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(e.renderable.computeMatrix(),zt(e.keyMatrices.mcwc,e.renderable.getMatrix()),Ye(e.keyMatrices.mcwc,e.keyMatrices.mcwc),e.renderable.getIsIdentity()?Nr(e.keyMatrices.normalMatrix):(Bi(e.keyMatrices.normalMatrix,e.keyMatrices.mcwc),Vi(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),Bu(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix)),e.keyMatrixTime.modified()),e.keyMatrices}}var K4={context:null,keyMatrixTime:null,keyMatrices:null,activeTextures:null};function X4(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,K4,n),At.extend(t,e,n),e.keyMatrixTime={},Et(e.keyMatrixTime,{mtime:0}),e.keyMatrices={normalMatrix:Nr(new Float64Array(9)),mcwc:Ae(new Float64Array(16))},Nt(t,e,["context"]),Mr(t,e,["activeTextures"]),H4(t,e)}var q4=st(X4);Bt("vtkActor",q4);function Y4(t,e){e.classHierarchy.push("vtkOpenGLActor2D"),t.buildPass=function(n){if(n){if(!e.renderable)return;e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNodes(e.renderable.getTextures()),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes(),e.ogltextures=null,e.activeTextures=null;for(var r=0;r<e.children.length;r++){var a=e.children[r];a.isA("vtkOpenGLTexture")?(e.ogltextures||(e.ogltextures=[]),e.ogltextures.push(a)):e.oglmapper=a}}},t.queryPass=function(n,r){if(n){if(!e.renderable||!e.renderable.getVisibility())return;r.incrementOverlayActorCount()}},t.traverseOpaquePass=function(n){!e.oglmapper||!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.traverseTranslucentPass=function(n){!e.oglmapper||!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.traverseOverlayPass=function(n){!e.oglmapper||!e.renderable||!e.renderable.getNestedVisibility()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.activateTextures=function(){if(!!e.ogltextures){e.activeTextures=[];for(var n=0;n<e.ogltextures.length;n++){var r=e.ogltextures[n];r.render(),r.getHandle()&&e.activeTextures.push(r)}}},t.opaquePass=function(n,r){if(n)e.context.depthMask(!0),t.activateTextures();else if(e.activeTextures)for(var a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()},t.translucentPass=function(n,r){if(n)e.context.depthMask(!1),t.activateTextures();else if(e.activeTextures)for(var a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()},t.overlayPass=function(n,r){if(n)e.context.depthMask(!0),t.activateTextures();else if(e.activeTextures)for(var a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()}}var Z4={context:null,activeTextures:null};function J4(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Z4,n),At.extend(t,e,n),Nt(t,e,["context"]),Mr(t,e,["activeTextures"]),Y4(t,e)}var Q4=st(J4);Bt("vtkActor2D",Q4);function au(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function op(t){let e=t,n=t,r=t;t.length!==2&&(e=(o,c)=>t(o)-c,n=au,r=(o,c)=>au(t(o),c));function a(o,c,u=0,f=o.length){if(u<f){if(n(c,c)!==0)return f;do{const l=u+f>>>1;r(o[l],c)<0?u=l+1:f=l}while(u<f)}return u}function i(o,c,u=0,f=o.length){if(u<f){if(n(c,c)!==0)return f;do{const l=u+f>>>1;r(o[l],c)<=0?u=l+1:f=l}while(u<f)}return u}function s(o,c,u=0,f=o.length){const l=a(o,c,u,f-1);return l>u&&e(o[l-1],c)>-e(o[l],c)?l-1:l}return{left:a,center:s,right:i}}function em(t){return t===null?NaN:+t}const tm=op(au),rm=tm.right;op(em).center;var nm=rm,iu=Math.sqrt(50),ou=Math.sqrt(10),su=Math.sqrt(2);function am(t,e,n){var r,a=-1,i,s,o;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),(o=sp(t,e,n))===0||!isFinite(o))return[];if(o>0){let c=Math.round(t/o),u=Math.round(e/o);for(c*o<t&&++c,u*o>e&&--u,s=new Array(i=u-c+1);++a<i;)s[a]=(c+a)*o}else{o=-o;let c=Math.round(t*o),u=Math.round(e*o);for(c/o<t&&++c,u/o>e&&--u,s=new Array(i=u-c+1);++a<i;)s[a]=(c+a)/o}return r&&s.reverse(),s}function sp(t,e,n){var r=(e-t)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=iu?10:i>=ou?5:i>=su?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=iu?10:i>=ou?5:i>=su?2:1)}function im(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=iu?a*=10:i>=ou?a*=5:i>=su&&(a*=2),e<t?-a:a}function om(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Qu(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function up(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Gi(){}var mi=.7,Zo=1/mi,ya="\\s*([+-]?\\d+)\\s*",_i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Or="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sm=/^#([0-9a-f]{3,8})$/,um=new RegExp(`^rgb\\(${ya},${ya},${ya}\\)$`),cm=new RegExp(`^rgb\\(${Or},${Or},${Or}\\)$`),fm=new RegExp(`^rgba\\(${ya},${ya},${ya},${_i}\\)$`),lm=new RegExp(`^rgba\\(${Or},${Or},${Or},${_i}\\)$`),hm=new RegExp(`^hsl\\(${_i},${Or},${Or}\\)$`),pm=new RegExp(`^hsla\\(${_i},${Or},${Or},${_i}\\)$`),lf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qu(Gi,xi,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:hf,formatHex:hf,formatHex8:vm,formatHsl:dm,formatRgb:pf,toString:pf});function hf(){return this.rgb().formatHex()}function vm(){return this.rgb().formatHex8()}function dm(){return cp(this).formatHsl()}function pf(){return this.rgb().formatRgb()}function xi(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=sm.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?vf(e):n===3?new It(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?to(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?to(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=um.exec(t))?new It(e[1],e[2],e[3],1):(e=cm.exec(t))?new It(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=fm.exec(t))?to(e[1],e[2],e[3],e[4]):(e=lm.exec(t))?to(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=hm.exec(t))?yf(e[1],e[2]/100,e[3]/100,1):(e=pm.exec(t))?yf(e[1],e[2]/100,e[3]/100,e[4]):lf.hasOwnProperty(t)?vf(lf[t]):t==="transparent"?new It(NaN,NaN,NaN,0):null}function vf(t){return new It(t>>16&255,t>>8&255,t&255,1)}function to(t,e,n,r){return r<=0&&(t=e=n=NaN),new It(t,e,n,r)}function gm(t){return t instanceof Gi||(t=xi(t)),t?(t=t.rgb(),new It(t.r,t.g,t.b,t.opacity)):new It}function uu(t,e,n,r){return arguments.length===1?gm(t):new It(t,e,n,r==null?1:r)}function It(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Qu(It,uu,up(Gi,{brighter(t){return t=t==null?Zo:Math.pow(Zo,t),new It(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?mi:Math.pow(mi,t),new It(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new It(An(this.r),An(this.g),An(this.b),Jo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:df,formatHex:df,formatHex8:ym,formatRgb:gf,toString:gf}));function df(){return`#${Mn(this.r)}${Mn(this.g)}${Mn(this.b)}`}function ym(){return`#${Mn(this.r)}${Mn(this.g)}${Mn(this.b)}${Mn((isNaN(this.opacity)?1:this.opacity)*255)}`}function gf(){const t=Jo(this.opacity);return`${t===1?"rgb(":"rgba("}${An(this.r)}, ${An(this.g)}, ${An(this.b)}${t===1?")":`, ${t})`}`}function Jo(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function An(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mn(t){return t=An(t),(t<16?"0":"")+t.toString(16)}function yf(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new yr(t,e,n,r)}function cp(t){if(t instanceof yr)return new yr(t.h,t.s,t.l,t.opacity);if(t instanceof Gi||(t=xi(t)),!t)return new yr;if(t instanceof yr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),s=NaN,o=i-a,c=(i+a)/2;return o?(e===i?s=(n-r)/o+(n<r)*6:n===i?s=(r-e)/o+2:s=(e-n)/o+4,o/=c<.5?i+a:2-i-a,s*=60):o=c>0&&c<1?0:s,new yr(s,o,c,t.opacity)}function mm(t,e,n,r){return arguments.length===1?cp(t):new yr(t,e,n,r==null?1:r)}function yr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Qu(yr,mm,up(Gi,{brighter(t){return t=t==null?Zo:Math.pow(Zo,t),new yr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?mi:Math.pow(mi,t),new yr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new It(Zs(t>=240?t-240:t+120,a,r),Zs(t,a,r),Zs(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new yr(mf(this.h),ro(this.s),ro(this.l),Jo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Jo(this.opacity);return`${t===1?"hsl(":"hsla("}${mf(this.h)}, ${ro(this.s)*100}%, ${ro(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mf(t){return t=(t||0)%360,t<0?t+360:t}function ro(t){return Math.max(0,Math.min(1,t||0))}function Zs(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var ec=t=>()=>t;function _m(t,e){return function(n){return t+n*e}}function xm(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function wm(t){return(t=+t)==1?fp:function(e,n){return n-e?xm(e,n,t):ec(isNaN(e)?n:e)}}function fp(t,e){var n=e-t;return n?_m(t,n):ec(isNaN(t)?e:t)}var _f=function t(e){var n=wm(e);function r(a,i){var s=n((a=uu(a)).r,(i=uu(i)).r),o=n(a.g,i.g),c=n(a.b,i.b),u=fp(a.opacity,i.opacity);return function(f){return a.r=s(f),a.g=o(f),a.b=c(f),a.opacity=u(f),a+""}}return r.gamma=t,r}(1);function Cm(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function Sm(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Tm(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)a[s]=tc(t[s],e[s]);for(;s<n;++s)i[s]=e[s];return function(o){for(s=0;s<r;++s)i[s]=a[s](o);return i}}function bm(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Qo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Em(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=tc(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var cu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Js=new RegExp(cu.source,"g");function Dm(t){return function(){return t}}function Om(t){return function(e){return t(e)+""}}function Nm(t,e){var n=cu.lastIndex=Js.lastIndex=0,r,a,i,s=-1,o=[],c=[];for(t=t+"",e=e+"";(r=cu.exec(t))&&(a=Js.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),o[s]?o[s]+=i:o[++s]=i),(r=r[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,c.push({i:s,x:Qo(r,a)})),n=Js.lastIndex;return n<e.length&&(i=e.slice(n),o[s]?o[s]+=i:o[++s]=i),o.length<2?c[0]?Om(c[0].x):Dm(e):(e=c.length,function(u){for(var f=0,l;f<e;++f)o[(l=c[f]).i]=l.x(u);return o.join("")})}function tc(t,e){var n=typeof e,r;return e==null||n==="boolean"?ec(e):(n==="number"?Qo:n==="string"?(r=xi(e))?(e=r,_f):Nm:e instanceof xi?_f:e instanceof Date?bm:Sm(e)?Cm:Array.isArray(e)?Tm:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Em:Qo)(t,e)}function Mm(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function km(t){return function(){return t}}function Rm(t){return+t}var xf=[0,1];function ha(t){return t}function fu(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:km(isNaN(e)?NaN:.5)}function Fm(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Lm(t,e,n){var r=t[0],a=t[1],i=e[0],s=e[1];return a<r?(r=fu(a,r),i=n(s,i)):(r=fu(r,a),i=n(i,s)),function(o){return i(r(o))}}function Am(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)a[s]=fu(t[s],t[s+1]),i[s]=n(e[s],e[s+1]);return function(o){var c=nm(t,o,1,r)-1;return i[c](a[c](o))}}function Bm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vm(){var t=xf,e=xf,n=tc,r,a,i,s=ha,o,c,u;function f(){var h=Math.min(t.length,e.length);return s!==ha&&(s=Fm(t[0],t[h-1])),o=h>2?Am:Lm,c=u=null,l}function l(h){return h==null||isNaN(h=+h)?i:(c||(c=o(t.map(r),e,n)))(r(s(h)))}return l.invert=function(h){return s(a((u||(u=o(e,t.map(r),Qo)))(h)))},l.domain=function(h){return arguments.length?(t=Array.from(h,Rm),f()):t.slice()},l.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},l.rangeRound=function(h){return e=Array.from(h),n=Mm,f()},l.clamp=function(h){return arguments.length?(s=h?!0:ha,f()):s!==ha},l.interpolate=function(h){return arguments.length?(n=h,f()):n},l.unknown=function(h){return arguments.length?(i=h,l):i},function(h,p){return r=h,a=p,f()}}function Um(){return Vm()(ha,ha)}function Gm(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function es(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function wa(t){return t=es(Math.abs(t)),t?t[1]:NaN}function Pm(t,e){return function(n,r){for(var a=n.length,i=[],s=0,o=t[0],c=0;a>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),i.push(n.substring(a-=o,a+o)),!((c+=o+1)>r));)o=t[s=(s+1)%t.length];return i.reverse().join(e)}}function jm(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var zm=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ts(t){if(!(e=zm.exec(t)))throw new Error("invalid format: "+t);var e;return new rc({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ts.prototype=rc.prototype;function rc(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}rc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Wm(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var lp;function Im(t,e){var n=es(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(lp=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+es(t,Math.max(0,e+i-1))[0]}function wf(t,e){var n=es(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}var Cf={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Gm,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>wf(t*100,e),r:wf,s:Im,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Sf(t){return t}var Tf=Array.prototype.map,bf=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function $m(t){var e=t.grouping===void 0||t.thousands===void 0?Sf:Pm(Tf.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Sf:jm(Tf.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"\u2212":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(l){l=ts(l);var h=l.fill,p=l.align,v=l.sign,y=l.symbol,_=l.zero,m=l.width,d=l.comma,g=l.precision,x=l.trim,w=l.type;w==="n"?(d=!0,w="g"):Cf[w]||(g===void 0&&(g=12),x=!0,w="g"),(_||h==="0"&&p==="=")&&(_=!0,h="0",p="=");var C=y==="$"?n:y==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=y==="$"?r:/[%p]/.test(w)?s:"",T=Cf[w],b=/[defgprs%]/.test(w);g=g===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function O(D){var M=C,R=S,E,B,I;if(w==="c")R=T(D)+R,D="";else{D=+D;var P=D<0||1/D<0;if(D=isNaN(D)?c:T(Math.abs(D),g),x&&(D=Wm(D)),P&&+D==0&&v!=="+"&&(P=!1),M=(P?v==="("?v:o:v==="-"||v==="("?"":v)+M,R=(w==="s"?bf[8+lp/3]:"")+R+(P&&v==="("?")":""),b){for(E=-1,B=D.length;++E<B;)if(I=D.charCodeAt(E),48>I||I>57){R=(I===46?a+D.slice(E+1):D.slice(E))+R,D=D.slice(0,E);break}}}d&&!_&&(D=e(D,1/0));var L=M.length+D.length+R.length,F=L<m?new Array(m-L+1).join(h):"";switch(d&&_&&(D=e(F+D,F.length?m-R.length:1/0),F=""),p){case"<":D=M+D+R+F;break;case"=":D=M+F+D+R;break;case"^":D=F.slice(0,L=F.length>>1)+M+D+R+F.slice(L);break;default:D=F+M+D+R;break}return i(D)}return O.toString=function(){return l+""},O}function f(l,h){var p=u((l=ts(l),l.type="f",l)),v=Math.max(-8,Math.min(8,Math.floor(wa(h)/3)))*3,y=Math.pow(10,-v),_=bf[8+v/3];return function(m){return p(y*m)+_}}return{format:u,formatPrefix:f}}var no,hp,pp;Hm({thousands:",",grouping:[3],currency:["$",""]});function Hm(t){return no=$m(t),hp=no.format,pp=no.formatPrefix,no}function Km(t){return Math.max(0,-wa(Math.abs(t)))}function Xm(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wa(e)/3)))*3-wa(Math.abs(t)))}function qm(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wa(e)-wa(t))+1}function Ym(t,e,n,r){var a=im(t,e,n),i;switch(r=ts(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=Xm(a,s))&&(r.precision=i),pp(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=qm(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Km(a))&&(r.precision=i-(r.type==="%")*2);break}}return hp(r)}function Zm(t){var e=t.domain;return t.ticks=function(n){var r=e();return am(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var a=e();return Ym(a[0],a[a.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,s=r[a],o=r[i],c,u,f=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);f-- >0;){if(u=sp(s,o,n),u===c)return r[a]=s,r[i]=o,e(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return t},t}function nc(){var t=Um();return t.copy=function(){return Bm(t,nc())},om.apply(t,arguments),Zm(t)}function Ef(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ef(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ef(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var lu=1e-6,vp="coincide",dp="disjoint";function Qm(t,e,n){return t[0]*(n[0]-e[0])+t[1]*(n[1]-e[1])+t[2]*(n[2]-e[2])}function gp(t,e,n){var r=n[0]*(t[0]-e[0])+n[1]*(t[1]-e[1])+n[2]*(t[2]-e[2]);return Math.abs(r)}function yp(t,e,n,r){var a=[];Gt(t,e,a);var i=Be(n,a);r[0]=t[0]-i*n[0],r[1]=t[1]-i*n[1],r[2]=t[2]-i*n[2]}function mp(t,e,n){var r=Be(t,e),a=Be(e,e);return a===0&&(a=1),n[0]=t[0]-r*e[0]/a,n[1]=t[1]-r*e[1]/a,n[2]=t[2]-r*e[2]/a,n}function _p(t,e,n,r){var a=[];Gt(t,e,a);var i=Be(n,a),s=Be(n,n);s!==0?(r[0]=t[0]-i*n[0]/s,r[1]=t[1]-i*n[1]/s,r[2]=t[2]-i*n[2]/s):(r[0]=t[0],r[1]=t[1],r[2]=t[2])}function xp(t,e,n,r){var a={intersection:!1,betweenPoints:!1,t:Number.MAX_VALUE,x:[]},i=[],s=[];Gt(e,t,i),Gt(n,t,s);var o=Be(r,s),c=Be(r,i),u,f;return c<0?u=-c:u=c,o<0?f=-o*lu:f=o*lu,u<=f||(a.t=o/c,a.x[0]=t[0]+a.t*i[0],a.x[1]=t[1]+a.t*i[1],a.x[2]=t[2]+a.t*i[2],a.intersection=!0,a.betweenPoints=a.t>=0&&a.t<=1),a}function wp(t,e,n,r){var a={intersection:!1,l0:[],l1:[],error:null},i=[];kt(e,r,i);var s=i.map(function(h){return Math.abs(h)});if(s[0]+s[1]+s[2]<lu){var o=[];return Gt(t,n,o),Be(e,o)===0?a.error=vp:a.error=dp,a}var c;s[0]>s[1]&&s[0]>s[2]?c="x":s[1]>s[2]?c="y":c="z";var u=[],f=-Be(e,t),l=-Be(r,n);switch(c){case"x":u[0]=0,u[1]=(l*e[2]-f*r[2])/i[0],u[2]=(f*r[1]-l*e[1])/i[0];break;case"y":u[0]=(f*r[2]-l*e[2])/i[1],u[1]=0,u[2]=(l*e[0]-f*r[0])/i[1];break;case"z":u[0]=(l*e[1]-f*r[1])/i[2],u[1]=(f*r[0]-l*e[0])/i[2],u[2]=0;break}return a.l0=u,Xo(u,i,a.l1),a.intersection=!0,a}var e8={evaluate:Qm,distanceToPlane:gp,projectPoint:yp,projectVector:mp,generalizedProjectPoint:_p,intersectWithLine:xp,intersectWithPlane:wp,DISJOINT:dp,COINCIDE:vp};function t8(t,e){e.classHierarchy.push("vtkPlane"),t.distanceToPlane=function(n){return gp(n,e.origin,e.normal)},t.projectPoint=function(n,r){yp(n,e.origin,e.normal,r)},t.projectVector=function(n,r){return mp(n,e.normal,r)},t.push=function(n){if(n!==0)for(var r=0;r<3;r++)e.origin[r]+=n*e.normal[r]},t.generalizedProjectPoint=function(n,r){_p(n,e.origin,e.normal,r)},t.evaluateFunction=function(n,r,a){return Array.isArray(n)?e.normal[0]*(n[0]-e.origin[0])+e.normal[1]*(n[1]-e.origin[1])+e.normal[2]*(n[2]-e.origin[2]):e.normal[0]*(n-e.origin[0])+e.normal[1]*(r-e.origin[1])+e.normal[2]*(a-e.origin[2])},t.evaluateGradient=function(n){var r=[e.normal[0],e.normal[1],e.normal[2]];return r},t.intersectWithLine=function(n,r){return xp(n,r,e.origin,e.normal)},t.intersectWithPlane=function(n,r){return wp(n,r,e.origin,e.normal)}}var r8={normal:[0,0,1],origin:[0,0,0]};function Cp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,r8,n),W.obj(t,e),W.setGetArray(t,e,["normal","origin"],3),t8(t,e)}var n8=W.newInstance(Cp,"vtkPlane"),jn=Jm({newInstance:n8,extend:Cp},e8);function Df(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function a8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Df(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Df(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Es=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];function Sp(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function Ir(t){return t[0]<=t[1]&&t[2]<=t[3]&&t[4]<=t[5]}function ac(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Tp(t){return ac(t,Es)}function bp(t){var e=Ie(t,6),n=e[0],r=e[1],a=e[2],i=e[3],s=e[4],o=e[5];return t[0]=n<(arguments.length<=1?void 0:arguments[1])?n:arguments.length<=1?void 0:arguments[1],t[1]=r>(arguments.length<=1?void 0:arguments[1])?r:arguments.length<=1?void 0:arguments[1],t[2]=a<(arguments.length<=2?void 0:arguments[2])?a:arguments.length<=2?void 0:arguments[2],t[3]=i>(arguments.length<=2?void 0:arguments[2])?i:arguments.length<=2?void 0:arguments[2],t[4]=s<(arguments.length<=3?void 0:arguments[3])?s:arguments.length<=3?void 0:arguments[3],t[5]=o>(arguments.length<=3?void 0:arguments[3])?o:arguments.length<=3?void 0:arguments[3],t}function Ep(t,e,n,r,a,i,s){var o=Ie(t,6),c=o[0],u=o[1],f=o[2],l=o[3],h=o[4],p=o[5];return s===void 0?(t[0]=Math.min(e[0],c),t[1]=Math.max(e[1],u),t[2]=Math.min(e[2],f),t[3]=Math.max(e[3],l),t[4]=Math.min(e[4],h),t[5]=Math.max(e[5],p)):(t[0]=Math.min(e,c),t[1]=Math.max(n,u),t[2]=Math.min(r,f),t[3]=Math.max(a,l),t[4]=Math.min(i,h),t[5]=Math.max(s,p)),t}function Dp(t,e,n,r){var a=Ie(t,6),i=a[0],s=a[1],o=a[2],c=a[3],u=a[4],f=a[5];return t[0]=e,t[1]=e>s?e:s,t[2]=n,t[3]=n>c?n:c,t[4]=r,t[5]=r>f?r:f,i!==e||o!==n||u!==r}function Op(t,e,n,r){var a=Ie(t,6),i=a[0],s=a[1],o=a[2],c=a[3],u=a[4],f=a[5];return t[0]=e<i?e:i,t[1]=e,t[2]=n<o?n:o,t[3]=n,t[4]=r<u?r:u,t[5]=r,s!==e||c!==n||f!==r}function Np(t,e){return t[0]-=e,t[1]+=e,t[2]-=e,t[3]+=e,t[4]-=e,t[5]+=e,t}function ic(t,e,n,r){return Ir(t)?(e>=0?(t[0]*=e,t[1]*=e):(t[0]=e*t[1],t[1]=e*t[0]),n>=0?(t[2]*=n,t[3]*=n):(t[2]=n*t[3],t[3]=n*t[2]),r>=0?(t[4]*=r,t[5]*=r):(t[4]=r*t[5],t[5]=r*t[4]),!0):!1}function oc(t){return[.5*(t[0]+t[1]),.5*(t[2]+t[3]),.5*(t[4]+t[5])]}function i8(t,e,n,r){if(!Ir(t))return!1;var a=oc(t);return t[0]-=a[0],t[1]-=a[0],t[2]-=a[1],t[3]-=a[1],t[4]-=a[2],t[5]-=a[2],ic(t,e,n,r),t[0]+=a[0],t[1]+=a[0],t[2]+=a[1],t[3]+=a[1],t[4]+=a[2],t[5]+=a[2],!0}function ui(t,e){return t[e*2+1]-t[e*2]}function Ds(t){return[ui(t,0),ui(t,1),ui(t,2)]}function Mp(t){return t.slice(0,2)}function kp(t){return t.slice(2,4)}function Rp(t){return t.slice(4,6)}function Fp(t){var e=Ds(t);return e[0]>e[1]?e[0]>e[2]?e[0]:e[2]:e[1]>e[2]?e[1]:e[2]}function Lp(t){if(Ir(t)){var e=Ds(t);return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}return null}function sc(t){return[t[0],t[2],t[4]]}function uc(t){return[t[1],t[3],t[5]]}function ao(t,e){return t<=0&&e>=0||t>=0&&e<=0}function Ap(t,e){for(var n=0,r=0;r<2;r++)for(var a=2;a<4;a++)for(var i=4;i<6;i++)e[n]=[t[r],t[a],t[i]],n++;return e}function Bp(t,e,n){return e[0]=t[0],e[1]=t[2],e[2]=t[4],n[0]=t[1],n[1]=t[3],n[2]=t[5],e}function Vp(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e[0]=.5*(t[1]-t[0]),e[1]=.5*(t[3]-t[2]),e[2]=.5*(t[5]-t[4]),e}function Up(t,e,n,r){for(var a=[].concat(Es),i=t.getData(),s=0;s<i.length;s+=3){var o=[i[s],i[s+1],i[s+2]],c=Be(o,e);a[0]=Math.min(c,a[0]),a[1]=Math.max(c,a[1]);var u=Be(o,n);a[2]=Math.min(u,a[2]),a[3]=Math.max(u,a[3]);var f=Be(o,r);a[4]=Math.min(f,a[4]),a[5]=Math.max(f,a[5])}return a}function Gp(t,e,n,r,a){for(var i=!0,s=[],o=0,c=[],u=[0,0,0],f=0,l=1,h=2,p=0;p<3;p++)e[p]<t[2*p]?(s[p]=l,u[p]=t[2*p],i=!1):e[p]>t[2*p+1]?(s[p]=f,u[p]=t[2*p+1],i=!1):s[p]=h;if(i)return r[0]=e[0],r[1]=e[1],r[2]=e[2],a[0]=0,1;for(var v=0;v<3;v++)s[v]!==h&&n[v]!==0?c[v]=(u[v]-e[v])/n[v]:c[v]=-1;for(var y=0;y<3;y++)c[o]<c[y]&&(o=y);if(c[o]>1||c[o]<0)return 0;a[0]=c[o];for(var _=0;_<3;_++)if(o!==_){if(r[_]=e[_]+c[o]*n[_],r[_]<t[2*_]||r[_]>t[2*_+1])return 0}else r[_]=u[_];return 1}function Pp(t,e,n){for(var r=[],a=0,i=1,s=1,o=4;o<=5;++o){r[2]=t[o];for(var c=2;c<=3;++c){r[1]=t[c];for(var u=0;u<=1;++u)if(r[0]=t[u],a=jn.evaluate(n,e,r),s&&(i=a>=0?1:-1,s=0),a===0||i>0&&a<0||i<0&&a>0)return 1}}return 0}function jp(t,e){if(!(Ir(t)&&Ir(e)))return!1;for(var n=[0,0,0,0,0,0],r,a=0;a<3;a++)if(r=!1,e[a*2]>=t[a*2]&&e[a*2]<=t[a*2+1]?(r=!0,n[a*2]=e[a*2]):t[a*2]>=e[a*2]&&t[a*2]<=e[a*2+1]&&(r=!0,n[a*2]=t[a*2]),e[a*2+1]>=t[a*2]&&e[a*2+1]<=t[a*2+1]?(r=!0,n[a*2+1]=e[2*a+1]):t[a*2+1]>=e[a*2]&&t[a*2+1]<=e[a*2+1]&&(r=!0,n[a*2+1]=t[a*2+1]),!r)return!1;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],!0}function rs(t,e){if(!(Ir(t)&&Ir(e)))return!1;for(var n=0;n<3;n++)if(!(e[n*2]>=t[n*2]&&e[n*2]<=t[n*2+1])&&!(t[n*2]>=e[n*2]&&t[n*2]<=e[n*2+1])&&!(e[n*2+1]>=t[n*2]&&e[n*2+1]<=t[n*2+1])&&!(t[n*2+1]>=e[n*2]&&t[n*2+1]<=e[n*2+1]))return!1;return!0}function ns(t,e,n,r){return!(e<t[0]||e>t[1]||n<t[2]||n>t[3]||r<t[4]||r>t[5])}function o8(t,e){return!(!rs(t,e)||!ns.apply(void 0,[t].concat(we(sc(e))))||!ns.apply(void 0,[t].concat(we(uc(e)))))}function zp(t,e,n){for(var r=[[0,1,2,3,4,5,6,7],[0,1,4,5,2,3,6,7],[0,2,4,6,1,3,5,7]],a=[0,0,0,0,0,0,0,0],i=0,s=0;s<2;s++)for(var o=2;o<4;o++)for(var c=4;c<6;c++){var u=[t[s],t[o],t[c]];a[i++]=jn.evaluate(n,e,u)}for(var f=2;f--&&!(ao(a[r[f][0]],a[r[f][4]])&&ao(a[r[f][1]],a[r[f][5]])&&ao(a[r[f][2]],a[r[f][6]])&&ao(a[r[f][3]],a[r[f][7]])););if(f<0)return!1;for(var l=Math.sign(n[f]),h=Math.abs((t[f*2+1]-t[f*2])*n[f]),p=l>0?1:0,v=0;v<4;v++)if(h!==0){var y=Math.abs(a[r[f][v]])/h;l>0&&y<p&&(p=y),l<0&&y>p&&(p=y)}var _=(1-p)*t[f*2]+p*t[f*2+1];return l>0?t[f*2]=_:t[f*2+1]=_,!0}var s8=function(){function t(e){dt(this,t),this.bounds=e,this.bounds||(this.bounds=new Float64Array(Es))}return gt(t,[{key:"getBounds",value:function(){return this.bounds}},{key:"equals",value:function(n){return Sp(this.bounds,n)}},{key:"isValid",value:function(){return Ir(this.bounds)}},{key:"setBounds",value:function(n){return ac(this.bounds,n)}},{key:"reset",value:function(){return Tp(this.bounds)}},{key:"addPoint",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return bp(this.bounds,r)}},{key:"addBounds",value:function(n,r,a,i,s,o){return Ep(this.bounds,n,r,a,i,s,o)}},{key:"setMinPoint",value:function(n,r,a){return Dp(this.bounds,n,r,a)}},{key:"setMaxPoint",value:function(n,r,a){return Op(this.bounds,n,r,a)}},{key:"inflate",value:function(n){return Np(this.bounds,n)}},{key:"scale",value:function(n,r,a){return ic(this.bounds,n,r,a)}},{key:"getCenter",value:function(){return oc(this.bounds)}},{key:"getLength",value:function(n){return ui(this.bounds,n)}},{key:"getLengths",value:function(){return Ds(this.bounds)}},{key:"getMaxLength",value:function(){return Fp(this.bounds)}},{key:"getDiagonalLength",value:function(){return Lp(this.bounds)}},{key:"getMinPoint",value:function(){return sc(this.bounds)}},{key:"getMaxPoint",value:function(){return uc(this.bounds)}},{key:"getXRange",value:function(){return Mp(this.bounds)}},{key:"getYRange",value:function(){return kp(this.bounds)}},{key:"getZRange",value:function(){return Rp(this.bounds)}},{key:"getCorners",value:function(n){return Ap(this.bounds,n)}},{key:"computeCornerPoints",value:function(n,r){return Bp(this.bounds,n,r)}},{key:"computeLocalBounds",value:function(n,r,a){return Up(this.bounds,n,r,a)}},{key:"computeScale3",value:function(n){return Vp(this.bounds,n)}},{key:"cutWithPlane",value:function(n,r){return zp(this.bounds,n,r)}},{key:"intersectBox",value:function(n,r,a,i){return Gp(this.bounds,n,r,a,i)}},{key:"intersectPlane",value:function(n,r){return Pp(this.bounds,n,r)}},{key:"intersect",value:function(n){return jp(this.bounds,n)}},{key:"intersects",value:function(n){return rs(this.bounds,n)}},{key:"containsPoint",value:function(n,r,a){return ns(this.bounds,n,r,a)}},{key:"contains",value:function(n){return rs(this.bounds,n)}}]),t}();function u8(t){var e=t&&t.bounds;return new s8(e)}var c8={equals:Sp,isValid:Ir,setBounds:ac,reset:Tp,addPoint:bp,addBounds:Ep,setMinPoint:Dp,setMaxPoint:Op,inflate:Np,scale:ic,scaleAboutCenter:i8,getCenter:oc,getLength:ui,getLengths:Ds,getMaxLength:Fp,getDiagonalLength:Lp,getMinPoint:sc,getMaxPoint:uc,getXRange:Mp,getYRange:kp,getZRange:Rp,getCorners:Ap,computeCornerPoints:Bp,computeLocalBounds:Up,computeScale3:Vp,cutWithPlane:zp,intersectBox:Gp,intersectPlane:Pp,intersect:jp,intersects:rs,containsPoint:ns,contains:o8,INIT_BOUNDS:Es},He=a8({newInstance:u8},c8);function Of(t){return function(){return W.vtkErrorMacro("vtkProp::".concat(t," - NOT IMPLEMENTED"))}}function f8(t,e){e.classHierarchy.push("vtkProp"),t.getMTime=function(){for(var n=e.mtime,r=0;r<e.textures.length;++r){var a=e.textures[r].getMTime();a>n&&(n=a)}return n},t.getNestedProps=function(){return null},t.getActors=function(){return[]},t.getActors2D=function(){return[]},t.getVolumes=function(){return[]},t.pick=Of("pick"),t.hasKey=Of("hasKey"),t.getNestedVisibility=function(){return e.visibility&&(!e._parentProp||e._parentProp.getNestedVisibility())},t.getNestedPickable=function(){return e.pickable&&(!e._parentProp||e._parentProp.getNestedPickable())},t.getNestedDragable=function(){return e.dragable&&(!e._parentProp||e._parentProp.getNestedDragable())},t.getRedrawMTime=function(){return e.mtime},t.setEstimatedRenderTime=function(n){e.estimatedRenderTime=n,e.savedEstimatedRenderTime=n},t.restoreEstimatedRenderTime=function(){e.estimatedRenderTime=e.savedEstimatedRenderTime},t.addEstimatedRenderTime=function(n){e.estimatedRenderTime+=n},t.setAllocatedRenderTime=function(n){e.allocatedRenderTime=n,e.savedEstimatedRenderTime=e.estimatedRenderTime,e.estimatedRenderTime=0},t.getSupportsSelection=function(){return!1},t.getTextures=function(){return e.textures},t.hasTexture=function(n){return e.textures.indexOf(n)!==-1},t.addTexture=function(n){n&&!t.hasTexture(n)&&(e.textures=e.textures.concat(n),t.modified())},t.removeTexture=function(n){var r=e.textures.filter(function(a){return a!==n});e.textures.length!==r.length&&(e.textures=r,t.modified())},t.removeAllTextures=function(){e.textures=[],t.modified()}}var l8={visibility:!0,pickable:!0,dragable:!0,useBounds:!0,allocatedRenderTime:10,estimatedRenderTime:0,savedEstimatedRenderTime:0,renderTimeMultiplier:1,paths:null,textures:[]};function Wp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,l8,n),W.obj(t,e),W.get(t,e,["estimatedRenderTime","allocatedRenderTime"]),W.setGet(t,e,["visibility","pickable","dragable","useBounds","renderTimeMultiplier","_parentProp"]),W.moveToProtected(t,e,["parentProp"]),f8(t,e)}var h8=W.newInstance(Wp,"vtkProp"),Ip={newInstance:h8,extend:Wp};function p8(t,e){e.classHierarchy.push("vtkProp3D"),t.addPosition=function(r){e.position=e.position.map(function(a,i){return a+r[i]}),t.modified()},t.getOrientationWXYZ=function(){var r=Un();$h(r,e.rotation);var a=new Float64Array(3),i=N3(a,r);return[Ko(i),a[0],a[1],a[2]]},t.rotateX=function(r){r!==0&&(xs(e.rotation,e.rotation,rt(r)),t.modified())},t.rotateY=function(r){r!==0&&(vi(e.rotation,e.rotation,rt(r)),t.modified())},t.rotateZ=function(r){r!==0&&(ws(e.rotation,e.rotation,rt(r)),t.modified())},t.rotateWXYZ=function(r,a,i,s){if(!(r===0||a===0&&i===0&&s===0)){var o=rt(r),c=Un();Pu(c,[a,i,s],o);var u=new Float64Array(16);Vu(u,c),ct(e.rotation,e.rotation,u),t.modified()}},t.setOrientation=function(r,a,i){return r===e.orientation[0]&&a===e.orientation[1]&&i===e.orientation[2]?!1:(e.orientation=[r,a,i],Ae(e.rotation),t.rotateZ(i),t.rotateX(r),t.rotateY(a),t.modified(),!0)},t.setUserMatrix=function(r){zt(e.userMatrix,r),t.modified()},t.getMatrix=function(){return t.computeMatrix(),e.matrix},t.computeMatrix=function(){if(t.getMTime()>e.matrixMTime.getMTime()){Ae(e.matrix),e.userMatrix&&ct(e.matrix,e.matrix,e.userMatrix),nt(e.matrix,e.matrix,e.origin),nt(e.matrix,e.matrix,e.position),ct(e.matrix,e.matrix,e.rotation),Bn(e.matrix,e.matrix,e.scale),nt(e.matrix,e.matrix,[-e.origin[0],-e.origin[1],-e.origin[2]]),Ye(e.matrix,e.matrix),e.isIdentity=!0;for(var r=0;r<4;++r)for(var a=0;a<4;++a)(r===a?1:0)!==e.matrix[r+a*4]&&(e.isIdentity=!1);e.matrixMTime.modified()}},t.getCenter=function(){return He.getCenter(e.bounds)},t.getLength=function(){return He.getLength(e.bounds)},t.getXRange=function(){return He.getXRange(e.bounds)},t.getYRange=function(){return He.getYRange(e.bounds)},t.getZRange=function(){return He.getZRange(e.bounds)},t.getUserMatrix=function(){return e.userMatrix};function n(){t.computeMatrix()}t.onModified(n)}var v8={origin:[0,0,0],position:[0,0,0],orientation:[0,0,0],rotation:null,scale:[1,1,1],bounds:[1,-1,1,-1,1,-1],userMatrix:null,userMatrixMTime:null,cachedProp3D:null,isIdentity:!0,matrixMTime:null};function $p(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,v8,n),Ip.extend(t,e,n),e.matrixMTime={},W.obj(e.matrixMTime),W.get(t,e,["bounds","isIdentity"]),W.getArray(t,e,["orientation"]),W.setGetArray(t,e,["origin","position","scale"],3),e.matrix=Ae(new Float64Array(16)),e.rotation=Ae(new Float64Array(16)),e.userMatrix=Ae(new Float64Array(16)),e.transform=null,p8(t,e)}var d8=W.newInstance($p,"vtkProp3D"),cc={newInstance:d8,extend:$p};function Nf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function g8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var qa=Xu.Representation,Ya=Xu.Interpolation;function Mf(t){return function(){return W.vtkErrorMacro("vtkProperty::".concat(t," - NOT IMPLEMENTED"))}}function y8(t,e){e.classHierarchy.push("vtkProperty"),t.setColor=function(n,r,a){Array.isArray(n)?(e.color[0]!==n[0]||e.color[1]!==n[1]||e.color[2]!==n[2])&&(e.color[0]=n[0],e.color[1]=n[1],e.color[2]=n[2],t.modified()):(e.color[0]!==n||e.color[1]!==r||e.color[2]!==a)&&(e.color[0]=n,e.color[1]=r,e.color[2]=a,t.modified()),t.setDiffuseColor(e.color),t.setAmbientColor(e.color),t.setSpecularColor(e.color)},t.computeCompositeColor=Mf("ComputeCompositeColor"),t.getColor=function(){var n=0;e.ambient+e.diffuse+e.specular>0&&(n=1/(e.ambient+e.diffuse+e.specular));for(var r=0;r<3;r++)e.color[r]=n*(e.ambient*e.ambientColor[r]+e.diffuse*e.diffuseColor[r]+e.specular*e.specularColor[r]);return[].concat(e.color)},t.addShaderVariable=Mf("AddShaderVariable"),t.setInterpolationToFlat=function(){return t.setInterpolation(Ya.FLAT)},t.setInterpolationToGouraud=function(){return t.setInterpolation(Ya.GOURAUD)},t.setInterpolationToPhong=function(){return t.setInterpolation(Ya.PHONG)},t.getInterpolationAsString=function(){return W.enumToString(Ya,e.interpolation)},t.setRepresentationToWireframe=function(){return t.setRepresentation(qa.WIREFRAME)},t.setRepresentationToSurface=function(){return t.setRepresentation(qa.SURFACE)},t.setRepresentationToPoints=function(){return t.setRepresentation(qa.POINTS)},t.getRepresentationAsString=function(){return W.enumToString(qa,e.representation)}}var m8={color:[1,1,1],ambientColor:[1,1,1],diffuseColor:[1,1,1],specularColor:[1,1,1],edgeColor:[0,0,0],ambient:0,diffuse:1,specular:0,specularPower:1,opacity:1,interpolation:Ya.GOURAUD,representation:qa.SURFACE,edgeVisibility:!1,backfaceCulling:!1,frontfaceCulling:!1,pointSize:1,lineWidth:1,lighting:!0,shading:!1,materialName:null};function Hp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,m8,n),W.obj(t,e),W.setGet(t,e,["lighting","interpolation","ambient","diffuse","specular","specularPower","opacity","edgeVisibility","lineWidth","pointSize","backfaceCulling","frontfaceCulling","representation"]),W.setGetArray(t,e,["ambientColor","specularColor","diffuseColor","edgeColor"],3),y8(t,e)}var _8=W.newInstance(Hp,"vtkProperty"),Pi=g8({newInstance:_8,extend:Hp},Xu);function kf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function x8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var w8=W.vtkDebugMacro;function C8(t,e){e.classHierarchy.push("vtkActor");var n=x8({},t);t.getActors=function(){return[t]},t.getIsOpaque=function(){if(e.forceOpaque)return!0;if(e.forceTranslucent)return!1;e.property||t.getProperty();var r=e.property.getOpacity()>=1;return r=r&&(!e.texture||!e.texture.isTranslucent()),r=r&&(!e.mapper||e.mapper.getIsOpaque()),r},t.hasTranslucentPolygonalGeometry=function(){return e.mapper===null?!1:(e.property===null&&t.setProperty(t.makeProperty()),!t.getIsOpaque())},t.makeProperty=Pi.newInstance,t.getProperty=function(){return e.property===null&&(e.property=t.makeProperty()),e.property},t.getBounds=function(){if(e.mapper===null)return e.bounds;var r=e.mapper.getBounds();if(!r||r.length!==6)return r;if(r[0]>r[1])return e.mapperBounds=r.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),r;if(!e.mapperBounds||r[0]!==e.mapperBounds[0]||r[1]!==e.mapperBounds[1]||r[2]!==e.mapperBounds[2]||r[3]!==e.mapperBounds[3]||r[4]!==e.mapperBounds[4]||r[5]!==e.mapperBounds[5]||t.getMTime()>e.boundsMTime.getMTime()){w8("Recomputing bounds..."),e.mapperBounds=r.concat();var a=[];He.getCorners(r,a),t.computeMatrix();var i=new Float64Array(16);Ye(i,e.matrix),a.forEach(function(s){return be(s,s,i)}),e.bounds[0]=e.bounds[2]=e.bounds[4]=Number.MAX_VALUE,e.bounds[1]=e.bounds[3]=e.bounds[5]=-Number.MAX_VALUE,e.bounds=e.bounds.map(function(s,o){return o%2===0?a.reduce(function(c,u){return c>u[o/2]?u[o/2]:c},s):a.reduce(function(c,u){return c<u[(o-1)/2]?u[(o-1)/2]:c},s)}),e.boundsMTime.modified()}return e.bounds},t.getMTime=function(){var r=n.getMTime();if(e.property!==null){var a=e.property.getMTime();r=a>r?a:r}if(e.backfaceProperty!==null){var i=e.backfaceProperty.getMTime();r=i>r?i:r}return r},t.getRedrawMTime=function(){var r=e.mtime;if(e.mapper!==null){var a=e.mapper.getMTime();r=a>r?a:r,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),a=e.mapper.getInput().getMTime(),r=a>r?a:r)}return r},t.getSupportsSelection=function(){return e.mapper?e.mapper.getSupportsSelection():!1}}var S8={mapper:null,property:null,backfaceProperty:null,forceOpaque:!1,forceTranslucent:!1,bounds:[1,-1,1,-1,1,-1]};function Kp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,S8,n),cc.extend(t,e,n),e.boundsMTime={},W.obj(e.boundsMTime),W.set(t,e,["property"]),W.setGet(t,e,["backfaceProperty","forceOpaque","forceTranslucent","mapper"]),C8(t,e)}var T8=W.newInstance(Kp,"vtkActor"),$r={newInstance:T8,extend:Kp};function b8(t,e){e.classHierarchy.push("vtkAbstractMapper"),t.update=function(){t.getInputData()},t.addClippingPlane=function(n){return n.isA("vtkPlane")?e.clippingPlanes.includes(n)?!1:(e.clippingPlanes.push(n),t.modified(),!0):!1},t.getNumberOfClippingPlanes=function(){return e.clippingPlanes.length},t.removeAllClippingPlanes=function(){e.clippingPlanes.length=0},t.removeClippingPlane=function(n){var r=e.clippingPlanes.indexOf(n);return r===-1?!1:(e.clippingPlanes.splice(r,1),t.modified(),!0)},t.getClippingPlanes=function(){return e.clippingPlanes},t.setClippingPlanes=function(n){if(!!n)if(!Array.isArray(n))t.addClippingPlane(n);else for(var r=n.length,a=0;a<r&&a<6;a++)t.addClippingPlane(n[a])},t.getClippingPlaneInDataCoords=function(n,r,a){var i=e.clippingPlanes,s=n;if(i){var o=i.length;if(r>=0&&r<o){var c=i[r],u=c.getNormal(),f=c.getOrigin(),l=u[0],h=u[1],p=u[2],v=-(l*f[0]+h*f[1]+p*f[2]);a[0]=l*s[0]+h*s[4]+p*s[8]+v*s[12],a[1]=l*s[1]+h*s[5]+p*s[9]+v*s[13],a[2]=l*s[2]+h*s[6]+p*s[10]+v*s[14],a[3]=l*s[3]+h*s[7]+p*s[11]+v*s[15];return}}W.vtkErrorMacro("Clipping plane index ".concat(r," is out of range."))}}var E8={clippingPlanes:[]};function D8(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,E8,n),W.obj(t,e),W.algo(t,e,1,0),e.clippingPlanes||(e.clippingPlanes=[]),b8(t,e)}var Os={extend:D8};function O8(t,e){t.getBounds=function(){return 0},t.getBounds=function(n){t.getBounds();for(var r=0;r<6;r++)n[r]=e.bounds[r]},t.getCenter=function(){t.getBounds();for(var n=0;n<3;n++)e.center[n]=(e.bounds[2*n+1]+e.bounds[2*n])/2;return e.center.slice()},t.getLength=function(){var n=0,r=0;t.getBounds();for(var a=0;a<3;a++)n=e.bounds[2*a+1]-e.bounds[2*a],r+=n*n;return Math.sqrt(r)}}var N8={bounds:[1,-1,1,-1,1,-1],center:[0,0,0]};function M8(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,N8,n),Os.extend(t,e,n),e.bounds||Ma(e.bounds),e.center||(e.center=[0,0,0]),O8(t,e)}var k8={extend:M8};function R8(t,e){e.classHierarchy.push("vtkFieldData");var n=t.getState;e.arrays&&(e.arrays=e.arrays.map(function(r){return{data:Tt(r.data)}})),t.initialize=function(){t.initializeFields(),t.copyAllOn(),t.clearFieldFlags()},t.initializeFields=function(){e.arrays=[],e.copyFieldFlags={},t.modified()},t.copyStructure=function(r){t.initializeFields(),e.copyFieldFlags=r.getCopyFieldFlags().map(function(a){return a}),e.arrays=r.arrays().map(function(a){return{array:a}})},t.getNumberOfArrays=function(){return e.arrays.length},t.getNumberOfActiveArrays=function(){return e.arrays.length},t.addArray=function(r){return e.arrays=[].concat(e.arrays,{data:r}),e.arrays.length-1},t.removeAllArrays=function(){e.arrays=[]},t.removeArray=function(r){e.arrays=e.arrays.filter(function(a){return r!==a.data.getName()})},t.removeArrayByIndex=function(r){e.arrays=e.arrays.filter(function(a,i){return i!==r})},t.getArrays=function(){return e.arrays.map(function(r){return r.data})},t.getArray=function(r){return typeof r=="number"?t.getArrayByIndex(r):t.getArrayByName(r)},t.getArrayByName=function(r){return e.arrays.reduce(function(a,i,s){return i.data.getName()===r?i.data:a},null)},t.getArrayWithIndex=function(r){return e.arrays.reduce(function(a,i,s){return i.data&&i.data.getName()===r?{array:i.data,index:s}:a},{array:null,index:-1})},t.getArrayByIndex=function(r){return r>=0&&r<e.arrays.length?e.arrays[r].data:null},t.hasArray=function(r){return t.getArrayWithIndex(r).index>=0},t.getArrayName=function(r){var a=e.arrays[r];return a?a.data.getName():""},t.getCopyFieldFlags=function(){return e.copyFieldFlags},t.getFlag=function(r){return e.copyFieldFlags[r]},t.passData=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;r.getArrays().forEach(function(s){var o=t.getFlag(s.getName());if(o!==!1&&!(e.doCopyAllOff&&o!==!0)&&s){var c=t.getArrayByName(s.getName());if(c){if(s.getNumberOfComponents()===c.getNumberOfComponents())if(a>-1&&a<s.getNumberOfTuples()){var h=i>-1?i:a;c.setTuple(h,s.getTuple(a))}else for(var p=0;p<s.getNumberOfTuples();++p)c.setTuple(p,s.getTuple(p))}else if(a<0||a>s.getNumberOfTuples())t.addArray(s);else{var u=s.getNumberOfComponents(),f=s.getNumberOfValues(),l=i>-1?i:a;f<l*u&&(f=(l+1)*u),c=Ee.newInstance({name:s.getName(),dataType:s.getDataType(),numberOfComponents:s.getNumberOfComponents(),size:f}),c.setTuple(l,s.getTuple(a)),t.addArray(c)}}})},t.copyFieldOn=function(r){e.copyFieldFlags[r]=!0},t.copyFieldOff=function(r){e.copyFieldFlags[r]=!1},t.copyAllOn=function(){(!e.doCopyAllOn||e.doCopyAllOff)&&(e.doCopyAllOn=!0,e.doCopyAllOff=!1,t.modified())},t.copyAllOff=function(){(e.doCopyAllOn||!e.doCopyAllOff)&&(e.doCopyAllOn=!1,e.doCopyAllOff=!0,t.modified())},t.clearFieldFlags=function(){e.copyFieldFlags={}},t.deepCopy=function(r){e.arrays=r.getArrays().map(function(a){var i=a.newClone();return i.deepCopy(a),{data:i}})},t.copyFlags=function(r){return r.getCopyFieldFlags().map(function(a){return a})},t.reset=function(){return e.arrays.forEach(function(r){return r.data.reset()})},t.getMTime=function(){return e.arrays.reduce(function(r,a){return a.data.getMTime()>r?a.data.getMTime():r},e.mtime)},t.getNumberOfComponents=function(){return e.arrays.reduce(function(r,a){return r+a.data.getNumberOfComponents()},0)},t.getNumberOfTuples=function(){return e.arrays.length>0?e.arrays[0].getNumberOfTuples():0},t.getState=function(){var r=n();return r&&(r.arrays=e.arrays.map(function(a){return{data:a.data.getState()}})),r}}var F8={arrays:[],copyFieldFlags:[],doCopyAllOn:!0,doCopyAllOff:!1};function Xp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,F8,n),W.obj(t,e),R8(t,e)}var L8=W.newInstance(Xp,"vtkFieldData"),A8={newInstance:L8,extend:Xp},qp={SCALARS:0,VECTORS:1,NORMALS:2,TCOORDS:3,TENSORS:4,GLOBALIDS:5,PEDIGREEIDS:6,EDGEFLAG:7,NUM_ATTRIBUTES:8},B8={MAX:0,EXACT:1,NOLIMIT:2},V8={DUPLICATECELL:1,HIGHCONNECTIVITYCELL:2,LOWCONNECTIVITYCELL:4,REFINEDCELL:8,EXTERIORCELL:16,HIDDENCELL:32},U8={DUPLICATEPOINT:1,HIDDENPOINT:2},G8={COPYTUPLE:0,INTERPOLATE:1,PASSDATA:2,ALLCOPY:3},P8="vtkGhostType",zn={DEFAULT:0,SINGLE:1,DOUBLE:2},fc={AttributeCopyOperations:G8,AttributeLimitTypes:B8,AttributeTypes:qp,CellGhostTypes:V8,DesiredOutputPrecision:zn,PointGhostTypes:U8,ghostArrayName:P8};function Rf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function j8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var dn=fc.AttributeTypes,Qn=fc.AttributeCopyOperations,io=W.vtkWarningMacro;function z8(t,e){var n=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"];function r(i){var s=n.find(function(o){return dn[o.toUpperCase()]===i||typeof i!="number"&&o.toLowerCase()===i.toLowerCase()});return typeof s=="undefined"&&(s=null),s}e.classHierarchy.push("vtkDataSetAttributes"),t.checkNumberOfComponents=function(i){return!0},t.setAttribute=function(i,s){var o=r(s);if(i&&o.toUpperCase()==="PEDIGREEIDS"&&!i.isA("vtkDataArray"))return io("Cannot set attribute ".concat(o,". The attribute must be a vtkDataArray.")),-1;if(i&&!t.checkNumberOfComponents(i,o))return io("Cannot set attribute ".concat(o,". Incorrect number of components.")),-1;var c=e["active".concat(o)];if(c>=0&&c<e.arrays.length){if(e.arrays[c]===i)return c;t.removeArrayByIndex(c)}return i?(c=t.addArray(i),e["active".concat(o)]=c):e["active".concat(o)]=-1,t.modified(),e["active".concat(o)]},t.setActiveAttributeByName=function(i,s){return t.setActiveAttributeByIndex(t.getArrayWithIndex(i).index,s)},t.setActiveAttributeByIndex=function(i,s){var o=r(s);if(i>=0&&i<e.arrays.length){if(o.toUpperCase()!=="PEDIGREEIDS"){var c=t.getArrayByIndex(i);if(!c.isA("vtkDataArray"))return io("Cannot set attribute ".concat(o,". Only vtkDataArray subclasses can be set as active attributes.")),-1;if(!t.checkNumberOfComponents(c,o))return io("Cannot set attribute ".concat(o,". Incorrect number of components.")),-1}return e["active".concat(o)]=i,t.modified(),i}return i===-1&&(e["active".concat(o)]=i,t.modified()),-1},t.getActiveAttribute=function(i){var s=r(i);return t["get".concat(s)]()},t.removeAllArrays=function(){e.arrays=[],n.forEach(function(i){e["active".concat(i)]=-1})},t.removeArray=function(i){e.arrays=e.arrays.filter(function(s,o){return i===s.data.getName()?(n.forEach(function(c){o===e["active".concat(c)]&&(e["active".concat(c)]=-1)}),!1):!0})},t.removeArrayByIndex=function(i){e.arrays=e.arrays.filter(function(s,o){return o!==i}),n.forEach(function(s){i===e["active".concat(s)]&&(e["active".concat(s)]=-1)})},n.forEach(function(i){var s="active".concat(i);t["get".concat(i)]=function(){return t.getArrayByIndex(e[s])},t["set".concat(i)]=function(o){return t.setAttribute(o,i)},t["setActive".concat(i)]=function(o){return t.setActiveAttributeByIndex(t.getArrayWithIndex(o).index,i)},t["copy".concat(i,"Off")]=function(){var o=i.toUpperCase();e.copyAttributeFlags[Qn.PASSDATA][dn[o]]=!1}}),t.initializeAttributeCopyFlags=function(){e.copyAttributeFlags=[],Object.keys(Qn).filter(function(i){return i!=="ALLCOPY"}).forEach(function(i){e.copyAttributeFlags[Qn[i]]=Object.keys(dn).filter(function(s){return s!=="NUM_ATTRIBUTES"}).reduce(function(s,o){return s[dn[o]]=!0,s},[])}),e.copyAttributeFlags[Qn.COPYTUPLE][dn.GLOBALIDS]=!1,e.copyAttributeFlags[Qn.INTERPOLATE][dn.GLOBALIDS]=!1,e.copyAttributeFlags[Qn.COPYTUPLE][dn.PEDIGREEIDS]=!1},t.initialize=W.chain(t.initialize,t.initializeAttributeCopyFlags),e.dataArrays&&Object.keys(e.dataArrays).length&&Object.keys(e.dataArrays).forEach(function(i){!e.dataArrays[i].ref&&e.dataArrays[i].type==="vtkDataArray"&&t.addArray(Ee.newInstance(e.dataArrays[i]))});var a=t.shallowCopy;t.shallowCopy=function(i,s){a(i,s),e.arrays=i.getArrays().map(function(o){var c=o.newClone();return c.shallowCopy(o,s),{data:c}})},t.initializeAttributeCopyFlags()}var W8={activeScalars:-1,activeVectors:-1,activeTensors:-1,activeNormals:-1,activeTCoords:-1,activeGlobalIds:-1,activePedigreeIds:-1};function Yp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,W8,n),A8.extend(t,e,n),W.setGet(t,e,["activeScalars","activeNormals","activeTCoords","activeVectors","activeTensors","activeGlobalIds","activePedigreeIds"]),e.arrays||(e.arrays={}),z8(t,e)}var I8=W.newInstance(Yp,"vtkDataSetAttributes"),Ff=j8({newInstance:I8,extend:Yp},fc),ut={UNIFORM:0,DATA_OBJECT_FIELD:0,COORDINATE:1,POINT_DATA:1,POINT:2,POINT_FIELD_DATA:2,CELL:3,CELL_FIELD_DATA:3,VERTEX:4,VERTEX_FIELD_DATA:4,EDGE:5,EDGE_FIELD_DATA:5,ROW:6,ROW_DATA:6},Zp={FIELD_ASSOCIATION_POINTS:0,FIELD_ASSOCIATION_CELLS:1,FIELD_ASSOCIATION_NONE:2,FIELD_ASSOCIATION_POINTS_THEN_CELLS:3,FIELD_ASSOCIATION_VERTICES:4,FIELD_ASSOCIATION_EDGES:5,FIELD_ASSOCIATION_ROWS:6,NUMBER_OF_ASSOCIATIONS:7},$8={FieldDataTypes:ut,FieldAssociations:Zp};function Lf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function H8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var hu=["pointData","cellData","fieldData"];function K8(t,e){e.classHierarchy.push("vtkDataSet"),hu.forEach(function(r){e[r]?e[r]=Tt(e[r]):e[r]=Ff.newInstance()});var n=t.shallowCopy;t.shallowCopy=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n(r,a),hu.forEach(function(i){e[i]=Ff.newInstance(),e[i].shallowCopy(r.getReferenceByName(i))})}}var X8={};function Jp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,X8,n),W.obj(t,e),W.setGet(t,e,hu),K8(t,e)}var q8=W.newInstance(Jp,"vtkDataSet"),ji=H8({newInstance:q8,extend:Jp},$8),hr={UNCHANGED:0,SINGLE_POINT:1,X_LINE:2,Y_LINE:3,Z_LINE:4,XY_PLANE:5,YZ_PLANE:6,XZ_PLANE:7,XYZ_GRID:8,EMPTY:9},Qp={StructuredType:hr};function Af(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Y8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Af(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Af(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var kr=Qp.StructuredType;function Z8(t){for(var e=0,n=0;n<3;++n)t[n*2]<t[n*2+1]&&e++;return t[0]>t[1]||t[2]>t[3]||t[4]>t[5]?kr.EMPTY:e===3?kr.XYZ_GRID:e===2?t[0]===t[1]?kr.YZ_PLANE:t[2]===t[3]?kr.XZ_PLANE:kr.XY_PLANE:e===1?t[0]<t[1]?kr.X_LINE:t[2]<t[3]?kr.Y_LINE:kr.Z_LINE:kr.SINGLE_POINT}var J8=Y8({getDataDescriptionFromExtent:Z8},Qp),Kr=W.vtkErrorMacro;function Q8(t,e){e.classHierarchy.push("vtkImageData"),t.setExtent=function(){if(e.deleted)return Kr("instance deleted - cannot call any method"),!1;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.length===1?r[0]:r;if(i.length!==6)return!1;var s=!1;return e.extent.forEach(function(o,c){if(o!==i[c]){if(s)return;s=!0}}),s&&(e.extent=i.slice(),e.dataDescription=J8.getDataDescriptionFromExtent(e.extent),t.modified()),s},t.setDimensions=function(){var n,r,a;if(e.deleted){Kr("instance deleted - cannot call any method");return}if(arguments.length===1){var i=arguments.length<=0?void 0:arguments[0];n=i[0],r=i[1],a=i[2]}else if(arguments.length===3)n=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],a=arguments.length<=2?void 0:arguments[2];else{Kr("Bad dimension specification");return}t.setExtent(0,n-1,0,r-1,0,a-1)},t.getDimensions=function(){return[e.extent[1]-e.extent[0]+1,e.extent[3]-e.extent[2]+1,e.extent[5]-e.extent[4]+1]},t.getNumberOfCells=function(){for(var n=t.getDimensions(),r=1,a=0;a<3;a++){if(n[a]===0)return 0;n[a]>1&&(r*=n[a]-1)}return r},t.getNumberOfPoints=function(){var n=t.getDimensions();return n[0]*n[1]*n[2]},t.getPoint=function(n){var r=t.getDimensions();if(r[0]===0||r[1]===0||r[2]===0)return Kr("Requesting a point from an empty image."),null;var a=new Float64Array(3);switch(e.dataDescription){case hr.EMPTY:return null;case hr.SINGLE_POINT:break;case hr.X_LINE:a[0]=n;break;case hr.Y_LINE:a[1]=n;break;case hr.Z_LINE:a[2]=n;break;case hr.XY_PLANE:a[0]=n%r[0],a[1]=n/r[0];break;case hr.YZ_PLANE:a[1]=n%r[1],a[2]=n/r[1];break;case hr.XZ_PLANE:a[0]=n%r[0],a[2]=n/r[0];break;case hr.XYZ_GRID:a[0]=n%r[0],a[1]=n/r[0]%r[1],a[2]=n/(r[0]*r[1]);break;default:Kr("Invalid dataDescription");break}var i=[0,0,0];return t.indexToWorld(a,i),i},t.getBounds=function(){return t.extentToBounds(t.getSpatialExtent())},t.extentToBounds=function(n){var r=[n[0],n[2],n[4],n[1],n[2],n[4],n[0],n[3],n[4],n[1],n[3],n[4],n[0],n[2],n[5],n[1],n[2],n[5],n[0],n[3],n[5],n[1],n[3],n[5]],a=new Float64Array([r[0],r[1],r[2]]),i=new Float64Array(3);t.indexToWorld(a,i);for(var s=[i[0],i[0],i[1],i[1],i[2],i[2]],o=3;o<24;o+=3)Ze(a,r[o],r[o+1],r[o+2]),t.indexToWorld(a,i),i[0]<s[0]&&(s[0]=i[0]),i[1]<s[2]&&(s[2]=i[1]),i[2]<s[4]&&(s[4]=i[2]),i[0]>s[1]&&(s[1]=i[0]),i[1]>s[3]&&(s[3]=i[1]),i[2]>s[5]&&(s[5]=i[2]);return s},t.getSpatialExtent=function(){var n=He.newInstance();return n.setBounds(e.extent),n.inflate(.5),n.getBounds()},t.computeTransforms=function(){jh(e.indexToWorld,e.origin),e.indexToWorld[0]=e.direction[0],e.indexToWorld[1]=e.direction[1],e.indexToWorld[2]=e.direction[2],e.indexToWorld[4]=e.direction[3],e.indexToWorld[5]=e.direction[4],e.indexToWorld[6]=e.direction[5],e.indexToWorld[8]=e.direction[6],e.indexToWorld[9]=e.direction[7],e.indexToWorld[10]=e.direction[8],Bn(e.indexToWorld,e.indexToWorld,e.spacing),ir(e.worldToIndex,e.indexToWorld)},t.setDirection=function(){if(e.deleted)return Kr("instance deleted - cannot call any method"),!1;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r;if(i.length===1&&(Array.isArray(i[0])||i[0].constructor===Float32Array||i[0].constructor===Float64Array)&&(i=i[0]),i.length!==9)throw new RangeError("Invalid number of values for array setter");var s=!1;if(e.direction.forEach(function(c,u){if(c!==i[u]){if(s)return;s=!0}}),s){for(var o=0;o<9;++o)e.direction[o]=i[o];t.modified()}return!0},t.indexToWorld=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return be(r,n,e.indexToWorld),r},t.indexToWorldVec3=t.indexToWorld,t.worldToIndex=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return be(r,n,e.worldToIndex),r},t.worldToIndexVec3=t.worldToIndex,t.indexToWorldBounds=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=[0,0,0],i=[0,0,0];He.computeCornerPoints(n,a,i);var s=[0,0,0],o=[0,0,0];return be(s,a,e.indexToWorld),be(o,i,e.indexToWorld),ef(s,o,r)},t.worldToIndexBounds=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=[0,0,0],i=[0,0,0];He.computeCornerPoints(n,a,i);var s=[0,0,0],o=[0,0,0];return be(s,a,e.worldToIndex),be(o,i,e.worldToIndex),ef(s,o,r)},t.onModified(t.computeTransforms),t.computeTransforms(),t.getCenter=function(){for(var n=t.getBounds(),r=[],a=0;a<3;a++)r[a]=(n[2*a+1]+n[2*a])/2;return r},t.computeHistogram=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=[0,0,0,0,0,0];t.worldToIndexBounds(n,a);var i=[0,0,0],s=[0,0,0];He.computeCornerPoints(a,i,s),Qc(i,i),Qc(s,s);var o=t.getDimensions();tf(i,[0,0,0],[o[0]-1,o[1]-1,o[2]-1],i),tf(s,[0,0,0],[o[0]-1,o[1]-1,o[2]-1],s);for(var c=o[0],u=o[0]*o[1],f=t.getPointData().getScalars().getData(),l=-1/0,h=1/0,p=0,v=0,y=0,_=i[2];_<=s[2];_++)for(var m=i[1];m<=s[1];m++)for(var d=i[0]+m*c+_*u,g=i[0];g<=s[0];g++){if(!r||r([g,m,_],a)){var x=f[d];x>l&&(l=x),x<h&&(h=x),p+=x*x,v+=x,y+=1}++d}var w=y>0?v/y:0,C=y?Math.abs(p/y-w*w):0,S=Math.sqrt(C);return{minimum:h,maximum:l,average:w,variance:C,sigma:S,count:y}},t.computeIncrements=function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,a=[],i=r,s=0;s<3;++s)a[s]=i,i*=n[s*2+1]-n[s*2]+1;return a},t.computeOffsetIndex=function(n){var r=Ie(n,3),a=r[0],i=r[1],s=r[2],o=t.getExtent(),c=t.getPointData().getScalars().getNumberOfComponents(),u=t.computeIncrements(o,c);return Math.floor((Math.round(a)-o[0])*u[0]+(Math.round(i)-o[2])*u[1]+(Math.round(s)-o[4])*u[2])},t.getOffsetIndexFromWorld=function(n){for(var r=t.getExtent(),a=t.worldToIndex(n),i=0;i<3;++i)if(a[i]<r[i*2]||a[i]>r[i*2+1])return Kr("GetScalarPointer: Pixel ".concat(a," is not in memory. Current extent = ").concat(r)),NaN;return t.computeOffsetIndex(a)},t.getScalarValueFromWorld=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=t.getPointData().getScalars().getNumberOfComponents();if(r<0||r>=a)return Kr("GetScalarPointer: Scalar Component ".concat(r," is not within bounds. Current Scalar numberOfComponents: ").concat(a)),NaN;var i=t.getOffsetIndexFromWorld(n);return Number.isNaN(i)?i:t.getPointData().getScalars().getComponent(i,r)}}var e9={direction:null,indexToWorld:null,worldToIndex:null,spacing:[1,1,1],origin:[0,0,0],extent:[0,-1,0,-1,0,-1],dataDescription:hr.EMPTY};function ev(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,e9,n),ji.extend(t,e,n),e.direction?Array.isArray(e.direction)&&(e.direction=new Float64Array(e.direction.slice(0,9))):e.direction=Nr(new Float64Array(9)),e.indexToWorld=new Float64Array(16),e.worldToIndex=new Float64Array(16),W.get(t,e,["direction","indexToWorld","worldToIndex"]),W.setGetArray(t,e,["origin","spacing"],3),W.getArray(t,e,["extent"],6),Q8(t,e)}var t9=W.newInstance(ev,"vtkImageData"),lc={newInstance:t9,extend:ev},r9={MAGNITUDE:0,COMPONENT:1,RGBCOLORS:2},pu={LUMINANCE:1,LUMINANCE_ALPHA:2,RGB:3,RGBA:4},Ns={VectorMode:r9,ScalarMappingTarget:pu},n9={DEFAULT:0,MAP_SCALARS:1,DIRECT_SCALARS:2},a9={DEFAULT:0,USE_POINT_DATA:1,USE_CELL_DATA:2,USE_POINT_FIELD_DATA:3,USE_CELL_FIELD_DATA:4,USE_FIELD_DATA:5},i9={BY_ID:0,BY_NAME:1},vn={ColorMode:n9,GetArray:i9,ScalarMode:a9};function Bf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function o9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Vf=Ns.ScalarMappingTarget,Cr=Ns.VectorMode,ea=Ee.VtkDataTypes,Uf=vn.ColorMode,Gf=W.vtkErrorMacro;function s9(t){return t}function Pf(t){return Math.floor(t*255+.5)}function u9(t,e){e.classHierarchy.push("vtkScalarsToColors"),t.setVectorModeToMagnitude=function(){return t.setVectorMode(Cr.MAGNITUDE)},t.setVectorModeToComponent=function(){return t.setVectorMode(Cr.COMPONENT)},t.setVectorModeToRGBColors=function(){return t.setVectorMode(Cr.RGBCOLORS)},t.build=function(){},t.isOpaque=function(){return!0},t.setAnnotations=function(n,r){if(!(n&&!r||!n&&r)){if(n&&r&&n.length!==r.length){Gf("Values and annotations do not have the same number of tuples so ignoring");return}if(e.annotationArray=[],r&&n)for(var a=r.length,i=0;i<a;i++)e.annotationArray.push({value:n[i],annotation:String(r[i])});t.updateAnnotatedValueMap(),t.modified()}},t.setAnnotation=function(n,r){var a=t.checkForAnnotatedValue(n),i=!1;return a>=0?e.annotationArray[a].annotation!==r&&(e.annotationArray[a].annotation=r,i=!0):(e.annotationArray.push({value:n,annotation:r}),a=e.annotationArray.length-1,i=!0),i&&(t.updateAnnotatedValueMap(),t.modified()),a},t.getNumberOfAnnotatedValues=function(){return e.annotationArray.length},t.getAnnotatedValue=function(n){return n<0||n>=e.annotationArray.length?null:e.annotationArray[n].value},t.getAnnotation=function(n){return e.annotationArray[n]===void 0?null:e.annotationArray[n].annotation},t.getAnnotatedValueIndex=function(n){return e.annotationArray.length?t.checkForAnnotatedValue(n):-1},t.removeAnnotation=function(n){var r=t.checkForAnnotatedValue(n),a=r>=0;return a&&(e.annotationArray.splice(r,1),t.updateAnnotatedValueMap(),t.modified()),a},t.resetAnnotations=function(){e.annotationArray=[],e.annotatedValueMap=[],t.modified()},t.getAnnotationColor=function(n,r){if(e.indexedLookup){var a=t.getAnnotatedValueIndex(n);t.getIndexedColor(a,r)}else t.getColor(parseFloat(n),r),r[3]=1},t.checkForAnnotatedValue=function(n){return t.getAnnotatedValueIndexInternal(n)},t.getAnnotatedValueIndexInternal=function(n){if(e.annotatedValueMap[n]!==void 0){var r=e.annotationArray.length;return e.annotatedValueMap[n]%r}return-1},t.getIndexedColor=function(n,r){r[0]=0,r[1]=0,r[2]=0,r[3]=0},t.updateAnnotatedValueMap=function(){e.annotatedValueMap=[];for(var n=e.annotationArray.length,r=0;r<n;r++)e.annotatedValueMap[e.annotationArray[r].value]=r},t.mapScalars=function(n,r,a){var i=n.getNumberOfComponents(),s=null;if(r===Uf.DEFAULT&&n.getDataType()===ea.UNSIGNED_CHAR||r===Uf.DIRECT_SCALARS&&n)s=t.convertToRGBA(n,i,n.getNumberOfTuples());else{var o={type:"vtkDataArray",name:"temp",numberOfComponents:4,dataType:ea.UNSIGNED_CHAR},c=W.newTypedArray(o.dataType,4*n.getNumberOfTuples());o.values=c,o.size=c.length,s=Ee.newInstance(o);var u=a;u<0&&i>1?t.mapVectorsThroughTable(n,s,Vf.RGBA,-1,-1):(u<0&&(u=0),u>=i&&(u=i-1),t.mapScalarsThroughTable(n,s,Vf.RGBA,u))}return s},t.mapVectorsToMagnitude=function(n,r,a){for(var i=n.getNumberOfTuples(),s=n.getNumberOfComponents(),o=r.getData(),c=n.getData(),u=0;u<i;u++){for(var f=0,l=0;l<a;l++)f+=c[u*s+l]*c[u*s+l];o[u]=Math.sqrt(f)}},t.mapVectorsThroughTable=function(n,r,a,i,s){var o=t.getVectorMode(),c=s,u=i,f=n.getNumberOfComponents();o===Cr.COMPONENT?(u===-1&&(u=t.getVectorComponent()),u<0&&(u=0),u>=f&&(u=f-1)):(c===-1&&(c=t.getVectorSize()),c<=0?(u=0,c=f):(u<0&&(u=0),u>=f&&(u=f-1),u+c>f&&(c=f-u)),o===Cr.MAGNITUDE&&(f===1||c===1)&&(o=Cr.COMPONENT));var l=0;switch(u>0&&(l=u),o){case Cr.COMPONENT:{t.mapScalarsThroughTable(n,r,a,l);break}case Cr.RGBCOLORS:break;case Cr.MAGNITUDE:default:{var h=Ee.newInstance({numberOfComponents:1,values:new Float32Array(n.getNumberOfTuples())});t.mapVectorsToMagnitude(n,h,c),t.mapScalarsThroughTable(h,r,a,0);break}}},t.luminanceToRGBA=function(n,r,a,i){for(var s=i(a),o=r.getData(),c=n.getData(),u=o.length,f=0,l=1,h=0,p=f;p<u;p+=l){var v=i(o[p]);c[h*4]=v,c[h*4+1]=v,c[h*4+2]=v,c[h*4+3]=s,h++}},t.luminanceAlphaToRGBA=function(n,r,a,i){for(var s=r.getData(),o=n.getData(),c=s.length,u=0,f=2,l=0,h=u;h<c;h+=f){var p=i(s[h]);o[l]=p,o[l+1]=p,o[l+2]=p,o[l+3]=i(s[h+1])*a,l+=4}},t.rGBToRGBA=function(n,r,a,i){for(var s=Pf(a),o=r.getData(),c=n.getData(),u=o.length,f=0,l=3,h=0,p=f;p<u;p+=l)c[h*4]=i(o[p]),c[h*4+1]=i(o[p+1]),c[h*4+2]=i(o[p+2]),c[h*4+3]=s,h++},t.rGBAToRGBA=function(n,r,a,i){for(var s=r.getData(),o=n.getData(),c=s.length,u=0,f=4,l=0,h=u;h<c;h+=f)o[l*4]=i(s[h]),o[l*4+1]=i(s[h+1]),o[l*4+2]=i(s[h+2]),o[l*4+3]=i(s[h+3])*a,l++},t.convertToRGBA=function(n,r,a){var i=e.alpha;if(r===4&&i>=1&&n.getDataType()===ea.UNSIGNED_CHAR)return n;var s=Ee.newInstance({numberOfComponents:4,empty:!0,size:4*a,dataType:ea.UNSIGNED_CHAR});if(a<=0)return s;i=i>0?i:0,i=i<1?i:1;var o=s9;switch((n.getDataType()===ea.FLOAT||n.getDataType()===ea.DOUBLE)&&(o=Pf),r){case 1:t.luminanceToRGBA(s,n,i,o);break;case 2:t.luminanceAlphaToRGBA(s,n,o);break;case 3:t.rGBToRGBA(s,n,i,o);break;case 4:t.rGBAToRGBA(s,n,i,o);break;default:return Gf("Cannot convert colors"),null}return s},t.usingLogScale=function(){return!1},t.getNumberOfAvailableColors=function(){return 256*256*256},t.setRange=function(n,r){return t.setMappingRange(n,r)},t.getRange=function(n,r){return t.getMappingRange()}}var c9={alpha:1,vectorComponent:0,vectorSize:-1,vectorMode:Cr.COMPONENT,mappingRange:null,annotationArray:null,annotatedValueMap:null,indexedLookup:!1};function tv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,c9,n),W.obj(t,e),e.mappingRange=[0,255],e.annotationArray=[],e.annotatedValueMap=[],W.setGet(t,e,["vectorSize","vectorComponent","vectorMode","alpha","indexedLookup"]),W.setArray(t,e,["mappingRange"],2),W.getArray(t,e,["mappingRange"]),u9(t,e)}var f9=W.newInstance(tv,"vtkScalarsToColors"),Ms=o9({newInstance:f9,extend:tv},Ns),jf=W.vtkErrorMacro,zf=0,Wf=1,Qs=2;function l9(t,e){e.classHierarchy.push("vtkLookupTable"),t.isOpaque=function(){if(e.opaqueFlagBuildTime.getMTime()<t.getMTime()){var n=!0;e.nanColor[3]<1&&(n=0),e.useBelowRangeColor&&e.belowRangeColor[3]<1&&(n=0),e.useAboveRangeColor&&e.aboveRangeColor[3]<1&&(n=0);for(var r=3;r<e.table.length&&n;r+=4)e.table[r]<255&&(n=!1);e.opaqueFlag=n,e.opaqueFlagBuildTime.modified()}return e.opaqueFlag},t.usingLogScale=function(){return!1},t.getNumberOfAvailableColors=function(){return e.table.length},t.linearIndexLookup=function(n,r){var a=0;return n<r.range[0]?a=r.maxIndex+zf+1.5:n>r.range[1]?a=r.maxIndex+Wf+1.5:(a=(n+r.shift)*r.scale,a=a<r.maxIndex?a:r.maxIndex),Math.floor(a)},t.linearLookup=function(n,r,a){var i=0;qo(n)?i=Math.floor(a.maxIndex+1.5+Qs):i=t.linearIndexLookup(n,a);var s=4*i;return[r[s],r[s+1],r[s+2],r[s+3]]},t.indexedLookupFunction=function(n,r,a){var i=t.getAnnotatedValueIndexInternal(n);i===-1&&(i=e.numberOfColors+Qs);var s=4*i;return[r[s],r[s+1],r[s+2],r[s+3]]},t.lookupShiftAndScale=function(n,r){r.shift=-n[0],r.scale=Number.MAX_VALUE,n[1]>n[0]&&(r.scale=(r.maxIndex+1)/(n[1]-n[0]))},t.mapScalarsThroughTable=function(n,r,a,i){var s=t.linearLookup;e.indexedLookup&&(s=t.indexedLookupFunction);var o=t.getMappingRange(),c={maxIndex:t.getNumberOfColors()-1,range:o,shift:0,scale:0};t.lookupShiftAndScale(o,c);var u=t.getAlpha(),f=n.getNumberOfTuples(),l=n.getNumberOfComponents(),h=r.getData(),p=n.getData();if(u>=1){if(a===pu.RGBA)for(var v=0;v<f;v++){var y=s(p[v*l+i],e.table,c);h[v*4]=y[0],h[v*4+1]=y[1],h[v*4+2]=y[2],h[v*4+3]=y[3]}}else if(a===pu.RGBA)for(var _=0;_<f;_++){var m=s(p[_*l+i],e.table,c);h[_*4]=m[0],h[_*4+1]=m[1],h[_*4+2]=m[2],h[_*4+3]=Math.floor(m[3]*u+.5)}},t.forceBuild=function(){var n=0,r=0,a=0,i=0,s=e.numberOfColors-1;s&&(n=(e.hueRange[1]-e.hueRange[0])/s,r=(e.saturationRange[1]-e.saturationRange[0])/s,a=(e.valueRange[1]-e.valueRange[0])/s,i=(e.alphaRange[1]-e.alphaRange[0])/s);for(var o=[],c=[],u=0;u<=s;u++)o[0]=e.hueRange[0]+u*n,o[1]=e.saturationRange[0]+u*r,o[2]=e.valueRange[0]+u*a,aa(o,c),c[3]=e.alphaRange[0]+u*i,e.table[u*4]=c[0]*255+.5,e.table[u*4+1]=c[1]*255+.5,e.table[u*4+2]=c[2]*255+.5,e.table[u*4+3]=c[3]*255+.5;t.buildSpecialColors(),e.buildTime.modified()},t.setTable=function(n){if(n.getNumberOfComponents()!==4){jf("Expected 4 components for RGBA colors");return}if(n.getDataType()!==ht.UNSIGNED_CHAR){jf("Expected unsigned char values for RGBA colors");return}e.numberOfColors=n.getNumberOfTuples();for(var r=n.getData(),a=0;a<r.length;a++)e.table[a]=r[a];t.buildSpecialColors(),e.insertTime.modified(),t.modified()},t.buildSpecialColors=function(){var n=e.numberOfColors,r=e.table,a=(n+zf)*4;e.useBelowRangeColor||n===0?(r[a]=e.belowRangeColor[0]*255+.5,r[a+1]=e.belowRangeColor[1]*255+.5,r[a+2]=e.belowRangeColor[2]*255+.5,r[a+3]=e.belowRangeColor[3]*255+.5):(r[a]=r[0],r[a+1]=r[1],r[a+2]=r[2],r[a+3]=r[3]),a=(n+Wf)*4,e.useAboveRangeColor||n===0?(r[a]=e.aboveRangeColor[0]*255+.5,r[a+1]=e.aboveRangeColor[1]*255+.5,r[a+2]=e.aboveRangeColor[2]*255+.5,r[a+3]=e.aboveRangeColor[3]*255+.5):(r[a]=r[4*(n-1)+0],r[a+1]=r[4*(n-1)+1],r[a+2]=r[4*(n-1)+2],r[a+3]=r[4*(n-1)+3]),a=(n+Qs)*4,r[a]=e.nanColor[0]*255+.5,r[a+1]=e.nanColor[1]*255+.5,r[a+2]=e.nanColor[2]*255+.5,r[a+3]=e.nanColor[3]*255+.5},t.build=function(){(e.table.length<1||t.getMTime()>e.buildTime.getMTime()&&e.insertTime.getMTime()<=e.buildTime.getMTime())&&t.forceBuild()},e.table.length>0&&e.insertTime.modified()}var h9={numberOfColors:256,hueRange:[0,.66667],saturationRange:[1,1],valueRange:[1,1],alphaRange:[1,1],nanColor:[.5,0,0,1],belowRangeColor:[0,0,0,1],aboveRangeColor:[1,1,1,1],useAboveRangeColor:!1,useBelowRangeColor:!1,alpha:1};function rv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,h9,n),Ms.extend(t,e,n),e.table||(e.table=[]),e.buildTime={},W.obj(e.buildTime),e.opaqueFlagBuildTime={},W.obj(e.opaqueFlagBuildTime,{mtime:0}),e.insertTime={},W.obj(e.insertTime,{mtime:0}),W.get(t,e,["buildTime"]),W.setGet(t,e,["numberOfColors","useAboveRangeColor","useBelowRangeColor"]),W.setArray(t,e,["alphaRange","hueRange","saturationRange","valueRange"],2),W.setArray(t,e,["nanColor","belowRangeColor","aboveRangeColor"],4),W.getArray(t,e,["hueRange","saturationRange","valueRange","alphaRange","nanColor","belowRangeColor","aboveRangeColor"]),l9(t,e)}var p9=W.newInstance(rv,"vtkLookupTable"),Za={newInstance:p9,extend:rv},nv=1,hc=0,v9=["VTK_RESOLVE_OFF","VTK_RESOLVE_POLYGON_OFFSET"];function d9(){return nv}function g9(t){nv=t}function y9(){return hc}function ks(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;hc=t}function m9(){ks(0)}function _9(){ks(0)}function x9(){ks(1)}function w9(){return v9[hc]}var vu={getResolveCoincidentTopologyAsString:w9,getResolveCoincidentTopologyPolygonOffsetFaces:d9,getResolveCoincidentTopology:y9,setResolveCoincidentTopology:ks,setResolveCoincidentTopologyPolygonOffsetFaces:g9,setResolveCoincidentTopologyToDefault:m9,setResolveCoincidentTopologyToOff:_9,setResolveCoincidentTopologyToPolygonOffset:x9};function av(t,e,n){n.forEach(function(r){t["get".concat(r.method)]=function(){return e[r.key]},t["set".concat(r.method)]=function(a,i){e[r.key]={factor:a,offset:i}}})}var pc=["Polygon","Line","Point"],C9={Polygon:{factor:2,offset:0},Line:{factor:1,offset:-1},Point:{factor:0,offset:-2}},En={};av(En,C9,pc.map(function(t){return{key:t,method:"ResolveCoincidentTopology".concat(t,"OffsetParameters")}}));function S9(t,e){e.resolveCoincidentTopology===void 0&&(e.resolveCoincidentTopology=!1),W.setGet(t,e,["resolveCoincidentTopology"]),e.topologyOffset={Polygon:{factor:0,offset:0},Line:{factor:0,offset:0},Point:{factor:0,offset:0}},Object.keys(vu).forEach(function(n){t[n]=vu[n]}),Object.keys(En).forEach(function(n){t[n]=En[n]}),av(t,e.topologyOffset,pc.map(function(n){return{key:n,method:"RelativeCoincidentTopology".concat(n,"OffsetParameters")}})),t.getCoincidentTopologyPolygonOffsetParameters=function(){var n=En.getResolveCoincidentTopologyPolygonOffsetParameters(),r=t.getRelativeCoincidentTopologyPolygonOffsetParameters();return{factor:n.factor+r.factor,offset:n.offset+r.offset}},t.getCoincidentTopologyLineOffsetParameters=function(){var n=En.getResolveCoincidentTopologyLineOffsetParameters(),r=t.getRelativeCoincidentTopologyLineOffsetParameters();return{factor:n.factor+r.factor,offset:n.offset+r.offset}},t.getCoincidentTopologyPointOffsetParameter=function(){var n=En.getResolveCoincidentTopologyPointOffsetParameters(),r=t.getRelativeCoincidentTopologyPointOffsetParameters();return{factor:n.factor+r.factor,offset:n.offset+r.offset}}}var ka={implementCoincidentTopologyMethods:S9,staticOffsetAPI:En,otherStaticMethods:vu,CATEGORIES:pc};function If(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function e0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?If(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):If(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var T9=ka.staticOffsetAPI,b9=ka.otherStaticMethods,t0=vn.ColorMode,gn=vn.ScalarMode,r0=vn.GetArray,E9=Ns.VectorMode,D9=Ee.VtkDataTypes;function Ua(t){return function(){return W.vtkErrorMacro("vtkMapper::".concat(t," - NOT IMPLEMENTED"))}}function O9(t,e){e.classHierarchy.push("vtkMapper"),t.getBounds=function(){var n=t.getInputData();return n?(e.static||t.update(),e.bounds=n.getBounds()):e.bounds=xa(),e.bounds},t.setForceCompileOnly=function(n){e.forceCompileOnly=n},t.createDefaultLookupTable=function(){e.lookupTable=Za.newInstance()},t.getColorModeAsString=function(){return W.enumToString(t0,e.colorMode)},t.setColorModeToDefault=function(){return t.setColorMode(0)},t.setColorModeToMapScalars=function(){return t.setColorMode(1)},t.setColorModeToDirectScalars=function(){return t.setColorMode(2)},t.getScalarModeAsString=function(){return W.enumToString(gn,e.scalarMode)},t.setScalarModeToDefault=function(){return t.setScalarMode(0)},t.setScalarModeToUsePointData=function(){return t.setScalarMode(1)},t.setScalarModeToUseCellData=function(){return t.setScalarMode(2)},t.setScalarModeToUsePointFieldData=function(){return t.setScalarMode(3)},t.setScalarModeToUseCellFieldData=function(){return t.setScalarMode(4)},t.setScalarModeToUseFieldData=function(){return t.setScalarMode(5)},t.getAbstractScalars=function(n,r,a,i,s){if(!n||!e.scalarVisibility)return{scalars:null,cellFLag:!1};var o=null,c=!1;if(r===gn.DEFAULT)o=n.getPointData().getScalars(),o||(o=n.getCellData().getScalars(),c=!0);else if(r===gn.USE_POINT_DATA)o=n.getPointData().getScalars();else if(r===gn.USE_CELL_DATA)o=n.getCellData().getScalars(),c=!0;else if(r===gn.USE_POINT_FIELD_DATA){var u=n.getPointData();a===r0.BY_ID?o=u.getArrayByIndex(i):o=u.getArrayByName(s)}else if(r===gn.USE_CELL_FIELD_DATA){var f=n.getCellData();c=!0,a===r0.BY_ID?o=f.getArrayByIndex(i):o=f.getArrayByName(s)}else if(r===gn.USE_FIELD_DATA){var l=n.getFieldData();a===r0.BY_ID?o=l.getArrayByIndex(i):o=l.getArrayByName(s)}return{scalars:o,cellFlag:c}},t.mapScalars=function(n,r){var a=t.getAbstractScalars(n,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName).scalars;if(!a){e.colorCoordinates=null,e.colorTextureMap=null,e.colorMapColors=null;return}var i="".concat(t.getMTime()).concat(a.getMTime()).concat(r);if(e.colorBuildString!==i){if(e.useLookupTableScalarRange||t.getLookupTable().setRange(e.scalarRange[0],e.scalarRange[1]),t.canUseTextureMapForColoring(n))t.mapScalarsToTexture(a,r);else{e.colorCoordinates=null,e.colorTextureMap=null;var s=t.getLookupTable();s&&(s.build(),e.colorMapColors=s.mapScalars(a,e.colorMode,e.fieldDataTupleId))}e.colorBuildString="".concat(t.getMTime()).concat(a.getMTime()).concat(r)}},t.scalarToTextureCoordinate=function(n,r,a){var i=.5,s=1;return qo(n)||(s=.49,i=(n-r)*a,i>1e3?i=1e3:i<-1e3&&(i=-1e3)),{texCoordS:i,texCoordT:s}},t.createColorTextureCoordinates=function(n,r,a,i,s,o,c,u,f){var l=(o[1]-o[0])/u,h=[];h[0]=o[0]-l,h[1]=o[1]+l;var p=1/(h[1]-h[0]),v=r.getData(),y=n.getData(),_=0,m=0;if(s<0||s>=i)for(var d=0;d<a;++d){for(var g=0,x=0;x<i;++x)g+=y[_]*y[_],_++;var w=Math.sqrt(g);f&&(w=Za.applyLogScale(w,c,o));var C=t.scalarToTextureCoordinate(w,h[0],p);v[m]=C.texCoordS,v[m+1]=C.texCoordT,m+=2}else{_+=s;for(var S=0;S<a;++S){var T=y[_];f&&(T=Za.applyLogScale(T,c,o));var b=t.scalarToTextureCoordinate(T,h[0],p);v[m]=b.texCoordS,v[m+1]=b.texCoordT,m+=2,_+=i}}},t.mapScalarsToTexture=function(n,r){var a=e.lookupTable.getRange(),i=e.lookupTable.usingLogScale();i&&Za.getLogRange(a,a);var s=e.lookupTable.getAlpha();if(e.colorMapColors=null,e.colorTextureMap==null||t.getMTime()>e.colorTextureMap.getMTime()||e.lookupTable.getMTime()>e.colorTextureMap.getMTime()||e.lookupTable.getAlpha()!==r){e.lookupTable.setAlpha(r),e.colorTextureMap=null,e.lookupTable.build();var o=e.lookupTable.getNumberOfAvailableColors();o>4094&&(o=4094),o+=2;for(var c=(a[1]-a[0])/(o-1-2),u=new Float64Array(o*2),f=0;f<o;++f)u[f]=a[0]+f*c-c,i&&(u[f]=Math.pow(10,u[f]));for(var l=0;l<o;++l)u[l+o]=NaN;e.colorTextureMap=lc.newInstance(),e.colorTextureMap.setExtent(0,o-1,0,1,0,0);var h=Ee.newInstance({numberOfComponents:1,values:u});e.colorTextureMap.getPointData().setScalars(e.lookupTable.mapScalars(h,e.colorMode,0)),e.lookupTable.setAlpha(s)}if(!e.colorCoordinates||t.getMTime()>e.colorCoordinates.getMTime()||t.getInputData(0).getMTime()>e.colorCoordinates.getMTime()||e.lookupTable.getMTime()>e.colorCoordinates.getMTime()){e.colorCoordinates=null;var p=n.getNumberOfComponents(),v=n.getNumberOfTuples();e.colorCoordinates=Ee.newInstance({numberOfComponents:2,values:new Float32Array(v*2)});var y=e.lookupTable.getVectorComponent();e.lookupTable.getVectorMode()===E9.MAGNITUDE&&n.getNumberOfComponents()>1&&(y=-1),t.createColorTextureCoordinates(n,e.colorCoordinates,v,p,y,a,e.lookupTable.getRange(),e.colorTextureMap.getPointData().getScalars().getNumberOfTuples()/2-2,i)}},t.getIsOpaque=function(){var n=t.getLookupTable();return n?(n.build(),n.isOpaque()):!0},t.canUseTextureMapForColoring=function(n){if(!e.interpolateScalarsBeforeMapping||e.lookupTable&&e.lookupTable.getIndexedLookup())return!1;var r=t.getAbstractScalars(n,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName),a=r.scalars;return!(!a||r.cellFlag||e.colorMode===t0.DEFAULT&&a.getDataType()===D9.UNSIGNED_CHAR||e.colorMode===t0.DIRECT_SCALARS)},t.clearColorArrays=function(){e.colorMapColors=null,e.colorCoordinates=null,e.colorTextureMap=null},t.getLookupTable=function(){return e.lookupTable||t.createDefaultLookupTable(),e.lookupTable},t.getMTime=function(){var n=e.mtime;if(e.lookupTable!==null){var r=e.lookupTable.getMTime();n=r>n?r:n}return n},t.getPrimitiveCount=function(){var n=t.getInputData(),r={points:n.getPoints().getNumberOfValues()/3,verts:n.getVerts().getNumberOfValues()-n.getVerts().getNumberOfCells(),lines:n.getLines().getNumberOfValues()-2*n.getLines().getNumberOfCells(),triangles:n.getPolys().getNumberOfValues()-3*n.getPolys().getNumberOfCells()};return r},t.acquireInvertibleLookupTable=Ua("AcquireInvertibleLookupTable"),t.valueToColor=Ua("ValueToColor"),t.colorToValue=Ua("ColorToValue"),t.useInvertibleColorFor=Ua("UseInvertibleColorFor"),t.clearInvertibleColor=Ua("ClearInvertibleColor")}var N9={colorMapColors:null,static:!1,lookupTable:null,scalarVisibility:!0,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,fieldDataTupleId:-1,interpolateScalarsBeforeMapping:!1,colorCoordinates:null,colorTextureMap:null,forceCompileOnly:0,useInvertibleColors:!1,invertibleScalars:null,viewSpecificProperties:null,customShaderAttributes:[]};function iv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,N9,n),k8.extend(t,e,n),W.get(t,e,["colorCoordinates","colorMapColors","colorTextureMap"]),W.setGet(t,e,["colorByArrayName","arrayAccessMode","colorMode","fieldDataTupleId","interpolateScalarsBeforeMapping","lookupTable","renderTime","scalarMode","scalarVisibility","static","useLookupTableScalarRange","viewSpecificProperties","customShaderAttributes"]),W.setGetArray(t,e,["scalarRange"],2),e.viewSpecificProperties||(e.viewSpecificProperties={}),ka.implementCoincidentTopologyMethods(t,e),O9(t,e)}var M9=W.newInstance(iv,"vtkMapper"),fn=e0(e0(e0({newInstance:M9,extend:iv},T9),b9),vn);function $f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ov(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$f(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$f(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sv(t){var e=0;return t.filter(function(n,r){return r===e?(e+=n+1,!0):!1})}function uv(t){for(var e=0,n=0;n<t.length;)n+=t[n]+1,e++;return e}var k9={extractCellSizes:sv,getNumberOfCells:uv};function R9(t,e){e.classHierarchy.push("vtkCellArray"),t.getNumberOfCells=function(r){return e.numberOfCells!==void 0&&!r||(e.cellSizes?e.numberOfCells=e.cellSizes.length:e.numberOfCells=uv(e.values)),e.numberOfCells},t.getCellSizes=function(r){return e.cellSizes!==void 0&&!r||(e.cellSizes=sv(e.values)),e.cellSizes};var n=t.setData;t.setData=function(r){n(r,1),e.numberOfCells=void 0,e.cellSizes=void 0},t.getCell=function(r){var a=r,i=e.values[a++];return e.values.subarray(a,a+i)}}function F9(t){return ov({empty:!0,numberOfComponents:1,dataType:ht.UNSIGNED_INT},t)}function cv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Ee.extend(t,e,F9(n)),R9(t,e)}var L9=W.newInstance(cv,"vtkCellArray"),as=ov({newInstance:L9,extend:cv},k9),A9=W.vtkErrorMacro,B9=[1,-1,1,-1,1,-1];function V9(t,e){e.classHierarchy.push("vtkPoints"),t.getNumberOfPoints=t.getNumberOfTuples,t.setNumberOfPoints=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;t.getNumberOfPoints()!==n&&(e.size=n*r,e.values=W.newTypedArray(e.dataType,e.size),t.setNumberOfComponents(r),t.modified())},t.setPoint=function(n){for(var r=n*e.numberOfComponents,a=0;a<e.numberOfComponents;a++)e.values[r+a]=a+1<1||arguments.length<=a+1?void 0:arguments[a+1]},t.getPoint=t.getTuple,t.getBounds=function(){if(t.getNumberOfComponents()===3){var n=t.getRange(0);e.bounds[0]=n[0],e.bounds[1]=n[1];var r=t.getRange(1);e.bounds[2]=r[0],e.bounds[3]=r[1];var a=t.getRange(2);return e.bounds[4]=a[0],e.bounds[5]=a[1],e.bounds}if(t.getNumberOfComponents()!==2)return A9(`getBounds called on an array with components of
        `.concat(t.getNumberOfComponents())),B9;var i=t.getRange(0);e.bounds[0]=i[0],e.bounds[1]=i[1];var s=t.getRange(1);return e.bounds[2]=s[0],e.bounds[3]=s[1],e.bounds[4]=0,e.bounds[5]=0,e.bounds},t.computeBounds=t.getBounds,t.setNumberOfComponents(e.numberOfComponents<2?3:e.numberOfComponents)}var U9={empty:!0,numberOfComponents:3,dataType:ht.FLOAT,bounds:[1,-1,1,-1,1,-1]};function fv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,U9,n),Ee.extend(t,e,n),V9(t,e)}var G9=W.newInstance(fv,"vtkPoints"),ln={newInstance:G9,extend:fv};function P9(t,e){e.classHierarchy.push("vtkCell"),t.initialize=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(r){e.pointsIds=r;var i=e.points.getData();i.length!==3*e.pointsIds.length&&(i=W.newTypedArray(n.getDataType(),3*e.pointsIds.length));var s=n.getData();e.pointsIds.forEach(function(o,c){var u=3*o,f=3*c;i[f]=s[u],i[++f]=s[++u],i[++f]=s[++u]}),e.points.setData(i)}else{e.points=n,e.pointsIds=new Array(n.getNumberOfPoints());for(var a=n.getNumberOfPoints()-1;a>=0;--a)e.pointsIds[a]=a}},t.getBounds=function(){var n=e.points.getNumberOfPoints(),r=[];if(n){e.points.getPoint(0,r),e.bounds[0]=r[0],e.bounds[1]=r[0],e.bounds[2]=r[1],e.bounds[3]=r[1],e.bounds[4]=r[2],e.bounds[5]=r[2];for(var a=1;a<n;a++)e.points.getPoint(a,r),e.bounds[0]=r[0]<e.bounds[0]?r[0]:e.bounds[0],e.bounds[1]=r[0]>e.bounds[1]?r[0]:e.bounds[1],e.bounds[2]=r[1]<e.bounds[2]?r[1]:e.bounds[2],e.bounds[3]=r[1]>e.bounds[3]?r[1]:e.bounds[3],e.bounds[4]=r[2]<e.bounds[4]?r[2]:e.bounds[4],e.bounds[5]=r[2]>e.bounds[5]?r[2]:e.bounds[5]}else Ma(e.bounds);return e.bounds},t.getLength2=function(){t.getBounds();for(var n=0,r=0,a=0;a<3;a++)r=e.bounds[2*a+1]-e.bounds[2*a],n+=r*r;return n},t.getParametricDistance=function(n){for(var r,a=0,i=0;i<3;i++)n[i]<0?r=-n[i]:n[i]>1?r=n[i]-1:r=0,r>a&&(a=r);return a},t.getNumberOfPoints=function(){return e.points.getNumberOfPoints()},t.deepCopy=function(n){n.initialize(e.points,e.pointsIds)},t.getCellDimension=function(){},t.intersectWithLine=function(n,r,a,i,s,o,c){},t.evaluatePosition=function(n,r,a,i,s,o){}}var j9={bounds:[-1,-1,-1,-1,-1,-1],pointsIds:[]};function lv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,j9,n),W.obj(t,e),e.points||(e.points=ln.newInstance()),W.get(t,e,["points","pointsIds"]),P9(t,e)}var z9=W.newInstance(lv,"vtkCell"),is={newInstance:z9,extend:lv};function W9(t,e){var n=e;for(e>=t.array.length&&(n+=t.array.length);n>t.array.length;)t.array.push({ncells:0,cells:null});t.array.length=n}function I9(t,e){e.classHierarchy.push("vtkCellLinks"),t.buildLinks=function(n){var r=n.getPoints().getNumberOfPoints(),a=n.getNumberOfCells(),i=new Uint32Array(r);if(n.isA("vtkPolyData")){for(var s=0;s<a;++s){var o=n.getCellPoints(s),c=o.cellPointIds;c.forEach(function(y){t.incrementLinkCount(y)})}t.allocateLinks(r),e.maxId=r-1;for(var u=function(_){var m=n.getCellPoints(_),d=m.cellPointIds;d.forEach(function(g){t.insertCellReference(g,i[g]++,_)})},f=0;f<a;++f)u(f)}else{for(var l=0;l<a;l++){var h=is.newInstance();h.getPointsIds().forEach(function(y){t.incrementLinkCount(y)})}t.allocateLinks(r),e.maxId=r-1;for(var p=function(_){var m=is.newInstance();m.getPointsIds().forEach(function(d){t.insertCellReference(d,i[d]++,_)})},v=0;v<a;++v)p(v)}},t.allocate=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;e.array=Array(n).fill().map(function(){return{ncells:0,cells:null}}),e.extend=r,e.maxId=-1},t.initialize=function(){e.array=null},t.getLink=function(n){return e.array[n]},t.getNcells=function(n){return e.array[n].ncells},t.getCells=function(n){return e.array[n].cells},t.insertNextPoint=function(n){e.array.push({ncells:n,cells:Array(n)}),++e.maxId},t.insertNextCellReference=function(n,r){e.array[n].cells[e.array[n].ncells++]=r},t.deletePoint=function(n){e.array[n].ncells=0,e.array[n].cells=null},t.removeCellReference=function(n,r){e.array[r].cells=e.array[r].cells.filter(function(a){return a!==n}),e.array[r].ncells=e.array[r].cells.length},t.addCellReference=function(n,r){e.array[r].cells[e.array[r].ncells++]=n},t.resizeCellList=function(n,r){e.array[n].cells.length=r},t.squeeze=function(){W9(e,e.maxId+1)},t.reset=function(){e.maxId=-1},t.deepCopy=function(n){e.array=we(n.array),e.extend=n.extend,e.maxId=n.maxId},t.incrementLinkCount=function(n){++e.array[n].ncells},t.allocateLinks=function(n){for(var r=0;r<n;++r)e.array[r].cells=new Array(e.array[r].ncells)},t.insertCellReference=function(n,r,a){e.array[n].cells[r]=a}}var $9={array:null,maxId:0,extend:0};function hv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,$9,n),W.obj(t,e),I9(t,e)}var H9=W.newInstance(hv,"vtkCellLinks"),K9={newInstance:H9,extend:hv},ot={VTK_EMPTY_CELL:0,VTK_VERTEX:1,VTK_POLY_VERTEX:2,VTK_LINE:3,VTK_POLY_LINE:4,VTK_TRIANGLE:5,VTK_TRIANGLE_STRIP:6,VTK_POLYGON:7,VTK_PIXEL:8,VTK_QUAD:9,VTK_TETRA:10,VTK_VOXEL:11,VTK_HEXAHEDRON:12,VTK_WEDGE:13,VTK_PYRAMID:14,VTK_PENTAGONAL_PRISM:15,VTK_HEXAGONAL_PRISM:16,VTK_QUADRATIC_EDGE:21,VTK_QUADRATIC_TRIANGLE:22,VTK_QUADRATIC_QUAD:23,VTK_QUADRATIC_POLYGON:36,VTK_QUADRATIC_TETRA:24,VTK_QUADRATIC_HEXAHEDRON:25,VTK_QUADRATIC_WEDGE:26,VTK_QUADRATIC_PYRAMID:27,VTK_BIQUADRATIC_QUAD:28,VTK_TRIQUADRATIC_HEXAHEDRON:29,VTK_QUADRATIC_LINEAR_QUAD:30,VTK_QUADRATIC_LINEAR_WEDGE:31,VTK_BIQUADRATIC_QUADRATIC_WEDGE:32,VTK_BIQUADRATIC_QUADRATIC_HEXAHEDRON:33,VTK_BIQUADRATIC_TRIANGLE:34,VTK_CUBIC_LINE:35,VTK_CONVEX_POINT_SET:41,VTK_POLYHEDRON:42,VTK_PARAMETRIC_CURVE:51,VTK_PARAMETRIC_SURFACE:52,VTK_PARAMETRIC_TRI_SURFACE:53,VTK_PARAMETRIC_QUAD_SURFACE:54,VTK_PARAMETRIC_TETRA_REGION:55,VTK_PARAMETRIC_HEX_REGION:56,VTK_HIGHER_ORDER_EDGE:60,VTK_HIGHER_ORDER_TRIANGLE:61,VTK_HIGHER_ORDER_QUAD:62,VTK_HIGHER_ORDER_POLYGON:63,VTK_HIGHER_ORDER_TETRAHEDRON:64,VTK_HIGHER_ORDER_WEDGE:65,VTK_HIGHER_ORDER_PYRAMID:66,VTK_HIGHER_ORDER_HEXAHEDRON:67,VTK_LAGRANGE_CURVE:68,VTK_LAGRANGE_TRIANGLE:69,VTK_LAGRANGE_QUADRILATERAL:70,VTK_LAGRANGE_TETRAHEDRON:71,VTK_LAGRANGE_HEXAHEDRON:72,VTK_LAGRANGE_WEDGE:73,VTK_LAGRANGE_PYRAMID:74,VTK_NUMBER_OF_CELL_TYPES:75},du=["vtkEmptyCell","vtkVertex","vtkPolyVertex","vtkLine","vtkPolyLine","vtkTriangle","vtkTriangleStrip","vtkPolygon","vtkPixel","vtkQuad","vtkTetra","vtkVoxel","vtkHexahedron","vtkWedge","vtkPyramid","vtkPentagonalPrism","vtkHexagonalPrism","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkQuadraticEdge","vtkQuadraticTriangle","vtkQuadraticQuad","vtkQuadraticTetra","vtkQuadraticHexahedron","vtkQuadraticWedge","vtkQuadraticPyramid","vtkBiQuadraticQuad","vtkTriQuadraticHexahedron","vtkQuadraticLinearQuad","vtkQuadraticLinearWedge","vtkBiQuadraticQuadraticWedge","vtkBiQuadraticQuadraticHexahedron","vtkBiQuadraticTriangle","vtkCubicLine","vtkQuadraticPolygon","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkConvexPointSet","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkParametricCurve","vtkParametricSurface","vtkParametricTriSurface","vtkParametricQuadSurface","vtkParametricTetraRegion","vtkParametricHexRegion","UnknownClass","UnknownClass","UnknownClass","vtkHigherOrderEdge","vtkHigherOrderTriangle","vtkHigherOrderQuad","vtkHigherOrderPolygon","vtkHigherOrderTetrahedron","vtkHigherOrderWedge","vtkHigherOrderPyramid","vtkHigherOrderHexahedron"];function Hf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function X9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q9(t){return t<du.length?du[t]:"UnknownClass"}function Y9(t){return du.findIndex(t)}function Z9(t){return t<ot.VTK_QUADRATIC_EDGE||t===ot.VTK_CONVEX_POINT_SET||t===ot.VTK_POLYHEDRON}var J9={getClassNameFromTypeId:q9,getTypeIdFromClassName:Y9,isLinear:Z9};function Q9(t,e){e.classHierarchy.push("vtkCellTypes"),t.allocate=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:512,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;e.size=n>0?n:1,e.extend=r>0?r:1,e.maxId=-1,e.typeArray=new Uint8Array(n),e.locationArray=new Uint32Array(n)},t.insertCell=function(n,r,a){e.typeArray[n]=r,e.locationArray[n]=a,n>e.maxId&&(e.maxId=n)},t.insertNextCell=function(n,r){return t.insertCell(++e.maxId,n,r),e.maxId},t.setCellTypes=function(n,r,a){e.size=n,e.typeArray=r,e.locationArray=a,e.maxId=n-1},t.getCellLocation=function(n){return e.locationArray[n]},t.deleteCell=function(n){e.typeArray[n]=ot.VTK_EMPTY_CELL},t.getNumberOfTypes=function(){return e.maxId+1},t.isType=function(n){for(var r=t.getNumberOfTypes(),a=0;a<r;++a)if(n===t.getCellType(a))return!0;return!1},t.insertNextType=function(n){return t.insertNextCell(n,-1)},t.getCellType=function(n){return e.typeArray[n]},t.reset=function(){e.maxId=-1},t.deepCopy=function(n){t.allocate(n.getSize(),n.getExtend()),e.typeArray.set(n.getTypeArray()),e.locationArray.set(n.getLocationArray()),e.maxId=n.getMaxId()}}var e6={size:0,maxId:-1,extend:1e3};function pv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,e6,n),W.obj(t,e),W.get(t,e,["size","maxId","extend"]),W.getArray(t,e,["typeArray","locationArray"]),Q9(t,e)}var t6=W.newInstance(pv,"vtkCellTypes"),r6=X9({newInstance:t6,extend:pv},J9),n6={NO_INTERSECTION:0,YES_INTERSECTION:1,ON_LINE:2},vv={IntersectionState:n6};function Kf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Uo=vv.IntersectionState;function pa(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a={t:Number.MIN_VALUE,distance:0},i=[],s;i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2];var o=i[0]*(t[0]-e[0])+i[1]*(t[1]-e[1])+i[2]*(t[2]-e[2]),c=Be(i,i),u=1e-5*o;return c!==0&&(a.t=o/c),u<0&&(u=-u),-u<c&&c<u||c<=0||a.t<0?s=e:a.t>1?s=n:(s=i,i[0]=e[0]+a.t*i[0],i[1]=e[1]+a.t*i[1],i[2]=e[2]+a.t*i[2]),r&&(r[0]=s[0],r[1]=s[1],r[2]=s[2]),a.distance=er(s,t),a}function dv(t,e,n,r,a,i){var s=[],o=[],c=[];a[0]=0,i[0]=0,s[0]=e[0]-t[0],s[1]=e[1]-t[1],s[2]=e[2]-t[2],o[0]=r[0]-n[0],o[1]=r[1]-n[1],o[2]=r[2]-n[2],c[0]=n[0]-t[0],c[1]=n[1]-t[1],c[2]=n[2]-t[2];var u=[];u[0]=[Be(s,s),-Be(s,o)],u[1]=[u[0][1],Be(o,o)];var f=[];if(f[0]=Be(s,c),f[1]=-Be(o,c),C5(u,f,2)===0){for(var l=Number.MAX_VALUE,h=[t,e,n,r],p=[n,n,t,t],v=[r,r,e,e],y=[i[0],i[0],a[0],a[0]],_=[a[0],a[0],i[0],i[0]],m,d=0;d<4;d++)m=pa(h[d],p[d],v[d]),m.distance<l&&(l=m.distance,y[d]=m.t,_[d]=d%2);return Uo.ON_LINE}return a[0]=f[0],i[0]=f[1],a[0]>=0&&a[0]<=1&&i[0]>=0&&i[0]<=1?Uo.YES_INTERSECTION:Uo.NO_INTERSECTION}var a6={distanceToLine:pa,intersection:dv};function i6(t,e){e.classHierarchy.push("vtkLine");function n(r){return r>=0&&r<=1}t.getCellDimension=function(){return 1},t.intersectWithLine=function(r,a,i,s,o){var c={intersect:0,t:Number.MAX_VALUE,subId:0,betweenPoints:null};o[1]=0,o[2]=0;var u=[],f=[],l=[];e.points.getPoint(0,f),e.points.getPoint(1,l);var h=[],p=[],v=dv(r,a,f,l,h,p);if(c.t=h[0],c.betweenPoints=n(c.t),o[0]=p[0],v===Uo.YES_INTERSECTION){for(var y=0;y<3;y++)s[y]=f[y]+o[0]*(l[y]-f[y]),u[y]=r[y]+c.t*(a[y]-r[y]);if(er(s,u)<=i*i)return c.intersect=1,c}else{var _;if(c.t<0)return _=pa(r,f,l,s),_.distance<=i*i&&(c.t=0,c.intersect=1,c.betweenPoints=!0),c;if(c.t>1)return _=pa(a,f,l,s),_.distance<=i*i&&(c.t=1,c.intersect=1,c.betweenPoints=!0),c;if(o[0]<0)return o[0]=0,_=pa(f,r,a,s),c.t=_.t,_.distance<=i*i&&(c.intersect=1),c;if(o[0]>1)return o[0]=1,_=pa(l,r,a,s),c.t=_.t,_.distance<=i*i&&(c.intersect=1),c}return c},t.evaluatePosition=function(r,a,i,s,o,c){}}var o6={};function gv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,o6,n),is.extend(t,e,n),i6(t,e)}var s6=W.newInstance(gv,"vtkLine"),Qt=Xf(Xf({newInstance:s6,extend:gv},a6),vv);function u6(t,e){e.classHierarchy.push("vtkPointSet"),e.points?e.points=Tt(e.points):e.points=ln.newInstance(),t.getNumberOfPoints=function(){return e.points.getNumberOfPoints()},t.getBounds=function(){return e.points.getBounds()},t.computeBounds=function(){t.getBounds()};var n=t.shallowCopy;t.shallowCopy=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n(r,a),e.points=ln.newInstance(),e.points.shallowCopy(r.getPoints())}}var c6={};function yv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,c6,n),ji.extend(t,e,n),W.setGet(t,e,["points"]),u6(t,e)}var f6=W.newInstance(yv,"vtkPointSet"),l6={newInstance:f6,extend:yv};function qf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function h6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vc(t,e,n,r){var a=n[0]-e[0],i=n[1]-e[1],s=n[2]-e[2],o=t[0]-e[0],c=t[1]-e[1],u=t[2]-e[2];r[0]=i*u-s*c,r[1]=s*o-a*u,r[2]=a*c-i*o}function os(t,e,n,r){vc(t,e,n,r);var a=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);a!==0&&(r[0]/=a,r[1]/=a,r[2]/=a)}function p6(t,e,n,r,a,i){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1e-6,o=!1,c=[],u=[],f=[],l=[],h=[];os(t,e,n,l),os(r,a,i,h);var p=-Be(l,t),v=-Be(h,r),y=[Be(h,t)+v,Be(h,e)+v,Be(h,n)+v];if(y[0]*y[1]>s&&y[0]*y[2]>s)return{intersect:!1,coplanar:o,pt1:c,pt2:u,surfaceId:f};var _=[Be(l,r)+p,Be(l,a)+p,Be(l,i)+p];if(_[0]*_[1]>s&&_[0]*_[2]>s)return{intersect:!1,coplanar:o,pt1:c,pt2:u,surfaceId:f};if(Math.abs(l[0]-h[0])<1e-9&&Math.abs(l[1]-h[1])<1e-9&&Math.abs(l[2]-h[2])<1e-9&&Math.abs(p-v)<1e-9)return o=!0,{intersect:!1,coplanar:o,pt1:c,pt2:u,surfaceId:f};var m=[t,e,n],d=[r,a,i],g=Be(l,h),x=(p-v*g)/(g*g-1),w=(v-p*g)/(g*g-1),C=[x*l[0]+w*h[0],x*l[1]+w*h[1],x*l[2]+w*h[2]],S=kt(l,h,[]);lt(S);for(var T=0,b=0,O=[],D=[],M=50,R=50,E=0;E<3;E++){var B=E,I=(E+1)%3,P=jn.intersectWithLine(m[B],m[I],r,h);P.intersection&&P.t>0-s&&P.t<1+s&&(P.t<1+s&&P.t>1-s&&(M=T),O[T++]=Be(P.x,S)-Be(C,S));var L=jn.intersectWithLine(d[B],d[I],t,l);L.intersection&&L.t>0-s&&L.t<1+s&&(L.t<1+s&&L.t>1-s&&(R=b),D[b++]=Be(L.x,S)-Be(C,S))}if(T>2){T--;var F=O[2];O[2]=O[M],O[M]=F}if(b>2){b--;var G=D[2];D[2]=D[R],D[R]=G}if(T!==2||b!==2)return{intersect:!1,coplanar:o,pt1:c,pt2:u,surfaceId:f};if(Number.isNaN(O[0])||Number.isNaN(O[1])||Number.isNaN(D[0])||Number.isNaN(D[1]))return{intersect:!1,coplanar:o,pt1:c,pt2:u,surfaceId:f};if(O[0]>O[1]){var $=O[1];O[1]=O[0],O[0]=$}if(D[0]>D[1]){var H=D[1];D[1]=D[0],D[0]=H}var J,Q;return O[1]<D[0]||D[1]<O[0]?{intersect:!1,coplanar:o,pt1:c,pt2:u,surfaceId:f}:(O[0]<D[0]?O[1]<D[1]?(f[0]=2,f[1]=1,J=D[0],Q=O[1]):(f[0]=2,f[1]=2,J=D[0],Q=D[1]):O[1]<D[1]?(f[0]=1,f[1]=1,J=O[0],Q=O[1]):(f[0]=1,f[1]=2,J=O[0],Q=D[1]),Jc(C,S,J,c),Jc(C,S,Q,u),{intersect:!0,coplanar:o,pt1:c,pt2:u,surfaceId:f})}var v6={computeNormalDirection:vc,computeNormal:os,intersectWithTriangle:p6};function d6(t,e){e.classHierarchy.push("vtkTriangle"),t.getCellDimension=function(){return 2},t.intersectWithLine=function(n,r,a,i,s){var o={subId:0,t:Number.MAX_VALUE,intersect:0,betweenPoints:!1};s[2]=0;var c=[],u=a*a,f=[],l=[],h=[];e.points.getPoint(0,f),e.points.getPoint(1,l),e.points.getPoint(2,h);var p=[],v=[];if(os(f,l,h,p),p[0]!==0||p[1]!==0||p[2]!==0){var y=jn.intersectWithLine(n,r,f,p);if(o.betweenPoints=y.betweenPoints,o.t=y.t,i[0]=y.x[0],i[1]=y.x[1],i[2]=y.x[2],!y.intersection)return s[0]=0,s[1]=0,o.intersect=0,o;var _=t.evaluatePosition(i,c,s,v);if(_.evaluation>=0)return _.dist2<=u?(o.intersect=1,o):(o.intersect=_.evaluation,o)}var m=er(f,l),d=er(l,h),g=er(h,f);e.line||(e.line=Qt.newInstance()),m>d&&m>g?(e.line.getPoints().setPoint(0,f),e.line.getPoints().setPoint(1,l)):d>g&&d>m?(e.line.getPoints().setPoint(0,l),e.line.getPoints().setPoint(1,h)):(e.line.getPoints().setPoint(0,h),e.line.getPoints().setPoint(1,f));var x=e.line.intersectWithLine(n,r,a,i,s);if(o.betweenPoints=x.betweenPoints,o.t=x.t,x.intersect){for(var w=[],C=[],S=[],T=0;T<3;T++)w[T]=f[T]-h[T],C[T]=l[T]-h[T],S[T]=i[T]-h[T];return s[0]=Be(S,w)/g,s[1]=Be(S,C)/d,o.intersect=1,o}return s[0]=0,s[1]=0,o.intersect=0,o},t.evaluatePosition=function(n,r,a,i){var s={subId:0,dist2:0,evaluation:-1},o,c,u=[],f=[],l=[],h=[],p,v=[],y=[],_=[],m=0,d=0,g=[],x,w,C,S=[],T=[],b=[],O=[];s.subId=0,a[2]=0,e.points.getPoint(1,u),e.points.getPoint(2,f),e.points.getPoint(0,l),vc(u,f,l,h),jn.generalizedProjectPoint(n,u,h,O);var D=0;for(o=0;o<3;o++)h[o]<0?p=-h[o]:p=h[o],p>D&&(D=p,d=o);for(c=0,o=0;o<3;o++)o!==d&&(g[c++]=o);for(o=0;o<2;o++)v[o]=O[g[o]]-l[g[o]],y[o]=u[g[o]]-l[g[o]],_[o]=f[g[o]]-l[g[o]];if(m=Bo(y,_),m===0)return a[0]=0,a[1]=0,s.evaluation=-1,s;if(a[0]=Bo(v,_)/m,a[1]=Bo(y,v)/m,i[0]=1-(a[0]+a[1]),i[1]=a[0],i[2]=a[1],i[0]>=0&&i[0]<=1&&i[1]>=0&&i[1]<=1&&i[2]>=0&&i[2]<=1)r&&(s.dist2=er(O,n),r[0]=O[0],r[1]=O[1],r[2]=O[2]),s.evaluation=1;else{var M;if(r){if(i[1]<0&&i[2]<0)for(x=er(n,l),w=Qt.distanceToLine(n,u,l,M,T),C=Qt.distanceToLine(n,l,f,M,b),x<w?(s.dist2=x,S=l):(s.dist2=w,S=T),C<s.dist2&&(s.dist2=C,S=b),o=0;o<3;o++)r[o]=S[o];else if(i[2]<0&&i[0]<0)for(x=er(n,u),w=Qt.distanceToLine(n,u,l,M,T),C=Qt.distanceToLine(n,u,f,M,b),x<w?(s.dist2=x,S=u):(s.dist2=w,S=T),C<s.dist2&&(s.dist2=C,S=b),o=0;o<3;o++)r[o]=S[o];else if(i[1]<0&&i[0]<0)for(x=er(n,f),w=Qt.distanceToLine(n,f,l,M,T),C=Qt.distanceToLine(n,u,f,M,b),x<w?(s.dist2=x,S=f):(s.dist2=w,S=T),C<s.dist2&&(s.dist2=C,S=b),o=0;o<3;o++)r[o]=S[o];else if(i[0]<0){var R=Qt.distanceToLine(n,u,f,r);s.dist2=R.distance}else if(i[1]<0){var E=Qt.distanceToLine(n,f,l,r);s.dist2=E.distance}else if(i[2]<0){var B=Qt.distanceToLine(n,u,l,r);s.dist2=B.distance}}s.evaluation=0}return s},t.evaluateLocation=function(n,r,a){var i=[],s=[],o=[];e.points.getPoint(0,i),e.points.getPoint(1,s),e.points.getPoint(2,o);for(var c=1-n[0]-n[1],u=0;u<3;u++)r[u]=i[u]*c+s[u]*n[0]+o[u]*n[1];a[0]=c,a[1]=n[0],a[2]=n[1]},t.getParametricDistance=function(n){var r,a=0,i=[];i[0]=n[0],i[1]=n[1],i[2]=1-n[0]-n[1];for(var s=0;s<3;s++)i[s]<0?r=-i[s]:i[s]>1?r=i[s]-1:r=0,r>a&&(a=r);return a}}var g6={};function mv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,g6,n),is.extend(t,e,n),d6(t,e)}var y6=W.newInstance(mv,"vtkTriangle"),m6=h6({newInstance:y6,extend:mv},v6),n0=["verts","lines","polys","strips"],Ga,Yf=W.vtkWarningMacro,_6=(Ga={},Oe(Ga,ot.VTK_LINE,Qt),Oe(Ga,ot.VTK_POLY_LINE,Qt),Oe(Ga,ot.VTK_TRIANGLE,m6),Ga);function x6(t,e){e.classHierarchy.push("vtkPolyData");function n(a){return a.replace(/(?:^\w|[A-Z]|\b\w)/g,function(i){return i.toUpperCase()}).replace(/\s+/g,"")}n0.forEach(function(a){t["getNumberOf".concat(n(a))]=function(){return e[a].getNumberOfCells()},e[a]?e[a]=Tt(e[a]):e[a]=as.newInstance()}),t.getNumberOfCells=function(){return n0.reduce(function(a,i){return a+e[i].getNumberOfCells()},0)};var r=t.shallowCopy;t.shallowCopy=function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r(a,i),n0.forEach(function(s){e[s]=as.newInstance(),e[s].shallowCopy(a.getReferenceByName(s))})},t.buildCells=function(){var a=t.getNumberOfVerts(),i=t.getNumberOfLines(),s=t.getNumberOfPolys(),o=t.getNumberOfStrips(),c=a+i+s+o,u=new Uint8Array(c),f=u,l=new Uint32Array(c),h=l;if(a){var p=0;e.verts.getCellSizes().forEach(function(m,d){h[d]=p,f[d]=m>1?ot.VTK_POLY_VERTEX:ot.VTK_VERTEX,p+=m+1}),h=h.subarray(a),f=f.subarray(a)}if(i){var v=0;e.lines.getCellSizes().forEach(function(m,d){h[d]=v,f[d]=m>2?ot.VTK_POLY_LINE:ot.VTK_LINE,m===1&&Yf("Building VTK_LINE ",d," with only one point, but VTK_LINE needs at least two points. Check the input."),v+=m+1}),h=h.subarray(i),f=f.subarray(i)}if(s){var y=0;e.polys.getCellSizes().forEach(function(m,d){switch(h[d]=y,m){case 3:f[d]=ot.VTK_TRIANGLE;break;case 4:f[d]=ot.VTK_QUAD;break;default:f[d]=ot.VTK_POLYGON;break}m<3&&Yf("Building VTK_TRIANGLE ",d," with less than three points, but VTK_TRIANGLE needs at least three points. Check the input."),y+=m+1}),h+=h.subarray(s),f+=f.subarray(s)}if(o){var _=0;f.fill(ot.VTK_TRIANGLE_STRIP,0,o),e.strips.getCellSizes().forEach(function(m,d){h[d]=_,_+=m+1})}e.cells=r6.newInstance(),e.cells.setCellTypes(c,u,l)},t.buildLinks=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;e.cells===void 0&&t.buildCells(),e.links=K9.newInstance(),a>0?e.links.allocate(a):e.links.allocate(t.getPoints().getNumberOfPoints()),e.links.buildLinks(t)},t.getCellType=function(a){return e.cells.getCellType(a)},t.getCellPoints=function(a){var i=t.getCellType(a),s=null;switch(i){case ot.VTK_VERTEX:case ot.VTK_POLY_VERTEX:s=e.verts;break;case ot.VTK_LINE:case ot.VTK_POLY_LINE:s=e.lines;break;case ot.VTK_TRIANGLE:case ot.VTK_QUAD:case ot.VTK_POLYGON:s=e.polys;break;case ot.VTK_TRIANGLE_STRIP:s=e.strips;break;default:return s=null,{type:0,cellPointIds:null}}var o=e.cells.getCellLocation(a),c=s.getCell(o);return{cellType:i,cellPointIds:c}},t.getPointCells=function(a){return e.links.getCells(a)},t.getCellEdgeNeighbors=function(a,i,s){var o=e.links.getLink(i),c=e.links.getLink(s);return o.cells.filter(function(u){return u!==a&&c.cells.indexOf(u)!==-1})},t.getCell=function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=t.getCellPoints(a),o=i||_6[s.cellType].newInstance();return o.initialize(t.getPoints(),s.cellPointIds),o}}var w6={};function _v(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,w6,n),l6.extend(t,e,n),W.get(t,e,["cells","links"]),W.setGet(t,e,["verts","lines","polys","strips"]),x6(t,e)}var C6=W.newInstance(_v,"vtkPolyData"),at={newInstance:C6,extend:_v};function S6(t,e){e.classHierarchy.push("vtkTexture"),t.imageLoaded=function(){e.image.removeEventListener("load",t.imageLoaded),e.imageLoaded=!0,t.modified()},t.setJsImageData=function(n){e.jsImageData!==n&&(n!==null&&(t.setInputData(null),t.setInputConnection(null),e.image=null,e.canvas=null),e.jsImageData=n,e.imageLoaded=!0,t.modified())},t.setCanvas=function(n){e.canvas!==n&&(n!==null&&(t.setInputData(null),t.setInputConnection(null),e.image=null,e.jsImageData=null),e.canvas=n,t.modified())},t.setImage=function(n){e.image!==n&&(n!==null&&(t.setInputData(null),t.setInputConnection(null),e.canvas=null,e.jsImageData=null),e.image=n,e.imageLoaded=!1,n.complete?t.imageLoaded():n.addEventListener("load",t.imageLoaded),t.modified())}}var T6={repeat:!1,interpolate:!1,edgeClamp:!1,image:null,canvas:null,imageLoaded:!1,jsImageData:null};function xv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,T6,n),W.obj(t,e),W.algo(t,e,6,0),W.get(t,e,["canvas","image","jsImageData","imageLoaded"]),W.setGet(t,e,["repeat","edgeClamp","interpolate"]),S6(t,e)}var b6=W.newInstance(xv,"vtkTexture"),wv={newInstance:b6,extend:xv};function Zf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var E6=[[-1,0,0],[1,0,0],[0,-1,0],[0,1,0],[0,0,-1],[0,0,1]],Jf=[[8,7,11,3],[9,1,10,5],[4,9,0,8],[2,11,6,10],[0,3,2,1],[4,5,6,7]],oo=[[0,1],[1,3],[2,3],[0,2],[4,5],[5,7],[6,7],[4,6],[0,4],[1,5],[3,7],[2,6]],Qf=[0,1,0,1,0,1,0,1,2,2,2,2],et=[[1,2],[1,2],[0,2],[0,2],[0,1],[0,1]],Me=new Float64Array(3),so=new Float64Array(3),qe=new Float64Array(3),Dn=new Float64Array(3),yn=new Float64Array(3),uo=new Float64Array(3),a0=new Float64Array(16);function i0(t,e){t.strokeStyle=e.strokeColor,t.lineWidth=e.strokeSize,t.fillStyle=e.fontColor,t.font="".concat(e.fontStyle," ").concat(e.fontSize,"px ").concat(e.fontFamily)}function D6(t,e){e.classHierarchy.push("vtkCubeAxesActorHelper"),t.setRenderable=function(n){e.renderable!==n&&(e.renderable=n,e.tmActor.addTexture(e.renderable.getTmTexture()),e.tmActor.setProperty(n.getProperty()),e.tmActor.setParentProp(n),t.modified())},t.createPolyDataForOneLabel=function(n,r,a,i,s,o,c){var u=e.renderable.get_tmAtlas().get(n);if(!!u){var f=e.renderable.getTextPolyData().getPoints().getData(),l=e.lastSize;Me[0]=f[r*3],Me[1]=f[r*3+1],Me[2]=f[r*3+2],be(qe,Me,a),qe[0]+=.1,be(so,qe,i),rr(yn,so,Me),qe[0]-=.1,qe[1]+=.1,be(so,qe,i),rr(uo,so,Me);for(var h=0;h<3;h++)yn[h]/=.5*.1*l[0],uo[h]/=.5*.1*l[1];var p=c.ptIdx,v=c.cellIdx;Me[0]=f[r*3],Me[1]=f[r*3+1],Me[2]=f[r*3+2],s[0]<-.5?_t(qe,yn,s[0]*o-u.width):s[0]>.5?_t(qe,yn,s[0]*o):_t(qe,yn,s[0]*o-u.width/2),jr(Me,Me,qe),_t(qe,uo,s[1]*o-u.height/2),jr(Me,Me,qe),c.points[p*3]=Me[0],c.points[p*3+1]=Me[1],c.points[p*3+2]=Me[2],c.tcoords[p*2]=u.tcoords[0],c.tcoords[p*2+1]=u.tcoords[1],p++,_t(qe,yn,u.width),jr(Me,Me,qe),c.points[p*3]=Me[0],c.points[p*3+1]=Me[1],c.points[p*3+2]=Me[2],c.tcoords[p*2]=u.tcoords[2],c.tcoords[p*2+1]=u.tcoords[3],p++,_t(qe,uo,u.height),jr(Me,Me,qe),c.points[p*3]=Me[0],c.points[p*3+1]=Me[1],c.points[p*3+2]=Me[2],c.tcoords[p*2]=u.tcoords[4],c.tcoords[p*2+1]=u.tcoords[5],p++,_t(qe,yn,u.width),rr(Me,Me,qe),c.points[p*3]=Me[0],c.points[p*3+1]=Me[1],c.points[p*3+2]=Me[2],c.tcoords[p*2]=u.tcoords[6],c.tcoords[p*2+1]=u.tcoords[7],p++,c.polys[v*4]=3,c.polys[v*4+1]=p-4,c.polys[v*4+2]=p-3,c.polys[v*4+3]=p-2,v++,c.polys[v*4]=3,c.polys[v*4+1]=p-4,c.polys[v*4+2]=p-2,c.polys[v*4+3]=p-1,c.ptIdx+=4,c.cellIdx+=2}},t.updateTexturePolyData=function(){var n=e.camera.getCompositeProjectionMatrix(e.lastAspectRatio,-1,1);Ye(n,n);var r=e.renderable.getTextValues().length,a=r*4,i=r*2,s=new Float64Array(a*3),o=new Uint16Array(i*4),c=new Float32Array(a*2);ir(a0,n);for(var u={ptIdx:0,cellIdx:0,polys:o,points:s,tcoords:c},f=0,l=0,h=0,p=e.renderable.getTextPolyData().getPoints().getData(),v=e.renderable.getTextValues();f<p.length/3;){Me[0]=p[f*3],Me[1]=p[f*3+1],Me[2]=p[f*3+2],be(qe,Me,n),Me[0]=p[f*3+3],Me[1]=p[f*3+4],Me[2]=p[f*3+5],be(Dn,Me,n),rr(qe,qe,Dn);var y=[qe[0],qe[1]];y5(y),t.createPolyDataForOneLabel(v[l],f,n,a0,y,e.renderable.getAxisTitlePixelOffset(),u),f+=2,l++;for(var _=0;_<e.renderable.getTickCounts()[h];_++)t.createPolyDataForOneLabel(v[l],f,n,a0,y,e.renderable.getTickLabelPixelOffset(),u),f++,l++;h++}var m=Ee.newInstance({numberOfComponents:2,values:c,name:"TextureCoordinates"});e.tmPolyData.getPointData().setTCoords(m),e.tmPolyData.getPoints().setData(s,3),e.tmPolyData.getPoints().modified(),e.tmPolyData.getPolys().setData(o,1),e.tmPolyData.getPolys().modified(),e.tmPolyData.modified()},t.updateAPISpecificData=function(n,r,a){(e.lastSize[0]!==n[0]||e.lastSize[1]!==n[1])&&(e.lastSize[0]=n[0],e.lastSize[1]=n[1],e.lastAspectRatio=n[0]/n[1],e.forceUpdate=!0),e.camera=r,t.updateTexturePolyData()}}var O6=W.newInstance(function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{renderable:null};Object.assign(e,{},n),W.obj(t,e),e.tmPolyData=at.newInstance(),e.tmMapper=fn.newInstance(),e.tmMapper.setInputData(e.tmPolyData),e.tmActor=$r.newInstance({parentProp:t}),e.tmActor.setMapper(e.tmMapper),W.setGet(t,e,["renderable"]),W.get(t,e,["lastSize","lastAspectRatio","axisTextStyle","tickTextStyle","tmActor","ticks"]),e.forceUpdate=!1,e.lastRedrawTime={},W.obj(e.lastRedrawTime,{mtime:0}),e.lastRebuildTime={},W.obj(e.lastRebuildTime,{mtime:0}),e.lastSize=[-1,-1],e.lastTickBounds=[],D6(t,e)},"vtkCubeAxesActorHelper");function N6(t,e){e.classHierarchy.push("vtkCubeAxesActor"),t.setCamera=function(n){e.camera!==n&&(e.cameraModifiedSub&&(e.cameraModifiedSub.unsubscribe(),e.cameraModifiedSub=null),e.camera=n,n&&(e.cameraModifiedSub=n.onModified(t.update)),t.update(),t.modified())},t.computeFacesToDraw=function(){var n=e.camera.getViewMatrix();Ye(n,n);for(var r=!1,a=He.getDiagonalLength(e.dataBounds),i=Math.sin(e.faceVisibilityAngle*Math.PI/180),s=0;s<6;s++){var o=!1,c=Math.floor(s/2),u=(c+1)%3,f=(c+2)%3;e.dataBounds[u*2]!==e.dataBounds[u*2+1]&&e.dataBounds[f*2]!==e.dataBounds[f*2+1]&&(Me[c]=e.dataBounds[s]-.1*a*E6[s][c],Me[u]=.5*(e.dataBounds[u*2]+e.dataBounds[u*2+1]),Me[f]=.5*(e.dataBounds[f*2]+e.dataBounds[f*2+1]),be(qe,Me,n),Me[c]=e.dataBounds[s],be(Dn,Me,n),rr(qe,Dn,qe),mr(qe,qe),o=qe[2]>i,e.camera.getParallelProjection()||(mr(Dn,Dn),o=Vn(Dn,qe)>i)),o!==e.lastFacesToDraw[s]&&(e.lastFacesToDraw[s]=o,r=!0)}return r},t.updatePolyData=function(n,r,a){var i=0,s=0;i+=8;for(var o=0,c=0;c<12;c++)r[c]>0&&o++;if(s+=o,e.gridLines)for(var u=0;u<6;u++)n[u]&&(i+=a[et[u][0]].length*2+a[et[u][1]].length*2,s+=a[et[u][0]].length+a[et[u][1]].length);for(var f=new Float64Array(i*3),l=new Uint32Array(s*3),h=0,p=0,v=0;v<2;v++)for(var y=0;y<2;y++)for(var _=0;_<2;_++)f[h*3]=e.dataBounds[_],f[h*3+1]=e.dataBounds[2+y],f[h*3+2]=e.dataBounds[4+v],h++;for(var m=0;m<12;m++)r[m]>0&&(l[p*3]=2,l[p*3+1]=oo[m][0],l[p*3+2]=oo[m][1],p++);if(e.gridLines){for(var d=0;d<6;d++)if(n[d]){for(var g=Math.floor(d/2),x=a[et[d][0]],w=0;w<x.length;w++)f[h*3+g]=e.dataBounds[d],f[h*3+et[d][0]]=x[w],f[h*3+et[d][1]]=e.dataBounds[et[d][1]*2],h++,f[h*3+g]=e.dataBounds[d],f[h*3+et[d][0]]=x[w],f[h*3+et[d][1]]=e.dataBounds[et[d][1]*2+1],h++,l[p*3]=2,l[p*3+1]=h-2,l[p*3+2]=h-1,p++;x=a[et[d][1]];for(var C=0;C<x.length;C++)f[h*3+g]=e.dataBounds[d],f[h*3+et[d][1]]=x[C],f[h*3+et[d][0]]=e.dataBounds[et[d][0]*2],h++,f[h*3+g]=e.dataBounds[d],f[h*3+et[d][1]]=x[C],f[h*3+et[d][0]]=e.dataBounds[et[d][0]*2+1],h++,l[p*3]=2,l[p*3+1]=h-2,l[p*3+2]=h-1,p++}}e.polyData.getPoints().setData(f,3),e.polyData.getPoints().modified(),e.polyData.getLines().setData(l,1),e.polyData.getLines().modified(),e.polyData.modified()},t.updateTextData=function(n,r,a,i){for(var s=0,o=0;o<12;o++)r[o]===1&&(s+=2,s+=a[Qf[o]].length);for(var c=e.polyData.getPoints().getData(),u=new Float64Array(s*3),f=0,l=0,h=0,p=0;p<6;p++)if(n[p])for(var v=0;v<4;v++){var y=Jf[p][v];if(r[y]===1){var _=Qf[y],m=oo[y][0]*3,d=oo[y][1]*3;u[f*3]=.5*(c[m]+c[d]),u[f*3+1]=.5*(c[m+1]+c[d+1]),u[f*3+2]=.5*(c[m+2]+c[d+2]),f++;var g=Math.floor(p/2);u[f*3+g]=e.dataBounds[p],u[f*3+et[p][0]]=.5*(e.dataBounds[et[p][0]*2]+e.dataBounds[et[p][0]*2+1]),u[f*3+et[p][1]]=.5*(e.dataBounds[et[p][1]*2]+e.dataBounds[et[p][1]*2+1]),f++,e.textValues[l]=e.axisLabels[_],l++;var x=(_+1)%3,w=(_+2)%3,C=a[_],S=i[_];e.tickCounts[h]=C.length;for(var T=0;T<C.length;T++)u[f*3+_]=C[T],u[f*3+x]=c[m+x],u[f*3+w]=c[m+w],f++,e.textValues[l]=S[T],l++;h++}}e.textPolyData.getPoints().setData(u,3),e.textPolyData.modified()},t.update=function(){if(!!e.camera){for(var n=t.computeFacesToDraw(),r=e.lastFacesToDraw,a=!1,i=0;i<6;i++)e.dataBounds[i]!==e.lastTickBounds[i]&&(a=!0,e.lastTickBounds[i]=e.dataBounds[i]);if(n||a||e.forceUpdate){for(var s=new Array(12).fill(0),o=0;o<6;o++)if(r[o])for(var c=0;c<4;c++)s[Jf[o][c]]++;for(var u=[],f=[],l=0;l<3;l++){var h=nc().domain([e.dataBounds[l*2],e.dataBounds[l*2+1]]);u[l]=h.ticks(5);var p=h.tickFormat(5);f[l]=u[l].map(p)}t.updatePolyData(r,s,u),t.updateTextData(r,s,u,f),(a||e.forceUpdate)&&t.updateTextureAtlas(f)}e.forceUpdate=!1}},t.updateTextureAtlas=function(n){e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left",e._tmAtlas.clear();for(var r=0,a=1,i=0;i<3;i++){if(!e._tmAtlas.has(e.axisLabels[i])){i0(e.tmContext,e.axisTextStyle);var s=e.tmContext.measureText(e.axisLabels[i]),o={height:s.actualBoundingBoxAscent+2,startingHeight:a,width:s.width+2,textStyle:e.axisTextStyle};e._tmAtlas.set(e.axisLabels[i],o),a+=o.height,r<o.width&&(r=o.width)}i0(e.tmContext,e.tickTextStyle);for(var c=0;c<n[i].length;c++)if(!e._tmAtlas.has(n[i][c])){var u=e.tmContext.measureText(n[i][c]),f={height:u.actualBoundingBoxAscent+2,startingHeight:a,width:u.width+2,textStyle:e.tickTextStyle};e._tmAtlas.set(n[i][c],f),a+=f.height,r<f.width&&(r=f.width)}}r=gr(r),a=gr(a),e._tmAtlas.forEach(function(l){l.tcoords=[0,(a-l.startingHeight-l.height)/a,l.width/r,(a-l.startingHeight-l.height)/a,l.width/r,(a-l.startingHeight)/a,0,(a-l.startingHeight)/a]}),e.tmCanvas.width=r,e.tmCanvas.height=a,e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left",e.tmContext.clearRect(0,0,r,a),e._tmAtlas.forEach(function(l,h){i0(e.tmContext,l.textStyle),e.tmContext.fillText(h,1,l.startingHeight+l.height-1)}),e.tmTexture.setCanvas(e.tmCanvas),e.tmTexture.modified()},t.onModified(function(){e.forceUpdate=!0,t.update()}),t.setTickTextStyle=function(n){e.tickTextStyle=Ja(Ja({},e.tickTextStyle),n),t.modified()},t.setAxisTextStyle=function(n){e.axisTextStyle=Ja(Ja({},e.axisTextStyle),n),t.modified()},t.get_tmAtlas=function(){return e._tmAtlas},t.getBounds=function(){return t.update(),He.setBounds(e.bounds,e.gridActor.getBounds()),He.scaleAboutCenter(e.bounds,e.boundsScaleFactor,e.boundsScaleFactor,e.boundsScaleFactor),e.bounds}}function M6(t){return Ja({boundsScaleFactor:1.3,camera:null,dataBounds:we(He.INIT_BOUNDS),faceVisibilityAngle:8,gridLines:!0,axisLabels:null,axisTitlePixelOffset:35,axisTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:18,fontFamily:"serif"},tickLabelPixelOffset:12,tickTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:14,fontFamily:"serif"}},t)}function Cv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,M6(n)),$r.extend(t,e,n),e.lastFacesToDraw=[!1,!1,!1,!1,!1,!1],e.axisLabels=["X-Axis","Y-Axis","Z-Axis"],e.tickCounts=[],e.textValues=[],e.lastTickBounds=[],e.tmCanvas=document.createElement("canvas"),e.tmContext=e.tmCanvas.getContext("2d"),e._tmAtlas=new Map,e.tmTexture=wv.newInstance(),e.tmTexture.setInterpolate(!1),t.getProperty().setDiffuse(0),t.getProperty().setAmbient(1),e.gridMapper=fn.newInstance(),e.polyData=at.newInstance(),e.gridMapper.setInputData(e.polyData),e.gridActor=$r.newInstance(),e.gridActor.setMapper(e.gridMapper),e.gridActor.setProperty(t.getProperty()),e.gridActor.setParentProp(t),e.textPolyData=at.newInstance(),W.setGet(t,e,["axisTitlePixelOffset","boundsScaleFactor","faceVisibilityAngle","gridLines","tickLabelPixelOffset"]),W.setGetArray(t,e,["dataBounds"],6),W.setGetArray(t,e,["axisLabels"],3),W.get(t,e,["axisTextStyle","tickTextStyle","camera","tmTexture","textValues","textPolyData","tickCounts","gridActor"]),N6(t,e)}var k6=W.newInstance(Cv,"vtkCubeAxesActor"),dc={newInstance:k6,extend:Cv,newCubeAxesActorHelper:O6};function R6(t,e){e.classHierarchy.push("vtkOpenGLCubeAxesActor"),t.buildPass=function(n){n&&(e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.openGLRenderWindow=e.openGLRenderer.getParent(),e.CubeAxesActorHelper.getRenderable()||e.CubeAxesActorHelper.setRenderable(e.renderable),t.prepareNodes(),t.addMissingNode(e.CubeAxesActorHelper.getTmActor()),t.addMissingNode(e.renderable.getGridActor()),t.removeUnusedNodes())},t.opaquePass=function(n,r){if(n){var a=e.openGLRenderer?e.openGLRenderer.getRenderable().getActiveCamera():null,i=e.openGLRenderer.getTiledSizeAndOrigin();e.CubeAxesActorHelper.updateAPISpecificData([i.usize,i.vsize],a,e.openGLRenderWindow.getRenderable())}}}var F6={};function L6(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,F6,n),At.extend(t,e,n),e.CubeAxesActorHelper=dc.newCubeAxesActorHelper(),R6(t,e)}var A6=st(L6,"vtkOpenGLCubeAxesActor");Bt("vtkCubeAxesActor",A6);var it=pn.primTypes,mn=Pi.Representation,el=Pi.Shading,co=fn.ScalarMode,tl=jt.Filter,rl=jt.Wrap,_n=Re,B6={type:"StartEvent"},V6={type:"EndEvent"};function U6(t,e){e.classHierarchy.push("vtkOpenGLPolyDataMapper"),t.buildPass=function(r){r&&(e.currentRenderPass=null,e.openGLActor=t.getFirstAncestorOfType("vtkOpenGLActor"),e.openGLRenderer=e.openGLActor.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent(),e.openGLCamera=e.openGLRenderer.getViewNodeFor(e.openGLRenderer.getRenderable().getActiveCamera()))},t.translucentPass=function(r,a){r&&(e.currentRenderPass=a,t.render())},t.opaqueZBufferPass=function(r){r&&(e.haveSeenDepthRequest=!0,e.renderDepth=!0,t.render(),e.renderDepth=!1)},t.opaquePass=function(r){r&&t.render()},t.render=function(){var r=e._openGLRenderWindow.getContext();if(e.context!==r){e.context=r;for(var a=it.Start;a<it.End;a++)e.primitives[a].setOpenGLRenderWindow(e._openGLRenderWindow)}var i=e.openGLActor.getRenderable(),s=e.openGLRenderer.getRenderable();t.renderPiece(s,i)},t.buildShaders=function(r,a,i){t.getShaderTemplate(r,a,i),e.lastRenderPassShaderReplacement&&e.lastRenderPassShaderReplacement(r);var s=e.renderable.getViewSpecificProperties().OpenGL,o=null;if(s&&(o=s.ShaderReplacements),o)for(var c=0;c<o.length;c++){var u=o[c];if(u.replaceFirst){var f=u.shaderType,l=r[f],h=fe.substitute(l,u.originalValue,u.replacementValue,u.replaceAll);r[f]=h.result}}if(t.replaceShaderValues(r,a,i),o)for(var p=0;p<o.length;p++){var v=o[p];if(!v.replaceFirst){var y=v.shaderType,_=r[y],m=fe.substitute(_,v.originalValue,v.replacementValue,v.replaceAll);r[y]=m.result}}},t.getShaderTemplate=function(r,a,i){var s=e.renderable.getViewSpecificProperties().OpenGL,o=ep;if(s){var c=s.VertexShaderCode;c!==void 0&&c!==""&&(o=c)}r.Vertex=o;var u=tp;if(s){var f=s.FragmentShaderCode;f!==void 0&&f!==""&&(u=f)}r.Fragment=u;var l="";if(s){var h=s.GeometryShaderCode;h!==void 0&&(l=h)}r.Geometry=l},t.replaceShaderColor=function(r,a,i){var s=r.Vertex,o=r.Geometry,c=r.Fragment,u=e.lastBoundBO.getReferenceByName("lastLightComplexity"),f=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity","uniform vec3 ambientColorUniform;","uniform vec3 diffuseColorUniform;"];u&&(f=f.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));var l=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];u&&(l=l.concat(["  vec3 specularColor;","  float specularPower;"])),l=l.concat(["  ambientColor = ambientColorUniform;","  diffuseColor = diffuseColorUniform;","  opacity = opacityUniform;"]),u&&(l=l.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),e.lastBoundBO.getCABO().getColorComponents()!==0&&!e.drawingEdges&&(f=f.concat(["varying vec4 vertexColorVSOutput;"]),s=fe.substitute(s,"//VTK::Color::Dec",["attribute vec4 scalarColor;","varying vec4 vertexColorVSOutput;"]).result,s=fe.substitute(s,"//VTK::Color::Impl",["vertexColorVSOutput =  scalarColor;"]).result,o=fe.substitute(o,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,o=fe.substitute(o,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result),e.lastBoundBO.getCABO().getColorComponents()!==0&&!e.drawingEdges?c=fe.substitute(c,"//VTK::Color::Impl",l.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])).result:e.renderable.getInterpolateScalarsBeforeMapping()&&e.renderable.getColorCoordinates()&&!e.drawingEdges?c=fe.substitute(c,"//VTK::Color::Impl",l.concat(["  vec4 texColor = texture2D(texture1, tcoordVCVSOutput.st);","  diffuseColor = texColor.rgb;","  ambientColor = texColor.rgb;","  opacity = opacity*texColor.a;"])).result:(i.getBackfaceProperty()&&!e.drawingEdges&&(f=f.concat(["uniform float opacityUniformBF; // the fragment opacity","uniform float ambientIntensityBF; // the material ambient","uniform float diffuseIntensityBF; // the material diffuse","uniform vec3 ambientColorUniformBF; // ambient material color","uniform vec3 diffuseColorUniformBF; // diffuse material color"]),u?(f=f.concat(["uniform float specularIntensityBF; // the material specular intensity","uniform vec3 specularColorUniformBF; // intensity weighted color","uniform float specularPowerUniformBF;"]),l=l.concat(["if (gl_FrontFacing == false) {","  ambientColor = ambientIntensityBF * ambientColorUniformBF;","  diffuseColor = diffuseIntensityBF * diffuseColorUniformBF;","  specularColor = specularIntensityBF * specularColorUniformBF;","  specularPower = specularPowerUniformBF;","  opacity = opacityUniformBF; }"])):l=l.concat(["if (gl_FrontFacing == false) {","  ambientColor = ambientIntensityBF * ambientColorUniformBF;","  diffuseColor = diffuseIntensityBF * diffuseColorUniformBF;","  opacity = opacityUniformBF; }"])),e.haveCellScalars&&!e.drawingEdges&&(f=f.concat(["uniform samplerBuffer texture1;"])),c=fe.substitute(c,"//VTK::Color::Impl",l).result),c=fe.substitute(c,"//VTK::Color::Dec",f).result,r.Vertex=s,r.Geometry=o,r.Fragment=c},t.replaceShaderLight=function(r,a,i){var s=r.Fragment,o="",c=e.lastBoundBO.getReferenceByName("lastLightComplexity"),u=e.lastBoundBO.getReferenceByName("lastLightCount"),f=[];switch(c){case 0:s=fe.substitute(s,"//VTK::Light::Impl",["  gl_FragData[0] = vec4(ambientColor * ambient + diffuseColor * diffuse, opacity);","  //VTK::Light::Impl"],!1).result;break;case 1:s=fe.substitute(s,"//VTK::Light::Impl",["  float df = max(0.0, normalVCVSOutput.z);","  float sf = pow(df, specularPower);","  vec3 diffuseL = df * diffuseColor;","  vec3 specularL = sf * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"],!1).result;break;case 2:for(var l=0;l<u;++l)f=f.concat(["uniform vec3 lightColor".concat(l,";"),"uniform vec3 lightDirectionVC".concat(l,"; // normalized"),"uniform vec3 lightHalfAngleVC".concat(l,"; // normalized")]);s=fe.substitute(s,"//VTK::Light::Dec",f).result,f=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  float df;"];for(var h=0;h<u;++h)f=f.concat(["  df = max(0.0, dot(normalVCVSOutput, -lightDirectionVC".concat(h,"));"),"  diffuseL += ((df".concat(o,") * lightColor").concat(h,");"),"  if (dot(normalVCVSOutput, lightDirectionVC".concat(h,") < 0.0)"),"    {","    float sf = pow( max(0.0, dot(lightHalfAngleVC".concat(h,",normalVCVSOutput)), specularPower);"),"    specularL += ((sf".concat(o,") * lightColor").concat(h,");"),"    }"]);f=f.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),s=fe.substitute(s,"//VTK::Light::Impl",f,!1).result;break;case 3:for(var p=0;p<u;++p)f=f.concat(["uniform vec3 lightColor".concat(p,";"),"uniform vec3 lightDirectionVC".concat(p,"; // normalized"),"uniform vec3 lightHalfAngleVC".concat(p,"; // normalized"),"uniform vec3 lightPositionVC".concat(p,";"),"uniform vec3 lightAttenuation".concat(p,";"),"uniform float lightConeAngle".concat(p,";"),"uniform float lightExponent".concat(p,";"),"uniform int lightPositional".concat(p,";")]);s=fe.substitute(s,"//VTK::Light::Dec",f).result,f=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  vec3 vertLightDirectionVC;","  float attenuation;","  float df;"];for(var v=0;v<u;++v)f=f.concat(["  attenuation = 1.0;","  if (lightPositional".concat(v," == 0)"),"    {","      vertLightDirectionVC = lightDirectionVC".concat(v,";"),"    }","  else","    {","    vertLightDirectionVC = vertexVC.xyz - lightPositionVC".concat(v,";"),"    float distanceVC = length(vertLightDirectionVC);","    vertLightDirectionVC = normalize(vertLightDirectionVC);","    attenuation = 1.0 /","      (lightAttenuation".concat(v,".x"),"       + lightAttenuation".concat(v,".y * distanceVC"),"       + lightAttenuation".concat(v,".z * distanceVC * distanceVC);"),"    // per OpenGL standard cone angle is 90 or less for a spot light","    if (lightConeAngle".concat(v," <= 90.0)"),"      {","      float coneDot = dot(vertLightDirectionVC, lightDirectionVC".concat(v,");"),"      // if inside the cone","      if (coneDot >= cos(radians(lightConeAngle".concat(v,")))"),"        {","        attenuation = attenuation * pow(coneDot, lightExponent".concat(v,");"),"        }","      else","        {","        attenuation = 0.0;","        }","      }","    }","    df = max(0.0, attenuation*dot(normalVCVSOutput, -vertLightDirectionVC));","    diffuseL += ((df".concat(o,") * lightColor").concat(v,");"),"    if (dot(normalVCVSOutput, vertLightDirectionVC) < 0.0)","      {","      float sf = attenuation*pow( max(0.0, dot(lightHalfAngleVC".concat(v,",normalVCVSOutput)), specularPower);"),"    specularL += ((sf".concat(o,") * lightColor").concat(v,");"),"    }"]);f=f.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),s=fe.substitute(s,"//VTK::Light::Impl",f,!1).result;break;default:_n("bad light complexity")}r.Fragment=s},t.replaceShaderNormal=function(r,a,i){var s=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(s>0){var o=r.Vertex,c=r.Geometry,u=r.Fragment;e.lastBoundBO.getCABO().getNormalOffset()?(o=fe.substitute(o,"//VTK::Normal::Dec",["attribute vec3 normalMC;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,o=fe.substitute(o,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * normalMC;"]).result,c=fe.substitute(c,"//VTK::Normal::Dec",["in vec3 normalVCVSOutput[];","out vec3 normalVCGSOutput;"]).result,c=fe.substitute(c,"//VTK::Normal::Impl",["normalVCGSOutput = normalVCVSOutput[i];"]).result,u=fe.substitute(u,"//VTK::Normal::Dec",["varying vec3 normalVCVSOutput;"]).result,u=fe.substitute(u,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalVCVSOutput);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):e.haveCellNormals?(u=fe.substitute(u,"//VTK::Normal::Dec",["uniform mat3 normalMatrix;","uniform samplerBuffer textureN;"]).result,u=fe.substitute(u,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalMatrix *","    texelFetchBuffer(textureN, gl_PrimitiveID + PrimitiveIDOffset).xyz);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):e.lastBoundBO.getOpenGLMode(i.getProperty().getRepresentation())===e.context.LINES?(u=fe.substitute(u,"//VTK::UniformFlow::Impl",["  vec3 fdx = dFdx(vertexVC.xyz);","  vec3 fdy = dFdy(vertexVC.xyz);","  //VTK::UniformFlow::Impl"]).result,u=fe.substitute(u,"//VTK::Normal::Impl",["vec3 normalVCVSOutput;","  if (abs(fdx.x) > 0.0)","    { fdx = normalize(fdx); normalVCVSOutput = normalize(cross(vec3(fdx.y, -fdx.x, 0.0), fdx)); }","  else { fdy = normalize(fdy); normalVCVSOutput = normalize(cross(vec3(fdy.y, -fdy.x, 0.0), fdy));}"]).result):(u=fe.substitute(u,"//VTK::Normal::Dec",["uniform int cameraParallel;"]).result,u=fe.substitute(u,"//VTK::UniformFlow::Impl",["  vec3 fdx = dFdx(vertexVC.xyz);","  vec3 fdy = dFdy(vertexVC.xyz);","  //VTK::UniformFlow::Impl"]).result,u=fe.substitute(u,"//VTK::Normal::Impl",["  fdx = normalize(fdx);","  fdy = normalize(fdy);","  vec3 normalVCVSOutput = normalize(cross(fdx,fdy));","  if (cameraParallel == 1 && normalVCVSOutput.z < 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }","  if (cameraParallel == 0 && dot(normalVCVSOutput,vertexVC.xyz) > 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }"]).result),r.Vertex=o,r.Geometry=c,r.Fragment=u}},t.replaceShaderPositionVC=function(r,a,i){e.lastBoundBO.replaceShaderPositionVC(r,a,i);var s=r.Vertex,o=r.Geometry,c=r.Fragment,u=e.lastBoundBO.getReferenceByName("lastLightComplexity");u>0?(s=fe.substitute(s,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,s=fe.substitute(s,"//VTK::PositionVC::Impl",["vertexVCVSOutput = MCVCMatrix * vertexMC;","  gl_Position = MCPCMatrix * vertexMC;"]).result,s=fe.substitute(s,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result,o=fe.substitute(o,"//VTK::PositionVC::Dec",["in vec4 vertexVCVSOutput[];","out vec4 vertexVCGSOutput;"]).result,o=fe.substitute(o,"//VTK::PositionVC::Impl",["vertexVCGSOutput = vertexVCVSOutput[i];"]).result,c=fe.substitute(c,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,c=fe.substitute(c,"//VTK::PositionVC::Impl",["vec4 vertexVC = vertexVCVSOutput;"]).result):(s=fe.substitute(s,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,s=fe.substitute(s,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result),r.Vertex=s,r.Geometry=o,r.Fragment=c},t.replaceShaderTCoord=function(r,a,i){if(e.lastBoundBO.getCABO().getTCoordOffset()){var s=r.Vertex,o=r.Geometry,c=r.Fragment;if(e.drawingEdges)return;s=fe.substitute(s,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result;var u=e.openGLActor.getActiveTextures(),f=2,l=2;if(u&&u.length>0&&(f=u[0].getComponents(),u[0].getTarget()===e.context.TEXTURE_CUBE_MAP&&(l=3)),e.renderable.getColorTextureMap()&&(f=e.renderable.getColorTextureMap().getPointData().getScalars().getNumberOfComponents(),l=2),l===2){if(s=fe.substitute(s,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result,o=fe.substitute(o,"//VTK::TCoord::Dec",["in vec2 tcoordVCVSOutput[];","out vec2 tcoordVCGSOutput;"]).result,o=fe.substitute(o,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,c=fe.substitute(c,"//VTK::TCoord::Dec",["varying vec2 tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,u&&u.length>=1)switch(f){case 1:c=fe.substitute(c,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;"]).result;break;case 2:c=fe.substitute(c,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;","  opacity = opacity * tcolor.g;"]).result;break;default:c=fe.substitute(c,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.rgb;","  diffuseColor = diffuseColor*tcolor.rgb;","  opacity = opacity * tcolor.a;"]).result}}else switch(s=fe.substitute(s,"//VTK::TCoord::Dec","attribute vec3 tcoordMC; varying vec3 tcoordVCVSOutput;").result,o=fe.substitute(o,"//VTK::TCoord::Dec",["in vec3 tcoordVCVSOutput[];","out vec3 tcoordVCGSOutput;"]).result,o=fe.substitute(o,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,c=fe.substitute(c,"//VTK::TCoord::Dec",["varying vec3 tcoordVCVSOutput;","uniform samplerCube texture1;"]).result,f){case 1:c=fe.substitute(c,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;"]).result;break;case 2:c=fe.substitute(c,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;","  opacity = opacity * tcolor.g;"]).result;break;default:c=fe.substitute(c,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.rgb;","  diffuseColor = diffuseColor*tcolor.rgb;","  opacity = opacity * tcolor.a;"]).result}r.Vertex=s,r.Geometry=o,r.Fragment=c}},t.replaceShaderClip=function(r,a,i){var s=r.Vertex,o=r.Fragment;if(e.renderable.getNumberOfClippingPlanes()){var c=e.renderable.getNumberOfClippingPlanes();s=fe.substitute(s,"//VTK::Clip::Dec",["uniform int numClipPlanes;","uniform vec4 clipPlanes[".concat(c,"];"),"varying float clipDistancesVSOutput[".concat(c,"];")]).result,s=fe.substitute(s,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < ".concat(c,"; planeNum++)"),"    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,o=fe.substitute(o,"//VTK::Clip::Dec",["uniform int numClipPlanes;","varying float clipDistancesVSOutput[".concat(c,"];")]).result,o=fe.substitute(o,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < ".concat(c,"; planeNum++)"),"    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}r.Vertex=s,r.Fragment=o},t.getCoincidentParameters=function(r,a){var i=null,s=a.getProperty();if(e.renderable.getResolveCoincidentTopology()||s.getEdgeVisibility()&&s.getRepresentation()===mn.SURFACE){var o=e.lastBoundBO.getPrimitiveType();o===it.Points||s.getRepresentation()===mn.POINTS?i=e.renderable.getCoincidentTopologyPointOffsetParameter():o===it.Lines||s.getRepresentation()===mn.WIREFRAME?i=e.renderable.getCoincidentTopologyLineOffsetParameters():(o===it.Tris||o===it.TriStrips)&&(i=e.renderable.getCoincidentTopologyPolygonOffsetParameters()),(o===it.TrisEdges||o===it.TriStripsEdges)&&(i=e.renderable.getCoincidentTopologyPolygonOffsetParameters(),i.factor/=2,i.offset/=2)}return i},t.replaceShaderPicking=function(r,a,i){var s=r.Fragment;s=fe.substitute(s,"//VTK::Picking::Dec",["uniform vec3 mapperIndex;","uniform int picking;"]).result,s=fe.substitute(s,"//VTK::Picking::Impl","  gl_FragData[0] = picking != 0 ? vec4(mapperIndex,1.0) : gl_FragData[0];").result,r.Fragment=s},t.replaceShaderValues=function(r,a,i){if(t.replaceShaderColor(r,a,i),t.replaceShaderNormal(r,a,i),t.replaceShaderLight(r,a,i),t.replaceShaderTCoord(r,a,i),t.replaceShaderPicking(r,a,i),t.replaceShaderClip(r,a,i),t.replaceShaderCoincidentOffset(r,a,i),t.replaceShaderPositionVC(r,a,i),e.haveSeenDepthRequest){var s=r.Fragment;s=fe.substitute(s,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,s=fe.substitute(s,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result,r.Fragment=s}},t.getNeedToRebuildShaders=function(r,a,i){var s=0,o=0,c=r.getPrimitiveType(),u=e.currentInput,f=!1,l=u.getPointData().getNormals(),h=u.getCellData().getNormals(),p=i.getProperty().getInterpolation()===el.FLAT,v=i.getProperty().getRepresentation(),y=r.getOpenGLMode(v,c);if((y===e.context.TRIANGLES||h&&!l||!p&&l||!p&&y===e.context.LINES)&&(f=!0),i.getProperty().getLighting()&&f){s=0;for(var _=a.getLightsByReference(),m=0;m<_.length;++m){var d=_[m],g=d.getSwitch();g>0&&(o++,s===0&&(s=1)),s===1&&(o>1||d.getIntensity()!==1||!d.lightTypeIsHeadLight())&&(s=2),s<3&&d.getPositional()&&(s=3)}}var x=!1,w=e.lastBoundBO.getReferenceByName("lastLightComplexity"),C=e.lastBoundBO.getReferenceByName("lastLightCount");return(w!==s||C!==o)&&(e.lastBoundBO.set({lastLightComplexity:s},!0),e.lastBoundBO.set({lastLightCount:o},!0),x=!0),!e.currentRenderPass&&e.lastRenderPassShaderReplacement&&(x=!0,e.lastRenderPassShaderReplacement=null),e.currentRenderPass&&e.currentRenderPass.getShaderReplacement()!==e.lastRenderPassShaderReplacement&&(e.lastRenderPassShaderReplacement=e.currentRenderPass.getShaderReplacement(),x=!0),e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||r.getShaderSourceTime().getMTime()<e.renderable.getMTime()||r.getShaderSourceTime().getMTime()<e.currentInput.getMTime()||x?(e.lastHaveSeenDepthRequest=e.haveSeenDepthRequest,!0):!1},t.invokeShaderCallbacks=function(r,a,i){var s=e.renderable.getViewSpecificProperties().ShadersCallbacks;s&&s.forEach(function(o){o.callback(o.userData,r,a,i)})},t.setMapperShaderParameters=function(r,a,i){if(r.getProgram().isUniformUsed("PrimitiveIDOffset")&&r.getProgram().setUniformi("PrimitiveIDOffset",e.primitiveIDOffset),r.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())){var s=e.lastBoundBO.getReferenceByName("lastLightComplexity");r.getProgram().isAttributeUsed("vertexMC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"vertexMC",r.getCABO().getVertexOffset(),r.getCABO().getStride(),e.context.FLOAT,3,!1)||_n("Error setting vertexMC in shader VAO.")),r.getProgram().isAttributeUsed("normalMC")&&r.getCABO().getNormalOffset()&&s>0?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"normalMC",r.getCABO().getNormalOffset(),r.getCABO().getStride(),e.context.FLOAT,3,!1)||_n("Error setting normalMC in shader VAO."):r.getVAO().removeAttributeArray("normalMC"),e.renderable.getCustomShaderAttributes().forEach(function(C,S){r.getProgram().isAttributeUsed("".concat(C,"MC"))&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"".concat(C,"MC"),r.getCABO().getCustomData()[S].offset,r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getCustomData()[S].components,!1)||_n("Error setting ".concat(C,"MC in shader VAO.")))}),r.getProgram().isAttributeUsed("tcoordMC")&&r.getCABO().getTCoordOffset()?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"tcoordMC",r.getCABO().getTCoordOffset(),r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getTCoordComponents(),!1)||_n("Error setting tcoordMC in shader VAO."):r.getVAO().removeAttributeArray("tcoordMC"),r.getProgram().isAttributeUsed("scalarColor")&&r.getCABO().getColorComponents()?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO().getColorBO(),"scalarColor",r.getCABO().getColorOffset(),r.getCABO().getColorBOStride(),e.context.UNSIGNED_BYTE,4,!0)||_n("Error setting scalarColor in shader VAO."):r.getVAO().removeAttributeArray("scalarColor"),r.getAttributeUpdateTime().modified()}if(e.renderable.getNumberOfClippingPlanes()){var o=e.renderable.getNumberOfClippingPlanes(),c=[],u=r.getCABO().getCoordShiftAndScaleEnabled(),f=u?r.getCABO().getInverseShiftAndScaleMatrix():null,l=f?zt(e.tmpMat4,i.getMatrix()):i.getMatrix();f&&(Ye(l,l),ct(l,l,f),Ye(l,l));for(var h=0;h<o;h++){var p=[];e.renderable.getClippingPlaneInDataCoords(l,h,p);for(var v=0;v<4;v++)c.push(p[v])}r.getProgram().setUniformi("numClipPlanes",o),r.getProgram().setUniform4fv("clipPlanes",c)}e.internalColorTexture&&r.getProgram().isUniformUsed("texture1")&&r.getProgram().setUniformi("texture1",e.internalColorTexture.getTextureUnit());var y=e.openGLActor.getActiveTextures();if(y)for(var _=0;_<y.length;++_){var m=y[_],d=m.getTextureUnit(),g="texture".concat(d+1);r.getProgram().isUniformUsed(g)&&r.getProgram().setUniformi(g,d)}if(e.haveSeenDepthRequest&&r.getProgram().setUniformi("depthRequest",e.renderDepth?1:0),r.getProgram().isUniformUsed("coffset")){var x=t.getCoincidentParameters(a,i);r.getProgram().setUniformf("coffset",x.offset),r.getProgram().isUniformUsed("cfactor")&&r.getProgram().setUniformf("cfactor",x.factor)}r.setMapperShaderParameters(a,i,e.openGLRenderer.getTiledSizeAndOrigin());var w=e.openGLRenderer.getSelector();r.getProgram().setUniform3fArray("mapperIndex",w?w.getPropColorValue():[0,0,0]),r.getProgram().setUniformi("picking",w?w.getCurrentPass()+1:0)},t.setLightingShaderParameters=function(r,a,i){var s=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(!(s<2)){for(var o=r.getProgram(),c=0,u=a.getLightsByReference(),f=0;f<u.length;++f){var l=u[f],h=l.getSwitch();if(h>0){var p=l.getColorByReference(),v=l.getIntensity();e.lightColor[0]=p[0]*v,e.lightColor[1]=p[1]*v,e.lightColor[2]=p[2]*v;var y=l.getDirection(),_=a.getActiveCamera().getViewMatrix(),m=we(y);l.lightTypeIsSceneLight()&&(m[0]=_[0]*y[0]+_[1]*y[1]+_[2]*y[2],m[1]=_[4]*y[0]+_[5]*y[1]+_[6]*y[2],m[2]=_[8]*y[0]+_[9]*y[1]+_[10]*y[2],lt(m)),e.lightDirection[0]=m[0],e.lightDirection[1]=m[1],e.lightDirection[2]=m[2],e.lightHalfAngle[0]=-e.lightDirection[0],e.lightHalfAngle[1]=-e.lightDirection[1],e.lightHalfAngle[2]=-e.lightDirection[2]+1,lt(e.lightDirection),o.setUniform3fArray("lightColor".concat(c),e.lightColor),o.setUniform3fArray("lightDirectionVC".concat(c),e.lightDirection),o.setUniform3fArray("lightHalfAngleVC".concat(c),e.lightHalfAngle),c++}}if(!(s<3)){var d=a.getActiveCamera(),g=d.getViewMatrix();Ye(g,g),c=0;for(var x=0;x<u.length;++x){var w=u[x],C=w.getSwitch();if(C>0){var S=w.getTransformedPosition(),T=new Float64Array(3);be(T,S,g),o.setUniform3fArray("lightAttenuation".concat(c),w.getAttenuationValuesByReference()),o.setUniformi("lightPositional".concat(c),w.getPositional()),o.setUniformf("lightExponent".concat(c),w.getExponent()),o.setUniformf("lightConeAngle".concat(c),w.getConeAngle()),o.setUniform3fArray("lightPositionVC".concat(c),[T[0],T[1],T[2]]),c++}}}}};function n(r,a,i){return a.identity(i),r.reduce(function(s,o,c){return c===0?o?a.copy(s,o):a.identity(s):o?a.multiply(s,s,o):s},i)}t.setCameraShaderParameters=function(r,a,i){var s=r.getProgram(),o=e.openGLCamera.getKeyMatrices(a),c=a.getActiveCamera(),u=e.openGLCamera.getKeyMatrixTime().getMTime(),f=s.getLastCameraMTime(),l=r.getCABO().getCoordShiftAndScaleEnabled(),h=l?r.getCABO().getInverseShiftAndScaleMatrix():null,p=i.getIsIdentity(),v=p?{mcwc:null,normalMatrix:null}:e.openGLActor.getKeyMatrices();s.setUniformMatrix("MCPCMatrix",n([o.wcpc,v.mcwc,h],z0,e.tmpMat4)),s.isUniformUsed("MCVCMatrix")&&s.setUniformMatrix("MCVCMatrix",n([o.wcvc,v.mcwc,h],z0,e.tmpMat4)),s.isUniformUsed("normalMatrix")&&s.setUniformMatrix3x3("normalMatrix",n([o.normalMatrix,v.normalMatrix],b2,e.tmpMat3)),f!==u&&(s.isUniformUsed("cameraParallel")&&s.setUniformi("cameraParallel",c.getParallelProjection()),s.setLastCameraMTime(u)),p||s.setLastCameraMTime(0)},t.setPropertyShaderParameters=function(r,a,i){var s=r.getProgram(),o=i.getProperty(),c=o.getOpacity(),u=e.drawingEdges?o.getEdgeColorByReference():o.getAmbientColorByReference(),f=e.drawingEdges?o.getEdgeColorByReference():o.getDiffuseColorByReference(),l=e.drawingEdges?1:o.getAmbient(),h=e.drawingEdges?0:o.getDiffuse(),p=e.drawingEdges?0:o.getSpecular(),v=o.getSpecularPower();s.setUniformf("opacityUniform",c),s.setUniform3fArray("ambientColorUniform",u),s.setUniform3fArray("diffuseColorUniform",f),s.setUniformf("ambient",l),s.setUniformf("diffuse",h);var y=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(!(y<1)){var _=o.getSpecularColorByReference();if(s.setUniform3fArray("specularColorUniform",_),s.setUniformf("specularPowerUniform",v),s.setUniformf("specular",p),s.isUniformUsed("ambientIntensityBF")){if(o=i.getBackfaceProperty(),c=o.getOpacity(),u=o.getAmbientColor(),l=o.getAmbient(),f=o.getDiffuseColor(),h=o.getDiffuse(),_=o.getSpecularColor(),p=o.getSpecular(),s.setUniformf("ambientIntensityBF",l),s.setUniformf("diffuseIntensityBF",h),s.setUniformf("opacityUniformBF",c),s.setUniform3fArray("ambientColorUniformBF",u),s.setUniform3fArray("diffuseColorUniformBF",f),y<1)return;s.setUniformf("specularIntensityBF",p),s.setUniform3fArray("specularColorUniformBF",_),s.setUniformf("specularPowerUniformBF",v)}}},t.renderPieceStart=function(r,a){if(e.primitiveIDOffset=0,e.openGLRenderer.getSelector())switch(e.openGLRenderer.getSelector().getCurrentPass()){default:e.openGLRenderer.getSelector().renderProp(a)}t.updateBufferObjects(r,a),e.renderable.getColorTextureMap()&&e.internalColorTexture.activate(),e.lastBoundBO=null},t.renderPieceDraw=function(r,a){for(var i=a.getProperty().getRepresentation(),s=a.getProperty().getEdgeVisibility()&&i===mn.SURFACE,o=it.Start;o<it.End;o++){var c=e.primitives[o].getCABO();c.getElementCount()&&(e.drawingEdges=s&&(o===it.TrisEdges||o===it.TriStripsEdges),(!e.drawingEdges||!e.renderDepth)&&(e.lastBoundBO=e.primitives[o],e.primitiveIDOffset+=e.primitives[o].drawArrays(r,a,i,t)))}},t.renderPieceFinish=function(r,a){e.LastBoundBO&&e.LastBoundBO.getVAO().release(),e.renderable.getColorTextureMap()&&e.internalColorTexture.deactivate()},t.renderPiece=function(r,a){if(t.invokeEvent(B6),e.renderable.getStatic()||e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent(V6),!e.currentInput){_n("No input!");return}if(!(!e.currentInput.getPoints||!e.currentInput.getPoints().getNumberOfValues())){var i=e.context,s=a.getProperty().getBackfaceCulling(),o=a.getProperty().getFrontfaceCulling();!s&&!o?e._openGLRenderWindow.disableCullFace():o?(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.FRONT)):(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.BACK)),t.renderPieceStart(r,a),t.renderPieceDraw(r,a),t.renderPieceFinish(r,a)}},t.computeBounds=function(r,a){if(!t.getInput()){Ma(e.bounds);return}e.bounds=t.getInput().getBounds()},t.updateBufferObjects=function(r,a){t.getNeedToRebuildBufferObjects(r,a)&&t.buildBufferObjects(r,a)},t.getNeedToRebuildBufferObjects=function(r,a){var i=e.VBOBuildTime.getMTime();return i<t.getMTime()||i<e.renderable.getMTime()||i<a.getMTime()||i<e.currentInput.getMTime()},t.buildBufferObjects=function(r,a){var i=e.currentInput;if(i!==null){e.renderable.mapScalars(i,1);var s=e.renderable.getColorMapColors();e.haveCellScalars=!1;var o=e.renderable.getScalarMode();e.renderable.getScalarVisibility()&&(o===co.USE_CELL_DATA||o===co.USE_CELL_FIELD_DATA||o===co.USE_FIELD_DATA||!i.getPointData().getScalars())&&o!==co.USE_POINT_FIELD_DATA&&s&&(e.haveCellScalars=!0);var c=a.getProperty().getInterpolation()!==el.FLAT?i.getPointData().getNormals():null;c===null&&i.getCellData().getNormals()&&(e.haveCellNormals=!0,c=i.getCellData().getNormals());var u=a.getProperty().getRepresentation(),f=i.getPointData().getTCoords();if(e.openGLActor.getActiveTextures()||(f=null),e.renderable.getColorCoordinates()){f=e.renderable.getColorCoordinates(),e.internalColorTexture||(e.internalColorTexture=jt.newInstance());var l=e.internalColorTexture;l.setMinificationFilter(tl.NEAREST),l.setMagnificationFilter(tl.NEAREST),l.setWrapS(rl.CLAMP_TO_EDGE),l.setWrapT(rl.CLAMP_TO_EDGE),l.setOpenGLRenderWindow(e._openGLRenderWindow);var h=e.renderable.getColorTextureMap(),p=h.getExtent(),v=h.getPointData().getScalars();l.create2DFromRaw(p[1]-p[0]+1,p[3]-p[2]+1,v.getNumberOfComponents(),v.getDataType(),v.getData()),l.activate(),l.sendParameters(),l.deactivate()}var y="".concat(i.getMTime(),"A").concat(u,"B").concat(i.getMTime())+"C".concat(c?c.getMTime():1,"D").concat(s?s.getMTime():1)+"E".concat(a.getProperty().getEdgeVisibility())+"F".concat(f?f.getMTime():1);if(e.VBOBuildString!==y){var _=i.getPoints(),m={points:_,normals:c,tcoords:f,colors:s,cellOffset:0,haveCellScalars:e.haveCellScalars,haveCellNormals:e.haveCellNormals,customAttributes:e.renderable.getCustomShaderAttributes().map(function(g){return i.getPointData().getArrayByName(g)})};m.cellOffset+=e.primitives[it.Points].getCABO().createVBO(i.getVerts(),"verts",u,m),m.cellOffset+=e.primitives[it.Lines].getCABO().createVBO(i.getLines(),"lines",u,m),m.cellOffset+=e.primitives[it.Tris].getCABO().createVBO(i.getPolys(),"polys",u,m),m.cellOffset+=e.primitives[it.TriStrips].getCABO().createVBO(i.getStrips(),"strips",u,m);var d=a.getProperty().getEdgeVisibility()&&u===mn.SURFACE;d?(e.primitives[it.TrisEdges].getCABO().createVBO(i.getPolys(),"polys",mn.WIREFRAME,{points:_,normals:c,tcoords:null,colors:null,cellOffset:0,haveCellScalars:!1,haveCellNormals:!1}),e.primitives[it.TriStripsEdges].getCABO().createVBO(i.getStrips(),"strips",mn.WIREFRAME,{points:_,normals:c,tcoords:null,colors:null,cellOffset:0,haveCellScalars:!1,haveCellNormals:!1})):(e.primitives[it.TrisEdges].releaseGraphicsResources(e._openGLRenderWindow),e.primitives[it.TriStripsEdges].releaseGraphicsResources(e._openGLRenderWindow)),e.VBOBuildTime.modified(),e.VBOBuildString=y}}}}var G6={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null,tmpMat4:null,ambientColor:[],diffuseColor:[],specularColor:[],lightColor:[],lightHalfAngle:[],lightDirection:[],lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1};function Sv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,G6,n),At.extend(t,e,n),Zu.implementReplaceShaderCoincidentOffset(t,e,n),e.primitives=[],e.primTypes=it,e.tmpMat3=Nr(new Float64Array(9)),e.tmpMat4=Ae(new Float64Array(16));for(var r=it.Start;r<it.End;r++)e.primitives[r]=pn.newInstance(),e.primitives[r].setPrimitiveType(r),e.primitives[r].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:!1},!0);Nt(t,e,["context"]),e.VBOBuildTime={},Et(e.VBOBuildTime,{mtime:0}),U6(t,e)}var Tv=st(Sv,"vtkOpenGLPolyDataMapper"),P6={newInstance:Tv,extend:Sv};Bt("vtkMapper",Tv);var j6=vn.ColorMode,xn=vn.ScalarMode,o0=vn.GetArray;function z6(t,e){e.classHierarchy.push("vtkMapper2D"),t.createDefaultLookupTable=function(){e.lookupTable=Za.newInstance()},t.getColorModeAsString=function(){return W.enumToString(j6,e.colorMode)},t.setColorModeToDefault=function(){return t.setColorMode(0)},t.setColorModeToMapScalars=function(){return t.setColorMode(1)},t.setColorModeToDirectScalars=function(){return t.setColorMode(2)},t.getScalarModeAsString=function(){return W.enumToString(xn,e.scalarMode)},t.setScalarModeToDefault=function(){return t.setScalarMode(0)},t.setScalarModeToUsePointData=function(){return t.setScalarMode(1)},t.setScalarModeToUseCellData=function(){return t.setScalarMode(2)},t.setScalarModeToUsePointFieldData=function(){return t.setScalarMode(3)},t.setScalarModeToUseCellFieldData=function(){return t.setScalarMode(4)},t.setScalarModeToUseFieldData=function(){return t.setScalarMode(5)},t.getAbstractScalars=function(n,r,a,i,s){if(!n||!e.scalarVisibility)return{scalars:null,cellFLag:!1};var o=null,c=!1;if(r===xn.DEFAULT)o=n.getPointData().getScalars(),o||(o=n.getCellData().getScalars(),c=!0);else if(r===xn.USE_POINT_DATA)o=n.getPointData().getScalars();else if(r===xn.USE_CELL_DATA)o=n.getCellData().getScalars(),c=!0;else if(r===xn.USE_POINT_FIELD_DATA){var u=n.getPointData();a===o0.BY_ID?o=u.getArrayByIndex(i):o=u.getArrayByName(s)}else if(r===xn.USE_CELL_FIELD_DATA){var f=n.getCellData();c=!0,a===o0.BY_ID?o=f.getArrayByIndex(i):o=f.getArrayByName(s)}else if(r===xn.USE_FIELD_DATA){var l=n.getFieldData();a===o0.BY_ID?o=l.getArrayByIndex(i):o=l.getArrayByName(s)}return{scalars:o,cellFlag:c}},t.getLookupTable=function(){return e.lookupTable||t.createDefaultLookupTable(),e.lookupTable},t.getMTime=function(){var n=e.mtime;if(e.lookupTable!==null){var r=e.lookupTable.getMTime();n=r>n?r:n}return n},t.mapScalars=function(n,r){var a=t.getAbstractScalars(n,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName).scalars;if(!a){e.colorMapColors=null;return}var i="".concat(t.getMTime()).concat(a.getMTime()).concat(r);if(e.colorBuildString!==i){e.useLookupTableScalarRange||t.getLookupTable().setRange(e.scalarRange[0],e.scalarRange[1]);var s=t.getLookupTable();s&&(s.build(),e.colorMapColors=s.mapScalars(a,e.colorMode,e.fieldDataTupleId)),e.colorBuildString="".concat(t.getMTime()).concat(a.getMTime()).concat(r)}}}var W6={static:!1,lookupTable:null,scalarVisibility:!1,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,transformCoordinate:null,viewSpecificProperties:null,customShaderAttributes:[]};function bv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,W6,n),Os.extend(t,e,n),W.get(t,e,["colorMapColors"]),W.setGet(t,e,["arrayAccessMode","colorByArrayName","colorMode","lookupTable","renderTime","scalarMode","scalarVisibility","static","transformCoordinate","useLookupTableScalarRange","viewSpecificProperties","customShaderAttributes"]),W.setGetArray(t,e,["scalarRange"],2),e.viewSpecificProperties||(e.viewSpecificProperties={}),z6(t,e)}var I6=W.newInstance(bv,"vtkMapper2D"),Ev={newInstance:I6,extend:bv},$6=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyData2DFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

uniform int PrimitiveIDOffset;

// Texture coordinates
//VTK::TCoord::Dec

// Scalar coloring
//VTK::Color::Dec

// Depth Peeling
//VTK::DepthPeeling::Dec

// picking support
//VTK::Picking::Dec

// the output of this shader
//VTK::Output::Dec

// Apple Bug
//VTK::PrimID::Dec

void main()
{
  // Apple Bug
  //VTK::PrimID::Impl

  //VTK::Color::Impl
  //VTK::TCoord::Impl

  //VTK::DepthPeeling::Impl
  //VTK::Picking::Impl

  if (gl_FragData[0].a <= 0.0)
    {
    discard;
    }
}
`,H6=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyData2DVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

// all variables that represent positions or directions have a suffix
// indicating the coordinate system they are in. The possible values are
// MC - Model Coordinates
// WC - WC world coordinates
// VC - View Coordinates
// DC - Display Coordinates

in vec4 vertexWC;

// frag position in VC
//VTK::PositionVC::Dec

// material property values
//VTK::Color::Dec

// Texture coordinates
//VTK::TCoord::Dec

// Apple Bug
//VTK::PrimID::Dec

uniform mat4 WCVCMatrix;  // World to view matrix

void main()
{
  // Apple Bug
  //VTK::PrimID::Impl

  gl_Position = WCVCMatrix*vertexWC;

  //VTK::TCoord::Impl

  //VTK::Color::Impl

  //VTK::PositionVC::Impl
}
`,Dv={BACKGROUND:0,FOREGROUND:1},K6={DisplayLocation:Dv},vr=pn.primTypes,fo=Ev.ScalarMode,lo=Re,X6={type:"StartEvent"},q6={type:"EndEvent"};function Y6(t,e){e.classHierarchy.push("vtkOpenGLPolyDataMapper2D"),t.buildPass=function(r){r&&(e.openGLActor2D=t.getFirstAncestorOfType("vtkOpenGLActor2D"),e.openGLRenderer=e.openGLActor2D.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent(),e.openGLCamera=e.openGLRenderer.getViewNodeFor(e.openGLRenderer.getRenderable().getActiveCamera()))},t.overlayPass=function(r){r&&t.render()},t.getShaderTemplate=function(r,a,i){var s=e.renderable.getViewSpecificProperties().OpenGL,o=H6;if(s){var c=s.VertexShaderCode;c!==void 0&&c!==""&&(o=c)}r.Vertex=o;var u=$6;if(s){var f=s.FragmentShaderCode;f!==void 0&&f!==""&&(u=f)}r.Fragment=u;var l="";if(s){var h=s.GeometryShaderCode;h!==void 0&&(l=h)}r.Geometry=l},t.render=function(){var r=e._openGLRenderWindow.getContext();if(e.context!==r){e.context=r;for(var a=vr.Start;a<vr.End;a++)e.primitives[a].setOpenGLRenderWindow(e._openGLRenderWindow)}var i=e.openGLActor2D.getRenderable(),s=e.openGLRenderer.getRenderable();t.renderPiece(s,i)},t.renderPiece=function(r,a){if(t.invokeEvent(X6),e.renderable.getStatic()||e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent(q6),!e.currentInput){lo("No input!");return}!e.currentInput.getPoints||!e.currentInput.getPoints().getNumberOfValues()||(t.renderPieceStart(r,a),t.renderPieceDraw(r,a),t.renderPieceFinish(r,a))},t.renderPieceStart=function(r,a){if(e.primitiveIDOffset=0,e.openGLRenderer.getSelector())switch(e.openGLRenderer.getSelector().getCurrentPass()){default:e.openGLRenderer.getSelector().renderProp(a)}t.updateBufferObjects(r,a),e.lastBoundBO=null},t.getNeedToRebuildShaders=function(r,a,i){return r.getShaderSourceTime().getMTime()<e.renderable.getMTime()||r.getShaderSourceTime().getMTime()<e.currentInput.getMTime()},t.updateBufferObjects=function(r,a){t.getNeedToRebuildBufferObjects(r,a)&&t.buildBufferObjects(r,a)},t.getNeedToRebuildBufferObjects=function(r,a){var i=e.VBOBuildTime.getMTime();return!!(i<t.getMTime()||i<e._openGLRenderWindow.getMTime()||i<e.renderable.getMTime()||i<a.getMTime()||i<e.currentInput.getMTime()||e.renderable.getTransformCoordinate()&&i<r.getMTime())},t.buildBufferObjects=function(r,a){var i=e.currentInput;if(i!==null){e.renderable.mapScalars(i,a.getProperty().getOpacity());var s=e.renderable.getColorMapColors();e.haveCellScalars=!1;var o=e.renderable.getScalarMode();e.renderable.getScalarVisibility()&&(o===fo.USE_CELL_DATA||o===fo.USE_CELL_FIELD_DATA||o===fo.USE_FIELD_DATA||!i.getPointData().getScalars())&&o!==fo.USE_POINT_FIELD_DATA&&s&&(e.haveCellScalars=!0);var c=a.getProperty().getRepresentation(),u=i.getPointData().getTCoords();e.openGLActor2D.getActiveTextures()||(u=null);var f=e.renderable.getTransformCoordinate(),l=r.getRenderWindow().getViews()[0],h=l.getViewportSize(r),p="".concat(i.getMTime(),"A").concat(c,"B").concat(i.getMTime())+"C".concat(s?s.getMTime():1)+"D".concat(u?u.getMTime():1)+"E".concat(f?r.getMTime():1)+"F".concat(h);if(e.VBOBuildString!==p){var v=i.getPoints();if(f){var y=ln.newInstance(),_=v.getNumberOfPoints();y.setNumberOfPoints(_);for(var m=0;m<_;++m){f.setValue(v.getPoint(m));var d=f.getComputedDoubleViewportValue(r);y.setPoint(m,d[0],d[1],0)}v=y}var g={points:v,tcoords:u,colors:s,cellOffset:0,haveCellScalars:e.haveCellSCalars,customAttributes:e.renderable.getCustomShaderAttributes().map(function(x){return i.getPointData().getArrayByName(x)})};g.cellOffset+=e.primitives[vr.Points].getCABO().createVBO(i.getVerts(),"verts",c,g),g.cellOffset+=e.primitives[vr.Lines].getCABO().createVBO(i.getLines(),"lines",c,g),g.cellOffset+=e.primitives[vr.Tris].getCABO().createVBO(i.getPolys(),"polys",c,g),g.cellOffset+=e.primitives[vr.TriStrips].getCABO().createVBO(i.getStrips(),"strips",c,g),e.VBOBuildTime.modified(),e.VBOBuildString=p}}},t.renderPieceDraw=function(r,a){var i=a.getProperty().getRepresentation(),s=e.context;s.depthMask(!0);for(var o=vr.Start;o<vr.End;o++){var c=e.primitives[o].getCABO();c.getElementCount()&&(e.lastBoundBO=e.primitives[o],e.primitiveIDOffset+=e.primitives[o].drawArrays(r,a,i,t))}},t.renderPieceFinish=function(r,a){e.lastBoundBO&&e.lastBoundBO.getVAO().release()},t.buildShaders=function(r,a,i){t.getShaderTemplate(r,a,i);var s=e.renderable.getViewSpecificProperties().OpenGL,o=null;if(s&&(o=s.ShaderReplacements),o)for(var c=0;c<o.length;c++){var u=o[c];if(u.replaceFirst){var f=u.shaderType,l=r[f],h=fe.substitute(l,u.originalValue,u.replacementValue,u.replaceAll);r[f]=h.result}}if(t.replaceShaderValues(r,a,i),o)for(var p=0;p<o.length;p++){var v=o[p];if(!v.replaceFirst){var y=v.shaderType,_=r[y],m=fe.substitute(_,v.originalValue,v.replacementValue,v.replaceAll);r[y]=m.result}}},t.replaceShaderValues=function(r,a,i){t.replaceShaderColor(r,a,i),t.replaceShaderTCoord(r,a,i),t.replaceShaderPicking(r,a,i),t.replaceShaderPositionVC(r,a,i)},t.replaceShaderColor=function(r,a,i){var s=r.Vertex,o=r.Geometry,c=r.Fragment;e.haveCellScalars&&(c=fe.substitute(c,"//VTK::Color::Dec",["uniform samplerBuffer texture1;"]).result,c=fe.substitute(c,"//VTK::Color::Impl",["gl_FragData[0] = texelFetchBuffer(texture1, gl_PrimitiveID + PrimitiveIDOffset);"]).result),e.lastBoundBO.getCABO().getColorComponents()!==0?(s=fe.substitute(s,"//VTK::Color::Dec",["in vec4 diffuseColor;","out vec4 fcolorVSOutput;"]).result,s=fe.substitute(s,"//VTK::Color::Impl",["fcolorVSOutput = diffuseColor;"]).result,o=fe.substitute(o,"//VTK::Color::Dec",[`in vec4 fcolorVSOutput[];
`,"out vec4 fcolorGSOutput;"]).result,o=fe.substitute(o,"//VTK::Color::Impl",["fcolorGSOutput = fcolorVSOutput[i];"]).result,c=fe.substitute(c,"//VTK::Color::Dec",["in vec4 fcolorVSOutput;"]).result,c=fe.substitute(c,"//VTK::Color::Impl",["gl_FragData[0] = fcolorVSOutput;"]).result):(c=fe.substitute(c,"//VTK::Color::Dec",["uniform vec4 diffuseColor;"]).result,c=fe.substitute(c,"//VTK::Color::Impl",["gl_FragData[0] = diffuseColor;"]).result),r.Vertex=s,r.Geometry=o,r.Fragment=c},t.replaceShaderTCoord=function(r,a,i){if(e.lastBoundBO.getCABO().getTCoordOffset()){var s=r.Vertex,o=r.Geometry,c=r.Fragment,u=e.lastBoundBO.getCABO().getTCoordComponents();u===1?(s=fe.substitute(s,"//VTK::TCoord::Dec",["in float tcoordMC;","out float tcoordVCVSOutput;"]).result,s=fe.substitute(s,"//VTK::TCoord::Impl",["tcoordVCVSOutput = tcoordMC;"]).result,o=fe.substitute(o,"//VTK::TCoord::Dec",[`in float tcoordVCVSOutput[];
`,"out float tcoordVCGSOutput;"]).result,o=fe.substitute(o,["//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];"]).result,c=fe.substitute(c,"//VTK::TCoord::Dec",["in float tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,c=fe.substitute(c,"//VTK::TCoord::Impl",["gl_FragData[0] = gl_FragData[0]*texture2D(texture1, vec2(tcoordVCVSOutput,0));"]).result):u===2&&(s=fe.substitute(s,"//VTK::TCoord::Dec",["in vec2 tcoordMC;","out vec2 tcoordVCVSOutput;"]).result,s=fe.substitute(s,"//VTK::TCoord::Impl",["tcoordVCVSOutput = tcoordMC;"]).result,o=fe.substitute(o,"//VTK::TCoord::Dec",[`in vec2 tcoordVCVSOutput[];
`,"out vec2 tcoordVCGSOutput;"]).result,o=fe.substitute(o,"//VTK::TCoord::Impl",["tcoordVCGSOutput = tcoordVCVSOutput[i];"]).result,c=fe.substitute(c,"//VTK::TCoord::Dec",["in vec2 tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,c=fe.substitute(c,"//VTK::TCoord::Impl",["gl_FragData[0] = gl_FragData[0]*texture2D(texture1, tcoordVCVSOutput.st);"]).result),e.haveCellScalars&&(o=fe.substitute(o,"//VTK::PrimID::Impl",["gl_PrimitiveID = gl_PrimitiveIDIn;"]).result),r.Vertex=s,r.Geometry=o,r.Fragment=c}},t.replaceShaderPicking=function(r,a,i){var s=r.Fragment;s=fe.substitute(s,"//VTK::Picking::Dec",["uniform vec3 mapperIndex;","uniform int picking;"]).result,s=fe.substitute(s,"//VTK::Picking::Impl","  gl_FragData[0] = picking != 0 ? vec4(mapperIndex,1.0) : gl_FragData[0];").result,r.Fragment=s},t.replaceShaderPositionVC=function(r,a,i){e.lastBoundBO.replaceShaderPositionVC(r,a,i)},t.invokeShaderCallbacks=function(r,a,i){var s=e.renderable.getViewSpecificProperties().ShadersCallbacks;s&&s.forEach(function(o){o.callback(o.userData,r,a,i)})},t.setMapperShaderParameters=function(r,a,i){if(r.getProgram().isUniformUsed("PrimitiveIDOffset")&&r.getProgram().setUniformi("PrimitiveIDOffset",e.primitiveIDOffset),r.getProgram().isAttributeUsed("vertexWC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"vertexWC",r.getCABO().getVertexOffset(),r.getCABO().getStride(),e.context.FLOAT,3,!1)||lo("Error setting vertexWC in shader VAO.")),r.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())){e.renderable.getCustomShaderAttributes().forEach(function(h,p){r.getProgram().isAttributeUsed("".concat(h,"MC"))&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"".concat(h,"MC"),r.getCABO().getCustomData()[p].offset,r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getCustomData()[p].components,!1)||lo("Error setting ".concat(h,"MC in shader VAO.")))}),r.getProgram().isAttributeUsed("tcoordMC")&&r.getCABO().getTCoordOffset()?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"tcoordMC",r.getCABO().getTCoordOffset(),r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getTCoordComponents(),!1)||lo("Error setting tcoordMC in shader VAO."):r.getVAO().removeAttributeArray("tcoordMC"),e.internalColorTexture&&r.getProgram().isUniformUsed("texture1")&&r.getProgram().setUniformi("texture1",e.internalColorTexture.getTextureUnit());var s=e.openGLActor2D.getActiveTextures();if(s)for(var o=0;o<s.length;++o){var c=s[o],u=c.getTextureUnit(),f="texture".concat(u+1);r.getProgram().isUniformUsed(f)&&r.getProgram().setUniformi(f,u)}r.setMapperShaderParameters(a,i,e.openGLRenderer.getTiledSizeAndOrigin());var l=e.openGLRenderer.getSelector();r.getProgram().setUniform3fArray("mapperIndex",l?l.getPropColorValue():[0,0,0]),r.getProgram().setUniformi("picking",l?l.getCurrentPass()+1:0)}},t.setPropertyShaderParameters=function(r,a,i){var s=e.renderable.getColorMapColors();if(!s||s.getNumberOfComponents()===0){var o=r.getProgram(),c=i.getProperty(),u=c.getOpacity(),f=c.getColor(),l=[f[0],f[1],f[2],u];o.setUniform4f("diffuseColor",l)}},t.setLightingShaderParameters=function(r,a,i){};function n(r,a,i){return a.identity(i),r.reduce(function(s,o,c){return c===0?o?a.copy(s,o):a.identity(s):o?a.multiply(s,s,o):s},i)}t.setCameraShaderParameters=function(r,a,i){var s=r.getProgram(),o=r.getCABO().getCoordShiftAndScaleEnabled(),c=o?r.getCABO().getInverseShiftAndScaleMatrix():null,u=a.getRenderWindow().getViews()[0],f=u.getViewportSize(a),l=a.getViewport(),h=i.getActualPositionCoordinate().getComputedDoubleViewportValue(a),p=[0,0,1,1],v=[0,0,1,1];if(v[0]=l[0]>=p[0]?l[0]:p[0],v[1]=l[1]>=p[1]?l[1]:p[1],v[2]=l[2]<=p[2]?l[2]:p[2],v[3]=l[3]<=p[3]?l[3]:p[3],!(v[0]>=v[2])&&!(v[1]>=v[3])){f[0]=nn(f[0]*(v[2]-v[0])/(l[2]-l[0])),f[1]=nn(f[1]*(v[3]-v[1])/(l[3]-l[1]));var y=e.openGLRenderer.getParent().getSize(),_=nn(h[0]-(v[0]-l[0])*y[0]),m=nn(h[1]-(v[1]-l[1])*y[1]),d=-_,g=-_+f[0],x=-m,w=-m+f[1];d===g&&(g=d+1),x===w&&(w=x+1);var C=Ae(new Float64Array(16));C[0]=2/(g-d),C[1*4+1]=2/(w-x),C[0*4+3]=-1*(g+d)/(g-d),C[1*4+3]=-1*(w+x)/(w-x),C[2*4+2]=0,C[2*4+3]=i.getProperty().getDisplayLocation()===Dv.FOREGROUND?-1:1,C[3*4+3]=1,Ye(C,C),s.setUniformMatrix("WCVCMatrix",n([C,c],z0,e.tmpMat4))}}}var Z6={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null};function J6(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Z6,n),At.extend(t,e,n),Zu.implementReplaceShaderCoincidentOffset(t,e,n),e.primitives=[],e.primTypes=vr,e.tmpMat4=Ae(new Float64Array(16));for(var r=vr.Start;r<vr.End;r++)e.primitives[r]=pn.newInstance(),e.primitives[r].setPrimitiveType(r),e.primitives[r].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:!1},!0);Nt(t,e,["context"]),e.VBOBuildTime={},Et(e.VBOBuildTime,{mtime:0}),Y6(t,e)}var Q6=st(J6,"vtkOpenGLPolyDataMapper2D");Bt("vtkMapper2D",Q6);function nl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nl(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var e7=Ms.VectorMode,ke=new Float64Array(3),ho=new Float64Array(3),Xe=new Float64Array(3),Jt=new Float64Array(3),ur=new Float64Array(3),wn=new Float64Array(3),cr=new Float64Array(16);function s0(t,e){t.strokeStyle=e.strokeColor,t.lineWidth=e.strokeSize,t.fillStyle=e.fontColor,t.font="".concat(e.fontStyle," ").concat(e.fontSize,"px ").concat(e.fontFamily)}function Ov(t,e){return function(n){var r=n.getLastSize(),a=Math.pow(r[0]/700,.8),i=Math.pow(r[1]/700,.8),s=Math.min(a,i),o=n.getAxisTextStyle(),c=n.getTickTextStyle();Object.assign(o,e.axisTextStyle),Object.assign(c,e.tickTextStyle),o.fontSize=Math.max(24*s,12),n.getLastAspectRatio()>1?c.fontSize=Math.max(20*s,10):c.fontSize=Math.max(16*s,10);var u=n.updateTextureAtlas();n.setTopTitle(!1);var f=n.getBoxSizeByReference();if(n.getLastAspectRatio()>1){n.setTickLabelPixelOffset(.4*c.fontSize);var l=2*(u.tickWidth+n.getTickLabelPixelOffset())/r[0];n.setAxisTitlePixelOffset(.8*o.fontSize);var h=2*(u.titleHeight+n.getAxisTitlePixelOffset())/r[0];l+.4*h>2*u.titleWidth/r[0]?(n.setTopTitle(!0),f[0]=l+.4*h,n.setBoxPosition([.98-f[0],-.92])):(f[0]=l+1.4*h,n.setBoxPosition([.99-f[0],-.92])),f[1]=Math.max(1.2,Math.min(1.84/i,1.84))}else{n.setAxisTitlePixelOffset(2*c.fontSize),n.setTickLabelPixelOffset(.5*c.fontSize);var p=2*(u.tickHeight+n.getTickLabelPixelOffset())/r[1],v=2*(u.titleHeight+n.getAxisTitlePixelOffset())/r[1],y=2*u.tickWidth/r[0];f[0]=Math.min(1.9,Math.max(1.4,1.4*y*(n.getTicks().length+3))),f[1]=p+v,n.setBoxPosition([-.5*f[0],-.97])}n.recomputeBarSegments(u)}}function t7(t,e){e.classHierarchy.push("vtkScalarBarActorHelper"),t.setRenderable=function(n){e.renderable!==n&&(e.renderable=n,e.barActor.setProperty(n.getProperty()),e.barActor.setParentProp(n),e.tmActor.setProperty(n.getProperty()),e.tmActor.setParentProp(n),e.axisTextStyle=zr({},n.getAxisTextStyle()),e.tickTextStyle=zr({},n.getTickTextStyle()),t.modified())},t.updateAPISpecificData=function(n,r,a){(e.lastSize[0]!==n[0]||e.lastSize[1]!==n[1])&&(e.lastSize[0]=n[0],e.lastSize[1]=n[1],e.lastAspectRatio=n[0]/n[1],e.forceUpdate=!0);var i=e.renderable.getScalarsToColors();if(!(!i||!e.renderable.getVisibility())){if(e.barMapper.setLookupTable(i),e.camera=r,e.renderWindow=a,e.forceUpdate||Math.max(i.getMTime(),t.getMTime())>e.lastRebuildTime.getMTime()){var s=i.getMappingRange();e.lastTickBounds=we(s);var o=nc().domain([e.lastTickBounds[0],e.lastTickBounds[1]]);e.ticks=o.ticks(5);var c=o.tickFormat(5);if(e.tickstrings=e.ticks.map(c),e.renderable.getAutomated())e.renderable.getAutoLayout()(t);else{e.axisTextStyle=zr({},e.renderable.getAxisTextStyle()),e.tickTextStyle=zr({},e.renderable.getTickTextStyle()),e.barPosition=we(e.renderable.getBarPosition()),e.barSize=we(e.renderable.getBarSize()),e.boxPosition=we(e.renderable.getBoxPosition()),e.boxSize=we(e.renderable.getBoxSize()),e.axisTitlePixelOffset=e.renderable.getAxisTitlePixelOffset(),e.tickLabelPixelOffset=e.renderable.getTickLabelPixelOffset();var u=t.updateTextureAtlas();t.recomputeBarSegments(u)}e.forceViewUpdate=!0,e.lastRebuildTime.modified(),e.forceUpdate=!1}(e.forceViewUpdate||e.camera.getMTime()>e.lastRedrawTime.getMTime())&&(t.updatePolyDataForLabels(),t.updatePolyDataForBarSegments(),e.lastRedrawTime.modified(),e.forceViewUpdate=!1)}},t.updateTextureAtlas=function(){e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left";var n={},r=new Map,a=0,i=1;s0(e.tmContext,e.axisTextStyle);var s=e.tmContext.measureText(e.renderable.getAxisLabel()),o={height:s.actualBoundingBoxAscent+2,startingHeight:i,width:s.width+2,textStyle:e.axisTextStyle};r.set(e.renderable.getAxisLabel(),o),i+=o.height,a=o.width,n.titleWidth=o.width,n.titleHeight=o.height,n.tickWidth=0,n.tickHeight=0,s0(e.tmContext,e.tickTextStyle);for(var c=[].concat(we(e.tickstrings),["NaN","Below","Above"]),u=0;u<c.length;u++)r.has(c[u])||(s=e.tmContext.measureText(c[u]),o={height:s.actualBoundingBoxAscent+2,startingHeight:i,width:s.width+2,textStyle:e.tickTextStyle},r.set(c[u],o),i+=o.height,a<o.width&&(a=o.width),n.tickWidth<o.width&&(n.tickWidth=o.width),n.tickHeight<o.height&&(n.tickHeight=o.height));return a=gr(a),i=gr(i),r.forEach(function(f){f.tcoords=[0,(i-f.startingHeight-f.height)/i,f.width/a,(i-f.startingHeight-f.height)/i,f.width/a,(i-f.startingHeight)/i,0,(i-f.startingHeight)/i]}),e.tmCanvas.width=a,e.tmCanvas.height=i,e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left",e.tmContext.clearRect(0,0,a,i),r.forEach(function(f,l){s0(e.tmContext,f.textStyle),e.tmContext.fillText(l,1,f.startingHeight+f.height-1)}),e.tmTexture.setCanvas(e.tmCanvas),e.tmTexture.modified(),e._tmAtlas=r,n},t.computeBarSize=function(n){e.vertical=e.boxSize[1]>e.boxSize[0];var r=2*n.tickHeight/e.lastSize[1],a=[1,1];if(e.vertical){var i=2*(n.tickWidth+e.tickLabelPixelOffset)/e.lastSize[0];if(e.topTitle){var s=2*(n.titleHeight+e.axisTitlePixelOffset)/e.lastSize[1];e.barSize[0]=e.boxSize[0]-i,e.barSize[1]=e.boxSize[1]-s}else{var o=2*(n.titleHeight+e.axisTitlePixelOffset)/e.lastSize[0];e.barSize[0]=e.boxSize[0]-o-i,e.barSize[1]=e.boxSize[1]}e.barPosition[0]=e.boxPosition[0]+i,e.barPosition[1]=e.boxPosition[1],a[1]=r}else{var c=(2*n.tickWidth-8)/e.lastSize[0],u=2*(n.titleHeight+e.axisTitlePixelOffset)/e.lastSize[1];e.barSize[0]=e.boxSize[0],e.barPosition[0]=e.boxPosition[0],e.barSize[1]=e.boxSize[1]-u-r,e.barPosition[1]=e.boxPosition[1],a[0]=c}return a},t.recomputeBarSegments=function(n){var r,a,i,s,o=t.computeBarSize(n);e.barSegments=[];var c=[0,0],u=e.vertical?1:0,f=e.vertical?.01:.02;function l(v,y){e.barSegments.push({corners:[[].concat(c),[c[0]+o[0],c[1]],[c[0]+o[0],c[1]+o[1]],[c[0],c[1]+o[1]]],scalars:y,title:v}),c[u]+=o[u]+f}e.renderable.getDrawNanAnnotation()&&e.renderable.getScalarsToColors().getNanColor()&&l("NaN",[NaN,NaN,NaN,NaN]),e.renderable.getDrawBelowRangeSwatch()&&(r=(a=e.renderable.getScalarsToColors()).getUseBelowRangeColor)!==null&&r!==void 0&&r.call(a)&&l("Below",[-.1,-.1,-.1,-.1]);var h=(i=(s=e.renderable.getScalarsToColors()).getUseAboveRangeColor)===null||i===void 0?void 0:i.call(s);c[u]+=f;var p=o[u];o[u]=h?1-2*f-o[u]-c[u]:1-f-c[u],l("ticks",e.vertical?[0,0,.995,.995]:[0,.995,.995,0]),e.renderable.getDrawAboveRangeSwatch()&&h&&(o[u]=p,c[u]+=f,l("Above",[1.1,1.1,1.1,1.1]))},t.createPolyDataForOneLabel=function(n,r,a,i,s,o,c){var u=e._tmAtlas.get(n);if(!!u){var f=c.ptIdx,l=c.cellIdx;ke[0]=r[0],ke[1]=r[1],ke[2]=r[2],s[0]<-.5?_t(Xe,a,s[0]*o-u.width):s[0]>.5?_t(Xe,a,s[0]*o):_t(Xe,a,s[0]*o-u.width/2),jr(ke,ke,Xe),_t(Xe,i,s[1]*o-u.height/2),jr(ke,ke,Xe),c.points[f*3]=ke[0],c.points[f*3+1]=ke[1],c.points[f*3+2]=ke[2],c.tcoords[f*2]=u.tcoords[0],c.tcoords[f*2+1]=u.tcoords[1],f++,_t(Xe,a,u.width),jr(ke,ke,Xe),c.points[f*3]=ke[0],c.points[f*3+1]=ke[1],c.points[f*3+2]=ke[2],c.tcoords[f*2]=u.tcoords[2],c.tcoords[f*2+1]=u.tcoords[3],f++,_t(Xe,i,u.height),jr(ke,ke,Xe),c.points[f*3]=ke[0],c.points[f*3+1]=ke[1],c.points[f*3+2]=ke[2],c.tcoords[f*2]=u.tcoords[4],c.tcoords[f*2+1]=u.tcoords[5],f++,_t(Xe,a,u.width),rr(ke,ke,Xe),c.points[f*3]=ke[0],c.points[f*3+1]=ke[1],c.points[f*3+2]=ke[2],c.tcoords[f*2]=u.tcoords[6],c.tcoords[f*2+1]=u.tcoords[7],f++,c.polys[l*4]=3,c.polys[l*4+1]=f-4,c.polys[l*4+2]=f-3,c.polys[l*4+3]=f-2,l++,c.polys[l*4]=3,c.polys[l*4+1]=f-4,c.polys[l*4+2]=f-2,c.polys[l*4+3]=f-1,c.ptIdx+=4,c.cellIdx+=2}},t.updatePolyDataForLabels=function(){var n=e.camera.getCompositeProjectionMatrix(e.lastAspectRatio,-1,1);Ye(n,n),ir(cr,n);var r=e.lastSize;Xe[0]=0,Xe[1]=0,Xe[2]=-.99,be(ke,Xe,cr),Xe[0]+=.1,be(ho,Xe,cr),rr(ur,ho,ke),Xe[0]-=.1,Xe[1]+=.1,be(ho,Xe,cr),rr(wn,ho,ke);for(var a=0;a<3;a++)ur[a]/=.5*.1*r[0],wn[a]/=.5*.1*r[1];var i=e.tickstrings.length+e.barSegments.length,s=i*4,o=i*2,c=new Float64Array(s*3),u=new Uint16Array(o*4),f=new Float32Array(s*2),l={ptIdx:0,cellIdx:0,polys:u,points:c,tcoords:f},h=e.vertical?0:1,p=e.vertical?1:0,v=[0,1];e.vertical?(e.topTitle?(Xe[0]=e.boxPosition[0]+.5*e.boxSize[0],Xe[1]=e.barPosition[1]+e.barSize[1],be(ke,Xe,cr),t.createPolyDataForOneLabel(e.renderable.getAxisLabel(),ke,ur,wn,[0,1],e.axisTitlePixelOffset,l)):(Xe[0]=e.barPosition[0]+e.barSize[0],Xe[1]=e.barPosition[1]+.5*e.barSize[1],be(ke,Xe,cr),_t(ur,ur,-1),t.createPolyDataForOneLabel(e.renderable.getAxisLabel(),ke,wn,ur,[0,-1],e.axisTitlePixelOffset,l),_t(ur,ur,-1)),v=[-1,0]):(Xe[0]=e.barPosition[0]+.5*e.barSize[0],Xe[1]=e.barPosition[1]+e.barSize[1],be(ke,Xe,cr),t.createPolyDataForOneLabel(e.renderable.getAxisLabel(),ke,ur,wn,v,e.axisTitlePixelOffset,l)),Jt[2]=-.99,Jt[h]=e.barPosition[h]+(.5*v[h]+.5)*e.barSize[h],Jt[p]=e.barPosition[p]+e.barSize[p]*.5;for(var y=null,_=0;_<e.barSegments.length;_++){var m=e.barSegments[_];m.title==="ticks"?y=m:(Jt[p]=e.barPosition[p]+.5*e.barSize[p]*(m.corners[2][p]+m.corners[0][p]),be(ke,Jt,cr),t.createPolyDataForOneLabel(m.title,ke,ur,wn,v,e.tickLabelPixelOffset,l))}for(var d=e.barPosition[p]+e.barSize[p]*y.corners[0][p],g=e.barSize[p]*(y.corners[2][p]-y.corners[0][p]),x=0;x<e.ticks.length;x++){var w=(e.ticks[x]-e.lastTickBounds[0])/(e.lastTickBounds[1]-e.lastTickBounds[0]);Jt[p]=d+g*w,be(ke,Jt,cr),t.createPolyDataForOneLabel(e.tickstrings[x],ke,ur,wn,v,e.tickLabelPixelOffset,l)}var C=Ee.newInstance({numberOfComponents:2,values:f,name:"TextureCoordinates"});e.tmPolyData.getPointData().setTCoords(C),e.tmPolyData.getPoints().setData(c,3),e.tmPolyData.getPoints().modified(),e.tmPolyData.getPolys().setData(u,1),e.tmPolyData.getPolys().modified(),e.tmPolyData.modified()},t.updatePolyDataForBarSegments=function(){var n,r,a=e.camera.getCompositeProjectionMatrix(e.lastAspectRatio,-1,1);Ye(a,a),ir(cr,a);var i=e.renderable.getScalarsToColors(),s=0;e.renderable.getDrawNanAnnotation()&&i.getNanColor()&&(s+=1),e.renderable.getDrawBelowRangeSwatch()&&(n=i.getUseBelowRangeColor)!==null&&n!==void 0&&n.call(i)&&(s+=1),e.renderable.getDrawAboveRangeSwatch()&&(r=i.getUseAboveRangeColor)!==null&&r!==void 0&&r.call(i)&&(s+=1);var o=4*(1+s),c=o,u=1;i.getVectorMode()===e7.COMPONENT&&(u=i.getVectorComponent()+1);for(var f=new Float64Array(o*3),l=new Uint16Array(c*5),h=new Float32Array(o*u),p=0,v=0,y=0;y<e.barSegments.length;y++){var _=e.barSegments[y];Jt[1]=e.barPosition[1]+e.barSize[1]*.5,Jt[2]=-.99;for(var m=0;m<4;m++){Jt[0]=e.barPosition[0]+_.corners[m][0]*e.barSize[0],Jt[1]=e.barPosition[1]+_.corners[m][1]*e.barSize[1],be(ke,Jt,cr),f[p*3]=ke[0],f[p*3+1]=ke[1],f[p*3+2]=ke[2];for(var d=0;d<u;d++)h[p*u+d]=e.lastTickBounds[0]+_.scalars[m]*(e.lastTickBounds[1]-e.lastTickBounds[0]);p++}l[v*5]=4,l[v*5+1]=p-4,l[v*5+2]=p-3,l[v*5+3]=p-2,l[v*5+4]=p-1,v++}var g=Ee.newInstance({numberOfComponents:u,values:h,name:"Scalars"});e.polyData.getPointData().setScalars(g),e.polyData.getPoints().setData(f,3),e.polyData.getPoints().modified(),e.polyData.getPolys().setData(l,1),e.polyData.getPolys().modified(),e.polyData.modified()}}var r7=W.newInstance(function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{renderable:null};Object.assign(e,{},n),W.obj(t,e),W.setGet(t,e,["axisTitlePixelOffset","tickLabelPixelOffset","renderable","topTitle"]),W.get(t,e,["lastSize","lastAspectRatio","axisTextStyle","tickTextStyle","barActor","tmActor","ticks"]),W.getArray(t,e,["boxPosition","boxSize"]),W.setArray(t,e,["boxPosition","boxSize"],2),e.forceUpdate=!1,e.lastRedrawTime={},W.obj(e.lastRedrawTime,{mtime:0}),e.lastRebuildTime={},W.obj(e.lastRebuildTime,{mtime:0}),e.lastSize=[-1,-1],e.tmCanvas=document.createElement("canvas"),e.tmContext=e.tmCanvas.getContext("2d"),e._tmAtlas=new Map,e.barMapper=fn.newInstance(),e.barMapper.setInterpolateScalarsBeforeMapping(!0),e.barMapper.setUseLookupTableScalarRange(!0),e.polyData=at.newInstance(),e.barMapper.setInputData(e.polyData),e.barActor=$r.newInstance(),e.barActor.setMapper(e.barMapper),e.tmPolyData=at.newInstance(),e.tmMapper=fn.newInstance(),e.tmMapper.setInputData(e.tmPolyData),e.tmTexture=wv.newInstance(),e.tmTexture.setInterpolate(!1),e.tmActor=$r.newInstance({parentProp:t}),e.tmActor.setMapper(e.tmMapper),e.tmActor.addTexture(e.tmTexture),e.barPosition=[0,0],e.barSize=[0,0],e.boxPosition=[.88,-.92],e.boxSize=[.1,1.1],e.lastTickBounds=[],t7(t,e)},"vtkScalarBarActorHelper");function n7(t,e){e.classHierarchy.push("vtkScalarBarActor"),t.setTickTextStyle=function(n){e.tickTextStyle=zr(zr({},e.tickTextStyle),n),t.modified()},t.setAxisTextStyle=function(n){e.axisTextStyle=zr(zr({},e.axisTextStyle),n),t.modified()},t.resetAutoLayoutToDefault=function(){e.autoLayout=Ov(t,e)}}function a7(t){return zr({automated:!0,autoLayout:null,axisLabel:"Scalar Value",barPosition:[0,0],barSize:[0,0],boxPosition:[.88,-.92],boxSize:[.1,1.1],scalarToColors:null,axisTitlePixelOffset:36,axisTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:18,fontFamily:"serif"},tickLabelPixelOffset:14,tickTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:14,fontFamily:"serif"},drawNanAnnotation:!0,drawBelowRangeSwatch:!0,drawAboveRangeSwatch:!0},t)}function Nv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,a7(n)),e.autoLayout||(e.autoLayout=Ov(t,e)),$r.extend(t,e,n),t.getProperty().setDiffuse(0),t.getProperty().setAmbient(1),W.setGet(t,e,["automated","autoLayout","axisTitlePixelOffset","axisLabel","scalarsToColors","tickLabelPixelOffset","drawNanAnnotation","drawBelowRangeSwatch","drawAboveRangeSwatch"]),W.get(t,e,["axisTextStyle","tickTextStyle"]),W.getArray(t,e,["barPosition","barSize","boxPosition","boxSize"]),W.setArray(t,e,["barPosition","barSize","boxPosition","boxSize"],2),n7(t,e)}var i7=W.newInstance(Nv,"vtkScalarBarActor"),Mv={newInstance:i7,extend:Nv,newScalarBarActorHelper:r7};function o7(t,e){e.classHierarchy.push("vtkOpenGLScalarBarActor"),t.buildPass=function(n){n&&(e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent(),e.scalarBarActorHelper.getRenderable()||e.scalarBarActorHelper.setRenderable(e.renderable),t.prepareNodes(),t.addMissingNode(e.scalarBarActorHelper.getBarActor()),t.addMissingNode(e.scalarBarActorHelper.getTmActor()),t.removeUnusedNodes())},t.opaquePass=function(n,r){if(n){var a=e.openGLRenderer?e.openGLRenderer.getRenderable().getActiveCamera():null,i=e.openGLRenderer.getTiledSizeAndOrigin();e.scalarBarActorHelper.updateAPISpecificData([i.usize,i.vsize],a,e._openGLRenderWindow.getRenderable())}}}var s7={};function u7(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,s7,n),At.extend(t,e,n),e.scalarBarActorHelper=Mv.newScalarBarActorHelper(),o7(t,e)}var c7=st(u7,"vtkOpenGLScalarBarActor");Bt("vtkScalarBarActor",c7);var al=Re;function f7(t,e){e.classHierarchy.push("vtkOpenGLSkybox"),t.buildPass=function(n){if(n){e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLTexture.setOpenGLRenderWindow(e._openGLRenderWindow);var r=e.openGLRenderer.getRenderable();e.openGLCamera=e.openGLRenderer.getViewNodeFor(r.getActiveCamera())}},t.queryPass=function(n,r){if(n){if(!e.renderable||!e.renderable.getVisibility())return;r.incrementOpaqueActorCount()}},t.opaquePass=function(n,r){if(n&&!e.openGLRenderer.getSelector()){t.updateBufferObjects(),e.context.depthMask(!0),e._openGLRenderWindow.getShaderCache().readyShaderProgram(e.tris.getProgram()),e.openGLTexture.render(e._openGLRenderWindow);var a=e.openGLTexture.getTextureUnit();e.tris.getProgram().setUniformi("sbtexture",a);var i=e.openGLRenderer.getRenderable(),s=e.openGLCamera.getKeyMatrices(i),o=new Float64Array(16);if(ir(o,s.wcpc),e.tris.getProgram().setUniformMatrix("IMCPCMatrix",o),e.lastFormat==="box"){var c=i.getActiveCamera().getPosition();e.tris.getProgram().setUniform3f("camPos",c[0],c[1],c[2])}e.tris.getVAO().bind(),e.context.drawArrays(e.context.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release(),e.openGLTexture.deactivate()}},t.updateBufferObjects=function(){if(!e.tris.getCABO().getElementCount()){for(var n=new Float32Array(12),r=0;r<4;r++)n[r*3]=r%2*2-1,n[r*3+1]=r>1?1:-1,n[r*3+2]=1;var a=Ee.newInstance({numberOfComponents:3,values:n});a.setName("points");var i=new Uint16Array(8);i[0]=3,i[1]=0,i[2]=1,i[3]=3,i[4]=3,i[5]=0,i[6]=3,i[7]=2;var s=Ee.newInstance({numberOfComponents:1,values:i});e.tris.getCABO().createVBO(s,"polys",Wt.SURFACE,{points:a,cellOffset:0})}e.renderable.getFormat()!==e.lastFormat&&(e.lastFormat=e.renderable.getFormat(),e.lastFormat==="box"&&e.tris.setProgram(e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(`//VTK::System::Dec
             attribute vec3 vertexMC;
             uniform mat4 IMCPCMatrix;
             varying vec3 TexCoords;
             void main () {
              gl_Position = vec4(vertexMC.xyz, 1.0);
              vec4 wpos = IMCPCMatrix * gl_Position;
              TexCoords = wpos.xyz/wpos.w;
             }`,`//VTK::System::Dec
             //VTK::Output::Dec
             varying vec3 TexCoords;
             uniform samplerCube sbtexture;
             uniform vec3 camPos;
             void main () {
               // skybox looks from inside out
               // which means we have to adjust
               // our tcoords. Otherwise text would
               // be flipped
               vec3 tc = normalize(TexCoords - camPos);
               if (abs(tc.z) < max(abs(tc.x),abs(tc.y)))
               {
                 tc = vec3(1.0, 1.0, -1.0) * tc;
               }
               else
               {
                 tc = vec3(-1.0, 1.0, 1.0) * tc;
               }
               gl_FragData[0] = textureCube(sbtexture, tc);
             }`,"")),e.lastFormat==="background"&&e.tris.setProgram(e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(`//VTK::System::Dec
             attribute vec3 vertexMC;
             uniform mat4 IMCPCMatrix;
             varying vec2 TexCoords;
             void main () {
              gl_Position = vec4(vertexMC.xyz, 1.0);
              vec4 wpos = IMCPCMatrix * gl_Position;
              TexCoords = vec2(vertexMC.x, vertexMC.y)*0.5 + 0.5;
             }`,`//VTK::System::Dec
             //VTK::Output::Dec
             varying vec2 TexCoords;
             uniform sampler2D sbtexture;
             void main () {
               gl_FragData[0] = texture2D(sbtexture, TexCoords);
             }`,"")),e.tris.getShaderSourceTime().modified(),e.tris.getVAO().bind(),e.tris.getVAO().addAttributeArray(e.tris.getProgram(),e.tris.getCABO(),"vertexMC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||al("Error setting vertexMC in shader VAO."));var o=e.renderable.getTextures();o.length||al("vtkSkybox requires a texture map"),e.openGLTexture.getRenderable()!==o[0]&&(e.openGLTexture.releaseGraphicsResources(e._openGLRenderWindow),e.openGLTexture.setRenderable(o[0]))}}var l7={context:null};function h7(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,l7,n),At.extend(t,e,n),e.openGLTexture=jt.newInstance(),e.tris=pn.newInstance(),e.keyMatrixTime={},Et(e.keyMatrixTime,{mtime:0}),e.keyMatrices={normalMatrix:Nr(new Float64Array(9)),mcwc:Ae(new Float64Array(16))},Nt(t,e,["context"]),Mr(t,e,["activeTextures"]),f7(t,e)}var p7=st(h7);Bt("vtkSkybox",p7);function il(t,e,n,r,a,i,s){try{var o=t[i](s),c=o.value}catch(u){n(u);return}o.done?e(c):Promise.resolve(c).then(r,a)}function ma(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var i=t.apply(e,n);function s(c){il(i,r,a,s,o,"next",c)}function o(c){il(i,r,a,s,o,"throw",c)}s(void 0)})}}var kv={exports:{}};(function(t){var e=function(n){var r=Object.prototype,a=r.hasOwnProperty,i,s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function f(L,F,G){return Object.defineProperty(L,F,{value:G,enumerable:!0,configurable:!0,writable:!0}),L[F]}try{f({},"")}catch{f=function(F,G,$){return F[G]=$}}function l(L,F,G,$){var H=F&&F.prototype instanceof d?F:d,J=Object.create(H.prototype),Q=new B($||[]);return J._invoke=D(L,G,Q),J}n.wrap=l;function h(L,F,G){try{return{type:"normal",arg:L.call(F,G)}}catch($){return{type:"throw",arg:$}}}var p="suspendedStart",v="suspendedYield",y="executing",_="completed",m={};function d(){}function g(){}function x(){}var w={};f(w,o,function(){return this});var C=Object.getPrototypeOf,S=C&&C(C(I([])));S&&S!==r&&a.call(S,o)&&(w=S);var T=x.prototype=d.prototype=Object.create(w);g.prototype=x,f(T,"constructor",x),f(x,"constructor",g),g.displayName=f(x,u,"GeneratorFunction");function b(L){["next","throw","return"].forEach(function(F){f(L,F,function(G){return this._invoke(F,G)})})}n.isGeneratorFunction=function(L){var F=typeof L=="function"&&L.constructor;return F?F===g||(F.displayName||F.name)==="GeneratorFunction":!1},n.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,x):(L.__proto__=x,f(L,u,"GeneratorFunction")),L.prototype=Object.create(T),L},n.awrap=function(L){return{__await:L}};function O(L,F){function G(J,Q,q,ne){var re=h(L[J],L,Q);if(re.type==="throw")ne(re.arg);else{var oe=re.arg,te=oe.value;return te&&typeof te=="object"&&a.call(te,"__await")?F.resolve(te.__await).then(function(A){G("next",A,q,ne)},function(A){G("throw",A,q,ne)}):F.resolve(te).then(function(A){oe.value=A,q(oe)},function(A){return G("throw",A,q,ne)})}}var $;function H(J,Q){function q(){return new F(function(ne,re){G(J,Q,ne,re)})}return $=$?$.then(q,q):q()}this._invoke=H}b(O.prototype),f(O.prototype,c,function(){return this}),n.AsyncIterator=O,n.async=function(L,F,G,$,H){H===void 0&&(H=Promise);var J=new O(l(L,F,G,$),H);return n.isGeneratorFunction(F)?J:J.next().then(function(Q){return Q.done?Q.value:J.next()})};function D(L,F,G){var $=p;return function(J,Q){if($===y)throw new Error("Generator is already running");if($===_){if(J==="throw")throw Q;return P()}for(G.method=J,G.arg=Q;;){var q=G.delegate;if(q){var ne=M(q,G);if(ne){if(ne===m)continue;return ne}}if(G.method==="next")G.sent=G._sent=G.arg;else if(G.method==="throw"){if($===p)throw $=_,G.arg;G.dispatchException(G.arg)}else G.method==="return"&&G.abrupt("return",G.arg);$=y;var re=h(L,F,G);if(re.type==="normal"){if($=G.done?_:v,re.arg===m)continue;return{value:re.arg,done:G.done}}else re.type==="throw"&&($=_,G.method="throw",G.arg=re.arg)}}}function M(L,F){var G=L.iterator[F.method];if(G===i){if(F.delegate=null,F.method==="throw"){if(L.iterator.return&&(F.method="return",F.arg=i,M(L,F),F.method==="throw"))return m;F.method="throw",F.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var $=h(G,L.iterator,F.arg);if($.type==="throw")return F.method="throw",F.arg=$.arg,F.delegate=null,m;var H=$.arg;if(!H)return F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,m;if(H.done)F[L.resultName]=H.value,F.next=L.nextLoc,F.method!=="return"&&(F.method="next",F.arg=i);else return H;return F.delegate=null,m}b(T),f(T,u,"Generator"),f(T,o,function(){return this}),f(T,"toString",function(){return"[object Generator]"});function R(L){var F={tryLoc:L[0]};1 in L&&(F.catchLoc=L[1]),2 in L&&(F.finallyLoc=L[2],F.afterLoc=L[3]),this.tryEntries.push(F)}function E(L){var F=L.completion||{};F.type="normal",delete F.arg,L.completion=F}function B(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(R,this),this.reset(!0)}n.keys=function(L){var F=[];for(var G in L)F.push(G);return F.reverse(),function $(){for(;F.length;){var H=F.pop();if(H in L)return $.value=H,$.done=!1,$}return $.done=!0,$}};function I(L){if(L){var F=L[o];if(F)return F.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var G=-1,$=function H(){for(;++G<L.length;)if(a.call(L,G))return H.value=L[G],H.done=!1,H;return H.value=i,H.done=!0,H};return $.next=$}}return{next:P}}n.values=I;function P(){return{value:i,done:!0}}return B.prototype={constructor:B,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(E),!L)for(var F in this)F.charAt(0)==="t"&&a.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=i)},stop:function(){this.done=!0;var L=this.tryEntries[0],F=L.completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var F=this;function G(ne,re){return J.type="throw",J.arg=L,F.next=ne,re&&(F.method="next",F.arg=i),!!re}for(var $=this.tryEntries.length-1;$>=0;--$){var H=this.tryEntries[$],J=H.completion;if(H.tryLoc==="root")return G("end");if(H.tryLoc<=this.prev){var Q=a.call(H,"catchLoc"),q=a.call(H,"finallyLoc");if(Q&&q){if(this.prev<H.catchLoc)return G(H.catchLoc,!0);if(this.prev<H.finallyLoc)return G(H.finallyLoc)}else if(Q){if(this.prev<H.catchLoc)return G(H.catchLoc,!0)}else if(q){if(this.prev<H.finallyLoc)return G(H.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(L,F){for(var G=this.tryEntries.length-1;G>=0;--G){var $=this.tryEntries[G];if($.tryLoc<=this.prev&&a.call($,"finallyLoc")&&this.prev<$.finallyLoc){var H=$;break}}H&&(L==="break"||L==="continue")&&H.tryLoc<=F&&F<=H.finallyLoc&&(H=null);var J=H?H.completion:{};return J.type=L,J.arg=F,H?(this.method="next",this.next=H.finallyLoc,m):this.complete(J)},complete:function(L,F){if(L.type==="throw")throw L.arg;return L.type==="break"||L.type==="continue"?this.next=L.arg:L.type==="return"?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):L.type==="normal"&&F&&(this.next=F),m},finish:function(L){for(var F=this.tryEntries.length-1;F>=0;--F){var G=this.tryEntries[F];if(G.finallyLoc===L)return this.complete(G.completion,G.afterLoc),E(G),m}},catch:function(L){for(var F=this.tryEntries.length-1;F>=0;--F){var G=this.tryEntries[F];if(G.tryLoc===L){var $=G.completion;if($.type==="throw"){var H=$.arg;E(G)}return H}}throw new Error("illegal catch attempt")},delegateYield:function(L,F,G){return this.delegate={iterator:I(L),resultName:F,nextLoc:G},this.method==="next"&&(this.arg=i),m}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(kv);var tr=kv.exports,v7={MIN_KNOWN_PASS:0,ACTOR_PASS:0,COMPOSITE_INDEX_PASS:1,ID_LOW24:2,MAX_KNOWN_PASS:2},Rv={PassTypes:v7},d7=ji.FieldAssociations;function g7(t,e){e.classHierarchy.push("vtkHardwareSelector"),t.getSourceDataAsync=function(){var n=ma(tr.mark(function r(a,i,s,o,c){return tr.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:case"end":return f.stop()}},r)}));return function(r,a,i,s,o){return n.apply(this,arguments)}}(),t.selectAsync=function(){var n=ma(tr.mark(function r(a,i,s,o,c){var u;return tr.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,t.getSourceDataAsync(a,i,s,o,c);case 2:if(u=l.sent,!u){l.next=5;break}return l.abrupt("return",u.generateSelection(i,s,o,c));case 5:return l.abrupt("return",[]);case 6:case"end":return l.stop()}},r)}));return function(r,a,i,s,o){return n.apply(this,arguments)}}()}var y7={fieldAssociation:d7.FIELD_ASSOCIATION_CELLS,captureZValues:!1};function Fv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,y7,n),W.obj(t,e),W.setGet(t,e,["fieldAssociation","captureZValues"]),g7(t,e)}var m7=W.newInstance(Fv,"vtkHardwareSelector"),_7={newInstance:m7,extend:Fv},x7={GLOBALIDS:0,PEDIGREEIDS:1,VALUES:2,INDICES:3,FRUSTUM:4,LOCATIONS:5,THRESHOLDS:6,BLOCKS:7,QUERY:8},w7={CELL:0,POINT:1,FIELD:2,VERTEX:3,EDGE:4,ROW:5},C7={SelectionContent:x7,SelectionField:w7};function ol(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function S7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ol(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T7(t,e){e.classHierarchy.push("vtkSelectionNode"),t.getBounds=function(){return e.points.getBounds()}}var b7={contentType:-1,fieldType:-1,properties:null,selectionList:[]};function Lv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,b7,n),W.obj(t,e),e.properties={},W.setGet(t,e,["contentType","fieldType","properties","selectionList"]),T7(t,e)}var E7=W.newInstance(Lv,"vtkSelectionNode"),gc=S7({newInstance:E7,extend:Lv},C7);function sl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function D7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sl(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var pr=Rv.PassTypes,O7=gc.SelectionContent,ul=gc.SelectionField,cl=ji.FieldAssociations,Av=W.vtkErrorMacro,tn=1;function Bv(t){return"".concat(t.propID," ").concat(t.compositeID)}function ci(t,e,n,r){if(!n)return 0;var a=(e*(r[2]-r[0]+1)+t)*4,i=[];i[0]=n[a],i[1]=n[a+1],i[2]=n[a+2];var s=i[2];return s*=256,s+=i[1],s*=256,s+=i[0],s}function oa(t,e,n,r){var a=n<0?0:n;if(a===0){if(r[0]=e[0],r[1]=e[1],e[0]<t.area[0]||e[0]>t.area[2]||e[1]<t.area[1]||e[1]>t.area[3])return null;var i=[e[0]-t.area[0],e[1]-t.area[1]],s=ci(i[0],i[1],t.pixBuffer[pr.ACTOR_PASS],t.area);if(s<=0||s-tn>=t.props.length)return null;var o={};o.valid=!0,o.propID=s-tn,o.prop=t.props[o.propID];var c=ci(i[0],i[1],t.pixBuffer[pr.COMPOSITE_INDEX_PASS],t.area);if((c<0||c>16777215)&&(c=0),o.compositeID=c-tn,t.captureZValues){var u=(i[1]*(t.area[2]-t.area[0]+1)+i[0])*4;o.zValue=(256*t.zBuffer[u]+t.zBuffer[u+1])/65535,o.displayPosition=e}return o}var f=[e[0],e[1]],l=[0,0],h=oa(t,e,0,r);if(h&&h.valid)return h;for(var p=1;p<a;++p){for(var v=f[1]>p?f[1]-p:0;v<=f[1]+p;++v)if(l[1]=v,f[0]>=p&&(l[0]=f[0]-p,h=oa(t,l,0,r),h&&h.valid)||(l[0]=f[0]+p,h=oa(t,l,0,r),h&&h.valid))return h;for(var y=f[0]>=p?f[0]-(p-1):0;y<=f[0]+(p-1);++y)if(l[0]=y,f[1]>=p&&(l[1]=f[1]-p,h=oa(t,l,0,r),h&&h.valid)||(l[1]=f[1]+p,h=oa(t,l,0,r),h&&h.valid))return h}return r[0]=e[0],r[1]=e[1],null}function Vv(t,e,n,r,a){var i=[],s=0;return e.forEach(function(o,c){var u=gc.newInstance();switch(u.setContentType(O7.INDICES),t){case cl.FIELD_ASSOCIATION_CELLS:u.setFieldType(ul.CELL);break;case cl.FIELD_ASSOCIATION_POINTS:u.setFieldType(ul.POINT);break;default:Av("Unknown field association")}u.getProperties().propID=o.info.propID,u.getProperties().prop=o.info.prop,u.getProperties().compositeID=o.info.compositeID,u.getProperties().pixelCount=o.pixelCount,n&&(u.getProperties().displayPosition=[o.info.displayPosition[0],o.info.displayPosition[1],o.info.zValue],u.getProperties().worldPosition=a.displayToWorld(o.info.displayPosition[0],o.info.displayPosition[1],o.info.zValue,r)),u.setSelectionList(o.attributeIDs),i[s]=u,s++}),i}function N7(t,e,n,r,a){for(var i=Math.floor(e),s=Math.floor(n),o=Math.floor(r),c=Math.floor(a),u=new Map,f=[0,0],l=s;l<=c;l++)for(var h=i;h<=o;h++){var p=[h,l],v=oa(t,p,0,f);if(v&&v.valid){var y=Bv(v);if(!u.has(y))u.set(y,{info:v,pixelCount:1,attributeIDs:[v.attributeID]});else{var _=u.get(y);_.pixelCount++,t.captureZValues&&v.zValue<_.info.zValue&&(_.info=v),_.attributeIDs.indexOf(v.attributeID)===-1&&_.attributeIDs.push(v.attributeID)}}}return Vv(t.fieldAssociation,u,t.captureZValues,t.renderer,t.openGLRenderWindow)}function M7(t,e){e.classHierarchy.push("vtkOpenGLHardwareSelector"),t.releasePixBuffers=function(){e.pixBuffer=[],e.zBuffer=null},t.beginSelection=function(){e._openGLRenderer=e._openGLRenderWindow.getViewNodeFor(e._renderer),e.maxAttributeId=0;var r=e._openGLRenderWindow.getSize();if(!e.framebuffer)e.framebuffer=bs.newInstance(),e.framebuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.create(r[0],r[1]),e.framebuffer.populateFramebuffer();else{e.framebuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.framebuffer.saveCurrentBindingsAndBuffers();var a=e.framebuffer.getSize();a[0]!==r[0]||a[1]!==r[1]?(e.framebuffer.create(r[0],r[1]),e.framebuffer.populateFramebuffer()):e.framebuffer.bind()}e._openGLRenderer.clear(),e._openGLRenderer.setSelector(t),e.hitProps={},e.props=[],t.releasePixBuffers()},t.endSelection=function(){e.hitProps={},e._openGLRenderer.setSelector(null),e.framebuffer.restorePreviousBindingsAndBuffers()},t.preCapturePass=function(){},t.postCapturePass=function(){},t.select=function(){var r=null;return t.captureBuffers()&&(r=t.generateSelection(e.area[0],e.area[1],e.area[2],e.area[3]),t.releasePixBuffers()),r},t.getSourceDataAsync=function(){var r=ma(tr.mark(function a(i,s,o,c,u){var f,l;return tr.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(e._renderer=i,s===void 0?(f=e._openGLRenderWindow.getSize(),t.setArea(0,0,f[0]-1,f[1]-1)):t.setArea(s,o,c,u),t.captureBuffers()){p.next=4;break}return p.abrupt("return",!1);case 4:return l={area:we(e.area),pixBuffer:we(e.pixBuffer),captureZValues:e.captureZValues,zBuffer:e.zBuffer,props:we(e.props),fieldAssociation:e.fieldAssociation,renderer:i,openGLRenderWindow:e._openGLRenderWindow},l.generateSelection=function(){for(var v=arguments.length,y=new Array(v),_=0;_<v;_++)y[_]=arguments[_];return N7.apply(void 0,[l].concat(y))},p.abrupt("return",l);case 7:case"end":return p.stop()}},a)}));return function(a,i,s,o,c){return r.apply(this,arguments)}}(),t.captureBuffers=function(){if(!e._renderer||!e._openGLRenderWindow)return Av("Renderer and view must be set before calling Select."),!1;e._openGLRenderer=e._openGLRenderWindow.getViewNodeFor(e._renderer),e._openGLRenderWindow.getRenderable().preRender(),t.invokeEvent({type:"StartEvent"}),e.originalBackground=e._renderer.getBackgroundByReference(),e._renderer.setBackground(0,0,0);var r=e._openGLRenderWindow.getRenderPasses();for(t.beginSelection(),e.currentPass=pr.MIN_KNOWN_PASS;e.currentPass<=pr.COMPOSITE_INDEX_PASS;e.currentPass++)t.passRequired(e.currentPass)&&(t.preCapturePass(e.currentPass),e.captureZValues&&e.currentPass===pr.ACTOR_PASS&&typeof r[0].requestDepth=="function"&&typeof r[0].getFramebuffer=="function"&&r[0].requestDepth(),e._openGLRenderWindow.traverseAllPasses(),t.postCapturePass(e.currentPass),t.savePixelBuffer(e.currentPass));return t.endSelection(),e._renderer.setBackground(e.originalBackground),t.invokeEvent({type:"EndEvent"}),!0},t.passRequired=function(r){return!0},t.savePixelBuffer=function(r){if(e.pixBuffer[r]=e._openGLRenderWindow.getPixelData(e.area[0],e.area[1],e.area[2],e.area[3]),r===pr.ACTOR_PASS){if(e.captureZValues){var a=e._openGLRenderWindow.getRenderPasses();if(typeof a[0].requestDepth=="function"&&typeof a[0].getFramebuffer=="function"){var i=a[0].getFramebuffer();i.saveCurrentBindingsAndBuffers(),i.bind(),e.zBuffer=e._openGLRenderWindow.getPixelData(e.area[0],e.area[1],e.area[2],e.area[3]),i.restorePreviousBindingsAndBuffers()}}t.buildPropHitList(e.pixBuffer[r])}},t.buildPropHitList=function(r){for(var a=0;a<=e.area[3]-e.area[1];a++)for(var i=0;i<=e.area[2]-e.area[0];i++){var s=ci(i,a,r,e.area);s>0&&(s--,s in e.hitProps||(e.hitProps[s]=!0))}},t.renderProp=function(r){e.currentPass===pr.ACTOR_PASS&&(t.setPropColorValueFromInt(e.props.length+tn),e.props.push(r))},t.renderCompositeIndex=function(r){e.currentPass===pr.COMPOSITE_INDEX_PASS&&t.setPropColorValueFromInt(r+tn)},t.renderAttributeId=function(r){r<0||(e.maxAttributeId=r>e.maxAttributeId?r:e.maxAttributeId)},t.passTypeToString=function(r){return W.enumToString(pr,r)},t.isPropHit=function(r){return Boolean(e.hitProps[r])},t.setPropColorValueFromInt=function(r){e.propColorValue[0]=r%256/255,e.propColorValue[1]=Math.floor(r/256)%256/255,e.propColorValue[2]=Math.floor(r/65536)%256/255},t.getPixelInformation=function(r,a,i){var s=a<0?0:a;if(s===0){if(i[0]=r[0],i[1]=r[1],r[0]<e.area[0]||r[0]>e.area[2]||r[1]<e.area[1]||r[1]>e.area[3])return null;var o=[r[0]-e.area[0],r[1]-e.area[1]],c=ci(o[0],o[1],e.pixBuffer[pr.ACTOR_PASS],e.area);if(c<=0||c-tn>=e.props.length)return null;var u={};u.valid=!0,u.propID=c-tn,u.prop=e.props[u.propID];var f=ci(o[0],o[1],e.pixBuffer[pr.COMPOSITE_INDEX_PASS],e.area);if((f<0||f>16777215)&&(f=0),u.compositeID=f-tn,e.captureZValues){var l=(o[1]*(e.area[2]-e.area[0]+1)+o[0])*4;u.zValue=(256*e.zBuffer[l]+e.zBuffer[l+1])/65535,u.displayPosition=r}return u}var h=[r[0],r[1]],p=[0,0],v=t.getPixelInformation(r,0,i);if(v&&v.valid)return v;for(var y=1;y<s;++y){for(var _=h[1]>y?h[1]-y:0;_<=h[1]+y;++_)if(p[1]=_,h[0]>=y&&(p[0]=h[0]-y,v=t.getPixelInformation(p,0,i),v&&v.valid)||(p[0]=h[0]+y,v=t.getPixelInformation(p,0,i),v&&v.valid))return v;for(var m=h[0]>=y?h[0]-(y-1):0;m<=h[0]+(y-1);++m)if(p[0]=m,h[1]>=y&&(p[1]=h[1]-y,v=t.getPixelInformation(p,0,i),v&&v.valid)||(p[1]=h[1]+y,v=t.getPixelInformation(p,0,i),v&&v.valid))return v}return i[0]=r[0],i[1]=r[1],null},t.generateSelection=function(r,a,i,s){for(var o=Math.floor(r),c=Math.floor(a),u=Math.floor(i),f=Math.floor(s),l=new Map,h=[0,0],p=c;p<=f;p++)for(var v=o;v<=u;v++){var y=[v,p],_=t.getPixelInformation(y,0,h);if(_&&_.valid){var m=Bv(_);if(!l.has(m))l.set(m,{info:_,pixelCount:1,attributeIDs:[_.attributeID]});else{var d=l.get(m);d.pixelCount++,e.captureZValues&&_.zValue<d.info.zValue&&(d.info=_),d.attributeIDs.indexOf(_.attributeID)===-1&&d.attributeIDs.push(_.attributeID)}}}return Vv(e.fieldAssociation,l,e.captureZValues,e._renderer,e._openGLRenderWindow)},t.attach=function(r,a){e._openGLRenderWindow=r,e._renderer=a};var n=t.setArea;t.setArea=function(){return n.apply(void 0,arguments)?(e.area[0]=Math.floor(e.area[0]),e.area[1]=Math.floor(e.area[1]),e.area[2]=Math.floor(e.area[2]),e.area[3]=Math.floor(e.area[3]),!0):!1}}var k7={area:void 0,currentPass:-1,propColorValue:null,props:null,idOffset:1};function Uv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,k7,n),_7.extend(t,e,n),e.propColorValue=[0,0,0],e.props=[],e.area||(e.area=[0,0,0,0]),W.setGetArray(t,e,["area"],4),W.setGet(t,e,["_renderer","currentPass","_openGLRenderWindow"]),W.setGetArray(t,e,["propColorValue"],3),W.moveToProtected(t,e,["renderer","openGLRenderWindow"]),W.event(t,e,"event"),M7(t,e)}var R7=W.newInstance(Uv,"vtkOpenGLHardwareSelector"),Rs=D7({newInstance:R7,extend:Uv},Rv);function fl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function F7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fl(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Pa=Re,L7=Pi.Representation,po=Nn.ObjectType,A7=Rs.PassTypes,B7={type:"StartEvent"},V7={type:"EndEvent"};function U7(t,e){e.classHierarchy.push("vtkOpenGLGlyph3DMapper");var n=F7({},t);t.renderPiece=function(r,a){if(t.invokeEvent(B7),e.renderable.getStatic()||e.renderable.update(),e.currentInput=e.renderable.getInputData(1),t.invokeEvent(V7),!e.currentInput){Pa("No input!");return}if(!(!e.currentInput.getPoints||!e.currentInput.getPoints().getNumberOfValues())){var i=e.context;e._openGLRenderWindow.getWebgl2()?(e.hardwareSupport=!0,e.extension=null):e.extension||(e.extension=e.context.getExtension("ANGLE_instanced_arrays"),e.hardwareSupport=!!e.extension);var s=a.getProperty().getBackfaceCulling(),o=a.getProperty().getFrontfaceCulling();!s&&!o?e._openGLRenderWindow.disableCullFace():o?(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.FRONT)):(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.BACK)),t.renderPieceStart(r,a),t.renderPieceDraw(r,a),t.renderPieceFinish(r,a)}},t.multiply4x4WithOffset=function(r,a,i,s){var o=a[0],c=a[1],u=a[2],f=a[3],l=a[4],h=a[5],p=a[6],v=a[7],y=a[8],_=a[9],m=a[10],d=a[11],g=a[12],x=a[13],w=a[14],C=a[15],S=i[s],T=i[s+1],b=i[s+2],O=i[s+3];r[0]=S*o+T*l+b*y+O*g,r[1]=S*c+T*h+b*_+O*x,r[2]=S*u+T*p+b*m+O*w,r[3]=S*f+T*v+b*d+O*C,S=i[s+4],T=i[s+5],b=i[s+6],O=i[s+7],r[4]=S*o+T*l+b*y+O*g,r[5]=S*c+T*h+b*_+O*x,r[6]=S*u+T*p+b*m+O*w,r[7]=S*f+T*v+b*d+O*C,S=i[s+8],T=i[s+9],b=i[s+10],O=i[s+11],r[8]=S*o+T*l+b*y+O*g,r[9]=S*c+T*h+b*_+O*x,r[10]=S*u+T*p+b*m+O*w,r[11]=S*f+T*v+b*d+O*C,S=i[s+12],T=i[s+13],b=i[s+14],O=i[s+15],r[12]=S*o+T*l+b*y+O*g,r[13]=S*c+T*h+b*_+O*x,r[14]=S*u+T*p+b*m+O*w,r[15]=S*f+T*v+b*d+O*C},t.replaceShaderNormal=function(r,a,i){if(e.hardwareSupport){var s=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(s>0){var o=r.Vertex;e.lastBoundBO.getCABO().getNormalOffset()&&(o=fe.substitute(o,"//VTK::Normal::Dec",["attribute vec3 normalMC;","attribute mat3 gNormal;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,o=fe.substitute(o,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * gNormal * normalMC;"]).result),r.Vertex=o}}n.replaceShaderNormal(r,a,i)},t.replaceShaderColor=function(r,a,i){if(e.hardwareSupport&&e.renderable.getColorArray()){var s=r.Vertex,o=r.Geometry,c=r.Fragment,u=e.lastBoundBO.getReferenceByName("lastLightComplexity"),f=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity"];u&&(f=f.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));var l=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];u&&(l=l.concat(["  vec3 specularColor;","  float specularPower;"])),l=l.concat(["  opacity = opacityUniform;"]),u&&(l=l.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),e.drawingEdges||(f=f.concat(["varying vec4 vertexColorVSOutput;"]),s=fe.substitute(s,"//VTK::Color::Dec",["attribute vec4 gColor;","varying vec4 vertexColorVSOutput;"]).result,s=fe.substitute(s,"//VTK::Color::Impl",["vertexColorVSOutput = gColor;"]).result,o=fe.substitute(o,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,o=fe.substitute(o,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result,l=l.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])),c=fe.substitute(c,"//VTK::Color::Impl",l).result,c=fe.substitute(c,"//VTK::Color::Dec",f).result,r.Vertex=s,r.Geometry=o,r.Fragment=c}n.replaceShaderColor(r,a,i)},t.replaceShaderPositionVC=function(r,a,i){if(e.hardwareSupport){var s=r.Vertex,o=e.lastBoundBO.getReferenceByName("lastLightComplexity");o>0?(s=fe.substitute(s,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","vertexVCVSOutput = MCVCMatrix * gVertexMC;","  gl_Position = MCPCMatrix * gVertexMC;"]).result,s=fe.substitute(s,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result):(s=fe.substitute(s,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCPCMatrix;"]).result,s=fe.substitute(s,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","  gl_Position = MCPCMatrix * gVertexMC;"]).result),r.Vertex=s}n.replaceShaderPositionVC(r,a,i)},t.replaceShaderPicking=function(r,a,i){if(e.hardwareSupport){var s=r.Fragment,o=r.Vertex;o=fe.substitute(o,"//VTK::Picking::Dec",["attribute vec3 mapperIndexVS;","varying vec3 mapperIndexVSOutput;"]).result,o=fe.substitute(o,"//VTK::Picking::Impl","  mapperIndexVSOutput = mapperIndexVS;").result,r.Vertex=o,s=fe.substitute(s,"//VTK::Picking::Dec",["varying vec3 mapperIndexVSOutput;","uniform vec3 mapperIndex;","uniform int picking;"]).result,s=fe.substitute(s,"//VTK::Picking::Impl",["  vec4 pickColor = picking == 2 ? vec4(mapperIndexVSOutput,1.0) : vec4(mapperIndex,1.0);","  gl_FragData[0] = picking != 0 ? pickColor : gl_FragData[0];"]).result,r.Fragment=s}else n.replaceShaderPicking(r,a,i)},t.updateGlyphShaderParameters=function(r,a,i,s,o,c,u,f){var l=i.getProgram();if(r){var h=e.normalMatrix,p=c,v=u*9,y=e.tmpMat3,_=h[0],m=h[1],d=h[2],g=h[3],x=h[4],w=h[5],C=h[6],S=h[7],T=h[8],b=p[v],O=p[v+1],D=p[v+2],M=p[v+3],R=p[v+4],E=p[v+5],B=p[v+6],I=p[v+7],P=p[v+8];y[0]=b*_+O*g+D*C,y[1]=b*m+O*x+D*S,y[2]=b*d+O*w+D*T,y[3]=M*_+R*g+E*C,y[4]=M*m+R*x+E*S,y[5]=M*d+R*w+E*T,y[6]=B*_+I*g+P*C,y[7]=B*m+I*x+P*S,y[8]=B*d+I*w+P*T,l.setUniformMatrix3x3("normalMatrix",e.tmpMat3)}if(t.multiply4x4WithOffset(e.tmpMat4,e.mcpcMatrix,o,u*16),l.setUniformMatrix("MCPCMatrix",e.tmpMat4),a&&(t.multiply4x4WithOffset(e.tmpMat4,e.mcvcMatrix,o,u*16),l.setUniformMatrix("MCVCMatrix",e.tmpMat4)),s){var L=s.getData();e.tmpColor[0]=L[u*4]/255,e.tmpColor[1]=L[u*4+1]/255,e.tmpColor[2]=L[u*4+2]/255,l.setUniform3fArray("ambientColorUniform",e.tmpColor),l.setUniform3fArray("diffuseColorUniform",e.tmpColor)}f&&l.setUniform3fArray("mapperIndex",f.getPropColorValue())},t.renderPieceDraw=function(r,a){var i=a.getProperty().getRepresentation(),s=e.context,o=a.getProperty().getEdgeVisibility()&&i===L7.SURFACE,c=e.openGLCamera.getKeyMatrices(r),u=e.openGLActor.getKeyMatrices();pi(e.normalMatrix,c.normalMatrix,u.normalMatrix),ct(e.mcpcMatrix,c.wcpc,u.mcwc),ct(e.mcvcMatrix,c.wcvc,u.mcwc);var f=e.renderable.getMatrixArray(),l=e.renderable.getNormalArray(),h=e.renderable.getColorArray(),p=f.length/16,v=!1;e.openGLRenderer.getSelector()&&e.openGLRenderer.getSelector().getCurrentPass()===A7.COMPOSITE_INDEX_PASS&&(v=!0);for(var y=e.primTypes.Start;y<e.primTypes.End;y++){var _=e.primitives[y].getCABO();if(_.getElementCount()){e.drawingEdges=o&&(y===e.primTypes.TrisEdges||y===e.primTypes.TriStripsEdges),e.lastBoundBO=e.primitives[y],e.primitives[y].updateShaders(r,a,t);var m=e.primitives[y].getProgram(),d=e.primitives[y].getOpenGLMode(i),g=m.isUniformUsed("normalMatrix"),x=m.isUniformUsed("MCVCMatrix");if(e.hardwareSupport)e.extension?e.extension.drawArraysInstancedANGLE(d,0,_.getElementCount(),p):s.drawArraysInstanced(d,0,_.getElementCount(),p);else for(var w=0;w<p;++w)v&&e.openGLRenderer.getSelector().renderCompositeIndex(w),t.updateGlyphShaderParameters(g,x,e.primitives[y],h,f,l,w,v?e.openGLRenderer.getSelector():null),s.drawArrays(d,0,_.getElementCount())}}},t.setMapperShaderParameters=function(r,a,i){if(r.getCABO().getElementCount()&&(e.glyphBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())){r.getProgram().isAttributeUsed("gMatrix")?r.getVAO().addAttributeMatrixWithDivisor(r.getProgram(),e.matrixBuffer,"gMatrix",0,64,e.context.FLOAT,4,!1,1)||Pa("Error setting gMatrix in shader VAO."):r.getVAO().removeAttributeArray("gMatrix"),r.getProgram().isAttributeUsed("gNormal")?r.getVAO().addAttributeMatrixWithDivisor(r.getProgram(),e.normalBuffer,"gNormal",0,36,e.context.FLOAT,3,!1,1)||Pa("Error setting gNormal in shader VAO."):r.getVAO().removeAttributeArray("gNormal"),r.getProgram().isAttributeUsed("gColor")?r.getVAO().addAttributeArrayWithDivisor(r.getProgram(),e.colorBuffer,"gColor",0,4,e.context.UNSIGNED_BYTE,4,!0,1,!1)||Pa("Error setting gColor in shader VAO."):r.getVAO().removeAttributeArray("gColor"),r.getProgram().isAttributeUsed("mapperIndexVS")?r.getVAO().addAttributeArrayWithDivisor(r.getProgram(),e.pickBuffer,"mapperIndexVS",0,4,e.context.UNSIGNED_BYTE,4,!0,1,!1)||Pa("Error setting mapperIndexVS in shader VAO."):r.getVAO().removeAttributeArray("mapperIndexVS"),n.setMapperShaderParameters(r,a,i),r.getAttributeUpdateTime().modified();return}n.setMapperShaderParameters(r,a,i)},t.getNeedToRebuildBufferObjects=function(r,a){e.renderable.buildArrays();var i=e.VBOBuildTime.getMTime();return i<e.renderable.getBuildTime().getMTime()?!0:n.getNeedToRebuildBufferObjects(r,a)},t.getNeedToRebuildShaders=function(r,a,i){return!!(n.getNeedToRebuildShaders(r,a,i)||r.getShaderSourceTime().getMTime()<e.renderable.getMTime()||r.getShaderSourceTime().getMTime()<e.currentInput.getMTime())},t.buildBufferObjects=function(r,a){if(e.hardwareSupport){var i=e.renderable.getMatrixArray(),s=e.renderable.getNormalArray(),o=e.renderable.getColorArray();if(e.matrixBuffer||(e.matrixBuffer=Nn.newInstance(),e.matrixBuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.normalBuffer=Nn.newInstance(),e.normalBuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.colorBuffer=Nn.newInstance(),e.colorBuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.pickBuffer=Nn.newInstance(),e.pickBuffer.setOpenGLRenderWindow(e._openGLRenderWindow)),e.renderable.getBuildTime().getMTime()>e.glyphBOBuildTime.getMTime()){e.matrixBuffer.upload(i,po.ARRAY_BUFFER),e.normalBuffer.upload(s,po.ARRAY_BUFFER),o?e.colorBuffer.upload(o.getData(),po.ARRAY_BUFFER):e.colorBuffer.releaseGraphicsResources();for(var c=i.length/16,u=new Uint8Array(4*c),f=0;f<c;++f){var l=f+1,h=f*4;u[h]=l%256,l-=u[h],l/=256,u[h+1]=l%256,l-=u[h+1],l/=256,u[h+2]=l%256,u[h+3]=255}e.pickBuffer.upload(u,po.ARRAY_BUFFER),e.glyphBOBuildTime.modified()}}return n.buildBufferObjects(r,a)}}var G7={normalMatrix:null,mcpcMatrix:null,mcwcMatrix:null};function P7(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,G7,n),P6.extend(t,e,n),e.tmpMat3=Nr(new Float64Array(9)),e.normalMatrix=Nr(new Float64Array(9)),e.mcpcMatrix=Ae(new Float64Array(16)),e.mcvcMatrix=Ae(new Float64Array(16)),e.tmpColor=[],e.glyphBOBuildTime={},Et(e.glyphBOBuildTime,{mtime:0}),U7(t,e)}var j7=st(P7,"vtkOpenGLGlyph3DMapper");Bt("vtkGlyph3DMapper",j7);/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const z7=4,ll=0,hl=1,W7=2;function Ra(t){let e=t.length;for(;--e>=0;)t[e]=0}const I7=0,Gv=1,$7=2,H7=3,K7=258,yc=29,zi=256,wi=zi+1+yc,_a=30,mc=19,Pv=2*wi+1,kn=15,u0=16,X7=7,_c=256,jv=16,zv=17,Wv=18,gu=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Go=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),q7=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Iv=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Y7=512,Ur=new Array((wi+2)*2);Ra(Ur);const fi=new Array(_a*2);Ra(fi);const Ci=new Array(Y7);Ra(Ci);const Si=new Array(K7-H7+1);Ra(Si);const xc=new Array(yc);Ra(xc);const ss=new Array(_a);Ra(ss);function c0(t,e,n,r,a){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=t&&t.length}let $v,Hv,Kv;function f0(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const Xv=t=>t<256?Ci[t]:Ci[256+(t>>>7)],Ti=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},$t=(t,e,n)=>{t.bi_valid>u0-n?(t.bi_buf|=e<<t.bi_valid&65535,Ti(t,t.bi_buf),t.bi_buf=e>>u0-t.bi_valid,t.bi_valid+=n-u0):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},br=(t,e,n)=>{$t(t,n[e*2],n[e*2+1])},qv=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},Z7=t=>{t.bi_valid===16?(Ti(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},J7=(t,e)=>{const n=e.dyn_tree,r=e.max_code,a=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,c=e.stat_desc.max_length;let u,f,l,h,p,v,y=0;for(h=0;h<=kn;h++)t.bl_count[h]=0;for(n[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<Pv;u++)f=t.heap[u],h=n[n[f*2+1]*2+1]+1,h>c&&(h=c,y++),n[f*2+1]=h,!(f>r)&&(t.bl_count[h]++,p=0,f>=o&&(p=s[f-o]),v=n[f*2],t.opt_len+=v*(h+p),i&&(t.static_len+=v*(a[f*2+1]+p)));if(y!==0){do{for(h=c-1;t.bl_count[h]===0;)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[c]--,y-=2}while(y>0);for(h=c;h!==0;h--)for(f=t.bl_count[h];f!==0;)l=t.heap[--u],!(l>r)&&(n[l*2+1]!==h&&(t.opt_len+=(h-n[l*2+1])*n[l*2],n[l*2+1]=h),f--)}},Yv=(t,e,n)=>{const r=new Array(kn+1);let a=0,i,s;for(i=1;i<=kn;i++)r[i]=a=a+n[i-1]<<1;for(s=0;s<=e;s++){let o=t[s*2+1];o!==0&&(t[s*2]=qv(r[o]++,o))}},Q7=()=>{let t,e,n,r,a;const i=new Array(kn+1);for(n=0,r=0;r<yc-1;r++)for(xc[r]=n,t=0;t<1<<gu[r];t++)Si[n++]=r;for(Si[n-1]=r,a=0,r=0;r<16;r++)for(ss[r]=a,t=0;t<1<<Go[r];t++)Ci[a++]=r;for(a>>=7;r<_a;r++)for(ss[r]=a<<7,t=0;t<1<<Go[r]-7;t++)Ci[256+a++]=r;for(e=0;e<=kn;e++)i[e]=0;for(t=0;t<=143;)Ur[t*2+1]=8,t++,i[8]++;for(;t<=255;)Ur[t*2+1]=9,t++,i[9]++;for(;t<=279;)Ur[t*2+1]=7,t++,i[7]++;for(;t<=287;)Ur[t*2+1]=8,t++,i[8]++;for(Yv(Ur,wi+1,i),t=0;t<_a;t++)fi[t*2+1]=5,fi[t*2]=qv(t,5);$v=new c0(Ur,gu,zi+1,wi,kn),Hv=new c0(fi,Go,0,_a,kn),Kv=new c0(new Array(0),q7,0,mc,X7)},Zv=t=>{let e;for(e=0;e<wi;e++)t.dyn_ltree[e*2]=0;for(e=0;e<_a;e++)t.dyn_dtree[e*2]=0;for(e=0;e<mc;e++)t.bl_tree[e*2]=0;t.dyn_ltree[_c*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},Jv=t=>{t.bi_valid>8?Ti(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},e_=(t,e,n,r)=>{Jv(t),r&&(Ti(t,n),Ti(t,~n)),t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},pl=(t,e,n,r)=>{const a=e*2,i=n*2;return t[a]<t[i]||t[a]===t[i]&&r[e]<=r[n]},l0=(t,e,n)=>{const r=t.heap[n];let a=n<<1;for(;a<=t.heap_len&&(a<t.heap_len&&pl(e,t.heap[a+1],t.heap[a],t.depth)&&a++,!pl(e,r,t.heap[a],t.depth));)t.heap[n]=t.heap[a],n=a,a<<=1;t.heap[n]=r},vl=(t,e,n)=>{let r,a,i=0,s,o;if(t.last_lit!==0)do r=t.pending_buf[t.d_buf+i*2]<<8|t.pending_buf[t.d_buf+i*2+1],a=t.pending_buf[t.l_buf+i],i++,r===0?br(t,a,e):(s=Si[a],br(t,s+zi+1,e),o=gu[s],o!==0&&(a-=xc[s],$t(t,a,o)),r--,s=Xv(r),br(t,s,n),o=Go[s],o!==0&&(r-=ss[s],$t(t,r,o)));while(i<t.last_lit);br(t,_c,e)},yu=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,a=e.stat_desc.has_stree,i=e.stat_desc.elems;let s,o,c=-1,u;for(t.heap_len=0,t.heap_max=Pv,s=0;s<i;s++)n[s*2]!==0?(t.heap[++t.heap_len]=c=s,t.depth[s]=0):n[s*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=c<2?++c:0,n[u*2]=1,t.depth[u]=0,t.opt_len--,a&&(t.static_len-=r[u*2+1]);for(e.max_code=c,s=t.heap_len>>1;s>=1;s--)l0(t,n,s);u=i;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],l0(t,n,1),o=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=o,n[u*2]=n[s*2]+n[o*2],t.depth[u]=(t.depth[s]>=t.depth[o]?t.depth[s]:t.depth[o])+1,n[s*2+1]=n[o*2+1]=u,t.heap[1]=u++,l0(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],J7(t,e),Yv(n,c,t.bl_count)},dl=(t,e,n)=>{let r,a=-1,i,s=e[0*2+1],o=0,c=7,u=4;for(s===0&&(c=138,u=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)i=s,s=e[(r+1)*2+1],!(++o<c&&i===s)&&(o<u?t.bl_tree[i*2]+=o:i!==0?(i!==a&&t.bl_tree[i*2]++,t.bl_tree[jv*2]++):o<=10?t.bl_tree[zv*2]++:t.bl_tree[Wv*2]++,o=0,a=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))},gl=(t,e,n)=>{let r,a=-1,i,s=e[0*2+1],o=0,c=7,u=4;for(s===0&&(c=138,u=3),r=0;r<=n;r++)if(i=s,s=e[(r+1)*2+1],!(++o<c&&i===s)){if(o<u)do br(t,i,t.bl_tree);while(--o!==0);else i!==0?(i!==a&&(br(t,i,t.bl_tree),o--),br(t,jv,t.bl_tree),$t(t,o-3,2)):o<=10?(br(t,zv,t.bl_tree),$t(t,o-3,3)):(br(t,Wv,t.bl_tree),$t(t,o-11,7));o=0,a=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}},t_=t=>{let e;for(dl(t,t.dyn_ltree,t.l_desc.max_code),dl(t,t.dyn_dtree,t.d_desc.max_code),yu(t,t.bl_desc),e=mc-1;e>=3&&t.bl_tree[Iv[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},r_=(t,e,n,r)=>{let a;for($t(t,e-257,5),$t(t,n-1,5),$t(t,r-4,4),a=0;a<r;a++)$t(t,t.bl_tree[Iv[a]*2+1],3);gl(t,t.dyn_ltree,e-1),gl(t,t.dyn_dtree,n-1)},n_=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return ll;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return hl;for(n=32;n<zi;n++)if(t.dyn_ltree[n*2]!==0)return hl;return ll};let yl=!1;const a_=t=>{yl||(Q7(),yl=!0),t.l_desc=new f0(t.dyn_ltree,$v),t.d_desc=new f0(t.dyn_dtree,Hv),t.bl_desc=new f0(t.bl_tree,Kv),t.bi_buf=0,t.bi_valid=0,Zv(t)},Qv=(t,e,n,r)=>{$t(t,(I7<<1)+(r?1:0),3),e_(t,e,n,!0)},i_=t=>{$t(t,Gv<<1,3),br(t,_c,Ur),Z7(t)},o_=(t,e,n,r)=>{let a,i,s=0;t.level>0?(t.strm.data_type===W7&&(t.strm.data_type=n_(t)),yu(t,t.l_desc),yu(t,t.d_desc),s=t_(t),a=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=a&&(a=i)):a=i=n+5,n+4<=a&&e!==-1?Qv(t,e,n,r):t.strategy===z7||i===a?($t(t,(Gv<<1)+(r?1:0),3),vl(t,Ur,fi)):($t(t,($7<<1)+(r?1:0),3),r_(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),vl(t,t.dyn_ltree,t.dyn_dtree)),Zv(t),r&&Jv(t)},s_=(t,e,n)=>(t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=n&255,t.last_lit++,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(Si[n]+zi+1)*2]++,t.dyn_dtree[Xv(e)*2]++),t.last_lit===t.lit_bufsize-1);var u_=a_,c_=Qv,f_=o_,l_=s_,h_=i_,p_={_tr_init:u_,_tr_stored_block:c_,_tr_flush_block:f_,_tr_tally:l_,_tr_align:h_};const v_=(t,e,n,r)=>{let a=t&65535|0,i=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do a=a+e[r++]|0,i=i+a|0;while(--s);a%=65521,i%=65521}return a|i<<16|0};var bi=v_;const d_=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},g_=new Uint32Array(d_()),y_=(t,e,n,r)=>{const a=g_,i=r+n;t^=-1;for(let s=r;s<i;s++)t=t>>>8^a[(t^e[s])&255];return t^-1};var mt=y_,Wn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Kn={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:m_,_tr_stored_block:__,_tr_flush_block:x_,_tr_tally:sn,_tr_align:w_}=p_,{Z_NO_FLUSH:Xn,Z_PARTIAL_FLUSH:C_,Z_FULL_FLUSH:S_,Z_FINISH:un,Z_BLOCK:ml,Z_OK:Er,Z_STREAM_END:_l,Z_STREAM_ERROR:nr,Z_DATA_ERROR:T_,Z_BUF_ERROR:h0,Z_DEFAULT_COMPRESSION:b_,Z_FILTERED:E_,Z_HUFFMAN_ONLY:vo,Z_RLE:D_,Z_FIXED:O_,Z_DEFAULT_STRATEGY:N_,Z_UNKNOWN:M_,Z_DEFLATED:Fs}=Kn,k_=9,R_=15,F_=8,L_=29,A_=256,mu=A_+1+L_,B_=30,V_=19,U_=2*mu+1,G_=15,We=3,an=258,_r=an+We+1,P_=32,Ls=42,_u=69,Po=73,jo=91,zo=103,Rn=113,Qa=666,pt=1,Wi=2,In=3,Fa=4,j_=3,on=(t,e)=>(t.msg=Wn[e],e),xl=t=>(t<<1)-(t>4?9:0),rn=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let z_=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,cn=z_;const Yr=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},bt=(t,e)=>{x_(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Yr(t.strm)},$e=(t,e)=>{t.pending_buf[t.pending++]=e},ja=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},W_=(t,e,n,r)=>{let a=t.avail_in;return a>r&&(a=r),a===0?0:(t.avail_in-=a,e.set(t.input.subarray(t.next_in,t.next_in+a),n),t.state.wrap===1?t.adler=bi(t.adler,e,a,n):t.state.wrap===2&&(t.adler=mt(t.adler,e,a,n)),t.next_in+=a,t.total_in+=a,a)},ed=(t,e)=>{let n=t.max_chain_length,r=t.strstart,a,i,s=t.prev_length,o=t.nice_match;const c=t.strstart>t.w_size-_r?t.strstart-(t.w_size-_r):0,u=t.window,f=t.w_mask,l=t.prev,h=t.strstart+an;let p=u[r+s-1],v=u[r+s];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do if(a=e,!(u[a+s]!==v||u[a+s-1]!==p||u[a]!==u[r]||u[++a]!==u[r+1])){r+=2,a++;do;while(u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&r<h);if(i=an-(h-r),r=h-an,i>s){if(t.match_start=e,s=i,i>=o)break;p=u[r+s-1],v=u[r+s]}}while((e=l[e&f])>c&&--n!==0);return s<=t.lookahead?s:t.lookahead},$n=t=>{const e=t.w_size;let n,r,a,i,s;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-_r)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,r=t.hash_size,n=r;do a=t.head[--n],t.head[n]=a>=e?a-e:0;while(--r);r=e,n=r;do a=t.prev[--n],t.prev[n]=a>=e?a-e:0;while(--r);i+=e}if(t.strm.avail_in===0)break;if(r=W_(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=r,t.lookahead+t.insert>=We)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=cn(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=cn(t,t.ins_h,t.window[s+We-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<We)););}while(t.lookahead<_r&&t.strm.avail_in!==0)},I_=(t,e)=>{let n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if($n(t),t.lookahead===0&&e===Xn)return pt;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;const r=t.block_start+n;if((t.strstart===0||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,bt(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-_r&&(bt(t,!1),t.strm.avail_out===0))return pt}return t.insert=0,e===un?(bt(t,!0),t.strm.avail_out===0?In:Fa):(t.strstart>t.block_start&&(bt(t,!1),t.strm.avail_out===0),pt)},p0=(t,e)=>{let n,r;for(;;){if(t.lookahead<_r){if($n(t),t.lookahead<_r&&e===Xn)return pt;if(t.lookahead===0)break}if(n=0,t.lookahead>=We&&(t.ins_h=cn(t,t.ins_h,t.window[t.strstart+We-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-_r&&(t.match_length=ed(t,n)),t.match_length>=We)if(r=sn(t,t.strstart-t.match_start,t.match_length-We),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=We){t.match_length--;do t.strstart++,t.ins_h=cn(t,t.ins_h,t.window[t.strstart+We-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=cn(t,t.ins_h,t.window[t.strstart+1]);else r=sn(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(bt(t,!1),t.strm.avail_out===0))return pt}return t.insert=t.strstart<We-1?t.strstart:We-1,e===un?(bt(t,!0),t.strm.avail_out===0?In:Fa):t.last_lit&&(bt(t,!1),t.strm.avail_out===0)?pt:Wi},ta=(t,e)=>{let n,r,a;for(;;){if(t.lookahead<_r){if($n(t),t.lookahead<_r&&e===Xn)return pt;if(t.lookahead===0)break}if(n=0,t.lookahead>=We&&(t.ins_h=cn(t,t.ins_h,t.window[t.strstart+We-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=We-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-_r&&(t.match_length=ed(t,n),t.match_length<=5&&(t.strategy===E_||t.match_length===We&&t.strstart-t.match_start>4096)&&(t.match_length=We-1)),t.prev_length>=We&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-We,r=sn(t,t.strstart-1-t.prev_match,t.prev_length-We),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=a&&(t.ins_h=cn(t,t.ins_h,t.window[t.strstart+We-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=We-1,t.strstart++,r&&(bt(t,!1),t.strm.avail_out===0))return pt}else if(t.match_available){if(r=sn(t,0,t.window[t.strstart-1]),r&&bt(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return pt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=sn(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<We-1?t.strstart:We-1,e===un?(bt(t,!0),t.strm.avail_out===0?In:Fa):t.last_lit&&(bt(t,!1),t.strm.avail_out===0)?pt:Wi},$_=(t,e)=>{let n,r,a,i;const s=t.window;for(;;){if(t.lookahead<=an){if($n(t),t.lookahead<=an&&e===Xn)return pt;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=We&&t.strstart>0&&(a=t.strstart-1,r=s[a],r===s[++a]&&r===s[++a]&&r===s[++a])){i=t.strstart+an;do;while(r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&a<i);t.match_length=an-(i-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=We?(n=sn(t,1,t.match_length-We),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=sn(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(bt(t,!1),t.strm.avail_out===0))return pt}return t.insert=0,e===un?(bt(t,!0),t.strm.avail_out===0?In:Fa):t.last_lit&&(bt(t,!1),t.strm.avail_out===0)?pt:Wi},H_=(t,e)=>{let n;for(;;){if(t.lookahead===0&&($n(t),t.lookahead===0)){if(e===Xn)return pt;break}if(t.match_length=0,n=sn(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(bt(t,!1),t.strm.avail_out===0))return pt}return t.insert=0,e===un?(bt(t,!0),t.strm.avail_out===0?In:Fa):t.last_lit&&(bt(t,!1),t.strm.avail_out===0)?pt:Wi};function wr(t,e,n,r,a){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=a}const ei=[new wr(0,0,0,0,I_),new wr(4,4,8,4,p0),new wr(4,5,16,8,p0),new wr(4,6,32,32,p0),new wr(4,4,16,16,ta),new wr(8,16,32,32,ta),new wr(8,16,128,128,ta),new wr(8,32,128,256,ta),new wr(32,128,258,1024,ta),new wr(32,258,258,4096,ta)],K_=t=>{t.window_size=2*t.w_size,rn(t.head),t.max_lazy_match=ei[t.level].max_lazy,t.good_match=ei[t.level].good_length,t.nice_match=ei[t.level].nice_length,t.max_chain_length=ei[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=We-1,t.match_available=0,t.ins_h=0};function X_(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Fs,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(U_*2),this.dyn_dtree=new Uint16Array((2*B_+1)*2),this.bl_tree=new Uint16Array((2*V_+1)*2),rn(this.dyn_ltree),rn(this.dyn_dtree),rn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(G_+1),this.heap=new Uint16Array(2*mu+1),rn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*mu+1),rn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const td=t=>{if(!t||!t.state)return on(t,nr);t.total_in=t.total_out=0,t.data_type=M_;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Ls:Rn,t.adler=e.wrap===2?0:1,e.last_flush=Xn,m_(e),Er},rd=t=>{const e=td(t);return e===Er&&K_(t.state),e},q_=(t,e)=>!t||!t.state||t.state.wrap!==2?nr:(t.state.gzhead=e,Er),nd=(t,e,n,r,a,i)=>{if(!t)return nr;let s=1;if(e===b_&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>k_||n!==Fs||r<8||r>15||e<0||e>9||i<0||i>O_)return on(t,nr);r===8&&(r=9);const o=new X_;return t.state=o,o.strm=t,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+We-1)/We),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=(1+2)*o.lit_bufsize,o.level=e,o.strategy=i,o.method=n,rd(t)},Y_=(t,e)=>nd(t,e,Fs,R_,F_,N_),Z_=(t,e)=>{let n,r;if(!t||!t.state||e>ml||e<0)return t?on(t,nr):nr;const a=t.state;if(!t.output||!t.input&&t.avail_in!==0||a.status===Qa&&e!==un)return on(t,t.avail_out===0?h0:nr);a.strm=t;const i=a.last_flush;if(a.last_flush=e,a.status===Ls)if(a.wrap===2)t.adler=0,$e(a,31),$e(a,139),$e(a,8),a.gzhead?($e(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),$e(a,a.gzhead.time&255),$e(a,a.gzhead.time>>8&255),$e(a,a.gzhead.time>>16&255),$e(a,a.gzhead.time>>24&255),$e(a,a.level===9?2:a.strategy>=vo||a.level<2?4:0),$e(a,a.gzhead.os&255),a.gzhead.extra&&a.gzhead.extra.length&&($e(a,a.gzhead.extra.length&255),$e(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=mt(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=_u):($e(a,0),$e(a,0),$e(a,0),$e(a,0),$e(a,0),$e(a,a.level===9?2:a.strategy>=vo||a.level<2?4:0),$e(a,j_),a.status=Rn);else{let s=Fs+(a.w_bits-8<<4)<<8,o=-1;a.strategy>=vo||a.level<2?o=0:a.level<6?o=1:a.level===6?o=2:o=3,s|=o<<6,a.strstart!==0&&(s|=P_),s+=31-s%31,a.status=Rn,ja(a,s),a.strstart!==0&&(ja(a,t.adler>>>16),ja(a,t.adler&65535)),t.adler=1}if(a.status===_u)if(a.gzhead.extra){for(n=a.pending;a.gzindex<(a.gzhead.extra.length&65535)&&!(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(t.adler=mt(t.adler,a.pending_buf,a.pending-n,n)),Yr(t),n=a.pending,a.pending===a.pending_buf_size));)$e(a,a.gzhead.extra[a.gzindex]&255),a.gzindex++;a.gzhead.hcrc&&a.pending>n&&(t.adler=mt(t.adler,a.pending_buf,a.pending-n,n)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=Po)}else a.status=Po;if(a.status===Po)if(a.gzhead.name){n=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(t.adler=mt(t.adler,a.pending_buf,a.pending-n,n)),Yr(t),n=a.pending,a.pending===a.pending_buf_size)){r=1;break}a.gzindex<a.gzhead.name.length?r=a.gzhead.name.charCodeAt(a.gzindex++)&255:r=0,$e(a,r)}while(r!==0);a.gzhead.hcrc&&a.pending>n&&(t.adler=mt(t.adler,a.pending_buf,a.pending-n,n)),r===0&&(a.gzindex=0,a.status=jo)}else a.status=jo;if(a.status===jo)if(a.gzhead.comment){n=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(t.adler=mt(t.adler,a.pending_buf,a.pending-n,n)),Yr(t),n=a.pending,a.pending===a.pending_buf_size)){r=1;break}a.gzindex<a.gzhead.comment.length?r=a.gzhead.comment.charCodeAt(a.gzindex++)&255:r=0,$e(a,r)}while(r!==0);a.gzhead.hcrc&&a.pending>n&&(t.adler=mt(t.adler,a.pending_buf,a.pending-n,n)),r===0&&(a.status=zo)}else a.status=zo;if(a.status===zo&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&Yr(t),a.pending+2<=a.pending_buf_size&&($e(a,t.adler&255),$e(a,t.adler>>8&255),t.adler=0,a.status=Rn)):a.status=Rn),a.pending!==0){if(Yr(t),t.avail_out===0)return a.last_flush=-1,Er}else if(t.avail_in===0&&xl(e)<=xl(i)&&e!==un)return on(t,h0);if(a.status===Qa&&t.avail_in!==0)return on(t,h0);if(t.avail_in!==0||a.lookahead!==0||e!==Xn&&a.status!==Qa){let s=a.strategy===vo?H_(a,e):a.strategy===D_?$_(a,e):ei[a.level].func(a,e);if((s===In||s===Fa)&&(a.status=Qa),s===pt||s===In)return t.avail_out===0&&(a.last_flush=-1),Er;if(s===Wi&&(e===C_?w_(a):e!==ml&&(__(a,0,0,!1),e===S_&&(rn(a.head),a.lookahead===0&&(a.strstart=0,a.block_start=0,a.insert=0))),Yr(t),t.avail_out===0))return a.last_flush=-1,Er}return e!==un?Er:a.wrap<=0?_l:(a.wrap===2?($e(a,t.adler&255),$e(a,t.adler>>8&255),$e(a,t.adler>>16&255),$e(a,t.adler>>24&255),$e(a,t.total_in&255),$e(a,t.total_in>>8&255),$e(a,t.total_in>>16&255),$e(a,t.total_in>>24&255)):(ja(a,t.adler>>>16),ja(a,t.adler&65535)),Yr(t),a.wrap>0&&(a.wrap=-a.wrap),a.pending!==0?Er:_l)},J_=t=>{if(!t||!t.state)return nr;const e=t.state.status;return e!==Ls&&e!==_u&&e!==Po&&e!==jo&&e!==zo&&e!==Rn&&e!==Qa?on(t,nr):(t.state=null,e===Rn?on(t,T_):Er)},Q_=(t,e)=>{let n=e.length;if(!t||!t.state)return nr;const r=t.state,a=r.wrap;if(a===2||a===1&&r.status!==Ls||r.lookahead)return nr;if(a===1&&(t.adler=bi(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){a===0&&(rn(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(e.subarray(n-r.w_size,n),0),e=c,n=r.w_size}const i=t.avail_in,s=t.next_in,o=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,$n(r);r.lookahead>=We;){let c=r.strstart,u=r.lookahead-(We-1);do r.ins_h=cn(r,r.ins_h,r.window[c+We-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=We-1,$n(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=We-1,r.match_available=0,t.next_in=s,t.input=o,t.avail_in=i,r.wrap=a,Er};var ex=Y_,tx=nd,rx=rd,nx=td,ax=q_,ix=Z_,ox=J_,sx=Q_,ux="pako deflate (from Nodeca project)",li={deflateInit:ex,deflateInit2:tx,deflateReset:rx,deflateResetKeep:nx,deflateSetHeader:ax,deflate:ix,deflateEnd:ox,deflateSetDictionary:sx,deflateInfo:ux};const cx=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var fx=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(!!n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)cx(n,r)&&(t[r]=n[r])}}return t},lx=t=>{let e=0;for(let r=0,a=t.length;r<a;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,a=0,i=t.length;r<i;r++){let s=t[r];n.set(s,a),a+=s.length}return n},As={assign:fx,flattenChunks:lx};let ad=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ad=!1}const Ei=new Uint8Array(256);for(let t=0;t<256;t++)Ei[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Ei[254]=Ei[254]=1;var hx=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,a,i,s=t.length,o=0;for(a=0;a<s;a++)n=t.charCodeAt(a),(n&64512)===55296&&a+1<s&&(r=t.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),i=0,a=0;i<o;a++)n=t.charCodeAt(a),(n&64512)===55296&&a+1<s&&(r=t.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|n&63):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|n&63):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|n&63);return e};const px=(t,e)=>{if(e<65534&&t.subarray&&ad)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var vx=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,a;const i=new Array(n*2);for(a=0,r=0;r<n;){let s=t[r++];if(s<128){i[a++]=s;continue}let o=Ei[s];if(o>4){i[a++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<n;)s=s<<6|t[r++]&63,o--;if(o>1){i[a++]=65533;continue}s<65536?i[a++]=s:(s-=65536,i[a++]=55296|s>>10&1023,i[a++]=56320|s&1023)}return px(i,a)},dx=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Ei[t[n]]>e?n:e},Di={string2buf:hx,buf2string:vx,utf8border:dx};function gx(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var id=gx;const od=Object.prototype.toString,{Z_NO_FLUSH:yx,Z_SYNC_FLUSH:mx,Z_FULL_FLUSH:_x,Z_FINISH:xx,Z_OK:us,Z_STREAM_END:wx,Z_DEFAULT_COMPRESSION:Cx,Z_DEFAULT_STRATEGY:Sx,Z_DEFLATED:Tx}=Kn;function Ii(t){this.options=As.assign({level:Cx,method:Tx,chunkSize:16384,windowBits:15,memLevel:8,strategy:Sx},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new id,this.strm.avail_out=0;let n=li.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==us)throw new Error(Wn[n]);if(e.header&&li.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=Di.string2buf(e.dictionary):od.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=li.deflateSetDictionary(this.strm,r),n!==us)throw new Error(Wn[n]);this._dict_set=!0}}Ii.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let a,i;if(this.ended)return!1;for(e===~~e?i=e:i=e===!0?xx:yx,typeof t=="string"?n.input=Di.string2buf(t):od.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===mx||i===_x)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(a=li.deflate(n,i),a===wx)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=li.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===us;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Ii.prototype.onData=function(t){this.chunks.push(t)};Ii.prototype.onEnd=function(t){t===us&&(this.result=As.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function wc(t,e){const n=new Ii(e);if(n.push(t,!0),n.err)throw n.msg||Wn[n.err];return n.result}function bx(t,e){return e=e||{},e.raw=!0,wc(t,e)}function Ex(t,e){return e=e||{},e.gzip=!0,wc(t,e)}var Dx=Ii,Ox=wc,Nx=bx,Mx=Ex,kx=Kn,Rx={Deflate:Dx,deflate:Ox,deflateRaw:Nx,gzip:Mx,constants:kx};const go=30,Fx=12;var Lx=function(e,n){let r,a,i,s,o,c,u,f,l,h,p,v,y,_,m,d,g,x,w,C,S,T,b,O;const D=e.state;r=e.next_in,b=e.input,a=r+(e.avail_in-5),i=e.next_out,O=e.output,s=i-(n-e.avail_out),o=i+(e.avail_out-257),c=D.dmax,u=D.wsize,f=D.whave,l=D.wnext,h=D.window,p=D.hold,v=D.bits,y=D.lencode,_=D.distcode,m=(1<<D.lenbits)-1,d=(1<<D.distbits)-1;e:do{v<15&&(p+=b[r++]<<v,v+=8,p+=b[r++]<<v,v+=8),g=y[p&m];t:for(;;){if(x=g>>>24,p>>>=x,v-=x,x=g>>>16&255,x===0)O[i++]=g&65535;else if(x&16){w=g&65535,x&=15,x&&(v<x&&(p+=b[r++]<<v,v+=8),w+=p&(1<<x)-1,p>>>=x,v-=x),v<15&&(p+=b[r++]<<v,v+=8,p+=b[r++]<<v,v+=8),g=_[p&d];r:for(;;){if(x=g>>>24,p>>>=x,v-=x,x=g>>>16&255,x&16){if(C=g&65535,x&=15,v<x&&(p+=b[r++]<<v,v+=8,v<x&&(p+=b[r++]<<v,v+=8)),C+=p&(1<<x)-1,C>c){e.msg="invalid distance too far back",D.mode=go;break e}if(p>>>=x,v-=x,x=i-s,C>x){if(x=C-x,x>f&&D.sane){e.msg="invalid distance too far back",D.mode=go;break e}if(S=0,T=h,l===0){if(S+=u-x,x<w){w-=x;do O[i++]=h[S++];while(--x);S=i-C,T=O}}else if(l<x){if(S+=u+l-x,x-=l,x<w){w-=x;do O[i++]=h[S++];while(--x);if(S=0,l<w){x=l,w-=x;do O[i++]=h[S++];while(--x);S=i-C,T=O}}}else if(S+=l-x,x<w){w-=x;do O[i++]=h[S++];while(--x);S=i-C,T=O}for(;w>2;)O[i++]=T[S++],O[i++]=T[S++],O[i++]=T[S++],w-=3;w&&(O[i++]=T[S++],w>1&&(O[i++]=T[S++]))}else{S=i-C;do O[i++]=O[S++],O[i++]=O[S++],O[i++]=O[S++],w-=3;while(w>2);w&&(O[i++]=O[S++],w>1&&(O[i++]=O[S++]))}}else if((x&64)===0){g=_[(g&65535)+(p&(1<<x)-1)];continue r}else{e.msg="invalid distance code",D.mode=go;break e}break}}else if((x&64)===0){g=y[(g&65535)+(p&(1<<x)-1)];continue t}else if(x&32){D.mode=Fx;break e}else{e.msg="invalid literal/length code",D.mode=go;break e}break}}while(r<a&&i<o);w=v>>3,r-=w,v-=w<<3,p&=(1<<v)-1,e.next_in=r,e.next_out=i,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=i<o?257+(o-i):257-(i-o),D.hold=p,D.bits=v};const ra=15,wl=852,Cl=592,Sl=0,v0=1,Tl=2,Ax=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Bx=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Vx=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ux=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Gx=(t,e,n,r,a,i,s,o)=>{const c=o.bits;let u=0,f=0,l=0,h=0,p=0,v=0,y=0,_=0,m=0,d=0,g,x,w,C,S,T=null,b=0,O;const D=new Uint16Array(ra+1),M=new Uint16Array(ra+1);let R=null,E=0,B,I,P;for(u=0;u<=ra;u++)D[u]=0;for(f=0;f<r;f++)D[e[n+f]]++;for(p=c,h=ra;h>=1&&D[h]===0;h--);if(p>h&&(p=h),h===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(l=1;l<h&&D[l]===0;l++);for(p<l&&(p=l),_=1,u=1;u<=ra;u++)if(_<<=1,_-=D[u],_<0)return-1;if(_>0&&(t===Sl||h!==1))return-1;for(M[1]=0,u=1;u<ra;u++)M[u+1]=M[u]+D[u];for(f=0;f<r;f++)e[n+f]!==0&&(s[M[e[n+f]]++]=f);if(t===Sl?(T=R=s,O=19):t===v0?(T=Ax,b-=257,R=Bx,E-=257,O=256):(T=Vx,R=Ux,O=-1),d=0,f=0,u=l,S=i,v=p,y=0,w=-1,m=1<<p,C=m-1,t===v0&&m>wl||t===Tl&&m>Cl)return 1;for(;;){B=u-y,s[f]<O?(I=0,P=s[f]):s[f]>O?(I=R[E+s[f]],P=T[b+s[f]]):(I=32+64,P=0),g=1<<u-y,x=1<<v,l=x;do x-=g,a[S+(d>>y)+x]=B<<24|I<<16|P|0;while(x!==0);for(g=1<<u-1;d&g;)g>>=1;if(g!==0?(d&=g-1,d+=g):d=0,f++,--D[u]===0){if(u===h)break;u=e[n+s[f]]}if(u>p&&(d&C)!==w){for(y===0&&(y=p),S+=l,v=u-y,_=1<<v;v+y<h&&(_-=D[v+y],!(_<=0));)v++,_<<=1;if(m+=1<<v,t===v0&&m>wl||t===Tl&&m>Cl)return 1;w=d&C,a[w]=p<<24|v<<16|S-i|0}}return d!==0&&(a[S+d]=u-y<<24|64<<16|0),o.bits=p,0};var hi=Gx;const Px=0,sd=1,ud=2,{Z_FINISH:bl,Z_BLOCK:jx,Z_TREES:yo,Z_OK:Hn,Z_STREAM_END:zx,Z_NEED_DICT:Wx,Z_STREAM_ERROR:or,Z_DATA_ERROR:cd,Z_MEM_ERROR:fd,Z_BUF_ERROR:Ix,Z_DEFLATED:El}=Kn,ld=1,Dl=2,Ol=3,Nl=4,Ml=5,kl=6,Rl=7,Fl=8,Ll=9,Al=10,cs=11,Rr=12,d0=13,Bl=14,g0=15,Vl=16,Ul=17,Gl=18,Pl=19,mo=20,_o=21,jl=22,zl=23,Wl=24,Il=25,$l=26,y0=27,Hl=28,Kl=29,tt=30,hd=31,$x=32,Hx=852,Kx=592,Xx=15,qx=Xx,Xl=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Yx(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const pd=t=>{if(!t||!t.state)return or;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=ld,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Hx),e.distcode=e.distdyn=new Int32Array(Kx),e.sane=1,e.back=-1,Hn},vd=t=>{if(!t||!t.state)return or;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,pd(t)},dd=(t,e)=>{let n;if(!t||!t.state)return or;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?or:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,vd(t))},gd=(t,e)=>{if(!t)return or;const n=new Yx;t.state=n,n.window=null;const r=dd(t,e);return r!==Hn&&(t.state=null),r},Zx=t=>gd(t,qx);let ql=!0,m0,_0;const Jx=t=>{if(ql){m0=new Int32Array(512),_0=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(hi(sd,t.lens,0,288,m0,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;hi(ud,t.lens,0,32,_0,0,t.work,{bits:5}),ql=!1}t.lencode=m0,t.lenbits=9,t.distcode=_0,t.distbits=5},yd=(t,e,n,r)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),i.window.set(e.subarray(n-r,n-r+a),i.wnext),r-=a,r?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},Qx=(t,e)=>{let n,r,a,i,s,o,c,u,f,l,h,p,v,y,_=0,m,d,g,x,w,C,S,T;const b=new Uint8Array(4);let O,D;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return or;n=t.state,n.mode===Rr&&(n.mode=d0),s=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,u=n.hold,f=n.bits,l=o,h=c,T=Hn;e:for(;;)switch(n.mode){case ld:if(n.wrap===0){n.mode=d0;break}for(;f<16;){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}if(n.wrap&2&&u===35615){n.check=0,b[0]=u&255,b[1]=u>>>8&255,n.check=mt(n.check,b,2,0),u=0,f=0,n.mode=Dl;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=tt;break}if((u&15)!==El){t.msg="unknown compression method",n.mode=tt;break}if(u>>>=4,f-=4,S=(u&15)+8,n.wbits===0)n.wbits=S;else if(S>n.wbits){t.msg="invalid window size",n.mode=tt;break}n.dmax=1<<n.wbits,t.adler=n.check=1,n.mode=u&512?Al:Rr,u=0,f=0;break;case Dl:for(;f<16;){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}if(n.flags=u,(n.flags&255)!==El){t.msg="unknown compression method",n.mode=tt;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=tt;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&(b[0]=u&255,b[1]=u>>>8&255,n.check=mt(n.check,b,2,0)),u=0,f=0,n.mode=Ol;case Ol:for(;f<32;){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}n.head&&(n.head.time=u),n.flags&512&&(b[0]=u&255,b[1]=u>>>8&255,b[2]=u>>>16&255,b[3]=u>>>24&255,n.check=mt(n.check,b,4,0)),u=0,f=0,n.mode=Nl;case Nl:for(;f<16;){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&(b[0]=u&255,b[1]=u>>>8&255,n.check=mt(n.check,b,2,0)),u=0,f=0,n.mode=Ml;case Ml:if(n.flags&1024){for(;f<16;){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&(b[0]=u&255,b[1]=u>>>8&255,n.check=mt(n.check,b,2,0)),u=0,f=0}else n.head&&(n.head.extra=null);n.mode=kl;case kl:if(n.flags&1024&&(p=n.length,p>o&&(p=o),p&&(n.head&&(S=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+p),S)),n.flags&512&&(n.check=mt(n.check,r,p,i)),o-=p,i+=p,n.length-=p),n.length))break e;n.length=0,n.mode=Rl;case Rl:if(n.flags&2048){if(o===0)break e;p=0;do S=r[i+p++],n.head&&S&&n.length<65536&&(n.head.name+=String.fromCharCode(S));while(S&&p<o);if(n.flags&512&&(n.check=mt(n.check,r,p,i)),o-=p,i+=p,S)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Fl;case Fl:if(n.flags&4096){if(o===0)break e;p=0;do S=r[i+p++],n.head&&S&&n.length<65536&&(n.head.comment+=String.fromCharCode(S));while(S&&p<o);if(n.flags&512&&(n.check=mt(n.check,r,p,i)),o-=p,i+=p,S)break e}else n.head&&(n.head.comment=null);n.mode=Ll;case Ll:if(n.flags&512){for(;f<16;){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}if(u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=tt;break}u=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Rr;break;case Al:for(;f<32;){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}t.adler=n.check=Xl(u),u=0,f=0,n.mode=cs;case cs:if(n.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=f,Wx;t.adler=n.check=1,n.mode=Rr;case Rr:if(e===jx||e===yo)break e;case d0:if(n.last){u>>>=f&7,f-=f&7,n.mode=y0;break}for(;f<3;){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}switch(n.last=u&1,u>>>=1,f-=1,u&3){case 0:n.mode=Bl;break;case 1:if(Jx(n),n.mode=mo,e===yo){u>>>=2,f-=2;break e}break;case 2:n.mode=Ul;break;case 3:t.msg="invalid block type",n.mode=tt}u>>>=2,f-=2;break;case Bl:for(u>>>=f&7,f-=f&7;f<32;){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=tt;break}if(n.length=u&65535,u=0,f=0,n.mode=g0,e===yo)break e;case g0:n.mode=Vl;case Vl:if(p=n.length,p){if(p>o&&(p=o),p>c&&(p=c),p===0)break e;a.set(r.subarray(i,i+p),s),o-=p,i+=p,c-=p,s+=p,n.length-=p;break}n.mode=Rr;break;case Ul:for(;f<14;){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}if(n.nlen=(u&31)+257,u>>>=5,f-=5,n.ndist=(u&31)+1,u>>>=5,f-=5,n.ncode=(u&15)+4,u>>>=4,f-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=tt;break}n.have=0,n.mode=Gl;case Gl:for(;n.have<n.ncode;){for(;f<3;){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}n.lens[M[n.have++]]=u&7,u>>>=3,f-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},T=hi(Px,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,T){t.msg="invalid code lengths set",n.mode=tt;break}n.have=0,n.mode=Pl;case Pl:for(;n.have<n.nlen+n.ndist;){for(;_=n.lencode[u&(1<<n.lenbits)-1],m=_>>>24,d=_>>>16&255,g=_&65535,!(m<=f);){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}if(g<16)u>>>=m,f-=m,n.lens[n.have++]=g;else{if(g===16){for(D=m+2;f<D;){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}if(u>>>=m,f-=m,n.have===0){t.msg="invalid bit length repeat",n.mode=tt;break}S=n.lens[n.have-1],p=3+(u&3),u>>>=2,f-=2}else if(g===17){for(D=m+3;f<D;){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}u>>>=m,f-=m,S=0,p=3+(u&7),u>>>=3,f-=3}else{for(D=m+7;f<D;){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}u>>>=m,f-=m,S=0,p=11+(u&127),u>>>=7,f-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=tt;break}for(;p--;)n.lens[n.have++]=S}}if(n.mode===tt)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=tt;break}if(n.lenbits=9,O={bits:n.lenbits},T=hi(sd,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,T){t.msg="invalid literal/lengths set",n.mode=tt;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},T=hi(ud,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,T){t.msg="invalid distances set",n.mode=tt;break}if(n.mode=mo,e===yo)break e;case mo:n.mode=_o;case _o:if(o>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=f,Lx(t,h),s=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,u=n.hold,f=n.bits,n.mode===Rr&&(n.back=-1);break}for(n.back=0;_=n.lencode[u&(1<<n.lenbits)-1],m=_>>>24,d=_>>>16&255,g=_&65535,!(m<=f);){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}if(d&&(d&240)===0){for(x=m,w=d,C=g;_=n.lencode[C+((u&(1<<x+w)-1)>>x)],m=_>>>24,d=_>>>16&255,g=_&65535,!(x+m<=f);){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}u>>>=x,f-=x,n.back+=x}if(u>>>=m,f-=m,n.back+=m,n.length=g,d===0){n.mode=$l;break}if(d&32){n.back=-1,n.mode=Rr;break}if(d&64){t.msg="invalid literal/length code",n.mode=tt;break}n.extra=d&15,n.mode=jl;case jl:if(n.extra){for(D=n.extra;f<D;){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=zl;case zl:for(;_=n.distcode[u&(1<<n.distbits)-1],m=_>>>24,d=_>>>16&255,g=_&65535,!(m<=f);){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}if((d&240)===0){for(x=m,w=d,C=g;_=n.distcode[C+((u&(1<<x+w)-1)>>x)],m=_>>>24,d=_>>>16&255,g=_&65535,!(x+m<=f);){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}u>>>=x,f-=x,n.back+=x}if(u>>>=m,f-=m,n.back+=m,d&64){t.msg="invalid distance code",n.mode=tt;break}n.offset=g,n.extra=d&15,n.mode=Wl;case Wl:if(n.extra){for(D=n.extra;f<D;){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=tt;break}n.mode=Il;case Il:if(c===0)break e;if(p=h-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=tt;break}p>n.wnext?(p-=n.wnext,v=n.wsize-p):v=n.wnext-p,p>n.length&&(p=n.length),y=n.window}else y=a,v=s-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do a[s++]=y[v++];while(--p);n.length===0&&(n.mode=_o);break;case $l:if(c===0)break e;a[s++]=n.length,c--,n.mode=_o;break;case y0:if(n.wrap){for(;f<32;){if(o===0)break e;o--,u|=r[i++]<<f,f+=8}if(h-=c,t.total_out+=h,n.total+=h,h&&(t.adler=n.check=n.flags?mt(n.check,a,h,s-h):bi(n.check,a,h,s-h)),h=c,(n.flags?u:Xl(u))!==n.check){t.msg="incorrect data check",n.mode=tt;break}u=0,f=0}n.mode=Hl;case Hl:if(n.wrap&&n.flags){for(;f<32;){if(o===0)break e;o--,u+=r[i++]<<f,f+=8}if(u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=tt;break}u=0,f=0}n.mode=Kl;case Kl:T=zx;break e;case tt:T=cd;break e;case hd:return fd;case $x:default:return or}return t.next_out=s,t.avail_out=c,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=f,(n.wsize||h!==t.avail_out&&n.mode<tt&&(n.mode<y0||e!==bl))&&yd(t,t.output,t.next_out,h-t.avail_out),l-=t.avail_in,h-=t.avail_out,t.total_in+=l,t.total_out+=h,n.total+=h,n.wrap&&h&&(t.adler=n.check=n.flags?mt(n.check,a,h,t.next_out-h):bi(n.check,a,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Rr?128:0)+(n.mode===mo||n.mode===g0?256:0),(l===0&&h===0||e===bl)&&T===Hn&&(T=Ix),T},ew=t=>{if(!t||!t.state)return or;let e=t.state;return e.window&&(e.window=null),t.state=null,Hn},tw=(t,e)=>{if(!t||!t.state)return or;const n=t.state;return(n.wrap&2)===0?or:(n.head=e,e.done=!1,Hn)},rw=(t,e)=>{const n=e.length;let r,a,i;return!t||!t.state||(r=t.state,r.wrap!==0&&r.mode!==cs)?or:r.mode===cs&&(a=1,a=bi(a,e,n,0),a!==r.check)?cd:(i=yd(t,e,n,n),i?(r.mode=hd,fd):(r.havedict=1,Hn))};var nw=vd,aw=dd,iw=pd,ow=Zx,sw=gd,uw=Qx,cw=ew,fw=tw,lw=rw,hw="pako inflate (from Nodeca project)",Gr={inflateReset:nw,inflateReset2:aw,inflateResetKeep:iw,inflateInit:ow,inflateInit2:sw,inflate:uw,inflateEnd:cw,inflateGetHeader:fw,inflateSetDictionary:lw,inflateInfo:hw};function pw(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var vw=pw;const md=Object.prototype.toString,{Z_NO_FLUSH:dw,Z_FINISH:gw,Z_OK:Oi,Z_STREAM_END:x0,Z_NEED_DICT:w0,Z_STREAM_ERROR:yw,Z_DATA_ERROR:Yl,Z_MEM_ERROR:mw}=Kn;function $i(t){this.options=As.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new id,this.strm.avail_out=0;let n=Gr.inflateInit2(this.strm,e.windowBits);if(n!==Oi)throw new Error(Wn[n]);if(this.header=new vw,Gr.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Di.string2buf(e.dictionary):md.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Gr.inflateSetDictionary(this.strm,e.dictionary),n!==Oi)))throw new Error(Wn[n])}$i.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?gw:dw,md.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=Gr.inflate(n,s),i===w0&&a&&(i=Gr.inflateSetDictionary(n,a),i===Oi?i=Gr.inflate(n,s):i===Yl&&(i=w0));n.avail_in>0&&i===x0&&n.state.wrap>0&&t[n.next_in]!==0;)Gr.inflateReset(n),i=Gr.inflate(n,s);switch(i){case yw:case Yl:case w0:case mw:return this.onEnd(i),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||i===x0))if(this.options.to==="string"){let c=Di.utf8border(n.output,n.next_out),u=n.next_out-c,f=Di.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(f)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===Oi&&o===0)){if(i===x0)return i=Gr.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};$i.prototype.onData=function(t){this.chunks.push(t)};$i.prototype.onEnd=function(t){t===Oi&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=As.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Cc(t,e){const n=new $i(e);if(n.push(t),n.err)throw n.msg||Wn[n.err];return n.result}function _w(t,e){return e=e||{},e.raw=!0,Cc(t,e)}var xw=$i,ww=Cc,Cw=_w,Sw=Cc,Tw=Kn,bw={Inflate:xw,inflate:ww,inflateRaw:Cw,ungzip:Sw,constants:Tw};const{Deflate:Ew,deflate:Dw,deflateRaw:Ow,gzip:Nw}=Rx,{Inflate:Mw,inflate:kw,inflateRaw:Rw,ungzip:Fw}=bw;var Lw=Ew,Aw=Dw,Bw=Ow,Vw=Nw,Uw=Mw,Gw=kw,Pw=Rw,jw=Fw,zw=Kn,ar={Deflate:Lw,deflate:Aw,deflateRaw:Bw,gzip:Vw,Inflate:Uw,inflate:Gw,inflateRaw:Pw,ungzip:jw,constants:zw};function _d(){var t=new ArrayBuffer(4),e=new Uint8Array(t),n=new Uint32Array(t);return e[0]=161,e[1]=178,e[2]=195,e[3]=212,n[0]===3569595041?"LittleEndian":n[0]===2712847316?"BigEndian":null}var Ww=_d();function Iw(t,e){if(!(e<2))for(var n=new Int8Array(t),r=n.length,a=[],i=0;i<r;i+=e){for(var s=0;s<e;s++)a.push(n[i+s]);for(var o=0;o<e;o++)n[i+o]=a.pop()}}var Wr={ENDIANNESS:Ww,getEndianness:_d,swapBytes:Iw},Sc={};function xd(t){return!!Sc[t]}function $w(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Sc[t](e)}function Bs(t,e){Sc[t]=e}var La={get:$w,has:xd,registerType:Bs},Ni=W.vtkErrorMacro,Hw=W.vtkDebugMacro,Ca=0;function Vs(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=new XMLHttpRequest;return r.open(t,e,!0),n.headers&&Object.entries(n.headers).forEach(function(a){var i=Ie(a,2),s=i[0],o=i[1];return r.setRequestHeader(s,o)}),n.progressCallback&&r.addEventListener("progress",n.progressCallback),r}function Kw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e&&e.compression&&e.compression!=="gz"&&(Ni("Supported algorithms are: [gz]"),Ni("Unkown compression algorithm: ".concat(e.compression))),new Promise(function(n,r){var a=Vs("GET",t,e);a.onreadystatechange=function(i){a.readyState===4&&(a.status===200||a.status===0?e.compression?n(ar.inflate(new Uint8Array(a.response),{to:"arraybuffer"}).buffer):n(a.response):r({xhr:a,e:i}))},a.responseType="arraybuffer",a.send()})}function Xw(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.ref&&!n.ref.pending?new Promise(function(a,i){var s=null;n.ref.url?s=n.ref.url:s=[e,n.ref.basepath,r.compression?"".concat(n.ref.id,".gz"):n.ref.id].join("/");var o=Vs("GET",s,r);o.onreadystatechange=function(c){o.readyState===1&&(n.ref.pending=!0,++Ca===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0)),o.readyState===4&&(n.ref.pending=!1,o.status===200||o.status===0?(n.buffer=o.response,r.compression&&(n.dataType==="string"||n.dataType==="JSON"?n.buffer=ar.inflate(new Uint8Array(n.buffer),{to:"string"}):n.buffer=ar.inflate(new Uint8Array(n.buffer)).buffer),n.ref.encode==="JSON"?n.values=JSON.parse(n.buffer):(Wr.ENDIANNESS!==n.ref.encode&&Wr.ENDIANNESS&&(Hw("Swap bytes of ".concat(n.name)),Wr.swapBytes(n.buffer,Ts[n.dataType])),n.values=W.newTypedArray(n.dataType,n.buffer)),n.values.length!==n.size&&Ni("Error in FetchArray: ".concat(n.name,", does not have the proper array size. Got ").concat(n.values.length,", instead of ").concat(n.size)),delete n.ref,--Ca===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),t!=null&&t.modified&&t.modified(),a(n)):i({xhr:o,e:c}))},o.responseType=r.compression||n.dataType!=="string"?"arraybuffer":"text",o.send()}):Promise.resolve(n)}function qw(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(function(r,a){var i=Vs("GET",e,n);i.onreadystatechange=function(s){i.readyState===1&&++Ca===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--Ca===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?n.compression?r(JSON.parse(ar.inflate(new Uint8Array(i.response),{to:"string"}))):r(JSON.parse(i.responseText)):a({xhr:i,e:s}))},i.responseType=n.compression?"arraybuffer":"text",i.send()})}function Yw(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n&&n.compression&&n.compression!=="gz"&&(Ni("Supported algorithms are: [gz]"),Ni("Unkown compression algorithm: ".concat(n.compression))),new Promise(function(r,a){var i=Vs("GET",e,n);i.onreadystatechange=function(s){i.readyState===1&&++Ca===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--Ca===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?n.compression?r(ar.inflate(new Uint8Array(i.response),{to:"string"})):r(i.responseText):a({xhr:i,e:s}))},i.responseType=n.compression?"arraybuffer":"text",i.send()})}function Zw(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(function(r,a){var i=new Image;n.crossOrigin&&(i.crossOrigin=n.crossOrigin),i.onload=function(){return r(i)},i.onerror=a,i.src=e})}var Jw={fetchArray:Xw,fetchJSON:qw,fetchText:Yw,fetchBinary:Kw,fetchImage:Zw};Bs("http",function(t){return Jw});var wd={exports:{}};/*!

JSZip v3.7.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,a,i){function s(u,f){if(!a[u]){if(!r[u]){var l=typeof Ki=="function"&&Ki;if(!f&&l)return l(u,!0);if(o)return o(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var p=a[u]={exports:{}};r[u][0].call(p.exports,function(v){var y=r[u][1][v];return s(y||v)},p,p.exports,n,r,a,i)}return a[u].exports}for(var o=typeof Ki=="function"&&Ki,c=0;c<i.length;c++)s(i[c]);return s}({1:[function(n,r,a){var i=n("./utils"),s=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(c){for(var u,f,l,h,p,v,y,_=[],m=0,d=c.length,g=d,x=i.getTypeOf(c)!=="string";m<c.length;)g=d-m,l=x?(u=c[m++],f=m<d?c[m++]:0,m<d?c[m++]:0):(u=c.charCodeAt(m++),f=m<d?c.charCodeAt(m++):0,m<d?c.charCodeAt(m++):0),h=u>>2,p=(3&u)<<4|f>>4,v=1<g?(15&f)<<2|l>>6:64,y=2<g?63&l:64,_.push(o.charAt(h)+o.charAt(p)+o.charAt(v)+o.charAt(y));return _.join("")},a.decode=function(c){var u,f,l,h,p,v,y=0,_=0,m="data:";if(c.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var d,g=3*(c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&g--,c.charAt(c.length-2)===o.charAt(64)&&g--,g%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=s.uint8array?new Uint8Array(0|g):new Array(0|g);y<c.length;)u=o.indexOf(c.charAt(y++))<<2|(h=o.indexOf(c.charAt(y++)))>>4,f=(15&h)<<4|(p=o.indexOf(c.charAt(y++)))>>2,l=(3&p)<<6|(v=o.indexOf(c.charAt(y++))),d[_++]=u,p!==64&&(d[_++]=f),v!==64&&(d[_++]=l);return d}},{"./support":30,"./utils":32}],2:[function(n,r,a){var i=n("./external"),s=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function u(f,l,h,p,v){this.compressedSize=f,this.uncompressedSize=l,this.crc32=h,this.compression=p,this.compressedContent=v}u.prototype={getContentWorker:function(){var f=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),l=this;return f.on("end",function(){if(this.streamInfo.data_length!==l.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(f,l,h){return f.pipe(new o).pipe(new c("uncompressedSize")).pipe(l.compressWorker(h)).pipe(new c("compressedSize")).withStreamInfo("compression",l)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,a){var i=n("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(s){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,a){var i=n("./utils"),s=function(){for(var o,c=[],u=0;u<256;u++){o=u;for(var f=0;f<8;f++)o=1&o?3988292384^o>>>1:o>>>1;c[u]=o}return c}();r.exports=function(o,c){return o!==void 0&&o.length?i.getTypeOf(o)!=="string"?function(u,f,l,h){var p=s,v=h+l;u^=-1;for(var y=h;y<v;y++)u=u>>>8^p[255&(u^f[y])];return-1^u}(0|c,o,o.length,0):function(u,f,l,h){var p=s,v=h+l;u^=-1;for(var y=h;y<v;y++)u=u>>>8^p[255&(u^f.charCodeAt(y))];return-1^u}(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(n,r,a){var i=null;i=typeof Promise!="undefined"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,a){var i=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",s=n("pako"),o=n("./utils"),c=n("./stream/GenericWorker"),u=i?"uint8array":"array";function f(l,h){c.call(this,"FlateWorker/"+l),this._pako=null,this._pakoAction=l,this._pakoOptions=h,this.meta={}}a.magic="\b\0",o.inherits(f,c),f.prototype.processChunk=function(l){this.meta=l.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,l.data),!1)},f.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var l=this;this._pako.onData=function(h){l.push({data:h,meta:l.meta})}},a.compressWorker=function(l){return new f("Deflate",l)},a.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,a){function i(p,v){var y,_="";for(y=0;y<v;y++)_+=String.fromCharCode(255&p),p>>>=8;return _}function s(p,v,y,_,m,d){var g,x,w=p.file,C=p.compression,S=d!==u.utf8encode,T=o.transformTo("string",d(w.name)),b=o.transformTo("string",u.utf8encode(w.name)),O=w.comment,D=o.transformTo("string",d(O)),M=o.transformTo("string",u.utf8encode(O)),R=b.length!==w.name.length,E=M.length!==O.length,B="",I="",P="",L=w.dir,F=w.date,G={crc32:0,compressedSize:0,uncompressedSize:0};v&&!y||(G.crc32=p.crc32,G.compressedSize=p.compressedSize,G.uncompressedSize=p.uncompressedSize);var $=0;v&&($|=8),S||!R&&!E||($|=2048);var H=0,J=0;L&&(H|=16),m==="UNIX"?(J=798,H|=function(q,ne){var re=q;return q||(re=ne?16893:33204),(65535&re)<<16}(w.unixPermissions,L)):(J=20,H|=function(q){return 63&(q||0)}(w.dosPermissions)),g=F.getUTCHours(),g<<=6,g|=F.getUTCMinutes(),g<<=5,g|=F.getUTCSeconds()/2,x=F.getUTCFullYear()-1980,x<<=4,x|=F.getUTCMonth()+1,x<<=5,x|=F.getUTCDate(),R&&(I=i(1,1)+i(f(T),4)+b,B+="up"+i(I.length,2)+I),E&&(P=i(1,1)+i(f(D),4)+M,B+="uc"+i(P.length,2)+P);var Q="";return Q+=`
\0`,Q+=i($,2),Q+=C.magic,Q+=i(g,2),Q+=i(x,2),Q+=i(G.crc32,4),Q+=i(G.compressedSize,4),Q+=i(G.uncompressedSize,4),Q+=i(T.length,2),Q+=i(B.length,2),{fileRecord:l.LOCAL_FILE_HEADER+Q+T+B,dirRecord:l.CENTRAL_FILE_HEADER+i(J,2)+Q+i(D.length,2)+"\0\0\0\0"+i(H,4)+i(_,4)+T+B+D}}var o=n("../utils"),c=n("../stream/GenericWorker"),u=n("../utf8"),f=n("../crc32"),l=n("../signature");function h(p,v,y,_){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=y,this.encodeFileName=_,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,c),h.prototype.push=function(p){var v=p.meta.percent||0,y=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,c.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:y?(v+100*(y-_-1))/y:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var v=this.streamFiles&&!p.file.dir;if(v){var y=s(p,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var v=this.streamFiles&&!p.file.dir,y=s(p,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),v)this.push({data:function(_){return l.DATA_DESCRIPTOR+i(_.crc32,4)+i(_.compressedSize,4)+i(_.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var y=this.bytesWritten-p,_=function(m,d,g,x,w){var C=o.transformTo("string",w(x));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(m,2)+i(m,2)+i(d,4)+i(g,4)+i(C.length,2)+C}(this.dirRecords.length,y,p,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var v=this;return p.on("data",function(y){v.processChunk(y)}),p.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),p.on("error",function(y){v.error(y)}),this},h.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var v=this._sources;if(!c.prototype.error.call(this,p))return!1;for(var y=0;y<v.length;y++)try{v[y].error(p)}catch{}return!0},h.prototype.lock=function(){c.prototype.lock.call(this);for(var p=this._sources,v=0;v<p.length;v++)p[v].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,a){var i=n("../compressions"),s=n("./ZipFileWorker");a.generateWorker=function(o,c,u){var f=new s(c.streamFiles,u,c.platform,c.encodeFileName),l=0;try{o.forEach(function(h,p){l++;var v=function(d,g){var x=d||g,w=i[x];if(!w)throw new Error(x+" is not a valid compression method !");return w}(p.options.compression,c.compression),y=p.options.compressionOptions||c.compressionOptions||{},_=p.dir,m=p.date;p._compressWorker(v,y).withStreamInfo("file",{name:h,dir:_,date:m,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(f)}),f.entriesCount=l}catch(h){f.error(h)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new i;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.7.1",i.loadAsync=function(s,o){return new i().loadAsync(s,o)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,a){var i=n("./utils"),s=n("./external"),o=n("./utf8"),c=n("./zipEntries"),u=n("./stream/Crc32Probe"),f=n("./nodejsUtils");function l(h){return new s.Promise(function(p,v){var y=h.decompressed.getContentWorker().pipe(new u);y.on("error",function(_){v(_)}).on("end",function(){y.streamInfo.crc32!==h.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(h,p){var v=this;return p=i.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),f.isNode&&f.isStream(h)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(y){var _=new c(p);return _.load(y),_}).then(function(y){var _=[s.Promise.resolve(y)],m=y.files;if(p.checkCRC32)for(var d=0;d<m.length;d++)_.push(l(m[d]));return s.Promise.all(_)}).then(function(y){for(var _=y.shift(),m=_.files,d=0;d<m.length;d++){var g=m[d];v.file(g.fileNameStr,g.decompressed,{binary:!0,optimizedBinaryString:!0,date:g.date,dir:g.dir,comment:g.fileCommentStr.length?g.fileCommentStr:null,unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions,createFolders:p.createFolders})}return _.zipComment.length&&(v.comment=_.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,a){var i=n("../utils"),s=n("../stream/GenericWorker");function o(c,u){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(o,s),o.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(f){u.push({data:f,meta:{percent:0}})}).on("error",function(f){u.isPaused?this.generatedError=f:u.error(f)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,a){var i=n("readable-stream").Readable;function s(o,c,u){i.call(this,c),this._helper=o;var f=this;o.on("data",function(l,h){f.push(l)||f._helper.pause(),u&&u(h)}).on("error",function(l){f.emit("error",l)}).on("end",function(){f.push(null)})}n("../utils").inherits(s,i),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,a){r.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(i,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,s);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,s)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var s=new Buffer(i);return s.fill(0),s},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,a){function i(w,C,S){var T,b=o.getTypeOf(C),O=o.extend(S||{},f);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(w=m(w)),O.createFolders&&(T=_(w))&&d.call(this,T,!0);var D=b==="string"&&O.binary===!1&&O.base64===!1;S&&S.binary!==void 0||(O.binary=!D),(C instanceof l&&C.uncompressedSize===0||O.dir||!C||C.length===0)&&(O.base64=!1,O.binary=!0,C="",O.compression="STORE",b="string");var M=null;M=C instanceof l||C instanceof c?C:v.isNode&&v.isStream(C)?new y(w,C):o.prepareContent(w,C,O.binary,O.optimizedBinaryString,O.base64);var R=new h(w,M,O);this.files[w]=R}var s=n("./utf8"),o=n("./utils"),c=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),f=n("./defaults"),l=n("./compressedObject"),h=n("./zipObject"),p=n("./generate"),v=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),_=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var C=w.lastIndexOf("/");return 0<C?w.substring(0,C):""},m=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},d=function(w,C){return C=C!==void 0?C:f.createFolders,w=m(w),this.files[w]||i.call(this,w,null,{dir:!0,createFolders:C}),this.files[w]};function g(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var C,S,T;for(C in this.files)T=this.files[C],(S=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&w(S,T)},filter:function(w){var C=[];return this.forEach(function(S,T){w(S,T)&&C.push(T)}),C},file:function(w,C,S){if(arguments.length!==1)return w=this.root+w,i.call(this,w,C,S),this;if(g(w)){var T=w;return this.filter(function(O,D){return!D.dir&&T.test(O)})}var b=this.files[this.root+w];return b&&!b.dir?b:null},folder:function(w){if(!w)return this;if(g(w))return this.filter(function(b,O){return O.dir&&w.test(b)});var C=this.root+w,S=d.call(this,C),T=this.clone();return T.root=S.name,T},remove:function(w){w=this.root+w;var C=this.files[w];if(C||(w.slice(-1)!=="/"&&(w+="/"),C=this.files[w]),C&&!C.dir)delete this.files[w];else for(var S=this.filter(function(b,O){return O.name.slice(0,w.length)===w}),T=0;T<S.length;T++)delete this.files[S[T].name];return this},generate:function(w){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var C,S={};try{if((S=o.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");o.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var T=S.comment||this.comment||"";C=p.generateWorker(this,S,T)}catch(b){(C=new c("error")).error(b)}return new u(C,S.type||"string",S.mimeType)},generateAsync:function(w,C){return this.generateInternalStream(w).accumulate(C)},generateNodeStream:function(w,C){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(C)}};r.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,a){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,a){var i=n("./DataReader");function s(o){i.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}n("../utils").inherits(s,i),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),u=o.charCodeAt(1),f=o.charCodeAt(2),l=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===c&&this.data[h+1]===u&&this.data[h+2]===f&&this.data[h+3]===l)return h-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),u=o.charCodeAt(1),f=o.charCodeAt(2),l=o.charCodeAt(3),h=this.readData(4);return c===h[0]&&u===h[1]&&f===h[2]&&l===h[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,a){var i=n("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(o){},readInt:function(o){var c,u=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=o,u},readString:function(o){return i.transformTo("string",this.readData(o))},readData:function(o){},lastIndexOfSignature:function(o){},readAndCheckSignature:function(o){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,a){var i=n("./Uint8ArrayReader");function s(o){i.call(this,o)}n("../utils").inherits(s,i),s.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,a){var i=n("./DataReader");function s(o){i.call(this,o)}n("../utils").inherits(s,i),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,a){var i=n("./ArrayReader");function s(o){i.call(this,o)}n("../utils").inherits(s,i),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,a){var i=n("../utils"),s=n("../support"),o=n("./ArrayReader"),c=n("./StringReader"),u=n("./NodeBufferReader"),f=n("./Uint8ArrayReader");r.exports=function(l){var h=i.getTypeOf(l);return i.checkSupport(h),h!=="string"||s.uint8array?h==="nodebuffer"?new u(l):s.uint8array?new f(i.transformTo("uint8array",l)):new o(i.transformTo("array",l)):new c(l)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,a){var i=n("./GenericWorker"),s=n("../utils");function o(c){i.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(o,i),o.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,a){var i=n("./GenericWorker"),s=n("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,i),o.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,a){var i=n("../utils"),s=n("./GenericWorker");function o(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(o,s),o.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}s.prototype.processChunk.call(this,c)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,a){var i=n("../utils"),s=n("./GenericWorker");function o(c){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(f){u.dataIsReady=!0,u.data=f,u.max=f&&f.length||0,u.type=i.getTypeOf(f),u.isPaused||u._tickAndRepeat()},function(f){u.error(f)})}i.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,a){function i(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(c){o.processChunk(c)}),s.on("end",function(){o.end()}),s.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=i},{}],29:[function(n,r,a){var i=n("../utils"),s=n("./ConvertWorker"),o=n("./GenericWorker"),c=n("../base64"),u=n("../support"),f=n("../external"),l=null;if(u.nodestream)try{l=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(v,y){return new f.Promise(function(_,m){var d=[],g=v._internalType,x=v._outputType,w=v._mimeType;v.on("data",function(C,S){d.push(C),y&&y(S)}).on("error",function(C){d=[],m(C)}).on("end",function(){try{var C=function(S,T,b){switch(S){case"blob":return i.newBlob(i.transformTo("arraybuffer",T),b);case"base64":return c.encode(T);default:return i.transformTo(S,T)}}(x,function(S,T){var b,O=0,D=null,M=0;for(b=0;b<T.length;b++)M+=T[b].length;switch(S){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for(D=new Uint8Array(M),b=0;b<T.length;b++)D.set(T[b],O),O+=T[b].length;return D;case"nodebuffer":return Buffer.concat(T);default:throw new Error("concat : unsupported type '"+S+"'")}}(g,d),w);_(C)}catch(S){m(S)}d=[]}).resume()})}function p(v,y,_){var m=y;switch(y){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=y,this._mimeType=_,i.checkSupport(m),this._worker=v.pipe(new s(m)),v.lock()}catch(d){this._worker=new o("error"),this._worker.error(d)}}p.prototype={accumulate:function(v){return h(this,v)},on:function(v,y){var _=this;return v==="data"?this._worker.on(v,function(m){y.call(_,m.data,m.meta)}):this._worker.on(v,function(){i.delay(y,arguments,_)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",a.nodebuffer=typeof Buffer!="undefined",a.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),a.blob=s.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!n("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,a){for(var i=n("./utils"),s=n("./support"),o=n("./nodejsUtils"),c=n("./stream/GenericWorker"),u=new Array(256),f=0;f<256;f++)u[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;u[254]=u[254]=1;function l(){c.call(this,"utf-8 decode"),this.leftOver=null}function h(){c.call(this,"utf-8 encode")}a.utf8encode=function(p){return s.nodebuffer?o.newBufferFrom(p,"utf-8"):function(v){var y,_,m,d,g,x=v.length,w=0;for(d=0;d<x;d++)(64512&(_=v.charCodeAt(d)))==55296&&d+1<x&&(64512&(m=v.charCodeAt(d+1)))==56320&&(_=65536+(_-55296<<10)+(m-56320),d++),w+=_<128?1:_<2048?2:_<65536?3:4;for(y=s.uint8array?new Uint8Array(w):new Array(w),d=g=0;g<w;d++)(64512&(_=v.charCodeAt(d)))==55296&&d+1<x&&(64512&(m=v.charCodeAt(d+1)))==56320&&(_=65536+(_-55296<<10)+(m-56320),d++),_<128?y[g++]=_:(_<2048?y[g++]=192|_>>>6:(_<65536?y[g++]=224|_>>>12:(y[g++]=240|_>>>18,y[g++]=128|_>>>12&63),y[g++]=128|_>>>6&63),y[g++]=128|63&_);return y}(p)},a.utf8decode=function(p){return s.nodebuffer?i.transformTo("nodebuffer",p).toString("utf-8"):function(v){var y,_,m,d,g=v.length,x=new Array(2*g);for(y=_=0;y<g;)if((m=v[y++])<128)x[_++]=m;else if(4<(d=u[m]))x[_++]=65533,y+=d-1;else{for(m&=d===2?31:d===3?15:7;1<d&&y<g;)m=m<<6|63&v[y++],d--;1<d?x[_++]=65533:m<65536?x[_++]=m:(m-=65536,x[_++]=55296|m>>10&1023,x[_++]=56320|1023&m)}return x.length!==_&&(x.subarray?x=x.subarray(0,_):x.length=_),i.applyFromCharCode(x)}(p=i.transformTo(s.uint8array?"uint8array":"array",p))},i.inherits(l,c),l.prototype.processChunk=function(p){var v=i.transformTo(s.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=v;(v=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),v.set(y,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var _=function(d,g){var x;for((g=g||d.length)>d.length&&(g=d.length),x=g-1;0<=x&&(192&d[x])==128;)x--;return x<0||x===0?g:x+u[d[x]]>g?x:g}(v),m=v;_!==v.length&&(s.uint8array?(m=v.subarray(0,_),this.leftOver=v.subarray(_,v.length)):(m=v.slice(0,_),this.leftOver=v.slice(_,v.length))),this.push({data:a.utf8decode(m),meta:p.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=l,i.inherits(h,c),h.prototype.processChunk=function(p){this.push({data:a.utf8encode(p.data),meta:p.meta})},a.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,a){var i=n("./support"),s=n("./base64"),o=n("./nodejsUtils"),c=n("set-immediate-shim"),u=n("./external");function f(_){return _}function l(_,m){for(var d=0;d<_.length;++d)m[d]=255&_.charCodeAt(d);return m}a.newBlob=function(_,m){a.checkSupport("blob");try{return new Blob([_],{type:m})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(_),d.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(_,m,d){var g=[],x=0,w=_.length;if(w<=d)return String.fromCharCode.apply(null,_);for(;x<w;)m==="array"||m==="nodebuffer"?g.push(String.fromCharCode.apply(null,_.slice(x,Math.min(x+d,w)))):g.push(String.fromCharCode.apply(null,_.subarray(x,Math.min(x+d,w)))),x+=d;return g.join("")},stringifyByChar:function(_){for(var m="",d=0;d<_.length;d++)m+=String.fromCharCode(_[d]);return m},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function p(_){var m=65536,d=a.getTypeOf(_),g=!0;if(d==="uint8array"?g=h.applyCanBeUsed.uint8array:d==="nodebuffer"&&(g=h.applyCanBeUsed.nodebuffer),g)for(;1<m;)try{return h.stringifyByChunk(_,d,m)}catch{m=Math.floor(m/2)}return h.stringifyByChar(_)}function v(_,m){for(var d=0;d<_.length;d++)m[d]=_[d];return m}a.applyFromCharCode=p;var y={};y.string={string:f,array:function(_){return l(_,new Array(_.length))},arraybuffer:function(_){return y.string.uint8array(_).buffer},uint8array:function(_){return l(_,new Uint8Array(_.length))},nodebuffer:function(_){return l(_,o.allocBuffer(_.length))}},y.array={string:p,array:f,arraybuffer:function(_){return new Uint8Array(_).buffer},uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return o.newBufferFrom(_)}},y.arraybuffer={string:function(_){return p(new Uint8Array(_))},array:function(_){return v(new Uint8Array(_),new Array(_.byteLength))},arraybuffer:f,uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return o.newBufferFrom(new Uint8Array(_))}},y.uint8array={string:p,array:function(_){return v(_,new Array(_.length))},arraybuffer:function(_){return _.buffer},uint8array:f,nodebuffer:function(_){return o.newBufferFrom(_)}},y.nodebuffer={string:p,array:function(_){return v(_,new Array(_.length))},arraybuffer:function(_){return y.nodebuffer.uint8array(_).buffer},uint8array:function(_){return v(_,new Uint8Array(_.length))},nodebuffer:f},a.transformTo=function(_,m){if(m=m||"",!_)return m;a.checkSupport(_);var d=a.getTypeOf(m);return y[d][_](m)},a.getTypeOf=function(_){return typeof _=="string"?"string":Object.prototype.toString.call(_)==="[object Array]"?"array":i.nodebuffer&&o.isBuffer(_)?"nodebuffer":i.uint8array&&_ instanceof Uint8Array?"uint8array":i.arraybuffer&&_ instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(_){if(!i[_.toLowerCase()])throw new Error(_+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(_){var m,d,g="";for(d=0;d<(_||"").length;d++)g+="\\x"+((m=_.charCodeAt(d))<16?"0":"")+m.toString(16).toUpperCase();return g},a.delay=function(_,m,d){c(function(){_.apply(d||null,m||[])})},a.inherits=function(_,m){function d(){}d.prototype=m.prototype,_.prototype=new d},a.extend=function(){var _,m,d={};for(_=0;_<arguments.length;_++)for(m in arguments[_])arguments[_].hasOwnProperty(m)&&d[m]===void 0&&(d[m]=arguments[_][m]);return d},a.prepareContent=function(_,m,d,g,x){return u.Promise.resolve(m).then(function(w){return i.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader!="undefined"?new u.Promise(function(C,S){var T=new FileReader;T.onload=function(b){C(b.target.result)},T.onerror=function(b){S(b.target.error)},T.readAsArrayBuffer(w)}):w}).then(function(w){var C=a.getTypeOf(w);return C?(C==="arraybuffer"?w=a.transformTo("uint8array",w):C==="string"&&(x?w=s.decode(w):d&&g!==!0&&(w=function(S){return l(S,i.uint8array?new Uint8Array(S.length):new Array(S.length))}(w))),w):u.Promise.reject(new Error("Can't read the data of '"+_+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(n,r,a){var i=n("./reader/readerFor"),s=n("./utils"),o=n("./signature"),c=n("./zipEntry"),u=(n("./utf8"),n("./support"));function f(l){this.files=[],this.loadOptions=l}f.prototype={checkSignature:function(l){if(!this.reader.readAndCheckSignature(l)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(h)+", expected "+s.pretty(l)+")")}},isSignature:function(l,h){var p=this.reader.index;this.reader.setIndex(l);var v=this.reader.readString(4)===h;return this.reader.setIndex(p),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var l=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",p=s.transformTo(h,l);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var l,h,p,v=this.zip64EndOfCentralSize-44;0<v;)l=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[l]={id:l,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var l,h;for(l=0;l<this.files.length;l++)h=this.files[l],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var l;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(l=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(l);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var l=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(l<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(l);var h=l;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(l=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(l),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var v=h-p;if(0<v)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(l){this.reader=i(l)},load:function(l){this.prepareReader(l),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(n,r,a){var i=n("./reader/readerFor"),s=n("./utils"),o=n("./compressedObject"),c=n("./crc32"),u=n("./utf8"),f=n("./compressions"),l=n("./support");function h(p,v){this.options=p,this.loadOptions=v}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var v,y;if(p.skip(22),this.fileNameLength=p.readInt(2),y=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(_){for(var m in f)if(f.hasOwnProperty(m)&&f[m].magic===_)return f[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,v,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var v=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(v),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(p){if(this.extraFields[1]){var v=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(p){var v,y,_,m=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<m;)v=p.readInt(2),y=p.readInt(2),_=p.readData(y),this.extraFields[v]={id:v,length:y,value:_};p.setIndex(m)},handleUTF8:function(){var p=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var y=s.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var m=s.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var v=i(p.value);return v.readInt(1)!==1||c(this.fileName)!==v.readInt(4)?null:u.utf8decode(v.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var v=i(p.value);return v.readInt(1)!==1||c(this.fileComment)!==v.readInt(4)?null:u.utf8decode(v.readData(p.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,a){function i(v,y,_){this.name=v,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=y,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var s=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),c=n("./utf8"),u=n("./compressedObject"),f=n("./stream/GenericWorker");i.prototype={internalStream:function(v){var y=null,_="string";try{if(!v)throw new Error("No output type specified.");var m=(_=v.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),y=this._decompressWorker();var d=!this._dataBinary;d&&!m&&(y=y.pipe(new c.Utf8EncodeWorker)),!d&&m&&(y=y.pipe(new c.Utf8DecodeWorker))}catch(g){(y=new f("error")).error(g)}return new s(y,_,"")},async:function(v,y){return this.internalStream(v).accumulate(y)},nodeStream:function(v,y){return this.internalStream(v||"nodebuffer").toNodejsStream(y)},_compressWorker:function(v,y){if(this._data instanceof u&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(_,v,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof f?this._data:new o(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<l.length;p++)i.prototype[l[p]]=h;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,a){(function(i){var s,o,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var u=0,f=new c(v),l=i.document.createTextNode("");f.observe(l,{characterData:!0}),s=function(){l.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)s="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var y=i.document.createElement("script");y.onreadystatechange=function(){v(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},i.document.documentElement.appendChild(y)}:function(){setTimeout(v,0)};else{var h=new i.MessageChannel;h.port1.onmessage=v,s=function(){h.port2.postMessage(0)}}var p=[];function v(){var y,_;o=!0;for(var m=p.length;m;){for(_=p,p=[],y=-1;++y<m;)_[y]();m=p.length}o=!1}r.exports=function(y){p.push(y)!==1||o||s()}}).call(this,typeof Pt!="undefined"?Pt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(n,r,a){var i=n("immediate");function s(){}var o={},c=["REJECTED"],u=["FULFILLED"],f=["PENDING"];function l(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,m!==s&&y(this,m)}function h(m,d,g){this.promise=m,typeof d=="function"&&(this.onFulfilled=d,this.callFulfilled=this.otherCallFulfilled),typeof g=="function"&&(this.onRejected=g,this.callRejected=this.otherCallRejected)}function p(m,d,g){i(function(){var x;try{x=d(g)}catch(w){return o.reject(m,w)}x===m?o.reject(m,new TypeError("Cannot resolve promise with itself")):o.resolve(m,x)})}function v(m){var d=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof d=="function")return function(){d.apply(m,arguments)}}function y(m,d){var g=!1;function x(S){g||(g=!0,o.reject(m,S))}function w(S){g||(g=!0,o.resolve(m,S))}var C=_(function(){d(w,x)});C.status==="error"&&x(C.value)}function _(m,d){var g={};try{g.value=m(d),g.status="success"}catch(x){g.status="error",g.value=x}return g}(r.exports=l).prototype.finally=function(m){if(typeof m!="function")return this;var d=this.constructor;return this.then(function(g){return d.resolve(m()).then(function(){return g})},function(g){return d.resolve(m()).then(function(){throw g})})},l.prototype.catch=function(m){return this.then(null,m)},l.prototype.then=function(m,d){if(typeof m!="function"&&this.state===u||typeof d!="function"&&this.state===c)return this;var g=new this.constructor(s);return this.state!==f?p(g,this.state===u?m:d,this.outcome):this.queue.push(new h(g,m,d)),g},h.prototype.callFulfilled=function(m){o.resolve(this.promise,m)},h.prototype.otherCallFulfilled=function(m){p(this.promise,this.onFulfilled,m)},h.prototype.callRejected=function(m){o.reject(this.promise,m)},h.prototype.otherCallRejected=function(m){p(this.promise,this.onRejected,m)},o.resolve=function(m,d){var g=_(v,d);if(g.status==="error")return o.reject(m,g.value);var x=g.value;if(x)y(m,x);else{m.state=u,m.outcome=d;for(var w=-1,C=m.queue.length;++w<C;)m.queue[w].callFulfilled(d)}return m},o.reject=function(m,d){m.state=c,m.outcome=d;for(var g=-1,x=m.queue.length;++g<x;)m.queue[g].callRejected(d);return m},l.resolve=function(m){return m instanceof this?m:o.resolve(new this(s),m)},l.reject=function(m){var d=new this(s);return o.reject(d,m)},l.all=function(m){var d=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var g=m.length,x=!1;if(!g)return this.resolve([]);for(var w=new Array(g),C=0,S=-1,T=new this(s);++S<g;)b(m[S],S);return T;function b(O,D){d.resolve(O).then(function(M){w[D]=M,++C!==g||x||(x=!0,o.resolve(T,w))},function(M){x||(x=!0,o.reject(T,M))})}},l.race=function(m){var d=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var g=m.length,x=!1;if(!g)return this.resolve([]);for(var w=-1,C=new this(s);++w<g;)S=m[w],d.resolve(S).then(function(T){x||(x=!0,o.resolve(C,T))},function(T){x||(x=!0,o.reject(C,T))});var S;return C}},{immediate:36}],38:[function(n,r,a){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,a){var i=n("./zlib/deflate"),s=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/messages"),u=n("./zlib/zstream"),f=Object.prototype.toString,l=0,h=-1,p=0,v=8;function y(m){if(!(this instanceof y))return new y(m);this.options=s.assign({level:h,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},m||{});var d=this.options;d.raw&&0<d.windowBits?d.windowBits=-d.windowBits:d.gzip&&0<d.windowBits&&d.windowBits<16&&(d.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var g=i.deflateInit2(this.strm,d.level,d.method,d.windowBits,d.memLevel,d.strategy);if(g!==l)throw new Error(c[g]);if(d.header&&i.deflateSetHeader(this.strm,d.header),d.dictionary){var x;if(x=typeof d.dictionary=="string"?o.string2buf(d.dictionary):f.call(d.dictionary)==="[object ArrayBuffer]"?new Uint8Array(d.dictionary):d.dictionary,(g=i.deflateSetDictionary(this.strm,x))!==l)throw new Error(c[g]);this._dict_set=!0}}function _(m,d){var g=new y(d);if(g.push(m,!0),g.err)throw g.msg||c[g.err];return g.result}y.prototype.push=function(m,d){var g,x,w=this.strm,C=this.options.chunkSize;if(this.ended)return!1;x=d===~~d?d:d===!0?4:0,typeof m=="string"?w.input=o.string2buf(m):f.call(m)==="[object ArrayBuffer]"?w.input=new Uint8Array(m):w.input=m,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new s.Buf8(C),w.next_out=0,w.avail_out=C),(g=i.deflate(w,x))!==1&&g!==l)return this.onEnd(g),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(w.output,w.next_out))):this.onData(s.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&g!==1);return x===4?(g=i.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l):x!==2||(this.onEnd(l),!(w.avail_out=0))},y.prototype.onData=function(m){this.chunks.push(m)},y.prototype.onEnd=function(m){m===l&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},a.Deflate=y,a.deflate=_,a.deflateRaw=function(m,d){return(d=d||{}).raw=!0,_(m,d)},a.gzip=function(m,d){return(d=d||{}).gzip=!0,_(m,d)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,a){var i=n("./zlib/inflate"),s=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/constants"),u=n("./zlib/messages"),f=n("./zlib/zstream"),l=n("./zlib/gzheader"),h=Object.prototype.toString;function p(y){if(!(this instanceof p))return new p(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||y&&y.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&(15&_.windowBits)==0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var m=i.inflateInit2(this.strm,_.windowBits);if(m!==c.Z_OK)throw new Error(u[m]);this.header=new l,i.inflateGetHeader(this.strm,this.header)}function v(y,_){var m=new p(_);if(m.push(y,!0),m.err)throw m.msg||u[m.err];return m.result}p.prototype.push=function(y,_){var m,d,g,x,w,C,S=this.strm,T=this.options.chunkSize,b=this.options.dictionary,O=!1;if(this.ended)return!1;d=_===~~_?_:_===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof y=="string"?S.input=o.binstring2buf(y):h.call(y)==="[object ArrayBuffer]"?S.input=new Uint8Array(y):S.input=y,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new s.Buf8(T),S.next_out=0,S.avail_out=T),(m=i.inflate(S,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&b&&(C=typeof b=="string"?o.string2buf(b):h.call(b)==="[object ArrayBuffer]"?new Uint8Array(b):b,m=i.inflateSetDictionary(this.strm,C)),m===c.Z_BUF_ERROR&&O===!0&&(m=c.Z_OK,O=!1),m!==c.Z_STREAM_END&&m!==c.Z_OK)return this.onEnd(m),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&m!==c.Z_STREAM_END&&(S.avail_in!==0||d!==c.Z_FINISH&&d!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(g=o.utf8border(S.output,S.next_out),x=S.next_out-g,w=o.buf2string(S.output,g),S.next_out=x,S.avail_out=T-x,x&&s.arraySet(S.output,S.output,g,x,0),this.onData(w)):this.onData(s.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(O=!0)}while((0<S.avail_in||S.avail_out===0)&&m!==c.Z_STREAM_END);return m===c.Z_STREAM_END&&(d=c.Z_FINISH),d===c.Z_FINISH?(m=i.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===c.Z_OK):d!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(S.avail_out=0))},p.prototype.onData=function(y){this.chunks.push(y)},p.prototype.onEnd=function(y){y===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},a.Inflate=p,a.inflate=v,a.inflateRaw=function(y,_){return(_=_||{}).raw=!0,v(y,_)},a.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,a){var i=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";a.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var f=u.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var l in f)f.hasOwnProperty(l)&&(c[l]=f[l])}}return c},a.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var s={arraySet:function(c,u,f,l,h){if(u.subarray&&c.subarray)c.set(u.subarray(f,f+l),h);else for(var p=0;p<l;p++)c[h+p]=u[f+p]},flattenChunks:function(c){var u,f,l,h,p,v;for(u=l=0,f=c.length;u<f;u++)l+=c[u].length;for(v=new Uint8Array(l),u=h=0,f=c.length;u<f;u++)p=c[u],v.set(p,h),h+=p.length;return v}},o={arraySet:function(c,u,f,l,h){for(var p=0;p<l;p++)c[h+p]=u[f+p]},flattenChunks:function(c){return[].concat.apply([],c)}};a.setTyped=function(c){c?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,s)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,o))},a.setTyped(i)},{}],42:[function(n,r,a){var i=n("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new i.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function f(l,h){if(h<65537&&(l.subarray&&o||!l.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(l,h));for(var p="",v=0;v<h;v++)p+=String.fromCharCode(l[v]);return p}c[254]=c[254]=1,a.string2buf=function(l){var h,p,v,y,_,m=l.length,d=0;for(y=0;y<m;y++)(64512&(p=l.charCodeAt(y)))==55296&&y+1<m&&(64512&(v=l.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),y++),d+=p<128?1:p<2048?2:p<65536?3:4;for(h=new i.Buf8(d),y=_=0;_<d;y++)(64512&(p=l.charCodeAt(y)))==55296&&y+1<m&&(64512&(v=l.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),y++),p<128?h[_++]=p:(p<2048?h[_++]=192|p>>>6:(p<65536?h[_++]=224|p>>>12:(h[_++]=240|p>>>18,h[_++]=128|p>>>12&63),h[_++]=128|p>>>6&63),h[_++]=128|63&p);return h},a.buf2binstring=function(l){return f(l,l.length)},a.binstring2buf=function(l){for(var h=new i.Buf8(l.length),p=0,v=h.length;p<v;p++)h[p]=l.charCodeAt(p);return h},a.buf2string=function(l,h){var p,v,y,_,m=h||l.length,d=new Array(2*m);for(p=v=0;p<m;)if((y=l[p++])<128)d[v++]=y;else if(4<(_=c[y]))d[v++]=65533,p+=_-1;else{for(y&=_===2?31:_===3?15:7;1<_&&p<m;)y=y<<6|63&l[p++],_--;1<_?d[v++]=65533:y<65536?d[v++]=y:(y-=65536,d[v++]=55296|y>>10&1023,d[v++]=56320|1023&y)}return f(d,v)},a.utf8border=function(l,h){var p;for((h=h||l.length)>l.length&&(h=l.length),p=h-1;0<=p&&(192&l[p])==128;)p--;return p<0||p===0?h:p+c[l[p]]>h?p:h}},{"./common":41}],43:[function(n,r,a){r.exports=function(i,s,o,c){for(var u=65535&i|0,f=i>>>16&65535|0,l=0;o!==0;){for(o-=l=2e3<o?2e3:o;f=f+(u=u+s[c++]|0)|0,--l;);u%=65521,f%=65521}return u|f<<16|0}},{}],44:[function(n,r,a){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,a){var i=function(){for(var s,o=[],c=0;c<256;c++){s=c;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;o[c]=s}return o}();r.exports=function(s,o,c,u){var f=i,l=u+c;s^=-1;for(var h=u;h<l;h++)s=s>>>8^f[255&(s^o[h])];return-1^s}},{}],46:[function(n,r,a){var i,s=n("../utils/common"),o=n("./trees"),c=n("./adler32"),u=n("./crc32"),f=n("./messages"),l=0,h=4,p=0,v=-2,y=-1,_=4,m=2,d=8,g=9,x=286,w=30,C=19,S=2*x+1,T=15,b=3,O=258,D=O+b+1,M=42,R=113,E=1,B=2,I=3,P=4;function L(k,z){return k.msg=f[z],z}function F(k){return(k<<1)-(4<k?9:0)}function G(k){for(var z=k.length;0<=--z;)k[z]=0}function $(k){var z=k.state,j=z.pending;j>k.avail_out&&(j=k.avail_out),j!==0&&(s.arraySet(k.output,z.pending_buf,z.pending_out,j,k.next_out),k.next_out+=j,z.pending_out+=j,k.total_out+=j,k.avail_out-=j,z.pending-=j,z.pending===0&&(z.pending_out=0))}function H(k,z){o._tr_flush_block(k,0<=k.block_start?k.block_start:-1,k.strstart-k.block_start,z),k.block_start=k.strstart,$(k.strm)}function J(k,z){k.pending_buf[k.pending++]=z}function Q(k,z){k.pending_buf[k.pending++]=z>>>8&255,k.pending_buf[k.pending++]=255&z}function q(k,z){var j,K,X=k.max_chain_length,Z=k.strstart,ae=k.prev_length,ue=k.nice_match,ie=k.strstart>k.w_size-D?k.strstart-(k.w_size-D):0,pe=k.window,ve=k.w_mask,ce=k.prev,xe=k.strstart+O,Y=pe[Z+ae-1],_e=pe[Z+ae];k.prev_length>=k.good_match&&(X>>=2),ue>k.lookahead&&(ue=k.lookahead);do if(pe[(j=z)+ae]===_e&&pe[j+ae-1]===Y&&pe[j]===pe[Z]&&pe[++j]===pe[Z+1]){Z+=2,j++;do;while(pe[++Z]===pe[++j]&&pe[++Z]===pe[++j]&&pe[++Z]===pe[++j]&&pe[++Z]===pe[++j]&&pe[++Z]===pe[++j]&&pe[++Z]===pe[++j]&&pe[++Z]===pe[++j]&&pe[++Z]===pe[++j]&&Z<xe);if(K=O-(xe-Z),Z=xe-O,ae<K){if(k.match_start=z,ue<=(ae=K))break;Y=pe[Z+ae-1],_e=pe[Z+ae]}}while((z=ce[z&ve])>ie&&--X!=0);return ae<=k.lookahead?ae:k.lookahead}function ne(k){var z,j,K,X,Z,ae,ue,ie,pe,ve,ce=k.w_size;do{if(X=k.window_size-k.lookahead-k.strstart,k.strstart>=ce+(ce-D)){for(s.arraySet(k.window,k.window,ce,ce,0),k.match_start-=ce,k.strstart-=ce,k.block_start-=ce,z=j=k.hash_size;K=k.head[--z],k.head[z]=ce<=K?K-ce:0,--j;);for(z=j=ce;K=k.prev[--z],k.prev[z]=ce<=K?K-ce:0,--j;);X+=ce}if(k.strm.avail_in===0)break;if(ae=k.strm,ue=k.window,ie=k.strstart+k.lookahead,pe=X,ve=void 0,ve=ae.avail_in,pe<ve&&(ve=pe),j=ve===0?0:(ae.avail_in-=ve,s.arraySet(ue,ae.input,ae.next_in,ve,ie),ae.state.wrap===1?ae.adler=c(ae.adler,ue,ve,ie):ae.state.wrap===2&&(ae.adler=u(ae.adler,ue,ve,ie)),ae.next_in+=ve,ae.total_in+=ve,ve),k.lookahead+=j,k.lookahead+k.insert>=b)for(Z=k.strstart-k.insert,k.ins_h=k.window[Z],k.ins_h=(k.ins_h<<k.hash_shift^k.window[Z+1])&k.hash_mask;k.insert&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[Z+b-1])&k.hash_mask,k.prev[Z&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=Z,Z++,k.insert--,!(k.lookahead+k.insert<b)););}while(k.lookahead<D&&k.strm.avail_in!==0)}function re(k,z){for(var j,K;;){if(k.lookahead<D){if(ne(k),k.lookahead<D&&z===l)return E;if(k.lookahead===0)break}if(j=0,k.lookahead>=b&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+b-1])&k.hash_mask,j=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),j!==0&&k.strstart-j<=k.w_size-D&&(k.match_length=q(k,j)),k.match_length>=b)if(K=o._tr_tally(k,k.strstart-k.match_start,k.match_length-b),k.lookahead-=k.match_length,k.match_length<=k.max_lazy_match&&k.lookahead>=b){for(k.match_length--;k.strstart++,k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+b-1])&k.hash_mask,j=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart,--k.match_length!=0;);k.strstart++}else k.strstart+=k.match_length,k.match_length=0,k.ins_h=k.window[k.strstart],k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+1])&k.hash_mask;else K=o._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++;if(K&&(H(k,!1),k.strm.avail_out===0))return E}return k.insert=k.strstart<b-1?k.strstart:b-1,z===h?(H(k,!0),k.strm.avail_out===0?I:P):k.last_lit&&(H(k,!1),k.strm.avail_out===0)?E:B}function oe(k,z){for(var j,K,X;;){if(k.lookahead<D){if(ne(k),k.lookahead<D&&z===l)return E;if(k.lookahead===0)break}if(j=0,k.lookahead>=b&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+b-1])&k.hash_mask,j=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),k.prev_length=k.match_length,k.prev_match=k.match_start,k.match_length=b-1,j!==0&&k.prev_length<k.max_lazy_match&&k.strstart-j<=k.w_size-D&&(k.match_length=q(k,j),k.match_length<=5&&(k.strategy===1||k.match_length===b&&4096<k.strstart-k.match_start)&&(k.match_length=b-1)),k.prev_length>=b&&k.match_length<=k.prev_length){for(X=k.strstart+k.lookahead-b,K=o._tr_tally(k,k.strstart-1-k.prev_match,k.prev_length-b),k.lookahead-=k.prev_length-1,k.prev_length-=2;++k.strstart<=X&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+b-1])&k.hash_mask,j=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),--k.prev_length!=0;);if(k.match_available=0,k.match_length=b-1,k.strstart++,K&&(H(k,!1),k.strm.avail_out===0))return E}else if(k.match_available){if((K=o._tr_tally(k,0,k.window[k.strstart-1]))&&H(k,!1),k.strstart++,k.lookahead--,k.strm.avail_out===0)return E}else k.match_available=1,k.strstart++,k.lookahead--}return k.match_available&&(K=o._tr_tally(k,0,k.window[k.strstart-1]),k.match_available=0),k.insert=k.strstart<b-1?k.strstart:b-1,z===h?(H(k,!0),k.strm.avail_out===0?I:P):k.last_lit&&(H(k,!1),k.strm.avail_out===0)?E:B}function te(k,z,j,K,X){this.good_length=k,this.max_lazy=z,this.nice_length=j,this.max_chain=K,this.func=X}function A(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=d,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*S),this.dyn_dtree=new s.Buf16(2*(2*w+1)),this.bl_tree=new s.Buf16(2*(2*C+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(T+1),this.heap=new s.Buf16(2*x+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*x+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function N(k){var z;return k&&k.state?(k.total_in=k.total_out=0,k.data_type=m,(z=k.state).pending=0,z.pending_out=0,z.wrap<0&&(z.wrap=-z.wrap),z.status=z.wrap?M:R,k.adler=z.wrap===2?0:1,z.last_flush=l,o._tr_init(z),p):L(k,v)}function U(k){var z=N(k);return z===p&&function(j){j.window_size=2*j.w_size,G(j.head),j.max_lazy_match=i[j.level].max_lazy,j.good_match=i[j.level].good_length,j.nice_match=i[j.level].nice_length,j.max_chain_length=i[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=b-1,j.match_available=0,j.ins_h=0}(k.state),z}function V(k,z,j,K,X,Z){if(!k)return v;var ae=1;if(z===y&&(z=6),K<0?(ae=0,K=-K):15<K&&(ae=2,K-=16),X<1||g<X||j!==d||K<8||15<K||z<0||9<z||Z<0||_<Z)return L(k,v);K===8&&(K=9);var ue=new A;return(k.state=ue).strm=k,ue.wrap=ae,ue.gzhead=null,ue.w_bits=K,ue.w_size=1<<ue.w_bits,ue.w_mask=ue.w_size-1,ue.hash_bits=X+7,ue.hash_size=1<<ue.hash_bits,ue.hash_mask=ue.hash_size-1,ue.hash_shift=~~((ue.hash_bits+b-1)/b),ue.window=new s.Buf8(2*ue.w_size),ue.head=new s.Buf16(ue.hash_size),ue.prev=new s.Buf16(ue.w_size),ue.lit_bufsize=1<<X+6,ue.pending_buf_size=4*ue.lit_bufsize,ue.pending_buf=new s.Buf8(ue.pending_buf_size),ue.d_buf=1*ue.lit_bufsize,ue.l_buf=3*ue.lit_bufsize,ue.level=z,ue.strategy=Z,ue.method=j,U(k)}i=[new te(0,0,0,0,function(k,z){var j=65535;for(j>k.pending_buf_size-5&&(j=k.pending_buf_size-5);;){if(k.lookahead<=1){if(ne(k),k.lookahead===0&&z===l)return E;if(k.lookahead===0)break}k.strstart+=k.lookahead,k.lookahead=0;var K=k.block_start+j;if((k.strstart===0||k.strstart>=K)&&(k.lookahead=k.strstart-K,k.strstart=K,H(k,!1),k.strm.avail_out===0)||k.strstart-k.block_start>=k.w_size-D&&(H(k,!1),k.strm.avail_out===0))return E}return k.insert=0,z===h?(H(k,!0),k.strm.avail_out===0?I:P):(k.strstart>k.block_start&&(H(k,!1),k.strm.avail_out),E)}),new te(4,4,8,4,re),new te(4,5,16,8,re),new te(4,6,32,32,re),new te(4,4,16,16,oe),new te(8,16,32,32,oe),new te(8,16,128,128,oe),new te(8,32,128,256,oe),new te(32,128,258,1024,oe),new te(32,258,258,4096,oe)],a.deflateInit=function(k,z){return V(k,z,d,15,8,0)},a.deflateInit2=V,a.deflateReset=U,a.deflateResetKeep=N,a.deflateSetHeader=function(k,z){return k&&k.state?k.state.wrap!==2?v:(k.state.gzhead=z,p):v},a.deflate=function(k,z){var j,K,X,Z;if(!k||!k.state||5<z||z<0)return k?L(k,v):v;if(K=k.state,!k.output||!k.input&&k.avail_in!==0||K.status===666&&z!==h)return L(k,k.avail_out===0?-5:v);if(K.strm=k,j=K.last_flush,K.last_flush=z,K.status===M)if(K.wrap===2)k.adler=0,J(K,31),J(K,139),J(K,8),K.gzhead?(J(K,(K.gzhead.text?1:0)+(K.gzhead.hcrc?2:0)+(K.gzhead.extra?4:0)+(K.gzhead.name?8:0)+(K.gzhead.comment?16:0)),J(K,255&K.gzhead.time),J(K,K.gzhead.time>>8&255),J(K,K.gzhead.time>>16&255),J(K,K.gzhead.time>>24&255),J(K,K.level===9?2:2<=K.strategy||K.level<2?4:0),J(K,255&K.gzhead.os),K.gzhead.extra&&K.gzhead.extra.length&&(J(K,255&K.gzhead.extra.length),J(K,K.gzhead.extra.length>>8&255)),K.gzhead.hcrc&&(k.adler=u(k.adler,K.pending_buf,K.pending,0)),K.gzindex=0,K.status=69):(J(K,0),J(K,0),J(K,0),J(K,0),J(K,0),J(K,K.level===9?2:2<=K.strategy||K.level<2?4:0),J(K,3),K.status=R);else{var ae=d+(K.w_bits-8<<4)<<8;ae|=(2<=K.strategy||K.level<2?0:K.level<6?1:K.level===6?2:3)<<6,K.strstart!==0&&(ae|=32),ae+=31-ae%31,K.status=R,Q(K,ae),K.strstart!==0&&(Q(K,k.adler>>>16),Q(K,65535&k.adler)),k.adler=1}if(K.status===69)if(K.gzhead.extra){for(X=K.pending;K.gzindex<(65535&K.gzhead.extra.length)&&(K.pending!==K.pending_buf_size||(K.gzhead.hcrc&&K.pending>X&&(k.adler=u(k.adler,K.pending_buf,K.pending-X,X)),$(k),X=K.pending,K.pending!==K.pending_buf_size));)J(K,255&K.gzhead.extra[K.gzindex]),K.gzindex++;K.gzhead.hcrc&&K.pending>X&&(k.adler=u(k.adler,K.pending_buf,K.pending-X,X)),K.gzindex===K.gzhead.extra.length&&(K.gzindex=0,K.status=73)}else K.status=73;if(K.status===73)if(K.gzhead.name){X=K.pending;do{if(K.pending===K.pending_buf_size&&(K.gzhead.hcrc&&K.pending>X&&(k.adler=u(k.adler,K.pending_buf,K.pending-X,X)),$(k),X=K.pending,K.pending===K.pending_buf_size)){Z=1;break}Z=K.gzindex<K.gzhead.name.length?255&K.gzhead.name.charCodeAt(K.gzindex++):0,J(K,Z)}while(Z!==0);K.gzhead.hcrc&&K.pending>X&&(k.adler=u(k.adler,K.pending_buf,K.pending-X,X)),Z===0&&(K.gzindex=0,K.status=91)}else K.status=91;if(K.status===91)if(K.gzhead.comment){X=K.pending;do{if(K.pending===K.pending_buf_size&&(K.gzhead.hcrc&&K.pending>X&&(k.adler=u(k.adler,K.pending_buf,K.pending-X,X)),$(k),X=K.pending,K.pending===K.pending_buf_size)){Z=1;break}Z=K.gzindex<K.gzhead.comment.length?255&K.gzhead.comment.charCodeAt(K.gzindex++):0,J(K,Z)}while(Z!==0);K.gzhead.hcrc&&K.pending>X&&(k.adler=u(k.adler,K.pending_buf,K.pending-X,X)),Z===0&&(K.status=103)}else K.status=103;if(K.status===103&&(K.gzhead.hcrc?(K.pending+2>K.pending_buf_size&&$(k),K.pending+2<=K.pending_buf_size&&(J(K,255&k.adler),J(K,k.adler>>8&255),k.adler=0,K.status=R)):K.status=R),K.pending!==0){if($(k),k.avail_out===0)return K.last_flush=-1,p}else if(k.avail_in===0&&F(z)<=F(j)&&z!==h)return L(k,-5);if(K.status===666&&k.avail_in!==0)return L(k,-5);if(k.avail_in!==0||K.lookahead!==0||z!==l&&K.status!==666){var ue=K.strategy===2?function(ie,pe){for(var ve;;){if(ie.lookahead===0&&(ne(ie),ie.lookahead===0)){if(pe===l)return E;break}if(ie.match_length=0,ve=o._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,ve&&(H(ie,!1),ie.strm.avail_out===0))return E}return ie.insert=0,pe===h?(H(ie,!0),ie.strm.avail_out===0?I:P):ie.last_lit&&(H(ie,!1),ie.strm.avail_out===0)?E:B}(K,z):K.strategy===3?function(ie,pe){for(var ve,ce,xe,Y,_e=ie.window;;){if(ie.lookahead<=O){if(ne(ie),ie.lookahead<=O&&pe===l)return E;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=b&&0<ie.strstart&&(ce=_e[xe=ie.strstart-1])===_e[++xe]&&ce===_e[++xe]&&ce===_e[++xe]){Y=ie.strstart+O;do;while(ce===_e[++xe]&&ce===_e[++xe]&&ce===_e[++xe]&&ce===_e[++xe]&&ce===_e[++xe]&&ce===_e[++xe]&&ce===_e[++xe]&&ce===_e[++xe]&&xe<Y);ie.match_length=O-(Y-xe),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=b?(ve=o._tr_tally(ie,1,ie.match_length-b),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(ve=o._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),ve&&(H(ie,!1),ie.strm.avail_out===0))return E}return ie.insert=0,pe===h?(H(ie,!0),ie.strm.avail_out===0?I:P):ie.last_lit&&(H(ie,!1),ie.strm.avail_out===0)?E:B}(K,z):i[K.level].func(K,z);if(ue!==I&&ue!==P||(K.status=666),ue===E||ue===I)return k.avail_out===0&&(K.last_flush=-1),p;if(ue===B&&(z===1?o._tr_align(K):z!==5&&(o._tr_stored_block(K,0,0,!1),z===3&&(G(K.head),K.lookahead===0&&(K.strstart=0,K.block_start=0,K.insert=0))),$(k),k.avail_out===0))return K.last_flush=-1,p}return z!==h?p:K.wrap<=0?1:(K.wrap===2?(J(K,255&k.adler),J(K,k.adler>>8&255),J(K,k.adler>>16&255),J(K,k.adler>>24&255),J(K,255&k.total_in),J(K,k.total_in>>8&255),J(K,k.total_in>>16&255),J(K,k.total_in>>24&255)):(Q(K,k.adler>>>16),Q(K,65535&k.adler)),$(k),0<K.wrap&&(K.wrap=-K.wrap),K.pending!==0?p:1)},a.deflateEnd=function(k){var z;return k&&k.state?(z=k.state.status)!==M&&z!==69&&z!==73&&z!==91&&z!==103&&z!==R&&z!==666?L(k,v):(k.state=null,z===R?L(k,-3):p):v},a.deflateSetDictionary=function(k,z){var j,K,X,Z,ae,ue,ie,pe,ve=z.length;if(!k||!k.state||(Z=(j=k.state).wrap)===2||Z===1&&j.status!==M||j.lookahead)return v;for(Z===1&&(k.adler=c(k.adler,z,ve,0)),j.wrap=0,ve>=j.w_size&&(Z===0&&(G(j.head),j.strstart=0,j.block_start=0,j.insert=0),pe=new s.Buf8(j.w_size),s.arraySet(pe,z,ve-j.w_size,j.w_size,0),z=pe,ve=j.w_size),ae=k.avail_in,ue=k.next_in,ie=k.input,k.avail_in=ve,k.next_in=0,k.input=z,ne(j);j.lookahead>=b;){for(K=j.strstart,X=j.lookahead-(b-1);j.ins_h=(j.ins_h<<j.hash_shift^j.window[K+b-1])&j.hash_mask,j.prev[K&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=K,K++,--X;);j.strstart=K,j.lookahead=b-1,ne(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=b-1,j.match_available=0,k.next_in=ue,k.input=ie,k.avail_in=ae,j.wrap=Z,p},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,a){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,a){r.exports=function(i,s){var o,c,u,f,l,h,p,v,y,_,m,d,g,x,w,C,S,T,b,O,D,M,R,E,B;o=i.state,c=i.next_in,E=i.input,u=c+(i.avail_in-5),f=i.next_out,B=i.output,l=f-(s-i.avail_out),h=f+(i.avail_out-257),p=o.dmax,v=o.wsize,y=o.whave,_=o.wnext,m=o.window,d=o.hold,g=o.bits,x=o.lencode,w=o.distcode,C=(1<<o.lenbits)-1,S=(1<<o.distbits)-1;e:do{g<15&&(d+=E[c++]<<g,g+=8,d+=E[c++]<<g,g+=8),T=x[d&C];t:for(;;){if(d>>>=b=T>>>24,g-=b,(b=T>>>16&255)===0)B[f++]=65535&T;else{if(!(16&b)){if((64&b)==0){T=x[(65535&T)+(d&(1<<b)-1)];continue t}if(32&b){o.mode=12;break e}i.msg="invalid literal/length code",o.mode=30;break e}O=65535&T,(b&=15)&&(g<b&&(d+=E[c++]<<g,g+=8),O+=d&(1<<b)-1,d>>>=b,g-=b),g<15&&(d+=E[c++]<<g,g+=8,d+=E[c++]<<g,g+=8),T=w[d&S];r:for(;;){if(d>>>=b=T>>>24,g-=b,!(16&(b=T>>>16&255))){if((64&b)==0){T=w[(65535&T)+(d&(1<<b)-1)];continue r}i.msg="invalid distance code",o.mode=30;break e}if(D=65535&T,g<(b&=15)&&(d+=E[c++]<<g,(g+=8)<b&&(d+=E[c++]<<g,g+=8)),p<(D+=d&(1<<b)-1)){i.msg="invalid distance too far back",o.mode=30;break e}if(d>>>=b,g-=b,(b=f-l)<D){if(y<(b=D-b)&&o.sane){i.msg="invalid distance too far back",o.mode=30;break e}if(R=m,(M=0)===_){if(M+=v-b,b<O){for(O-=b;B[f++]=m[M++],--b;);M=f-D,R=B}}else if(_<b){if(M+=v+_-b,(b-=_)<O){for(O-=b;B[f++]=m[M++],--b;);if(M=0,_<O){for(O-=b=_;B[f++]=m[M++],--b;);M=f-D,R=B}}}else if(M+=_-b,b<O){for(O-=b;B[f++]=m[M++],--b;);M=f-D,R=B}for(;2<O;)B[f++]=R[M++],B[f++]=R[M++],B[f++]=R[M++],O-=3;O&&(B[f++]=R[M++],1<O&&(B[f++]=R[M++]))}else{for(M=f-D;B[f++]=B[M++],B[f++]=B[M++],B[f++]=B[M++],2<(O-=3););O&&(B[f++]=B[M++],1<O&&(B[f++]=B[M++]))}break}}break}}while(c<u&&f<h);c-=O=g>>3,d&=(1<<(g-=O<<3))-1,i.next_in=c,i.next_out=f,i.avail_in=c<u?u-c+5:5-(c-u),i.avail_out=f<h?h-f+257:257-(f-h),o.hold=d,o.bits=g}},{}],49:[function(n,r,a){var i=n("../utils/common"),s=n("./adler32"),o=n("./crc32"),c=n("./inffast"),u=n("./inftrees"),f=1,l=2,h=0,p=-2,v=1,y=852,_=592;function m(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(M){var R;return M&&M.state?(R=M.state,M.total_in=M.total_out=R.total=0,M.msg="",R.wrap&&(M.adler=1&R.wrap),R.mode=v,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new i.Buf32(y),R.distcode=R.distdyn=new i.Buf32(_),R.sane=1,R.back=-1,h):p}function x(M){var R;return M&&M.state?((R=M.state).wsize=0,R.whave=0,R.wnext=0,g(M)):p}function w(M,R){var E,B;return M&&M.state?(B=M.state,R<0?(E=0,R=-R):(E=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?p:(B.window!==null&&B.wbits!==R&&(B.window=null),B.wrap=E,B.wbits=R,x(M))):p}function C(M,R){var E,B;return M?(B=new d,(M.state=B).window=null,(E=w(M,R))!==h&&(M.state=null),E):p}var S,T,b=!0;function O(M){if(b){var R;for(S=new i.Buf32(512),T=new i.Buf32(32),R=0;R<144;)M.lens[R++]=8;for(;R<256;)M.lens[R++]=9;for(;R<280;)M.lens[R++]=7;for(;R<288;)M.lens[R++]=8;for(u(f,M.lens,0,288,S,0,M.work,{bits:9}),R=0;R<32;)M.lens[R++]=5;u(l,M.lens,0,32,T,0,M.work,{bits:5}),b=!1}M.lencode=S,M.lenbits=9,M.distcode=T,M.distbits=5}function D(M,R,E,B){var I,P=M.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new i.Buf8(P.wsize)),B>=P.wsize?(i.arraySet(P.window,R,E-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(B<(I=P.wsize-P.wnext)&&(I=B),i.arraySet(P.window,R,E-B,I,P.wnext),(B-=I)?(i.arraySet(P.window,R,E-B,B,0),P.wnext=B,P.whave=P.wsize):(P.wnext+=I,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=I))),0}a.inflateReset=x,a.inflateReset2=w,a.inflateResetKeep=g,a.inflateInit=function(M){return C(M,15)},a.inflateInit2=C,a.inflate=function(M,R){var E,B,I,P,L,F,G,$,H,J,Q,q,ne,re,oe,te,A,N,U,V,k,z,j,K,X=0,Z=new i.Buf8(4),ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return p;(E=M.state).mode===12&&(E.mode=13),L=M.next_out,I=M.output,G=M.avail_out,P=M.next_in,B=M.input,F=M.avail_in,$=E.hold,H=E.bits,J=F,Q=G,z=h;e:for(;;)switch(E.mode){case v:if(E.wrap===0){E.mode=13;break}for(;H<16;){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}if(2&E.wrap&&$===35615){Z[E.check=0]=255&$,Z[1]=$>>>8&255,E.check=o(E.check,Z,2,0),H=$=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&$)<<8)+($>>8))%31){M.msg="incorrect header check",E.mode=30;break}if((15&$)!=8){M.msg="unknown compression method",E.mode=30;break}if(H-=4,k=8+(15&($>>>=4)),E.wbits===0)E.wbits=k;else if(k>E.wbits){M.msg="invalid window size",E.mode=30;break}E.dmax=1<<k,M.adler=E.check=1,E.mode=512&$?10:12,H=$=0;break;case 2:for(;H<16;){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}if(E.flags=$,(255&E.flags)!=8){M.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){M.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=$>>8&1),512&E.flags&&(Z[0]=255&$,Z[1]=$>>>8&255,E.check=o(E.check,Z,2,0)),H=$=0,E.mode=3;case 3:for(;H<32;){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}E.head&&(E.head.time=$),512&E.flags&&(Z[0]=255&$,Z[1]=$>>>8&255,Z[2]=$>>>16&255,Z[3]=$>>>24&255,E.check=o(E.check,Z,4,0)),H=$=0,E.mode=4;case 4:for(;H<16;){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}E.head&&(E.head.xflags=255&$,E.head.os=$>>8),512&E.flags&&(Z[0]=255&$,Z[1]=$>>>8&255,E.check=o(E.check,Z,2,0)),H=$=0,E.mode=5;case 5:if(1024&E.flags){for(;H<16;){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}E.length=$,E.head&&(E.head.extra_len=$),512&E.flags&&(Z[0]=255&$,Z[1]=$>>>8&255,E.check=o(E.check,Z,2,0)),H=$=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(F<(q=E.length)&&(q=F),q&&(E.head&&(k=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),i.arraySet(E.head.extra,B,P,q,k)),512&E.flags&&(E.check=o(E.check,B,q,P)),F-=q,P+=q,E.length-=q),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(F===0)break e;for(q=0;k=B[P+q++],E.head&&k&&E.length<65536&&(E.head.name+=String.fromCharCode(k)),k&&q<F;);if(512&E.flags&&(E.check=o(E.check,B,q,P)),F-=q,P+=q,k)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(F===0)break e;for(q=0;k=B[P+q++],E.head&&k&&E.length<65536&&(E.head.comment+=String.fromCharCode(k)),k&&q<F;);if(512&E.flags&&(E.check=o(E.check,B,q,P)),F-=q,P+=q,k)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;H<16;){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}if($!==(65535&E.check)){M.msg="header crc mismatch",E.mode=30;break}H=$=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),M.adler=E.check=0,E.mode=12;break;case 10:for(;H<32;){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}M.adler=E.check=m($),H=$=0,E.mode=11;case 11:if(E.havedict===0)return M.next_out=L,M.avail_out=G,M.next_in=P,M.avail_in=F,E.hold=$,E.bits=H,2;M.adler=E.check=1,E.mode=12;case 12:if(R===5||R===6)break e;case 13:if(E.last){$>>>=7&H,H-=7&H,E.mode=27;break}for(;H<3;){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}switch(E.last=1&$,H-=1,3&($>>>=1)){case 0:E.mode=14;break;case 1:if(O(E),E.mode=20,R!==6)break;$>>>=2,H-=2;break e;case 2:E.mode=17;break;case 3:M.msg="invalid block type",E.mode=30}$>>>=2,H-=2;break;case 14:for($>>>=7&H,H-=7&H;H<32;){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}if((65535&$)!=($>>>16^65535)){M.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&$,H=$=0,E.mode=15,R===6)break e;case 15:E.mode=16;case 16:if(q=E.length){if(F<q&&(q=F),G<q&&(q=G),q===0)break e;i.arraySet(I,B,P,q,L),F-=q,P+=q,G-=q,L+=q,E.length-=q;break}E.mode=12;break;case 17:for(;H<14;){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}if(E.nlen=257+(31&$),$>>>=5,H-=5,E.ndist=1+(31&$),$>>>=5,H-=5,E.ncode=4+(15&$),$>>>=4,H-=4,286<E.nlen||30<E.ndist){M.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;H<3;){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}E.lens[ae[E.have++]]=7&$,$>>>=3,H-=3}for(;E.have<19;)E.lens[ae[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,j={bits:E.lenbits},z=u(0,E.lens,0,19,E.lencode,0,E.work,j),E.lenbits=j.bits,z){M.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;te=(X=E.lencode[$&(1<<E.lenbits)-1])>>>16&255,A=65535&X,!((oe=X>>>24)<=H);){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}if(A<16)$>>>=oe,H-=oe,E.lens[E.have++]=A;else{if(A===16){for(K=oe+2;H<K;){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}if($>>>=oe,H-=oe,E.have===0){M.msg="invalid bit length repeat",E.mode=30;break}k=E.lens[E.have-1],q=3+(3&$),$>>>=2,H-=2}else if(A===17){for(K=oe+3;H<K;){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}H-=oe,k=0,q=3+(7&($>>>=oe)),$>>>=3,H-=3}else{for(K=oe+7;H<K;){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}H-=oe,k=0,q=11+(127&($>>>=oe)),$>>>=7,H-=7}if(E.have+q>E.nlen+E.ndist){M.msg="invalid bit length repeat",E.mode=30;break}for(;q--;)E.lens[E.have++]=k}}if(E.mode===30)break;if(E.lens[256]===0){M.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,j={bits:E.lenbits},z=u(f,E.lens,0,E.nlen,E.lencode,0,E.work,j),E.lenbits=j.bits,z){M.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,j={bits:E.distbits},z=u(l,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,j),E.distbits=j.bits,z){M.msg="invalid distances set",E.mode=30;break}if(E.mode=20,R===6)break e;case 20:E.mode=21;case 21:if(6<=F&&258<=G){M.next_out=L,M.avail_out=G,M.next_in=P,M.avail_in=F,E.hold=$,E.bits=H,c(M,Q),L=M.next_out,I=M.output,G=M.avail_out,P=M.next_in,B=M.input,F=M.avail_in,$=E.hold,H=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;te=(X=E.lencode[$&(1<<E.lenbits)-1])>>>16&255,A=65535&X,!((oe=X>>>24)<=H);){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}if(te&&(240&te)==0){for(N=oe,U=te,V=A;te=(X=E.lencode[V+(($&(1<<N+U)-1)>>N)])>>>16&255,A=65535&X,!(N+(oe=X>>>24)<=H);){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}$>>>=N,H-=N,E.back+=N}if($>>>=oe,H-=oe,E.back+=oe,E.length=A,te===0){E.mode=26;break}if(32&te){E.back=-1,E.mode=12;break}if(64&te){M.msg="invalid literal/length code",E.mode=30;break}E.extra=15&te,E.mode=22;case 22:if(E.extra){for(K=E.extra;H<K;){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}E.length+=$&(1<<E.extra)-1,$>>>=E.extra,H-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;te=(X=E.distcode[$&(1<<E.distbits)-1])>>>16&255,A=65535&X,!((oe=X>>>24)<=H);){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}if((240&te)==0){for(N=oe,U=te,V=A;te=(X=E.distcode[V+(($&(1<<N+U)-1)>>N)])>>>16&255,A=65535&X,!(N+(oe=X>>>24)<=H);){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}$>>>=N,H-=N,E.back+=N}if($>>>=oe,H-=oe,E.back+=oe,64&te){M.msg="invalid distance code",E.mode=30;break}E.offset=A,E.extra=15&te,E.mode=24;case 24:if(E.extra){for(K=E.extra;H<K;){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}E.offset+=$&(1<<E.extra)-1,$>>>=E.extra,H-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){M.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(G===0)break e;if(q=Q-G,E.offset>q){if((q=E.offset-q)>E.whave&&E.sane){M.msg="invalid distance too far back",E.mode=30;break}ne=q>E.wnext?(q-=E.wnext,E.wsize-q):E.wnext-q,q>E.length&&(q=E.length),re=E.window}else re=I,ne=L-E.offset,q=E.length;for(G<q&&(q=G),G-=q,E.length-=q;I[L++]=re[ne++],--q;);E.length===0&&(E.mode=21);break;case 26:if(G===0)break e;I[L++]=E.length,G--,E.mode=21;break;case 27:if(E.wrap){for(;H<32;){if(F===0)break e;F--,$|=B[P++]<<H,H+=8}if(Q-=G,M.total_out+=Q,E.total+=Q,Q&&(M.adler=E.check=E.flags?o(E.check,I,Q,L-Q):s(E.check,I,Q,L-Q)),Q=G,(E.flags?$:m($))!==E.check){M.msg="incorrect data check",E.mode=30;break}H=$=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;H<32;){if(F===0)break e;F--,$+=B[P++]<<H,H+=8}if($!==(4294967295&E.total)){M.msg="incorrect length check",E.mode=30;break}H=$=0}E.mode=29;case 29:z=1;break e;case 30:z=-3;break e;case 31:return-4;case 32:default:return p}return M.next_out=L,M.avail_out=G,M.next_in=P,M.avail_in=F,E.hold=$,E.bits=H,(E.wsize||Q!==M.avail_out&&E.mode<30&&(E.mode<27||R!==4))&&D(M,M.output,M.next_out,Q-M.avail_out)?(E.mode=31,-4):(J-=M.avail_in,Q-=M.avail_out,M.total_in+=J,M.total_out+=Q,E.total+=Q,E.wrap&&Q&&(M.adler=E.check=E.flags?o(E.check,I,Q,M.next_out-Q):s(E.check,I,Q,M.next_out-Q)),M.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),(J==0&&Q===0||R===4)&&z===h&&(z=-5),z)},a.inflateEnd=function(M){if(!M||!M.state)return p;var R=M.state;return R.window&&(R.window=null),M.state=null,h},a.inflateGetHeader=function(M,R){var E;return M&&M.state?(2&(E=M.state).wrap)==0?p:((E.head=R).done=!1,h):p},a.inflateSetDictionary=function(M,R){var E,B=R.length;return M&&M.state?(E=M.state).wrap!==0&&E.mode!==11?p:E.mode===11&&s(1,R,B,0)!==E.check?-3:D(M,R,B,B)?(E.mode=31,-4):(E.havedict=1,h):p},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,a){var i=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(f,l,h,p,v,y,_,m){var d,g,x,w,C,S,T,b,O,D=m.bits,M=0,R=0,E=0,B=0,I=0,P=0,L=0,F=0,G=0,$=0,H=null,J=0,Q=new i.Buf16(16),q=new i.Buf16(16),ne=null,re=0;for(M=0;M<=15;M++)Q[M]=0;for(R=0;R<p;R++)Q[l[h+R]]++;for(I=D,B=15;1<=B&&Q[B]===0;B--);if(B<I&&(I=B),B===0)return v[y++]=20971520,v[y++]=20971520,m.bits=1,0;for(E=1;E<B&&Q[E]===0;E++);for(I<E&&(I=E),M=F=1;M<=15;M++)if(F<<=1,(F-=Q[M])<0)return-1;if(0<F&&(f===0||B!==1))return-1;for(q[1]=0,M=1;M<15;M++)q[M+1]=q[M]+Q[M];for(R=0;R<p;R++)l[h+R]!==0&&(_[q[l[h+R]]++]=R);if(S=f===0?(H=ne=_,19):f===1?(H=s,J-=257,ne=o,re-=257,256):(H=c,ne=u,-1),M=E,C=y,L=R=$=0,x=-1,w=(G=1<<(P=I))-1,f===1&&852<G||f===2&&592<G)return 1;for(;;){for(T=M-L,O=_[R]<S?(b=0,_[R]):_[R]>S?(b=ne[re+_[R]],H[J+_[R]]):(b=96,0),d=1<<M-L,E=g=1<<P;v[C+($>>L)+(g-=d)]=T<<24|b<<16|O|0,g!==0;);for(d=1<<M-1;$&d;)d>>=1;if(d!==0?($&=d-1,$+=d):$=0,R++,--Q[M]==0){if(M===B)break;M=l[h+_[R]]}if(I<M&&($&w)!==x){for(L===0&&(L=I),C+=E,F=1<<(P=M-L);P+L<B&&!((F-=Q[P+L])<=0);)P++,F<<=1;if(G+=1<<P,f===1&&852<G||f===2&&592<G)return 1;v[x=$&w]=I<<24|P<<16|C-y|0}}return $!==0&&(v[C+$]=M-L<<24|64<<16|0),m.bits=I,0}},{"../utils/common":41}],51:[function(n,r,a){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,a){var i=n("../utils/common"),s=0,o=1;function c(X){for(var Z=X.length;0<=--Z;)X[Z]=0}var u=0,f=29,l=256,h=l+1+f,p=30,v=19,y=2*h+1,_=15,m=16,d=7,g=256,x=16,w=17,C=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=new Array(2*(h+2));c(D);var M=new Array(2*p);c(M);var R=new Array(512);c(R);var E=new Array(256);c(E);var B=new Array(f);c(B);var I,P,L,F=new Array(p);function G(X,Z,ae,ue,ie){this.static_tree=X,this.extra_bits=Z,this.extra_base=ae,this.elems=ue,this.max_length=ie,this.has_stree=X&&X.length}function $(X,Z){this.dyn_tree=X,this.max_code=0,this.stat_desc=Z}function H(X){return X<256?R[X]:R[256+(X>>>7)]}function J(X,Z){X.pending_buf[X.pending++]=255&Z,X.pending_buf[X.pending++]=Z>>>8&255}function Q(X,Z,ae){X.bi_valid>m-ae?(X.bi_buf|=Z<<X.bi_valid&65535,J(X,X.bi_buf),X.bi_buf=Z>>m-X.bi_valid,X.bi_valid+=ae-m):(X.bi_buf|=Z<<X.bi_valid&65535,X.bi_valid+=ae)}function q(X,Z,ae){Q(X,ae[2*Z],ae[2*Z+1])}function ne(X,Z){for(var ae=0;ae|=1&X,X>>>=1,ae<<=1,0<--Z;);return ae>>>1}function re(X,Z,ae){var ue,ie,pe=new Array(_+1),ve=0;for(ue=1;ue<=_;ue++)pe[ue]=ve=ve+ae[ue-1]<<1;for(ie=0;ie<=Z;ie++){var ce=X[2*ie+1];ce!==0&&(X[2*ie]=ne(pe[ce]++,ce))}}function oe(X){var Z;for(Z=0;Z<h;Z++)X.dyn_ltree[2*Z]=0;for(Z=0;Z<p;Z++)X.dyn_dtree[2*Z]=0;for(Z=0;Z<v;Z++)X.bl_tree[2*Z]=0;X.dyn_ltree[2*g]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function te(X){8<X.bi_valid?J(X,X.bi_buf):0<X.bi_valid&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function A(X,Z,ae,ue){var ie=2*Z,pe=2*ae;return X[ie]<X[pe]||X[ie]===X[pe]&&ue[Z]<=ue[ae]}function N(X,Z,ae){for(var ue=X.heap[ae],ie=ae<<1;ie<=X.heap_len&&(ie<X.heap_len&&A(Z,X.heap[ie+1],X.heap[ie],X.depth)&&ie++,!A(Z,ue,X.heap[ie],X.depth));)X.heap[ae]=X.heap[ie],ae=ie,ie<<=1;X.heap[ae]=ue}function U(X,Z,ae){var ue,ie,pe,ve,ce=0;if(X.last_lit!==0)for(;ue=X.pending_buf[X.d_buf+2*ce]<<8|X.pending_buf[X.d_buf+2*ce+1],ie=X.pending_buf[X.l_buf+ce],ce++,ue===0?q(X,ie,Z):(q(X,(pe=E[ie])+l+1,Z),(ve=S[pe])!==0&&Q(X,ie-=B[pe],ve),q(X,pe=H(--ue),ae),(ve=T[pe])!==0&&Q(X,ue-=F[pe],ve)),ce<X.last_lit;);q(X,g,Z)}function V(X,Z){var ae,ue,ie,pe=Z.dyn_tree,ve=Z.stat_desc.static_tree,ce=Z.stat_desc.has_stree,xe=Z.stat_desc.elems,Y=-1;for(X.heap_len=0,X.heap_max=y,ae=0;ae<xe;ae++)pe[2*ae]!==0?(X.heap[++X.heap_len]=Y=ae,X.depth[ae]=0):pe[2*ae+1]=0;for(;X.heap_len<2;)pe[2*(ie=X.heap[++X.heap_len]=Y<2?++Y:0)]=1,X.depth[ie]=0,X.opt_len--,ce&&(X.static_len-=ve[2*ie+1]);for(Z.max_code=Y,ae=X.heap_len>>1;1<=ae;ae--)N(X,pe,ae);for(ie=xe;ae=X.heap[1],X.heap[1]=X.heap[X.heap_len--],N(X,pe,1),ue=X.heap[1],X.heap[--X.heap_max]=ae,X.heap[--X.heap_max]=ue,pe[2*ie]=pe[2*ae]+pe[2*ue],X.depth[ie]=(X.depth[ae]>=X.depth[ue]?X.depth[ae]:X.depth[ue])+1,pe[2*ae+1]=pe[2*ue+1]=ie,X.heap[1]=ie++,N(X,pe,1),2<=X.heap_len;);X.heap[--X.heap_max]=X.heap[1],function(_e,Te){var Ce,se,he,de,ye,Se,Ne=Te.dyn_tree,De=Te.max_code,Ve=Te.stat_desc.static_tree,Pe=Te.stat_desc.has_stree,ft=Te.stat_desc.extra_bits,yt=Te.stat_desc.extra_base,Ke=Te.stat_desc.max_length,xt=0;for(de=0;de<=_;de++)_e.bl_count[de]=0;for(Ne[2*_e.heap[_e.heap_max]+1]=0,Ce=_e.heap_max+1;Ce<y;Ce++)Ke<(de=Ne[2*Ne[2*(se=_e.heap[Ce])+1]+1]+1)&&(de=Ke,xt++),Ne[2*se+1]=de,De<se||(_e.bl_count[de]++,ye=0,yt<=se&&(ye=ft[se-yt]),Se=Ne[2*se],_e.opt_len+=Se*(de+ye),Pe&&(_e.static_len+=Se*(Ve[2*se+1]+ye)));if(xt!==0){do{for(de=Ke-1;_e.bl_count[de]===0;)de--;_e.bl_count[de]--,_e.bl_count[de+1]+=2,_e.bl_count[Ke]--,xt-=2}while(0<xt);for(de=Ke;de!==0;de--)for(se=_e.bl_count[de];se!==0;)De<(he=_e.heap[--Ce])||(Ne[2*he+1]!==de&&(_e.opt_len+=(de-Ne[2*he+1])*Ne[2*he],Ne[2*he+1]=de),se--)}}(X,Z),re(pe,Y,X.bl_count)}function k(X,Z,ae){var ue,ie,pe=-1,ve=Z[1],ce=0,xe=7,Y=4;for(ve===0&&(xe=138,Y=3),Z[2*(ae+1)+1]=65535,ue=0;ue<=ae;ue++)ie=ve,ve=Z[2*(ue+1)+1],++ce<xe&&ie===ve||(ce<Y?X.bl_tree[2*ie]+=ce:ie!==0?(ie!==pe&&X.bl_tree[2*ie]++,X.bl_tree[2*x]++):ce<=10?X.bl_tree[2*w]++:X.bl_tree[2*C]++,pe=ie,Y=(ce=0)===ve?(xe=138,3):ie===ve?(xe=6,3):(xe=7,4))}function z(X,Z,ae){var ue,ie,pe=-1,ve=Z[1],ce=0,xe=7,Y=4;for(ve===0&&(xe=138,Y=3),ue=0;ue<=ae;ue++)if(ie=ve,ve=Z[2*(ue+1)+1],!(++ce<xe&&ie===ve)){if(ce<Y)for(;q(X,ie,X.bl_tree),--ce!=0;);else ie!==0?(ie!==pe&&(q(X,ie,X.bl_tree),ce--),q(X,x,X.bl_tree),Q(X,ce-3,2)):ce<=10?(q(X,w,X.bl_tree),Q(X,ce-3,3)):(q(X,C,X.bl_tree),Q(X,ce-11,7));pe=ie,Y=(ce=0)===ve?(xe=138,3):ie===ve?(xe=6,3):(xe=7,4)}}c(F);var j=!1;function K(X,Z,ae,ue){Q(X,(u<<1)+(ue?1:0),3),function(ie,pe,ve,ce){te(ie),ce&&(J(ie,ve),J(ie,~ve)),i.arraySet(ie.pending_buf,ie.window,pe,ve,ie.pending),ie.pending+=ve}(X,Z,ae,!0)}a._tr_init=function(X){j||(function(){var Z,ae,ue,ie,pe,ve=new Array(_+1);for(ie=ue=0;ie<f-1;ie++)for(B[ie]=ue,Z=0;Z<1<<S[ie];Z++)E[ue++]=ie;for(E[ue-1]=ie,ie=pe=0;ie<16;ie++)for(F[ie]=pe,Z=0;Z<1<<T[ie];Z++)R[pe++]=ie;for(pe>>=7;ie<p;ie++)for(F[ie]=pe<<7,Z=0;Z<1<<T[ie]-7;Z++)R[256+pe++]=ie;for(ae=0;ae<=_;ae++)ve[ae]=0;for(Z=0;Z<=143;)D[2*Z+1]=8,Z++,ve[8]++;for(;Z<=255;)D[2*Z+1]=9,Z++,ve[9]++;for(;Z<=279;)D[2*Z+1]=7,Z++,ve[7]++;for(;Z<=287;)D[2*Z+1]=8,Z++,ve[8]++;for(re(D,h+1,ve),Z=0;Z<p;Z++)M[2*Z+1]=5,M[2*Z]=ne(Z,5);I=new G(D,S,l+1,h,_),P=new G(M,T,0,p,_),L=new G(new Array(0),b,0,v,d)}(),j=!0),X.l_desc=new $(X.dyn_ltree,I),X.d_desc=new $(X.dyn_dtree,P),X.bl_desc=new $(X.bl_tree,L),X.bi_buf=0,X.bi_valid=0,oe(X)},a._tr_stored_block=K,a._tr_flush_block=function(X,Z,ae,ue){var ie,pe,ve=0;0<X.level?(X.strm.data_type===2&&(X.strm.data_type=function(ce){var xe,Y=4093624447;for(xe=0;xe<=31;xe++,Y>>>=1)if(1&Y&&ce.dyn_ltree[2*xe]!==0)return s;if(ce.dyn_ltree[18]!==0||ce.dyn_ltree[20]!==0||ce.dyn_ltree[26]!==0)return o;for(xe=32;xe<l;xe++)if(ce.dyn_ltree[2*xe]!==0)return o;return s}(X)),V(X,X.l_desc),V(X,X.d_desc),ve=function(ce){var xe;for(k(ce,ce.dyn_ltree,ce.l_desc.max_code),k(ce,ce.dyn_dtree,ce.d_desc.max_code),V(ce,ce.bl_desc),xe=v-1;3<=xe&&ce.bl_tree[2*O[xe]+1]===0;xe--);return ce.opt_len+=3*(xe+1)+5+5+4,xe}(X),ie=X.opt_len+3+7>>>3,(pe=X.static_len+3+7>>>3)<=ie&&(ie=pe)):ie=pe=ae+5,ae+4<=ie&&Z!==-1?K(X,Z,ae,ue):X.strategy===4||pe===ie?(Q(X,2+(ue?1:0),3),U(X,D,M)):(Q(X,4+(ue?1:0),3),function(ce,xe,Y,_e){var Te;for(Q(ce,xe-257,5),Q(ce,Y-1,5),Q(ce,_e-4,4),Te=0;Te<_e;Te++)Q(ce,ce.bl_tree[2*O[Te]+1],3);z(ce,ce.dyn_ltree,xe-1),z(ce,ce.dyn_dtree,Y-1)}(X,X.l_desc.max_code+1,X.d_desc.max_code+1,ve+1),U(X,X.dyn_ltree,X.dyn_dtree)),oe(X),ue&&te(X)},a._tr_tally=function(X,Z,ae){return X.pending_buf[X.d_buf+2*X.last_lit]=Z>>>8&255,X.pending_buf[X.d_buf+2*X.last_lit+1]=255&Z,X.pending_buf[X.l_buf+X.last_lit]=255&ae,X.last_lit++,Z===0?X.dyn_ltree[2*ae]++:(X.matches++,Z--,X.dyn_ltree[2*(E[ae]+l+1)]++,X.dyn_dtree[2*H(Z)]++),X.last_lit===X.lit_bufsize-1},a._tr_align=function(X){Q(X,2,3),q(X,g,D),function(Z){Z.bi_valid===16?(J(Z,Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0):8<=Z.bi_valid&&(Z.pending_buf[Z.pending++]=255&Z.bi_buf,Z.bi_buf>>=8,Z.bi_valid-=8)}(X)}},{"../utils/common":41}],53:[function(n,r,a){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,a){r.exports=typeof setImmediate=="function"?setImmediate:function(){var i=[].slice.apply(arguments);i.splice(1,0,0),setTimeout.apply(null,i)}},{}]},{},[10])(10)})})(wd);var Qw=wd.exports,sa=W.vtkErrorMacro,eC=W.vtkDebugMacro;function tC(t){var e=t.split(".").pop().toLowerCase();return e==="jpg"?"jpeg":e}function rC(t,e,n){return function(r){t.buffer=new ArrayBuffer(r.length);var a=new Uint8Array(t.buffer);a.set(r),e&&(t.dataType==="string"||t.dataType==="JSON"?t.buffer=ar.inflate(new Uint8Array(t.buffer),{to:"string"}):t.buffer=ar.inflate(new Uint8Array(t.buffer)).buffer),t.ref.encode==="JSON"?t.values=JSON.parse(t.buffer):(Wr.ENDIANNESS!==t.ref.encode&&Wr.ENDIANNESS&&(eC("Swap bytes of ".concat(t.name)),Wr.swapBytes(t.buffer,Ts[t.dataType])),t.values=W.newTypedArray(t.dataType,t.buffer)),t.values.length!==t.size&&sa("Error in FetchArray: ".concat(t.name," does not have the proper array size. Got ").concat(t.values.length,", instead of ").concat(t.size)),n()}}function nC(t,e,n){return function(r){e?t.values=JSON.parse(ar.inflate(r,{to:"string"})):t.values=JSON.parse(r),n()}}var aC={uint8array:rC,string:nC};function iC(t){return t[0]==="/"?t.substr(1):t}function oC(t){return new URL(t,"http://any").pathname}function za(t){return iC(oC(t))}function sC(t){var e=!1,n=0,r=new Qw,a=r;return r.loadAsync(t.zipContent).then(function(){e=!0;var i=[];r.forEach(function(c,u){c.indexOf("index.json")!==-1&&i.push(c)}),i.sort(function(c,u){return c.length-u.length});for(var s=i[0].split("/");s.length>1;){var o=s.shift();a=a.folder(o)}t.callback&&t.callback(r)}),{fetchArray:function(s,o,c){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return new Promise(function(f,l){e||sa("ERROR!!! zip not ready...");var h=za([o,c.ref.basepath,u.compression?"".concat(c.ref.id,".gz"):c.ref.id].join("/"));++n===1&&s!==null&&s!==void 0&&s.invokeBusy&&s.invokeBusy(!0);function p(){delete c.ref,--n===0&&s!==null&&s!==void 0&&s.invokeBusy&&s.invokeBusy(!1),s!=null&&s.modified&&s.modified(),f(c)}var v=c.dataType==="string"&&!u.compression?"string":"uint8array",y=aC[v](c,u.compression,p);a.file(h).async(v).then(y)})},fetchJSON:function(s,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=za(o);return e||sa("ERROR!!! zip not ready..."),c.compression?c.compression==="gz"?a.file(u).async("uint8array").then(function(f){var l=ar.inflate(f,{to:"string"});return Promise.resolve(JSON.parse(l))}):Promise.reject(new Error("Invalid compression")):a.file(u).async("string").then(function(f){return Promise.resolve(JSON.parse(f))})},fetchText:function(s,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=za(o);return e||sa("ERROR!!! zip not ready..."),c.compression?c.compression==="gz"?a.file(u).async("uint8array").then(function(f){var l=ar.inflate(f,{to:"string"});return Promise.resolve(l)}):Promise.reject(new Error("Invalid compression")):a.file(u).async("string").then(function(f){return Promise.resolve(f)})},fetchImage:function(s,o){var c=za(o);return e||sa("ERROR!!! zip not ready..."),new Promise(function(u,f){var l=new Image;l.onload=function(){return u(l)},l.onerror=f,a.file(c).async("base64").then(function(h){l.src="data:image/".concat(tC(c),";base64,").concat(h)})})},fetchBinary:function(s,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=za(o);return e||sa("ERROR!!! zip not ready..."),c.compression?c.compression==="gz"?a.file(u).then(function(f){var l=ar.inflate(f).buffer;return Promise.resolve(l)}):Promise.reject(new Error("Invalid compression")):a.file(u).async("arraybuffer").then(function(f){return Promise.resolve(f)})}}}var uC={create:sC};Bs("zip",function(t){return uC.create(t)});var cC=function(e){return e},fC=Ae(new Float64Array(16)),Zl=1e-6,Cd=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;dt(this,t),this.matrix=Ae(new Float64Array(16)),this.tmp=new Float64Array(3),this.angleConv=e?Qg:cC}return gt(t,[{key:"rotateFromDirections",value:function(n,r){var a=new Float64Array(3),i=new Float64Array(3),s=new Float64Array(16);Ze(a,n[0],n[1],n[2]),Ze(i,r[0],r[1],r[2]),mr(a,a),mr(i,i);var o=Vn(a,i);return o>=1?this:(Ln(this.tmp,a,i),Fn(this.tmp)<Zl&&(Ln(this.tmp,[1,0,0],n),Fn(this.tmp)<Zl&&Ln(this.tmp,[0,1,0],n)),zh(s,Math.acos(o),this.tmp),ct(this.matrix,this.matrix,s),this)}},{key:"rotate",value:function(n,r){return Ze.apply(b3,[this.tmp].concat(we(r))),mr(this.tmp,this.tmp),St(this.matrix,this.matrix,this.angleConv(n),this.tmp),this}},{key:"rotateX",value:function(n){return xs(this.matrix,this.matrix,this.angleConv(n)),this}},{key:"rotateY",value:function(n){return vi(this.matrix,this.matrix,this.angleConv(n)),this}},{key:"rotateZ",value:function(n){return ws(this.matrix,this.matrix,this.angleConv(n)),this}},{key:"translate",value:function(n,r,a){return Ze(this.tmp,n,r,a),nt(this.matrix,this.matrix,this.tmp),this}},{key:"scale",value:function(n,r,a){return Ze(this.tmp,n,r,a),Bn(this.matrix,this.matrix,this.tmp),this}},{key:"multiply",value:function(n){return ct(this.matrix,this.matrix,n),this}},{key:"identity",value:function(){return Ae(this.matrix),this}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(_5(fC,this.matrix))return this;for(var i=a===-1?n.length:r+a*3,s=r;s<i;s+=3)Ze(this.tmp,n[s],n[s+1],n[s+2]),be(this.tmp,this.tmp,this.matrix),n[s]=this.tmp[0],n[s+1]=this.tmp[1],n[s+2]=this.tmp[2];return this}},{key:"getMatrix",value:function(){return this.matrix}},{key:"setMatrix",value:function(n){return!!n&&n.length===16&&zt(this.matrix,n),this}}]),t}();function lC(){return new Cd(!0)}function hC(){return new Cd(!1)}var Xt={buildFromDegree:lC,buildFromRadian:hC};function pC(t,e){e.classHierarchy.push("vtkConcentricCylinderSource");function n(){for(;e.cellFields.length<e.radius.length;)e.cellFields.push(e.cellFields.length)}t.clearRadius=function(){e.radius=[],e.cellFields=[],t.modified()},t.addRadius=function(a,i){e.radius.push(a),i!==void 0&&e.cellFields.push(i),n(),t.modified()},t.getNumberOfRadius=function(){return e.radius.length},t.getRadius=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.radius[a]},t.setRadius=function(a,i){e.radius[a]=i,t.modified()},t.setCellField=function(a,i){e.cellFields[a]=i,t.modified()},t.removeMask=function(){e.mask=null,t.modified()},t.setMaskLayer=function(a,i){var s=!1;!e.mask&&i&&(s=!0,e.mask=[]),e.mask&&(!e.mask[a]!=!i&&(s=!0),e.mask[a]=i),s&&t.modified()},t.getMaskLayer=function(a){return a===void 0?e.mask:e.mask[a]};function r(a,i){var s;if(!(e.deleted||!e.radius.length)){n();var o=i[0],c=e.radius.length,u=e.height/2,f=0,l=0,h=e.startTheta<e.endTheta?e.startTheta:e.endTheta;h*=Math.PI/180;var p=e.endTheta>e.startTheta?e.endTheta:e.startTheta;p*=Math.PI/180;var v=e.resolution,y=!1;p>=h+2*Math.PI?p=h+2*Math.PI:(++v,y=!0);var _=(p-h)/e.resolution,m=v*c*2+2;if(!e.skipInnerFaces&&!e.mask)f=2*(v+1)+5*v+(c-1)*v*20+(y?10*c:0),l=2+v+(c-1)*4*v+(y?2*c:0);else if(!e.skipInnerFaces&&e.mask){e.mask[0]||(f+=2*(v+1)+5*v+(y?10:0),l+=2+v+(y?2:0));for(var d=1;d<c;d++)e.mask[d]||(f+=v*20+(y?10:0),l+=4*v+(y?2:0))}else{(!e.skipInnerFaces||!e.mask||!e.mask[0])&&(f+=2*(v+1)+(y?10:0),l+=2+(y?2:0),(e.radius.length===1||!e.skipInnerFaces||e.mask&&e.mask[1])&&(f+=5*v,l+=v));for(var g=1;g<c;g++)if(!e.skipInnerFaces||!e.mask||!e.mask[g]){var x=c-1===g;f+=v*10+(y?10:0),l+=v*2+(y?2:0),(!e.skipInnerFaces||e.mask&&e.mask[g-1])&&(f+=v*5,l+=v),(x||!e.skipInnerFaces||e.mask&&e.mask[g+1])&&(f+=v*5,l+=v)}}var w=0,C=W.newTypedArray(e.pointType,m*3),S=0,T=new Uint32Array(f),b=0,O=new Float32Array(l);C[w*3+0]=0,C[w*3+1]=0,C[w*3+2]=u,w++,C[w*3+0]=0,C[w*3+1]=0,C[w*3+2]=-u,w++;for(var D=0;D<c;D++){for(var M=e.radius[D],R=0;R<v;R++){var E=h+R*_;C[w*3+0]=M*Math.cos(E),C[w*3+1]=M*Math.sin(E),C[w*3+2]=u,w++}for(var B=0;B<v;B++){var I=h+B*_;C[w*3+0]=M*Math.cos(I),C[w*3+1]=M*Math.sin(I),C[w*3+2]=-u,w++}}var P=e.cellFields[0];if(!e.mask||!e.mask[0]){O[b++]=P,T[S++]=v+(y?1:0),y&&(T[S++]=0);for(var L=0;L<v;L++)T[S++]=L+2;O[b++]=P,T[S++]=v+(y?1:0),y&&(T[S++]=1);for(var F=0;F<v;F++)T[S++]=2*v-F-1+2;if(!e.skipInnerFaces||e.mask&&e.mask[1]||c===1)for(var G=0;G<e.resolution;G++)T[S++]=4,T[S++]=(G+1)%v+2,T[S++]=G+2,T[S++]=G+v+2,T[S++]=(G+1)%v+v+2,O[b++]=P;y&&(T[S++]=4,T[S++]=2,T[S++]=0,T[S++]=1,T[S++]=v+2,O[b++]=P,T[S++]=4,T[S++]=0,T[S++]=v+1,T[S++]=2*v+1,T[S++]=1,O[b++]=P)}for(var $=1;$<c;$++)if(!(e.mask&&e.mask[$])){var H=v*2*($-1)+2,J=H+2*v,Q=c-1===$;P=e.cellFields[$];for(var q=0;q<e.resolution;q++)T[S++]=4,T[S++]=q+H,T[S++]=(q+1)%v+H,T[S++]=(q+1)%v+J,T[S++]=q+J,O[b++]=P;for(var ne=0;ne<e.resolution;ne++)T[S++]=4,T[S++]=(ne+1)%v+H+v,T[S++]=ne+H+v,T[S++]=ne+J+v,T[S++]=(ne+1)%v+J+v,O[b++]=P;if(!e.skipInnerFaces||e.mask&&e.mask[$-1])for(var re=0;re<e.resolution;re++)T[S++]=4,T[S++]=re+H,T[S++]=(re+1)%v+H,T[S++]=(re+1)%v+v+H,T[S++]=re+v+H,O[b++]=P;if(!e.skipInnerFaces||Q||e.mask&&(e.mask[$+1]||Q))for(var oe=0;oe<e.resolution;oe++)T[S++]=4,T[S++]=(oe+1)%v+J,T[S++]=oe+J,T[S++]=oe+v+J,T[S++]=(oe+1)%v+v+J,O[b++]=P;y&&(T[S++]=4,T[S++]=J,T[S++]=H,T[S++]=v+H,T[S++]=v+J,O[b++]=P,T[S++]=4,T[S++]=e.resolution+J,T[S++]=e.resolution+H,T[S++]=e.resolution+v+H,T[S++]=e.resolution+v+J,O[b++]=P)}(s=Xt.buildFromRadian()).translate.apply(s,we(e.center)).rotateFromDirections([0,0,1],e.direction).apply(C),o=at.newInstance(),o.getPoints().setData(C,3),o.getPolys().setData(T,1),o.getCellData().setScalars(Ee.newInstance({name:"layer",values:O})),i[0]=o}}t.requestData=r}var vC={height:1,radius:[.5],cellFields:[1],resolution:6,startTheta:0,endTheta:360,center:[0,0,0],direction:[0,0,1],skipInnerFaces:!0,mask:null,pointType:"Float64Array"};function dC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,vC,n),W.obj(t,e),W.setGet(t,e,["height","resolution","startTheta","endTheta","skipInnerFaces"]),W.setGetArray(t,e,["center","direction"],3),W.getArray(t,e,["cellFields"]),W.algo(t,e,0,1),pC(t,e)}W.newInstance(dC,"vtkConcentricCylinderSource");function gC(t,e){e.classHierarchy.push("vtkConeSource");function n(r,a){var i;if(!e.deleted){var s=a[0],o=2*Math.PI/e.resolution,c=-e.height/2,u=e.resolution+1,f=4*e.resolution+1+e.resolution,l=0,h=W.newTypedArray(e.pointType,u*3),p=0,v=new Uint32Array(f);h[0]=e.height/2,h[1]=0,h[2]=0,e.capping&&(v[p++]=e.resolution);for(var y=0;y<e.resolution;y++)l++,h[l*3+0]=c,h[l*3+1]=e.radius*Math.cos(y*o),h[l*3+2]=e.radius*Math.sin(y*o),e.capping&&(v[e.resolution-p+++1]=l);for(var _=0;_<e.resolution;_++)v[p++]=3,v[p++]=0,v[p++]=_+1,v[p++]=_+2>e.resolution?1:_+2;(i=Xt.buildFromRadian()).translate.apply(i,we(e.center)).rotateFromDirections([1,0,0],e.direction).apply(h),s=at.newInstance(),s.getPoints().setData(h,3),s.getPolys().setData(v,1),a[0]=s}}t.requestData=n}var yC={height:1,radius:.5,resolution:6,center:[0,0,0],direction:[1,0,0],capping:!0,pointType:"Float64Array"};function Sd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,yC,n),W.obj(t,e),W.setGet(t,e,["height","radius","resolution","capping"]),W.setGetArray(t,e,["center","direction"],3),W.algo(t,e,0,1),gC(t,e)}var mC=W.newInstance(Sd,"vtkConeSource"),_C={newInstance:mC,extend:Sd};function xC(t,e){e.classHierarchy.push("vtkCubeSource");function n(r,a){var i;if(!e.deleted){var s=at.newInstance();a[0]=s;var o=6,c=24,u=W.newTypedArray(e.pointType,c*3);s.getPoints().setData(u,3);var f=W.newTypedArray(e.pointType,c*3),l=Ee.newInstance({name:"Normals",values:f,numberOfComponents:3});s.getPointData().setNormals(l);var h=2;e.generate3DTextureCoordinates===!0&&(h=3);var p=W.newTypedArray(e.pointType,c*h),v=Ee.newInstance({name:"TextureCoordinates",values:p,numberOfComponents:h});s.getPointData().setTCoords(v);var y=[0,0,0],_=[0,0,0],m=[0,0],d=0;y[0]=-e.xLength/2,_[0]=-1,_[1]=0,_[2]=0;for(var g=0;g<2;g++){y[1]=-e.yLength/2;for(var x=0;x<2;x++){m[1]=y[1]+.5,y[2]=-e.zLength/2;for(var w=0;w<2;w++)m[0]=(y[2]+.5)*(1-2*g),u[d*3]=y[0],u[d*3+1]=y[1],u[d*3+2]=y[2],f[d*3]=_[0],f[d*3+1]=_[1],f[d*3+2]=_[2],h===2?(p[d*h]=m[0],p[d*h+1]=m[1]):(p[d*h]=2*g-1,p[d*h+1]=2*x-1,p[d*h+2]=2*w-1),d++,y[2]+=e.zLength;y[1]+=e.yLength}y[0]+=e.xLength,_[0]+=2}y[1]=-e.yLength/2,_[1]=-1,_[0]=0,_[2]=0;for(var C=0;C<2;C++){y[0]=-e.xLength/2;for(var S=0;S<2;S++){m[0]=(y[0]+.5)*(2*C-1),y[2]=-e.zLength/2;for(var T=0;T<2;T++)m[1]=(y[2]+.5)*-1,u[d*3]=y[0],u[d*3+1]=y[1],u[d*3+2]=y[2],f[d*3]=_[0],f[d*3+1]=_[1],f[d*3+2]=_[2],h===2?(p[d*h]=m[0],p[d*h+1]=m[1]):(p[d*h]=2*S-1,p[d*h+1]=2*C-1,p[d*h+2]=2*T-1),d++,y[2]+=e.zLength;y[0]+=e.xLength}y[1]+=e.yLength,_[1]+=2}y[2]=-e.zLength/2,_[2]=-1,_[0]=0,_[1]=0;for(var b=0;b<2;b++){y[1]=-e.yLength/2;for(var O=0;O<2;O++){m[1]=y[1]+.5,y[0]=-e.xLength/2;for(var D=0;D<2;D++)m[0]=(y[0]+.5)*(2*b-1),u[d*3]=y[0],u[d*3+1]=y[1],u[d*3+2]=y[2],f[d*3]=_[0],f[d*3+1]=_[1],f[d*3+2]=_[2],h===2?(p[d*h]=m[0],p[d*h+1]=m[1]):(p[d*h]=2*D-1,p[d*h+1]=2*O-1,p[d*h+2]=2*b-1),d++,y[0]+=e.xLength;y[1]+=e.yLength}y[2]+=e.zLength,_[2]+=2}Xt.buildFromDegree().rotateX(e.rotations[0]).rotateY(e.rotations[1]).rotateZ(e.rotations[2]).apply(u).apply(f),(i=Xt.buildFromRadian()).translate.apply(i,we(e.center)).apply(u);var M=new Uint16Array(o*5);s.getPolys().setData(M,1);var R=0;M[R++]=4,M[R++]=0,M[R++]=1,M[R++]=3,M[R++]=2,M[R++]=4,M[R++]=4,M[R++]=6,M[R++]=7,M[R++]=5,M[R++]=4,M[R++]=8,M[R++]=10,M[R++]=11,M[R++]=9,M[R++]=4,M[R++]=12,M[R++]=13,M[R++]=15,M[R++]=14,M[R++]=4,M[R++]=16,M[R++]=18,M[R++]=19,M[R++]=17,M[R++]=4,M[R++]=20,M[R++]=21,M[R++]=23,M[R]=22}}t.setBounds=function(){var r=[];if(Array.isArray(arguments.length<=0?void 0:arguments[0]))r=arguments.length<=0?void 0:arguments[0];else for(var a=0;a<arguments.length;a++)r.push(a<0||arguments.length<=a?void 0:arguments[a]);r.length===6&&(e.xLength=r[1]-r[0],e.yLength=r[3]-r[2],e.zLength=r[5]-r[4],e.center=[(r[0]+r[1])/2,(r[2]+r[3])/2,(r[4]+r[5])/2])},t.requestData=n}var wC={xLength:1,yLength:1,zLength:1,center:[0,0,0],rotations:[0,0,0],pointType:"Float64Array",generate3DTextureCoordinates:!1};function CC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,wC,n),W.obj(t,e),W.setGet(t,e,["xLength","yLength","zLength","generate3DTextureCoordinates"]),W.setGetArray(t,e,["center","rotations"],3),W.algo(t,e,0,1),xC(t,e)}W.newInstance(CC,"vtkCubeSource");function SC(t,e){e.classHierarchy.push("vtkCylinderSource");function n(r,a){var i,s;if(!e.deleted){var o=a[0],c=2*Math.PI/e.resolution,u=2*e.resolution,f=5*e.resolution;e.capping&&(u=4*e.resolution,f=7*e.resolution+2);for(var l=W.newTypedArray(e.pointType,u*3),h=0,p=new Uint32Array(f),v=new Float32Array(u*3),y=Ee.newInstance({numberOfComponents:3,values:v,name:"Normals"}),_=new Float32Array(u*2),m=Ee.newInstance({numberOfComponents:2,values:_,name:"TCoords"}),d=[0,0,0],g=[0,0,0],x=[0,0,0],w=[0,0,0],C=[0,0],S=[0,0],T=e.otherRadius==null?e.radius:e.otherRadius,b=0;b<e.resolution;b++){d[0]=Math.cos(b*c+e.initAngle),g[0]=d[0],x[0]=e.radius*d[0]+e.center[0],w[0]=x[0],C[0]=Math.abs(2*b/e.resolution-1),S[0]=C[0],x[1]=.5*e.height+e.center[1],w[1]=-.5*e.height+e.center[1],C[1]=0,S[1]=1,d[2]=-Math.sin(b*c+e.initAngle),g[2]=d[2],x[2]=T*d[2]+e.center[2],w[2]=x[2];for(var O=2*b,D=0;D<3;D++)v[O*3+D]=d[D],v[(O+1)*3+D]=g[D],l[O*3+D]=x[D],l[(O+1)*3+D]=w[D],D<2&&(_[O*2+D]=C[D],_[(O+1)*2+D]=S[D])}for(var M=0;M<e.resolution;M++){p[h++]=4,p[h++]=2*M,p[h++]=2*M+1;var R=(2*M+3)%(2*e.resolution);p[h++]=R,p[h++]=R-1}if(e.capping){for(var E=0;E<e.resolution;E++){x[0]=e.radius*Math.cos(E*c+e.initAngle),w[0]=x[0],C[0]=x[0],S[0]=x[0],x[0]+=e.center[0],w[0]+=e.center[0],d[1]=1,g[1]=-1,x[1]=.5*e.height+e.center[1],w[1]=-.5*e.height+e.center[1],x[2]=-T*Math.sin(E*c+e.initAngle),w[2]=x[2],C[1]=x[2],S[1]=x[2],x[2]+=e.center[2],w[2]+=e.center[2];for(var B=2*e.resolution+E,I=3*e.resolution+e.resolution-E-1,P=0;P<3;P++)v[3*B+P]=d[P],v[3*I+P]=g[P],l[3*B+P]=x[P],l[3*I+P]=w[P],P<2&&(_[2*B+P]=C[P],_[2*I+P]=S[P])}p[h++]=e.resolution;for(var L=0;L<e.resolution;L++)p[h++]=2*e.resolution+L;p[h++]=e.resolution;for(var F=0;F<e.resolution;F++)p[h++]=3*e.resolution+F}(i=(s=Xt.buildFromRadian()).translate.apply(s,we(e.center)).rotateFromDirections([0,1,0],e.direction)).translate.apply(i,we(e.center.map(function(G){return G*-1}))).apply(l),o=at.newInstance(),o.getPoints().setData(l,3),o.getPolys().setData(p,1),o.getPointData().setNormals(y),o.getPointData().setTCoords(m),a[0]=o}}t.requestData=n}var TC={height:1,initAngle:0,radius:1,resolution:6,center:[0,0,0],direction:[0,1,0],capping:!0,pointType:"Float64Array"};function Td(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,TC,n),W.obj(t,e),W.setGet(t,e,["height","initAngle","otherRadius","radius","resolution","capping"]),W.setGetArray(t,e,["center","direction"],3),W.algo(t,e,0,1),SC(t,e)}var bC=W.newInstance(Td,"vtkCylinderSource"),EC={newInstance:bC,extend:Td},DC=W.vtkWarningMacro;function OC(t,e){e.classHierarchy.push("vtkLineSource"),t.requestData=function(n,r){if(!e.deleted){var a=r[0],i=a?a.getPoints().getDataType():e.pointType,s=at.newInstance(),o=[];if(Gt(e.point2,e.point1,o),Pn(o)<=0){DC("Zero-length line definition");return}var c=e.resolution,u=c+1,f=W.newTypedArray(i,u*3);s.getPoints().setData(f,3);var l=new Uint32Array(u+1);s.getLines().setData(l,1);for(var h=0,p=0,v=0;v<c+1;v++)p=v/c,f[h*3]=e.point1[0]+p*o[0],f[h*3+1]=e.point1[1]+p*o[1],f[h*3+2]=e.point1[2]+p*o[2],h++;h=0,l[0]=u;for(var y=0;y<u;y++)l[y+1]=y;r[0]=s}}}var NC={resolution:10,point1:[-1,0,0],point2:[1,0,0],pointType:"Float64Array"};function MC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,NC,n),W.obj(t,e),W.setGet(t,e,["resolution"]),W.setGetArray(t,e,["point1","point2"],3),W.algo(t,e,0,1),OC(t,e)}W.newInstance(MC,"vtkLineSource");var kC=W.vtkWarningMacro,RC=1e-6;function FC(t,e){e.classHierarchy.push("vtkPlaneSource"),t.requestData=function(n,r){if(!e.deleted){var a=r[0],i=a?a.getPoints().getDataType():e.pointType,s=at.newInstance(),o=[],c=[];if(Gt(e.point1,e.origin,o),Gt(e.point2,e.origin,c),!t.updatePlane(o,c)){kC("Bad plane definition");return}var u=e.xResolution,f=e.yResolution,l=(u+1)*(f+1),h=u*f,p=W.newTypedArray(i,l*3);s.getPoints().setData(p,3);var v=new Uint32Array(5*h);s.getPolys().setData(v,1);var y=new Float32Array(l*3),_=Ee.newInstance({numberOfComponents:3,values:y,name:"Normals"});s.getPointData().setNormals(_);var m=new Float32Array(l*2),d=Ee.newInstance({numberOfComponents:2,values:m,name:"TextureCoordinates"});s.getPointData().setTCoords(d);for(var g=new Float32Array(2),x=0,w=0;w<f+1;w++){g[1]=w/f;for(var C=0;C<u+1;C++)g[0]=C/u,p[x*3]=e.origin[0]+g[0]*o[0]+g[1]*c[0],p[x*3+1]=e.origin[1]+g[0]*o[1]+g[1]*c[1],p[x*3+2]=e.origin[2]+g[0]*o[2]+g[1]*c[2],m[x*2]=g[0],m[x*2+1]=g[1],y[x*3]=e.normal[0],y[x*3+1]=e.normal[1],y[x*3+2]=e.normal[2],x++}x=0;for(var S=0;S<f;S++)for(var T=0;T<u;T++)v[x*5+0]=4,v[x*5+1]=T+S*(u+1),v[x*5+2]=v[x*5+1]+1,v[x*5+3]=v[x*5+1]+u+2,v[x*5+4]=v[x*5+1]+u+1,x++;r[0]=s}},t.setNormal=function(){var n=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=we(arguments.length<=0?void 0:arguments[0]):arguments.length===3&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),lt(n)!==0){var r=Be(e.normal,n),a=0,i=[];r<1&&(r<=-1?(a=rt(180),Gt(e.point1,e.origin,i)):(kt(e.normal,n,i),a=Math.acos(r)),t.rotate(a,i))}},t.rotate=function(n,r){if(!(Math.abs(n)<RC)){var a=Ae(new Float64Array(16)),i=[];n1(i,e.center),nt(a,a,e.center),St(a,a,n,r),nt(a,a,i),be(e.origin,e.origin,a),be(e.point1,e.point1,a),be(e.point2,e.point2,a),Xt.buildFromRadian().rotate(n,r).apply(e.normal),t.modified()}},t.setCenter=function(){var n=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=we(arguments.length<=0?void 0:arguments[0]):arguments.length===3&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!da(n,e.center)){var r=[];Gt(e.point1,e.origin,r);var a=[];Gt(e.point2,e.origin,a);for(var i=0;i<3;i++)e.center[i]=n[i],e.origin[i]=e.center[i]-.5*(r[i]+a[i]),e.point1[i]=e.origin[i]+r[i],e.point2[i]=e.origin[i]+a[i];t.modified()}},t.setPoint1=function(){var n=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=we(arguments.length<=0?void 0:arguments[0]):arguments.length===3&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!da(n,e.point1)){var r=[],a=[];e.point1=we(n),Gt(e.point1,e.origin,r),Gt(e.point2,e.origin,a),t.updatePlane(r,a),t.modified()}},t.setPoint2=function(){var n=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=we(arguments.length<=0?void 0:arguments[0]):arguments.length===3&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!da(n,e.point2)){var r=[],a=[];e.point2=we(n),Gt(e.point1,e.origin,r),Gt(e.point2,e.origin,a),t.updatePlane(r,a),t.modified()}},t.updatePlane=function(n,r){for(var a=0;a<3;a++)e.center[a]=e.origin[a]+.5*(n[a]+r[a]);return kt(n,r,e.normal),lt(e.normal)!==0}}var LC={xResolution:10,yResolution:10,origin:[0,0,0],point1:[1,0,0],point2:[0,1,0],pointType:"Float64Array"};function AC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,LC,n),e.normal=[0,0,1],e.center=[0,0,0],W.obj(t,e),W.setGet(t,e,["xResolution","yResolution"]),W.setGetArray(t,e,["origin"],3),W.getArray(t,e,["point1","point2","normal","center"],3),W.algo(t,e,0,1),FC(t,e),t.setPoint1(e.point1),t.setPoint2(e.point2)}W.newInstance(AC,"vtkPlaneSource");function BC(t,e){e.classHierarchy.push("vtkPointSource"),t.requestData=function(n,r){if(!e.deleted){var a=r[0],i=a?a.getPoints().getDataType():e.pointType,s=at.newInstance(),o=e.numberOfPoints,c=W.newTypedArray(i,o*3);s.getPoints().setData(c,3);var u=new Uint32Array(o+1);s.getVerts().setData(u,1);for(var f,l,h,p,v,y=0;y<o;y++)f=1-2*$s(),l=Math.sqrt(1-f*f),h=e.radius*Math.pow($s(),.33333333),p=h*l,v=2*Math.PI*$s(),c[y*3]=e.center[0]+p*Math.cos(v),c[y*3+1]=e.center[1]+p*Math.sin(v),c[y*3+2]=e.center[2]+h*f;u[0]=o;for(var _=0;_<o;_++)u[_+1]=_;r[0]=s}}}var VC={numberOfPoints:10,center:[0,0,0],radius:.5,pointType:"Float64Array"};function UC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,VC,n),W.obj(t,e),W.setGet(t,e,["numberOfPoints","radius"]),W.setGetArray(t,e,["center"],3),W.algo(t,e,0,1),BC(t,e)}W.newInstance(UC,"vtkPointSource");function GC(t,e){e.classHierarchy.push("vtkSphereSource"),t.requestData=function(n,r){if(!e.deleted){var a=r[0],i=a?a.getPoints().getDataType():e.pointType;a=at.newInstance();var s=0,o=e.thetaResolution,c=e.startTheta<e.endTheta?e.startTheta:e.endTheta;c*=Math.PI/180;var u=e.endTheta>e.startTheta?e.endTheta:e.startTheta;u*=Math.PI/180;var f=e.startPhi<e.endPhi?e.startPhi:e.endPhi;f*=Math.PI/180;var l=e.endPhi>e.startPhi?e.endPhi:e.startPhi;l*=Math.PI/180,Math.abs(c-u)<2*Math.PI&&++o;var h=(u-c)/e.thetaResolution,p=e.startPhi<=0?1:0,v=e.phiResolution+(e.endPhi>=180?-1:0),y=e.phiResolution*o+2,_=e.phiResolution*2*e.thetaResolution,m=0,d=W.newTypedArray(i,y*3),g=new Float32Array(y*3),x=0,w=new Uint32Array(_*5);e.startPhi<=0&&(d[m*3+0]=e.center[0],d[m*3+1]=e.center[1],d[m*3+2]=e.center[2]+e.radius,g[m*3+0]=0,g[m*3+1]=0,g[m*3+2]=1,m++,s++),e.endPhi>=180&&(d[m*3+0]=e.center[0],d[m*3+1]=e.center[1],d[m*3+2]=e.center[2]-e.radius,g[m*3+0]=0,g[m*3+1]=0,g[m*3+2]=-1,m++,s++);for(var C=e.phiResolution-s,S=(l-f)/(e.phiResolution-1),T=0;T<o;T++)for(var b=c+T*h,O=p;O<v;O++){var D=f+O*S,M=e.radius*Math.sin(D);g[m*3+0]=M*Math.cos(b),g[m*3+1]=M*Math.sin(b),g[m*3+2]=e.radius*Math.cos(D),d[m*3+0]=g[m*3+0]+e.center[0],d[m*3+1]=g[m*3+1]+e.center[1],d[m*3+2]=g[m*3+2]+e.center[2];var R=Math.sqrt(g[m*3+0]*g[m*3+0]+g[m*3+1]*g[m*3+1]+g[m*3+2]*g[m*3+2]);R=R===0?1:R,g[m*3+0]/=R,g[m*3+1]/=R,g[m*3+2]/=R,m++}var E=C*o;if(Math.abs(c-u)<2*Math.PI&&--o,e.startPhi<=0)for(var B=0;B<o;B++)w[x++]=3,w[x++]=C*B+s,w[x++]=C*(B+1)%E+s,w[x++]=0;if(e.endPhi>=180)for(var I=C-1+s,P=0;P<o;P++)w[x++]=3,w[x++]=C*P+I,w[x++]=s-1,w[x++]=C*(P+1)%E+I;for(var L=0;L<o;L++)for(var F=0;F<C-1;F++){var G=C*L+F+s,$=G+1,H=(C*(L+1)+F)%E+s+1;e.latLongTessellation?(w[x++]=4,w[x++]=G,w[x++]=$,w[x++]=H,w[x++]=H-1):(w[x++]=3,w[x++]=G,w[x++]=$,w[x++]=H,w[x++]=3,w[x++]=G,w[x++]=H,w[x++]=H-1)}d=d.subarray(0,m*3),a.getPoints().setData(d,3),g=g.subarray(0,m*3);var J=Ee.newInstance({name:"Normals",values:g,numberOfComponents:3});a.getPointData().setNormals(J),w=w.subarray(0,x),a.getPolys().setData(w,1),r[0]=a}}}var PC={radius:.5,latLongTessellation:!1,thetaResolution:8,startTheta:0,endTheta:360,phiResolution:8,startPhi:0,endPhi:180,center:[0,0,0],pointType:"Float64Array"};function jC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,PC,n),W.obj(t,e),W.setGet(t,e,["radius","latLongTessellation","thetaResolution","startTheta","endTheta","phiResolution","startPhi","endPhi"]),W.setGetArray(t,e,["center"],3),W.algo(t,e,0,1),GC(t,e)}W.newInstance(jC,"vtkSphereSource");function Jl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jl(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ql=Re;function WC(t){var e=t.getPolys().getData(),n=t.getStrips().getData(),r={done:!1,polyIdx:0,stripIdx:0,remainingStripLength:0,next:function(){var i=null;if(r.polyIdx<e.length){var s=e[r.polyIdx],o=r.polyIdx+1,c=o+s;r.polyIdx=c,i=e.subarray(o,c)}else if(r.stripIdx<n.length){r.remainingStripLength===0&&(r.remainingStripLength=n[r.stripIdx]-2,r.stripIdx+=3);var u=r.stripIdx-2,f=r.stripIdx+1;r.stripIdx++,r.remainingStripLength--,i=n.subarray(u,f)}else if(r.done)throw new Error("Iterator is done");return r.done=r.polyIdx>=e.length&&r.stripIdx>=n.length,i}};return r}function IC(t,e){e.classHierarchy.push("vtkCutter");var n=zC({},t);t.getMTime=function(){var a=n.getMTime();return e.cutFunction&&(a=Math.max(a,e.cutFunction.getMTime())),a};function r(a,i){var s=a.getPoints(),o=s.getData(),c=s.getNumberOfPoints(),u=[],f=[],l=[];(!e.cutScalars||e.cutScalars.length<c)&&(e.cutScalars=new Float32Array(c));for(var h=0,p=0;h<o.length;)e.cutScalars[p++]=e.cutFunction.evaluateFunction(o[h++],o[h++],o[h++]);for(var v=[],y=new Array(3),_=new Array(3),m=WC(a);!m.done;){var d=m.next();if(!(d.length<=2)){for(var g=[],x=void 0,w=0;w<d.length;w++)x=d[w],g.push(e.cutScalars[x]);for(var C=g[0]>0,S=!0,T=1;T<g.length;T++){var b=g[T]>0;if(b!==C){S=!1;break}}if(!S){for(var O=[],D=0;D<d.length;D++){var M=D+1===d.length?0:D+1,R=g[D]>0,E=g[M]>0;if(E!==R){var B=D,I=M,P=g[I]-g[B];P<=0&&(B=M,I=D,P*=-1);var L=0;P!==0&&(L=(e.cutValue-g[B])/P);var F=d[B],G=d[I];y[0]=o[F*3],y[1]=o[F*3+1],y[2]=o[F*3+2],_[0]=o[G*3],_[1]=o[G*3+1],_[2]=o[G*3+2];var $=[y[0]+L*(_[0]-y[0]),y[1]+L*(_[1]-y[1]),y[2]+L*(_[2]-y[2])];O.push({pointEdge1:F,pointEdge2:G,intersectedPoint:$,newPointID:-1})}}for(var H=0;H<O.length;H++){for(var J=O[H],Q=!1,q=0;q<v.length;q++){var ne=v[q],re=J.pointEdge1===ne.pointEdge1&&J.pointEdge2===ne.pointEdge2,oe=J.intersectedPoint[0]===ne.intersectedPoint[0]&&J.intersectedPoint[1]===ne.intersectedPoint[1]&&J.intersectedPoint[2]===ne.intersectedPoint[2];if(re||oe){Q=!0,O[H].newPointID=v[q].newPointID;break}}Q||(u.push(J.intersectedPoint[0]),u.push(J.intersectedPoint[1]),u.push(J.intersectedPoint[2]),O[H].newPointID=u.length/3-1,v.push(O[H]))}var te=O.length;te===2?f.push(te,O[0].newPointID,O[1].newPointID):te>2&&(l.push(te),O.forEach(function(N){l.push(N.newPointID)}))}}}var A=i.getPoints();A.setData(Wu(s.getDataType(),u),3),f.length!==0&&i.getLines().setData(Uint16Array.from(f)),l.length!==0&&i.getPolys().setData(Uint16Array.from(l))}t.requestData=function(a,i){var s=a[0];if(!s){Ql("Invalid or missing input");return}if(!e.cutFunction){Ql("Missing cut function");return}var o=at.newInstance();r(s,o),i[0]=o}}var $C={cutFunction:null,cutScalars:null,cutValue:0};function HC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,$C,n),Et(t,e),S1(t,e,1,1),Nt(t,e,["cutFunction","cutValue"]),IC(t,e)}st(HC,"vtkCutter");var xo=W.vtkDebugMacro,KC=W.vtkErrorMacro;function XC(t,e){e.classHierarchy.push("vtkWarpScalar"),t.requestData=function(n,r){var a=n[0];if(!a)return KC("Invalid or missing input"),1;var i=a.getPoints(),s=a.getPointData(),o=s.getNormals(),c=t.getInputArrayToProcess(0);if(!i||!c)return xo("No data to warp",!!i,!!c),r[0]=n[0],1;var u=i.getNumberOfPoints(),f=null,l=[0,0,1];o&&!e.useNormal?(f=function(S,T){return[T.getData()[S*3],T.getData()[S*3+1],T.getData()[S*3+2]]},xo("Using data normals")):t.getXyPlane()?(f=function(S,T){return l},xo("Using x-y plane normal")):(f=function(S,T){return e.normal},xo("Using Normal instance variable"));for(var h=new Float32Array(u*3),p=i.getData(),v=0,y=[0,0,1],_=1,m=c.getData(),d=c.getNumberOfComponents(),g=0;g<u;++g)v=g*3,y=f(g,o),e.xyPlane?_=p[v+2]:_=m[g*d],h[v]=p[v]+e.scaleFactor*_*y[0],h[v+1]=p[v+1]+e.scaleFactor*_*y[1],h[v+2]=p[v+2]+e.scaleFactor*_*y[2];var x=Tt({vtkClass:a.getClassName()});x.shallowCopy(a);var w=ln.newInstance();return w.setData(h,3),x.setPoints(w),r[0]=x,1}}var qC={scaleFactor:1,useNormal:!1,normal:[0,0,1],xyPlane:!1};function YC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,qC,n),W.obj(t,e),W.algo(t,e,1,1),W.setGet(t,e,["scaleFactor","useNormal","xyPlane"]),W.setGetArray(t,e,["normal"],3),XC(t,e)}W.newInstance(YC,"vtkWarpScalar");var ZC={VARY_RADIUS_OFF:0,VARY_RADIUS_BY_SCALAR:1,VARY_RADIUS_BY_VECTOR:2,VARY_RADIUS_BY_ABSOLUTE_SCALAR:3},JC={TCOORDS_OFF:0,TCOORDS_FROM_NORMALIZED_LENGTH:1,TCOORDS_FROM_LENGTH:2,TCOORDS_FROM_SCALARS:3},bd={VaryRadius:ZC,GenerateTCoords:JC},ti=bd.VaryRadius,Cn=bd.GenerateTCoords,QC=W.vtkDebugMacro,eS=W.vtkErrorMacro,Wa=W.vtkWarningMacro;function tS(t,e){e.classHierarchy.push("vtkTubeFilter");function n(c,u){var f=c;return e.sidesShareVertices?f+=e.numberOfSides*u:f+=2*e.numberOfSides*u,e.capping&&(f+=2*e.numberOfSides),f}function r(c,u,f){for(var l=u[f],h=c.slice(3*l,3*(l+1)),p=f+1;p<u.length;){var v=u[p],y=c.slice(3*v,3*(v+1));if(h!==y)return p-1;++p}return u.length}function a(c,u,f){for(var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,h=[0,0,1],p=u,v=p[0],y=0;y<p.length;y+=v+1)if(v=p[y],v===1)f.setTuple(p[y+1],h);else if(v>1){var _=0,m=[0,0,0],d=[0,0,0],g=p.slice(y+1,y+1+v);if(_=r(c,g,0),_!==v)(function(){var w=g[_],C=c.slice(3*w,3*(w+1)),S=g[_+1],T=c.slice(3*S,3*(S+1));if(m=T.map(function(H,J){return H-C[J]}),lt(m),l)h=l;else{for(;++_<v;)if(_=r(c,g,_),_!==v){w=g[_],C=c.slice(3*w,3*(w+1)),S=g[_+1],T=c.slice(3*S,3*(S+1));for(var b=0;b<3;++b)d[b]=T[b]-C[b];lt(d);var O=[0,0,0];if(kt(m,d,O),Pn(O)>.001){h=O,m=d;break}}if(_>=v){for(var D=0;D<3;++D)if(m[D]!==0){h[(D+2)%3]=0,h[(D+1)%3]=1,h[D]=-m[(D+1)%3]/m[D];break}}}lt(h);for(var M=0;++_<v&&(_=r(c,g,_),_!==v);){w=g[_],C=c.slice(3*w,3*(w+1)),S=g[_+1],T=c.slice(3*S,3*(S+1));for(var R=0;R<3;++R)d[R]=T[R]-C[R];lt(d);var E=[0,0,0];if(kt(m,h,E),lt(E)!==0){var B=[0,0,0];if(kt(d,m,B),lt(B)!==0){var I=Be(B,h),P=1-I*I;P>0?P=Math.sqrt(P):P=0;for(var L=[0,0,0],F=0;F<3;++F)L[F]=d[F]+m[F];lt(L),kt(L,B,E),kt(m,B,L),Be(h,L)*Be(E,L)<0&&(P*=-1);for(var G=M;G<_;++G)f.setTuple(g[G],h);M=_,m=d,h=I*B+P*E}}}for(var $=M;$<v;++$)f.setTuple(g[$],h)})();else for(var x=0;x<v;++x)f.setTuple(g[x],h)}return 1}function i(c,u,f,l,h,p,v,y,_,m,d,g,x,w){for(var C=[0,0,0],S=[0,0,0],T=[0,0,0],b=[0,0,0],O=[0,0,0],D=[0,0,0],M=[0,0,0],R=[0,0,0],E=[0,0,0],B=[0,0,0],I=[0,0,0],P=1,L=c,F=0;F<u;++F){if(F===0){O=l.slice(3*f[0],3*(f[0]+1)),D=l.slice(3*f[1],3*(f[1]+1));for(var G=0;G<3;++G)C[G]=D[G]-O[G],S[G]=C[G],T[G]=-S[G];lt(T)}else if(F===u-1){for(var $=0;$<3;++$)S[$]=C[$],O[$]=D[$],b[$]=C[$];lt(b)}else{for(var H=0;H<3;++H)O[H]=D[H];D=l.slice(3*f[F+1],3*(f[F+1]+1));for(var J=0;J<3;++J)S[J]=C[J],C[J]=D[J]-O[J]}if(lt(C)===0)return Wa("Coincident points!"),0;for(var Q=0;Q<3;++Q)M[Q]=(S[Q]+C[Q])/2;if(R=x.slice(3*f[F],3*(f[F]+1)),lt(M)===0&&(kt(S,R,M),lt(M)===0&&QC("Using alternate bevel vector")),kt(M,R,E),lt(E)===0){var q="Bad normal: s = ";return q+="".concat(M[0],",  ").concat(M[1],", ").concat(M[2]),q+=" n = ".concat(R[0],",  ").concat(R[1],", ").concat(R[2]),Wa(q),0}if(kt(E,M,B),lt(B),_&&e.varyRadius===ti.VARY_RADIUS_BY_SCALAR)P=1+(e.radiusFactor-1)*(_.getComponent(f[F],0)-m[0])/(m[1]-m[0]);else if(d&&e.varyRadius===ti.VARY_RADIUS_BY_VECTOR)P=Math.sqrt(g/Pn(d.getTuple(f[F]))),P>e.radiusFactor&&(P=e.radiusFactor);else if(_&&e.varyRadius===ti.VARY_RADIUS_BY_ABSOLUTE_SCALAR&&(P=_.getComponent(f[F],0),P<0))return Wa("Scalar value less than zero, skipping line"),0;if(e.sidesShareVertices)for(var ne=0;ne<e.numberOfSides;++ne){for(var re=0;re<3;++re)I[re]=E[re]*Math.cos(ne*w)+B[re]*Math.sin(ne*w),M[re]=O[re]+e.radius*P*I[re],h[3*L+re]=M[re],y[3*L+re]=I[re];v.passData(p,f[F],L),L++}else for(var oe=[0,0,0],te=[0,0,0],A=0;A<e.numberOfSides;++A){for(var N=0;N<3;++N)I[N]=E[N]*Math.cos(A*w)+B[N]*Math.sin(A*w),oe[N]=E[N]*Math.cos((A-.5)*w)+B[N]*Math.sin((A-.5)*w),te[N]=E[N]*Math.cos((A+.5)*w)+B[N]*Math.sin((A+.5)*w),M[N]=O[N]+e.radius*P*I[N],h[3*L+N]=M[N],y[3*L+N]=oe[N],h[3*(L+1)+N]=M[N],y[3*(L+1)+N]=te[N];v.passData(p,f[F],L+1),L+=2}}if(e.capping){var U=e.numberOfSides,V=1;e.sidesShareVertices||(U=2*e.numberOfSides,V=2);for(var k=0;k<U;k+=V){M=h.slice(3*(c+k),3*(c+k+1));for(var z=0;z<3;++z)h[3*L+z]=M[z],y[3*L+z]=T[z];v.passData(p,f[0],L),L++}var j=c+(u-1)*e.numberOfSides;e.sidesShareVertices||(j=c+2*(u-1)*e.numberOfSides);for(var K=0;K<U;K+=V){M=h.slice(3*(j+K),3*(j+K+1));for(var X=0;X<3;++X)h[3*L+X]=M[X],y[3*L+X]=b[X];v.passData(p,f[u-1],L),L++}}return 1}function s(c,u,f,l,h,p,v){for(var y=0,_=0,m=0,d=l,g=0,x=v.getData(),w=0;g<x.length&&w!==l;)g+=x[g]+1,w++;if(e.sidesShareVertices)for(var C=c;C<e.numberOfSides+c;C+=e.onRatio){y=C%e.numberOfSides,_=(C+1)%e.numberOfSides,x[g++]=u*2;for(var S=0;S<u;++S)m=S*e.numberOfSides,x[g++]=c+_+m,x[g++]=c+y+m;p.passData(h,f,d++)}else for(var T=c;T<e.numberOfSides+c;T+=e.onRatio){y=2*(T%e.numberOfSides)+1,_=2*((T+1)%e.numberOfSides),x[g]=u*2,g++;for(var b=0;b<u;++b)m=b*2*e.numberOfSides,x[g++]=c+_+m,x[g++]=c+y+m;p.passData(h,f,d++)}if(e.capping){var O=c+u*e.numberOfSides,D=0;e.sidesShareVertices||(O=c+2*u*e.numberOfSides),x[g++]=e.numberOfSides,x[g++]=O,x[g++]=O+1;var M=0;for(y=e.numberOfSides-1,_=2,M=0;M<e.numberOfSides-2;++M)M%2?(D=O+_,x[g++]=D,_++):(D=O+y,x[g++]=D,y--);for(p.passData(h,f,d++),O+=e.numberOfSides,x[g++]=e.numberOfSides,x[g++]=O,x[g++]=O+e.numberOfSides-1,y=e.numberOfSides-2,_=1,M=0;M<e.numberOfSides-2;++M)M%2?(D=O+y,x[g++]=D,y--):(D=O+_,x[g++]=D,_++);p.passData(h,f,d++)}return d}function o(c,u,f,l,h,p){var v=e.numberOfSides;e.sidesShareVertices||(v=2*e.numberOfSides);var y=0,_=0,m=0,d=h.getData();if(e.generateTCoords===Cn.TCOORDS_FROM_SCALARS){_=d[f[0]];for(var g=0;g<u;++g){m=d[f[g]],y=(m-_)/e.textureLength;for(var x=0;x<v;++x){var w=x/(v-1),C=2*(c+g*v+x);p[C]=y,p[C+1]=w}}}else if(e.generateTCoords===Cn.TCOORDS_FROM_LENGTH)for(var S=0,T=l.slice(3*f[0],3*(f[0]+1)),b=0;b<u;++b){var O=l.slice(3*f[b],3*(f[b]+1));S+=Math.sqrt(er(O,T)),y=S/e.textureLength;for(var D=0;D<v;++D){var M=D/(v-1),R=2*(c+b*v+D);p[R]=y,p[R+1]=M}for(var E=0;E<3;++E)T[E]=O[E]}else if(e.generateTCoords===Cn.TCOORDS_FROM_NORMALIZED_LENGTH){for(var B=0,I=0,P=l.slice(3*f[0],3*(f[0]+1)),L=0;L<u;++L){var F=l.slice(3*f[L],3*(f[L]+1));I+=Math.sqrt(er(F,P));for(var G=0;G<3;++G)P[G]=F[G]}P=l.slice(3*f[0],3*(f[0]+1));for(var $=0;$<u;++$){var H=l.slice(3*f[$],3*(f[$]+1));B+=Math.sqrt(er(H,P)),y=B/I;for(var J=0;J<v;++J){var Q=J/(v-1),q=2*(c+$*v+J);p[q]=y,p[q+1]=Q}for(var ne=0;ne<3;++ne)P[ne]=H[ne]}}if(e.capping){for(var re=c+u*v,oe=0;oe<e.numberOfSides;++oe){var te=2*(re+oe);p[te]=0,p[te+1]=0}for(var A=0;A<e.numberOfSides;++A){var N=2*(re+e.numberOfSides+A);p[N]=0,p[N+1]=0}}}t.requestData=function(c,u){var f=at.newInstance();u[0]=f;var l=c[0];if(!l){eS("Invalid or missing input");return}var h=l.getPoints();if(!!h){var p=h.getNumberOfPoints();if(!(p<1)){var v=l.getLines();if(!!v){var y=v.getNumberOfCells();if(!(y<1)){for(var _=0,m=0,d=v.getData(),g=d[0],x=e.sidesShareVertices?1:2,w=0;w<d.length;w+=g+1)_+=x*g*e.numberOfSides,e.capping&&(_+=2*e.numberOfSides),g=d[w],m+=(2*g+1)*Math.ceil(e.numberOfSides/e.onRatio),e.capping&&(m+=2*(e.numberOfSides+1));var C=h.getDataType();e.outputPointsPrecision===zn.SINGLE?C=ht.FLOAT:e.outputPointsPrecision===zn.DOUBLE&&(C=ht.DOUBLE);var S=ln.newInstance({dataType:C,size:_*3,numberOfComponents:3}),T=3*_,b=new Float32Array(T),O=Ee.newInstance({numberOfComponents:3,values:b,name:"TubeNormals"}),D=new Uint32Array(m),M=as.newInstance({values:D}),R=0,E=l.getPointData().getNormals(),B=null,I=!1;(!E||e.useDefaultNormal)&&(B=new Float32Array(3*p),E=Ee.newInstance({numberOfComponents:3,values:B,name:"Normals"}),e.useDefaultNormal?B=B.map(function(Z,ae){var ue=ae%3;return e.defaultNormal[ue]}):I=!0);for(var P=l.getPointData().getNumberOfArrays(),L=null,F=null,G=0;G<P;G++)L=l.getPointData().getArrayByIndex(G),F=Ee.newInstance({name:L.getName(),dataType:L.getDataType(),numberOfComponents:L.getNumberOfComponents(),size:_*L.getNumberOfComponents()}),f.getPointData().removeArrayByIndex(0),f.getPointData().addArray(F);var $=v.getNumberOfCells()*e.numberOfSides;e.capping&&($+=2);for(var H=l.getCellData().getNumberOfArrays(),J=0;J<H;J++)L=l.getCellData().getArrayByIndex(J),F=Ee.newInstance({name:L.getName(),dataType:L.getDataType(),numberOfComponents:L.getNumberOfComponents(),size:$*L.getNumberOfComponents()}),f.getCellData().removeArrayByIndex(0),f.getCellData().addArray(F);var Q=t.getInputArrayToProcess(0),q=null,ne=[];Q&&(q=Ee.newInstance({name:Q.getName(),dataType:Q.getDataType(),numberOfComponents:Q.getNumberOfComponents(),size:_*Q.getNumberOfComponents()}),ne=Q.getRange(),ne[1]-ne[0]===0&&(e.varyRadius===ti.VARY_RADIUS_BY_SCALAR&&Wa("Scalar range is zero!"),ne[1]=ne[0]+1));var re=t.getInputArrayToProcess(1),oe=0;re&&(oe=re.getMaxNorm());var te=f.getCellData();te.copyNormalsOff(),te.passData(l.getCellData());var A=f.getPointData();A.getNormals()!==null&&A.copyNormalsOff(),Q&&q&&A.setScalars(q);var N=null;if(e.generateTCoords===Cn.TCOORDS_FROM_SCALARS&&Q||e.generateTCoords===Cn.TCOORDS_FROM_LENGTH||e.generateTCoords===Cn.TCOORDS_FROM_NORMALIZED_LENGTH){var U=new Float32Array(2*_);N=Ee.newInstance({numberOfComponents:2,values:U,name:"TCoords"}),A.copyTCoordsOff()}A.passData(l.getPointData());var V=2*Math.PI/e.numberOfSides;g=d[0];for(var k=0,z=l.getVerts().getNumberOfCells(),j=0;j<d.length;j+=g+1){g=d[j];var K=d.slice(j+1,j+1+g);if(g>1&&I){var X=d.slice(j,j+g+1);a(h.getData(),X,E)}i(k,g,K,h.getData(),S.getData(),l.getPointData(),A,b,Q,ne,re,oe,B,V)?(R=s(k,g,z,R,l.getCellData(),te,M),N&&o(k,g,K,h.getData(),Q,N.getData())):Wa("Could not generate points"),k=n(k,g),z++}f.setPoints(S),f.setStrips(M),f.setPointData(A),A.setNormals(O),u[0]=f}}}}}}var rS={outputPointsPrecision:zn.DEFAULT,radius:.5,varyRadius:ti.VARY_RADIUS_OFF,numberOfSides:3,radiusFactor:10,defaultNormal:[0,0,1],useDefaultNormal:!1,sidesShareVertices:!0,capping:!1,onRatio:1,offset:0,generateTCoords:Cn.TCOORDS_OFF,textureLength:1};function nS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,rS,n),W.setGet(t,e,["outputPointsPrecision","radius","varyRadius","numberOfSides","radiusFactor","defaultNormal","useDefaultNormal","sidesShareVertices","capping","onRatio","offset","generateTCoords","textureLength"]),W.obj(t,e),W.algo(t,e,1,1),tS(t,e)}W.newInstance(nS,"vtkTubeFilter");function Ed(t){var e=new TextDecoder("latin1");return e.decode(t)}function aS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=Ed(t),a=e.exec(r);if(!a)return{text:r};var i=a.index+a[0].length,s=r.substring(0,i),o=null,c=n?n.exec(r):null;if(c){var u=r.substr(c.index);o={text:s+u,binaryBuffer:t.slice(i,c.index)}}else o={text:s,binaryBuffer:t.slice(i)};return o}var Mi={arrayBufferToString:Ed,extractBinary:aS},Dd=W.vtkErrorMacro,iS=W.vtkDebugMacro,Tc=function(){return Dd("LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead."),Promise.reject(new Error("LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead."))},Sa=0;function Us(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=new XMLHttpRequest;return r.open(t,e,!0),n.headers&&Object.entries(n.headers).forEach(function(a){var i=Ie(a,2),s=i[0],o=i[1];return r.setRequestHeader(s,o)}),n.progressCallback&&r.addEventListener("progress",n.progressCallback),r}function oS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(n,r){var a=Us("GET",t,e);a.onreadystatechange=function(i){a.readyState===4&&(a.status===200||a.status===0?n(a.response):r({xhr:a,e:i}))},a.responseType="arraybuffer",a.send()})}function sS(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return r&&r.compression?Tc():n.ref&&!n.ref.pending?new Promise(function(a,i){var s=[e,n.ref.basepath,n.ref.id].join("/"),o=Us("GET",s,r);o.onreadystatechange=function(c){o.readyState===1&&(n.ref.pending=!0,++Sa===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0)),o.readyState===4&&(n.ref.pending=!1,o.status===200||o.status===0?(n.buffer=o.response,n.ref.encode==="JSON"?n.values=JSON.parse(n.buffer):(Wr.ENDIANNESS!==n.ref.encode&&Wr.ENDIANNESS&&(iS("Swap bytes of ".concat(n.name)),Wr.swapBytes(n.buffer,Ts[n.dataType])),n.values=W.newTypedArray(n.dataType,n.buffer)),n.values.length!==n.size&&Dd("Error in FetchArray: ".concat(n.name,", does not have the proper array size. Got ").concat(n.values.length,", instead of ").concat(n.size)),delete n.ref,--Sa===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),t!=null&&t.modified&&t.modified(),a(n)):i({xhr:o,e:c}))},o.responseType=n.dataType!=="string"?"arraybuffer":"text",o.send()}):Promise.resolve(n)}function uS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n&&n.compression?Tc():new Promise(function(r,a){var i=Us("GET",e,n);i.onreadystatechange=function(s){i.readyState===1&&++Sa===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--Sa===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?r(JSON.parse(i.responseText)):a({xhr:i,e:s}))},i.responseType="text",i.send()})}function cS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n&&n.compression?Tc():new Promise(function(r,a){var i=Us("GET",e,n);i.onreadystatechange=function(s){i.readyState===1&&++Sa===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--Sa===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?r(i.responseText):a({xhr:i,e:s}))},i.responseType="text",i.send()})}function fS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(function(r,a){var i=new Image;n.crossOrigin&&(i.crossOrigin=n.crossOrigin),i.onload=function(){return r(i)},i.onerror=a,i.src=e})}var lS={fetchArray:sS,fetchJSON:uS,fetchText:cS,fetchBinary:oS,fetchImage:fS};xd("http")||Bs("http",function(t){return lS});var C0={ASCII:"ascii",BINARY_BIG_ENDIAN:"binary_big_endian",BINARY_LITTLE_ENDIAN:"binary_little_endian"},eh={diffuse_red:"red",diffuse_green:"green",diffuse_blue:"blue"},Od={patternHeader:/ply([\s\S]*)end_header\r?\n/,patternBody:/end_header\s([\s\S]*)$/};function th(t){var e="",n=0,r=Od.patternHeader.exec(t);r!==null&&(e=r[1],n=r[0].length);for(var a={comments:[],elements:[],headerLength:n},i=e.split(`
`),s,o,c,u=0;u<i.length;u++){var f=i[u];if(f=f.trim(),f!==""){var l=void 0;switch(c=f.split(/\s+/),o=c.shift(),f=c.join(" "),o){case"format":a.format=c[0],a.version=c[1];break;case"comment":a.comments.push(f);break;case"element":s!==void 0&&a.elements.push(s),s={},s.name=c[0],s.count=parseInt(c[1],10),s.properties=[];break;case"property":l={type:c[0]},l.type==="list"?(l.name=c[3],l.countType=c[1],l.itemType=c[2]):l.name=c[1],l.name in eh&&(l.name=eh[l.name]),s.properties.push(l);break;case"obj_info":a.objInfo=f;break;default:console.warn("unhandled",o,c);break}}}return s!==void 0&&a.elements.push(s),a}function rh(t,e){var n=e.find(function(M){return M.name==="vertex"}),r=e.find(function(M){return M.name==="face"}),a=0,i=0;n&&(a=n.count),r&&(i=r.count);for(var s=new Float32Array(a*3),o=new Uint8Array(a*3),c=new Float32Array(a*2),u=new Float32Array(a*3),f=t.colors.length>0,l=t.uvs.length>0,h=t.normals.length>0,p=t.faceVertexUvs.length>0,v=0;v<a;v++){var y=v*3+0,_=v*3+1,m=v*3+2;s[y]=t.vertices[y],s[_]=t.vertices[_],s[m]=t.vertices[m],f&&(o[y]=t.colors[y],o[_]=t.colors[_],o[m]=t.colors[m]),l&&(y=v*2+0,_=v*2+1,c[y]=t.uvs[y],c[_]=t.uvs[_]),h&&(u[y]=t.normals[y],u[_]=t.normals[_],u[m]=t.normals[m])}if(!l&&p)for(var d=0,g=0,x=0;x<i;++x){var w=t.indices[d++],C=t.faceVertexUvs[g++];if(C&&w*2===C.length)for(var S=0;S<w;++S){var T=t.indices[d++];c[T*2+0]=C[S*2+0],c[T*2+1]=C[S*2+1]}else d+=w}var b=at.newInstance();if(b.getPoints().setData(s,3),f&&b.getPointData().setScalars(Ee.newInstance({numberOfComponents:3,values:o,name:"Scalars"})),l||p){var O=Ee.newInstance({numberOfComponents:2,values:c,name:"TextureCoordinates"}),D=b.getPointData();D.addArray(O),D.setActiveTCoords(O.getName())}return h&&b.getPointData().setNormals(Ee.newInstance({numberOfComponents:3,name:"Normals",values:u})),b.getPolys().setData(Uint32Array.from(t.indices)),b}function S0(t,e){var n;switch(e){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":n=parseInt(t,10);break;case"float":case"double":case"float32":case"float64":n=parseFloat(t);break;default:console.log("Unsupported type");break}return n}function hS(t,e){for(var n=e.split(/\s+/),r={},a=0;a<t.length;a++)if(t[a].type==="list"){for(var i=[],s=S0(n.shift(),t[a].countType),o=0;o<s;o++)i.push(S0(n.shift(),t[a].itemType));r[t[a].name]=i}else r[t[a].name]=S0(n.shift(),t[a].type);return r}function nh(t,e,n){if(e==="vertex")t.vertices.push(n.x,n.y,n.z),"nx"in n&&"ny"in n&&"nz"in n&&t.normals.push(n.nx,n.ny,n.nz),"s"in n&&"t"in n?t.uvs.push(n.s,n.t):"u"in n&&"v"in n?t.uvs.push(n.u,n.v):"texture_u"in n&&"texture_v"in n&&t.uvs.push(n.texture_u,n.texture_v),"red"in n&&"green"in n&&"blue"in n&&t.colors.push(n.red,n.green,n.blue);else if(e==="face"){var r=n.vertex_indices||n.vertex_index,a=n.texcoord;r&&r.length>0&&(t.indices.push(r.length),r.forEach(function(i,s){t.indices.push(i)})),t.faceVertexUvs.push(a)}}function T0(t,e,n,r){var a;switch(n){case"int8":case"char":a=[t.getInt8(e),1];break;case"uint8":case"uchar":a=[t.getUint8(e),1];break;case"int16":case"short":a=[t.getInt16(e,r),2];break;case"uint16":case"ushort":a=[t.getUint16(e,r),2];break;case"int32":case"int":a=[t.getInt32(e,r),4];break;case"uint32":case"uint":a=[t.getUint32(e,r),4];break;case"float32":case"float":a=[t.getFloat32(e,r),4];break;case"float64":case"double":a=[t.getFloat64(e,r),8];break;default:console.log("Unsupported type");break}return a}function pS(t,e,n,r){for(var a={},i,s=0,o=0;o<n.length;o++)if(n[o].type==="list"){var c=[];i=T0(t,e+s,n[o].countType,r);var u=i[0];s+=i[1];for(var f=0;f<u;f++)i=T0(t,e+s,n[o].itemType,r),c.push(i[0]),s+=i[1];a[n[o].name]=c}else i=T0(t,e+s,n[o].type,r),a[n[o].name]=i[0],s+=i[1];return[a,s]}function vS(t,e){e.classHierarchy.push("vtkPLYReader"),e.dataAccessHelper||(e.dataAccessHelper=La.get("http"));function n(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.compression,s=e.progressCallback;return a.binary?e.dataAccessHelper.fetchBinary(r,{compression:i,progressCallback:s}):e.dataAccessHelper.fetchText(t,r,{compression:i,progressCallback:s})}t.setUrl=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{binary:!0};e.url=r;var i=r.split("/");return i.pop(),e.baseURL=i.join("/"),e.compression=a.compression,t.loadData({progressCallback:a.progressCallback,binary:!!a.binary})},t.loadData=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=n(e.url,r);return a.then(t.parse),a},t.parse=function(r){typeof r=="string"?t.parseAsText(r):t.parseAsArrayBuffer(r)},t.parseAsArrayBuffer=function(r){if(!!r){if(r!==e.parseData)t.modified();else return;var a=Mi.arrayBufferToString(r),i=th(a),s=i.format!==C0.ASCII;if(!s){t.parseAsText(r);return}e.parseData=r;for(var o={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},c=i.format===C0.BINARY_LITTLE_ENDIAN,u=r instanceof ArrayBuffer?r:r.buffer,f=new DataView(u,i.headerLength),l,h=0,p=0;p<i.elements.length;p++)for(var v=0;v<i.elements[p].count;v++){l=pS(f,h,i.elements[p].properties,c),h+=l[1];var y=l[0];nh(o,i.elements[p].name,y)}var _=rh(o,i.elements);e.output[0]=_}},t.parseAsText=function(r){if(!!r){if(r!==e.parseData)t.modified();else return;e.parseData=r;var a=Mi.arrayBufferToString(r),i=th(a),s=i.format!==C0.ASCII;if(s){t.parseAsArrayBuffer(r);return}var o={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},c=Od.patternBody.exec(a),u="";c!==null&&(u=c[1]);for(var f=u.split(`
`),l=0,h=0,p=0;p<f.length;p++){var v=f[p];if(v=v.trim(),v!==""){h>=i.elements[l].count&&(l++,h=0);var y=hS(i.elements[l].properties,v);nh(o,i.elements[l].name,y),h++}}var _=rh(o,i.elements);e.output[0]=_}},t.requestData=function(r,a){t.parse(e.parseData)}}var dS={};function gS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,dS,n),W.obj(t,e),W.get(t,e,["url","baseURL"]),W.setGet(t,e,["dataAccessHelper"]),W.algo(t,e,0,1),vS(t,e),e.compression||(e.compression=null),e.progressCallback||(e.progressCallback=null)}W.newInstance(gS,"vtkPLYReader");var b0=W.vtkErrorMacro;function yS(t){for(var e=t.split(" "),n=e.filter(function(o){return o.indexOf("=")>-1}),r={},a=0;a<n.length;++a){var i=n[a],s=i.split("=");s.length===2&&(r[s[0]]=s[1])}return r}function ah(t,e){for(var n=0;n<t.length;n++)e.push(t[n])}function mS(t,e,n,r,a){var i=t[e];if(i===void 0)return-1;if(i.indexOf("endfacet")!==-1||i.indexOf("facet")===-1)return e+1;var s=0,o=2,c=n.length/3,u=i.split(/[ \t]+/).filter(function(p){return p}).slice(-3).map(Number);for(ah(u,a);t[e+o].indexOf("vertex")!==-1;){var f=t[e+o],l=f.split(/[ \t]+/).filter(function(p){return p}).slice(-3).map(Number);ah(l,n),s++,o++}r.push(s);for(var h=0;h<s;h++)r.push(c+h);for(;t[e+o]&&t[e+o].indexOf("endfacet")!==-1;)o++;return e+o+2}function _S(t,e){e.classHierarchy.push("vtkSTLReader"),e.dataAccessHelper||(e.dataAccessHelper=La.get("http"));function n(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.compression!==void 0?a.compression:e.compression,s=a.progressCallback!==void 0?a.progressCallback:e.progressCallback;return a.binary?e.dataAccessHelper.fetchBinary(r,{compression:i,progressCallback:s}):e.dataAccessHelper.fetchText(t,r,{compression:i,progressCallback:s})}t.setUrl=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{binary:!0};e.url=r;var i=r.split("/");return i.pop(),e.baseURL=i.join("/"),t.loadData(a)},t.loadData=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=n(e.url,r);return a.then(t.parse),a},t.parse=function(r){typeof r=="string"?t.parseAsText(r):t.parseAsArrayBuffer(r)},t.parseAsArrayBuffer=function(r){if(!!r){if(r!==e.parseData)t.modified();else return;e.parseData=r;var a=!1,i=new DataView(r,0,80+4),s=i.getUint32(80,!0);if(a=84+s*50===r.byteLength,!a){t.parseAsText(Mi.arrayBufferToString(r));return}for(var o=r.slice(0,80),c=Mi.arrayBufferToString(o),u=yS(c),f=new DataView(r,84),l=(r.byteLength-84)/50,h=new Float32Array(l*9),p=new Float32Array(l*3),v=new Uint32Array(l*4),y=new Uint16Array(l),_=0,m=0;m<l;m++){var d=m*50;p[m*3+0]=f.getFloat32(d+0,!0),p[m*3+1]=f.getFloat32(d+4,!0),p[m*3+2]=f.getFloat32(d+8,!0),h[m*9+0]=f.getFloat32(d+12,!0),h[m*9+1]=f.getFloat32(d+16,!0),h[m*9+2]=f.getFloat32(d+20,!0),h[m*9+3]=f.getFloat32(d+24,!0),h[m*9+4]=f.getFloat32(d+28,!0),h[m*9+5]=f.getFloat32(d+32,!0),h[m*9+6]=f.getFloat32(d+36,!0),h[m*9+7]=f.getFloat32(d+40,!0),h[m*9+8]=f.getFloat32(d+44,!0),v[_++]=3,v[_++]=m*3+0,v[_++]=m*3+1,v[_++]=m*3+2,y[m]=f.getUint16(d+48,!0)}var g="SPACE";if(g in u&&u[g]!=="LPS"){var x=u[g],w=new Float32Array(16);switch(w[15]=1,x[0]){case"L":w[0]=1;break;case"R":w[0]=-1;break;default:b0("Can not convert STL file from ".concat(x," to LPS space: ")+"permutations not supported. Use itk.js STL reader instead.");return}switch(x[1]){case"P":w[5]=1;break;case"A":w[5]=-1;break;default:b0("Can not convert STL file from ".concat(x," to LPS space: ")+"permutations not supported. Use itk.js STL reader instead.");return}switch(x[2]){case"S":w[10]=1;break;case"I":w[10]=-1;break;default:b0("Can not convert STL file from ".concat(x," to LPS space: ")+"permutations not supported. Use itk.js STL reader instead.");return}Xt.buildFromDegree().setMatrix(w).apply(h).apply(p)}var C=at.newInstance();C.getPoints().setData(h,3),C.getPolys().setData(v),C.getCellData().setScalars(Ee.newInstance({name:"Attribute",values:y})),C.getCellData().setNormals(Ee.newInstance({name:"Normals",values:p,numberOfComponents:3})),e.output[0]=C}},t.parseAsText=function(r){if(!!r){if(r!==e.parseData)t.modified();else return;e.parseData=r;for(var a=r.split(`
`),i=1,s=[],o=[],c=[];i!==-1;)i=mS(a,i,s,o,c);var u=at.newInstance();u.getPoints().setData(Float32Array.from(s),3),u.getPolys().setData(Uint32Array.from(o)),u.getCellData().setNormals(Ee.newInstance({name:"Normals",values:Float32Array.from(c),numberOfComponents:3})),e.output[0]=u}},t.requestData=function(r,a){t.parse(e.parseData)}}var xS={};function wS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,xS,n),W.obj(t,e),W.get(t,e,["url","baseURL"]),W.setGet(t,e,["dataAccessHelper"]),W.algo(t,e,0,1),_S(t,e),e.compression||(e.compression=null),e.progressCallback||(e.progressCallback=null)}W.newInstance(wS,"vtkSTLReader");function CS(t,e){e.classHierarchy.push("vtkElevationReader"),e.dataAccessHelper||(e.dataAccessHelper=La.get("http"));function n(r,a){return e.dataAccessHelper.fetchText(t,r,a)}t.setUrl=function(r,a){return e.url=r,t.loadData(a)},t.loadData=function(r){return n(e.url,r).then(function(a){return t.parseAsText(a),!0})},t.parseAsText=function(r){e.csv=r,e.elevation=[];var a=e.csv.split(`
`);a.forEach(function(i,s){e.elevation.push(i.split(",").map(function(o){return Number(o)}))}),t.modified()},t.requestData=function(r,a){var i=at.newInstance();if(i.getPoints().setData(new Float32Array(0,0,0,1,1,1),3),e.elevation){var s=e.elevation.length,o=e.elevation[0].length,c=i.getPoints();c.setNumberOfPoints(o*s,3);var u=c.getData(),f=as.newInstance({size:5*(o-1)*(s-1)});i.setPolys(f);var l=f.getData(),h=0,p=new Float32Array(o*s*2),v=Ee.newInstance({numberOfComponents:2,values:p,name:"TextureCoordinates"});i.getPointData().setTCoords(v);for(var y=0;y<s;y++)for(var _=0;_<o;_++){var m=y*o+_,d=3*m;u[d+0]=e.origin[0]+_*e.xSpacing*e.xDirection,u[d+1]=e.origin[1]+y*e.ySpacing*e.yDirection,u[d+2]=e.origin[2]+e.elevation[y][_]*e.zScaling,p[m*2]=_/(o-1),p[m*2+1]=1-y/(s-1),_>0&&y>0&&(l[h++]=4,l[h++]=m,l[h++]=m-1,l[h++]=m-1-o,l[h++]=m-o)}}e.output[0]=i},t.isBusy=function(){return!!e.requestCount}}var SS={origin:[0,0,0],xSpacing:1,ySpacing:1,zScaling:1,xDirection:1,yDirection:-1,requestCount:0};function TS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,SS,n),W.obj(t,e),W.get(t,e,["url"]),W.setGet(t,e,["dataAccessHelper","xSpacing","ySpacing","zScaling","xDirection","yDirection"]),W.algo(t,e,0,1),W.event(t,e,"busy"),CS(t,e)}W.newInstance(TS,"vtkElevationReader");function ih(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ih(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ih(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Le={};function E0(t,e,n,r,a){for(var i=0;i<a;i++)n[r+i]=t[e+i]}function ES(t){Le.splitOn=t,Le.pieces=[],Le.v=[],Le.vt=[],Le.vn=[],Le.f=[[]],Le.size=0}function DS(t){var e=t.split("/").map(function(i){return Number(i)}),n=e[0]-1,r=e[1]?e[1]-1:n,a=e[2]?e[2]-1:n;return[n,r,a]}function OS(t){if(t[0]!=="#"){var e=t.split(/[ \t]+/);if(e[0]===Le.splitOn)e.shift(),Le.pieces.push(e.join(" ").trim()),Le.f.push([]),Le.size++;else if(e[0]==="v")Le.v.push(Number(e[1])),Le.v.push(Number(e[2])),Le.v.push(Number(e[3]));else if(e[0]==="vt")Le.vt.push(Number(e[1])),Le.vt.push(Number(e[2]));else if(e[0]==="vn")Le.vn.push(Number(e[1])),Le.vn.push(Number(e[2])),Le.vn.push(Number(e[3]));else if(e[0]==="f"){Le.size===0&&Le.size++;var n=Le.f[Le.size-1];e.shift();var r=e.filter(function(s){return s.length>0&&s!=="\r"}),a=r.length;n.push(a);for(var i=0;i<a;i++)n.push(DS(r[i]))}}}function NS(t){var e=!!Le.vt.length,n=!!Le.vn.length;if(t.splitMode){t.numberOfOutputs=Le.size;for(var r=0;r<Le.size;r++){var a=Le.f[r],i=a.length,s=Le.v.length/3,o={},c=void 0;if(t.trackDuplicates){for(var u=[],f=0,l=0;l<i;)for(var h=a[l++],p=0;p<h;p++){var v=Ie(a[l++],3),y=v[0],_=v[1],m=v[2],d="".concat(y,"/").concat(_,"/").concat(m);o[d]===void 0&&(u[y]===void 0?u[y]=[d]:(u[y].push(d),++f),o[d]=y)}c=new Uint16Array(s+f);for(var g=0,x=0;x<u.length;++x){var w=u[x]?u[x].length:0;c[x]=w>1?s+g:x;for(var C=1;C<w;++C){var S=s+g++;c[S]=x,o[u[x][C]]=S}}}for(var T={},b=at.newInstance({name:Le.pieces[r]}),O=[],D=[],M=[],R=[],E=0;E<i;){var B=a[E];R.push(B);for(var I=0;I<B;I++){var P=Ie(a[E+I+1],3),L=P[0],F=P[1],G=P[2],$="".concat(L,"/").concat(F,"/").concat(G);if(T[$]===void 0){var H=t.trackDuplicates?o[$]:O.length/3;T[$]=H,E0(Le.v,L*3,O,H*3,3),e&&E0(Le.vt,F*2,D,H*2,2),n&&E0(Le.vn,G*3,M,H*3,3)}R.push(T[$])}E+=B+1}if(b.getPoints().setData(Float32Array.from(O),3),t.trackDuplicates){var J=Ee.newInstance({name:"Duplicates",values:c});b.getPointData().addArray(J)}if(b.getPolys().setData(Uint32Array.from(R)),e){var Q=Ee.newInstance({numberOfComponents:2,values:Float32Array.from(D),name:"TextureCoordinates"});b.getPointData().setTCoords(Q)}if(n){var q=Ee.newInstance({numberOfComponents:3,values:Float32Array.from(M),name:"Normals"});b.getPointData().setNormals(q)}t.output[r]=b}}else{t.numberOfOutputs=1;var ne=at.newInstance();if(ne.getPoints().setData(Float32Array.from(Le.v),3),e&&Le.v.length/3===Le.vt.length/2){var re=Ee.newInstance({numberOfComponents:2,values:Float32Array.from(Le.vt),name:"TextureCoordinates"});ne.getPointData().setTCoords(re)}if(n&&Le.v.length===Le.vn.length){var oe=Ee.newInstance({numberOfComponents:3,values:Float32Array.from(Le.vn),name:"Normals"});ne.getPointData().setNormals(oe)}for(var te=[],A=Le.f[0],N=A.length,U=0;U<N;){var V=A[U];te.push(V);for(var k=0;k<V;k++){var z=Ie(A[U+k+1],1),j=z[0];te.push(j)}U+=V+1}ne.getPolys().setData(Uint32Array.from(te)),t.output[0]=ne}}function MS(t,e){var n=[],r=t.getPointData().getArrayByName("Duplicates");if(r==null)return n;var a=r.getData(),i=Math.min(e,a[e]);n.push(i);var s=a[i];if(s!==i)for(;s<a.length&&a[s]===i;)n.push(s++);return n}var kS={getPointDuplicateIds:MS};function RS(t,e){e.classHierarchy.push("vtkOBJReader"),e.dataAccessHelper||(e.dataAccessHelper=La.get("http"));function n(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.dataAccessHelper.fetchText(t,r,a)}t.setUrl=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r.indexOf(".obj")===-1&&!a.fullpath)e.baseURL=r,e.url="".concat(r,"/index.obj");else{e.url=r;var i=r.split("/");i.pop(),e.baseURL=i.join("/")}return t.loadData(a)},t.loadData=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return n(e.url,r).then(t.parseAsText)},t.parseAsText=function(r){return r&&(r!==e.parseData&&t.modified(),e.parseData=r,e.numberOfOutputs=0,ES(e.splitMode),r.split(`
`).forEach(OS),NS(e)),!0},t.requestData=function(r,a){t.parseAsText(e.parseData)},t.isBusy=function(){return!!e.requestCount},t.getNumberOfOutputPorts=function(){return e.numberOfOutputs}}var FS={numberOfOutputs:1,requestCount:0,splitMode:null,trackDuplicates:!1};function Nd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,FS,n),W.obj(t,e),W.get(t,e,["url","baseURL"]),W.setGet(t,e,["dataAccessHelper","splitMode","trackDuplicates"]),W.algo(t,e,0,1),W.event(t,e,"busy"),RS(t,e)}var LS=W.newInstance(Nd,"vtkOBJReader");bS({newInstance:LS,extend:Nd},kS);var AS=["chemical json","name","inchi","formula","atoms","bonds","properties"];function BS(t,e){e.classHierarchy.push("vtkMolecule")}var VS={"chemical json":0,name:"",inchi:"",formula:"",atoms:null,bonds:null,properties:null};function Md(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,VS,n),W.obj(t,e),e.atoms||(e.atoms={}),e.bonds||(e.bonds={}),e.properties||(e.properties={}),W.setGet(t,e,AS),BS(t,e)}var US=W.newInstance(Md,"vtkMolecule"),GS={newInstance:US,extend:Md},PS=[1],jS=[2],zS=[3],WS=[4],IS=[5],$S=[6],HS=[7],KS=[8],XS=[9],qS=[10],YS=[11],ZS=[12],JS=[13],QS=[14],eT=[15],tT=[16],rT=[17],nT=[18],aT=[19],iT=[20],oT=[21],sT=[22],uT=[23],cT=[24],fT=[25],lT=[26],hT=[27],pT=[28],vT=[29],dT=[30],gT=[31],yT=[32],mT=[33],_T=[34],xT=[35],wT=[36],CT=[37],ST=[38],TT=[39],bT=[40],ET=[41],DT=[42],OT=[43],NT=[44],MT=[45],kT=[46],RT=[47],FT=[48],LT=[49],AT=[50],BT=[51],VT=[52],UT=[53],GT=[54],PT=[55],jT=[56],zT=[57],WT=[58],IT=[59],$T=[60],HT=[61],KT=[62],XT=[63],qT=[64],YT=[65],ZT=[66],JT=[67],QT=[68],eb=[69],tb=[70],rb=[71],nb=[72],ab=[73],ib=[74],ob=[75],sb=[76],ub=[77],cb=[78],fb=[79],lb=[80],hb=[81],pb=[82],vb=[83],db=[84],gb=[85],yb=[86],mb=[87],_b=[88],xb=[89],wb=[90],Cb=[91],Sb=[92],Tb=[93],bb=[94],Eb=[95],Db=[96],Ob=[97],Nb=[98],Mb=[99],kb=[100],Rb=[101],Fb=[102],Lb=[103],Ab=[104],Bb=[105],Vb=[106],Ub=[107],Gb=[108],Pb=[109],jb=[110],zb=[111],Wb=[112],Ib=[113],$b=[114],Hb=[115],Kb=[116],Xb=[117],qb=[118],Yb={H:PS,He:jS,Li:zS,Be:WS,B:IS,C:$S,N:HS,O:KS,F:XS,Ne:qS,Na:YS,Mg:ZS,Al:JS,Si:QS,P:eT,S:tT,Cl:rT,Ar:nT,K:aT,Ca:iT,Sc:oT,Ti:sT,V:uT,Cr:cT,Mn:fT,Fe:lT,Co:hT,Ni:pT,Cu:vT,Zn:dT,Ga:gT,Ge:yT,As:mT,Se:_T,Br:xT,Kr:wT,Rb:CT,Sr:ST,Y:TT,Zr:bT,Nb:ET,Mo:DT,Tc:OT,Ru:NT,Rh:MT,Pd:kT,Ag:RT,Cd:FT,In:LT,Sn:AT,Sb:BT,Te:VT,I:UT,Xe:GT,Cs:PT,Ba:jT,La:zT,Ce:WT,Pr:IT,Nd:$T,Pm:HT,Sm:KT,Eu:XT,Gd:qT,Tb:YT,Dy:ZT,Ho:JT,Er:QT,Tm:eb,Yb:tb,Lu:rb,Hf:nb,Ta:ab,W:ib,Re:ob,Os:sb,Ir:ub,Pt:cb,Au:fb,Hg:lb,Tl:hb,Pb:pb,Bi:vb,Po:db,At:gb,Rn:yb,Fr:mb,Ra:_b,Ac:xb,Th:wb,Pa:Cb,U:Sb,Np:Tb,Pu:bb,Am:Eb,Cm:Db,Bk:Ob,Cf:Nb,Es:Mb,Fm:kb,Md:Rb,No:Fb,Lr:Lb,Rf:Ab,Db:Bb,Sg:Vb,Bh:Ub,Hs:Gb,Mt:Pb,Ds:jb,Rg:zb,Cn:Wb,Uut:Ib,Uuq:$b,Uup:Hb,Uuh:Kb,Uus:Xb,Uuo:qb};function Zb(t,e){e.classHierarchy.push("vtkPDBReader"),e.dataAccessHelper||(e.dataAccessHelper=La.get("http"));function n(r,a){return e.dataAccessHelper.fetchText(t,r,a)}t.setUrl=function(r,a){if(r.indexOf(".pdb")===-1)e.baseURL=r,e.url="".concat(r);else{e.url=r;var i=r.split("/");i.pop(),e.baseURL=i.join("/")}return t.loadData(a)},t.loadData=function(r){return n(e.url,r).then(t.parseAsText)},t.parseAsText=function(r){return e.pdb=r,e.molecule=[],e.molecule=e.pdb.split(`
`),t.modified(),!0},t.requestData=function(r,a){var i=GS.newInstance();if(e.molecule){var s=e.molecule.length,o=[],c=[];e.numberOfAtoms=0;for(var u=0;u<s&&e.molecule[u]!=="END";){var f=e.molecule[u].length,l=e.molecule[u],h=l.substr(0,6).replace(/\s+/g,"");if(h.toUpperCase(),h==="ATOM"||h==="HETATM"){var p=l.substr(12,4).replace(/\s+/g,""),v=l.substr(30,8).replace(/\s+/g,""),y=l.substr(38,8).replace(/\s+/g,""),_=l.substr(46,8).replace(/\s+/g,""),m="";f>=78&&(m=l.substr(76,2).replace(/\s+/g,"")),m===""&&(m=p.substr(0,2).replace(/\d/g,"")),o.push(v),o.push(y),o.push(_);var d=Ie(Yb[m],1),g=d[0];c.push(g),e.numberOfAtoms++}u++}i.getAtoms().elements={},i.getAtoms().elements.number=Int8Array.from(c),i.getAtoms().coords={},i.getAtoms().coords["3d"]=Float32Array.from(o)}e.output[0]=i},t.isBusy=function(){return!!e.requestCount}}var Jb={numberOfAtoms:0,requestCount:0};function Qb(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Jb,n),W.obj(t,e),W.get(t,e,["url","baseURL","numberOfAtoms","requestCount"]),W.setGet(t,e,["dataAccessHelper"]),W.algo(t,e,0,1),W.event(t,e,"busy"),Zb(t,e)}W.newInstance(Qb,"vtkPDBReader");var kd={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Pt,function(){return function(n){var r={};function a(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=r,a.d=function(i,s,o){a.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:o})},a.r=function(i){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a.t=function(i,s){if(1&s&&(i=a(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var c in i)a.d(o,c,function(u){return i[u]}.bind(null,c));return o},a.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(s,"a",s),s},a.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},a.p="",a(a.s=184)}([function(n,r,a){function i(s){for(var o in s)r.hasOwnProperty(o)||(r[o]=s[o])}Object.defineProperty(r,"__esModule",{value:!0}),i(a(240)),i(a(251)),i(a(175)),i(a(107)),i(a(29)),i(a(73)),i(a(106)),i(a(30)),i(a(252)),i(a(52)),i(a(97)),i(a(253)),i(a(37)),i(a(51)),i(a(173)),i(a(176)),i(a(172)),i(a(108)),i(a(254)),i(a(255)),i(a(256)),i(a(72)),i(a(177)),i(a(105)),i(a(17)),i(a(257)),i(a(12)),i(a(174))},function(n,r,a){var i=this&&this.__values||function(g){var x=typeof Symbol=="function"&&Symbol.iterator,w=x&&g[x],C=0;if(w)return w.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&C>=g.length&&(g=void 0),{value:g&&g[C++],done:!g}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(212);r.FixedSizeSet=s.FixedSizeSet;var o=a(213);r.ObjectCache=o.ObjectCache;var c=a(214);r.CompareCache=c.CompareCache;var u=a(215);r.Lazy=u.Lazy;var f=a(216);function l(g,x,w){if(m(g))g.forEach(function(S,T){return x.call(w,T,S)});else for(var C in g)g.hasOwnProperty(C)&&x.call(w,C,g[C])}function h(g){var x,w;if(p(g))return g;if(y(g)){var C=[];try{for(var S=i(g),T=S.next();!T.done;T=S.next()){var b=T.value;C.push(h(b))}}catch(M){x={error:M}}finally{try{T&&!T.done&&(w=S.return)&&w.call(S)}finally{if(x)throw x.error}}return C}if(v(g)){C={};for(var O in g)if(g.hasOwnProperty(O)){var D=g[O];C[O]=h(D)}return C}return g}function p(g){return!!g&&Object.prototype.toString.call(g)==="[object Function]"}function v(g){var x=typeof g;return!!g&&(x==="function"||x==="object")}function y(g){return Array.isArray(g)}function _(g){return g instanceof Set}function m(g){return g instanceof Map}function d(g){if(v(g)){var x=Object.getPrototypeOf(g),w=x.constructor;return x&&w&&typeof w=="function"&&w instanceof w&&Function.prototype.toString.call(w)===Function.prototype.toString.call(Object)}return!1}r.StringWalker=f.StringWalker,r.applyMixin=function(g,x){for(var w=[],C=2;C<arguments.length;C++)w[C-2]=arguments[C];Object.getOwnPropertyNames(x.prototype).forEach(function(S){if(S!=="constructor"){if(w.indexOf(S)!==-1){var T=Object.getOwnPropertyDescriptor(g.prototype,S);T&&Object.defineProperty(g.prototype,"_"+S,T)}var b=Object.getOwnPropertyDescriptor(x.prototype,S);b&&Object.defineProperty(g.prototype,S,b)}})},r.applyDefaults=function g(x,w,C){C===void 0&&(C=!1);var S=h(x||{});return l(w,function(T,b){d(b)?S[T]=g(S[T],b,C):(C||S[T]===void 0)&&(S[T]=b)}),S},r.forEachArray=function(g,x,w){g.forEach(x,w)},r.forEachObject=l,r.arrayLength=function(g){return _(g)?g.size:g.length},r.objectLength=function(g){return m(g)?g.size:Object.keys(g).length},r.getObjectValue=function(g,x){return m(g)?g.get(x):g[x]},r.removeObjectValue=function(g,x){m(g)?g.delete(x):delete g[x]},r.clone=h,r.isBoolean=function(g){return typeof g=="boolean"},r.isNumber=function(g){return typeof g=="number"},r.isString=function(g){return typeof g=="string"},r.isFunction=p,r.isObject=v,r.isArray=y,r.isSet=_,r.isMap=m,r.isEmpty=function(g){if(y(g))return!g.length;if(_(g)||m(g))return!g.size;if(v(g)){for(var x in g)if(g.hasOwnProperty(x))return!1;return!0}return!1},r.isPlainObject=d,r.isIterable=function(g){return g&&typeof g[Symbol.iterator]=="function"},r.getValue=function(g){return p(g.valueOf)?g.valueOf():g},r.utf8Encode=function(g){for(var x=new Uint8Array(4*g.length),w=0,C=0;C<g.length;C++){var S=g.charCodeAt(C);if(S<128)x[w++]=S;else{if(S<2048)x[w++]=S>>6|192;else{if(S>55295&&S<56320){if(++C>=g.length)throw new Error("Incomplete surrogate pair.");var T=g.charCodeAt(C);if(T<56320||T>57343)throw new Error("Invalid surrogate character.");S=65536+((1023&S)<<10)+(1023&T),x[w++]=S>>18|240,x[w++]=S>>12&63|128}else x[w++]=S>>12|224;x[w++]=S>>6&63|128}x[w++]=63&S|128}}return x.subarray(0,w)},r.utf8Decode=function(g){for(var x="",w=0;w<g.length;){var C=g[w++];if(C>127)if(C>191&&C<224){if(w>=g.length)throw new Error("Incomplete 2-byte sequence.");C=(31&C)<<6|63&g[w++]}else if(C>223&&C<240){if(w+1>=g.length)throw new Error("Incomplete 3-byte sequence.");C=(15&C)<<12|(63&g[w++])<<6|63&g[w++]}else{if(!(C>239&&C<248))throw new Error("Unknown multi-byte start.");if(w+2>=g.length)throw new Error("Incomplete 4-byte sequence.");C=(7&C)<<18|(63&g[w++])<<12|(63&g[w++])<<6|63&g[w++]}if(C<=65535)x+=String.fromCharCode(C);else{if(!(C<=1114111))throw new Error("Code point exceeds UTF-16 limit.");C-=65536,x+=String.fromCharCode(C>>10|55296),x+=String.fromCharCode(1023&C|56320)}}return x}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),function(i){i[i.Before=0]="Before",i[i.Equal=1]="Equal",i[i.After=2]="After"}(r.BoundaryPosition||(r.BoundaryPosition={})),function(i){i[i.None=0]="None",i[i.Capturing=1]="Capturing",i[i.AtTarget=2]="AtTarget",i[i.Bubbling=3]="Bubbling"}(r.EventPhase||(r.EventPhase={})),function(i){i[i.Element=1]="Element",i[i.Attribute=2]="Attribute",i[i.Text=3]="Text",i[i.CData=4]="CData",i[i.EntityReference=5]="EntityReference",i[i.Entity=6]="Entity",i[i.ProcessingInstruction=7]="ProcessingInstruction",i[i.Comment=8]="Comment",i[i.Document=9]="Document",i[i.DocumentType=10]="DocumentType",i[i.DocumentFragment=11]="DocumentFragment",i[i.Notation=12]="Notation"}(r.NodeType||(r.NodeType={})),function(i){i[i.Disconnected=1]="Disconnected",i[i.Preceding=2]="Preceding",i[i.Following=4]="Following",i[i.Contains=8]="Contains",i[i.ContainedBy=16]="ContainedBy",i[i.ImplementationSpecific=32]="ImplementationSpecific"}(r.Position||(r.Position={})),function(i){i[i.Accept=1]="Accept",i[i.Reject=2]="Reject",i[i.Skip=3]="Skip"}(r.FilterResult||(r.FilterResult={})),function(i){i[i.All=4294967295]="All",i[i.Element=1]="Element",i[i.Attribute=2]="Attribute",i[i.Text=4]="Text",i[i.CDataSection=8]="CDataSection",i[i.EntityReference=16]="EntityReference",i[i.Entity=32]="Entity",i[i.ProcessingInstruction=64]="ProcessingInstruction",i[i.Comment=128]="Comment",i[i.Document=256]="Document",i[i.DocumentType=512]="DocumentType",i[i.DocumentFragment=1024]="DocumentFragment",i[i.Notation=2048]="Notation"}(r.WhatToShow||(r.WhatToShow={})),function(i){i[i.StartToStart=0]="StartToStart",i[i.StartToEnd=1]="StartToEnd",i[i.EndToEnd=2]="EndToEnd",i[i.EndToStart=3]="EndToStart"}(r.HowToCompare||(r.HowToCompare={}))},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(241);r.Cast=i.Cast;var s=a(150);r.Guard=s.Guard;var o=a(242);r.EmptySet=o.EmptySet},function(n,r,a){var i=a(11),s=a(55).f,o=a(21),c=a(25),u=a(80),f=a(119),l=a(123);n.exports=function(h,p){var v,y,_,m,d,g=h.target,x=h.global,w=h.stat;if(v=x?i:w?i[g]||u(g,{}):(i[g]||{}).prototype)for(y in p){if(m=p[y],_=h.noTargetGet?(d=s(v,y))&&d.value:v[y],!l(x?y:g+(w?".":"#")+y,h.forced)&&_!==void 0){if(typeof m==typeof _)continue;f(m,_)}(h.sham||_&&_.sham)&&o(m,"sham",!0),c(v,y,m,h)}}},function(n,r,a){var i=a(11),s=a(81),o=a(14),c=a(58),u=a(86),f=a(124),l=s("wks"),h=i.Symbol,p=f?h:h&&h.withoutSetter||c;n.exports=function(v){return o(l,v)||(u&&o(h,v)?l[v]=h[v]:l[v]=p("Symbol."+v)),l[v]}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(1),s=a(29),o=function(){function c(){this._features={mutationObservers:!0,customElements:!0,slots:!0,steps:!0},this._window=null,this._compareCache=new i.CompareCache,this._rangeList=new i.FixedSizeSet}return c.prototype.setFeatures=function(u){if(u===void 0&&(u=!0),i.isObject(u))for(var f in u)this._features[f]=u[f]||!1;else for(var f in this._features)this._features[f]=u},Object.defineProperty(c.prototype,"features",{get:function(){return this._features},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"window",{get:function(){return this._window===null&&(this._window=s.create_window()),this._window},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"compareCache",{get:function(){return this._compareCache},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"rangeList",{get:function(){return this._rangeList},enumerable:!0,configurable:!0}),Object.defineProperty(c,"instance",{get:function(){return c._instance||(c._instance=new c),c._instance},enumerable:!0,configurable:!0}),c}();r.dom=o.instance},function(n,r,a){var i=this&&this.__importStar||function(d){if(d&&d.__esModule)return d;var g={};if(d!=null)for(var x in d)Object.hasOwnProperty.call(d,x)&&(g[x]=d[x]);return g.default=d,g};Object.defineProperty(r,"__esModule",{value:!0});var s=i(a(228));r.base64=s;var o=i(a(146));r.byte=o;var c=i(a(147));r.byteSequence=c;var u=i(a(96));r.codePoint=u;var f=i(a(232));r.json=f;var l=i(a(233));r.list=l;var h=i(a(234));r.map=h;var p=i(a(235));r.namespace=p;var v=i(a(236));r.queue=v;var y=i(a(237));r.set=y;var _=i(a(238));r.stack=_;var m=i(a(239));r.string=m},function(n,r){n.exports=function(a){try{return!!a()}catch{return!0}}},function(n,r,a){var i,s=this&&this.__extends||(i=function(L,F){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,$){G.__proto__=$}||function(G,$){for(var H in $)$.hasOwnProperty(H)&&(G[H]=$[H])})(L,F)},function(L,F){function G(){this.constructor=L}i(L,F),L.prototype=F===null?Object.create(F):(G.prototype=F.prototype,new G)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(L){function F(G,$){$===void 0&&($="");var H=L.call(this,$)||this;return H.name=G,H}return s(F,L),F}(Error);r.DOMException=o;var c=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"DOMStringSizeError",G)||this}return s(F,L),F}(o);r.DOMStringSizeError=c;var u=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"WrongDocumentError","The object is in the wrong document. "+G)||this}return s(F,L),F}(o);r.WrongDocumentError=u;var f=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"NoDataAllowedError",G)||this}return s(F,L),F}(o);r.NoDataAllowedError=f;var l=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"NoModificationAllowedError","The object can not be modified. "+G)||this}return s(F,L),F}(o);r.NoModificationAllowedError=l;var h=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"NotSupportedError","The operation is not supported. "+G)||this}return s(F,L),F}(o);r.NotSupportedError=h;var p=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"InUseAttributeError",G)||this}return s(F,L),F}(o);r.InUseAttributeError=p;var v=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"InvalidStateError","The object is in an invalid state. "+G)||this}return s(F,L),F}(o);r.InvalidStateError=v;var y=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"InvalidModificationError","The object can not be modified in this way. "+G)||this}return s(F,L),F}(o);r.InvalidModificationError=y;var _=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"NamespaceError","The operation is not allowed by Namespaces in XML. [XMLNS] "+G)||this}return s(F,L),F}(o);r.NamespaceError=_;var m=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"InvalidAccessError","The object does not support the operation or argument. "+G)||this}return s(F,L),F}(o);r.InvalidAccessError=m;var d=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"ValidationError",G)||this}return s(F,L),F}(o);r.ValidationError=d;var g=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"TypeMismatchError",G)||this}return s(F,L),F}(o);r.TypeMismatchError=g;var x=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"SecurityError","The operation is insecure. "+G)||this}return s(F,L),F}(o);r.SecurityError=x;var w=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"NetworkError","A network error occurred. "+G)||this}return s(F,L),F}(o);r.NetworkError=w;var C=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"AbortError","The operation was aborted. "+G)||this}return s(F,L),F}(o);r.AbortError=C;var S=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"URLMismatchError","The given URL does not match another URL. "+G)||this}return s(F,L),F}(o);r.URLMismatchError=S;var T=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"QuotaExceededError","The quota has been exceeded. "+G)||this}return s(F,L),F}(o);r.QuotaExceededError=T;var b=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"TimeoutError","The operation timed out. "+G)||this}return s(F,L),F}(o);r.TimeoutError=b;var O=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"InvalidNodeTypeError","The supplied node is incorrect or has an incorrect ancestor for this operation. "+G)||this}return s(F,L),F}(o);r.InvalidNodeTypeError=O;var D=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"DataCloneError","The object can not be cloned. "+G)||this}return s(F,L),F}(o);r.DataCloneError=D;var M=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"NotImplementedError","The DOM method is not implemented by this module. "+G)||this}return s(F,L),F}(o);r.NotImplementedError=M;var R=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"HierarchyRequestError","The operation would yield an incorrect node tree. "+G)||this}return s(F,L),F}(o);r.HierarchyRequestError=R;var E=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"NotFoundError","The object can not be found here. "+G)||this}return s(F,L),F}(o);r.NotFoundError=E;var B=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"IndexSizeError","The index is not in the allowed range. "+G)||this}return s(F,L),F}(o);r.IndexSizeError=B;var I=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"SyntaxError","The string did not match the expected pattern. "+G)||this}return s(F,L),F}(o);r.SyntaxError=I;var P=function(L){function F(G){return G===void 0&&(G=""),L.call(this,"InvalidCharacterError","The string contains invalid characters. "+G)||this}return s(F,L),F}(o);r.InvalidCharacterError=P},function(n,r,a){var i=a(53),s=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],o=["scalar","sequence","mapping"];n.exports=function(c,u){var f,l;if(u=u||{},Object.keys(u).forEach(function(h){if(s.indexOf(h)===-1)throw new i('Unknown option "'+h+'" is met in definition of "'+c+'" YAML type.')}),this.tag=c,this.kind=u.kind||null,this.resolve=u.resolve||function(){return!0},this.construct=u.construct||function(h){return h},this.instanceOf=u.instanceOf||null,this.predicate=u.predicate||null,this.represent=u.represent||null,this.defaultStyle=u.defaultStyle||null,this.styleAliases=(f=u.styleAliases||null,l={},f!==null&&Object.keys(f).forEach(function(h){f[h].forEach(function(p){l[String(p)]=h})}),l),o.indexOf(this.kind)===-1)throw new i('Unknown kind "'+this.kind+'" is specified for "'+c+'" YAML type.')}},function(n,r,a){(function(i){var s=function(o){return o&&o.Math==Math&&o};n.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof i=="object"&&i)||Function("return this")()}).call(this,a(78))},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.idl_defineConst=function(i,s,o){Object.defineProperty(i,s,{writable:!1,enumerable:!0,configurable:!1,value:o})}},function(n,r){n.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},function(n,r){var a={}.hasOwnProperty;n.exports=function(i,s){return a.call(i,s)}},function(n,r,a){var i=a(16),s=a(115),o=a(18),c=a(56),u=Object.defineProperty;r.f=i?u:function(f,l,h){if(o(f),l=c(l,!0),o(h),s)try{return u(f,l,h)}catch{}if("get"in h||"set"in h)throw TypeError("Accessors not supported");return"value"in h&&(f[l]=h.value),f}},function(n,r,a){var i=a(8);n.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(n,r,a){var i=this&&this.__values||function(g){var x=typeof Symbol=="function"&&Symbol.iterator,w=x&&g[x],C=0;if(w)return w.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&C>=g.length&&(g=void 0),{value:g&&g[C++],done:!g}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(3),o=a(2);function c(g,x,w){if(w===void 0&&(w=!1),w&&s.Guard.isElementNode(x)&&s.Guard.isShadowRoot(x.shadowRoot)&&x.shadowRoot._firstChild)return x.shadowRoot._firstChild;if(x._firstChild)return x._firstChild;if(x===g)return null;if(x._nextSibling)return x._nextSibling;for(var C=x._parent;C&&C!==g;){if(C._nextSibling)return C._nextSibling;C=C._parent}return null}function u(){var g;return(g={})[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:null}}}},g}function f(g,x,w,C){x===void 0&&(x=!1),w===void 0&&(w=!1);for(var S=x?g:c(g,g,w);S&&C&&!C(S);)S=c(g,S,w);return S}function l(g,x,w,C,S){C===void 0&&(C=!1);for(var T=c(g,x,C);T&&S&&!S(T);)T=c(g,T,C);return T}function h(g,x,w,C){var S;return x===void 0&&(x=!1),w===void 0&&(w=!1),x||g._children.size!==0?((S={})[Symbol.iterator]=function(){var T=x?g:c(g,g,w);return{next:function(){for(;T&&C&&!C(T);)T=c(g,T,w);if(T===null)return{done:!0,value:null};var b={done:!1,value:T};return T=c(g,T,w),b}}},S):u()}function p(g,x,w){x===void 0&&(x=!1);for(var C=x?g:g._parent;C&&w&&!w(C);)C=C._parent;return C}function v(g,x,w,C){for(var S=x._parent;S&&C&&!C(S);)S=S._parent;return S}function y(g){return s.Guard.isDocumentTypeNode(g)?0:s.Guard.isCharacterDataNode(g)?g._data.length:g._children.size}function _(g,x){if(x===void 0&&(x=!1),x){var w=_(g,!1);return s.Guard.isShadowRoot(w)?_(w._host,!0):w}return g._parent?_(g._parent):g}function m(g,x,w,C){w===void 0&&(w=!1),C===void 0&&(C=!1);for(var S=w?g:C&&s.Guard.isShadowRoot(g)?g._host:g._parent;S!==null;){if(S===x)return!0;S=C&&s.Guard.isShadowRoot(S)?S._host:S._parent}return!1}function d(g){for(var x=_(g),w=0,C=f(x);C!==null;){if(w++,C===g)return w;C=l(x,C)}return-1}r.tree_getFirstDescendantNode=f,r.tree_getNextDescendantNode=l,r.tree_getDescendantNodes=h,r.tree_getDescendantElements=function(g,x,w,C){var S;return x===void 0&&(x=!1),w===void 0&&(w=!1),x||g._children.size!==0?((S={})[Symbol.iterator]=function(){var T=h(g,x,w,function(O){return s.Guard.isElementNode(O)})[Symbol.iterator](),b=T.next().value;return{next:function(){for(;b&&C&&!C(b);)b=T.next().value;if(b===null)return{done:!0,value:null};var O={done:!1,value:b};return b=T.next().value,O}}},S):u()},r.tree_getSiblingNodes=function(g,x,w){var C;return x===void 0&&(x=!1),g._parent&&g._parent._children.size!==0?((C={})[Symbol.iterator]=function(){var S=g._parent?g._parent._firstChild:null;return{next:function(){for(;S&&(w&&!w(S)||!x&&S===g);)S=S._nextSibling;if(S===null)return{done:!0,value:null};var T={done:!1,value:S};return S=S._nextSibling,T}}},C):u()},r.tree_getFirstAncestorNode=p,r.tree_getNextAncestorNode=v,r.tree_getAncestorNodes=function(g,x,w){var C;return x===void 0&&(x=!1),x||g._parent?((C={})[Symbol.iterator]=function(){var S=p(g,x,w);return{next:function(){if(S===null)return{done:!0,value:null};var T={done:!1,value:S};return S=v(0,S,x,w),T}}},C):u()},r.tree_getCommonAncestor=function(g,x){if(g===x)return g._parent;for(var w=[],C=[],S=p(g,!0);S!==null;)w.push(S),S=v(0,S);for(var T=p(x,!0);T!==null;)C.push(T),T=v(0,T);for(var b=w.length,O=C.length,D=null,M=Math.min(b,O);M>0;M--){var R=w[--b];if(R!==C[--O])break;D=R}return D},r.tree_getFollowingNode=function(g,x){if(x._firstChild)return x._firstChild;if(x._nextSibling)return x._nextSibling;for(;;){var w=x._parent;if(w===null||w===g)return null;if(w._nextSibling)return w._nextSibling;x=w}},r.tree_getPrecedingNode=function(g,x){return x===g?null:x._previousSibling?(x=x._previousSibling)._lastChild?x._lastChild:x:x._parent},r.tree_isConstrained=function g(x){var w,C,S,T,b,O;switch(x._nodeType){case o.NodeType.Document:var D=!1,M=!1;try{for(var R=i(x._children),E=R.next();!E.done;E=R.next())switch(E.value._nodeType){case o.NodeType.ProcessingInstruction:case o.NodeType.Comment:break;case o.NodeType.DocumentType:if(D||M)return!1;D=!0;break;case o.NodeType.Element:if(M)return!1;M=!0;break;default:return!1}}catch(F){w={error:F}}finally{try{E&&!E.done&&(C=R.return)&&C.call(R)}finally{if(w)throw w.error}}break;case o.NodeType.DocumentFragment:case o.NodeType.Element:try{for(var B=i(x._children),I=B.next();!I.done;I=B.next())switch(I.value._nodeType){case o.NodeType.Element:case o.NodeType.Text:case o.NodeType.ProcessingInstruction:case o.NodeType.CData:case o.NodeType.Comment:break;default:return!1}}catch(F){S={error:F}}finally{try{I&&!I.done&&(T=B.return)&&T.call(B)}finally{if(S)throw S.error}}break;case o.NodeType.DocumentType:case o.NodeType.Text:case o.NodeType.ProcessingInstruction:case o.NodeType.CData:case o.NodeType.Comment:return!x.hasChildNodes()}try{for(var P=i(x._children),L=P.next();!L.done;L=P.next())if(!g(L.value))return!1}catch(F){b={error:F}}finally{try{L&&!L.done&&(O=P.return)&&O.call(P)}finally{if(b)throw b.error}}return!0},r.tree_nodeLength=y,r.tree_isEmpty=function(g){return y(g)===0},r.tree_rootNode=_,r.tree_isDescendantOf=function(g,x,w,C){w===void 0&&(w=!1),C===void 0&&(C=!1);for(var S=f(g,w,C);S!==null;){if(S===x)return!0;S=l(g,S,w,C)}return!1},r.tree_isAncestorOf=m,r.tree_isHostIncludingAncestorOf=function g(x,w,C){if(C===void 0&&(C=!1),m(x,w,C))return!0;var S=_(x);return!(!s.Guard.isDocumentFragmentNode(S)||S._host===null||!g(S._host,w,C))},r.tree_isSiblingOf=function(g,x,w){return w===void 0&&(w=!1),g!==x?g._parent!==null&&g._parent===x._parent:!!w},r.tree_isPreceding=function(g,x){var w=d(g),C=d(x);return w!==-1&&C!==-1&&_(g)===_(x)&&C<w},r.tree_isFollowing=function(g,x){var w=d(g),C=d(x);return w!==-1&&C!==-1&&_(g)===_(x)&&C>w},r.tree_isParentOf=function(g,x){return g._parent===x},r.tree_isChildOf=function(g,x){return x._parent===g},r.tree_previousSibling=function(g){return g._previousSibling},r.tree_nextSibling=function(g){return g._nextSibling},r.tree_firstChild=function(g){return g._firstChild},r.tree_lastChild=function(g){return g._lastChild},r.tree_treePosition=d,r.tree_index=function(g){for(var x=0;g._previousSibling!==null;)x++,g=g._previousSibling;return x},r.tree_retarget=function(g,x){for(;;){if(!g||!s.Guard.isNode(g))return g;var w=_(g);if(!s.Guard.isShadowRoot(w)||x&&s.Guard.isNode(x)&&m(w,x,!0,!0))return g;g=w.host}}},function(n,r,a){var i=a(13);n.exports=function(s){if(!i(s))throw TypeError(String(s)+" is not an object");return s}},function(n,r,a){var i=a(24),s=a(130),o=a(49),c=a(43),u=a(88),f=c.set,l=c.getterFor("Array Iterator");n.exports=u(Array,"Array",function(h,p){f(this,{type:"Array Iterator",target:i(h),index:0,kind:p})},function(){var h=l(this),p=h.target,v=h.kind,y=h.index++;return!p||y>=p.length?(h.target=void 0,{value:void 0,done:!0}):v=="keys"?{value:y,done:!1}:v=="values"?{value:p[y],done:!1}:{value:[y,p[y]],done:!1}},"values"),o.Arguments=o.Array,s("keys"),s("values"),s("entries")},function(n,r,a){var i=a(90),s=a(25),o=a(202);i||s(Object.prototype,"toString",o,{unsafe:!0})},function(n,r,a){var i=a(16),s=a(15),o=a(40);n.exports=i?function(c,u,f){return s.f(c,u,o(1,f))}:function(c,u,f){return c[u]=f,c}},function(n,r,a){var i=a(137).charAt,s=a(43),o=a(88),c=s.set,u=s.getterFor("String Iterator");o(String,"String",function(f){c(this,{type:"String Iterator",string:String(f),index:0})},function(){var f,l=u(this),h=l.string,p=l.index;return p>=h.length?{value:void 0,done:!0}:(f=i(h,p),l.index+=f.length,{value:f,done:!1})})},function(n,r,a){var i=a(11),s=a(203),o=a(19),c=a(21),u=a(5),f=u("iterator"),l=u("toStringTag"),h=o.values;for(var p in s){var v=i[p],y=v&&v.prototype;if(y){if(y[f]!==h)try{c(y,f,h)}catch{y[f]=h}if(y[l]||c(y,l,p),s[p]){for(var _ in o)if(y[_]!==o[_])try{c(y,_,o[_])}catch{y[_]=o[_]}}}}},function(n,r,a){var i=a(41),s=a(35);n.exports=function(o){return i(s(o))}},function(n,r,a){var i=a(11),s=a(21),o=a(14),c=a(80),u=a(117),f=a(43),l=f.get,h=f.enforce,p=String(String).split("String");(n.exports=function(v,y,_,m){var d=!!m&&!!m.unsafe,g=!!m&&!!m.enumerable,x=!!m&&!!m.noTargetGet;typeof _=="function"&&(typeof y!="string"||o(_,"name")||s(_,"name",y),h(_).source=p.join(typeof y=="string"?y:"")),v!==i?(d?!x&&v[y]&&(g=!0):delete v[y],g?v[y]=_:s(v,y,_)):g?v[y]=_:c(y,_)})(Function.prototype,"toString",function(){return typeof this=="function"&&l(this).source||u(this)})},function(n,r,a){var i=a(47),s=Math.min;n.exports=function(o){return o>0?s(i(o),9007199254740991):0}},function(n,r,a){var i=a(35);n.exports=function(s){return Object(i(s))}},function(n,r,a){var i=a(16),s=a(8),o=a(14),c=Object.defineProperty,u={},f=function(l){throw l};n.exports=function(l,h){if(o(u,l))return u[l];h||(h={});var p=[][l],v=!!o(h,"ACCESSORS")&&h.ACCESSORS,y=o(h,0)?h[0]:f,_=o(h,1)?h[1]:void 0;return u[l]=!!p&&!s(function(){if(v&&!i)return!0;var m={length:-1};v?c(m,1,{enumerable:!0,get:f}):m[1]=1,p.call(m,y,_)})}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(148),s=a(149),o=a(151),c=a(98),u=a(153),f=a(154),l=a(155),h=a(99),p=a(100),v=a(156),y=a(157),_=a(101),m=a(158),d=a(159),g=a(160),x=a(161),w=a(162),C=a(163),S=a(164),T=a(165),b=a(166),O=a(167),D=a(168),M=a(169),R=a(170);r.create_domImplementation=function(E){return i.DOMImplementationImpl._create(E)},r.create_window=function(){return s.WindowImpl._create()},r.create_xmlDocument=function(){return new o.XMLDocumentImpl},r.create_document=function(){return new c.DocumentImpl},r.create_abortController=function(){return new u.AbortControllerImpl},r.create_abortSignal=function(){return f.AbortSignalImpl._create()},r.create_documentType=function(E,B,I,P){return l.DocumentTypeImpl._create(E,B,I,P)},r.create_element=function(E,B,I,P){return h.ElementImpl._create(E,B,I,P)},r.create_htmlElement=function(E,B,I,P){return h.ElementImpl._create(E,B,I,P)},r.create_htmlUnknownElement=function(E,B,I,P){return h.ElementImpl._create(E,B,I,P)},r.create_documentFragment=function(E){return p.DocumentFragmentImpl._create(E)},r.create_shadowRoot=function(E,B){return v.ShadowRootImpl._create(E,B)},r.create_attr=function(E,B){return y.AttrImpl._create(E,B)},r.create_text=function(E,B){return _.TextImpl._create(E,B)},r.create_cdataSection=function(E,B){return m.CDATASectionImpl._create(E,B)},r.create_comment=function(E,B){return d.CommentImpl._create(E,B)},r.create_processingInstruction=function(E,B,I){return g.ProcessingInstructionImpl._create(E,B,I)},r.create_htmlCollection=function(E,B){return B===void 0&&(B=function(){return!0}),x.HTMLCollectionImpl._create(E,B)},r.create_nodeList=function(E){return w.NodeListImpl._create(E)},r.create_nodeListStatic=function(E,B){return C.NodeListStaticImpl._create(E,B)},r.create_namedNodeMap=function(E){return S.NamedNodeMapImpl._create(E)},r.create_range=function(E,B){return T.RangeImpl._create(E,B)},r.create_nodeIterator=function(E,B,I){return b.NodeIteratorImpl._create(E,B,I)},r.create_treeWalker=function(E,B){return O.TreeWalkerImpl._create(E,B)},r.create_nodeFilter=function(){return D.NodeFilterImpl._create()},r.create_mutationRecord=function(E,B,I,P,L,F,G,$,H){return M.MutationRecordImpl._create(E,B,I,P,L,F,G,$,H)},r.create_domTokenList=function(E,B){return R.DOMTokenListImpl._create(E,B)}},function(n,r,a){var i=this&&this.__values||function(y){var _=typeof Symbol=="function"&&Symbol.iterator,m=_&&y[_],d=0;if(m)return m.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&d>=y.length&&(y=void 0),{value:y&&y[d++],done:!y}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(6),o=a(17),c=a(3),u=a(72),f=new Map;function l(y,_){if(_!==y._root&&o.tree_isAncestorOf(y._reference,_,!0)){if(y._pointerBeforeReference)for(;;){var m=o.tree_getFollowingNode(y._root,_);if(m!==null&&o.tree_isDescendantOf(y._root,m,!0)&&!o.tree_isDescendantOf(_,m,!0))return void(y._reference=m);if(m===null)return void(y._pointerBeforeReference=!1)}if(_._previousSibling===null)_._parent!==null&&(y._reference=_._parent);else{for(var d=_._previousSibling,g=o.tree_getFirstDescendantNode(_._previousSibling,!0,!1);g!==null;)g!==null&&(d=g),g=o.tree_getNextDescendantNode(_._previousSibling,g,!0,!1);y._reference=d}}}function h(y,_,m,d,g){if(c.Guard.isSlot(y)&&_==="name"&&g===null){if(d===m||d===null&&m===""||d===""&&m===null)return;y._name=d===null||d===""?"":d,u.shadowTree_assignSlotablesForATree(o.tree_rootNode(y))}}function p(y,_,m,d,g){if(c.Guard.isSlotable(y)&&_==="slot"&&g===null){if(d===m||d===null&&m===""||d===""&&m===null)return;y._name=d===null||d===""?"":d,u.shadowTree_isAssigned(y)&&u.shadowTree_assignSlotables(y._assignedSlot),u.shadowTree_assignASlot(y)}}function v(y,_,m,d){_==="id"&&d===null&&(y._uniqueIdentifier=m||void 0)}r.dom_runRemovingSteps=function(y,_){},r.dom_runCloningSteps=function(y,_,m,d){},r.dom_runAdoptingSteps=function(y,_){},r.dom_runAttributeChangeSteps=function(y,_,m,d,g){var x,w;s.dom.features.slots&&(p.call(y,y,_,m,d,g),h.call(y,y,_,m,d,g)),v.call(y,y,_,d,g);try{for(var C=i(y._attributeChangeSteps),S=C.next();!S.done;S=C.next())S.value.call(y,y,_,m,d,g)}catch(T){x={error:T}}finally{try{S&&!S.done&&(w=C.return)&&w.call(C)}finally{if(x)throw x.error}}},r.dom_runInsertionSteps=function(y){},r.dom_runNodeIteratorPreRemovingSteps=function(y,_){l.call(y,y,_)},r.dom_hasSupportedTokens=function(y){return f.has(y)},r.dom_getSupportedTokens=function(y){return f.get(y)||new Set},r.dom_runEventConstructingSteps=function(y){},r.dom_runChildTextContentChangeSteps=function(y){}},function(n,r,a){var i=a(4),s=a(11),o=a(46),c=a(44),u=a(16),f=a(86),l=a(124),h=a(8),p=a(14),v=a(59),y=a(13),_=a(18),m=a(27),d=a(24),g=a(56),x=a(40),w=a(60),C=a(61),S=a(82),T=a(190),b=a(85),O=a(55),D=a(15),M=a(79),R=a(21),E=a(25),B=a(81),I=a(57),P=a(45),L=a(58),F=a(5),G=a(125),$=a(126),H=a(62),J=a(43),Q=a(36).forEach,q=I("hidden"),ne=F("toPrimitive"),re=J.set,oe=J.getterFor("Symbol"),te=Object.prototype,A=s.Symbol,N=o("JSON","stringify"),U=O.f,V=D.f,k=T.f,z=M.f,j=B("symbols"),K=B("op-symbols"),X=B("string-to-symbol-registry"),Z=B("symbol-to-string-registry"),ae=B("wks"),ue=s.QObject,ie=!ue||!ue.prototype||!ue.prototype.findChild,pe=u&&h(function(){return w(V({},"a",{get:function(){return V(this,"a",{value:7}).a}})).a!=7})?function(he,de,ye){var Se=U(te,de);Se&&delete te[de],V(he,de,ye),Se&&he!==te&&V(te,de,Se)}:V,ve=function(he,de){var ye=j[he]=w(A.prototype);return re(ye,{type:"Symbol",tag:he,description:de}),u||(ye.description=de),ye},ce=l?function(he){return typeof he=="symbol"}:function(he){return Object(he)instanceof A},xe=function(he,de,ye){he===te&&xe(K,de,ye),_(he);var Se=g(de,!0);return _(ye),p(j,Se)?(ye.enumerable?(p(he,q)&&he[q][Se]&&(he[q][Se]=!1),ye=w(ye,{enumerable:x(0,!1)})):(p(he,q)||V(he,q,x(1,{})),he[q][Se]=!0),pe(he,Se,ye)):V(he,Se,ye)},Y=function(he,de){_(he);var ye=d(de),Se=C(ye).concat(se(ye));return Q(Se,function(Ne){u&&!_e.call(ye,Ne)||xe(he,Ne,ye[Ne])}),he},_e=function(he){var de=g(he,!0),ye=z.call(this,de);return!(this===te&&p(j,de)&&!p(K,de))&&(!(ye||!p(this,de)||!p(j,de)||p(this,q)&&this[q][de])||ye)},Te=function(he,de){var ye=d(he),Se=g(de,!0);if(ye!==te||!p(j,Se)||p(K,Se)){var Ne=U(ye,Se);return!Ne||!p(j,Se)||p(ye,q)&&ye[q][Se]||(Ne.enumerable=!0),Ne}},Ce=function(he){var de=k(d(he)),ye=[];return Q(de,function(Se){p(j,Se)||p(P,Se)||ye.push(Se)}),ye},se=function(he){var de=he===te,ye=k(de?K:d(he)),Se=[];return Q(ye,function(Ne){!p(j,Ne)||de&&!p(te,Ne)||Se.push(j[Ne])}),Se};f||(E((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor");var he=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,de=L(he),ye=function(Se){this===te&&ye.call(K,Se),p(this,q)&&p(this[q],de)&&(this[q][de]=!1),pe(this,de,x(1,Se))};return u&&ie&&pe(te,de,{configurable:!0,set:ye}),ve(de,he)}).prototype,"toString",function(){return oe(this).tag}),E(A,"withoutSetter",function(he){return ve(L(he),he)}),M.f=_e,D.f=xe,O.f=Te,S.f=T.f=Ce,b.f=se,G.f=function(he){return ve(F(he),he)},u&&(V(A.prototype,"description",{configurable:!0,get:function(){return oe(this).description}}),c||E(te,"propertyIsEnumerable",_e,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:A}),Q(C(ae),function(he){$(he)}),i({target:"Symbol",stat:!0,forced:!f},{for:function(he){var de=String(he);if(p(X,de))return X[de];var ye=A(de);return X[de]=ye,Z[ye]=de,ye},keyFor:function(he){if(!ce(he))throw TypeError(he+" is not a symbol");if(p(Z,he))return Z[he]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),i({target:"Object",stat:!0,forced:!f,sham:!u},{create:function(he,de){return de===void 0?w(he):Y(w(he),de)},defineProperty:xe,defineProperties:Y,getOwnPropertyDescriptor:Te}),i({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Ce,getOwnPropertySymbols:se}),i({target:"Object",stat:!0,forced:h(function(){b.f(1)})},{getOwnPropertySymbols:function(he){return b.f(m(he))}}),N&&i({target:"JSON",stat:!0,forced:!f||h(function(){var he=A();return N([he])!="[null]"||N({a:he})!="{}"||N(Object(he))!="{}"})},{stringify:function(he,de,ye){for(var Se,Ne=[he],De=1;arguments.length>De;)Ne.push(arguments[De++]);if(Se=de,(y(de)||he!==void 0)&&!ce(he))return v(de)||(de=function(Ve,Pe){if(typeof Se=="function"&&(Pe=Se.call(this,Ve,Pe)),!ce(Pe))return Pe}),Ne[1]=de,N.apply(null,Ne)}}),A.prototype[ne]||R(A.prototype,ne,A.prototype.valueOf),H(A,"Symbol"),P[q]=!0},function(n,r,a){var i=a(4),s=a(16),o=a(11),c=a(14),u=a(13),f=a(15).f,l=a(119),h=o.Symbol;if(s&&typeof h=="function"&&(!("description"in h.prototype)||h().description!==void 0)){var p={},v=function(){var g=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),x=this instanceof v?new h(g):g===void 0?h():h(g);return g===""&&(p[x]=!0),x};l(v,h);var y=v.prototype=h.prototype;y.constructor=v;var _=y.toString,m=String(h("test"))=="Symbol(test)",d=/^Symbol\((.*)\)[^)]+$/;f(y,"description",{configurable:!0,get:function(){var g=u(this)?this.valueOf():this,x=_.call(g);if(c(p,g))return"";var w=m?x.slice(7,-1):x.replace(d,"$1");return w===""?void 0:w}}),i({global:!0,forced:!0},{Symbol:v})}},function(n,r,a){a(126)("iterator")},function(n,r,a){var i,s=this&&this.__extends||(i=function(m,d){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,x){g.__proto__=x}||function(g,x){for(var w in x)x.hasOwnProperty(w)&&(g[w]=x[w])})(m,d)},function(m,d){function g(){this.constructor=m}i(m,d),m.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}),o=this&&this.__values||function(m){var d=typeof Symbol=="function"&&Symbol.iterator,g=d&&m[d],x=0;if(g)return g.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&x>=m.length&&(m=void 0),{value:m&&m[x++],done:!m}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var c=a(6),u=a(2),f=a(70),l=a(3),h=a(9),p=a(0),v=a(152),y=a(12),_=function(m){function d(){var g=m.call(this)||this;return g._parent=null,g._firstChild=null,g._lastChild=null,g._previousSibling=null,g._nextSibling=null,g}return s(d,m),Object.defineProperty(d.prototype,"_childNodes",{get:function(){return this.__childNodes||(this.__childNodes=p.create_nodeList(this))},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverride||c.dom.window._associatedDocument},set:function(g){this._nodeDocumentOverride=g},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"_registeredObserverList",{get:function(){return this.__registeredObserverList||(this.__registeredObserverList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"nodeType",{get:function(){return this._nodeType},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"nodeName",{get:function(){return l.Guard.isElementNode(this)?this._htmlUppercasedQualifiedName:l.Guard.isAttrNode(this)?this._qualifiedName:l.Guard.isExclusiveTextNode(this)?"#text":l.Guard.isCDATASectionNode(this)?"#cdata-section":l.Guard.isProcessingInstructionNode(this)?this._target:l.Guard.isCommentNode(this)?"#comment":l.Guard.isDocumentNode(this)?"#document":l.Guard.isDocumentTypeNode(this)?this._name:l.Guard.isDocumentFragmentNode(this)?"#document-fragment":""},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"baseURI",{get:function(){return v.urlSerializer(this._nodeDocument._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isConnected",{get:function(){return l.Guard.isElementNode(this)&&p.shadowTree_isConnected(this)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"ownerDocument",{get:function(){return this._nodeType===u.NodeType.Document?null:this._nodeDocument},enumerable:!0,configurable:!0}),d.prototype.getRootNode=function(g){return p.tree_rootNode(this,!!g&&g.composed)},Object.defineProperty(d.prototype,"parentNode",{get:function(){return this._nodeType===u.NodeType.Attribute?null:this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"parentElement",{get:function(){return this._parent&&l.Guard.isElementNode(this._parent)?this._parent:null},enumerable:!0,configurable:!0}),d.prototype.hasChildNodes=function(){return this._firstChild!==null},Object.defineProperty(d.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"firstChild",{get:function(){return this._firstChild},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"lastChild",{get:function(){return this._lastChild},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"nodeValue",{get:function(){return l.Guard.isAttrNode(this)?this._value:l.Guard.isCharacterDataNode(this)?this._data:null},set:function(g){g===null&&(g=""),l.Guard.isAttrNode(this)?p.attr_setAnExistingAttributeValue(this,g):l.Guard.isCharacterDataNode(this)&&p.characterData_replaceData(this,0,this._data.length,g)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"textContent",{get:function(){return l.Guard.isDocumentFragmentNode(this)||l.Guard.isElementNode(this)?p.text_descendantTextContent(this):l.Guard.isAttrNode(this)?this._value:l.Guard.isCharacterDataNode(this)?this._data:null},set:function(g){g===null&&(g=""),l.Guard.isDocumentFragmentNode(this)||l.Guard.isElementNode(this)?p.node_stringReplaceAll(g,this):l.Guard.isAttrNode(this)?p.attr_setAnExistingAttributeValue(this,g):l.Guard.isCharacterDataNode(this)&&p.characterData_replaceData(this,0,p.tree_nodeLength(this),g)},enumerable:!0,configurable:!0}),d.prototype.normalize=function(){for(var g,x,w,C,S=[],T=p.tree_getFirstDescendantNode(this,!1,!1,function(Q){return l.Guard.isExclusiveTextNode(Q)});T!==null;)S.push(T),T=p.tree_getNextDescendantNode(this,T,!1,!1,function(Q){return l.Guard.isExclusiveTextNode(Q)});for(var b=0;b<S.length;b++){var O=S[b];if(O._parent!==null){var D=p.tree_nodeLength(O);if(D!==0){var M=[],R="";try{for(var E=(g=void 0,o(p.text_contiguousExclusiveTextNodes(O))),B=E.next();!B.done;B=E.next()){var I=B.value;M.push(I),R+=I._data}}catch(Q){g={error:Q}}finally{try{B&&!B.done&&(x=E.return)&&x.call(E)}finally{if(g)throw g.error}}if(p.characterData_replaceData(O,D,0,R),c.dom.rangeList.size!==0)for(var P=O._nextSibling;P!==null&&l.Guard.isExclusiveTextNode(P);){var L=P,F=p.tree_index(L);try{for(var G=(w=void 0,o(c.dom.rangeList)),$=G.next();!$.done;$=G.next()){var H=$.value;H._start[0]===L&&(H._start[0]=O,H._start[1]+=D),H._end[0]===L&&(H._end[0]=O,H._end[1]+=D),H._start[0]===L._parent&&H._start[1]===F&&(H._start[0]=O,H._start[1]=D),H._end[0]===L._parent&&H._end[1]===F&&(H._end[0]=O,H._end[1]=D)}}catch(Q){w={error:Q}}finally{try{$&&!$.done&&(C=G.return)&&C.call(G)}finally{if(w)throw w.error}}D+=p.tree_nodeLength(P),P=P._nextSibling}for(var J=0;J<M.length;J++)(I=M[J])._parent!==null&&p.mutation_remove(I,I._parent)}else p.mutation_remove(O,O._parent)}}},d.prototype.cloneNode=function(g){if(g===void 0&&(g=!1),l.Guard.isShadowRoot(this))throw new h.NotSupportedError;return p.node_clone(this,null,g)},d.prototype.isEqualNode=function(g){return g===void 0&&(g=null),g!==null&&p.node_equals(this,g)},d.prototype.isSameNode=function(g){return g===void 0&&(g=null),this===g},d.prototype.compareDocumentPosition=function(g){if(g===this)return 0;var x=g,w=this,C=null,S=null;if(l.Guard.isAttrNode(x)&&(x=(C=x)._element),l.Guard.isAttrNode(w)&&(w=(S=w)._element,C&&x&&x===w))for(var T=0;T<w._attributeList.length;T++){var b=w._attributeList[T];if(p.node_equals(b,C))return u.Position.ImplementationSpecific|u.Position.Preceding;if(p.node_equals(b,S))return u.Position.ImplementationSpecific|u.Position.Following}return x===null||w===null||p.tree_rootNode(x)!==p.tree_rootNode(w)?u.Position.Disconnected|u.Position.ImplementationSpecific|(c.dom.compareCache.check(this,g)?u.Position.Preceding:u.Position.Following):!C&&p.tree_isAncestorOf(w,x)||S&&x===w?u.Position.Contains|u.Position.Preceding:!S&&p.tree_isDescendantOf(w,x)||C&&x===w?u.Position.ContainedBy|u.Position.Following:p.tree_isPreceding(w,x)?u.Position.Preceding:u.Position.Following},d.prototype.contains=function(g){return g!==null&&p.tree_isDescendantOf(this,g,!0)},d.prototype.lookupPrefix=function(g){return g?l.Guard.isElementNode(this)?p.node_locateANamespacePrefix(this,g):l.Guard.isDocumentNode(this)?this.documentElement===null?null:p.node_locateANamespacePrefix(this.documentElement,g):l.Guard.isDocumentTypeNode(this)||l.Guard.isDocumentFragmentNode(this)?null:l.Guard.isAttrNode(this)?this._element===null?null:p.node_locateANamespacePrefix(this._element,g):this._parent!==null&&l.Guard.isElementNode(this._parent)?p.node_locateANamespacePrefix(this._parent,g):null:null},d.prototype.lookupNamespaceURI=function(g){return p.node_locateANamespace(this,g||null)},d.prototype.isDefaultNamespace=function(g){return g||(g=null),p.node_locateANamespace(this,null)===g},d.prototype.insertBefore=function(g,x){return p.mutation_preInsert(g,this,x)},d.prototype.appendChild=function(g){return p.mutation_append(g,this)},d.prototype.replaceChild=function(g,x){return p.mutation_replace(x,g,this)},d.prototype.removeChild=function(g){return p.mutation_preRemove(g,this)},d.prototype._getTheParent=function(g){return l.Guard.isSlotable(this)&&p.shadowTree_isAssigned(this)?this._assignedSlot:this._parent},d.ELEMENT_NODE=1,d.ATTRIBUTE_NODE=2,d.TEXT_NODE=3,d.CDATA_SECTION_NODE=4,d.ENTITY_REFERENCE_NODE=5,d.ENTITY_NODE=6,d.PROCESSING_INSTRUCTION_NODE=7,d.COMMENT_NODE=8,d.DOCUMENT_NODE=9,d.DOCUMENT_TYPE_NODE=10,d.DOCUMENT_FRAGMENT_NODE=11,d.NOTATION_NODE=12,d.DOCUMENT_POSITION_DISCONNECTED=1,d.DOCUMENT_POSITION_PRECEDING=2,d.DOCUMENT_POSITION_FOLLOWING=4,d.DOCUMENT_POSITION_CONTAINS=8,d.DOCUMENT_POSITION_CONTAINED_BY=16,d.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,d}(f.EventTargetImpl);r.NodeImpl=_,_.prototype._children=new l.EmptySet,y.idl_defineConst(_.prototype,"ELEMENT_NODE",1),y.idl_defineConst(_.prototype,"ATTRIBUTE_NODE",2),y.idl_defineConst(_.prototype,"TEXT_NODE",3),y.idl_defineConst(_.prototype,"CDATA_SECTION_NODE",4),y.idl_defineConst(_.prototype,"ENTITY_REFERENCE_NODE",5),y.idl_defineConst(_.prototype,"ENTITY_NODE",6),y.idl_defineConst(_.prototype,"PROCESSING_INSTRUCTION_NODE",7),y.idl_defineConst(_.prototype,"COMMENT_NODE",8),y.idl_defineConst(_.prototype,"DOCUMENT_NODE",9),y.idl_defineConst(_.prototype,"DOCUMENT_TYPE_NODE",10),y.idl_defineConst(_.prototype,"DOCUMENT_FRAGMENT_NODE",11),y.idl_defineConst(_.prototype,"NOTATION_NODE",12),y.idl_defineConst(_.prototype,"DOCUMENT_POSITION_DISCONNECTED",1),y.idl_defineConst(_.prototype,"DOCUMENT_POSITION_PRECEDING",2),y.idl_defineConst(_.prototype,"DOCUMENT_POSITION_FOLLOWING",4),y.idl_defineConst(_.prototype,"DOCUMENT_POSITION_CONTAINS",8),y.idl_defineConst(_.prototype,"DOCUMENT_POSITION_CONTAINED_BY",16),y.idl_defineConst(_.prototype,"DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC",32)},function(n,r){n.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},function(n,r,a){var i=a(87),s=a(41),o=a(27),c=a(26),u=a(128),f=[].push,l=function(h){var p=h==1,v=h==2,y=h==3,_=h==4,m=h==6,d=h==5||m;return function(g,x,w,C){for(var S,T,b=o(g),O=s(b),D=i(x,w,3),M=c(O.length),R=0,E=C||u,B=p?E(g,M):v?E(g,0):void 0;M>R;R++)if((d||R in O)&&(T=D(S=O[R],R,b),h)){if(p)B[R]=T;else if(T)switch(h){case 3:return!0;case 5:return S;case 6:return R;case 2:f.call(B,S)}else if(_)return!1}return m?-1:y||_?_:B}};n.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(n,r,a){var i=this&&this.__values||function(b){var O=typeof Symbol=="function"&&Symbol.iterator,D=O&&b[O],M=0;if(D)return D.call(b);if(b&&typeof b.length=="number")return{next:function(){return b&&M>=b.length&&(b=void 0),{value:b&&b[M++],done:!b}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(b,O){var D=typeof Symbol=="function"&&b[Symbol.iterator];if(!D)return b;var M,R,E=D.call(b),B=[];try{for(;(O===void 0||O-- >0)&&!(M=E.next()).done;)B.push(M.value)}catch(I){R={error:I}}finally{try{M&&!M.done&&(D=E.return)&&D.call(E)}finally{if(R)throw R.error}}return B},o=this&&this.__spread||function(){for(var b=[],O=0;O<arguments.length;O++)b=b.concat(s(arguments[O]));return b};Object.defineProperty(r,"__esModule",{value:!0});var c=a(6),u=a(9),f=a(2),l=a(3),h=a(1),p=a(7),v=a(73),y=a(17),_=a(172),m=a(72),d=a(51),g=a(30),x=a(106);function w(b,O,D){var M,R,E,B,I,P,L,F,G=O._nodeType,$=b._nodeType,H=D?D._nodeType:null;if(G!==f.NodeType.Document&&G!==f.NodeType.DocumentFragment&&G!==f.NodeType.Element)throw new u.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+O.nodeName+".");if(y.tree_isHostIncludingAncestorOf(O,b,!0))throw new u.HierarchyRequestError("The node to be inserted cannot be an inclusive ancestor of parent node. Node is "+b.nodeName+", parent node is "+O.nodeName+".");if(D!==null&&D._parent!==O)throw new u.NotFoundError("The reference child node cannot be found under parent node. Child node is "+D.nodeName+", parent node is "+O.nodeName+".");if($!==f.NodeType.DocumentFragment&&$!==f.NodeType.DocumentType&&$!==f.NodeType.Element&&$!==f.NodeType.Text&&$!==f.NodeType.ProcessingInstruction&&$!==f.NodeType.CData&&$!==f.NodeType.Comment)throw new u.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+b.nodeName+".");if($===f.NodeType.Text&&G===f.NodeType.Document)throw new u.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+b.nodeName+".");if($===f.NodeType.DocumentType&&G!==f.NodeType.Document)throw new u.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+O.nodeName+".");if(G===f.NodeType.Document){if($===f.NodeType.DocumentFragment){var J=0;try{for(var Q=i(b._children),q=Q.next();!q.done;q=Q.next()){var ne=q.value;if(ne._nodeType===f.NodeType.Element)J++;else if(ne._nodeType===f.NodeType.Text)throw new u.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+ne.nodeName+".")}}catch(z){M={error:z}}finally{try{q&&!q.done&&(R=Q.return)&&R.call(Q)}finally{if(M)throw M.error}}if(J>1)throw new u.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+J+" element nodes.");if(J===1){try{for(var re=i(O._children),oe=re.next();!oe.done;oe=re.next())if(oe.value._nodeType===f.NodeType.Element)throw new u.HierarchyRequestError("The document node already has a document element node.")}catch(z){E={error:z}}finally{try{oe&&!oe.done&&(B=re.return)&&B.call(re)}finally{if(E)throw E.error}}if(D){if(H===f.NodeType.DocumentType)throw new u.HierarchyRequestError("Cannot insert an element node before a document type node.");for(var te=D._nextSibling;te;){if(te._nodeType===f.NodeType.DocumentType)throw new u.HierarchyRequestError("Cannot insert an element node before a document type node.");te=te._nextSibling}}}}else if($===f.NodeType.Element){try{for(var A=i(O._children),N=A.next();!N.done;N=A.next())if(N.value._nodeType===f.NodeType.Element)throw new u.HierarchyRequestError("Document already has a document element node. Node is "+b.nodeName+".")}catch(z){I={error:z}}finally{try{N&&!N.done&&(P=A.return)&&P.call(A)}finally{if(I)throw I.error}}if(D){if(H===f.NodeType.DocumentType)throw new u.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+b.nodeName+".");for(te=D._nextSibling;te;){if(te._nodeType===f.NodeType.DocumentType)throw new u.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+b.nodeName+".");te=te._nextSibling}}}else if($===f.NodeType.DocumentType){try{for(var U=i(O._children),V=U.next();!V.done;V=U.next())if(V.value._nodeType===f.NodeType.DocumentType)throw new u.HierarchyRequestError("Document already has a document type node. Node is "+b.nodeName+".")}catch(z){L={error:z}}finally{try{V&&!V.done&&(F=U.return)&&F.call(U)}finally{if(L)throw L.error}}if(D)for(var k=D._previousSibling;k;){if(k._nodeType===f.NodeType.Element)throw new u.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+b.nodeName+".");k=k._previousSibling}else for(k=O._firstChild;k;){if(k._nodeType===f.NodeType.Element)throw new u.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+b.nodeName+".");k=k._nextSibling}}}}function C(b,O,D){w(b,O,D);var M=D;return M===b&&(M=b._nextSibling),x.document_adopt(b,O._nodeDocument),S(b,O,M),b}function S(b,O,D,M){var R,E;if(D!==null||b._nodeType===f.NodeType.DocumentFragment){var B=b._nodeType===f.NodeType.DocumentFragment?b._children.size:1;if(D!==null&&c.dom.rangeList.size!==0){var I=y.tree_index(D);try{for(var P=i(c.dom.rangeList),L=P.next();!L.done;L=P.next()){var F=L.value;F._start[0]===O&&F._start[1]>I&&(F._start[1]+=B),F._end[0]===O&&F._end[1]>I&&(F._end[1]+=B)}}catch(oe){R={error:oe}}finally{try{L&&!L.done&&(E=P.return)&&E.call(P)}finally{if(R)throw R.error}}}var G=b._nodeType===f.NodeType.DocumentFragment?new(Array.bind.apply(Array,o([void 0],b._children))):[b];if(b._nodeType===f.NodeType.DocumentFragment)for(;b._firstChild;)T(b._firstChild,b,!0);c.dom.features.mutationObservers&&b._nodeType===f.NodeType.DocumentFragment&&d.observer_queueTreeMutationRecord(b,[],G,null,null);for(var $=D?D._previousSibling:O._lastChild,H=D===null?-1:y.tree_index(D),J=0;J<G.length;J++){var Q=G[J];if(l.Guard.isElementNode(Q)&&(l.Guard.isDocumentNode(O)&&(O._documentElement=Q),Q._nodeDocument._hasNamespaces||Q._namespace===null&&Q._namespacePrefix===null||(Q._nodeDocument._hasNamespaces=!0)),Q._parent=O,D===null?p.set.append(O._children,Q):(p.set.insert(O._children,Q,H),H++),O._firstChild===null)Q._previousSibling=null,Q._nextSibling=null,O._firstChild=Q,O._lastChild=Q;else{var q=D?D._previousSibling:O._lastChild,ne=D||null;Q._previousSibling=q,Q._nextSibling=ne,q&&(q._nextSibling=Q),ne&&(ne._previousSibling=Q),q||(O._firstChild=Q),ne||(O._lastChild=Q)}c.dom.features.slots&&O._shadowRoot!==null&&l.Guard.isSlotable(Q)&&m.shadowTree_assignASlot(Q),c.dom.features.steps&&l.Guard.isTextNode(Q)&&g.dom_runChildTextContentChangeSteps(O),c.dom.features.slots&&l.Guard.isShadowRoot(y.tree_rootNode(O))&&l.Guard.isSlot(O)&&h.isEmpty(O._assignedNodes)&&m.shadowTree_signalASlotChange(O),c.dom.features.slots&&m.shadowTree_assignSlotablesForATree(y.tree_rootNode(Q));for(var re=y.tree_getFirstDescendantNode(Q,!0,!0);re!==null;)c.dom.features.steps&&g.dom_runInsertionSteps(re),c.dom.features.customElements&&l.Guard.isElementNode(re)&&m.shadowTree_isConnected(re)&&(l.Guard.isCustomElementNode(re)?v.customElement_enqueueACustomElementCallbackReaction(re,"connectedCallback",[]):v.customElement_tryToUpgrade(re)),re=y.tree_getNextDescendantNode(Q,re,!0,!0)}c.dom.features.mutationObservers&&(M||d.observer_queueTreeMutationRecord(O,G,[],$,D))}else(function(oe,te,A){var N=te._lastChild;if(l.Guard.isElementNode(oe)&&(l.Guard.isDocumentNode(te)&&(te._documentElement=oe),oe._nodeDocument._hasNamespaces||oe._namespace===null&&oe._namespacePrefix===null||(oe._nodeDocument._hasNamespaces=!0)),oe._parent=te,te._children.add(oe),te._firstChild===null)oe._previousSibling=null,oe._nextSibling=null,te._firstChild=oe,te._lastChild=oe;else{var U=te._lastChild;oe._previousSibling=U,oe._nextSibling=null,U&&(U._nextSibling=oe),U||(te._firstChild=oe),te._lastChild=oe}c.dom.features.slots&&te._shadowRoot!==null&&l.Guard.isSlotable(oe)&&m.shadowTree_assignASlot(oe),c.dom.features.steps&&l.Guard.isTextNode(oe)&&g.dom_runChildTextContentChangeSteps(te),c.dom.features.slots&&l.Guard.isShadowRoot(y.tree_rootNode(te))&&l.Guard.isSlot(te)&&h.isEmpty(te._assignedNodes)&&m.shadowTree_signalASlotChange(te),c.dom.features.slots&&m.shadowTree_assignSlotablesForATree(y.tree_rootNode(oe)),c.dom.features.steps&&g.dom_runInsertionSteps(oe),c.dom.features.customElements&&l.Guard.isElementNode(oe)&&m.shadowTree_isConnected(oe)&&(l.Guard.isCustomElementNode(oe)?v.customElement_enqueueACustomElementCallbackReaction(oe,"connectedCallback",[]):v.customElement_tryToUpgrade(oe)),c.dom.features.mutationObservers&&(A||d.observer_queueTreeMutationRecord(te,[oe],[],N,null))})(b,O,M)}function T(b,O,D){var M,R,E,B,I,P,L,F;if(c.dom.rangeList.size!==0){var G=y.tree_index(b);try{for(var $=i(c.dom.rangeList),H=$.next();!H.done;H=$.next()){var J=H.value;y.tree_isDescendantOf(b,J._start[0],!0)&&(J._start=[O,G]),y.tree_isDescendantOf(b,J._end[0],!0)&&(J._end=[O,G]),J._start[0]===O&&J._start[1]>G&&J._start[1]--,J._end[0]===O&&J._end[1]>G&&J._end[1]--}}catch(X){M={error:X}}finally{try{H&&!H.done&&(R=$.return)&&R.call($)}finally{if(M)throw M.error}}try{for(var Q=i(c.dom.rangeList),q=Q.next();!q.done;q=Q.next())(J=q.value)._start[0]===O&&J._start[1]>G&&(J._start[1]-=1),J._end[0]===O&&J._end[1]>G&&(J._end[1]-=1)}catch(X){E={error:X}}finally{try{q&&!q.done&&(B=Q.return)&&B.call(Q)}finally{if(E)throw E.error}}}if(c.dom.features.steps)try{for(var ne=i(_.nodeIterator_iteratorList()),re=ne.next();!re.done;re=ne.next()){var oe=re.value;oe._root._nodeDocument===b._nodeDocument&&g.dom_runNodeIteratorPreRemovingSteps(oe,b)}}catch(X){I={error:X}}finally{try{re&&!re.done&&(P=ne.return)&&P.call(ne)}finally{if(I)throw I.error}}var te=b._previousSibling,A=b._nextSibling;l.Guard.isDocumentNode(O)&&l.Guard.isElementNode(b)&&(O._documentElement=null),b._parent=null,O._children.delete(b);var N=b._previousSibling,U=b._nextSibling;b._previousSibling=null,b._nextSibling=null,N&&(N._nextSibling=U),U&&(U._previousSibling=N),N||(O._firstChild=U),U||(O._lastChild=N),c.dom.features.slots&&l.Guard.isSlotable(b)&&b._assignedSlot!==null&&m.shadowTree_isAssigned(b)&&m.shadowTree_assignSlotables(b._assignedSlot),c.dom.features.slots&&l.Guard.isShadowRoot(y.tree_rootNode(O))&&l.Guard.isSlot(O)&&h.isEmpty(O._assignedNodes)&&m.shadowTree_signalASlotChange(O),c.dom.features.slots&&y.tree_getFirstDescendantNode(b,!0,!1,function(X){return l.Guard.isSlot(X)})!==null&&(m.shadowTree_assignSlotablesForATree(y.tree_rootNode(O)),m.shadowTree_assignSlotablesForATree(b)),c.dom.features.steps&&g.dom_runRemovingSteps(b,O),c.dom.features.customElements&&l.Guard.isCustomElementNode(b)&&v.customElement_enqueueACustomElementCallbackReaction(b,"disconnectedCallback",[]);for(var V=y.tree_getFirstDescendantNode(b,!1,!0);V!==null;)c.dom.features.steps&&g.dom_runRemovingSteps(V,b),c.dom.features.customElements&&l.Guard.isCustomElementNode(V)&&v.customElement_enqueueACustomElementCallbackReaction(V,"disconnectedCallback",[]),V=y.tree_getNextDescendantNode(b,V,!1,!0);if(c.dom.features.mutationObservers)for(var k=y.tree_getFirstAncestorNode(O,!0);k!==null;){try{for(var z=(L=void 0,i(k._registeredObserverList)),j=z.next();!j.done;j=z.next()){var K=j.value;K.options.subtree&&b._registeredObserverList.push({observer:K.observer,options:K.options,source:K})}}catch(X){L={error:X}}finally{try{j&&!j.done&&(F=z.return)&&F.call(z)}finally{if(L)throw L.error}}k=y.tree_getNextAncestorNode(O,k,!0)}c.dom.features.mutationObservers&&(D||d.observer_queueTreeMutationRecord(O,[],[b],te,A)),c.dom.features.steps&&l.Guard.isTextNode(b)&&g.dom_runChildTextContentChangeSteps(O)}r.mutation_ensurePreInsertionValidity=w,r.mutation_preInsert=C,r.mutation_insert=S,r.mutation_append=function(b,O){return C(b,O,null)},r.mutation_replace=function(b,O,D){var M,R,E,B,I,P,L,F;if(D._nodeType!==f.NodeType.Document&&D._nodeType!==f.NodeType.DocumentFragment&&D._nodeType!==f.NodeType.Element)throw new u.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+D.nodeName+".");if(y.tree_isHostIncludingAncestorOf(D,O,!0))throw new u.HierarchyRequestError("The node to be inserted cannot be an ancestor of parent node. Node is "+O.nodeName+", parent node is "+D.nodeName+".");if(b._parent!==D)throw new u.NotFoundError("The reference child node cannot be found under parent node. Child node is "+b.nodeName+", parent node is "+D.nodeName+".");if(O._nodeType!==f.NodeType.DocumentFragment&&O._nodeType!==f.NodeType.DocumentType&&O._nodeType!==f.NodeType.Element&&O._nodeType!==f.NodeType.Text&&O._nodeType!==f.NodeType.ProcessingInstruction&&O._nodeType!==f.NodeType.CData&&O._nodeType!==f.NodeType.Comment)throw new u.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+O.nodeName+".");if(O._nodeType===f.NodeType.Text&&D._nodeType===f.NodeType.Document)throw new u.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+O.nodeName+".");if(O._nodeType===f.NodeType.DocumentType&&D._nodeType!==f.NodeType.Document)throw new u.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+D.nodeName+".");if(D._nodeType===f.NodeType.Document){if(O._nodeType===f.NodeType.DocumentFragment){var G=0;try{for(var $=i(O._children),H=$.next();!H.done;H=$.next()){var J=H.value;if(J._nodeType===f.NodeType.Element)G++;else if(J._nodeType===f.NodeType.Text)throw new u.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+J.nodeName+".")}}catch(K){M={error:K}}finally{try{H&&!H.done&&(R=$.return)&&R.call($)}finally{if(M)throw M.error}}if(G>1)throw new u.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+G+" element nodes.");if(G===1){try{for(var Q=i(D._children),q=Q.next();!q.done;q=Q.next())if((N=q.value)._nodeType===f.NodeType.Element&&N!==b)throw new u.HierarchyRequestError("The document node already has a document element node.")}catch(K){E={error:K}}finally{try{q&&!q.done&&(B=Q.return)&&B.call(Q)}finally{if(E)throw E.error}}for(var ne=b._nextSibling;ne;){if(ne._nodeType===f.NodeType.DocumentType)throw new u.HierarchyRequestError("Cannot insert an element node before a document type node.");ne=ne._nextSibling}}}else if(O._nodeType===f.NodeType.Element){try{for(var re=i(D._children),oe=re.next();!oe.done;oe=re.next())if((N=oe.value)._nodeType===f.NodeType.Element&&N!==b)throw new u.HierarchyRequestError("Document already has a document element node. Node is "+O.nodeName+".")}catch(K){I={error:K}}finally{try{oe&&!oe.done&&(P=re.return)&&P.call(re)}finally{if(I)throw I.error}}for(ne=b._nextSibling;ne;){if(ne._nodeType===f.NodeType.DocumentType)throw new u.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+O.nodeName+".");ne=ne._nextSibling}}else if(O._nodeType===f.NodeType.DocumentType){try{for(var te=i(D._children),A=te.next();!A.done;A=te.next()){var N;if((N=A.value)._nodeType===f.NodeType.DocumentType&&N!==b)throw new u.HierarchyRequestError("Document already has a document type node. Node is "+O.nodeName+".")}}catch(K){L={error:K}}finally{try{A&&!A.done&&(F=te.return)&&F.call(te)}finally{if(L)throw L.error}}for(var U=b._previousSibling;U;){if(U._nodeType===f.NodeType.Element)throw new u.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+O.nodeName+".");U=U._previousSibling}}}var V=b._nextSibling;V===O&&(V=O._nextSibling);var k=b._previousSibling;x.document_adopt(O,D._nodeDocument);var z=[];b._parent!==null&&(z.push(b),T(b,b._parent,!0));var j=[];return O._nodeType===f.NodeType.DocumentFragment?j=Array.from(O._children):j.push(O),S(O,D,V,!0),c.dom.features.mutationObservers&&d.observer_queueTreeMutationRecord(D,j,z,k,V),b},r.mutation_replaceAll=function(b,O){var D,M;b!==null&&x.document_adopt(b,O._nodeDocument);var R=Array.from(O._children),E=[];b&&b._nodeType===f.NodeType.DocumentFragment?E=Array.from(b._children):b!==null&&E.push(b);try{for(var B=i(R),I=B.next();!I.done;I=B.next())T(I.value,O,!0)}catch(P){D={error:P}}finally{try{I&&!I.done&&(M=B.return)&&M.call(B)}finally{if(D)throw D.error}}b!==null&&S(b,O,null,!0),c.dom.features.mutationObservers&&d.observer_queueTreeMutationRecord(O,E,R,null,null)},r.mutation_preRemove=function(b,O){if(b._parent!==O)throw new u.NotFoundError("The child node cannot be found under parent node. Child node is "+b.nodeName+", parent node is "+O.nodeName+".");return T(b,O),b},r.mutation_remove=T},function(n,r,a){function i(s){return s==null}n.exports.isNothing=i,n.exports.isObject=function(s){return typeof s=="object"&&s!==null},n.exports.toArray=function(s){return Array.isArray(s)?s:i(s)?[]:[s]},n.exports.repeat=function(s,o){var c,u="";for(c=0;c<o;c+=1)u+=s;return u},n.exports.isNegativeZero=function(s){return s===0&&Number.NEGATIVE_INFINITY===1/s},n.exports.extend=function(s,o){var c,u,f,l;if(o)for(c=0,u=(l=Object.keys(o)).length;c<u;c+=1)s[f=l[c]]=o[f];return s}},function(n,r,a){var i=a(38),s=a(53),o=a(10);function c(f,l,h){var p=[];return f.include.forEach(function(v){h=c(v,l,h)}),f[l].forEach(function(v){h.forEach(function(y,_){y.tag===v.tag&&y.kind===v.kind&&p.push(_)}),h.push(v)}),h.filter(function(v,y){return p.indexOf(y)===-1})}function u(f){this.include=f.include||[],this.implicit=f.implicit||[],this.explicit=f.explicit||[],this.implicit.forEach(function(l){if(l.loadKind&&l.loadKind!=="scalar")throw new s("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=c(this,"implicit",[]),this.compiledExplicit=c(this,"explicit",[]),this.compiledTypeMap=function(){var l,h,p={scalar:{},sequence:{},mapping:{},fallback:{}};function v(y){p[y.kind][y.tag]=p.fallback[y.tag]=y}for(l=0,h=arguments.length;l<h;l+=1)arguments[l].forEach(v);return p}(this.compiledImplicit,this.compiledExplicit)}u.DEFAULT=null,u.create=function(){var f,l;switch(arguments.length){case 1:f=u.DEFAULT,l=arguments[0];break;case 2:f=arguments[0],l=arguments[1];break;default:throw new s("Wrong number of arguments for Schema.create function")}if(f=i.toArray(f),l=i.toArray(l),!f.every(function(h){return h instanceof u}))throw new s("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!l.every(function(h){return h instanceof o}))throw new s("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new u({include:f,explicit:l})},n.exports=u},function(n,r){n.exports=function(a,i){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:i}}},function(n,r,a){var i=a(8),s=a(42),o="".split;n.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return s(c)=="String"?o.call(c,""):Object(c)}:Object},function(n,r){var a={}.toString;n.exports=function(i){return a.call(i).slice(8,-1)}},function(n,r,a){var i,s,o,c=a(186),u=a(11),f=a(13),l=a(21),h=a(14),p=a(57),v=a(45),y=u.WeakMap;if(c){var _=new y,m=_.get,d=_.has,g=_.set;i=function(w,C){return g.call(_,w,C),C},s=function(w){return m.call(_,w)||{}},o=function(w){return d.call(_,w)}}else{var x=p("state");v[x]=!0,i=function(w,C){return l(w,x,C),C},s=function(w){return h(w,x)?w[x]:{}},o=function(w){return h(w,x)}}n.exports={set:i,get:s,has:o,enforce:function(w){return o(w)?s(w):i(w,{})},getterFor:function(w){return function(C){var S;if(!f(C)||(S=s(C)).type!==w)throw TypeError("Incompatible receiver, "+w+" required");return S}}}},function(n,r){n.exports=!1},function(n,r){n.exports={}},function(n,r,a){var i=a(120),s=a(11),o=function(c){return typeof c=="function"?c:void 0};n.exports=function(c,u){return arguments.length<2?o(i[c])||o(s[c]):i[c]&&i[c][u]||s[c]&&s[c][u]}},function(n,r){var a=Math.ceil,i=Math.floor;n.exports=function(s){return isNaN(s=+s)?0:(s>0?i:a)(s)}},function(n,r,a){var i=a(8);n.exports=function(s,o){var c=[][s];return!!c&&i(function(){c.call(null,o||function(){throw 1},1)})}},function(n,r){n.exports={}},function(n,r,a){a(31),a(32),a(33),a(220),a(64),a(19),a(65),a(20),a(68),a(66),a(92),a(144),a(22),a(94),a(23);var i=this&&this.__values||function(v){var y=typeof Symbol=="function"&&Symbol.iterator,_=y&&v[y],m=0;if(_)return _.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&m>=v.length&&(v=void 0),{value:v&&v[m++],done:!v}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(v,y){var _=typeof Symbol=="function"&&v[Symbol.iterator];if(!_)return v;var m,d,g=_.call(v),x=[];try{for(;(y===void 0||y-- >0)&&!(m=g.next()).done;)x.push(m.value)}catch(w){d={error:w}}finally{try{m&&!m.done&&(_=g.return)&&_.call(g)}finally{if(d)throw d.error}}return x},o=this&&this.__spread||function(){for(var v=[],y=0;y<arguments.length;y++)v=v.concat(s(arguments[y]));return v};Object.defineProperty(r,"__esModule",{value:!0});var c=a(2),u=a(69),f=a(95),l=a(7),h=a(0),p=function(){function v(y){this.level=0,this._builderOptions=y}return v.prototype.declaration=function(y,_,m){},v.prototype.docType=function(y,_,m){},v.prototype.comment=function(y){},v.prototype.text=function(y){},v.prototype.instruction=function(y,_){},v.prototype.cdata=function(y){},v.prototype.openTagBegin=function(y){},v.prototype.openTagEnd=function(y,_,m){},v.prototype.closeTag=function(y){},v.prototype.attributes=function(y){var _,m;try{for(var d=i(y),g=d.next();!g.done;g=d.next()){var x=g.value;this.attribute(x[1]===null?x[2]:x[1]+":"+x[2],x[3])}}catch(w){_={error:w}}finally{try{g&&!g.done&&(m=d.return)&&m.call(d)}finally{if(_)throw _.error}}},v.prototype.attribute=function(y,_){},v.prototype.beginElement=function(y){},v.prototype.endElement=function(y){},v.prototype.serializeNode=function(y,_){var m=y._nodeDocument!==void 0&&y._nodeDocument._hasNamespaces;if(this.level=0,this.currentNode=y,m){var d=new f.NamespacePrefixMap;d.set("xml",l.namespace.XML),this._serializeNodeNS(y,null,d,{value:1},_)}else this._serializeNode(y,_)},v.prototype._serializeNodeNS=function(y,_,m,d,g){switch(this.currentNode=y,y.nodeType){case c.NodeType.Element:this._serializeElementNS(y,_,m,d,g);break;case c.NodeType.Document:this._serializeDocumentNS(y,_,m,d,g);break;case c.NodeType.Comment:this._serializeComment(y,g);break;case c.NodeType.Text:this._serializeText(y,g);break;case c.NodeType.DocumentFragment:this._serializeDocumentFragmentNS(y,_,m,d,g);break;case c.NodeType.DocumentType:this._serializeDocumentType(y,g);break;case c.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(y,g);break;case c.NodeType.CData:this._serializeCData(y,g);break;default:throw new Error("Unknown node type: "+y.nodeType)}},v.prototype._serializeNode=function(y,_){switch(this.currentNode=y,y.nodeType){case c.NodeType.Element:this._serializeElement(y,_);break;case c.NodeType.Document:this._serializeDocument(y,_);break;case c.NodeType.Comment:this._serializeComment(y,_);break;case c.NodeType.Text:this._serializeText(y,_);break;case c.NodeType.DocumentFragment:this._serializeDocumentFragment(y,_);break;case c.NodeType.DocumentType:this._serializeDocumentType(y,_);break;case c.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(y,_);break;case c.NodeType.CData:this._serializeCData(y,_);break;default:throw new Error("Unknown node type: "+y.nodeType)}},v.prototype._serializeElementNS=function(y,_,m,d,g){var x,w,C=[];if(g&&(y.localName.indexOf(":")!==-1||!h.xml_isName(y.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var S="",T=!1,b=!1,O=m.copy(),D={},M=this._recordNamespaceInformation(y,O,D),R=_,E=y.namespaceURI;if(R===E)M!==null&&(b=!0),S=E===l.namespace.XML?"xml:"+y.localName:y.localName,this.beginElement(S),this.openTagBegin(S);else{var B=y.prefix,I=null;if(B===null&&E===M||(I=O.get(B,E)),B==="xmlns"){if(g)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");I=B}I!==null?(S=I+":"+y.localName,M!==null&&M!==l.namespace.XML&&(R=M||null),this.beginElement(S),this.openTagBegin(S)):B!==null?(B in D&&(B=this._generatePrefix(E,O,d)),O.set(B,E),S+=B+":"+y.localName,this.beginElement(S),this.openTagBegin(S),C.push([null,"xmlns",B,this._serializeAttributeValue(E,g)]),M!==null&&(R=M||null)):M===null||M!==null&&M!==E?(b=!0,S+=y.localName,R=E,this.beginElement(S),this.openTagBegin(S),C.push([null,null,"xmlns",this._serializeAttributeValue(E,g)])):(S+=y.localName,R=E,this.beginElement(S),this.openTagBegin(S))}C.push.apply(C,o(this._serializeAttributesNS(y,O,d,D,b,g))),this.attributes(C);var P=E===l.namespace.HTML;if(P&&y.childNodes.length===0&&v._VoidElementNames.has(y.localName)?(this.openTagEnd(S,!0,!0),this.endElement(S),T=!0):P||y.childNodes.length!==0?this.openTagEnd(S,!1,!1):(this.openTagEnd(S,!0,!1),this.endElement(S),T=!0),!T){if(!(P&&y.localName==="template"))try{for(var L=i(y.childNodes),F=L.next();!F.done;F=L.next()){var G=F.value;this.level++,this._serializeNodeNS(G,R,O,d,g),this.level--}}catch($){x={error:$}}finally{try{F&&!F.done&&(w=L.return)&&w.call(L)}finally{if(x)throw x.error}}this.closeTag(S),this.endElement(S)}},v.prototype._serializeElement=function(y,_){var m,d;if(_&&(y.localName.indexOf(":")!==-1||!h.xml_isName(y.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var g=!1,x=y.localName;this.beginElement(x),this.openTagBegin(x);var w=this._serializeAttributes(y,_);if(this.attributes(w),y.hasChildNodes()?this.openTagEnd(x,!1,!1):(this.openTagEnd(x,!0,!1),this.endElement(x),g=!0),!g){try{for(var C=i(y._children),S=C.next();!S.done;S=C.next()){var T=S.value;this.level++,this._serializeNode(T,_),this.level--}}catch(b){m={error:b}}finally{try{S&&!S.done&&(d=C.return)&&d.call(C)}finally{if(m)throw m.error}}this.closeTag(x),this.endElement(x)}},v.prototype._serializeDocumentNS=function(y,_,m,d,g){var x,w;if(g&&y.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var C=i(y.childNodes),S=C.next();!S.done;S=C.next()){var T=S.value;this._serializeNodeNS(T,_,m,d,g)}}catch(b){x={error:b}}finally{try{S&&!S.done&&(w=C.return)&&w.call(C)}finally{if(x)throw x.error}}},v.prototype._serializeDocument=function(y,_){var m,d;if(_&&y.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var g=i(y._children),x=g.next();!x.done;x=g.next()){var w=x.value;this._serializeNode(w,_)}}catch(C){m={error:C}}finally{try{x&&!x.done&&(d=g.return)&&d.call(g)}finally{if(m)throw m.error}}},v.prototype._serializeComment=function(y,_){if(_&&(!h.xml_isLegalChar(y.data)||y.data.indexOf("--")!==-1||y.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");this.comment(y.data)},v.prototype._serializeText=function(y,_){if(_&&!h.xml_isLegalChar(y.data))throw new Error("Text data contains invalid characters (well-formed required).");var m=y.data.replace(/(?!&([^&;]*);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.text(m)},v.prototype._serializeDocumentFragmentNS=function(y,_,m,d,g){var x,w;try{for(var C=i(y.childNodes),S=C.next();!S.done;S=C.next()){var T=S.value;this._serializeNodeNS(T,_,m,d,g)}}catch(b){x={error:b}}finally{try{S&&!S.done&&(w=C.return)&&w.call(C)}finally{if(x)throw x.error}}},v.prototype._serializeDocumentFragment=function(y,_){var m,d;try{for(var g=i(y._children),x=g.next();!x.done;x=g.next()){var w=x.value;this._serializeNode(w,_)}}catch(C){m={error:C}}finally{try{x&&!x.done&&(d=g.return)&&d.call(g)}finally{if(m)throw m.error}}},v.prototype._serializeDocumentType=function(y,_){if(_&&!h.xml_isPubidChar(y.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(_&&(!h.xml_isLegalChar(y.systemId)||y.systemId.indexOf('"')!==-1&&y.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");this.docType(y.name,y.publicId,y.systemId)},v.prototype._serializeProcessingInstruction=function(y,_){if(_&&(y.target.indexOf(":")!==-1||/^xml$/i.test(y.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(_&&(!h.xml_isLegalChar(y.data)||y.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");this.instruction(y.target,y.data)},v.prototype._serializeCData=function(y,_){if(_&&y.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");this.cdata(y.data)},v.prototype._serializeAttributesNS=function(y,_,m,d,g,x){var w,C,S=[],T=x?new u.LocalNameSet:void 0;try{for(var b=i(y.attributes),O=b.next();!O.done;O=b.next()){var D=O.value;if(x||g||D.namespaceURI!==null){if(x&&T&&T.has(D.namespaceURI,D.localName))throw new Error("Element contains duplicate attributes (well-formed required).");x&&T&&T.set(D.namespaceURI,D.localName);var M=D.namespaceURI,R=null;if(M!==null)if(R=_.get(D.prefix,M),M===l.namespace.XMLNS){if(D.value===l.namespace.XML||D.prefix===null&&g||D.prefix!==null&&(!(D.localName in d)||d[D.localName]!==D.value)&&_.has(D.localName,D.value))continue;if(x&&D.value===l.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(x&&D.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");D.prefix==="xmlns"&&(R="xmlns")}else R===null&&(R=D.prefix===null||_.hasPrefix(D.prefix)&&!_.has(D.prefix,M)?this._generatePrefix(M,_,m):D.prefix,S.push([null,"xmlns",R,this._serializeAttributeValue(M,x)]));if(x&&(D.localName.indexOf(":")!==-1||!h.xml_isName(D.localName)||D.localName==="xmlns"&&M===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");S.push([M,R,D.localName,this._serializeAttributeValue(D.value,x)])}else S.push([null,null,D.localName,this._serializeAttributeValue(D.value,x)])}}catch(E){w={error:E}}finally{try{O&&!O.done&&(C=b.return)&&C.call(b)}finally{if(w)throw w.error}}return S},v.prototype._serializeAttributes=function(y,_){var m,d,g=[],x=_?{}:void 0;try{for(var w=i(y.attributes),C=w.next();!C.done;C=w.next()){var S=C.value;if(_){if(_&&x&&S.localName in x)throw new Error("Element contains duplicate attributes (well-formed required).");if(_&&x&&(x[S.localName]=!0),_&&(S.localName.indexOf(":")!==-1||!h.xml_isName(S.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");g.push([null,null,S.localName,this._serializeAttributeValue(S.value,_)])}else g.push([null,null,S.localName,this._serializeAttributeValue(S.value,_)])}}catch(T){m={error:T}}finally{try{C&&!C.done&&(d=w.return)&&d.call(w)}finally{if(m)throw m.error}}return g},v.prototype._recordNamespaceInformation=function(y,_,m){var d,g,x=null;try{for(var w=i(y.attributes),C=w.next();!C.done;C=w.next()){var S=C.value,T=S.namespaceURI,b=S.prefix;if(T===l.namespace.XMLNS){if(b===null){x=S.value;continue}var O=S.localName,D=S.value;if(D===l.namespace.XML||(D===""&&(D=null),_.has(O,D)))continue;_.set(O,D),m[O]=D||""}}}catch(M){d={error:M}}finally{try{C&&!C.done&&(g=w.return)&&g.call(w)}finally{if(d)throw d.error}}return x},v.prototype._generatePrefix=function(y,_,m){var d="ns"+m.value.toString();return m.value++,_.set(d,y),d},v.prototype._serializeAttributeValue=function(y,_){if(_&&y!==null&&!h.xml_isLegalChar(y))throw new Error("Invalid characters in attribute value.");return y===null?"":y.replace(/(?!&([^&;]*);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},v._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),v}();r.BaseWriter=p},function(n,r,a){var i=this&&this.__values||function(_){var m=typeof Symbol=="function"&&Symbol.iterator,d=m&&_[m],g=0;if(d)return d.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&g>=_.length&&(_=void 0),{value:_&&_[g++],done:!_}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(_,m){var d=typeof Symbol=="function"&&_[Symbol.iterator];if(!d)return _;var g,x,w=d.call(_),C=[];try{for(;(m===void 0||m-- >0)&&!(g=w.next()).done;)C.push(g.value)}catch(S){x={error:S}}finally{try{g&&!g.done&&(d=w.return)&&d.call(w)}finally{if(x)throw x.error}}return C};Object.defineProperty(r,"__esModule",{value:!0});var o=a(6),c=a(3),u=a(7),f=a(29),l=a(17),h=a(97);function p(){var _=o.dom.window;_._mutationObserverMicrotaskQueued||(_._mutationObserverMicrotaskQueued=!0,Promise.resolve().then(function(){v()}))}function v(){var _,m,d,g,x=o.dom.window;x._mutationObserverMicrotaskQueued=!1;var w=u.set.clone(x._mutationObservers),C=u.set.clone(x._signalSlots);u.set.empty(x._signalSlots);var S=function(R){var E=u.list.clone(R._recordQueue);u.list.empty(R._recordQueue);for(var B=0;B<R._nodeList.length;B++){var I=R._nodeList[B];u.list.remove(I._registeredObserverList,function(P){return c.Guard.isTransientRegisteredObserver(P)&&P.observer===R})}if(!u.list.isEmpty(E))try{R._callback.call(R,E,R)}catch{}};try{for(var T=i(w),b=T.next();!b.done;b=T.next())S(b.value)}catch(R){_={error:R}}finally{try{b&&!b.done&&(m=T.return)&&m.call(T)}finally{if(_)throw _.error}}if(o.dom.features.slots)try{for(var O=i(C),D=O.next();!D.done;D=O.next()){var M=D.value;h.event_fireAnEvent("slotchange",M,void 0,{bubbles:!0})}}catch(R){d={error:R}}finally{try{D&&!D.done&&(g=O.return)&&g.call(O)}finally{if(d)throw d.error}}}function y(_,m,d,g,x,w,C,S,T){for(var b,O,D=new Map,M=l.tree_getFirstAncestorNode(m,!0);M!==null;){for(var R=0;R<M._registeredObserverList.length;R++){var E=M._registeredObserverList[R],B=E.options;if((M===m||B.subtree)&&(_!=="attributes"||B.attributes)&&(_!=="attributes"||!B.attributeFilter||B.attributeFilter.indexOf(d||"")&&g===null)&&(_!=="characterData"||B.characterData)&&(_!=="childList"||B.childList)){var I=E.observer;D.has(I)||D.set(I,null),(_==="attributes"&&B.attributeOldValue||_==="characterData"&&B.characterDataOldValue)&&D.set(I,x)}}M=l.tree_getNextAncestorNode(m,M,!0)}try{for(var P=i(D),L=P.next();!L.done;L=P.next()){var F=s(L.value,2),G=F[0],$=F[1],H=f.create_mutationRecord(_,m,f.create_nodeListStatic(m,w),f.create_nodeListStatic(m,C),S,T,d,g,$);G._recordQueue.push(H)}}catch(J){b={error:J}}finally{try{L&&!L.done&&(O=P.return)&&O.call(P)}finally{if(b)throw b.error}}p()}r.observer_queueAMutationObserverMicrotask=p,r.observer_notifyMutationObservers=v,r.observer_queueMutationRecord=y,r.observer_queueTreeMutationRecord=function(_,m,d,g,x){y("childList",_,null,null,null,m,d,g,x)},r.observer_queueAttributeMutationRecord=function(_,m,d,g){y("attributes",_,m,d,g,[],[],null,null)}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(6),s=a(7),o=a(3),c=a(9),u=a(29),f=a(73),l=a(51),h=a(30),p=a(37),v=a(106);function y(w,C,S){i.dom.features.mutationObservers&&l.observer_queueAttributeMutationRecord(C,w._localName,w._namespace,w._value),i.dom.features.customElements&&o.Guard.isCustomElementNode(C)&&f.customElement_enqueueACustomElementCallbackReaction(C,"attributeChangedCallback",[w._localName,w._value,S,w._namespace]),i.dom.features.steps&&h.dom_runAttributeChangeSteps(C,w._localName,w._value,S,w._namespace),w._value=S}function _(w,C){i.dom.features.mutationObservers&&l.observer_queueAttributeMutationRecord(C,w._localName,w._namespace,null),i.dom.features.customElements&&o.Guard.isCustomElementNode(C)&&f.customElement_enqueueACustomElementCallbackReaction(C,"attributeChangedCallback",[w._localName,null,w._value,w._namespace]),i.dom.features.steps&&h.dom_runAttributeChangeSteps(C,w._localName,null,w._value,w._namespace),C._attributeList._asArray().push(w),w._element=C,C._nodeDocument._hasNamespaces||w._namespace===null&&w._namespacePrefix===null&&w._localName!=="xmlns"||(C._nodeDocument._hasNamespaces=!0)}function m(w,C){i.dom.features.mutationObservers&&l.observer_queueAttributeMutationRecord(C,w._localName,w._namespace,w._value),i.dom.features.customElements&&o.Guard.isCustomElementNode(C)&&f.customElement_enqueueACustomElementCallbackReaction(C,"attributeChangedCallback",[w._localName,w._value,null,w._namespace]),i.dom.features.steps&&h.dom_runAttributeChangeSteps(C,w._localName,w._value,null,w._namespace);var S=C._attributeList._asArray().indexOf(w);C._attributeList._asArray().splice(S,1),w._element=null}function d(w,C,S){i.dom.features.mutationObservers&&l.observer_queueAttributeMutationRecord(S,w._localName,w._namespace,w._value),i.dom.features.customElements&&o.Guard.isCustomElementNode(S)&&f.customElement_enqueueACustomElementCallbackReaction(S,"attributeChangedCallback",[w._localName,w._value,C._value,w._namespace]),i.dom.features.steps&&h.dom_runAttributeChangeSteps(S,w._localName,w._value,C._value,w._namespace);var T=S._attributeList._asArray().indexOf(w);T!==-1&&(S._attributeList._asArray()[T]=C),w._element=null,C._element=S,S._nodeDocument._hasNamespaces||C._namespace===null&&C._namespacePrefix===null&&C._localName!=="xmlns"||(S._nodeDocument._hasNamespaces=!0)}function g(w,C){return C._namespace===s.namespace.HTML&&C._nodeDocument._type==="html"&&(w=w.toLowerCase()),C._attributeList._asArray().find(function(S){return S._qualifiedName===w})||null}function x(w,C,S){var T=w||null;return S._attributeList._asArray().find(function(b){return b._namespace===T&&b._localName===C})||null}r.element_has=function(w,C){return C._attributeList._asArray().indexOf(w)!==-1},r.element_change=y,r.element_append=_,r.element_remove=m,r.element_replace=d,r.element_getAnAttributeByName=g,r.element_getAnAttributeByNamespaceAndLocalName=x,r.element_getAnAttributeValue=function(w,C,S){S===void 0&&(S="");var T=x(S,C,w);return T===null?"":T._value},r.element_setAnAttribute=function(w,C){if(w._element!==null&&w._element!==C)throw new c.InUseAttributeError("This attribute already exists in the document: "+w._qualifiedName+" as a child of "+w._element._qualifiedName+".");var S=x(w._namespace||"",w._localName,C);return S===w?w:(S!==null?d(S,w,C):_(w,C),S)},r.element_setAnAttributeValue=function(w,C,S,T,b){T===void 0&&(T=null),b===void 0&&(b=null);var O=x(b||"",C,w);if(O===null){var D=u.create_attr(w._nodeDocument,C);return D._namespace=b,D._namespacePrefix=T,D._value=S,void _(D,w)}y(O,w,S)},r.element_removeAnAttributeByName=function(w,C){var S=g(w,C);return S!==null&&m(S,C),S},r.element_removeAnAttributeByNamespaceAndLocalName=function(w,C,S){var T=x(w,C,S);return T!==null&&m(T,S),T},r.element_createAnElement=function(w,C,S,T,b,O){T===void 0&&(T=null),b===void 0&&(b=null),O===void 0&&(O=!1);var D=null;if(!i.dom.features.customElements)return(D=u.create_element(w,C,S,T))._customElementState="uncustomized",D._customElementDefinition=null,D._is=b,D;var M=f.customElement_lookUpACustomElementDefinition(w,S,C,b);if(M!==null&&M.name!==M.localName)(D=new(v.document_elementInterface(C,s.namespace.HTML)))._localName=C,D._namespace=s.namespace.HTML,D._namespacePrefix=T,D._customElementState="undefined",D._customElementDefinition=null,D._is=b,D._nodeDocument=w,O?f.customElement_upgrade(M,D):f.customElement_enqueueACustomElementUpgradeReaction(D,M);else if(M!==null)if(O)try{var R=new M.constructor;if(console.assert(R._customElementState!==void 0),console.assert(R._customElementDefinition!==void 0),console.assert(R._namespace===s.namespace.HTML),R._attributeList.length!==0)throw new c.NotSupportedError("Custom element already has attributes.");if(R._children.size!==0)throw new c.NotSupportedError("Custom element already has child nodes.");if(R._parent!==null)throw new c.NotSupportedError("Custom element already has a parent node.");if(R._nodeDocument!==w)throw new c.NotSupportedError("Custom element is already in a document.");if(R._localName!==C)throw new c.NotSupportedError("Custom element has a different local name.");R._namespacePrefix=T,R._is=null}catch{(D=u.create_htmlUnknownElement(w,C,s.namespace.HTML,T))._customElementState="failed",D._customElementDefinition=null,D._is=null}else(D=u.create_htmlElement(w,C,s.namespace.HTML,T))._customElementState="undefined",D._customElementDefinition=null,D._is=null,f.customElement_enqueueACustomElementUpgradeReaction(D,M);else(D=new(v.document_elementInterface(C,S)))._localName=C,D._namespace=S,D._namespacePrefix=T,D._customElementState="uncustomized",D._customElementDefinition=null,D._is=b,D._nodeDocument=w,S!==s.namespace.HTML||b===null&&!f.customElement_isValidCustomElementName(C)||(D._customElementState="undefined");if(D===null)throw new Error("Unable to create element.");return D},r.element_insertAdjacent=function(w,C,S){switch(C.toLowerCase()){case"beforebegin":return w._parent===null?null:p.mutation_preInsert(S,w._parent,w);case"afterbegin":return p.mutation_preInsert(S,w,w._firstChild);case"beforeend":return p.mutation_preInsert(S,w,null);case"afterend":return w._parent===null?null:p.mutation_preInsert(S,w._parent,w._nextSibling);default:throw new c.SyntaxError(`Invalid 'where' argument. "beforebegin", "afterbegin", "beforeend" or "afterend" expected`)}}},function(n,r,a){function i(s,o){Error.call(this),this.name="YAMLException",this.reason=s,this.mark=o,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.toString=function(s){var o=this.name+": ";return o+=this.reason||"(unknown reason)",!s&&this.mark&&(o+=" "+this.mark.toString()),o},n.exports=i},function(n,r,a){var i=a(39);n.exports=new i({include:[a(181)],implicit:[a(293),a(294)],explicit:[a(295),a(296),a(297),a(298)]})},function(n,r,a){var i=a(16),s=a(79),o=a(40),c=a(24),u=a(56),f=a(14),l=a(115),h=Object.getOwnPropertyDescriptor;r.f=i?h:function(p,v){if(p=c(p),v=u(v,!0),l)try{return h(p,v)}catch{}if(f(p,v))return o(!s.f.call(p,v),p[v])}},function(n,r,a){var i=a(13);n.exports=function(s,o){if(!i(s))return s;var c,u;if(o&&typeof(c=s.toString)=="function"&&!i(u=c.call(s))||typeof(c=s.valueOf)=="function"&&!i(u=c.call(s))||!o&&typeof(c=s.toString)=="function"&&!i(u=c.call(s)))return u;throw TypeError("Can't convert object to primitive value")}},function(n,r,a){var i=a(81),s=a(58),o=i("keys");n.exports=function(c){return o[c]||(o[c]=s(c))}},function(n,r){var a=0,i=Math.random();n.exports=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++a+i).toString(36)}},function(n,r,a){var i=a(42);n.exports=Array.isArray||function(s){return i(s)=="Array"}},function(n,r,a){var i,s=a(18),o=a(188),c=a(84),u=a(45),f=a(189),l=a(116),h=a(57),p=h("IE_PROTO"),v=function(){},y=function(m){return"<script>"+m+"<\/script>"},_=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch{}var m,d;_=i?function(x){x.write(y("")),x.close();var w=x.parentWindow.Object;return x=null,w}(i):((d=l("iframe")).style.display="none",f.appendChild(d),d.src=String("javascript:"),(m=d.contentWindow.document).open(),m.write(y("document.F=Object")),m.close(),m.F);for(var g=c.length;g--;)delete _.prototype[c[g]];return _()};u[p]=!0,n.exports=Object.create||function(m,d){var g;return m!==null?(v.prototype=s(m),g=new v,v.prototype=null,g[p]=m):g=_(),d===void 0?g:o(g,d)}},function(n,r,a){var i=a(121),s=a(84);n.exports=Object.keys||function(o){return i(o,s)}},function(n,r,a){var i=a(15).f,s=a(14),o=a(5)("toStringTag");n.exports=function(c,u,f){c&&!s(c=f?c:c.prototype,o)&&i(c,o,{configurable:!0,value:u})}},function(n,r,a){var i=a(8),s=a(5),o=a(129),c=s("species");n.exports=function(u){return o>=51||!i(function(){var f=[];return(f.constructor={})[c]=function(){return{foo:1}},f[u](Boolean).foo!==1})}},function(n,r,a){var i=a(4),s=a(122).indexOf,o=a(48),c=a(28),u=[].indexOf,f=!!u&&1/[1].indexOf(1,-0)<0,l=o("indexOf"),h=c("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:f||!l||!h},{indexOf:function(p){return f?u.apply(this,arguments)||0:s(this,p,arguments.length>1?arguments[1]:void 0)}})},function(n,r,a){var i=a(16),s=a(15).f,o=Function.prototype,c=o.toString,u=/^\s*function ([^ (]*)/;i&&!("name"in o)&&s(o,"name",{configurable:!0,get:function(){try{return c.call(this).match(u)[1]}catch{return""}}})},function(n,r,a){var i=a(25),s=a(18),o=a(8),c=a(136),u=RegExp.prototype,f=u.toString,l=o(function(){return f.call({source:"a",flags:"b"})!="/a/b"}),h=f.name!="toString";(l||h)&&i(RegExp.prototype,"toString",function(){var p=s(this),v=String(p.source),y=p.flags;return"/"+v+"/"+String(y===void 0&&p instanceof RegExp&&!("flags"in u)?c.call(p):y)},{unsafe:!0})},function(n,r,a){a(31),a(32),a(33),a(19),a(138),a(20),a(66),a(22),a(23);var i,s=this&&this.__extends||(i=function(l,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var y in v)v.hasOwnProperty(y)&&(p[y]=v[y])})(l,h)},function(l,h){function p(){this.constructor=l}i(l,h),l.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}),o=this&&this.__values||function(l){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&l[h],v=0;if(p)return p.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&v>=l.length&&(l=void 0),{value:l&&l[v++],done:!l}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var c=a(1),u=a(2),f=function(l){function h(p,v){var y=l.call(this,p)||this;return y._writerOptions=c.applyDefaults(v,{format:"object",wellFormed:!1,group:!1,verbose:!1}),y}return s(h,l),h.prototype.serialize=function(p){return this._currentList=[],this._currentIndex=0,this._listRegister=[this._currentList],this.serializeNode(p,this._writerOptions.wellFormed),this._process(this._currentList,this._writerOptions)},h.prototype._process=function(p,v){var y,_,m,d,g,x,w;if(p.length===0)return{};for(var C={},S=!1,T=0,b=0,O=0,D=0,M=0;M<p.length;M++){var R=p[M];switch(te=Object.keys(R)[0]){case"@":continue;case"#":T++;break;case"!":b++;break;case"?":O++;break;case"$":D++;break;default:C[te]?S=!0:C[te]=!0}}var E=this._getAttrKey(),B=this._getNodeKey(u.NodeType.Text),I=this._getNodeKey(u.NodeType.Comment),P=this._getNodeKey(u.NodeType.ProcessingInstruction),L=this._getNodeKey(u.NodeType.CData);if(T===1&&p.length===1&&c.isString(p[0]["#"]))return p[0]["#"];if(S){var F={};for(M=0;M<p.length;M++)if(R=p[M],(te=Object.keys(R)[0])==="@"){var G=R["@"];(A=Object.keys(G)).length===1?F[E+A[0]]=G[A[0]]:F[E]=R["@"]}var $=[];for(M=0;M<p.length;M++)switch(R=p[M],te=Object.keys(R)[0]){case"@":break;case"#":$.push(((y={})[B]=R["#"],y));break;case"!":$.push(((_={})[I]=R["!"],_));break;case"?":$.push(((m={})[P]=R["?"],m));break;case"$":$.push(((d={})[L]=R.$,d));break;default:if((U=R)[te].length!==0&&c.isArray(U[te][0])){for(var H=[],J=U[te],Q=0;Q<J.length;Q++)H.push(this._process(J[Q],v));$.push(((g={})[te]=H,g))}else v.verbose?$.push(((x={})[te]=[this._process(U[te],v)],x)):$.push(((w={})[te]=this._process(U[te],v),w))}return F[B]=$,F}var q=1,ne=1,re=1,oe=1;for(F={},M=0;M<p.length;M++){var te;switch(R=p[M],te=Object.keys(R)[0]){case"@":G=R["@"];var A=Object.keys(G);if(v.group&&A.length!==1)F[E]=G;else for(var N in G)F[E+N]=G[N];break;case"#":q=this._processSpecItem(R["#"],F,v.group,B,T,q);break;case"!":ne=this._processSpecItem(R["!"],F,v.group,I,b,ne);break;case"?":re=this._processSpecItem(R["?"],F,v.group,P,O,re);break;case"$":oe=this._processSpecItem(R.$,F,v.group,L,D,oe);break;default:var U;if((U=R)[te].length!==0&&c.isArray(U[te][0])){H=[],J=U[te];for(var V=0;V<J.length;V++)H.push(this._process(J[V],v));F[te]=H}else v.verbose?F[te]=[this._process(U[te],v)]:F[te]=this._process(U[te],v)}}return F},h.prototype._processSpecItem=function(p,v,y,_,m,d){var g,x;if(!y&&c.isArray(p)&&m+p.length>2)try{for(var w=o(p),C=w.next();!C.done;C=w.next()){var S=C.value;v[_+(d++).toString()]=S}}catch(T){g={error:T}}finally{try{C&&!C.done&&(x=w.return)&&x.call(w)}finally{if(g)throw g.error}}else v[m>1?_+(d++).toString():_]=p;return d},h.prototype.beginElement=function(p){var v,y,_=[];if(this._currentList.length===0)this._currentList.push(((v={})[p]=_,v));else{var m=this._currentList[this._currentList.length-1];this._isElementNode(m,p)?m[p].length!==0&&c.isArray(m[p][0])?m[p].push(_):m[p]=[m[p],_]:this._currentList.push(((y={})[p]=_,y))}this._currentIndex++,this._listRegister.length>this._currentIndex?this._listRegister[this._currentIndex]=_:this._listRegister.push(_),this._currentList=_},h.prototype.endElement=function(){this._currentList=this._listRegister[--this._currentIndex]},h.prototype.attribute=function(p,v){var y,_;if(this._currentList.length===0)this._currentList.push({"@":(y={},y[p]=v,y)});else{var m=this._currentList[this._currentList.length-1];this._isAttrNode(m)?m["@"][p]=v:this._currentList.push({"@":(_={},_[p]=v,_)})}},h.prototype.comment=function(p){if(this._currentList.length===0)this._currentList.push({"!":p});else{var v=this._currentList[this._currentList.length-1];this._isCommentNode(v)?c.isArray(v["!"])?v["!"].push(p):v["!"]=[v["!"],p]:this._currentList.push({"!":p})}},h.prototype.text=function(p){if(this._currentList.length===0)this._currentList.push({"#":p});else{var v=this._currentList[this._currentList.length-1];this._isTextNode(v)?c.isArray(v["#"])?v["#"].push(p):v["#"]=[v["#"],p]:this._currentList.push({"#":p})}},h.prototype.instruction=function(p,v){var y=v===""?p:p+" "+v;if(this._currentList.length===0)this._currentList.push({"?":y});else{var _=this._currentList[this._currentList.length-1];this._isInstructionNode(_)?c.isArray(_["?"])?_["?"].push(y):_["?"]=[_["?"],y]:this._currentList.push({"?":y})}},h.prototype.cdata=function(p){if(this._currentList.length===0)this._currentList.push({$:p});else{var v=this._currentList[this._currentList.length-1];this._isCDATANode(v)?c.isArray(v.$)?v.$.push(p):v.$=[v.$,p]:this._currentList.push({$:p})}},h.prototype._isAttrNode=function(p){return"@"in p},h.prototype._isTextNode=function(p){return"#"in p},h.prototype._isCommentNode=function(p){return"!"in p},h.prototype._isInstructionNode=function(p){return"?"in p},h.prototype._isCDATANode=function(p){return"$"in p},h.prototype._isElementNode=function(p,v){return v in p},h.prototype._getAttrKey=function(){return this._builderOptions.convert.att},h.prototype._getNodeKey=function(p){switch(p){case u.NodeType.Comment:return this._builderOptions.convert.comment;case u.NodeType.Text:return this._builderOptions.convert.text;case u.NodeType.ProcessingInstruction:return this._builderOptions.convert.ins;case u.NodeType.CData:return this._builderOptions.convert.cdata;default:throw new Error("Invalid node type.")}},h}(a(50).BaseWriter);r.ObjectWriter=f},function(n,r,a){var i=a(4),s=a(93);i({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function s(){this._items={},this._nullItems={}}return s.prototype.set=function(o,c){o===null?this._nullItems[c]=!0:(this._items[o]||(this._items[o]={}),this._items[o][c]=!0)},s.prototype.has=function(o,c){return o===null?this._nullItems[c]===!0:!!this._items[o]&&this._items[o][c]===!0},s}();r.LocalNameSet=i},function(n,r,a){var i=this&&this.__read||function(f,l){var h=typeof Symbol=="function"&&f[Symbol.iterator];if(!h)return f;var p,v,y=h.call(f),_=[];try{for(;(l===void 0||l-- >0)&&!(p=y.next()).done;)_.push(p.value)}catch(m){v={error:m}}finally{try{p&&!p.done&&(h=y.return)&&h.call(y)}finally{if(v)throw v.error}}return _};Object.defineProperty(r,"__esModule",{value:!0});var s=a(9),o=a(3),c=a(0),u=function(){function f(){}return Object.defineProperty(f.prototype,"_eventListenerList",{get:function(){return this.__eventListenerList||(this.__eventListenerList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"_eventHandlerMap",{get:function(){return this.__eventHandlerMap||(this.__eventHandlerMap={})},enumerable:!0,configurable:!0}),f.prototype.addEventListener=function(l,h,p){p===void 0&&(p={passive:!1,once:!1,capture:!1});var v,y=i(c.eventTarget_flattenMore(p),3),_=y[0],m=y[1],d=y[2];h&&(v=o.Guard.isEventListener(h)?h:{handleEvent:h},c.eventTarget_addEventListener(this,{type:l,callback:v,capture:_,passive:m,once:d,removed:!1}))},f.prototype.removeEventListener=function(l,h,p){p===void 0&&(p={capture:!1});var v=c.eventTarget_flatten(p);if(h)for(var y=0;y<this._eventListenerList.length;y++){var _=this._eventListenerList[y];if(_.type===l&&_.capture===v){if(o.Guard.isEventListener(h)&&_.callback===h){c.eventTarget_removeEventListener(this,_,y);break}if(h&&_.callback.handleEvent===h){c.eventTarget_removeEventListener(this,_,y);break}}}},f.prototype.dispatchEvent=function(l){if(l._dispatchFlag||!l._initializedFlag)throw new s.InvalidStateError;return l._isTrusted=!1,c.event_dispatch(l,this)},f.prototype._getTheParent=function(l){return null},f}();r.EventTargetImpl=u},function(n,r,a){var i,s=this&&this.__extends||(i=function(f,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])})(f,l)},function(f,l){function h(){this.constructor=f}i(f,l),f.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(34),c=a(0),u=function(f){function l(h){var p=f.call(this)||this;return p._data=h,p}return s(l,f),Object.defineProperty(l.prototype,"data",{get:function(){return this._data},set:function(h){c.characterData_replaceData(this,0,this._data.length,h)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"length",{get:function(){return this._data.length},enumerable:!0,configurable:!0}),l.prototype.substringData=function(h,p){return c.characterData_substringData(this,h,p)},l.prototype.appendData=function(h){return c.characterData_replaceData(this,this._data.length,0,h)},l.prototype.insertData=function(h,p){c.characterData_replaceData(this,h,0,p)},l.prototype.deleteData=function(h,p){c.characterData_replaceData(this,h,p,"")},l.prototype.replaceData=function(h,p,v){c.characterData_replaceData(this,h,p,v)},Object.defineProperty(l.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),l.prototype.before=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];throw new Error("Mixin: ChildNode not implemented.")},l.prototype.after=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];throw new Error("Mixin: ChildNode not implemented.")},l.prototype.replaceWith=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];throw new Error("Mixin: ChildNode not implemented.")},l.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},l}(o.NodeImpl);r.CharacterDataImpl=u},function(n,r,a){var i=this&&this.__values||function(m){var d=typeof Symbol=="function"&&Symbol.iterator,g=d&&m[d],x=0;if(g)return g.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&x>=m.length&&(m=void 0),{value:m&&m[x++],done:!m}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(m,d){var g=typeof Symbol=="function"&&m[Symbol.iterator];if(!g)return m;var x,w,C=g.call(m),S=[];try{for(;(d===void 0||d-- >0)&&!(x=C.next()).done;)S.push(x.value)}catch(T){w={error:T}}finally{try{x&&!x.done&&(g=C.return)&&g.call(C)}finally{if(w)throw w.error}}return S},o=this&&this.__spread||function(){for(var m=[],d=0;d<arguments.length;d++)m=m.concat(s(arguments[d]));return m};Object.defineProperty(r,"__esModule",{value:!0});var c=a(6),u=a(3),f=a(1),l=a(17),h=a(51);function p(m){c.dom.window._signalSlots.add(m),h.observer_queueAMutationObserverMicrotask()}function v(m,d){d===void 0&&(d=!1);var g=u.Cast.asNode(m)._parent;if(g===null)return null;var x=g._shadowRoot||null;if(x===null||d&&x._mode!=="open")return null;for(var w=l.tree_getFirstDescendantNode(x,!1,!0,function(C){return u.Guard.isSlot(C)});w!==null;){if(w._name===m._name)return w;w=l.tree_getNextDescendantNode(x,w,!1,!0,function(C){return u.Guard.isSlot(C)})}return null}function y(m){var d,g,x=[],w=l.tree_rootNode(m);if(!u.Guard.isShadowRoot(w))return x;var C=w._host;try{for(var S=i(C._children),T=S.next();!T.done;T=S.next()){var b=T.value;u.Guard.isSlotable(b)&&v(b)===m&&x.push(b)}}catch(O){d={error:O}}finally{try{T&&!T.done&&(g=S.return)&&g.call(S)}finally{if(d)throw d.error}}return x}function _(m){var d,g,x=y(m);if(x.length===m._assignedNodes.length){for(var w=!0,C=0;C<x.length;C++)if(x[C]!==m._assignedNodes[C]){w=!1;break}w||p(m)}m._assignedNodes=x;try{for(var S=i(x),T=S.next();!T.done;T=S.next())T.value._assignedSlot=m}catch(b){d={error:b}}finally{try{T&&!T.done&&(g=S.return)&&g.call(S)}finally{if(d)throw d.error}}}r.shadowTree_signalASlotChange=p,r.shadowTree_isConnected=function(m){return u.Guard.isDocumentNode(l.tree_rootNode(m,!0))},r.shadowTree_isAssigned=function(m){return m._assignedSlot!==null},r.shadowTree_findASlot=v,r.shadowTree_findSlotables=y,r.shadowTree_findFlattenedSlotables=function m(d){var g,x,w,C,S=[],T=l.tree_rootNode(d);if(!u.Guard.isShadowRoot(T))return S;var b=y(d);if(f.isEmpty(b))try{for(var O=i(d._children),D=O.next();!D.done;D=O.next()){var M=D.value;u.Guard.isSlotable(M)&&b.push(M)}}catch(P){g={error:P}}finally{try{D&&!D.done&&(x=O.return)&&x.call(O)}finally{if(g)throw g.error}}try{for(var R=i(b),E=R.next();!E.done;E=R.next()){var B=E.value;if(u.Guard.isSlot(B)&&u.Guard.isShadowRoot(l.tree_rootNode(B))){var I=m(B);S.push.apply(S,o(I))}else S.push(B)}}catch(P){w={error:P}}finally{try{E&&!E.done&&(C=R.return)&&C.call(R)}finally{if(w)throw w.error}}return S},r.shadowTree_assignSlotables=_,r.shadowTree_assignSlotablesForATree=function(m){for(var d=l.tree_getFirstDescendantNode(m,!0,!1,function(g){return u.Guard.isSlot(g)});d!==null;)_(d),d=l.tree_getNextDescendantNode(m,d,!0,!1,function(g){return u.Guard.isSlot(g)})},r.shadowTree_assignASlot=function(m){var d=v(m);d!==null&&_(d)}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=/[a-z]([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*/,s=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),o=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]),c=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),u=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]);r.customElement_isValidCustomElementName=function(f){return!!i.test(f)&&!s.has(f)},r.customElement_isValidElementName=function(f){return o.has(f)},r.customElement_isVoidElementName=function(f){return c.has(f)},r.customElement_isValidShadowHostName=function(f){return u.has(f)},r.customElement_enqueueACustomElementUpgradeReaction=function(f,l){},r.customElement_enqueueACustomElementCallbackReaction=function(f,l,h){},r.customElement_upgrade=function(f,l){},r.customElement_tryToUpgrade=function(f){},r.customElement_lookUpACustomElementDefinition=function(f,l,h,p){return null}},function(n,r,a){a(4)({target:"String",proto:!0},{repeat:a(259)})},function(n,r,a){a(278),a(68),a(179),a(94),Object.defineProperty(r,"__esModule",{value:!0});var i=a(109),s=function(){function o(c){this._builderOptions=c,c.parser&&Object.assign(this,c.parser)}return o.prototype._docType=function(c,u,f,l){return c.dtd({name:u,pubID:f,sysID:l})},o.prototype._comment=function(c,u){return c.com(u)},o.prototype._text=function(c,u){return c.txt(u)},o.prototype._instruction=function(c,u,f){return c.ins(u,f)},o.prototype._cdata=function(c,u){return c.dat(u)},o.prototype._element=function(c,u,f){return u===void 0?c.ele(f):c.ele(u,f)},o.prototype._attribute=function(c,u,f,l){return u===void 0?c.att(f,l):c.att(u,f,l)},o.prototype._sanitize=function(c){return i.sanitizeInput(c,this._builderOptions.invalidCharReplacement)},o.prototype._decodeText=function(c){return c==null?c:c.replace(/&(quot|amp|apos|lt|gt);/g,function(u,f){return o._entityTable[f]}).replace(/&#(?:x([a-fA-F0-9]+)|([0-9]+));/g,function(u,f,l){return String.fromCodePoint(parseInt(f||l,f?16:10))})},o.prototype._decodeAttributeValue=function(c){return this._decodeText(c)},o.prototype.parse=function(c,u){return this._parse(c,u)},o.prototype.docType=function(c,u,f,l){return this._docType(c,u,f,l)},o.prototype.comment=function(c,u){return this._comment(c,u)},o.prototype.text=function(c,u){return this._text(c,u)},o.prototype.instruction=function(c,u,f){return this._instruction(c,u,f)},o.prototype.cdata=function(c,u){return this._cdata(c,u)},o.prototype.element=function(c,u,f){return this._element(c,u,f)},o.prototype.attribute=function(c,u,f,l){return this._attribute(c,u,f,l)},o.prototype.sanitize=function(c){return this._sanitize(c)},o._entityTable={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},o}();r.BaseReader=s},function(n,r,a){var i=a(39);n.exports=i.DEFAULT=new i({include:[a(54)],explicit:[a(299),a(300),a(301)]})},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(185);r.XMLBuilderImpl=i.XMLBuilderImpl;var s=a(304);r.XMLBuilderCBImpl=s.XMLBuilderCBImpl;var o=a(183);r.builder=o.builder,r.create=o.create,r.fragment=o.fragment,r.convert=o.convert;var c=a(309);r.createCB=c.createCB,r.fragmentCB=c.fragmentCB},function(n,r){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}n.exports=a},function(n,r,a){var i={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,o=s&&!i.call({1:2},1);r.f=o?function(c){var u=s(this,c);return!!u&&u.enumerable}:i},function(n,r,a){var i=a(11),s=a(21);n.exports=function(o,c){try{s(i,o,c)}catch{i[o]=c}return c}},function(n,r,a){var i=a(44),s=a(118);(n.exports=function(o,c){return s[o]||(s[o]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},function(n,r,a){var i=a(121),s=a(84).concat("length","prototype");r.f=Object.getOwnPropertyNames||function(o){return i(o,s)}},function(n,r,a){var i=a(47),s=Math.max,o=Math.min;n.exports=function(c,u){var f=i(c);return f<0?s(f+u,0):o(f,u)}},function(n,r){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,r){r.f=Object.getOwnPropertySymbols},function(n,r,a){var i=a(8);n.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},function(n,r,a){var i=a(127);n.exports=function(s,o,c){if(i(s),o===void 0)return s;switch(c){case 0:return function(){return s.call(o)};case 1:return function(u){return s.call(o,u)};case 2:return function(u,f){return s.call(o,u,f)};case 3:return function(u,f,l){return s.call(o,u,f,l)}}return function(){return s.apply(o,arguments)}}},function(n,r,a){var i=a(4),s=a(195),o=a(132),c=a(133),u=a(62),f=a(21),l=a(25),h=a(5),p=a(44),v=a(49),y=a(131),_=y.IteratorPrototype,m=y.BUGGY_SAFARI_ITERATORS,d=h("iterator"),g=function(){return this};n.exports=function(x,w,C,S,T,b,O){s(C,w,S);var D,M,R,E=function($){if($===T&&F)return F;if(!m&&$ in P)return P[$];switch($){case"keys":case"values":case"entries":return function(){return new C(this,$)}}return function(){return new C(this)}},B=w+" Iterator",I=!1,P=x.prototype,L=P[d]||P["@@iterator"]||T&&P[T],F=!m&&L||E(T),G=w=="Array"&&P.entries||L;if(G&&(D=o(G.call(new x)),_!==Object.prototype&&D.next&&(p||o(D)===_||(c?c(D,_):typeof D[d]!="function"&&f(D,d,g)),u(D,B,!0,!0),p&&(v[B]=g))),T=="values"&&L&&L.name!=="values"&&(I=!0,F=function(){return L.call(this)}),p&&!O||P[d]===F||f(P,d,F),v[w]=F,T)if(M={values:E("values"),keys:b?F:E("keys"),entries:E("entries")},O)for(R in M)(m||I||!(R in P))&&l(P,R,M[R]);else i({target:w,proto:!0,forced:m||I},M);return M}},function(n,r,a){var i=a(4),s=a(13),o=a(59),c=a(83),u=a(26),f=a(24),l=a(134),h=a(5),p=a(63),v=a(28),y=p("slice"),_=v("slice",{ACCESSORS:!0,0:0,1:2}),m=h("species"),d=[].slice,g=Math.max;i({target:"Array",proto:!0,forced:!y||!_},{slice:function(x,w){var C,S,T,b=f(this),O=u(b.length),D=c(x,O),M=c(w===void 0?O:w,O);if(o(b)&&(typeof(C=b.constructor)!="function"||C!==Array&&!o(C.prototype)?s(C)&&(C=C[m])===null&&(C=void 0):C=void 0,C===Array||C===void 0))return d.call(b,D,M);for(S=new(C===void 0?Array:C)(g(M-D,0)),T=0;D<M;D++,T++)D in b&&l(S,T,b[D]);return S.length=T,S}})},function(n,r,a){var i={};i[a(5)("toStringTag")]="z",n.exports=String(i)==="[object z]"},function(n,r,a){a(19),a(138),a(20),a(92),a(22),a(23),Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultBuilderOptions={version:"1.0",encoding:void 0,standalone:void 0,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},invalidCharReplacement:void 0,parser:void 0},r.XMLBuilderOptionKeys=new Set(Object.keys(r.DefaultBuilderOptions)),r.DefaultXMLBuilderCBOptions={format:"xml",wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,spaceBeforeSlash:!1,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"}}},function(n,r,a){var i=a(139),s=a(143);n.exports=i("Set",function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}},s)},function(n,r,a){var i,s,o=a(136),c=a(221),u=RegExp.prototype.exec,f=String.prototype.replace,l=u,h=(i=/a/,s=/b*/g,u.call(i,"a"),u.call(s,"a"),i.lastIndex!==0||s.lastIndex!==0),p=c.UNSUPPORTED_Y||c.BROKEN_CARET,v=/()??/.exec("")[1]!==void 0;(h||v||p)&&(l=function(y){var _,m,d,g,x=this,w=p&&x.sticky,C=o.call(x),S=x.source,T=0,b=y;return w&&((C=C.replace("y","")).indexOf("g")===-1&&(C+="g"),b=String(y).slice(x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&y[x.lastIndex-1]!==`
`)&&(S="(?: "+S+")",b=" "+b,T++),m=new RegExp("^(?:"+S+")",C)),v&&(m=new RegExp("^"+S+"$(?!\\s)",C)),h&&(_=x.lastIndex),d=u.call(w?m:x,b),w?d?(d.input=d.input.slice(T),d[0]=d[0].slice(T),d.index=x.lastIndex,x.lastIndex+=d[0].length):x.lastIndex=0:h&&d&&(x.lastIndex=x.global?d.index+d[0].length:_),v&&d&&d.length>1&&f.call(d[0],m,function(){for(g=1;g<arguments.length-2;g++)arguments[g]===void 0&&(d[g]=void 0)}),d}),n.exports=l},function(n,r,a){var i=a(225),s=a(18),o=a(27),c=a(26),u=a(47),f=a(35),l=a(226),h=a(227),p=Math.max,v=Math.min,y=Math.floor,_=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;i("replace",2,function(d,g,x,w){var C=w.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,S=w.REPLACE_KEEPS_$0,T=C?"$":"$0";return[function(O,D){var M=f(this),R=O==null?void 0:O[d];return R!==void 0?R.call(O,M,D):g.call(String(M),O,D)},function(O,D){if(!C&&S||typeof D=="string"&&D.indexOf(T)===-1){var M=x(g,O,this,D);if(M.done)return M.value}var R=s(O),E=String(this),B=typeof D=="function";B||(D=String(D));var I=R.global;if(I){var P=R.unicode;R.lastIndex=0}for(var L=[];;){var F=h(R,E);if(F===null||(L.push(F),!I))break;String(F[0])===""&&(R.lastIndex=l(E,c(R.lastIndex),P))}for(var G,$="",H=0,J=0;J<L.length;J++){F=L[J];for(var Q=String(F[0]),q=p(v(u(F.index),E.length),0),ne=[],re=1;re<F.length;re++)ne.push((G=F[re])===void 0?G:String(G));var oe=F.groups;if(B){var te=[Q].concat(ne,q,E);oe!==void 0&&te.push(oe);var A=String(D.apply(void 0,te))}else A=b(Q,E,q,ne,oe,D);q>=H&&($+=E.slice(H,q)+A,H=q+Q.length)}return $+E.slice(H)}];function b(O,D,M,R,E,B){var I=M+O.length,P=R.length,L=m;return E!==void 0&&(E=o(E),L=_),g.call(B,L,function(F,G){var $;switch(G.charAt(0)){case"$":return"$";case"&":return O;case"`":return D.slice(0,M);case"'":return D.slice(I);case"<":$=E[G.slice(1,-1)];break;default:var H=+G;if(H===0)return F;if(H>P){var J=y(H/10);return J===0?F:J<=P?R[J-1]===void 0?G.charAt(1):R[J-1]+G.charAt(1):F}$=R[H-1]}return $===void 0?"":$})}})},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function s(){this._items={},this._nullItems=[]}return s.prototype.copy=function(){var o=new s;for(var c in this._items)o._items[c]=this._items[c].slice(0);return o._nullItems=this._nullItems.slice(0),o},s.prototype.get=function(o,c){var u=c===null?this._nullItems:this._items[c]||null;if(u===null)return null;for(var f=null,l=0;l<u.length;l++)if((f=u[l])===o)return f;return f},s.prototype.has=function(o,c){var u=c===null?this._nullItems:this._items[c]||null;return u!==null&&u.indexOf(o)!==-1},s.prototype.hasPrefix=function(o){if(this._nullItems.indexOf(o)!==-1)return!0;for(var c in this._items)if(this._items[c].indexOf(o)!==-1)return!0;return!1},s.prototype.set=function(o,c){var u=c===null?this._nullItems:this._items[c]||null;c!==null&&u===null?this._items[c]=[o]:u.push(o)},s}();r.NamespacePrefixMap=i},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.Surrogate=/[\uD800-\uDFFF]/,r.ScalarValue=/[\uD800-\uDFFF]/,r.NonCharacter=/[\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]/,r.ASCIICodePoint=/[\u0000-\u007F]/,r.ASCIITabOrNewLine=/[\t\n\r]/,r.ASCIIWhiteSpace=/[\t\n\f\r ]/,r.C0Control=/[\u0000-\u001F]/,r.C0ControlOrSpace=/[\u0000-\u001F ]/,r.Control=/[\u0000-\u001F\u007F-\u009F]/,r.ASCIIDigit=/[0-9]/,r.ASCIIUpperHexDigit=/[0-9A-F]/,r.ASCIILowerHexDigit=/[0-9a-f]/,r.ASCIIHexDigit=/[0-9A-Fa-f]/,r.ASCIIUpperAlpha=/[A-Z]/,r.ASCIILowerAlpha=/[a-z]/,r.ASCIIAlpha=/[A-Za-z]/,r.ASCIIAlphanumeric=/[0-9A-Za-z]/},function(n,r,a){var i=this&&this.__values||function(D){var M=typeof Symbol=="function"&&Symbol.iterator,R=M&&D[M],E=0;if(R)return R.call(D);if(D&&typeof D.length=="number")return{next:function(){return D&&E>=D.length&&(D=void 0),{value:D&&D[E++],done:!D}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(D,M){var R=typeof Symbol=="function"&&D[Symbol.iterator];if(!R)return D;var E,B,I=R.call(D),P=[];try{for(;(M===void 0||M-- >0)&&!(E=I.next()).done;)P.push(E.value)}catch(L){B={error:L}}finally{try{E&&!E.done&&(R=I.return)&&R.call(I)}finally{if(B)throw B.error}}return P},o=this&&this.__spread||function(){for(var D=[],M=0;M<arguments.length;M++)D=D.concat(s(arguments[M]));return D};Object.defineProperty(r,"__esModule",{value:!0});var c=a(6),u=a(2),f=a(3),l=a(171),h=a(104),p=a(9),v=a(17),y=a(72),_=a(30);function m(D,M){M===void 0&&(M=void 0),M===void 0&&(M=null);var R=d(D,M,new Date,{});return R._isTrusted=!0,R}function d(D,M,R,E){var B=new D("");return B._initializedFlag=!0,B._timeStamp=R.getTime(),Object.assign(B,E),c.dom.features.steps&&_.dom_runEventConstructingSteps(B),B}function g(D,M,R,E){var B,I,P,L;R===void 0&&(R=!1),E===void 0&&(E={value:!1});var F=!1;D._dispatchFlag=!0;var G=M;if(R){var $=M._associatedDocument;f.Guard.isDocumentNode($)&&(G=$)}var H=null,J=v.tree_retarget(D._relatedTarget,M);if(M!==J||M===D._relatedTarget){var Q=[];try{for(var q=i(D._touchTargetList),ne=q.next();!ne.done;ne=q.next()){var re=ne.value;Q.push(v.tree_retarget(re,M))}}catch(ae){B={error:ae}}finally{try{ne&&!ne.done&&(I=q.return)&&I.call(q)}finally{if(B)throw B.error}}x(D,M,G,J,Q,!1);var oe=f.Guard.isMouseEvent(D)&&D._type==="click";oe&&M._activationBehavior!==void 0&&(H=M);for(var te=f.Guard.isSlotable(M)&&y.shadowTree_isAssigned(M)?M:null,A=!1,N=M._getTheParent(D);N!==null&&f.Guard.isNode(N);){if(te!==null){if(!f.Guard.isSlot(N))throw new Error("Parent node of a slotable should be a slot.");te=null;var U=v.tree_rootNode(N,!0);f.Guard.isShadowRoot(U)&&U._mode==="closed"&&(A=!0)}f.Guard.isSlotable(N)&&y.shadowTree_isAssigned(N)&&(te=N),J=v.tree_retarget(D._relatedTarget,N),Q=[];try{for(var V=(P=void 0,i(D._touchTargetList)),k=V.next();!k.done;k=V.next())re=k.value,Q.push(v.tree_retarget(re,N))}catch(ae){P={error:ae}}finally{try{k&&!k.done&&(L=V.return)&&L.call(V)}finally{if(P)throw P.error}}f.Guard.isWindow(N)||f.Guard.isNode(N)&&f.Guard.isNode(M)&&v.tree_isAncestorOf(v.tree_rootNode(M,!0),N,!0,!0)?(oe&&D._bubbles&&H===null&&N._activationBehavior&&(H=N),x(D,N,null,J,Q,A)):N===J?N=null:(M=N,oe&&H===null&&M._activationBehavior&&(H=M),x(D,N,M,J,Q,A)),N!==null&&(N=N._getTheParent(D)),A=!1}for(var z=null,j=D._path,K=j.length-1;K>=0;K--)if((Z=j[K]).shadowAdjustedTarget!==null){z=Z;break}if(z!==null)if(f.Guard.isNode(z.shadowAdjustedTarget)&&f.Guard.isShadowRoot(v.tree_rootNode(z.shadowAdjustedTarget,!0)))F=!0;else if(f.Guard.isNode(z.relatedTarget)&&f.Guard.isShadowRoot(v.tree_rootNode(z.relatedTarget,!0)))F=!0;else for(var X=0;X<z.touchTargetList.length;X++){var Z=z.touchTargetList[X];if(f.Guard.isNode(Z)&&f.Guard.isShadowRoot(v.tree_rootNode(Z,!0))){F=!0;break}}for(H!==null&&H._legacyPreActivationBehavior!==void 0&&H._legacyPreActivationBehavior(D),K=j.length-1;K>=0;K--)(Z=j[K]).shadowAdjustedTarget!==null?D._eventPhase=u.EventPhase.AtTarget:D._eventPhase=u.EventPhase.Capturing,w(Z,D,"capturing",E);for(K=0;K<j.length;K++){if((Z=j[K]).shadowAdjustedTarget!==null)D._eventPhase=u.EventPhase.AtTarget;else{if(!D._bubbles)continue;D._eventPhase=u.EventPhase.Bubbling}w(Z,D,"bubbling",E)}}return D._eventPhase=u.EventPhase.None,D._currentTarget=null,D._path=[],D._dispatchFlag=!1,D._stopPropagationFlag=!1,D._stopImmediatePropagationFlag=!1,F&&(D._target=null,D._relatedTarget=null,D._touchTargetList=[]),H!==null&&(D._canceledFlag||H._activationBehavior===void 0?H._legacyCanceledActivationBehavior!==void 0&&H._legacyCanceledActivationBehavior(D):H._activationBehavior(D)),!D._canceledFlag}function x(D,M,R,E,B,I){var P=!1;f.Guard.isNode(M)&&f.Guard.isShadowRoot(v.tree_rootNode(M))&&(P=!0);var L=!1;f.Guard.isShadowRoot(M)&&M._mode==="closed"&&(L=!0),D._path.push({invocationTarget:M,invocationTargetInShadowTree:P,shadowAdjustedTarget:R,relatedTarget:E,touchTargetList:B,rootOfClosedTree:L,slotInClosedTree:I})}function w(D,M,R,E){E===void 0&&(E={value:!1});for(var B=M._path,I=-1,P=0;P<B.length;P++)if(B[P]===D){I=P;break}if(I!==-1){var L=B[I];(L.shadowAdjustedTarget!==null||I>0&&(L=B[I-1]).shadowAdjustedTarget!==null)&&(M._target=L.shadowAdjustedTarget)}if(M._relatedTarget=D.relatedTarget,M._touchTargetList=D.touchTargetList,!M._stopPropagationFlag){M._currentTarget=D.invocationTarget;var F=M._currentTarget._eventListenerList,G=new(Array.bind.apply(Array,o([void 0],F)));if(!C(M,G,R,D,E)&&M._isTrusted){var $=M._type;$==="animationend"?M._type="webkitAnimationEnd":$==="animationiteration"?M._type="webkitAnimationIteration":$==="animationstart"?M._type="webkitAnimationStart":$==="transitionend"&&(M._type="webkitTransitionEnd"),C(M,G,R,D,E),M._type=$}}}function C(D,M,R,E,B){B===void 0&&(B={value:!1});for(var I=!1,P=0;P<M.length;P++){var L=M[P];if(!L.removed){if(D._type!==L.type||(I=!0,R==="capturing"&&!L.capture)||R==="bubbling"&&L.capture)continue;if(L.once&&D._currentTarget!==null){for(var F=D._currentTarget,G=-1,$=0;$<F._eventListenerList.length;$++)if(F._eventListenerList[$]===L){G=$;break}G!==-1&&F._eventListenerList.splice(G,1)}var H=void 0,J=void 0;f.Guard.isWindow(H)&&(J=H._currentEvent,E.invocationTargetInShadowTree===!1&&(H._currentEvent=D)),L.passive&&(D._inPassiveListenerFlag=!0);try{L.callback.handleEvent.call(D._currentTarget,D)}catch{B.value=!0}if(L.passive&&(D._inPassiveListenerFlag=!1),f.Guard.isWindow(H)&&(H._currentEvent=J),D._stopImmediatePropagationFlag)return I}}return I}function S(D,M){return null}function T(D,M){return null}function b(D,M){}function O(D,M){}r.event_setTheCanceledFlag=function(D){D._cancelable&&!D._inPassiveListenerFlag&&(D._canceledFlag=!0)},r.event_initialize=function(D,M,R,E){D._initializedFlag=!0,D._stopPropagationFlag=!1,D._stopImmediatePropagationFlag=!1,D._canceledFlag=!1,D._isTrusted=!1,D._target=null,D._type=M,D._bubbles=R,D._cancelable=E},r.event_createAnEvent=m,r.event_innerEventCreationSteps=d,r.event_dispatch=g,r.event_appendToAnEventPath=x,r.event_invoke=w,r.event_innerInvoke=C,r.event_fireAnEvent=function(D,M,R,E,B){R===void 0&&(R=h.EventImpl);var I=m(R);if(I._type=D,E)for(var P in E)I[P]=E[P];return g(I,M,B)},r.event_createLegacyEvent=function(D){var M=null;switch(D.toLowerCase()){case"beforeunloadevent":case"compositionevent":break;case"customevent":M=l.CustomEventImpl;break;case"devicemotionevent":case"deviceorientationevent":case"dragevent":break;case"event":case"events":M=h.EventImpl}if(M===null)throw new p.NotSupportedError("Event constructor not found for interface "+D+".");var R=new M("");return R._type="",R._timeStamp=new Date().getTime(),R._isTrusted=!1,R._initializedFlag=!1,R},r.event_getterEventHandlerIDLAttribute=function(D,M){return null},r.event_setterEventHandlerIDLAttribute=function(D,M,R){},r.event_determineTheTargetOfAnEventHandler=S,r.event_getTheCurrentValueOfAnEventHandler=T,r.event_activateAnEventHandler=b,r.event_deactivateAnEventHandler=O},function(n,r,a){var i,s=this&&this.__extends||(i=function(x,w){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,S){C.__proto__=S}||function(C,S){for(var T in S)S.hasOwnProperty(T)&&(C[T]=S[T])})(x,w)},function(x,w){function C(){this.constructor=x}i(x,w),x.prototype=w===null?Object.create(w):(C.prototype=w.prototype,new C)}),o=this&&this.__values||function(x){var w=typeof Symbol=="function"&&Symbol.iterator,C=w&&x[w],S=0;if(C)return C.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&S>=x.length&&(x=void 0),{value:x&&x[S++],done:!x}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(x,w){var C=typeof Symbol=="function"&&x[Symbol.iterator];if(!C)return x;var S,T,b=C.call(x),O=[];try{for(;(w===void 0||w-- >0)&&!(S=b.next()).done;)O.push(S.value)}catch(D){T={error:D}}finally{try{S&&!S.done&&(C=b.return)&&C.call(b)}finally{if(T)throw T.error}}return O};Object.defineProperty(r,"__esModule",{value:!0});var u=a(6),f=a(2),l=a(9),h=a(34),p=a(3),v=a(1),y=a(7),_=a(152),m=a(0),d=a(12),g=function(x){function w(){var C=x.call(this)||this;return C._children=new Set,C._encoding={name:"UTF-8",labels:["unicode-1-1-utf-8","utf-8","utf8"]},C._contentType="application/xml",C._URL={scheme:"about",username:"",password:"",host:null,port:null,path:["blank"],query:null,fragment:null,_cannotBeABaseURLFlag:!0,_blobURLEntry:null},C._origin=null,C._type="xml",C._mode="no-quirks",C._documentElement=null,C._hasNamespaces=!1,C._nodeDocumentOverwrite=null,C}return s(w,x),Object.defineProperty(w.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverwrite||this},set:function(C){this._nodeDocumentOverwrite=C},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"implementation",{get:function(){return this._implementation||(this._implementation=m.create_domImplementation(this))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"URL",{get:function(){return _.urlSerializer(this._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"documentURI",{get:function(){return this.URL},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"origin",{get:function(){return"null"},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"compatMode",{get:function(){return this._mode==="quirks"?"BackCompat":"CSS1Compat"},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"characterSet",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"charset",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"inputEncoding",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"contentType",{get:function(){return this._contentType},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"doctype",{get:function(){var C,S;try{for(var T=o(this._children),b=T.next();!b.done;b=T.next()){var O=b.value;if(p.Guard.isDocumentTypeNode(O))return O}}catch(D){C={error:D}}finally{try{b&&!b.done&&(S=T.return)&&S.call(T)}finally{if(C)throw C.error}}return null},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"documentElement",{get:function(){return this._documentElement},enumerable:!0,configurable:!0}),w.prototype.getElementsByTagName=function(C){return m.node_listOfElementsWithQualifiedName(C,this)},w.prototype.getElementsByTagNameNS=function(C,S){return m.node_listOfElementsWithNamespace(C,S,this)},w.prototype.getElementsByClassName=function(C){return m.node_listOfElementsWithClassNames(C,this)},w.prototype.createElement=function(C,S){if(!m.xml_isName(C))throw new l.InvalidCharacterError;this._type==="html"&&(C=C.toLowerCase());var T=null;S!==void 0&&(T=v.isString(S)?S:S.is);var b=this._type==="html"||this._contentType==="application/xhtml+xml"?y.namespace.HTML:null;return m.element_createAnElement(this,C,b,null,T,!0)},w.prototype.createElementNS=function(C,S,T){return m.document_internalCreateElementNS(this,C,S,T)},w.prototype.createDocumentFragment=function(){return m.create_documentFragment(this)},w.prototype.createTextNode=function(C){return m.create_text(this,C)},w.prototype.createCDATASection=function(C){if(this._type==="html")throw new l.NotSupportedError;if(C.indexOf("]]>")!==-1)throw new l.InvalidCharacterError;return m.create_cdataSection(this,C)},w.prototype.createComment=function(C){return m.create_comment(this,C)},w.prototype.createProcessingInstruction=function(C,S){if(!m.xml_isName(C))throw new l.InvalidCharacterError;if(S.indexOf("?>")!==-1)throw new l.InvalidCharacterError;return m.create_processingInstruction(this,C,S)},w.prototype.importNode=function(C,S){if(S===void 0&&(S=!1),p.Guard.isDocumentNode(C)||p.Guard.isShadowRoot(C))throw new l.NotSupportedError;return m.node_clone(C,this,S)},w.prototype.adoptNode=function(C){if(p.Guard.isDocumentNode(C))throw new l.NotSupportedError;if(p.Guard.isShadowRoot(C))throw new l.HierarchyRequestError;return m.document_adopt(C,this),C},w.prototype.createAttribute=function(C){if(!m.xml_isName(C))throw new l.InvalidCharacterError;return this._type==="html"&&(C=C.toLowerCase()),m.create_attr(this,C)},w.prototype.createAttributeNS=function(C,S){var T=c(m.namespace_validateAndExtract(C,S),3),b=T[0],O=T[1],D=T[2],M=m.create_attr(this,D);return M._namespace=b,M._namespacePrefix=O,M},w.prototype.createEvent=function(C){return m.event_createLegacyEvent(C)},w.prototype.createRange=function(){var C=m.create_range();return C._start=[this,0],C._end=[this,0],C},w.prototype.createNodeIterator=function(C,S,T){S===void 0&&(S=f.WhatToShow.All),T===void 0&&(T=null);var b=m.create_nodeIterator(C,C,!0);return b._whatToShow=S,b._iteratorCollection=m.create_nodeList(C),v.isFunction(T)?(b._filter=m.create_nodeFilter(),b._filter.acceptNode=T):b._filter=T,b},w.prototype.createTreeWalker=function(C,S,T){S===void 0&&(S=f.WhatToShow.All),T===void 0&&(T=null);var b=m.create_treeWalker(C,C);return b._whatToShow=S,v.isFunction(T)?(b._filter=m.create_nodeFilter(),b._filter.acceptNode=T):b._filter=T,b},w.prototype._getTheParent=function(C){return C._type==="load"?null:u.dom.window},w.prototype.getElementById=function(C){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(w.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),w.prototype.prepend=function(){for(var C=[],S=0;S<arguments.length;S++)C[S]=arguments[S];throw new Error("Mixin: ParentNode not implemented.")},w.prototype.append=function(){for(var C=[],S=0;S<arguments.length;S++)C[S]=arguments[S];throw new Error("Mixin: ParentNode not implemented.")},w.prototype.querySelector=function(C){throw new Error("Mixin: ParentNode not implemented.")},w.prototype.querySelectorAll=function(C){throw new Error("Mixin: ParentNode not implemented.")},w}(h.NodeImpl);r.DocumentImpl=g,d.idl_defineConst(g.prototype,"_nodeType",f.NodeType.Document)},function(n,r,a){var i,s=this&&this.__extends||(i=function(_,m){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var x in g)g.hasOwnProperty(x)&&(d[x]=g[x])})(_,m)},function(_,m){function d(){this.constructor=_}i(_,m),_.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}),o=this&&this.__values||function(_){var m=typeof Symbol=="function"&&Symbol.iterator,d=m&&_[m],g=0;if(d)return d.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&g>=_.length&&(_=void 0),{value:_&&_[g++],done:!_}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(_,m){var d=typeof Symbol=="function"&&_[Symbol.iterator];if(!d)return _;var g,x,w=d.call(_),C=[];try{for(;(m===void 0||m-- >0)&&!(g=w.next()).done;)C.push(g.value)}catch(S){x={error:S}}finally{try{g&&!g.done&&(d=w.return)&&d.call(w)}finally{if(x)throw x.error}}return C};Object.defineProperty(r,"__esModule",{value:!0});var u=a(2),f=a(34),l=a(9),h=a(7),p=a(0),v=a(12),y=function(_){function m(){var d=_.call(this)||this;return d._children=new Set,d._namespace=null,d._namespacePrefix=null,d._localName="",d._customElementState="undefined",d._customElementDefinition=null,d._is=null,d._shadowRoot=null,d._attributeList=p.create_namedNodeMap(d),d._attributeChangeSteps=[],d._name="",d._assignedSlot=null,d}return s(m,_),Object.defineProperty(m.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"tagName",{get:function(){return this._htmlUppercasedQualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"id",{get:function(){return p.element_getAnAttributeValue(this,"id")},set:function(d){p.element_setAnAttributeValue(this,"id",d)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"className",{get:function(){return p.element_getAnAttributeValue(this,"class")},set:function(d){p.element_setAnAttributeValue(this,"class",d)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"classList",{get:function(){var d=p.element_getAnAttributeByName("class",this);return d===null&&(d=p.create_attr(this._nodeDocument,"class")),p.create_domTokenList(this,d)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"slot",{get:function(){return p.element_getAnAttributeValue(this,"slot")},set:function(d){p.element_setAnAttributeValue(this,"slot",d)},enumerable:!0,configurable:!0}),m.prototype.hasAttributes=function(){return this._attributeList.length!==0},Object.defineProperty(m.prototype,"attributes",{get:function(){return this._attributeList},enumerable:!0,configurable:!0}),m.prototype.getAttributeNames=function(){var d,g,x=[];try{for(var w=o(this._attributeList),C=w.next();!C.done;C=w.next()){var S=C.value;x.push(S._qualifiedName)}}catch(T){d={error:T}}finally{try{C&&!C.done&&(g=w.return)&&g.call(w)}finally{if(d)throw d.error}}return x},m.prototype.getAttribute=function(d){var g=p.element_getAnAttributeByName(d,this);return g?g._value:null},m.prototype.getAttributeNS=function(d,g){var x=p.element_getAnAttributeByNamespaceAndLocalName(d,g,this);return x?x._value:null},m.prototype.setAttribute=function(d,g){if(!p.xml_isName(d))throw new l.InvalidCharacterError;this._namespace===h.namespace.HTML&&this._nodeDocument._type==="html"&&(d=d.toLowerCase());for(var x=null,w=0;w<this._attributeList.length;w++){var C=this._attributeList[w];if(C._qualifiedName===d){x=C;break}}if(x===null)return(x=p.create_attr(this._nodeDocument,d))._value=g,void p.element_append(x,this);p.element_change(x,this,g)},m.prototype.setAttributeNS=function(d,g,x){var w=c(p.namespace_validateAndExtract(d,g),3),C=w[0],S=w[1],T=w[2];p.element_setAnAttributeValue(this,T,x,S,C)},m.prototype.removeAttribute=function(d){p.element_removeAnAttributeByName(d,this)},m.prototype.removeAttributeNS=function(d,g){p.element_removeAnAttributeByNamespaceAndLocalName(d,g,this)},m.prototype.hasAttribute=function(d){this._namespace===h.namespace.HTML&&this._nodeDocument._type==="html"&&(d=d.toLowerCase());for(var g=0;g<this._attributeList.length;g++)if(this._attributeList[g]._qualifiedName===d)return!0;return!1},m.prototype.toggleAttribute=function(d,g){if(!p.xml_isName(d))throw new l.InvalidCharacterError;this._namespace===h.namespace.HTML&&this._nodeDocument._type==="html"&&(d=d.toLowerCase());for(var x=null,w=0;w<this._attributeList.length;w++){var C=this._attributeList[w];if(C._qualifiedName===d){x=C;break}}return x===null?(g===void 0||g===!0)&&((x=p.create_attr(this._nodeDocument,d))._value="",p.element_append(x,this),!0):g!==void 0&&g!==!1||(p.element_removeAnAttributeByName(d,this),!1)},m.prototype.hasAttributeNS=function(d,g){for(var x=d||null,w=0;w<this._attributeList.length;w++){var C=this._attributeList[w];if(C._namespace===x&&C._localName===g)return!0}return!1},m.prototype.getAttributeNode=function(d){return p.element_getAnAttributeByName(d,this)},m.prototype.getAttributeNodeNS=function(d,g){return p.element_getAnAttributeByNamespaceAndLocalName(d,g,this)},m.prototype.setAttributeNode=function(d){return p.element_setAnAttribute(d,this)},m.prototype.setAttributeNodeNS=function(d){return p.element_setAnAttribute(d,this)},m.prototype.removeAttributeNode=function(d){for(var g=!1,x=0;x<this._attributeList.length;x++)if(this._attributeList[x]===d){g=!0;break}if(!g)throw new l.NotFoundError;return p.element_remove(d,this),d},m.prototype.attachShadow=function(d){if(this._namespace!==h.namespace.HTML)throw new l.NotSupportedError;if(!p.customElement_isValidCustomElementName(this._localName)&&!p.customElement_isValidShadowHostName(this._localName))throw new l.NotSupportedError;if(p.customElement_isValidCustomElementName(this._localName)||this._is!==null){var g=p.customElement_lookUpACustomElementDefinition(this._nodeDocument,this._namespace,this._localName,this._is);if(g!==null&&g.disableShadow===!0)throw new l.NotSupportedError}if(this._shadowRoot!==null)throw new l.NotSupportedError;var x=p.create_shadowRoot(this._nodeDocument,this);return x._mode=d.mode,this._shadowRoot=x,x},Object.defineProperty(m.prototype,"shadowRoot",{get:function(){var d=this._shadowRoot;return d===null||d.mode==="closed"?null:d},enumerable:!0,configurable:!0}),m.prototype.closest=function(d){throw new l.NotImplementedError},m.prototype.matches=function(d){throw new l.NotImplementedError},m.prototype.webkitMatchesSelector=function(d){return this.matches(d)},m.prototype.getElementsByTagName=function(d){return p.node_listOfElementsWithQualifiedName(d,this)},m.prototype.getElementsByTagNameNS=function(d,g){return p.node_listOfElementsWithNamespace(d,g,this)},m.prototype.getElementsByClassName=function(d){return p.node_listOfElementsWithClassNames(d,this)},m.prototype.insertAdjacentElement=function(d,g){return p.element_insertAdjacent(this,d,g)},m.prototype.insertAdjacentText=function(d,g){var x=p.create_text(this._nodeDocument,g);p.element_insertAdjacent(this,d,x)},Object.defineProperty(m.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"_htmlUppercasedQualifiedName",{get:function(){var d=this._qualifiedName;return this._namespace===h.namespace.HTML&&this._nodeDocument._type==="html"&&(d=d.toUpperCase()),d},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),m.prototype.prepend=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];throw new Error("Mixin: ParentNode not implemented.")},m.prototype.append=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];throw new Error("Mixin: ParentNode not implemented.")},m.prototype.querySelector=function(d){throw new Error("Mixin: ParentNode not implemented.")},m.prototype.querySelectorAll=function(d){throw new Error("Mixin: ParentNode not implemented.")},Object.defineProperty(m.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),m.prototype.before=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];throw new Error("Mixin: ChildNode not implemented.")},m.prototype.after=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];throw new Error("Mixin: ChildNode not implemented.")},m.prototype.replaceWith=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];throw new Error("Mixin: ChildNode not implemented.")},m.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},Object.defineProperty(m.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),m._create=function(d,g,x,w){x===void 0&&(x=null),w===void 0&&(w=null);var C=new m;return C._localName=g,C._namespace=x,C._namespacePrefix=w,C._nodeDocument=d,C},m}(f.NodeImpl);r.ElementImpl=y,v.idl_defineConst(y.prototype,"_nodeType",u.NodeType.Element)},function(n,r,a){var i,s=this&&this.__extends||(i=function(l,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var y in v)v.hasOwnProperty(y)&&(p[y]=v[y])})(l,h)},function(l,h){function p(){this.constructor=l}i(l,h),l.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(2),c=a(34),u=a(12),f=function(l){function h(p){p===void 0&&(p=null);var v=l.call(this)||this;return v._children=new Set,v._host=p,v}return s(h,l),h.prototype.getElementById=function(p){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(h.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),h.prototype.prepend=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];throw new Error("Mixin: ParentNode not implemented.")},h.prototype.append=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];throw new Error("Mixin: ParentNode not implemented.")},h.prototype.querySelector=function(p){throw new Error("Mixin: ParentNode not implemented.")},h.prototype.querySelectorAll=function(p){throw new Error("Mixin: ParentNode not implemented.")},h._create=function(p,v){v===void 0&&(v=null);var y=new h(v);return y._nodeDocument=p,y},h}(c.NodeImpl);r.DocumentFragmentImpl=f,u.idl_defineConst(f.prototype,"_nodeType",o.NodeType.DocumentFragment)},function(n,r,a){var i,s=this&&this.__extends||(i=function(p,v){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,_){y.__proto__=_}||function(y,_){for(var m in _)_.hasOwnProperty(m)&&(y[m]=_[m])})(p,v)},function(p,v){function y(){this.constructor=p}i(p,v),p.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}),o=this&&this.__values||function(p){var v=typeof Symbol=="function"&&Symbol.iterator,y=v&&p[v],_=0;if(y)return y.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&_>=p.length&&(p=void 0),{value:p&&p[_++],done:!p}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var c=a(2),u=a(71),f=a(0),l=a(12),h=function(p){function v(y){y===void 0&&(y="");var _=p.call(this,y)||this;return _._name="",_._assignedSlot=null,_}return s(v,p),Object.defineProperty(v.prototype,"wholeText",{get:function(){var y,_,m="";try{for(var d=o(f.text_contiguousTextNodes(this,!0)),g=d.next();!g.done;g=d.next())m+=g.value._data}catch(x){y={error:x}}finally{try{g&&!g.done&&(_=d.return)&&_.call(d)}finally{if(y)throw y.error}}return m},enumerable:!0,configurable:!0}),v.prototype.splitText=function(y){return f.text_split(this,y)},Object.defineProperty(v.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),v._create=function(y,_){_===void 0&&(_="");var m=new v(_);return m._nodeDocument=y,m},v}(u.CharacterDataImpl);r.TextImpl=h,l.idl_defineConst(h.prototype,"_nodeType",c.NodeType.Text)},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function s(){}return Object.defineProperty(s.prototype,"_startNode",{get:function(){return this._start[0]},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_startOffset",{get:function(){return this._start[1]},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_endNode",{get:function(){return this._end[0]},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_endOffset",{get:function(){return this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_collapsed",{get:function(){return this._start[0]===this._end[0]&&this._start[1]===this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"startContainer",{get:function(){return this._startNode},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"startOffset",{get:function(){return this._startOffset},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"endContainer",{get:function(){return this._endNode},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"endOffset",{get:function(){return this._endOffset},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"collapsed",{get:function(){return this._collapsed},enumerable:!0,configurable:!0}),s}();r.AbstractRangeImpl=i},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(2),s=function(){function o(c){this._activeFlag=!1,this._root=c,this._whatToShow=i.WhatToShow.All,this._filter=null}return Object.defineProperty(o.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"whatToShow",{get:function(){return this._whatToShow},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),o}();r.TraverserImpl=s},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(2),s=a(0),o=a(12),c=function(){function u(f,l){this._target=null,this._relatedTarget=null,this._touchTargetList=[],this._path=[],this._currentTarget=null,this._eventPhase=i.EventPhase.None,this._stopPropagationFlag=!1,this._stopImmediatePropagationFlag=!1,this._canceledFlag=!1,this._inPassiveListenerFlag=!1,this._composedFlag=!1,this._initializedFlag=!1,this._dispatchFlag=!1,this._isTrusted=!1,this._bubbles=!1,this._cancelable=!1,this._type=f,l&&(this._bubbles=l.bubbles||!1,this._cancelable=l.cancelable||!1,this._composedFlag=l.composed||!1),this._initializedFlag=!0,this._timeStamp=new Date().getTime()}return Object.defineProperty(u.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"srcElement",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),u.prototype.composedPath=function(){var f=[],l=this._path;if(l.length===0)return f;var h=this._currentTarget;if(h===null)throw new Error("Event currentTarget is null.");f.push(h);for(var p=0,v=0,y=l.length-1;y>=0;){if(l[y].rootOfClosedTree&&v++,l[y].invocationTarget===h){p=y;break}l[y].slotInClosedTree&&v--,y--}var _=v,m=v;for(y=p-1;y>=0;)l[y].rootOfClosedTree&&_++,_<=m&&f.unshift(l[y].invocationTarget),l[y].slotInClosedTree&&--_<m&&(m=_),y--;for(_=v,m=v,y=p+1;y<l.length;)l[y].slotInClosedTree&&_++,_<=m&&f.push(l[y].invocationTarget),l[y].rootOfClosedTree&&--_<m&&(m=_),y++;return f},Object.defineProperty(u.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),u.prototype.stopPropagation=function(){this._stopPropagationFlag=!0},Object.defineProperty(u.prototype,"cancelBubble",{get:function(){return this._stopPropagationFlag},set:function(f){f&&this.stopPropagation()},enumerable:!0,configurable:!0}),u.prototype.stopImmediatePropagation=function(){this._stopPropagationFlag=!0,this._stopImmediatePropagationFlag=!0},Object.defineProperty(u.prototype,"bubbles",{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"returnValue",{get:function(){return!this._canceledFlag},set:function(f){f||s.event_setTheCanceledFlag(this)},enumerable:!0,configurable:!0}),u.prototype.preventDefault=function(){s.event_setTheCanceledFlag(this)},Object.defineProperty(u.prototype,"defaultPrevented",{get:function(){return this._canceledFlag},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"composed",{get:function(){return this._composedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"timeStamp",{get:function(){return this._timeStamp},enumerable:!0,configurable:!0}),u.prototype.initEvent=function(f,l,h){l===void 0&&(l=!1),h===void 0&&(h=!1),this._dispatchFlag||s.event_initialize(this,f,l,h)},u.NONE=0,u.CAPTURING_PHASE=1,u.AT_TARGET=2,u.BUBBLING_PHASE=3,u}();r.EventImpl=c,o.idl_defineConst(c.prototype,"NONE",0),o.idl_defineConst(c.prototype,"CAPTURING_PHASE",1),o.idl_defineConst(c.prototype,"AT_TARGET",2),o.idl_defineConst(c.prototype,"BUBBLING_PHASE",3)},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(2),s=a(9);r.traversal_filter=function(o,c){if(o._activeFlag)throw new s.InvalidStateError;var u=1<<c._nodeType-1;if((o.whatToShow&u)==0)return i.FilterResult.Skip;if(!o.filter)return i.FilterResult.Accept;o._activeFlag=!0;var f=i.FilterResult.Reject;try{f=o.filter.acceptNode(c)}catch(l){throw o._activeFlag=!1,l}return o._activeFlag=!1,f}},function(n,r,a){var i=this&&this.__read||function(m,d){var g=typeof Symbol=="function"&&m[Symbol.iterator];if(!g)return m;var x,w,C=g.call(m),S=[];try{for(;(d===void 0||d-- >0)&&!(x=C.next()).done;)S.push(x.value)}catch(T){w={error:T}}finally{try{x&&!x.done&&(g=C.return)&&g.call(C)}finally{if(w)throw w.error}}return S},s=this&&this.__values||function(m){var d=typeof Symbol=="function"&&Symbol.iterator,g=d&&m[d],x=0;if(g)return g.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&x>=m.length&&(m=void 0),{value:m&&m[x++],done:!m}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=a(6),c=a(3),u=a(1),f=a(99),l=a(73),h=a(17),p=a(173),v=a(30),y=a(52),_=a(37);r.document_elementInterface=function(m,d){return f.ElementImpl},r.document_internalCreateElementNS=function(m,d,g,x){var w=i(p.namespace_validateAndExtract(d,g),3),C=w[0],S=w[1],T=w[2],b=null;return x!==void 0&&(b=u.isString(x)?x:x.is),y.element_createAnElement(m,T,C,S,b,!0)},r.document_adopt=function(m,d){var g,x;if(m._nodeDocument!==d||m._parent!==null){var w=m._nodeDocument;if(m._parent&&_.mutation_remove(m,m._parent),d!==w)for(var C=h.tree_getFirstDescendantNode(m,!0,!0);C!==null;){if(C._nodeDocument=d,c.Guard.isElementNode(C))try{for(var S=(g=void 0,s(C._attributeList._asArray())),T=S.next();!T.done;T=S.next())T.value._nodeDocument=d}catch(b){g={error:b}}finally{try{T&&!T.done&&(x=S.return)&&x.call(S)}finally{if(g)throw g.error}}o.dom.features.customElements&&c.Guard.isElementNode(C)&&C._customElementState==="custom"&&l.customElement_enqueueACustomElementCallbackReaction(C,"adoptedCallback",[w,d]),o.dom.features.steps&&v.dom_runAdoptingSteps(C,w),C=h.tree_getNextDescendantNode(m,C,!0,!0)}}}},function(n,r,a){var i=this&&this.__values||function(h){var p=typeof Symbol=="function"&&Symbol.iterator,v=p&&h[p],y=0;if(v)return v.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&y>=h.length&&(h=void 0),{value:h&&h[y++],done:!h}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(6),o=a(3),c=a(9),u=a(17),f=a(51),l=a(30);r.characterData_replaceData=function(h,p,v,y){var _,m,d=u.tree_nodeLength(h);if(p>d)throw new c.IndexSizeError("Offset exceeds character data length. Offset: "+p+", Length: "+d+", Node is "+h.nodeName+".");p+v>d&&(v=d-p),s.dom.features.mutationObservers&&f.observer_queueMutationRecord("characterData",h,null,null,h._data,[],[],null,null);var g=h._data.substring(0,p)+y+h._data.substring(p+v);h._data=g;try{for(var x=i(s.dom.rangeList),w=x.next();!w.done;w=x.next()){var C=w.value;C._start[0]===h&&C._start[1]>p&&C._start[1]<=p+v&&(C._start[1]=p),C._end[0]===h&&C._end[1]>p&&C._end[1]<=p+v&&(C._end[1]=p),C._start[0]===h&&C._start[1]>p+v&&(C._start[1]+=y.length-v),C._end[0]===h&&C._end[1]>p+v&&(C._end[1]+=y.length-v)}}catch(S){_={error:S}}finally{try{w&&!w.done&&(m=x.return)&&m.call(x)}finally{if(_)throw _.error}}s.dom.features.steps&&o.Guard.isTextNode(h)&&h._parent!==null&&l.dom_runChildTextContentChangeSteps(h._parent)},r.characterData_substringData=function(h,p,v){var y=u.tree_nodeLength(h);if(p>y)throw new c.IndexSizeError("Offset exceeds character data length. Offset: "+p+", Length: "+y+", Node is "+h.nodeName+".");return p+v>y?h._data.substr(p):h._data.substr(p,v)}},function(n,r,a){var i=this&&this.__read||function(l,h){var p=typeof Symbol=="function"&&l[Symbol.iterator];if(!p)return l;var v,y,_=p.call(l),m=[];try{for(;(h===void 0||h-- >0)&&!(v=_.next()).done;)m.push(v.value)}catch(d){y={error:d}}finally{try{v&&!v.done&&(p=_.return)&&p.call(_)}finally{if(y)throw y.error}}return m},s=this&&this.__spread||function(){for(var l=[],h=0;h<arguments.length;h++)l=l.concat(i(arguments[h]));return l},o=this&&this.__values||function(l){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&l[h],v=0;if(p)return p.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&v>=l.length&&(l=void 0),{value:l&&l[v++],done:!l}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var c=a(7);function u(l){var h=c.string.splitAStringOnASCIIWhitespace(l);return new Set(h)}function f(l){return s(l).join(" ")}r.orderedSet_parse=u,r.orderedSet_serialize=f,r.orderedSet_sanitize=function(l){return f(u(l))},r.orderedSet_contains=function(l,h,p){var v,y,_,m;try{for(var d=o(h),g=d.next();!g.done;g=d.next()){var x=g.value,w=!1;try{for(var C=(_=void 0,o(l)),S=C.next();!S.done;S=C.next()){var T=S.value;if(p){if(T===x){w=!0;break}}else if(T.toUpperCase()===x.toUpperCase()){w=!0;break}}}catch(b){_={error:b}}finally{try{S&&!S.done&&(m=C.return)&&m.call(C)}finally{if(_)throw _.error}}if(!w)return!1}}catch(b){v={error:b}}finally{try{g&&!g.done&&(y=d.return)&&y.call(d)}finally{if(v)throw v.error}}return!0}},function(n,r,a){a(179),Object.defineProperty(r,"__esModule",{value:!0});var i=a(262),s=a(110),o=a(1);s.dom.setFeatures(!1),r.createDocument=function(){var c=new i.DOMImplementation().createDocument(null,"root",null);return c.documentElement&&c.removeChild(c.documentElement),c},r.sanitizeInput=function(c,u){if(c==null)return c;if(u===void 0)return c+"";var f="";c+="";for(var l=0;l<c.length;l++){var h=c.charCodeAt(l);if(h===9||h===10||h===13||h>=32&&h<=55295||h>=57344&&h<=65533)f+=c.charAt(l);else if(h>=55296&&h<=56319&&l<c.length-1){var p=c.charCodeAt(l+1);p>=56320&&p<=57343?(h=1024*(h-55296)+p-56320+65536,f+=String.fromCodePoint(h),l++):f+=o.isString(u)?u:u(c.charAt(l),l,c)}else f+=o.isString(u)?u:u(c.charAt(l),l,c)}return f}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(1),s=a(153);r.AbortController=s.AbortControllerImpl;var o=a(154);r.AbortSignal=o.AbortSignalImpl;var c=a(102);r.AbstractRange=c.AbstractRangeImpl;var u=a(157);r.Attr=u.AttrImpl;var f=a(158);r.CDATASection=f.CDATASectionImpl;var l=a(71);r.CharacterData=l.CharacterDataImpl;var h=a(263),p=a(159);r.Comment=p.CommentImpl;var v=a(171);r.CustomEvent=v.CustomEventImpl;var y=a(100);r.DocumentFragment=y.DocumentFragmentImpl;var _=a(98);r.Document=_.DocumentImpl;var m=a(264),d=a(155);r.DocumentType=d.DocumentTypeImpl;var g=a(6);r.dom=g.dom;var x=a(148);r.DOMImplementation=x.DOMImplementationImpl;var w=a(170);r.DOMTokenList=w.DOMTokenListImpl;var C=a(99);r.Element=C.ElementImpl;var S=a(104);r.Event=S.EventImpl;var T=a(70);r.EventTarget=T.EventTargetImpl;var b=a(161);r.HTMLCollection=b.HTMLCollectionImpl;var O=a(265);r.MutationObserver=O.MutationObserverImpl;var D=a(169);r.MutationRecord=D.MutationRecordImpl;var M=a(164);r.NamedNodeMap=M.NamedNodeMapImpl;var R=a(168);r.NodeFilter=R.NodeFilterImpl;var E=a(34);r.Node=E.NodeImpl;var B=a(166);r.NodeIterator=B.NodeIteratorImpl;var I=a(162);r.NodeList=I.NodeListImpl;var P=a(163);r.NodeListStatic=P.NodeListStaticImpl;var L=a(266),F=a(267),G=a(268),$=a(160);r.ProcessingInstruction=$.ProcessingInstructionImpl;var H=a(165);r.Range=H.RangeImpl;var J=a(156);r.ShadowRoot=J.ShadowRootImpl;var Q=a(269),q=a(270);r.StaticRange=q.StaticRangeImpl;var ne=a(101);r.Text=ne.TextImpl;var re=a(103);r.Traverser=re.TraverserImpl;var oe=a(167);r.TreeWalker=oe.TreeWalkerImpl;var te=a(149);r.Window=te.WindowImpl;var A=a(151);r.XMLDocument=A.XMLDocumentImpl,i.applyMixin(C.ElementImpl,h.ChildNodeImpl),i.applyMixin(l.CharacterDataImpl,h.ChildNodeImpl),i.applyMixin(d.DocumentTypeImpl,h.ChildNodeImpl),i.applyMixin(_.DocumentImpl,m.DocumentOrShadowRootImpl),i.applyMixin(J.ShadowRootImpl,m.DocumentOrShadowRootImpl),i.applyMixin(C.ElementImpl,L.NonDocumentTypeChildNodeImpl),i.applyMixin(l.CharacterDataImpl,L.NonDocumentTypeChildNodeImpl),i.applyMixin(_.DocumentImpl,F.NonElementParentNodeImpl),i.applyMixin(y.DocumentFragmentImpl,F.NonElementParentNodeImpl),i.applyMixin(_.DocumentImpl,G.ParentNodeImpl),i.applyMixin(y.DocumentFragmentImpl,G.ParentNodeImpl),i.applyMixin(C.ElementImpl,G.ParentNodeImpl),i.applyMixin(ne.TextImpl,Q.SlotableImpl),i.applyMixin(C.ElementImpl,Q.SlotableImpl)},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),function(i){i[i.EOF=0]="EOF",i[i.Declaration=1]="Declaration",i[i.DocType=2]="DocType",i[i.Element=3]="Element",i[i.Text=4]="Text",i[i.CDATA=5]="CDATA",i[i.PI=6]="PI",i[i.Comment=7]="Comment",i[i.ClosingTag=8]="ClosingTag"}(r.TokenType||(r.TokenType={}))},function(n,r,a){a(64),a(20),a(66);var i,s=this&&this.__extends||(i=function(u,f){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var p in h)h.hasOwnProperty(p)&&(l[p]=h[p])})(u,f)},function(u,f){function l(){this.constructor=u}i(u,f),u.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(1),c=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return s(f,u),f.prototype._parse=function(l,h){var p=this,v=this._builderOptions,y=null;return o.isFunction(h)?y=this.parse(l,h.apply(this)):o.isArray(h)||o.isSet(h)?o.forEachArray(h,function(_){return y=p.parse(l,_)},this):o.isMap(h)||o.isObject(h)?o.forEachObject(h,function(_,m){if(o.isFunction(m)&&(m=m.apply(p)),v.ignoreConverters||_.indexOf(v.convert.att)!==0)if(v.ignoreConverters||_.indexOf(v.convert.text)!==0)if(v.ignoreConverters||_.indexOf(v.convert.cdata)!==0)if(v.ignoreConverters||_.indexOf(v.convert.comment)!==0)if(v.ignoreConverters||_.indexOf(v.convert.ins)!==0){if(!((o.isArray(m)||o.isSet(m))&&o.isEmpty(m))){if((o.isMap(m)||o.isObject(m))&&o.isEmpty(m))y=p.element(l,void 0,p.sanitize(_))||y;else if(v.keepNullNodes||m!=null)if(o.isArray(m)||o.isSet(m))o.forEachArray(m,function(C){var S={};S[_]=C,y=p.parse(l,S)},p);else if(o.isMap(m)||o.isObject(m))(d=p.element(l,void 0,p.sanitize(_)))&&(y=d,p.parse(d,m));else if(m!=null&&m!==""){var d;(d=p.element(l,void 0,p.sanitize(_)))&&(y=d,p.text(d,p._decodeText(p.sanitize(m))))}else y=p.element(l,void 0,p.sanitize(_))||y}}else if(o.isString(m)){var g=m.indexOf(" "),x=g===-1?m:m.substr(0,g),w=g===-1?"":m.substr(g+1);y=p.instruction(l,p.sanitize(x),p.sanitize(w))||y}else o.isArray(m)||o.isSet(m)?o.forEachArray(m,function(C){var S=C.indexOf(" "),T=S===-1?C:C.substr(0,S),b=S===-1?"":C.substr(S+1);y=p.instruction(l,p.sanitize(T),p.sanitize(b))||y},p):o.forEachObject(m,function(C,S){return y=p.instruction(l,p.sanitize(C),p.sanitize(S))||y},p);else o.isArray(m)||o.isSet(m)?o.forEachArray(m,function(C){return y=p.comment(l,p.sanitize(C))||y},p):y=p.comment(l,p.sanitize(m))||y;else o.isArray(m)||o.isSet(m)?o.forEachArray(m,function(C){return y=p.cdata(l,p.sanitize(C))||y},p):y=p.cdata(l,p.sanitize(m))||y;else y=o.isMap(m)||o.isObject(m)?p.parse(l,m):p.text(l,p._decodeText(p.sanitize(m)))||y;else if(_===v.convert.att){if(o.isArray(m)||o.isSet(m))throw new Error("Invalid attribute: "+m.toString()+". "+l._debugInfo());o.forEachObject(m,function(C,S){y=p.attribute(l,void 0,p.sanitize(C),p._decodeAttributeValue(p.sanitize(S)))||y})}else y=p.attribute(l,void 0,p.sanitize(_.substr(v.convert.att.length)),p._decodeAttributeValue(p.sanitize(m)))||y},this):(v.keepNullNodes||h!=null)&&(y=this.text(l,this._decodeText(this.sanitize(h)))||y),y||l},f}(a(75).BaseReader);r.ObjectReader=c},function(n,r,a){var i=a(39);n.exports=new i({explicit:[a(286),a(287),a(288)]})},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(s){this.level=0,this._builderOptions=s,this._writerOptions=s};r.BaseCBWriter=i},function(n,r,a){var i=a(16),s=a(8),o=a(116);n.exports=!i&&!s(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!=7})},function(n,r,a){var i=a(11),s=a(13),o=i.document,c=s(o)&&s(o.createElement);n.exports=function(u){return c?o.createElement(u):{}}},function(n,r,a){var i=a(118),s=Function.toString;typeof i.inspectSource!="function"&&(i.inspectSource=function(o){return s.call(o)}),n.exports=i.inspectSource},function(n,r,a){var i=a(11),s=a(80),o=i["__core-js_shared__"]||s("__core-js_shared__",{});n.exports=o},function(n,r,a){var i=a(14),s=a(187),o=a(55),c=a(15);n.exports=function(u,f){for(var l=s(f),h=c.f,p=o.f,v=0;v<l.length;v++){var y=l[v];i(u,y)||h(u,y,p(f,y))}}},function(n,r,a){var i=a(11);n.exports=i},function(n,r,a){var i=a(14),s=a(24),o=a(122).indexOf,c=a(45);n.exports=function(u,f){var l,h=s(u),p=0,v=[];for(l in h)!i(c,l)&&i(h,l)&&v.push(l);for(;f.length>p;)i(h,l=f[p++])&&(~o(v,l)||v.push(l));return v}},function(n,r,a){var i=a(24),s=a(26),o=a(83),c=function(u){return function(f,l,h){var p,v=i(f),y=s(v.length),_=o(h,y);if(u&&l!=l){for(;y>_;)if((p=v[_++])!=p)return!0}else for(;y>_;_++)if((u||_ in v)&&v[_]===l)return u||_||0;return!u&&-1}};n.exports={includes:c(!0),indexOf:c(!1)}},function(n,r,a){var i=a(8),s=/#|\.prototype\./,o=function(h,p){var v=u[c(h)];return v==l||v!=f&&(typeof p=="function"?i(p):!!p)},c=o.normalize=function(h){return String(h).replace(s,".").toLowerCase()},u=o.data={},f=o.NATIVE="N",l=o.POLYFILL="P";n.exports=o},function(n,r,a){var i=a(86);n.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(n,r,a){var i=a(5);r.f=i},function(n,r,a){var i=a(120),s=a(14),o=a(125),c=a(15).f;n.exports=function(u){var f=i.Symbol||(i.Symbol={});s(f,u)||c(f,u,{value:o.f(u)})}},function(n,r){n.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},function(n,r,a){var i=a(13),s=a(59),o=a(5)("species");n.exports=function(c,u){var f;return s(c)&&(typeof(f=c.constructor)!="function"||f!==Array&&!s(f.prototype)?i(f)&&(f=f[o])===null&&(f=void 0):f=void 0),new(f===void 0?Array:f)(u===0?0:u)}},function(n,r,a){var i,s,o=a(11),c=a(193),u=o.process,f=u&&u.versions,l=f&&f.v8;l?s=(i=l.split("."))[0]+i[1]:c&&(!(i=c.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=c.match(/Chrome\/(\d+)/))&&(s=i[1]),n.exports=s&&+s},function(n,r,a){var i=a(5),s=a(60),o=a(15),c=i("unscopables"),u=Array.prototype;u[c]==null&&o.f(u,c,{configurable:!0,value:s(null)}),n.exports=function(f){u[c][f]=!0}},function(n,r,a){var i,s,o,c=a(132),u=a(21),f=a(14),l=a(5),h=a(44),p=l("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(s=c(c(o)))!==Object.prototype&&(i=s):v=!0),i==null&&(i={}),h||f(i,p)||u(i,p,function(){return this}),n.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:v}},function(n,r,a){var i=a(14),s=a(27),o=a(57),c=a(196),u=o("IE_PROTO"),f=Object.prototype;n.exports=c?Object.getPrototypeOf:function(l){return l=s(l),i(l,u)?l[u]:typeof l.constructor=="function"&&l instanceof l.constructor?l.constructor.prototype:l instanceof Object?f:null}},function(n,r,a){var i=a(18),s=a(197);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var o,c=!1,u={};try{(o=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(u,[]),c=u instanceof Array}catch{}return function(f,l){return i(f),s(l),c?o.call(f,l):f.__proto__=l,f}}():void 0)},function(n,r,a){var i=a(56),s=a(15),o=a(40);n.exports=function(c,u,f){var l=i(u);l in c?s.f(c,l,o(0,f)):c[l]=f}},function(n,r,a){var i=a(90),s=a(42),o=a(5)("toStringTag"),c=s(function(){return arguments}())=="Arguments";n.exports=i?s:function(u){var f,l,h;return u===void 0?"Undefined":u===null?"Null":typeof(l=function(p,v){try{return p[v]}catch{}}(f=Object(u),o))=="string"?l:c?s(f):(h=s(f))=="Object"&&typeof f.callee=="function"?"Arguments":h}},function(n,r,a){var i=a(18);n.exports=function(){var s=i(this),o="";return s.global&&(o+="g"),s.ignoreCase&&(o+="i"),s.multiline&&(o+="m"),s.dotAll&&(o+="s"),s.unicode&&(o+="u"),s.sticky&&(o+="y"),o}},function(n,r,a){var i=a(47),s=a(35),o=function(c){return function(u,f){var l,h,p=String(s(u)),v=i(f),y=p.length;return v<0||v>=y?c?"":void 0:(l=p.charCodeAt(v))<55296||l>56319||v+1===y||(h=p.charCodeAt(v+1))<56320||h>57343?c?p.charAt(v):l:c?p.slice(v,v+2):h-56320+(l-55296<<10)+65536}};n.exports={codeAt:o(!1),charAt:o(!0)}},function(n,r,a){var i=a(4),s=a(27),o=a(61);i({target:"Object",stat:!0,forced:a(8)(function(){o(1)})},{keys:function(c){return o(s(c))}})},function(n,r,a){var i=a(4),s=a(11),o=a(123),c=a(25),u=a(140),f=a(141),l=a(142),h=a(13),p=a(8),v=a(208),y=a(62),_=a(209);n.exports=function(m,d,g){var x=m.indexOf("Map")!==-1,w=m.indexOf("Weak")!==-1,C=x?"set":"add",S=s[m],T=S&&S.prototype,b=S,O={},D=function(P){var L=T[P];c(T,P,P=="add"?function(F){return L.call(this,F===0?0:F),this}:P=="delete"?function(F){return!(w&&!h(F))&&L.call(this,F===0?0:F)}:P=="get"?function(F){return w&&!h(F)?void 0:L.call(this,F===0?0:F)}:P=="has"?function(F){return!(w&&!h(F))&&L.call(this,F===0?0:F)}:function(F,G){return L.call(this,F===0?0:F,G),this})};if(o(m,typeof S!="function"||!(w||T.forEach&&!p(function(){new S().entries().next()}))))b=g.getConstructor(d,m,x,C),u.REQUIRED=!0;else if(o(m,!0)){var M=new b,R=M[C](w?{}:-0,1)!=M,E=p(function(){M.has(1)}),B=v(function(P){new S(P)}),I=!w&&p(function(){for(var P=new S,L=5;L--;)P[C](L,L);return!P.has(-0)});B||((b=d(function(P,L){l(P,b,m);var F=_(new S,P,b);return L!=null&&f(L,F[C],F,x),F})).prototype=T,T.constructor=b),(E||I)&&(D("delete"),D("has"),x&&D("get")),(I||R)&&D(C),w&&T.clear&&delete T.clear}return O[m]=b,i({global:!0,forced:b!=S},O),y(b,m),w||g.setStrong(b,m,x),b}},function(n,r,a){var i=a(45),s=a(13),o=a(14),c=a(15).f,u=a(58),f=a(204),l=u("meta"),h=0,p=Object.isExtensible||function(){return!0},v=function(_){c(_,l,{value:{objectID:"O"+ ++h,weakData:{}}})},y=n.exports={REQUIRED:!1,fastKey:function(_,m){if(!s(_))return typeof _=="symbol"?_:(typeof _=="string"?"S":"P")+_;if(!o(_,l)){if(!p(_))return"F";if(!m)return"E";v(_)}return _[l].objectID},getWeakData:function(_,m){if(!o(_,l)){if(!p(_))return!0;if(!m)return!1;v(_)}return _[l].weakData},onFreeze:function(_){return f&&y.REQUIRED&&p(_)&&!o(_,l)&&v(_),_}};i[l]=!0},function(n,r,a){var i=a(18),s=a(205),o=a(26),c=a(87),u=a(206),f=a(207),l=function(h,p){this.stopped=h,this.result=p};(n.exports=function(h,p,v,y,_){var m,d,g,x,w,C,S,T=c(p,v,y?2:1);if(_)m=h;else{if(typeof(d=u(h))!="function")throw TypeError("Target is not iterable");if(s(d)){for(g=0,x=o(h.length);x>g;g++)if((w=y?T(i(S=h[g])[0],S[1]):T(h[g]))&&w instanceof l)return w;return new l(!1)}m=d.call(h)}for(C=m.next;!(S=C.call(m)).done;)if(typeof(w=f(m,T,S.value,y))=="object"&&w&&w instanceof l)return w;return new l(!1)}).stop=function(h){return new l(!0,h)}},function(n,r){n.exports=function(a,i,s){if(!(a instanceof i))throw TypeError("Incorrect "+(s?s+" ":"")+"invocation");return a}},function(n,r,a){var i=a(15).f,s=a(60),o=a(210),c=a(87),u=a(142),f=a(141),l=a(88),h=a(211),p=a(16),v=a(140).fastKey,y=a(43),_=y.set,m=y.getterFor;n.exports={getConstructor:function(d,g,x,w){var C=d(function(O,D){u(O,C,g),_(O,{type:g,index:s(null),first:void 0,last:void 0,size:0}),p||(O.size=0),D!=null&&f(D,O[w],O,x)}),S=m(g),T=function(O,D,M){var R,E,B=S(O),I=b(O,D);return I?I.value=M:(B.last=I={index:E=v(D,!0),key:D,value:M,previous:R=B.last,next:void 0,removed:!1},B.first||(B.first=I),R&&(R.next=I),p?B.size++:O.size++,E!=="F"&&(B.index[E]=I)),O},b=function(O,D){var M,R=S(O),E=v(D);if(E!=="F")return R.index[E];for(M=R.first;M;M=M.next)if(M.key==D)return M};return o(C.prototype,{clear:function(){for(var O=S(this),D=O.index,M=O.first;M;)M.removed=!0,M.previous&&(M.previous=M.previous.next=void 0),delete D[M.index],M=M.next;O.first=O.last=void 0,p?O.size=0:this.size=0},delete:function(O){var D=S(this),M=b(this,O);if(M){var R=M.next,E=M.previous;delete D.index[M.index],M.removed=!0,E&&(E.next=R),R&&(R.previous=E),D.first==M&&(D.first=R),D.last==M&&(D.last=E),p?D.size--:this.size--}return!!M},forEach:function(O){for(var D,M=S(this),R=c(O,arguments.length>1?arguments[1]:void 0,3);D=D?D.next:M.first;)for(R(D.value,D.key,this);D&&D.removed;)D=D.previous},has:function(O){return!!b(this,O)}}),o(C.prototype,x?{get:function(O){var D=b(this,O);return D&&D.value},set:function(O,D){return T(this,O===0?0:O,D)}}:{add:function(O){return T(this,O=O===0?0:O,O)}}),p&&i(C.prototype,"size",{get:function(){return S(this).size}}),C},setStrong:function(d,g,x){var w=g+" Iterator",C=m(g),S=m(w);l(d,g,function(T,b){_(this,{type:w,target:T,state:C(T),kind:b,last:void 0})},function(){for(var T=S(this),b=T.kind,O=T.last;O&&O.removed;)O=O.previous;return T.target&&(T.last=O=O?O.next:T.state.first)?b=="keys"?{value:O.key,done:!1}:b=="values"?{value:O.value,done:!1}:{value:[O.key,O.value],done:!1}:(T.target=void 0,{value:void 0,done:!0})},x?"entries":"values",!x,!0),h(g)}}},function(n,r,a){var i,s=a(4),o=a(55).f,c=a(26),u=a(222),f=a(35),l=a(224),h=a(44),p="".endsWith,v=Math.min,y=l("endsWith");s({target:"String",proto:!0,forced:!!(h||y||(i=o(String.prototype,"endsWith"),!i||i.writable))&&!y},{endsWith:function(_){var m=String(f(this));u(_);var d=arguments.length>1?arguments[1]:void 0,g=c(m.length),x=d===void 0?g:v(c(d),g),w=String(_);return p?p.call(m,w,x):m.slice(x-w.length,x)===w}})},function(n,r,a){(function(i){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var s=a(229),o=a(230),c=a(231);function u(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(A,N){if(u()<N)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(A=new Uint8Array(N)).__proto__=l.prototype:(A===null&&(A=new l(N)),A.length=N),A}function l(A,N,U){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(A,N,U);if(typeof A=="number"){if(typeof N=="string")throw new Error("If encoding is specified then the first argument must be a string");return v(this,A)}return h(this,A,N,U)}function h(A,N,U,V){if(typeof N=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&N instanceof ArrayBuffer?function(k,z,j,K){if(z.byteLength,j<0||z.byteLength<j)throw new RangeError("'offset' is out of bounds");if(z.byteLength<j+(K||0))throw new RangeError("'length' is out of bounds");return z=j===void 0&&K===void 0?new Uint8Array(z):K===void 0?new Uint8Array(z,j):new Uint8Array(z,j,K),l.TYPED_ARRAY_SUPPORT?(k=z).__proto__=l.prototype:k=y(k,z),k}(A,N,U,V):typeof N=="string"?function(k,z,j){if(typeof j=="string"&&j!==""||(j="utf8"),!l.isEncoding(j))throw new TypeError('"encoding" must be a valid string encoding');var K=0|m(z,j),X=(k=f(k,K)).write(z,j);return X!==K&&(k=k.slice(0,X)),k}(A,N,U):function(k,z){if(l.isBuffer(z)){var j=0|_(z.length);return(k=f(k,j)).length===0||z.copy(k,0,0,j),k}if(z){if(typeof ArrayBuffer!="undefined"&&z.buffer instanceof ArrayBuffer||"length"in z)return typeof z.length!="number"||(K=z.length)!=K?f(k,0):y(k,z);if(z.type==="Buffer"&&c(z.data))return y(k,z.data)}var K;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(A,N)}function p(A){if(typeof A!="number")throw new TypeError('"size" argument must be a number');if(A<0)throw new RangeError('"size" argument must not be negative')}function v(A,N){if(p(N),A=f(A,N<0?0:0|_(N)),!l.TYPED_ARRAY_SUPPORT)for(var U=0;U<N;++U)A[U]=0;return A}function y(A,N){var U=N.length<0?0:0|_(N.length);A=f(A,U);for(var V=0;V<U;V+=1)A[V]=255&N[V];return A}function _(A){if(A>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|A}function m(A,N){if(l.isBuffer(A))return A.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(A)||A instanceof ArrayBuffer))return A.byteLength;typeof A!="string"&&(A=""+A);var U=A.length;if(U===0)return 0;for(var V=!1;;)switch(N){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":case void 0:return re(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*U;case"hex":return U>>>1;case"base64":return oe(A).length;default:if(V)return re(A).length;N=(""+N).toLowerCase(),V=!0}}function d(A,N,U){var V=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0)<=(N>>>=0))return"";for(A||(A="utf8");;)switch(A){case"hex":return I(this,N,U);case"utf8":case"utf-8":return R(this,N,U);case"ascii":return E(this,N,U);case"latin1":case"binary":return B(this,N,U);case"base64":return M(this,N,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,N,U);default:if(V)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),V=!0}}function g(A,N,U){var V=A[N];A[N]=A[U],A[U]=V}function x(A,N,U,V,k){if(A.length===0)return-1;if(typeof U=="string"?(V=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),U=+U,isNaN(U)&&(U=k?0:A.length-1),U<0&&(U=A.length+U),U>=A.length){if(k)return-1;U=A.length-1}else if(U<0){if(!k)return-1;U=0}if(typeof N=="string"&&(N=l.from(N,V)),l.isBuffer(N))return N.length===0?-1:w(A,N,U,V,k);if(typeof N=="number")return N&=255,l.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?k?Uint8Array.prototype.indexOf.call(A,N,U):Uint8Array.prototype.lastIndexOf.call(A,N,U):w(A,[N],U,V,k);throw new TypeError("val must be string, number or Buffer")}function w(A,N,U,V,k){var z,j=1,K=A.length,X=N.length;if(V!==void 0&&((V=String(V).toLowerCase())==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(A.length<2||N.length<2)return-1;j=2,K/=2,X/=2,U/=2}function Z(pe,ve){return j===1?pe[ve]:pe.readUInt16BE(ve*j)}if(k){var ae=-1;for(z=U;z<K;z++)if(Z(A,z)===Z(N,ae===-1?0:z-ae)){if(ae===-1&&(ae=z),z-ae+1===X)return ae*j}else ae!==-1&&(z-=z-ae),ae=-1}else for(U+X>K&&(U=K-X),z=U;z>=0;z--){for(var ue=!0,ie=0;ie<X;ie++)if(Z(A,z+ie)!==Z(N,ie)){ue=!1;break}if(ue)return z}return-1}function C(A,N,U,V){U=Number(U)||0;var k=A.length-U;V?(V=Number(V))>k&&(V=k):V=k;var z=N.length;if(z%2!=0)throw new TypeError("Invalid hex string");V>z/2&&(V=z/2);for(var j=0;j<V;++j){var K=parseInt(N.substr(2*j,2),16);if(isNaN(K))return j;A[U+j]=K}return j}function S(A,N,U,V){return te(re(N,A.length-U),A,U,V)}function T(A,N,U,V){return te(function(k){for(var z=[],j=0;j<k.length;++j)z.push(255&k.charCodeAt(j));return z}(N),A,U,V)}function b(A,N,U,V){return T(A,N,U,V)}function O(A,N,U,V){return te(oe(N),A,U,V)}function D(A,N,U,V){return te(function(k,z){for(var j,K,X,Z=[],ae=0;ae<k.length&&!((z-=2)<0);++ae)j=k.charCodeAt(ae),K=j>>8,X=j%256,Z.push(X),Z.push(K);return Z}(N,A.length-U),A,U,V)}function M(A,N,U){return N===0&&U===A.length?s.fromByteArray(A):s.fromByteArray(A.slice(N,U))}function R(A,N,U){U=Math.min(A.length,U);for(var V=[],k=N;k<U;){var z,j,K,X,Z=A[k],ae=null,ue=Z>239?4:Z>223?3:Z>191?2:1;if(k+ue<=U)switch(ue){case 1:Z<128&&(ae=Z);break;case 2:(192&(z=A[k+1]))==128&&(X=(31&Z)<<6|63&z)>127&&(ae=X);break;case 3:z=A[k+1],j=A[k+2],(192&z)==128&&(192&j)==128&&(X=(15&Z)<<12|(63&z)<<6|63&j)>2047&&(X<55296||X>57343)&&(ae=X);break;case 4:z=A[k+1],j=A[k+2],K=A[k+3],(192&z)==128&&(192&j)==128&&(192&K)==128&&(X=(15&Z)<<18|(63&z)<<12|(63&j)<<6|63&K)>65535&&X<1114112&&(ae=X)}ae===null?(ae=65533,ue=1):ae>65535&&(ae-=65536,V.push(ae>>>10&1023|55296),ae=56320|1023&ae),V.push(ae),k+=ue}return function(ie){var pe=ie.length;if(pe<=4096)return String.fromCharCode.apply(String,ie);for(var ve="",ce=0;ce<pe;)ve+=String.fromCharCode.apply(String,ie.slice(ce,ce+=4096));return ve}(V)}r.Buffer=l,r.SlowBuffer=function(A){return+A!=A&&(A=0),l.alloc(+A)},r.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=i.TYPED_ARRAY_SUPPORT!==void 0?i.TYPED_ARRAY_SUPPORT:function(){try{var A=new Uint8Array(1);return A.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},A.foo()===42&&typeof A.subarray=="function"&&A.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=u(),l.poolSize=8192,l._augment=function(A){return A.__proto__=l.prototype,A},l.from=function(A,N,U){return h(null,A,N,U)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(A,N,U){return function(V,k,z,j){return p(k),k<=0?f(V,k):z!==void 0?typeof j=="string"?f(V,k).fill(z,j):f(V,k).fill(z):f(V,k)}(null,A,N,U)},l.allocUnsafe=function(A){return v(null,A)},l.allocUnsafeSlow=function(A){return v(null,A)},l.isBuffer=function(A){return!(A==null||!A._isBuffer)},l.compare=function(A,N){if(!l.isBuffer(A)||!l.isBuffer(N))throw new TypeError("Arguments must be Buffers");if(A===N)return 0;for(var U=A.length,V=N.length,k=0,z=Math.min(U,V);k<z;++k)if(A[k]!==N[k]){U=A[k],V=N[k];break}return U<V?-1:V<U?1:0},l.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(A,N){if(!c(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return l.alloc(0);var U;if(N===void 0)for(N=0,U=0;U<A.length;++U)N+=A[U].length;var V=l.allocUnsafe(N),k=0;for(U=0;U<A.length;++U){var z=A[U];if(!l.isBuffer(z))throw new TypeError('"list" argument must be an Array of Buffers');z.copy(V,k),k+=z.length}return V},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var N=0;N<A;N+=2)g(this,N,N+1);return this},l.prototype.swap32=function(){var A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var N=0;N<A;N+=4)g(this,N,N+3),g(this,N+1,N+2);return this},l.prototype.swap64=function(){var A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var N=0;N<A;N+=8)g(this,N,N+7),g(this,N+1,N+6),g(this,N+2,N+5),g(this,N+3,N+4);return this},l.prototype.toString=function(){var A=0|this.length;return A===0?"":arguments.length===0?R(this,0,A):d.apply(this,arguments)},l.prototype.equals=function(A){if(!l.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A||l.compare(this,A)===0},l.prototype.inspect=function(){var A="",N=r.INSPECT_MAX_BYTES;return this.length>0&&(A=this.toString("hex",0,N).match(/.{2}/g).join(" "),this.length>N&&(A+=" ... ")),"<Buffer "+A+">"},l.prototype.compare=function(A,N,U,V,k){if(!l.isBuffer(A))throw new TypeError("Argument must be a Buffer");if(N===void 0&&(N=0),U===void 0&&(U=A?A.length:0),V===void 0&&(V=0),k===void 0&&(k=this.length),N<0||U>A.length||V<0||k>this.length)throw new RangeError("out of range index");if(V>=k&&N>=U)return 0;if(V>=k)return-1;if(N>=U)return 1;if(this===A)return 0;for(var z=(k>>>=0)-(V>>>=0),j=(U>>>=0)-(N>>>=0),K=Math.min(z,j),X=this.slice(V,k),Z=A.slice(N,U),ae=0;ae<K;++ae)if(X[ae]!==Z[ae]){z=X[ae],j=Z[ae];break}return z<j?-1:j<z?1:0},l.prototype.includes=function(A,N,U){return this.indexOf(A,N,U)!==-1},l.prototype.indexOf=function(A,N,U){return x(this,A,N,U,!0)},l.prototype.lastIndexOf=function(A,N,U){return x(this,A,N,U,!1)},l.prototype.write=function(A,N,U,V){if(N===void 0)V="utf8",U=this.length,N=0;else if(U===void 0&&typeof N=="string")V=N,U=this.length,N=0;else{if(!isFinite(N))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");N|=0,isFinite(U)?(U|=0,V===void 0&&(V="utf8")):(V=U,U=void 0)}var k=this.length-N;if((U===void 0||U>k)&&(U=k),A.length>0&&(U<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");V||(V="utf8");for(var z=!1;;)switch(V){case"hex":return C(this,A,N,U);case"utf8":case"utf-8":return S(this,A,N,U);case"ascii":return T(this,A,N,U);case"latin1":case"binary":return b(this,A,N,U);case"base64":return O(this,A,N,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,A,N,U);default:if(z)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase(),z=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(A,N,U){var V="";U=Math.min(A.length,U);for(var k=N;k<U;++k)V+=String.fromCharCode(127&A[k]);return V}function B(A,N,U){var V="";U=Math.min(A.length,U);for(var k=N;k<U;++k)V+=String.fromCharCode(A[k]);return V}function I(A,N,U){var V=A.length;(!N||N<0)&&(N=0),(!U||U<0||U>V)&&(U=V);for(var k="",z=N;z<U;++z)k+=ne(A[z]);return k}function P(A,N,U){for(var V=A.slice(N,U),k="",z=0;z<V.length;z+=2)k+=String.fromCharCode(V[z]+256*V[z+1]);return k}function L(A,N,U){if(A%1!=0||A<0)throw new RangeError("offset is not uint");if(A+N>U)throw new RangeError("Trying to access beyond buffer length")}function F(A,N,U,V,k,z){if(!l.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>k||N<z)throw new RangeError('"value" argument is out of bounds');if(U+V>A.length)throw new RangeError("Index out of range")}function G(A,N,U,V){N<0&&(N=65535+N+1);for(var k=0,z=Math.min(A.length-U,2);k<z;++k)A[U+k]=(N&255<<8*(V?k:1-k))>>>8*(V?k:1-k)}function $(A,N,U,V){N<0&&(N=4294967295+N+1);for(var k=0,z=Math.min(A.length-U,4);k<z;++k)A[U+k]=N>>>8*(V?k:3-k)&255}function H(A,N,U,V,k,z){if(U+V>A.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function J(A,N,U,V,k){return k||H(A,0,U,4),o.write(A,N,U,V,23,4),U+4}function Q(A,N,U,V,k){return k||H(A,0,U,8),o.write(A,N,U,V,52,8),U+8}l.prototype.slice=function(A,N){var U,V=this.length;if((A=~~A)<0?(A+=V)<0&&(A=0):A>V&&(A=V),(N=N===void 0?V:~~N)<0?(N+=V)<0&&(N=0):N>V&&(N=V),N<A&&(N=A),l.TYPED_ARRAY_SUPPORT)(U=this.subarray(A,N)).__proto__=l.prototype;else{var k=N-A;U=new l(k,void 0);for(var z=0;z<k;++z)U[z]=this[z+A]}return U},l.prototype.readUIntLE=function(A,N,U){A|=0,N|=0,U||L(A,N,this.length);for(var V=this[A],k=1,z=0;++z<N&&(k*=256);)V+=this[A+z]*k;return V},l.prototype.readUIntBE=function(A,N,U){A|=0,N|=0,U||L(A,N,this.length);for(var V=this[A+--N],k=1;N>0&&(k*=256);)V+=this[A+--N]*k;return V},l.prototype.readUInt8=function(A,N){return N||L(A,1,this.length),this[A]},l.prototype.readUInt16LE=function(A,N){return N||L(A,2,this.length),this[A]|this[A+1]<<8},l.prototype.readUInt16BE=function(A,N){return N||L(A,2,this.length),this[A]<<8|this[A+1]},l.prototype.readUInt32LE=function(A,N){return N||L(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},l.prototype.readUInt32BE=function(A,N){return N||L(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},l.prototype.readIntLE=function(A,N,U){A|=0,N|=0,U||L(A,N,this.length);for(var V=this[A],k=1,z=0;++z<N&&(k*=256);)V+=this[A+z]*k;return V>=(k*=128)&&(V-=Math.pow(2,8*N)),V},l.prototype.readIntBE=function(A,N,U){A|=0,N|=0,U||L(A,N,this.length);for(var V=N,k=1,z=this[A+--V];V>0&&(k*=256);)z+=this[A+--V]*k;return z>=(k*=128)&&(z-=Math.pow(2,8*N)),z},l.prototype.readInt8=function(A,N){return N||L(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},l.prototype.readInt16LE=function(A,N){N||L(A,2,this.length);var U=this[A]|this[A+1]<<8;return 32768&U?4294901760|U:U},l.prototype.readInt16BE=function(A,N){N||L(A,2,this.length);var U=this[A+1]|this[A]<<8;return 32768&U?4294901760|U:U},l.prototype.readInt32LE=function(A,N){return N||L(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},l.prototype.readInt32BE=function(A,N){return N||L(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},l.prototype.readFloatLE=function(A,N){return N||L(A,4,this.length),o.read(this,A,!0,23,4)},l.prototype.readFloatBE=function(A,N){return N||L(A,4,this.length),o.read(this,A,!1,23,4)},l.prototype.readDoubleLE=function(A,N){return N||L(A,8,this.length),o.read(this,A,!0,52,8)},l.prototype.readDoubleBE=function(A,N){return N||L(A,8,this.length),o.read(this,A,!1,52,8)},l.prototype.writeUIntLE=function(A,N,U,V){A=+A,N|=0,U|=0,V||F(this,A,N,U,Math.pow(2,8*U)-1,0);var k=1,z=0;for(this[N]=255&A;++z<U&&(k*=256);)this[N+z]=A/k&255;return N+U},l.prototype.writeUIntBE=function(A,N,U,V){A=+A,N|=0,U|=0,V||F(this,A,N,U,Math.pow(2,8*U)-1,0);var k=U-1,z=1;for(this[N+k]=255&A;--k>=0&&(z*=256);)this[N+k]=A/z&255;return N+U},l.prototype.writeUInt8=function(A,N,U){return A=+A,N|=0,U||F(this,A,N,1,255,0),l.TYPED_ARRAY_SUPPORT||(A=Math.floor(A)),this[N]=255&A,N+1},l.prototype.writeUInt16LE=function(A,N,U){return A=+A,N|=0,U||F(this,A,N,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[N]=255&A,this[N+1]=A>>>8):G(this,A,N,!0),N+2},l.prototype.writeUInt16BE=function(A,N,U){return A=+A,N|=0,U||F(this,A,N,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[N]=A>>>8,this[N+1]=255&A):G(this,A,N,!1),N+2},l.prototype.writeUInt32LE=function(A,N,U){return A=+A,N|=0,U||F(this,A,N,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[N+3]=A>>>24,this[N+2]=A>>>16,this[N+1]=A>>>8,this[N]=255&A):$(this,A,N,!0),N+4},l.prototype.writeUInt32BE=function(A,N,U){return A=+A,N|=0,U||F(this,A,N,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[N]=A>>>24,this[N+1]=A>>>16,this[N+2]=A>>>8,this[N+3]=255&A):$(this,A,N,!1),N+4},l.prototype.writeIntLE=function(A,N,U,V){if(A=+A,N|=0,!V){var k=Math.pow(2,8*U-1);F(this,A,N,U,k-1,-k)}var z=0,j=1,K=0;for(this[N]=255&A;++z<U&&(j*=256);)A<0&&K===0&&this[N+z-1]!==0&&(K=1),this[N+z]=(A/j>>0)-K&255;return N+U},l.prototype.writeIntBE=function(A,N,U,V){if(A=+A,N|=0,!V){var k=Math.pow(2,8*U-1);F(this,A,N,U,k-1,-k)}var z=U-1,j=1,K=0;for(this[N+z]=255&A;--z>=0&&(j*=256);)A<0&&K===0&&this[N+z+1]!==0&&(K=1),this[N+z]=(A/j>>0)-K&255;return N+U},l.prototype.writeInt8=function(A,N,U){return A=+A,N|=0,U||F(this,A,N,1,127,-128),l.TYPED_ARRAY_SUPPORT||(A=Math.floor(A)),A<0&&(A=255+A+1),this[N]=255&A,N+1},l.prototype.writeInt16LE=function(A,N,U){return A=+A,N|=0,U||F(this,A,N,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[N]=255&A,this[N+1]=A>>>8):G(this,A,N,!0),N+2},l.prototype.writeInt16BE=function(A,N,U){return A=+A,N|=0,U||F(this,A,N,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[N]=A>>>8,this[N+1]=255&A):G(this,A,N,!1),N+2},l.prototype.writeInt32LE=function(A,N,U){return A=+A,N|=0,U||F(this,A,N,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[N]=255&A,this[N+1]=A>>>8,this[N+2]=A>>>16,this[N+3]=A>>>24):$(this,A,N,!0),N+4},l.prototype.writeInt32BE=function(A,N,U){return A=+A,N|=0,U||F(this,A,N,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),l.TYPED_ARRAY_SUPPORT?(this[N]=A>>>24,this[N+1]=A>>>16,this[N+2]=A>>>8,this[N+3]=255&A):$(this,A,N,!1),N+4},l.prototype.writeFloatLE=function(A,N,U){return J(this,A,N,!0,U)},l.prototype.writeFloatBE=function(A,N,U){return J(this,A,N,!1,U)},l.prototype.writeDoubleLE=function(A,N,U){return Q(this,A,N,!0,U)},l.prototype.writeDoubleBE=function(A,N,U){return Q(this,A,N,!1,U)},l.prototype.copy=function(A,N,U,V){if(U||(U=0),V||V===0||(V=this.length),N>=A.length&&(N=A.length),N||(N=0),V>0&&V<U&&(V=U),V===U||A.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("sourceStart out of bounds");if(V<0)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length),A.length-N<V-U&&(V=A.length-N+U);var k,z=V-U;if(this===A&&U<N&&N<V)for(k=z-1;k>=0;--k)A[k+N]=this[k+U];else if(z<1e3||!l.TYPED_ARRAY_SUPPORT)for(k=0;k<z;++k)A[k+N]=this[k+U];else Uint8Array.prototype.set.call(A,this.subarray(U,U+z),N);return z},l.prototype.fill=function(A,N,U,V){if(typeof A=="string"){if(typeof N=="string"?(V=N,N=0,U=this.length):typeof U=="string"&&(V=U,U=this.length),A.length===1){var k=A.charCodeAt(0);k<256&&(A=k)}if(V!==void 0&&typeof V!="string")throw new TypeError("encoding must be a string");if(typeof V=="string"&&!l.isEncoding(V))throw new TypeError("Unknown encoding: "+V)}else typeof A=="number"&&(A&=255);if(N<0||this.length<N||this.length<U)throw new RangeError("Out of range index");if(U<=N)return this;var z;if(N>>>=0,U=U===void 0?this.length:U>>>0,A||(A=0),typeof A=="number")for(z=N;z<U;++z)this[z]=A;else{var j=l.isBuffer(A)?A:re(new l(A,V).toString()),K=j.length;for(z=0;z<U-N;++z)this[z+N]=j[z%K]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function ne(A){return A<16?"0"+A.toString(16):A.toString(16)}function re(A,N){var U;N=N||1/0;for(var V=A.length,k=null,z=[],j=0;j<V;++j){if((U=A.charCodeAt(j))>55295&&U<57344){if(!k){if(U>56319){(N-=3)>-1&&z.push(239,191,189);continue}if(j+1===V){(N-=3)>-1&&z.push(239,191,189);continue}k=U;continue}if(U<56320){(N-=3)>-1&&z.push(239,191,189),k=U;continue}U=65536+(k-55296<<10|U-56320)}else k&&(N-=3)>-1&&z.push(239,191,189);if(k=null,U<128){if((N-=1)<0)break;z.push(U)}else if(U<2048){if((N-=2)<0)break;z.push(U>>6|192,63&U|128)}else if(U<65536){if((N-=3)<0)break;z.push(U>>12|224,U>>6&63|128,63&U|128)}else{if(!(U<1114112))throw new Error("Invalid code point");if((N-=4)<0)break;z.push(U>>18|240,U>>12&63|128,U>>6&63|128,63&U|128)}}return z}function oe(A){return s.toByteArray(function(N){if((N=function(U){return U.trim?U.trim():U.replace(/^\s+|\s+$/g,"")}(N).replace(q,"")).length<2)return"";for(;N.length%4!=0;)N+="=";return N}(A))}function te(A,N,U,V){for(var k=0;k<V&&!(k+U>=N.length||k>=A.length);++k)N[k+U]=A[k];return k}}).call(this,a(78))},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.isASCIIByte=function(i){return i>=0&&i<=127}},function(n,r,a){var i=this&&this.__read||function(o,c){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var f,l,h=u.call(o),p=[];try{for(;(c===void 0||c-- >0)&&!(f=h.next()).done;)p.push(f.value)}catch(v){l={error:v}}finally{try{f&&!f.done&&(u=h.return)&&u.call(h)}finally{if(l)throw l.error}}return p},s=this&&this.__spread||function(){for(var o=[],c=0;c<arguments.length;c++)o=o.concat(i(arguments[c]));return o};Object.defineProperty(r,"__esModule",{value:!0}),r.length=function(o){return o.length},r.byteLowercase=function(o){for(var c=0;c<o.length;c++){var u=o[c];u>=65&&u<=90&&(o[c]=u+32)}},r.byteUppercase=function(o){for(var c=0;c<o.length;c++){var u=o[c];u>=97&&u<=122&&(o[c]=u-32)}},r.byteCaseInsensitiveMatch=function(o,c){if(o.length!==c.length)return!1;for(var u=0;u<o.length;u++){var f=o[u],l=c[u];if(f>=65&&f<=90&&(f+=32),l>=65&&l<=90&&(l+=32),f!==l)return!1}return!0},r.startsWith=function(o,c){for(var u=0;;){if(u>=o.length)return!1;if(u>=c.length)return!0;if(o[u]!==c[u])return!1;u++}},r.byteLessThan=function(o,c){for(var u=0;;){if(u>=o.length)return!1;if(u>=c.length)return!0;var f=o[u],l=c[u];if(f<l)return!0;if(f>l)return!1;u++}},r.isomorphicDecode=function(o){return String.fromCodePoint.apply(String,s(o))}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(6),s=a(7),o=a(0),c=a(12),u=function(){function f(l){this._associatedDocument=l||i.dom.window.document}return f.prototype.createDocumentType=function(l,h,p){return o.namespace_validate(l),o.create_documentType(this._associatedDocument,l,h,p)},f.prototype.createDocument=function(l,h,p){p===void 0&&(p=null);var v=o.create_xmlDocument(),y=null;return h&&(y=o.document_internalCreateElementNS(v,l,h)),p&&v.appendChild(p),y&&v.appendChild(y),v._origin=this._associatedDocument._origin,l===s.namespace.HTML?v._contentType="application/xhtml+xml":l===s.namespace.SVG?v._contentType="image/svg+xml":v._contentType="application/xml",v},f.prototype.createHTMLDocument=function(l){var h=o.create_document();h._type="html",h._contentType="text/html",h.appendChild(o.create_documentType(h,"html","",""));var p=o.element_createAnElement(h,"html",s.namespace.HTML);h.appendChild(p);var v=o.element_createAnElement(h,"head",s.namespace.HTML);if(p.appendChild(v),l!==void 0){var y=o.element_createAnElement(h,"title",s.namespace.HTML);v.appendChild(y);var _=o.create_text(h,l);y.appendChild(_)}var m=o.element_createAnElement(h,"body",s.namespace.HTML);return p.appendChild(m),h._origin=this._associatedDocument._origin,h},f.prototype.hasFeature=function(){return!0},f._create=function(l){return new f(l)},f}();r.DOMImplementationImpl=u,c.idl_defineConst(u.prototype,"_ID","@oozcitak/dom")},function(n,r,a){var i,s=this&&this.__extends||(i=function(l,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var y in v)v.hasOwnProperty(y)&&(p[y]=v[y])})(l,h)},function(l,h){function p(){this.constructor=l}i(l,h),l.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(70),c=a(1),u=a(0),f=function(l){function h(){var p=l.call(this)||this;return p._signalSlots=new Set,p._mutationObserverMicrotaskQueued=!1,p._mutationObservers=new Set,p._iteratorList=new c.FixedSizeSet,p._associatedDocument=u.create_document(),p}return s(h,l),Object.defineProperty(h.prototype,"document",{get:function(){return this._associatedDocument},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"event",{get:function(){return this._currentEvent},enumerable:!0,configurable:!0}),h._create=function(){return new h},h}(o.EventTargetImpl);r.WindowImpl=f},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(2),s=function(){function o(){}return o.isNode=function(c){return!!c&&c._nodeType!==void 0},o.isDocumentNode=function(c){return o.isNode(c)&&c._nodeType===i.NodeType.Document},o.isDocumentTypeNode=function(c){return o.isNode(c)&&c._nodeType===i.NodeType.DocumentType},o.isDocumentFragmentNode=function(c){return o.isNode(c)&&c._nodeType===i.NodeType.DocumentFragment},o.isAttrNode=function(c){return o.isNode(c)&&c._nodeType===i.NodeType.Attribute},o.isCharacterDataNode=function(c){if(!o.isNode(c))return!1;var u=c._nodeType;return u===i.NodeType.Text||u===i.NodeType.ProcessingInstruction||u===i.NodeType.Comment||u===i.NodeType.CData},o.isTextNode=function(c){return o.isNode(c)&&(c._nodeType===i.NodeType.Text||c._nodeType===i.NodeType.CData)},o.isExclusiveTextNode=function(c){return o.isNode(c)&&c._nodeType===i.NodeType.Text},o.isCDATASectionNode=function(c){return o.isNode(c)&&c._nodeType===i.NodeType.CData},o.isCommentNode=function(c){return o.isNode(c)&&c._nodeType===i.NodeType.Comment},o.isProcessingInstructionNode=function(c){return o.isNode(c)&&c._nodeType===i.NodeType.ProcessingInstruction},o.isElementNode=function(c){return o.isNode(c)&&c._nodeType===i.NodeType.Element},o.isCustomElementNode=function(c){return o.isElementNode(c)&&c._customElementState==="custom"},o.isShadowRoot=function(c){return!!c&&c.host!==void 0},o.isMouseEvent=function(c){return!!c&&c.screenX!==void 0&&c.screenY!=null},o.isSlotable=function(c){return!!c&&c._name!==void 0&&c._assignedSlot!==void 0&&(o.isTextNode(c)||o.isElementNode(c))},o.isSlot=function(c){return!!c&&c._name!==void 0&&c._assignedNodes!==void 0&&o.isElementNode(c)},o.isWindow=function(c){return!!c&&c.navigator!==void 0},o.isEventListener=function(c){return!!c&&c.handleEvent!==void 0},o.isRegisteredObserver=function(c){return!!c&&c.observer!==void 0&&c.options!==void 0},o.isTransientRegisteredObserver=function(c){return!!c&&c.source!==void 0&&o.isRegisteredObserver(c)},o}();r.Guard=s},function(n,r,a){var i,s=this&&this.__extends||(i=function(c,u){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var h in l)l.hasOwnProperty(h)&&(f[h]=l[h])})(c,u)},function(c,u){function f(){this.constructor=c}i(c,u),c.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(c){function u(){return c.call(this)||this}return s(u,c),u}(a(98).DocumentImpl);r.XMLDocumentImpl=o},function(n,r,a){var i=this&&this.__values||function(V){var k=typeof Symbol=="function"&&Symbol.iterator,z=k&&V[k],j=0;if(z)return z.call(V);if(V&&typeof V.length=="number")return{next:function(){return V&&j>=V.length&&(V=void 0),{value:V&&V[j++],done:!V}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(V,k){var z=typeof Symbol=="function"&&V[Symbol.iterator];if(!z)return V;var j,K,X=z.call(V),Z=[];try{for(;(k===void 0||k-- >0)&&!(j=X.next()).done;)Z.push(j.value)}catch(ae){K={error:ae}}finally{try{j&&!j.done&&(z=X.return)&&z.call(X)}finally{if(K)throw K.error}}return Z};Object.defineProperty(r,"__esModule",{value:!0});var o,c=a(1),u=a(243),f=a(7),l=a(244),h={ftp:21,file:null,http:80,https:443,ws:80,wss:443},p=/[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,v=/[ "<>`]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,y=/[ "<>`#?{}]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,_=/[ "<>`#?{}/:;=@\[\]\\\^\|]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,m=/[0-9A-Za-z!\$&-\/:;=\?@_~\xA0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uD83E\uD840-\uD87E\uD880-\uD8BE\uD8C0-\uD8FE\uD900-\uD93E\uD940-\uD97E\uD980-\uD9BE\uD9C0-\uD9FE\uDA00-\uDA3E\uDA40-\uDA7E\uDA80-\uDABE\uDAC0-\uDAFE\uDB00-\uDB3E\uDB40-\uDB7E\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDC00-\uDFFD]/,d=/[\0\t\f\r #%/:?@\[\\\]]/;function g(V){o!==void 0&&o.call(null,"Validation Error: "+V)}function x(){return{scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null}}function w(V){return V in h}function C(V){return w(V.scheme)}function S(V){return h[V]||null}function T(V){return V.username!==""||V.password!==""}function b(V,k){var z,j;k===void 0&&(k=!1);var K=V.scheme+":";if(V.host!==null?(K+="//",T(V)&&(K+=V.username,V.password!==""&&(K+=":"+V.password),K+="@"),K+=O(V.host),V.port!==null&&(K+=":"+V.port)):V.host===null&&V.scheme==="file"&&(K+="//"),V._cannotBeABaseURLFlag)K+=V.path[0];else try{for(var X=i(V.path),Z=X.next();!Z.done;Z=X.next())K+="/"+Z.value}catch(ae){z={error:ae}}finally{try{Z&&!Z.done&&(j=X.return)&&j.call(X)}finally{if(z)throw z.error}}return V.query!==null&&(K+="?"+V.query),k||V.fragment===null||(K+="#"+V.fragment),K}function O(V){return c.isNumber(V)?D(V):c.isArray(V)?"["+M(V)+"]":V}function D(V){for(var k="",z=V,j=1;j<=4;j++)k=(z%256).toString()+k,j!==4&&(k="."+k),z=Math.floor(z/256);return k}function M(V){for(var k="",z=null,j=-1,K=0,X=0,Z=0;Z<8;Z++)if(V[Z]===0){K=1;for(var ae=Z+1;ae<8&&V[ae]===0;ae++)K++;K>X&&(X=K,j=Z)}X>1&&(z=j);for(var ue=!1,ie=0;ie<8;ie++)ue&&V[ie]===0||(ue&&(ue=!1),z!==ie?(k+=V[ie].toString(16),ie!==7&&(k+=":")):(k+=ie===0?"::":":",ue=!0));return k}function R(V,k,z,j,K){var X,Z,ae,ue;if(j===void 0){j={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null};var ie=/^[\u0000-\u001F\u0020]+/,pe=/[\u0000-\u001F\u0020]+$/;(ie.test(V)||pe.test(V))&&g("Input string contains leading or trailing control characters or space."),V=(V=V.replace(ie,"")).replace(pe,"")}var ve=/[\u0009\u000A\u000D]/g;ve.test(V)&&g("Input string contains tab or newline characters."),V=V.replace(ve,"");var ce=K===void 0?u.ParserState.SchemeStart:K;k===void 0&&(k=null);for(var xe=z===void 0||z==="replacement"||z==="UTF-16BE"||z==="UTF-16LE"?"UTF-8":z,Y="",_e=!1,Te=!1,Ce=!1,se=new c.StringWalker(V);;){switch(ce){case u.ParserState.SchemeStart:if(f.codePoint.ASCIIAlpha.test(se.c()))Y+=se.c().toLowerCase(),ce=u.ParserState.Scheme;else{if(K!==void 0)return g("Invalid scheme start character."),null;ce=u.ParserState.NoScheme,se.pointer--}break;case u.ParserState.Scheme:if(f.codePoint.ASCIIAlphanumeric.test(se.c())||se.c()==="+"||se.c()==="-"||se.c()===".")Y+=se.c().toLowerCase();else{if(se.c()!==":"){if(K===void 0){Y="",ce=u.ParserState.NoScheme,se.pointer=0;continue}return g("Invalid input string."),null}if(K!==void 0&&(w(j.scheme)&&!w(Y)||!w(j.scheme)&&w(Y)||(T(j)||j.port!==null)&&Y==="file"||j.scheme==="file"&&(j.host===""||j.host===null)))return j;if(j.scheme=Y,K!==void 0)return j.port===S(j.scheme)&&(j.port=null),j;Y="",j.scheme==="file"?(se.remaining().startsWith("//")||g("Invalid file URL scheme, '//' expected."),ce=u.ParserState.File):C(j)&&k!==null&&k.scheme===j.scheme?ce=u.ParserState.SpecialRelativeOrAuthority:C(j)?ce=u.ParserState.SpecialAuthoritySlashes:se.remaining().startsWith("/")?(ce=u.ParserState.PathOrAuthority,se.pointer++):(j._cannotBeABaseURLFlag=!0,j.path.push(""),ce=u.ParserState.CannotBeABaseURLPath)}break;case u.ParserState.NoScheme:if(k===null||k._cannotBeABaseURLFlag&&se.c()!=="#")return g("Invalid input string."),null;k._cannotBeABaseURLFlag&&se.c()==="#"?(j.scheme=k.scheme,j.path=f.list.clone(k.path),j.query=k.query,j.fragment="",j._cannotBeABaseURLFlag=!0,ce=u.ParserState.Fragment):k.scheme!=="file"?(ce=u.ParserState.Relative,se.pointer--):(ce=u.ParserState.File,se.pointer--);break;case u.ParserState.SpecialRelativeOrAuthority:se.c()==="/"&&se.remaining().startsWith("/")?(ce=u.ParserState.SpecialAuthorityIgnoreSlashes,se.pointer++):(g("Invalid input string."),ce=u.ParserState.Relative,se.pointer--);break;case u.ParserState.PathOrAuthority:se.c()==="/"?ce=u.ParserState.Authority:(ce=u.ParserState.Path,se.pointer--);break;case u.ParserState.Relative:if(k===null)throw new Error("Invalid parser state. Base URL is null.");switch(j.scheme=k.scheme,se.c()){case"":j.username=k.username,j.password=k.password,j.host=k.host,j.port=k.port,j.path=f.list.clone(k.path),j.query=k.query;break;case"/":ce=u.ParserState.RelativeSlash;break;case"?":j.username=k.username,j.password=k.password,j.host=k.host,j.port=k.port,j.path=f.list.clone(k.path),j.query="",ce=u.ParserState.Query;break;case"#":j.username=k.username,j.password=k.password,j.host=k.host,j.port=k.port,j.path=f.list.clone(k.path),j.query=k.query,j.fragment="",ce=u.ParserState.Fragment;break;default:C(j)&&se.c()==="\\"?(g("Invalid input string."),ce=u.ParserState.RelativeSlash):(j.username=k.username,j.password=k.password,j.host=k.host,j.port=k.port,j.path=f.list.clone(k.path),j.path.length!==0&&j.path.splice(j.path.length-1,1),ce=u.ParserState.Path,se.pointer--)}break;case u.ParserState.RelativeSlash:if(!C(j)||se.c()!=="/"&&se.c()!=="\\")if(se.c()==="/")ce=u.ParserState.Authority;else{if(k===null)throw new Error("Invalid parser state. Base URL is null.");j.username=k.username,j.password=k.password,j.host=k.host,j.port=k.port,ce=u.ParserState.Path,se.pointer--}else se.c()==="\\"&&g("Invalid input string."),ce=u.ParserState.SpecialAuthorityIgnoreSlashes;break;case u.ParserState.SpecialAuthoritySlashes:se.c()==="/"&&se.remaining().startsWith("/")?(ce=u.ParserState.SpecialAuthorityIgnoreSlashes,se.pointer++):(g("Expected '//'."),ce=u.ParserState.SpecialAuthorityIgnoreSlashes,se.pointer--);break;case u.ParserState.SpecialAuthorityIgnoreSlashes:se.c()!=="/"&&se.c()!=="\\"?(ce=u.ParserState.Authority,se.pointer--):g("Unexpected '/' or '\\'.");break;case u.ParserState.Authority:if(se.c()==="@"){g("Unexpected '@'."),_e&&(Y="%40"+Y),_e=!0;try{for(var he=(X=void 0,i(Y)),de=he.next();!de.done;de=he.next()){var ye=de.value;if(ye!==":"||Ce){var Se=te(ye,_);Ce?j.password+=Se:j.username+=Se}else Ce=!0}}catch(xt){X={error:xt}}finally{try{de&&!de.done&&(Z=he.return)&&Z.call(he)}finally{if(X)throw X.error}}Y=""}else if(se.c()===""||se.c()==="/"||se.c()==="?"||se.c()==="#"||C(j)&&se.c()==="\\"){if(_e&&Y==="")return g("Invalid input string."),null;se.pointer-=Y.length+1,Y="",ce=u.ParserState.Host}else Y+=se.c();break;case u.ParserState.Host:case u.ParserState.Hostname:if(K!==void 0&&j.scheme==="file")se.pointer--,ce=u.ParserState.FileHost;else if(se.c()!==":"||Te)if(se.c()===""||se.c()==="/"||se.c()==="?"||se.c()==="#"||C(j)&&se.c()==="\\"){if(se.pointer--,C(j)&&Y==="")return g("Invalid input string."),null;if(K!==void 0&&Y===""&&(T(j)||j.port!==null))return g("Invalid input string."),j;if((De=G(Y,!C(j)))===null)return null;if(j.host=De,Y="",ce=u.ParserState.PathStart,K!==void 0)return j}else se.c()==="["&&(Te=!0),se.c()==="]"&&(Te=!1),Y+=se.c();else{if(Y==="")return g("Invalid input string."),null;if((De=G(Y,!C(j)))===null)return null;if(j.host=De,Y="",ce=u.ParserState.Port,K===u.ParserState.Hostname)return j}break;case u.ParserState.Port:if(f.codePoint.ASCIIDigit.test(se.c()))Y+=se.c();else{if(!(se.c()===""||se.c()==="/"||se.c()==="?"||se.c()==="#"||C(j)&&se.c()==="\\"||K))return g("Invalid input string."),null;if(Y!==""&&Y!==""){var Ne=parseInt(Y,10);if(Ne>Math.pow(2,16)-1)return g("Invalid port number."),null;j.port=Ne===S(j.scheme)?null:Ne,Y=""}if(K!==void 0)return j;ce=u.ParserState.PathStart,se.pointer--}break;case u.ParserState.File:if(j.scheme="file",se.c()==="/"||se.c()==="\\")se.c()==="\\"&&g("Invalid input string."),ce=u.ParserState.FileSlash;else if(k!==null&&k.scheme==="file")switch(se.c()){case"":j.host=k.host,j.path=f.list.clone(k.path),j.query=k.query;break;case"?":j.host=k.host,j.path=f.list.clone(k.path),j.query="",ce=u.ParserState.Query;break;case"#":j.host=k.host,j.path=f.list.clone(k.path),j.query=k.query,j.fragment="",ce=u.ParserState.Fragment;break;default:F(se.substring())?g("Unexpected windows drive letter in input string."):(j.host=k.host,j.path=f.list.clone(k.path),I(j)),ce=u.ParserState.Path,se.pointer--}else ce=u.ParserState.Path,se.pointer--;break;case u.ParserState.FileSlash:se.c()==="/"||se.c()==="\\"?(se.c()==="\\"&&g("Invalid input string."),ce=u.ParserState.FileHost):(k===null||k.scheme!=="file"||F(se.substring())||(P(k.path[0])?j.path.push(k.path[0]):j.host=k.host),ce=u.ParserState.Path,se.pointer--);break;case u.ParserState.FileHost:if(se.c()===""||se.c()==="/"||se.c()==="\\"||se.c()==="?"||se.c()==="#")if(se.pointer--,K===void 0&&L(Y))g("Unexpected windows drive letter in input string."),ce=u.ParserState.Path;else if(Y===""){if(j.host="",K!==void 0)return j;ce=u.ParserState.PathStart}else{var De;if((De=G(Y,!C(j)))===null)return null;if(De==="localhost"&&(De=""),j.host=De,K!==void 0)return j;Y="",ce=u.ParserState.PathStart}else Y+=se.c();break;case u.ParserState.PathStart:C(j)?(se.c()==="\\"&&g("Invalid input string."),ce=u.ParserState.Path,se.c()!=="/"&&se.c()!=="\\"&&se.pointer--):K===void 0&&se.c()==="?"?(j.query="",ce=u.ParserState.Query):K===void 0&&se.c()==="#"?(j.fragment="",ce=u.ParserState.Fragment):se.c()!==""&&(ce=u.ParserState.Path,se.c()!=="/"&&se.pointer--);break;case u.ParserState.Path:if(se.c()===""||se.c()==="/"||C(j)&&se.c()==="\\"||K===void 0&&(se.c()==="?"||se.c()==="#")){if(C(j)&&se.c()==="\\"&&g("Invalid input string."),B(Y))I(j),se.c()==="/"||C(j)&&se.c()==="\\"||j.path.push("");else if(!E(Y)||se.c()==="/"||C(j)&&se.c()==="\\"){if(!E(Y)){if(j.scheme==="file"&&j.path.length===0&&L(Y)){j.host!==null&&j.host!==""&&(g("Invalid input string."),j.host="");var Ve=Array.from(Y);Y=Ve.slice(0,1)+":"+Ve.slice(2)}j.path.push(Y)}}else j.path.push("");if(Y="",j.scheme==="file"&&(se.c()===""||se.c()==="?"||se.c()==="#"))for(;j.path.length>1&&j.path[0]==="";)g("Invalid input string."),j.path.splice(0,1);se.c()==="?"&&(j.query="",ce=u.ParserState.Query),se.c()==="#"&&(j.fragment="",ce=u.ParserState.Fragment)}else m.test(se.c())||se.c()==="%"||g("Character is not a URL code point or a percent encoded character."),se.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(se.remaining())||g("Percent encoded character must be followed by two hex digits."),Y+=te(se.c(),y);break;case u.ParserState.CannotBeABaseURLPath:se.c()==="?"?(j.query="",ce=u.ParserState.Query):se.c()==="#"?(j.fragment="",ce=u.ParserState.Fragment):(se.c()===""||m.test(se.c())||se.c()==="%"||g("Character is not a URL code point or a percent encoded character."),se.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(se.remaining())||g("Percent encoded character must be followed by two hex digits."),se.c()!==""&&(j.path[0]+=te(se.c(),p)));break;case u.ParserState.Query:if(xe==="UTF-8"||C(j)&&j.scheme!=="ws"&&j.scheme!=="wss"||(xe="UTF-8"),K===void 0&&se.c()==="#")j.fragment="",ce=u.ParserState.Fragment;else if(se.c()!==""){if(m.test(se.c())||se.c()==="%"||g("Character is not a URL code point or a percent encoded character."),se.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(se.remaining())||g("Percent encoded character must be followed by two hex digits."),xe.toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var Pe=c.utf8Encode(se.c());if(Pe.length>=3&&Pe[0]===38&&Pe[1]===35&&Pe[Pe.length-1]===59)Pe=Pe.subarray(2,Pe.length-1),j.query+="%26%23"+f.byteSequence.isomorphicDecode(Pe)+"%3B";else try{for(var ft=(ae=void 0,i(Pe)),yt=ft.next();!yt.done;yt=ft.next()){var Ke=yt.value;Ke<33||Ke>126||Ke===34||Ke===35||Ke===60||Ke===62||Ke===39&&C(j)?j.query+=ne(Ke):j.query+=String.fromCharCode(Ke)}}catch(xt){ae={error:xt}}finally{try{yt&&!yt.done&&(ue=ft.return)&&ue.call(ft)}finally{if(ae)throw ae.error}}}break;case u.ParserState.Fragment:se.c()===""||(se.c()==="\0"?g("NULL character in input string."):(m.test(se.c())||se.c()==="%"||g("Unexpected character in fragment string."),se.c()!=="%"||/^[A-Za-z0-9][A-Za-z0-9]/.test(se.remaining())||g("Unexpected character in fragment string."),j.fragment+=te(se.c(),v)))}if(se.eof)break;se.pointer++}return j}function E(V){return V==="."||V.toLowerCase()==="%2e"}function B(V){var k=V.toLowerCase();return k===".."||k===".%2e"||k==="%2e."||k==="%2e%2e"}function I(V){var k=V.path;k.length!==0&&(V.scheme==="file"&&k.length===1&&P(k[0])||V.path.splice(V.path.length-1,1))}function P(V){return V.length>=2&&f.codePoint.ASCIIAlpha.test(V[0])&&V[1]===":"}function L(V){return V.length>=2&&f.codePoint.ASCIIAlpha.test(V[0])&&(V[1]===":"||V[1]==="|")}function F(V){return V.length>=2&&L(V)&&(V.length===2||V[2]==="/"||V[2]==="\\"||V[2]==="?"||V[2]==="#")}function G(V,k){if(k===void 0&&(k=!1),V.startsWith("["))return V.endsWith("]")?J(V.substring(1,V.length-1)):(g("Expected ']' after '['."),null);if(k)return Q(V);var z=U(c.utf8Decode(oe(V)));if(z===null||d.test(z))return g("Invalid domain."),null;var j=H(z);return j===null||c.isNumber(j)?j:z}function $(V,k){k===void 0&&(k={value:!1});var z=10;return V.startsWith("0x")||V.startsWith("0X")?(k.value=!0,V=V.substr(2),z=16):V.length>=2&&V[0]==="0"&&(k.value=!0,V=V.substr(1),z=8),V===""?0:(z===10?/^[0-9]+$/:z===16?/^[0-9A-Fa-f]+$/:/^[0-7]+$/).test(V)?parseInt(V,z):null}function H(V){var k,z,j,K,X={value:!1},Z=V.split(".");if(Z[Z.length-1]===""&&(X.value=!0,Z.length>1&&Z.pop()),Z.length>4)return V;var ae=[];try{for(var ue=i(Z),ie=ue.next();!ie.done;ie=ue.next()){var pe=ie.value;if(pe===""||(Te=$(pe,X))===null)return V;ae.push(Te)}}catch(Ce){k={error:Ce}}finally{try{ie&&!ie.done&&(z=ue.return)&&z.call(ue)}finally{if(k)throw k.error}}X.value&&g("Invalid IP v4 address.");for(var ve=0;ve<ae.length;ve++)if(ae[ve]>255&&(g("Invalid IP v4 address."),ve<ae.length-1))return null;if(ae[ae.length-1]>=Math.pow(256,5-ae.length))return g("Invalid IP v4 address."),null;var ce=ae[ae.length-1];ae.pop();var xe=0;try{for(var Y=i(ae),_e=Y.next();!_e.done;_e=Y.next()){var Te;ce+=(Te=_e.value)*Math.pow(256,3-xe),xe++}}catch(Ce){j={error:Ce}}finally{try{_e&&!_e.done&&(K=Y.return)&&K.call(Y)}finally{if(j)throw j.error}}return ce}function J(V){var k,z=[0,0,0,0,0,0,0,0],j=0,K=null,X=new c.StringWalker(V);if(X.c()===":"){if(!X.remaining().startsWith(":"))return g("Invalid IP v6 address."),null;X.pointer+=2,K=j+=1}for(;X.c()!=="";){if(j===8)return g("Invalid IP v6 address."),null;if(X.c()!==":"){for(var Z=0,ae=0;ae<4&&f.codePoint.ASCIIHexDigit.test(X.c());)Z=16*Z+parseInt(X.c(),16),X.pointer++,ae++;if(X.c()==="."){if(ae===0||(X.pointer-=ae,j>6))return g("Invalid IP v6 address."),null;for(var ue=0;X.c()!=="";){var ie=null;if(ue>0){if(!(X.c()==="."&&ue<4))return g("Invalid IP v6 address."),null;X.pointer++}if(!f.codePoint.ASCIIDigit.test(X.c()))return g("Invalid IP v6 address."),null;for(;f.codePoint.ASCIIDigit.test(X.c());){var pe=parseInt(X.c(),10);if(ie===null)ie=pe;else{if(ie===0)return g("Invalid IP v6 address."),null;ie=10*ie+pe}if(ie>255)return g("Invalid IP v6 address."),null;X.pointer++}if(ie===null)return g("Invalid IP v6 address."),null;z[j]=256*z[j]+ie,++ue!==2&&ue!==4||j++}if(ue!==4)return g("Invalid IP v6 address."),null;break}if(X.c()===":"){if(X.pointer++,X.c()==="")return g("Invalid IP v6 address."),null}else if(X.c()!=="")return g("Invalid IP v6 address."),null;z[j]=Z,j++}else{if(K!==null)return g("Invalid IP v6 address."),null;X.pointer++,K=++j}}if(K!==null){var ve=j-K;for(j=7;j!==0&&ve>0;)k=s([z[K+ve-1],z[j]],2),z[j]=k[0],z[K+ve-1]=k[1],j--,ve--}else if(K===null&&j!==8)return g("Invalid IP v6 address."),null;return z}function Q(V){var k,z;if(/[\x00\t\f\r #/:?@\[\\\]]/.test(V))return g("Invalid host string."),null;var j="";try{for(var K=i(V),X=K.next();!X.done;X=K.next())j+=te(X.value,p)}catch(Z){k={error:Z}}finally{try{X&&!X.done&&(z=K.return)&&z.call(K)}finally{if(k)throw k.error}}return j}function q(V){return null}function ne(V){return"%"+("00"+V.toString(16).toUpperCase()).slice(-2)}function re(V){for(var k=function(ae){return ae>=48&&ae<=57||ae>=65&&ae<=70||ae>=97&&ae<=102},z=new Uint8Array(V.length),j=0,K=0;K<V.length;K++){var X=V[K];if(X!==37)z[j]=X,j++;else if(X===37&&K>=V.length-2)z[j]=X,j++;else if(X!==37||k(V[K+1])&&k(V[K+2])){var Z=parseInt(c.utf8Decode(Uint8Array.of(V[K+1],V[K+2])),16);z[j]=Z,j++,K+=2}else z[j]=X,j++}return z.subarray(0,j)}function oe(V){return re(c.utf8Encode(V))}function te(V,k){var z,j;if(!k.test(V))return V;var K=c.utf8Encode(V),X="";try{for(var Z=i(K),ae=Z.next();!ae.done;ae=Z.next())X+=ne(ae.value)}catch(ue){z={error:ue}}finally{try{ae&&!ae.done&&(j=Z.return)&&j.call(Z)}finally{if(z)throw z.error}}return X}function A(V){var k,z,j,K,X=[],Z=[];try{for(var ae=i(V),ue=ae.next();!ue.done;ue=ae.next()){var ie=ue.value;ie===38?(X.push(Uint8Array.from(Z)),Z=[]):Z.push(ie)}}catch(de){k={error:de}}finally{try{ue&&!ue.done&&(z=ae.return)&&z.call(ae)}finally{if(k)throw k.error}}Z.length!==0&&X.push(Uint8Array.from(Z));var pe=[];try{for(var ve=i(X),ce=ve.next();!ce.done;ce=ve.next()){var xe=ce.value;if(xe.length!==0){for(var Y=xe.indexOf(61),_e=Y!==-1?xe.slice(0,Y):xe,Te=Y!==-1?xe.slice(Y+1):new Uint8Array,Ce=0;Ce<_e.length;Ce++)_e[Ce]===43&&(_e[Ce]=32);for(Ce=0;Ce<Te.length;Ce++)Te[Ce]===43&&(Te[Ce]=32);var se=c.utf8Decode(_e),he=c.utf8Decode(Te);pe.push([se,he])}}}catch(de){j={error:de}}finally{try{ce&&!ce.done&&(K=ve.return)&&K.call(ve)}finally{if(j)throw j.error}}return pe}function N(V){var k,z,j="";try{for(var K=i(V),X=K.next();!X.done;X=K.next()){var Z=X.value;j+=Z===32?"+":Z===42||Z===45||Z===46||Z>=48&&Z<=57||Z>=65&&Z<=90||Z===95||Z>=97&&Z<=122?String.fromCodePoint(Z):ne(Z)}}catch(ae){k={error:ae}}finally{try{X&&!X.done&&(z=K.return)&&z.call(K)}finally{if(k)throw k.error}}return j}function U(V,k){var z=l.domainToASCII(V);return z===""?(g("Invalid domain name."),null):z}r.setValidationErrorCallback=function(V){o=V},r.newURL=x,r.isSpecialScheme=w,r.isSpecial=C,r.defaultPort=S,r.includesCredentials=T,r.cannotHaveAUsernamePasswordPort=function(V){return V.host===null||V.host===""||V._cannotBeABaseURLFlag||V.scheme==="file"},r.urlSerializer=b,r.hostSerializer=O,r.iPv4Serializer=D,r.iPv6Serializer=M,r.urlParser=function(V,k,z){var j=R(V,k,z);return j===null?null:(j.scheme!=="blob"||(j._blobURLEntry=null),j)},r.basicURLParser=R,r.setTheUsername=function(V,k){var z,j,K="";try{for(var X=i(k),Z=X.next();!Z.done;Z=X.next())K+=te(Z.value,_)}catch(ae){z={error:ae}}finally{try{Z&&!Z.done&&(j=X.return)&&j.call(X)}finally{if(z)throw z.error}}V.username=K},r.setThePassword=function(V,k){var z,j,K="";try{for(var X=i(k),Z=X.next();!Z.done;Z=X.next())K+=te(Z.value,_)}catch(ae){z={error:ae}}finally{try{Z&&!Z.done&&(j=X.return)&&j.call(X)}finally{if(z)throw z.error}}V.password=K},r.isSingleDotPathSegment=E,r.isDoubleDotPathSegment=B,r.shorten=I,r.isNormalizedWindowsDriveLetter=P,r.isWindowsDriveLetter=L,r.startsWithAWindowsDriveLetter=F,r.hostParser=G,r.iPv4NumberParser=$,r.iPv4Parser=H,r.iPv6Parser=J,r.opaqueHostParser=Q,r.resolveABlobURL=q,r.percentEncode=ne,r.percentDecode=re,r.stringPercentDecode=oe,r.utf8PercentEncode=te,r.hostEquals=function(V,k){return V===k},r.urlEquals=function(V,k,z){return z===void 0&&(z=!1),b(V,z)===b(k,z)},r.urlEncodedStringParser=function(V){return A(c.utf8Encode(V))},r.urlEncodedParser=A,r.urlEncodedByteSerializer=N,r.urlEncodedSerializer=function(V,k){var z,j;if((k===void 0||k==="replacement"||k==="UTF-16BE"||k==="UTF-16LE"?"UTF-8":k).toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var K="";try{for(var X=i(V),Z=X.next();!Z.done;Z=X.next()){var ae=Z.value,ue=N(c.utf8Encode(ae[0])),ie=ae[1];ie=N(c.utf8Encode(ie)),K!==""&&(K+="&"),K+=ue+"="+ie}}catch(pe){z={error:pe}}finally{try{Z&&!Z.done&&(j=X.return)&&j.call(X)}finally{if(z)throw z.error}}return K},r.origin=function V(k){switch(k.scheme){case"blob":k._blobURLEntry;var z=R(k.path[0]);return z===null?u.OpaqueOrigin:V(z);case"ftp":case"http":case"https":case"ws":case"wss":return[k.scheme,k.host===null?"":k.host,k.port,null];case"file":default:return u.OpaqueOrigin}},r.domainToASCII=U,r.domainToUnicode=function(V,k){var z=l.domainToUnicode(V);return z===""&&g("Invalid domain name."),z},r.asciiSerializationOfAnOrigin=function(V){if(V[0]===""&&V[1]===""&&V[2]===null&&V[3]===null)return"null";var k=V[0]+"://"+O(V[1]);return V[2]!==null&&(k+=":"+V[2].toString()),k}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),s=function(){function o(){this._signal=i.create_abortSignal()}return Object.defineProperty(o.prototype,"signal",{get:function(){return this._signal},enumerable:!0,configurable:!0}),o.prototype.abort=function(){i.abort_signalAbort(this._signal)},o}();r.AbortControllerImpl=s},function(n,r,a){var i,s=this&&this.__extends||(i=function(f,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])})(f,l)},function(f,l){function h(){this.constructor=f}i(f,l),f.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(70),c=a(0),u=function(f){function l(){var h=f.call(this)||this;return h._abortedFlag=!1,h._abortAlgorithms=new Set,h}return s(l,f),Object.defineProperty(l.prototype,"aborted",{get:function(){return this._abortedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"onabort",{get:function(){return c.event_getterEventHandlerIDLAttribute(this,"onabort")},set:function(h){c.event_setterEventHandlerIDLAttribute(this,"onabort",h)},enumerable:!0,configurable:!0}),l._create=function(){return new l},l}(o.EventTargetImpl);r.AbortSignalImpl=u},function(n,r,a){var i,s=this&&this.__extends||(i=function(l,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var y in v)v.hasOwnProperty(y)&&(p[y]=v[y])})(l,h)},function(l,h){function p(){this.constructor=l}i(l,h),l.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(2),c=a(34),u=a(12),f=function(l){function h(p,v,y){var _=l.call(this)||this;return _._name="",_._publicId="",_._systemId="",_._name=p,_._publicId=v,_._systemId=y,_}return s(h,l),Object.defineProperty(h.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"publicId",{get:function(){return this._publicId},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"systemId",{get:function(){return this._systemId},enumerable:!0,configurable:!0}),h.prototype.before=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];throw new Error("Mixin: ChildNode not implemented.")},h.prototype.after=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];throw new Error("Mixin: ChildNode not implemented.")},h.prototype.replaceWith=function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];throw new Error("Mixin: ChildNode not implemented.")},h.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},h._create=function(p,v,y,_){y===void 0&&(y=""),_===void 0&&(_="");var m=new h(v,y,_);return m._nodeDocument=p,m},h}(c.NodeImpl);r.DocumentTypeImpl=f,u.idl_defineConst(f.prototype,"_nodeType",o.NodeType.DocumentType)},function(n,r,a){var i,s=this&&this.__extends||(i=function(l,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var y in v)v.hasOwnProperty(y)&&(p[y]=v[y])})(l,h)},function(l,h){function p(){this.constructor=l}i(l,h),l.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(100),c=a(1),u=a(0),f=function(l){function h(p,v){var y=l.call(this)||this;return y._host=p,y._mode=v,y}return s(h,l),Object.defineProperty(h.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"host",{get:function(){return this._host},enumerable:!0,configurable:!0}),h.prototype._getTheParent=function(p){return p._composedFlag||c.isEmpty(p._path)||u.tree_rootNode(p._path[0].invocationTarget)!==this?this._host:null},h._create=function(p,v){return new h(v,"closed")},h}(o.DocumentFragmentImpl);r.ShadowRootImpl=f},function(n,r,a){var i,s=this&&this.__extends||(i=function(h,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var _ in y)y.hasOwnProperty(_)&&(v[_]=y[_])})(h,p)},function(h,p){function v(){this.constructor=h}i(h,p),h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(2),c=a(34),u=a(0),f=a(12),l=function(h){function p(v){var y=h.call(this)||this;return y._namespace=null,y._namespacePrefix=null,y._element=null,y._value="",y._localName=v,y}return s(p,h),Object.defineProperty(p.prototype,"ownerElement",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"name",{get:function(){return this._qualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"value",{get:function(){return this._value},set:function(v){u.attr_setAnExistingAttributeValue(this,v)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix!==null?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),p._create=function(v,y){var _=new p(y);return _._nodeDocument=v,_},p}(c.NodeImpl);r.AttrImpl=l,f.idl_defineConst(l.prototype,"_nodeType",o.NodeType.Attribute),f.idl_defineConst(l.prototype,"specified",!0)},function(n,r,a){var i,s=this&&this.__extends||(i=function(l,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var y in v)v.hasOwnProperty(y)&&(p[y]=v[y])})(l,h)},function(l,h){function p(){this.constructor=l}i(l,h),l.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(101),c=a(2),u=a(12),f=function(l){function h(p){return l.call(this,p)||this}return s(h,l),h._create=function(p,v){v===void 0&&(v="");var y=new h(v);return y._nodeDocument=p,y},h}(o.TextImpl);r.CDATASectionImpl=f,u.idl_defineConst(f.prototype,"_nodeType",c.NodeType.CData)},function(n,r,a){var i,s=this&&this.__extends||(i=function(l,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var y in v)v.hasOwnProperty(y)&&(p[y]=v[y])})(l,h)},function(l,h){function p(){this.constructor=l}i(l,h),l.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(2),c=a(71),u=a(12),f=function(l){function h(p){return p===void 0&&(p=""),l.call(this,p)||this}return s(h,l),h._create=function(p,v){v===void 0&&(v="");var y=new h(v);return y._nodeDocument=p,y},h}(c.CharacterDataImpl);r.CommentImpl=f,u.idl_defineConst(f.prototype,"_nodeType",o.NodeType.Comment)},function(n,r,a){var i,s=this&&this.__extends||(i=function(l,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var y in v)v.hasOwnProperty(y)&&(p[y]=v[y])})(l,h)},function(l,h){function p(){this.constructor=l}i(l,h),l.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(2),c=a(71),u=a(12),f=function(l){function h(p,v){var y=l.call(this,v)||this;return y._target=p,y}return s(h,l),Object.defineProperty(h.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),h._create=function(p,v,y){var _=new h(v,y);return _._nodeDocument=p,_},h}(c.CharacterDataImpl);r.ProcessingInstructionImpl=f,u.idl_defineConst(f.prototype,"_nodeType",o.NodeType.ProcessingInstruction)},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(7),s=a(0),o=a(3),c=a(1),u=function(){function f(l,h){return this._live=!0,this._root=l,this._filter=h,new Proxy(this,this)}return Object.defineProperty(f.prototype,"length",{get:function(){for(var l=this,h=0,p=s.tree_getFirstDescendantNode(this._root,!1,!1,function(v){return o.Guard.isElementNode(v)&&l._filter(v)});p!==null;)h++,p=s.tree_getNextDescendantNode(this._root,p,!1,!1,function(v){return o.Guard.isElementNode(v)&&l._filter(v)});return h},enumerable:!0,configurable:!0}),f.prototype.item=function(l){for(var h=this,p=0,v=s.tree_getFirstDescendantNode(this._root,!1,!1,function(y){return o.Guard.isElementNode(y)&&h._filter(y)});v!==null;){if(p===l)return v;p++,v=s.tree_getNextDescendantNode(this._root,v,!1,!1,function(y){return o.Guard.isElementNode(y)&&h._filter(y)})}return null},f.prototype.namedItem=function(l){var h=this;if(l==="")return null;for(var p=s.tree_getFirstDescendantNode(this._root,!1,!1,function(_){return o.Guard.isElementNode(_)&&h._filter(_)});p!=null;){if(p._uniqueIdentifier===l)return p;if(p._namespace===i.namespace.HTML)for(var v=0;v<p._attributeList.length;v++){var y=p._attributeList[v];if(y._localName==="name"&&y._namespace===null&&y._namespacePrefix===null&&y._value===l)return p}p=s.tree_getNextDescendantNode(this._root,p,!1,!1,function(_){return o.Guard.isElementNode(_)&&h._filter(_)})}return null},f.prototype[Symbol.iterator]=function(){var l=this._root,h=this._filter,p=s.tree_getFirstDescendantNode(l,!1,!1,function(v){return o.Guard.isElementNode(v)&&h(v)});return{next:function(){if(p===null)return{done:!0,value:null};var v={done:!1,value:p};return p=s.tree_getNextDescendantNode(l,p,!1,!1,function(y){return o.Guard.isElementNode(y)&&h(y)}),v}}},f.prototype.get=function(l,h,p){if(!c.isString(h)||f.reservedNames.indexOf(h)!==-1)return Reflect.get(l,h,p);var v=Number(h);return isNaN(v)?l.namedItem(h)||void 0:l.item(v)||void 0},f.prototype.set=function(l,h,p,v){if(!c.isString(h)||f.reservedNames.indexOf(h)!==-1)return Reflect.set(l,h,p,v);var y=Number(h),_=isNaN(y)?l.namedItem(h)||void 0:l.item(y)||void 0;return!(!_||!_._parent)&&(s.mutation_replace(_,p,_._parent),!0)},f._create=function(l,h){return h===void 0&&(h=function(){return!0}),new f(l,h)},f.reservedNames=["_root","_live","_filter","length","item","namedItem","get","set"],f}();r.HTMLCollectionImpl=u},function(n,r,a){var i=this&&this.__values||function(f){var l=typeof Symbol=="function"&&Symbol.iterator,h=l&&f[l],p=0;if(h)return h.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&p>=f.length&&(f=void 0),{value:f&&f[p++],done:!f}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(6),o=a(1),c=a(0),u=function(){function f(l){return this._live=!0,this._filter=null,this._length=0,this._root=l,new Proxy(this,this)}return Object.defineProperty(f.prototype,"length",{get:function(){return this._root._children.size},enumerable:!0,configurable:!0}),f.prototype.item=function(l){if(l<0||l>this.length-1)return null;if(l<this.length/2){for(var h=0,p=this._root._firstChild;p!==null&&h!==l;)p=p._nextSibling,h++;return p}for(h=this.length-1,p=this._root._lastChild;p!==null&&h!==l;)p=p._previousSibling,h--;return p},f.prototype.keys=function(){var l;return(l={})[Symbol.iterator]=function(){var h=0;return{next:function(){return h===this.length?{done:!0,value:null}:{done:!1,value:h++}}.bind(this)}}.bind(this),l},f.prototype.values=function(){var l;return(l={})[Symbol.iterator]=function(){var h=this[Symbol.iterator]();return{next:function(){return h.next()}}}.bind(this),l},f.prototype.entries=function(){var l;return(l={})[Symbol.iterator]=function(){var h=this[Symbol.iterator](),p=0;return{next:function(){var v=h.next();return v.done?{done:!0,value:null}:{done:!1,value:[p++,v.value]}}}}.bind(this),l},f.prototype[Symbol.iterator]=function(){return this._root._children[Symbol.iterator]()},f.prototype.forEach=function(l,h){var p,v;h===void 0&&(h=s.dom.window);var y=0;try{for(var _=i(this._root._children),m=_.next();!m.done;m=_.next()){var d=m.value;l.call(h,d,y++,this)}}catch(g){p={error:g}}finally{try{m&&!m.done&&(v=_.return)&&v.call(_)}finally{if(p)throw p.error}}},f.prototype.get=function(l,h,p){if(!o.isString(h))return Reflect.get(l,h,p);var v=Number(h);return isNaN(v)?Reflect.get(l,h,p):l.item(v)||void 0},f.prototype.set=function(l,h,p,v){if(!o.isString(h))return Reflect.set(l,h,p,v);var y=Number(h);if(isNaN(y))return Reflect.set(l,h,p,v);var _=l.item(y)||void 0;return!!_&&!!_._parent&&(c.mutation_replace(_,p,_._parent),!0)},f._create=function(l){return new f(l)},f}();r.NodeListImpl=u},function(n,r,a){var i=this&&this.__values||function(u){var f=typeof Symbol=="function"&&Symbol.iterator,l=f&&u[f],h=0;if(l)return l.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&h>=u.length&&(u=void 0),{value:u&&u[h++],done:!u}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(6),o=a(1),c=function(){function u(f){return this._live=!1,this._items=[],this._length=0,this._root=f,this._items=[],this._filter=function(l){return!0},new Proxy(this,this)}return Object.defineProperty(u.prototype,"length",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),u.prototype.item=function(f){return f<0||f>this.length-1?null:this._items[f]},u.prototype.keys=function(){var f;return(f={})[Symbol.iterator]=function(){var l=0;return{next:function(){return l===this.length?{done:!0,value:null}:{done:!1,value:l++}}.bind(this)}}.bind(this),f},u.prototype.values=function(){var f;return(f={})[Symbol.iterator]=function(){var l=this[Symbol.iterator]();return{next:function(){return l.next()}}}.bind(this),f},u.prototype.entries=function(){var f;return(f={})[Symbol.iterator]=function(){var l=this[Symbol.iterator](),h=0;return{next:function(){var p=l.next();return p.done?{done:!0,value:null}:{done:!1,value:[h++,p.value]}}}}.bind(this),f},u.prototype[Symbol.iterator]=function(){var f=this._items[Symbol.iterator]();return{next:function(){return f.next()}}},u.prototype.forEach=function(f,l){var h,p;l===void 0&&(l=s.dom.window);var v=0;try{for(var y=i(this._items),_=y.next();!_.done;_=y.next()){var m=_.value;f.call(l,m,v++,this)}}catch(d){h={error:d}}finally{try{_&&!_.done&&(p=y.return)&&p.call(y)}finally{if(h)throw h.error}}},u.prototype.get=function(f,l,h){if(!o.isString(l))return Reflect.get(f,l,h);var p=Number(l);return isNaN(p)?Reflect.get(f,l,h):f._items[p]||void 0},u.prototype.set=function(f,l,h,p){if(!o.isString(l))return Reflect.set(f,l,h,p);var v=Number(l);return isNaN(v)?Reflect.set(f,l,h,p):v>=0&&v<f._items.length&&(f._items[v]=h,!0)},u._create=function(f,l){var h=new u(f);return h._items=l,h},u}();r.NodeListStaticImpl=c},function(n,r,a){var i,s=this&&this.__extends||(i=function(f,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])})(f,l)},function(f,l){function h(){this.constructor=f}i(f,l),f.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(9),c=a(0),u=function(f){function l(h){var p=f.call(this)||this;return p._element=h,Object.setPrototypeOf(p,l.prototype),p}return s(l,f),l.prototype._asArray=function(){return this},l.prototype.item=function(h){return this[h]||null},l.prototype.getNamedItem=function(h){return c.element_getAnAttributeByName(h,this._element)},l.prototype.getNamedItemNS=function(h,p){return c.element_getAnAttributeByNamespaceAndLocalName(h||"",p,this._element)},l.prototype.setNamedItem=function(h){return c.element_setAnAttribute(h,this._element)},l.prototype.setNamedItemNS=function(h){return c.element_setAnAttribute(h,this._element)},l.prototype.removeNamedItem=function(h){var p=c.element_removeAnAttributeByName(h,this._element);if(p===null)throw new o.NotFoundError;return p},l.prototype.removeNamedItemNS=function(h,p){var v=c.element_removeAnAttributeByNamespaceAndLocalName(h||"",p,this._element);if(v===null)throw new o.NotFoundError;return v},l._create=function(h){return new l(h)},l}(Array);r.NamedNodeMapImpl=u},function(n,r,a){var i,s=this&&this.__extends||(i=function(_,m){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var x in g)g.hasOwnProperty(x)&&(d[x]=g[x])})(_,m)},function(_,m){function d(){this.constructor=_}i(_,m),_.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}),o=this&&this.__values||function(_){var m=typeof Symbol=="function"&&Symbol.iterator,d=m&&_[m],g=0;if(d)return d.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&g>=_.length&&(_=void 0),{value:_&&_[g++],done:!_}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var c=a(6),u=a(2),f=a(102),l=a(9),h=a(0),p=a(12),v=a(3),y=function(_){function m(){var d=_.call(this)||this,g=c.dom.window._associatedDocument;return d._start=[g,0],d._end=[g,0],c.dom.rangeList.add(d),d}return s(m,_),Object.defineProperty(m.prototype,"commonAncestorContainer",{get:function(){for(var d=this._start[0];!h.tree_isAncestorOf(this._end[0],d,!0);){if(d._parent===null)throw new Error("Parent node  is null.");d=d._parent}return d},enumerable:!0,configurable:!0}),m.prototype.setStart=function(d,g){h.range_setTheStart(this,d,g)},m.prototype.setEnd=function(d,g){h.range_setTheEnd(this,d,g)},m.prototype.setStartBefore=function(d){var g=d._parent;if(g===null)throw new l.InvalidNodeTypeError;h.range_setTheStart(this,g,h.tree_index(d))},m.prototype.setStartAfter=function(d){var g=d._parent;if(g===null)throw new l.InvalidNodeTypeError;h.range_setTheStart(this,g,h.tree_index(d)+1)},m.prototype.setEndBefore=function(d){var g=d._parent;if(g===null)throw new l.InvalidNodeTypeError;h.range_setTheEnd(this,g,h.tree_index(d))},m.prototype.setEndAfter=function(d){var g=d._parent;if(g===null)throw new l.InvalidNodeTypeError;h.range_setTheEnd(this,g,h.tree_index(d)+1)},m.prototype.collapse=function(d){d?this._end=this._start:this._start=this._end},m.prototype.selectNode=function(d){h.range_select(d,this)},m.prototype.selectNodeContents=function(d){if(v.Guard.isDocumentTypeNode(d))throw new l.InvalidNodeTypeError;var g=h.tree_nodeLength(d);this._start=[d,0],this._end=[d,g]},m.prototype.compareBoundaryPoints=function(d,g){if(d!==u.HowToCompare.StartToStart&&d!==u.HowToCompare.StartToEnd&&d!==u.HowToCompare.EndToEnd&&d!==u.HowToCompare.EndToStart)throw new l.NotSupportedError;if(h.range_root(this)!==h.range_root(g))throw new l.WrongDocumentError;var x,w;switch(d){case u.HowToCompare.StartToStart:x=this._start,w=g._start;break;case u.HowToCompare.StartToEnd:x=this._end,w=g._start;break;case u.HowToCompare.EndToEnd:x=this._end,w=g._end;break;case u.HowToCompare.EndToStart:x=this._start,w=g._end;break;default:throw new l.NotSupportedError}var C=h.boundaryPoint_position(x,w);return C===u.BoundaryPosition.Before?-1:C===u.BoundaryPosition.After?1:0},m.prototype.deleteContents=function(){var d,g,x,w;if(!h.range_collapsed(this)){var C=this._startNode,S=this._startOffset,T=this._endNode,b=this._endOffset;if(C===T&&v.Guard.isCharacterDataNode(C))h.characterData_replaceData(C,S,b-S,"");else{var O,D,M=[];try{for(var R=o(h.range_getContainedNodes(this)),E=R.next();!E.done;E=R.next()){var B=(F=E.value)._parent;B!==null&&h.range_isContained(B,this)||M.push(F)}}catch(G){d={error:G}}finally{try{E&&!E.done&&(g=R.return)&&g.call(R)}finally{if(d)throw d.error}}if(h.tree_isAncestorOf(T,C,!0))O=C,D=S;else{for(var I=C;I._parent!==null&&!h.tree_isAncestorOf(T,I._parent,!0);)I=I._parent;if(I._parent===null)throw new Error("Parent node is null.");O=I._parent,D=h.tree_index(I)+1}v.Guard.isCharacterDataNode(C)&&h.characterData_replaceData(C,S,h.tree_nodeLength(C)-S,"");try{for(var P=o(M),L=P.next();!L.done;L=P.next()){var F;(F=L.value)._parent&&h.mutation_remove(F,F._parent)}}catch(G){x={error:G}}finally{try{L&&!L.done&&(w=P.return)&&w.call(P)}finally{if(x)throw x.error}}v.Guard.isCharacterDataNode(T)&&h.characterData_replaceData(T,0,b,""),this._start=[O,D],this._end=[O,D]}}},m.prototype.extractContents=function(){return h.range_extract(this)},m.prototype.cloneContents=function(){return h.range_cloneTheContents(this)},m.prototype.insertNode=function(d){return h.range_insert(d,this)},m.prototype.surroundContents=function(d){var g,x;try{for(var w=o(h.range_getPartiallyContainedNodes(this)),C=w.next();!C.done;C=w.next()){var S=C.value;if(!v.Guard.isTextNode(S))throw new l.InvalidStateError}}catch(b){g={error:b}}finally{try{C&&!C.done&&(x=w.return)&&x.call(w)}finally{if(g)throw g.error}}if(v.Guard.isDocumentNode(d)||v.Guard.isDocumentTypeNode(d)||v.Guard.isDocumentFragmentNode(d))throw new l.InvalidNodeTypeError;var T=h.range_extract(this);d._children.size!==0&&h.mutation_replaceAll(null,d),h.range_insert(d,this),h.mutation_append(T,d),h.range_select(d,this)},m.prototype.cloneRange=function(){return h.create_range(this._start,this._end)},m.prototype.detach=function(){c.dom.rangeList.delete(this)},m.prototype.isPointInRange=function(d,g){if(h.tree_rootNode(d)!==h.range_root(this))return!1;if(v.Guard.isDocumentTypeNode(d))throw new l.InvalidNodeTypeError;if(g>h.tree_nodeLength(d))throw new l.IndexSizeError;var x=[d,g];return h.boundaryPoint_position(x,this._start)!==u.BoundaryPosition.Before&&h.boundaryPoint_position(x,this._end)!==u.BoundaryPosition.After},m.prototype.comparePoint=function(d,g){if(h.tree_rootNode(d)!==h.range_root(this))throw new l.WrongDocumentError;if(v.Guard.isDocumentTypeNode(d))throw new l.InvalidNodeTypeError;if(g>h.tree_nodeLength(d))throw new l.IndexSizeError;var x=[d,g];return h.boundaryPoint_position(x,this._start)===u.BoundaryPosition.Before?-1:h.boundaryPoint_position(x,this._end)===u.BoundaryPosition.After?1:0},m.prototype.intersectsNode=function(d){if(h.tree_rootNode(d)!==h.range_root(this))return!1;var g=d._parent;if(g===null)return!0;var x=h.tree_index(d);return h.boundaryPoint_position([g,x],this._end)===u.BoundaryPosition.Before&&h.boundaryPoint_position([g,x+1],this._start)===u.BoundaryPosition.After},m.prototype.toString=function(){var d,g,x="";if(this._startNode===this._endNode&&v.Guard.isTextNode(this._startNode))return this._startNode._data.substring(this._startOffset,this._endOffset);v.Guard.isTextNode(this._startNode)&&(x+=this._startNode._data.substring(this._startOffset));try{for(var w=o(h.range_getContainedNodes(this)),C=w.next();!C.done;C=w.next()){var S=C.value;v.Guard.isTextNode(S)&&(x+=S._data)}}catch(T){d={error:T}}finally{try{C&&!C.done&&(g=w.return)&&g.call(w)}finally{if(d)throw d.error}}return v.Guard.isTextNode(this._endNode)&&(x+=this._endNode._data.substring(0,this._endOffset)),x},m._create=function(d,g){var x=new m;return d&&(x._start=d),g&&(x._end=g),x},m.START_TO_START=0,m.START_TO_END=1,m.END_TO_END=2,m.END_TO_START=3,m}(f.AbstractRangeImpl);r.RangeImpl=y,p.idl_defineConst(y.prototype,"START_TO_START",0),p.idl_defineConst(y.prototype,"START_TO_END",1),p.idl_defineConst(y.prototype,"END_TO_END",2),p.idl_defineConst(y.prototype,"END_TO_START",3)},function(n,r,a){var i,s=this&&this.__extends||(i=function(f,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])})(f,l)},function(f,l){function h(){this.constructor=f}i(f,l),f.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(103),c=a(0),u=function(f){function l(h,p,v){var y=f.call(this,h)||this;return y._iteratorCollection=void 0,y._reference=p,y._pointerBeforeReference=v,c.nodeIterator_iteratorList().add(y),y}return s(l,f),Object.defineProperty(l.prototype,"referenceNode",{get:function(){return this._reference},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"pointerBeforeReferenceNode",{get:function(){return this._pointerBeforeReference},enumerable:!0,configurable:!0}),l.prototype.nextNode=function(){return c.nodeIterator_traverse(this,!0)},l.prototype.previousNode=function(){return c.nodeIterator_traverse(this,!1)},l.prototype.detach=function(){c.nodeIterator_iteratorList().delete(this)},l._create=function(h,p,v){return new l(h,p,v)},l}(o.TraverserImpl);r.NodeIteratorImpl=u},function(n,r,a){var i,s=this&&this.__extends||(i=function(l,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var y in v)v.hasOwnProperty(y)&&(p[y]=v[y])})(l,h)},function(l,h){function p(){this.constructor=l}i(l,h),l.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(2),c=a(103),u=a(0),f=function(l){function h(p,v){var y=l.call(this,p)||this;return y._current=v,y}return s(h,l),Object.defineProperty(h.prototype,"currentNode",{get:function(){return this._current},set:function(p){this._current=p},enumerable:!0,configurable:!0}),h.prototype.parentNode=function(){for(var p=this._current;p!==null&&p!==this._root;)if((p=p._parent)!==null&&u.traversal_filter(this,p)===o.FilterResult.Accept)return this._current=p,p;return null},h.prototype.firstChild=function(){return u.treeWalker_traverseChildren(this,!0)},h.prototype.lastChild=function(){return u.treeWalker_traverseChildren(this,!1)},h.prototype.nextSibling=function(){return u.treeWalker_traverseSiblings(this,!0)},h.prototype.previousNode=function(){for(var p=this._current;p!==this._root;){for(var v=p._previousSibling;v;){p=v;for(var y=u.traversal_filter(this,p);y!==o.FilterResult.Reject&&p._lastChild;)p=p._lastChild,y=u.traversal_filter(this,p);if(y===o.FilterResult.Accept)return this._current=p,p;v=p._previousSibling}if(p===this._root||p._parent===null)return null;if(p=p._parent,u.traversal_filter(this,p)===o.FilterResult.Accept)return this._current=p,p}return null},h.prototype.previousSibling=function(){return u.treeWalker_traverseSiblings(this,!1)},h.prototype.nextNode=function(){for(var p=this._current,v=o.FilterResult.Accept;;){for(;v!==o.FilterResult.Reject&&p._firstChild;)if(p=p._firstChild,(v=u.traversal_filter(this,p))===o.FilterResult.Accept)return this._current=p,p;for(var y=null,_=p;_!==null;){if(_===this._root)return null;if((y=_._nextSibling)!==null){p=y;break}_=_._parent}if((v=u.traversal_filter(this,p))===o.FilterResult.Accept)return this._current=p,p}},h._create=function(p,v){return new h(p,v)},h}(c.TraverserImpl);r.TreeWalkerImpl=f},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(2),s=a(12),o=function(){function c(){}return c.prototype.acceptNode=function(u){return i.FilterResult.Accept},c._create=function(){return new c},c.FILTER_ACCEPT=1,c.FILTER_REJECT=2,c.FILTER_SKIP=3,c.SHOW_ALL=4294967295,c.SHOW_ELEMENT=1,c.SHOW_ATTRIBUTE=2,c.SHOW_TEXT=4,c.SHOW_CDATA_SECTION=8,c.SHOW_ENTITY_REFERENCE=16,c.SHOW_ENTITY=32,c.SHOW_PROCESSING_INSTRUCTION=64,c.SHOW_COMMENT=128,c.SHOW_DOCUMENT=256,c.SHOW_DOCUMENT_TYPE=512,c.SHOW_DOCUMENT_FRAGMENT=1024,c.SHOW_NOTATION=2048,c}();r.NodeFilterImpl=o,s.idl_defineConst(o.prototype,"FILTER_ACCEPT",1),s.idl_defineConst(o.prototype,"FILTER_REJECT",2),s.idl_defineConst(o.prototype,"FILTER_SKIP",3),s.idl_defineConst(o.prototype,"SHOW_ALL",4294967295),s.idl_defineConst(o.prototype,"SHOW_ELEMENT",1),s.idl_defineConst(o.prototype,"SHOW_ATTRIBUTE",2),s.idl_defineConst(o.prototype,"SHOW_TEXT",4),s.idl_defineConst(o.prototype,"SHOW_CDATA_SECTION",8),s.idl_defineConst(o.prototype,"SHOW_ENTITY_REFERENCE",16),s.idl_defineConst(o.prototype,"SHOW_ENTITY",32),s.idl_defineConst(o.prototype,"SHOW_PROCESSING_INSTRUCTION",64),s.idl_defineConst(o.prototype,"SHOW_COMMENT",128),s.idl_defineConst(o.prototype,"SHOW_DOCUMENT",256),s.idl_defineConst(o.prototype,"SHOW_DOCUMENT_TYPE",512),s.idl_defineConst(o.prototype,"SHOW_DOCUMENT_FRAGMENT",1024),s.idl_defineConst(o.prototype,"SHOW_NOTATION",2048)},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function s(o,c,u,f,l,h,p,v,y){this._type=o,this._target=c,this._addedNodes=u,this._removedNodes=f,this._previousSibling=l,this._nextSibling=h,this._attributeName=p,this._attributeNamespace=v,this._oldValue=y}return Object.defineProperty(s.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"addedNodes",{get:function(){return this._addedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"removedNodes",{get:function(){return this._removedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"attributeName",{get:function(){return this._attributeName},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"attributeNamespace",{get:function(){return this._attributeNamespace},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"oldValue",{get:function(){return this._oldValue},enumerable:!0,configurable:!0}),s._create=function(o,c,u,f,l,h,p,v,y){return new s(o,c,u,f,l,h,p,v,y)},s}();r.MutationRecordImpl=i},function(n,r,a){var i=this&&this.__values||function(l){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&l[h],v=0;if(p)return p.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&v>=l.length&&(l=void 0),{value:l&&l[v++],done:!l}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(6),o=a(9),c=a(7),u=a(0),f=function(){function l(h,p){this._element=h,this._attribute=p,this._tokenSet=new Set;var v=p._localName,y=u.element_getAnAttributeValue(h,v),_=this;this._element._attributeChangeSteps.push(function(m,d,g,x,w){d===_._attribute._localName&&w===null&&(x?_._tokenSet=u.orderedSet_parse(x):_._tokenSet.clear())}),s.dom.features.steps&&u.dom_runAttributeChangeSteps(h,v,y,y,null)}return Object.defineProperty(l.prototype,"length",{get:function(){return this._tokenSet.size},enumerable:!0,configurable:!0}),l.prototype.item=function(h){var p,v,y=0;try{for(var _=i(this._tokenSet),m=_.next();!m.done;m=_.next()){var d=m.value;if(y===h)return d;y++}}catch(g){p={error:g}}finally{try{m&&!m.done&&(v=_.return)&&v.call(_)}finally{if(p)throw p.error}}return null},l.prototype.contains=function(h){return this._tokenSet.has(h)},l.prototype.add=function(){for(var h,p,v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];try{for(var _=i(v),m=_.next();!m.done;m=_.next()){var d=m.value;if(d==="")throw new o.SyntaxError("Cannot add an empty token.");if(c.codePoint.ASCIIWhiteSpace.test(d))throw new o.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.add(d)}}catch(g){h={error:g}}finally{try{m&&!m.done&&(p=_.return)&&p.call(_)}finally{if(h)throw h.error}}u.tokenList_updateSteps(this)},l.prototype.remove=function(){for(var h,p,v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];try{for(var _=i(v),m=_.next();!m.done;m=_.next()){var d=m.value;if(d==="")throw new o.SyntaxError("Cannot remove an empty token.");if(c.codePoint.ASCIIWhiteSpace.test(d))throw new o.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.delete(d)}}catch(g){h={error:g}}finally{try{m&&!m.done&&(p=_.return)&&p.call(_)}finally{if(h)throw h.error}}u.tokenList_updateSteps(this)},l.prototype.toggle=function(h,p){if(p===void 0&&(p=void 0),h==="")throw new o.SyntaxError("Cannot toggle an empty token.");if(c.codePoint.ASCIIWhiteSpace.test(h))throw new o.InvalidCharacterError("Token cannot contain whitespace.");return this._tokenSet.has(h)?p!==void 0&&p!==!1||(this._tokenSet.delete(h),u.tokenList_updateSteps(this),!1):(p===void 0||p===!0)&&(this._tokenSet.add(h),u.tokenList_updateSteps(this),!0)},l.prototype.replace=function(h,p){if(h===""||p==="")throw new o.SyntaxError("Cannot replace an empty token.");if(c.codePoint.ASCIIWhiteSpace.test(h)||c.codePoint.ASCIIWhiteSpace.test(p))throw new o.InvalidCharacterError("Token cannot contain whitespace.");return!!this._tokenSet.has(h)&&(c.set.replace(this._tokenSet,h,p),u.tokenList_updateSteps(this),!0)},l.prototype.supports=function(h){return u.tokenList_validationSteps(this,h)},Object.defineProperty(l.prototype,"value",{get:function(){return u.tokenList_serializeSteps(this)},set:function(h){u.element_setAnAttributeValue(this._element,this._attribute._localName,h)},enumerable:!0,configurable:!0}),l.prototype[Symbol.iterator]=function(){var h=this._tokenSet[Symbol.iterator]();return{next:function(){return h.next()}}},l._create=function(h,p){return new l(h,p)},l}();r.DOMTokenListImpl=f},function(n,r,a){var i,s=this&&this.__extends||(i=function(f,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])})(f,l)},function(f,l){function h(){this.constructor=f}i(f,l),f.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(104),c=a(0),u=function(f){function l(h,p){var v=f.call(this,h,p)||this;return v._detail=null,v._detail=p&&p.detail||null,v}return s(l,f),Object.defineProperty(l.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0}),l.prototype.initCustomEvent=function(h,p,v,y){p===void 0&&(p=!1),v===void 0&&(v=!1),y===void 0&&(y=null),this._dispatchFlag||(c.event_initialize(this,h,p,v),this._detail=y)},l}(o.EventImpl);r.CustomEventImpl=u},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(6),s=a(2),o=a(105),c=a(17);r.nodeIterator_traverse=function(u,f){for(var l=u._reference,h=u._pointerBeforeReference;;){if(f)if(h)h=!1;else{var p=c.tree_getFollowingNode(u._root,l);if(!p)return null;l=p}else if(h){var v=c.tree_getPrecedingNode(u.root,l);if(!v)return null;l=v}else h=!0;if(o.traversal_filter(u,l)===s.FilterResult.Accept)break}return u._reference=l,u._pointerBeforeReference=h,l},r.nodeIterator_iteratorList=function(){return i.dom.window._iteratorList}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(9),s=a(7),o=a(174);function c(u){if(!o.xml_isName(u))throw new i.InvalidCharacterError("Invalid XML name: "+u);if(!o.xml_isQName(u))throw new i.InvalidCharacterError("Invalid XML qualified name: "+u+".")}r.namespace_validate=c,r.namespace_validateAndExtract=function(u,f){u||(u=null),c(f);var l=f.split(":"),h=l.length===2?l[0]:null,p=l.length===2?l[1]:f;if(h&&u===null)throw new i.NamespaceError("Qualified name includes a prefix but the namespace is null.");if(h==="xml"&&u!==s.namespace.XML)throw new i.NamespaceError('Qualified name includes the "xml" prefix but the namespace is not the XML namespace.');if(u!==s.namespace.XMLNS&&(h==="xmlns"||f==="xmlns"))throw new i.NamespaceError('Qualified name includes the "xmlns" prefix but the namespace is not the XMLNS namespace.');if(u===s.namespace.XMLNS&&h!=="xmlns"&&f!=="xmlns")throw new i.NamespaceError('Qualified name does not include the "xmlns" prefix but the namespace is the XMLNS namespace.');return[u,h,p]},r.namespace_extractQName=function(u){c(u);var f=u.split(":");return[f.length===2?f[0]:null,f.length===2?f[1]:u]}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.xml_isName=function(i){for(var s=0;s<i.length;s++){var o=i.charCodeAt(s);if(!(o>=97&&o<=122||o>=65&&o<=90||o===58||o===95||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533)&&(s===0||!(o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256))){if(o>=55296&&o<=56319&&s<i.length-1){var c=i.charCodeAt(s+1);if(c>=56320&&c<=57343&&(s++,(o=1024*(o-55296)+c-56320+65536)>=65536&&o<=983039))continue}return!1}}return!0},r.xml_isQName=function(i){for(var s=!1,o=0;o<i.length;o++){var c=i.charCodeAt(o);if(!(c>=97&&c<=122||c>=65&&c<=90||c===95||c>=192&&c<=214||c>=216&&c<=246||c>=248&&c<=767||c>=880&&c<=893||c>=895&&c<=8191||c>=8204&&c<=8205||c>=8304&&c<=8591||c>=11264&&c<=12271||c>=12289&&c<=55295||c>=63744&&c<=64975||c>=65008&&c<=65533)&&(o===0||!(c===45||c===46||c>=48&&c<=57||c===183||c>=768&&c<=879||c>=8255&&c<=8256))){if(o===0||c!==58){if(c>=55296&&c<=56319&&o<i.length-1){var u=i.charCodeAt(o+1);if(u>=56320&&u<=57343&&(o++,(c=1024*(c-55296)+u-56320+65536)>=65536&&c<=983039))continue}return!1}if(s||o===i.length-1)return!1;s=!0}}return!0},r.xml_isLegalChar=function(i){for(var s=0;s<i.length;s++){var o=i.charCodeAt(s);if(!(o===9||o===10||o===13||o>=32&&o<=55295||o>=57344&&o<=65533)){if(o>=55296&&o<=56319&&s<i.length-1){var c=i.charCodeAt(s+1);if(c>=56320&&c<=57343&&(s++,(o=1024*(o-55296)+c-56320+65536)>=65536&&o<=1114111))continue}return!1}}return!0},r.xml_isPubidChar=function(i){for(var s=0;s<i.length;s++){var o=i.charCodeAt(s);if(!(o>=97&&o<=122||o>=65&&o<=90||o>=39&&o<=59||o===32||o===13||o===10||o>=35&&o<=37||o===33||o===61||o===63||o===64||o===95))return!1}return!0}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(2),s=a(17);r.boundaryPoint_position=function o(c,u){var f=c[0],l=c[1],h=u[0],p=u[1];if(console.assert(s.tree_rootNode(f)===s.tree_rootNode(h),"Boundary points must share the same root node."),f===h)return l===p?i.BoundaryPosition.Equal:l<p?i.BoundaryPosition.Before:i.BoundaryPosition.After;if(s.tree_isFollowing(h,f)){var v=o([h,p],[f,l]);if(v===i.BoundaryPosition.Before)return i.BoundaryPosition.After;if(v===i.BoundaryPosition.After)return i.BoundaryPosition.Before}if(s.tree_isAncestorOf(h,f)){for(var y=h;!s.tree_isChildOf(f,y);)y._parent!==null&&(y=y._parent);if(s.tree_index(y)<l)return i.BoundaryPosition.After}return i.BoundaryPosition.Before}},function(n,r,a){var i=this&&this.__values||function(v){var y=typeof Symbol=="function"&&Symbol.iterator,_=y&&v[y],m=0;if(_)return _.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&m>=v.length&&(v=void 0),{value:v&&v[m++],done:!v}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(6),o=a(3),c=a(7),u=a(29),f=a(108),l=a(30),h=a(37),p=a(52);r.node_stringReplaceAll=function(v,y){var _=null;v!==""&&(_=u.create_text(y._nodeDocument,v)),h.mutation_replaceAll(_,y)},r.node_clone=function v(y,_,m){var d,g,x,w,C;if(_===void 0&&(_=null),m===void 0&&(m=!1),_===null&&(_=y._nodeDocument),o.Guard.isElementNode(y)){C=p.element_createAnElement(_,y._localName,y._namespace,y._namespacePrefix,y._is,!1);try{for(var S=i(y._attributeList),T=S.next();!T.done;T=S.next()){var b=v(T.value,_);p.element_append(b,C)}}catch(B){d={error:B}}finally{try{T&&!T.done&&(g=S.return)&&g.call(S)}finally{if(d)throw d.error}}}else if(o.Guard.isDocumentNode(y)){var O=u.create_document();O._encoding=y._encoding,O._contentType=y._contentType,O._URL=y._URL,O._origin=y._origin,O._type=y._type,O._mode=y._mode,C=O}else if(o.Guard.isDocumentTypeNode(y))C=u.create_documentType(_,y._name,y._publicId,y._systemId);else if(o.Guard.isAttrNode(y)){var D=u.create_attr(_,y.localName);D._namespace=y._namespace,D._namespacePrefix=y._namespacePrefix,D._value=y._value,C=D}else C=o.Guard.isExclusiveTextNode(y)?u.create_text(_,y._data):o.Guard.isCDATASectionNode(y)?u.create_cdataSection(_,y._data):o.Guard.isCommentNode(y)?u.create_comment(_,y._data):o.Guard.isProcessingInstructionNode(y)?u.create_processingInstruction(_,y._target,y._data):o.Guard.isDocumentFragmentNode(y)?u.create_documentFragment(_):Object.create(y);if(o.Guard.isDocumentNode(C)?(C._nodeDocument=C,_=C):C._nodeDocument=_,s.dom.features.steps&&l.dom_runCloningSteps(C,y,_,m),m)try{for(var M=i(y._children),R=M.next();!R.done;R=M.next()){var E=v(R.value,_,!0);h.mutation_append(E,C)}}catch(B){x={error:B}}finally{try{R&&!R.done&&(w=M.return)&&w.call(M)}finally{if(x)throw x.error}}return C},r.node_equals=function v(y,_){var m,d,g,x;if(y._nodeType!==_._nodeType)return!1;if(o.Guard.isDocumentTypeNode(y)&&o.Guard.isDocumentTypeNode(_)){if(y._name!==_._name||y._publicId!==_._publicId||y._systemId!==_._systemId)return!1}else if(o.Guard.isElementNode(y)&&o.Guard.isElementNode(_)){if(y._namespace!==_._namespace||y._namespacePrefix!==_._namespacePrefix||y._localName!==_._localName||y._attributeList.length!==_._attributeList.length)return!1}else if(o.Guard.isAttrNode(y)&&o.Guard.isAttrNode(_)){if(y._namespace!==_._namespace||y._localName!==_._localName||y._value!==_._value)return!1}else if(o.Guard.isProcessingInstructionNode(y)&&o.Guard.isProcessingInstructionNode(_)){if(y._target!==_._target||y._data!==_._data)return!1}else if(o.Guard.isCharacterDataNode(y)&&o.Guard.isCharacterDataNode(_)&&y._data!==_._data)return!1;if(o.Guard.isElementNode(y)&&o.Guard.isElementNode(_)){var w={};try{for(var C=i(y._attributeList),S=C.next();!S.done;S=C.next())w[(O=S.value)._localName]=O}catch(I){m={error:I}}finally{try{S&&!S.done&&(d=C.return)&&d.call(C)}finally{if(m)throw m.error}}try{for(var T=i(_._attributeList),b=T.next();!b.done;b=T.next()){var O,D=b.value;if(!(O=w[D._localName])||!v(O,D))return!1}}catch(I){g={error:I}}finally{try{b&&!b.done&&(x=T.return)&&x.call(T)}finally{if(g)throw g.error}}}if(y._children.size!==_._children.size)return!1;for(var M=y._children[Symbol.iterator](),R=_._children[Symbol.iterator](),E=M.next(),B=R.next();!E.done&&!B.done;){if(!v(E.value,B.value))return!1;E=M.next(),B=R.next()}return!0},r.node_listOfElementsWithQualifiedName=function(v,y){return v==="*"?u.create_htmlCollection(y):y._nodeDocument._type==="html"?u.create_htmlCollection(y,function(_){return _._namespace===c.namespace.HTML&&_._qualifiedName===v.toLowerCase()||_._namespace!==c.namespace.HTML&&_._qualifiedName===v}):u.create_htmlCollection(y,function(_){return _._qualifiedName===v})},r.node_listOfElementsWithNamespace=function(v,y,_){return v===""&&(v=null),v==="*"&&y==="*"?u.create_htmlCollection(_):v==="*"?u.create_htmlCollection(_,function(m){return m._localName===y}):y==="*"?u.create_htmlCollection(_,function(m){return m._namespace===v}):u.create_htmlCollection(_,function(m){return m._localName===y&&m._namespace===v})},r.node_listOfElementsWithClassNames=function(v,y){var _=f.orderedSet_parse(v);if(_.size===0)return u.create_htmlCollection(y,function(){return!1});var m=y._nodeDocument._mode!=="quirks";return u.create_htmlCollection(y,function(d){var g=d.classList;return f.orderedSet_contains(g._tokenSet,_,m)})},r.node_locateANamespacePrefix=function v(y,_){if(y._namespace===_&&y._namespacePrefix!==null)return y._namespacePrefix;for(var m=0;m<y._attributeList.length;m++){var d=y._attributeList[m];if(d._namespacePrefix==="xmlns"&&d._value===_)return d._localName}return y._parent&&o.Guard.isElementNode(y._parent)?v(y._parent,_):null},r.node_locateANamespace=function v(y,_){if(o.Guard.isElementNode(y)){if(y._namespace!==null&&y._namespacePrefix===_)return y._namespace;for(var m=0;m<y._attributeList.length;m++){var d=y._attributeList[m];if(d._namespace===c.namespace.XMLNS&&d._namespacePrefix==="xmlns"&&d._localName===_||_===null&&d._namespace===c.namespace.XMLNS&&d._namespacePrefix===null&&d._localName==="xmlns")return d._value||null}return y.parentElement===null?null:v(y.parentElement,_)}return o.Guard.isDocumentNode(y)?y.documentElement===null?null:v(y.documentElement,_):o.Guard.isDocumentTypeNode(y)||o.Guard.isDocumentFragmentNode(y)?null:o.Guard.isAttrNode(y)?y._element===null?null:v(y._element,_):y._parent&&o.Guard.isElementNode(y._parent)?v(y._parent,_):null}},function(n,r,a){var i=this&&this.__values||function(p){var v=typeof Symbol=="function"&&Symbol.iterator,y=v&&p[v],_=0;if(y)return y.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&_>=p.length&&(p=void 0),{value:p&&p[_++],done:!p}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(6),o=a(3),c=a(9),u=a(29),f=a(17),l=a(107),h=a(37);r.text_contiguousTextNodes=function(p,v){var y;return v===void 0&&(v=!1),(y={})[Symbol.iterator]=function(){for(var _=p;_&&o.Guard.isTextNode(_._previousSibling);)_=_._previousSibling;return{next:function(){if(_&&!v&&_===p&&(_=o.Guard.isTextNode(_._nextSibling)?_._nextSibling:null),_===null)return{done:!0,value:null};var m={done:!1,value:_};return _=o.Guard.isTextNode(_._nextSibling)?_._nextSibling:null,m}}},y},r.text_contiguousExclusiveTextNodes=function(p,v){var y;return v===void 0&&(v=!1),(y={})[Symbol.iterator]=function(){for(var _=p;_&&o.Guard.isExclusiveTextNode(_._previousSibling);)_=_._previousSibling;return{next:function(){if(_&&!v&&_===p&&(_=o.Guard.isExclusiveTextNode(_._nextSibling)?_._nextSibling:null),_===null)return{done:!0,value:null};var m={done:!1,value:_};return _=o.Guard.isExclusiveTextNode(_._nextSibling)?_._nextSibling:null,m}}},y},r.text_descendantTextContent=function(p){for(var v="",y=f.tree_getFirstDescendantNode(p,!1,!1,function(_){return o.Guard.isTextNode(_)});y!==null;)v+=y._data,y=f.tree_getNextDescendantNode(p,y,!1,!1,function(_){return o.Guard.isTextNode(_)});return v},r.text_split=function(p,v){var y,_,m=p._data.length;if(v>m)throw new c.IndexSizeError;var d=m-v,g=l.characterData_substringData(p,v,d),x=u.create_text(p._nodeDocument,g),w=p._parent;if(w!==null){h.mutation_insert(x,w,p._nextSibling);try{for(var C=i(s.dom.rangeList),S=C.next();!S.done;S=C.next()){var T=S.value;T._start[0]===p&&T._start[1]>v&&(T._start[0]=x,T._start[1]-=v),T._end[0]===p&&T._end[1]>v&&(T._end[0]=x,T._end[1]-=v);var b=f.tree_index(p);T._start[0]===w&&T._start[1]===b+1&&T._start[1]++,T._end[0]===w&&T._end[1]===b+1&&T._end[1]++}}catch(O){y={error:O}}finally{try{S&&!S.done&&(_=C.return)&&_.call(C)}finally{if(y)throw y.error}}}return l.characterData_replaceData(p,v,d,""),x}},function(n,r,a){var i=a(4),s=a(41),o=a(24),c=a(48),u=[].join,f=s!=Object,l=c("join",",");i({target:"Array",proto:!0,forced:f||!l},{join:function(h){return u.call(o(this),h===void 0?",":h)}})},function(n,r,a){var i=a(4),s=a(83),o=String.fromCharCode,c=String.fromCodePoint;i({target:"String",stat:!0,forced:!!c&&c.length!=1},{fromCodePoint:function(u){for(var f,l=[],h=arguments.length,p=0;h>p;){if(f=+arguments[p++],s(f,1114111)!==f)throw RangeError(f+" is not a valid code point");l.push(f<65536?o(f):o(55296+((f-=65536)>>10),f%1024+56320))}return l.join("")}})},function(n,r,a){var i=this&&this.__read||function(c,u){var f=typeof Symbol=="function"&&c[Symbol.iterator];if(!f)return c;var l,h,p=f.call(c),v=[];try{for(;(u===void 0||u-- >0)&&!(l=p.next()).done;)v.push(l.value)}catch(y){h={error:y}}finally{try{l&&!l.done&&(f=p.return)&&f.call(p)}finally{if(h)throw h.error}}return v};Object.defineProperty(r,"__esModule",{value:!0});var s=a(111),o=function(){function c(u,f){this._options={skipWhitespaceOnlyText:!1},this.err={line:-1,col:-1,index:-1,str:""},this._str=u,this._index=0,this._length=u.length,f&&(this._options.skipWhitespaceOnlyText=f.skipWhitespaceOnlyText||!1)}return c.prototype.nextToken=function(){if(this.eof())return{type:s.TokenType.EOF};var u=this.skipIfStartsWith("<")?this.openBracket():this.text();return this._options.skipWhitespaceOnlyText&&u.type===s.TokenType.Text&&c.isWhiteSpaceToken(u)&&(u=this.nextToken()),u},c.prototype.openBracket=function(){return this.skipIfStartsWith("?")?this.skipIfStartsWith("xml")?c.isSpace(this._str[this._index])?this.declaration():(this.seek(-3),this.pi()):this.pi():this.skipIfStartsWith("!")?this.skipIfStartsWith("--")?this.comment():this.skipIfStartsWith("[CDATA[")?this.cdata():this.skipIfStartsWith("DOCTYPE")?this.doctype():void this.throwError("Invalid '!' in opening tag."):this.skipIfStartsWith("/")?this.closeTag():this.openTag()},c.prototype.declaration=function(){for(var u="",f="",l="";!this.eof();){if(this.skipSpace(),this.skipIfStartsWith("?>"))return{type:s.TokenType.Declaration,version:u,encoding:f,standalone:l};var h=i(this.attribute(),2),p=h[0],v=h[1];p==="version"?u=v:p==="encoding"?f=v:p==="standalone"?l=v:this.throwError("Invalid attribute name: "+p)}this.throwError("Missing declaration end symbol `?>`")},c.prototype.doctype=function(){var u="",f="";this.skipSpace();var l=this.takeUntil2("[",">",!0);return this.skipSpace(),this.skipIfStartsWith("PUBLIC")?(u=this.quotedString(),f=this.quotedString()):this.skipIfStartsWith("SYSTEM")&&(f=this.quotedString()),this.skipSpace(),this.skipIfStartsWith("[")&&(this.skipUntil("]"),this.skipIfStartsWith("]")||this.throwError("Missing end bracket of DTD internal subset")),this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing doctype end symbol `>`"),{type:s.TokenType.DocType,name:l,pubId:u,sysId:f}},c.prototype.pi=function(){var u=this.takeUntilStartsWith("?>",!0);if(this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.skipSpace(),this.skipIfStartsWith("?>"))return{type:s.TokenType.PI,target:u,data:""};var f=this.takeUntilStartsWith("?>");return this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.seek(2),{type:s.TokenType.PI,target:u,data:f}},c.prototype.text=function(){var u=this.takeUntil("<");return{type:s.TokenType.Text,data:u}},c.prototype.comment=function(){var u=this.takeUntilStartsWith("-->");return this.eof()&&this.throwError("Missing comment end symbol `-->`"),this.seek(3),{type:s.TokenType.Comment,data:u}},c.prototype.cdata=function(){var u=this.takeUntilStartsWith("]]>");return this.eof()&&this.throwError("Missing CDATA end symbol `]>`"),this.seek(3),{type:s.TokenType.CDATA,data:u}},c.prototype.openTag=function(){this.skipSpace();var u=this.takeUntil2(">","/",!0);if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:s.TokenType.Element,name:u,attributes:[],selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:s.TokenType.Element,name:u,attributes:[],selfClosing:!0};for(var f=[];!this.eof();){if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:s.TokenType.Element,name:u,attributes:f,selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:s.TokenType.Element,name:u,attributes:f,selfClosing:!0};var l=this.attribute();f.push(l)}this.throwError("Missing opening element tag end symbol `>`")},c.prototype.closeTag=function(){this.skipSpace();var u=this.takeUntil(">",!0);return this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing closing element tag end symbol `>`"),{type:s.TokenType.ClosingTag,name:u}},c.prototype.attribute=function(){this.skipSpace();var u=this.takeUntil("=",!0);return this.skipSpace(),this.skipIfStartsWith("=")||this.throwError("Missing equals sign before attribute value"),[u,this.quotedString()]},c.prototype.quotedString=function(){this.skipSpace();var u=this.take(1);c.isQuote(u)||this.throwError("Missing start quote character before quoted value");var f=this.takeUntil(u);return this.skipIfStartsWith(u)||this.throwError("Missing end quote character after quoted value"),f},c.prototype.eof=function(){return this._index>=this._length},c.prototype.skipIfStartsWith=function(u){var f=u.length;if(f===1)return this._str[this._index]===u&&(this._index++,!0);for(var l=0;l<f;l++)if(this._str[this._index+l]!==u[l])return!1;return this._index+=f,!0},c.prototype.seek=function(u){this._index+=u,this._index<0&&(this._index=0),this._index>this._length&&(this._index=this._length)},c.prototype.skipSpace=function(){for(;!this.eof()&&c.isSpace(this._str[this._index]);)this._index++},c.prototype.take=function(u){if(u===1)return this._str[this._index++];var f=this._index;return this.seek(u),this._str.slice(f,this._index)},c.prototype.takeUntil=function(u,f){f===void 0&&(f=!1);for(var l=this._index;this._index<this._length;){var h=this._str[this._index];if(h===u||f&&c.isSpace(h))break;this._index++}return this._str.slice(l,this._index)},c.prototype.takeUntil2=function(u,f,l){l===void 0&&(l=!1);for(var h=this._index;this._index<this._length;){var p=this._str[this._index];if(p===u||p===f||l&&c.isSpace(p))break;this._index++}return this._str.slice(h,this._index)},c.prototype.takeUntilStartsWith=function(u,f){f===void 0&&(f=!1);for(var l=this._index,h=u.length;this._index<this._length;){for(var p=!0,v=0;v<h;v++){var y=this._str[this._index+v],_=u[v];if(f&&c.isSpace(y))return this._str.slice(l,this._index);if(y!==_){this._index++,p=!1;break}}if(p)return this._str.slice(l,this._index)}return this._index=this._length,this._str.slice(l)},c.prototype.skipUntil=function(u){for(;this._index<this._length&&this._str[this._index]!==u;)this._index++},c.isWhiteSpaceToken=function(u){for(var f=u.data,l=0;l<f.length;l++){var h=f[l];if(h!==" "&&h!==`
`&&h!=="\r"&&h!=="	"&&h!=="\f")return!1}return!0},c.isSpace=function(u){return u===" "||u===`
`||u==="\r"||u==="	"},c.isQuote=function(u){return u==='"'||u==="'"},c.prototype.throwError=function(u){for(var f=/\r\n|\r|\n/g,l=null,h=0,p=0,v=this._str.length;(l=f.exec(this._str))!==null&&l!==null;)if(h++,l.index<this._index&&(p=f.lastIndex),l.index>this._index){v=l.index;break}throw this.err={line:h,col:this._index-p,index:this._index,str:this._str.substring(p,v)},new Error(u+`
Index: `+this.err.index+`
Ln: `+this.err.line+", Col: "+this.err.col+`
Input: `+this.err.str)},c.prototype[Symbol.iterator]=function(){return this._index=0,{next:function(){var u=this.nextToken();return u.type===s.TokenType.EOF?{done:!0,value:null}:{done:!1,value:u}}.bind(this)}},c}();r.XMLStringLexer=o},function(n,r,a){var i=a(39);n.exports=new i({include:[a(182)]})},function(n,r,a){var i=a(39);n.exports=new i({include:[a(113)],implicit:[a(289),a(290),a(291),a(292)]})},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(91),s=a(1),o=a(3),c=a(77),u=a(109);function f(v,y){var _=h(v===void 0||l(v)?v:i.DefaultBuilderOptions),m=l(v)?y:v,d=u.createDocument();p(d,_);var g=new c.XMLBuilderImpl(d);return m!==void 0&&g.ele(m),g}function l(v){if(!s.isPlainObject(v))return!1;for(var y in v)if(v.hasOwnProperty(y)&&!i.XMLBuilderOptionKeys.has(y))return!1;return!0}function h(v){v===void 0&&(v={});var y=s.applyDefaults(v,i.DefaultBuilderOptions);if(y.convert.att.length===0||y.convert.ins.length===0||y.convert.text.length===0||y.convert.cdata.length===0||y.convert.comment.length===0)throw new Error("JS object converter strings cannot be zero length.");return y}function p(v,y,_){var m=v;m._xmlBuilderOptions=y,m._isFragment=_}r.builder=function(v,y){var _=h(l(v)?v:i.DefaultBuilderOptions),m=o.Guard.isNode(v)||s.isArray(v)?v:y;if(m===void 0)throw new Error("Invalid arguments.");if(s.isArray(m)){for(var d=[],g=0;g<m.length;g++){var x=new c.XMLBuilderImpl(m[g]);x.set(_),d.push(x)}return d}var w=new c.XMLBuilderImpl(m);return w.set(_),w},r.create=f,r.fragment=function(v,y){var _=h(v===void 0||l(v)?v:i.DefaultBuilderOptions),m=l(v)?y:v,d=u.createDocument();p(d,_,!0);var g=new c.XMLBuilderImpl(d.createDocumentFragment());return m!==void 0&&g.ele(m),g},r.convert=function(v,y,_){var m,d,g;return l(v)&&y!==void 0?(m=v,d=y,g=_):(m=i.DefaultBuilderOptions,d=v,g=y||void 0),f(m,d).end(g)}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(77);r.builder=i.builder,r.create=i.create,r.fragment=i.fragment,r.convert=i.convert,r.createCB=i.createCB,r.fragmentCB=i.fragmentCB},function(n,r,a){a(31),a(32),a(33),a(191),a(192),a(194),a(64),a(19),a(198),a(199),a(89),a(201),a(65),a(20),a(66),a(22),a(23);var i=this&&this.__read||function(m,d){var g=typeof Symbol=="function"&&m[Symbol.iterator];if(!g)return m;var x,w,C=g.call(m),S=[];try{for(;(d===void 0||d-- >0)&&!(x=C.next()).done;)S.push(x.value)}catch(T){w={error:T}}finally{try{x&&!x.done&&(g=C.return)&&g.call(C)}finally{if(w)throw w.error}}return S},s=this&&this.__values||function(m){var d=typeof Symbol=="function"&&Symbol.iterator,g=d&&m[d],x=0;if(g)return g.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&x>=m.length&&(m=void 0),{value:m&&m[x++],done:!m}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=a(91),c=a(1),u=a(217),f=a(2),l=a(3),h=a(0),p=a(109),v=a(7),y=a(276),_=function(){function m(d){this._domNode=d}return Object.defineProperty(m.prototype,"node",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),m.prototype.set=function(d){return this._options=c.applyDefaults(c.applyDefaults(this._options,d,!0),o.DefaultBuilderOptions),this},m.prototype.ele=function(d,g,x){var w,C,S,T,b,O;if(c.isObject(d))return new y.ObjectReader(this._options).parse(this,d);if(d!==null&&/^\s*</.test(d))return new y.XMLReader(this._options).parse(this,d);if(d!==null&&/^\s*[\{\[]/.test(d))return new y.JSONReader(this._options).parse(this,d);if(d!==null&&/^(\s*|(#.*)|(%.*))*---/.test(d))return new y.YAMLReader(this._options).parse(this,d);if((d===null||c.isString(d))&&c.isString(g))T=(w=i([d,g,x],3))[0],b=w[1],O=w[2];else{if(d===null)throw new Error("Element name cannot be null. "+this._debugInfo());T=(C=i([void 0,d,c.isObject(g)?g:void 0],3))[0],b=C[1],O=C[2]}if(O&&(O=c.getValue(O)),T=(S=i(this._extractNamespace(p.sanitizeInput(T,this._options.invalidCharReplacement),p.sanitizeInput(b,this._options.invalidCharReplacement),!0),2))[0],b=S[1],T===void 0){var D=i(h.namespace_extractQName(b),1)[0];T=this.node.lookupNamespaceURI(D)}var M=T!=null?this._doc.createElementNS(T,b):this._doc.createElement(b);this.node.appendChild(M);var R=new m(M),E=this._doc.doctype;if(M===this._doc.documentElement&&E!==null){var B=this._doc.implementation.createDocumentType(this._doc.documentElement.tagName,E.publicId,E.systemId);this._doc.replaceChild(B,E)}return O&&!c.isEmpty(O)&&R.att(O),R},m.prototype.remove=function(){var d=this.up();return d.node.removeChild(this.node),d},m.prototype.att=function(d,g,x){var w,C,S,T,b,O,D=this;if(c.isMap(d)||c.isObject(d))return c.forEachObject(d,function(L,F){return D.att(L,F)},this),this;if(d!=null&&(d=c.getValue(d+"")),g!=null&&(g=c.getValue(g+"")),x!=null&&(x=c.getValue(x+"")),d!==null&&!c.isString(d)||!c.isString(g)||x!==null&&!c.isString(x)){if(!c.isString(d)||g!=null&&!c.isString(g))throw new Error("Attribute name and value not specified. "+this._debugInfo());T=(C=i([void 0,d,g],3))[0],b=C[1],O=C[2]}else T=(w=i([d,g,x],3))[0],b=w[1],O=w[2];if(this._options.keepNullAttributes&&O==null)O="";else if(O==null)return this;if(!l.Guard.isElementNode(this.node))throw new Error("An attribute can only be assigned to an element node.");var M=this.node;T=(S=i(this._extractNamespace(T,b,!1),2))[0],b=S[1],b=p.sanitizeInput(b,this._options.invalidCharReplacement),T=p.sanitizeInput(T,this._options.invalidCharReplacement),O=p.sanitizeInput(O,this._options.invalidCharReplacement);var R=i(h.namespace_extractQName(b),2),E=R[0],B=R[1],I=i(h.namespace_extractQName(M.prefix?M.prefix+":"+M.localName:M.localName),1)[0],P=null;return E==="xmlns"?(T=v.namespace.XMLNS,M.namespaceURI===null&&I===B&&(P=O)):E===null&&B==="xmlns"&&I===null&&(T=v.namespace.XMLNS,P=O),P!==null&&(this._updateNamespace(P),M=this.node),T!==void 0?M.setAttributeNS(T,b,O):M.setAttribute(b,O),this},m.prototype.removeAtt=function(d,g){var x,w,C=this;if(!l.Guard.isElementNode(this.node))throw new Error("An attribute can only be removed from an element node.");if(d=c.getValue(d),g!==void 0&&(g=c.getValue(g)),d!==null&&g===void 0)w=d;else{if(d!==null&&!c.isString(d)||g===void 0)throw new Error("Attribute namespace must be a string. "+this._debugInfo());x=d,w=g}return c.isArray(w)||c.isSet(w)?c.forEachArray(w,function(S){return x===void 0?C.removeAtt(S):C.removeAtt(x,S)},this):x!==void 0?(w=p.sanitizeInput(w,this._options.invalidCharReplacement),x=p.sanitizeInput(x,this._options.invalidCharReplacement),this.node.removeAttributeNS(x,w)):(w=p.sanitizeInput(w,this._options.invalidCharReplacement),this.node.removeAttribute(w)),this},m.prototype.txt=function(d){if(d==null){if(!this._options.keepNullNodes)return this;d=""}var g=this._doc.createTextNode(p.sanitizeInput(d,this._options.invalidCharReplacement));return this.node.appendChild(g),this},m.prototype.com=function(d){if(d==null){if(!this._options.keepNullNodes)return this;d=""}var g=this._doc.createComment(p.sanitizeInput(d,this._options.invalidCharReplacement));return this.node.appendChild(g),this},m.prototype.dat=function(d){if(d==null){if(!this._options.keepNullNodes)return this;d=""}var g=this._doc.createCDATASection(p.sanitizeInput(d,this._options.invalidCharReplacement));return this.node.appendChild(g),this},m.prototype.ins=function(d,g){var x=this;if(g===void 0&&(g=""),g==null){if(!this._options.keepNullNodes)return this;g=""}if(c.isArray(d)||c.isSet(d))c.forEachArray(d,function(C){var S=(C+="").indexOf(" "),T=S===-1?C:C.substr(0,S),b=S===-1?"":C.substr(S+1);x.ins(T,b)},this);else if(c.isMap(d)||c.isObject(d))c.forEachObject(d,function(C,S){return x.ins(C,S)},this);else{var w=this._doc.createProcessingInstruction(p.sanitizeInput(d,this._options.invalidCharReplacement),p.sanitizeInput(g,this._options.invalidCharReplacement));this.node.appendChild(w)}return this},m.prototype.dec=function(d){return this._options.version=d.version||"1.0",this._options.encoding=d.encoding,this._options.standalone=d.standalone,this},m.prototype.dtd=function(d){var g=p.sanitizeInput(d&&d.name||(this._doc.documentElement?this._doc.documentElement.tagName:"ROOT"),this._options.invalidCharReplacement),x=p.sanitizeInput(d&&d.pubID||"",this._options.invalidCharReplacement),w=p.sanitizeInput(d&&d.sysID||"",this._options.invalidCharReplacement);if(this._doc.documentElement!==null&&g!==this._doc.documentElement.tagName)throw new Error("DocType name does not match document element name.");var C=this._doc.implementation.createDocumentType(g,x,w);return this._doc.doctype!==null?this._doc.replaceChild(C,this._doc.doctype):this._doc.insertBefore(C,this._doc.documentElement),this},m.prototype.import=function(d){var g,x,w=this._domNode,C=this._doc,S=d.node;if(l.Guard.isDocumentNode(S)){var T=S.documentElement;if(T===null)throw new Error("Imported document has no document element node. "+this._debugInfo());var b=C.importNode(T,!0);w.appendChild(b);var O=i(h.namespace_extractQName(b.prefix?b.prefix+":"+b.localName:b.localName),1)[0],D=w.lookupNamespaceURI(O);new m(b)._updateNamespace(D)}else if(l.Guard.isDocumentFragmentNode(S))try{for(var M=s(S.childNodes),R=M.next();!R.done;R=M.next()){var E=R.value;b=C.importNode(E,!0),w.appendChild(b),l.Guard.isElementNode(b)&&(O=i(h.namespace_extractQName(b.prefix?b.prefix+":"+b.localName:b.localName),1)[0],D=w.lookupNamespaceURI(O),new m(b)._updateNamespace(D))}}catch(B){g={error:B}}finally{try{R&&!R.done&&(x=M.return)&&x.call(M)}finally{if(g)throw g.error}}else b=C.importNode(S,!0),w.appendChild(b),l.Guard.isElementNode(b)&&(O=i(h.namespace_extractQName(b.prefix?b.prefix+":"+b.localName:b.localName),1)[0],D=w.lookupNamespaceURI(O),new m(b)._updateNamespace(D));return this},m.prototype.doc=function(){if(this._doc._isFragment){for(var d=this.node;d&&d.nodeType!==f.NodeType.DocumentFragment;)d=d.parentNode;if(d===null)throw new Error("Node has no parent node while searching for document fragment ancestor. "+this._debugInfo());return new m(d)}return new m(this._doc)},m.prototype.root=function(){var d=this._doc.documentElement;if(!d)throw new Error("Document root element is null. "+this._debugInfo());return new m(d)},m.prototype.up=function(){var d=this._domNode.parentNode;if(!d)throw new Error("Parent node is null. "+this._debugInfo());return new m(d)},m.prototype.prev=function(){var d=this._domNode.previousSibling;if(!d)throw new Error("Previous sibling node is null. "+this._debugInfo());return new m(d)},m.prototype.next=function(){var d=this._domNode.nextSibling;if(!d)throw new Error("Next sibling node is null. "+this._debugInfo());return new m(d)},m.prototype.first=function(){var d=this._domNode.firstChild;if(!d)throw new Error("First child node is null. "+this._debugInfo());return new m(d)},m.prototype.last=function(){var d=this._domNode.lastChild;if(!d)throw new Error("Last child node is null. "+this._debugInfo());return new m(d)},m.prototype.each=function(d,g,x,w){g===void 0&&(g=!1),x===void 0&&(x=!1);for(var C=this._getFirstDescendantNode(this._domNode,g,x);C[0];){var S=this._getNextDescendantNode(this._domNode,C[0],x,C[1],C[2]);d.call(w,new m(C[0]),C[1],C[2]),C=S}return this},m.prototype.map=function(d,g,x,w){g===void 0&&(g=!1),x===void 0&&(x=!1);var C=[];return this.each(function(S,T,b){return C.push(d.call(w,S,T,b))},g,x),C},m.prototype.reduce=function(d,g,x,w,C){x===void 0&&(x=!1),w===void 0&&(w=!1);var S=g;return this.each(function(T,b,O){return S=d.call(C,S,T,b,O)},x,w),S},m.prototype.find=function(d,g,x,w){g===void 0&&(g=!1),x===void 0&&(x=!1);for(var C=this._getFirstDescendantNode(this._domNode,g,x);C[0];){var S=new m(C[0]);if(d.call(w,S,C[1],C[2]))return S;C=this._getNextDescendantNode(this._domNode,C[0],x,C[1],C[2])}},m.prototype.filter=function(d,g,x,w){g===void 0&&(g=!1),x===void 0&&(x=!1);var C=[];return this.each(function(S,T,b){d.call(w,S,T,b)&&C.push(S)},g,x),C},m.prototype.every=function(d,g,x,w){g===void 0&&(g=!1),x===void 0&&(x=!1);for(var C=this._getFirstDescendantNode(this._domNode,g,x);C[0];){var S=new m(C[0]);if(!d.call(w,S,C[1],C[2]))return!1;C=this._getNextDescendantNode(this._domNode,C[0],x,C[1],C[2])}return!0},m.prototype.some=function(d,g,x,w){g===void 0&&(g=!1),x===void 0&&(x=!1);for(var C=this._getFirstDescendantNode(this._domNode,g,x);C[0];){var S=new m(C[0]);if(d.call(w,S,C[1],C[2]))return!0;C=this._getNextDescendantNode(this._domNode,C[0],x,C[1],C[2])}return!1},m.prototype.toArray=function(d,g){d===void 0&&(d=!1),g===void 0&&(g=!1);var x=[];return this.each(function(w){return x.push(w)},d,g),x},m.prototype.toString=function(d){return(d=d||{}).format===void 0&&(d.format="xml"),this._serialize(d)},m.prototype.toObject=function(d){return(d=d||{}).format===void 0&&(d.format="object"),this._serialize(d)},m.prototype.end=function(d){return(d=d||{}).format===void 0&&(d.format="xml"),this.doc()._serialize(d)},m.prototype._getFirstDescendantNode=function(d,g,x){return g?[this._domNode,0,0]:x?this._getNextDescendantNode(d,d,x,0,0):[this._domNode.firstChild,0,1]},m.prototype._getNextDescendantNode=function(d,g,x,w,C){if(!x)return d===g?[g.firstChild,0,C+1]:[g.nextSibling,w+1,C];if(g.firstChild)return[g.firstChild,0,C+1];if(g===d)return[null,-1,-1];if(g.nextSibling)return[g.nextSibling,w+1,C];for(var S=g.parentNode;S&&S!==d;){if(S.nextSibling)return[S.nextSibling,h.tree_index(S.nextSibling),C-1];S=S.parentNode,C--}return[null,-1,-1]},m.prototype._serialize=function(d){if(d.format==="xml")return new u.XMLWriter(this._options,d).serialize(this.node);if(d.format==="map")return new u.MapWriter(this._options,d).serialize(this.node);if(d.format==="object")return new u.ObjectWriter(this._options,d).serialize(this.node);if(d.format==="json")return new u.JSONWriter(this._options,d).serialize(this.node);if(d.format==="yaml")return new u.YAMLWriter(this._options,d).serialize(this.node);throw new Error("Invalid writer format: "+d.format+". "+this._debugInfo())},m.prototype._extractNamespace=function(d,g,x){var w=g.indexOf("@");if(w>0&&(d===void 0&&(d=g.slice(w+1)),g=g.slice(0,w)),d===void 0)d=x?this._options.defaultNamespace.ele:this._options.defaultNamespace.att;else if(d!==null&&d[0]==="@"){var C=d.slice(1);if((d=this._options.namespaceAlias[C])===void 0)throw new Error("Namespace alias `"+C+"` is not defined. "+this._debugInfo())}return[d,g]},m.prototype._updateNamespace=function(d){var g,x,w,C,S=this._domNode;if(l.Guard.isElementNode(S)&&d!==null&&S.namespaceURI!==d){var T=i(h.namespace_extractQName(S.prefix?S.prefix+":"+S.localName:S.localName),2),b=T[0],O=T[1],D=h.create_element(this._doc,O,d,b);try{for(var M=s(S.attributes),R=M.next();!R.done;R=M.next()){var E=R.value,B=E.prefix?E.prefix+":"+E.localName:E.localName,I=i(h.namespace_extractQName(B),1)[0],P=E.namespaceURI;P===null&&I!==null&&(P=S.lookupNamespaceURI(I)),P===null?D.setAttribute(B,E.value):D.setAttributeNS(P,B,E.value)}}catch(Q){g={error:Q}}finally{try{R&&!R.done&&(x=M.return)&&x.call(M)}finally{if(g)throw g.error}}var L=S.parentNode;if(L===null)throw new Error("Parent node is null."+this._debugInfo());L.replaceChild(D,S),this._domNode=D;try{for(var F=s(S.childNodes),G=F.next();!G.done;G=F.next()){var $=G.value.cloneNode(!0);if(D.appendChild($),l.Guard.isElementNode($)){var H=i(h.namespace_extractQName($.prefix?$.prefix+":"+$.localName:$.localName),1)[0],J=D.lookupNamespaceURI(H);new m($)._updateNamespace(J)}}}catch(Q){w={error:Q}}finally{try{G&&!G.done&&(C=F.return)&&C.call(F)}finally{if(w)throw w.error}}}},Object.defineProperty(m.prototype,"_doc",{get:function(){var d=this.node;if(l.Guard.isDocumentNode(d))return d;var g=d.ownerDocument;if(!g)throw new Error("Owner document is null. "+this._debugInfo());return g},enumerable:!0,configurable:!0}),m.prototype._debugInfo=function(d){var g=this.node,x=g.parentNode;d=d||g.nodeName;var w=x?x.nodeName:"";return w?"node: <"+d+">, parent: <"+w+">":"node: <"+d+">"},Object.defineProperty(m.prototype,"_options",{get:function(){var d=this._doc;if(d._xmlBuilderOptions===void 0)throw new Error("Builder options is not set.");return d._xmlBuilderOptions},set:function(d){this._doc._xmlBuilderOptions=d},enumerable:!0,configurable:!0}),m}();r.XMLBuilderImpl=_},function(n,r,a){var i=a(11),s=a(117),o=i.WeakMap;n.exports=typeof o=="function"&&/native code/.test(s(o))},function(n,r,a){var i=a(46),s=a(82),o=a(85),c=a(18);n.exports=i("Reflect","ownKeys")||function(u){var f=s.f(c(u)),l=o.f;return l?f.concat(l(u)):f}},function(n,r,a){var i=a(16),s=a(15),o=a(18),c=a(61);n.exports=i?Object.defineProperties:function(u,f){o(u);for(var l,h=c(f),p=h.length,v=0;p>v;)s.f(u,l=h[v++],f[l]);return u}},function(n,r,a){var i=a(46);n.exports=i("document","documentElement")},function(n,r,a){var i=a(24),s=a(82).f,o={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return c&&o.call(u)=="[object Window]"?function(f){try{return s(f)}catch{return c.slice()}}(u):s(i(u))}},function(n,r,a){var i=a(4),s=a(36).every,o=a(48),c=a(28),u=o("every"),f=c("every");i({target:"Array",proto:!0,forced:!u||!f},{every:function(l){return s(this,l,arguments.length>1?arguments[1]:void 0)}})},function(n,r,a){var i=a(4),s=a(36).filter,o=a(63),c=a(28),u=o("filter"),f=c("filter");i({target:"Array",proto:!0,forced:!u||!f},{filter:function(l){return s(this,l,arguments.length>1?arguments[1]:void 0)}})},function(n,r,a){var i=a(46);n.exports=i("navigator","userAgent")||""},function(n,r,a){var i=a(4),s=a(36).find,o=a(130),c=a(28),u=!0,f=c("find");"find"in[]&&Array(1).find(function(){u=!1}),i({target:"Array",proto:!0,forced:u||!f},{find:function(l){return s(this,l,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(n,r,a){var i=a(131).IteratorPrototype,s=a(60),o=a(40),c=a(62),u=a(49),f=function(){return this};n.exports=function(l,h,p){var v=h+" Iterator";return l.prototype=s(i,{next:o(1,p)}),c(l,v,!1,!0),u[v]=f,l}},function(n,r,a){var i=a(8);n.exports=!i(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},function(n,r,a){var i=a(13);n.exports=function(s){if(!i(s)&&s!==null)throw TypeError("Can't set "+String(s)+" as a prototype");return s}},function(n,r,a){var i=a(4),s=a(36).map,o=a(63),c=a(28),u=o("map"),f=c("map");i({target:"Array",proto:!0,forced:!u||!f},{map:function(l){return s(this,l,arguments.length>1?arguments[1]:void 0)}})},function(n,r,a){var i=a(4),s=a(200).left,o=a(48),c=a(28),u=o("reduce"),f=c("reduce",{1:0});i({target:"Array",proto:!0,forced:!u||!f},{reduce:function(l){return s(this,l,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(n,r,a){var i=a(127),s=a(27),o=a(41),c=a(26),u=function(f){return function(l,h,p,v){i(h);var y=s(l),_=o(y),m=c(y.length),d=f?m-1:0,g=f?-1:1;if(p<2)for(;;){if(d in _){v=_[d],d+=g;break}if(d+=g,f?d<0:m<=d)throw TypeError("Reduce of empty array with no initial value")}for(;f?d>=0:m>d;d+=g)d in _&&(v=h(v,_[d],d,y));return v}};n.exports={left:u(!1),right:u(!0)}},function(n,r,a){var i=a(4),s=a(36).some,o=a(48),c=a(28),u=o("some"),f=c("some");i({target:"Array",proto:!0,forced:!u||!f},{some:function(l){return s(this,l,arguments.length>1?arguments[1]:void 0)}})},function(n,r,a){var i=a(90),s=a(135);n.exports=i?{}.toString:function(){return"[object "+s(this)+"]"}},function(n,r){n.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(n,r,a){var i=a(8);n.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(n,r,a){var i=a(5),s=a(49),o=i("iterator"),c=Array.prototype;n.exports=function(u){return u!==void 0&&(s.Array===u||c[o]===u)}},function(n,r,a){var i=a(135),s=a(49),o=a(5)("iterator");n.exports=function(c){if(c!=null)return c[o]||c["@@iterator"]||s[i(c)]}},function(n,r,a){var i=a(18);n.exports=function(s,o,c,u){try{return u?o(i(c)[0],c[1]):o(c)}catch(l){var f=s.return;throw f!==void 0&&i(f.call(s)),l}}},function(n,r,a){var i=a(5)("iterator"),s=!1;try{var o=0,c={next:function(){return{done:!!o++}},return:function(){s=!0}};c[i]=function(){return this},Array.from(c,function(){throw 2})}catch{}n.exports=function(u,f){if(!f&&!s)return!1;var l=!1;try{var h={};h[i]=function(){return{next:function(){return{done:l=!0}}}},u(h)}catch{}return l}},function(n,r,a){var i=a(13),s=a(133);n.exports=function(o,c,u){var f,l;return s&&typeof(f=c.constructor)=="function"&&f!==u&&i(l=f.prototype)&&l!==u.prototype&&s(o,l),o}},function(n,r,a){var i=a(25);n.exports=function(s,o,c){for(var u in o)i(s,u,o[u],c);return s}},function(n,r,a){var i=a(46),s=a(15),o=a(5),c=a(16),u=o("species");n.exports=function(f){var l=i(f),h=s.f;c&&l&&!l[u]&&h(l,u,{configurable:!0,get:function(){return this}})}},function(n,r,a){var i=this&&this.__generator||function(c,u){var f,l,h,p,v={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(_){return function(m){return function(d){if(f)throw new TypeError("Generator is already executing.");for(;v;)try{if(f=1,l&&(h=2&d[0]?l.return:d[0]?l.throw||((h=l.return)&&h.call(l),0):l.next)&&!(h=h.call(l,d[1])).done)return h;switch(l=0,h&&(d=[2&d[0],h.value]),d[0]){case 0:case 1:h=d;break;case 4:return v.label++,{value:d[1],done:!1};case 5:v.label++,l=d[1],d=[0];continue;case 7:d=v.ops.pop(),v.trys.pop();continue;default:if(h=v.trys,!((h=h.length>0&&h[h.length-1])||d[0]!==6&&d[0]!==2)){v=0;continue}if(d[0]===3&&(!h||d[1]>h[0]&&d[1]<h[3])){v.label=d[1];break}if(d[0]===6&&v.label<h[1]){v.label=h[1],h=d;break}if(h&&v.label<h[2]){v.label=h[2],v.ops.push(d);break}h[2]&&v.ops.pop(),v.trys.pop();continue}d=u.call(c,v)}catch(g){d=[6,g],l=0}finally{f=h=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([_,m])}}},s=this&&this.__values||function(c){var u=typeof Symbol=="function"&&Symbol.iterator,f=u&&c[u],l=0;if(f)return f.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&l>=c.length&&(c=void 0),{value:c&&c[l++],done:!c}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function c(u){u===void 0&&(u=1e3),this._items=new Set,this._limit=u}return c.prototype.add=function(u){if(this._items.add(u),this._items.size>this._limit){var f=this._items.values().next();f.done||this._items.delete(f.value)}return this},c.prototype.delete=function(u){return this._items.delete(u)},c.prototype.has=function(u){return this._items.has(u)},c.prototype.clear=function(){this._items.clear()},Object.defineProperty(c.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),c.prototype.forEach=function(u,f){var l=this;this._items.forEach(function(h){return u.call(f,h,h,l)})},c.prototype.keys=function(){return i(this,function(u){switch(u.label){case 0:return[5,s(this._items.keys())];case 1:return u.sent(),[2]}})},c.prototype.values=function(){return i(this,function(u){switch(u.label){case 0:return[5,s(this._items.values())];case 1:return u.sent(),[2]}})},c.prototype.entries=function(){return i(this,function(u){switch(u.label){case 0:return[5,s(this._items.entries())];case 1:return u.sent(),[2]}})},c.prototype[Symbol.iterator]=function(){return i(this,function(u){switch(u.label){case 0:return[5,s(this._items)];case 1:return u.sent(),[2]}})},Object.defineProperty(c.prototype,Symbol.toStringTag,{get:function(){return"FixedSizeSet"},enumerable:!0,configurable:!0}),c}();r.FixedSizeSet=o},function(n,r,a){var i=this&&this.__generator||function(c,u){var f,l,h,p,v={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(_){return function(m){return function(d){if(f)throw new TypeError("Generator is already executing.");for(;v;)try{if(f=1,l&&(h=2&d[0]?l.return:d[0]?l.throw||((h=l.return)&&h.call(l),0):l.next)&&!(h=h.call(l,d[1])).done)return h;switch(l=0,h&&(d=[2&d[0],h.value]),d[0]){case 0:case 1:h=d;break;case 4:return v.label++,{value:d[1],done:!1};case 5:v.label++,l=d[1],d=[0];continue;case 7:d=v.ops.pop(),v.trys.pop();continue;default:if(h=v.trys,!((h=h.length>0&&h[h.length-1])||d[0]!==6&&d[0]!==2)){v=0;continue}if(d[0]===3&&(!h||d[1]>h[0]&&d[1]<h[3])){v.label=d[1];break}if(d[0]===6&&v.label<h[1]){v.label=h[1],h=d;break}if(h&&v.label<h[2]){v.label=h[2],v.ops.push(d);break}h[2]&&v.ops.pop(),v.trys.pop();continue}d=u.call(c,v)}catch(g){d=[6,g],l=0}finally{f=h=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([_,m])}}},s=this&&this.__values||function(c){var u=typeof Symbol=="function"&&Symbol.iterator,f=u&&c[u],l=0;if(f)return f.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&l>=c.length&&(c=void 0),{value:c&&c[l++],done:!c}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function c(u){u===void 0&&(u=1e3),this._items=new Map,this._limit=u}return c.prototype.get=function(u){return this._items.get(u)},c.prototype.set=function(u,f){if(this._items.set(u,f),this._items.size>this._limit){var l=this._items.keys().next();l.done||this._items.delete(l.value)}},c.prototype.delete=function(u){return this._items.delete(u)},c.prototype.has=function(u){return this._items.has(u)},c.prototype.clear=function(){this._items.clear()},Object.defineProperty(c.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),c.prototype.forEach=function(u,f){this._items.forEach(function(l,h){return u.call(f,h,l)})},c.prototype.keys=function(){return i(this,function(u){switch(u.label){case 0:return[5,s(this._items.keys())];case 1:return u.sent(),[2]}})},c.prototype.values=function(){return i(this,function(u){switch(u.label){case 0:return[5,s(this._items.values())];case 1:return u.sent(),[2]}})},c.prototype.entries=function(){return i(this,function(u){switch(u.label){case 0:return[5,s(this._items.entries())];case 1:return u.sent(),[2]}})},c.prototype[Symbol.iterator]=function(){return i(this,function(u){switch(u.label){case 0:return[5,s(this._items)];case 1:return u.sent(),[2]}})},Object.defineProperty(c.prototype,Symbol.toStringTag,{get:function(){return"ObjectCache"},enumerable:!0,configurable:!0}),c}();r.ObjectCache=o},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function s(o){o===void 0&&(o=1e3),this._items=new Map,this._limit=o}return s.prototype.check=function(o,c){if(this._items.get(o)===c)return!0;if(this._items.get(c)===o)return!1;var u=Math.random()<.5;if(u?this._items.set(o,c):this._items.set(c,o),this._items.size>this._limit){var f=this._items.keys().next();f.done||this._items.delete(f.value)}return u},s}();r.CompareCache=i},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function s(o){this._initialized=!1,this._value=void 0,this._initFunc=o}return Object.defineProperty(s.prototype,"value",{get:function(){return this._initialized||(this._value=this._initFunc(),this._initialized=!0),this._value},enumerable:!0,configurable:!0}),s}();r.Lazy=i},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function s(o){this._pointer=0,this._chars=Array.from(o),this._length=this._chars.length}return Object.defineProperty(s.prototype,"eof",{get:function(){return this._pointer>=this._length},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),s.prototype.codePoint=function(){if(this._codePoint===void 0)if(this.eof)this._codePoint=-1;else{var o=this._chars[this._pointer].codePointAt(0);this._codePoint=o!==void 0?o:-1}return this._codePoint},s.prototype.c=function(){return this._c===void 0&&(this._c=this.eof?"":this._chars[this._pointer]),this._c},s.prototype.remaining=function(){return this._remaining===void 0&&(this._remaining=this.eof?"":this._chars.slice(this._pointer+1).join("")),this._remaining},s.prototype.substring=function(){return this._substring===void 0&&(this._substring=this.eof?"":this._chars.slice(this._pointer).join("")),this._substring},Object.defineProperty(s.prototype,"pointer",{get:function(){return this._pointer},set:function(o){o!==this._pointer&&(this._pointer=o,this._codePoint=void 0,this._c=void 0,this._remaining=void 0,this._substring=void 0)},enumerable:!0,configurable:!0}),s}();r.StringWalker=i},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(218);r.MapWriter=i.MapWriter;var s=a(258);r.XMLWriter=s.XMLWriter;var o=a(67);r.ObjectWriter=o.ObjectWriter;var c=a(260);r.JSONWriter=c.JSONWriter;var u=a(261);r.YAMLWriter=u.YAMLWriter},function(n,r,a){a(19),a(219),a(20),a(22),a(23);var i,s=this&&this.__extends||(i=function(f,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])})(f,l)},function(f,l){function h(){this.constructor=f}i(f,l),f.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(1),c=a(67),u=function(f){function l(h,p){var v=f.call(this,h)||this;return v._writerOptions=o.applyDefaults(p,{format:"map",wellFormed:!1,group:!1,verbose:!1}),v}return s(l,f),l.prototype.serialize=function(h){var p=o.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1,verbose:!1}),v=new c.ObjectWriter(this._builderOptions,p).serialize(h);return this._convertObject(v)},l.prototype._convertObject=function(h){if(o.isArray(h)){for(var p=0;p<h.length;p++)h[p]=this._convertObject(h[p]);return h}if(o.isObject(h)){var v=new Map;for(var y in h)v.set(y,this._convertObject(h[y]));return v}return h},l}(a(50).BaseWriter);r.MapWriter=u},function(n,r,a){var i=a(139),s=a(143);n.exports=i("Map",function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}},s)},function(n,r,a){var i=a(4),s=a(8),o=a(59),c=a(13),u=a(27),f=a(26),l=a(134),h=a(128),p=a(63),v=a(5),y=a(129),_=v("isConcatSpreadable"),m=y>=51||!s(function(){var x=[];return x[_]=!1,x.concat()[0]!==x}),d=p("concat"),g=function(x){if(!c(x))return!1;var w=x[_];return w!==void 0?!!w:o(x)};i({target:"Array",proto:!0,forced:!m||!d},{concat:function(x){var w,C,S,T,b,O=u(this),D=h(O,0),M=0;for(w=-1,S=arguments.length;w<S;w++)if(g(b=w===-1?O:arguments[w])){if(M+(T=f(b.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(C=0;C<T;C++,M++)C in b&&l(D,M,b[C])}else{if(M>=9007199254740991)throw TypeError("Maximum allowed index exceeded");l(D,M++,b)}return D.length=M,D}})},function(n,r,a){var i=a(8);function s(o,c){return RegExp(o,c)}r.UNSUPPORTED_Y=i(function(){var o=s("a","y");return o.lastIndex=2,o.exec("abcd")!=null}),r.BROKEN_CARET=i(function(){var o=s("^r","gy");return o.lastIndex=2,o.exec("str")!=null})},function(n,r,a){var i=a(223);n.exports=function(s){if(i(s))throw TypeError("The method doesn't accept regular expressions");return s}},function(n,r,a){var i=a(13),s=a(42),o=a(5)("match");n.exports=function(c){var u;return i(c)&&((u=c[o])!==void 0?!!u:s(c)=="RegExp")}},function(n,r,a){var i=a(5)("match");n.exports=function(s){var o=/./;try{"/./"[s](o)}catch{try{return o[i]=!1,"/./"[s](o)}catch{}}return!1}},function(n,r,a){a(68);var i=a(25),s=a(8),o=a(5),c=a(93),u=a(21),f=o("species"),l=!s(function(){var _=/./;return _.exec=function(){var m=[];return m.groups={a:"7"},m},"".replace(_,"$<a>")!=="7"}),h="a".replace(/./,"$0")==="$0",p=o("replace"),v=!!/./[p]&&/./[p]("a","$0")==="",y=!s(function(){var _=/(?:)/,m=_.exec;_.exec=function(){return m.apply(this,arguments)};var d="ab".split(_);return d.length!==2||d[0]!=="a"||d[1]!=="b"});n.exports=function(_,m,d,g){var x=o(_),w=!s(function(){var D={};return D[x]=function(){return 7},""[_](D)!=7}),C=w&&!s(function(){var D=!1,M=/a/;return _==="split"&&((M={}).constructor={},M.constructor[f]=function(){return M},M.flags="",M[x]=/./[x]),M.exec=function(){return D=!0,null},M[x](""),!D});if(!w||!C||_==="replace"&&(!l||!h||v)||_==="split"&&!y){var S=/./[x],T=d(x,""[_],function(D,M,R,E,B){return M.exec===c?w&&!B?{done:!0,value:S.call(M,R,E)}:{done:!0,value:D.call(R,M,E)}:{done:!1}},{REPLACE_KEEPS_$0:h,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:v}),b=T[0],O=T[1];i(String.prototype,_,b),i(RegExp.prototype,x,m==2?function(D,M){return O.call(D,this,M)}:function(D){return O.call(D,this)})}g&&u(RegExp.prototype[x],"sham",!0)}},function(n,r,a){var i=a(137).charAt;n.exports=function(s,o,c){return o+(c?i(s,o).length:1)}},function(n,r,a){var i=a(42),s=a(93);n.exports=function(o,c){var u=o.exec;if(typeof u=="function"){var f=u.call(o,c);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(i(o)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return s.call(o,c)}},function(n,r,a){(function(i){Object.defineProperty(r,"__esModule",{value:!0});var s=a(96);r.forgivingBase64Encode=function(o){return i.from(o).toString("base64")},r.forgivingBase64Decode=function(o){return o===""?"":((o=o.replace(s.ASCIIWhiteSpace,"")).length%4==0&&(o.endsWith("==")?o=o.substr(0,o.length-2):o.endsWith("=")&&(o=o.substr(0,o.length-1))),o.length%4==1?null:/[0-9A-Za-z+/]/.test(o)?i.from(o,"base64").toString("utf8"):null)}}).call(this,a(145).Buffer)},function(n,r,a){r.byteLength=function(p){var v=l(p),y=v[0],_=v[1];return 3*(y+_)/4-_},r.toByteArray=function(p){var v,y,_=l(p),m=_[0],d=_[1],g=new o(function(C,S,T){return 3*(S+T)/4-T}(0,m,d)),x=0,w=d>0?m-4:m;for(y=0;y<w;y+=4)v=s[p.charCodeAt(y)]<<18|s[p.charCodeAt(y+1)]<<12|s[p.charCodeAt(y+2)]<<6|s[p.charCodeAt(y+3)],g[x++]=v>>16&255,g[x++]=v>>8&255,g[x++]=255&v;return d===2&&(v=s[p.charCodeAt(y)]<<2|s[p.charCodeAt(y+1)]>>4,g[x++]=255&v),d===1&&(v=s[p.charCodeAt(y)]<<10|s[p.charCodeAt(y+1)]<<4|s[p.charCodeAt(y+2)]>>2,g[x++]=v>>8&255,g[x++]=255&v),g},r.fromByteArray=function(p){for(var v,y=p.length,_=y%3,m=[],d=0,g=y-_;d<g;d+=16383)m.push(h(p,d,d+16383>g?g:d+16383));return _===1?(v=p[y-1],m.push(i[v>>2]+i[v<<4&63]+"==")):_===2&&(v=(p[y-2]<<8)+p[y-1],m.push(i[v>>10]+i[v>>4&63]+i[v<<2&63]+"=")),m.join("")};for(var i=[],s=[],o=typeof Uint8Array!="undefined"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,f=c.length;u<f;++u)i[u]=c[u],s[c.charCodeAt(u)]=u;function l(p){var v=p.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=p.indexOf("=");return y===-1&&(y=v),[y,y===v?0:4-y%4]}function h(p,v,y){for(var _,m,d=[],g=v;g<y;g+=3)_=(p[g]<<16&16711680)+(p[g+1]<<8&65280)+(255&p[g+2]),d.push(i[(m=_)>>18&63]+i[m>>12&63]+i[m>>6&63]+i[63&m]);return d.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(n,r){r.read=function(a,i,s,o,c){var u,f,l=8*c-o-1,h=(1<<l)-1,p=h>>1,v=-7,y=s?c-1:0,_=s?-1:1,m=a[i+y];for(y+=_,u=m&(1<<-v)-1,m>>=-v,v+=l;v>0;u=256*u+a[i+y],y+=_,v-=8);for(f=u&(1<<-v)-1,u>>=-v,v+=o;v>0;f=256*f+a[i+y],y+=_,v-=8);if(u===0)u=1-p;else{if(u===h)return f?NaN:1/0*(m?-1:1);f+=Math.pow(2,o),u-=p}return(m?-1:1)*f*Math.pow(2,u-o)},r.write=function(a,i,s,o,c,u){var f,l,h,p=8*u-c-1,v=(1<<p)-1,y=v>>1,_=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=o?0:u-1,d=o?1:-1,g=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(l=isNaN(i)?1:0,f=v):(f=Math.floor(Math.log(i)/Math.LN2),i*(h=Math.pow(2,-f))<1&&(f--,h*=2),(i+=f+y>=1?_/h:_*Math.pow(2,1-y))*h>=2&&(f++,h/=2),f+y>=v?(l=0,f=v):f+y>=1?(l=(i*h-1)*Math.pow(2,c),f+=y):(l=i*Math.pow(2,y-1)*Math.pow(2,c),f=0));c>=8;a[s+m]=255&l,m+=d,l/=256,c-=8);for(f=f<<c|l,p+=c;p>0;a[s+m]=255&f,m+=d,f/=256,p-=8);a[s+m-d]|=128*g}},function(n,r){var a={}.toString;n.exports=Array.isArray||function(i){return a.call(i)=="[object Array]"}},function(n,r,a){var i=this&&this.__values||function(c){var u=typeof Symbol=="function"&&Symbol.iterator,f=u&&c[u],l=0;if(f)return f.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&l>=c.length&&(c=void 0),{value:c&&c[l++],done:!c}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(1);function o(c){var u,f;if(c===null||s.isString(c)||s.isNumber(c))return c;if(s.isArray(c)){var l=new Array;try{for(var h=i(c),p=h.next();!p.done;p=h.next()){var v=p.value;l.push(o(v))}}catch(m){u={error:m}}finally{try{p&&!p.done&&(f=h.return)&&f.call(h)}finally{if(u)throw u.error}}return l}if(s.isObject(c)){l=new Map;for(var y in c)if(c.hasOwnProperty(y)){var _=c[y];l.set(y,o(_))}return l}return c}r.parseJSONFromBytes=function(c){var u=s.utf8Decode(c);return JSON.parse.call(void 0,u)},r.serializeJSONToBytes=function(c){var u=JSON.stringify.call(void 0,c);return s.utf8Encode(u)},r.parseJSONIntoInfraValues=function(c){return o(JSON.parse.call(void 0,c))},r.convertAJSONDerivedJavaScriptValueToAnInfraValue=o},function(n,r,a){var i=this&&this.__generator||function(f,l){var h,p,v,y,_={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return y={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function m(d){return function(g){return function(x){if(h)throw new TypeError("Generator is already executing.");for(;_;)try{if(h=1,p&&(v=2&x[0]?p.return:x[0]?p.throw||((v=p.return)&&v.call(p),0):p.next)&&!(v=v.call(p,x[1])).done)return v;switch(p=0,v&&(x=[2&x[0],v.value]),x[0]){case 0:case 1:v=x;break;case 4:return _.label++,{value:x[1],done:!1};case 5:_.label++,p=x[1],x=[0];continue;case 7:x=_.ops.pop(),_.trys.pop();continue;default:if(v=_.trys,!((v=v.length>0&&v[v.length-1])||x[0]!==6&&x[0]!==2)){_=0;continue}if(x[0]===3&&(!v||x[1]>v[0]&&x[1]<v[3])){_.label=x[1];break}if(x[0]===6&&_.label<v[1]){_.label=v[1],v=x;break}if(v&&_.label<v[2]){_.label=v[2],_.ops.push(x);break}v[2]&&_.ops.pop(),_.trys.pop();continue}x=l.call(f,_)}catch(w){x=[6,w],p=0}finally{h=v=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([d,g])}}},s=this&&this.__read||function(f,l){var h=typeof Symbol=="function"&&f[Symbol.iterator];if(!h)return f;var p,v,y=h.call(f),_=[];try{for(;(l===void 0||l-- >0)&&!(p=y.next()).done;)_.push(p.value)}catch(m){v={error:m}}finally{try{p&&!p.done&&(h=y.return)&&h.call(y)}finally{if(v)throw v.error}}return _},o=this&&this.__spread||function(){for(var f=[],l=0;l<arguments.length;l++)f=f.concat(s(arguments[l]));return f},c=this&&this.__values||function(f){var l=typeof Symbol=="function"&&Symbol.iterator,h=l&&f[l],p=0;if(h)return h.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&p>=f.length&&(f=void 0),{value:f&&f[p++],done:!f}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=a(1);r.append=function(f,l){f.push(l)},r.extend=function(f,l){f.push.apply(f,o(l))},r.prepend=function(f,l){f.unshift(l)},r.replace=function(f,l,h){var p,v,y=0;try{for(var _=c(f),m=_.next();!m.done;m=_.next()){var d=m.value;if(u.isFunction(l))l.call(null,d)&&(f[y]=h);else if(d===l)return void(f[y]=h);y++}}catch(g){p={error:g}}finally{try{m&&!m.done&&(v=_.return)&&v.call(_)}finally{if(p)throw p.error}}},r.insert=function(f,l,h){f.splice(h,0,l)},r.remove=function(f,l){for(var h=f.length;h--;){var p=f[h];if(u.isFunction(l))l.call(null,p)&&f.splice(h,1);else if(p===l)return void f.splice(h,1)}},r.empty=function(f){f.length=0},r.contains=function(f,l){var h,p;try{for(var v=c(f),y=v.next();!y.done;y=v.next()){var _=y.value;if(u.isFunction(l)){if(l.call(null,_))return!0}else if(_===l)return!0}}catch(m){h={error:m}}finally{try{y&&!y.done&&(p=v.return)&&p.call(v)}finally{if(h)throw h.error}}return!1},r.size=function(f,l){var h,p;if(l===void 0)return f.length;var v=0;try{for(var y=c(f),_=y.next();!_.done;_=y.next()){var m=_.value;l.call(null,m)&&v++}}catch(d){h={error:d}}finally{try{_&&!_.done&&(p=y.return)&&p.call(y)}finally{if(h)throw h.error}}return v},r.isEmpty=function(f){return f.length===0},r.forEach=function(f,l){var h,p,v,y,_,m;return i(this,function(d){switch(d.label){case 0:return l!==void 0?[3,2]:[5,c(f)];case 1:return d.sent(),[3,9];case 2:d.trys.push([2,7,8,9]),h=c(f),p=h.next(),d.label=3;case 3:return p.done?[3,6]:(v=p.value,l.call(null,v)?[4,v]:[3,5]);case 4:d.sent(),d.label=5;case 5:return p=h.next(),[3,3];case 6:return[3,9];case 7:return y=d.sent(),_={error:y},[3,9];case 8:try{p&&!p.done&&(m=h.return)&&m.call(h)}finally{if(_)throw _.error}return[7];case 9:return[2]}})},r.clone=function(f){return new(Array.bind.apply(Array,o([void 0],f)))},r.sortInAscendingOrder=function(f,l){return f.sort(function(h,p){return l.call(null,h,p)?-1:1})},r.sortInDescendingOrder=function(f,l){return f.sort(function(h,p){return l.call(null,h,p)?1:-1})}},function(n,r,a){var i=this&&this.__generator||function(f,l){var h,p,v,y,_={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return y={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function m(d){return function(g){return function(x){if(h)throw new TypeError("Generator is already executing.");for(;_;)try{if(h=1,p&&(v=2&x[0]?p.return:x[0]?p.throw||((v=p.return)&&v.call(p),0):p.next)&&!(v=v.call(p,x[1])).done)return v;switch(p=0,v&&(x=[2&x[0],v.value]),x[0]){case 0:case 1:v=x;break;case 4:return _.label++,{value:x[1],done:!1};case 5:_.label++,p=x[1],x=[0];continue;case 7:x=_.ops.pop(),_.trys.pop();continue;default:if(v=_.trys,!((v=v.length>0&&v[v.length-1])||x[0]!==6&&x[0]!==2)){_=0;continue}if(x[0]===3&&(!v||x[1]>v[0]&&x[1]<v[3])){_.label=x[1];break}if(x[0]===6&&_.label<v[1]){_.label=v[1],v=x;break}if(v&&_.label<v[2]){_.label=v[2],_.ops.push(x);break}v[2]&&_.ops.pop(),_.trys.pop();continue}x=l.call(f,_)}catch(w){x=[6,w],p=0}finally{h=v=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([d,g])}}},s=this&&this.__values||function(f){var l=typeof Symbol=="function"&&Symbol.iterator,h=l&&f[l],p=0;if(h)return h.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&p>=f.length&&(f=void 0),{value:f&&f[p++],done:!f}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(f,l){var h=typeof Symbol=="function"&&f[Symbol.iterator];if(!h)return f;var p,v,y=h.call(f),_=[];try{for(;(l===void 0||l-- >0)&&!(p=y.next()).done;)_.push(p.value)}catch(m){v={error:m}}finally{try{p&&!p.done&&(h=y.return)&&h.call(y)}finally{if(v)throw v.error}}return _},c=this&&this.__spread||function(){for(var f=[],l=0;l<arguments.length;l++)f=f.concat(o(arguments[l]));return f};Object.defineProperty(r,"__esModule",{value:!0});var u=a(1);r.get=function(f,l){return f.get(l)},r.set=function(f,l,h){f.set(l,h)},r.remove=function(f,l){var h,p,v,y;if(u.isFunction(l)){var _=[];try{for(var m=s(f),d=m.next();!d.done;d=m.next()){var g=d.value;l.call(null,g)&&_.push(g[0])}}catch(S){h={error:S}}finally{try{d&&!d.done&&(p=m.return)&&p.call(m)}finally{if(h)throw h.error}}try{for(var x=s(_),w=x.next();!w.done;w=x.next()){var C=w.value;f.delete(C)}}catch(S){v={error:S}}finally{try{w&&!w.done&&(y=x.return)&&y.call(x)}finally{if(v)throw v.error}}}else f.delete(l)},r.contains=function(f,l){var h,p;if(u.isFunction(l)){try{for(var v=s(f),y=v.next();!y.done;y=v.next()){var _=y.value;if(l.call(null,_))return!0}}catch(m){h={error:m}}finally{try{y&&!y.done&&(p=v.return)&&p.call(v)}finally{if(h)throw h.error}}return!1}return f.has(l)},r.keys=function(f){return new Set(f.keys())},r.values=function(f){return c(f.values())},r.size=function(f,l){var h,p;if(l===void 0)return f.size;var v=0;try{for(var y=s(f),_=y.next();!_.done;_=y.next()){var m=_.value;l.call(null,m)&&v++}}catch(d){h={error:d}}finally{try{_&&!_.done&&(p=y.return)&&p.call(y)}finally{if(h)throw h.error}}return v},r.isEmpty=function(f){return f.size===0},r.forEach=function(f,l){var h,p,v,y,_,m;return i(this,function(d){switch(d.label){case 0:return l!==void 0?[3,2]:[5,s(f)];case 1:return d.sent(),[3,9];case 2:d.trys.push([2,7,8,9]),h=s(f),p=h.next(),d.label=3;case 3:return p.done?[3,6]:(v=p.value,l.call(null,v)?[4,v]:[3,5]);case 4:d.sent(),d.label=5;case 5:return p=h.next(),[3,3];case 6:return[3,9];case 7:return y=d.sent(),_={error:y},[3,9];case 8:try{p&&!p.done&&(m=h.return)&&m.call(h)}finally{if(_)throw _.error}return[7];case 9:return[2]}})},r.clone=function(f){return new Map(f)},r.sortInAscendingOrder=function(f,l){var h=new(Array.bind.apply(Array,c([void 0],f)));return h.sort(function(p,v){return l.call(null,p,v)?-1:1}),new Map(h)},r.sortInDescendingOrder=function(f,l){var h=new(Array.bind.apply(Array,c([void 0],f)));return h.sort(function(p,v){return l.call(null,p,v)?1:-1}),new Map(h)}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.HTML="http://www.w3.org/1999/xhtml",r.XML="http://www.w3.org/XML/1998/namespace",r.XMLNS="http://www.w3.org/2000/xmlns/",r.MathML="http://www.w3.org/1998/Math/MathML",r.SVG="http://www.w3.org/2000/svg",r.XLink="http://www.w3.org/1999/xlink"},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.enqueue=function(i,s){i.push(s)},r.dequeue=function(i){return i.shift()||null}},function(n,r,a){var i=this&&this.__generator||function(l,h){var p,v,y,_,m={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return _={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function d(g){return function(x){return function(w){if(p)throw new TypeError("Generator is already executing.");for(;m;)try{if(p=1,v&&(y=2&w[0]?v.return:w[0]?v.throw||((y=v.return)&&y.call(v),0):v.next)&&!(y=y.call(v,w[1])).done)return y;switch(v=0,y&&(w=[2&w[0],y.value]),w[0]){case 0:case 1:y=w;break;case 4:return m.label++,{value:w[1],done:!1};case 5:m.label++,v=w[1],w=[0];continue;case 7:w=m.ops.pop(),m.trys.pop();continue;default:if(y=m.trys,!((y=y.length>0&&y[y.length-1])||w[0]!==6&&w[0]!==2)){m=0;continue}if(w[0]===3&&(!y||w[1]>y[0]&&w[1]<y[3])){m.label=w[1];break}if(w[0]===6&&m.label<y[1]){m.label=y[1],y=w;break}if(y&&m.label<y[2]){m.label=y[2],m.ops.push(w);break}y[2]&&m.ops.pop(),m.trys.pop();continue}w=h.call(l,m)}catch(C){w=[6,C],v=0}finally{p=y=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([g,x])}}},s=this&&this.__values||function(l){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&l[h],v=0;if(p)return p.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&v>=l.length&&(l=void 0),{value:l&&l[v++],done:!l}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(l,h){var p=typeof Symbol=="function"&&l[Symbol.iterator];if(!p)return l;var v,y,_=p.call(l),m=[];try{for(;(h===void 0||h-- >0)&&!(v=_.next()).done;)m.push(v.value)}catch(d){y={error:d}}finally{try{v&&!v.done&&(p=_.return)&&p.call(_)}finally{if(y)throw y.error}}return m},c=this&&this.__spread||function(){for(var l=[],h=0;h<arguments.length;h++)l=l.concat(o(arguments[h]));return l};Object.defineProperty(r,"__esModule",{value:!0});var u=a(1);function f(l,h){var p,v;try{for(var y=s(l),_=y.next();!_.done;_=y.next()){var m=_.value;if(!h.has(m))return!1}}catch(d){p={error:d}}finally{try{_&&!_.done&&(v=y.return)&&v.call(y)}finally{if(p)throw p.error}}return!0}r.append=function(l,h){l.add(h)},r.extend=function(l,h){h.forEach(l.add,l)},r.prepend=function(l,h){var p=new Set(l);l.clear(),l.add(h),p.forEach(l.add,l)},r.replace=function(l,h,p){var v,y,_=new Set;try{for(var m=s(l),d=m.next();!d.done;d=m.next()){var g=d.value;u.isFunction(h)?h.call(null,g)?_.add(p):_.add(g):g===h?_.add(p):_.add(g)}}catch(x){v={error:x}}finally{try{d&&!d.done&&(y=m.return)&&y.call(m)}finally{if(v)throw v.error}}l.clear(),_.forEach(l.add,l)},r.insert=function(l,h,p){var v,y,_=new Set,m=0;try{for(var d=s(l),g=d.next();!g.done;g=d.next()){var x=g.value;m===p&&_.add(h),_.add(x),m++}}catch(w){v={error:w}}finally{try{g&&!g.done&&(y=d.return)&&y.call(d)}finally{if(v)throw v.error}}l.clear(),_.forEach(l.add,l)},r.remove=function(l,h){var p,v,y,_;if(u.isFunction(h)){var m=[];try{for(var d=s(l),g=d.next();!g.done;g=d.next()){var x=g.value;h.call(null,x)&&m.push(x)}}catch(T){p={error:T}}finally{try{g&&!g.done&&(v=d.return)&&v.call(d)}finally{if(p)throw p.error}}try{for(var w=s(m),C=w.next();!C.done;C=w.next()){var S=C.value;l.delete(S)}}catch(T){y={error:T}}finally{try{C&&!C.done&&(_=w.return)&&_.call(w)}finally{if(y)throw y.error}}}else l.delete(h)},r.empty=function(l){l.clear()},r.contains=function(l,h){var p,v;if(!u.isFunction(h))return l.has(h);try{for(var y=s(l),_=y.next();!_.done;_=y.next()){var m=_.value;if(h.call(null,m))return!0}}catch(d){p={error:d}}finally{try{_&&!_.done&&(v=y.return)&&v.call(y)}finally{if(p)throw p.error}}return!1},r.size=function(l,h){var p,v;if(h===void 0)return l.size;var y=0;try{for(var _=s(l),m=_.next();!m.done;m=_.next()){var d=m.value;h.call(null,d)&&y++}}catch(g){p={error:g}}finally{try{m&&!m.done&&(v=_.return)&&v.call(_)}finally{if(p)throw p.error}}return y},r.isEmpty=function(l){return l.size===0},r.forEach=function(l,h){var p,v,y,_,m,d;return i(this,function(g){switch(g.label){case 0:return h!==void 0?[3,2]:[5,s(l)];case 1:return g.sent(),[3,9];case 2:g.trys.push([2,7,8,9]),p=s(l),v=p.next(),g.label=3;case 3:return v.done?[3,6]:(y=v.value,h.call(null,y)?[4,y]:[3,5]);case 4:g.sent(),g.label=5;case 5:return v=p.next(),[3,3];case 6:return[3,9];case 7:return _=g.sent(),m={error:_},[3,9];case 8:try{v&&!v.done&&(d=p.return)&&d.call(p)}finally{if(m)throw m.error}return[7];case 9:return[2]}})},r.clone=function(l){return new Set(l)},r.sortInAscendingOrder=function(l,h){var p=new(Array.bind.apply(Array,c([void 0],l)));return p.sort(function(v,y){return h.call(null,v,y)?-1:1}),new Set(p)},r.sortInDescendingOrder=function(l,h){var p=new(Array.bind.apply(Array,c([void 0],l)));return p.sort(function(v,y){return h.call(null,v,y)?1:-1}),new Set(p)},r.isSubsetOf=f,r.isSupersetOf=function(l,h){return f(h,l)},r.intersection=function(l,h){var p,v,y=new Set;try{for(var _=s(l),m=_.next();!m.done;m=_.next()){var d=m.value;h.has(d)&&y.add(d)}}catch(g){p={error:g}}finally{try{m&&!m.done&&(v=_.return)&&v.call(_)}finally{if(p)throw p.error}}return y},r.union=function(l,h){var p=new Set(l);return h.forEach(p.add,p),p},r.range=function(l,h){for(var p=new Set,v=l;v<=h;v++)p.add(v);return p}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.push=function(i,s){i.push(s)},r.pop=function(i){return i.pop()||null}},function(n,r,a){var i=this&&this.__values||function(m){var d=typeof Symbol=="function"&&Symbol.iterator,g=d&&m[d],x=0;if(g)return g.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&x>=m.length&&(m=void 0),{value:m&&m[x++],done:!m}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(96),o=a(147),c=a(146),u=a(1);function f(m,d){for(var g=0;;){var x=g<m.length?m.charCodeAt(g):null,w=g<d.length?d.charCodeAt(g):null;if(x===null)return!0;if(x!==w)return!1;g++}}function l(m){var d,g,x=Array.from(m),w=new Uint8Array(x.length),C=0;try{for(var S=i(m),T=S.next();!T.done;T=S.next()){var b=T.value.codePointAt(0);console.assert(b!==void 0&&b<=255,"isomorphicEncode requires string bytes to be less than or equal to 0x00FF."),b!==void 0&&b<=255&&(w[C++]=b)}}catch(O){d={error:O}}finally{try{T&&!T.done&&(g=S.return)&&g.call(S)}finally{if(d)throw d.error}}return w}function h(m){return/^[\u0000-\u007F]*$/.test(m)}function p(m){var d,g,x="";try{for(var w=i(m),C=w.next();!C.done;C=w.next()){var S=C.value,T=S.codePointAt(0);x+=T!==void 0&&T>=65&&T<=90?String.fromCodePoint(T+32):S}}catch(b){d={error:b}}finally{try{C&&!C.done&&(g=w.return)&&g.call(w)}finally{if(d)throw d.error}}return x}function v(m){return m.replace(/^[\t\n\f\r ]+/,"").replace(/[\t\n\f\r ]+$/,"")}function y(m,d,g){if(!u.isArray(d))return y(m,Array.from(d),g);for(var x="";g.position<d.length&&m.call(null,d[g.position]);)x+=d[g.position],g.position++;return x}function _(m,d){y(function(g){return s.ASCIIWhiteSpace.test(g)},m,d)}r.isCodeUnitPrefix=f,r.isCodeUnitLessThan=function(m,d){if(f(d,m))return!1;if(f(m,d))return!0;for(var g=0;g<Math.min(m.length,d.length);g++){var x=m.charCodeAt(g),w=d.charCodeAt(g);if(x!==w)return x<w}return!1},r.isomorphicEncode=l,r.isASCIIString=h,r.asciiLowercase=p,r.asciiUppercase=function(m){var d,g,x="";try{for(var w=i(m),C=w.next();!C.done;C=w.next()){var S=C.value,T=S.codePointAt(0);x+=T!==void 0&&T>=97&&T<=122?String.fromCodePoint(T-32):S}}catch(b){d={error:b}}finally{try{C&&!C.done&&(g=w.return)&&g.call(w)}finally{if(d)throw d.error}}return x},r.asciiCaseInsensitiveMatch=function(m,d){return p(m)===p(d)},r.asciiEncode=function(m){return console.assert(h(m),"asciiEncode requires an ASCII string."),l(m)},r.asciiDecode=function(m){var d,g;try{for(var x=i(m),w=x.next();!w.done;w=x.next()){var C=w.value;console.assert(c.isASCIIByte(C),"asciiDecode requires an ASCII byte sequence.")}}catch(S){d={error:S}}finally{try{w&&!w.done&&(g=x.return)&&g.call(x)}finally{if(d)throw d.error}}return o.isomorphicDecode(m)},r.stripNewlines=function(m){return m.replace(/[\n\r]/g,"")},r.normalizeNewlines=function(m){return m.replace(/\r\n/g,`
`).replace(/\r/g,`
`)},r.stripLeadingAndTrailingASCIIWhitespace=v,r.stripAndCollapseASCIIWhitespace=function(m){return v(m.replace(/[\t\n\f\r ]{2,}/g," "))},r.collectASequenceOfCodePoints=y,r.skipASCIIWhitespace=_,r.strictlySplit=function m(d,g){if(!u.isArray(d))return m(Array.from(d),g);var x={position:0},w=[],C=y(function(S){return g!==S},d,x);for(w.push(C);x.position<d.length;)console.assert(d[x.position]===g,"strictlySplit found no delimiter in input string."),x.position++,C=y(function(S){return g!==S},d,x),w.push(C);return w},r.splitAStringOnASCIIWhitespace=function m(d){if(!u.isArray(d))return m(Array.from(d));var g={position:0},x=[];for(_(d,g);g.position<d.length;){var w=y(function(C){return!s.ASCIIWhiteSpace.test(C)},d,g);x.push(w),_(d,g)}return x},r.splitAStringOnCommas=function m(d){if(!u.isArray(d))return m(Array.from(d));for(var g={position:0},x=[];g.position<d.length;){var w=y(function(C){return C!==","},d,g);x.push(v(w)),g.position<d.length&&(console.assert(d[g.position]===",","splitAStringOnCommas found no delimiter in input string."),g.position++)}return x},r.concatenate=function(m,d){return d===void 0&&(d=""),m.length===0?"":m.join(d)}},function(n,r,a){var i=this&&this.__values||function(o){var c=typeof Symbol=="function"&&Symbol.iterator,u=c&&o[c],f=0;if(u)return u.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&f>=o.length&&(o=void 0),{value:o&&o[f++],done:!o}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(97);r.abort_add=function(o,c){c._abortedFlag||c._abortAlgorithms.add(o)},r.abort_remove=function(o,c){c._abortAlgorithms.delete(o)},r.abort_signalAbort=function(o){var c,u;if(!o._abortedFlag){o._abortedFlag=!0;try{for(var f=i(o._abortAlgorithms),l=f.next();!l.done;l=f.next())l.value.call(o)}catch(h){c={error:h}}finally{try{l&&!l.done&&(u=f.return)&&u.call(f)}finally{if(c)throw c.error}}o._abortAlgorithms.clear(),s.event_fireAnEvent("abort",o)}}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(150),s=function(){function o(){}return o.asNode=function(c){if(i.Guard.isNode(c))return c;throw new Error("Invalid object. Node expected.")},o}();r.Cast=s},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function o(){}return Object.defineProperty(o.prototype,"size",{get:function(){return 0},enumerable:!0,configurable:!0}),o.prototype.add=function(c){throw new Error("Cannot add to an empty set.")},o.prototype.clear=function(){},o.prototype.delete=function(c){return!1},o.prototype.forEach=function(c,u){},o.prototype.has=function(c){return!1},o.prototype[Symbol.iterator]=function(){return new s},o.prototype.entries=function(){return new s},o.prototype.keys=function(){return new s},o.prototype.values=function(){return new s},Object.defineProperty(o.prototype,Symbol.toStringTag,{get:function(){return"EmptySet"},enumerable:!0,configurable:!0}),o}();r.EmptySet=i;var s=function(){function o(){}return o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){return{done:!0,value:null}},o}()},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),function(i){i[i.SchemeStart=0]="SchemeStart",i[i.Scheme=1]="Scheme",i[i.NoScheme=2]="NoScheme",i[i.SpecialRelativeOrAuthority=3]="SpecialRelativeOrAuthority",i[i.PathOrAuthority=4]="PathOrAuthority",i[i.Relative=5]="Relative",i[i.RelativeSlash=6]="RelativeSlash",i[i.SpecialAuthoritySlashes=7]="SpecialAuthoritySlashes",i[i.SpecialAuthorityIgnoreSlashes=8]="SpecialAuthorityIgnoreSlashes",i[i.Authority=9]="Authority",i[i.Host=10]="Host",i[i.Hostname=11]="Hostname",i[i.Port=12]="Port",i[i.File=13]="File",i[i.FileSlash=14]="FileSlash",i[i.FileHost=15]="FileHost",i[i.PathStart=16]="PathStart",i[i.Path=17]="Path",i[i.CannotBeABaseURLPath=18]="CannotBeABaseURLPath",i[i.Query=19]="Query",i[i.Fragment=20]="Fragment"}(r.ParserState||(r.ParserState={})),r.OpaqueOrigin=["","",null,null]},function(n,r,a){var i=a(245),s=a(247);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=w,r.resolve=function(C,S){return w(C,!1,!0).resolve(S)},r.resolveObject=function(C,S){return C?w(C,!1,!0).resolveObject(S):S},r.format=function(C){return s.isString(C)&&(C=w(C)),C instanceof o?C.format():o.prototype.format.call(C)},r.Url=o;var c=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),h=["'"].concat(l),p=["%","/","?",";","#"].concat(h),v=["/","?","#"],y=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},d={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=a(248);function w(C,S,T){if(C&&s.isObject(C)&&C instanceof o)return C;var b=new o;return b.parse(C,S,T),b}o.prototype.parse=function(C,S,T){if(!s.isString(C))throw new TypeError("Parameter 'url' must be a string, not "+typeof C);var b=C.indexOf("?"),O=b!==-1&&b<C.indexOf("#")?"?":"#",D=C.split(O);D[0]=D[0].replace(/\\/g,"/");var M=C=D.join(O);if(M=M.trim(),!T&&C.split("#").length===1){var R=f.exec(M);if(R)return this.path=M,this.href=M,this.pathname=R[1],R[2]?(this.search=R[2],this.query=S?x.parse(this.search.substr(1)):this.search.substr(1)):S&&(this.search="",this.query={}),this}var E=c.exec(M);if(E){var B=(E=E[0]).toLowerCase();this.protocol=B,M=M.substr(E.length)}if(T||E||M.match(/^\/\/[^@\/]+@[^@\/]+/)){var I=M.substr(0,2)==="//";!I||E&&d[E]||(M=M.substr(2),this.slashes=!0)}if(!d[E]&&(I||E&&!g[E])){for(var P,L,F=-1,G=0;G<v.length;G++)($=M.indexOf(v[G]))!==-1&&(F===-1||$<F)&&(F=$);for((L=F===-1?M.lastIndexOf("@"):M.lastIndexOf("@",F))!==-1&&(P=M.slice(0,L),M=M.slice(L+1),this.auth=decodeURIComponent(P)),F=-1,G=0;G<p.length;G++){var $;($=M.indexOf(p[G]))!==-1&&(F===-1||$<F)&&(F=$)}F===-1&&(F=M.length),this.host=M.slice(0,F),M=M.slice(F),this.parseHost(),this.hostname=this.hostname||"";var H=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!H)for(var J=this.hostname.split(/\./),Q=(G=0,J.length);G<Q;G++){var q=J[G];if(q&&!q.match(y)){for(var ne="",re=0,oe=q.length;re<oe;re++)q.charCodeAt(re)>127?ne+="x":ne+=q[re];if(!ne.match(y)){var te=J.slice(0,G),A=J.slice(G+1),N=q.match(_);N&&(te.push(N[1]),A.unshift(N[2])),A.length&&(M="/"+A.join(".")+M),this.hostname=te.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),H||(this.hostname=i.toASCII(this.hostname));var U=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+U,this.href+=this.host,H&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),M[0]!=="/"&&(M="/"+M))}if(!m[B])for(G=0,Q=h.length;G<Q;G++){var k=h[G];if(M.indexOf(k)!==-1){var z=encodeURIComponent(k);z===k&&(z=escape(k)),M=M.split(k).join(z)}}var j=M.indexOf("#");j!==-1&&(this.hash=M.substr(j),M=M.slice(0,j));var K=M.indexOf("?");if(K!==-1?(this.search=M.substr(K),this.query=M.substr(K+1),S&&(this.query=x.parse(this.query)),M=M.slice(0,K)):S&&(this.search="",this.query={}),M&&(this.pathname=M),g[B]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var X=this.search||"";this.path=U+X}return this.href=this.format(),this},o.prototype.format=function(){var C=this.auth||"";C&&(C=(C=encodeURIComponent(C)).replace(/%3A/i,":"),C+="@");var S=this.protocol||"",T=this.pathname||"",b=this.hash||"",O=!1,D="";this.host?O=C+this.host:this.hostname&&(O=C+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(O+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(D=x.stringify(this.query));var M=this.search||D&&"?"+D||"";return S&&S.substr(-1)!==":"&&(S+=":"),this.slashes||(!S||g[S])&&O!==!1?(O="//"+(O||""),T&&T.charAt(0)!=="/"&&(T="/"+T)):O||(O=""),b&&b.charAt(0)!=="#"&&(b="#"+b),M&&M.charAt(0)!=="?"&&(M="?"+M),S+O+(T=T.replace(/[?#]/g,function(R){return encodeURIComponent(R)}))+(M=M.replace("#","%23"))+b},o.prototype.resolve=function(C){return this.resolveObject(w(C,!1,!0)).format()},o.prototype.resolveObject=function(C){if(s.isString(C)){var S=new o;S.parse(C,!1,!0),C=S}for(var T=new o,b=Object.keys(this),O=0;O<b.length;O++){var D=b[O];T[D]=this[D]}if(T.hash=C.hash,C.href==="")return T.href=T.format(),T;if(C.slashes&&!C.protocol){for(var M=Object.keys(C),R=0;R<M.length;R++){var E=M[R];E!=="protocol"&&(T[E]=C[E])}return g[T.protocol]&&T.hostname&&!T.pathname&&(T.path=T.pathname="/"),T.href=T.format(),T}if(C.protocol&&C.protocol!==T.protocol){if(!g[C.protocol]){for(var B=Object.keys(C),I=0;I<B.length;I++){var P=B[I];T[P]=C[P]}return T.href=T.format(),T}if(T.protocol=C.protocol,C.host||d[C.protocol])T.pathname=C.pathname;else{for(var L=(C.pathname||"").split("/");L.length&&!(C.host=L.shift()););C.host||(C.host=""),C.hostname||(C.hostname=""),L[0]!==""&&L.unshift(""),L.length<2&&L.unshift(""),T.pathname=L.join("/")}if(T.search=C.search,T.query=C.query,T.host=C.host||"",T.auth=C.auth,T.hostname=C.hostname||C.host,T.port=C.port,T.pathname||T.search){var F=T.pathname||"",G=T.search||"";T.path=F+G}return T.slashes=T.slashes||C.slashes,T.href=T.format(),T}var $=T.pathname&&T.pathname.charAt(0)==="/",H=C.host||C.pathname&&C.pathname.charAt(0)==="/",J=H||$||T.host&&C.pathname,Q=J,q=T.pathname&&T.pathname.split("/")||[],ne=(L=C.pathname&&C.pathname.split("/")||[],T.protocol&&!g[T.protocol]);if(ne&&(T.hostname="",T.port=null,T.host&&(q[0]===""?q[0]=T.host:q.unshift(T.host)),T.host="",C.protocol&&(C.hostname=null,C.port=null,C.host&&(L[0]===""?L[0]=C.host:L.unshift(C.host)),C.host=null),J=J&&(L[0]===""||q[0]==="")),H)T.host=C.host||C.host===""?C.host:T.host,T.hostname=C.hostname||C.hostname===""?C.hostname:T.hostname,T.search=C.search,T.query=C.query,q=L;else if(L.length)q||(q=[]),q.pop(),q=q.concat(L),T.search=C.search,T.query=C.query;else if(!s.isNullOrUndefined(C.search))return ne&&(T.hostname=T.host=q.shift(),(N=!!(T.host&&T.host.indexOf("@")>0)&&T.host.split("@"))&&(T.auth=N.shift(),T.host=T.hostname=N.shift())),T.search=C.search,T.query=C.query,s.isNull(T.pathname)&&s.isNull(T.search)||(T.path=(T.pathname?T.pathname:"")+(T.search?T.search:"")),T.href=T.format(),T;if(!q.length)return T.pathname=null,T.search?T.path="/"+T.search:T.path=null,T.href=T.format(),T;for(var re=q.slice(-1)[0],oe=(T.host||C.host||q.length>1)&&(re==="."||re==="..")||re==="",te=0,A=q.length;A>=0;A--)(re=q[A])==="."?q.splice(A,1):re===".."?(q.splice(A,1),te++):te&&(q.splice(A,1),te--);if(!J&&!Q)for(;te--;te)q.unshift("..");!J||q[0]===""||q[0]&&q[0].charAt(0)==="/"||q.unshift(""),oe&&q.join("/").substr(-1)!=="/"&&q.push("");var N,U=q[0]===""||q[0]&&q[0].charAt(0)==="/";return ne&&(T.hostname=T.host=U?"":q.length?q.shift():"",(N=!!(T.host&&T.host.indexOf("@")>0)&&T.host.split("@"))&&(T.auth=N.shift(),T.host=T.hostname=N.shift())),(J=J||T.host&&q.length)&&!U&&q.unshift(""),q.length?T.pathname=q.join("/"):(T.pathname=null,T.path=null),s.isNull(T.pathname)&&s.isNull(T.search)||(T.path=(T.pathname?T.pathname:"")+(T.search?T.search:"")),T.auth=C.auth||T.auth,T.slashes=T.slashes||C.slashes,T.href=T.format(),T},o.prototype.parseHost=function(){var C=this.host,S=u.exec(C);S&&((S=S[0])!==":"&&(this.port=S.substr(1)),C=C.substr(0,C.length-S.length)),C&&(this.hostname=C)}},function(n,r,a){(function(i,s){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(c){r&&r.nodeType,i&&i.nodeType;var u=typeof s=="object"&&s;u.global!==u&&u.window!==u&&u.self;var f,l=2147483647,h=/^xn--/,p=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=Math.floor,m=String.fromCharCode;function d(D){throw new RangeError(y[D])}function g(D,M){for(var R=D.length,E=[];R--;)E[R]=M(D[R]);return E}function x(D,M){var R=D.split("@"),E="";return R.length>1&&(E=R[0]+"@",D=R[1]),E+g((D=D.replace(v,".")).split("."),M).join(".")}function w(D){for(var M,R,E=[],B=0,I=D.length;B<I;)(M=D.charCodeAt(B++))>=55296&&M<=56319&&B<I?(64512&(R=D.charCodeAt(B++)))==56320?E.push(((1023&M)<<10)+(1023&R)+65536):(E.push(M),B--):E.push(M);return E}function C(D){return g(D,function(M){var R="";return M>65535&&(R+=m((M-=65536)>>>10&1023|55296),M=56320|1023&M),R+=m(M)}).join("")}function S(D,M){return D+22+75*(D<26)-((M!=0)<<5)}function T(D,M,R){var E=0;for(D=R?_(D/700):D>>1,D+=_(D/M);D>455;E+=36)D=_(D/35);return _(E+36*D/(D+38))}function b(D){var M,R,E,B,I,P,L,F,G,$,H,J=[],Q=D.length,q=0,ne=128,re=72;for((R=D.lastIndexOf("-"))<0&&(R=0),E=0;E<R;++E)D.charCodeAt(E)>=128&&d("not-basic"),J.push(D.charCodeAt(E));for(B=R>0?R+1:0;B<Q;){for(I=q,P=1,L=36;B>=Q&&d("invalid-input"),((F=(H=D.charCodeAt(B++))-48<10?H-22:H-65<26?H-65:H-97<26?H-97:36)>=36||F>_((l-q)/P))&&d("overflow"),q+=F*P,!(F<(G=L<=re?1:L>=re+26?26:L-re));L+=36)P>_(l/($=36-G))&&d("overflow"),P*=$;re=T(q-I,M=J.length+1,I==0),_(q/M)>l-ne&&d("overflow"),ne+=_(q/M),q%=M,J.splice(q++,0,ne)}return C(J)}function O(D){var M,R,E,B,I,P,L,F,G,$,H,J,Q,q,ne,re=[];for(J=(D=w(D)).length,M=128,R=0,I=72,P=0;P<J;++P)(H=D[P])<128&&re.push(m(H));for(E=B=re.length,B&&re.push("-");E<J;){for(L=l,P=0;P<J;++P)(H=D[P])>=M&&H<L&&(L=H);for(L-M>_((l-R)/(Q=E+1))&&d("overflow"),R+=(L-M)*Q,M=L,P=0;P<J;++P)if((H=D[P])<M&&++R>l&&d("overflow"),H==M){for(F=R,G=36;!(F<($=G<=I?1:G>=I+26?26:G-I));G+=36)ne=F-$,q=36-$,re.push(m(S($+ne%q,0))),F=_(ne/q);re.push(m(S(F,0))),I=T(R,Q,E==B),R=0,++E}++R,++M}return re.join("")}f={version:"1.4.1",ucs2:{decode:w,encode:C},decode:b,encode:O,toASCII:function(D){return x(D,function(M){return p.test(M)?"xn--"+O(M):M})},toUnicode:function(D){return x(D,function(M){return h.test(M)?b(M.slice(4).toLowerCase()):M})}},(o=function(){return f}.call(r,a,r,i))===void 0||(i.exports=o)})()}).call(this,a(246)(n),a(78))},function(n,r){n.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},function(n,r,a){n.exports={isString:function(i){return typeof i=="string"},isObject:function(i){return typeof i=="object"&&i!==null},isNull:function(i){return i===null},isNullOrUndefined:function(i){return i==null}}},function(n,r,a){r.decode=r.parse=a(249),r.encode=r.stringify=a(250)},function(n,r,a){function i(o,c){return Object.prototype.hasOwnProperty.call(o,c)}n.exports=function(o,c,u,f){c=c||"&",u=u||"=";var l={};if(typeof o!="string"||o.length===0)return l;var h=/\+/g;o=o.split(c);var p=1e3;f&&typeof f.maxKeys=="number"&&(p=f.maxKeys);var v=o.length;p>0&&v>p&&(v=p);for(var y=0;y<v;++y){var _,m,d,g,x=o[y].replace(h,"%20"),w=x.indexOf(u);w>=0?(_=x.substr(0,w),m=x.substr(w+1)):(_=x,m=""),d=decodeURIComponent(_),g=decodeURIComponent(m),i(l,d)?s(l[d])?l[d].push(g):l[d]=[l[d],g]:l[d]=g}return l};var s=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"}},function(n,r,a){var i=function(u){switch(typeof u){case"string":return u;case"boolean":return u?"true":"false";case"number":return isFinite(u)?u:"";default:return""}};n.exports=function(u,f,l,h){return f=f||"&",l=l||"=",u===null&&(u=void 0),typeof u=="object"?o(c(u),function(p){var v=encodeURIComponent(i(p))+l;return s(u[p])?o(u[p],function(y){return v+encodeURIComponent(i(y))}).join(f):v+encodeURIComponent(i(u[p]))}).join(f):h?encodeURIComponent(i(h))+l+encodeURIComponent(i(u)):""};var s=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function o(u,f){if(u.map)return u.map(f);for(var l=[],h=0;h<u.length;h++)l.push(f(u[h],h));return l}var c=Object.keys||function(u){var f=[];for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&f.push(l);return f}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(52);r.attr_setAnExistingAttributeValue=function(s,o){s._element===null?s._value=o:i.element_change(s,s._element,o)}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(108),s=a(30),o=a(52);r.tokenList_validationSteps=function(c,u){if(!s.dom_hasSupportedTokens(c._attribute._localName))throw new TypeError("There are no supported tokens defined for attribute name: '"+c._attribute._localName+"'.");return s.dom_getSupportedTokens(c._attribute._localName).has(u.toLowerCase())},r.tokenList_updateSteps=function(c){(c._element.hasAttribute(c._attribute._localName)||c._tokenSet.size!==0)&&o.element_setAnAttributeValue(c._element,c._attribute._localName,i.orderedSet_serialize(c._tokenSet))},r.tokenList_serializeSteps=function(c){return o.element_getAnAttributeValue(c._element,c._attribute._localName)}},function(n,r,a){var i=this&&this.__values||function(c){var u=typeof Symbol=="function"&&Symbol.iterator,f=u&&c[u],l=0;if(f)return f.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&l>=c.length&&(c=void 0),{value:c&&c[l++],done:!c}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(1);function o(c){return s.isBoolean(c)?c:c.capture||!1}r.eventTarget_flatten=o,r.eventTarget_flattenMore=function(c){var u=o(c),f=!1,l=!1;return s.isBoolean(c)||(f=c.once||!1,l=c.passive||!1),[u,l,f]},r.eventTarget_addEventListener=function(c,u){if(u.callback!==null){for(var f=0;f<c._eventListenerList.length;f++){var l=c._eventListenerList[f];if(l.type===u.type&&l.callback.handleEvent===u.callback.handleEvent&&l.capture===u.capture)return}c._eventListenerList.push(u)}},r.eventTarget_removeEventListener=function(c,u,f){u.removed=!0,c._eventListenerList.splice(f,1)},r.eventTarget_removeAllEventListeners=function(c){var u,f;try{for(var l=i(c._eventListenerList),h=l.next();!h.done;h=l.next())h.value.removed=!0}catch(p){u={error:p}}finally{try{h&&!h.done&&(f=l.return)&&f.call(l)}finally{if(u)throw u.error}}c._eventListenerList.length=0}},function(n,r,a){var i=this&&this.__values||function(c){var u=typeof Symbol=="function"&&Symbol.iterator,f=u&&c[u],l=0;if(f)return f.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&l>=c.length&&(c=void 0),{value:c&&c[l++],done:!c}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(1),o=a(29);r.parentNode_convertNodesIntoANode=function(c,u){for(var f,l,h=null,p=0;p<c.length;p++){var v=c[p];if(s.isString(v)){var y=o.create_text(u,v);c[p]=y}}if(c.length===1)h=c[0];else{var _=h=o.create_documentFragment(u);try{for(var m=i(c),d=m.next();!d.done;d=m.next())v=d.value,_.appendChild(v)}catch(g){f={error:g}}finally{try{d&&!d.done&&(l=m.return)&&l.call(m)}finally{if(f)throw f.error}}}return h}},function(n,r,a){var i=this&&this.__values||function(S){var T=typeof Symbol=="function"&&Symbol.iterator,b=T&&S[T],O=0;if(b)return b.call(S);if(S&&typeof S.length=="number")return{next:function(){return S&&O>=S.length&&(S=void 0),{value:S&&S[O++],done:!S}}};throw new TypeError(T?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(S,T){var b=typeof Symbol=="function"&&S[Symbol.iterator];if(!b)return S;var O,D,M=b.call(S),R=[];try{for(;(T===void 0||T-- >0)&&!(O=M.next()).done;)R.push(O.value)}catch(E){D={error:E}}finally{try{O&&!O.done&&(b=M.return)&&b.call(M)}finally{if(D)throw D.error}}return R},o=this&&this.__spread||function(){for(var S=[],T=0;T<arguments.length;T++)S=S.concat(s(arguments[T]));return S};Object.defineProperty(r,"__esModule",{value:!0});var c=a(2),u=a(9),f=a(3),l=a(29),h=a(17),p=a(175),v=a(107),y=a(176),_=a(37),m=a(177);function d(S){return S._startNode===S._endNode&&S._startOffset===S._endOffset}function g(S){return h.tree_rootNode(S._startNode)}function x(S,T){return h.tree_rootNode(S)===g(T)&&p.boundaryPoint_position([S,0],T._start)===c.BoundaryPosition.After&&p.boundaryPoint_position([S,h.tree_nodeLength(S)],T._end)===c.BoundaryPosition.Before}function w(S,T){var b=h.tree_isAncestorOf(T._startNode,S,!0),O=h.tree_isAncestorOf(T._endNode,S,!0);return b&&!O||!b&&O}function C(S){var T,b,O,D,M,R,E=l.create_documentFragment(S._startNode._nodeDocument);if(d(S))return E;var B=S._startNode,I=S._startOffset,P=S._endNode,L=S._endOffset;if(B===P&&f.Guard.isCharacterDataNode(B))return(V=y.node_clone(B))._data=v.characterData_substringData(B,I,L-I),_.mutation_append(V,E),v.characterData_replaceData(B,I,L-I,""),E;for(var F=B;!h.tree_isAncestorOf(P,F,!0);){if(F._parent===null)throw new Error("Parent node  is null.");F=F._parent}var G=null;if(!h.tree_isAncestorOf(P,B,!0))try{for(var $=i(F._children),H=$.next();!H.done;H=$.next())if(w(ne=H.value,S)){G=ne;break}}catch(X){T={error:X}}finally{try{H&&!H.done&&(b=$.return)&&b.call($)}finally{if(T)throw T.error}}var J=null;if(!h.tree_isAncestorOf(B,P,!0))for(var Q=o(F._children),q=Q.length-1;q>0;q--){var ne;if(w(ne=Q[q],S)){J=ne;break}}var re,oe,te=[];try{for(var A=i(F._children),N=A.next();!N.done;N=A.next())if(x(K=N.value,S)){if(f.Guard.isDocumentTypeNode(K))throw new u.HierarchyRequestError;te.push(K)}}catch(X){O={error:X}}finally{try{N&&!N.done&&(D=A.return)&&D.call(A)}finally{if(O)throw O.error}}if(h.tree_isAncestorOf(P,B,!0))re=B,oe=I;else{for(var U=B;U._parent!==null&&!h.tree_isAncestorOf(P,U._parent);)U=U._parent;if(U._parent===null)throw new Error("Parent node is null.");re=U._parent,oe=1+h.tree_index(U)}if(f.Guard.isCharacterDataNode(G))(V=y.node_clone(B))._data=v.characterData_substringData(B,I,h.tree_nodeLength(B)-I),_.mutation_append(V,E),v.characterData_replaceData(B,I,h.tree_nodeLength(B)-I,"");else if(G!==null){var V=y.node_clone(G);_.mutation_append(V,E);var k=C(l.create_range([B,I],[G,h.tree_nodeLength(G)]));_.mutation_append(k,V)}try{for(var z=i(te),j=z.next();!j.done;j=z.next()){var K=j.value;_.mutation_append(K,E)}}catch(X){M={error:X}}finally{try{j&&!j.done&&(R=z.return)&&R.call(z)}finally{if(M)throw M.error}}return f.Guard.isCharacterDataNode(J)?((V=y.node_clone(P))._data=v.characterData_substringData(P,0,L),_.mutation_append(V,E),v.characterData_replaceData(P,0,L,"")):J!==null&&(V=y.node_clone(J),_.mutation_append(V,E),k=C(l.create_range([J,0],[P,L])),_.mutation_append(k,V)),S._start=[re,oe],S._end=[re,oe],E}r.range_collapsed=d,r.range_root=g,r.range_isContained=x,r.range_isPartiallyContained=w,r.range_setTheStart=function(S,T,b){if(f.Guard.isDocumentTypeNode(T))throw new u.InvalidNodeTypeError;if(b>h.tree_nodeLength(T))throw new u.IndexSizeError;var O=[T,b];g(S)===h.tree_rootNode(T)&&p.boundaryPoint_position(O,S._end)!==c.BoundaryPosition.After||(S._end=O),S._start=O},r.range_setTheEnd=function(S,T,b){if(f.Guard.isDocumentTypeNode(T))throw new u.InvalidNodeTypeError;if(b>h.tree_nodeLength(T))throw new u.IndexSizeError;var O=[T,b];g(S)===h.tree_rootNode(T)&&p.boundaryPoint_position(O,S._start)!==c.BoundaryPosition.Before||(S._start=O),S._end=O},r.range_select=function(S,T){var b=S._parent;if(b===null)throw new u.InvalidNodeTypeError;var O=h.tree_index(S);T._start=[b,O],T._end=[b,O+1]},r.range_extract=C,r.range_cloneTheContents=function S(T){var b,O,D,M,R,E,B=l.create_documentFragment(T._startNode._nodeDocument);if(d(T))return B;var I=T._startNode,P=T._startOffset,L=T._endNode,F=T._endOffset;I===L&&f.Guard.isCharacterDataNode(I)&&((N=y.node_clone(I))._data=v.characterData_substringData(I,P,F-P),_.mutation_append(N,B));for(var G=I;!h.tree_isAncestorOf(L,G,!0);){if(G._parent===null)throw new Error("Parent node  is null.");G=G._parent}var $=null;if(!h.tree_isAncestorOf(L,I,!0))try{for(var H=i(G._children),J=H.next();!J.done;J=H.next())if(w(re=J.value,T)){$=re;break}}catch(j){b={error:j}}finally{try{J&&!J.done&&(O=H.return)&&O.call(H)}finally{if(b)throw b.error}}var Q=null;if(!h.tree_isAncestorOf(I,L,!0))for(var q=o(G._children),ne=q.length-1;ne>0;ne--){var re;if(w(re=q[ne],T)){Q=re;break}}var oe=[];try{for(var te=i(G._children),A=te.next();!A.done;A=te.next())if(x(z=A.value,T)){if(f.Guard.isDocumentTypeNode(z))throw new u.HierarchyRequestError;oe.push(z)}}catch(j){D={error:j}}finally{try{A&&!A.done&&(M=te.return)&&M.call(te)}finally{if(D)throw D.error}}if(f.Guard.isCharacterDataNode($))(N=y.node_clone(I))._data=v.characterData_substringData(I,P,h.tree_nodeLength(I)-P),_.mutation_append(N,B);else if($!==null){var N=y.node_clone($);_.mutation_append(N,B);var U=S(l.create_range([I,P],[$,h.tree_nodeLength($)]));_.mutation_append(U,N)}try{for(var V=i(oe),k=V.next();!k.done;k=V.next()){var z=k.value,N=y.node_clone(z);_.mutation_append(N,B)}}catch(j){R={error:j}}finally{try{k&&!k.done&&(E=V.return)&&E.call(V)}finally{if(R)throw R.error}}return f.Guard.isCharacterDataNode(Q)?((N=y.node_clone(L))._data=v.characterData_substringData(L,0,F),_.mutation_append(N,B)):Q!==null&&(N=y.node_clone(Q),B.append(N),U=C(l.create_range([Q,0],[L,F])),_.mutation_append(U,N)),B},r.range_insert=function(S,T){var b,O;if(f.Guard.isProcessingInstructionNode(T._startNode)||f.Guard.isCommentNode(T._startNode)||f.Guard.isTextNode(T._startNode)&&T._startNode._parent===null||T._startNode===S)throw new u.HierarchyRequestError;var D,M=null;if(f.Guard.isTextNode(T._startNode))M=T._startNode;else{var R=0;try{for(var E=i(T._startNode._children),B=E.next();!B.done;B=E.next()){var I=B.value;if(R===T._startOffset){M=I;break}R++}}catch(L){b={error:L}}finally{try{B&&!B.done&&(O=E.return)&&O.call(E)}finally{if(b)throw b.error}}}if(M===null)D=T._startNode;else{if(M._parent===null)throw new Error("Parent node is null.");D=M._parent}_.mutation_ensurePreInsertionValidity(S,D,M),f.Guard.isTextNode(T._startNode)&&(M=m.text_split(T._startNode,T._startOffset)),S===M&&(M=S._nextSibling),S._parent!==null&&_.mutation_remove(S,S._parent);var P=M===null?h.tree_nodeLength(D):h.tree_index(M);f.Guard.isDocumentFragmentNode(S)?P+=h.tree_nodeLength(S):P++,_.mutation_preInsert(S,D,M),d(T)&&(T._end=[D,P])},r.range_getContainedNodes=function(S){var T;return(T={})[Symbol.iterator]=function(){var b=S.commonAncestorContainer,O=h.tree_getFirstDescendantNode(b);return{next:function(){for(;O&&!x(O,S);)O=h.tree_getNextDescendantNode(b,O);if(O===null)return{done:!0,value:null};var D={done:!1,value:O};return O=h.tree_getNextDescendantNode(b,O),D}}},T},r.range_getPartiallyContainedNodes=function(S){var T;return(T={})[Symbol.iterator]=function(){var b=S.commonAncestorContainer,O=h.tree_getFirstDescendantNode(b);return{next:function(){for(;O&&!w(O,S);)O=h.tree_getNextDescendantNode(b,O);if(O===null)return{done:!0,value:null};var D={done:!1,value:O};return O=h.tree_getNextDescendantNode(b,O),D}}},T}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(9);r.selectors_scopeMatchASelectorsString=function(s,o){throw new i.NotSupportedError}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(2),s=a(105);r.treeWalker_traverseChildren=function(o,c){for(var u=c?o._current._firstChild:o._current._lastChild;u!==null;){var f=s.traversal_filter(o,u);if(f===i.FilterResult.Accept)return o._current=u,u;if(f===i.FilterResult.Skip){var l=c?u._firstChild:u._lastChild;if(l!==null){u=l;continue}}for(;u!==null;){var h=c?u._nextSibling:u._previousSibling;if(h!==null){u=h;break}var p=u._parent;if(p===null||p===o._root||p===o._current)return null;u=p}}return null},r.treeWalker_traverseSiblings=function(o,c){var u=o._current;if(u===o._root)return null;for(;;){for(var f=c?u._nextSibling:u._previousSibling;f!==null;){u=f;var l=s.traversal_filter(o,u);if(l===i.FilterResult.Accept)return o._current=u,u;f=c?u._firstChild:u._lastChild,l!==i.FilterResult.Reject&&f!==null||(f=c?u._nextSibling:u._previousSibling)}if((u=u._parent)===null||u===o._root||s.traversal_filter(o,u)===i.FilterResult.Accept)return null}}},function(n,r,a){a(89),a(74);var i,s=this&&this.__extends||(i=function(h,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var _ in y)y.hasOwnProperty(_)&&(v[_]=y[_])})(h,p)},function(h,p){function v(){this.constructor=h}i(h,p),h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(1),c=a(2),u=a(50),f=a(3),l=function(h){function p(v,y){var _=h.call(this,v)||this;return _._indentation={},_._lengthToLastNewline=0,_._writerOptions=o.applyDefaults(y,{wellFormed:!1,headless:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,indentTextOnlyNodes:!1,spaceBeforeSlash:!1}),_}return s(p,h),p.prototype.serialize=function(v){return this._refs={suppressPretty:!1,emptyNode:!1,markup:""},v.nodeType!==c.NodeType.Document||this._writerOptions.headless||this.declaration(this._builderOptions.version,this._builderOptions.encoding,this._builderOptions.standalone),this.serializeNode(v,this._writerOptions.wellFormed),this._writerOptions.prettyPrint&&this._refs.markup.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(this._refs.markup=this._refs.markup.slice(0,-this._writerOptions.newline.length)),this._refs.markup},p.prototype.declaration=function(v,y,_){this._beginLine(),this._refs.markup+='<?xml version="'+v+'"',y!==void 0&&(this._refs.markup+=' encoding="'+y+'"'),_!==void 0&&(this._refs.markup+=' standalone="'+(_?"yes":"no")+'"'),this._refs.markup+="?>",this._endLine()},p.prototype.docType=function(v,y,_){this._beginLine(),this._refs.markup+=y&&_?"<!DOCTYPE "+v+' PUBLIC "'+y+'" "'+_+'">':y?"<!DOCTYPE "+v+' PUBLIC "'+y+'">':_?"<!DOCTYPE "+v+' SYSTEM "'+_+'">':"<!DOCTYPE "+v+">",this._endLine()},p.prototype.openTagBegin=function(v){this._beginLine(),this._refs.markup+="<"+v},p.prototype.openTagEnd=function(v,y,_){if(this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._writerOptions.prettyPrint&&!y&&!_){for(var m=!0,d=!0,g=this.currentNode.firstChild,x=0,w=0;g;){if(f.Guard.isExclusiveTextNode(g))w++;else{if(!f.Guard.isCDATASectionNode(g)){m=!1,d=!1;break}x++}g.data!==""&&(d=!1),g=g.nextSibling}this._refs.suppressPretty=!this._writerOptions.indentTextOnlyNodes&&m&&(x<=1&&w===0||x===0),this._refs.emptyNode=d}(_||y||this._refs.emptyNode)&&this._writerOptions.allowEmptyTags?this._refs.markup+="></"+v+">":this._refs.markup+=_?" />":y||this._refs.emptyNode?this._writerOptions.spaceBeforeSlash?" />":"/>":">",this._endLine()},p.prototype.closeTag=function(v){this._refs.emptyNode||(this._beginLine(),this._refs.markup+="</"+v+">"),this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._endLine()},p.prototype.attribute=function(v,y){var _=v+'="'+y+'"';this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._refs.markup.length-this._lengthToLastNewline+1+_.length>this._writerOptions.width?(this._endLine(),this._beginLine(),this._refs.markup+=this._indent(1)+_):this._refs.markup+=" "+_},p.prototype.text=function(v){v!==""&&(this._beginLine(),this._refs.markup+=v,this._endLine())},p.prototype.cdata=function(v){v!==""&&(this._beginLine(),this._refs.markup+="<![CDATA["+v+"]]>",this._endLine())},p.prototype.comment=function(v){this._beginLine(),this._refs.markup+="<!--"+v+"-->",this._endLine()},p.prototype.instruction=function(v,y){this._beginLine(),this._refs.markup+="<?"+(y===""?v:v+" "+y)+"?>",this._endLine()},p.prototype._beginLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._indent(this._writerOptions.offset+this.level))},p.prototype._endLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._writerOptions.newline,this._lengthToLastNewline=this._refs.markup.length)},p.prototype._indent=function(v){if(v<=0)return"";if(this._indentation[v]!==void 0)return this._indentation[v];var y=this._writerOptions.indent.repeat(v);return this._indentation[v]=y,y},p}(u.BaseWriter);r.XMLWriter=l},function(n,r,a){var i=a(47),s=a(35);n.exports="".repeat||function(o){var c=String(s(this)),u="",f=i(o);if(f<0||f==1/0)throw RangeError("Wrong number of repetitions");for(;f>0;(f>>>=1)&&(c+=c))1&f&&(u+=c);return u}},function(n,r,a){a(31),a(32),a(33),a(19),a(178),a(20),a(22),a(23);var i,s=this&&this.__extends||(i=function(l,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var y in v)v.hasOwnProperty(y)&&(p[y]=v[y])})(l,h)},function(l,h){function p(){this.constructor=l}i(l,h),l.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}),o=this&&this.__values||function(l){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&l[h],v=0;if(p)return p.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&v>=l.length&&(l=void 0),{value:l&&l[v++],done:!l}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var c=a(67),u=a(1),f=function(l){function h(p,v){var y=l.call(this,p)||this;return y._writerOptions=u.applyDefaults(v,{wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),y}return s(h,l),h.prototype.serialize=function(p){var v=u.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),y=new c.ObjectWriter(this._builderOptions,v).serialize(p);return this._beginLine(this._writerOptions,0)+this._convertObject(y,this._writerOptions)},h.prototype._convertObject=function(p,v,y){var _,m,d=this;y===void 0&&(y=0);var g="",x=this._isLeafNode(p);if(u.isArray(p)){g+="[";var w=p.length,C=0;try{for(var S=o(p),T=S.next();!T.done;T=S.next()){var b=T.value;g+=this._endLine(v,y+1)+this._beginLine(v,y+1)+this._convertObject(b,v,y+1),C<w-1&&(g+=","),C++}}catch(M){_={error:M}}finally{try{T&&!T.done&&(m=S.return)&&m.call(S)}finally{if(_)throw _.error}}g+=this._endLine(v,y)+this._beginLine(v,y),g+="]"}else if(u.isObject(p)){g+="{";var O=u.objectLength(p),D=0;u.forEachObject(p,function(M,R){x&&v.prettyPrint?g+=" ":g+=d._endLine(v,y+1)+d._beginLine(v,y+1),g+=d._key(M),v.prettyPrint&&(g+=" "),g+=d._convertObject(R,v,y+1),D<O-1&&(g+=","),D++},this),x&&v.prettyPrint?g+=" ":g+=this._endLine(v,y)+this._beginLine(v,y),g+="}"}else g+=this._val(p);return g},h.prototype._beginLine=function(p,v){if(!p.prettyPrint)return"";var y=p.offset+v+1;return y>0?new Array(y).join(p.indent):""},h.prototype._endLine=function(p,v){return p.prettyPrint?p.newline:""},h.prototype._key=function(p){return'"'+p+'":'},h.prototype._val=function(p){return JSON.stringify(p)},h.prototype._isLeafNode=function(p){return this._descendantCount(p)<=1},h.prototype._descendantCount=function(p,v){var y=this;return v===void 0&&(v=0),u.isArray(p)?u.forEachArray(p,function(_){return v+=y._descendantCount(_,v)},this):u.isObject(p)?u.forEachObject(p,function(_,m){return v+=y._descendantCount(m,v)},this):v++,v},h}(a(50).BaseWriter);r.JSONWriter=f},function(n,r,a){a(31),a(32),a(33),a(19),a(178),a(89),a(20),a(22),a(23);var i,s=this&&this.__extends||(i=function(l,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var y in v)v.hasOwnProperty(y)&&(p[y]=v[y])})(l,h)},function(l,h){function p(){this.constructor=l}i(l,h),l.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}),o=this&&this.__values||function(l){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&l[h],v=0;if(p)return p.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&v>=l.length&&(l=void 0),{value:l&&l[v++],done:!l}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var c=a(67),u=a(1),f=function(l){function h(p,v){var y=l.call(this,p)||this;if(y._writerOptions=u.applyDefaults(v,{wellFormed:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),y._writerOptions.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(y._writerOptions.offset<0)throw new Error("YAML offset should be zero or a positive number.");return y}return s(h,l),h.prototype.serialize=function(p){var v=u.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),y=new c.ObjectWriter(this._builderOptions,v).serialize(p),_=this._beginLine(this._writerOptions,0)+"---"+this._endLine(this._writerOptions)+this._convertObject(y,this._writerOptions,0);return _.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(_=_.slice(0,-this._writerOptions.newline.length)),_},h.prototype._convertObject=function(p,v,y,_){var m,d,g=this;_===void 0&&(_=!1);var x="";if(u.isArray(p))try{for(var w=o(p),C=w.next();!C.done;C=w.next()){var S=C.value;x+=this._beginLine(v,y,!0),u.isObject(S)?u.isEmpty(S)?x+='""'+this._endLine(v):x+=this._convertObject(S,v,y,!0):x+=this._val(S)+this._endLine(v)}}catch(T){m={error:T}}finally{try{C&&!C.done&&(d=w.return)&&d.call(w)}finally{if(m)throw m.error}}else u.forEachObject(p,function(T,b){_?(x+=g._key(T),_=!1):x+=g._beginLine(v,y)+g._key(T),u.isObject(b)?u.isEmpty(b)?x+=' ""'+g._endLine(v):x+=g._endLine(v)+g._convertObject(b,v,y+1):x+=" "+g._val(b)+g._endLine(v)},this);return x},h.prototype._beginLine=function(p,v,y){y===void 0&&(y=!1);var _=p.offset+v+1,m=new Array(_).join(p.indent);return y?m.substr(0,m.length-2)+"-"+m.substr(-1,1):m},h.prototype._endLine=function(p){return p.newline},h.prototype._key=function(p){return'"'+p+'":'},h.prototype._val=function(p){return JSON.stringify(p)},h}(a(50).BaseWriter);r.YAMLWriter=f},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),a(110).dom.setFeatures(!0);var i=a(110);r.DOMImplementation=i.DOMImplementation;var s=a(271);r.DOMParser=s.DOMParser;var o=a(274);r.XMLSerializer=o.XMLSerializer},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(3),s=a(0),o=function(){function c(){}return c.prototype.before=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];var l=i.Cast.asNode(this),h=l._parent;if(h!==null){for(var p=l._previousSibling,v=!0;v&&p;){v=!1;for(var y=0;y<u.length;y++){var _=u[y];if(_===p){p=p._previousSibling,v=!0;break}}}var m=s.parentNode_convertNodesIntoANode(u,l._nodeDocument);p=p===null?h._firstChild:p._nextSibling,s.mutation_preInsert(m,h,p)}},c.prototype.after=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];var l=i.Cast.asNode(this),h=l._parent;if(h){for(var p=l._nextSibling,v=!0;v&&p;){v=!1;for(var y=0;y<u.length;y++){var _=u[y];if(_===p){p=p._nextSibling,v=!0;break}}}var m=s.parentNode_convertNodesIntoANode(u,l._nodeDocument);s.mutation_preInsert(m,h,p)}},c.prototype.replaceWith=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];var l=i.Cast.asNode(this),h=l._parent;if(h){for(var p=l._nextSibling,v=!0;v&&p;){v=!1;for(var y=0;y<u.length;y++){var _=u[y];if(_===p){p=p._nextSibling,v=!0;break}}}var m=s.parentNode_convertNodesIntoANode(u,l._nodeDocument);l._parent===h?s.mutation_replace(l,m,h):s.mutation_preInsert(m,h,p)}},c.prototype.remove=function(){var u=i.Cast.asNode(this),f=u._parent;f&&s.mutation_remove(u,f)},c}();r.ChildNodeImpl=o},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){};r.DocumentOrShadowRootImpl=i},function(n,r,a){var i=this&&this.__values||function(f){var l=typeof Symbol=="function"&&Symbol.iterator,h=l&&f[l],p=0;if(h)return h.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&p>=f.length&&(f=void 0),{value:f&&f[p++],done:!f}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(6),o=a(3),c=a(7),u=function(){function f(l){this._nodeList=[],this._recordQueue=[],this._callback=l;var h=s.dom.window;c.set.append(h._mutationObservers,this)}return f.prototype.observe=function(l,h){var p,v;if((h=h||{childList:!1,subtree:!1}).attributeOldValue===void 0&&h.attributeFilter===void 0||h.attributes!==void 0||(h.attributes=!0),h.characterDataOldValue!==void 0&&h.characterData===void 0&&(h.characterData=!0),!h.childList&&!h.attributes&&!h.characterData)throw new TypeError;if(h.attributeOldValue&&!h.attributes)throw new TypeError;if(h.attributeFilter!==void 0&&!h.attributes)throw new TypeError;if(h.characterDataOldValue&&!h.characterData)throw new TypeError;var y=!1,_=h,m=function(w){var C,S;if(w.observer===d){y=!0;try{for(var T=(C=void 0,i(d._nodeList)),b=T.next();!b.done;b=T.next()){var O=b.value;c.list.remove(O._registeredObserverList,function(D){return o.Guard.isTransientRegisteredObserver(D)&&D.source===w})}}catch(D){C={error:D}}finally{try{b&&!b.done&&(S=T.return)&&S.call(T)}finally{if(C)throw C.error}}w.options=_}},d=this;try{for(var g=i(l._registeredObserverList),x=g.next();!x.done;x=g.next())m(x.value)}catch(w){p={error:w}}finally{try{x&&!x.done&&(v=g.return)&&v.call(g)}finally{if(p)throw p.error}}y||(l._registeredObserverList.push({observer:this,options:h}),this._nodeList.push(l))},f.prototype.disconnect=function(){var l,h,p=this;try{for(var v=i(this._nodeList),y=v.next();!y.done;y=v.next()){var _=y.value;c.list.remove(_._registeredObserverList,function(m){return m.observer===p})}}catch(m){l={error:m}}finally{try{y&&!y.done&&(h=v.return)&&h.call(v)}finally{if(l)throw l.error}}this._recordQueue=[]},f.prototype.takeRecords=function(){var l=this._recordQueue;return this._recordQueue=[],l},f}();r.MutationObserverImpl=u},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(3),s=function(){function o(){}return Object.defineProperty(o.prototype,"previousElementSibling",{get:function(){for(var c=i.Cast.asNode(this)._previousSibling;c;){if(i.Guard.isElementNode(c))return c;c=c._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"nextElementSibling",{get:function(){for(var c=i.Cast.asNode(this)._nextSibling;c;){if(i.Guard.isElementNode(c))return c;c=c._nextSibling}return null},enumerable:!0,configurable:!0}),o}();r.NonDocumentTypeChildNodeImpl=s},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(3),s=a(0),o=function(){function c(){}return c.prototype.getElementById=function(u){for(var f=s.tree_getFirstDescendantNode(i.Cast.asNode(this),!1,!1,function(l){return i.Guard.isElementNode(l)});f!==null;){if(f._uniqueIdentifier===u)return f;f=s.tree_getNextDescendantNode(i.Cast.asNode(this),f,!1,!1,function(l){return i.Guard.isElementNode(l)})}return null},c}();r.NonElementParentNodeImpl=o},function(n,r,a){var i=this&&this.__values||function(u){var f=typeof Symbol=="function"&&Symbol.iterator,l=f&&u[f],h=0;if(l)return l.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&h>=u.length&&(u=void 0),{value:u&&u[h++],done:!u}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(3),o=a(0),c=function(){function u(){}return Object.defineProperty(u.prototype,"children",{get:function(){return o.create_htmlCollection(s.Cast.asNode(this))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"firstElementChild",{get:function(){for(var f=s.Cast.asNode(this)._firstChild;f;){if(s.Guard.isElementNode(f))return f;f=f._nextSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"lastElementChild",{get:function(){for(var f=s.Cast.asNode(this)._lastChild;f;){if(s.Guard.isElementNode(f))return f;f=f._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"childElementCount",{get:function(){var f,l,h=0;try{for(var p=i(s.Cast.asNode(this)._children),v=p.next();!v.done;v=p.next()){var y=v.value;s.Guard.isElementNode(y)&&h++}}catch(_){f={error:_}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(f)throw f.error}}return h},enumerable:!0,configurable:!0}),u.prototype.prepend=function(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];var h=s.Cast.asNode(this),p=o.parentNode_convertNodesIntoANode(f,h._nodeDocument);o.mutation_preInsert(p,h,h._firstChild)},u.prototype.append=function(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];var h=s.Cast.asNode(this),p=o.parentNode_convertNodesIntoANode(f,h._nodeDocument);o.mutation_append(p,h)},u.prototype.querySelector=function(f){var l=s.Cast.asNode(this),h=o.selectors_scopeMatchASelectorsString(f,l);return h.length===0?null:h[0]},u.prototype.querySelectorAll=function(f){var l=s.Cast.asNode(this),h=o.selectors_scopeMatchASelectorsString(f,l);return o.create_nodeListStatic(l,h)},u}();r.ParentNodeImpl=c},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),s=function(){function o(){}return Object.defineProperty(o.prototype,"_name",{get:function(){return this.__name||""},set:function(c){this.__name=c},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"_assignedSlot",{get:function(){return this.__assignedSlot||null},set:function(c){this.__assignedSlot=c},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"assignedSlot",{get:function(){return i.shadowTree_findASlot(this,!0)},enumerable:!0,configurable:!0}),o}();r.SlotableImpl=s},function(n,r,a){var i,s=this&&this.__extends||(i=function(l,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var y in v)v.hasOwnProperty(y)&&(p[y]=v[y])})(l,h)},function(l,h){function p(){this.constructor=l}i(l,h),l.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(102),c=a(9),u=a(3),f=function(l){function h(p){var v=l.call(this)||this;if(u.Guard.isDocumentTypeNode(p.startContainer)||u.Guard.isAttrNode(p.startContainer)||u.Guard.isDocumentTypeNode(p.endContainer)||u.Guard.isAttrNode(p.endContainer))throw new c.InvalidNodeTypeError;return v._start=[p.startContainer,p.startOffset],v._end=[p.endContainer,p.endOffset],v}return s(h,l),h}(o.AbstractRangeImpl);r.StaticRangeImpl=f},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(272);r.DOMParser=i.DOMParserImpl},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),s=a(273),o=function(){function c(){}return c.prototype.parseFromString=function(u,f){if(f==="text/html")throw new Error("HTML parser not implemented.");try{return(l=new s.XMLParserImpl().parse(u))._contentType=f,l}catch(y){var l,h="http://www.mozilla.org/newlayout/xml/parsererror.xml",p=(l=i.create_xmlDocument()).createElementNS(h,"parsererror"),v=l.createElementNS(h,"error");return v.setAttribute("message",y.message),p.appendChild(v),l.appendChild(p),l}},c}();r.DOMParserImpl=o},function(n,r,a){var i=this&&this.__read||function(p,v){var y=typeof Symbol=="function"&&p[Symbol.iterator];if(!y)return p;var _,m,d=y.call(p),g=[];try{for(;(v===void 0||v-- >0)&&!(_=d.next()).done;)g.push(_.value)}catch(x){m={error:x}}finally{try{_&&!_.done&&(y=d.return)&&y.call(d)}finally{if(m)throw m.error}}return g},s=this&&this.__values||function(p){var v=typeof Symbol=="function"&&Symbol.iterator,y=v&&p[v],_=0;if(y)return y.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&_>=p.length&&(p=void 0),{value:p&&p[_++],done:!p}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=a(180),c=a(111),u=a(7),f=a(0),l=a(69),h=function(){function p(){}return p.prototype.parse=function(v){for(var y,_,m,d,g=new o.XMLStringLexer(v,{skipWhitespaceOnlyText:!0}),x=f.create_document(),w=x,C=g.nextToken();C.type!==c.TokenType.EOF;){switch(C.type){case c.TokenType.Declaration:var S=C;if(S.version!=="1.0")throw new Error("Invalid xml version: "+S.version);break;case c.TokenType.DocType:var T=C;if(!f.xml_isPubidChar(T.pubId))throw new Error("DocType public identifier does not match PubidChar construct.");if(!f.xml_isLegalChar(T.sysId)||T.sysId.indexOf('"')!==-1&&T.sysId.indexOf("'")!==-1)throw new Error("DocType system identifier contains invalid characters.");w.appendChild(x.implementation.createDocumentType(T.name,T.pubId,T.sysId));break;case c.TokenType.CDATA:var b=C;if(!f.xml_isLegalChar(b.data)||b.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters.");w.appendChild(x.createCDATASection(b.data));break;case c.TokenType.Comment:var O=C;if(!f.xml_isLegalChar(O.data)||O.data.indexOf("--")!==-1||O.data.endsWith("-"))throw new Error("Comment data contains invalid characters.");w.appendChild(x.createComment(O.data));break;case c.TokenType.PI:var D=C;if(D.target.indexOf(":")!==-1||/^xml$/i.test(D.target))throw new Error("Processing instruction target contains invalid characters.");if(!f.xml_isLegalChar(D.data)||D.data.indexOf("?>")!==-1)throw new Error("Processing instruction data contains invalid characters.");w.appendChild(x.createProcessingInstruction(D.target,D.data));break;case c.TokenType.Text:var M=C;if(!f.xml_isLegalChar(M.data))throw new Error("Text data contains invalid characters.");w.appendChild(x.createTextNode(this._decodeText(M.data)));break;case c.TokenType.Element:var R=C,E=i(f.namespace_extractQName(R.name),2),B=E[0],I=E[1];if(I.indexOf(":")!==-1||!f.xml_isName(I))throw new Error("Node local name contains invalid characters.");if(B==="xmlns")throw new Error("An element cannot have the 'xmlns' prefix.");var P=w.lookupNamespaceURI(B),L={};try{for(var F=(y=void 0,s(R.attributes)),G=F.next();!G.done;G=F.next()){var $=i(G.value,2),H=$[0],J=$[1];if(H==="xmlns")P=J;else{var Q=i(f.namespace_extractQName(H),2),q=Q[0],ne=Q[1];q==="xmlns"&&(ne===B&&(P=J),L[ne]=J)}}}catch(k){y={error:k}}finally{try{G&&!G.done&&(_=F.return)&&_.call(F)}finally{if(y)throw y.error}}var re=P!==null?x.createElementNS(P,R.name):x.createElement(R.name);w.appendChild(re);var oe=new l.LocalNameSet;try{for(var te=(m=void 0,s(R.attributes)),A=te.next();!A.done;A=te.next()){var N=i(A.value,2),U=(H=N[0],J=N[1],i(f.namespace_extractQName(H),2)),V=(q=U[0],ne=U[1],null);if(q==="xmlns"||q===null&&ne==="xmlns"?V=u.namespace.XMLNS:(V=re.lookupNamespaceURI(q))!==null&&re.isDefaultNamespace(V)?V=null:V===null&&q!==null&&(V=L[q]||null),oe.has(V,ne))throw new Error("Element contains duplicate attributes.");if(oe.set(V,ne),V===u.namespace.XMLNS&&J===u.namespace.XMLNS)throw new Error("XMLNS namespace is reserved.");if(ne.indexOf(":")!==-1||!f.xml_isName(ne))throw new Error("Attribute local name contains invalid characters.");if(q==="xmlns"&&J==="")throw new Error("Empty XML namespace is not allowed.");V!==null?re.setAttributeNS(V,H,this._decodeAttributeValue(J)):re.setAttribute(H,this._decodeAttributeValue(J))}}catch(k){m={error:k}}finally{try{A&&!A.done&&(d=te.return)&&d.call(te)}finally{if(m)throw m.error}}R.selfClosing||(w=re);break;case c.TokenType.ClosingTag:if(C.name!==w.nodeName)throw new Error("Closing tag name does not match opening tag name.");w._parent&&(w=w._parent)}C=g.nextToken()}return x},p.prototype._decodeText=function(v){return v==null?v:v.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},p.prototype._decodeAttributeValue=function(v){return v==null?v:v.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},p}();r.XMLParserImpl=h},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(275);r.XMLSerializer=i.XMLSerializerImpl},function(n,r,a){var i=this&&this.__values||function(p){var v=typeof Symbol=="function"&&Symbol.iterator,y=v&&p[v],_=0;if(y)return y.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&_>=p.length&&(p=void 0),{value:p&&p[_++],done:!p}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(2),o=a(69),c=a(95),u=a(9),f=a(7),l=a(0),h=function(){function p(){}return p.prototype.serializeToString=function(v){return this._xmlSerialization(v,!1)},p.prototype._xmlSerialization=function(v,y){if(v._nodeDocument===void 0||v._nodeDocument._hasNamespaces){var _=new c.NamespacePrefixMap;_.set("xml",f.namespace.XML);try{return this._serializeNodeNS(v,null,_,{value:1},y)}catch{throw new u.InvalidStateError}}else try{return this._serializeNode(v,y)}catch{throw new u.InvalidStateError}},p.prototype._serializeNodeNS=function(v,y,_,m,d){switch(v.nodeType){case s.NodeType.Element:return this._serializeElementNS(v,y,_,m,d);case s.NodeType.Document:return this._serializeDocumentNS(v,y,_,m,d);case s.NodeType.Comment:return this._serializeComment(v,d);case s.NodeType.Text:return this._serializeText(v,d);case s.NodeType.DocumentFragment:return this._serializeDocumentFragmentNS(v,y,_,m,d);case s.NodeType.DocumentType:return this._serializeDocumentType(v,d);case s.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(v,d);case s.NodeType.CData:return this._serializeCData(v,d);default:throw new Error("Unknown node type: "+v.nodeType)}},p.prototype._serializeNode=function(v,y){switch(v.nodeType){case s.NodeType.Element:return this._serializeElement(v,y);case s.NodeType.Document:return this._serializeDocument(v,y);case s.NodeType.Comment:return this._serializeComment(v,y);case s.NodeType.Text:return this._serializeText(v,y);case s.NodeType.DocumentFragment:return this._serializeDocumentFragment(v,y);case s.NodeType.DocumentType:return this._serializeDocumentType(v,y);case s.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(v,y);case s.NodeType.CData:return this._serializeCData(v,y);default:throw new Error("Unknown node type: "+v.nodeType)}},p.prototype._serializeElementNS=function(v,y,_,m,d){var g,x;if(d&&(v.localName.indexOf(":")!==-1||!l.xml_isName(v.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var w="<",C="",S=!1,T=!1,b=_.copy(),O={},D=this._recordNamespaceInformation(v,b,O),M=y,R=v.namespaceURI;if(M===R)D!==null&&(T=!0),w+=C=R===f.namespace.XML?"xml:"+v.localName:v.localName;else{var E=v.prefix,B=null;if(E===null&&R===D||(B=b.get(E,R)),E==="xmlns"){if(d)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");B=E}B!==null?(C=B+":"+v.localName,D!==null&&D!==f.namespace.XML&&(M=D||null),w+=C):E!==null?(E in O&&(E=this._generatePrefix(R,b,m)),b.set(E,R),w+=C+=E+":"+v.localName,w+=" xmlns:"+E+'="'+this._serializeAttributeValue(R,d)+'"',D!==null&&(M=D||null)):D===null||D!==null&&D!==R?(T=!0,M=R,w+=C+=v.localName,w+=' xmlns="'+this._serializeAttributeValue(R,d)+'"'):(M=R,w+=C+=v.localName)}w+=this._serializeAttributesNS(v,b,m,O,T,d);var I=R===f.namespace.HTML;if(I&&v.childNodes.length===0&&p._VoidElementNames.has(v.localName)?(w+=" /",S=!0):I||v.childNodes.length!==0||(w+="/",S=!0),w+=">",S)return w;if(!(I&&v.localName==="template"))try{for(var P=i(v._children||v.childNodes),L=P.next();!L.done;L=P.next()){var F=L.value;w+=this._serializeNodeNS(F,M,b,m,d)}}catch(G){g={error:G}}finally{try{L&&!L.done&&(x=P.return)&&x.call(P)}finally{if(g)throw g.error}}return w+="</"+C+">"},p.prototype._serializeDocumentNS=function(v,y,_,m,d){var g,x;if(d&&v.documentElement===null)throw new Error("Missing document element (well-formed required).");var w="";try{for(var C=i(v._children||v.childNodes),S=C.next();!S.done;S=C.next()){var T=S.value;w+=this._serializeNodeNS(T,y,_,m,d)}}catch(b){g={error:b}}finally{try{S&&!S.done&&(x=C.return)&&x.call(C)}finally{if(g)throw g.error}}return w},p.prototype._serializeComment=function(v,y){if(y&&(!l.xml_isLegalChar(v.data)||v.data.indexOf("--")!==-1||v.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");return"<!--"+v.data+"-->"},p.prototype._serializeText=function(v,y){if(y&&!l.xml_isLegalChar(v.data))throw new Error("Text data contains invalid characters (well-formed required).");for(var _="",m=0;m<v.data.length;m++){var d=v.data[m];_+=d==="&"?"&amp;":d==="<"?"&lt;":d===">"?"&gt;":d}return _},p.prototype._serializeDocumentFragmentNS=function(v,y,_,m,d){var g,x,w="";try{for(var C=i(v._children||v.childNodes),S=C.next();!S.done;S=C.next()){var T=S.value;w+=this._serializeNodeNS(T,y,_,m,d)}}catch(b){g={error:b}}finally{try{S&&!S.done&&(x=C.return)&&x.call(C)}finally{if(g)throw g.error}}return w},p.prototype._serializeDocumentType=function(v,y){if(y&&!l.xml_isPubidChar(v.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(y&&(!l.xml_isLegalChar(v.systemId)||v.systemId.indexOf('"')!==-1&&v.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");return v.publicId&&v.systemId?"<!DOCTYPE "+v.name+' PUBLIC "'+v.publicId+'" "'+v.systemId+'">':v.publicId?"<!DOCTYPE "+v.name+' PUBLIC "'+v.publicId+'">':v.systemId?"<!DOCTYPE "+v.name+' SYSTEM "'+v.systemId+'">':"<!DOCTYPE "+v.name+">"},p.prototype._serializeProcessingInstruction=function(v,y){if(y&&(v.target.indexOf(":")!==-1||/^xml$/i.test(v.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(y&&(!l.xml_isLegalChar(v.data)||v.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");return"<?"+(v.data===""?v.target:v.target+" "+v.data)+"?>"},p.prototype._serializeCData=function(v,y){if(y&&v.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");return"<![CDATA["+v.data+"]]>"},p.prototype._serializeAttributesNS=function(v,y,_,m,d,g){var x,w,C="",S=g?new o.LocalNameSet:void 0;try{for(var T=i(v.attributes),b=T.next();!b.done;b=T.next()){var O=b.value;if(d||g||O.namespaceURI!==null){if(g&&S&&S.has(O.namespaceURI,O.localName))throw new Error("Element contains duplicate attributes (well-formed required).");g&&S&&S.set(O.namespaceURI,O.localName);var D=O.namespaceURI,M=null;if(D!==null)if(M=y.get(O.prefix,D),D===f.namespace.XMLNS){if(O.value===f.namespace.XML||O.prefix===null&&d||O.prefix!==null&&(!(O.localName in m)||m[O.localName]!==O.value)&&y.has(O.localName,O.value))continue;if(g&&O.value===f.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(g&&O.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");O.prefix==="xmlns"&&(M="xmlns")}else M===null&&(C+=" xmlns:"+(M=O.prefix===null||y.hasPrefix(O.prefix)&&!y.has(O.prefix,D)?this._generatePrefix(D,y,_):O.prefix)+'="'+this._serializeAttributeValue(D,g)+'"');if(C+=" ",M!==null&&(C+=M+":"),g&&(O.localName.indexOf(":")!==-1||!l.xml_isName(O.localName)||O.localName==="xmlns"&&D===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");C+=O.localName+'="'+this._serializeAttributeValue(O.value,g)+'"'}else C+=" "+O.localName+'="'+this._serializeAttributeValue(O.value,g)+'"'}}catch(R){x={error:R}}finally{try{b&&!b.done&&(w=T.return)&&w.call(T)}finally{if(x)throw x.error}}return C},p.prototype._recordNamespaceInformation=function(v,y,_){var m,d,g=null;try{for(var x=i(v.attributes),w=x.next();!w.done;w=x.next()){var C=w.value,S=C.namespaceURI,T=C.prefix;if(S===f.namespace.XMLNS){if(T===null){g=C.value;continue}var b=C.localName,O=C.value;if(O===f.namespace.XML||(O===""&&(O=null),y.has(b,O)))continue;y.set(b,O),_[b]=O||""}}}catch(D){m={error:D}}finally{try{w&&!w.done&&(d=x.return)&&d.call(x)}finally{if(m)throw m.error}}return g},p.prototype._generatePrefix=function(v,y,_){var m="ns"+_.value;return _.value++,y.set(m,v),m},p.prototype._serializeAttributeValue=function(v,y){if(y&&v!==null&&!l.xml_isLegalChar(v))throw new Error("Invalid characters in attribute value.");if(v===null)return"";for(var _="",m=0;m<v.length;m++){var d=v[m];_+=d==='"'?"&quot;":d==="&"?"&amp;":d==="<"?"&lt;":d===">"?"&gt;":d}return _},p.prototype._serializeElement=function(v,y){var _,m;if(y&&(v.localName.indexOf(":")!==-1||!l.xml_isName(v.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var d=!1,g=v.localName,x="<"+g;if(x+=this._serializeAttributes(v,y),v._children.size===0&&(x+="/",d=!0),x+=">",d)return x;try{for(var w=i(v._children),C=w.next();!C.done;C=w.next()){var S=C.value;x+=this._serializeNode(S,y)}}catch(T){_={error:T}}finally{try{C&&!C.done&&(m=w.return)&&m.call(w)}finally{if(_)throw _.error}}return x+="</"+g+">"},p.prototype._serializeDocument=function(v,y){var _,m;if(y&&v.documentElement===null)throw new Error("Missing document element (well-formed required).");var d="";try{for(var g=i(v._children),x=g.next();!x.done;x=g.next()){var w=x.value;d+=this._serializeNode(w,y)}}catch(C){_={error:C}}finally{try{x&&!x.done&&(m=g.return)&&m.call(g)}finally{if(_)throw _.error}}return d},p.prototype._serializeDocumentFragment=function(v,y){var _,m,d="";try{for(var g=i(v._children),x=g.next();!x.done;x=g.next()){var w=x.value;d+=this._serializeNode(w,y)}}catch(C){_={error:C}}finally{try{x&&!x.done&&(m=g.return)&&m.call(g)}finally{if(_)throw _.error}}return d},p.prototype._serializeAttributes=function(v,y){var _,m,d="",g=y?{}:void 0;try{for(var x=i(v.attributes),w=x.next();!w.done;w=x.next()){var C=w.value;if(y&&g&&C.localName in g)throw new Error("Element contains duplicate attributes (well-formed required).");if(y&&g&&(g[C.localName]=!0),y&&(C.localName.indexOf(":")!==-1||!l.xml_isName(C.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");d+=" "+C.localName+'="'+this._serializeAttributeValue(C.value,y)+'"'}}catch(S){_={error:S}}finally{try{w&&!w.done&&(m=x.return)&&m.call(x)}finally{if(_)throw _.error}}return d},p._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),p}();r.XMLSerializerImpl=h},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(277);r.XMLReader=i.XMLReader;var s=a(112);r.ObjectReader=s.ObjectReader;var o=a(280);r.JSONReader=o.JSONReader;var c=a(281);r.YAMLReader=c.YAMLReader},function(n,r,a){a(31),a(32),a(33),a(19),a(65),a(20),a(22),a(23);var i,s=this&&this.__extends||(i=function(v,y){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,m){_.__proto__=m}||function(_,m){for(var d in m)m.hasOwnProperty(d)&&(_[d]=m[d])})(v,y)},function(v,y){function _(){this.constructor=v}i(v,y),v.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}),o=this&&this.__read||function(v,y){var _=typeof Symbol=="function"&&v[Symbol.iterator];if(!_)return v;var m,d,g=_.call(v),x=[];try{for(;(y===void 0||y-- >0)&&!(m=g.next()).done;)x.push(m.value)}catch(w){d={error:w}}finally{try{m&&!m.done&&(_=g.return)&&_.call(g)}finally{if(d)throw d.error}}return x},c=this&&this.__values||function(v){var y=typeof Symbol=="function"&&Symbol.iterator,_=y&&v[y],m=0;if(_)return _.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&m>=v.length&&(v=void 0),{value:v&&v[m++],done:!v}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=a(180),f=a(111),l=a(7),h=a(0),p=function(v){function y(){return v!==null&&v.apply(this,arguments)||this}return s(y,v),y.prototype._parse=function(_,m){for(var d,g,x,w,C=new u.XMLStringLexer(m,{skipWhitespaceOnlyText:!0}),S=_,T=_,b=C.nextToken();b.type!==f.TokenType.EOF;){switch(b.type){case f.TokenType.Declaration:var O=b,D=this.sanitize(O.version);if(D!=="1.0")throw new Error("Invalid xml version: "+D);var M={version:D};O.encoding&&(M.encoding=this.sanitize(O.encoding)),O.standalone&&(M.standalone=this.sanitize(O.standalone)==="yes"),T.set(M);break;case f.TokenType.DocType:var R=b;T=this.docType(T,this.sanitize(R.name),this.sanitize(R.pubId),this.sanitize(R.sysId))||T;break;case f.TokenType.CDATA:var E=b;T=this.cdata(T,this.sanitize(E.data))||T;break;case f.TokenType.Comment:var B=b;T=this.comment(T,this.sanitize(B.data))||T;break;case f.TokenType.PI:var I=b;T=this.instruction(T,this.sanitize(I.target),this.sanitize(I.data))||T;break;case f.TokenType.Text:var P=b;T=this.text(T,this._decodeText(this.sanitize(P.data)))||T;break;case f.TokenType.Element:var L=b,F=this.sanitize(L.name),G=o(h.namespace_extractQName(F),1)[0],$=T.node.lookupNamespaceURI(G),H={};try{for(var J=(d=void 0,c(L.attributes)),Q=J.next();!Q.done;Q=J.next()){var q=o(Q.value,2),ne=q[0],re=q[1];if(ne=this.sanitize(ne),re=this.sanitize(re),ne==="xmlns")$=re;else{var oe=o(h.namespace_extractQName(ne),2),te=oe[0],A=oe[1];te==="xmlns"&&(A===G&&($=re),H[A]=re)}}}catch(K){d={error:K}}finally{try{Q&&!Q.done&&(g=J.return)&&g.call(J)}finally{if(d)throw d.error}}var N=$!==null?this.element(T,$,F):this.element(T,void 0,F);if(N===void 0)break;T.node===_.node&&(S=N);try{for(var U=(x=void 0,c(L.attributes)),V=U.next();!V.done;V=U.next()){var k=o(V.value,2);ne=k[0],re=k[1],ne=this.sanitize(ne),re=this.sanitize(re);var z=o(h.namespace_extractQName(ne),2),j=(te=z[0],A=z[1],null);te==="xmlns"||te===null&&A==="xmlns"?j=l.namespace.XMLNS:(j=N.node.lookupNamespaceURI(te))!==null&&N.node.isDefaultNamespace(j)?j=null:j===null&&te!==null&&(j=H[te]||null),j!==null?this.attribute(N,j,ne,this._decodeAttributeValue(re)):this.attribute(N,void 0,ne,this._decodeAttributeValue(re))}}catch(K){x={error:K}}finally{try{V&&!V.done&&(w=U.return)&&w.call(U)}finally{if(x)throw x.error}}L.selfClosing||(T=N);break;case f.TokenType.ClosingTag:T.node.parentNode&&(T=T.up())}b=C.nextToken()}return S},y}(a(75).BaseReader);r.XMLReader=p},function(n,r,a){var i=a(4),s=a(279);i({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},function(n,r,a){var i=a(16),s=a(8),o=a(61),c=a(85),u=a(79),f=a(27),l=a(41),h=Object.assign,p=Object.defineProperty;n.exports=!h||s(function(){if(i&&h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},y={},_=Symbol();return v[_]=7,"abcdefghijklmnopqrst".split("").forEach(function(m){y[m]=m}),h({},v)[_]!=7||o(h({},y)).join("")!="abcdefghijklmnopqrst"})?function(v,y){for(var _=f(v),m=arguments.length,d=1,g=c.f,x=u.f;m>d;)for(var w,C=l(arguments[d++]),S=g?o(C).concat(g(C)):o(C),T=S.length,b=0;T>b;)w=S[b++],i&&!x.call(C,w)||(_[w]=C[w]);return _}:h},function(n,r,a){var i,s=this&&this.__extends||(i=function(u,f){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var p in h)h.hasOwnProperty(p)&&(l[p]=h[p])})(u,f)},function(u,f){function l(){this.constructor=u}i(u,f),u.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(112),c=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return s(f,u),f.prototype._parse=function(l,h){return new o.ObjectReader(this._builderOptions).parse(l,JSON.parse(h))},f}(a(75).BaseReader);r.JSONReader=c},function(n,r,a){var i,s=this&&this.__extends||(i=function(l,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var y in v)v.hasOwnProperty(y)&&(p[y]=v[y])})(l,h)},function(l,h){function p(){this.constructor=l}i(l,h),l.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(112),c=a(75),u=a(282),f=function(l){function h(){return l!==null&&l.apply(this,arguments)||this}return s(h,l),h.prototype._parse=function(p,v){var y=u.safeLoad(v);if(y===void 0)throw new Error("Unable to parse YAML document.");return new o.ObjectReader(this._builderOptions).parse(p,y)},h}(c.BaseReader);r.YAMLReader=f},function(n,r,a){var i=a(283);n.exports=i},function(n,r,a){var i=a(284),s=a(303);function o(c){return function(){throw new Error("Function "+c+" is deprecated and cannot be used.")}}n.exports.Type=a(10),n.exports.Schema=a(39),n.exports.FAILSAFE_SCHEMA=a(113),n.exports.JSON_SCHEMA=a(182),n.exports.CORE_SCHEMA=a(181),n.exports.DEFAULT_SAFE_SCHEMA=a(54),n.exports.DEFAULT_FULL_SCHEMA=a(76),n.exports.load=i.load,n.exports.loadAll=i.loadAll,n.exports.safeLoad=i.safeLoad,n.exports.safeLoadAll=i.safeLoadAll,n.exports.dump=s.dump,n.exports.safeDump=s.safeDump,n.exports.YAMLException=a(53),n.exports.MINIMAL_SCHEMA=a(113),n.exports.SAFE_SCHEMA=a(54),n.exports.DEFAULT_SCHEMA=a(76),n.exports.scan=o("scan"),n.exports.parse=o("parse"),n.exports.compose=o("compose"),n.exports.addConstructor=o("addConstructor")},function(n,r,a){var i=a(38),s=a(53),o=a(285),c=a(54),u=a(76),f=Object.prototype.hasOwnProperty,l=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,h=/[\x85\u2028\u2029]/,p=/[,\[\]\{\}]/,v=/^(?:!|!!|![a-z\-]+!)$/i,y=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _(N){return Object.prototype.toString.call(N)}function m(N){return N===10||N===13}function d(N){return N===9||N===32}function g(N){return N===9||N===32||N===10||N===13}function x(N){return N===44||N===91||N===93||N===123||N===125}function w(N){var U;return 48<=N&&N<=57?N-48:97<=(U=32|N)&&U<=102?U-97+10:-1}function C(N){return N===48?"\0":N===97?"\x07":N===98?"\b":N===116||N===9?"	":N===110?`
`:N===118?"\v":N===102?"\f":N===114?"\r":N===101?"\x1B":N===32?" ":N===34?'"':N===47?"/":N===92?"\\":N===78?"\x85":N===95?"\xA0":N===76?"\u2028":N===80?"\u2029":""}function S(N){return N<=65535?String.fromCharCode(N):String.fromCharCode(55296+(N-65536>>10),56320+(N-65536&1023))}for(var T=new Array(256),b=new Array(256),O=0;O<256;O++)T[O]=C(O)?1:0,b[O]=C(O);function D(N,U){this.input=N,this.filename=U.filename||null,this.schema=U.schema||u,this.onWarning=U.onWarning||null,this.legacy=U.legacy||!1,this.json=U.json||!1,this.listener=U.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=N.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function M(N,U){return new s(U,new o(N.filename,N.input,N.position,N.line,N.position-N.lineStart))}function R(N,U){throw M(N,U)}function E(N,U){N.onWarning&&N.onWarning.call(null,M(N,U))}var B={YAML:function(N,U,V){var k,z,j;N.version!==null&&R(N,"duplication of %YAML directive"),V.length!==1&&R(N,"YAML directive accepts exactly one argument"),(k=/^([0-9]+)\.([0-9]+)$/.exec(V[0]))===null&&R(N,"ill-formed argument of the YAML directive"),z=parseInt(k[1],10),j=parseInt(k[2],10),z!==1&&R(N,"unacceptable YAML version of the document"),N.version=V[0],N.checkLineBreaks=j<2,j!==1&&j!==2&&E(N,"unsupported YAML version of the document")},TAG:function(N,U,V){var k,z;V.length!==2&&R(N,"TAG directive accepts exactly two arguments"),k=V[0],z=V[1],v.test(k)||R(N,"ill-formed tag handle (first argument) of the TAG directive"),f.call(N.tagMap,k)&&R(N,'there is a previously declared suffix for "'+k+'" tag handle'),y.test(z)||R(N,"ill-formed tag prefix (second argument) of the TAG directive"),N.tagMap[k]=z}};function I(N,U,V,k){var z,j,K,X;if(U<V){if(X=N.input.slice(U,V),k)for(z=0,j=X.length;z<j;z+=1)(K=X.charCodeAt(z))===9||32<=K&&K<=1114111||R(N,"expected valid JSON character");else l.test(X)&&R(N,"the stream contains non-printable characters");N.result+=X}}function P(N,U,V,k){var z,j,K,X;for(i.isObject(V)||R(N,"cannot merge mappings; the provided source object is unacceptable"),K=0,X=(z=Object.keys(V)).length;K<X;K+=1)j=z[K],f.call(U,j)||(U[j]=V[j],k[j]=!0)}function L(N,U,V,k,z,j,K,X){var Z,ae;if(Array.isArray(z))for(Z=0,ae=(z=Array.prototype.slice.call(z)).length;Z<ae;Z+=1)Array.isArray(z[Z])&&R(N,"nested arrays are not supported inside keys"),typeof z=="object"&&_(z[Z])==="[object Object]"&&(z[Z]="[object Object]");if(typeof z=="object"&&_(z)==="[object Object]"&&(z="[object Object]"),z=String(z),U===null&&(U={}),k==="tag:yaml.org,2002:merge")if(Array.isArray(j))for(Z=0,ae=j.length;Z<ae;Z+=1)P(N,U,j[Z],V);else P(N,U,j,V);else N.json||f.call(V,z)||!f.call(U,z)||(N.line=K||N.line,N.position=X||N.position,R(N,"duplicated mapping key")),U[z]=j,delete V[z];return U}function F(N){var U;(U=N.input.charCodeAt(N.position))===10?N.position++:U===13?(N.position++,N.input.charCodeAt(N.position)===10&&N.position++):R(N,"a line break is expected"),N.line+=1,N.lineStart=N.position}function G(N,U,V){for(var k=0,z=N.input.charCodeAt(N.position);z!==0;){for(;d(z);)z=N.input.charCodeAt(++N.position);if(U&&z===35)do z=N.input.charCodeAt(++N.position);while(z!==10&&z!==13&&z!==0);if(!m(z))break;for(F(N),z=N.input.charCodeAt(N.position),k++,N.lineIndent=0;z===32;)N.lineIndent++,z=N.input.charCodeAt(++N.position)}return V!==-1&&k!==0&&N.lineIndent<V&&E(N,"deficient indentation"),k}function $(N){var U,V=N.position;return!((U=N.input.charCodeAt(V))!==45&&U!==46||U!==N.input.charCodeAt(V+1)||U!==N.input.charCodeAt(V+2)||(V+=3,(U=N.input.charCodeAt(V))!==0&&!g(U)))}function H(N,U){U===1?N.result+=" ":U>1&&(N.result+=i.repeat(`
`,U-1))}function J(N,U){var V,k,z=N.tag,j=N.anchor,K=[],X=!1;for(N.anchor!==null&&(N.anchorMap[N.anchor]=K),k=N.input.charCodeAt(N.position);k!==0&&k===45&&g(N.input.charCodeAt(N.position+1));)if(X=!0,N.position++,G(N,!0,-1)&&N.lineIndent<=U)K.push(null),k=N.input.charCodeAt(N.position);else if(V=N.line,ne(N,U,3,!1,!0),K.push(N.result),G(N,!0,-1),k=N.input.charCodeAt(N.position),(N.line===V||N.lineIndent>U)&&k!==0)R(N,"bad indentation of a sequence entry");else if(N.lineIndent<U)break;return!!X&&(N.tag=z,N.anchor=j,N.kind="sequence",N.result=K,!0)}function Q(N){var U,V,k,z,j=!1,K=!1;if((z=N.input.charCodeAt(N.position))!==33)return!1;if(N.tag!==null&&R(N,"duplication of a tag property"),(z=N.input.charCodeAt(++N.position))===60?(j=!0,z=N.input.charCodeAt(++N.position)):z===33?(K=!0,V="!!",z=N.input.charCodeAt(++N.position)):V="!",U=N.position,j){do z=N.input.charCodeAt(++N.position);while(z!==0&&z!==62);N.position<N.length?(k=N.input.slice(U,N.position),z=N.input.charCodeAt(++N.position)):R(N,"unexpected end of the stream within a verbatim tag")}else{for(;z!==0&&!g(z);)z===33&&(K?R(N,"tag suffix cannot contain exclamation marks"):(V=N.input.slice(U-1,N.position+1),v.test(V)||R(N,"named tag handle cannot contain such characters"),K=!0,U=N.position+1)),z=N.input.charCodeAt(++N.position);k=N.input.slice(U,N.position),p.test(k)&&R(N,"tag suffix cannot contain flow indicator characters")}return k&&!y.test(k)&&R(N,"tag name cannot contain such characters: "+k),j?N.tag=k:f.call(N.tagMap,V)?N.tag=N.tagMap[V]+k:V==="!"?N.tag="!"+k:V==="!!"?N.tag="tag:yaml.org,2002:"+k:R(N,'undeclared tag handle "'+V+'"'),!0}function q(N){var U,V;if((V=N.input.charCodeAt(N.position))!==38)return!1;for(N.anchor!==null&&R(N,"duplication of an anchor property"),V=N.input.charCodeAt(++N.position),U=N.position;V!==0&&!g(V)&&!x(V);)V=N.input.charCodeAt(++N.position);return N.position===U&&R(N,"name of an anchor node must contain at least one character"),N.anchor=N.input.slice(U,N.position),!0}function ne(N,U,V,k,z){var j,K,X,Z,ae,ue,ie,pe,ve=1,ce=!1,xe=!1;if(N.listener!==null&&N.listener("open",N),N.tag=null,N.anchor=null,N.kind=null,N.result=null,j=K=X=V===4||V===3,k&&G(N,!0,-1)&&(ce=!0,N.lineIndent>U?ve=1:N.lineIndent===U?ve=0:N.lineIndent<U&&(ve=-1)),ve===1)for(;Q(N)||q(N);)G(N,!0,-1)?(ce=!0,X=j,N.lineIndent>U?ve=1:N.lineIndent===U?ve=0:N.lineIndent<U&&(ve=-1)):X=!1;if(X&&(X=ce||z),ve!==1&&V!==4||(ie=V===1||V===2?U:U+1,pe=N.position-N.lineStart,ve===1?X&&(J(N,pe)||function(Y,_e,Te){var Ce,se,he,de,ye,Se=Y.tag,Ne=Y.anchor,De={},Ve={},Pe=null,ft=null,yt=null,Ke=!1,xt=!1;for(Y.anchor!==null&&(Y.anchorMap[Y.anchor]=De),ye=Y.input.charCodeAt(Y.position);ye!==0;){if(Ce=Y.input.charCodeAt(Y.position+1),he=Y.line,de=Y.position,ye!==63&&ye!==58||!g(Ce)){if(!ne(Y,Te,2,!1,!0))break;if(Y.line===he){for(ye=Y.input.charCodeAt(Y.position);d(ye);)ye=Y.input.charCodeAt(++Y.position);if(ye===58)g(ye=Y.input.charCodeAt(++Y.position))||R(Y,"a whitespace character is expected after the key-value separator within a block mapping"),Ke&&(L(Y,De,Ve,Pe,ft,null),Pe=ft=yt=null),xt=!0,Ke=!1,se=!1,Pe=Y.tag,ft=Y.result;else{if(!xt)return Y.tag=Se,Y.anchor=Ne,!0;R(Y,"can not read an implicit mapping pair; a colon is missed")}}else{if(!xt)return Y.tag=Se,Y.anchor=Ne,!0;R(Y,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else ye===63?(Ke&&(L(Y,De,Ve,Pe,ft,null),Pe=ft=yt=null),xt=!0,Ke=!0,se=!0):Ke?(Ke=!1,se=!0):R(Y,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),Y.position+=1,ye=Ce;if((Y.line===he||Y.lineIndent>_e)&&(ne(Y,_e,4,!0,se)&&(Ke?ft=Y.result:yt=Y.result),Ke||(L(Y,De,Ve,Pe,ft,yt,he,de),Pe=ft=yt=null),G(Y,!0,-1),ye=Y.input.charCodeAt(Y.position)),Y.lineIndent>_e&&ye!==0)R(Y,"bad indentation of a mapping entry");else if(Y.lineIndent<_e)break}return Ke&&L(Y,De,Ve,Pe,ft,null),xt&&(Y.tag=Se,Y.anchor=Ne,Y.kind="mapping",Y.result=De),xt}(N,pe,ie))||function(Y,_e){var Te,Ce,se,he,de,ye,Se,Ne,De,Ve,Pe=!0,ft=Y.tag,yt=Y.anchor,Ke={};if((Ve=Y.input.charCodeAt(Y.position))===91)se=93,ye=!1,Ce=[];else{if(Ve!==123)return!1;se=125,ye=!0,Ce={}}for(Y.anchor!==null&&(Y.anchorMap[Y.anchor]=Ce),Ve=Y.input.charCodeAt(++Y.position);Ve!==0;){if(G(Y,!0,_e),(Ve=Y.input.charCodeAt(Y.position))===se)return Y.position++,Y.tag=ft,Y.anchor=yt,Y.kind=ye?"mapping":"sequence",Y.result=Ce,!0;Pe||R(Y,"missed comma between flow collection entries"),De=null,he=de=!1,Ve===63&&g(Y.input.charCodeAt(Y.position+1))&&(he=de=!0,Y.position++,G(Y,!0,_e)),Te=Y.line,ne(Y,_e,1,!1,!0),Ne=Y.tag,Se=Y.result,G(Y,!0,_e),Ve=Y.input.charCodeAt(Y.position),!de&&Y.line!==Te||Ve!==58||(he=!0,Ve=Y.input.charCodeAt(++Y.position),G(Y,!0,_e),ne(Y,_e,1,!1,!0),De=Y.result),ye?L(Y,Ce,Ke,Ne,Se,De):he?Ce.push(L(Y,null,Ke,Ne,Se,De)):Ce.push(Se),G(Y,!0,_e),(Ve=Y.input.charCodeAt(Y.position))===44?(Pe=!0,Ve=Y.input.charCodeAt(++Y.position)):Pe=!1}R(Y,"unexpected end of the stream within a flow collection")}(N,ie)?xe=!0:(K&&function(Y,_e){var Te,Ce,se,he,de,ye=1,Se=!1,Ne=!1,De=_e,Ve=0,Pe=!1;if((he=Y.input.charCodeAt(Y.position))===124)Ce=!1;else{if(he!==62)return!1;Ce=!0}for(Y.kind="scalar",Y.result="";he!==0;)if((he=Y.input.charCodeAt(++Y.position))===43||he===45)ye===1?ye=he===43?3:2:R(Y,"repeat of a chomping mode identifier");else{if(!((se=48<=(de=he)&&de<=57?de-48:-1)>=0))break;se===0?R(Y,"bad explicit indentation width of a block scalar; it cannot be less than one"):Ne?R(Y,"repeat of an indentation width identifier"):(De=_e+se-1,Ne=!0)}if(d(he)){do he=Y.input.charCodeAt(++Y.position);while(d(he));if(he===35)do he=Y.input.charCodeAt(++Y.position);while(!m(he)&&he!==0)}for(;he!==0;){for(F(Y),Y.lineIndent=0,he=Y.input.charCodeAt(Y.position);(!Ne||Y.lineIndent<De)&&he===32;)Y.lineIndent++,he=Y.input.charCodeAt(++Y.position);if(!Ne&&Y.lineIndent>De&&(De=Y.lineIndent),m(he))Ve++;else{if(Y.lineIndent<De){ye===3?Y.result+=i.repeat(`
`,Se?1+Ve:Ve):ye===1&&Se&&(Y.result+=`
`);break}for(Ce?d(he)?(Pe=!0,Y.result+=i.repeat(`
`,Se?1+Ve:Ve)):Pe?(Pe=!1,Y.result+=i.repeat(`
`,Ve+1)):Ve===0?Se&&(Y.result+=" "):Y.result+=i.repeat(`
`,Ve):Y.result+=i.repeat(`
`,Se?1+Ve:Ve),Se=!0,Ne=!0,Ve=0,Te=Y.position;!m(he)&&he!==0;)he=Y.input.charCodeAt(++Y.position);I(Y,Te,Y.position,!1)}}return!0}(N,ie)||function(Y,_e){var Te,Ce,se;if((Te=Y.input.charCodeAt(Y.position))!==39)return!1;for(Y.kind="scalar",Y.result="",Y.position++,Ce=se=Y.position;(Te=Y.input.charCodeAt(Y.position))!==0;)if(Te===39){if(I(Y,Ce,Y.position,!0),(Te=Y.input.charCodeAt(++Y.position))!==39)return!0;Ce=Y.position,Y.position++,se=Y.position}else m(Te)?(I(Y,Ce,se,!0),H(Y,G(Y,!1,_e)),Ce=se=Y.position):Y.position===Y.lineStart&&$(Y)?R(Y,"unexpected end of the document within a single quoted scalar"):(Y.position++,se=Y.position);R(Y,"unexpected end of the stream within a single quoted scalar")}(N,ie)||function(Y,_e){var Te,Ce,se,he,de,ye,Se;if((ye=Y.input.charCodeAt(Y.position))!==34)return!1;for(Y.kind="scalar",Y.result="",Y.position++,Te=Ce=Y.position;(ye=Y.input.charCodeAt(Y.position))!==0;){if(ye===34)return I(Y,Te,Y.position,!0),Y.position++,!0;if(ye===92){if(I(Y,Te,Y.position,!0),m(ye=Y.input.charCodeAt(++Y.position)))G(Y,!1,_e);else if(ye<256&&T[ye])Y.result+=b[ye],Y.position++;else if((de=(Se=ye)===120?2:Se===117?4:Se===85?8:0)>0){for(se=de,he=0;se>0;se--)(de=w(ye=Y.input.charCodeAt(++Y.position)))>=0?he=(he<<4)+de:R(Y,"expected hexadecimal character");Y.result+=S(he),Y.position++}else R(Y,"unknown escape sequence");Te=Ce=Y.position}else m(ye)?(I(Y,Te,Ce,!0),H(Y,G(Y,!1,_e)),Te=Ce=Y.position):Y.position===Y.lineStart&&$(Y)?R(Y,"unexpected end of the document within a double quoted scalar"):(Y.position++,Ce=Y.position)}R(Y,"unexpected end of the stream within a double quoted scalar")}(N,ie)?xe=!0:function(Y){var _e,Te,Ce;if((Ce=Y.input.charCodeAt(Y.position))!==42)return!1;for(Ce=Y.input.charCodeAt(++Y.position),_e=Y.position;Ce!==0&&!g(Ce)&&!x(Ce);)Ce=Y.input.charCodeAt(++Y.position);return Y.position===_e&&R(Y,"name of an alias node must contain at least one character"),Te=Y.input.slice(_e,Y.position),Y.anchorMap.hasOwnProperty(Te)||R(Y,'unidentified alias "'+Te+'"'),Y.result=Y.anchorMap[Te],G(Y,!0,-1),!0}(N)?(xe=!0,N.tag===null&&N.anchor===null||R(N,"alias node should not have any properties")):function(Y,_e,Te){var Ce,se,he,de,ye,Se,Ne,De,Ve=Y.kind,Pe=Y.result;if(g(De=Y.input.charCodeAt(Y.position))||x(De)||De===35||De===38||De===42||De===33||De===124||De===62||De===39||De===34||De===37||De===64||De===96||(De===63||De===45)&&(g(Ce=Y.input.charCodeAt(Y.position+1))||Te&&x(Ce)))return!1;for(Y.kind="scalar",Y.result="",se=he=Y.position,de=!1;De!==0;){if(De===58){if(g(Ce=Y.input.charCodeAt(Y.position+1))||Te&&x(Ce))break}else if(De===35){if(g(Y.input.charCodeAt(Y.position-1)))break}else{if(Y.position===Y.lineStart&&$(Y)||Te&&x(De))break;if(m(De)){if(ye=Y.line,Se=Y.lineStart,Ne=Y.lineIndent,G(Y,!1,-1),Y.lineIndent>=_e){de=!0,De=Y.input.charCodeAt(Y.position);continue}Y.position=he,Y.line=ye,Y.lineStart=Se,Y.lineIndent=Ne;break}}de&&(I(Y,se,he,!1),H(Y,Y.line-ye),se=he=Y.position,de=!1),d(De)||(he=Y.position+1),De=Y.input.charCodeAt(++Y.position)}return I(Y,se,he,!1),!!Y.result||(Y.kind=Ve,Y.result=Pe,!1)}(N,ie,V===1)&&(xe=!0,N.tag===null&&(N.tag="?")),N.anchor!==null&&(N.anchorMap[N.anchor]=N.result)):ve===0&&(xe=X&&J(N,pe))),N.tag!==null&&N.tag!=="!")if(N.tag==="?"){for(N.result!==null&&N.kind!=="scalar"&&R(N,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+N.kind+'"'),Z=0,ae=N.implicitTypes.length;Z<ae;Z+=1)if((ue=N.implicitTypes[Z]).resolve(N.result)){N.result=ue.construct(N.result),N.tag=ue.tag,N.anchor!==null&&(N.anchorMap[N.anchor]=N.result);break}}else f.call(N.typeMap[N.kind||"fallback"],N.tag)?(ue=N.typeMap[N.kind||"fallback"][N.tag],N.result!==null&&ue.kind!==N.kind&&R(N,"unacceptable node kind for !<"+N.tag+'> tag; it should be "'+ue.kind+'", not "'+N.kind+'"'),ue.resolve(N.result)?(N.result=ue.construct(N.result),N.anchor!==null&&(N.anchorMap[N.anchor]=N.result)):R(N,"cannot resolve a node with !<"+N.tag+"> explicit tag")):R(N,"unknown tag !<"+N.tag+">");return N.listener!==null&&N.listener("close",N),N.tag!==null||N.anchor!==null||xe}function re(N){var U,V,k,z,j=N.position,K=!1;for(N.version=null,N.checkLineBreaks=N.legacy,N.tagMap={},N.anchorMap={};(z=N.input.charCodeAt(N.position))!==0&&(G(N,!0,-1),z=N.input.charCodeAt(N.position),!(N.lineIndent>0||z!==37));){for(K=!0,z=N.input.charCodeAt(++N.position),U=N.position;z!==0&&!g(z);)z=N.input.charCodeAt(++N.position);for(k=[],(V=N.input.slice(U,N.position)).length<1&&R(N,"directive name must not be less than one character in length");z!==0;){for(;d(z);)z=N.input.charCodeAt(++N.position);if(z===35){do z=N.input.charCodeAt(++N.position);while(z!==0&&!m(z));break}if(m(z))break;for(U=N.position;z!==0&&!g(z);)z=N.input.charCodeAt(++N.position);k.push(N.input.slice(U,N.position))}z!==0&&F(N),f.call(B,V)?B[V](N,V,k):E(N,'unknown document directive "'+V+'"')}G(N,!0,-1),N.lineIndent===0&&N.input.charCodeAt(N.position)===45&&N.input.charCodeAt(N.position+1)===45&&N.input.charCodeAt(N.position+2)===45?(N.position+=3,G(N,!0,-1)):K&&R(N,"directives end mark is expected"),ne(N,N.lineIndent-1,4,!1,!0),G(N,!0,-1),N.checkLineBreaks&&h.test(N.input.slice(j,N.position))&&E(N,"non-ASCII line breaks are interpreted as content"),N.documents.push(N.result),N.position===N.lineStart&&$(N)?N.input.charCodeAt(N.position)===46&&(N.position+=3,G(N,!0,-1)):N.position<N.length-1&&R(N,"end of the stream or a document separator is expected")}function oe(N,U){U=U||{},(N=String(N)).length!==0&&(N.charCodeAt(N.length-1)!==10&&N.charCodeAt(N.length-1)!==13&&(N+=`
`),N.charCodeAt(0)===65279&&(N=N.slice(1)));var V=new D(N,U),k=N.indexOf("\0");for(k!==-1&&(V.position=k,R(V,"null byte is not allowed in input")),V.input+="\0";V.input.charCodeAt(V.position)===32;)V.lineIndent+=1,V.position+=1;for(;V.position<V.length-1;)re(V);return V.documents}function te(N,U,V){U!==null&&typeof U=="object"&&V===void 0&&(V=U,U=null);var k=oe(N,V);if(typeof U!="function")return k;for(var z=0,j=k.length;z<j;z+=1)U(k[z])}function A(N,U){var V=oe(N,U);if(V.length!==0){if(V.length===1)return V[0];throw new s("expected a single document in the stream, but found more")}}n.exports.loadAll=te,n.exports.load=A,n.exports.safeLoadAll=function(N,U,V){return typeof U=="object"&&U!==null&&V===void 0&&(V=U,U=null),te(N,U,i.extend({schema:c},V))},n.exports.safeLoad=function(N,U){return A(N,i.extend({schema:c},U))}},function(n,r,a){var i=a(38);function s(o,c,u,f,l){this.name=o,this.buffer=c,this.position=u,this.line=f,this.column=l}s.prototype.getSnippet=function(o,c){var u,f,l,h,p;if(!this.buffer)return null;for(o=o||4,c=c||75,u="",f=this.position;f>0&&`\0\r
\x85\u2028\u2029`.indexOf(this.buffer.charAt(f-1))===-1;)if(f-=1,this.position-f>c/2-1){u=" ... ",f+=5;break}for(l="",h=this.position;h<this.buffer.length&&`\0\r
\x85\u2028\u2029`.indexOf(this.buffer.charAt(h))===-1;)if((h+=1)-this.position>c/2-1){l=" ... ",h-=5;break}return p=this.buffer.slice(f,h),i.repeat(" ",o)+u+p+l+`
`+i.repeat(" ",o+this.position-f+u.length)+"^"},s.prototype.toString=function(o){var c,u="";return this.name&&(u+='in "'+this.name+'" '),u+="at line "+(this.line+1)+", column "+(this.column+1),o||(c=this.getSnippet())&&(u+=`:
`+c),u},n.exports=s},function(n,r,a){var i=a(10);n.exports=new i("tag:yaml.org,2002:str",{kind:"scalar",construct:function(s){return s!==null?s:""}})},function(n,r,a){var i=a(10);n.exports=new i("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(s){return s!==null?s:[]}})},function(n,r,a){var i=a(10);n.exports=new i("tag:yaml.org,2002:map",{kind:"mapping",construct:function(s){return s!==null?s:{}}})},function(n,r,a){var i=a(10);n.exports=new i("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(s){if(s===null)return!0;var o=s.length;return o===1&&s==="~"||o===4&&(s==="null"||s==="Null"||s==="NULL")},construct:function(){return null},predicate:function(s){return s===null},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(n,r,a){var i=a(10);n.exports=new i("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(s){if(s===null)return!1;var o=s.length;return o===4&&(s==="true"||s==="True"||s==="TRUE")||o===5&&(s==="false"||s==="False"||s==="FALSE")},construct:function(s){return s==="true"||s==="True"||s==="TRUE"},predicate:function(s){return Object.prototype.toString.call(s)==="[object Boolean]"},represent:{lowercase:function(s){return s?"true":"false"},uppercase:function(s){return s?"TRUE":"FALSE"},camelcase:function(s){return s?"True":"False"}},defaultStyle:"lowercase"})},function(n,r,a){var i=a(38),s=a(10);function o(u){return 48<=u&&u<=55}function c(u){return 48<=u&&u<=57}n.exports=new s("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(u){if(u===null)return!1;var f,l,h=u.length,p=0,v=!1;if(!h)return!1;if((f=u[p])!=="-"&&f!=="+"||(f=u[++p]),f==="0"){if(p+1===h)return!0;if((f=u[++p])==="b"){for(p++;p<h;p++)if((f=u[p])!=="_"){if(f!=="0"&&f!=="1")return!1;v=!0}return v&&f!=="_"}if(f==="x"){for(p++;p<h;p++)if((f=u[p])!=="_"){if(!(48<=(l=u.charCodeAt(p))&&l<=57||65<=l&&l<=70||97<=l&&l<=102))return!1;v=!0}return v&&f!=="_"}for(;p<h;p++)if((f=u[p])!=="_"){if(!o(u.charCodeAt(p)))return!1;v=!0}return v&&f!=="_"}if(f==="_")return!1;for(;p<h;p++)if((f=u[p])!=="_"){if(f===":")break;if(!c(u.charCodeAt(p)))return!1;v=!0}return!(!v||f==="_")&&(f!==":"||/^(:[0-5]?[0-9])+$/.test(u.slice(p)))},construct:function(u){var f,l,h=u,p=1,v=[];return h.indexOf("_")!==-1&&(h=h.replace(/_/g,"")),(f=h[0])!=="-"&&f!=="+"||(f==="-"&&(p=-1),f=(h=h.slice(1))[0]),h==="0"?0:f==="0"?h[1]==="b"?p*parseInt(h.slice(2),2):h[1]==="x"?p*parseInt(h,16):p*parseInt(h,8):h.indexOf(":")!==-1?(h.split(":").forEach(function(y){v.unshift(parseInt(y,10))}),h=0,l=1,v.forEach(function(y){h+=y*l,l*=60}),p*h):p*parseInt(h,10)},predicate:function(u){return Object.prototype.toString.call(u)==="[object Number]"&&u%1==0&&!i.isNegativeZero(u)},represent:{binary:function(u){return u>=0?"0b"+u.toString(2):"-0b"+u.toString(2).slice(1)},octal:function(u){return u>=0?"0"+u.toString(8):"-0"+u.toString(8).slice(1)},decimal:function(u){return u.toString(10)},hexadecimal:function(u){return u>=0?"0x"+u.toString(16).toUpperCase():"-0x"+u.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(n,r,a){var i=a(38),s=a(10),o=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),c=/^[-+]?[0-9]+e/;n.exports=new s("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(u){return u!==null&&!(!o.test(u)||u[u.length-1]==="_")},construct:function(u){var f,l,h,p;return l=(f=u.replace(/_/g,"").toLowerCase())[0]==="-"?-1:1,p=[],"+-".indexOf(f[0])>=0&&(f=f.slice(1)),f===".inf"?l===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:f===".nan"?NaN:f.indexOf(":")>=0?(f.split(":").forEach(function(v){p.unshift(parseFloat(v,10))}),f=0,h=1,p.forEach(function(v){f+=v*h,h*=60}),l*f):l*parseFloat(f,10)},predicate:function(u){return Object.prototype.toString.call(u)==="[object Number]"&&(u%1!=0||i.isNegativeZero(u))},represent:function(u,f){var l;if(isNaN(u))switch(f){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===u)switch(f){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===u)switch(f){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(i.isNegativeZero(u))return"-0.0";return l=u.toString(10),c.test(l)?l.replace("e",".e"):l},defaultStyle:"lowercase"})},function(n,r,a){var i=a(10),s=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");n.exports=new i("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(c){return c!==null&&(s.exec(c)!==null||o.exec(c)!==null)},construct:function(c){var u,f,l,h,p,v,y,_,m=0,d=null;if((u=s.exec(c))===null&&(u=o.exec(c)),u===null)throw new Error("Date resolve error");if(f=+u[1],l=+u[2]-1,h=+u[3],!u[4])return new Date(Date.UTC(f,l,h));if(p=+u[4],v=+u[5],y=+u[6],u[7]){for(m=u[7].slice(0,3);m.length<3;)m+="0";m=+m}return u[9]&&(d=6e4*(60*+u[10]+ +(u[11]||0)),u[9]==="-"&&(d=-d)),_=new Date(Date.UTC(f,l,h,p,v,y,m)),d&&_.setTime(_.getTime()-d),_},instanceOf:Date,represent:function(c){return c.toISOString()}})},function(n,r,a){var i=a(10);n.exports=new i("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(s){return s==="<<"||s===null}})},function(n,r,a){var i;try{i=a(145).Buffer}catch{}var s=a(10),o=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;n.exports=new s("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(c){if(c===null)return!1;var u,f,l=0,h=c.length,p=o;for(f=0;f<h;f++)if(!((u=p.indexOf(c.charAt(f)))>64)){if(u<0)return!1;l+=6}return l%8==0},construct:function(c){var u,f,l=c.replace(/[\r\n=]/g,""),h=l.length,p=o,v=0,y=[];for(u=0;u<h;u++)u%4==0&&u&&(y.push(v>>16&255),y.push(v>>8&255),y.push(255&v)),v=v<<6|p.indexOf(l.charAt(u));return(f=h%4*6)===0?(y.push(v>>16&255),y.push(v>>8&255),y.push(255&v)):f===18?(y.push(v>>10&255),y.push(v>>2&255)):f===12&&y.push(v>>4&255),i?i.from?i.from(y):new i(y):y},predicate:function(c){return i&&i.isBuffer(c)},represent:function(c){var u,f,l="",h=0,p=c.length,v=o;for(u=0;u<p;u++)u%3==0&&u&&(l+=v[h>>18&63],l+=v[h>>12&63],l+=v[h>>6&63],l+=v[63&h]),h=(h<<8)+c[u];return(f=p%3)===0?(l+=v[h>>18&63],l+=v[h>>12&63],l+=v[h>>6&63],l+=v[63&h]):f===2?(l+=v[h>>10&63],l+=v[h>>4&63],l+=v[h<<2&63],l+=v[64]):f===1&&(l+=v[h>>2&63],l+=v[h<<4&63],l+=v[64],l+=v[64]),l}})},function(n,r,a){var i=a(10),s=Object.prototype.hasOwnProperty,o=Object.prototype.toString;n.exports=new i("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(c){if(c===null)return!0;var u,f,l,h,p,v=[],y=c;for(u=0,f=y.length;u<f;u+=1){if(l=y[u],p=!1,o.call(l)!=="[object Object]")return!1;for(h in l)if(s.call(l,h)){if(p)return!1;p=!0}if(!p||v.indexOf(h)!==-1)return!1;v.push(h)}return!0},construct:function(c){return c!==null?c:[]}})},function(n,r,a){var i=a(10),s=Object.prototype.toString;n.exports=new i("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(o){if(o===null)return!0;var c,u,f,l,h,p=o;for(h=new Array(p.length),c=0,u=p.length;c<u;c+=1){if(f=p[c],s.call(f)!=="[object Object]"||(l=Object.keys(f)).length!==1)return!1;h[c]=[l[0],f[l[0]]]}return!0},construct:function(o){if(o===null)return[];var c,u,f,l,h,p=o;for(h=new Array(p.length),c=0,u=p.length;c<u;c+=1)f=p[c],l=Object.keys(f),h[c]=[l[0],f[l[0]]];return h}})},function(n,r,a){var i=a(10),s=Object.prototype.hasOwnProperty;n.exports=new i("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(o){if(o===null)return!0;var c,u=o;for(c in u)if(s.call(u,c)&&u[c]!==null)return!1;return!0},construct:function(o){return o!==null?o:{}}})},function(n,r,a){var i=a(10);n.exports=new i("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(s){return s===void 0},represent:function(){return""}})},function(n,r,a){var i=a(10);n.exports=new i("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(s){if(s===null||s.length===0)return!1;var o=s,c=/\/([gim]*)$/.exec(s),u="";return!(o[0]==="/"&&(c&&(u=c[1]),u.length>3||o[o.length-u.length-1]!=="/"))},construct:function(s){var o=s,c=/\/([gim]*)$/.exec(s),u="";return o[0]==="/"&&(c&&(u=c[1]),o=o.slice(1,o.length-u.length-1)),new RegExp(o,u)},predicate:function(s){return Object.prototype.toString.call(s)==="[object RegExp]"},represent:function(s){var o="/"+s.source+"/";return s.global&&(o+="g"),s.multiline&&(o+="m"),s.ignoreCase&&(o+="i"),o}})},function(n,r,a){var i;try{i=a(302)}catch{typeof window!="undefined"&&(i=window.esprima)}var s=a(10);n.exports=new s("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(o){if(o===null)return!1;try{var c="("+o+")",u=i.parse(c,{range:!0});return u.type==="Program"&&u.body.length===1&&u.body[0].type==="ExpressionStatement"&&(u.body[0].expression.type==="ArrowFunctionExpression"||u.body[0].expression.type==="FunctionExpression")}catch{return!1}},construct:function(o){var c,u="("+o+")",f=i.parse(u,{range:!0}),l=[];if(f.type!=="Program"||f.body.length!==1||f.body[0].type!=="ExpressionStatement"||f.body[0].expression.type!=="ArrowFunctionExpression"&&f.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return f.body[0].expression.params.forEach(function(h){l.push(h.name)}),c=f.body[0].expression.body.range,f.body[0].expression.body.type==="BlockStatement"?new Function(l,u.slice(c[0]+1,c[1]-1)):new Function(l,"return "+u.slice(c[0],c[1]))},predicate:function(o){return Object.prototype.toString.call(o)==="[object Function]"},represent:function(o){return o.toString()}})},function(n,r,a){var i;i=function(){return function(s){var o={};function c(u){if(o[u])return o[u].exports;var f=o[u]={exports:{},id:u,loaded:!1};return s[u].call(f.exports,f,f.exports,c),f.loaded=!0,f.exports}return c.m=s,c.c=o,c.p="",c(0)}([function(s,o,c){Object.defineProperty(o,"__esModule",{value:!0});var u=c(1),f=c(3),l=c(8),h=c(15);function p(y,_,m){var d=null,g=function(O,D){m&&m(O,D),d&&d.visit(O,D)},x=typeof m=="function"?g:null,w=!1;if(_){w=typeof _.comment=="boolean"&&_.comment;var C=typeof _.attachComment=="boolean"&&_.attachComment;(w||C)&&((d=new u.CommentHandler).attach=C,_.comment=!0,x=g)}var S,T=!1;_&&typeof _.sourceType=="string"&&(T=_.sourceType==="module"),S=_&&typeof _.jsx=="boolean"&&_.jsx?new f.JSXParser(y,_,x):new l.Parser(y,_,x);var b=T?S.parseModule():S.parseScript();return w&&d&&(b.comments=d.comments),S.config.tokens&&(b.tokens=S.tokens),S.config.tolerant&&(b.errors=S.errorHandler.errors),b}o.parse=p,o.parseModule=function(y,_,m){var d=_||{};return d.sourceType="module",p(y,d,m)},o.parseScript=function(y,_,m){var d=_||{};return d.sourceType="script",p(y,d,m)},o.tokenize=function(y,_,m){var d,g=new h.Tokenizer(y,_);d=[];try{for(;;){var x=g.getNextToken();if(!x)break;m&&(x=m(x)),d.push(x)}}catch(w){g.errorHandler.tolerate(w)}return g.errorHandler.tolerant&&(d.errors=g.errors()),d};var v=c(2);o.Syntax=v.Syntax,o.version="4.0.1"},function(s,o,c){Object.defineProperty(o,"__esModule",{value:!0});var u=c(2),f=function(){function l(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return l.prototype.insertInnerComments=function(h,p){if(h.type===u.Syntax.BlockStatement&&h.body.length===0){for(var v=[],y=this.leading.length-1;y>=0;--y){var _=this.leading[y];p.end.offset>=_.start&&(v.unshift(_.comment),this.leading.splice(y,1),this.trailing.splice(y,1))}v.length&&(h.innerComments=v)}},l.prototype.findTrailingComments=function(h){var p=[];if(this.trailing.length>0){for(var v=this.trailing.length-1;v>=0;--v){var y=this.trailing[v];y.start>=h.end.offset&&p.unshift(y.comment)}return this.trailing.length=0,p}var _=this.stack[this.stack.length-1];if(_&&_.node.trailingComments){var m=_.node.trailingComments[0];m&&m.range[0]>=h.end.offset&&(p=_.node.trailingComments,delete _.node.trailingComments)}return p},l.prototype.findLeadingComments=function(h){for(var p,v=[];this.stack.length>0&&(m=this.stack[this.stack.length-1])&&m.start>=h.start.offset;)p=m.node,this.stack.pop();if(p){for(var y=(p.leadingComments?p.leadingComments.length:0)-1;y>=0;--y){var _=p.leadingComments[y];_.range[1]<=h.start.offset&&(v.unshift(_),p.leadingComments.splice(y,1))}return p.leadingComments&&p.leadingComments.length===0&&delete p.leadingComments,v}for(y=this.leading.length-1;y>=0;--y){var m;(m=this.leading[y]).start<=h.start.offset&&(v.unshift(m.comment),this.leading.splice(y,1))}return v},l.prototype.visitNode=function(h,p){if(!(h.type===u.Syntax.Program&&h.body.length>0)){this.insertInnerComments(h,p);var v=this.findTrailingComments(p),y=this.findLeadingComments(p);y.length>0&&(h.leadingComments=y),v.length>0&&(h.trailingComments=v),this.stack.push({node:h,start:p.start.offset})}},l.prototype.visitComment=function(h,p){var v=h.type[0]==="L"?"Line":"Block",y={type:v,value:h.value};if(h.range&&(y.range=h.range),h.loc&&(y.loc=h.loc),this.comments.push(y),this.attach){var _={comment:{type:v,value:h.value,range:[p.start.offset,p.end.offset]},start:p.start.offset};h.loc&&(_.comment.loc=h.loc),h.type=v,this.leading.push(_),this.trailing.push(_)}},l.prototype.visit=function(h,p){h.type==="LineComment"||h.type==="BlockComment"?this.visitComment(h,p):this.attach&&this.visitNode(h,p)},l}();o.CommentHandler=f},function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(s,o,c){var u,f=this&&this.__extends||(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var C in w)w.hasOwnProperty(C)&&(x[C]=w[C])},function(x,w){function C(){this.constructor=x}u(x,w),x.prototype=w===null?Object.create(w):(C.prototype=w.prototype,new C)});Object.defineProperty(o,"__esModule",{value:!0});var l=c(4),h=c(5),p=c(6),v=c(7),y=c(8),_=c(13),m=c(14);function d(x){var w;switch(x.type){case p.JSXSyntax.JSXIdentifier:w=x.name;break;case p.JSXSyntax.JSXNamespacedName:var C=x;w=d(C.namespace)+":"+d(C.name);break;case p.JSXSyntax.JSXMemberExpression:var S=x;w=d(S.object)+"."+d(S.property)}return w}_.TokenName[100]="JSXIdentifier",_.TokenName[101]="JSXText";var g=function(x){function w(C,S,T){return x.call(this,C,S,T)||this}return f(w,x),w.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():x.prototype.parsePrimaryExpression.call(this)},w.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},w.prototype.finishJSX=function(){this.nextToken()},w.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},w.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},w.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},w.prototype.scanXHTMLEntity=function(C){for(var S="&",T=!0,b=!1,O=!1,D=!1;!this.scanner.eof()&&T&&!b;){var M=this.scanner.source[this.scanner.index];if(M===C)break;if(b=M===";",S+=M,++this.scanner.index,!b)switch(S.length){case 2:O=M==="#";break;case 3:O&&(T=(D=M==="x")||l.Character.isDecimalDigit(M.charCodeAt(0)),O=O&&!D);break;default:T=(T=T&&!(O&&!l.Character.isDecimalDigit(M.charCodeAt(0))))&&!(D&&!l.Character.isHexDigit(M.charCodeAt(0)))}}if(T&&b&&S.length>2){var R=S.substr(1,S.length-2);O&&R.length>1?S=String.fromCharCode(parseInt(R.substr(1),10)):D&&R.length>2?S=String.fromCharCode(parseInt("0"+R.substr(1),16)):O||D||!m.XHTMLEntities[R]||(S=m.XHTMLEntities[R])}return S},w.prototype.lexJSX=function(){var C=this.scanner.source.charCodeAt(this.scanner.index);if(C===60||C===62||C===47||C===58||C===61||C===123||C===125)return{type:7,value:M=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(C===34||C===39){for(var S=this.scanner.index,T=this.scanner.source[this.scanner.index++],b="";!this.scanner.eof()&&(R=this.scanner.source[this.scanner.index++])!==T;)b+=R==="&"?this.scanXHTMLEntity(T):R;return{type:8,value:b,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:S,end:this.scanner.index}}if(C===46){var O=this.scanner.source.charCodeAt(this.scanner.index+1),D=this.scanner.source.charCodeAt(this.scanner.index+2),M=O===46&&D===46?"...":".";return S=this.scanner.index,this.scanner.index+=M.length,{type:7,value:M,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:S,end:this.scanner.index}}if(C===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(l.Character.isIdentifierStart(C)&&C!==92){for(S=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var R=this.scanner.source.charCodeAt(this.scanner.index);if(l.Character.isIdentifierPart(R)&&R!==92)++this.scanner.index;else{if(R!==45)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(S,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:S,end:this.scanner.index}}return this.scanner.lex()},w.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var C=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(C)),C},w.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var C=this.scanner.index,S="";!this.scanner.eof();){var T=this.scanner.source[this.scanner.index];if(T==="{"||T==="<")break;++this.scanner.index,S+=T,l.Character.isLineTerminator(T.charCodeAt(0))&&(++this.scanner.lineNumber,T==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var b={type:101,value:S,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:C,end:this.scanner.index};return S.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(b)),b},w.prototype.peekJSXToken=function(){var C=this.scanner.saveState();this.scanner.scanComments();var S=this.lexJSX();return this.scanner.restoreState(C),S},w.prototype.expectJSX=function(C){var S=this.nextJSXToken();S.type===7&&S.value===C||this.throwUnexpectedToken(S)},w.prototype.matchJSX=function(C){var S=this.peekJSXToken();return S.type===7&&S.value===C},w.prototype.parseJSXIdentifier=function(){var C=this.createJSXNode(),S=this.nextJSXToken();return S.type!==100&&this.throwUnexpectedToken(S),this.finalize(C,new h.JSXIdentifier(S.value))},w.prototype.parseJSXElementName=function(){var C=this.createJSXNode(),S=this.parseJSXIdentifier();if(this.matchJSX(":")){var T=S;this.expectJSX(":");var b=this.parseJSXIdentifier();S=this.finalize(C,new h.JSXNamespacedName(T,b))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var O=S;this.expectJSX(".");var D=this.parseJSXIdentifier();S=this.finalize(C,new h.JSXMemberExpression(O,D))}return S},w.prototype.parseJSXAttributeName=function(){var C,S=this.createJSXNode(),T=this.parseJSXIdentifier();if(this.matchJSX(":")){var b=T;this.expectJSX(":");var O=this.parseJSXIdentifier();C=this.finalize(S,new h.JSXNamespacedName(b,O))}else C=T;return C},w.prototype.parseJSXStringLiteralAttribute=function(){var C=this.createJSXNode(),S=this.nextJSXToken();S.type!==8&&this.throwUnexpectedToken(S);var T=this.getTokenRaw(S);return this.finalize(C,new v.Literal(S.value,T))},w.prototype.parseJSXExpressionAttribute=function(){var C=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var S=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(C,new h.JSXExpressionContainer(S))},w.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},w.prototype.parseJSXNameValueAttribute=function(){var C=this.createJSXNode(),S=this.parseJSXAttributeName(),T=null;return this.matchJSX("=")&&(this.expectJSX("="),T=this.parseJSXAttributeValue()),this.finalize(C,new h.JSXAttribute(S,T))},w.prototype.parseJSXSpreadAttribute=function(){var C=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var S=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(C,new h.JSXSpreadAttribute(S))},w.prototype.parseJSXAttributes=function(){for(var C=[];!this.matchJSX("/")&&!this.matchJSX(">");){var S=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();C.push(S)}return C},w.prototype.parseJSXOpeningElement=function(){var C=this.createJSXNode();this.expectJSX("<");var S=this.parseJSXElementName(),T=this.parseJSXAttributes(),b=this.matchJSX("/");return b&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(C,new h.JSXOpeningElement(S,b,T))},w.prototype.parseJSXBoundaryElement=function(){var C=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var S=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(C,new h.JSXClosingElement(S))}var T=this.parseJSXElementName(),b=this.parseJSXAttributes(),O=this.matchJSX("/");return O&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(C,new h.JSXOpeningElement(T,O,b))},w.prototype.parseJSXEmptyExpression=function(){var C=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(C,new h.JSXEmptyExpression)},w.prototype.parseJSXExpressionContainer=function(){var C,S=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(C=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),C=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(S,new h.JSXExpressionContainer(C))},w.prototype.parseJSXChildren=function(){for(var C=[];!this.scanner.eof();){var S=this.createJSXChildNode(),T=this.nextJSXText();if(T.start<T.end){var b=this.getTokenRaw(T),O=this.finalize(S,new h.JSXText(T.value,b));C.push(O)}if(this.scanner.source[this.scanner.index]!=="{")break;var D=this.parseJSXExpressionContainer();C.push(D)}return C},w.prototype.parseComplexJSXElement=function(C){for(var S=[];!this.scanner.eof();){C.children=C.children.concat(this.parseJSXChildren());var T=this.createJSXChildNode(),b=this.parseJSXBoundaryElement();if(b.type===p.JSXSyntax.JSXOpeningElement){var O=b;if(O.selfClosing){var D=this.finalize(T,new h.JSXElement(O,[],null));C.children.push(D)}else S.push(C),C={node:T,opening:O,closing:null,children:[]}}if(b.type===p.JSXSyntax.JSXClosingElement){C.closing=b;var M=d(C.opening.name);if(M!==d(C.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",M),!(S.length>0))break;D=this.finalize(C.node,new h.JSXElement(C.opening,C.children,C.closing)),(C=S[S.length-1]).children.push(D),S.pop()}}return C},w.prototype.parseJSXElement=function(){var C=this.createJSXNode(),S=this.parseJSXOpeningElement(),T=[],b=null;if(!S.selfClosing){var O=this.parseComplexJSXElement({node:C,opening:S,closing:b,children:T});T=O.children,b=O.closing}return this.finalize(C,new h.JSXElement(S,T,b))},w.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var C=this.parseJSXElement();return this.finishJSX(),C},w.prototype.isStartOfExpression=function(){return x.prototype.isStartOfExpression.call(this)||this.match("<")},w}(y.Parser);o.JSXParser=g},function(s,o){Object.defineProperty(o,"__esModule",{value:!0});var c={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};o.Character={fromCodePoint:function(u){return u<65536?String.fromCharCode(u):String.fromCharCode(55296+(u-65536>>10))+String.fromCharCode(56320+(u-65536&1023))},isWhiteSpace:function(u){return u===32||u===9||u===11||u===12||u===160||u>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(u)>=0},isLineTerminator:function(u){return u===10||u===13||u===8232||u===8233},isIdentifierStart:function(u){return u===36||u===95||u>=65&&u<=90||u>=97&&u<=122||u===92||u>=128&&c.NonAsciiIdentifierStart.test(o.Character.fromCodePoint(u))},isIdentifierPart:function(u){return u===36||u===95||u>=65&&u<=90||u>=97&&u<=122||u>=48&&u<=57||u===92||u>=128&&c.NonAsciiIdentifierPart.test(o.Character.fromCodePoint(u))},isDecimalDigit:function(u){return u>=48&&u<=57},isHexDigit:function(u){return u>=48&&u<=57||u>=65&&u<=70||u>=97&&u<=102},isOctalDigit:function(u){return u>=48&&u<=55}}},function(s,o,c){Object.defineProperty(o,"__esModule",{value:!0});var u=c(6),f=function(w){this.type=u.JSXSyntax.JSXClosingElement,this.name=w};o.JSXClosingElement=f;var l=function(w,C,S){this.type=u.JSXSyntax.JSXElement,this.openingElement=w,this.children=C,this.closingElement=S};o.JSXElement=l;var h=function(){this.type=u.JSXSyntax.JSXEmptyExpression};o.JSXEmptyExpression=h;var p=function(w){this.type=u.JSXSyntax.JSXExpressionContainer,this.expression=w};o.JSXExpressionContainer=p;var v=function(w){this.type=u.JSXSyntax.JSXIdentifier,this.name=w};o.JSXIdentifier=v;var y=function(w,C){this.type=u.JSXSyntax.JSXMemberExpression,this.object=w,this.property=C};o.JSXMemberExpression=y;var _=function(w,C){this.type=u.JSXSyntax.JSXAttribute,this.name=w,this.value=C};o.JSXAttribute=_;var m=function(w,C){this.type=u.JSXSyntax.JSXNamespacedName,this.namespace=w,this.name=C};o.JSXNamespacedName=m;var d=function(w,C,S){this.type=u.JSXSyntax.JSXOpeningElement,this.name=w,this.selfClosing=C,this.attributes=S};o.JSXOpeningElement=d;var g=function(w){this.type=u.JSXSyntax.JSXSpreadAttribute,this.argument=w};o.JSXSpreadAttribute=g;var x=function(w,C){this.type=u.JSXSyntax.JSXText,this.value=w,this.raw=C};o.JSXText=x},function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(s,o,c){Object.defineProperty(o,"__esModule",{value:!0});var u=c(2),f=function(le){this.type=u.Syntax.ArrayExpression,this.elements=le};o.ArrayExpression=f;var l=function(le){this.type=u.Syntax.ArrayPattern,this.elements=le};o.ArrayPattern=l;var h=function(le,ge,Fe){this.type=u.Syntax.ArrowFunctionExpression,this.id=null,this.params=le,this.body=ge,this.generator=!1,this.expression=Fe,this.async=!1};o.ArrowFunctionExpression=h;var p=function(le,ge,Fe){this.type=u.Syntax.AssignmentExpression,this.operator=le,this.left=ge,this.right=Fe};o.AssignmentExpression=p;var v=function(le,ge){this.type=u.Syntax.AssignmentPattern,this.left=le,this.right=ge};o.AssignmentPattern=v;var y=function(le,ge,Fe){this.type=u.Syntax.ArrowFunctionExpression,this.id=null,this.params=le,this.body=ge,this.generator=!1,this.expression=Fe,this.async=!0};o.AsyncArrowFunctionExpression=y;var _=function(le,ge,Fe){this.type=u.Syntax.FunctionDeclaration,this.id=le,this.params=ge,this.body=Fe,this.generator=!1,this.expression=!1,this.async=!0};o.AsyncFunctionDeclaration=_;var m=function(le,ge,Fe){this.type=u.Syntax.FunctionExpression,this.id=le,this.params=ge,this.body=Fe,this.generator=!1,this.expression=!1,this.async=!0};o.AsyncFunctionExpression=m;var d=function(le){this.type=u.Syntax.AwaitExpression,this.argument=le};o.AwaitExpression=d;var g=function(le,ge,Fe){var Ht=le==="||"||le==="&&";this.type=Ht?u.Syntax.LogicalExpression:u.Syntax.BinaryExpression,this.operator=le,this.left=ge,this.right=Fe};o.BinaryExpression=g;var x=function(le){this.type=u.Syntax.BlockStatement,this.body=le};o.BlockStatement=x;var w=function(le){this.type=u.Syntax.BreakStatement,this.label=le};o.BreakStatement=w;var C=function(le,ge){this.type=u.Syntax.CallExpression,this.callee=le,this.arguments=ge};o.CallExpression=C;var S=function(le,ge){this.type=u.Syntax.CatchClause,this.param=le,this.body=ge};o.CatchClause=S;var T=function(le){this.type=u.Syntax.ClassBody,this.body=le};o.ClassBody=T;var b=function(le,ge,Fe){this.type=u.Syntax.ClassDeclaration,this.id=le,this.superClass=ge,this.body=Fe};o.ClassDeclaration=b;var O=function(le,ge,Fe){this.type=u.Syntax.ClassExpression,this.id=le,this.superClass=ge,this.body=Fe};o.ClassExpression=O;var D=function(le,ge){this.type=u.Syntax.MemberExpression,this.computed=!0,this.object=le,this.property=ge};o.ComputedMemberExpression=D;var M=function(le,ge,Fe){this.type=u.Syntax.ConditionalExpression,this.test=le,this.consequent=ge,this.alternate=Fe};o.ConditionalExpression=M;var R=function(le){this.type=u.Syntax.ContinueStatement,this.label=le};o.ContinueStatement=R;var E=function(){this.type=u.Syntax.DebuggerStatement};o.DebuggerStatement=E;var B=function(le,ge){this.type=u.Syntax.ExpressionStatement,this.expression=le,this.directive=ge};o.Directive=B;var I=function(le,ge){this.type=u.Syntax.DoWhileStatement,this.body=le,this.test=ge};o.DoWhileStatement=I;var P=function(){this.type=u.Syntax.EmptyStatement};o.EmptyStatement=P;var L=function(le){this.type=u.Syntax.ExportAllDeclaration,this.source=le};o.ExportAllDeclaration=L;var F=function(le){this.type=u.Syntax.ExportDefaultDeclaration,this.declaration=le};o.ExportDefaultDeclaration=F;var G=function(le,ge,Fe){this.type=u.Syntax.ExportNamedDeclaration,this.declaration=le,this.specifiers=ge,this.source=Fe};o.ExportNamedDeclaration=G;var $=function(le,ge){this.type=u.Syntax.ExportSpecifier,this.exported=ge,this.local=le};o.ExportSpecifier=$;var H=function(le){this.type=u.Syntax.ExpressionStatement,this.expression=le};o.ExpressionStatement=H;var J=function(le,ge,Fe){this.type=u.Syntax.ForInStatement,this.left=le,this.right=ge,this.body=Fe,this.each=!1};o.ForInStatement=J;var Q=function(le,ge,Fe){this.type=u.Syntax.ForOfStatement,this.left=le,this.right=ge,this.body=Fe};o.ForOfStatement=Q;var q=function(le,ge,Fe,Ht){this.type=u.Syntax.ForStatement,this.init=le,this.test=ge,this.update=Fe,this.body=Ht};o.ForStatement=q;var ne=function(le,ge,Fe,Ht){this.type=u.Syntax.FunctionDeclaration,this.id=le,this.params=ge,this.body=Fe,this.generator=Ht,this.expression=!1,this.async=!1};o.FunctionDeclaration=ne;var re=function(le,ge,Fe,Ht){this.type=u.Syntax.FunctionExpression,this.id=le,this.params=ge,this.body=Fe,this.generator=Ht,this.expression=!1,this.async=!1};o.FunctionExpression=re;var oe=function(le){this.type=u.Syntax.Identifier,this.name=le};o.Identifier=oe;var te=function(le,ge,Fe){this.type=u.Syntax.IfStatement,this.test=le,this.consequent=ge,this.alternate=Fe};o.IfStatement=te;var A=function(le,ge){this.type=u.Syntax.ImportDeclaration,this.specifiers=le,this.source=ge};o.ImportDeclaration=A;var N=function(le){this.type=u.Syntax.ImportDefaultSpecifier,this.local=le};o.ImportDefaultSpecifier=N;var U=function(le){this.type=u.Syntax.ImportNamespaceSpecifier,this.local=le};o.ImportNamespaceSpecifier=U;var V=function(le,ge){this.type=u.Syntax.ImportSpecifier,this.local=le,this.imported=ge};o.ImportSpecifier=V;var k=function(le,ge){this.type=u.Syntax.LabeledStatement,this.label=le,this.body=ge};o.LabeledStatement=k;var z=function(le,ge){this.type=u.Syntax.Literal,this.value=le,this.raw=ge};o.Literal=z;var j=function(le,ge){this.type=u.Syntax.MetaProperty,this.meta=le,this.property=ge};o.MetaProperty=j;var K=function(le,ge,Fe,Ht,js){this.type=u.Syntax.MethodDefinition,this.key=le,this.computed=ge,this.value=Fe,this.kind=Ht,this.static=js};o.MethodDefinition=K;var X=function(le){this.type=u.Syntax.Program,this.body=le,this.sourceType="module"};o.Module=X;var Z=function(le,ge){this.type=u.Syntax.NewExpression,this.callee=le,this.arguments=ge};o.NewExpression=Z;var ae=function(le){this.type=u.Syntax.ObjectExpression,this.properties=le};o.ObjectExpression=ae;var ue=function(le){this.type=u.Syntax.ObjectPattern,this.properties=le};o.ObjectPattern=ue;var ie=function(le,ge,Fe,Ht,js,Zg){this.type=u.Syntax.Property,this.key=ge,this.computed=Fe,this.value=Ht,this.kind=le,this.method=js,this.shorthand=Zg};o.Property=ie;var pe=function(le,ge,Fe,Ht){this.type=u.Syntax.Literal,this.value=le,this.raw=ge,this.regex={pattern:Fe,flags:Ht}};o.RegexLiteral=pe;var ve=function(le){this.type=u.Syntax.RestElement,this.argument=le};o.RestElement=ve;var ce=function(le){this.type=u.Syntax.ReturnStatement,this.argument=le};o.ReturnStatement=ce;var xe=function(le){this.type=u.Syntax.Program,this.body=le,this.sourceType="script"};o.Script=xe;var Y=function(le){this.type=u.Syntax.SequenceExpression,this.expressions=le};o.SequenceExpression=Y;var _e=function(le){this.type=u.Syntax.SpreadElement,this.argument=le};o.SpreadElement=_e;var Te=function(le,ge){this.type=u.Syntax.MemberExpression,this.computed=!1,this.object=le,this.property=ge};o.StaticMemberExpression=Te;var Ce=function(){this.type=u.Syntax.Super};o.Super=Ce;var se=function(le,ge){this.type=u.Syntax.SwitchCase,this.test=le,this.consequent=ge};o.SwitchCase=se;var he=function(le,ge){this.type=u.Syntax.SwitchStatement,this.discriminant=le,this.cases=ge};o.SwitchStatement=he;var de=function(le,ge){this.type=u.Syntax.TaggedTemplateExpression,this.tag=le,this.quasi=ge};o.TaggedTemplateExpression=de;var ye=function(le,ge){this.type=u.Syntax.TemplateElement,this.value=le,this.tail=ge};o.TemplateElement=ye;var Se=function(le,ge){this.type=u.Syntax.TemplateLiteral,this.quasis=le,this.expressions=ge};o.TemplateLiteral=Se;var Ne=function(){this.type=u.Syntax.ThisExpression};o.ThisExpression=Ne;var De=function(le){this.type=u.Syntax.ThrowStatement,this.argument=le};o.ThrowStatement=De;var Ve=function(le,ge,Fe){this.type=u.Syntax.TryStatement,this.block=le,this.handler=ge,this.finalizer=Fe};o.TryStatement=Ve;var Pe=function(le,ge){this.type=u.Syntax.UnaryExpression,this.operator=le,this.argument=ge,this.prefix=!0};o.UnaryExpression=Pe;var ft=function(le,ge,Fe){this.type=u.Syntax.UpdateExpression,this.operator=le,this.argument=ge,this.prefix=Fe};o.UpdateExpression=ft;var yt=function(le,ge){this.type=u.Syntax.VariableDeclaration,this.declarations=le,this.kind=ge};o.VariableDeclaration=yt;var Ke=function(le,ge){this.type=u.Syntax.VariableDeclarator,this.id=le,this.init=ge};o.VariableDeclarator=Ke;var xt=function(le,ge){this.type=u.Syntax.WhileStatement,this.test=le,this.body=ge};o.WhileStatement=xt;var qg=function(le,ge){this.type=u.Syntax.WithStatement,this.object=le,this.body=ge};o.WithStatement=qg;var Yg=function(le,ge){this.type=u.Syntax.YieldExpression,this.argument=le,this.delegate=ge};o.YieldExpression=Yg},function(s,o,c){Object.defineProperty(o,"__esModule",{value:!0});var u=c(9),f=c(10),l=c(11),h=c(7),p=c(12),v=c(2),y=c(13),_=function(){function m(d,g,x){g===void 0&&(g={}),this.config={range:typeof g.range=="boolean"&&g.range,loc:typeof g.loc=="boolean"&&g.loc,source:null,tokens:typeof g.tokens=="boolean"&&g.tokens,comment:typeof g.comment=="boolean"&&g.comment,tolerant:typeof g.tolerant=="boolean"&&g.tolerant},this.config.loc&&g.source&&g.source!==null&&(this.config.source=String(g.source)),this.delegate=x,this.errorHandler=new f.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new p.Scanner(d,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return m.prototype.throwError=function(d){for(var g=[],x=1;x<arguments.length;x++)g[x-1]=arguments[x];var w=Array.prototype.slice.call(arguments,1),C=d.replace(/%(\d)/g,function(O,D){return u.assert(D<w.length,"Message reference must be in range"),w[D]}),S=this.lastMarker.index,T=this.lastMarker.line,b=this.lastMarker.column+1;throw this.errorHandler.createError(S,T,b,C)},m.prototype.tolerateError=function(d){for(var g=[],x=1;x<arguments.length;x++)g[x-1]=arguments[x];var w=Array.prototype.slice.call(arguments,1),C=d.replace(/%(\d)/g,function(O,D){return u.assert(D<w.length,"Message reference must be in range"),w[D]}),S=this.lastMarker.index,T=this.scanner.lineNumber,b=this.lastMarker.column+1;this.errorHandler.tolerateError(S,T,b,C)},m.prototype.unexpectedTokenError=function(d,g){var x,w=g||l.Messages.UnexpectedToken;if(d?(g||(w=d.type===2?l.Messages.UnexpectedEOS:d.type===3?l.Messages.UnexpectedIdentifier:d.type===6?l.Messages.UnexpectedNumber:d.type===8?l.Messages.UnexpectedString:d.type===10?l.Messages.UnexpectedTemplate:l.Messages.UnexpectedToken,d.type===4&&(this.scanner.isFutureReservedWord(d.value)?w=l.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(d.value)&&(w=l.Messages.StrictReservedWord))),x=d.value):x="ILLEGAL",w=w.replace("%0",x),d&&typeof d.lineNumber=="number"){var C=d.start,S=d.lineNumber,T=this.lastMarker.index-this.lastMarker.column,b=d.start-T+1;return this.errorHandler.createError(C,S,b,w)}return C=this.lastMarker.index,S=this.lastMarker.line,b=this.lastMarker.column+1,this.errorHandler.createError(C,S,b,w)},m.prototype.throwUnexpectedToken=function(d,g){throw this.unexpectedTokenError(d,g)},m.prototype.tolerateUnexpectedToken=function(d,g){this.errorHandler.tolerate(this.unexpectedTokenError(d,g))},m.prototype.collectComments=function(){if(this.config.comment){var d=this.scanner.scanComments();if(d.length>0&&this.delegate)for(var g=0;g<d.length;++g){var x=d[g],w=void 0;w={type:x.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(x.slice[0],x.slice[1])},this.config.range&&(w.range=x.range),this.config.loc&&(w.loc=x.loc);var C={start:{line:x.loc.start.line,column:x.loc.start.column,offset:x.range[0]},end:{line:x.loc.end.line,column:x.loc.end.column,offset:x.range[1]}};this.delegate(w,C)}}else this.scanner.scanComments()},m.prototype.getTokenRaw=function(d){return this.scanner.source.slice(d.start,d.end)},m.prototype.convertToken=function(d){var g={type:y.TokenName[d.type],value:this.getTokenRaw(d)};if(this.config.range&&(g.range=[d.start,d.end]),this.config.loc&&(g.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),d.type===9){var x=d.pattern,w=d.flags;g.regex={pattern:x,flags:w}}return g},m.prototype.nextToken=function(){var d=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var g=this.scanner.lex();return this.hasLineTerminator=d.lineNumber!==g.lineNumber,g&&this.context.strict&&g.type===3&&this.scanner.isStrictModeReservedWord(g.value)&&(g.type=4),this.lookahead=g,this.config.tokens&&g.type!==2&&this.tokens.push(this.convertToken(g)),d},m.prototype.nextRegexToken=function(){this.collectComments();var d=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(d))),this.lookahead=d,this.nextToken(),d},m.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},m.prototype.startNode=function(d,g){g===void 0&&(g=0);var x=d.start-d.lineStart,w=d.lineNumber;return x<0&&(x+=g,w--),{index:d.start,line:w,column:x}},m.prototype.finalize=function(d,g){if(this.config.range&&(g.range=[d.index,this.lastMarker.index]),this.config.loc&&(g.loc={start:{line:d.line,column:d.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(g.loc.source=this.config.source)),this.delegate){var x={start:{line:d.line,column:d.column,offset:d.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(g,x)}return g},m.prototype.expect=function(d){var g=this.nextToken();g.type===7&&g.value===d||this.throwUnexpectedToken(g)},m.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var d=this.lookahead;d.type===7&&d.value===","?this.nextToken():d.type===7&&d.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(d)):this.tolerateUnexpectedToken(d,l.Messages.UnexpectedToken)}else this.expect(",")},m.prototype.expectKeyword=function(d){var g=this.nextToken();g.type===4&&g.value===d||this.throwUnexpectedToken(g)},m.prototype.match=function(d){return this.lookahead.type===7&&this.lookahead.value===d},m.prototype.matchKeyword=function(d){return this.lookahead.type===4&&this.lookahead.value===d},m.prototype.matchContextualKeyword=function(d){return this.lookahead.type===3&&this.lookahead.value===d},m.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var d=this.lookahead.value;return d==="="||d==="*="||d==="**="||d==="/="||d==="%="||d==="+="||d==="-="||d==="<<="||d===">>="||d===">>>="||d==="&="||d==="^="||d==="|="},m.prototype.isolateCoverGrammar=function(d){var g=this.context.isBindingElement,x=this.context.isAssignmentTarget,w=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var C=d.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=g,this.context.isAssignmentTarget=x,this.context.firstCoverInitializedNameError=w,C},m.prototype.inheritCoverGrammar=function(d){var g=this.context.isBindingElement,x=this.context.isAssignmentTarget,w=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var C=d.call(this);return this.context.isBindingElement=this.context.isBindingElement&&g,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&x,this.context.firstCoverInitializedNameError=w||this.context.firstCoverInitializedNameError,C},m.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type===2||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},m.prototype.parsePrimaryExpression=function(){var d,g,x,w=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),d=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(w,new h.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,l.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,g=this.nextToken(),x=this.getTokenRaw(g),d=this.finalize(w,new h.Literal(g.value,x));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,g=this.nextToken(),x=this.getTokenRaw(g),d=this.finalize(w,new h.Literal(g.value==="true",x));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,g=this.nextToken(),x=this.getTokenRaw(g),d=this.finalize(w,new h.Literal(null,x));break;case 10:d=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,d=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":d=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":d=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,g=this.nextRegexToken(),x=this.getTokenRaw(g),d=this.finalize(w,new h.RegexLiteral(g.regex,x,g.pattern,g.flags));break;default:d=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?d=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?d=this.finalize(w,new h.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?d=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),d=this.finalize(w,new h.ThisExpression)):d=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:d=this.throwUnexpectedToken(this.nextToken())}return d},m.prototype.parseSpreadElement=function(){var d=this.createNode();this.expect("...");var g=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(d,new h.SpreadElement(g))},m.prototype.parseArrayInitializer=function(){var d=this.createNode(),g=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),g.push(null);else if(this.match("...")){var x=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),g.push(x)}else g.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(d,new h.ArrayExpression(g))},m.prototype.parsePropertyMethod=function(d){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var g=this.context.strict,x=this.context.allowStrictDirective;this.context.allowStrictDirective=d.simple;var w=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&d.firstRestricted&&this.tolerateUnexpectedToken(d.firstRestricted,d.message),this.context.strict&&d.stricted&&this.tolerateUnexpectedToken(d.stricted,d.message),this.context.strict=g,this.context.allowStrictDirective=x,w},m.prototype.parsePropertyMethodFunction=function(){var d=this.createNode(),g=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters(),w=this.parsePropertyMethod(x);return this.context.allowYield=g,this.finalize(d,new h.FunctionExpression(null,x.params,w,!1))},m.prototype.parsePropertyMethodAsyncFunction=function(){var d=this.createNode(),g=this.context.allowYield,x=this.context.await;this.context.allowYield=!1,this.context.await=!0;var w=this.parseFormalParameters(),C=this.parsePropertyMethod(w);return this.context.allowYield=g,this.context.await=x,this.finalize(d,new h.AsyncFunctionExpression(null,w.params,C))},m.prototype.parseObjectPropertyKey=function(){var d,g=this.createNode(),x=this.nextToken();switch(x.type){case 8:case 6:this.context.strict&&x.octal&&this.tolerateUnexpectedToken(x,l.Messages.StrictOctalLiteral);var w=this.getTokenRaw(x);d=this.finalize(g,new h.Literal(x.value,w));break;case 3:case 1:case 5:case 4:d=this.finalize(g,new h.Identifier(x.value));break;case 7:x.value==="["?(d=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):d=this.throwUnexpectedToken(x);break;default:d=this.throwUnexpectedToken(x)}return d},m.prototype.isPropertyKey=function(d,g){return d.type===v.Syntax.Identifier&&d.name===g||d.type===v.Syntax.Literal&&d.value===g},m.prototype.parseObjectProperty=function(d){var g,x=this.createNode(),w=this.lookahead,C=null,S=null,T=!1,b=!1,O=!1,D=!1;if(w.type===3){var M=w.value;this.nextToken(),T=this.match("["),C=(D=!(this.hasLineTerminator||M!=="async"||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(x,new h.Identifier(M))}else this.match("*")?this.nextToken():(T=this.match("["),C=this.parseObjectPropertyKey());var R=this.qualifiedPropertyName(this.lookahead);if(w.type===3&&!D&&w.value==="get"&&R)g="get",T=this.match("["),C=this.parseObjectPropertyKey(),this.context.allowYield=!1,S=this.parseGetterMethod();else if(w.type===3&&!D&&w.value==="set"&&R)g="set",T=this.match("["),C=this.parseObjectPropertyKey(),S=this.parseSetterMethod();else if(w.type===7&&w.value==="*"&&R)g="init",T=this.match("["),C=this.parseObjectPropertyKey(),S=this.parseGeneratorMethod(),b=!0;else if(C||this.throwUnexpectedToken(this.lookahead),g="init",this.match(":")&&!D)!T&&this.isPropertyKey(C,"__proto__")&&(d.value&&this.tolerateError(l.Messages.DuplicateProtoProperty),d.value=!0),this.nextToken(),S=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))S=D?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),b=!0;else if(w.type===3)if(M=this.finalize(x,new h.Identifier(w.value)),this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),O=!0;var E=this.isolateCoverGrammar(this.parseAssignmentExpression);S=this.finalize(x,new h.AssignmentPattern(M,E))}else O=!0,S=M;else this.throwUnexpectedToken(this.nextToken());return this.finalize(x,new h.Property(g,C,T,S,b,O))},m.prototype.parseObjectInitializer=function(){var d=this.createNode();this.expect("{");for(var g=[],x={value:!1};!this.match("}");)g.push(this.parseObjectProperty(x)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(d,new h.ObjectExpression(g))},m.prototype.parseTemplateHead=function(){u.assert(this.lookahead.head,"Template literal must start with a template head");var d=this.createNode(),g=this.nextToken(),x=g.value,w=g.cooked;return this.finalize(d,new h.TemplateElement({raw:x,cooked:w},g.tail))},m.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var d=this.createNode(),g=this.nextToken(),x=g.value,w=g.cooked;return this.finalize(d,new h.TemplateElement({raw:x,cooked:w},g.tail))},m.prototype.parseTemplateLiteral=function(){var d=this.createNode(),g=[],x=[],w=this.parseTemplateHead();for(x.push(w);!w.tail;)g.push(this.parseExpression()),w=this.parseTemplateElement(),x.push(w);return this.finalize(d,new h.TemplateLiteral(x,g))},m.prototype.reinterpretExpressionAsPattern=function(d){switch(d.type){case v.Syntax.Identifier:case v.Syntax.MemberExpression:case v.Syntax.RestElement:case v.Syntax.AssignmentPattern:break;case v.Syntax.SpreadElement:d.type=v.Syntax.RestElement,this.reinterpretExpressionAsPattern(d.argument);break;case v.Syntax.ArrayExpression:d.type=v.Syntax.ArrayPattern;for(var g=0;g<d.elements.length;g++)d.elements[g]!==null&&this.reinterpretExpressionAsPattern(d.elements[g]);break;case v.Syntax.ObjectExpression:for(d.type=v.Syntax.ObjectPattern,g=0;g<d.properties.length;g++)this.reinterpretExpressionAsPattern(d.properties[g].value);break;case v.Syntax.AssignmentExpression:d.type=v.Syntax.AssignmentPattern,delete d.operator,this.reinterpretExpressionAsPattern(d.left)}},m.prototype.parseGroupExpression=function(){var d;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),d={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var g=this.lookahead,x=[];if(this.match("..."))d=this.parseRestElement(x),this.expect(")"),this.match("=>")||this.expect("=>"),d={type:"ArrowParameterPlaceHolder",params:[d],async:!1};else{var w=!1;if(this.context.isBindingElement=!0,d=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var C=[];for(this.context.isAssignmentTarget=!1,C.push(d);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var S=0;S<C.length;S++)this.reinterpretExpressionAsPattern(C[S]);w=!0,d={type:"ArrowParameterPlaceHolder",params:C,async:!1}}else if(this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),C.push(this.parseRestElement(x)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,S=0;S<C.length;S++)this.reinterpretExpressionAsPattern(C[S]);w=!0,d={type:"ArrowParameterPlaceHolder",params:C,async:!1}}else C.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(w)break}w||(d=this.finalize(this.startNode(g),new h.SequenceExpression(C)))}if(!w){if(this.expect(")"),this.match("=>")&&(d.type===v.Syntax.Identifier&&d.name==="yield"&&(w=!0,d={type:"ArrowParameterPlaceHolder",params:[d],async:!1}),!w)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),d.type===v.Syntax.SequenceExpression)for(S=0;S<d.expressions.length;S++)this.reinterpretExpressionAsPattern(d.expressions[S]);else this.reinterpretExpressionAsPattern(d);d={type:"ArrowParameterPlaceHolder",params:d.type===v.Syntax.SequenceExpression?d.expressions:[d],async:!1}}this.context.isBindingElement=!1}}}return d},m.prototype.parseArguments=function(){this.expect("(");var d=[];if(!this.match(")"))for(;;){var g=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(d.push(g),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),d},m.prototype.isIdentifierName=function(d){return d.type===3||d.type===4||d.type===1||d.type===5},m.prototype.parseIdentifierName=function(){var d=this.createNode(),g=this.nextToken();return this.isIdentifierName(g)||this.throwUnexpectedToken(g),this.finalize(d,new h.Identifier(g.value))},m.prototype.parseNewExpression=function(){var d,g=this.createNode(),x=this.parseIdentifierName();if(u.assert(x.name==="new","New expression must start with `new`"),this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var w=this.parseIdentifierName();d=new h.MetaProperty(x,w)}else this.throwUnexpectedToken(this.lookahead);else{var C=this.isolateCoverGrammar(this.parseLeftHandSideExpression),S=this.match("(")?this.parseArguments():[];d=new h.NewExpression(C,S),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(g,d)},m.prototype.parseAsyncArgument=function(){var d=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,d},m.prototype.parseAsyncArguments=function(){this.expect("(");var d=[];if(!this.match(")"))for(;;){var g=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(d.push(g),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),d},m.prototype.parseLeftHandSideExpressionAllowCall=function(){var d,g=this.lookahead,x=this.matchContextualKeyword("async"),w=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(d=this.createNode(),this.nextToken(),d=this.finalize(d,new h.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):d=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var C=this.parseIdentifierName();d=this.finalize(this.startNode(g),new h.StaticMemberExpression(d,C))}else if(this.match("(")){var S=x&&g.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var T=S?this.parseAsyncArguments():this.parseArguments();if(d=this.finalize(this.startNode(g),new h.CallExpression(d,T)),S&&this.match("=>")){for(var b=0;b<T.length;++b)this.reinterpretExpressionAsPattern(T[b]);d={type:"ArrowParameterPlaceHolder",params:T,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),C=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),d=this.finalize(this.startNode(g),new h.ComputedMemberExpression(d,C));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var O=this.parseTemplateLiteral();d=this.finalize(this.startNode(g),new h.TaggedTemplateExpression(d,O))}return this.context.allowIn=w,d},m.prototype.parseSuper=function(){var d=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(d,new h.Super)},m.prototype.parseLeftHandSideExpression=function(){u.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var d=this.startNode(this.lookahead),g=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var x=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),g=this.finalize(d,new h.ComputedMemberExpression(g,x))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),x=this.parseIdentifierName(),g=this.finalize(d,new h.StaticMemberExpression(g,x));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var w=this.parseTemplateLiteral();g=this.finalize(d,new h.TaggedTemplateExpression(g,w))}return g},m.prototype.parseUpdateExpression=function(){var d,g=this.lookahead;if(this.match("++")||this.match("--")){var x=this.startNode(g),w=this.nextToken();d=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&d.type===v.Syntax.Identifier&&this.scanner.isRestrictedWord(d.name)&&this.tolerateError(l.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(l.Messages.InvalidLHSInAssignment);var C=!0;d=this.finalize(x,new h.UpdateExpression(w.value,d,C)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(d=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&d.type===v.Syntax.Identifier&&this.scanner.isRestrictedWord(d.name)&&this.tolerateError(l.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(l.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var S=this.nextToken().value;C=!1,d=this.finalize(this.startNode(g),new h.UpdateExpression(S,d,C))}return d},m.prototype.parseAwaitExpression=function(){var d=this.createNode();this.nextToken();var g=this.parseUnaryExpression();return this.finalize(d,new h.AwaitExpression(g))},m.prototype.parseUnaryExpression=function(){var d;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var g=this.startNode(this.lookahead),x=this.nextToken();d=this.inheritCoverGrammar(this.parseUnaryExpression),d=this.finalize(g,new h.UnaryExpression(x.value,d)),this.context.strict&&d.operator==="delete"&&d.argument.type===v.Syntax.Identifier&&this.tolerateError(l.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else d=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return d},m.prototype.parseExponentiationExpression=function(){var d=this.lookahead,g=this.inheritCoverGrammar(this.parseUnaryExpression);if(g.type!==v.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var x=g,w=this.isolateCoverGrammar(this.parseExponentiationExpression);g=this.finalize(this.startNode(d),new h.BinaryExpression("**",x,w))}return g},m.prototype.binaryPrecedence=function(d){var g=d.value;return d.type===7?this.operatorPrecedence[g]||0:d.type===4&&(g==="instanceof"||this.context.allowIn&&g==="in")?7:0},m.prototype.parseBinaryExpression=function(){var d=this.lookahead,g=this.inheritCoverGrammar(this.parseExponentiationExpression),x=this.lookahead,w=this.binaryPrecedence(x);if(w>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var C=[d,this.lookahead],S=g,T=this.isolateCoverGrammar(this.parseExponentiationExpression),b=[S,x.value,T],O=[w];!((w=this.binaryPrecedence(this.lookahead))<=0);){for(;b.length>2&&w<=O[O.length-1];){T=b.pop();var D=b.pop();O.pop(),S=b.pop(),C.pop();var M=this.startNode(C[C.length-1]);b.push(this.finalize(M,new h.BinaryExpression(D,S,T)))}b.push(this.nextToken().value),O.push(w),C.push(this.lookahead),b.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var R=b.length-1;g=b[R];for(var E=C.pop();R>1;){var B=C.pop(),I=E&&E.lineStart;M=this.startNode(B,I),D=b[R-1],g=this.finalize(M,new h.BinaryExpression(D,b[R-2],g)),R-=2,E=B}}return g},m.prototype.parseConditionalExpression=function(){var d=this.lookahead,g=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var x=this.context.allowIn;this.context.allowIn=!0;var w=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=x,this.expect(":");var C=this.isolateCoverGrammar(this.parseAssignmentExpression);g=this.finalize(this.startNode(d),new h.ConditionalExpression(g,w,C)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return g},m.prototype.checkPatternParam=function(d,g){switch(g.type){case v.Syntax.Identifier:this.validateParam(d,g,g.name);break;case v.Syntax.RestElement:this.checkPatternParam(d,g.argument);break;case v.Syntax.AssignmentPattern:this.checkPatternParam(d,g.left);break;case v.Syntax.ArrayPattern:for(var x=0;x<g.elements.length;x++)g.elements[x]!==null&&this.checkPatternParam(d,g.elements[x]);break;case v.Syntax.ObjectPattern:for(x=0;x<g.properties.length;x++)this.checkPatternParam(d,g.properties[x].value)}d.simple=d.simple&&g instanceof h.Identifier},m.prototype.reinterpretAsCoverFormalsList=function(d){var g,x=[d],w=!1;switch(d.type){case v.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":x=d.params,w=d.async;break;default:return null}g={simple:!0,paramSet:{}};for(var C=0;C<x.length;++C)(S=x[C]).type===v.Syntax.AssignmentPattern?S.right.type===v.Syntax.YieldExpression&&(S.right.argument&&this.throwUnexpectedToken(this.lookahead),S.right.type=v.Syntax.Identifier,S.right.name="yield",delete S.right.argument,delete S.right.delegate):w&&S.type===v.Syntax.Identifier&&S.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(g,S),x[C]=S;if(this.context.strict||!this.context.allowYield)for(C=0;C<x.length;++C){var S;(S=x[C]).type===v.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(g.message===l.Messages.StrictParamDupe){var T=this.context.strict?g.stricted:g.firstRestricted;this.throwUnexpectedToken(T,g.message)}return{simple:g.simple,params:x,stricted:g.stricted,firstRestricted:g.firstRestricted,message:g.message}},m.prototype.parseAssignmentExpression=function(){var d;if(!this.context.allowYield&&this.matchKeyword("yield"))d=this.parseYieldExpression();else{var g=this.lookahead,x=g;if(d=this.parseConditionalExpression(),x.type===3&&x.lineNumber===this.lookahead.lineNumber&&x.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var w=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(w),d={type:"ArrowParameterPlaceHolder",params:[w],async:!0}}if(d.type==="ArrowParameterPlaceHolder"||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var C=d.async,S=this.reinterpretAsCoverFormalsList(d);if(S){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var T=this.context.strict,b=this.context.allowStrictDirective;this.context.allowStrictDirective=S.simple;var O=this.context.allowYield,D=this.context.await;this.context.allowYield=!0,this.context.await=C;var M=this.startNode(g);this.expect("=>");var R=void 0;if(this.match("{")){var E=this.context.allowIn;this.context.allowIn=!0,R=this.parseFunctionSourceElements(),this.context.allowIn=E}else R=this.isolateCoverGrammar(this.parseAssignmentExpression);var B=R.type!==v.Syntax.BlockStatement;this.context.strict&&S.firstRestricted&&this.throwUnexpectedToken(S.firstRestricted,S.message),this.context.strict&&S.stricted&&this.tolerateUnexpectedToken(S.stricted,S.message),d=C?this.finalize(M,new h.AsyncArrowFunctionExpression(S.params,R,B)):this.finalize(M,new h.ArrowFunctionExpression(S.params,R,B)),this.context.strict=T,this.context.allowStrictDirective=b,this.context.allowYield=O,this.context.await=D}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(l.Messages.InvalidLHSInAssignment),this.context.strict&&d.type===v.Syntax.Identifier){var I=d;this.scanner.isRestrictedWord(I.name)&&this.tolerateUnexpectedToken(x,l.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(I.name)&&this.tolerateUnexpectedToken(x,l.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(d):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var P=(x=this.nextToken()).value,L=this.isolateCoverGrammar(this.parseAssignmentExpression);d=this.finalize(this.startNode(g),new h.AssignmentExpression(P,d,L)),this.context.firstCoverInitializedNameError=null}}return d},m.prototype.parseExpression=function(){var d=this.lookahead,g=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var x=[];for(x.push(g);this.lookahead.type!==2&&this.match(",");)this.nextToken(),x.push(this.isolateCoverGrammar(this.parseAssignmentExpression));g=this.finalize(this.startNode(d),new h.SequenceExpression(x))}return g},m.prototype.parseStatementListItem=function(){var d;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,l.Messages.IllegalExportDeclaration),d=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,l.Messages.IllegalImportDeclaration),d=this.parseImportDeclaration();break;case"const":d=this.parseLexicalDeclaration({inFor:!1});break;case"function":d=this.parseFunctionDeclaration();break;case"class":d=this.parseClassDeclaration();break;case"let":d=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:d=this.parseStatement()}else d=this.parseStatement();return d},m.prototype.parseBlock=function(){var d=this.createNode();this.expect("{");for(var g=[];!this.match("}");)g.push(this.parseStatementListItem());return this.expect("}"),this.finalize(d,new h.BlockStatement(g))},m.prototype.parseLexicalBinding=function(d,g){var x=this.createNode(),w=this.parsePattern([],d);this.context.strict&&w.type===v.Syntax.Identifier&&this.scanner.isRestrictedWord(w.name)&&this.tolerateError(l.Messages.StrictVarName);var C=null;return d==="const"?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),C=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(l.Messages.DeclarationMissingInitializer,"const")):(!g.inFor&&w.type!==v.Syntax.Identifier||this.match("="))&&(this.expect("="),C=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(x,new h.VariableDeclarator(w,C))},m.prototype.parseBindingList=function(d,g){for(var x=[this.parseLexicalBinding(d,g)];this.match(",");)this.nextToken(),x.push(this.parseLexicalBinding(d,g));return x},m.prototype.isLexicalDeclaration=function(){var d=this.scanner.saveState();this.scanner.scanComments();var g=this.scanner.lex();return this.scanner.restoreState(d),g.type===3||g.type===7&&g.value==="["||g.type===7&&g.value==="{"||g.type===4&&g.value==="let"||g.type===4&&g.value==="yield"},m.prototype.parseLexicalDeclaration=function(d){var g=this.createNode(),x=this.nextToken().value;u.assert(x==="let"||x==="const","Lexical declaration must be either let or const");var w=this.parseBindingList(x,d);return this.consumeSemicolon(),this.finalize(g,new h.VariableDeclaration(w,x))},m.prototype.parseBindingRestElement=function(d,g){var x=this.createNode();this.expect("...");var w=this.parsePattern(d,g);return this.finalize(x,new h.RestElement(w))},m.prototype.parseArrayPattern=function(d,g){var x=this.createNode();this.expect("[");for(var w=[];!this.match("]");)if(this.match(","))this.nextToken(),w.push(null);else{if(this.match("...")){w.push(this.parseBindingRestElement(d,g));break}w.push(this.parsePatternWithDefault(d,g)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(x,new h.ArrayPattern(w))},m.prototype.parsePropertyPattern=function(d,g){var x,w,C=this.createNode(),S=!1,T=!1;if(this.lookahead.type===3){var b=this.lookahead;x=this.parseVariableIdentifier();var O=this.finalize(C,new h.Identifier(b.value));if(this.match("=")){d.push(b),T=!0,this.nextToken();var D=this.parseAssignmentExpression();w=this.finalize(this.startNode(b),new h.AssignmentPattern(O,D))}else this.match(":")?(this.expect(":"),w=this.parsePatternWithDefault(d,g)):(d.push(b),T=!0,w=O)}else S=this.match("["),x=this.parseObjectPropertyKey(),this.expect(":"),w=this.parsePatternWithDefault(d,g);return this.finalize(C,new h.Property("init",x,S,w,!1,T))},m.prototype.parseObjectPattern=function(d,g){var x=this.createNode(),w=[];for(this.expect("{");!this.match("}");)w.push(this.parsePropertyPattern(d,g)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(x,new h.ObjectPattern(w))},m.prototype.parsePattern=function(d,g){var x;return this.match("[")?x=this.parseArrayPattern(d,g):this.match("{")?x=this.parseObjectPattern(d,g):(!this.matchKeyword("let")||g!=="const"&&g!=="let"||this.tolerateUnexpectedToken(this.lookahead,l.Messages.LetInLexicalBinding),d.push(this.lookahead),x=this.parseVariableIdentifier(g)),x},m.prototype.parsePatternWithDefault=function(d,g){var x=this.lookahead,w=this.parsePattern(d,g);if(this.match("=")){this.nextToken();var C=this.context.allowYield;this.context.allowYield=!0;var S=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=C,w=this.finalize(this.startNode(x),new h.AssignmentPattern(w,S))}return w},m.prototype.parseVariableIdentifier=function(d){var g=this.createNode(),x=this.nextToken();return x.type===4&&x.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(x,l.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(x):x.type!==3?this.context.strict&&x.type===4&&this.scanner.isStrictModeReservedWord(x.value)?this.tolerateUnexpectedToken(x,l.Messages.StrictReservedWord):(this.context.strict||x.value!=="let"||d!=="var")&&this.throwUnexpectedToken(x):(this.context.isModule||this.context.await)&&x.type===3&&x.value==="await"&&this.tolerateUnexpectedToken(x),this.finalize(g,new h.Identifier(x.value))},m.prototype.parseVariableDeclaration=function(d){var g=this.createNode(),x=this.parsePattern([],"var");this.context.strict&&x.type===v.Syntax.Identifier&&this.scanner.isRestrictedWord(x.name)&&this.tolerateError(l.Messages.StrictVarName);var w=null;return this.match("=")?(this.nextToken(),w=this.isolateCoverGrammar(this.parseAssignmentExpression)):x.type===v.Syntax.Identifier||d.inFor||this.expect("="),this.finalize(g,new h.VariableDeclarator(x,w))},m.prototype.parseVariableDeclarationList=function(d){var g={inFor:d.inFor},x=[];for(x.push(this.parseVariableDeclaration(g));this.match(",");)this.nextToken(),x.push(this.parseVariableDeclaration(g));return x},m.prototype.parseVariableStatement=function(){var d=this.createNode();this.expectKeyword("var");var g=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(d,new h.VariableDeclaration(g,"var"))},m.prototype.parseEmptyStatement=function(){var d=this.createNode();return this.expect(";"),this.finalize(d,new h.EmptyStatement)},m.prototype.parseExpressionStatement=function(){var d=this.createNode(),g=this.parseExpression();return this.consumeSemicolon(),this.finalize(d,new h.ExpressionStatement(g))},m.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(l.Messages.StrictFunction),this.parseStatement()},m.prototype.parseIfStatement=function(){var d,g=this.createNode(),x=null;this.expectKeyword("if"),this.expect("(");var w=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new h.EmptyStatement)):(this.expect(")"),d=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),x=this.parseIfClause())),this.finalize(g,new h.IfStatement(w,d,x))},m.prototype.parseDoWhileStatement=function(){var d=this.createNode();this.expectKeyword("do");var g=this.context.inIteration;this.context.inIteration=!0;var x=this.parseStatement();this.context.inIteration=g,this.expectKeyword("while"),this.expect("(");var w=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(d,new h.DoWhileStatement(x,w))},m.prototype.parseWhileStatement=function(){var d,g=this.createNode();this.expectKeyword("while"),this.expect("(");var x=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new h.EmptyStatement);else{this.expect(")");var w=this.context.inIteration;this.context.inIteration=!0,d=this.parseStatement(),this.context.inIteration=w}return this.finalize(g,new h.WhileStatement(x,d))},m.prototype.parseForStatement=function(){var d,g,x,w=null,C=null,S=null,T=!0,b=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){w=this.createNode(),this.nextToken();var O=this.context.allowIn;this.context.allowIn=!1;var D=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=O,D.length===1&&this.matchKeyword("in")){var M=D[0];M.init&&(M.id.type===v.Syntax.ArrayPattern||M.id.type===v.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(l.Messages.ForInOfLoopInitializer,"for-in"),w=this.finalize(w,new h.VariableDeclaration(D,"var")),this.nextToken(),d=w,g=this.parseExpression(),w=null}else D.length===1&&D[0].init===null&&this.matchContextualKeyword("of")?(w=this.finalize(w,new h.VariableDeclaration(D,"var")),this.nextToken(),d=w,g=this.parseAssignmentExpression(),w=null,T=!1):(w=this.finalize(w,new h.VariableDeclaration(D,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){w=this.createNode();var R=this.nextToken().value;this.context.strict||this.lookahead.value!=="in"?(O=this.context.allowIn,this.context.allowIn=!1,D=this.parseBindingList(R,{inFor:!0}),this.context.allowIn=O,D.length===1&&D[0].init===null&&this.matchKeyword("in")?(w=this.finalize(w,new h.VariableDeclaration(D,R)),this.nextToken(),d=w,g=this.parseExpression(),w=null):D.length===1&&D[0].init===null&&this.matchContextualKeyword("of")?(w=this.finalize(w,new h.VariableDeclaration(D,R)),this.nextToken(),d=w,g=this.parseAssignmentExpression(),w=null,T=!1):(this.consumeSemicolon(),w=this.finalize(w,new h.VariableDeclaration(D,R)))):(w=this.finalize(w,new h.Identifier(R)),this.nextToken(),d=w,g=this.parseExpression(),w=null)}else{var E=this.lookahead;if(O=this.context.allowIn,this.context.allowIn=!1,w=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=O,this.matchKeyword("in"))this.context.isAssignmentTarget&&w.type!==v.Syntax.AssignmentExpression||this.tolerateError(l.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(w),d=w,g=this.parseExpression(),w=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&w.type!==v.Syntax.AssignmentExpression||this.tolerateError(l.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(w),d=w,g=this.parseAssignmentExpression(),w=null,T=!1;else{if(this.match(",")){for(var B=[w];this.match(",");)this.nextToken(),B.push(this.isolateCoverGrammar(this.parseAssignmentExpression));w=this.finalize(this.startNode(E),new h.SequenceExpression(B))}this.expect(";")}}if(d===void 0&&(this.match(";")||(C=this.parseExpression()),this.expect(";"),this.match(")")||(S=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),x=this.finalize(this.createNode(),new h.EmptyStatement);else{this.expect(")");var I=this.context.inIteration;this.context.inIteration=!0,x=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=I}return d===void 0?this.finalize(b,new h.ForStatement(w,C,S,x)):T?this.finalize(b,new h.ForInStatement(d,g,x)):this.finalize(b,new h.ForOfStatement(d,g,x))},m.prototype.parseContinueStatement=function(){var d=this.createNode();this.expectKeyword("continue");var g=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var x=this.parseVariableIdentifier();g=x;var w="$"+x.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,w)||this.throwError(l.Messages.UnknownLabel,x.name)}return this.consumeSemicolon(),g!==null||this.context.inIteration||this.throwError(l.Messages.IllegalContinue),this.finalize(d,new h.ContinueStatement(g))},m.prototype.parseBreakStatement=function(){var d=this.createNode();this.expectKeyword("break");var g=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var x=this.parseVariableIdentifier(),w="$"+x.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,w)||this.throwError(l.Messages.UnknownLabel,x.name),g=x}return this.consumeSemicolon(),g!==null||this.context.inIteration||this.context.inSwitch||this.throwError(l.Messages.IllegalBreak),this.finalize(d,new h.BreakStatement(g))},m.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(l.Messages.IllegalReturn);var d=this.createNode();this.expectKeyword("return");var g=(this.match(";")||this.match("}")||this.hasLineTerminator||this.lookahead.type===2)&&this.lookahead.type!==8&&this.lookahead.type!==10?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(d,new h.ReturnStatement(g))},m.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(l.Messages.StrictModeWith);var d,g=this.createNode();this.expectKeyword("with"),this.expect("(");var x=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new h.EmptyStatement)):(this.expect(")"),d=this.parseStatement()),this.finalize(g,new h.WithStatement(x,d))},m.prototype.parseSwitchCase=function(){var d,g=this.createNode();this.matchKeyword("default")?(this.nextToken(),d=null):(this.expectKeyword("case"),d=this.parseExpression()),this.expect(":");for(var x=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)x.push(this.parseStatementListItem());return this.finalize(g,new h.SwitchCase(d,x))},m.prototype.parseSwitchStatement=function(){var d=this.createNode();this.expectKeyword("switch"),this.expect("(");var g=this.parseExpression();this.expect(")");var x=this.context.inSwitch;this.context.inSwitch=!0;var w=[],C=!1;for(this.expect("{");!this.match("}");){var S=this.parseSwitchCase();S.test===null&&(C&&this.throwError(l.Messages.MultipleDefaultsInSwitch),C=!0),w.push(S)}return this.expect("}"),this.context.inSwitch=x,this.finalize(d,new h.SwitchStatement(g,w))},m.prototype.parseLabelledStatement=function(){var d,g=this.createNode(),x=this.parseExpression();if(x.type===v.Syntax.Identifier&&this.match(":")){this.nextToken();var w=x,C="$"+w.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,C)&&this.throwError(l.Messages.Redeclaration,"Label",w.name),this.context.labelSet[C]=!0;var S=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),S=this.parseClassDeclaration();else if(this.matchKeyword("function")){var T=this.lookahead,b=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(T,l.Messages.StrictFunction):b.generator&&this.tolerateUnexpectedToken(T,l.Messages.GeneratorInLegacyContext),S=b}else S=this.parseStatement();delete this.context.labelSet[C],d=new h.LabeledStatement(w,S)}else this.consumeSemicolon(),d=new h.ExpressionStatement(x);return this.finalize(g,d)},m.prototype.parseThrowStatement=function(){var d=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(l.Messages.NewlineAfterThrow);var g=this.parseExpression();return this.consumeSemicolon(),this.finalize(d,new h.ThrowStatement(g))},m.prototype.parseCatchClause=function(){var d=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var g=[],x=this.parsePattern(g),w={},C=0;C<g.length;C++){var S="$"+g[C].value;Object.prototype.hasOwnProperty.call(w,S)&&this.tolerateError(l.Messages.DuplicateBinding,g[C].value),w[S]=!0}this.context.strict&&x.type===v.Syntax.Identifier&&this.scanner.isRestrictedWord(x.name)&&this.tolerateError(l.Messages.StrictCatchVariable),this.expect(")");var T=this.parseBlock();return this.finalize(d,new h.CatchClause(x,T))},m.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},m.prototype.parseTryStatement=function(){var d=this.createNode();this.expectKeyword("try");var g=this.parseBlock(),x=this.matchKeyword("catch")?this.parseCatchClause():null,w=this.matchKeyword("finally")?this.parseFinallyClause():null;return x||w||this.throwError(l.Messages.NoCatchOrFinally),this.finalize(d,new h.TryStatement(g,x,w))},m.prototype.parseDebuggerStatement=function(){var d=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(d,new h.DebuggerStatement)},m.prototype.parseStatement=function(){var d;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:d=this.parseExpressionStatement();break;case 7:var g=this.lookahead.value;d=g==="{"?this.parseBlock():g==="("?this.parseExpressionStatement():g===";"?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:d=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":d=this.parseBreakStatement();break;case"continue":d=this.parseContinueStatement();break;case"debugger":d=this.parseDebuggerStatement();break;case"do":d=this.parseDoWhileStatement();break;case"for":d=this.parseForStatement();break;case"function":d=this.parseFunctionDeclaration();break;case"if":d=this.parseIfStatement();break;case"return":d=this.parseReturnStatement();break;case"switch":d=this.parseSwitchStatement();break;case"throw":d=this.parseThrowStatement();break;case"try":d=this.parseTryStatement();break;case"var":d=this.parseVariableStatement();break;case"while":d=this.parseWhileStatement();break;case"with":d=this.parseWithStatement();break;default:d=this.parseExpressionStatement()}break;default:d=this.throwUnexpectedToken(this.lookahead)}return d},m.prototype.parseFunctionSourceElements=function(){var d=this.createNode();this.expect("{");var g=this.parseDirectivePrologues(),x=this.context.labelSet,w=this.context.inIteration,C=this.context.inSwitch,S=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)g.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=x,this.context.inIteration=w,this.context.inSwitch=C,this.context.inFunctionBody=S,this.finalize(d,new h.BlockStatement(g))},m.prototype.validateParam=function(d,g,x){var w="$"+x;this.context.strict?(this.scanner.isRestrictedWord(x)&&(d.stricted=g,d.message=l.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(d.paramSet,w)&&(d.stricted=g,d.message=l.Messages.StrictParamDupe)):d.firstRestricted||(this.scanner.isRestrictedWord(x)?(d.firstRestricted=g,d.message=l.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(x)?(d.firstRestricted=g,d.message=l.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(d.paramSet,w)&&(d.stricted=g,d.message=l.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(d.paramSet,w,{value:!0,enumerable:!0,writable:!0,configurable:!0}):d.paramSet[w]=!0},m.prototype.parseRestElement=function(d){var g=this.createNode();this.expect("...");var x=this.parsePattern(d);return this.match("=")&&this.throwError(l.Messages.DefaultRestParameter),this.match(")")||this.throwError(l.Messages.ParameterAfterRestParameter),this.finalize(g,new h.RestElement(x))},m.prototype.parseFormalParameter=function(d){for(var g=[],x=this.match("...")?this.parseRestElement(g):this.parsePatternWithDefault(g),w=0;w<g.length;w++)this.validateParam(d,g[w],g[w].value);d.simple=d.simple&&x instanceof h.Identifier,d.params.push(x)},m.prototype.parseFormalParameters=function(d){var g;if(g={simple:!0,params:[],firstRestricted:d},this.expect("("),!this.match(")"))for(g.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(g),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:g.simple,params:g.params,stricted:g.stricted,firstRestricted:g.firstRestricted,message:g.message}},m.prototype.matchAsyncFunction=function(){var d=this.matchContextualKeyword("async");if(d){var g=this.scanner.saveState();this.scanner.scanComments();var x=this.scanner.lex();this.scanner.restoreState(g),d=g.lineNumber===x.lineNumber&&x.type===4&&x.value==="function"}return d},m.prototype.parseFunctionDeclaration=function(d){var g=this.createNode(),x=this.matchContextualKeyword("async");x&&this.nextToken(),this.expectKeyword("function");var w,C=!x&&this.match("*");C&&this.nextToken();var S=null,T=null;if(!d||!this.match("(")){var b=this.lookahead;S=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(b.value)&&this.tolerateUnexpectedToken(b,l.Messages.StrictFunctionName):this.scanner.isRestrictedWord(b.value)?(T=b,w=l.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(b.value)&&(T=b,w=l.Messages.StrictReservedWord)}var O=this.context.await,D=this.context.allowYield;this.context.await=x,this.context.allowYield=!C;var M=this.parseFormalParameters(T),R=M.params,E=M.stricted;T=M.firstRestricted,M.message&&(w=M.message);var B=this.context.strict,I=this.context.allowStrictDirective;this.context.allowStrictDirective=M.simple;var P=this.parseFunctionSourceElements();return this.context.strict&&T&&this.throwUnexpectedToken(T,w),this.context.strict&&E&&this.tolerateUnexpectedToken(E,w),this.context.strict=B,this.context.allowStrictDirective=I,this.context.await=O,this.context.allowYield=D,x?this.finalize(g,new h.AsyncFunctionDeclaration(S,R,P)):this.finalize(g,new h.FunctionDeclaration(S,R,P,C))},m.prototype.parseFunctionExpression=function(){var d=this.createNode(),g=this.matchContextualKeyword("async");g&&this.nextToken(),this.expectKeyword("function");var x,w=!g&&this.match("*");w&&this.nextToken();var C,S=null,T=this.context.await,b=this.context.allowYield;if(this.context.await=g,this.context.allowYield=!w,!this.match("(")){var O=this.lookahead;S=this.context.strict||w||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(O.value)&&this.tolerateUnexpectedToken(O,l.Messages.StrictFunctionName):this.scanner.isRestrictedWord(O.value)?(C=O,x=l.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(O.value)&&(C=O,x=l.Messages.StrictReservedWord)}var D=this.parseFormalParameters(C),M=D.params,R=D.stricted;C=D.firstRestricted,D.message&&(x=D.message);var E=this.context.strict,B=this.context.allowStrictDirective;this.context.allowStrictDirective=D.simple;var I=this.parseFunctionSourceElements();return this.context.strict&&C&&this.throwUnexpectedToken(C,x),this.context.strict&&R&&this.tolerateUnexpectedToken(R,x),this.context.strict=E,this.context.allowStrictDirective=B,this.context.await=T,this.context.allowYield=b,g?this.finalize(d,new h.AsyncFunctionExpression(S,M,I)):this.finalize(d,new h.FunctionExpression(S,M,I,w))},m.prototype.parseDirective=function(){var d=this.lookahead,g=this.createNode(),x=this.parseExpression(),w=x.type===v.Syntax.Literal?this.getTokenRaw(d).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(g,w?new h.Directive(x,w):new h.ExpressionStatement(x))},m.prototype.parseDirectivePrologues=function(){for(var d=null,g=[];;){var x=this.lookahead;if(x.type!==8)break;var w=this.parseDirective();g.push(w);var C=w.directive;if(typeof C!="string")break;C==="use strict"?(this.context.strict=!0,d&&this.tolerateUnexpectedToken(d,l.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(x,l.Messages.IllegalLanguageModeDirective)):!d&&x.octal&&(d=x)}return g},m.prototype.qualifiedPropertyName=function(d){switch(d.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return d.value==="["}return!1},m.prototype.parseGetterMethod=function(){var d=this.createNode(),g=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters();x.params.length>0&&this.tolerateError(l.Messages.BadGetterArity);var w=this.parsePropertyMethod(x);return this.context.allowYield=g,this.finalize(d,new h.FunctionExpression(null,x.params,w,!1))},m.prototype.parseSetterMethod=function(){var d=this.createNode(),g=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters();x.params.length!==1?this.tolerateError(l.Messages.BadSetterArity):x.params[0]instanceof h.RestElement&&this.tolerateError(l.Messages.BadSetterRestParameter);var w=this.parsePropertyMethod(x);return this.context.allowYield=g,this.finalize(d,new h.FunctionExpression(null,x.params,w,!1))},m.prototype.parseGeneratorMethod=function(){var d=this.createNode(),g=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters();this.context.allowYield=!1;var w=this.parsePropertyMethod(x);return this.context.allowYield=g,this.finalize(d,new h.FunctionExpression(null,x.params,w,!0))},m.prototype.isStartOfExpression=function(){var d=!0,g=this.lookahead.value;switch(this.lookahead.type){case 7:d=g==="["||g==="("||g==="{"||g==="+"||g==="-"||g==="!"||g==="~"||g==="++"||g==="--"||g==="/"||g==="/=";break;case 4:d=g==="class"||g==="delete"||g==="function"||g==="let"||g==="new"||g==="super"||g==="this"||g==="typeof"||g==="void"||g==="yield"}return d},m.prototype.parseYieldExpression=function(){var d=this.createNode();this.expectKeyword("yield");var g=null,x=!1;if(!this.hasLineTerminator){var w=this.context.allowYield;this.context.allowYield=!1,(x=this.match("*"))?(this.nextToken(),g=this.parseAssignmentExpression()):this.isStartOfExpression()&&(g=this.parseAssignmentExpression()),this.context.allowYield=w}return this.finalize(d,new h.YieldExpression(g,x))},m.prototype.parseClassElement=function(d){var g=this.lookahead,x=this.createNode(),w="",C=null,S=null,T=!1,b=!1,O=!1,D=!1;if(this.match("*"))this.nextToken();else if(T=this.match("["),(C=this.parseObjectPropertyKey()).name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(g=this.lookahead,O=!0,T=this.match("["),this.match("*")?this.nextToken():C=this.parseObjectPropertyKey()),g.type===3&&!this.hasLineTerminator&&g.value==="async"){var M=this.lookahead.value;M!==":"&&M!=="("&&M!=="*"&&(D=!0,g=this.lookahead,C=this.parseObjectPropertyKey(),g.type===3&&g.value==="constructor"&&this.tolerateUnexpectedToken(g,l.Messages.ConstructorIsAsync))}var R=this.qualifiedPropertyName(this.lookahead);return g.type===3?g.value==="get"&&R?(w="get",T=this.match("["),C=this.parseObjectPropertyKey(),this.context.allowYield=!1,S=this.parseGetterMethod()):g.value==="set"&&R&&(w="set",T=this.match("["),C=this.parseObjectPropertyKey(),S=this.parseSetterMethod()):g.type===7&&g.value==="*"&&R&&(w="init",T=this.match("["),C=this.parseObjectPropertyKey(),S=this.parseGeneratorMethod(),b=!0),!w&&C&&this.match("(")&&(w="init",S=D?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),b=!0),w||this.throwUnexpectedToken(this.lookahead),w==="init"&&(w="method"),T||(O&&this.isPropertyKey(C,"prototype")&&this.throwUnexpectedToken(g,l.Messages.StaticPrototype),!O&&this.isPropertyKey(C,"constructor")&&((w!=="method"||!b||S&&S.generator)&&this.throwUnexpectedToken(g,l.Messages.ConstructorSpecialMethod),d.value?this.throwUnexpectedToken(g,l.Messages.DuplicateConstructor):d.value=!0,w="constructor")),this.finalize(x,new h.MethodDefinition(C,T,S,w,O))},m.prototype.parseClassElementList=function(){var d=[],g={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():d.push(this.parseClassElement(g));return this.expect("}"),d},m.prototype.parseClassBody=function(){var d=this.createNode(),g=this.parseClassElementList();return this.finalize(d,new h.ClassBody(g))},m.prototype.parseClassDeclaration=function(d){var g=this.createNode(),x=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var w=d&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),C=null;this.matchKeyword("extends")&&(this.nextToken(),C=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var S=this.parseClassBody();return this.context.strict=x,this.finalize(g,new h.ClassDeclaration(w,C,S))},m.prototype.parseClassExpression=function(){var d=this.createNode(),g=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var x=this.lookahead.type===3?this.parseVariableIdentifier():null,w=null;this.matchKeyword("extends")&&(this.nextToken(),w=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var C=this.parseClassBody();return this.context.strict=g,this.finalize(d,new h.ClassExpression(x,w,C))},m.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var d=this.createNode(),g=this.parseDirectivePrologues();this.lookahead.type!==2;)g.push(this.parseStatementListItem());return this.finalize(d,new h.Module(g))},m.prototype.parseScript=function(){for(var d=this.createNode(),g=this.parseDirectivePrologues();this.lookahead.type!==2;)g.push(this.parseStatementListItem());return this.finalize(d,new h.Script(g))},m.prototype.parseModuleSpecifier=function(){var d=this.createNode();this.lookahead.type!==8&&this.throwError(l.Messages.InvalidModuleSpecifier);var g=this.nextToken(),x=this.getTokenRaw(g);return this.finalize(d,new h.Literal(g.value,x))},m.prototype.parseImportSpecifier=function(){var d,g,x=this.createNode();return this.lookahead.type===3?(g=d=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),g=this.parseVariableIdentifier())):(g=d=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),g=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(x,new h.ImportSpecifier(g,d))},m.prototype.parseNamedImports=function(){this.expect("{");for(var d=[];!this.match("}");)d.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),d},m.prototype.parseImportDefaultSpecifier=function(){var d=this.createNode(),g=this.parseIdentifierName();return this.finalize(d,new h.ImportDefaultSpecifier(g))},m.prototype.parseImportNamespaceSpecifier=function(){var d=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(l.Messages.NoAsAfterImportNamespace),this.nextToken();var g=this.parseIdentifierName();return this.finalize(d,new h.ImportNamespaceSpecifier(g))},m.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(l.Messages.IllegalImportDeclaration);var d,g=this.createNode();this.expectKeyword("import");var x=[];if(this.lookahead.type===8)d=this.parseModuleSpecifier();else{if(this.match("{")?x=x.concat(this.parseNamedImports()):this.match("*")?x.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(x.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?x.push(this.parseImportNamespaceSpecifier()):this.match("{")?x=x.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var w=this.lookahead.value?l.Messages.UnexpectedToken:l.Messages.MissingFromClause;this.throwError(w,this.lookahead.value)}this.nextToken(),d=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(g,new h.ImportDeclaration(x,d))},m.prototype.parseExportSpecifier=function(){var d=this.createNode(),g=this.parseIdentifierName(),x=g;return this.matchContextualKeyword("as")&&(this.nextToken(),x=this.parseIdentifierName()),this.finalize(d,new h.ExportSpecifier(g,x))},m.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(l.Messages.IllegalExportDeclaration);var d,g=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var x=this.parseFunctionDeclaration(!0);d=this.finalize(g,new h.ExportDefaultDeclaration(x))}else this.matchKeyword("class")?(x=this.parseClassDeclaration(!0),d=this.finalize(g,new h.ExportDefaultDeclaration(x))):this.matchContextualKeyword("async")?(x=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),d=this.finalize(g,new h.ExportDefaultDeclaration(x))):(this.matchContextualKeyword("from")&&this.throwError(l.Messages.UnexpectedToken,this.lookahead.value),x=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),d=this.finalize(g,new h.ExportDefaultDeclaration(x)));else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var w=this.lookahead.value?l.Messages.UnexpectedToken:l.Messages.MissingFromClause;this.throwError(w,this.lookahead.value)}this.nextToken();var C=this.parseModuleSpecifier();this.consumeSemicolon(),d=this.finalize(g,new h.ExportAllDeclaration(C))}else if(this.lookahead.type===4){switch(x=void 0,this.lookahead.value){case"let":case"const":x=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":x=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}d=this.finalize(g,new h.ExportNamedDeclaration(x,[],null))}else if(this.matchAsyncFunction())x=this.parseFunctionDeclaration(),d=this.finalize(g,new h.ExportNamedDeclaration(x,[],null));else{var S=[],T=null,b=!1;for(this.expect("{");!this.match("}");)b=b||this.matchKeyword("default"),S.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),T=this.parseModuleSpecifier(),this.consumeSemicolon()):b?(w=this.lookahead.value?l.Messages.UnexpectedToken:l.Messages.MissingFromClause,this.throwError(w,this.lookahead.value)):this.consumeSemicolon(),d=this.finalize(g,new h.ExportNamedDeclaration(null,S,T))}return d},m}();o.Parser=_},function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.assert=function(c,u){if(!c)throw new Error("ASSERT: "+u)}},function(s,o){Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function u(){this.errors=[],this.tolerant=!1}return u.prototype.recordError=function(f){this.errors.push(f)},u.prototype.tolerate=function(f){if(!this.tolerant)throw f;this.recordError(f)},u.prototype.constructError=function(f,l){var h=new Error(f);try{throw h}catch(p){Object.create&&Object.defineProperty&&(h=Object.create(p),Object.defineProperty(h,"column",{value:l}))}return h},u.prototype.createError=function(f,l,h,p){var v="Line "+l+": "+p,y=this.constructError(v,h);return y.index=f,y.lineNumber=l,y.description=p,y},u.prototype.throwError=function(f,l,h,p){throw this.createError(f,l,h,p)},u.prototype.tolerateError=function(f,l,h,p){var v=this.createError(f,l,h,p);if(!this.tolerant)throw v;this.recordError(v)},u}();o.ErrorHandler=c},function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(s,o,c){Object.defineProperty(o,"__esModule",{value:!0});var u=c(9),f=c(4),l=c(11);function h(y){return"0123456789abcdef".indexOf(y.toLowerCase())}function p(y){return"01234567".indexOf(y)}var v=function(){function y(_,m){this.source=_,this.errorHandler=m,this.trackComment=!1,this.isModule=!1,this.length=_.length,this.index=0,this.lineNumber=_.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return y.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},y.prototype.restoreState=function(_){this.index=_.index,this.lineNumber=_.lineNumber,this.lineStart=_.lineStart},y.prototype.eof=function(){return this.index>=this.length},y.prototype.throwUnexpectedToken=function(_){return _===void 0&&(_=l.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,_)},y.prototype.tolerateUnexpectedToken=function(_){_===void 0&&(_=l.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,_)},y.prototype.skipSingleLineComment=function(_){var m,d,g=[];for(this.trackComment&&(g=[],m=this.index-_,d={start:{line:this.lineNumber,column:this.index-this.lineStart-_},end:{}});!this.eof();){var x=this.source.charCodeAt(this.index);if(++this.index,f.Character.isLineTerminator(x)){if(this.trackComment){d.end={line:this.lineNumber,column:this.index-this.lineStart-1};var w={multiLine:!1,slice:[m+_,this.index-1],range:[m,this.index-1],loc:d};g.push(w)}return x===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,g}}return this.trackComment&&(d.end={line:this.lineNumber,column:this.index-this.lineStart},w={multiLine:!1,slice:[m+_,this.index],range:[m,this.index],loc:d},g.push(w)),g},y.prototype.skipMultiLineComment=function(){var _,m,d=[];for(this.trackComment&&(d=[],_=this.index-2,m={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var g=this.source.charCodeAt(this.index);if(f.Character.isLineTerminator(g))g===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(g===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){m.end={line:this.lineNumber,column:this.index-this.lineStart};var x={multiLine:!0,slice:[_+2,this.index-2],range:[_,this.index],loc:m};d.push(x)}return d}++this.index}else++this.index}return this.trackComment&&(m.end={line:this.lineNumber,column:this.index-this.lineStart},x={multiLine:!0,slice:[_+2,this.index],range:[_,this.index],loc:m},d.push(x)),this.tolerateUnexpectedToken(),d},y.prototype.scanComments=function(){var _;this.trackComment&&(_=[]);for(var m=this.index===0;!this.eof();){var d=this.source.charCodeAt(this.index);if(f.Character.isWhiteSpace(d))++this.index;else if(f.Character.isLineTerminator(d))++this.index,d===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,m=!0;else if(d===47)if((d=this.source.charCodeAt(this.index+1))===47){this.index+=2;var g=this.skipSingleLineComment(2);this.trackComment&&(_=_.concat(g)),m=!0}else{if(d!==42)break;this.index+=2,g=this.skipMultiLineComment(),this.trackComment&&(_=_.concat(g))}else if(m&&d===45){if(this.source.charCodeAt(this.index+1)!==45||this.source.charCodeAt(this.index+2)!==62)break;this.index+=3,g=this.skipSingleLineComment(3),this.trackComment&&(_=_.concat(g))}else{if(d!==60||this.isModule||this.source.slice(this.index+1,this.index+4)!=="!--")break;this.index+=4,g=this.skipSingleLineComment(4),this.trackComment&&(_=_.concat(g))}}return _},y.prototype.isFutureReservedWord=function(_){switch(_){case"enum":case"export":case"import":case"super":return!0;default:return!1}},y.prototype.isStrictModeReservedWord=function(_){switch(_){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},y.prototype.isRestrictedWord=function(_){return _==="eval"||_==="arguments"},y.prototype.isKeyword=function(_){switch(_.length){case 2:return _==="if"||_==="in"||_==="do";case 3:return _==="var"||_==="for"||_==="new"||_==="try"||_==="let";case 4:return _==="this"||_==="else"||_==="case"||_==="void"||_==="with"||_==="enum";case 5:return _==="while"||_==="break"||_==="catch"||_==="throw"||_==="const"||_==="yield"||_==="class"||_==="super";case 6:return _==="return"||_==="typeof"||_==="delete"||_==="switch"||_==="export"||_==="import";case 7:return _==="default"||_==="finally"||_==="extends";case 8:return _==="function"||_==="continue"||_==="debugger";case 10:return _==="instanceof";default:return!1}},y.prototype.codePointAt=function(_){var m=this.source.charCodeAt(_);if(m>=55296&&m<=56319){var d=this.source.charCodeAt(_+1);d>=56320&&d<=57343&&(m=1024*(m-55296)+d-56320+65536)}return m},y.prototype.scanHexEscape=function(_){for(var m=_==="u"?4:2,d=0,g=0;g<m;++g){if(this.eof()||!f.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;d=16*d+h(this.source[this.index++])}return String.fromCharCode(d)},y.prototype.scanUnicodeCodePointEscape=function(){var _=this.source[this.index],m=0;for(_==="}"&&this.throwUnexpectedToken();!this.eof()&&(_=this.source[this.index++],f.Character.isHexDigit(_.charCodeAt(0)));)m=16*m+h(_);return(m>1114111||_!=="}")&&this.throwUnexpectedToken(),f.Character.fromCodePoint(m)},y.prototype.getIdentifier=function(){for(var _=this.index++;!this.eof();){var m=this.source.charCodeAt(this.index);if(m===92)return this.index=_,this.getComplexIdentifier();if(m>=55296&&m<57343)return this.index=_,this.getComplexIdentifier();if(!f.Character.isIdentifierPart(m))break;++this.index}return this.source.slice(_,this.index)},y.prototype.getComplexIdentifier=function(){var _,m=this.codePointAt(this.index),d=f.Character.fromCodePoint(m);for(this.index+=d.length,m===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,_=this.scanUnicodeCodePointEscape()):(_=this.scanHexEscape("u"))!==null&&_!=="\\"&&f.Character.isIdentifierStart(_.charCodeAt(0))||this.throwUnexpectedToken(),d=_);!this.eof()&&(m=this.codePointAt(this.index),f.Character.isIdentifierPart(m));)d+=_=f.Character.fromCodePoint(m),this.index+=_.length,m===92&&(d=d.substr(0,d.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,_=this.scanUnicodeCodePointEscape()):(_=this.scanHexEscape("u"))!==null&&_!=="\\"&&f.Character.isIdentifierPart(_.charCodeAt(0))||this.throwUnexpectedToken(),d+=_);return d},y.prototype.octalToDecimal=function(_){var m=_!=="0",d=p(_);return!this.eof()&&f.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(m=!0,d=8*d+p(this.source[this.index++]),"0123".indexOf(_)>=0&&!this.eof()&&f.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(d=8*d+p(this.source[this.index++]))),{code:d,octal:m}},y.prototype.scanIdentifier=function(){var _,m=this.index,d=this.source.charCodeAt(m)===92?this.getComplexIdentifier():this.getIdentifier();if((_=d.length===1?3:this.isKeyword(d)?4:d==="null"?5:d==="true"||d==="false"?1:3)!=3&&m+d.length!==this.index){var g=this.index;this.index=m,this.tolerateUnexpectedToken(l.Messages.InvalidEscapedReservedWord),this.index=g}return{type:_,value:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},y.prototype.scanPunctuator=function(){var _=this.index,m=this.source[this.index];switch(m){case"(":case"{":m==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,m="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:(m=this.source.substr(this.index,4))===">>>="?this.index+=4:(m=m.substr(0,3))==="==="||m==="!=="||m===">>>"||m==="<<="||m===">>="||m==="**="?this.index+=3:(m=m.substr(0,2))==="&&"||m==="||"||m==="=="||m==="!="||m==="+="||m==="-="||m==="*="||m==="/="||m==="++"||m==="--"||m==="<<"||m===">>"||m==="&="||m==="|="||m==="^="||m==="%="||m==="<="||m===">="||m==="=>"||m==="**"?this.index+=2:(m=this.source[this.index],"<>=!+-*%&|^/".indexOf(m)>=0&&++this.index)}return this.index===_&&this.throwUnexpectedToken(),{type:7,value:m,lineNumber:this.lineNumber,lineStart:this.lineStart,start:_,end:this.index}},y.prototype.scanHexLiteral=function(_){for(var m="";!this.eof()&&f.Character.isHexDigit(this.source.charCodeAt(this.index));)m+=this.source[this.index++];return m.length===0&&this.throwUnexpectedToken(),f.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+m,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:_,end:this.index}},y.prototype.scanBinaryLiteral=function(_){for(var m,d="";!this.eof()&&((m=this.source[this.index])==="0"||m==="1");)d+=this.source[this.index++];return d.length===0&&this.throwUnexpectedToken(),this.eof()||(m=this.source.charCodeAt(this.index),(f.Character.isIdentifierStart(m)||f.Character.isDecimalDigit(m))&&this.throwUnexpectedToken()),{type:6,value:parseInt(d,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:_,end:this.index}},y.prototype.scanOctalLiteral=function(_,m){var d="",g=!1;for(f.Character.isOctalDigit(_.charCodeAt(0))?(g=!0,d="0"+this.source[this.index++]):++this.index;!this.eof()&&f.Character.isOctalDigit(this.source.charCodeAt(this.index));)d+=this.source[this.index++];return g||d.length!==0||this.throwUnexpectedToken(),(f.Character.isIdentifierStart(this.source.charCodeAt(this.index))||f.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(d,8),octal:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},y.prototype.isImplicitOctalLiteral=function(){for(var _=this.index+1;_<this.length;++_){var m=this.source[_];if(m==="8"||m==="9")return!1;if(!f.Character.isOctalDigit(m.charCodeAt(0)))return!0}return!0},y.prototype.scanNumericLiteral=function(){var _=this.index,m=this.source[_];u.assert(f.Character.isDecimalDigit(m.charCodeAt(0))||m===".","Numeric literal must start with a decimal digit or a decimal point");var d="";if(m!=="."){if(d=this.source[this.index++],m=this.source[this.index],d==="0"){if(m==="x"||m==="X")return++this.index,this.scanHexLiteral(_);if(m==="b"||m==="B")return++this.index,this.scanBinaryLiteral(_);if(m==="o"||m==="O")return this.scanOctalLiteral(m,_);if(m&&f.Character.isOctalDigit(m.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(m,_)}for(;f.Character.isDecimalDigit(this.source.charCodeAt(this.index));)d+=this.source[this.index++];m=this.source[this.index]}if(m==="."){for(d+=this.source[this.index++];f.Character.isDecimalDigit(this.source.charCodeAt(this.index));)d+=this.source[this.index++];m=this.source[this.index]}if(m==="e"||m==="E")if(d+=this.source[this.index++],(m=this.source[this.index])!=="+"&&m!=="-"||(d+=this.source[this.index++]),f.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;f.Character.isDecimalDigit(this.source.charCodeAt(this.index));)d+=this.source[this.index++];else this.throwUnexpectedToken();return f.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(d),lineNumber:this.lineNumber,lineStart:this.lineStart,start:_,end:this.index}},y.prototype.scanStringLiteral=function(){var _=this.index,m=this.source[_];u.assert(m==="'"||m==='"',"String literal must starts with a quote"),++this.index;for(var d=!1,g="";!this.eof();){var x=this.source[this.index++];if(x===m){m="";break}if(x==="\\")if((x=this.source[this.index++])&&f.Character.isLineTerminator(x.charCodeAt(0)))++this.lineNumber,x==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(x){case"u":if(this.source[this.index]==="{")++this.index,g+=this.scanUnicodeCodePointEscape();else{var w=this.scanHexEscape(x);w===null&&this.throwUnexpectedToken(),g+=w}break;case"x":var C=this.scanHexEscape(x);C===null&&this.throwUnexpectedToken(l.Messages.InvalidHexEscapeSequence),g+=C;break;case"n":g+=`
`;break;case"r":g+="\r";break;case"t":g+="	";break;case"b":g+="\b";break;case"f":g+="\f";break;case"v":g+="\v";break;case"8":case"9":g+=x,this.tolerateUnexpectedToken();break;default:if(x&&f.Character.isOctalDigit(x.charCodeAt(0))){var S=this.octalToDecimal(x);d=S.octal||d,g+=String.fromCharCode(S.code)}else g+=x}else{if(f.Character.isLineTerminator(x.charCodeAt(0)))break;g+=x}}return m!==""&&(this.index=_,this.throwUnexpectedToken()),{type:8,value:g,octal:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:_,end:this.index}},y.prototype.scanTemplate=function(){var _="",m=!1,d=this.index,g=this.source[d]==="`",x=!1,w=2;for(++this.index;!this.eof();){var C=this.source[this.index++];if(C==="`"){w=1,x=!0,m=!0;break}if(C==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,m=!0;break}_+=C}else if(C==="\\")if(C=this.source[this.index++],f.Character.isLineTerminator(C.charCodeAt(0)))++this.lineNumber,C==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(C){case"n":_+=`
`;break;case"r":_+="\r";break;case"t":_+="	";break;case"u":if(this.source[this.index]==="{")++this.index,_+=this.scanUnicodeCodePointEscape();else{var S=this.index,T=this.scanHexEscape(C);T!==null?_+=T:(this.index=S,_+=C)}break;case"x":var b=this.scanHexEscape(C);b===null&&this.throwUnexpectedToken(l.Messages.InvalidHexEscapeSequence),_+=b;break;case"b":_+="\b";break;case"f":_+="\f";break;case"v":_+="\v";break;default:C==="0"?(f.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(l.Messages.TemplateOctalLiteral),_+="\0"):f.Character.isOctalDigit(C.charCodeAt(0))?this.throwUnexpectedToken(l.Messages.TemplateOctalLiteral):_+=C}else f.Character.isLineTerminator(C.charCodeAt(0))?(++this.lineNumber,C==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,_+=`
`):_+=C}return m||this.throwUnexpectedToken(),g||this.curlyStack.pop(),{type:10,value:this.source.slice(d+1,this.index-w),cooked:_,head:g,tail:x,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},y.prototype.testRegExp=function(_,m){var d=_,g=this;m.indexOf("u")>=0&&(d=d.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(x,w,C){var S=parseInt(w||C,16);return S>1114111&&g.throwUnexpectedToken(l.Messages.InvalidRegExp),S<=65535?String.fromCharCode(S):"\uFFFF"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"\uFFFF"));try{RegExp(d)}catch{this.throwUnexpectedToken(l.Messages.InvalidRegExp)}try{return new RegExp(_,m)}catch{return null}},y.prototype.scanRegExpBody=function(){var _=this.source[this.index];u.assert(_==="/","Regular expression literal must start with a slash");for(var m=this.source[this.index++],d=!1,g=!1;!this.eof();)if(m+=_=this.source[this.index++],_==="\\")_=this.source[this.index++],f.Character.isLineTerminator(_.charCodeAt(0))&&this.throwUnexpectedToken(l.Messages.UnterminatedRegExp),m+=_;else if(f.Character.isLineTerminator(_.charCodeAt(0)))this.throwUnexpectedToken(l.Messages.UnterminatedRegExp);else if(d)_==="]"&&(d=!1);else{if(_==="/"){g=!0;break}_==="["&&(d=!0)}return g||this.throwUnexpectedToken(l.Messages.UnterminatedRegExp),m.substr(1,m.length-2)},y.prototype.scanRegExpFlags=function(){for(var _="";!this.eof();){var m=this.source[this.index];if(!f.Character.isIdentifierPart(m.charCodeAt(0)))break;if(++this.index,m!=="\\"||this.eof())_+=m;else if((m=this.source[this.index])==="u"){++this.index;var d=this.index,g=this.scanHexEscape("u");if(g!==null)for(_+=g;d<this.index;++d)this.source[d];else this.index=d,_+="u";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return _},y.prototype.scanRegExp=function(){var _=this.index,m=this.scanRegExpBody(),d=this.scanRegExpFlags();return{type:9,value:"",pattern:m,flags:d,regex:this.testRegExp(m,d),lineNumber:this.lineNumber,lineStart:this.lineStart,start:_,end:this.index}},y.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var _=this.source.charCodeAt(this.index);return f.Character.isIdentifierStart(_)?this.scanIdentifier():_===40||_===41||_===59?this.scanPunctuator():_===39||_===34?this.scanStringLiteral():_===46?f.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():f.Character.isDecimalDigit(_)?this.scanNumericLiteral():_===96||_===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():_>=55296&&_<57343&&f.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},y}();o.Scanner=v},function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.TokenName={},o.TokenName[1]="Boolean",o.TokenName[2]="<end>",o.TokenName[3]="Identifier",o.TokenName[4]="Keyword",o.TokenName[5]="Null",o.TokenName[6]="Numeric",o.TokenName[7]="Punctuator",o.TokenName[8]="String",o.TokenName[9]="RegularExpression",o.TokenName[10]="Template"},function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27E8",rang:"\u27E9"}},function(s,o,c){Object.defineProperty(o,"__esModule",{value:!0});var u=c(10),f=c(12),l=c(13),h=function(){function v(){this.values=[],this.curly=this.paren=-1}return v.prototype.beforeFunctionExpression=function(y){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(y)>=0},v.prototype.isRegexStart=function(){var y=this.values[this.values.length-1],_=y!==null;switch(y){case"this":case"]":_=!1;break;case")":var m=this.values[this.paren-1];_=m==="if"||m==="while"||m==="for"||m==="with";break;case"}":if(_=!1,this.values[this.curly-3]==="function")_=!!(d=this.values[this.curly-4])&&!this.beforeFunctionExpression(d);else if(this.values[this.curly-4]==="function"){var d;_=!(d=this.values[this.curly-5])||!this.beforeFunctionExpression(d)}}return _},v.prototype.push=function(y){y.type===7||y.type===4?(y.value==="{"?this.curly=this.values.length:y.value==="("&&(this.paren=this.values.length),this.values.push(y.value)):this.values.push(null)},v}(),p=function(){function v(y,_){this.errorHandler=new u.ErrorHandler,this.errorHandler.tolerant=!!_&&typeof _.tolerant=="boolean"&&_.tolerant,this.scanner=new f.Scanner(y,this.errorHandler),this.scanner.trackComment=!!_&&typeof _.comment=="boolean"&&_.comment,this.trackRange=!!_&&typeof _.range=="boolean"&&_.range,this.trackLoc=!!_&&typeof _.loc=="boolean"&&_.loc,this.buffer=[],this.reader=new h}return v.prototype.errors=function(){return this.errorHandler.errors},v.prototype.getNextToken=function(){if(this.buffer.length===0){var y=this.scanner.scanComments();if(this.scanner.trackComment)for(var _=0;_<y.length;++_){var m=y[_],d=this.scanner.source.slice(m.slice[0],m.slice[1]),g={type:m.multiLine?"BlockComment":"LineComment",value:d};this.trackRange&&(g.range=m.range),this.trackLoc&&(g.loc=m.loc),this.buffer.push(g)}if(!this.scanner.eof()){var x=void 0;this.trackLoc&&(x={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var w=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(w);var C={type:l.TokenName[w.type],value:this.scanner.source.slice(w.start,w.end)};if(this.trackRange&&(C.range=[w.start,w.end]),this.trackLoc&&(x.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},C.loc=x),w.type===9){var S=w.pattern,T=w.flags;C.regex={pattern:S,flags:T}}this.buffer.push(C)}}return this.buffer.shift()},v}();o.Tokenizer=p}])},n.exports=i()},function(n,r,a){var i=a(38),s=a(53),o=a(76),c=a(54),u=Object.prototype.toString,f=Object.prototype.hasOwnProperty,l={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},h=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function p(E){var B,I,P;if(B=E.toString(16).toUpperCase(),E<=255)I="x",P=2;else if(E<=65535)I="u",P=4;else{if(!(E<=4294967295))throw new s("code point within a string may not be greater than 0xFFFFFFFF");I="U",P=8}return"\\"+I+i.repeat("0",P-B.length)+B}function v(E){this.schema=E.schema||o,this.indent=Math.max(1,E.indent||2),this.noArrayIndent=E.noArrayIndent||!1,this.skipInvalid=E.skipInvalid||!1,this.flowLevel=i.isNothing(E.flowLevel)?-1:E.flowLevel,this.styleMap=function(B,I){var P,L,F,G,$,H,J;if(I===null)return{};for(P={},F=0,G=(L=Object.keys(I)).length;F<G;F+=1)$=L[F],H=String(I[$]),$.slice(0,2)==="!!"&&($="tag:yaml.org,2002:"+$.slice(2)),(J=B.compiledTypeMap.fallback[$])&&f.call(J.styleAliases,H)&&(H=J.styleAliases[H]),P[$]=H;return P}(this.schema,E.styles||null),this.sortKeys=E.sortKeys||!1,this.lineWidth=E.lineWidth||80,this.noRefs=E.noRefs||!1,this.noCompatMode=E.noCompatMode||!1,this.condenseFlow=E.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function y(E,B){for(var I,P=i.repeat(" ",B),L=0,F=-1,G="",$=E.length;L<$;)(F=E.indexOf(`
`,L))===-1?(I=E.slice(L),L=$):(I=E.slice(L,F+1),L=F+1),I.length&&I!==`
`&&(G+=P),G+=I;return G}function _(E,B){return`
`+i.repeat(" ",E.indent*B)}function m(E){return E===32||E===9}function d(E){return 32<=E&&E<=126||161<=E&&E<=55295&&E!==8232&&E!==8233||57344<=E&&E<=65533&&E!==65279||65536<=E&&E<=1114111}function g(E,B){return d(E)&&E!==65279&&E!==44&&E!==91&&E!==93&&E!==123&&E!==125&&E!==58&&(E!==35||B&&function(I){return d(I)&&!m(I)&&I!==65279&&I!==13&&I!==10}(B))}function x(E){return/^\n* /.test(E)}function w(E,B,I,P,L){var F,G,$,H,J=!1,Q=!1,q=P!==-1,ne=-1,re=d(H=E.charCodeAt(0))&&H!==65279&&!m(H)&&H!==45&&H!==63&&H!==58&&H!==44&&H!==91&&H!==93&&H!==123&&H!==125&&H!==35&&H!==38&&H!==42&&H!==33&&H!==124&&H!==61&&H!==62&&H!==39&&H!==34&&H!==37&&H!==64&&H!==96&&!m(E.charCodeAt(E.length-1));if(B)for(F=0;F<E.length;F++){if(!d(G=E.charCodeAt(F)))return 5;$=F>0?E.charCodeAt(F-1):null,re=re&&g(G,$)}else{for(F=0;F<E.length;F++){if((G=E.charCodeAt(F))===10)J=!0,q&&(Q=Q||F-ne-1>P&&E[ne+1]!==" ",ne=F);else if(!d(G))return 5;$=F>0?E.charCodeAt(F-1):null,re=re&&g(G,$)}Q=Q||q&&F-ne-1>P&&E[ne+1]!==" "}return J||Q?I>9&&x(E)?5:Q?4:3:re&&!L(E)?1:2}function C(E,B,I,P){E.dump=function(){if(B.length===0)return"''";if(!E.noCompatMode&&h.indexOf(B)!==-1)return"'"+B+"'";var L=E.indent*Math.max(1,I),F=E.lineWidth===-1?-1:Math.max(Math.min(E.lineWidth,40),E.lineWidth-L),G=P||E.flowLevel>-1&&I>=E.flowLevel;switch(w(B,G,E.indent,F,function($){return function(H,J){var Q,q;for(Q=0,q=H.implicitTypes.length;Q<q;Q+=1)if(H.implicitTypes[Q].resolve(J))return!0;return!1}(E,$)})){case 1:return B;case 2:return"'"+B.replace(/'/g,"''")+"'";case 3:return"|"+S(B,E.indent)+T(y(B,L));case 4:return">"+S(B,E.indent)+T(y(function($,H){for(var J,Q,q=/(\n+)([^\n]*)/g,ne=(oe=$.indexOf(`
`),oe=oe!==-1?oe:$.length,q.lastIndex=oe,b($.slice(0,oe),H)),re=$[0]===`
`||$[0]===" ",oe;Q=q.exec($);){var te=Q[1],A=Q[2];J=A[0]===" ",ne+=te+(re||J||A===""?"":`
`)+b(A,H),re=J}return ne}(B,F),L));case 5:return'"'+function($){for(var H,J,Q,q="",ne=0;ne<$.length;ne++)(H=$.charCodeAt(ne))>=55296&&H<=56319&&(J=$.charCodeAt(ne+1))>=56320&&J<=57343?(q+=p(1024*(H-55296)+J-56320+65536),ne++):(Q=l[H],q+=!Q&&d(H)?$[ne]:Q||p(H));return q}(B)+'"';default:throw new s("impossible error: invalid scalar style")}}()}function S(E,B){var I=x(E)?String(B):"",P=E[E.length-1]===`
`;return I+(P&&(E[E.length-2]===`
`||E===`
`)?"+":P?"":"-")+`
`}function T(E){return E[E.length-1]===`
`?E.slice(0,-1):E}function b(E,B){if(E===""||E[0]===" ")return E;for(var I,P,L=/ [^ ]/g,F=0,G=0,$=0,H="";I=L.exec(E);)($=I.index)-F>B&&(P=G>F?G:$,H+=`
`+E.slice(F,P),F=P+1),G=$;return H+=`
`,E.length-F>B&&G>F?H+=E.slice(F,G)+`
`+E.slice(G+1):H+=E.slice(F),H.slice(1)}function O(E,B,I){var P,L,F,G,$,H;for(F=0,G=(L=I?E.explicitTypes:E.implicitTypes).length;F<G;F+=1)if((($=L[F]).instanceOf||$.predicate)&&(!$.instanceOf||typeof B=="object"&&B instanceof $.instanceOf)&&(!$.predicate||$.predicate(B))){if(E.tag=I?$.tag:"?",$.represent){if(H=E.styleMap[$.tag]||$.defaultStyle,u.call($.represent)==="[object Function]")P=$.represent(B,H);else{if(!f.call($.represent,H))throw new s("!<"+$.tag+'> tag resolver accepts not "'+H+'" style');P=$.represent[H](B,H)}E.dump=P}return!0}return!1}function D(E,B,I,P,L,F){E.tag=null,E.dump=I,O(E,I,!1)||O(E,I,!0);var G=u.call(E.dump);P&&(P=E.flowLevel<0||E.flowLevel>B);var $,H,J=G==="[object Object]"||G==="[object Array]";if(J&&(H=($=E.duplicates.indexOf(I))!==-1),(E.tag!==null&&E.tag!=="?"||H||E.indent!==2&&B>0)&&(L=!1),H&&E.usedDuplicates[$])E.dump="*ref_"+$;else{if(J&&H&&!E.usedDuplicates[$]&&(E.usedDuplicates[$]=!0),G==="[object Object]")P&&Object.keys(E.dump).length!==0?(function(q,ne,re,oe){var te,A,N,U,V,k,z="",j=q.tag,K=Object.keys(re);if(q.sortKeys===!0)K.sort();else if(typeof q.sortKeys=="function")K.sort(q.sortKeys);else if(q.sortKeys)throw new s("sortKeys must be a boolean or a function");for(te=0,A=K.length;te<A;te+=1)k="",oe&&te===0||(k+=_(q,ne)),U=re[N=K[te]],D(q,ne+1,N,!0,!0,!0)&&((V=q.tag!==null&&q.tag!=="?"||q.dump&&q.dump.length>1024)&&(q.dump&&q.dump.charCodeAt(0)===10?k+="?":k+="? "),k+=q.dump,V&&(k+=_(q,ne)),D(q,ne+1,U,!0,V)&&(q.dump&&q.dump.charCodeAt(0)===10?k+=":":k+=": ",z+=k+=q.dump));q.tag=j,q.dump=z||"{}"}(E,B,E.dump,L),H&&(E.dump="&ref_"+$+E.dump)):(function(q,ne,re){var oe,te,A,N,U,V="",k=q.tag,z=Object.keys(re);for(oe=0,te=z.length;oe<te;oe+=1)U="",oe!==0&&(U+=", "),q.condenseFlow&&(U+='"'),N=re[A=z[oe]],D(q,ne,A,!1,!1)&&(q.dump.length>1024&&(U+="? "),U+=q.dump+(q.condenseFlow?'"':"")+":"+(q.condenseFlow?"":" "),D(q,ne,N,!1,!1)&&(V+=U+=q.dump));q.tag=k,q.dump="{"+V+"}"}(E,B,E.dump),H&&(E.dump="&ref_"+$+" "+E.dump));else if(G==="[object Array]"){var Q=E.noArrayIndent&&B>0?B-1:B;P&&E.dump.length!==0?(function(q,ne,re,oe){var te,A,N="",U=q.tag;for(te=0,A=re.length;te<A;te+=1)D(q,ne+1,re[te],!0,!0)&&(oe&&te===0||(N+=_(q,ne)),q.dump&&q.dump.charCodeAt(0)===10?N+="-":N+="- ",N+=q.dump);q.tag=U,q.dump=N||"[]"}(E,Q,E.dump,L),H&&(E.dump="&ref_"+$+E.dump)):(function(q,ne,re){var oe,te,A="",N=q.tag;for(oe=0,te=re.length;oe<te;oe+=1)D(q,ne,re[oe],!1,!1)&&(oe!==0&&(A+=","+(q.condenseFlow?"":" ")),A+=q.dump);q.tag=N,q.dump="["+A+"]"}(E,Q,E.dump),H&&(E.dump="&ref_"+$+" "+E.dump))}else{if(G!=="[object String]"){if(E.skipInvalid)return!1;throw new s("unacceptable kind of an object to dump "+G)}E.tag!=="?"&&C(E,E.dump,B,F)}E.tag!==null&&E.tag!=="?"&&(E.dump="!<"+E.tag+"> "+E.dump)}return!0}function M(E,B){var I,P,L=[],F=[];for(function G($,H,J){var Q,q,ne;if($!==null&&typeof $=="object")if((q=H.indexOf($))!==-1)J.indexOf(q)===-1&&J.push(q);else if(H.push($),Array.isArray($))for(q=0,ne=$.length;q<ne;q+=1)G($[q],H,J);else for(Q=Object.keys($),q=0,ne=Q.length;q<ne;q+=1)G($[Q[q]],H,J)}(E,L,F),I=0,P=F.length;I<P;I+=1)B.duplicates.push(L[F[I]]);B.usedDuplicates=new Array(P)}function R(E,B){var I=new v(B=B||{});return I.noRefs||M(E,I),D(I,0,E,!0,!0)?I.dump+`
`:""}n.exports.dump=R,n.exports.safeDump=function(E,B){return R(E,i.extend({schema:c},B))}},function(n,r,a){a(31),a(32),a(33),a(64),a(19),a(65),a(20),a(68),a(92),a(144),a(22),a(94),a(23);var i,s=this&&this.__extends||(i=function(w,C){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var b in T)T.hasOwnProperty(b)&&(S[b]=T[b])})(w,C)},function(w,C){function S(){this.constructor=w}i(w,C),w.prototype=C===null?Object.create(C):(S.prototype=C.prototype,new S)}),o=this&&this.__values||function(w){var C=typeof Symbol=="function"&&Symbol.iterator,S=C&&w[C],T=0;if(S)return S.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&T>=w.length&&(w=void 0),{value:w&&w[T++],done:!w}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(w,C){var S=typeof Symbol=="function"&&w[Symbol.iterator];if(!S)return w;var T,b,O=S.call(w),D=[];try{for(;(C===void 0||C-- >0)&&!(T=O.next()).done;)D.push(T.value)}catch(M){b={error:M}}finally{try{T&&!T.done&&(S=O.return)&&S.call(O)}finally{if(b)throw b.error}}return D};Object.defineProperty(r,"__esModule",{value:!0});var u=a(91),f=a(1),l=a(183),h=a(0),p=a(7),v=a(95),y=a(69),_=a(3),m=a(305),d=a(306),g=a(307),x=function(w){function C(S,T){T===void 0&&(T=!1);var b=w.call(this)||this;return b._hasDeclaration=!1,b._docTypeName="",b._hasDocumentElement=!1,b._currentElementSerialized=!1,b._openTags=[],b._ended=!1,b._fragment=T,b._options=f.applyDefaults(S||{},u.DefaultXMLBuilderCBOptions),b._builderOptions={defaultNamespace:b._options.defaultNamespace,namespaceAlias:b._options.namespaceAlias},b._options.format==="json"?b._writer=new d.JSONCBWriter(b._options):b._options.format==="yaml"?b._writer=new g.YAMLCBWriter(b._options):b._writer=new m.XMLCBWriter(b._options),b._options.data!==void 0&&b.on("data",b._options.data),b._options.end!==void 0&&b.on("end",b._options.end),b._options.error!==void 0&&b.on("error",b._options.error),b._prefixMap=new v.NamespacePrefixMap,b._prefixMap.set("xml",p.namespace.XML),b._prefixIndex={value:1},b._push(b._writer.frontMatter()),b}return s(C,w),C.prototype.ele=function(S,T,b){var O,D;if(f.isObject(S)||f.isString(S)&&(/^\s*</.test(S)||/^\s*[\{\[]/.test(S)||/^(\s*|(#.*)|(%.*))*---/.test(S))){var M=l.fragment().set(this._options);try{M.ele(S)}catch(I){return this.emit("error",I),this}try{for(var R=o(M.node.childNodes),E=R.next();!E.done;E=R.next()){var B=E.value;this._fromNode(B)}}catch(I){O={error:I}}finally{try{E&&!E.done&&(D=R.return)&&D.call(R)}finally{if(O)throw O.error}}return this}if(this._serializeOpenTag(!0),!this._fragment&&this._hasDocumentElement&&this._writer.level===0)return this.emit("error",new Error("Document cannot have multiple document element nodes.")),this;try{this._currentElement=l.fragment(this._builderOptions).ele(S,T,b)}catch(I){return this.emit("error",I),this}return this._fragment||this._hasDocumentElement||this._docTypeName===""||this._currentElement.node._qualifiedName===this._docTypeName?(this._currentElementSerialized=!1,this._fragment||(this._hasDocumentElement=!0),this):(this.emit("error",new Error("Document element name does not match DocType declaration name.")),this)},C.prototype.att=function(S,T,b){if(this._currentElement===void 0)return this.emit("error",new Error("Cannot insert an attribute node as child of a document node.")),this;try{this._currentElement.att(S,T,b)}catch(O){return this.emit("error",O),this}return this},C.prototype.com=function(S){var T;this._serializeOpenTag(!0);try{T=l.fragment(this._builderOptions).com(S).first().node}catch(b){return this.emit("error",b),this}return!this._options.wellFormed||h.xml_isLegalChar(T.data)&&T.data.indexOf("--")===-1&&!T.data.endsWith("-")?(this._push(this._writer.comment(T.data)),this):(this.emit("error",new Error("Comment data contains invalid characters (well-formed required).")),this)},C.prototype.txt=function(S){if(!this._fragment&&this._currentElement===void 0)return this.emit("error",new Error("Cannot insert a text node as child of a document node.")),this;var T;this._serializeOpenTag(!0);try{T=l.fragment(this._builderOptions).txt(S).first().node}catch(O){return this.emit("error",O),this}if(this._options.wellFormed&&!h.xml_isLegalChar(T.data))return this.emit("error",new Error("Text data contains invalid characters (well-formed required).")),this;var b=T.data.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return this._push(this._writer.text(b)),this},C.prototype.ins=function(S,T){var b;T===void 0&&(T=""),this._serializeOpenTag(!0);try{b=l.fragment(this._builderOptions).ins(S,T).first().node}catch(O){return this.emit("error",O),this}return this._options.wellFormed&&(b.target.indexOf(":")!==-1||/^xml$/i.test(b.target))?(this.emit("error",new Error("Processing instruction target contains invalid characters (well-formed required).")),this):this._options.wellFormed&&!h.xml_isLegalChar(b.data)?(this.emit("error",Error("Processing instruction data contains invalid characters (well-formed required).")),this):(this._push(this._writer.instruction(b.target,b.data)),this)},C.prototype.dat=function(S){var T;this._serializeOpenTag(!0);try{T=l.fragment(this._builderOptions).dat(S).first().node}catch(b){return this.emit("error",b),this}return this._push(this._writer.cdata(T.data)),this},C.prototype.dec=function(S){return S===void 0&&(S={version:"1.0"}),this._fragment?(this.emit("error",Error("Cannot insert an XML declaration into a document fragment.")),this):this._hasDeclaration?(this.emit("error",Error("XML declaration is already inserted.")),this):(this._push(this._writer.declaration(S.version||"1.0",S.encoding,S.standalone)),this._hasDeclaration=!0,this)},C.prototype.dtd=function(S){if(this._fragment)return this.emit("error",Error("Cannot insert a DocType declaration into a document fragment.")),this;if(this._docTypeName!=="")return this.emit("error",new Error("DocType declaration is already inserted.")),this;if(this._hasDocumentElement)return this.emit("error",new Error("Cannot insert DocType declaration after document element.")),this;var T;try{T=l.create().dtd(S).first().node}catch(b){return this.emit("error",b),this}return this._options.wellFormed&&!h.xml_isPubidChar(T.publicId)?(this.emit("error",new Error("DocType public identifier does not match PubidChar construct (well-formed required).")),this):this._options.wellFormed&&(!h.xml_isLegalChar(T.systemId)||T.systemId.indexOf('"')!==-1&&T.systemId.indexOf("'")!==-1)?(this.emit("error",new Error("DocType system identifier contains invalid characters (well-formed required).")),this):(this._docTypeName=S.name,this._push(this._writer.docType(S.name,T.publicId,T.systemId)),this)},C.prototype.import=function(S){var T,b,O=l.fragment().set(this._options);try{O.import(S)}catch(E){return this.emit("error",E),this}try{for(var D=o(O.node.childNodes),M=D.next();!M.done;M=D.next()){var R=M.value;this._fromNode(R)}}catch(E){T={error:E}}finally{try{M&&!M.done&&(b=D.return)&&b.call(D)}finally{if(T)throw T.error}}return this},C.prototype.up=function(){return this._serializeOpenTag(!1),this._serializeCloseTag(),this},C.prototype.end=function(){for(this._serializeOpenTag(!1);this._openTags.length>0;)this._serializeCloseTag();return this._push(null),this},C.prototype._serializeOpenTag=function(S){if(!this._currentElementSerialized&&this._currentElement!==void 0){var T=this._currentElement.node;if(!this._options.wellFormed||T.localName.indexOf(":")===-1&&h.xml_isName(T.localName)){var b="",O=!1,D=this._prefixMap.copy(),M={},R=this._recordNamespaceInformation(T,D,M),E=this._openTags.length===0?null:this._openTags[this._openTags.length-1][1],B=T.namespaceURI;if(B===null&&(B=E),E===B)R!==null&&(O=!0),b=B===p.namespace.XML?"xml:"+T.localName:T.localName,this._writer.beginElement(b),this._push(this._writer.openTagBegin(b));else{var I=T.prefix,P=null;if(I===null&&B===R||(P=D.get(I,B)),I==="xmlns"){if(this._options.wellFormed)return void this.emit("error",new Error("An element cannot have the 'xmlns' prefix (well-formed required)."));P=I}P!==null?(b=P+":"+T.localName,R!==null&&R!==p.namespace.XML&&(E=R||null),this._writer.beginElement(b),this._push(this._writer.openTagBegin(b))):I!==null?(I in M&&(I=this._generatePrefix(B,D,this._prefixIndex)),D.set(I,B),b+=I+":"+T.localName,this._writer.beginElement(b),this._push(this._writer.openTagBegin(b)),this._push(this._writer.attribute("xmlns:"+I,this._serializeAttributeValue(B,this._options.wellFormed))),R!==null&&(E=R||null)):R===null||R!==null&&R!==B?(O=!0,b+=T.localName,E=B,this._writer.beginElement(b),this._push(this._writer.openTagBegin(b)),this._push(this._writer.attribute("xmlns",this._serializeAttributeValue(B,this._options.wellFormed)))):(b+=T.localName,E=B,this._writer.beginElement(b),this._push(this._writer.openTagBegin(b)))}this._serializeAttributes(T,D,this._prefixIndex,M,O,this._options.wellFormed);var L=B===p.namespace.HTML;L&&!S&&C._VoidElementNames.has(T.localName)?(this._push(this._writer.openTagEnd(b,!0,!0)),this._writer.endElement(b)):L||S?this._push(this._writer.openTagEnd(b,!1,!1)):(this._push(this._writer.openTagEnd(b,!0,!1)),this._writer.endElement(b)),this._currentElementSerialized=!0,this._openTags.push([b,E,this._prefixMap,S]),this._isPrefixMapModified(this._prefixMap,D)&&(this._prefixMap=D),this._writer.level++}else this.emit("error",new Error("Node local name contains invalid characters (well-formed required)."))}},C.prototype._serializeCloseTag=function(){this._writer.level--;var S=this._openTags.pop();if(S!==void 0){var T=c(S,4),b=T[0],O=(T[1],T[2]),D=T[3];this._prefixMap=O,D&&(this._push(this._writer.closeTag(b)),this._writer.endElement(b))}else this.emit("error",new Error("Last element is undefined."))},C.prototype._push=function(S){S===null?(this._ended=!0,this.emit("end")):this._ended?this.emit("error",new Error("Cannot push to ended stream.")):S.length!==0&&(this._writer.hasData=!0,this.emit("data",S,this._writer.level))},C.prototype._fromNode=function(S){var T,b,O,D;if(_.Guard.isElementNode(S)){var M=S.prefix?S.prefix+":"+S.localName:S.localName;S.namespaceURI!==null?this.ele(S.namespaceURI,M):this.ele(M);try{for(var R=o(S.attributes),E=R.next();!E.done;E=R.next()){var B=E.value,I=B.prefix?B.prefix+":"+B.localName:B.localName;B.namespaceURI!==null?this.att(B.namespaceURI,I,B.value):this.att(I,B.value)}}catch(G){T={error:G}}finally{try{E&&!E.done&&(b=R.return)&&b.call(R)}finally{if(T)throw T.error}}try{for(var P=o(S.childNodes),L=P.next();!L.done;L=P.next()){var F=L.value;this._fromNode(F)}}catch(G){O={error:G}}finally{try{L&&!L.done&&(D=P.return)&&D.call(P)}finally{if(O)throw O.error}}this.up()}else _.Guard.isExclusiveTextNode(S)&&S.data?this.txt(S.data):_.Guard.isCommentNode(S)?this.com(S.data):_.Guard.isCDATASectionNode(S)?this.dat(S.data):_.Guard.isProcessingInstructionNode(S)&&this.ins(S.target,S.data)},C.prototype._serializeAttributes=function(S,T,b,O,D,M){var R,E,B=M?new y.LocalNameSet:void 0;try{for(var I=o(S.attributes),P=I.next();!P.done;P=I.next()){var L=P.value;if(M||D||L.namespaceURI!==null){if(M&&B&&B.has(L.namespaceURI,L.localName))return void this.emit("error",new Error("Element contains duplicate attributes (well-formed required)."));M&&B&&B.set(L.namespaceURI,L.localName);var F=L.namespaceURI,G=null;if(F!==null)if(G=T.get(L.prefix,F),F===p.namespace.XMLNS){if(L.value===p.namespace.XML||L.prefix===null&&D||L.prefix!==null&&(!(L.localName in O)||O[L.localName]!==L.value)&&T.has(L.localName,L.value))continue;if(M&&L.value===p.namespace.XMLNS)return void this.emit("error",new Error("XMLNS namespace is reserved (well-formed required)."));if(M&&L.value==="")return void this.emit("error",new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required)."));L.prefix==="xmlns"&&(G="xmlns")}else G===null&&(G=L.prefix===null||T.hasPrefix(L.prefix)&&!T.has(L.prefix,F)?this._generatePrefix(F,T,b):L.prefix,this._push(this._writer.attribute("xmlns:"+G,this._serializeAttributeValue(F,this._options.wellFormed))));if(M&&(L.localName.indexOf(":")!==-1||!h.xml_isName(L.localName)||L.localName==="xmlns"&&F===null))return void this.emit("error",new Error("Attribute local name contains invalid characters (well-formed required)."));this._push(this._writer.attribute((G!==null?G+":":"")+L.localName,this._serializeAttributeValue(L.value,this._options.wellFormed)))}else this._push(this._writer.attribute(L.localName,this._serializeAttributeValue(L.value,this._options.wellFormed)))}}catch($){R={error:$}}finally{try{P&&!P.done&&(E=I.return)&&E.call(I)}finally{if(R)throw R.error}}},C.prototype._serializeAttributeValue=function(S,T){return T&&S!==null&&!h.xml_isLegalChar(S)?(this.emit("error",new Error("Invalid characters in attribute value.")),""):S===null?"":S.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},C.prototype._recordNamespaceInformation=function(S,T,b){var O,D,M=null;try{for(var R=o(S.attributes),E=R.next();!E.done;E=R.next()){var B=E.value,I=B.namespaceURI,P=B.prefix;if(I===p.namespace.XMLNS){if(P===null){M=B.value;continue}var L=B.localName,F=B.value;if(F===p.namespace.XML||(F===""&&(F=null),T.has(L,F)))continue;T.set(L,F),b[L]=F||""}}}catch(G){O={error:G}}finally{try{E&&!E.done&&(D=R.return)&&D.call(R)}finally{if(O)throw O.error}}return M},C.prototype._generatePrefix=function(S,T,b){var O="ns"+b.value;return b.value++,T.set(O,S),O},C.prototype._isPrefixMapModified=function(S,T){var b=S._items,O=T._items,D=S._nullItems,M=T._nullItems;for(var R in O){var E=b[R];if(E===void 0)return!0;var B=O[R];if(E.length!==B.length)return!0;for(var I=0;I<E.length;I++)if(E[I]!==B[I])return!0}if(D.length!==M.length)return!0;for(I=0;I<D.length;I++)if(D[I]!==M[I])return!0;return!1},C._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),C}(a(308).EventEmitter);r.XMLBuilderCBImpl=x},function(n,r,a){a(74);var i,s=this&&this.__extends||(i=function(c,u){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var h in l)l.hasOwnProperty(h)&&(f[h]=l[h])})(c,u)},function(c,u){function f(){this.constructor=c}i(c,u),c.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(c){function u(f){var l=c.call(this,f)||this;return l._lineLength=0,l}return s(u,c),u.prototype.frontMatter=function(){return""},u.prototype.declaration=function(f,l,h){var p=this._beginLine()+"<?xml";return p+=' version="'+f+'"',l!==void 0&&(p+=' encoding="'+l+'"'),h!==void 0&&(p+=' standalone="'+(h?"yes":"no")+'"'),p+="?>"},u.prototype.docType=function(f,l,h){var p=this._beginLine();return p+=l&&h?"<!DOCTYPE "+f+' PUBLIC "'+l+'" "'+h+'">':l?"<!DOCTYPE "+f+' PUBLIC "'+l+'">':h?"<!DOCTYPE "+f+' SYSTEM "'+h+'">':"<!DOCTYPE "+f+">"},u.prototype.comment=function(f){return this._beginLine()+"<!--"+f+"-->"},u.prototype.text=function(f){return this._beginLine()+f},u.prototype.instruction=function(f,l){return l?this._beginLine()+"<?"+f+" "+l+"?>":this._beginLine()+"<?"+f+"?>"},u.prototype.cdata=function(f){return this._beginLine()+"<![CDATA["+f+"]]>"},u.prototype.openTagBegin=function(f){return this._lineLength+=1+f.length,this._beginLine()+"<"+f},u.prototype.openTagEnd=function(f,l,h){return h?" />":l?this._writerOptions.allowEmptyTags?"></"+f+">":this._writerOptions.spaceBeforeSlash?" />":"/>":">"},u.prototype.closeTag=function(f){return this._beginLine()+"</"+f+">"},u.prototype.attribute=function(f,l){var h=f+'="'+l+'"';return this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._lineLength+1+h.length>this._writerOptions.width?(h=this._beginLine()+this._indent(1)+h,this._lineLength=h.length,h):(this._lineLength+=1+h.length," "+h)},u.prototype.beginElement=function(f){},u.prototype.endElement=function(f){},u.prototype._beginLine=function(){if(this._writerOptions.prettyPrint){var f=(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level);return this._lineLength=f.length,f}return""},u.prototype._indent=function(f){return f<=0?"":this._writerOptions.indent.repeat(f)},u}(a(114).BaseCBWriter);r.XMLCBWriter=o},function(n,r,a){a(74);var i,s=this&&this.__extends||(i=function(c,u){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var h in l)l.hasOwnProperty(h)&&(f[h]=l[h])})(c,u)},function(c,u){function f(){this.constructor=c}i(c,u),c.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(c){function u(f){var l=c.call(this,f)||this;return l._hasChildren=[],l._additionalLevel=0,l}return s(u,c),u.prototype.frontMatter=function(){return""},u.prototype.declaration=function(f,l,h){return""},u.prototype.docType=function(f,l,h){return""},u.prototype.comment=function(f){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.comment)+this._sep()+this._val(f)+this._sep()+"}"},u.prototype.text=function(f){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.text)+this._sep()+this._val(f)+this._sep()+"}"},u.prototype.instruction=function(f,l){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.ins)+this._sep()+this._val(l?f+" "+l:f)+this._sep()+"}"},u.prototype.cdata=function(f){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.cdata)+this._sep()+this._val(f)+this._sep()+"}"},u.prototype.attribute=function(f,l){return this._comma()+this._beginLine(1)+"{"+this._sep()+this._key(this._builderOptions.convert.att+f)+this._sep()+this._val(l)+this._sep()+"}"},u.prototype.openTagBegin=function(f){var l=this._comma()+this._beginLine()+"{"+this._sep()+this._key(f)+this._sep()+"{";return this._additionalLevel++,this.hasData=!0,l+=this._beginLine()+this._key(this._builderOptions.convert.text)+this._sep()+"[",this._hasChildren.push(!1),l},u.prototype.openTagEnd=function(f,l,h){if(l){var p=this._sep()+"]";return this._additionalLevel--,p+=this._beginLine()+"}"+this._sep()+"}"}return""},u.prototype.closeTag=function(f){var l=this._beginLine()+"]";return this._additionalLevel--,l+=this._beginLine()+"}"+this._sep()+"}"},u.prototype.beginElement=function(f){},u.prototype.endElement=function(f){this._hasChildren.pop()},u.prototype._beginLine=function(f){return f===void 0&&(f=0),this._writerOptions.prettyPrint?(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level+f):""},u.prototype._indent=function(f){return f+this._additionalLevel<=0?"":this._writerOptions.indent.repeat(f+this._additionalLevel)},u.prototype._comma=function(){var f=this._hasChildren[this._hasChildren.length-1]?",":"";return this._hasChildren.length>0&&(this._hasChildren[this._hasChildren.length-1]=!0),f},u.prototype._sep=function(){return this._writerOptions.prettyPrint?" ":""},u.prototype._key=function(f){return'"'+f+'":'},u.prototype._val=function(f){return JSON.stringify(f)},u}(a(114).BaseCBWriter);r.JSONCBWriter=o},function(n,r,a){a(74);var i,s=this&&this.__extends||(i=function(c,u){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var h in l)l.hasOwnProperty(h)&&(f[h]=l[h])})(c,u)},function(c,u){function f(){this.constructor=c}i(c,u),c.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(c){function u(f){var l=c.call(this,f)||this;if(l._rootWritten=!1,l._additionalLevel=0,f.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(f.offset<0)throw new Error("YAML offset should be zero or a positive number.");return l}return s(u,c),u.prototype.frontMatter=function(){return this._beginLine()+"---"},u.prototype.declaration=function(f,l,h){return""},u.prototype.docType=function(f,l,h){return""},u.prototype.comment=function(f){return this._beginLine()+this._key(this._builderOptions.convert.comment)+" "+this._val(f)},u.prototype.text=function(f){return this._beginLine()+this._key(this._builderOptions.convert.text)+" "+this._val(f)},u.prototype.instruction=function(f,l){return this._beginLine()+this._key(this._builderOptions.convert.ins)+" "+this._val(l?f+" "+l:f)},u.prototype.cdata=function(f){return this._beginLine()+this._key(this._builderOptions.convert.cdata)+" "+this._val(f)},u.prototype.attribute=function(f,l){this._additionalLevel++;var h=this._beginLine()+this._key(this._builderOptions.convert.att+f)+" "+this._val(l);return this._additionalLevel--,h},u.prototype.openTagBegin=function(f){var l=this._beginLine()+this._key(f);return this._rootWritten||(this._rootWritten=!0),this.hasData=!0,this._additionalLevel++,l+=this._beginLine(!0)+this._key(this._builderOptions.convert.text)},u.prototype.openTagEnd=function(f,l,h){return l?" "+this._val(""):""},u.prototype.closeTag=function(f){return this._additionalLevel--,""},u.prototype.beginElement=function(f){},u.prototype.endElement=function(f){},u.prototype._beginLine=function(f){return f===void 0&&(f=!1),(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level,f)},u.prototype._indent=function(f,l){if(f+this._additionalLevel<=0)return"";var h=this._writerOptions.indent.repeat(f+this._additionalLevel);return!l&&this._rootWritten?h.substr(0,h.length-2)+"-"+h.substr(-1,1):h},u.prototype._key=function(f){return'"'+f+'":'},u.prototype._val=function(f){return JSON.stringify(f)},u}(a(114).BaseCBWriter);r.YAMLCBWriter=o},function(n,r,a){var i,s=typeof Reflect=="object"?Reflect:null,o=s&&typeof s.apply=="function"?s.apply:function(g,x,w){return Function.prototype.apply.call(g,x,w)};i=s&&typeof s.ownKeys=="function"?s.ownKeys:Object.getOwnPropertySymbols?function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:function(g){return Object.getOwnPropertyNames(g)};var c=Number.isNaN||function(g){return g!=g};function u(){u.init.call(this)}n.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var f=10;function l(g){if(typeof g!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}function h(g){return g._maxListeners===void 0?u.defaultMaxListeners:g._maxListeners}function p(g,x,w,C){var S,T,b,O;if(l(w),(T=g._events)===void 0?(T=g._events=Object.create(null),g._eventsCount=0):(T.newListener!==void 0&&(g.emit("newListener",x,w.listener?w.listener:w),T=g._events),b=T[x]),b===void 0)b=T[x]=w,++g._eventsCount;else if(typeof b=="function"?b=T[x]=C?[w,b]:[b,w]:C?b.unshift(w):b.push(w),(S=h(g))>0&&b.length>S&&!b.warned){b.warned=!0;var D=new Error("Possible EventEmitter memory leak detected. "+b.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");D.name="MaxListenersExceededWarning",D.emitter=g,D.type=x,D.count=b.length,O=D,console&&console.warn&&console.warn(O)}return g}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(g,x,w){var C={fired:!1,wrapFn:void 0,target:g,type:x,listener:w},S=v.bind(C);return S.listener=w,C.wrapFn=S,S}function _(g,x,w){var C=g._events;if(C===void 0)return[];var S=C[x];return S===void 0?[]:typeof S=="function"?w?[S.listener||S]:[S]:w?function(T){for(var b=new Array(T.length),O=0;O<b.length;++O)b[O]=T[O].listener||T[O];return b}(S):d(S,S.length)}function m(g){var x=this._events;if(x!==void 0){var w=x[g];if(typeof w=="function")return 1;if(w!==void 0)return w.length}return 0}function d(g,x){for(var w=new Array(x),C=0;C<x;++C)w[C]=g[C];return w}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(g){if(typeof g!="number"||g<0||c(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");f=g}}),u.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(g){if(typeof g!="number"||g<0||c(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this},u.prototype.getMaxListeners=function(){return h(this)},u.prototype.emit=function(g){for(var x=[],w=1;w<arguments.length;w++)x.push(arguments[w]);var C=g==="error",S=this._events;if(S!==void 0)C=C&&S.error===void 0;else if(!C)return!1;if(C){var T;if(x.length>0&&(T=x[0]),T instanceof Error)throw T;var b=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw b.context=T,b}var O=S[g];if(O===void 0)return!1;if(typeof O=="function")o(O,this,x);else{var D=O.length,M=d(O,D);for(w=0;w<D;++w)o(M[w],this,x)}return!0},u.prototype.addListener=function(g,x){return p(this,g,x,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(g,x){return p(this,g,x,!0)},u.prototype.once=function(g,x){return l(x),this.on(g,y(this,g,x)),this},u.prototype.prependOnceListener=function(g,x){return l(x),this.prependListener(g,y(this,g,x)),this},u.prototype.removeListener=function(g,x){var w,C,S,T,b;if(l(x),(C=this._events)===void 0)return this;if((w=C[g])===void 0)return this;if(w===x||w.listener===x)--this._eventsCount==0?this._events=Object.create(null):(delete C[g],C.removeListener&&this.emit("removeListener",g,w.listener||x));else if(typeof w!="function"){for(S=-1,T=w.length-1;T>=0;T--)if(w[T]===x||w[T].listener===x){b=w[T].listener,S=T;break}if(S<0)return this;S===0?w.shift():function(O,D){for(;D+1<O.length;D++)O[D]=O[D+1];O.pop()}(w,S),w.length===1&&(C[g]=w[0]),C.removeListener!==void 0&&this.emit("removeListener",g,b||x)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(g){var x,w,C;if((w=this._events)===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[g]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete w[g]),this;if(arguments.length===0){var S,T=Object.keys(w);for(C=0;C<T.length;++C)(S=T[C])!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(x=w[g])=="function")this.removeListener(g,x);else if(x!==void 0)for(C=x.length-1;C>=0;C--)this.removeListener(g,x[C]);return this},u.prototype.listeners=function(g){return _(this,g,!0)},u.prototype.rawListeners=function(g){return _(this,g,!1)},u.listenerCount=function(g,x){return typeof g.listenerCount=="function"?g.listenerCount(x):m.call(g,x)},u.prototype.listenerCount=m,u.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(77);r.createCB=function(s){return new i.XMLBuilderCBImpl(s)},r.fragmentCB=function(s){return new i.XMLBuilderCBImpl(s,!0)}}])})})(kd);var Kt=[];Kt["-".charCodeAt(0)]=62;Kt["_".charCodeAt(0)]=63;var va="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var wo=0;wo<va.length;wo++)Kt[va.charCodeAt(wo)]=wo;function Sr(t){return Kt[t.charCodeAt(0)]!==void 0}function eE(t){for(var e=t.length,n=[],r=null,a=0;a<e;a++)Sr(t[a])?(r||(r={start:a,count:0}),r.count++,r.end=a):t[a]==="="&&r&&(n.push(r),r=null);return r&&n.push(r),n}function tE(t,e,n,r){for(var a=e.start,i=e.count,s=i%4,o=Math.floor(i/4),c=a,u=null,f=n,l=0;l<o;l++){for(;!Sr(t[c]);)c++;for(u=Kt[t.charCodeAt(c++)]<<18;!Sr(t[c]);)c++;for(u|=Kt[t.charCodeAt(c++)]<<12;!Sr(t[c]);)c++;for(u|=Kt[t.charCodeAt(c++)]<<6;!Sr(t[c]);)c++;u|=Kt[t.charCodeAt(c++)],r[f++]=u>>16&255,r[f++]=u>>8&255,r[f++]=u&255}switch(s){case 3:for(;!Sr(t[c]);)c++;for(u=Kt[t.charCodeAt(c++)]<<10;!Sr(t[c]);)c++;for(u|=Kt[t.charCodeAt(c++)]<<4;!Sr(t[c]);)c++;u|=Kt[t.charCodeAt(c++)]>>2,r[f++]=u>>8&255,r[f++]=u&255;break;case 2:for(;!Sr(t[c]);)c++;for(u=Kt[t.charCodeAt(c++)]<<2;!Sr(t[c]);)c++;u|=Kt[t.charCodeAt(c++)]>>4,r[f++]=u&255;break;case 1:throw new Error("BASE64: remain 1 should not happen")}return f}function rE(t){for(var e=eE(t),n=e[e.length-1].end+1,r=(4-n%4)%4,a=(n+r)*3/4-r,i=new ArrayBuffer(a),s=new Uint8Array(i),o=0,c=0;c<e.length;c++)o+=tE(t,e[c],o,s),o+=(4-e[c].count%4)%4;return i}function oh(t,e,n){var r=(t<<16)+(e<<8)+n;return va[r>>18]+va[r>>12&63]+va[r>>6&63]+va[r&63]}function nE(t){for(var e=new Uint8Array(t),n=t.byteLength%3,r=t.byteLength-n,a=Array(r/3),i=0;i<a.length;i++){var s=i*3;a[i]=oh(e[s],e[s+1],e[s+2])}if(n>0){var o=oh(e[r],e[r+1]||0,e[r+2]||0);n===1?a.push("".concat(o.substr(0,2),"==")):n===2&&a.push("".concat(o.substr(0,3),"="))}return a.join("")}var Gs={toArrayBuffer:rE,fromArrayBuffer:nE};function Rd(t,e){return we(t.getElementsByTagName(e))}function sh(t,e){return Rd(t,e)[0]}function aE(t){return kd.exports.create(t)}function iE(t){var e=/^\s*<AppendedData\s+encoding="raw">\s*_/m,n=/\n\s*<\/AppendedData>/m;return Mi.extractBinary(t,e,n)}var Zr={Int8:Int8Array,UInt8:Uint8Array,Int16:Int16Array,UInt16:Uint16Array,Int32:Int32Array,UInt32:Uint32Array,Int64:Int32Array,UInt64:Uint32Array,Float32:Float32Array,Float64:Float64Array},Br={Int8:1,UInt8:1,Int16:2,UInt16:2,Int32:4,UInt32:4,Int64:8,UInt64:8,Float32:4,Float64:8};function D0(t){var e=t.length-1;return t.filter(function(n,r){return r<e&&r%2===0})}function Fd(t,e){if(e==="UInt64"){var n=8,r=new Uint32Array(t.buffer,0,6),a=r[0],i=r[2],s=r[4],o=[n,a,i,s];r=new Uint32Array(t.buffer,3*8,a*2);for(var c=0;c<a;c++)o.push(r[c*2]);return o}var u=new Uint32Array(t.buffer,0,3),f=4,l=u[0],h=u[1],p=u[2],v=[f,l,h,p];u=new Uint32Array(t.buffer,3*4,l);for(var y=0;y<l;y++)v.push(u[y]);return v}function Ld(t,e){var n=ar.inflate(t);e.uint8.set(n,e.offset),e.offset+=n.length}function ki(t,e,n,r,a,i){var s=e.getAttribute("type"),o=e.getAttribute("Name"),c=e.getAttribute("format"),u=Number(e.getAttribute("NumberOfComponents")||"1"),f=null;if(c==="ascii"){f=new Zr[s](t*u);var l=0;e.firstChild.nodeValue.split(/[\\t \\n]+/).forEach(function(T){T.trim().length&&(f[l++]=Number(T))})}else if(c==="binary"){var h=new Uint8Array(Gs.toArrayBuffer(e.firstChild.nodeValue.trim()));if(n==="vtkZLibDataCompressor"){var p=new ArrayBuffer(Br[s]*t*u);f=new Zr[s](p);for(var v={offset:0,uint8:new Uint8Array(p)},y=Fd(h,a),_=y[1],m=h.length-(y.reduce(function(T,b){return T+b},0)-(y[0]+y[1]+y[2]+y[3])),d=0;d<_;d++){var g=y[4+d],x=new Uint8Array(h.buffer,m,g);Ld(x,v),m+=g}s.indexOf("Int64")!==-1&&(f=D0(f))}else f=new Zr[s](h.buffer,Br[a]),s.indexOf("Int64")!==-1&&(f=D0(f))}else if(c==="appended"){var w=Number(e.getAttribute("offset")),C;w%Br[a]===0?C=new Zr[a](i,w,1):C=new Zr[a](i.slice(w,w+Br[a]));var S=C[0]/Br[s];s.indexOf("Int64")!==-1&&(S*=2),w+=Br[a],w%Br[s]===0?f=new Zr[s](i,w,S):f=new Zr[s](i.slice(w,w+C[0])),s.indexOf("Int64")!==-1&&(f=D0(f))}else console.error("Format not supported",c);return{name:o,values:f,numberOfComponents:u}}function oE(t,e,n,r,a,i){for(var s={},o=e.getElementsByTagName("DataArray"),c=0;c<o.length;c++){var u=o[c];s[u.getAttribute("Name")]=u}var f=ki(t,s.offsets,n,r,a,i).values,l=f[f.length-1],h=ki(l,s.connectivity,n,r,a,i).values,p=new Uint32Array(t+l),v=0,y=0;return f.forEach(function(_){var m=_-y;p[v++]=m;for(var d=0;d<m;d++)p[v++]=h[y+d];y=_}),p}function sE(t,e,n,r,a,i,s){if(e){var o=["Scalars","Vectors","Normals","Tensors","TCoords"],c={};o.forEach(function(y){var _=e.getAttribute(y);_&&(c[_]=n["set".concat(y)])});for(var u=e.getElementsByTagName("DataArray"),f=u.length,l=0;l<f;l++){var h=u[l],p=Ee.newInstance(ki(t,h,r,a,i,s)),v=p.getName();(c[v]||n.addArray)(p)}}}function uE(t,e,n,r,a){return we(t.getElementsByTagName("DataArray")).map(function(i){return Ee.newInstance(ki(Number(i.getAttribute("NumberOfTuples")),i,e,n,r,a))})}function cE(t,e){e.classHierarchy.push("vtkXMLReader"),e.dataAccessHelper||(e.dataAccessHelper=La.get("http"));function n(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.dataAccessHelper.fetchBinary(r,a)}t.setUrl=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.url=r;var i=r.split("/");return i.pop(),e.baseURL=i.join("/"),t.loadData(a)},t.loadData=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return n(e.url,r).then(t.parseAsArrayBuffer)},t.parseAsArrayBuffer=function(r){if(!r)return!1;if(r!==e.rawDataBuffer)t.modified();else return!0;var a=iE(r),i=a.text,s=a.binaryBuffer;e.rawDataBuffer=r,e.binaryBuffer=s;var o=aE(i),c=o.root().node,u=c.getAttribute("type"),f=c.getAttribute("compressor"),l=c.getAttribute("byte_order"),h=c.getAttribute("header_type")||"UInt32";if(f&&f!=="vtkZLibDataCompressor")return console.error("Invalid compressor",f),!1;if(l&&l!=="LittleEndian")return console.error("Only LittleEndian encoding is supported"),!1;if(u!==e.dataType)return console.error("Invalid data type",u,"expecting",e.dataType),!1;if(sh(c,"AppendedData")){var p=sh(c,"AppendedData"),v=p.getAttribute("encoding"),y=Rd(c,"DataArray"),_=e.binaryBuffer;v==="base64"&&(_=p.textContent.trim().substr(1));for(var m=[],d=0;d<y.length;++d){var g=Number(y[d].getAttribute("offset")),x=0;d===y.length-1?x=_.length||_.byteLength:x=Number(y[d+1].getAttribute("offset")),v==="base64"?m.push(new Uint8Array(Gs.toArrayBuffer(_.substring(g,x)))):m.push(new Uint8Array(_.slice(g,x)))}if(f==="vtkZLibDataCompressor")for(var w=0;w<m.length;++w){var C=m[w],S=Fd(C,h),T=S[1],b=C.length-(S.reduce(function(oe,te){return oe+te},0)-(S[0]+S[1]+S[2]+S[3])),O=null;T>0?S[3]===0?O=new ArrayBuffer(S[2]*T):O=new ArrayBuffer(S[2]*(T-1)+S[3]):O=new ArrayBuffer(0);for(var D=new Uint8Array(O),M={offset:0,uint8:D},R=0;R<T;R++){var E=S[4+R],B=new Uint8Array(C.buffer,b,E);Ld(B,M),b+=E}var I=new Uint8Array(D.length+Br[h]);new Zr[h](I.buffer,0,1)[0]=D.length,I.set(D,Br[h]),m[w]=I}for(var P=m.reduce(function(oe,te){return oe+te.length},0),L=new ArrayBuffer(P),F=new Uint8Array(L),G=0,$=0;G<m.length;++G)y[G].setAttribute("offset",$),F.set(m[G],$),$+=m[G].length;if(e.binaryBuffer=L,!e.binaryBuffer)return console.error("Processing appended data format: requires binaryBuffer to parse"),!1}t.parseXML(c,u,f,l,h);var H=c.getElementsByTagName(u)[0],J=H.getElementsByTagName("FieldData")[0];if(J)for(var Q=uE(J,f,l,h,e.binaryBuffer),q=0;q<e.output.length;q++)for(var ne=e.output[q].getFieldData(),re=0;re<Q.length;re++)ne.addArray(Q[re]);return!0},t.requestData=function(r,a){t.parseAsArrayBuffer(e.rawDataBuffer)}}var fE={};function lE(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,fE,n),W.obj(t,e),W.get(t,e,["url","baseURL"]),W.setGet(t,e,["dataAccessHelper"]),W.algo(t,e,0,1),cE(t,e)}var hn={extend:lE,processDataArray:ki,processFieldData:sE,processCells:oE};function hE(t,e){e.classHierarchy.push("vtkXMLImageDataReader"),t.parseXML=function(n,r,a,i,s){for(var o,c=n.getElementsByTagName(e.dataType)[0],u=c.getAttribute("Origin").split(" ").map(function(d){return Number(d)}),f=c.getAttribute("Spacing").split(" ").map(function(d){return Number(d)}),l=(o=c.getAttribute("Direction"))===null||o===void 0?void 0:o.split(" ").map(function(d){return Number(d)}),h=c.getElementsByTagName("Piece"),p=h.length,v=0;v<p;v++){var y=h[v],_=y.getAttribute("Extent").split(" ").map(function(d){return Number(d)}),m=lc.newInstance({origin:u,spacing:f,direction:l,extent:_});hn.processFieldData(m.getNumberOfPoints(),y.getElementsByTagName("PointData")[0],m.getPointData(),a,i,s,e.binaryBuffer),hn.processFieldData(m.getNumberOfCells(),y.getElementsByTagName("CellData")[0],m.getCellData(),a,i,s,e.binaryBuffer),e.output[v]=m}}}var pE={dataType:"ImageData"};function vE(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,pE,n),hn.extend(t,e,n),hE(t,e)}W.newInstance(vE,"vtkXMLImageDataReader");function dE(t,e,n,r,a,i,s){var o=Number(n.getAttribute("NumberOf".concat(e)));if(o>0){var c=n.getElementsByTagName(e)[0].getElementsByTagName("DataArray")[0],u=hn.processDataArray(o,c,r,a,i,s),f=u.values,l=u.numberOfComponents;t["get".concat(e)]().setData(f,l)}return o}function gE(t,e,n,r,a,i,s){var o=Number(n.getAttribute("NumberOf".concat(e)));if(o>0){var c=hn.processCells(o,n.getElementsByTagName(e)[0],r,a,i,s);t["get".concat(e)]().setData(c)}return o}function yE(t,e){e.classHierarchy.push("vtkXMLPolyDataReader"),t.parseXML=function(n,r,a,i,s){for(var o=n.getElementsByTagName(e.dataType)[0],c=o.getElementsByTagName("Piece"),u=c.length,f=function(p){var v=at.newInstance(),y=c[p],_=dE(v,"Points",y,a,i,s,e.binaryBuffer),m=0;["Verts","Lines","Strips","Polys"].forEach(function(d){m+=gE(v,d,y,a,i,s,e.binaryBuffer)}),hn.processFieldData(_,y.getElementsByTagName("PointData")[0],v.getPointData(),a,i,s,e.binaryBuffer),hn.processFieldData(m,y.getElementsByTagName("CellData")[0],v.getCellData(),a,i,s,e.binaryBuffer),e.output[p]=v},l=0;l<u;l++)f(l)}}var mE={dataType:"PolyData"};function _E(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,mE,n),hn.extend(t,e,n),yE(t,e)}W.newInstance(_E,"vtkXMLPolyDataReader");var Ad={exports:{}},xE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wE=xE,CE=wE;function Bd(){}function Vd(){}Vd.resetWarningCache=Bd;var SE=function(){function t(r,a,i,s,o,c){if(c!==CE){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Vd,resetWarningCache:Bd};return n.PropTypes=n,n};Ad.exports=SE();var ee=Ad.exports,TE=W.vtkErrorMacro;function bE(t,e){var n=0;return t.map(function(r,a){return a===n?(n+=r+1,r):r+e})}function Co(t,e,n,r){t.set(bE(e,n),r)}function EE(t,e){e.classHierarchy.push("vtkAppendPolyData"),t.requestData=function(n,r){var a=t.getNumberOfInputPorts();if(!a){TE("No input specified.");return}if(a===1){r[0]=n[0];return}for(var i=at.newInstance(),s=0,o=0,c=1,u=1,f=0,l=0,h=0,p=0,v=!0,y=!0,_=!0,m=0;m<a;m++){var d=n[m];if(!!d){var g=d.getPoints().getNumberOfPoints();s+=g,f+=d.getVerts().getNumberOfValues(),l+=d.getLines().getNumberOfValues(),h+=d.getStrips().getNumberOfValues(),p+=d.getPolys().getNumberOfValues(),g&&(u&&(u=0,o=d.getPoints().getDataType()),c=d.getPoints().getDataType(),o=o>c?o:c);var x=d.getPointData();x?(v=v&&x.getNormals()!==null,y=y&&x.getTCoords()!==null,_=_&&x.getScalars()!==null):(v=!1,y=!1,_=!1)}}e.outputPointsPrecision===zn.SINGLE?o=ht.FLOAT:e.outputPointsPrecision===zn.DOUBLE&&(o=ht.DOUBLE);var w=ln.newInstance({dataType:o});w.setNumberOfPoints(s);var C=w.getData(),S=new Uint32Array(f),T=new Uint32Array(l),b=new Uint32Array(h),O=new Uint32Array(p),D=null,M=null,R=null,E=n[a-1];if(v){var B=E.getPointData().getNormals();D=Ee.newInstance({numberOfComponents:3,numberOfTuples:s,size:3*s,dataType:B.getDataType(),name:B.getName()})}if(y){var I=E.getPointData().getTCoords();M=Ee.newInstance({numberOfComponents:2,numberOfTuples:s,size:2*s,dataType:I.getDataType(),name:I.getName()})}if(_){var P=E.getPointData().getScalars();R=Ee.newInstance({numberOfComponents:P.getNumberOfComponents(),numberOfTuples:s,size:s*P.getNumberOfComponents(),dataType:P.getDataType(),name:P.getName()})}s=0,f=0,l=0,h=0,p=0;for(var L=0;L<a;L++){var F=n[L];C.set(F.getPoints().getData(),s*3),Co(S,F.getVerts().getData(),s,f),f+=F.getVerts().getNumberOfValues(),Co(T,F.getLines().getData(),s,l),l+=F.getLines().getNumberOfValues(),Co(b,F.getStrips().getData(),s,h),h+=F.getStrips().getNumberOfValues(),Co(O,F.getPolys().getData(),s,p),p+=F.getPolys().getNumberOfValues();var G=F.getPointData();if(v){var $=G.getNormals();D.getData().set($.getData(),s*3)}if(y){var H=G.getTCoords();M.getData().set(H.getData(),s*2)}if(_){var J=G.getScalars();R.getData().set(J.getData(),s*R.getNumberOfComponents())}s+=F.getPoints().getNumberOfPoints()}i.setPoints(w),i.getVerts().setData(S),i.getLines().setData(T),i.getStrips().setData(b),i.getPolys().setData(O),D&&i.getPointData().setNormals(D),M&&i.getPointData().setTCoords(M),R&&i.getPointData().setScalars(R),r[0]=i}}var DE={outputPointsPrecision:zn.DEFAULT};function Ud(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,DE,n),W.setGet(t,e,["outputPointsPrecision"]),W.obj(t,e),W.algo(t,e,1,1),EE(t,e)}var OE=W.newInstance(Ud,"vtkAppendPolyData"),Gd={newInstance:OE,extend:Ud};function NE(t,e){e.classHierarchy.push("vtkArrowSource");function n(r,a){if(!e.deleted){var i=EC.newInstance({capping:!0});i.setResolution(e.shaftResolution),i.setRadius(e.shaftRadius),i.setHeight(1-e.tipLength),i.setCenter(0,(1-e.tipLength)*.5,0);var s=i.getOutputData(),o=s.getPoints().getData(),c=s.getPointData().getNormals().getData();Xt.buildFromDegree().rotateZ(-90).apply(o).apply(c);var u=_C.newInstance();u.setResolution(e.tipResolution),u.setHeight(e.tipLength),u.setRadius(e.tipRadius);var f=u.getOutputData(),l=f.getPoints().getData();Xt.buildFromRadian().translate(1-e.tipLength*.5,0,0).apply(l);var h=Gd.newInstance();h.setInputData(s),h.addInputData(f);var p=h.getOutputData(),v=p.getPoints().getData();Xt.buildFromRadian().translate(-.5+e.tipLength*.5,0,0).apply(v),e.invert?(Xt.buildFromRadian().rotateFromDirections([1,0,0],e.direction).scale(-1,-1,-1).apply(v),a[0]=p):(Xt.buildFromRadian().rotateFromDirections([1,0,0],e.direction).scale(1,1,1).apply(v),a[0]=h.getOutputData())}}t.requestData=n}var ME={tipResolution:6,tipRadius:.1,tipLength:.35,shaftResolution:6,shaftRadius:.03,invert:!1,direction:[1,0,0],pointType:"Float64Array"};function Pd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ME,n),W.obj(t,e),W.setGet(t,e,["tipResolution","tipRadius","tipLength","shaftResolution","shaftRadius","invert"]),W.setGetArray(t,e,["direction"],3),W.algo(t,e,0,1),NE(t,e)}var kE=W.newInstance(Pd,"vtkArrowSource"),O0={newInstance:kE,extend:Pd};function uh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function N0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M0(t){var e,n=t.getPoints().getBounds(),r=[-(n[0]+n[1])*.5,-(n[2]+n[3])*.5,-(n[4]+n[5])*.5];(e=Xt.buildFromDegree()).translate.apply(e,r).apply(t.getPoints().getData())}function k0(t,e,n,r){for(var a=t.getPoints().getData().length,i=new Uint8Array(a),s=0;s<a;)i[s++]=e,i[s++]=n,i[s++]=r;t.getPointData().setScalars(Ee.newInstance({name:"color",numberOfComponents:3,values:i}))}function RE(t,e){e.classHierarchy.push("vtkAxesActor"),t.update=function(){var n=O0.newInstance(N0({direction:[1,0,0]},e.config)).getOutputData();M0(n),k0.apply(void 0,[n].concat(we(e.xAxisColor)));var r=O0.newInstance(N0({direction:[0,1,0]},e.config)).getOutputData();M0(r),k0.apply(void 0,[r].concat(we(e.yAxisColor)));var a=O0.newInstance(N0({direction:[0,0,1]},e.config)).getOutputData();M0(a),k0.apply(void 0,[a].concat(we(e.zAxisColor)));var i=Gd.newInstance();i.setInputData(n),i.addInputData(r),i.addInputData(a);var s=fn.newInstance();s.setInputConnection(i.getOutputPort()),t.setMapper(s)},t.update()}var FE={config:{tipResolution:60,tipRadius:.1,tipLength:.2,shaftResolution:60,shaftRadius:.03,invert:!1},xAxisColor:[255,0,0],yAxisColor:[255,255,0],zAxisColor:[0,128,0]};function jd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,FE,n),$r.extend(t,e,n),W.setGet(t,e,["config"]),W.setGetArray(t,e,["xAxisColor","yAxisColor","zAxisColor"],3,255),RE(t,e)}var LE=W.newInstance(jd,"vtkAxesActor"),AE={newInstance:LE,extend:jd},So=W.vtkDebugMacro;function BE(t,e){e.classHierarchy.push("vtkCamera");var n=new Float64Array(3),r=new Float64Array([0,0,-1]),a=new Float64Array([0,1,0]),i=Ae(new Float64Array(16)),s=new Float64Array(3),o=new Float64Array(3),c=new Float64Array(3),u=Ae(new Float64Array(16)),f=Ae(new Float64Array(16)),l=new Float64Array(3),h=new Float64Array(3);function p(){e.viewPlaneNormal[0]=-e.directionOfProjection[0],e.viewPlaneNormal[1]=-e.directionOfProjection[1],e.viewPlaneNormal[2]=-e.directionOfProjection[2]}t.orthogonalizeViewUp=function(){var v=t.getViewMatrix();e.viewUp[0]=v[4],e.viewUp[1]=v[5],e.viewUp[2]=v[6],t.modified()},t.setPosition=function(v,y,_){v===e.position[0]&&y===e.position[1]&&_===e.position[2]||(e.position[0]=v,e.position[1]=y,e.position[2]=_,t.computeDistance(),t.modified())},t.setFocalPoint=function(v,y,_){v===e.focalPoint[0]&&y===e.focalPoint[1]&&_===e.focalPoint[2]||(e.focalPoint[0]=v,e.focalPoint[1]=y,e.focalPoint[2]=_,t.computeDistance(),t.modified())},t.setDistance=function(v){if(e.distance!==v){e.distance=v,e.distance<1e-20&&(e.distance=1e-20,So("Distance is set to minimum."));var y=e.directionOfProjection;e.focalPoint[0]=e.position[0]+y[0]*e.distance,e.focalPoint[1]=e.position[1]+y[1]*e.distance,e.focalPoint[2]=e.position[2]+y[2]*e.distance,t.modified()}},t.computeDistance=function(){var v=e.focalPoint[0]-e.position[0],y=e.focalPoint[1]-e.position[1],_=e.focalPoint[2]-e.position[2];if(e.distance=Math.sqrt(v*v+y*y+_*_),e.distance<1e-20){e.distance=1e-20,So("Distance is set to minimum.");var m=e.directionOfProjection;e.focalPoint[0]=e.position[0]+m[0]*e.distance,e.focalPoint[1]=e.position[1]+m[1]*e.distance,e.focalPoint[2]=e.position[2]+m[2]*e.distance}e.directionOfProjection[0]=v/e.distance,e.directionOfProjection[1]=y/e.distance,e.directionOfProjection[2]=_/e.distance,p()},t.dolly=function(v){if(!(v<=0)){var y=e.distance/v;t.setPosition(e.focalPoint[0]-y*e.directionOfProjection[0],e.focalPoint[1]-y*e.directionOfProjection[1],e.focalPoint[2]-y*e.directionOfProjection[2])}},t.roll=function(v){var y=e.position,_=e.focalPoint,m=e.viewUp,d=new Float64Array([m[0],m[1],m[2],0]);Ae(u);var g=new Float64Array([_[0]-y[0],_[1]-y[1],_[2]-y[2]]);St(u,u,rt(v),g),Xi(d,d,u),e.viewUp[0]=d[0],e.viewUp[1]=d[1],e.viewUp[2]=d[2],t.modified()},t.azimuth=function(v){var y=e.focalPoint;Ae(f),nt(f,f,y),St(f,f,rt(v),e.viewUp),nt(f,f,[-y[0],-y[1],-y[2]]),be(l,e.position,f),t.setPosition(l[0],l[1],l[2])},t.yaw=function(v){var y=e.position;Ae(f),nt(f,f,y),St(f,f,rt(v),e.viewUp),nt(f,f,[-y[0],-y[1],-y[2]]),be(h,e.focalPoint,f),t.setFocalPoint(h[0],h[1],h[2])},t.elevation=function(v){var y=e.focalPoint,_=t.getViewMatrix(),m=[-_[0],-_[1],-_[2]];Ae(f),nt(f,f,y),St(f,f,rt(v),m),nt(f,f,[-y[0],-y[1],-y[2]]),be(l,e.position,f),t.setPosition(l[0],l[1],l[2])},t.pitch=function(v){var y=e.position,_=t.getViewMatrix(),m=[_[0],_[1],_[2]];Ae(f),nt(f,f,y),St(f,f,rt(v),m),nt(f,f,[-y[0],-y[1],-y[2]]),be(h,e.focalPoint,f),t.setFocalPoint.apply(t,we(h))},t.zoom=function(v){v<=0||(e.parallelProjection?e.parallelScale/=v:e.viewAngle/=v,t.modified())},t.translate=function(v,y,_){var m=[v,y,_];Xo(e.position,m,e.position),Xo(e.focalPoint,m,e.focalPoint),t.computeDistance(),t.modified()},t.applyTransform=function(v){var y=[].concat(we(e.viewUp),[1]),_=[],m=[],d=[];y[0]+=e.position[0],y[1]+=e.position[1],y[2]+=e.position[2],Xi(_,[].concat(we(e.position),[1]),v),Xi(m,[].concat(we(e.focalPoint),[1]),v),Xi(d,y,v),d[0]-=_[0],d[1]-=_[1],d[2]-=_[2],t.setPosition.apply(t,we(_.slice(0,3))),t.setFocalPoint.apply(t,we(m.slice(0,3))),t.setViewUp.apply(t,we(d.slice(0,3)))},t.getThickness=function(){return e.clippingRange[1]-e.clippingRange[0]},t.setThickness=function(v){var y=v;y<1e-20&&(y=1e-20,So("Thickness is set to minimum.")),t.setClippingRange(e.clippingRange[0],e.clippingRange[0]+y)},t.setThicknessFromFocalPoint=function(v){var y=v;y<1e-20&&(y=1e-20,So("Thickness is set to minimum.")),t.setClippingRange(e.distance-y/2,e.distance+y/2)},t.setRoll=function(v){},t.getRoll=function(){},t.setObliqueAngles=function(v,y){},t.getOrientation=function(){},t.getOrientationWXYZ=function(){},t.getFrustumPlanes=function(v){},t.getCameraLightTransformMatrix=function(){},t.deepCopy=function(v){},t.physicalOrientationToWorldDirection=function(v){var y=Vc(v[0],v[1],v[2],v[3]),_=Un(),m=Vc(0,0,1,0);return M3(_,y),Bc(m,y,m),Bc(m,m,_),[m[0],m[1],m[2]]},t.getPhysicalToWorldMatrix=function(v){t.getWorldToPhysicalMatrix(v),ir(v,v)},t.getWorldToPhysicalMatrix=function(v){Ae(v);var y=[3];kt(e.physicalViewNorth,e.physicalViewUp,y),v[0]=y[0],v[1]=y[1],v[2]=y[2],v[4]=e.physicalViewUp[0],v[5]=e.physicalViewUp[1],v[6]=e.physicalViewUp[2],v[8]=-e.physicalViewNorth[0],v[9]=-e.physicalViewNorth[1],v[10]=-e.physicalViewNorth[2],Ye(v,v),Ze(s,1/e.physicalScale,1/e.physicalScale,1/e.physicalScale),Bn(v,v,s),nt(v,v,e.physicalTranslation)},t.computeViewParametersFromViewMatrix=function(v){ir(i,v),be(s,n,i),t.computeDistance();var y=e.distance;t.setPosition(s[0],s[1],s[2]),be(o,r,i),rr(o,o,s),mr(o,o),t.setDirectionOfProjection(o[0],o[1],o[2]),be(c,a,i),rr(c,c,s),mr(c,c),t.setViewUp(c[0],c[1],c[2]),t.setDistance(y)},t.computeViewParametersFromPhysicalMatrix=function(v){t.getWorldToPhysicalMatrix(i),ct(i,v,i),t.computeViewParametersFromViewMatrix(i)},t.setViewMatrix=function(v){e.viewMatrix=v,e.viewMatrix&&(zt(i,e.viewMatrix),t.computeViewParametersFromViewMatrix(i),Ye(e.viewMatrix,e.viewMatrix))},t.getViewMatrix=function(){if(e.viewMatrix)return e.viewMatrix;Yh(i,e.position,e.focalPoint,e.viewUp),Ye(i,i);var v=new Float64Array(16);return zt(v,i),v},t.setProjectionMatrix=function(v){e.projectionMatrix=v},t.getProjectionMatrix=function(v,y,_){var m=new Float64Array(16);if(Ae(m),e.projectionMatrix){var d=1/e.physicalScale;return Ze(s,d,d,d),zt(m,e.projectionMatrix),Bn(m,m,s),Ye(m,m),m}Ae(i);var g=e.clippingRange[1]-e.clippingRange[0],x=[e.clippingRange[0]+(y+1)*g/2,e.clippingRange[0]+(_+1)*g/2];if(e.parallelProjection){var w=e.parallelScale*v,C=e.parallelScale,S=(e.windowCenter[0]-1)*w,T=(e.windowCenter[0]+1)*w,b=(e.windowCenter[1]-1)*C,O=(e.windowCenter[1]+1)*C;qh(i,S,T,b,O,x[0],x[1]),Ye(i,i)}else{if(e.useOffAxisProjection)throw new Error("Off-Axis projection is not supported at this time");var D=Math.tan(rt(e.viewAngle)/2),M,R;e.useHorizontalViewAngle===!0?(M=e.clippingRange[0]*D,R=e.clippingRange[0]*D/v):(M=e.clippingRange[0]*D*v,R=e.clippingRange[0]*D);var E=(e.windowCenter[0]-1)*M,B=(e.windowCenter[0]+1)*M,I=(e.windowCenter[1]-1)*R,P=(e.windowCenter[1]+1)*R,L=x[0],F=x[1];i[0]=2*L/(B-E),i[5]=2*L/(P-I),i[2]=(E+B)/(B-E),i[6]=(I+P)/(P-I),i[10]=-(L+F)/(F-L),i[14]=-1,i[11]=-2*L*F/(F-L),i[15]=0}return zt(m,i),m},t.getCompositeProjectionMatrix=function(v,y,_){var m=t.getViewMatrix(),d=t.getProjectionMatrix(v,y,_);return ct(d,m,d),d},t.setDirectionOfProjection=function(v,y,_){if(!(e.directionOfProjection[0]===v&&e.directionOfProjection[1]===y&&e.directionOfProjection[2]===_)){e.directionOfProjection[0]=v,e.directionOfProjection[1]=y,e.directionOfProjection[2]=_;var m=e.directionOfProjection;e.focalPoint[0]=e.position[0]+m[0]*e.distance,e.focalPoint[1]=e.position[1]+m[1]*e.distance,e.focalPoint[2]=e.position[2]+m[2]*e.distance,p()}},t.setDeviceAngles=function(v,y,_,m){var d=[3];kt(e.physicalViewNorth,e.physicalViewUp,d);var g=Ae(new Float64Array(16));St(g,g,rt(v),e.physicalViewUp),St(g,g,rt(y),d),St(g,g,rt(_),e.physicalViewNorth),St(g,g,rt(-m),e.physicalViewUp);var x=new Float64Array([-e.physicalViewUp[0],-e.physicalViewUp[1],-e.physicalViewUp[2]]),w=new Float64Array(e.physicalViewNorth);be(x,x,g),be(w,w,g),t.setDirectionOfProjection(x[0],x[1],x[2]),t.setViewUp(w[0],w[1],w[2]),t.modified()},t.setOrientationWXYZ=function(v,y,_,m){var d=Ae(new Float64Array(16));if(v!==0&&(y!==0||_!==0||m!==0)){var g=rt(v),x=Un();Pu(x,[y,_,m],g),Vu(d,x)}var w=new Float64Array(3);be(w,[0,0,-1],d);var C=new Float64Array(3);be(C,[0,1,0],d),t.setDirectionOfProjection.apply(t,we(w)),t.setViewUp.apply(t,we(C)),t.modified()},t.computeClippingRange=function(v){var y=null,_=null;y=e.viewPlaneNormal,_=e.position;for(var m=-y[0],d=-y[1],g=-y[2],x=-(m*_[0]+d*_[1]+g*_[2]),w=[m*v[0]+d*v[2]+g*v[4]+x,1e-18],C=0;C<2;C++)for(var S=0;S<2;S++)for(var T=0;T<2;T++){var b=m*v[T]+d*v[2+S]+g*v[4+C]+x;w[0]=b<w[0]?b:w[0],w[1]=b>w[1]?b:w[1]}return w}}var VE={position:[0,0,1],focalPoint:[0,0,0],viewUp:[0,1,0],directionOfProjection:[0,0,-1],parallelProjection:!1,useHorizontalViewAngle:!1,viewAngle:30,parallelScale:1,clippingRange:[.01,1000.01],windowCenter:[0,0],viewPlaneNormal:[0,0,1],useOffAxisProjection:!1,screenBottomLeft:[-.5,-.5,-.5],screenBottomRight:[.5,-.5,-.5],screenTopRight:[.5,.5,-.5],freezeFocalPoint:!1,projectionMatrix:null,viewMatrix:null,physicalTranslation:[0,0,0],physicalScale:1,physicalViewUp:[0,1,0],physicalViewNorth:[0,0,-1]};function zd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,VE,n),W.obj(t,e),W.get(t,e,["distance"]),W.setGet(t,e,["parallelProjection","useHorizontalViewAngle","viewAngle","parallelScale","useOffAxisProjection","freezeFocalPoint","physicalScale"]),W.getArray(t,e,["directionOfProjection","viewPlaneNormal","position","focalPoint"]),W.setGetArray(t,e,["clippingRange","windowCenter"],2),W.setGetArray(t,e,["viewUp","screenBottomLeft","screenBottomRight","screenTopRight","physicalTranslation","physicalViewUp","physicalViewNorth"],3),BE(t,e)}var UE=W.newInstance(zd,"vtkCamera"),GE={newInstance:UE,extend:zd},PE=["HeadLight","CameraLight","SceneLight"];function jE(t,e){e.classHierarchy.push("vtkLight"),t.getTransformedPosition=function(){return e.transformMatrix?[]:[].concat(e.position)},t.getTransformedFocalPoint=function(){return e.transformMatrix?[]:[].concat(e.focalPoint)},t.getDirection=function(){return e.directionMTime<e.mtime&&(e.direction[0]=e.focalPoint[0]-e.position[0],e.direction[1]=e.focalPoint[1]-e.position[1],e.direction[2]=e.focalPoint[2]-e.position[2],lt(e.direction),e.directionMTime=e.mtime),e.direction},t.setDirectionAngle=function(n,r){var a=rt(n),i=rt(r);t.setPosition(Math.cos(a)*Math.sin(i),Math.sin(a),Math.cos(a)*Math.cos(i)),t.setFocalPoint(0,0,0),t.setPositional(0)},t.setLightTypeToHeadLight=function(){t.setLightType("HeadLight")},t.setLightTypeToCameraLight=function(){t.setLightType("CameraLight")},t.setLightTypeToSceneLight=function(){t.setTransformMatrix(null),t.setLightType("SceneLight")},t.lightTypeIsHeadLight=function(){return e.lightType==="HeadLight"},t.lightTypeIsSceneLight=function(){return e.lightType==="SceneLight"},t.lightTypeIsCameraLight=function(){return e.lightType==="CameraLight"}}var zE={switch:!0,intensity:1,color:[1,1,1],position:[0,0,1],focalPoint:[0,0,0],positional:!1,exponent:1,coneAngle:30,attenuationValues:[1,0,0],transformMatrix:null,lightType:"SceneLight",shadowAttenuation:1,direction:[0,0,0],directionMTime:0};function Wd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,zE,n),W.obj(t,e),W.setGet(t,e,["intensity","switch","positional","exponent","coneAngle","transformMatrix","lightType","shadowAttenuation"]),W.setGetArray(t,e,["color","position","focalPoint","attenuationValues"],3),jE(t,e)}var WE=W.newInstance(Wd,"vtkLight"),IE={newInstance:WE,extend:Wd,LIGHT_TYPES:PE},Wo=W.vtkErrorMacro;function $E(t){return function(){return Wo("vtkViewport::".concat(t," - NOT IMPLEMENTED"))}}function HE(t,e){e.classHierarchy.push("vtkViewport"),t.getViewProps=function(){return e.props},t.hasViewProp=function(r){return!!e.props.filter(function(a){return a===r}).length},t.addViewProp=function(r){r&&!t.hasViewProp(r)&&(e.props=e.props.concat(r))},t.removeViewProp=function(r){var a=e.props.filter(function(i){return i!==r});e.props.length!==a.length&&(e.props=a)},t.removeAllViewProps=function(){e.props=[]};function n(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.push(r);var i=r.getNestedProps();if(i&&i.length)for(var s=0;s<i.length;s++)n(i[s],a);return a}t.getViewPropsWithNestedProps=function(){for(var r=[],a=0;a<e.props.length;a++)n(e.props[a],r);return r},t.addActor2D=t.addViewProp,t.removeActor2D=function(r){t.removeViewProp(r)},t.getActors2D=function(){return e.actors2D=[],e.props.forEach(function(r){e.actors2D=e.actors2D.concat(r.getActors2D())}),e.actors2D},t.displayToView=function(){return Wo("call displayToView on your view instead")},t.viewToDisplay=function(){return Wo("callviewtodisplay on your view instead")},t.getSize=function(){return Wo("call getSize on your View instead")},t.normalizedDisplayToProjection=function(r,a,i){var s=t.normalizedDisplayToNormalizedViewport(r,a,i);return t.normalizedViewportToProjection(s[0],s[1],s[2])},t.normalizedDisplayToNormalizedViewport=function(r,a,i){var s=[e.viewport[2]-e.viewport[0],e.viewport[3]-e.viewport[1]];return[(r-e.viewport[0])/s[0],(a-e.viewport[1])/s[1],i]},t.normalizedViewportToProjection=function(r,a,i){return[r*2-1,a*2-1,i*2-1]},t.projectionToNormalizedDisplay=function(r,a,i){var s=t.projectionToNormalizedViewport(r,a,i);return t.normalizedViewportToNormalizedDisplay(s[0],s[1],s[2])},t.normalizedViewportToNormalizedDisplay=function(r,a,i){var s=[e.viewport[2]-e.viewport[0],e.viewport[3]-e.viewport[1]];return[r*s[0]+e.viewport[0],a*s[1]+e.viewport[1],i]},t.projectionToNormalizedViewport=function(r,a,i){return[(r+1)*.5,(a+1)*.5,(i+1)*.5]},t.PickPropFrom=$E("PickPropFrom")}var KE={background:[0,0,0],background2:[.2,.2,.2],gradientBackground:!1,viewport:[0,0,1,1],aspect:[1,1],pixelAspect:[1,1],props:[],actors2D:[]};function Id(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,KE,n),W.obj(t,e),W.event(t,e,"event"),W.setGetArray(t,e,["viewport"],4),W.setGetArray(t,e,["background","background2"],3),HE(t,e)}var XE=W.newInstance(Id,"vtkViewport"),qE={newInstance:XE,extend:Id},Ia=Gn,Jr=Re,YE=Ui;function ch(t){return function(){return Jr("vtkRenderer::".concat(t," - NOT IMPLEMENTED"))}}function ZE(t,e){e.classHierarchy.push("vtkRenderer");var n={type:"ComputeVisiblePropBoundsEvent",renderer:t},r={type:"ResetCameraClippingRangeEvent",renderer:t},a={type:"ResetCameraEvent",renderer:t};t.updateCamera=function(){return e.activeCamera||(Ia("No cameras are on, creating one."),t.getActiveCameraAndResetIfCreated()),e.activeCamera.render(t),!0},t.updateLightsGeometryToFollowCamera=function(){var i=t.getActiveCameraAndResetIfCreated();e.lights.forEach(function(s){s.lightTypeIsSceneLight()||s.lightTypeIsCameraLight()||(s.lightTypeIsHeadLight()?(s.setPositionFrom(i.getPositionByReference()),s.setFocalPointFrom(i.getFocalPointByReference()),s.modified(i.getMTime())):Jr("light has unknown light type",s.get()))})},t.updateLightGeometry=function(){return e.lightFollowCamera?t.updateLightsGeometryToFollowCamera():!0},t.allocateTime=ch("allocateTime"),t.updateGeometry=ch("updateGeometry"),t.getVTKWindow=function(){return e._renderWindow},t.setLayer=function(i){Ia(t.getClassName(),t,"setting Layer to ",i),e.layer!==i&&(e.layer=i,t.modified()),t.setPreserveColorBuffer(!!i)},t.setActiveCamera=function(i){return e.activeCamera===i?!1:(e.activeCamera=i,t.modified(),t.invokeEvent({type:"ActiveCameraEvent",camera:i}),!0)},t.makeCamera=function(){var i=GE.newInstance();return t.invokeEvent({type:"CreateCameraEvent",camera:i}),i},t.getActiveCamera=function(){return e.activeCamera||(e.activeCamera=t.makeCamera()),e.activeCamera},t.getActiveCameraAndResetIfCreated=function(){return e.activeCamera||(t.getActiveCamera(),t.resetCamera()),e.activeCamera},t.getActors=function(){return e.actors=[],e.props.forEach(function(i){e.actors=e.actors.concat(i.getActors())}),e.actors},t.addActor=t.addViewProp,t.removeActor=function(i){e.actors=e.actors.filter(function(s){return s!==i}),t.removeViewProp(i),t.modified()},t.removeAllActors=function(){var i=t.getActors();i.forEach(function(s){t.removeViewProp(s)}),e.actors=[],t.modified()},t.getVolumes=function(){return e.volumes=[],e.props.forEach(function(i){e.volumes=e.volumes.concat(i.getVolumes())}),e.volumes},t.addVolume=t.addViewProp,t.removeVolume=function(i){e.volumes=e.volumes.filter(function(s){return s!==i}),t.removeViewProp(i),t.modified()},t.removeAllVolumes=function(){var i=t.getVolumes();i.forEach(function(s){t.removeViewProp(s)}),e.volumes=[],t.modified()},t.addLight=function(i){e.lights=[].concat(e.lights,i),t.modified()},t.removeLight=function(i){e.lights=e.lights.filter(function(s){return s!==i}),t.modified()},t.removeAllLights=function(){e.lights=[],t.modified()},t.setLightCollection=function(i){e.lights=i,t.modified()},t.makeLight=IE.newInstance,t.createLight=function(){!e.automaticLightCreation||(e._createdLight&&(t.removeLight(e._createdLight),e._createdLight.delete(),e._createdLight=null),e._createdLight=t.makeLight(),t.addLight(e._createdLight),e._createdLight.setLightTypeToHeadLight(),e._createdLight.setPosition(t.getActiveCamera().getPosition()),e._createdLight.setFocalPoint(t.getActiveCamera().getFocalPoint()))},t.normalizedDisplayToWorld=function(i,s,o,c){var u=t.normalizedDisplayToProjection(i,s,o);return u=t.projectionToView(u[0],u[1],u[2],c),t.viewToWorld(u[0],u[1],u[2])},t.worldToNormalizedDisplay=function(i,s,o,c){var u=t.worldToView(i,s,o);return u=t.viewToProjection(u[0],u[1],u[2],c),t.projectionToNormalizedDisplay(u[0],u[1],u[2])},t.viewToWorld=function(i,s,o){if(e.activeCamera===null)return Jr("ViewToWorld: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];var c=e.activeCamera.getViewMatrix();ir(c,c),Ye(c,c);var u=new Float64Array([i,s,o]);return be(u,u,c),u},t.projectionToView=function(i,s,o,c){if(e.activeCamera===null)return Jr("ProjectionToView: no active camera, cannot compute projection to view, returning 0,0,0"),[0,0,0];var u=e.activeCamera.getProjectionMatrix(c,-1,1);ir(u,u),Ye(u,u);var f=new Float64Array([i,s,o]);return be(f,f,u),f},t.worldToView=function(i,s,o){if(e.activeCamera===null)return Jr("WorldToView: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];var c=e.activeCamera.getViewMatrix();Ye(c,c);var u=new Float64Array([i,s,o]);return be(u,u,c),u},t.viewToProjection=function(i,s,o,c){if(e.activeCamera===null)return Jr("ViewToProjection: no active camera, cannot compute view to projection, returning 0,0,0"),[0,0,0];var u=e.activeCamera.getProjectionMatrix(c,-1,1);Ye(u,u);var f=new Float64Array([i,s,o]);return be(f,f,u),f},t.computeVisiblePropBounds=function(){e.allBounds[0]=He.INIT_BOUNDS[0],e.allBounds[1]=He.INIT_BOUNDS[1],e.allBounds[2]=He.INIT_BOUNDS[2],e.allBounds[3]=He.INIT_BOUNDS[3],e.allBounds[4]=He.INIT_BOUNDS[4],e.allBounds[5]=He.INIT_BOUNDS[5];var i=!0;t.invokeEvent(n);for(var s=0;s<e.props.length;++s){var o=e.props[s];if(o.getVisibility()&&o.getUseBounds()){var c=o.getBounds();c&&Ks(c)&&(i=!1,c[0]<e.allBounds[0]&&(e.allBounds[0]=c[0]),c[1]>e.allBounds[1]&&(e.allBounds[1]=c[1]),c[2]<e.allBounds[2]&&(e.allBounds[2]=c[2]),c[3]>e.allBounds[3]&&(e.allBounds[3]=c[3]),c[4]<e.allBounds[4]&&(e.allBounds[4]=c[4]),c[5]>e.allBounds[5]&&(e.allBounds[5]=c[5]))}}return i&&(Ma(e.allBounds),Ia("Can't compute bounds, no 3D props are visible")),e.allBounds},t.resetCamera=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=i||t.computeVisiblePropBounds(),o=[0,0,0];if(!Ks(s))return Ia("Cannot reset camera!"),!1;var c=null;if(t.getActiveCamera())c=e.activeCamera.getViewPlaneNormal();else return Jr("Trying to reset non-existent camera"),!1;e.activeCamera.setViewAngle(30),o[0]=(s[0]+s[1])/2,o[1]=(s[2]+s[3])/2,o[2]=(s[4]+s[5])/2;var u=s[1]-s[0],f=s[3]-s[2],l=s[5]-s[4];u*=u,f*=f,l*=l;var h=u+f+l;h=h===0?1:h,h=Math.sqrt(h)*.5;var p=rt(e.activeCamera.getViewAngle()),v=h,y=h/Math.sin(p*.5),_=e.activeCamera.getViewUp();return Math.abs(Be(_,c))>.999&&(YE("Resetting view-up since view plane normal is parallel"),e.activeCamera.setViewUp(-_[2],_[0],_[1])),e.activeCamera.setFocalPoint(o[0],o[1],o[2]),e.activeCamera.setPosition(o[0]+y*c[0],o[1]+y*c[1],o[2]+y*c[2]),t.resetCameraClippingRange(s),e.activeCamera.setParallelScale(v),e.activeCamera.setPhysicalScale(h),e.activeCamera.setPhysicalTranslation(-o[0],-o[1],-o[2]),t.invokeEvent(a),!0},t.resetCameraClippingRange=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=i||t.computeVisiblePropBounds();if(!Ks(s))return Ia("Cannot reset camera clipping range!"),!1;if(t.getActiveCameraAndResetIfCreated(),!e.activeCamera)return Jr("Trying to reset clipping range of non-existent camera"),!1;var o=e.activeCamera.computeClippingRange(s),c=0;if(e.activeCamera.getParallelProjection())c=.2*e.activeCamera.getParallelScale();else{var u=rt(e.activeCamera.getViewAngle());c=.2*Math.tan(u/2)*o[1]}return o[1]-o[0]<c&&(c=c-o[1]+o[0],o[1]+=c/2,o[0]-=c/2),o[0]<0&&(o[0]=0),o[0]=.99*o[0]-(o[1]-o[0])*e.clippingRangeExpansion,o[1]=1.01*o[1]+(o[1]-o[0])*e.clippingRangeExpansion,o[0]=o[0]>=o[1]?.01*o[1]:o[0],e.nearClippingPlaneTolerance||(e.nearClippingPlaneTolerance=.01),o[0]<e.nearClippingPlaneTolerance*o[1]&&(o[0]=e.nearClippingPlaneTolerance*o[1]),e.activeCamera.setClippingRange(o[0],o[1]),t.invokeEvent(r),!1},t.setRenderWindow=function(i){i!==e._renderWindow&&(e._vtkWindow=i,e._renderWindow=i)},t.visibleActorCount=function(){return e.props.filter(function(i){return i.getVisibility()}).length},t.visibleVolumeCount=t.visibleActorCount,t.getMTime=function(){var i=e.mtime,s=e.activeCamera?e.activeCamera.getMTime():0;s>i&&(i=s);var o=e._createdLight?e._createdLight.getMTime():0;return o>i&&(i=o),i},t.getTransparent=function(){return!!e.preserveColorBuffer},t.isActiveCameraCreated=function(){return!!e.activeCamera}}var JE={pickedProp:null,activeCamera:null,allBounds:[],ambient:[1,1,1],allocatedRenderTime:100,timeFactor:1,automaticLightCreation:!0,twoSidedLighting:!0,lastRenderTimeInSeconds:-1,renderWindow:null,lights:[],actors:[],volumes:[],lightFollowCamera:!0,numberOfPropsRendered:0,propArray:null,pathArray:null,layer:0,preserveColorBuffer:!1,preserveDepthBuffer:!1,computeVisiblePropBounds:xa(),interactive:!0,nearClippingPlaneTolerance:0,clippingRangeExpansion:.05,erase:!0,draw:!0,useShadows:!1,useDepthPeeling:!1,occlusionRatio:0,maximumNumberOfPeels:4,selector:null,delegate:null,texturedBackground:!1,backgroundTexture:null,pass:0};function $d(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(Object.assign(e,JE,n),qE.extend(t,e,n),e.background||(e.background=[0,0,0,1]);e.background.length<3;)e.background.push(0);e.background.length===3&&e.background.push(1),Mr(t,e,["_renderWindow","allocatedRenderTime","timeFactor","lastRenderTimeInSeconds","numberOfPropsRendered","lastRenderingUsedDepthPeeling","selector"]),Nt(t,e,["twoSidedLighting","lightFollowCamera","automaticLightCreation","erase","draw","nearClippingPlaneTolerance","clippingRangeExpansion","backingStore","interactive","layer","preserveColorBuffer","preserveDepthBuffer","useDepthPeeling","occlusionRatio","maximumNumberOfPeels","delegate","backgroundTexture","texturedBackground","useShadows","pass"]),Ss(t,e,["actors","volumes","lights"]),C1(t,e,["background"],4,1),$u(t,e,["renderWindow"]),ZE(t,e)}var QE=st($d,"vtkRenderer"),Hd={newInstance:QE,extend:$d},eD={TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_RIGHT:"BOTTOM_RIGHT"},bc={Corners:eD};function fh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Kd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var R0=W.vtkErrorMacro,To=bc.Corners;function tD(t,e){e.classHierarchy.push("vtkOrientationMarkerWidget");var n=Kd({},t),r=[],a=Hd.newInstance(),i=new ResizeObserver(function(u){t.updateViewport()}),s=null,o=null,c=null;t.computeViewport=function(){var u=e.parentRenderer||e._interactor.getCurrentRenderer(),f=u.getViewport(),l=Ie(f,4),h=l[0],p=l[1],v=l[2],y=l[3],_=e._interactor.getView(),m=_.getSize(),d=_.getViewportSize(u),g=Ie(d,2),x=g[0],w=g[1],C=Math.min(x,w),S=e.viewportSize*C;S=Math.max(Math.min(e.minPixelSize,C),Math.min(e.maxPixelSize,S));var T=S/m[0],b=S/m[1];switch(e.viewportCorner){case To.TOP_LEFT:return[h,y-b,h+T,y];case To.TOP_RIGHT:return[v-T,y-b,v,y];case To.BOTTOM_LEFT:return[h,p,h+T,p+b];case To.BOTTOM_RIGHT:return[v-T,p,v,p+b];default:return R0("Invalid widget corner"),null}},t.updateViewport=function(){e.enabled&&(a.setViewport.apply(a,we(t.computeViewport())),e._interactor.render())},t.updateMarkerOrientation=function(){var u=e.parentRenderer||e._interactor.getCurrentRenderer(),f=u.getActiveCamera();if(!!f){var l=f.getReferenceByName("position"),h=f.getReferenceByName("focalPoint"),p=f.getReferenceByName("viewUp");if(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==h[0]||r[4]!==h[1]||r[5]!==h[2]||r[6]!==p[0]||r[7]!==p[1]||r[8]!==p[2]){r[0]=l[0],r[1]=l[1],r[2]=l[2],r[3]=h[0],r[4]=h[1],r[5]=h[2],r[6]=p[0],r[7]=p[1],r[8]=p[2];var v=a.getActiveCamera();v.setPosition(l[0],l[1],l[2]),v.setFocalPoint(h[0],h[1],h[2]),v.setViewUp(p[0],p[1],p[2]),a.resetCamera()}}},t.setEnabled=function(u){if(u){if(e.enabled)return;if(!e.actor){R0("Must set actor before enabling orientation marker.");return}if(!e._interactor){R0("Must set interactor before enabling orientation marker.");return}var f=e.parentRenderer||e._interactor.getCurrentRenderer(),l=f.getRenderWindow();l.addRenderer(a),l.getNumberOfLayers()<2&&l.setNumberOfLayers(2),a.setLayer(l.getNumberOfLayers()-1),a.setInteractive(!1),a.addViewProp(e.actor),e.actor.setVisibility(!0),s=e._interactor.onAnimation(t.updateMarkerOrientation),o=e._interactor.onEndAnimation(t.updateMarkerOrientation),i.observe(e._interactor.getView().getCanvas()),t.updateViewport(),t.updateMarkerOrientation(),e.enabled=!0}else{if(!e.enabled)return;e.enabled=!1,i.disconnect(),s.unsubscribe(),s=null,o.unsubscribe(),o=null,e.actor.setVisibility(!1),a.removeViewProp(e.actor);var h=e._interactor.findPokedRenderer().getRenderWindow();h&&h.removeRenderer(a)}t.modified()},t.setViewportCorner=function(u){u!==e.viewportCorner&&(e.viewportCorner=u,t.updateViewport())},t.setViewportSize=function(u){var f=Math.min(1,Math.max(0,u));f!==e.viewportSize&&(e.viewportSize=f,t.updateViewport())},t.setActor=function(u){var f=e.enabled;t.setEnabled(!1),e.actor=u,t.setEnabled(f)},t.setParentRenderer=function(u){var f=n.setParentRenderer(u);return f&&t.updateViewport(),f},t.getRenderer=function(){return a},t.delete=function(){n.delete(),c&&(c.unsubscribe(),c=null),s&&(s.unsubscribe(),s=null),o&&(o.unsubscribe(),o=null),i.disconnect()},c=t.onModified(t.updateViewport)}var rD={viewportCorner:bc.Corners.BOTTOM_LEFT,viewportSize:.2,minPixelSize:50,maxPixelSize:200,parentRenderer:null};function Xd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,rD,n),W.obj(t,e),W.get(t,e,["enabled","viewportCorner","viewportSize"]),W.setGet(t,e,["_interactor","minPixelSize","maxPixelSize","parentRenderer"]),W.get(t,e,["actor"]),W.moveToProtected(t,e,["interactor"]),tD(t,e)}var nD=W.newInstance(Xd,"vtkOrientationMarkerWidget"),lh=Kd({newInstance:nD,extend:Xd},bc),aD={Unknown:0,LeftController:1,RightController:2},iD={Unknown:0,Trigger:1,TrackPad:2,Grip:3,Thumbstick:4,A:5,B:6,ApplicationMenu:7},oD={Unknown:0,TouchpadX:1,TouchpadY:2,ThumbstickX:3,ThumbstickY:4},Ec={Device:aD,Input:iD,Axis:oD};function hh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var bo=Ec.Device,Sn=Ec.Input,F0=W.vtkWarningMacro,Eo=W.vtkErrorMacro,sD=W.normalizeWheel,uD=W.vtkOnceErrorMacro,L0={"xr-standard":[Sn.Trigger,Sn.Grip,Sn.TrackPad,Sn.Thumbstick,Sn.A,Sn.B]},Dc=["StartAnimation","Animation","EndAnimation","MouseEnter","MouseLeave","StartMouseMove","MouseMove","EndMouseMove","LeftButtonPress","LeftButtonRelease","MiddleButtonPress","MiddleButtonRelease","RightButtonPress","RightButtonRelease","KeyPress","KeyDown","KeyUp","StartMouseWheel","MouseWheel","EndMouseWheel","StartPinch","Pinch","EndPinch","StartPan","Pan","EndPan","StartRotate","Rotate","EndRotate","Button3D","Move3D","StartPointerLock","EndPointerLock","StartInteraction","Interaction","EndInteraction","AnimationFrameRateUpdate"];function Xr(t){return t.cancelable&&(t.stopPropagation(),t.preventDefault()),!1}function cD(t,e){e.classHierarchy.push("vtkRenderWindowInteractor");var n=new Set,r=0;t.start=function(){!e.initialized&&(t.initialize(),!e.initialized)||t.startEventLoop()},t.setRenderWindow=function(h){Eo("you want to call setView(view) instead of setRenderWindow on a vtk.js interactor")},t.setInteractorStyle=function(h){e.interactorStyle!==h&&(e.interactorStyle!=null&&e.interactorStyle.setInteractor(null),e.interactorStyle=h,e.interactorStyle!=null&&e.interactorStyle.getInteractor()!==t&&e.interactorStyle.setInteractor(t))},t.initialize=function(){e.initialized=!0,t.enable(),t.render()},t.enable=function(){return t.setEnabled(!0)},t.disable=function(){return t.setEnabled(!1)},t.startEventLoop=function(){return F0("empty event loop")};function a(h,p){e._forcedRenderer||(e.currentRenderer=t.findPokedRenderer(h,p))}t.getCurrentRenderer=function(){return e.currentRenderer||a(0,0),e.currentRenderer};function i(h){var p=e._view.getCanvas(),v=p.getBoundingClientRect(),y=p.width/v.width,_=p.height/v.height,m={x:y*(h.clientX-v.left),y:_*(v.height-h.clientY+v.top),z:0};return a(m.x,m.y),m}function s(h){for(var p={},v=0;v<h.length;v++){var y=h[v];p[y.identifier]=i(y)}return p}function o(h){return{controlKey:h.ctrlKey,altKey:h.altKey,shiftKey:h.shiftKey}}function c(h){var p=o(h),v=Mt({key:h.key,keyCode:h.charCode},p);return v}function u(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=document,y=h?"addEventListener":"removeEventListener",_=h?"removeEventListener":"addEventListener";!p&&!h&&r>0&&--r,(!r||p)&&(r=0,e.container&&e.container[_]("mousemove",t.handleMouseMove),v[y]("mouseup",t.handleMouseUp),v[y]("mousemove",t.handleMouseMove),v[y]("touchend",t.handleTouchEnd,!1),v[y]("touchcancel",t.handleTouchEnd,{passive:!1,capture:!1}),v[y]("touchmove",t.handleTouchMove,{passive:!1,capture:!1})),!p&&h&&++r}t.bindEvents=function(h){e.container=h,h.addEventListener("contextmenu",Xr),h.addEventListener("wheel",t.handleWheel),h.addEventListener("DOMMouseScroll",t.handleWheel),h.addEventListener("mouseenter",t.handleMouseEnter),h.addEventListener("mouseleave",t.handleMouseLeave),h.addEventListener("mousemove",t.handleMouseMove),h.addEventListener("mousedown",t.handleMouseDown),document.addEventListener("keypress",t.handleKeyPress),document.addEventListener("keydown",t.handleKeyDown),document.addEventListener("keyup",t.handleKeyUp),document.addEventListener("pointerlockchange",t.handlePointerLockChange),h.addEventListener("touchstart",t.handleTouchStart,{passive:!1,capture:!1})},t.unbindEvents=function(){u(!1,!0),e.container.removeEventListener("contextmenu",Xr),e.container.removeEventListener("wheel",t.handleWheel),e.container.removeEventListener("DOMMouseScroll",t.handleWheel),e.container.removeEventListener("mouseenter",t.handleMouseEnter),e.container.removeEventListener("mouseleave",t.handleMouseLeave),e.container.removeEventListener("mousemove",t.handleMouseMove),e.container.removeEventListener("mousedown",t.handleMouseDown),document.removeEventListener("keypress",t.handleKeyPress),document.removeEventListener("keydown",t.handleKeyDown),document.removeEventListener("keyup",t.handleKeyUp),document.removeEventListener("pointerlockchange",t.handlePointerLockChange),e.container.removeEventListener("touchstart",t.handleTouchStart,{passive:!1,capture:!1}),e.container=null},t.handleKeyPress=function(h){var p=c(h);t.keyPressEvent(p)},t.handleKeyDown=function(h){var p=c(h);t.keyDownEvent(p)},t.handleKeyUp=function(h){var p=c(h);t.keyUpEvent(p)},t.handleMouseDown=function(h){if(!(h.button>2)){u(!0),Xr(h);var p=Mt(Mt({},o(h)),{},{position:i(h)});switch(h.button){case 0:t.leftButtonPressEvent(p);break;case 1:t.middleButtonPressEvent(p);break;case 2:t.rightButtonPressEvent(p);break;default:Eo("Unknown mouse button pressed: ".concat(h.button));break}}},t.requestPointerLock=function(){var h=t.getView().getCanvas();h.requestPointerLock()},t.exitPointerLock=function(){return document.exitPointerLock()},t.isPointerLocked=function(){return!!document.pointerLockElement},t.handlePointerLockChange=function(){t.isPointerLocked()?t.startPointerLockEvent():t.endPointerLockEvent()};function f(){e._view&&e.enabled&&e.enableRender&&(e.inRender=!0,e._view.traverseAllPasses(),e.inRender=!1),t.invokeRenderEvent()}t.requestAnimation=function(h){if(h===void 0){Eo("undefined requester, can not start animating");return}if(n.has(h)){F0("requester is already registered for animating");return}n.add(h),!e.animationRequest&&n.size===1&&!e.xrAnimation&&(e._animationStartTime=Date.now(),e._animationFrameCount=0,e.animationRequest=requestAnimationFrame(t.handleAnimation),t.startAnimationEvent())},t.extendAnimation=function(h){var p=Date.now()+h;e._animationExtendedEnd=Math.max(e._animationExtendedEnd,p),!e.animationRequest&&n.size===0&&!e.xrAnimation&&(e._animationStartTime=Date.now(),e._animationFrameCount=0,e.animationRequest=requestAnimationFrame(t.handleAnimation),t.startAnimationEvent())},t.isAnimating=function(){return e.xrAnimation||e.animationRequest!==null},t.cancelAnimation=function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!n.has(h)){if(!p){var v=h&&h.getClassName?h.getClassName():h;F0("".concat(v," did not request an animation"))}return}n.delete(h),e.animationRequest&&n.size===0&&Date.now()>e._animationExtendedEnd&&(cancelAnimationFrame(e.animationRequest),e.animationRequest=null,t.endAnimationEvent(),t.render())},t.switchToXRAnimation=function(){e.animationRequest&&(cancelAnimationFrame(e.animationRequest),e.animationRequest=null),e.xrAnimation=!0},t.returnFromXRAnimation=function(){e.xrAnimation=!1,n.size!==0&&(e.recentAnimationFrameRate=10,e.animationRequest=requestAnimationFrame(t.handleAnimation))},t.updateXRGamepads=function(h,p,v){h.inputSources.forEach(function(y){var _=y.gripSpace==null?null:p.getPose(y.gripSpace,v),m=y.gamepad,d=y.handedness;if(m){m.index in e.lastGamepadValues||(e.lastGamepadValues[m.index]={left:{buttons:{}},right:{buttons:{}}});for(var g=0;g<m.buttons.length;++g)g in e.lastGamepadValues[m.index][d].buttons||(e.lastGamepadValues[m.index][d].buttons[g]=!1),e.lastGamepadValues[m.index][d].buttons[g]!==m.buttons[g].pressed&&_!=null&&(t.button3DEvent({gamepad:m,position:_.transform.position,orientation:_.transform.orientation,pressed:m.buttons[g].pressed,device:y.handedness==="left"?bo.LeftController:bo.RightController,input:L0[m.mapping]&&L0[m.mapping][g]?L0[m.mapping][g]:Sn.Trigger}),e.lastGamepadValues[m.index][d].buttons[g]=m.buttons[g].pressed),e.lastGamepadValues[m.index][d].buttons[g]&&_!=null&&t.move3DEvent({gamepad:m,position:_.transform.position,orientation:_.transform.orientation,device:y.handedness==="left"?bo.LeftController:bo.RightController})}})},t.handleMouseMove=function(h){var p=Mt(Mt({},o(h)),{},{position:i(h)});e.moveTimeoutID===0?t.startMouseMoveEvent(p):(t.mouseMoveEvent(p),clearTimeout(e.moveTimeoutID)),e.moveTimeoutID=setTimeout(function(){t.endMouseMoveEvent(),e.moveTimeoutID=0},200)},t.handleAnimation=function(){var h=Date.now();e._animationFrameCount++,h-e._animationStartTime>1e3&&e._animationFrameCount>1&&(e.recentAnimationFrameRate=1e3*(e._animationFrameCount-1)/(h-e._animationStartTime),e.lastFrameTime=1/e.recentAnimationFrameRate,t.animationFrameRateUpdateEvent(),e._animationStartTime=h,e._animationFrameCount=1),t.animationEvent(),f(),n.size>0||Date.now()<e._animationExtendedEnd?e.animationRequest=requestAnimationFrame(t.handleAnimation):(cancelAnimationFrame(e.animationRequest),e.animationRequest=null,t.endAnimationEvent(),t.render())},t.handleWheel=function(h){Xr(h);var p=Mt(Mt(Mt({},sD(h)),o(h)),{},{position:i(h)});e.wheelTimeoutID===0?t.startMouseWheelEvent(p):(t.mouseWheelEvent(p),clearTimeout(e.wheelTimeoutID)),e.wheelTimeoutID=setTimeout(function(){t.extendAnimation(600),t.endMouseWheelEvent(),e.wheelTimeoutID=0},200)},t.handleMouseEnter=function(h){var p=Mt(Mt({},o(h)),{},{position:i(h)});t.mouseEnterEvent(p)},t.handleMouseLeave=function(h){var p=Mt(Mt({},o(h)),{},{position:i(h)});t.mouseLeaveEvent(p)},t.handleMouseUp=function(h){u(!1),Xr(h);var p=Mt(Mt({},o(h)),{},{position:i(h)});switch(h.button){case 0:t.leftButtonReleaseEvent(p);break;case 1:t.middleButtonReleaseEvent(p);break;case 2:t.rightButtonReleaseEvent(p);break;default:Eo("Unknown mouse button released: ".concat(h.button));break}},t.handleTouchStart=function(h){if(u(!0),Xr(h),e.recognizeGestures&&h.touches.length>1){var p=s(h.touches);if(h.touches.length===2){var v=h.touches[0],y={position:i(v),shiftKey:!1,altKey:!1,controlKey:!1};t.leftButtonReleaseEvent(y)}t.recognizeGesture("TouchStart",p)}else{var _=h.touches[0],m={position:i(_),shiftKey:!1,altKey:!1,controlKey:!1};t.leftButtonPressEvent(m)}},t.handleTouchMove=function(h){if(Xr(h),e.recognizeGestures&&h.touches.length>1){var p=s(h.touches);t.recognizeGesture("TouchMove",p)}else{var v=h.touches[0],y={position:i(v),shiftKey:!1,altKey:!1,controlKey:!1};t.mouseMoveEvent(y)}},t.handleTouchEnd=function(h){if(Xr(h),e.recognizeGestures)if(h.touches.length===0)if(h.changedTouches.length===1){var p=h.changedTouches[0],v={position:i(p),shiftKey:!1,altKey:!1,controlKey:!1};t.leftButtonReleaseEvent(v),u(!1)}else{var y=s(h.changedTouches);t.recognizeGesture("TouchEnd",y),u(!1)}else if(h.touches.length===1){var _=s(h.changedTouches);t.recognizeGesture("TouchEnd",_);var m=h.touches[0],d={position:i(m),shiftKey:!1,altKey:!1,controlKey:!1};t.leftButtonPressEvent(d)}else{var g=s(h.touches);t.recognizeGesture("TouchMove",g)}else{var x=h.changedTouches[0],w={position:i(x),shiftKey:!1,altKey:!1,controlKey:!1};t.leftButtonReleaseEvent(w),u(!1)}},t.setView=function(h){e._view!==h&&(e._view=h,e._view.getRenderable().setInteractor(t),t.modified())},t.getFirstRenderer=function(){var h,p,v;return(h=e._view)===null||h===void 0||(p=h.getRenderable())===null||p===void 0||(v=p.getRenderersByReference())===null||v===void 0?void 0:v[0]},t.findPokedRenderer=function(){var h,p,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e._view)return null;var _=(h=e._view)===null||h===void 0||(p=h.getRenderable())===null||p===void 0?void 0:p.getRenderers();if(!_)return null;_.sort(function(C,S){return C.getLayer()-S.getLayer()});for(var m=null,d=null,g=null,x=_.length;x--;){var w=_[x];if(e._view.isInViewport(v,y,w)&&w.getInteractive()){g=w;break}m===null&&w.getInteractive()&&(m=w),d===null&&e._view.isInViewport(v,y,w)&&(d=w)}return g===null&&(g=m),g===null&&(g=d),g==null&&(g=_[0]),g},t.render=function(){!t.isAnimating()&&!e.inRender&&f()},Dc.forEach(function(h){var p=h.charAt(0).toLowerCase()+h.slice(1);t["".concat(p,"Event")]=function(v){if(!!e.enabled){var y=t.getCurrentRenderer();if(!y){uD(`
          Can not forward events without a current renderer on the interactor.
        `);return}var _=Mt({type:h,pokedRenderer:e.currentRenderer,firstRenderer:t.getFirstRenderer()},v);t["invoke".concat(h)](_)}}}),t.recognizeGesture=function(h,p){if(!(Object.keys(p).length>2)){if(e.startingEventPositions||(e.startingEventPositions={}),h==="TouchStart"){Object.keys(p).forEach(function(P){e.startingEventPositions[P]=p[P]}),e.currentGesture="Start";return}if(h==="TouchEnd"){e.currentGesture==="Pinch"&&(t.render(),t.endPinchEvent()),e.currentGesture==="Rotate"&&(t.render(),t.endRotateEvent()),e.currentGesture==="Pan"&&(t.render(),t.endPanEvent()),e.currentGesture="Start",e.startingEventPositions={};return}var v=0,y=[],_=[];Object.keys(p).forEach(function(P){y[v]=p[P],_[v]=e.startingEventPositions[P],v++});var m=Math.sqrt((_[0].x-_[1].x)*(_[0].x-_[1].x)+(_[0].y-_[1].y)*(_[0].y-_[1].y)),d=Math.sqrt((y[0].x-y[1].x)*(y[0].x-y[1].x)+(y[0].y-y[1].y)*(y[0].y-y[1].y)),g=Ko(Math.atan2(_[1].y-_[0].y,_[1].x-_[0].x)),x=Ko(Math.atan2(y[1].y-y[0].y,y[1].x-y[0].x)),w=x-g;x=x+180>=360?x-180:x+180,g=g+180>=360?g-180:g+180,Math.abs(x-g)<Math.abs(w)&&(w=x-g);var C=[];if(C[0]=(y[0].x-_[0].x+y[1].x-_[1].x)/2,C[1]=(y[0].y-_[0].y+y[1].y-_[1].y)/2,h==="TouchMove")if(e.currentGesture==="Start"){var S=.01*Math.sqrt(e.container.clientWidth*e.container.clientWidth+e.container.clientHeight*e.container.clientHeight);S<15&&(S=15);var T=Math.abs(d-m),b=d*3.1415926*Math.abs(w)/360,O=Math.sqrt(C[0]*C[0]+C[1]*C[1]);if(T>S&&T>b&&T>O){e.currentGesture="Pinch";var D={scale:1,touches:p};t.startPinchEvent(D)}else if(b>S&&b>O){e.currentGesture="Rotate";var M={rotation:0,touches:p};t.startRotateEvent(M)}else if(O>S){e.currentGesture="Pan";var R={translation:[0,0],touches:p};t.startPanEvent(R)}}else{if(e.currentGesture==="Rotate"){var E={rotation:w,touches:p};t.rotateEvent(E)}if(e.currentGesture==="Pinch"){var B={scale:d/m,touches:p};t.pinchEvent(B)}if(e.currentGesture==="Pan"){var I={translation:C,touches:p};t.panEvent(I)}}}},t.handleVisibilityChange=function(){e._animationStartTime=Date.now(),e._animationFrameCount=0},t.setCurrentRenderer=function(h){e._forcedRenderer=!!h,e.currentRenderer=h};var l=t.delete;t.delete=function(){for(;n.size;)t.cancelAnimation(n.values().next().value);typeof document.hidden!="undefined"&&document.removeEventListener("visibilitychange",t.handleVisibilityChange),l()},typeof document.hidden!="undefined"&&document.addEventListener("visibilitychange",t.handleVisibilityChange,!1)}var fD={renderWindow:null,interactorStyle:null,picker:null,pickingManager:null,initialized:!1,enabled:!1,enableRender:!0,currentRenderer:null,lightFollowCamera:!0,desiredUpdateRate:30,stillUpdateRate:2,container:null,recognizeGestures:!0,currentGesture:"Start",animationRequest:null,lastFrameTime:.1,recentAnimationFrameRate:10,wheelTimeoutID:0,moveTimeoutID:0,lastGamepadValues:{}};function qd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,fD,n),W.obj(t,e),e._animationExtendedEnd=0,W.event(t,e,"RenderEvent"),Dc.forEach(function(r){return W.event(t,e,r)}),W.get(t,e,["initialized","container","interactorStyle","lastFrameTime","recentAnimationFrameRate","_view"]),W.setGet(t,e,["lightFollowCamera","enabled","enableRender","recognizeGestures","desiredUpdateRate","stillUpdateRate","picker"]),W.moveToProtected(t,e,["view"]),cD(t,e)}var lD=W.newInstance(qd,"vtkRenderWindowInteractor"),Oc=Mt({newInstance:lD,extend:qd,handledEvents:Dc},Ec);function ph(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ph(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ph(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var hD=W.vtkErrorMacro,pD=W.VOID;function vD(t,e,n,r){var a=t.getRenderWindow().getViews()[0];return a.worldToDisplay(e,n,r,t)}function dD(t,e,n,r){var a=t.getRenderWindow().getViews()[0];return a.displayToWorld(e,n,r,t)}var gD={computeWorldToDisplay:vD,computeDisplayToWorld:dD};function yD(t,e){e.classHierarchy.push("vtkInteractorObserver");var n=Yd({},t);function r(){for(;e.subscribedEvents.length;)e.subscribedEvents.pop().unsubscribe()}function a(){Oc.handledEvents.forEach(function(i){t["handle".concat(i)]&&e.subscribedEvents.push(e._interactor["on".concat(i)](function(s){return e.processEvents?t["handle".concat(i)](s):pD},e.priority))})}t.setInteractor=function(i){i!==e._interactor&&(r(),e._interactor=i,i&&e.enabled&&a(),t.modified())},t.setEnabled=function(i){i!==e.enabled&&(r(),i&&(e._interactor?a():hD(`
          The interactor must be set before subscribing to events
        `)),e.enabled=i,t.modified())},t.computeDisplayToWorld=function(i,s,o,c){return i?e._interactor.getView().displayToWorld(s,o,c,i):null},t.computeWorldToDisplay=function(i,s,o,c){return i?e._interactor.getView().worldToDisplay(s,o,c,i):null},t.setPriority=function(i){var s=n.setPriority(i);s&&e._interactor&&(r(),a())}}var mD={enabled:!0,priority:0,processEvents:!0,subscribedEvents:[]};function Zd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,mD,n),W.obj(t,e),W.event(t,e,"InteractionEvent"),W.event(t,e,"StartInteractionEvent"),W.event(t,e,"EndInteractionEvent"),W.get(t,e,["_interactor","enabled"]),W.setGet(t,e,["priority","processEvents"]),W.moveToProtected(t,e,["interactor"]),yD(t,e)}var _D=W.newInstance(Zd,"vtkInteractorObserver"),xD=Yd({newInstance:_D,extend:Zd},gD),wD={IS_START:0,IS_NONE:0,IS_ROTATE:1,IS_PAN:2,IS_SPIN:3,IS_DOLLY:4,IS_CAMERA_POSE:11,IS_WINDOW_LEVEL:1024,IS_SLICE:1025},Jd={States:wD};function vh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function CD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Tr=Jd.States,A0={Rotate:Tr.IS_ROTATE,Pan:Tr.IS_PAN,Spin:Tr.IS_SPIN,Dolly:Tr.IS_DOLLY,CameraPose:Tr.IS_CAMERA_POSE,WindowLevel:Tr.IS_WINDOW_LEVEL,Slice:Tr.IS_SLICE};function SD(t,e){e.classHierarchy.push("vtkInteractorStyle"),Object.keys(A0).forEach(function(n){W.event(t,e,"Start".concat(n,"Event")),t["start".concat(n)]=function(){e.state===Tr.IS_NONE&&(e.state=A0[n],e._interactor.requestAnimation(t),t.invokeStartInteractionEvent({type:"StartInteractionEvent"}),t["invokeStart".concat(n,"Event")]({type:"Start".concat(n,"Event")}))},W.event(t,e,"End".concat(n,"Event")),t["end".concat(n)]=function(){e.state===A0[n]&&(e.state=Tr.IS_NONE,e._interactor.cancelAnimation(t),t.invokeEndInteractionEvent({type:"EndInteractionEvent"}),t["invokeEnd".concat(n,"Event")]({type:"End".concat(n,"Event")}),e._interactor.render())}}),t.handleKeyPress=function(n){var r=e._interactor,a=null;switch(n.key){case"r":case"R":n.pokedRenderer.resetCamera(),r.render();break;case"w":case"W":a=n.pokedRenderer.getActors(),a.forEach(function(i){var s=i.getProperty();s.setRepresentationToWireframe&&s.setRepresentationToWireframe()}),r.render();break;case"s":case"S":a=n.pokedRenderer.getActors(),a.forEach(function(i){var s=i.getProperty();s.setRepresentationToSurface&&s.setRepresentationToSurface()}),r.render();break;case"v":case"V":a=n.pokedRenderer.getActors(),a.forEach(function(i){var s=i.getProperty();s.setRepresentationToPoints&&s.setRepresentationToPoints()}),r.render();break}}}var TD={state:Tr.IS_NONE,handleObservers:1,autoAdjustCameraClippingRange:1};function Qd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,TD,n),xD.extend(t,e,n),SD(t,e)}var bD=W.newInstance(Qd,"vtkInteractorStyle"),eg=CD({newInstance:bD,extend:Qd},Jd);function dh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ED(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var B0=W.vtkDebugMacro,DD=eg.States,$a={type:"StartInteractionEvent"},qr={type:"InteractionEvent"},Ha={type:"EndInteractionEvent"};function xu(t,e,n,r,a,i){var s=t.getActiveCamera(),o=s.getFocalPoint();o=e.getInteractorStyle().computeWorldToDisplay(t,o[0],o[1],o[2]);var c=o[2],u=e.getInteractorStyle().computeDisplayToWorld(t,n,r,c),f=e.getInteractorStyle().computeDisplayToWorld(t,a,i,c),l=[f[0]-u[0],f[1]-u[1],f[2]-u[2]];o=s.getFocalPoint();var h=s.getPosition();s.setFocalPoint(l[0]+o[0],l[1]+o[1],l[2]+o[2]),s.setPosition(l[0]+h[0],l[1]+h[1],l[2]+h[2])}function OD(t,e,n,r){var a=n.getActiveCamera();if(a.getParallelProjection()){var i=r.getView().getViewportSize(n),s=i[0],o=i[1],c=s/2,u=o/2,f=e.x,l=e.y;xu(n,r,c,u,f,l),a.setParallelScale(a.getParallelScale()/t),xu(n,r,f,l,c,u)}else{var h=a.getFocalPoint(),p=a.getViewPlaneNormal();h=r.getInteractorStyle().computeWorldToDisplay(n,h[0],h[1],h[2]);var v=r.getInteractorStyle().computeDisplayToWorld(n,e.x,e.y,h[2]);a.setFocalPoint(v[0],v[1],v[2]),a.dolly(t),n.resetCameraClippingRange();var y=a.getPosition();h=a.getFocalPoint();var _=[0,0,0],m=p[0]*(h[0]-y[0])+p[1]*(h[1]-y[1])+p[2]*(h[2]-y[2]);m/=Math.pow(p[0],2)+Math.pow(p[1],2)+Math.pow(p[2],2),_[0]=y[0]+p[0]*m,_[1]=y[1]+p[1]*m,_[2]=y[2]+p[2]*m,a.setFocalPoint(_[0],_[1],_[2]),n.resetCameraClippingRange()}}function ND(t,e,n){if(!Number.isNaN(n)){var r=e.getActiveCamera();r.getParallelProjection()?r.setParallelScale(r.getParallelScale()/n):(r.dolly(n),e.resetCameraClippingRange()),t.getLightFollowCamera()&&e.updateLightsGeometryToFollowCamera()}}var MD={dollyToPosition:OD,translateCamera:xu,dollyByFactor:ND};function kD(t,e){e.classHierarchy.push("vtkInteractorStyleManipulator"),e.mouseManipulators=[],e.keyboardManipulators=[],e.vrManipulators=[],e.gestureManipulators=[],e.currentManipulator=null,e.currentWheelManipulator=null,e.centerOfRotation=[0,0,0],e.rotationFactor=1,t.removeAllManipulators=function(){t.removeAllMouseManipulators(),t.removeAllKeyboardManipulators(),t.removeAllVRManipulators(),t.removeAllGestureManipulators()},t.removeAllMouseManipulators=function(){e.mouseManipulators=[]},t.removeAllKeyboardManipulators=function(){e.keyboardManipulators=[]},t.removeAllVRManipulators=function(){e.vrManipulators=[]},t.removeAllGestureManipulators=function(){e.gestureManipulators=[]};var n=function(i,s){var o=s.indexOf(i);return o===-1?!1:(s.splice(o,1),t.modified(),!0)};t.removeMouseManipulator=function(a){return n(a,e.mouseManipulators)},t.removeKeyboardManipulator=function(a){return n(a,e.keyboardManipulators)},t.removeVRManipulator=function(a){return n(a,e.vrManipulators)},t.removeGestureManipulator=function(a){return n(a,e.gestureManipulators)};var r=function(i,s){var o=s.indexOf(i);return o!==-1?!1:(s.push(i),t.modified(),!0)};t.addMouseManipulator=function(a){return r(a,e.mouseManipulators)},t.addKeyboardManipulator=function(a){return r(a,e.keyboardManipulators)},t.addVRManipulator=function(a){return r(a,e.vrManipulators)},t.addGestureManipulator=function(a){return r(a,e.gestureManipulators)},t.getNumberOfMouseManipulators=function(){return e.mouseManipulators.length},t.getNumberOfKeyboardManipulators=function(){return e.keyboardManipulators.length},t.getNumberOfVRManipulators=function(){return e.vrManipulators.length},t.getNumberOfGestureManipulators=function(){return e.gestureManipulators.length},t.resetCurrentManipulator=function(){e.currentManipulator=null,e.currentWheelManipulator=null},t.handleLeftButtonPress=function(a){e.previousPosition=a.position,t.onButtonDown(1,a)},t.handleMiddleButtonPress=function(a){e.previousPosition=a.position,t.onButtonDown(2,a)},t.handleRightButtonPress=function(a){e.previousPosition=a.position,t.onButtonDown(3,a)},t.handleButton3D=function(a){!a||(e.currentManipulator=t.findVRManipulator(a.device,a.input,a.pressed),e.currentManipulator?(e.currentManipulator.onButton3D(t,a.pokedRenderer,e.state,a.device,a.input,a.pressed),a.pressed?t.startCameraPose():t.endCameraPose()):B0("No manipulator found"))},t.handleMove3D=function(a){e.currentManipulator&&e.state===DD.IS_CAMERA_POSE&&e.currentManipulator.onMove3D(t,a.pokedRenderer,e.state,a)},t.onButtonDown=function(a,i){e.currentManipulator||(e.currentManipulator=t.findMouseManipulator(a,i.shiftKey,i.controlKey,i.altKey),e.currentManipulator?(e.currentManipulator.setCenter&&e.currentManipulator.setCenter(e.centerOfRotation),e.currentManipulator.setRotationFactor&&e.currentManipulator.setRotationFactor(e.rotationFactor),e.currentManipulator.startInteraction(),e.currentManipulator.onButtonDown(e._interactor,i.pokedRenderer,i.position),e._interactor.requestAnimation(t.onButtonDown),t.invokeStartInteractionEvent($a)):B0("No manipulator found"))},t.findMouseManipulator=function(a,i,s,o){for(var c=null,u=e.mouseManipulators.length;u--;){var f=e.mouseManipulators[u];f&&f.getButton()===a&&f.getShift()===i&&f.getControl()===s&&f.getAlt()===o&&f.isDragEnabled()&&(c=f)}return c},t.findVRManipulator=function(a,i){for(var s=null,o=e.vrManipulators.length;o--;){var c=e.vrManipulators[o];c&&c.getDevice()===a&&c.getInput()===i&&(s=c)}return s},t.handleLeftButtonRelease=function(){t.onButtonUp(1)},t.handleMiddleButtonRelease=function(){t.onButtonUp(2)},t.handleRightButtonRelease=function(){t.onButtonUp(3)},t.onButtonUp=function(a){!e.currentManipulator||e.currentManipulator.getButton&&e.currentManipulator.getButton()===a&&(e.currentManipulator.onButtonUp(e._interactor),e.currentManipulator.endInteraction(),e.currentManipulator=null,e._interactor.cancelAnimation(t.onButtonDown),t.invokeEndInteractionEvent(Ha))},t.handleStartMouseWheel=function(a){if(!e.currentWheelManipulator){for(var i=null,s=e.mouseManipulators.length;s--;){var o=e.mouseManipulators[s];o&&o.isScrollEnabled()&&o.getShift()===a.shiftKey&&o.getControl()===a.controlKey&&o.getAlt()===a.altKey&&(i=o)}i?(e.currentWheelManipulator=i,e.currentWheelManipulator.onStartScroll(e._interactor,a.pokedRenderer,a.spinY),e.currentWheelManipulator.startInteraction(),e._interactor.requestAnimation(t.handleStartMouseWheel),t.invokeStartInteractionEvent($a)):B0("No manipulator found")}},t.handleEndMouseWheel=function(){!e.currentWheelManipulator||e.currentWheelManipulator.onEndScroll&&(e.currentWheelManipulator.onEndScroll(e._interactor),e.currentWheelManipulator.endInteraction(),e.currentWheelManipulator=null,e._interactor.cancelAnimation(t.handleStartMouseWheel),t.invokeEndInteractionEvent(Ha))},t.handleMouseWheel=function(a){e.currentWheelManipulator&&e.currentWheelManipulator.onScroll&&(e.currentWheelManipulator.onScroll(e._interactor,a.pokedRenderer,a.spinY,e.cachedMousePosition),t.invokeInteractionEvent(qr))},t.handleMouseMove=function(a){e.cachedMousePosition=a.position,e.currentManipulator&&e.currentManipulator.onMouseMove&&(e.currentManipulator.onMouseMove(e._interactor,a.pokedRenderer,a.position),t.invokeInteractionEvent(qr))},t.handleKeyPress=function(a){e.keyboardManipulators.filter(function(i){return i.onKeyPress}).forEach(function(i){i.onKeyPress(e._interactor,a.pokedRenderer,a.key),t.invokeInteractionEvent(qr)})},t.handleKeyDown=function(a){e.keyboardManipulators.filter(function(i){return i.onKeyDown}).forEach(function(i){i.onKeyDown(e._interactor,a.pokedRenderer,a.key),t.invokeInteractionEvent(qr)})},t.handleKeyUp=function(a){e.keyboardManipulators.filter(function(i){return i.onKeyUp}).forEach(function(i){i.onKeyUp(e._interactor,a.pokedRenderer,a.key),t.invokeInteractionEvent(qr)})},t.handleStartPinch=function(a){t.startDolly();for(var i=e.gestureManipulators.length;i--;){var s=e.gestureManipulators[i];s&&s.isPinchEnabled()&&(s.onStartPinch(e._interactor,a.scale),s.startInteraction())}e._interactor.requestAnimation(t.handleStartPinch),t.invokeStartInteractionEvent($a)},t.handleEndPinch=function(){t.endDolly();for(var a=e.gestureManipulators.length;a--;){var i=e.gestureManipulators[a];i&&i.isPinchEnabled()&&(i.onEndPinch(e._interactor),i.endInteraction())}e._interactor.cancelAnimation(t.handleStartPinch),t.invokeEndInteractionEvent(Ha)},t.handleStartRotate=function(a){t.startRotate();for(var i=e.gestureManipulators.length;i--;){var s=e.gestureManipulators[i];s&&s.isRotateEnabled()&&(s.onStartRotate(e._interactor,a.rotation),s.startInteraction())}e._interactor.requestAnimation(t.handleStartRotate),t.invokeStartInteractionEvent($a)},t.handleEndRotate=function(){t.endRotate();for(var a=e.gestureManipulators.length;a--;){var i=e.gestureManipulators[a];i&&i.isRotateEnabled()&&(i.onEndRotate(e._interactor),i.endInteraction())}e._interactor.cancelAnimation(t.handleStartRotate),t.invokeEndInteractionEvent(Ha)},t.handleStartPan=function(a){t.startPan();for(var i=e.gestureManipulators.length;i--;){var s=e.gestureManipulators[i];s&&s.isPanEnabled()&&(s.onStartPan(e._interactor,a.translation),s.startInteraction())}e._interactor.requestAnimation(t.handleStartPan),t.invokeStartInteractionEvent($a)},t.handleEndPan=function(){t.endPan();for(var a=e.gestureManipulators.length;a--;){var i=e.gestureManipulators[a];i&&i.isPanEnabled()&&(i.onEndPan(e._interactor),i.endInteraction())}e._interactor.cancelAnimation(t.handleStartPan),t.invokeEndInteractionEvent(Ha)},t.handlePinch=function(a){for(var i=e.gestureManipulators.length,s=0;i--;){var o=e.gestureManipulators[i];o&&o.isPinchEnabled()&&(o.onPinch(e._interactor,a.pokedRenderer,a.scale),s++)}s&&t.invokeInteractionEvent(qr)},t.handlePan=function(a){for(var i=e.gestureManipulators.length,s=0;i--;){var o=e.gestureManipulators[i];o&&o.isPanEnabled()&&(o.onPan(e._interactor,a.pokedRenderer,a.translation),s++)}s&&t.invokeInteractionEvent(qr)},t.handleRotate=function(a){for(var i=e.gestureManipulators.length,s=0;i--;){var o=e.gestureManipulators[i];o&&o.isRotateEnabled()&&(o.onRotate(e._interactor,a.pokedRenderer,a.rotation),s++)}s&&t.invokeInteractionEvent(qr)}}var RD={cachedMousePosition:null,currentManipulator:null,currentWheelManipulator:null,centerOfRotation:[0,0,0],rotationFactor:1};function tg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,RD,n),eg.extend(t,e,n),W.setGet(t,e,["rotationFactor"]),W.get(t,e,["mouseManipulators","keyboardManipulators","vrManipulators","gestureManipulators"]),W.setGetArray(t,e,["centerOfRotation"],3),kD(t,e)}var FD=W.newInstance(tg,"vtkInteractorStyleManipulator"),fs=ED({newInstance:FD,extend:tg},MD);function LD(t,e){e.classHierarchy.push("vtkCompositeCameraManipulator"),t.computeDisplayCenter=function(n,r){var a=n.computeWorldToDisplay(r,e.center[0],e.center[1],e.center[2]);e.displayCenter[0]=a[0],e.displayCenter[1]=a[1]}}var AD={center:[0,0,0],rotationFactor:1,displayCenter:[0,0]};function BD(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,AD,n),W.setGet(t,e,["rotationFactor"]),W.setGetArray(t,e,["displayCenter"],2),W.setGetArray(t,e,["center"],3),LD(t,e)}var Aa={extend:BD};function VD(t,e){e.classHierarchy.push("vtkCompositeMouseManipulator"),t.startInteraction=function(){},t.endInteraction=function(){},t.onButtonDown=function(n,r,a){},t.onButtonUp=function(n){},t.onMouseMove=function(n,r,a){},t.onStartScroll=function(n,r,a){},t.onScroll=function(n,r,a){},t.onEndScroll=function(n){},t.isDragEnabled=function(){return e.dragEnabled},t.isScrollEnabled=function(){return e.scrollEnabled}}var UD={button:1,shift:!1,control:!1,alt:!1,dragEnabled:!0,scrollEnabled:!1};function GD(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,UD,n),W.setGet(t,e,["button","shift","control","alt"]),W.set(t,e,["dragEnabled","scrollEnabled"]),VD(t,e)}var Ba={extend:GD};function PD(t,e){e.classHierarchy.push("vtkMouseCameraTrackballRotateManipulator");var n=new Float64Array(3),r=new Float64Array(3),a=new Float64Array(3),i=new Float64Array(16),s=new Float64Array(3),o=new Float64Array(3),c=new Float64Array(3);t.onButtonDown=function(u,f,l){e.previousPosition=l},t.onMouseMove=function(u,f,l){if(!!l){var h=f.getActiveCamera(),p=h.getPosition(),v=h.getFocalPoint();Ae(i);var y=e.center,_=e.rotationFactor;e.useFocalPointAsCenterOfRotation&&(y[0]=v[0],y[1]=v[1],y[2]=v[2]);var m=e.previousPosition.x-l.x,d=e.previousPosition.y-l.y,g=u.getView().getViewportSize(f),x=h.getViewUp();if(e.useWorldUpVec){var w=new Float64Array(3);Jh(w,e.worldUpVec),d5(w,Be(p,e.worldUpVec)/Be(e.worldUpVec,e.worldUpVec)),Xo(y,w,w),nt(i,i,w),St(i,i,rt(360*m/g[0]*_),e.worldUpVec),w[0]=-w[0],w[1]=-w[1],w[2]=-w[2],nt(i,i,w),nt(i,i,y)}else nt(i,i,y),St(i,i,rt(360*m/g[0]*_),x);kt(h.getDirectionOfProjection(),x,s),St(i,i,rt(-360*d/g[1]*_),s),o[0]=-y[0],o[1]=-y[1],o[2]=-y[2],nt(i,i,o),be(n,p,i),be(r,v,i),c[0]=x[0]+p[0],c[1]=x[1]+p[1],c[2]=x[2]+p[2],be(a,c,i),h.setPosition(n[0],n[1],n[2]),h.setFocalPoint(r[0],r[1],r[2]),h.setViewUp(a[0]-n[0],a[1]-n[1],a[2]-n[2]),h.orthogonalizeViewUp(),f.resetCameraClippingRange(),u.getLightFollowCamera()&&f.updateLightsGeometryToFollowCamera(),e.previousPosition=l}}}var jD={useWorldUpVec:!1,worldUpVec:[0,1,0],useFocalPointAsCenterOfRotation:!1};function rg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,jD,n),W.obj(t,e),Ba.extend(t,e,n),Aa.extend(t,e,n),W.setGet(t,e,["useWorldUpVec"]),W.setGetArray(t,e,["worldUpVec"],3),W.setGet(t,e,["useFocalPointAsCenterOfRotation"]),PD(t,e)}var zD=W.newInstance(rg,"vtkMouseCameraTrackballRotateManipulator"),ng={newInstance:zD,extend:rg};function WD(t,e){e.classHierarchy.push("vtkMouseCameraTrackballRollManipulator");var n=new Float64Array(3),r=new Float64Array(3),a=new Float64Array(3),i=new Float64Array(16),s=new Float64Array(3),o=new Float64Array(3),c=new Float64Array(3);t.onButtonDown=function(u,f,l){e.previousPosition=l},t.onMouseMove=function(u,f,l){if(!!l){var h=f.getActiveCamera(),p=h.getPosition(),v=h.getFocalPoint(),y=h.getViewUp();n[0]=v[0]-p[0],n[1]=v[1]-p[1],n[2]=v[2]-p[2],t.computeDisplayCenter(u.getInteractorStyle(),f);var _=e.previousPosition.x-e.displayCenter[0],m=l.x-e.displayCenter[0],d=e.previousPosition.y-e.displayCenter[1],g=l.y-e.displayCenter[1];if(!(m===0&&g===0||_===0&&d===0)){var x=Ko((_*g-d*m)/(Math.sqrt(_*_+d*d)*Math.sqrt(m*m+g*g))),w=e.center;Ae(i),a[0]=-w[0],a[1]=-w[1],a[2]=-w[2],nt(i,i,w),St(i,i,rt(x),n),nt(i,i,a),be(s,p,i),be(o,v,i),r[0]=y[0]+p[0],r[1]=y[1]+p[1],r[2]=y[2]+p[2],be(c,r,i),h.setPosition(s[0],s[1],s[2]),h.setFocalPoint(o[0],o[1],o[2]),h.setViewUp(c[0]-s[0],c[1]-s[1],c[2]-s[2]),h.orthogonalizeViewUp(),f.resetCameraClippingRange(),u.getLightFollowCamera()&&f.updateLightsGeometryToFollowCamera(),e.previousPosition=l}}}}var ID={};function ag(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ID,n),W.obj(t,e),Aa.extend(t,e,n),Ba.extend(t,e,n),WD(t,e)}var $D=W.newInstance(ag,"vtkMouseCameraTrackballRollManipulator"),ig={newInstance:$D,extend:ag};function HD(t,e){return t<e?e:t}function gh(t){return t*t}function KD(t,e){e.classHierarchy.push("vtkMouseCameraTrackballMultiRotateManipulator");var n=ng.newInstance(),r=ig.newInstance(),a=null;t.onButtonDown=function(i,s,o){var c=i.getView().getViewportSize(s),u=[.5*c[0],.5*c[1]],f=.9*HD(u[0],u[1]),l=gh(u[0]-o.x)+gh(u[1]-o.y);f*f>l?a=n:a=r,a.setButton(t.getButton()),a.setShift(t.getShift()),a.setControl(t.getControl()),a.setCenter(t.getCenter()),a.onButtonDown(i,o)},t.onButtonUp=function(i){a&&a.onButtonUp(i)},t.onMouseMove=function(i,s,o){a&&a.onMouseMove(i,s,o)}}var XD={};function og(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,XD,n),W.obj(t,e),Ba.extend(t,e,n),Aa.extend(t,e,n),KD(t,e)}var qD=W.newInstance(og,"vtkMouseCameraTrackballMultiRotateManipulator"),YD={newInstance:qD,extend:og};function ZD(t,e){e.classHierarchy.push("vtkMouseCameraTrackballPanManipulator"),t.onButtonDown=function(n,r,a){e.previousPosition=a},t.onMouseMove=function(n,r,a){if(!!a){var i=a,s=e.previousPosition;e.previousPosition=a;var o=r.getActiveCamera(),c=o.getPosition(),u=o.getFocalPoint();if(o.getParallelProjection()){o.orthogonalizeViewUp();var f=o.getViewUp(),l=o.getViewPlaneNormal(),h=[0,0,0];kt(l,f,h);var p=n.getView().getViewportSize(r)[1],v=(i.x-s.x)/p,y=(s.y-i.y)/p,_=o.getParallelScale();v*=_*2,y*=_*2;var m=h[0]*v+f[0]*y;c[0]+=m,u[0]+=m,m=h[1]*v+f[1]*y,c[1]+=m,u[1]+=m,m=h[2]*v+f[2]*y,c[2]+=m,u[2]+=m,o.setPosition(c[0],c[1],c[2]),o.setFocalPoint(u[0],u[1],u[2])}else{var d=e.center,g=n.getInteractorStyle(),x=g.computeWorldToDisplay(r,d[0],d[1],d[2])[2],w=g.computeDisplayToWorld(r,i.x,i.y,x),C=g.computeDisplayToWorld(r,s.x,s.y,x),S=[c[0]+(C[0]-w[0]),c[1]+(C[1]-w[1]),c[2]+(C[2]-w[2])],T=[u[0]+(C[0]-w[0]),u[1]+(C[1]-w[1]),u[2]+(C[2]-w[2])];o.setPosition(S[0],S[1],S[2]),o.setFocalPoint(T[0],T[1],T[2])}r.resetCameraClippingRange(),n.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera()}}}var JD={};function sg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,JD,n),W.obj(t,e),Aa.extend(t,e,n),Ba.extend(t,e,n),ZD(t,e)}var QD=W.newInstance(sg,"vtkMouseCameraTrackballPanManipulator"),eO={newInstance:QD,extend:sg};function tO(t,e){e.classHierarchy.push("vtkMouseCameraTrackballZoomManipulator"),t.onButtonDown=function(n,r,a){e.previousPosition=a;var i=n.getView().getViewportSize(r),s=r.getActiveCamera(),o=e.flipDirection?-1:1;if(s.getParallelProjection())e.zoomScale=1.5/i[1]*o;else{var c=s.getClippingRange();e.zoomScale=1.5*(c[1]/i[1])*o}},t.onMouseMove=function(n,r,a){if(!!a){var i=e.previousPosition.y-a.y,s=r.getActiveCamera();if(s.getParallelProjection()){var o=i*e.zoomScale;s.setParallelScale((1-o)*s.getParallelScale())}else{var c=s.getPosition(),u=s.getFocalPoint(),f=s.getDirectionOfProjection(),l=i*e.zoomScale,h=l*f[0];c[0]+=h,u[0]+=h,h=l*f[1],c[1]+=h,u[1]+=h,h=l*f[2],c[2]+=h,u[2]+=h,s.getFreezeFocalPoint()||s.setFocalPoint(u[0],u[1],u[2]),s.setPosition(c[0],c[1],c[2]),r.resetCameraClippingRange()}n.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera(),e.previousPosition=a}},t.onScroll=function(n,r,a){if(!!a){var i=r.getActiveCamera(),s=1-a/10;i.getParallelProjection()?i.setParallelScale(i.getParallelScale()/s):(i.dolly(s),r.resetCameraClippingRange()),n.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera()}}}var rO={zoomScale:0,flipDirection:!1};function ug(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,rO,n),W.obj(t,e),Ba.extend(t,e,n),Aa.extend(t,e,n),W.setGet(t,e,["flipDirection"]),tO(t,e)}var nO=W.newInstance(ug,"vtkMouseCameraTrackballZoomManipulator"),cg={newInstance:nO,extend:ug};function aO(t,e){e.classHierarchy.push("vtkMouseCameraTrackballZoomToMouseManipulator");var n=t.onButtonDown;t.onButtonDown=function(r,a,i){n(r,a,i),e.zoomPosition=i},t.onMouseMove=function(r,a,i){if(!!i){var s=e.previousPosition.y-i.y,o=s*e.zoomScale;fs.dollyToPosition(1-o,e.zoomPosition,a,r),r.getLightFollowCamera()&&a.updateLightsGeometryToFollowCamera(),e.previousPosition=i}},t.onScroll=function(r,a,i,s){if(!(!i||!s)){var o=1-i*.1;fs.dollyToPosition(o,s,a,r),r.getLightFollowCamera()&&a.updateLightsGeometryToFollowCamera()}}}var iO={zoomPosition:null};function fg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,iO,n),cg.extend(t,e,n),aO(t,e)}var oO=W.newInstance(fg,"vtkMouseCameraTrackballZoomToMouseManipulator"),sO={newInstance:oO,extend:fg};function uO(t,e){e.classHierarchy.push("vtkCompositeGestureManipulator"),t.startInteraction=function(){},t.endInteraction=function(){},t.onStartPinch=function(n,r){},t.onStartRotate=function(n,r){},t.onStartPan=function(n,r){},t.onPinch=function(n,r,a){},t.onRotate=function(n,r,a){},t.onPan=function(n,r,a){},t.onEndPinch=function(n){},t.onEndRotate=function(n){},t.onEndPan=function(n){},t.isPinchEnabled=function(){return e.pinchEnabled},t.isPanEnabled=function(){return e.panEnabled},t.isRotateEnabled=function(){return e.rotateEnabled}}var cO={pinchEnabled:!0,panEnabled:!0,rotateEnabled:!0};function fO(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,cO,n),W.set(t,e,["pinchEnabled","panEnabled","rotateEnabled"]),W.setGet(t,e,["interactorStyle"]),uO(t,e)}var lO={extend:fO};function hO(t,e){e.classHierarchy.push("vtkGestureCameraManipulator"),t.onStartPinch=function(n,r){e.previousScale=r},t.onStartRotate=function(n,r){e.previousRotation=r},t.onStartPan=function(n,r){e.previousTranslation=r},t.onPinch=function(n,r,a){fs.dollyByFactor(n,r,a/e.previousScale),e.previousScale=a},t.onPan=function(n,r,a){var i=r.getActiveCamera(),s=n.getInteractorStyle(),o=i.getFocalPoint();o=s.computeWorldToDisplay(r,o[0],o[1],o[2]);var c=o[2],u=a,f=e.previousTranslation,l=s.computeDisplayToWorld(r,o[0]+u[0]-f[0],o[1]+u[1]-f[1],c),h=s.computeDisplayToWorld(r,o[0],o[1],c),p=[];p[0]=h[0]-l[0],p[1]=h[1]-l[1],p[2]=h[2]-l[2],o=i.getFocalPoint();var v=i.getPosition();i.setFocalPoint(p[0]+o[0],p[1]+o[1],p[2]+o[2]),i.setPosition(p[0]+v[0],p[1]+v[1],p[2]+v[2]),n.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera(),i.orthogonalizeViewUp(),e.previousTranslation=a},t.onRotate=function(n,r,a){var i=r.getActiveCamera();i.roll(a-e.previousRotation),i.orthogonalizeViewUp(),e.previousRotation=a}}var pO={};function lg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,pO,n),W.obj(t,e),lO.extend(t,e,n),Aa.extend(t,e,n),hO(t,e)}var vO=W.newInstance(lg,"vtkGestureCameraManipulator"),dO={newInstance:vO,extend:lg};function yh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Do(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var gO=[-2,-1,-2,-1],yO={position:"absolute",zIndex:1,border:"2px solid #F44336",backgroundColor:"rgba(0, 0, 0, 0.1)",borderRadius:"4px",boxSizing:"border-box"};function mO(t,e){Object.keys(e).forEach(function(n){t.style[n]=e[n]})}function _O(t,e){e.classHierarchy.push("vtkMouseBoxSelectionManipulator");var n=null,r=null,a=null,i=null,s=null,o=!1;function c(){return!a||!i?gO:[Math.min(a.x,i.x),Math.max(a.x,i.x),Math.min(a.y,i.y),Math.max(a.y,i.y)]}function u(){if(!(!n||!r)){var f=n.getSize(),l=Ie(f,2),h=l[0],p=l[1],v=r.getBoundingClientRect(),y=v.width,_=v.height,m=c(),d=Ie(m,4),g=d[0],x=d[1],w=d[2],C=d[3];s.style.left="".concat(y*g/h,"px"),s.style.top="".concat(_-_*C/p,"px"),s.style.width="".concat(y*(x-g)/h,"px"),s.style.height="".concat(_*(C-w)/p,"px")}}t.onButtonDown=function(f,l,h){if(a=h,e.renderSelection){var p;n||(n=f.getView()),!r&&(p=n)!==null&&p!==void 0&&p.getContainer&&(r=n.getContainer()),r||(r=e.container),s||(s=document.createElement("div"),mO(s,e.selectionStyle)),u(),r&&!o&&(o=!0,r.appendChild(s))}},t.onMouseMove=function(f,l,h){!a||!h||(i=h,t.invokeBoxSelectInput({view:n,container:r,selection:c()}),e.renderSelection&&u())},t.onButtonUp=function(f,l){!a||!i||(t.invokeBoxSelectChange({view:n,container:r,selection:c()}),o&&(s.parentElement.removeChild(s),o=!1),n=null,r=null,a=null,i=null)}}function xO(t){return Do(Do({renderSelection:!0},t),{},{selectionStyle:Do(Do({},yO),t.selectionStyle)})}function hg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,xO(n)),Et(t,e),Ba.extend(t,e,n),q0(t,e,"BoxSelectChange"),q0(t,e,"BoxSelectInput"),Nt(t,e,["renderSelection","selectionStyle","container"]),_O(t,e)}var wO=st(hg,"vtkMouseBoxSelectionManipulator"),CO={newInstance:wO,extend:hg};function mh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ot(this,n)}}var Hr=me.createContext(null),Yt=me.createContext(null),qn=me.createContext(null),Hi=me.createContext(null),Ft=me.createContext(null),TO={None:null,Pan:eO,Zoom:cg,Roll:ig,Rotate:ng,MultiRotate:YD,ZoomToMouse:sO,Select:CO},bO={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},Ri=function(t){Dt(n,Lt.exports.Component);var e=SO(n);function n(r){var a;dt(this,n),(a=e.call(this,r)).containerRef=me.createRef(),a.renderWindow=r.renderWindow,a.renderer=r.renderer,a.camera=a.renderer.getActiveCamera(),a.openglRenderWindow=r.renderWindowView,a.interactor=r.interactor,a.defaultStyle=fs.newInstance(),a.style=r.interactive?a.defaultStyle:null,a.axesActor=AE.newInstance(),a.orientationWidget=lh.newInstance({actor:a.axesActor,interactor:a.interactor,parentRenderer:a.renderer}),a.orientationWidget.setViewportCorner(lh.Corners.BOTTOM_LEFT),a.orientationWidget.setViewportSize(.15),a.orientationWidget.setMinPixelSize(100),a.orientationWidget.setMaxPixelSize(300),a.selector=Rs.newInstance({captureZValues:!0}),a.selector.setFieldAssociation(Zp.FIELD_ASSOCIATION_POINTS),a.selector.attach(a.openglRenderWindow,a.renderer),a.renderView=function(){a.updateCubeBounds(),a.renderWindow.render()},a.resetCamera=a.resetCamera.bind(gi(a));var i=He.newInstance({bounds:[0,0,0,0,0,0]});a.updateCubeBounds=function(){if(a.props.showCubeAxes){i.reset();for(var o=a.renderer.get("props").props,c=0;c<o.length;c++){var u=o[c];u.getVisibility()&&u.getUseBounds()&&u!==a.cubeAxes&&i.addBounds.apply(i,we(u.getBounds()))}a.cubeAxes.setDataBounds(i.getBounds())}},a.debouncedCubeBounds=Z0(a.updateCubeBounds,50),a.setInteractorStyle=function(o){a.props.interactive&&(a.style=o,a.interactor.setInteractorStyle(o))},a.hasFocus=!1,a.handleKey=function(o){a.hasFocus&&o.code==="KeyR"&&a.resetCamera()},a.onEnter=function(){a.hasFocus=!0},a.onLeave=function(){a.hasFocus=!1};var s=function(o,c,u,f){var l=u.x,h=u.y;if(a.props.pickingModes.indexOf(c)!==-1){var p=a.getPointerSizeTolerance(),v=a.pickClosest(Math.floor(l),Math.floor(h),p);o&&o(v[0],f),"setProps"in a.props&&a.props.setProps(Oe({},"".concat(c,"Info"),v[0]))}};return a.hover=Z0(function(o,c){var u=o.x,f=o.y;if(a.props.pickingModes.indexOf("hover")!==-1){var l=a.getPointerSizeTolerance(),h=a.pickClosest(Math.floor(u),Math.floor(f),l);a.lastSelection.length===0&&h.length===0||(a.lastSelection=h,a.props.onHover&&a.props.onHover(h[0],c),"setProps"in a.props&&a.props.setProps({hoverInfo:h[0]}))}},10),a.onClick=function(o){return s(a.props.onClick,"click",a.getScreenEventPositionFor(o),o)},a.onMouseDown=function(o){return s(a.props.onMouseDown,"mouseDown",a.getScreenEventPositionFor(o),o)},a.onMouseUp=function(o){return s(a.props.onMouseUp,"mouseUp",a.getScreenEventPositionFor(o),o)},a.onMouseMove=function(o){return a.hover(a.getScreenEventPositionFor(o),o)},a.lastSelection=[],a.onBoxSelectChange=function(o){var c=o.selection;if(a.props.pickingModes.indexOf("select")!==-1){var u=Ie(c,4),f=u[0],l=u[1],h=u[2],p=u[3],v=a.pick(f,h,l,p,!0);a.props.onSelect&&a.props.onSelect(v,event),"setProps"in a.props&&a.props.setProps({selectInfo:v})}},a.cubeAxes=dc.newInstance({visibility:!1,dataBounds:[-1,1,-1,1,-1,1]}),Array.from(a.cubeAxes.getActors()).forEach(function(o){return(0,o.setVisibility)(!1)}),a.cubeAxes.setCamera(a.camera),a.renderer.addActor(a.cubeAxes),a.subscriptions=[],a.subscriptions.push(a.renderer.onEvent(function(o){var c=o.type;o.renderer&&c==="ComputeVisiblePropBoundsEvent"&&a.debouncedCubeBounds()})),a}return gt(n,[{key:"getPointerSizeTolerance",value:function(){return this.props.pointerSize/2}},{key:"getScreenEventPositionFor",value:function(r){var a=this.openglRenderWindow.getCanvas().getBoundingClientRect(),i=this.openglRenderWindow.getSize(),s=Ie(i,2),o=s[0],c=s[1],u=o/a.width,f=c/a.height;return{x:u*(r.clientX-a.left),y:f*(a.height-r.clientY+a.top),z:0}}},{key:"render",value:function(){var r=this.props,a=r.id,i=r.children,s=r.style,o=r.className;return me.createElement("div",{key:a,id:a,className:o,style:Ka({position:"relative"},s),onMouseEnter:this.onEnter,onMouseLeave:this.onLeave,onClick:this.onClick,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove},me.createElement("div",{style:bO,ref:this.containerRef}),me.createElement(Hr.Provider,{value:this},i))}},{key:"componentDidMount",value:function(){var r=this,a=this.containerRef.current;document.addEventListener("keyup",this.handleKey),a.addEventListener("mousedown",this.onMouseDown,!0),this.update(this.props),this.resetCamera(),this.firstResetTimeout=setTimeout(function(){return r.resetCamera()},100)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){for(this.debouncedCubeBounds&&this.debouncedCubeBounds.cancel(),this.hover&&this.hover.cancel(),clearTimeout(this.resetCameraTimeout),clearTimeout(this.renderViewTimeout),clearTimeout(this.firstResetTimeout);this.subscriptions.length;)this.subscriptions.pop().unsubscribe();this.containerRef.current.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("keyup",this.handleKey),this.selector.delete(),this.orientationWidget.delete(),this.defaultStyle.delete(),this.defaultStyle=null,this.style=null,this.renderer=null,this.selector=null,this.orientationWidget=null}},{key:"update",value:function(r,a){var i,s,o,c=r.background,u=r.interactorSettings,f=r.interactive,l=r.cameraPosition,h=r.cameraViewUp,p=r.cameraParallelProjection,v=r.triggerRender,y=r.triggerResetCamera,_=r.showCubeAxes,m=r.cubeAxesStyle,d=r.showOrientationAxes;!c||a&&c===a.background||this.renderer.setBackground(c),!f||!u||a&&u===a.interactorSettings||(i=this.style,s=u,o=this,i.removeAllMouseManipulators(),s.forEach(function(g){var x=TO[g.action];if(x){var w=g.button,C=g.shift,S=g.control,T=g.alt,b=g.scrollEnabled,O=g.dragEnabled,D=g.useWorldUpVec,M=g.worldUpVec,R=g.useFocalPointAsCenterOfRotation,E=x.newInstance();E.setButton(w),E.setShift(!!C),E.setControl(!!S),E.setAlt(!!T),b!==void 0&&E.setScrollEnabled(b),O!==void 0&&E.setDragEnabled(O),i.addMouseManipulator(E),E.onBoxSelectChange&&o.onBoxSelectChange&&E.onBoxSelectChange(o.onBoxSelectChange),D!==void 0&&E.setUseWorldUpVec(D),M!==void 0&&E.setWorldUpVec(M),R!==void 0&&E.setUseFocalPointAsCenterOfRotation(R)}}),i.addGestureManipulator(dO.newInstance())),!p||a&&p===a.cameraParallelProjection||(this.renderer.getActiveCamera().setParallelProjection(p),a&&this.resetCamera()),!l||a&&JSON.stringify(l)===JSON.stringify(a.cameraPosition)||(this.renderer.getActiveCamera().set({position:l,viewUp:h,focalPoint:[0,0,0]}),a&&this.resetCamera()),this.cubeAxes.setVisibility(_)&&(Array.from(this.cubeAxes.getActors()).forEach(function(g){return(0,g.setVisibility)(_)}),this.renderView()),this.cubeAxes.set(m||{})&&this.renderView(),d!==this.orientationWidget.getEnabled()&&this.orientationWidget.setEnabled(d),a&&v!==a.triggerRender&&(this.renderViewTimeout=setTimeout(this.renderView,0)),a&&y!==a.triggerResetCamera&&(this.resetCameraTimeout=setTimeout(this.resetCamera,0))}},{key:"resetCamera",value:function(){this.renderer.resetCamera(),this.props.interactive&&this.style.setCenterOfRotation(this.renderer.getActiveCamera().getFocalPoint()),this.renderWindow.render()}},{key:"pickClosest",value:function(r,a,i){var s=Math.floor(r-i),o=Math.floor(a-i),c=Math.ceil(r+i),u=Math.ceil(a+i);if(this.selector.setArea(s,o,c,u),this.previousSelectedData=null,this.selector.captureBuffers()){var f=[r,a],l=this.selector.getPixelInformation(f,i,[0,0]);if(l==null||l.prop==null)return[];var h=this.openglRenderWindow.displayToWorld(Math.round((s+c)/2),Math.round((o+u)/2),0,this.renderer),p=this.openglRenderWindow.displayToWorld(Math.round((s+c)/2),Math.round((o+u)/2),1,this.renderer),v=[Array.from(h),Array.from(p)],y=Array.from(this.openglRenderWindow.displayToWorld(l.displayPosition[0],l.displayPosition[1],l.zValue,this.renderer)),_=[l.displayPosition[0],l.displayPosition[1],l.zValue],m=[];return m[0]=Ka(Ka({worldPosition:y,displayPosition:_,compositeID:l.compositeID},l.prop.get("representationId")),{},{ray:v}),m}return[]}},{key:"pick",value:function(r,a,i,s){var o=this,c=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(this.selector.setArea(r,a,i,s),this.previousSelectedData=null,this.selector.captureBuffers()){if(this.selections=this.selector.generateSelection(r,a,i,s)||[],c){var u=[Array.from(this.openglRenderWindow.displayToWorld(r,a,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(i,a,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(i,s,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(r,s,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(r,a,1,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(i,a,1,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(i,s,1,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(r,s,1,this.renderer))],f=[];return this.selections.forEach(function(h){var p=h.getProperties().prop,v=p==null?void 0:p.get("representationId").representationId;v&&f.push(v)}),{frustrum:u,representationIds:f}}var l=[Array.from(this.openglRenderWindow.displayToWorld(Math.round((r+i)/2),Math.round((a+s)/2),0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(Math.round((r+i)/2),Math.round((a+s)/2),1,this.renderer))];return this.selections.map(function(h){var p=h.getProperties(),v=p.prop,y=p.compositeID,_=p.displayPosition;return v!=null&&Ka(Ka({worldPosition:Array.from(o.openglRenderWindow.displayToWorld(_[0],_[1],_[2],o.renderer)),displayPosition:_,compositeID:y},v.get("representationId")),{},{ray:l})}).filter(Boolean)}return[]}}]),n}();Ri.defaultProps={style:{width:"100%",height:"100%"},background:[.2,.3,.4],cameraPosition:[0,0,1],cameraViewUp:[0,1,0],cameraParallelProjection:!1,triggerRender:0,triggerResetCamera:0,interactorSettings:[{button:1,action:"Rotate"},{button:2,action:"Pan"},{button:3,action:"Zoom",scrollEnabled:!0},{button:1,action:"Pan",alt:!0},{button:1,action:"Zoom",control:!0},{button:1,action:"Select",shift:!0},{button:1,action:"Roll",alt:!0,shift:!0}],interactive:!0,pickingModes:[],showCubeAxes:!1,pointerSize:0,showOrientationAxes:!1},Ri.propTypes={id:ee.string,style:ee.object,className:ee.string,background:ee.array,interactorSettings:ee.array,interactive:ee.bool,cameraPosition:ee.array,cameraViewUp:ee.array,cameraParallelProjection:ee.bool,triggerRender:ee.number,triggerResetCamera:ee.number,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node]),pickingModes:ee.arrayOf(ee.oneOf(["click","hover","select","mouseDown","mouseUp"])),onClick:ee.func,clickInfo:ee.object,onMouseDown:ee.func,mouseDownInfo:ee.object,onMouseUp:ee.func,mouseUpInfo:ee.object,onHover:ee.func,hoverInfo:ee.object,onSelect:ee.func,selectInfo:ee.object,pointerSize:ee.number,showCubeAxes:ee.bool,cubeAxesStyle:ee.object,showOrientationAxes:ee.bool};var EO={int32:Int32Array,int16:Int16Array,int8:Int8Array,uint32:Uint32Array,uint16:Uint16Array,uint8:Uint8Array,float32:Float32Array,float64:Float64Array};function ua(t,e){if(!t)return null;if(Array.isArray(t))return e.from(t);if(t.dtype){var n=t.bvals,r=t.dtype,a=Gs.toArrayBuffer(n);return new EO[r](a)}return t}function pg(t,e){return!(!t||t.length!==2||!e||e.length!==2)&&t[0]===e[0]&&t[1]===e[1]}function _h(t,e){for(var n in t)if(!(n in e)||t[n]!==e[n])return!1;return!0}function DO(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function xh(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Pr(t,e){return Dr(t)===Dr(e)&&(xh(t)&&xh(e)?DO(t,e):Dr(t)==="object"&&t&&e?_h(t,e)&&_h(e,t):t===e)}var OO={RGB:0,HSV:1,LAB:2,DIVERGING:3},NO={LINEAR:0,LOG10:1},Nc={ColorSpace:OO,Scale:NO};function wh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function MO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var lr=Nc.ColorSpace,vg=Nc.Scale,Oo=Ms.ScalarMappingTarget,kO=W.vtkDebugMacro,Fr=W.vtkErrorMacro,RO=W.vtkWarningMacro;function Ch(t,e){var n=t[0],r=t[1],a=t[2],i=Math.sqrt(n*n+r*r+a*a),s=i>.001?Math.acos(n/i):0,o=s>.001?Math.atan2(a,r):0;e[0]=i,e[1]=s,e[2]=o}function FO(t,e){var n=t[0],r=t[1],a=t[2];e[0]=n*Math.cos(r),e[1]=n*Math.sin(r)*Math.cos(a),e[2]=n*Math.sin(r)*Math.sin(a)}function Sh(t,e){if(t[0]>=e-.1)return t[2];var n=t[1]*Math.sqrt(e*e-t[0]*t[0])/(t[0]*Math.sin(t[1]));return t[2]>-.3*Math.PI?t[2]+n:t[2]-n}function LO(t,e){var n=t-e;for(n<0&&(n=-n);n>=2*Math.PI;)n-=2*Math.PI;return n>Math.PI&&(n=2*Math.PI-n),n}function Th(t,e,n,r){var a=[],i=[];la(e,a),la(n,i);var s=[],o=[];Ch(a,s),Ch(i,o);var c=t;if(s[1]>.05&&o[1]>.05&&LO(s[2],o[2])>.33*Math.PI){var u=Math.max(s[0],o[0]);u=Math.max(88,u),t<.5?(o[0]=u,o[1]=0,o[2]=0,c*=2):(s[0]=u,s[1]=0,s[2]=0,c=2*c-1)}s[1]<.05&&o[1]>.05?s[2]=Sh(o,s[0]):o[1]<.05&&s[1]>.05&&(o[2]=Sh(s,o[0]));var f=[];f[0]=(1-c)*s[0]+c*o[0],f[1]=(1-c)*s[1]+c*o[1],f[2]=(1-c)*s[2]+c*o[2];var l=[];FO(f,l),eu(l,r)}function AO(t,e){e.classHierarchy.push("vtkColorTransferFunction"),t.getSize=function(){return e.nodes.length},t.addRGBPoint=function(n,r,a,i){return t.addRGBPointLong(n,r,a,i,.5,0)},t.addRGBPointLong=function(n,r,a,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(s<0||s>1)return Fr("Midpoint outside range [0.0, 1.0]"),-1;if(o<0||o>1)return Fr("Sharpness outside range [0.0, 1.0]"),-1;e.allowDuplicateScalars||t.removePoint(n);var c={x:n,r,g:a,b:i,midpoint:s,sharpness:o};e.nodes.push(c),t.sortAndUpdateRange();for(var u=0;u<e.nodes.length&&e.nodes[u].x!==n;u++);return u<e.nodes.length?u:-1},t.addHSVPoint=function(n,r,a,i){return t.addHSVPointLong(n,r,a,i,.5,0)},t.addHSVPointLong=function(n,r,a,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,c=[],u=[r,a,i];return aa(u,c),t.addRGBPoint(n,c[0],c[1],c[2],s,o)},t.setNodes=function(n){if(e.nodes!==n){var r=JSON.stringify(e.nodes);e.nodes=n;var a=JSON.stringify(e.nodes);if(t.sortAndUpdateRange()||r!==a)return t.modified(),!0}return!1},t.sortAndUpdateRange=function(){var n=JSON.stringify(e.nodes);e.nodes.sort(function(i,s){return i.x-s.x});var r=JSON.stringify(e.nodes),a=t.updateRange();return!a&&n!==r?(t.modified(),!0):a},t.updateRange=function(){var n=[2];n[0]=e.mappingRange[0],n[1]=e.mappingRange[1];var r=e.nodes.length;return r?(e.mappingRange[0]=e.nodes[0].x,e.mappingRange[1]=e.nodes[r-1].x):(e.mappingRange[0]=0,e.mappingRange[1]=0),n[0]===e.mappingRange[0]&&n[1]===e.mappingRange[1]?!1:(t.modified(),!0)},t.removePoint=function(n){for(var r=0;r<e.nodes.length&&e.nodes[r].x!==n;r++);var a=r;if(r>=e.nodes.length)return-1;var i=!1;return e.nodes.splice(r,1),(r===0||r===e.nodes.length)&&(i=t.updateRange()),i||t.modified(),a},t.movePoint=function(n,r){if(n!==r){t.removePoint(r);for(var a=0;a<e.nodes.length;a++)if(e.nodes[a].x===n){e.nodes[a].x=r,t.sortAndUpdateRange();break}}},t.removeAllPoints=function(){e.nodes=[],t.sortAndUpdateRange()},t.addRGBSegment=function(n,r,a,i,s,o,c,u){t.sortAndUpdateRange();for(var f=0;f<e.nodes.length;)e.nodes[f].x>=n&&e.nodes[f].x<=s?e.nodes.splice(f,1):f++;t.addRGBPointLong(n,r,a,i,.5,0),t.addRGBPointLong(s,o,c,u,.5,0),t.modified()},t.addHSVSegment=function(n,r,a,i,s,o,c,u){var f=[r,a,i],l=[o,c,u],h=[],p=[];aa(f,h),aa(l,p),t.addRGBSegment(n,h[0],h[1],h[2],s,p[0],p[1],p[2])},t.mapValue=function(n){var r=[];return t.getColor(n,r),[Math.floor(255*r[0]+.5),Math.floor(255*r[1]+.5),Math.floor(255*r[2]+.5),255]},t.getColor=function(n,r){if(e.indexedLookup){var a=t.getSize(),i=t.getAnnotatedValueIndexInternal(n);if(i<0||a===0)t.getNanColor(r);else{var s=[];t.getNodeValue(i%a,s),r[0]=s.r,r[1]=s.g,r[2]=s.b}return}t.getTable(n,n,1,r)},t.getRedValue=function(n){var r=[];return t.getColor(n,r),r[0]},t.getGreenValue=function(n){var r=[];return t.getColor(n,r),r[1]},t.getBlueValue=function(n){var r=[];return t.getColor(n,r),r[2]},t.getTable=function(n,r,a,i){if(qo(n)||qo(r)){for(var s=0;s<a;s++)i[s*3+0]=e.nanColor[0],i[s*3+1]=e.nanColor[1],i[s*3+2]=e.nanColor[2];return}var o=0,c=e.nodes.length,u=0,f=0,l=0;c!==0&&(u=e.nodes[c-1].r,f=e.nodes[c-1].g,l=e.nodes[c-1].b);var h=0,p=0,v=0,y=[0,0,0],_=[0,0,0],m=0,d=0,g=[],x=e.scale===vg.LOG10;x&&(x=e.mappingRange[0]>0);var w=0,C=0,S=0;x&&(w=Math.log10(n),C=Math.log10(r));for(var T=0;T<a;T++){var b=3*T;if(a>1?x?(S=w+T/(a-1)*(C-w),h=Math.pow(10,S)):h=n+T/(a-1)*(r-n):x?(S=.5*(w+C),h=Math.pow(10,S)):h=.5*(n+r),e.discretize){var O=e.mappingRange;if(h>=O[0]&&h<=O[1]){var D=e.numberOfValues,M=O[1]-O[0];if(D<=1)h=O[0]+M/2;else{var R=(h-O[0])/M,E=Q0(D*R);h=O[0]+E/(D-1)*M}}}for(;o<c&&h>e.nodes[o].x;)o++,o<c&&(p=e.nodes[o-1].x,v=e.nodes[o].x,x&&(p=Math.log10(p),v=Math.log10(v)),y[0]=e.nodes[o-1].r,_[0]=e.nodes[o].r,y[1]=e.nodes[o-1].g,_[1]=e.nodes[o].g,y[2]=e.nodes[o-1].b,_[2]=e.nodes[o].b,m=e.nodes[o-1].midpoint,d=e.nodes[o-1].sharpness,m<1e-5&&(m=1e-5),m>.99999&&(m=.99999));if(h>e.mappingRange[1])i[b]=0,i[b+1]=0,i[b+2]=0,e.clamping&&(t.getUseAboveRangeColor()?(i[b]=e.aboveRangeColor[0],i[b+1]=e.aboveRangeColor[1],i[b+2]=e.aboveRangeColor[2]):(i[b]=u,i[b+1]=f,i[b+2]=l));else if(h<e.mappingRange[0]||D5(h)&&h<0)i[b]=0,i[b+1]=0,i[b+2]=0,e.clamping&&(t.getUseBelowRangeColor()?(i[b]=e.belowRangeColor[0],i[b+1]=e.belowRangeColor[1],i[b+2]=e.belowRangeColor[2]):c>0&&(i[b]=e.nodes[0].r,i[b+1]=e.nodes[0].g,i[b+2]=e.nodes[0].b));else if(o===0&&(Math.abs(h-n)<1e-6||e.discretize))c>0?(i[b]=e.nodes[0].r,i[b+1]=e.nodes[0].g,i[b+2]=e.nodes[0].b):(i[b]=0,i[b+1]=0,i[b+2]=0);else{var B=0;if(x?B=(S-p)/(v-p):B=(h-p)/(v-p),B<m?B=.5*B/m:B=.5+.5*(B-m)/(1-m),d>.99)if(B<.5){i[b]=y[0],i[b+1]=y[1],i[b+2]=y[2];continue}else{i[b]=_[0],i[b+1]=_[1],i[b+2]=_[2];continue}if(d<.01){if(e.colorSpace===lr.RGB)i[b]=(1-B)*y[0]+B*_[0],i[b+1]=(1-B)*y[1]+B*_[1],i[b+2]=(1-B)*y[2]+B*_[2];else if(e.colorSpace===lr.HSV){var I=[],P=[];eo(y,I),eo(_,P),e.hSVWrap&&(I[0]-P[0]>.5||P[0]-I[0]>.5)&&(I[0]>P[0]?I[0]-=1:P[0]-=1);var L=[];L[0]=(1-B)*I[0]+B*P[0],L[0]<0&&(L[0]+=1),L[1]=(1-B)*I[1]+B*P[1],L[2]=(1-B)*I[2]+B*P[2],aa(L,g),i[b]=g[0],i[b+1]=g[1],i[b+2]=g[2]}else if(e.colorSpace===lr.LAB){var F=[],G=[];la(y,F),la(_,G);var $=[];$[0]=(1-B)*F[0]+B*G[0],$[1]=(1-B)*F[1]+B*G[1],$[2]=(1-B)*F[2]+B*G[2],eu($,g),i[b]=g[0],i[b+1]=g[1],i[b+2]=g[2]}else e.colorSpace===lr.DIVERGING?(Th(B,y,_,g),i[b]=g[0],i[b+1]=g[1],i[b+2]=g[2]):Fr("ColorSpace set to invalid value.",e.colorSpace);continue}B<.5?B=.5*Math.pow(B*2,1+10*d):B>.5&&(B=1-.5*Math.pow((1-B)*2,1+10*d));var H=B*B,J=H*B,Q=2*J-3*H+1,q=-2*J+3*H,ne=J-2*H+B,re=J-H,oe=void 0,te=void 0;if(e.colorSpace===lr.RGB)for(var A=0;A<3;A++)oe=_[A]-y[A],te=(1-d)*oe,i[b+A]=Q*y[A]+q*_[A]+ne*te+re*te;else if(e.colorSpace===lr.HSV){var N=[],U=[];eo(y,N),eo(_,U),e.hSVWrap&&(N[0]-U[0]>.5||U[0]-N[0]>.5)&&(N[0]>U[0]?N[0]-=1:U[0]-=1);for(var V=[],k=0;k<3;k++)oe=U[k]-N[k],te=(1-d)*oe,V[k]=Q*N[k]+q*U[k]+ne*te+re*te,k===0&&V[k]<0&&(V[k]+=1);aa(V,g),i[b]=g[0],i[b+1]=g[1],i[b+2]=g[2]}else if(e.colorSpace===lr.LAB){var z=[],j=[];la(y,z),la(_,j);for(var K=[],X=0;X<3;X++)oe=j[X]-z[X],te=(1-d)*oe,K[X]=Q*z[X]+q*j[X]+ne*te+re*te;eu(K,g),i[b]=g[0],i[b+1]=g[1],i[b+2]=g[2]}else e.colorSpace===lr.DIVERGING?(Th(B,y,_,g),i[b]=g[0],i[b+1]=g[1],i[b+2]=g[2]):Fr("ColorSpace set to invalid value.");for(var Z=0;Z<3;Z++)i[b+Z]=i[b+Z]<0?0:i[b+Z],i[b+Z]=i[b+Z]>1?1:i[b+Z]}}},t.getUint8Table=function(n,r,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t.getMTime()<=e.buildTime&&e.tableSize===a&&e.tableWithAlpha!==i)return e.table;if(e.nodes.length===0)return Fr("Attempting to lookup a value with no points in the function"),e.table;var s=i?4:3;(e.tableSize!==a||e.tableWithAlpha!==i)&&(e.table=new Uint8Array(a*s),e.tableSize=a,e.tableWithAlpha=i);var o=[];t.getTable(n,r,a,o);for(var c=0;c<a;c++)e.table[c*s+0]=Math.floor(o[c*3+0]*255+.5),e.table[c*s+1]=Math.floor(o[c*3+1]*255+.5),e.table[c*s+2]=Math.floor(o[c*3+2]*255+.5),i&&(e.table[c*s+3]=255);return e.buildTime.modified(),e.table},t.buildFunctionFromTable=function(n,r,a,i){var s=0;t.removeAllPoints(),a>1&&(s=(r-n)/(a-1));for(var o=0;o<a;o++){var c={x:n+s*o,r:i[o*3],g:i[o*3+1],b:i[o*3+2],sharpness:0,midpoint:.5};e.nodes.push(c)}t.sortAndUpdateRange()},t.getNodeValue=function(n,r){return n<0||n>=e.nodes.length?(Fr("Index out of range!"),-1):(r[0]=e.nodes[n].x,r[1]=e.nodes[n].r,r[2]=e.nodes[n].g,r[3]=e.nodes[n].b,r[4]=e.nodes[n].midpoint,r[5]=e.nodes[n].sharpness,1)},t.setNodeValue=function(n,r){if(n<0||n>=e.nodes.length)return Fr("Index out of range!"),-1;var a=e.nodes[n].x;return e.nodes[n].x=r[0],e.nodes[n].r=r[1],e.nodes[n].g=r[2],e.nodes[n].b=r[3],e.nodes[n].midpoint=r[4],e.nodes[n].sharpness=r[5],a!==r[0]?t.sortAndUpdateRange():t.modified(),1},t.getNumberOfAvailableColors=function(){return e.indexedLookup&&t.getSize()?t.getSize():e.tableSize?e.tableSize:16777216},t.getIndexedColor=function(n,r){var a=t.getSize();if(a>0&&n>=0){var i=[];t.getNodeValue(n%a,i);for(var s=0;s<3;++s)r[s]=i[s+1];r[3]=1;return}t.getNanColor(r),r[3]=1},t.fillFromDataPointer=function(n,r){if(!(n<=0||!r)){t.removeAllPoints();for(var a=0;a<n;a++)t.addRGBPoint(r[a*4],r[a*4+1],r[a*4+2],r[a*4+3])}},t.setMappingRange=function(n,r){var a=[n,r],i=t.getRange();if(!(i[1]===a[1]&&i[0]===a[0])){if(a[1]===a[0]){Fr("attempt to set zero width color range");return}for(var s=(a[1]-a[0])/(i[1]-i[0]),o=a[0]-i[0]*s,c=0;c<e.nodes.length;++c)e.nodes[c].x=e.nodes[c].x*s+o;e.mappingRange[0]=a[0],e.mappingRange[1]=a[1],t.modified()}},t.adjustRange=function(n){var r=t.getRange(),a=[];r[0]<n[0]?(t.getColor(n[0],a),t.addRGBPoint(n[0],a[0],a[1],a[2])):(t.getColor(r[0],a),t.addRGBPoint(n[0],a[0],a[1],a[2])),r[1]>n[1]?(t.getColor(n[1],a),t.addRGBPoint(n[1],a[0],a[1],a[2])):(t.getColor(r[1],a),t.addRGBPoint(n[1],a[0],a[1],a[2])),t.sortAndUpdateRange();for(var i=0;i<e.nodes.length;)e.nodes[i].x>=n[0]&&e.nodes[i].x<=n[1]?e.nodes.splice(i,1):++i;return 1},t.estimateMinNumberOfSamples=function(n,r){var a=t.findMinimumXDistance();return Math.ceil((r-n)/a)},t.findMinimumXDistance=function(){if(e.nodes.length<2)return-1;for(var n=Number.MAX_VALUE,r=0;r<e.nodes.length-1;r++){var a=e.nodes[r+1].x-e.nodes[r].x;a<n&&(n=a)}return n},t.mapScalarsThroughTable=function(n,r,a,i){if(t.getSize()===0){kO("Transfer Function Has No Points!");return}e.indexedLookup?t.mapDataIndexed(n,r,a,i):t.mapData(n,r,a,i)},t.mapData=function(n,r,a,i){if(t.getSize()===0){RO("Transfer Function Has No Points!");return}var s=Math.floor(t.getAlpha()*255+.5),o=n.getNumberOfTuples(),c=n.getNumberOfComponents(),u=r.getData(),f=n.getData(),l=[];if(a===Oo.RGBA)for(var h=0;h<o;h++){var p=f[h*c+i];t.getColor(p,l),u[h*4]=Math.floor(l[0]*255+.5),u[h*4+1]=Math.floor(l[1]*255+.5),u[h*4+2]=Math.floor(l[2]*255+.5),u[h*4+3]=s}if(a===Oo.RGB)for(var v=0;v<o;v++){var y=f[v*c+i];t.getColor(y,l),u[v*3]=Math.floor(l[0]*255+.5),u[v*3+1]=Math.floor(l[1]*255+.5),u[v*3+2]=Math.floor(l[2]*255+.5)}if(a===Oo.LUMINANCE)for(var _=0;_<o;_++){var m=f[_*c+i];t.getColor(m,l),u[_]=Math.floor(l[0]*76.5+l[1]*150.45+l[2]*28.05+.5)}if(a===Oo.LUMINANCE_ALPHA)for(var d=0;d<o;d++){var g=f[d*c+i];t.getColor(g,l),u[d*2]=Math.floor(l[0]*76.5+l[1]*150.45+l[2]*28.05+.5),u[d*2+1]=s}},t.applyColorMap=function(n){if(n.ColorSpace&&(e.colorSpace=lr[n.ColorSpace.toUpperCase()],e.colorSpace===void 0&&(Fr("ColorSpace ".concat(n.ColorSpace," not supported, using RGB instead")),e.colorSpace=lr.RGB)),n.NanColor)for(e.nanColor=[].concat(n.NanColor);e.nanColor.length<4;)e.nanColor.push(1);if(n.RGBPoints){var r=n.RGBPoints.length;e.nodes=[];for(var a=.5,i=0,s=0;s<r;s+=4)e.nodes.push({x:n.RGBPoints[s],r:n.RGBPoints[s+1],g:n.RGBPoints[s+2],b:n.RGBPoints[s+3],midpoint:a,sharpness:i})}t.sortAndUpdateRange()}}var BO={clamping:!0,colorSpace:lr.RGB,hSVWrap:!0,scale:vg.LINEAR,nanColor:null,belowRangeColor:null,aboveRangeColor:null,useAboveRangeColor:!1,useBelowRangeColor:!1,allowDuplicateScalars:!1,table:null,tableSize:0,buildTime:null,nodes:null,discretize:!1,numberOfValues:256};function dg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,BO,n),Ms.extend(t,e,n),e.table=[],e.nodes=[],e.nanColor=[.5,0,0,1],e.belowRangeColor=[0,0,0,1],e.aboveRangeColor=[1,1,1,1],e.buildTime={},W.obj(e.buildTime),W.get(t,e,["buildTime","mappingRange"]),W.setGet(t,e,["useAboveRangeColor","useBelowRangeColor","colorSpace","discretize","numberOfValues"]),W.setArray(t,e,["nanColor","belowRangeColor","aboveRangeColor"],4),W.getArray(t,e,["nanColor","belowRangeColor","aboveRangeColor"]),AO(t,e)}var VO=W.newInstance(dg,"vtkColorTransferFunction"),Va=MO({newInstance:VO,extend:dg},Nc),No=W.vtkErrorMacro;function UO(t,e){e.classHierarchy.push("vtkPiecewiseFunction"),t.getSize=function(){return e.nodes.length},t.getType=function(){var n,r=0,a=0;e.nodes.length>0&&(r=e.nodes[0].y);for(var i=1;i<e.nodes.length;i++){if(n=e.nodes[i].y,n!==r)if(n>r)switch(a){case 0:case 1:a=1;break;case 2:default:a=3;break}else switch(a){case 0:case 2:a=2;break;case 1:default:a=3;break}if(r=n,a===3)break}switch(a){case 0:return"Constant";case 1:return"NonDecreasing";case 2:return"NonIncreasing";case 3:default:return"Varied"}},t.getDataPointer=function(){var n=e.nodes.length;if(e.function=null,n>0){e.function=[];for(var r=0;r<n;r++)e.function[2*r]=e.nodes[r].x,e.function[2*r+1]=e.nodes[r].y}return e.function},t.getFirstNonZeroValue=function(){if(e.nodes.length===0)return 0;for(var n=1,r=0,a=0;a<e.nodes.length;a++)if(e.nodes[a].y!==0){n=0;break}return n?r=Number.MAX_VALUE:a>0?r=e.nodes[a-1].x:e.clamping?r=-Number.MAX_VALUE:r=e.nodes[0].x,r},t.getNodeValue=function(n,r){var a=e.nodes.length;return n<0||n>=a?(No("Index out of range!"),-1):(r[0]=e.nodes[n].x,r[1]=e.nodes[n].y,r[2]=e.nodes[n].midpoint,r[3]=e.nodes[n].sharpness,1)},t.setNodeValue=function(n,r){var a=e.nodes.length;if(n<0||n>=a)return No("Index out of range!"),-1;var i=e.nodes[n].x;return e.nodes[n].x=r[0],e.nodes[n].y=r[1],e.nodes[n].midpoint=r[2],e.nodes[n].sharpness=r[3],i!==r[0]?t.sortAndUpdateRange():t.modified(),1},t.addPoint=function(n,r){return t.addPointLong(n,r,.5,0)},t.addPointLong=function(n,r,a,i){if(a<0||a>1)return No("Midpoint outside range [0.0, 1.0]"),-1;if(i<0||i>1)return No("Sharpness outside range [0.0, 1.0]"),-1;e.allowDuplicateScalars||t.removePoint(n);var s={x:n,y:r,midpoint:a,sharpness:i};e.nodes.push(s),t.sortAndUpdateRange();var o;for(o=0;o<e.nodes.length&&e.nodes[o].x!==n;o++);return o<e.nodes.length?o:-1},t.setNodes=function(n){e.nodes!==n&&(e.nodes=n,t.sortAndUpdateRange())},t.sortAndUpdateRange=function(){e.nodes.sort(function(r,a){return r.x-a.x});var n=t.updateRange();n||t.modified()},t.updateRange=function(){var n=e.range.slice(),r=e.nodes.length;return r?(e.range[0]=e.nodes[0].x,e.range[1]=e.nodes[r-1].x):(e.range[0]=0,e.range[1]=0),n[0]===e.range[0]&&n[1]===e.range[1]?!1:(t.modified(),!0)},t.removePoint=function(n){var r;for(r=0;r<e.nodes.length&&e.nodes[r].x!==n;r++);if(r>=e.nodes.length)return-1;var a=r,i=!1;return e.nodes.splice(r,1),(r===0||r===e.nodes.length)&&(i=t.updateRange()),i||t.modified(),a},t.removeAllPoints=function(){e.nodes=[],t.sortAndUpdateRange()},t.addSegment=function(n,r,a,i){t.sortAndUpdateRange();for(var s=0;s<e.nodes.length;)e.nodes[s].x>=n&&e.nodes[s].x<=a?e.nodes.splice(s,1):s++;t.addPoint(n,r,.5,0),t.addPoint(a,i,.5,0)},t.getValue=function(n){var r=[];return t.getTable(n,n,1,r),r[0]},t.adjustRange=function(n){if(n.length<2)return 0;var r=t.getRange();r[0]<n[0]?t.addPoint(n[0],t.getValue(n[0])):t.addPoint(n[0],t.getValue(r[0])),r[1]>n[1]?t.addPoint(n[1],t.getValue(n[1])):t.addPoint(n[1],t.getValue(r[1])),t.sortAndUpdateRange();for(var a=0;a<e.nodes.length;)e.nodes[a].x>=n[0]&&e.nodes[a].x<=n[1]?e.nodes.splice(a,1):++a;return t.sortAndUpdateRange(),1},t.estimateMinNumberOfSamples=function(n,r){var a=t.findMinimumXDistance();return Math.ceil((r-n)/a)},t.findMinimumXDistance=function(){var n=e.nodes.length;if(n<2)return-1;for(var r=e.nodes[1].x-e.nodes[0].x,a=0;a<n-1;a++){var i=e.nodes[a+1].x-e.nodes[a].x;i<r&&(r=i)}return r},t.getTable=function(n,r,a,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o,c=0,u=e.nodes.length,f=0;u!==0&&(f=e.nodes[u-1].y);var l=0,h=0,p=0,v=0,y=0,_=0,m=0;for(o=0;o<a;o++){var d=s*o;for(a>1?l=n+o/(a-1)*(r-n):l=.5*(n+r);c<u&&l>e.nodes[c].x;)c++,c<u&&(h=e.nodes[c-1].x,p=e.nodes[c].x,v=e.nodes[c-1].y,y=e.nodes[c].y,_=e.nodes[c-1].midpoint,m=e.nodes[c-1].sharpness,_<1e-5&&(_=1e-5),_>.99999&&(_=.99999));if(c>=u)i[d]=e.clamping?f:0;else if(c===0)i[d]=e.clamping?e.nodes[0].y:0;else{var g=(l-h)/(p-h);if(g<_?g=.5*g/_:g=.5+.5*(g-_)/(1-_),m>.99)if(g<.5){i[d]=v;continue}else{i[d]=y;continue}if(m<.01){i[d]=(1-g)*v+g*y;continue}g<.5?g=.5*Math.pow(g*2,1+10*m):g>.5&&(g=1-.5*Math.pow((1-g)*2,1+10*m));var x=g*g,w=x*g,C=2*w-3*x+1,S=-2*w+3*x,T=w-2*x+g,b=w-x,O=y-v,D=(1-m)*O;i[d]=C*v+S*y+T*D+b*D;var M=v<y?v:y,R=v>y?v:y;i[d]=i[d]<M?M:i[d],i[d]=i[d]>R?R:i[d]}}}}var GO={range:[0,0],clamping:!0,allowDuplicateScalars:!1};function gg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,GO,n),W.obj(t,e),e.nodes=[],W.setGet(t,e,["allowDuplicateScalars","clamping"]),W.setArray(t,e,["range"],2),W.getArray(t,e,["range"]),UO(t,e)}var PO=W.newInstance(gg,"vtkPiecewiseFunction"),ls={newInstance:PO,extend:gg};function bh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ri=Ju.InterpolationType,zO=Ju.OpacityMode,V0=W.vtkErrorMacro,Io=4;function WO(t,e){e.classHierarchy.push("vtkVolumeProperty"),t.getMTime=function(){for(var a=e.mtime,i,s=0;s<Io;s++)e.componentData[s].colorChannels===1?e.componentData[s].grayTransferFunction&&(i=e.componentData[s].grayTransferFunction.getMTime(),a=a>i?a:i):e.componentData[s].colorChannels===3&&e.componentData[s].rGBTransferFunction&&(i=e.componentData[s].rGBTransferFunction.getMTime(),a=a>i?a:i),e.componentData[s].scalarOpacity&&(i=e.componentData[s].scalarOpacity.getMTime(),a=a>i?a:i),e.componentData[s].gradientOpacity&&(e.componentData[s].disableGradientOpacity||(i=e.componentData[s].gradientOpacity.getMTime(),a=a>i?a:i));return a},t.getColorChannels=function(a){return a<0||a>3?(V0("Bad index - must be between 0 and 3"),0):e.componentData[a].colorChannels},t.setGrayTransferFunction=function(a,i){var s=!1;return e.componentData[a].grayTransferFunction!==i&&(e.componentData[a].grayTransferFunction=i,s=!0),e.componentData[a].colorChannels!==1&&(e.componentData[a].colorChannels=1,s=!0),s&&t.modified(),s},t.getGrayTransferFunction=function(a){return e.componentData[a].grayTransferFunction===null&&(e.componentData[a].grayTransferFunction=ls.newInstance(),e.componentData[a].grayTransferFunction.addPoint(0,0),e.componentData[a].grayTransferFunction.addPoint(1024,1),e.componentData[a].colorChannels!==1&&(e.componentData[a].colorChannels=1),t.modified()),e.componentData[a].grayTransferFunction},t.setRGBTransferFunction=function(a,i){var s=!1;return e.componentData[a].rGBTransferFunction!==i&&(e.componentData[a].rGBTransferFunction=i,s=!0),e.componentData[a].colorChannels!==3&&(e.componentData[a].colorChannels=3,s=!0),s&&t.modified(),s},t.getRGBTransferFunction=function(a){return e.componentData[a].rGBTransferFunction===null&&(e.componentData[a].rGBTransferFunction=Va.newInstance(),e.componentData[a].rGBTransferFunction.addRGBPoint(0,0,0,0),e.componentData[a].rGBTransferFunction.addRGBPoint(1024,1,1,1),e.componentData[a].colorChannels!==3&&(e.componentData[a].colorChannels=3),t.modified()),e.componentData[a].rGBTransferFunction},t.setScalarOpacity=function(a,i){return e.componentData[a].scalarOpacity!==i?(e.componentData[a].scalarOpacity=i,t.modified(),!0):!1},t.getScalarOpacity=function(a){return e.componentData[a].scalarOpacity===null&&(e.componentData[a].scalarOpacity=ls.newInstance(),e.componentData[a].scalarOpacity.addPoint(0,1),e.componentData[a].scalarOpacity.addPoint(1024,1),t.modified()),e.componentData[a].scalarOpacity},t.setComponentWeight=function(a,i){if(a<0||a>=Io)return V0("Invalid index"),!1;var s=Math.min(1,Math.max(0,i));return e.componentData[a].componentWeight!==s?(e.componentData[a].componentWeight=s,t.modified(),!0):!1},t.getComponentWeight=function(a){return a<0||a>=Io?(V0("Invalid index"),0):e.componentData[a].componentWeight},t.setInterpolationTypeToNearest=function(){return t.setInterpolationType(ri.NEAREST)},t.setInterpolationTypeToLinear=function(){return t.setInterpolationType(ri.LINEAR)},t.setInterpolationTypeToFastLinear=function(){return t.setInterpolationType(ri.FAST_LINEAR)},t.getInterpolationTypeAsString=function(){return W.enumToString(ri,e.interpolationType)};var n=["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity","opacityMode"];n.forEach(function(a){var i=W.capitalize(a);t["set".concat(i)]=function(s,o){return e.componentData[s]["".concat(a)]!==o?(e.componentData[s]["".concat(a)]=o,t.modified(),!0):!1}});var r=["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity","opacityMode"];r.forEach(function(a){var i=W.capitalize(a);t["get".concat(i)]=function(s){return e.componentData[s]["".concat(a)]}})}var IO={independentComponents:!0,interpolationType:ri.FAST_LINEAR,shade:0,ambient:.1,diffuse:.7,specular:.2,specularPower:10,useLabelOutline:!1,labelOutlineThickness:1};function yg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,IO,n),W.obj(t,e),!e.componentData){e.componentData=[];for(var r=0;r<Io;++r)e.componentData.push({colorChannels:1,grayTransferFunction:null,rGBTransferFunction:null,scalarOpacity:null,scalarOpacityUnitDistance:1,opacityMode:zO.FRACTIONAL,gradientOpacityMinimumValue:0,gradientOpacityMinimumOpacity:0,gradientOpacityMaximumValue:1,gradientOpacityMaximumOpacity:1,useGradientOpacity:!1,componentWeight:1})}W.setGet(t,e,["independentComponents","interpolationType","shade","ambient","diffuse","specular","specularPower","useLabelOutline","labelOutlineThickness"]),WO(t,e)}var $O=W.newInstance(yg,"vtkVolumeProperty"),HO=jO({newInstance:$O,extend:yg},Ju),KO=W.vtkDebugMacro;function XO(t,e){e.classHierarchy.push("vtkVolume"),t.getVolumes=function(){return t},t.makeProperty=HO.newInstance,t.getProperty=function(){return e.property===null&&(e.property=t.makeProperty()),e.property},t.getBounds=function(){if(e.mapper===null)return e.bounds;var n=e.mapper.getBounds();if(!n||n.length!==6)return n;if(n[0]>n[1])return e.mapperBounds=n.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),n;var r=function(o){return o[0].map(function(c,u){return o.map(function(f){return f[u]})})};if(!e.mapperBounds||!r([n,e.mapperBounds]).reduce(function(s,o){return s&&o[0]===o[1]},!0)||t.getMTime()>e.boundsMTime.getMTime()){KO("Recomputing bounds..."),e.mapperBounds=n.map(function(s){return s});var a=[];He.getCorners(n,a),t.computeMatrix();var i=new Float64Array(16);Ye(i,e.matrix),a.forEach(function(s){return be(s,s,i)}),e.bounds[0]=e.bounds[2]=e.bounds[4]=Number.MAX_VALUE,e.bounds[1]=e.bounds[3]=e.bounds[5]=-Number.MAX_VALUE,e.bounds=e.bounds.map(function(s,o){return o%2===0?a.reduce(function(c,u){return c>u[o/2]?u[o/2]:c},s):a.reduce(function(c,u){return c<u[(o-1)/2]?u[(o-1)/2]:c},s)}),e.boundsMTime.modified()}return e.bounds},t.getMTime=function(){var n=e.mtime;if(e.property!==null){var r=e.property.getMTime();n=r>n?r:n}return n},t.getRedrawMTime=function(){var n=e.mtime;if(e.mapper!==null){var r=e.mapper.getMTime();n=r>n?r:n,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),r=e.mapper.getInput().getMTime(),n=r>n?r:n)}return n}}var qO={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1]};function mg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,qO,n),cc.extend(t,e,n),e.boundsMTime={},W.obj(e.boundsMTime),W.set(t,e,["property"]),W.setGet(t,e,["mapper"]),W.getArray(t,e,["bounds"],6),XO(t,e)}var YO=W.newInstance(mg,"vtkVolume"),ZO={newInstance:YO,extend:mg},Tn=ip.BlendMode,ni=ip.FilterMode;function JO(t,e){e.classHierarchy.push("vtkVolumeMapper"),t.getBounds=function(){var n=t.getInputData();return n?(e.static||t.update(),e.bounds=n.getBounds()):e.bounds=xa(),e.bounds},t.update=function(){t.getInputData()},t.setBlendModeToComposite=function(){t.setBlendMode(Tn.COMPOSITE_BLEND)},t.setBlendModeToMaximumIntensity=function(){t.setBlendMode(Tn.MAXIMUM_INTENSITY_BLEND)},t.setBlendModeToMinimumIntensity=function(){t.setBlendMode(Tn.MINIMUM_INTENSITY_BLEND)},t.setBlendModeToAverageIntensity=function(){t.setBlendMode(Tn.AVERAGE_INTENSITY_BLEND)},t.setBlendModeToAdditiveIntensity=function(){t.setBlendMode(Tn.ADDITIVE_INTENSITY_BLEND)},t.getBlendModeAsString=function(){return W.enumToString(Tn,e.blendMode)},t.setAverageIPScalarRange=function(n,r){console.warn("setAverageIPScalarRange is deprecated use setIpScalarRange"),t.setIpScalarRange(n,r)},t.getFilterModeAsString=function(){return W.enumToString(ni,e.filterMode)},t.setFilterModeToOff=function(){t.setFilterMode(ni.OFF)},t.setFilterModeToNormalized=function(){t.setFilterMode(ni.NORMALIZED)},t.setFilterModeToRaw=function(){t.setFilterMode(ni.RAW)}}var QO={bounds:[1,-1,1,-1,1,-1],sampleDistance:1,imageSampleDistance:1,maximumSamplesPerRay:1e3,autoAdjustSampleDistances:!0,blendMode:Tn.COMPOSITE_BLEND,ipScalarRange:[-1e6,1e6],filterMode:ni.OFF,preferSizeOverAccuracy:!1};function _g(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,QO,n),Os.extend(t,e,n),W.setGet(t,e,["sampleDistance","imageSampleDistance","maximumSamplesPerRay","autoAdjustSampleDistances","blendMode","filterMode","preferSizeOverAccuracy"]),W.setGetArray(t,e,["ipScalarRange"],2),W.event(t,e,"lightingActivated"),JO(t,e)}var eN=W.newInstance(_g,"vtkVolumeMapper"),tN={newInstance:eN,extend:_g},rN=[{Name:"KAAMS",IndexedColors:[1,1,1,1,0,0,0,1,0,0,0,1,1,1,0,1,0,1,0,1,1,.63,.63,1,.67,.5,.33,1,.5,.75,.53,.35,.7,1,.75,.5],Annotations:[0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11]},{ColorSpace:"Diverging",Name:"Cool to Warm",NanColor:[1,1,0],RGBPoints:[0,.23137254902,.298039215686,.752941176471,.5,.865,.865,.865,1,.705882352941,.0156862745098,.149019607843]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Cool to Warm (Extended)",NanColor:[.25,0,0],RGBPoints:[0,0,0,.34902,.03125,.039216,.062745,.380392,.0625,.062745,.117647,.411765,.09375,.090196,.184314,.45098,.125,.12549,.262745,.501961,.15625,.160784,.337255,.541176,.1875,.2,.396078,.568627,.21875,.239216,.454902,.6,.25,.286275,.521569,.65098,.28125,.337255,.592157,.701961,.3125,.388235,.654902,.74902,.34375,.466667,.737255,.819608,.375,.572549,.819608,.878431,.40625,.654902,.866667,.909804,.4375,.752941,.917647,.941176,.46875,.823529,.956863,.968627,.5,.988235,.960784,.901961,.5,.941176,.984314,.988235,.52,.988235,.945098,.85098,.54,.980392,.898039,.784314,.5625,.968627,.835294,.698039,.59375,.94902,.733333,.588235,.625,.929412,.65098,.509804,.65625,.909804,.564706,.435294,.6875,.878431,.458824,.352941,.71875,.839216,.388235,.286275,.75,.760784,.294118,.211765,.78125,.701961,.211765,.168627,.8125,.65098,.156863,.129412,.84375,.6,.094118,.094118,.875,.54902,.066667,.098039,.90625,.501961,.05098,.12549,.9375,.45098,.054902,.172549,.96875,.4,.054902,.192157,1,.34902,.070588,.211765]},{ColorSpace:"Diverging",Name:"Warm to Cool",NanColor:[1,1,0],RGBPoints:[0,.705882352941,.0156862745098,.149019607843,.5,.865,.865,.865,1,.23137254902,.298039215686,.752941176471]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Warm to Cool (Extended)",NanColor:[.250004,0,0],RGBPoints:[0,.34902,0,.129412,.025,.4,.00392157,.101961,.05,.470588,.0156863,.0901961,.075,.54902,.027451,.0705882,.1,.619608,.0627451,.0431373,.125,.690196,.12549,.0627451,.15,.741176,.184314,.0745098,.175,.788235,.266667,.0941176,.2,.811765,.345098,.113725,.225,.831373,.411765,.133333,.25,.85098,.47451,.145098,.275,.870588,.54902,.156863,.3,.878431,.619608,.168627,.325,.890196,.658824,.196078,.35,.909804,.717647,.235294,.375,.929412,.776471,.278431,.395522,.94902,.823529,.321569,.418905,.968627,.87451,.407843,.444278,.980392,.917647,.509804,.470149,.988235,.956863,.643137,.483582,.992157,.964706,.713725,.499,.988235,.980392,.870588,.5,1,1,1,.501,.913725,.988235,.937255,.516418,.827451,.980392,.886275,.531343,.764706,.980392,.866667,.546766,.658824,.980392,.843137,.564179,.572549,.964706,.835294,.587562,.423529,.941176,.87451,.60597,.262745,.901961,.862745,.629851,.0705882,.854902,.870588,.651741,.0509804,.8,.85098,.681592,.0235294,.709804,.831373,.712935,.0313725,.615686,.811765,.75,.0313725,.537255,.788235,.775,.0392157,.466667,.768627,.8,.0509804,.396078,.741176,.825,.054902,.317647,.709804,.85,.054902,.243137,.678431,.875,.0431373,.164706,.639216,.9,.0313725,.0980392,.6,.925,.0392157,.0392157,.560784,.95,.105882,.0509804,.509804,.975,.113725,.0235294,.45098,1,.12549,0,.380392]},{ColorSpace:"RGB",Name:"Rainbow Desaturated",NanColor:[1,1,0],RGBPoints:[0,.278431372549,.278431372549,.858823529412,.143,0,0,.360784313725,.285,0,1,1,.429,0,.501960784314,0,.571,1,1,0,.714,1,.380392156863,0,.857,.419607843137,0,0,1,.878431372549,.301960784314,.301960784314]},{ColorSpace:"RGB",Name:"Cold and Hot",NanColor:[1,1,0],RGBPoints:[0,0,1,1,.45,0,0,1,.5,0,0,.501960784314,.55,1,0,0,1,1,1,0]},{ColorSpace:"RGB",Name:"Black-Body Radiation",NanColor:[0,.498039215686,1],RGBPoints:[0,0,0,0,.4,.901960784314,0,0,.8,.901960784314,.901960784314,0,1,1,1,1]},{ColorSpace:"RGB",Name:"X Ray",NanColor:[1,0,0],RGBPoints:[0,1,1,1,1,0,0,0]},{ColorSpace:"RGB",Name:"Grayscale",NanColor:[1,0,0],RGBPoints:[0,0,0,0,1,1,1,1]},{ColorSpace:"RGB",Name:"BkRd",NanColor:[0,1,1],RGBPoints:[0,0,0,0,1,1,0,0]},{ColorSpace:"RGB",Name:"BkGn",NanColor:[1,0,1],RGBPoints:[0,0,0,0,1,0,1,0]},{ColorSpace:"RGB",Name:"BkBu",NanColor:[1,1,0],RGBPoints:[0,0,0,0,1,0,0,1]},{ColorSpace:"RGB",Name:"BkMa",NanColor:[0,1,0],RGBPoints:[0,0,0,0,1,1,0,1]},{ColorSpace:"RGB",Name:"BkCy",NanColor:[0,1,1],RGBPoints:[0,0,0,0,1,0,1,1]},{ColorSpace:"RGB",Name:"Black, Blue and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,0,0,.501960784314,.666,0,.501960784314,1,1,1,1,1]},{ColorSpace:"RGB",Name:"Black, Orange and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,.501960784314,0,0,.666,1,.501960784314,0,1,1,1,1]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Linear YGB 1211g",NanColor:[.25,0,0],RGBPoints:[0,1,.988235,.968627,.02,1,.952941,.878431,.05,.968627,.905882,.776471,.1,.94902,.898039,.647059,.15,.901961,.878431,.556863,.2,.847059,.858824,.482353,.25,.690196,.819608,.435294,.3,.513725,.768627,.384314,.35,.337255,.721569,.337255,.4,.278431,.658824,.392157,.45,.231373,.639216,.435294,.5,.203922,.6,.486275,.55,.172549,.568627,.537255,.6,.141176,.517647,.54902,.65,.133333,.458824,.541176,.7,.12549,.396078,.529412,.75,.117647,.321569,.521569,.8,.121569,.258824,.509804,.85,.133333,.227451,.501961,.9,.145098,.192157,.490196,.95,.188235,.164706,.470588,1,.258824,.196078,.439216]},{ColorSpace:"CIELAB",Creator:"Francesca Samsel",Name:"Linear Green (Gr4L)",NanColor:[.25,0,0],RGBPoints:[0,.054902,.109804,.121569,.05,.07451,.172549,.180392,.1,.086275,.231373,.219608,.15,.094118,.278431,.25098,.2,.109804,.34902,.278431,.25,.113725,.4,.278431,.3,.117647,.45098,.270588,.35,.117647,.490196,.243137,.4,.113725,.521569,.203922,.45,.109804,.54902,.152941,.5,.082353,.588235,.082353,.55,.109804,.631373,.05098,.6,.211765,.678431,.082353,.65,.317647,.721569,.113725,.7,.431373,.760784,.160784,.75,.556863,.8,.239216,.8,.666667,.839216,.294118,.85,.784314,.878431,.396078,.9,.886275,.921569,.533333,.95,.960784,.94902,.670588,1,1,.984314,.901961]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Linear Blue (8_31f)",NanColor:[.25,0,0],RGBPoints:[0,.960784,1,.980392,.05,.815686,.960784,.913725,.1,.670588,.929412,.870588,.15,.556863,.901961,.843137,.2,.478431,.870588,.823529,.25,.439216,.831373,.803922,.3,.4,.8,.788235,.35,.376471,.768627,.768627,.4,.34902,.709804,.729412,.45,.32549,.654902,.690196,.5,.301961,.607843,.658824,.55,.247059,.545098,.619608,.6,.239216,.494118,.580392,.65,.227451,.439216,.541176,.7,.227451,.403922,.521569,.75,.231373,.368627,.501961,.8,.227451,.321569,.470588,.85,.219608,.282353,.439216,.9,.192157,.235294,.4,.95,.160784,.184314,.34902,1,.133333,.12549,.301961]},{ColorSpace:"HSV",Name:"Blue to Red Rainbow",NanColor:[.498039215686,.498039215686,.498039215686],RGBPoints:[0,0,0,1,1,1,0,0]},{ColorSpace:"HSV",Name:"Red to Blue Rainbow",NanColor:[.498039215686,.498039215686,.498039215686],RGBPoints:[0,1,0,0,1,0,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended White",NanColor:[1,1,0],RGBPoints:[0,1,1,1,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended Grey",NanColor:[1,1,0],RGBPoints:[0,.317647058824,.341176470588,.43137254902,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended Black",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Blue to Yellow",NanColor:[1,0,0],RGBPoints:[0,.0392156862745,.0392156862745,.949019607843,1,.949019607843,.949019607843,.0392156862745]},{ColorSpace:"HSV",Name:"blot",RGBPoints:[0,0,0,1,.166,0,0,1,.167,1,0,1,.332,1,0,1,.333,0,1,1,.5,0,1,1,.501,0,1,0,.666,0,1,0,.667,1,1,0,.832,1,1,0,.833,1,0,0,1,1,0,0]},{ColorSpace:"Lab",Name:"CIELab Blue to Red",NanColor:[1,1,0],RGBPoints:[0,0,.6,.749019607843,1,.76862745098,.466666666667,.341176470588]},{ColorSpace:"RGB",Name:"jet",RGBPoints:[-1,0,0,.5625,-.777778,0,0,1,-.269841,0,1,1,-.015873,.5,1,.5,.238095,1,1,0,.746032,1,0,0,1,.5,0,0]},{ColorSpace:"RGB",Name:"rainbow",RGBPoints:[-1,0,0,1,-.5,0,1,1,0,0,1,0,.5,1,1,0,1,1,0,0]},{ColorSpace:"Lab",Name:"erdc_rainbow_bright",RGBPoints:[-1,.32549,.14902,.960784,-.866221,.297047,.375586,.963836,-.732441,.180302,.536818,.964627,-.598662,.1302,.649207,.929647,-.464883,.0445143,.749654,.855998,-.331104,.0271325,.830713,.721527,-.197324,.259504,.866145,.543555,-.0635452,.428364,.890725,.329819,.0702341,.568503,.898508,.187623,.204013,.738259,.890317,.0825461,.337793,.84546,.86136,.0147555,.471572,.912191,.808018,0,.605351,.962848,.710445,0,.73913,.999469,.600258,.0176284,.87291,.994156,.445975,.193912,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"erdc_rainbow_dark",RGBPoints:[-1,0,0,.423499,-.866221,0,.119346,.529237,-.732441,0,.238691,.634976,-.598662,0,.346852,.68788,-.464883,0,.45022,.718141,-.331104,0,.553554,.664839,-.197324,0,.651082,.519303,-.0635452,.115841,.72479,.352857,.0702341,.326771,.781195,.140187,.204013,.522765,.798524,.0284624,.337793,.703162,.788685,.00885756,.471572,.845118,.751133,0,.605351,.955734,.690825,0,.73913,.995402,.567916,.0618524,.87291,.987712,.403398,.164851,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"nic_CubicL",RGBPoints:[-1,.479965,.0118108,.5307,-.87451,.522213,.0551282,.706919,-.74902,.50839,.237278,.867764,-.623529,.451617,.373834,.987255,-.498039,.39365,.497255,.97506,-.372549,.328631,.599639,.891843,-.247059,.250043,.690286,.778553,-.121569,.249656,.764905,.645857,.00392157,.297954,.821466,.50449,.129412,.337509,.872595,.358447,.254902,.430011,.913789,.297079,.380392,.587191,.931381,.333353,.505882,.727937,.93591,.353742,.631373,.826403,.921081,.365066,.756863,.893201,.846317,.372662,.882353,.965347,.73884,.378506,1,.983235,.597451,.366856]},{ColorSpace:"Lab",Name:"nic_CubicYF",RGBPoints:[-1,.5151,.0482,.6697,-.87451,.520711,.168955,.800574,-.74902,.493694,.278596,.911824,-.623529,.440026,.369475,.984978,-.498039,.398932,.457593,.987053,-.372549,.350651,.540644,.929608,-.247059,.298827,.615625,.857729,-.121569,.239928,.685061,.769531,.00392157,.228832,.739349,.673287,.129412,.263297,.78608,.569988,.254902,.298107,.828337,.460214,.380392,.33092,.864071,.352674,.505882,.38306,.898169,.287309,.631373,.49023,.917481,.307961,.756863,.62372,.926026,.332309,.882353,.717458,.92527,.342476,1,.8,.9255,.3529]},{ColorSpace:"Lab",Name:"gist_earth",RGBPoints:[-1,0,0,0,-.87451,.239216,.027451,.415686,-.74902,.0901961,.254902,.556863,-.623529,.0941176,.352941,.54902,-.498039,.105882,.435294,.533333,-.372549,.12549,.52549,.501961,-.247059,.156863,.596078,.443137,-.121569,.196078,.65098,.380392,.00392157,.282353,.717647,.301961,.129412,.466667,.772549,.27451,.254902,.678431,.784314,.309804,.380392,.901961,.756863,.376471,.505882,.992157,.705882,.521569,.631373,1,.721569,.701961,.756863,1,.784314,.784314,.882353,1,.866667,.866667,1,1,1,1]},{ColorSpace:"Lab",Name:"2hot",RGBPoints:[-1,.0416667,0,0,-.873016,.208333,0,0,-.746032,.375,0,0,-.619048,.541667,0,0,-.492063,.708333,0,0,-.365079,.854137,0,0,-.238095,.937488,.039062,0,-.111111,1,.208333,0,.015873,1,.375,0,.142857,1,.541667,0,.269841,1,.708333,0,.396825,1,.858805,.03125,.52381,1,.947392,.15625,.650794,1,1,.3125,.777778,1,1,.5625,.904762,1,1,.8125,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_red2yellow_BW",RGBPoints:[-1,754296e-12,0,109827e-10,-.87451,.18285,.0264094,0,-.74902,.3066,0,0,-.623529,.422841,0,0,-.498039,.522945,0,0,-.372549,.605721,0,0,-.247059,.672502,.14168,0,-.121569,.728167,.244025,0,.00392157,.781215,.333454,0,.129412,.825,.423586,0,.254902,.855893,.516793,0,.380392,.880491,.608846,0,.505882,.910305,.695505,0,.631373,.94109,.779067,.223528,.756863,.967873,.858572,.473521,.882353,.986815,.933211,.751583,1,1,1,.999997]},{ColorSpace:"Lab",Name:"erdc_marine2gold_BW",RGBPoints:[-1,111641e-12,0,162551e-11,-.87451,.0413146,.0619808,.209857,-.74902,.0185557,.101341,.350684,-.623529,.00486405,.149847,.461054,-.498039,.0836345,.210845,.517906,-.372549,.173222,.276134,.541793,-.247059,.259857,.343877,.535869,-.121569,.362299,.408124,.504293,.00392157,.468266,.468276,.468257,.129412,.582781,.527545,.374914,.254902,.691591,.585251,.274266,.380392,.784454,.645091,.247332,.505882,.862299,.710383,.27518,.631373,.920863,.782923,.351563,.756863,.955792,.859699,.533541,.882353,.976162,.93433,.780671,1,1,1,.999983]},{ColorSpace:"Lab",Name:"erdc_blue2gold_BW",RGBPoints:[-1,0,0,0,-.87451,.0742735,.0440331,.230013,-.74902,.125276,.0258685,.415826,-.623529,.143879,.0163031,.591346,-.498039,.212261,.0627855,.705239,-.372549,.306048,.141178,.763636,-.247059,.391537,.232286,.773263,-.121569,.461734,.336633,.708321,.00392157,.54209,.427581,.590007,.129412,.61704,.508623,.460978,.254902,.702703,.579586,.309117,.380392,.790336,.644811,.170397,.505882,.870173,.710733,.117134,.631373,.93656,.781991,.157144,.756863,.965672,.862068,.409836,.882353,.985751,.936296,.714162,1,1,1,.999999]},{ColorSpace:"Lab",Name:"erdc_sapphire2gold_BW",RGBPoints:[-1,.107704,.107708,.107694,-.87451,.1851,.112354,.308554,-.74902,.236782,.114233,.48788,-.623529,.28296,.126187,.639464,-.498039,.344787,.171643,.739713,-.372549,.413325,.242371,.76913,-.247059,.481863,.3131,.719841,-.121569,.550402,.383829,.612222,.00392157,.61894,.454558,.51126,.129412,.687478,.525287,.39993,.254902,.756017,.596016,.289923,.380392,.824555,.666745,.255498,.505882,.892979,.736822,.27696,.631373,.938851,.804966,.351734,.756863,.966491,.874853,.53572,.882353,.982105,.94153,.782579,1,1,1,.999986]},{ColorSpace:"Lab",Name:"erdc_red2purple_BW",RGBPoints:[-1,0,0,0,-.87451,.167793,.0166271,.0431278,-.74902,.262608,.0107595,.0791181,-.623529,.351902,.0101858,.100926,-.498039,.441257,.0160835,.131919,-.372549,.5221,.0555972,.195625,-.247059,.593852,.104294,.310234,-.121569,.654628,.158115,.448486,.00392157,.707443,.220914,.570253,.129412,.749504,.293268,.67897,.254902,.781587,.370517,.779269,.380392,.809951,.451099,.855831,.505882,.84424,.531462,.900451,.631373,.865174,.620901,.91606,.756863,.875041,.714054,.910284,.882353,.880764,.80554,.896276,1,.887572,.887591,.887556]},{ColorSpace:"Lab",Name:"erdc_purple2pink_BW",RGBPoints:[-1,0,0,0,-.87451,.117562,.0291202,.175876,-.74902,.178368,.0458476,.285454,-.623529,.237731,.0680173,.387717,-.498039,.300877,.0956291,.484802,-.372549,.370929,.136858,.554985,-.247059,.449033,.189273,.58863,-.121569,.529971,.245796,.598587,.00392157,.609914,.300643,.610244,.129412,.697079,.351286,.616371,.254902,.785858,.401991,.617376,.380392,.862517,.45745,.64463,.505882,.91359,.525462,.705336,.631373,.932583,.61064,.767412,.756863,.922478,.706966,.817522,.882353,.901302,.803071,.856311,1,.887571,.887591,.887549]},{ColorSpace:"Lab",Name:"erdc_pbj_lin",RGBPoints:[-1,0,0,0,-.87451,.091821,.0611476,.10617,-.74902,.160311,.0900022,.192713,-.623529,.22484,.12126,.272128,-.498039,.291263,.157469,.340828,-.372549,.360015,.200388,.388903,-.247059,.437497,.250058,.387201,-.121569,.512636,.304969,.355955,.00392157,.582603,.360874,.33488,.129412,.655126,.416374,.306351,.254902,.725889,.473329,.279051,.380392,.778125,.537928,.302697,.505882,.815894,.606931,.382431,.631373,.839159,.679308,.497608,.756863,.854748,.751666,.631792,.882353,.869483,.822508,.768592,1,.887572,.887589,.887565]},{ColorSpace:"Lab",Name:"erdc_blue2green_muted",RGBPoints:[-1,.107704,.107708,.107695,-.87451,.141522,.13066,.270741,-.74902,.180123,.146119,.42308,-.623529,.210161,.169674,.551795,-.498039,.239701,.212939,.634969,-.372549,.253916,.282947,.653641,-.247059,.242791,.366933,.608521,-.121569,.226302,.446776,.52693,.00392157,.236237,.514689,.458798,.129412,.274641,.577589,.376069,.254902,.349625,.633993,.288131,.380392,.4437,.683677,.260497,.505882,.536247,.731214,.285424,.631373,.628472,.777128,.349151,.756863,.718259,.819287,.496825,.882353,.804768,.856164,.703299,1,.887571,.887591,.887548]},{ColorSpace:"Lab",Name:"erdc_blue2green_BW",RGBPoints:[-1,363578e-12,0,529374e-11,-.87451,.0539915,.0577948,.212806,-.74902,.0620393,.0758942,.388959,-.623529,.0697499,.102032,.54177,-.498039,.113295,.156156,.64334,-.372549,.152047,.243196,.670283,-.247059,.158096,.344084,.622864,-.121569,.151142,.43922,.532767,.00392157,.17155,.521588,.457719,.129412,.225861,.599141,.363997,.254902,.32328,.67007,.259083,.380392,.442344,.733697,.223754,.505882,.558409,.794941,.257411,.631373,.673875,.854344,.340822,.756863,.787244,.909326,.524717,.882353,.896483,.958063,.775914,1,1,1,.999982]},{ColorSpace:"Lab",Name:"GREEN-WHITE_LINEAR",RGBPoints:[-1,0,0,0,-.87451,0,.062745,0,-.74902,0,.12549,0,-.623529,0,.188235,0,-.498039,0,.25098,0,-.372549,0,.313725,0,-.247059,0,.376471,0,-.121569,.094118,.439216,0,.00392157,.196078,.501961,0,.129412,.294118,.564706,0,.254902,.396078,.627451,0,.380392,.498039,.690196,0,.505882,.6,.752941,.145098,.631373,.701961,.815686,.364706,.756863,.8,.878431,.580392,.882353,.901961,.941176,.796078,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_green2yellow_BW",RGBPoints:[-1,0,0,0,-.87451,0,.105542,.0603919,-.74902,0,.159454,.104148,-.623529,0,.219502,.15542,-.498039,0,.282276,.203811,-.372549,0,.346331,.235652,-.247059,0,.411765,.235428,-.121569,0,.477177,.217977,.00392157,.0593644,.541635,.21361,.129412,.233081,.604722,.210591,.254902,.369803,.664942,.226536,.380392,.498446,.722367,.288237,.505882,.601929,.782244,.380815,.631373,.703207,.840497,.512134,.756863,.803186,.896433,.674462,.882353,.903834,.950266,.846715,1,1,1,.999981]},{ColorSpace:"Lab",Name:"blue2cyan",RGBPoints:[-1,0,0,0,-.87451,0,.152941,.364706,-.74902,0,.254902,.470588,-.623529,0,.34902,.572549,-.498039,0,.443137,.670588,-.372549,0,.537255,.772549,-.247059,0,.627451,.870588,-.121569,0,.717647,.964706,.00392157,.0784314,.772549,1,.129412,.207843,.858824,1,.254902,.32549,.941176,1,.380392,.45098,1,1,.505882,.560784,1,1,.631373,.662745,1,1,.756863,.760784,1,1,.882353,.870588,1,1,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_blue2cyan_BW",RGBPoints:[-1,405298e-12,0,59012e-10,-.87451,.0207526,.0740933,.18093,-.74902,0,.121033,.30343,-.623529,0,.166892,.416095,-.498039,0,.216768,.524796,-.372549,.0164769,.275471,.608585,-.247059,.0544527,.344824,.659267,-.121569,.0880643,.419118,.688675,.00392157,.127938,.492556,.720256,.129412,.149476,.566946,.756918,.254902,.188961,.641333,.792122,.380392,.245482,.715336,.827609,.505882,.329216,.786235,.874761,.631373,.453558,.852803,.918466,.756863,.626281,.910493,.954,.882353,.82257,.958709,.980146,1,1,1,.999989]},{ColorSpace:"Lab",Name:"erdc_blue_BW",RGBPoints:[-1,0,0,0,-.87451,.0425591,.0763529,.150682,-.74902,.0569472,.119154,.275403,-.623529,.0635978,.164772,.395427,-.498039,.0774342,.213851,.510014,-.372549,.106815,.267034,.615102,-.247059,.122093,.324649,.720068,-.121569,.160851,.387068,.806956,.00392157,.213754,.453516,.878012,.129412,.26722,.524656,.932436,.254902,.326844,.599279,.968038,.380392,.403403,.674712,.984784,.505882,.499703,.745519,1,.631373,.615055,.813983,1,.756863,.74405,.879228,1,.882353,.877909,.941913,1,1,1,1,.999996]},{ColorSpace:"Lab",Name:"BLUE-WHITE",RGBPoints:[-1,0,0,0,-.87451,0,0,.082353,-.74902,0,0,.168627,-.623529,0,0,.254902,-.498039,0,0,.337255,-.372549,0,0,.423529,-.247059,0,0,.509804,-.121569,0,.101961,.592157,.00392157,0,.203922,.678431,.129412,0,.301961,.764706,.254902,0,.403922,.85098,.380392,0,.505882,.933333,.505882,0,.603922,1,.631373,.254902,.705882,1,.756863,.509804,.807843,1,.882353,.764706,.905882,1,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_purple_BW",RGBPoints:[-1,4264e-11,0,620844e-12,-.87451,.100579,.0593111,.145666,-.74902,.167794,.0889224,.254953,-.623529,.231446,.123339,.360511,-.498039,.296699,.163027,.461278,-.372549,.363211,.209286,.55306,-.247059,.431136,.260776,.637195,-.121569,.498202,.320012,.705799,.00392157,.567456,.380459,.778091,.129412,.629381,.445284,.8448,.254902,.688373,.517374,.895694,.380392,.74891,.590906,.93976,.505882,.805017,.667956,.977626,.631373,.850914,.752618,.992396,.756863,.89724,.838454,.994093,.882353,.948461,.922603,.994449,1,1,1,.999967]},{ColorSpace:"Lab",Name:"erdc_magenta_BW",RGBPoints:[-1,0,0,254023e-10,-.87451,.128696,.0456782,.11635,-.74902,.228133,.0476299,.201452,-.623529,.327273,.0374065,.282107,-.498039,.420953,.0408166,.35709,-.372549,.511562,.0642203,.430511,-.247059,.599552,.102686,.504257,-.121569,.684646,.150536,.579429,.00392157,.765817,.205978,.656062,.129412,.839176,.27229,.731807,.254902,.89536,.357594,.797309,.380392,.930238,.457825,.846984,.505882,.945921,.564536,.880571,.631373,.948995,.670753,.902279,.756863,.947124,.772819,.918171,.882353,.947265,.869424,.934352,1,.954719,.95475,.954726]},{ColorSpace:"Lab",Name:"magenta",RGBPoints:[-1,0,0,0,-.87451,.364706,0,.152941,-.74902,.470588,0,.254902,-.623529,.572549,0,.34902,-.498039,.670588,0,.443137,-.372549,.772549,0,.537255,-.247059,.870588,0,.627451,-.121569,.964706,0,.717647,.00392157,1,.0784314,.772549,.129412,1,.207843,.858824,.254902,1,.32549,.941176,.380392,1,.45098,1,.505882,1,.560784,1,.631373,1,.662745,1,.756863,1,.760784,1,.882353,1,.870588,1,1,1,1,1]},{ColorSpace:"Lab",Name:"RED-PURPLE",RGBPoints:[-1,0,0,0,-.87451,.188235,0,.007843,-.74902,.345098,0,.035294,-.623529,.439216,0,.098039,-.498039,.533333,0,.152941,-.372549,.627451,.015686,.211765,-.247059,.721569,.031373,.266667,-.121569,.8,.047059,.329412,.00392157,.862745,.047059,.403922,.129412,.941176,.062745,.466667,.254902,.988235,.078431,.54902,.380392,.988235,.141176,.643137,.505882,.988235,.25098,.729412,.631373,.988235,.376471,.811765,.756863,.988235,.54902,.886275,.882353,.988235,.752941,.952941,1,.996078,.996078,.996078]},{ColorSpace:"Lab",Name:"erdc_red_BW",RGBPoints:[-1,0,0,0,-.87451,.147204,.0480135,.0401815,-.74902,.253411,.0617478,.0301333,-.623529,.356059,.0746331,.0446897,-.498039,.457731,.0934935,.0636931,-.372549,.557199,.122714,.0860013,-.247059,.665179,.144238,.105585,-.121569,.763833,.187056,.138326,.00392157,.847035,.254558,.189407,.129412,.905663,.345937,.258215,.254902,.941431,.447111,.346277,.380392,.962608,.546927,.457571,.505882,.987833,.637276,.569944,.631373,.994202,.732176,.687958,.756863,.993304,.826268,.800567,.882353,.994413,.917205,.906393,1,1,1,.999979]},{ColorSpace:"Lab",Name:"RED_TEMPERATURE",RGBPoints:[-1,0,0,0,-.87451,.090196,0,0,-.74902,.180392,0,0,-.623529,.270588,0,0,-.498039,.360784,0,0,-.372549,.45098,0,0,-.247059,.545098,0,0,-.121569,.635294,0,0,.00392157,.72549,.058824,0,.129412,.815686,.176471,0,.254902,.905882,.294118,0,.380392,1,.411765,0,.505882,1,.533333,.027451,.631373,1,.65098,.27451,.756863,1,.768627,.521569,.882353,1,.886275,.768627,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_orange_BW",RGBPoints:[-1,0,0,253806e-10,-.87451,.135871,.0593824,0,-.74902,.224328,.0907216,0,-.623529,.318083,.119647,0,-.498039,.414443,.150246,0,-.372549,.511077,.184884,0,-.247059,.605501,.226033,0,-.121569,.695274,.275491,0,.00392157,.777826,.334445,0,.129412,.851498,.402441,0,.254902,.915899,.47759,602975e-9,.380392,.971984,.557882,.0361443,.505882,1,.641287,.135967,.631373,1,.725198,.27997,.756863,1,.808205,.438135,.882353,1,.89306,.587036,1,1,.977928,.721599]},{ColorSpace:"Lab",Name:"heated_object",RGBPoints:[-1,0,0,0,-.87451,.34902,.0862745,0,-.74902,.45098,.172549,0,-.623529,.52549,.231373,0,-.498039,.580392,.278431,0,-.372549,.623529,.313725,0,-.247059,.670588,.352941,0,-.121569,.717647,.392157,0,.00392157,.772549,.439216,0,.129412,.839216,.494118,0,.254902,.901961,.541176,0,.380392,.968627,.6,0,.505882,1,.658824,0,.631373,1,.721569,0,.756863,1,.827451,.298039,.882353,1,.976471,.72549,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_gold_BW",RGBPoints:[-1,0,0,190933e-10,-.87451,.128363,.0636265,0,-.74902,.193795,.111057,0,-.623529,.25976,.15987,0,-.498039,.328546,.210589,0,-.372549,.399726,.26332,0,-.247059,.472969,.318261,0,-.121569,.546245,.375827,0,.00392157,.61745,.436719,0,.129412,.685545,.501113,0,.254902,.749578,.568799,0,.380392,.80962,.6394,0,.505882,.865572,.712699,.10257,.631373,.917709,.787569,.233665,.756863,.966914,.863138,.369608,.882353,1,.939405,.496104,1,.999225,1,.612275]},{ColorSpace:"Lab",Name:"erdc_brown_BW",RGBPoints:[-1,33216e-11,0,483629e-11,-.87451,.14693,.0518172,0,-.74902,.225806,.0814996,0,-.623529,.301681,.111452,0,-.498039,.370487,.150664,0,-.372549,.43108,.199477,0,-.247059,.4849,.255107,0,-.121569,.536798,.313486,0,.00392157,.59286,.371167,0,.129412,.653119,.428135,0,.254902,.714589,.485917,.0379541,.380392,.774667,.54565,.116634,.505882,.831222,.608047,.183895,.631373,.880305,.674199,.260298,.756863,.922314,.742472,.367086,.882353,.959408,.811222,.497258,1,.993548,.875183,.622093]},{ColorSpace:"Lab",Name:"copper_Matlab",RGBPoints:[-1,0,0,0,-.87451,.0784314,.0501961,.0313725,-.74902,.156863,.100392,.0627451,-.623529,.235294,.150588,.0941176,-.498039,.313725,.200784,.12549,-.372549,.392157,.25098,.156863,-.247059,.470588,.301176,.188235,-.121569,.54902,.351373,.219608,.00392157,.627451,.401569,.25098,.129412,.705882,.451765,.282353,.254902,.784314,.501961,.313725,.380392,.862745,.552157,.345098,.505882,.941176,.602353,.376471,.631373,1,.652549,.407843,.756863,1,.702745,.439216,.882353,1,.752941,.470588,1,1,.8,.5]},{ColorSpace:"Lab",Name:"pink_Matlab",RGBPoints:[-1,0,0,0,-.87451,.312416,.204524,.204524,-.74902,.441822,.289241,.289241,-.623529,.54112,.354246,.354246,-.498039,.624831,.409048,.409048,-.372549,.698582,.45733,.45733,-.247059,.764404,.502282,.500979,-.121569,.791292,.591516,.54112,.00392157,.817297,.66895,.578481,.129412,.842499,.738308,.613572,.254902,.866968,.801687,.646762,.380392,.890766,.86041,.678329,.505882,.913944,.913944,.711254,.631373,.936549,.936549,.79459,.756863,.958621,.958621,.869979,.882353,.980196,.980196,.939336,1,1,1,1]},{ColorSpace:"Lab",Name:"bone_Matlab",RGBPoints:[-1,0,0,0,-.87451,.054902,.054902,.075817,-.74902,.109804,.109804,.151634,-.623529,.164706,.164706,.227451,-.498039,.219608,.219608,.303268,-.372549,.27451,.27451,.379085,-.247059,.329412,.329902,.454412,-.121569,.384314,.405719,.509314,.00392157,.439216,.481536,.564216,.129412,.494118,.557353,.619118,.254902,.54902,.63317,.67402,.380392,.603922,.708987,.728922,.505882,.660294,.783824,.783824,.631373,.746569,.838725,.838725,.756863,.832843,.893627,.893627,.882353,.919118,.948529,.948529,1,1,1,1]},{ColorSpace:"Lab",Name:"gray_Matlab",RGBPoints:[-1,0,0,0,-.87451,.0627451,.0627451,.0627451,-.74902,.12549,.12549,.12549,-.623529,.188235,.188235,.188235,-.498039,.25098,.25098,.25098,-.372549,.313725,.313725,.313725,-.247059,.376471,.376471,.376471,-.121569,.439216,.439216,.439216,.00392157,.501961,.501961,.501961,.129412,.564706,.564706,.564706,.254902,.627451,.627451,.627451,.380392,.690196,.690196,.690196,.505882,.752941,.752941,.752941,.631373,.815686,.815686,.815686,.756863,.878431,.878431,.878431,.882353,.941176,.941176,.941176,1,1,1,1]},{ColorSpace:"Lab",Name:"Purples",RGBPoints:[-1,.247059,0,.490196,-.87451,.288397,.07677,.525629,-.74902,.32975,.153587,.561092,-.623529,.373057,.236263,.600461,-.498039,.416363,.319,.639923,-.372549,.459669,.405613,.685198,-.247059,.503345,.491534,.730058,-.121569,.562399,.54862,.757616,.00392157,.621453,.606075,.785544,.129412,.680508,.674971,.824914,.254902,.739562,.743406,.863899,.380392,.798616,.800492,.893426,.505882,.85684,.856655,.922491,.631373,.898178,.894056,.942176,.756863,.938654,.930919,.961646,.882353,.964245,.958478,.977393,1,.988235,.984314,.992157]},{ColorSpace:"Lab",Name:"Blues",RGBPoints:[-1,.031373,.188235,.419608,-.87451,.031373,.253195,.516063,-.74902,.031757,.318139,.612149,-.623529,.080969,.38113,.661361,-.498039,.130427,.444152,.710327,-.372549,.195386,.509112,.743791,-.247059,.260715,.573841,.777209,-.121569,.341423,.628958,.808704,.00392157,.422745,.684075,.839892,.129412,.523137,.739193,.861546,.254902,.622684,.793464,.883429,.380392,.701423,.826928,.910988,.505882,.778685,.8603,.937993,.631373,.825928,.891795,.953741,.756863,.87328,.923291,.969489,.882353,.922491,.954787,.985236,1,.968627,.984314,1]},{ColorSpace:"Lab",Name:"Greens",RGBPoints:[-1,0,.266667,.105882,-.87451,0,.347374,.139346,-.74902,538e-6,.427912,.172933,-.623529,.069435,.486967,.222145,-.498039,.138178,.546082,.271326,-.372549,.197232,.609073,.31857,-.247059,.257255,.671742,.365859,-.121569,.357647,.720953,.415071,.00392157,.45767,.769919,.465021,.129412,.546251,.811257,.537855,.254902,.634295,.852211,.610688,.380392,.709097,.883706,.683522,.505882,.78316,.914833,.755894,.631373,.842215,.938454,.818885,.756863,.899977,.961538,.880692,.882353,.935409,.975317,.92203,1,.968627,.988235,.960784]},{ColorSpace:"Lab",Name:"PuBu",RGBPoints:[-1,.301961,0,.294118,-.87451,.404321,.029527,.390573,-.74902,.50599,.059592,.486782,-.623529,.519769,.158016,.551742,-.498039,.533456,.256194,.616301,-.372549,.54133,.33887,.655671,-.247059,.54902,.421592,.695087,-.121569,.54902,.506236,.736424,.00392157,.550127,.590573,.777701,.129412,.585559,.665375,.81707,.254902,.622145,.739023,.855825,.380392,.687105,.784298,.879446,.505882,.752065,.829758,.903253,.631373,.817024,.87897,.930811,.756863,.880907,.927213,.957832,.882353,.926182,.958708,.975548,1,.968627,.988235,.992157]},{ColorSpace:"Lab",Name:"BuPu",RGBPoints:[-1,.007843,.219608,.345098,-.87451,.01178,.286536,.449427,-.74902,.015702,.35328,.553479,-.623529,.01767,.396586,.622376,-.498039,.021115,.4402,.690688,-.372549,.11757,.503191,.722184,-.247059,.214625,.565859,.753633,-.121569,.336671,.615071,.78316,.00392157,.457978,.663975,.812503,.129412,.556401,.703345,.836125,.254902,.65421,.742714,.859669,.380392,.736886,.782084,.881323,.505882,.81827,.821638,.903068,.631373,.873387,.864944,.92669,.756863,.927536,.907605,.949988,.882353,.964937,.9391,.967705,1,1,.968627,.984314]},{ColorSpace:"Lab",Name:"BuGn",RGBPoints:[-1,.031373,.25098,.505882,-.87451,.031373,.329719,.590527,-.74902,.031911,.408397,.674787,-.623529,.100807,.479262,.710219,-.498039,.169704,.550219,.745744,-.372549,.238601,.62699,.787082,-.247059,.307958,.703114,.826759,-.121569,.39654,.752326,.797232,.00392157,.485121,.801046,.767705,.129412,.573702,.83451,.738178,.254902,.661592,.867743,.711034,.380392,.732457,.895302,.74253,.505882,.801845,.922307,.774579,.631373,.841215,.938055,.817885,.756863,.880907,.95391,.861084,.882353,.926182,.971626,.902422,1,.968627,.988235,.941176]},{ColorSpace:"Lab",Name:"GnBu",RGBPoints:[-1,0,.266667,.105882,-.87451,0,.347374,.139346,-.74902,538e-6,.427912,.172933,-.623529,.069435,.486967,.222145,-.498039,.138178,.546175,.272095,-.372549,.197232,.615071,.368551,-.247059,.256609,.683276,.464867,-.121569,.329443,.722645,.555417,.00392157,.403137,.762138,.645413,.129412,.503529,.805444,.718247,.254902,.603922,.848597,.790465,.380392,.704314,.887966,.847551,.505882,.802307,.926321,.903714,.631373,.851519,.944037,.941115,.756863,.899977,.961538,.976901,.882353,.935409,.975317,.984775,1,.968627,.988235,.992157]},{ColorSpace:"Lab",Name:"GnBuPu",RGBPoints:[-1,.003922,.27451,.211765,-.87451,.003922,.349312,.280661,-.74902,.003937,.423852,.349773,-.623529,.005905,.46519,.446228,-.498039,.009443,.506344,.542837,-.372549,.111803,.535871,.649135,-.247059,.214025,.565859,.753633,-.121569,.310481,.615071,.78316,.00392157,.407797,.663975,.812503,.129412,.531811,.703345,.836125,.254902,.65421,.742714,.859669,.380392,.736886,.782084,.881323,.505882,.81827,.821176,.902884,.631373,.873387,.854641,.922568,.756863,.927536,.888535,.942361,.882353,.964937,.929873,.964014,1,1,.968627,.984314]},{ColorSpace:"Lab",Name:"BuGnYl",RGBPoints:[-1,.031373,.113725,.345098,-.87451,.088458,.159,.463206,-.74902,.145052,.204567,.5807,-.623529,.139146,.287243,.620069,-.498039,.13318,.370196,.659562,-.372549,.123337,.470588,.706805,-.247059,.115386,.570335,.753126,-.121569,.186251,.643168,.761,.00392157,.258716,.71514,.768074,.129412,.380761,.760415,.750358,.254902,.503576,.806075,.732795,.380392,.645306,.861192,.719016,.505882,.783899,.91511,.705606,.631373,.858701,.944637,.6997,.756863,.931349,.973303,.698424,.882353,.966782,.987082,.777163,1,1,1,.85098]},{ColorSpace:"Lab",Name:"PuRd",RGBPoints:[-1,.286275,0,.415686,-.87451,.38273,.001968,.441276,-.74902,.479231,.003922,.466774,-.623529,.581592,.003922,.480554,-.498039,.683799,.00549,.494887,-.372549,.776317,.105882,.544098,-.247059,.867866,.206321,.592618,-.121569,.919047,.308681,.612303,.00392157,.968812,.411226,.632603,.129412,.974717,.519493,.671972,.254902,.980546,.626451,.71065,.380392,.984483,.701253,.732303,.505882,.988328,.77504,.755617,.631373,.990296,.828189,.812703,.756863,.992372,.880907,.869035,.882353,.996309,.926182,.912341,1,1,.968627,.952941]},{ColorSpace:"Lab",Name:"RdPu",RGBPoints:[-1,.403922,0,.121569,-.87451,.500377,0,.192434,-.74902,.596909,277e-6,.263037,-.623529,.703206,.035709,.300438,-.498039,.808612,.071296,.338854,-.372549,.857824,.116571,.441215,-.247059,.905513,.163552,.54293,-.121569,.889765,.281661,.617732,.00392157,.873156,.39897,.691611,.129412,.82985,.491488,.736886,.254902,.789081,.583237,.781853,.380392,.810734,.656071,.819254,.505882,.833126,.729181,.85684,.631373,.870527,.80792,.898178,.756863,.907605,.884398,.938331,.882353,.9391,.921799,.958016,1,.968627,.956863,.976471]},{ColorSpace:"Lab",Name:"Oranges",RGBPoints:[-1,.498039,.152941,.015686,-.87451,.57481,.182468,.013718,-.74902,.651765,.212042,.011734,-.623529,.752157,.247474,.007797,-.498039,.851719,.283368,.004475,-.372549,.898962,.348328,.039908,-.247059,.945652,.413426,.076401,-.121569,.969273,.484291,.157109,.00392157,.992157,.554971,.238185,.129412,.992157,.619931,.330704,.254902,.992157,.684967,.423837,.380392,.992157,.751895,.532103,.505882,.992249,.817716,.639354,.631373,.994218,.861023,.725967,.756863,.996186,.903576,.810965,.882353,.998155,.933103,.868051,1,1,.960784,.921569]},{ColorSpace:"Lab",Name:"Reds",RGBPoints:[-1,.403922,0,.05098,-.87451,.525967,.029527,.066728,-.74902,.647643,.058962,.082476,-.623529,.722445,.076678,.098224,-.498039,.797186,.095194,.114187,-.372549,.868051,.164091,.143714,-.247059,.937809,.233541,.173933,-.121569,.96143,.326059,.232987,.00392157,.984375,.418147,.292657,.129412,.986344,.496886,.371396,.254902,.988235,.575702,.450673,.380392,.988235,.656409,.543191,.505882,.98842,.736747,.635894,.631373,.992357,.809581,.732349,.756863,.996186,.880692,.826759,.882353,.998155,.92203,.885813,1,1,.960784,.941176]},{ColorSpace:"Lab",Name:"RdOr",RGBPoints:[-1,.498039,0,0,-.87451,.6004,0,0,-.74902,.702514,738e-6,477e-6,-.623529,.773379,.095225,.061499,-.498039,.843875,.189865,.12283,-.372549,.891119,.294195,.203537,-.247059,.937855,.397924,.283137,-.121569,.963445,.476663,.316601,.00392157,.988297,.555771,.351665,.129412,.990265,.646321,.436309,.254902,.992157,.735256,.519646,.380392,.992157,.784468,.570827,.505882,.992249,.833218,.623483,.631373,.994218,.872587,.706159,.756863,.996186,.911419,.788189,.882353,.998155,.940946,.859054,1,1,.968627,.92549]},{ColorSpace:"Lab",Name:"BrOrYl",RGBPoints:[-1,.4,.145098,.023529,-.87451,.500392,.174625,.019592,-.74902,.600784,.204291,.015656,-.623529,.701176,.251534,.011719,-.498039,.800984,.299146,.008397,-.372549,.863975,.370012,.043829,-.247059,.926321,.441107,.0794,-.121569,.961753,.521815,.120738,.00392157,.996078,.602645,.163122,.129412,.996078,.68729,.237924,.254902,.996078,.771011,.314879,.380392,.996078,.832034,.444798,.505882,.996171,.892042,.572595,.631373,.998139,.931411,.65724,.756863,1,.969489,.741669,.882353,1,.985236,.822376,1,1,1,.898039]},{ColorSpace:"Lab",Name:"RdOrYl",RGBPoints:[-1,.501961,0,.14902,-.87451,.622038,0,.14902,-.74902,.741761,4e-4,.148866,-.623529,.816563,.05158,.129181,-.498039,.890965,.10356,.110235,-.372549,.940177,.205921,.137793,-.247059,.988281,.308789,.165536,-.121569,.99025,.432803,.200969,.00392157,.992218,.555217,.236278,.129412,.994187,.628051,.267774,.254902,.996078,.701038,.301269,.380392,.996078,.777809,.383945,.505882,.996171,.852826,.466621,.631373,.998139,.892195,.549296,.756863,1,.931349,.632188,.882353,1,.966782,.7188,1,1,1,.8]},{ColorSpace:"Lab",Name:"CIELab_blue2red",RGBPoints:[-1,0,.6,.74902,1,.76863,.46667,.34118]},{ColorSpace:"Lab",Name:"blue2yellow",RGBPoints:[-1,0,0,1,0,.5,.5,.5,1,1,1,0]},{ColorSpace:"Lab",Name:"erdc_blue2gold",RGBPoints:[-1,.175119,.0438468,1,-.874016,.22383,.159771,.94557,-.748031,.27254,.233611,.891216,-.622047,.321251,.296526,.836857,-.496063,.369962,.354296,.782359,-.370079,.418672,.409139,.72754,-.244094,.467383,.462152,.672148,-.11811,.51609,.51396,.615825,.00787402,.572863,.55452,.559172,.133858,.630269,.593822,.517729,.259843,.689588,.624668,.47446,.385827,.745394,.656113,.428638,.511811,.798624,.688104,.379105,.637795,.849926,.720593,.323834,.76378,.899765,.753543,.258657,.889764,.948487,.78692,.171778,1,.990413,.816451,.00729848]},{ColorSpace:"Lab",Name:"erdc_blue2yellow",RGBPoints:[-1,.0830122,0,.495617,-.87451,.141973,.0551288,.57363,-.74902,.193048,.110258,.604561,-.623529,.234231,.165386,.57643,-.498039,.275413,.220515,.548299,-.372549,.316596,.275644,.520169,-.247059,.357778,.330773,.492038,-.121569,.398961,.385901,.463908,.00392157,.449929,.438487,.426815,.129412,.511572,.488299,.379944,.254902,.581222,.53603,.325741,.380392,.650871,.583761,.271538,.505882,.720521,.631493,.217335,.631373,.79017,.679224,.163132,.756863,.85982,.726955,.108929,.882353,.910254,.774159,.14112,1,.927513,.81759,.306289]},{ColorSpace:"Lab",Name:"erdc_cyan2orange",RGBPoints:[-1,.0471513,.213874,.414329,-.87451,.0674702,.256648,.439027,-.74902,.0959957,.299331,.462089,-.623529,.132428,.341872,.483212,-.498039,.188743,.38277,.500597,-.372549,.268511,.420229,.512179,-.247059,.352945,.455602,.519101,-.121569,.43893,.489368,.521538,.00392157,.522445,.522495,.522436,.129412,.600089,.555682,.53205,.254902,.67988,.587981,.539163,.380392,.761011,.619586,.544439,.505882,.84278,.650741,.548567,.631373,.910713,.687347,.557822,.756863,.952232,.734972,.577775,.882353,.975642,.789858,.604868,1,.990752,.843643,.632857]},{ColorSpace:"Lab",Name:"erdc_purple2green",RGBPoints:[-1,.235006,.0483128,.530899,-.87451,.302968,.108419,.552391,-.74902,.360241,.166059,.569502,-.623529,.406746,.226782,.579373,-.498039,.444073,.28964,.582094,-.372549,.473648,.353774,.577947,-.247059,.497636,.418154,.567911,-.121569,.519086,.481741,.553968,.00392157,.542884,.542914,.542875,.129412,.566303,.603989,.527499,.254902,.595218,.662965,.516857,.380392,.628641,.720701,.510673,.505882,.665373,.777849,.508165,.631373,.704182,.834921,.508303,.756863,.743846,.892328,.50999,.882353,.783158,.950422,.512181,1,.818617,1,.513888]},{ColorSpace:"Lab",Name:"erdc_purple2green_dark",RGBPoints:[-1,.107656,0,.428682,-.87451,.1924,0,.449799,-.74902,.255118,.0648939,.466726,-.623529,.304256,.133066,.476703,-.498039,.343202,.19716,.479793,-.372549,.373876,.260353,.476241,-.247059,.398497,.322872,.466953,-.121569,.420016,.384252,.453785,.00392157,.44319,.443216,.443186,.129412,.465553,.502139,.428233,.254902,.492959,.559151,.417591,.380392,.524654,.615092,.411016,.505882,.55959,.670583,.40779,.631373,.596614,.726102,.406948,.756863,.634544,.782032,.407439,.882353,.672183,.838703,.408237,1,.706131,.892759,.408452]},{ColorSpace:"Lab",Name:"coolwarm",RGBPoints:[-1,.229806,.298718,.753683,-.875,.303869,.406535,.844959,-.75,.383013,.509419,.917388,-.625,.466667,.604563,.968155,-.5,.552953,.688929,.995376,-.375,.639176,.7596,.998151,-.25,.722193,.813953,.976575,-.125,.798692,.849786,.931689,0,.865395,.86541,.865396,.125,.924128,.827385,.774508,.25,.958853,.769768,.678008,.375,.969954,.694267,.579375,.5,.958003,.602842,.481776,.625,.923945,.497309,.38797,.75,.869187,.378313,.300267,.875,.795632,.241284,.220526,1,.705673,.0155562,.150233]},{ColorSpace:"Lab",Name:"BuRd",RGBPoints:[-1,.019608,.188235,.380392,-.87451,.088504,.321107,.564937,-.74902,.163399,.444983,.697501,-.623529,.247059,.555709,.754095,-.498039,.420684,.676432,.818685,-.372549,.606459,.789773,.880277,-.247059,.761476,.868512,.924567,-.121569,.878047,.925721,.951942,.00392157,.969089,.966474,.964937,.129412,.983852,.897578,.846828,.254902,.982468,.800692,.706113,.380392,.960323,.66782,.536332,.505882,.894579,.503806,.399769,.631373,.81707,.33218,.281046,.756863,.728489,.155017,.197386,.882353,.576932,.055363,.14925,1,.403922,0,.121569]},{ColorSpace:"Lab",Name:"Spectral_lowBlue",RGBPoints:[-1,.368627,.309804,.635294,-.87451,.260361,.450058,.70173,-.74902,.248058,.591311,.717186,-.623529,.376009,.734025,.658132,-.498039,.537947,.814764,.64506,-.372549,.702345,.879585,.636678,-.247059,.84752,.938639,.607151,-.121569,.940408,.976163,.656055,.00392157,.999923,.997616,.745021,.129412,.997463,.921338,.61707,.254902,.995002,.824606,.499885,.380392,.992541,.701576,.39654,.505882,.973472,.547405,.318108,.631373,.937793,.398539,.270127,.756863,.861515,.282891,.299654,.882353,.746482,.144637,.288812,1,.619608,.003922,.258824]},{ColorSpace:"Lab",Name:"GnRP",RGBPoints:[-1,0,.266667,.105882,-.87451,.066436,.394617,.174779,-.74902,.168858,.524567,.25767,-.623529,.323875,.657439,.361015,-.498039,.504883,.772318,.506344,-.372549,.678431,.870127,.654902,-.247059,.803922,.921799,.780392,-.121569,.897116,.951942,.882814,.00392157,.967397,.965936,.967474,.129412,.928028,.879815,.930565,.254902,.866052,.780777,.882891,.380392,.77501,.665129,.821376,.505882,.675663,.537024,.737024,.631373,.57847,.396155,.645982,.756863,.492349,.223914,.547559,.882353,.375548,.096886,.423299,1,.25098,0,.294118]},{ColorSpace:"Lab",Name:"GYPi",RGBPoints:[-1,.152941,.392157,.098039,-.87451,.246444,.505344,.117724,-.74902,.351942,.614533,.161399,-.623529,.474971,.717878,.240138,-.498039,.611995,.811226,.392849,-.372549,.746328,.893118,.565321,-.247059,.859516,.94233,.747405,-.121569,.928105,.96386,.875663,.00392157,.969089,.966859,.968012,.129412,.983852,.910265,.948328,.254902,.979239,.833218,.914648,.380392,.949712,.729873,.862976,.505882,.905652,.58293,.763552,.631373,.85521,.410073,.652211,.756863,.793695,.183699,.531642,.882353,.683737,.063899,.420761,1,.556863,.003922,.321569]},{ColorSpace:"Lab",Name:"GnYlRd",RGBPoints:[-1,0,.407843,.215686,-.87451,.063975,.525952,.277201,-.74902,.177932,.633064,.332718,-.623529,.364937,.724106,.379469,-.498039,.527951,.797155,.40223,-.372549,.678431,.862822,.433449,-.247059,.803922,.916955,.514648,-.121569,.909419,.961861,.625067,.00392157,.999923,.997616,.745021,.129412,.997463,.921338,.61707,.254902,.995002,.824606,.499885,.380392,.992541,.701576,.39654,.505882,.973472,.547405,.318108,.631373,.939023,.389927,.245521,.756863,.867666,.239831,.176624,.882353,.762399,.110727,.151326,1,.647059,0,.14902]},{ColorSpace:"Lab",Name:"GBBr",RGBPoints:[-1,0,.235294,.188235,-.87451,.002461,.338639,.301423,-.74902,.055902,.448981,.417609,-.623529,.183852,.56955,.538178,-.498039,.357785,.700115,.660746,-.372549,.540177,.819531,.77624,-.247059,.714879,.890888,.864821,-.121569,.851134,.934564,.922645,.00392157,.960861,.959785,.95694,.129412,.963322,.927797,.83391,.254902,.939946,.868897,.68935,.380392,.883353,.775394,.517109,.505882,.808074,.625836,.324106,.631373,.717647,.476355,.15494,.756863,.592157,.358247,.06882,.882353,.458593,.26436,.031142,1,.329412,.188235,.019608]},{ColorSpace:"Lab",Name:"PuOr",RGBPoints:[-1,.498039,.231373,.031373,-.87451,.62599,.30273,.026451,-.74902,.746943,.387082,.037524,-.623529,.85767,.490427,.071972,-.498039,.936409,.617762,.236371,-.372549,.992695,.743099,.43291,-.247059,.995156,.841523,.63714,-.121569,.985313,.913802,.813687,.00392157,.966244,.966398,.967705,.129412,.889965,.89504,.938178,.254902,.806151,.804306,.894656,.380392,.712649,.688658,.833141,.505882,.594233,.554325,.744637,.631373,.474894,.404229,.652364,.756863,.366628,.217224,.563783,.882353,.266436,.089965,.434833,1,.176471,0,.294118]},{ColorSpace:"Lab",Name:"PRGn",RGBPoints:[-1,.25098,0,.294118,-.87451,.383852,.103345,.431911,-.74902,.497732,.234679,.55371,-.623529,.583852,.40692,.652134,-.498039,.681968,.545175,.742561,-.372549,.7807,.672357,.825221,-.247059,.871742,.788005,.886736,-.121569,.930488,.885198,.932872,.00392157,.966321,.968089,.965859,.129412,.892503,.950865,.877278,.254902,.796078,.91857,.772549,.380392,.670588,.866897,.647059,.505882,.493195,.765398,.496655,.631373,.314187,.649135,.354556,.756863,.15917,.516263,.251211,.882353,.062284,.386621,.170473,1,0,.266667,.105882]},{ColorSpace:"Lab",Name:"PiYG",RGBPoints:[-1,.556863,.003922,.321569,-.87451,.692195,.067897,.427374,-.74902,.797539,.197847,.539177,-.623529,.859054,.424221,.659746,-.498039,.908574,.592618,.770319,-.372549,.951557,.736332,.866205,-.247059,.981084,.839677,.917878,-.121569,.98293,.913802,.949558,.00392157,.96732,.968474,.965629,.129412,.92549,.963552,.869666,.254902,.852441,.939254,.736025,.380392,.739254,.890042,.553941,.505882,.60323,.805536,.382238,.631373,.467282,.711419,.235217,.756863,.344252,.608074,.156478,.882353,.2406,.49827,.116494,1,.152941,.392157,.098039]},{ColorSpace:"Lab",Name:"OrPu",RGBPoints:[-1,.176471,0,.294118,-.87451,.272434,.095963,.444214,-.74902,.373395,.228912,.56932,-.623529,.481661,.415917,.657901,-.498039,.601922,.562937,.750481,-.372549,.718493,.695886,.836986,-.247059,.811995,.811534,.898501,-.121569,.894733,.8995,.940023,.00392157,.969166,.966859,.963629,.129412,.98639,.910265,.803691,.254902,.995002,.835371,.624375,.380392,.992541,.736947,.420146,.505882,.931949,.609458,.224221,.631373,.85075,.483968,.069819,.756863,.740023,.380623,.035371,.882353,.617993,.29827,.026759,1,.498039,.231373,.031373]},{ColorSpace:"Lab",Name:"BrBG",RGBPoints:[-1,.329412,.188235,.019608,-.87451,.467205,.269435,.031911,-.74902,.6,.365629,.074202,-.623529,.72549,.483737,.160323,-.498039,.812995,.635832,.336409,-.372549,.88689,.781238,.527874,-.247059,.943483,.87474,.700115,-.121569,.963168,.929796,.841599,.00392157,.957247,.959938,.959554,.129412,.84406,.932872,.920185,.254902,.70396,.886428,.859285,.380392,.529258,.815071,.770704,.505882,.346251,.691811,.653057,.631373,.175855,.562015,.530642,.756863,.047905,.441446,.410073,.882353,.002307,.33218,.294348,1,0,.235294,.188235]},{ColorSpace:"Lab",Name:"GyRd",RGBPoints:[-1,.101961,.101961,.101961,-.87451,.227451,.227451,.227451,-.74902,.359939,.359939,.359939,-.623529,.502653,.502653,.502653,-.498039,.631373,.631373,.631373,-.372549,.749865,.749865,.749865,-.247059,.843368,.843368,.843368,-.121569,.926105,.926105,.926105,.00392157,.999846,.997232,.995694,.129412,.994925,.908651,.857901,.254902,.982468,.800692,.706113,.380392,.960323,.66782,.536332,.505882,.894579,.503806,.399769,.631373,.81707,.33218,.281046,.756863,.728489,.155017,.197386,.882353,.576932,.055363,.14925,1,.403922,0,.121569]},{ColorSpace:"Lab",Name:"erdc_divHi_purpleGreen",RGBPoints:[-1,.297553,0,.489074,-.87451,.40259,.151146,.567754,-.74902,.516038,.284843,.658231,-.623529,.629783,.423646,.750938,-.498039,.735198,.563697,.835956,-.372549,.82408,.695541,.903582,-.247059,.889091,.807454,.944862,-.121569,.92334,.886917,.951839,.00392157,.921045,.921084,.921003,.129412,.877324,.907455,.845381,.254902,.797649,.849713,.734695,.380392,.691646,.75964,.600532,.505882,.568981,.649159,.453807,.631373,.438945,.529756,.304259,.756863,.30973,.412001,.158303,.882353,.187078,.305111,.00251458,1,.101655,.220836,0]},{ColorSpace:"Lab",Name:"erdc_divHi_purpleGreen_dim",RGBPoints:[-1,.404088,.131038,.592767,-.87451,.486469,.230957,.651243,-.74902,.575165,.339335,.717723,-.623529,.662741,.454332,.784263,-.498039,.742071,.570213,.842918,-.372549,.806935,.678992,.886227,-.247059,.852219,.771315,.90763,-.121569,.873345,.837327,.901572,.00392157,.866783,.86682,.866745,.129412,.82839,.858225,.796812,.254902,.762578,.814287,.700202,.380392,.676429,.744229,.585735,.505882,.577033,.65732,.461526,.631373,.47128,.562476,.33476,.756863,.365461,.467957,.21076,.882353,.264758,.381138,.0878313,1,.182591,.312249,0]},{ColorSpace:"Lab",Name:"erdc_divLow_icePeach",RGBPoints:[-1,.480048,.817441,.998056,-.87451,.425898,.726921,.883187,-.74902,.366682,.629445,.761936,-.623529,.308756,.531002,.640217,-.498039,.258021,.43705,.523433,-.372549,.219244,.352381,.416348,-.247059,.195127,.281032,.322979,-.121569,.186286,.22627,.246525,.00392157,.192352,.19236,.192364,.129412,.255927,.214469,.191756,.254902,.340459,.254426,.206666,.380392,.444655,.309315,.234029,.505882,.565353,.376004,.270969,.631373,.697917,.450748,.314293,.756863,.836657,.529064,.360227,.882353,.972695,.614884,.413123,1,1,.705904,.472699]},{ColorSpace:"Lab",Name:"erdc_divLow_purpleGreen",RGBPoints:[-1,.956034,.666487,.952663,-.87451,.874457,.572698,.936352,-.74902,.753465,.488253,.909063,-.623529,.63309,.413507,.763833,-.498039,.514491,.345878,.620015,-.372549,.405008,.288141,.484376,-.247059,.311388,.241986,.363556,-.121569,.238722,.209044,.263449,.00392157,.192352,.192366,.192362,.129412,.200379,.233201,.168618,.254902,.230151,.291737,.165227,.380392,.279481,.366076,.178607,.505882,.344927,.453267,.205703,.631373,.421554,.549449,.242643,.756863,.503334,.649999,.284377,.882353,.583497,.749672,.324969,1,.650705,.837228,.356264]},{ColorSpace:"Lab",Name:"Haze_green",RGBPoints:[-1,1,.835294,.886275,-.87451,.937255,.756863,.870443,-.74902,.875817,.666376,.857807,-.623529,.778359,.583007,.808134,-.498039,.676253,.494118,.745098,-.372549,.561365,.390123,.682353,-.247059,.438344,.262745,.621496,-.121569,.321133,.141031,.558751,.00392157,.203922,.0217865,.495861,.129412,.265505,.129412,.433261,.254902,.311692,.255338,.37008,.380392,.356282,.377342,.310821,.505882,.39971,.488889,.258243,.631373,.442556,.604357,.205519,.756863,.48671,.71968,.152941,.882353,.529847,.830356,.100944,1,.572549,.933333,.054902]},{ColorSpace:"Lab",Name:"Haze_lime",RGBPoints:[-1,.704034,.784196,1,-.87451,.633111,.691418,.956078,-.74902,.564021,.600606,.912157,-.623529,.496827,.51189,.868235,-.498039,.43157,.425416,.824314,-.372549,.368248,.341347,.780392,-.247059,.306767,.259855,.736471,-.121569,.246862,.181069,.692549,.00392157,.191619,.109542,.648627,.129412,.257404,.194031,.604706,.254902,.321794,.278775,.560784,.380392,.387909,.364617,.516863,.505882,.456569,.451881,.472941,.631373,.527424,.540773,.42902,.756863,.599759,.631427,.385098,.882353,.673065,.723898,.341176,1,.742751,.812252,.3]},{ColorSpace:"RGB",Name:"Haze",RGBPoints:[-1,1,.835294,.996078,-.00392157,.023529,.141176,.498039,.00392157,.015686,.137255,.494118,1,.984314,.764706,0]},{ColorSpace:"Lab",Name:"Haze_cyan",RGBPoints:[-1,.956863,1,.835294,-.87451,.933188,.921714,.760784,-.74902,.870588,.803486,.671605,-.623529,.807843,.684096,.583297,-.498039,.745098,.569208,.494118,-.372549,.682353,.437763,.390123,-.247059,.621496,.288163,.262745,-.121569,.558751,.144517,.141031,.00392157,.495861,.0217865,.0413943,.129412,.433261,.137255,.129412,.254902,.37008,.263181,.255338,.380392,.306318,.381845,.372694,.505882,.243137,.503994,.494263,.631373,.180392,.629484,.619753,.756863,.117647,.754975,.747131,.882353,.054902,.876398,.866812,1,0,.988235,.976471]},{ColorSpace:"Lab",Name:"nic_Edge",RGBPoints:[-1,.191208,.191208,.191208,-.87451,.239484,.00545035,.614821,-.74902,.220593,.0617459,.863547,-.623529,.17509,.278988,.97794,-.498039,.143526,.576069,.998553,-.372549,.166456,.871883,.96594,-.247059,.376202,.993555,.981833,-.121569,.681996,.991297,.999239,.00392157,.954172,.952734,.94374,.129412,.999735,.99301,.662896,.254902,.979399,.991466,.357973,.380392,.968771,.854967,.162659,.505882,.999245,.556697,.144323,.631373,.973959,.26223,.177946,.756863,.852358,.0526707,.222974,.882353,.593889,.00912724,.238855,1,.191208,.191208,.191208]},{ColorSpace:"Lab",Name:"erdc_iceFire_H",RGBPoints:[-1,405432e-12,0,590122e-11,-.87451,0,.120401,.302675,-.74902,0,.216583,.524574,-.623529,.0552475,.345025,.6595,-.498039,.128047,.492588,.720288,-.372549,.188955,.641309,.792092,-.247059,.327673,.784935,.873434,-.121569,.60824,.892164,.935547,.00392157,.881371,.912178,.818099,.129412,.951407,.835621,.449279,.254902,.904481,.690489,0,.380392,.85407,.510864,0,.505882,.777093,.33018,88199e-8,.631373,.672862,.139087,.00269398,.756863,.508815,0,0,.882353,.299417,366289e-9,547829e-9,1,.0157519,.00332021,455569e-13]},{ColorSpace:"Lab",Name:"erdc_iceFire_L",RGBPoints:[-1,.870485,.913768,.832905,-.87451,.586919,.887865,.934003,-.74902,.31583,.776442,.867858,-.623529,.18302,.632034,.787722,-.498039,.117909,.484134,.713825,-.372549,.0507239,.335979,.654741,-.247059,0,.209874,.511832,-.121569,0,.114689,.28935,.00392157,.0157519,.00332021,455569e-13,.129412,.312914,0,0,.254902,.520865,0,0,.380392,.680105,.15255,.0025996,.505882,.785109,.339479,797922e-9,.631373,.857354,.522494,0,.756863,.910974,.699774,0,.882353,.951921,.842817,.478545,1,.881371,.912178,.818099]},{ColorSpace:"RGB",Name:"hsv",RGBPoints:[-1,1,0,0,-.666666,1,0,1,-.333333,0,0,1,0,0,1,1,.33333,0,1,0,.66666,1,1,0,1,1,0,0]},{ColorSpace:"Lab",Name:"hue_L60",RGBPoints:[-1,.964784,.400592,.349549,-.87451,.964915,.372498,.53785,-.74902,.892353,.401039,.759569,-.623529,.79263,.446956,.903017,-.498039,.682208,.49954,.966673,-.372549,.56392,.553082,.968836,-.247059,.442031,.606396,.901601,-.121569,.305499,.65701,.765784,.00392157,.197251,.687914,.620914,.129412,.193882,.701887,.472654,.254902,.249866,.706123,.320005,.380392,.35132,.697417,.202919,.505882,.498097,.669467,.125232,.631373,.637477,.626239,.107431,.756863,.762115,.56872,.155812,.882353,.889434,.481116,.240445,1,.964784,.400592,.349549]},{IndexedColors:[0,0,0,.8941176470588236,.1019607843137255,.1098039215686274,.2156862745098039,.4941176470588236,.7215686274509804,.3019607843137255,.6862745098039216,.2901960784313726,.596078431372549,.3058823529411765,.6392156862745098,1,.4980392156862745,0,.6509803921568628,.3372549019607843,.1568627450980392],Name:"Spectrum",NanColor:[.6509803921568628,.3372549019607843,.1568627450980392]},{IndexedColors:[.4745098039215686,.09019607843137255,.09019607843137255,.7098039215686275,.00392156862745098,.00392156862745098,.9372549019607843,.2784313725490196,.09803921568627451,.9764705882352941,.5137254901960784,.1411764705882353,1,.7058823529411765,0,1,.8980392156862745,.02352941176470588],Name:"Warm",NanColor:[1,.8980392156862745,.02352941176470588]},{IndexedColors:[.4588235294117647,.6941176470588235,.00392156862745098,.3450980392156863,.5019607843137255,.1607843137254902,.3137254901960784,.8431372549019608,.7490196078431373,.1098039215686274,.5843137254901961,.803921568627451,.2313725490196079,.407843137254902,.6705882352941176,.6039215686274509,.407843137254902,1,.3725490196078431,.2,.5019607843137255],Name:"Cool",NanColor:[.3725490196078431,.2,.5019607843137255]},{IndexedColors:[.2313725490196079,.407843137254902,.6705882352941176,.1098039215686274,.5843137254901961,.803921568627451,.3058823529411765,.8509803921568627,.9176470588235294,.4509803921568628,.6039215686274509,.8352941176470589,.2588235294117647,.2392156862745098,.6627450980392157,.3137254901960784,.3294117647058823,.5294117647058824,.06274509803921569,.1647058823529412,.3215686274509804],Name:"Blues",NanColor:[.06274509803921569,.1647058823529412,.3215686274509804]},{IndexedColors:[.1098039215686274,.5843137254901961,.803921568627451,.2313725490196079,.407843137254902,.6705882352941176,.4,.2431372549019608,.7176470588235294,.6352941176470588,.3294117647058823,.8117647058823529,.8705882352941177,.3803921568627451,.807843137254902,.8627450980392157,.3803921568627451,.5843137254901961,.2392156862745098,.06274509803921569,.3215686274509804],Name:"Wild Flower",NanColor:[.2392156862745098,.06274509803921569,.3215686274509804]},{IndexedColors:[.396078431372549,.4862745098039216,.2156862745098039,.4588235294117647,.6941176470588235,.00392156862745098,.6980392156862745,.7294117647058823,.1882352941176471,1,.8980392156862745,.02352941176470588,1,.7058823529411765,0,.9764705882352941,.5137254901960784,.1411764705882353],Name:"Citrus",NanColor:[.9764705882352941,.5137254901960784,.1411764705882353]},{IndexedColors:[.4980392156862745,.2313725490196079,.03137254901960784,.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333,.1764705882352941,0,.2941176470588235],Name:"Brewer Diverging Purple-Orange (11)",NanColor:[.1764705882352941,0,.2941176470588235]},{IndexedColors:[.4980392156862745,.2313725490196079,.03137254901960784,.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333,.1764705882352941,0,.2941176470588235],Name:"Brewer Diverging Purple-Orange (10)",NanColor:[.1764705882352941,0,.2941176470588235]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (9)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (8)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.9450980392156862,.6392156862745098,.2509803921568627,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6,.5568627450980392,.7647058823529411,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (7)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.9450980392156862,.6392156862745098,.2509803921568627,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6,.5568627450980392,.7647058823529411,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (6)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.9019607843137255,.3803921568627451,.00392156862745098,.9921568627450981,.7215686274509804,.3882352941176471,.9686274509803922,.9686274509803922,.9686274509803922,.6980392156862745,.6705882352941176,.8235294117647058,.3686274509803922,.2352941176470588,.6],Name:"Brewer Diverging Purple-Orange (5)",NanColor:[.3686274509803922,.2352941176470588,.6]},{IndexedColors:[.9019607843137255,.3803921568627451,.00392156862745098,.9921568627450981,.7215686274509804,.3882352941176471,.6980392156862745,.6705882352941176,.8235294117647058,.3686274509803922,.2352941176470588,.6],Name:"Brewer Diverging Purple-Orange (4)",NanColor:[.3686274509803922,.2352941176470588,.6]},{IndexedColors:[.9450980392156862,.6392156862745098,.2509803921568627,.9686274509803922,.9686274509803922,.9686274509803922,.6,.5568627450980392,.7647058823529411],Name:"Brewer Diverging Purple-Orange (3)",NanColor:[.6,.5568627450980392,.7647058823529411]},{IndexedColors:[.6196078431372549,.00392156862745098,.2588235294117647,.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353,.3686274509803922,.3098039215686275,.6352941176470588],Name:"Brewer Diverging Spectral (11)",NanColor:[.3686274509803922,.3098039215686275,.6352941176470588]},{IndexedColors:[.6196078431372549,.00392156862745098,.2588235294117647,.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353,.3686274509803922,.3098039215686275,.6352941176470588],Name:"Brewer Diverging Spectral (10)",NanColor:[.3686274509803922,.3098039215686275,.6352941176470588]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (9)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (8)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9882352941176471,.5529411764705883,.3490196078431372,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6,.8352941176470589,.5803921568627451,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (7)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9882352941176471,.5529411764705883,.3490196078431372,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6,.8352941176470589,.5803921568627451,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (6)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8431372549019608,.09803921568627451,.1098039215686274,.9921568627450981,.6823529411764706,.3803921568627451,1,1,.7490196078431373,.6705882352941176,.8666666666666667,.6431372549019608,.1686274509803922,.5137254901960784,.7294117647058823],Name:"Brewer Diverging Spectral (5)",NanColor:[.1686274509803922,.5137254901960784,.7294117647058823]},{IndexedColors:[.8431372549019608,.09803921568627451,.1098039215686274,.9921568627450981,.6823529411764706,.3803921568627451,.6705882352941176,.8666666666666667,.6431372549019608,.1686274509803922,.5137254901960784,.7294117647058823],Name:"Brewer Diverging Spectral (4)",NanColor:[.1686274509803922,.5137254901960784,.7294117647058823]},{IndexedColors:[.9882352941176471,.5529411764705883,.3490196078431372,1,1,.7490196078431373,.6,.8352941176470589,.5803921568627451],Name:"Brewer Diverging Spectral (3)",NanColor:[.6,.8352941176470589,.5803921568627451]},{IndexedColors:[.3294117647058823,.1882352941176471,.0196078431372549,.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922,0,.2352941176470588,.1882352941176471],Name:"Brewer Diverging Brown-Blue-Green (11)",NanColor:[0,.2352941176470588,.1882352941176471]},{IndexedColors:[.3294117647058823,.1882352941176471,.0196078431372549,.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922,0,.2352941176470588,.1882352941176471],Name:"Brewer Diverging Brown-Blue-Green (10)",NanColor:[0,.2352941176470588,.1882352941176471]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (9)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (8)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.8470588235294118,.7019607843137254,.396078431372549,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.3529411764705883,.7058823529411765,.6745098039215687,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (7)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.8470588235294118,.7019607843137254,.396078431372549,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.3529411764705883,.7058823529411765,.6745098039215687,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (6)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.6509803921568628,.3803921568627451,.1019607843137255,.8745098039215686,.7607843137254902,.4901960784313725,.9607843137254902,.9607843137254902,.9607843137254902,.5019607843137255,.803921568627451,.7568627450980392,.00392156862745098,.5215686274509804,.4431372549019608],Name:"Brewer Diverging Brown-Blue-Green (5)",NanColor:[.00392156862745098,.5215686274509804,.4431372549019608]},{IndexedColors:[.6509803921568628,.3803921568627451,.1019607843137255,.8745098039215686,.7607843137254902,.4901960784313725,.5019607843137255,.803921568627451,.7568627450980392,.00392156862745098,.5215686274509804,.4431372549019608],Name:"Brewer Diverging Brown-Blue-Green (4)",NanColor:[.00392156862745098,.5215686274509804,.4431372549019608]},{IndexedColors:[.8470588235294118,.7019607843137254,.396078431372549,.9607843137254902,.9607843137254902,.9607843137254902,.3529411764705883,.7058823529411765,.6745098039215687],Name:"Brewer Diverging Brown-Blue-Green (3)",NanColor:[.3529411764705883,.7058823529411765,.6745098039215687]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8980392156862745,.9607843137254902,.9764705882352941,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.4274509803921568,.1725490196078431,0,.2666666666666667,.1058823529411765],Name:"Brewer Sequential Blue-Green (9)",NanColor:[0,.2666666666666667,.1058823529411765]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8980392156862745,.9607843137254902,.9764705882352941,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.3450980392156863,.1411764705882353],Name:"Brewer Sequential Blue-Green (8)",NanColor:[0,.3450980392156863,.1411764705882353]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.8,.9254901960784314,.9019607843137255,.8,.9254901960784314,.9019607843137255,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.3450980392156863,.1411764705882353],Name:"Brewer Sequential Blue-Green (7)",NanColor:[0,.3450980392156863,.1411764705882353]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.1725490196078431,.6352941176470588,.3725490196078431,0,.4274509803921568,.1725490196078431],Name:"Brewer Sequential Blue-Green (6)",NanColor:[0,.4274509803921568,.1725490196078431]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.6980392156862745,.8862745098039215,.8862745098039215,.4,.7607843137254902,.6431372549019608,.1725490196078431,.6352941176470588,.3725490196078431,0,.4274509803921568,.1725490196078431],Name:"Brewer Sequential Blue-Green (5)",NanColor:[0,.4274509803921568,.1725490196078431]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.6980392156862745,.8862745098039215,.8862745098039215,.4,.7607843137254902,.6431372549019608,.1372549019607843,.5450980392156862,.2705882352941176],Name:"Brewer Sequential Blue-Green (4)",NanColor:[.1372549019607843,.5450980392156862,.2705882352941176]},{IndexedColors:[.8980392156862745,.9607843137254902,.9764705882352941,.6,.8470588235294118,.788235294117647,.1725490196078431,.6352941176470588,.3725490196078431],Name:"Brewer Sequential Blue-Green (3)",NanColor:[.1725490196078431,.6352941176470588,.3725490196078431]},{IndexedColors:[1,1,.8980392156862745,1,.9686274509803922,.7372549019607844,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.6,.203921568627451,.01568627450980392,.4,.1450980392156863,.02352941176470588],Name:"Brewer Sequential Yellow-Orange-Brown (9)",NanColor:[.4,.1450980392156863,.02352941176470588]},{IndexedColors:[1,1,.8980392156862745,1,.9686274509803922,.7372549019607844,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.5490196078431373,.1764705882352941,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (8)",NanColor:[.5490196078431373,.1764705882352941,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.5490196078431373,.1764705882352941,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (7)",NanColor:[.5490196078431373,.1764705882352941,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.8509803921568627,.3725490196078431,.05490196078431372,.6,.203921568627451,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (6)",NanColor:[.6,.203921568627451,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8509803921568627,.5568627450980392,.996078431372549,.6,.1607843137254902,.8509803921568627,.3725490196078431,.05490196078431372,.6,.203921568627451,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (5)",NanColor:[.6,.203921568627451,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8509803921568627,.5568627450980392,.996078431372549,.6,.1607843137254902,.8,.2980392156862745,.00784313725490196],Name:"Brewer Sequential Yellow-Orange-Brown (4)",NanColor:[.8,.2980392156862745,.00784313725490196]},{IndexedColors:[1,.9686274509803922,.7372549019607844,.996078431372549,.7686274509803922,.3098039215686275,.8509803921568627,.3725490196078431,.05490196078431372],Name:"Brewer Sequential Yellow-Orange-Brown (3)",NanColor:[.8509803921568627,.3725490196078431,.05490196078431372]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8784313725490196,.9254901960784314,.9568627450980393,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.5058823529411764,.05882352941176471,.4862745098039216,.3019607843137255,0,.2941176470588235],Name:"Brewer Sequential Blue-Purple (9)",NanColor:[.3019607843137255,0,.2941176470588235]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8784313725490196,.9254901960784314,.9568627450980393,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.4313725490196079,.00392156862745098,.4196078431372549],Name:"Brewer Sequential Blue-Purple (8)",NanColor:[.4313725490196079,.00392156862745098,.4196078431372549]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.4313725490196079,.00392156862745098,.4196078431372549],Name:"Brewer Sequential Blue-Purple (7)",NanColor:[.4313725490196079,.00392156862745098,.4196078431372549]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.3372549019607843,.6549019607843137,.5058823529411764,.05882352941176471,.4862745098039216],Name:"Brewer Sequential Blue-Purple (6)",NanColor:[.5058823529411764,.05882352941176471,.4862745098039216]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7019607843137254,.803921568627451,.8901960784313725,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.3372549019607843,.6549019607843137,.5058823529411764,.05882352941176471,.4862745098039216],Name:"Brewer Sequential Blue-Purple (5)",NanColor:[.5058823529411764,.05882352941176471,.4862745098039216]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7019607843137254,.803921568627451,.8901960784313725,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.2549019607843137,.615686274509804],Name:"Brewer Sequential Blue-Purple (4)",NanColor:[.5333333333333333,.2549019607843137,.615686274509804]},{IndexedColors:[.8784313725490196,.9254901960784314,.9568627450980393,.6196078431372549,.7372549019607844,.8549019607843137,.5333333333333333,.3372549019607843,.6549019607843137],Name:"Brewer Sequential Blue-Purple (3)",NanColor:[.5333333333333333,.3372549019607843,.6549019607843137]},{IndexedColors:[.4980392156862745,.788235294117647,.4980392156862745,.7450980392156863,.6823529411764706,.8313725490196079,.9921568627450981,.7529411764705882,.5254901960784314,1,1,.6,.2196078431372549,.4235294117647059,.6901960784313725,.9411764705882353,.00784313725490196,.4980392156862745,.7490196078431373,.3568627450980392,.09019607843137255,.4,.4,.4],Name:"Brewer Qualitative Accent",NanColor:[.4,.4,.4]},{IndexedColors:[.1058823529411765,.6196078431372549,.4666666666666667,.8509803921568627,.3725490196078431,.00784313725490196,.4588235294117647,.4392156862745098,.7019607843137254,.9058823529411765,.1607843137254902,.5411764705882353,.4,.6509803921568628,.1176470588235294,.9019607843137255,.6705882352941176,.00784313725490196,.6509803921568628,.4627450980392157,.1137254901960784,.4,.4,.4],Name:"Brewer Qualitative Dark2",NanColor:[.4,.4,.4]},{IndexedColors:[.4,.7607843137254902,.6470588235294118,.9882352941176471,.5529411764705883,.3843137254901961,.5529411764705883,.6274509803921569,.796078431372549,.9058823529411765,.5411764705882353,.7647058823529411,.6509803921568628,.8470588235294118,.3294117647058823,1,.8509803921568627,.1843137254901961,.8980392156862745,.7686274509803922,.5803921568627451,.7019607843137254,.7019607843137254,.7019607843137254],Name:"Brewer Qualitative Set2",NanColor:[.7019607843137254,.7019607843137254,.7019607843137254]},{IndexedColors:[.7019607843137254,.8862745098039215,.803921568627451,.9921568627450981,.803921568627451,.6745098039215687,.796078431372549,.8352941176470589,.9098039215686274,.9568627450980393,.792156862745098,.8941176470588236,.9019607843137255,.9607843137254902,.788235294117647,1,.9490196078431372,.6823529411764706,.9450980392156862,.8862745098039215,.8,.8,.8,.8],Name:"Brewer Qualitative Pastel2",NanColor:[.8,.8,.8]},{IndexedColors:[.984313725490196,.7058823529411765,.6823529411764706,.7019607843137254,.803921568627451,.8901960784313725,.8,.9215686274509803,.7725490196078432,.8705882352941177,.796078431372549,.8941176470588236,.996078431372549,.8509803921568627,.6509803921568628,1,1,.8,.8980392156862745,.8470588235294118,.7411764705882353,.9921568627450981,.8549019607843137,.9254901960784314,.9490196078431372,.9490196078431372,.9490196078431372],Name:"Brewer Qualitative Pastel1",NanColor:[.9490196078431372,.9490196078431372,.9490196078431372]},{IndexedColors:[.8941176470588236,.1019607843137255,.1098039215686274,.2156862745098039,.4941176470588236,.7215686274509804,.3019607843137255,.6862745098039216,.2901960784313726,.596078431372549,.3058823529411765,.6392156862745098,1,.4980392156862745,0,1,1,.2,.6509803921568628,.3372549019607843,.1568627450980392,.9686274509803922,.5058823529411764,.7490196078431373,.6,.6,.6],Name:"Brewer Qualitative Set1",NanColor:[.6,.6,.6]},{IndexedColors:[.6509803921568628,.807843137254902,.8901960784313725,.1215686274509804,.4705882352941176,.7058823529411765,.6980392156862745,.8745098039215686,.5411764705882353,.2,.6274509803921569,.1725490196078431,.984313725490196,.6039215686274509,.6,.8901960784313725,.1019607843137255,.1098039215686274,.9921568627450981,.7490196078431373,.4352941176470588,1,.4980392156862745,0,.792156862745098,.6980392156862745,.8392156862745098,.4156862745098039,.2392156862745098,.6039215686274509,1,1,.6],Name:"Brewer Qualitative Paired",NanColor:[1,1,.6]},{IndexedColors:[.5529411764705883,.8274509803921568,.7803921568627451,1,1,.7019607843137254,.7450980392156863,.7294117647058823,.8549019607843137,.984313725490196,.5019607843137255,.4470588235294118,.5019607843137255,.6941176470588235,.8274509803921568,.9921568627450981,.7058823529411765,.3843137254901961,.7019607843137254,.8705882352941177,.4117647058823529,.9882352941176471,.803921568627451,.8980392156862745,.8509803921568627,.8509803921568627,.8509803921568627,.7372549019607844,.5019607843137255,.7411764705882353,.8,.9215686274509803,.7725490196078432,1,.9294117647058824,.4352941176470588],Name:"Brewer Qualitative Set3",NanColor:[1,.9294117647058824,.4352941176470588]},{IndexedColors:[1,0,0,1,.862745,0,0,.695201,0],Name:"Traffic Lights",NanColor:[.803922,0,.803922]},{IndexedColors:[.908659,.604013,.581857,1,.862745,0,0,.695201,0],Name:"Traffic Lights For Deuteranopes",NanColor:[.803922,0,.803922]},{IndexedColors:[.4196078431372549,0,.07058823529411765,.9019607843137255,.9411764705882353,.0196078431372549,.01568627450980392,.6196078431372549,.00784313725490196],Name:"Traffic Lights For Deuteranopes 2",NanColor:[.803922,0,.803922]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Muted Blue-Green",NanColor:[.25,0,0],RGBPoints:[0,.109804,.27451,.301961,.02,.129412,.309804,.341176,.05,.14902,.341176,.380392,.1,.188235,.403922,.458824,.15,.227451,.447059,.521569,.2,.290196,.494118,.588235,.25,.368627,.552941,.670588,.3,.458824,.619608,.74902,.35,.588235,.713725,.85098,.4,.72549,.815686,.941176,.45,.831373,.882353,.980392,.475,.909804,.933333,1,.5,.980392,.984314,1,.5,.996078,1,.94902,.5,1,1,.980392,.5,.980392,.984314,1,.525,.972549,.988235,.890196,.55,.917647,.960784,.835294,.6,.835294,.921569,.772549,.65,.768627,.901961,.737255,.7,.670588,.831373,.654902,.75,.576471,.760784,.584314,.8,.498039,.678431,.521569,.85,.392157,.560784,.427451,.9,.294118,.45098,.333333,.95,.211765,.34902,.254902,1,.152941,.278431,.196078]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Green-Blue Asymmetric Divergent (62Blbc)",NanColor:[.25,0,0],RGBPoints:[0,.121569,.2,.145098,.05,.196078,.301961,.223529,.1,.258824,.4,.278431,.2,.341176,.54902,.341176,.25,.419608,.619608,.376471,.3,.545098,.701961,.392157,.35,.643137,.780392,.403922,.4,.729412,.819608,.45098,.45,.811765,.870588,.521569,.5,.898039,.909804,.564706,.55,.941176,.92549,.686275,.6,.960784,.94902,.776471,.64,1,1,1,.65,.890196,.988235,.972549,.7,.721569,.894118,.901961,.75,.631373,.823529,.839216,.8,.517647,.662745,.701961,.85,.384314,.494118,.54902,.9,.298039,.360784,.45098,.95,.223529,.25098,.34902,.99,.156863,.172549,.25098,1,.137255,.137255,.188235]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Asymmtrical Earth Tones (6_21b)",NanColor:[.25,0,0],RGBPoints:[0,.141176,.14902,.2,.05,.215686,.258824,.321569,.1,.243137,.368627,.380392,.15,.27451,.439216,.4,.2,.32549,.501961,.384314,.25,.403922,.6,.419608,.3,.486275,.701961,.454902,.35,.556863,.74902,.494118,.4,.670588,.8,.545098,.5,.854902,.901961,.631373,.55,.92549,.941176,.694118,.6,.960784,.94902,.776471,.65,.988235,.968627,.909804,.7,.839216,.815686,.772549,.75,.701961,.662745,.615686,.8,.6,.529412,.478431,.85,.501961,.403922,.360784,.9,.439216,.313725,.290196,1,.301961,.164706,.176471]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Yellow 15",NanColor:[.25,0,0],RGBPoints:[0,1,1,.988235,.002,1,1,.988235,.05,.984314,.988235,.843137,.1,.988235,.988235,.741176,.15,.980392,.968627,.654902,.2,.980392,.945098,.576471,.25,.968627,.905882,.486275,.3,.968627,.862745,.388235,.35,.960784,.803922,.286275,.4,.94902,.741176,.219608,.45,.941176,.678431,.14902,.5,.929412,.607843,.094118,.55,.921569,.545098,.054902,.6,.909804,.486275,.035294,.65,.890196,.411765,.019608,.7,.8,.305882,0,.75,.760784,.239216,0,.8,.678431,.180392,.011765,.85,.6,.121569,.023529,.9,.501961,.054902,.031373,.95,.4,.039216,.058824,1,.301961,.047059,.090196]},{ColorSpace:"Diverging",Name:"Magma (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.001462,466e-6,.013866,.003922,.002258,.001295,.018331,.007843,.003279,.002305,.023708,.011765,.004512,.00349,.029965,.015686,.00595,.004843,.03713,.019608,.007588,.006356,.044973,.023529,.009426,.008022,.052844,.027451,.011465,.009828,.06075,.031373,.013708,.011771,.068667,.035294,.016156,.01384,.076603,.039216,.018815,.016026,.084584,.043137,.021692,.01832,.09261,.047059,.024792,.020715,.100676,.05098,.028123,.023201,.108787,.054902,.031696,.025765,.116965,.058824,.03552,.028397,.125209,.062745,.039608,.03109,.133515,.066667,.04383,.03383,.141886,.070588,.048062,.036607,.150327,.07451,.05232,.039407,.158841,.078431,.056615,.04216,.167446,.082353,.060949,.044794,.176129,.086275,.06533,.047318,.184892,.090196,.069764,.049726,.193735,.094118,.074257,.052017,.20266,.098039,.078815,.054184,.211667,.101961,.083446,.056225,.220755,.105882,.088155,.058133,.229922,.109804,.092949,.059904,.239164,.113725,.097833,.061531,.248477,.117647,.102815,.06301,.257854,.121569,.107899,.064335,.267289,.12549,.113094,.065492,.276784,.129412,.118405,.066479,.286321,.133333,.123833,.067295,.295879,.137255,.12938,.067935,.305443,.141176,.135053,.068391,.315,.145098,.140858,.068654,.324538,.14902,.146785,.068738,.334011,.152941,.152839,.068637,.343404,.156863,.159018,.068354,.352688,.160784,.165308,.067911,.361816,.164706,.171713,.067305,.370771,.168627,.178212,.066576,.379497,.172549,.184801,.065732,.387973,.176471,.19146,.064818,.396152,.180392,.198177,.063862,.404009,.184314,.204935,.062907,.411514,.188235,.211718,.061992,.418647,.192157,.218512,.061158,.425392,.196078,.225302,.060445,.431742,.2,.232077,.059889,.437695,.203922,.238826,.059517,.443256,.207843,.245543,.059352,.448436,.211765,.25222,.059415,.453248,.215686,.258857,.059706,.45771,.219608,.265447,.060237,.46184,.223529,.271994,.060994,.46566,.227451,.278493,.061978,.46919,.231373,.284951,.063168,.472451,.235294,.291366,.064553,.475462,.239216,.29774,.066117,.478243,.243137,.304081,.067835,.480812,.247059,.310382,.069702,.483186,.25098,.316654,.07169,.48538,.254902,.322899,.073782,.487408,.258824,.329114,.075972,.489287,.262745,.335308,.078236,.491024,.266667,.341482,.080564,.492631,.270588,.347636,.082946,.494121,.27451,.353773,.085373,.495501,.278431,.359898,.087831,.496778,.282353,.366012,.090314,.49796,.286275,.372116,.092816,.499053,.290196,.378211,.095332,.500067,.294118,.384299,.097855,.501002,.298039,.390384,.100379,.501864,.301961,.396467,.102902,.502658,.305882,.402548,.10542,.503386,.309804,.408629,.10793,.504052,.313725,.414709,.110431,.504662,.317647,.420791,.11292,.505215,.321569,.426877,.115395,.505714,.32549,.432967,.117855,.50616,.329412,.439062,.120298,.506555,.333333,.445163,.122724,.506901,.337255,.451271,.125132,.507198,.341176,.457386,.127522,.507448,.345098,.463508,.129893,.507652,.34902,.46964,.132245,.507809,.352941,.47578,.134577,.507921,.356863,.481929,.136891,.507989,.360784,.488088,.139186,.508011,.364706,.494258,.141462,.507988,.368627,.500438,.143719,.50792,.372549,.506629,.145958,.507806,.376471,.512831,.148179,.507648,.380392,.519045,.150383,.507443,.384314,.52527,.152569,.507192,.388235,.531507,.154739,.506895,.392157,.537755,.156894,.506551,.396078,.544015,.159033,.506159,.4,.550287,.161158,.505719,.403922,.556571,.163269,.50523,.407843,.562866,.165368,.504692,.411765,.569172,.167454,.504105,.415686,.57549,.16953,.503466,.419608,.581819,.171596,.502777,.423529,.588158,.173652,.502035,.427451,.594508,.175701,.501241,.431373,.600868,.177743,.500394,.435294,.607238,.179779,.499492,.439216,.613617,.181811,.498536,.443137,.620005,.18384,.497524,.447059,.626401,.185867,.496456,.45098,.632805,.187893,.495332,.454902,.639216,.189921,.49415,.458824,.645633,.191952,.49291,.462745,.652056,.193986,.491611,.466667,.658483,.196027,.490253,.470588,.664915,.198075,.488836,.47451,.671349,.200133,.487358,.478431,.677786,.202203,.485819,.482353,.684224,.204286,.484219,.486275,.690661,.206384,.482558,.490196,.697098,.208501,.480835,.494118,.703532,.210638,.479049,.498039,.709962,.212797,.477201,.501961,.716387,.214982,.47529,.505882,.722805,.217194,.473316,.509804,.729216,.219437,.471279,.513725,.735616,.221713,.46918,.517647,.742004,.224025,.467018,.521569,.748378,.226377,.464794,.52549,.754737,.228772,.462509,.529412,.761077,.231214,.460162,.533333,.767398,.233705,.457755,.537255,.773695,.236249,.455289,.541176,.779968,.238851,.452765,.545098,.786212,.241514,.450184,.54902,.792427,.244242,.447543,.552941,.798608,.24704,.444848,.556863,.804752,.249911,.442102,.560784,.810855,.252861,.439305,.564706,.816914,.255895,.436461,.568627,.822926,.259016,.433573,.572549,.828886,.262229,.430644,.576471,.834791,.26554,.427671,.580392,.840636,.268953,.424666,.584314,.846416,.272473,.421631,.588235,.852126,.276106,.418573,.592157,.857763,.279857,.415496,.596078,.86332,.283729,.412403,.6,.868793,.287728,.409303,.603922,.874176,.291859,.406205,.607843,.879464,.296125,.403118,.611765,.884651,.30053,.400047,.615686,.889731,.305079,.397002,.619608,.8947,.309773,.393995,.623529,.899552,.314616,.391037,.627451,.904281,.31961,.388137,.631373,.908884,.324755,.385308,.635294,.913354,.330052,.382563,.639216,.917689,.3355,.379915,.643137,.921884,.341098,.377376,.647059,.925937,.346844,.374959,.65098,.929845,.352734,.372677,.654902,.933606,.358764,.370541,.658824,.937221,.364929,.368567,.662745,.940687,.371224,.366762,.666667,.944006,.377643,.365136,.670588,.94718,.384178,.363701,.67451,.95021,.39082,.362468,.678431,.953099,.397563,.361438,.682353,.955849,.4044,.360619,.686275,.958464,.411324,.360014,.690196,.960949,.418323,.35963,.694118,.96331,.42539,.359469,.698039,.965549,.432519,.359529,.701961,.967671,.439703,.35981,.705882,.96968,.446936,.360311,.709804,.971582,.45421,.36103,.713725,.973381,.46152,.361965,.717647,.975082,.468861,.363111,.721569,.97669,.476226,.364466,.72549,.97821,.483612,.366025,.729412,.979645,.491014,.367783,.733333,.981,.498428,.369734,.737255,.982279,.505851,.371874,.741176,.983485,.51328,.374198,.745098,.984622,.520713,.376698,.74902,.985693,.528148,.379371,.752941,.9867,.535582,.38221,.756863,.987646,.543015,.38521,.760784,.988533,.550446,.388365,.764706,.989363,.557873,.391671,.768627,.990138,.565296,.395122,.772549,.990871,.572706,.398714,.776471,.991558,.580107,.402441,.780392,.992196,.587502,.406299,.784314,.992785,.594891,.410283,.788235,.993326,.602275,.41439,.792157,.993834,.609644,.418613,.796078,.994309,.616999,.42295,.8,.994738,.62435,.427397,.803922,.995122,.631696,.431951,.807843,.99548,.639027,.436607,.811765,.99581,.646344,.441361,.815686,.996096,.653659,.446213,.819608,.996341,.660969,.45116,.823529,.99658,.668256,.456192,.827451,.996775,.675541,.461314,.831373,.996925,.682828,.466526,.835294,.997077,.690088,.471811,.839216,.997186,.697349,.477182,.843137,.997254,.704611,.482635,.847059,.997325,.711848,.488154,.85098,.997351,.719089,.493755,.854902,.997351,.726324,.499428,.858824,.997341,.733545,.505167,.862745,.997285,.740772,.510983,.866667,.997228,.747981,.516859,.870588,.997138,.75519,.522806,.87451,.997019,.762398,.528821,.878431,.996898,.769591,.534892,.882353,.996727,.776795,.541039,.886275,.996571,.783977,.547233,.890196,.996369,.791167,.553499,.894118,.996162,.798348,.55982,.898039,.995932,.805527,.566202,.901961,.99568,.812706,.572645,.905882,.995424,.819875,.57914,.909804,.995131,.827052,.585701,.913725,.994851,.834213,.592307,.917647,.994524,.841387,.598983,.921569,.994222,.84854,.605696,.92549,.993866,.855711,.612482,.929412,.993545,.862859,.619299,.933333,.99317,.870024,.626189,.937255,.992831,.877168,.633109,.941176,.99244,.88433,.640099,.945098,.992089,.89147,.647116,.94902,.991688,.898627,.654202,.952941,.991332,.905763,.661309,.956863,.99093,.912915,.668481,.960784,.99057,.920049,.675675,.964706,.990175,.927196,.682926,.968627,.989815,.934329,.690198,.972549,.989434,.94147,.697519,.976471,.989077,.948604,.704863,.980392,.988717,.955742,.712242,.984314,.988367,.962878,.719649,.988235,.988033,.970012,.727077,.992157,.987691,.977154,.734536,.996078,.987387,.984288,.742002,1,.987053,.991438,.749504]},{ColorSpace:"Diverging",Name:"Inferno (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.001462,466e-6,.013866,.003922,.002267,.00127,.01857,.007843,.003299,.002249,.024239,.011765,.004547,.003392,.030909,.015686,.006006,.004692,.038558,.019608,.007676,.006136,.046836,.023529,.009561,.007713,.055143,.027451,.011663,.009417,.06346,.031373,.013995,.011225,.071862,.035294,.016561,.013136,.080282,.039216,.019373,.015133,.088767,.043137,.022447,.017199,.097327,.047059,.025793,.019331,.10593,.05098,.029432,.021503,.114621,.054902,.033385,.023702,.123397,.058824,.037668,.025921,.132232,.062745,.042253,.028139,.141141,.066667,.046915,.030324,.150164,.070588,.051644,.032474,.159254,.07451,.056449,.034569,.168414,.078431,.06134,.03659,.177642,.082353,.066331,.038504,.186962,.086275,.071429,.040294,.196354,.090196,.076637,.041905,.205799,.094118,.081962,.043328,.215289,.098039,.087411,.044556,.224813,.101961,.09299,.045583,.234358,.105882,.098702,.046402,.243904,.109804,.104551,.047008,.25343,.113725,.110536,.047399,.262912,.117647,.116656,.047574,.272321,.121569,.122908,.047536,.281624,.12549,.129285,.047293,.290788,.129412,.135778,.046856,.299776,.133333,.142378,.046242,.308553,.137255,.149073,.045468,.317085,.141176,.15585,.044559,.325338,.145098,.162689,.043554,.333277,.14902,.169575,.042489,.340874,.152941,.176493,.041402,.348111,.156863,.183429,.040329,.354971,.160784,.190367,.039309,.361447,.164706,.197297,.0384,.367535,.168627,.204209,.037632,.373238,.172549,.211095,.03703,.378563,.176471,.217949,.036615,.383522,.180392,.224763,.036405,.388129,.184314,.231538,.036405,.3924,.188235,.238273,.036621,.396353,.192157,.244967,.037055,.400007,.196078,.25162,.037705,.403378,.2,.258234,.038571,.406485,.203922,.26481,.039647,.409345,.207843,.271347,.040922,.411976,.211765,.27785,.042353,.414392,.215686,.284321,.043933,.416608,.219608,.290763,.045644,.418637,.223529,.297178,.04747,.420491,.227451,.303568,.049396,.422182,.231373,.309935,.051407,.423721,.235294,.316282,.05349,.425116,.239216,.32261,.055634,.426377,.243137,.328921,.057827,.427511,.247059,.335217,.06006,.428524,.25098,.3415,.062325,.429425,.254902,.347771,.064616,.430217,.258824,.354032,.066925,.430906,.262745,.360284,.069247,.431497,.266667,.366529,.071579,.431994,.270588,.372768,.073915,.4324,.27451,.379001,.076253,.432719,.278431,.385228,.078591,.432955,.282353,.391453,.080927,.433109,.286275,.397674,.083257,.433183,.290196,.403894,.08558,.433179,.294118,.410113,.087896,.433098,.298039,.416331,.090203,.432943,.301961,.422549,.092501,.432714,.305882,.428768,.09479,.432412,.309804,.434987,.097069,.432039,.313725,.441207,.099338,.431594,.317647,.447428,.101597,.43108,.321569,.453651,.103848,.430498,.32549,.459875,.106089,.429846,.329412,.4661,.108322,.429125,.333333,.472328,.110547,.428334,.337255,.478558,.112764,.427475,.341176,.484789,.114974,.426548,.345098,.491022,.117179,.425552,.34902,.497257,.119379,.424488,.352941,.503493,.121575,.423356,.356863,.50973,.123769,.422156,.360784,.515967,.12596,.420887,.364706,.522206,.12815,.419549,.368627,.528444,.130341,.418142,.372549,.534683,.132534,.416667,.376471,.54092,.134729,.415123,.380392,.547157,.136929,.413511,.384314,.553392,.139134,.411829,.388235,.559624,.141346,.410078,.392157,.565854,.143567,.408258,.396078,.572081,.145797,.406369,.4,.578304,.148039,.404411,.403922,.584521,.150294,.402385,.407843,.590734,.152563,.40029,.411765,.59694,.154848,.398125,.415686,.603139,.157151,.395891,.419608,.60933,.159474,.393589,.423529,.615513,.161817,.391219,.427451,.621685,.164184,.388781,.431373,.627847,.166575,.386276,.435294,.633998,.168992,.383704,.439216,.640135,.171438,.381065,.443137,.64626,.173914,.378359,.447059,.652369,.176421,.375586,.45098,.658463,.178962,.372748,.454902,.66454,.181539,.369846,.458824,.670599,.184153,.366879,.462745,.676638,.186807,.363849,.466667,.682656,.189501,.360757,.470588,.688653,.192239,.357603,.47451,.694627,.195021,.354388,.478431,.700576,.197851,.351113,.482353,.7065,.200728,.347777,.486275,.712396,.203656,.344383,.490196,.718264,.206636,.340931,.494118,.724103,.20967,.337424,.498039,.729909,.212759,.333861,.501961,.735683,.215906,.330245,.505882,.741423,.219112,.326576,.509804,.747127,.222378,.322856,.513725,.752794,.225706,.319085,.517647,.758422,.229097,.315266,.521569,.76401,.232554,.311399,.52549,.769556,.236077,.307485,.529412,.775059,.239667,.303526,.533333,.780517,.243327,.299523,.537255,.785929,.247056,.295477,.541176,.791293,.250856,.29139,.545098,.796607,.254728,.287264,.54902,.801871,.258674,.283099,.552941,.807082,.262692,.278898,.556863,.812239,.266786,.274661,.560784,.817341,.270954,.27039,.564706,.822386,.275197,.266085,.568627,.827372,.279517,.26175,.572549,.832299,.283913,.257383,.576471,.837165,.288385,.252988,.580392,.841969,.292933,.248564,.584314,.846709,.297559,.244113,.588235,.851384,.30226,.239636,.592157,.855992,.307038,.235133,.596078,.860533,.311892,.230606,.6,.865006,.316822,.226055,.603922,.869409,.321827,.221482,.607843,.873741,.326906,.216886,.611765,.878001,.33206,.212268,.615686,.882188,.337287,.207628,.619608,.886302,.342586,.202968,.623529,.890341,.347957,.198286,.627451,.894305,.353399,.193584,.631373,.898192,.358911,.18886,.635294,.902003,.364492,.184116,.639216,.905735,.37014,.17935,.643137,.90939,.375856,.174563,.647059,.912966,.381636,.169755,.65098,.916462,.387481,.164924,.654902,.919879,.393389,.16007,.658824,.923215,.399359,.155193,.662745,.92647,.405389,.150292,.666667,.929644,.411479,.145367,.670588,.932737,.417627,.140417,.67451,.935747,.423831,.13544,.678431,.938675,.430091,.130438,.682353,.941521,.436405,.125409,.686275,.944285,.442772,.120354,.690196,.946965,.449191,.115272,.694118,.949562,.45566,.110164,.698039,.952075,.462178,.105031,.701961,.954506,.468744,.099874,.705882,.956852,.475356,.094695,.709804,.959114,.482014,.089499,.713725,.961293,.488716,.084289,.717647,.963387,.495462,.079073,.721569,.965397,.502249,.073859,.72549,.967322,.509078,.068659,.729412,.969163,.515946,.063488,.733333,.970919,.522853,.058367,.737255,.97259,.529798,.053324,.741176,.974176,.53678,.048392,.745098,.975677,.543798,.043618,.74902,.977092,.55085,.03905,.752941,.978422,.557937,.034931,.756863,.979666,.565057,.031409,.760784,.980824,.572209,.028508,.764706,.981895,.579392,.02625,.768627,.982881,.586606,.024661,.772549,.983779,.593849,.02377,.776471,.984591,.601122,.023606,.780392,.985315,.608422,.024202,.784314,.985952,.61575,.025592,.788235,.986502,.623105,.027814,.792157,.986964,.630485,.030908,.796078,.987337,.63789,.034916,.8,.987622,.64532,.039886,.803922,.987819,.652773,.045581,.807843,.987926,.66025,.05175,.811765,.987945,.667748,.058329,.815686,.987874,.675267,.065257,.819608,.987714,.682807,.072489,.823529,.987464,.690366,.07999,.827451,.987124,.697944,.087731,.831373,.986694,.70554,.095694,.835294,.986175,.713153,.103863,.839216,.985566,.720782,.112229,.843137,.984865,.728427,.120785,.847059,.984075,.736087,.129527,.85098,.983196,.743758,.138453,.854902,.982228,.751442,.147565,.858824,.981173,.759135,.156863,.862745,.980032,.766837,.166353,.866667,.978806,.774545,.176037,.870588,.977497,.782258,.185923,.87451,.976108,.789974,.196018,.878431,.974638,.797692,.206332,.882353,.973088,.805409,.216877,.886275,.971468,.813122,.227658,.890196,.969783,.820825,.238686,.894118,.968041,.828515,.249972,.898039,.966243,.836191,.261534,.901961,.964394,.843848,.273391,.905882,.962517,.851476,.285546,.909804,.960626,.859069,.29801,.913725,.95872,.866624,.31082,.917647,.956834,.874129,.323974,.921569,.954997,.881569,.337475,.92549,.953215,.888942,.351369,.929412,.951546,.896226,.365627,.933333,.950018,.903409,.380271,.937255,.948683,.910473,.395289,.941176,.947594,.917399,.410665,.945098,.946809,.924168,.426373,.94902,.946392,.930761,.442367,.952941,.946403,.937159,.458592,.956863,.946903,.943348,.47497,.960784,.947937,.949318,.491426,.964706,.949545,.955063,.50786,.968627,.95174,.960587,.524203,.972549,.954529,.965896,.540361,.976471,.957896,.971003,.556275,.980392,.961812,.975924,.571925,.984314,.966249,.980678,.587206,.988235,.971162,.985282,.602154,.992157,.976511,.989753,.61676,.996078,.982257,.994109,.631017,1,.988362,.998364,.644924]},{ColorSpace:"Diverging",Name:"Plasma (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.050383,.029803,.527975,.003922,.063536,.028426,.533124,.007843,.075353,.027206,.538007,.011765,.086222,.026125,.542658,.015686,.096379,.025165,.547103,.019608,.10598,.024309,.551368,.023529,.115124,.023556,.555468,.027451,.123903,.022878,.559423,.031373,.132381,.022258,.56325,.035294,.140603,.021687,.566959,.039216,.148607,.021154,.570562,.043137,.156421,.020651,.574065,.047059,.16407,.020171,.577478,.05098,.171574,.019706,.580806,.054902,.17895,.019252,.584054,.058824,.186213,.018803,.587228,.062745,.193374,.018354,.59033,.066667,.200445,.017902,.593364,.070588,.207435,.017442,.596333,.07451,.21435,.016973,.599239,.078431,.221197,.016497,.602083,.082353,.227983,.016007,.604867,.086275,.234715,.015502,.607592,.090196,.241396,.014979,.610259,.094118,.248032,.014439,.612868,.098039,.254627,.013882,.615419,.101961,.261183,.013308,.617911,.105882,.267703,.012716,.620346,.109804,.274191,.012109,.622722,.113725,.280648,.011488,.625038,.117647,.287076,.010855,.627295,.121569,.293478,.010213,.62949,.12549,.299855,.009561,.631624,.129412,.30621,.008902,.633694,.133333,.312543,.008239,.6357,.137255,.318856,.007576,.63764,.141176,.32515,.006915,.639512,.145098,.331426,.006261,.641316,.14902,.337683,.005618,.643049,.152941,.343925,.004991,.64471,.156863,.35015,.004382,.646298,.160784,.356359,.003798,.64781,.164706,.362553,.003243,.649245,.168627,.368733,.002724,.650601,.172549,.374897,.002245,.651876,.176471,.381047,.001814,.653068,.180392,.387183,.001434,.654177,.184314,.393304,.001114,.655199,.188235,.399411,859e-6,.656133,.192157,.405503,678e-6,.656977,.196078,.41158,577e-6,.65773,.2,.417642,564e-6,.65839,.203922,.423689,646e-6,.658956,.207843,.429719,831e-6,.659425,.211765,.435734,.001127,.659797,.215686,.441732,.00154,.660069,.219608,.447714,.00208,.66024,.223529,.453677,.002755,.66031,.227451,.459623,.003574,.660277,.231373,.46555,.004545,.660139,.235294,.471457,.005678,.659897,.239216,.477344,.00698,.659549,.243137,.48321,.00846,.659095,.247059,.489055,.010127,.658534,.25098,.494877,.01199,.657865,.254902,.500678,.014055,.657088,.258824,.506454,.016333,.656202,.262745,.512206,.018833,.655209,.266667,.517933,.021563,.654109,.270588,.523633,.024532,.652901,.27451,.529306,.027747,.651586,.278431,.534952,.031217,.650165,.282353,.54057,.03495,.64864,.286275,.546157,.038954,.64701,.290196,.551715,.043136,.645277,.294118,.557243,.047331,.643443,.298039,.562738,.051545,.641509,.301961,.568201,.055778,.639477,.305882,.573632,.060028,.637349,.309804,.579029,.064296,.635126,.313725,.584391,.068579,.632812,.317647,.589719,.072878,.630408,.321569,.595011,.07719,.627917,.32549,.600266,.081516,.625342,.329412,.605485,.085854,.622686,.333333,.610667,.090204,.619951,.337255,.615812,.094564,.61714,.341176,.620919,.098934,.614257,.345098,.625987,.103312,.611305,.34902,.631017,.107699,.608287,.352941,.636008,.112092,.605205,.356863,.640959,.116492,.602065,.360784,.645872,.120898,.598867,.364706,.650746,.125309,.595617,.368627,.65558,.129725,.592317,.372549,.660374,.134144,.588971,.376471,.665129,.138566,.585582,.380392,.669845,.142992,.582154,.384314,.674522,.147419,.578688,.388235,.67916,.151848,.575189,.392157,.683758,.156278,.57166,.396078,.688318,.160709,.568103,.4,.69284,.165141,.564522,.403922,.697324,.169573,.560919,.407843,.701769,.174005,.557296,.411765,.706178,.178437,.553657,.415686,.710549,.182868,.550004,.419608,.714883,.187299,.546338,.423529,.719181,.191729,.542663,.427451,.723444,.196158,.538981,.431373,.72767,.200586,.535293,.435294,.731862,.205013,.531601,.439216,.736019,.209439,.527908,.443137,.740143,.213864,.524216,.447059,.744232,.218288,.520524,.45098,.748289,.222711,.516834,.454902,.752312,.227133,.513149,.458824,.756304,.231555,.509468,.462745,.760264,.235976,.505794,.466667,.764193,.240396,.502126,.470588,.76809,.244817,.498465,.47451,.771958,.249237,.494813,.478431,.775796,.253658,.491171,.482353,.779604,.258078,.487539,.486275,.783383,.2625,.483918,.490196,.787133,.266922,.480307,.494118,.790855,.271345,.476706,.498039,.794549,.27577,.473117,.501961,.798216,.280197,.469538,.505882,.801855,.284626,.465971,.509804,.805467,.289057,.462415,.513725,.809052,.293491,.45887,.517647,.812612,.297928,.455338,.521569,.816144,.302368,.451816,.52549,.819651,.306812,.448306,.529412,.823132,.311261,.444806,.533333,.826588,.315714,.441316,.537255,.830018,.320172,.437836,.541176,.833422,.324635,.434366,.545098,.836801,.329105,.430905,.54902,.840155,.33358,.427455,.552941,.843484,.338062,.424013,.556863,.846788,.342551,.420579,.560784,.850066,.347048,.417153,.564706,.853319,.351553,.413734,.568627,.856547,.356066,.410322,.572549,.85975,.360588,.406917,.576471,.862927,.365119,.403519,.580392,.866078,.36966,.400126,.584314,.869203,.374212,.396738,.588235,.872303,.378774,.393355,.592157,.875376,.383347,.389976,.596078,.878423,.387932,.3866,.6,.881443,.392529,.383229,.603922,.884436,.397139,.37986,.607843,.887402,.401762,.376494,.611765,.89034,.406398,.37313,.615686,.89325,.411048,.369768,.619608,.896131,.415712,.366407,.623529,.898984,.420392,.363047,.627451,.901807,.425087,.359688,.631373,.904601,.429797,.356329,.635294,.907365,.434524,.35297,.639216,.910098,.439268,.34961,.643137,.9128,.444029,.346251,.647059,.915471,.448807,.34289,.65098,.918109,.453603,.339529,.654902,.920714,.458417,.336166,.658824,.923287,.463251,.332801,.662745,.925825,.468103,.329435,.666667,.928329,.472975,.326067,.670588,.930798,.477867,.322697,.67451,.933232,.48278,.319325,.678431,.93563,.487712,.315952,.682353,.93799,.492667,.312575,.686275,.940313,.497642,.309197,.690196,.942598,.502639,.305816,.694118,.944844,.507658,.302433,.698039,.947051,.512699,.299049,.701961,.949217,.517763,.295662,.705882,.951344,.52285,.292275,.709804,.953428,.52796,.288883,.713725,.95547,.533093,.28549,.717647,.957469,.53825,.282096,.721569,.959424,.543431,.278701,.72549,.961336,.548636,.275305,.729412,.963203,.553865,.271909,.733333,.965024,.559118,.268513,.737255,.966798,.564396,.265118,.741176,.968526,.5697,.261721,.745098,.970205,.575028,.258325,.74902,.971835,.580382,.254931,.752941,.973416,.585761,.25154,.756863,.974947,.591165,.248151,.760784,.976428,.596595,.244767,.764706,.977856,.602051,.241387,.768627,.979233,.607532,.238013,.772549,.980556,.613039,.234646,.776471,.981826,.618572,.231287,.780392,.983041,.624131,.227937,.784314,.984199,.629718,.224595,.788235,.985301,.63533,.221265,.792157,.986345,.640969,.217948,.796078,.987332,.646633,.214648,.8,.98826,.652325,.211364,.803922,.989128,.658043,.2081,.807843,.989935,.663787,.204859,.811765,.990681,.669558,.201642,.815686,.991365,.675355,.198453,.819608,.991985,.681179,.195295,.823529,.992541,.68703,.19217,.827451,.993032,.692907,.189084,.831373,.993456,.69881,.186041,.835294,.993814,.704741,.183043,.839216,.994103,.710698,.180097,.843137,.994324,.716681,.177208,.847059,.994474,.722691,.174381,.85098,.994553,.728728,.171622,.854902,.994561,.734791,.168938,.858824,.994495,.74088,.166335,.862745,.994355,.746995,.163821,.866667,.994141,.753137,.161404,.870588,.993851,.759304,.159092,.87451,.993482,.765499,.156891,.878431,.993033,.77172,.154808,.882353,.992505,.777967,.152855,.886275,.991897,.784239,.151042,.890196,.991209,.790537,.149377,.894118,.990439,.796859,.14787,.898039,.989587,.803205,.146529,.901961,.988648,.809579,.145357,.905882,.987621,.815978,.144363,.909804,.986509,.822401,.143557,.913725,.985314,.828846,.142945,.917647,.984031,.835315,.142528,.921569,.982653,.841812,.142303,.92549,.98119,.848329,.142279,.929412,.979644,.854866,.142453,.933333,.977995,.861432,.142808,.937255,.976265,.868016,.143351,.941176,.974443,.874622,.144061,.945098,.97253,.88125,.144923,.94902,.970533,.887896,.145919,.952941,.968443,.894564,.147014,.956863,.966271,.901249,.14818,.960784,.964021,.90795,.14937,.964706,.961681,.914672,.15052,.968627,.959276,.921407,.151566,.972549,.956808,.928152,.152409,.976471,.954287,.934908,.152921,.980392,.951726,.941671,.152925,.984314,.949151,.948435,.152178,.988235,.946602,.95519,.150328,.992157,.944152,.961916,.146861,.996078,.941896,.96859,.140956,1,.940015,.975158,.131326]},{ColorSpace:"Diverging",Name:"Viridis (matplotlib)",NanColor:[1,0,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Eric Firing",RGBPoints:[0,.267004,.004874,.329415,.003922,.26851,.009605,.335427,.007843,.269944,.014625,.341379,.011765,.271305,.019942,.347269,.015686,.272594,.025563,.353093,.019608,.273809,.031497,.358853,.023529,.274952,.037752,.364543,.027451,.276022,.044167,.370164,.031373,.277018,.050344,.375715,.035294,.277941,.056324,.381191,.039216,.278791,.062145,.386592,.043137,.279566,.067836,.391917,.047059,.280267,.073417,.397163,.05098,.280894,.078907,.402329,.054902,.281446,.08432,.407414,.058824,.281924,.089666,.412415,.062745,.282327,.094955,.417331,.066667,.282656,.100196,.42216,.070588,.28291,.105393,.426902,.07451,.283091,.110553,.431554,.078431,.283197,.11568,.436115,.082353,.283229,.120777,.440584,.086275,.283187,.125848,.44496,.090196,.283072,.130895,.449241,.094118,.282884,.13592,.453427,.098039,.282623,.140926,.457517,.101961,.28229,.145912,.46151,.105882,.281887,.150881,.465405,.109804,.281412,.155834,.469201,.113725,.280868,.160771,.472899,.117647,.280255,.165693,.476498,.121569,.279574,.170599,.479997,.12549,.278826,.17549,.483397,.129412,.278012,.180367,.486697,.133333,.277134,.185228,.489898,.137255,.276194,.190074,.493001,.141176,.275191,.194905,.496005,.145098,.274128,.199721,.498911,.14902,.273006,.20452,.501721,.152941,.271828,.209303,.504434,.156863,.270595,.214069,.507052,.160784,.269308,.218818,.509577,.164706,.267968,.223549,.512008,.168627,.26658,.228262,.514349,.172549,.265145,.232956,.516599,.176471,.263663,.237631,.518762,.180392,.262138,.242286,.520837,.184314,.260571,.246922,.522828,.188235,.258965,.251537,.524736,.192157,.257322,.25613,.526563,.196078,.255645,.260703,.528312,.2,.253935,.265254,.529983,.203922,.252194,.269783,.531579,.207843,.250425,.27429,.533103,.211765,.248629,.278775,.534556,.215686,.246811,.283237,.535941,.219608,.244972,.287675,.53726,.223529,.243113,.292092,.538516,.227451,.241237,.296485,.539709,.231373,.239346,.300855,.540844,.235294,.237441,.305202,.541921,.239216,.235526,.309527,.542944,.243137,.233603,.313828,.543914,.247059,.231674,.318106,.544834,.25098,.229739,.322361,.545706,.254902,.227802,.326594,.546532,.258824,.225863,.330805,.547314,.262745,.223925,.334994,.548053,.266667,.221989,.339161,.548752,.270588,.220057,.343307,.549413,.27451,.21813,.347432,.550038,.278431,.21621,.351535,.550627,.282353,.214298,.355619,.551184,.286275,.212395,.359683,.55171,.290196,.210503,.363727,.552206,.294118,.208623,.367752,.552675,.298039,.206756,.371758,.553117,.301961,.204903,.375746,.553533,.305882,.203063,.379716,.553925,.309804,.201239,.38367,.554294,.313725,.19943,.387607,.554642,.317647,.197636,.391528,.554969,.321569,.19586,.395433,.555276,.32549,.1941,.399323,.555565,.329412,.192357,.403199,.555836,.333333,.190631,.407061,.556089,.337255,.188923,.41091,.556326,.341176,.187231,.414746,.556547,.345098,.185556,.41857,.556753,.34902,.183898,.422383,.556944,.352941,.182256,.426184,.55712,.356863,.180629,.429975,.557282,.360784,.179019,.433756,.55743,.364706,.177423,.437527,.557565,.368627,.175841,.44129,.557685,.372549,.174274,.445044,.557792,.376471,.172719,.448791,.557885,.380392,.171176,.45253,.557965,.384314,.169646,.456262,.55803,.388235,.168126,.459988,.558082,.392157,.166617,.463708,.558119,.396078,.165117,.467423,.558141,.4,.163625,.471133,.558148,.403922,.162142,.474838,.55814,.407843,.160665,.47854,.558115,.411765,.159194,.482237,.558073,.415686,.157729,.485932,.558013,.419608,.15627,.489624,.557936,.423529,.154815,.493313,.55784,.427451,.153364,.497,.557724,.431373,.151918,.500685,.557587,.435294,.150476,.504369,.55743,.439216,.149039,.508051,.55725,.443137,.147607,.511733,.557049,.447059,.14618,.515413,.556823,.45098,.144759,.519093,.556572,.454902,.143343,.522773,.556295,.458824,.141935,.526453,.555991,.462745,.140536,.530132,.555659,.466667,.139147,.533812,.555298,.470588,.13777,.537492,.554906,.47451,.136408,.541173,.554483,.478431,.135066,.544853,.554029,.482353,.133743,.548535,.553541,.486275,.132444,.552216,.553018,.490196,.131172,.555899,.552459,.494118,.129933,.559582,.551864,.498039,.128729,.563265,.551229,.501961,.127568,.566949,.550556,.505882,.126453,.570633,.549841,.509804,.125394,.574318,.549086,.513725,.124395,.578002,.548287,.517647,.123463,.581687,.547445,.521569,.122606,.585371,.546557,.52549,.121831,.589055,.545623,.529412,.121148,.592739,.544641,.533333,.120565,.596422,.543611,.537255,.120092,.600104,.54253,.541176,.119738,.603785,.5414,.545098,.119512,.607464,.540218,.54902,.119423,.611141,.538982,.552941,.119483,.614817,.537692,.556863,.119699,.61849,.536347,.560784,.120081,.622161,.534946,.564706,.120638,.625828,.533488,.568627,.12138,.629492,.531973,.572549,.122312,.633153,.530398,.576471,.123444,.636809,.528763,.580392,.12478,.640461,.527068,.584314,.126326,.644107,.525311,.588235,.128087,.647749,.523491,.592157,.130067,.651384,.521608,.596078,.132268,.655014,.519661,.6,.134692,.658636,.517649,.603922,.137339,.662252,.515571,.607843,.14021,.665859,.513427,.611765,.143303,.669459,.511215,.615686,.146616,.67305,.508936,.619608,.150148,.676631,.506589,.623529,.153894,.680203,.504172,.627451,.157851,.683765,.501686,.631373,.162016,.687316,.499129,.635294,.166383,.690856,.496502,.639216,.170948,.694384,.493803,.643137,.175707,.6979,.491033,.647059,.180653,.701402,.488189,.65098,.185783,.704891,.485273,.654902,.19109,.708366,.482284,.658824,.196571,.711827,.479221,.662745,.202219,.715272,.476084,.666667,.20803,.718701,.472873,.670588,.214,.722114,.469588,.67451,.220124,.725509,.466226,.678431,.226397,.728888,.462789,.682353,.232815,.732247,.459277,.686275,.239374,.735588,.455688,.690196,.24607,.73891,.452024,.694118,.252899,.742211,.448284,.698039,.259857,.745492,.444467,.701961,.266941,.748751,.440573,.705882,.274149,.751988,.436601,.709804,.281477,.755203,.432552,.713725,.288921,.758394,.428426,.717647,.296479,.761561,.424223,.721569,.304148,.764704,.419943,.72549,.311925,.767822,.415586,.729412,.319809,.770914,.411152,.733333,.327796,.77398,.40664,.737255,.335885,.777018,.402049,.741176,.344074,.780029,.397381,.745098,.35236,.783011,.392636,.74902,.360741,.785964,.387814,.752941,.369214,.788888,.382914,.756863,.377779,.791781,.377939,.760784,.386433,.794644,.372886,.764706,.395174,.797475,.367757,.768627,.404001,.800275,.362552,.772549,.412913,.803041,.357269,.776471,.421908,.805774,.35191,.780392,.430983,.808473,.346476,.784314,.440137,.811138,.340967,.788235,.449368,.813768,.335384,.792157,.458674,.816363,.329727,.796078,.468053,.818921,.323998,.8,.477504,.821444,.318195,.803922,.487026,.823929,.312321,.807843,.496615,.826376,.306377,.811765,.506271,.828786,.300362,.815686,.515992,.831158,.294279,.819608,.525776,.833491,.288127,.823529,.535621,.835785,.281908,.827451,.545524,.838039,.275626,.831373,.555484,.840254,.269281,.835294,.565498,.84243,.262877,.839216,.575563,.844566,.256415,.843137,.585678,.846661,.249897,.847059,.595839,.848717,.243329,.85098,.606045,.850733,.236712,.854902,.616293,.852709,.230052,.858824,.626579,.854645,.223353,.862745,.636902,.856542,.21662,.866667,.647257,.8584,.209861,.870588,.657642,.860219,.203082,.87451,.668054,.861999,.196293,.878431,.678489,.863742,.189503,.882353,.688944,.865448,.182725,.886275,.699415,.867117,.175971,.890196,.709898,.868751,.169257,.894118,.720391,.87035,.162603,.898039,.730889,.871916,.156029,.901961,.741388,.873449,.149561,.905882,.751884,.874951,.143228,.909804,.762373,.876424,.137064,.913725,.772852,.877868,.131109,.917647,.783315,.879285,.125405,.921569,.79376,.880678,.120005,.92549,.804182,.882046,.114965,.929412,.814576,.883393,.110347,.933333,.82494,.88472,.106217,.937255,.83527,.886029,.102646,.941176,.845561,.887322,.099702,.945098,.85581,.888601,.097452,.94902,.866013,.889868,.095953,.952941,.876168,.891125,.09525,.956863,.886271,.892374,.095374,.960784,.89632,.893616,.096335,.964706,.906311,.894855,.098125,.968627,.916242,.896091,.100717,.972549,.926106,.89733,.104071,.976471,.935904,.89857,.108131,.980392,.945636,.899815,.112838,.984314,.9553,.901065,.118128,.988235,.964894,.902323,.123941,.992157,.974417,.90359,.130215,.996078,.983868,.904867,.136897,1,.993248,.906157,.143936]},{ShowIndexedColorActiveValues:1,IndexedColors:[.07,.5,.7,1,1,1,.85,1,1,.8,.5,1,.76,1,0,1,.71,.71,.5,.5,.5,.05,.05,1,1,.05,.05,.7,1,1,.7,.89,.96,.67,.36,.95,.54,1,0,.75,.65,.65,.5,.6,.6,1,.5,0,1,1,.19,.12,.94,.12,.5,.82,.89,.56,.25,.83,.24,1,0,.9,.9,.9,.75,.76,.78,.65,.65,.67,.54,.6,.78,.61,.48,.78,.5,.48,.78,.44,.48,.78,.36,.48,.76,1,.48,.38,.49,.5,.69,.76,.56,.56,.4,.56,.56,.74,.5,.89,1,.63,0,.65,.16,.16,.36,.72,.82,.44,.18,.69,0,1,0,.58,1,1,.58,.88,.88,.45,.76,.79,.33,.71,.71,.23,.62,.62,.14,.56,.56,.04,.49,.55,0,.41,.52,.88,.88,1,1,.85,.56,.65,.46,.45,.4,.5,.5,.62,.39,.71,.83,.48,0,.58,0,.58,.26,.62,.69,.34,.09,.56,0,.79,0,.44,.83,1,1,1,.78,.85,1,.78,.78,1,.78,.64,1,.78,.56,1,.78,.38,1,.78,.27,1,.78,.19,1,.78,.12,1,.78,0,1,.61,0,.9,.46,0,.83,.32,0,.75,.22,0,.67,.14,.3,.76,1,.3,.65,1,.13,.58,.84,.15,.49,.67,.15,.4,.59,.09,.33,.53,.96,.93,.82,.8,.82,.12,.71,.71,.76,.65,.33,.3,.34,.35,.38,.62,.31,.71,.67,.36,0,.46,.31,.27,.26,.51,.59,.26,0,.4,0,.49,0,.44,.67,.98,0,.73,1,0,.63,1,0,.56,1,0,.5,1,0,.42,1,.33,.36,.95,.47,.36,.89,.54,.31,.89,.63,.21,.83,.7,.12,.83,.7,.12,.73,.7,.05,.65,.74,.05,.53,.78,0,.4,.8,0,.35,.82,0,.31,.85,0,.27,.88,0,.22,.9,0,.18,.91,0,.15,.92,0,.14,.93,0,.13,.94,0,.12,.95,0,.11,.96,0,.1,.97,0,.09,.98,0,.08,.99,0,.07,1,0,.06],Annotations:[0,"Xx",1,"H",2,"He",3,"Li",4,"Be",5,"B",6,"C",7,"N",8,"O",9,"F",10,"Ne",11,"Na",12,"Mg",13,"Al",14,"Si",15,"P",16,"S",17,"Cl",18,"Ar",19,"K",20,"Ca",21,"Sc",22,"Ti",23,"V",24,"Cr",25,"Mn",26,"Fe",27,"Co",28,"Ni",29,"Cu",30,"Zn",31,"Ga",32,"Ge",33,"As",34,"Se",35,"Br",36,"Kr",37,"Rb",38,"Sr",39,"Y",40,"Zr",41,"Nb",42,"Mo",43,"Tc",44,"Ru",45,"Rh",46,"Pd",47,"Ag",48,"Cd",49,"In",50,"Sn",51,"Sb",52,"Te",53,"I",54,"Xe",55,"Cs",56,"Ba",57,"La",58,"Ce",59,"Pr",60,"Nd",61,"Pm",62,"Sm",63,"Eu",64,"Gd",65,"Tb",66,"Dy",67,"Ho",68,"Er",69,"Tm",70,"Yb",71,"Lu",72,"Hf",73,"Ta",74,"W",75,"Re",76,"Os",77,"Ir",78,"Pt",79,"Au",80,"Hg",81,"Tl",82,"Pb",83,"Bi",84,"Po",85,"At",86,"Rn",87,"Fr",88,"Ra",89,"Ac",90,"Th",91,"Pa",92,"U",93,"Np",94,"Pu",95,"Am",96,"Cm",97,"Bk",98,"Cf",99,"Es",100,"Fm",101,"Md",102,"No",103,"Lr",104,"Rf",105,"Db",106,"Sg",107,"Bh",108,"Hs",109,"Mt",110,"Ds",111,"Rg",112,"Cn",113,"Uut",114,"Uuq",115,"Uup",116,"Uuh",117,"Uus",118,"Uuo"],Name:"BlueObeliskElements"}],Ta=Object.create(null);rN.filter(function(t){return t.RGBPoints}).filter(function(t){return t.ColorSpace!=="CIELAB"}).forEach(function(t){Ta[t.Name]=t});var ba=Object.keys(Ta);ba.sort();function nN(t){return Ta[t]}function aN(t){!t.RGBPoints||t.ColorSpace==="CIELAB"||(Ta[t.Name]||(ba.push(t.Name),ba.sort()),Ta[t.Name]=t)}function iN(t){var e=ba.indexOf(t);e>-1&&ba.splice(e,1),delete Ta[t]}var Ea={addPreset:aN,removePresetByName:iN,getPresetByName:nN,rgbPresetNames:ba};function oN(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ot(this,n)}}var hs=function(t){Dt(n,Lt.exports.Component);var e=oN(n);function n(r){var a;return dt(this,n),(a=e.call(this,r)).validData=!1,a.currentVisibility=!0,a.lookupTable=Va.newInstance(),a.piecewiseFunction=ls.newInstance(),a.volume=ZO.newInstance({visibility:!1}),a.mapper=tN.newInstance(),a.volume.setMapper(a.mapper),a.volume.getProperty().setRGBTransferFunction(0,a.lookupTable),a.volume.getProperty().setScalarOpacity(0,a.piecewiseFunction),a.volume.getProperty().setInterpolationTypeToLinear(),a}return gt(n,[{key:"render",value:function(){var r=this;return me.createElement(Hr.Consumer,null,function(a){return r.view||(a.renderer.addVolume(r.volume),r.view=a),me.createElement(Yt.Provider,{value:r},me.createElement(Ft.Provider,{value:r.mapper},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children)))})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.view&&this.view.renderer&&(this.view.renderer.removeVolume(this.volume),this.view=null),this.volume.delete(),this.volume=null,this.mapper.delete(),this.mapper=null}},{key:"update",value:function(r,a){var i,s=r.volume,o=r.property,c=r.mapper,u=r.colorMapPreset,f=r.colorDataRange,l=!1;if(!s||a&&s===a.volume||(l=this.volume.set(s)||l),!o||a&&o===a.property||(l=this.volume.getProperty().set(o)||l),!c||a&&c===a.mapper||(l=this.mapper.set(c)||l),u&&(!a||u!==a.colorMapPreset)){var h;l=!0;var p=Ea.getPresetByName(u);this.lookupTable.applyColorMap(p),(h=this.lookupTable).setMappingRange.apply(h,we(f)),this.lookupTable.updateRange()}!f||a&&Pr(f,a.colorDataRange)||(l=!0,typeof f=="string"?a?this.dataChanged():(this.lookupTable.setMappingRange(0,1),this.lookupTable.updateRange(),this.piecewiseFunction.setNodes([{x:0,y:0,midpoint:.5,sharpness:0},{x:1,y:1,midpoint:.5,sharpness:0}])):((i=this.lookupTable).setMappingRange.apply(i,we(f)),this.lookupTable.updateRange(),this.piecewiseFunction.setNodes([{x:f[0],y:0,midpoint:.5,sharpness:0},{x:f[1],y:1,midpoint:.5,sharpness:0}]))),s&&s.visibility!==void 0&&(this.currentVisibility=s.visibility,l=this.volume.setVisibility(this.currentVisibility&&this.validData)||l),l&&this.dataChanged()}},{key:"dataAvailable",value:function(){this.validData||(this.validData=!0,this.volume.setVisibility(this.currentVisibility),this.dataChanged())}},{key:"dataChanged",value:function(){if(this.props.colorDataRange==="auto"){this.mapper.update();var r,a=this.mapper.getInputData(),i=a&&a.getPointData().getScalars(),s=i&&i.getRange();s&&((r=this.lookupTable).setMappingRange.apply(r,we(s)),this.lookupTable.updateRange(),this.piecewiseFunction.setNodes([{x:s[0],y:0,midpoint:.5,sharpness:0},{x:s[1],y:1,midpoint:.5,sharpness:0}])),this.view&&this.view.renderView()}}}]),n}();hs.defaultProps={colorMapPreset:"erdc_rainbow_bright",colorDataRange:"auto"},hs.propTypes={id:ee.string,mapper:ee.object,volume:ee.object,property:ee.object,colorMapPreset:ee.string,colorDataRange:ee.oneOfType([ee.arrayOf(ee.number),ee.string]),children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};var $o=v4.InterpolationType,Eh=W.vtkErrorMacro,Ho=4;function sN(t,e){e.classHierarchy.push("vtkImageProperty"),t.getMTime=function(){for(var n=e.mtime,r,a=0;a<Ho;a++)e.componentData[a].rGBTransferFunction&&(r=e.componentData[a].rGBTransferFunction.getMTime(),n=n>r?n:r),e.componentData[a].piecewiseFunction&&(r=e.componentData[a].piecewiseFunction.getMTime(),n=n>r?n:r);return n},t.setRGBTransferFunction=function(n,r){var a=n,i=r;return Number.isInteger(n)||(i=n,a=0),e.componentData[a].rGBTransferFunction!==i?(e.componentData[a].rGBTransferFunction=i,t.modified(),!0):!1},t.getRGBTransferFunction=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.componentData[n].rGBTransferFunction},t.setPiecewiseFunction=function(n,r){var a=n,i=r;return Number.isInteger(n)||(i=n,a=0),e.componentData[a].piecewiseFunction!==i?(e.componentData[a].piecewiseFunction=i,t.modified(),!0):!1},t.getPiecewiseFunction=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.componentData[n].piecewiseFunction},t.setScalarOpacity=function(n,r){var a=n,i=r;return Number.isInteger(n)||(i=n,a=0),t.setPiecewiseFunction(a,i)},t.getScalarOpacity=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t.getPiecewiseFunction(n)},t.setComponentWeight=function(n,r){if(n<0||n>=Ho)return Eh("Invalid index"),!1;var a=Math.min(1,Math.max(0,r));return e.componentData[n].componentWeight!==a?(e.componentData[n].componentWeight=a,t.modified(),!0):!1},t.getComponentWeight=function(n){return n<0||n>=Ho?(Eh("Invalid index"),0):e.componentData[n].componentWeight},t.setInterpolationTypeToNearest=function(){return t.setInterpolationType($o.NEAREST)},t.setInterpolationTypeToLinear=function(){return t.setInterpolationType($o.LINEAR)},t.getInterpolationTypeAsString=function(){return W.enumToString($o,e.interpolationType)}}var uN={independentComponents:!1,interpolationType:$o.LINEAR,colorWindow:255,colorLevel:127.5,ambient:1,diffuse:0,opacity:1,useLookupTableScalarRange:!1};function xg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,uN,n),W.obj(t,e),!e.componentData){e.componentData=[];for(var r=0;r<Ho;r++)e.componentData.push({rGBTransferFunction:null,piecewiseFunction:null,componentWeight:1})}W.setGet(t,e,["independentComponents","interpolationType","colorWindow","colorLevel","ambient","diffuse","opacity","useLookupTableScalarRange"]),sN(t,e)}var cN=W.newInstance(xg,"vtkImageProperty"),fN={newInstance:cN,extend:xg},lN=W.vtkDebugMacro;function hN(t,e){e.classHierarchy.push("vtkImageSlice"),t.getActors=function(){return t},t.getImages=function(){return t},t.getIsOpaque=function(){if(e.forceOpaque)return!0;if(e.forceTranslucent)return!1;e.property||t.getProperty();var n=e.property.getOpacity()>=1;return n=n&&(!e.mapper||e.mapper.getIsOpaque()),n},t.hasTranslucentPolygonalGeometry=function(){return!1},t.makeProperty=fN.newInstance,t.getProperty=function(){return e.property===null&&(e.property=t.makeProperty()),e.property},t.getBounds=function(){if(e.mapper===null)return e.bounds;var n=e.mapper.getBounds();if(!n||n.length!==6)return n;if(n[0]>n[1])return e.mapperBounds=n.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),n;var r=function(o){return o[0].map(function(c,u){return o.map(function(f){return f[u]})})};if(!e.mapperBounds||!r([n,e.mapperBounds]).reduce(function(s,o){return s&&o[0]===o[1]},!0)||t.getMTime()>e.boundsMTime.getMTime()){lN("Recomputing bounds..."),e.mapperBounds=n.map(function(s){return s});var a=[];He.getCorners(n,a),t.computeMatrix();var i=new Float64Array(16);Ye(i,e.matrix),a.forEach(function(s){return be(s,s,i)}),e.bounds[0]=e.bounds[2]=e.bounds[4]=Number.MAX_VALUE,e.bounds[1]=e.bounds[3]=e.bounds[5]=-Number.MAX_VALUE,e.bounds=e.bounds.map(function(s,o){return o%2===0?a.reduce(function(c,u){return c>u[o/2]?u[o/2]:c},s):a.reduce(function(c,u){return c<u[(o-1)/2]?u[(o-1)/2]:c},s)}),e.boundsMTime.modified()}return e.bounds},t.getBoundsForSlice=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=e.mapper.getBoundsForSlice(n,r);if(!a||a.length!==6||a[0]>a[1])return a;var i=[];He.getCorners(a,i),t.computeMatrix();var s=new Float64Array(16);Ye(s,e.matrix),i.forEach(function(c){return be(c,c,s)});var o=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];return o=o.map(function(c,u){return u%2===0?i.reduce(function(f,l){return f>l[u/2]?l[u/2]:f},c):i.reduce(function(f,l){return f<l[(u-1)/2]?l[(u-1)/2]:f},c)}),o},t.getMinXBound=function(){return t.getBounds(),e.bounds[0]},t.getMaxXBound=function(){return t.getBounds(),e.bounds[1]},t.getMinYBound=function(){return t.getBounds(),e.bounds[2]},t.getMaxYBound=function(){return t.getBounds(),e.bounds[3]},t.getMinZBound=function(){return t.getBounds(),e.bounds[4]},t.getMaxZBound=function(){return t.getBounds(),e.bounds[5]},t.getMTime=function(){var n=e.mtime;if(e.property!==null){var r=e.property.getMTime();n=r>n?r:n}return n},t.getRedrawMTime=function(){var n=e.mtime;if(e.mapper!==null){var r=e.mapper.getMTime();n=r>n?r:n,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),r=e.mapper.getInput().getMTime(),n=r>n?r:n)}if(e.property!==null){var a=e.property.getMTime();n=a>n?a:n,e.property.getRGBTransferFunction()!==null&&(a=e.property.getRGBTransferFunction().getMTime(),n=a>n?a:n)}return n},t.getSupportsSelection=function(){return e.mapper?e.mapper.getSupportsSelection():!1}}var pN={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1]};function wg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,pN,n),cc.extend(t,e,n),e.boundsMTime={},W.obj(e.boundsMTime),W.set(t,e,["property"]),W.setGet(t,e,["mapper"]),W.getArray(t,e,["bounds"],6),hN(t,e)}var vN=W.newInstance(wg,"vtkImageSlice"),dN={newInstance:vN,extend:wg};function Dh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function U0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var gN=ka.staticOffsetAPI,yN=ka.otherStaticMethods,mN=W.vtkWarningMacro,je=Hu.SlicingMode;function _N(t,e){e.classHierarchy.push("vtkImageMapper"),t.getSliceAtPosition=function(a){var i=t.getInputData(),s;if(a.length===3)s=a;else if(Number.isFinite(a)){var o=i.getBounds();switch(e.slicingMode){case je.X:s=[a,(o[3]+o[2])/2,(o[5]+o[4])/2];break;case je.Y:s=[(o[1]+o[0])/2,a,(o[5]+o[4])/2];break;case je.Z:s=[(o[1]+o[0])/2,(o[3]+o[2])/2,a];break}}var c=[0,0,0];i.worldToIndex(s,c);var u=i.getExtent(),f=t.getClosestIJKAxis(),l=f.ijkMode,h=0;switch(l){case je.I:h=ga(c[0],u[0],u[1]);break;case je.J:h=ga(c[1],u[2],u[3]);break;case je.K:h=ga(c[2],u[4],u[5]);break;default:return 0}return h},t.setSliceFromCamera=function(a){var i=a.getFocalPoint();switch(e.slicingMode){case je.I:case je.J:case je.K:{var s=t.getSliceAtPosition(i);t.setSlice(s)}break;case je.X:t.setSlice(i[0]);break;case je.Y:t.setSlice(i[1]);break;case je.Z:t.setSlice(i[2]);break}},t.setXSlice=function(a){t.setSlicingMode(je.X),t.setSlice(a)},t.setYSlice=function(a){t.setSlicingMode(je.Y),t.setSlice(a)},t.setZSlice=function(a){t.setSlicingMode(je.Z),t.setSlice(a)},t.setISlice=function(a){t.setSlicingMode(je.I),t.setSlice(a)},t.setJSlice=function(a){t.setSlicingMode(je.J),t.setSlice(a)},t.setKSlice=function(a){t.setSlicingMode(je.K),t.setSlice(a)},t.getSlicingModeNormal=function(){var a=[0,0,0],i=t.getInputData().getDirection(),s=[[i[0],i[1],i[2]],[i[3],i[4],i[5]],[i[6],i[7],i[8]]];switch(e.slicingMode){case je.X:a[0]=1;break;case je.Y:a[1]=1;break;case je.Z:a[2]=1;break;case je.I:Qi(s,[1,0,0],a);break;case je.J:Qi(s,[0,1,0],a);break;case je.K:Qi(s,[0,0,1],a);break}return a};function n(){var a;switch(e.slicingMode){case je.X:a=[1,0,0];break;case je.Y:a=[0,1,0];break;case je.Z:a=[0,0,1];break;default:e.closestIJKAxis={ijkMode:e.slicingMode,flip:!1};return}var i=[0,0,0],s=t.getInputData().getDirection(),o=[[s[0],s[1],s[2]],[s[3],s[4],s[5]],[s[6],s[7],s[8]]];Qi(o,a,i);for(var c=0,u=-1,f=!1,l=0;l<i.length;++l){var h=Math.abs(i[l]);h>c&&(c=h,f=i[l]<0,u=l)}if(c!==1){var p="IJKXYZ"[e.slicingMode],v="IJKXYZ"[u];mN("Unaccurate slicing along ".concat(p," axis which ")+"is not aligned with any IJK axis of the image data. "+"Using ".concat(v," axis  as a fallback (").concat(c,"% aligned). ")+"Necessitates slice reformat that is not yet implemented.  You can switch the slicing mode on your mapper to do IJK slicing instead.")}e.closestIJKAxis={ijkMode:u,flip:f}}t.setSlicingMode=function(a){e.slicingMode!==a&&(e.slicingMode=a,t.getInputData()&&n(),t.modified())},t.getClosestIJKAxis=function(){return(e.closestIJKAxis===void 0||e.closestIJKAxis.ijkMode===je.NONE)&&t.getInputData()&&n(),e.closestIJKAxis},t.getBounds=function(){var a=t.getInputData();if(!a)return xa();if(!e.useCustomExtents)return a.getBounds();var i=e.customDisplayExtent.slice(),s=t.getClosestIJKAxis(),o=s.ijkMode,c=e.slice;switch(o!==e.slicingMode&&(c=t.getSliceAtPosition(e.slice)),o){case je.I:i[0]=c,i[1]=c;break;case je.J:i[2]=c,i[3]=c;break;case je.K:i[4]=c,i[5]=c;break}return a.extentToBounds(i)},t.getBoundsForSlice=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.slice,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=t.getInputData();if(!s)return xa();var o=s.getExtent(),c=t.getClosestIJKAxis(),u=c.ijkMode,f=a;switch(u!==e.slicingMode&&(f=t.getSliceAtPosition(a)),u){case je.I:o[0]=f-i,o[1]=f+i;break;case je.J:o[2]=f-i,o[3]=f+i;break;case je.K:o[4]=f-i,o[5]=f+i;break}return s.extentToBounds(o)},t.getIsOpaque=function(){return!0};function r(a,i){var s=t.getInputData(),o=s.getExtent(),c=[o[0],o[2],o[4]],u=t.getClosestIJKAxis(),f=u.ijkMode,l=e.slice;f!==e.slicingMode&&(l=t.getSliceAtPosition(l)),c[f]+=l;var h=[0,0,0];s.indexToWorld(c,h),c[f]+=1;var p=[0,0,0];s.indexToWorld(c,p),p[0]-=h[0],p[1]-=h[1],p[2]-=h[2],mr(p,p);var v=jn.intersectWithLine(a,i,h,p);if(v.intersection){var y=v.x,_=[0,0,0];return s.worldToIndex(y,_),{t:v.t,absoluteIJK:_}}return null}t.intersectWithLineForPointPicking=function(a,i){var s=r(a,i);if(s){var o=t.getInputData(),c=o.getExtent(),u=[Math.round(s.absoluteIJK[0]),Math.round(s.absoluteIJK[1]),Math.round(s.absoluteIJK[2])];return u[0]<c[0]||u[0]>c[1]||u[1]<c[2]||u[1]>c[3]||u[2]<c[4]||u[2]>c[5]?null:{t:s.t,ijk:u}}return null},t.intersectWithLineForCellPicking=function(a,i){var s=r(a,i);if(s){var o=t.getInputData(),c=o.getExtent(),u=s.absoluteIJK,f=[Math.floor(u[0]),Math.floor(u[1]),Math.floor(u[2])];if(f[0]<c[0]||f[0]>c[1]-1||f[1]<c[2]||f[1]>c[3]-1||f[2]<c[4]||f[2]>c[5]-1)return null;var l=[u[0]-f[0],u[1]-f[1],u[2]-f[2]];return{t:s.t,ijk:f,pCoords:l}}return null}}var xN={displayExtent:[0,0,0,0,0,0],customDisplayExtent:[0,0,0,0],useCustomExtents:!1,slice:0,slicingMode:je.NONE,closestIJKAxis:{ijkMode:je.NONE,flip:!1},renderToRectangle:!1,sliceAtFocalPoint:!1};function Cg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,xN,n),Os.extend(t,e,n),W.get(t,e,["slicingMode"]),W.setGet(t,e,["slice","closestIJKAxis","useCustomExtents","renderToRectangle","sliceAtFocalPoint"]),W.setGetArray(t,e,["customDisplayExtent"],4),ka.implementCoincidentTopologyMethods(t,e),_N(t,e)}var wN=W.newInstance(Cg,"vtkImageMapper"),CN=U0(U0(U0({newInstance:wN,extend:Cg},gN),yN),Hu);function SN(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ot(this,n)}}var wu=function(t){Dt(n,Lt.exports.Component);var e=SN(n);function n(r){var a,i;dt(this,n),(i=e.call(this,r)).validData=!1,i.currentVisibility=!0,i.lookupTable=Va.newInstance();var s=Ea.getPresetByName((a=i.props.colorMapPreset)!==null&&a!==void 0?a:"Grayscale");return i.lookupTable.applyColorMap(s),i.piecewiseFunction=ls.newInstance(),i.actor=dN.newInstance({visibility:!1}),i.mapper=CN.newInstance(),i.actor.setMapper(i.mapper),i.actor.getProperty().setRGBTransferFunction(0,i.lookupTable),i.actor.getProperty().setInterpolationTypeToLinear(),i}return gt(n,[{key:"render",value:function(){var r=this;return me.createElement(Hr.Consumer,null,function(a){return r.view||(a.renderer.addActor(r.actor),r.view=a),me.createElement(Yt.Provider,{value:r},me.createElement(Ft.Provider,{value:r.mapper},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children)))})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.view&&this.view.renderer&&this.view.renderer.removeActor(this.actor),this.actor.delete(),this.actor=null,this.mapper.delete(),this.mapper=null}},{key:"update",value:function(r,a){var i,s=r.actor,o=r.property,c=r.mapper,u=r.colorMapPreset,f=r.colorDataRange,l=r.iSlice,h=r.jSlice,p=r.kSlice,v=r.xSlice,y=r.ySlice,_=r.zSlice,m=!1;if(!s||a&&s===a.actor||(m=this.actor.set(s)||m),!o||a&&o===a.property||(m=this.actor.getProperty().set(o)||m),!c||a&&c===a.mapper||(m=this.mapper.set(c)||m),u&&(!a||u!==a.colorMapPreset)){m=!0;var d=Ea.getPresetByName(u);this.lookupTable.applyColorMap(d)}!f||a&&Pr(f,a.colorDataRange)||(m=!0,typeof f=="string"?a?this.dataChanged():(this.lookupTable.setMappingRange(0,1),this.lookupTable.updateRange(),this.piecewiseFunction.setNodes([{x:0,y:0,midpoint:.5,sharpness:0},{x:1,y:1,midpoint:.5,sharpness:0}])):((i=this.lookupTable).setMappingRange.apply(i,we(f)),this.lookupTable.updateRange(),this.piecewiseFunction.setNodes([{x:f[0],y:0,midpoint:.5,sharpness:0},{x:f[1],y:1,midpoint:.5,sharpness:0}]))),l==null||a&&l===a.iSlice||(m=this.mapper.setISlice(l)||m),h==null||a&&h===a.jSlice||(m=this.mapper.setJSlice(h)||m),p==null||a&&p===a.kSlice||(m=this.mapper.setKSlice(p)||m),v==null||a&&v===a.xSlice||(m=this.mapper.setXSlice(v)||m),y==null||a&&y===a.ySlice||(m=this.mapper.setYSlice(y)||m),_==null||a&&_===a.zSlice||(m=this.mapper.setZSlice(_)||m),s&&s.visibility!==void 0&&(this.currentVisibility=s.visibility,m=this.actor.setVisibility(this.currentVisibility&&this.validData)||m),m&&this.dataChanged()}},{key:"dataAvailable",value:function(){this.validData||(this.validData=!0,this.actor.setVisibility(this.currentVisibility),this.dataChanged())}},{key:"dataChanged",value:function(){if(this.props.colorDataRange==="auto"){var r;this.mapper.update();var a,i=this.mapper.getInputData(),s=i&&((r=i.getPointData())===null||r===void 0?void 0:r.getScalars()),o=s&&s.getRange();o&&((a=this.lookupTable).setMappingRange.apply(a,we(o)),this.lookupTable.updateRange(),this.piecewiseFunction.setNodes([{x:o[0],y:0,midpoint:.5,sharpness:0},{x:o[1],y:1,midpoint:.5,sharpness:0}])),this.view&&this.view.renderView()}}}]),n}();wu.defaultProps={colorMapPreset:"Grayscale",colorDataRange:"auto"},wu.propTypes={id:ee.string,mapper:ee.object,actor:ee.object,property:ee.object,colorMapPreset:ee.string,colorDataRange:ee.oneOfType([ee.arrayOf(ee.number),ee.string]),iSlice:ee.number,jSlice:ee.number,kSlice:ee.number,xSlice:ee.number,ySlice:ee.number,zSlice:ee.number,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};var TN=[{ColorSpace:"Diverging",Name:"Cool to Warm",NanColor:[1,1,0],RGBPoints:[0,.23137254902,.298039215686,.752941176471,.5,.865,.865,.865,1,.705882352941,.0156862745098,.149019607843]},{ColorSpace:"Diverging",Name:"Warm to Cool",NanColor:[1,1,0],RGBPoints:[0,.705882352941,.0156862745098,.149019607843,.5,.865,.865,.865,1,.23137254902,.298039215686,.752941176471]},{ColorSpace:"RGB",Name:"Rainbow Desaturated",NanColor:[1,1,0],RGBPoints:[0,.278431372549,.278431372549,.858823529412,.143,0,0,.360784313725,.285,0,1,1,.429,0,.501960784314,0,.571,1,1,0,.714,1,.380392156863,0,.857,.419607843137,0,0,1,.878431372549,.301960784314,.301960784314]},{ColorSpace:"RGB",Name:"Cold and Hot",NanColor:[1,1,0],RGBPoints:[0,0,1,1,.45,0,0,1,.5,0,0,.501960784314,.55,1,0,0,1,1,1,0]},{ColorSpace:"RGB",Name:"Black-Body Radiation",NanColor:[0,.498039215686,1],RGBPoints:[0,0,0,0,.4,.901960784314,0,0,.8,.901960784314,.901960784314,0,1,1,1,1]},{ColorSpace:"RGB",Name:"X Ray",NanColor:[1,0,0],RGBPoints:[0,1,1,1,1,0,0,0]},{ColorSpace:"RGB",Name:"Grayscale",NanColor:[1,0,0],RGBPoints:[0,0,0,0,1,1,1,1]},{ColorSpace:"RGB",Name:"Black, Blue and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,0,0,.501960784314,.666,0,.501960784314,1,1,1,1,1]},{ColorSpace:"RGB",Name:"Black, Orange and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,.501960784314,0,0,.666,1,.501960784314,0,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_rainbow_bright",RGBPoints:[-1,.32549,.14902,.960784,-.866221,.297047,.375586,.963836,-.732441,.180302,.536818,.964627,-.598662,.1302,.649207,.929647,-.464883,.0445143,.749654,.855998,-.331104,.0271325,.830713,.721527,-.197324,.259504,.866145,.543555,-.0635452,.428364,.890725,.329819,.0702341,.568503,.898508,.187623,.204013,.738259,.890317,.0825461,.337793,.84546,.86136,.0147555,.471572,.912191,.808018,0,.605351,.962848,.710445,0,.73913,.999469,.600258,.0176284,.87291,.994156,.445975,.193912,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"erdc_rainbow_dark",RGBPoints:[-1,0,0,.423499,-.866221,0,.119346,.529237,-.732441,0,.238691,.634976,-.598662,0,.346852,.68788,-.464883,0,.45022,.718141,-.331104,0,.553554,.664839,-.197324,0,.651082,.519303,-.0635452,.115841,.72479,.352857,.0702341,.326771,.781195,.140187,.204013,.522765,.798524,.0284624,.337793,.703162,.788685,.00885756,.471572,.845118,.751133,0,.605351,.955734,.690825,0,.73913,.995402,.567916,.0618524,.87291,.987712,.403398,.164851,1,.980407,.247105,.262699]}],Da=Object.create(null);TN.filter(function(t){return t.RGBPoints}).filter(function(t){return t.ColorSpace!=="CIELAB"}).forEach(function(t){Da[t.Name]=t});var Oa=Object.keys(Da);Oa.sort();function bN(t){return Da[t]}function EN(t){!t.RGBPoints||t.ColorSpace==="CIELAB"||(Da[t.Name]||(Oa.push(t.Name),Oa.sort()),Da[t.Name]=t)}function DN(t){var e=Oa.indexOf(t);e>-1&&Oa.splice(e,1),delete Da[t]}var Sg={addPreset:EN,removePresetByName:DN,getPresetByName:bN,rgbPresetNames:Oa};class ON{constructor(){Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}emit(e,...n){if(!this.__listeners[e])return this;for(const r of this.__listeners[e])r(...n);return this}once(e,n){const r=(...a)=>{this.off(e,r),n(...a)};return this.on(e,r)}on(e,n){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(n),this}off(e,n){return n?this.__listeners[e]=this.__listeners[e].filter(r=>r!==n):this.__listeners[e]=[],this}}var NN=ON;const MN=NN,kN=0,RN=1,FN=1;class LN extends MN{constructor(e){super();this._messageId=1,this._messages=new Map,this._worker=e,this._worker.onmessage=this._onMessage.bind(this),this._id=Math.ceil(Math.random()*1e7)}terminate(){this._worker.terminate()}isFree(){return this._messages.size===0}jobsLength(){return this._messages.size}exec(e,n=null,r=[],a){return new Promise((i,s)=>{const o=this._messageId++;this._messages.set(o,[i,s,a]),this._worker.postMessage([o,n,e],r||[])})}postMessage(e=null,n=[],r){return new Promise((a,i)=>{const s=this._messageId++;this._messages.set(s,[a,i,r]),this._worker.postMessage([s,e],n||[])})}emit(e,...n){this._worker.postMessage({eventName:e,args:n})}_onMessage(e){if(!Array.isArray(e.data)&&e.data.eventName)return super.emit(e.data.eventName,...e.data.args);const[n,...r]=e.data;if(n===RN)this._onEvent(...r);else if(n===kN)this._onResult(...r);else throw new Error(`Wrong message type '${n}'`)}_onResult(e,n,r){const[a,i]=this._messages.get(e);return this._messages.delete(e),n===FN?a(r):i(r)}_onEvent(e,n,r){const[,,a]=this._messages.get(e);a&&a(n,r)}}var AN=LN;function BN(t,e){var n=e===void 0?null:e,r=/(['"])__worker_loader_strict__(['"])/g,a=[],i=t.toString();return i=i.replace(r,"$1use strict$2"),a.push("("+i+")()"),n&&a.push("//# sourceMappingURL="+n+`
`),a}function VN(t,e){var n=BN(t,e),r=new Blob(n,{type:"application/javascript"});return URL.createObjectURL(r)}function UN(t,e){var n;return function(a){return n=n||VN(t,e),new Worker(n,a)}}var GN=UN(function(){(function(){var t={exports:{}},e=function(){function S(T,b){for(var O=0;O<b.length;O++){var D=b[O];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}return function(T,b,O){return b&&S(T.prototype,b),O&&S(T,O),T}}();function n(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}var r=function(){function S(){n(this,S),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return e(S,[{key:"emit",value:function(b){if(!this.__listeners[b])return this;for(var O=arguments.length,D=Array(O>1?O-1:0),M=1;M<O;M++)D[M-1]=arguments[M];var R=!0,E=!1,B=void 0;try{for(var I=this.__listeners[b][Symbol.iterator](),P;!(R=(P=I.next()).done);R=!0){var L=P.value;L.apply(void 0,D)}}catch(F){E=!0,B=F}finally{try{!R&&I.return&&I.return()}finally{if(E)throw B}}return this}},{key:"once",value:function(b,O){var D=this,M=function R(){D.off(b,R),O.apply(void 0,arguments)};return this.on(b,M)}},{key:"on",value:function(b,O){return this.__listeners[b]||(this.__listeners[b]=[]),this.__listeners[b].push(O),this}},{key:"off",value:function(b,O){return O?this.__listeners[b]=this.__listeners[b].filter(function(D){return D!==O}):this.__listeners[b]=[],this}}]),S}(),a=r,i=function(){function S(T,b){for(var O=0;O<b.length;O++){var D=b[O];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}return function(T,b,O){return b&&S(T.prototype,b),O&&S(T,O),T}}(),s=function S(T,b,O){T===null&&(T=Function.prototype);var D=Object.getOwnPropertyDescriptor(T,b);if(D===void 0){var M=Object.getPrototypeOf(T);return M===null?void 0:S(M,b,O)}else{if("value"in D)return D.value;var R=D.get;return R===void 0?void 0:R.call(O)}},o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S};function c(S){if(Array.isArray(S)){for(var T=0,b=Array(S.length);T<S.length;T++)b[T]=S[T];return b}else return Array.from(S)}function u(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function f(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function l(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}function h(S,T,b){return T in S?Object.defineProperty(S,T,{value:b,enumerable:!0,configurable:!0,writable:!0}):S[T]=b,S}var p=a,v=0,y=1,_=0,m=1,d="main",g=function(T){return(typeof T=="undefined"?"undefined":o(T))==="object"&&T!==null&&typeof T.then=="function"&&typeof T.catch=="function"};function x(S){var T=h({},d,S),b=self.postMessage.bind(self),O=new(function(B){l(I,B);function I(){return u(this,I),f(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return i(I,[{key:"emit",value:function(L){for(var F=arguments.length,G=Array(F>1?F-1:0),$=1;$<F;$++)G[$-1]=arguments[$];return G.length==1&&G[0]instanceof w?b({eventName:L,args:G},G[0].transferable):b({eventName:L,args:G}),this}},{key:"emitLocally",value:function(L){for(var F,G=arguments.length,$=Array(G>1?G-1:0),H=1;H<G;H++)$[H-1]=arguments[H];(F=s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"emit",this)).call.apply(F,[this,L].concat($))}},{key:"operation",value:function(L,F){return T[L]=F,this}}]),I}(p)),D=function(I,P,L){var F=function(J){J&&J instanceof w?R(I,m,J.payload,J.transferable):R(I,m,J)},G=function(J){R(I,_,{message:J.message,stack:J.stack})};try{var $=M(I,P,L);g($)?$.then(F).catch(G):F($)}catch(H){G(H)}},M=function(I,P,L){var F=T[L||d];if(!F)throw new Error("Not found handler for this request");return F(P,E.bind(null,I))},R=function(I,P,L){var F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];b([v,I,P,L],F)},E=function(I,P,L){if(!P)throw new Error("eventName is required");if(typeof P!="string")throw new Error("eventName should be string");b([y,I,P,L])};return self.addEventListener("message",function(B){var I=B.data;Array.isArray(I)?D.apply(void 0,c(I)):I&&I.eventName&&O.emitLocally.apply(O,[I.eventName].concat(c(I.args)))}),O}var w=function S(T,b){u(this,S),this.payload=T,this.transferable=b};t.exports=x,t.exports.TransferableResponse=w;var C=t.exports;C(function(S,T){var b=S.array,O=S.min,D=S.max,M=S.component||0,R=S.numberOfComponents||1,E=S.numberOfBins,B=D-O,I=new Float32Array(E);I.fill(0);for(var P=b.length,L=M;L<P;L+=R){var F=Math.floor((E-1)*(Number(b[L])-O)/B);I[F]+=1}return Promise.resolve(new C.TransferableResponse(I,[I.buffer]))})})()},null);function Oh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ps=.001,G0={adjustPosition:"-webkit-grab",adjustHeight:"row-resize",adjustBias:"crosshair",adjustWidth:"col-resize",adjustZoom:"col-resize"},Ct=[],P0={adjustPosition:function(e,n,r){var a=r.originalXY,i=r.gaussian,s=r.originalGaussian,o=s.position-a[0];return i.position=e+o,!0},adjustHeight:function(e,n,r){var a=r.model,i=r.gaussian;return i.height=1-n,i.height=Math.min(1,Math.max(a.gaussianMinimumHeight,i.height)),!0},adjustBias:function(e,n,r){var a=r.originalXY,i=r.gaussian,s=r.originalGaussian;return i.xBias=s.xBias-(a[0]-e)/i.height,i.yBias=s.yBias+4*(a[1]-n)/i.height,i.xBias=Math.max(-1,Math.min(1,i.xBias)),i.yBias=Math.max(0,Math.min(2,i.yBias)),!0},adjustWidth:function(e,n,r){var a=r.originalXY,i=r.gaussian,s=r.originalGaussian,o=r.gaussianSide;return i.width=o<0?s.width-(a[0]-e):s.width+(a[0]-e),i.width<ps&&(i.width=ps),!0},adjustZoom:function(e,n,r){var a=r.rangeZoom,i=r.publicAPI,s=a[1]-a[0],o=(e-a[0])/s,c=Math.abs(o-a[0]),u=Math.abs(o-a[1]),f=Math.abs(o-.5*(a[0]+a[1]));if(f<Math.min(c,u)){var l=s*.5;a[0]=Math.min(Math.max(o-l,0),a[1]-.1),a[1]=Math.max(Math.min(o+l,1),a[0]+.1)}else c<u?a[0]=Math.min(Math.max(o,0),a[1]-.1):a[1]=Math.max(Math.min(o,1),a[0]+.1);return i.invokeZoomChange(a),!1}};function On(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:256,n=[];n.length<e;)n.push(0);for(var r=t.length;r--;)for(var a=t[r],i=a.position,s=a.height,o=a.width,c=a.xBias,u=a.yBias,f=0;f<e;f++){var l=f/(e-1);if(l>i+o||l<i-o){n[f]<0&&(n[f]=0);continue}var h=o<ps?ps:o,p=0;c===0||l===i+c?p=l:l>i+c?h===c?p=i:p=i+(l-i-c)*(h/(h-c)):-h===c?p=i:p=i-(l-i-c)*(h/(h+c));var v=(p-i)/h,y=Math.exp(-(4*v*v)),_=1-v*v,m=1,d=void 0;u<1?d=u*_+(1-u)*y:d=(2-u)*_+(u-1)*m;var g=s*d;g>n[f]&&(n[f]=g)}return n}function PN(t,e,n,r){for(var a=On(t,e),i=[],s=(n[1]-n[0])/(a.length-1),o=.5,c=0,u=0;u<a.length;u++){var f=n[0]+s*u,l=a[u];i.push({x:f,y:l,midpoint:o,sharpness:c})}r.setNodes(i)}function fa(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{lineWidth:1,strokeStyle:"#000"},a=e[3],i=e[2]/(n.length-1),s=!!r.fillStyle,o=a+e[1];t.lineWidth=r.lineWidth,t.strokeStyle=r.strokeStyle,t.beginPath(),t.moveTo(e[0],e[1]+e[3]);for(var c=0;c<n.length;c++)t.lineTo(e[0]+c*i,Math.max(e[1],o-n[c]*a));if(s){if(t.fillStyle=r.fillStyle,t.lineTo(e[0]+e[2],e[1]+e[3]),r.clip){t.clip();return}t.fill()}t.stroke()}function jN(t,e,n,r){var a=r||document.createElement("canvas");a.setAttribute("width",e),a.setAttribute("height",256);for(var i=a.getContext("2d"),s=t.getUint8Table(n[0],n[1],e,4),o=i.getImageData(0,0,e,256),c=0;c<256;c++)o.data.set(s,c*4*e);for(var u=256*e*4,f=e*4,l=3;l<u;l+=4)o.data[l]=255-Math.floor(l/f);return i.putImageData(o,0,0),a}function zN(t,e,n){var r=n||document.createElement("canvas");r.setAttribute("width",e),r.setAttribute("height",256);var a=r.getContext("2d");return a.drawImage(t,0,0,t.width,t.height,0,0,e,256),r}function Qr(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0,1];return[r[0]+(t-n[0])/n[2]*(r[1]-r[0]),(e-n[1])/n[3]]}function ai(t,e){var n=e.map(function(a){return Math.abs(a.position-t)}),r=Math.min.apply(Math,we(n));return n.indexOf(r)}function Lr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function(n){var r=n.offsetX,a=n.offsetY;e&&n.preventDefault(),t(r,a)}}function WN(){for(var t=Ct.length,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ct.push({callbacks:n,timeout:0,deltaT:200,count:0,ready:!1}),t}function IN(){Ct.filter(function(t){return t.ready}).forEach(function(t){t.callbacks.forEach(function(e){e.touches===t.touches&&e.clicks===t.count&&e.action.apply(e,we(t.singleTouche))}),t.ts=0,t.count=0,t.touches=0,t.ready=!1})}function Mo(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return function(a){var i=a.target.getBoundingClientRect(),s=Array.prototype.map.call(a.touches,function(c){return[c.pageX-i.left,c.pageY-i.top]}),o=s.reduce(function(c,u){return[c[0]+u[0],c[1]+u[1]]},[0,0]).map(function(c){return c/a.touches.length});a.type==="touchstart"?(clearTimeout(Ct[t].timeout),Ct[t].ts=a.timeStamp,Ct[t].singleTouche=o,Ct[t].touches=a.touches.length):a.type==="touchmove"?(Ct[t].ts=0,Ct[t].count=0,Ct[t].ready=!1):a.type==="touchend"&&(a.timeStamp-Ct[t].ts<Ct[t].deltaT?(Ct[t].count+=1,Ct[t].ready=!0,r&&a.preventDefault(),Ct[t].timeout=setTimeout(IN,Ct[t].deltaT)):Ct[t].ready=!1),a.touches.length===n&&(e.apply(void 0,we(o)),r&&a.preventDefault())}}function Cu(t,e,n){return function(r){return t()?e(r):n(r)}}function Xa(t,e){if(!e)return t;var n=t.length-1,r=e.map(function(a){return Math.round(a*n)});return t.slice(r[0],r[1]+1)}function $N(t,e){return e?(t-e[0])/(e[1]-e[0]):t}var HN={applyGaussianToPiecewiseFunction:PN,computeOpacities:On,createListener:Lr,drawChart:fa,findGaussian:ai,listenerSelector:Cu,normalizeCoordinates:Qr};function KN(t,e){e.classHierarchy.push("vtkPiecewiseGaussianWidget"),e.canvas||(e.canvas=document.createElement("canvas")),t.setContainer=function(a){e.container&&e.container!==a&&e.container.removeChild(e.canvas),e.container!==a&&(e.container=a,e.container&&e.container.appendChild(e.canvas),t.modified())},t.setGaussians=function(a){e.gaussians!==a&&(e.gaussians=a,e.opacities=On(e.gaussians,e.piecewiseSize),t.invokeOpacityChange(t),t.modified())},t.addGaussian=function(a,i,s,o,c){var u=e.gaussians.length;return e.gaussians.push({position:a,height:i,width:s,xBias:o,yBias:c}),e.opacities=On(e.gaussians,e.piecewiseSize),t.invokeOpacityChange(t),t.modified(),u},t.removeGaussian=function(a){e.gaussians.splice(a,1),e.opacities=On(e.gaussians,e.piecewiseSize),t.invokeOpacityChange(t),t.modified()},t.setSize=function(a,i){e.canvas.setAttribute("width",a),e.canvas.setAttribute("height",i),(e.size[0]!==a||e.size[1]!==i)&&(e.size=[a,i],e.colorCanvasMTime=0,t.modified())},t.updateStyle=function(a){e.style=ca(ca({},e.style),a),t.modified()},t.setDataArray=function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.numberOfBinToConsiders,o=s===void 0?1:s,c=i.numberOfBinsToSkip,u=c===void 0?1:c,f=i.numberOfComponents,l=f===void 0?1:f,h=i.component,p=h===void 0?0:h;e.histogram=null,e.histogramArray=a,e.dataRange=v5(a,p,l);var v=Ie(e.dataRange,2),y=v[0],_=v[1],m=4,d=Math.floor(a.length/m)||1;d+=d%l;for(var g=0,x=[],w=[];g<a.length;){var C=new GN;w.push(C);var S=new AN(C),T=g,b=Math.min(g+d,a.length-1),O=new a.constructor(a.slice(T,b+1));x.push(S.postMessage({array:O,component:p,numberOfComponents:l,min:y,max:_,numberOfBins:e.numberOfBins},[O.buffer])),g+=d}Promise.all(x).then(function(D){w.forEach(function(L){return L.terminate()}),e.histogram=new Float32Array(e.numberOfBins),e.histogram.fill(0),D.forEach(function(L){for(var F=0,G=L.length;F<G;++F)e.histogram[F]+=L[F]});var M=Math.min(o,e.histogram.length-u),R=Array.from(e.histogram);R.sort(function(L,F){return Number(L)-Number(F)});for(var E=0;E<u;E++)R.pop();for(;R.length>M;)R.shift();for(var B=R.reduce(function(L,F){return L+F},0)/M,I=0,P=e.histogram.length;I<P;++I)e.histogram[I]/=B;t.modified(),setTimeout(t.render,0)}),t.modified()},t.onClick=function(a,i){var s=Qr(a,i,e.graphArea,e.enableRangeZoom?e.rangeZoom:null),o=Ie(s,2),c=o[0],u=o[1];if(c<0&&e.style.iconSize>1){for(var f=e.style.iconSize+e.style.padding,l=f,h=0;i>l;)h+=1,l+=f;switch(h){case 0:{var p=t.addGaussian(0,1,.1,0,0),v=e.gaussians[p],y=ca({},v),_=P0.adjustPosition;e.activeGaussian=p,e.selectedGaussian=p,W.setImmediate(function(){t.onDown(a,i),e.dragAction={originalXY:[0,0],action:_,gaussian:v,originalGaussian:y}});break}case 1:{e.selectedGaussian!==-1&&t.removeGaussian(e.selectedGaussian);break}default:e.selectedGaussian=-1,e.dragAction=null}}else if(c<0||c>1||u<0||u>1)e.selectedGaussian=-1,e.dragAction=null;else{var m=ai(c,e.gaussians);m!==e.selectedGaussian&&(e.selectedGaussian=m,t.modified())}return!0},t.onHover=function(a,i){var s=20/e.canvas.height,o=Qr(a,i,e.graphArea,e.enableRangeZoom?e.rangeZoom:null),c=Ie(o,2),u=c[0],f=c[1],l=Qr(a,i,e.graphArea),h=Ie(l,1),p=h[0],v=u<0?e.selectedGaussian:ai(u,e.gaussians);e.canvas.style.cursor="default";var y=e.gaussians[v];if(e.enableRangeZoom&&p>=0&&i<e.graphArea[1]-6){var _=(e.rangeZoom[1]-e.rangeZoom[0])/3;p<e.rangeZoom[0]+_||p>e.rangeZoom[1]-_?e.canvas.style.cursor=G0.adjustZoom:e.canvas.style.cursor=G0.adjustPosition,e.dragAction={rangeZoom:e.rangeZoom,action:P0.adjustZoom}}else if(y&&p>=0){var m=1-f,d=null;m>y.height+s?d="adjustPosition":m>y.height-s?Math.abs(u-y.position)<s?d="adjustHeight":d="adjustPosition":m>y.height*.5+s?d="adjustPosition":m>y.height*.5-s?Math.abs(u-y.position)<s?d="adjustBias":d="adjustPosition":m>s?d="adjustPosition":d="adjustWidth",e.canvas.style.cursor=G0[d];var g=P0[d],x=ca({},y);e.dragAction={originalXY:[u,f],action:g,gaussian:y,originalGaussian:x}}return v!==e.activeGaussian&&(e.activeGaussian=v,t.modified()),!0},t.onDown=function(a,i){e.mouseIsDown||t.invokeAnimation(!0),e.mouseIsDown=!0;var s=Qr(a,i,e.graphArea,e.enableRangeZoom?e.rangeZoom:null)[0],o=ai(s,e.gaussians);e.gaussianSide=0;var c=e.gaussians[o];return c&&(e.gaussianSide=c.position-s),o!==e.selectedGaussian&&s>0&&(e.selectedGaussian=o,t.modified()),!0},t.onDrag=function(a,i){if(e.dragAction){var s=Qr(a,i,e.graphArea,e.enableRangeZoom?e.rangeZoom:null),o=Ie(s,2),c=o[0],u=o[1],f=e.dragAction.action;f(c,u,ca({gaussianSide:e.gaussianSide,model:e,publicAPI:t},e.dragAction))&&(e.opacities=On(e.gaussians,e.piecewiseSize),t.invokeOpacityChange(t,!0)),t.modified()}return!0},t.onUp=function(a,i){return e.mouseIsDown&&t.invokeAnimation(!1),e.mouseIsDown=!1,!0},t.onLeave=function(a,i){return t.onUp(a,i),e.canvas.style.cursor="default",e.activeGaussian=-1,t.modified(),!0},t.onAddGaussian=function(a,i){var s=Qr(a,i,e.graphArea,e.enableRangeZoom?e.rangeZoom:null),o=Ie(s,2),c=o[0],u=o[1];return c>=0&&t.addGaussian(c,1-u,.1,0,0),!0},t.onRemoveGaussian=function(a,i){var s=Qr(a,i,e.graphArea,e.enableRangeZoom?e.rangeZoom:null)[0],o=ai(s,e.gaussians);return s>=0&&o!==-1&&t.removeGaussian(o),!0},t.bindMouseListeners=function(){if(!e.listeners){var a=function(){return!!e.mouseIsDown},i=WN({clicks:1,touches:1,action:t.onClick},{clicks:2,touches:1,action:t.onAddGaussian},{clicks:2,touches:2,action:t.onRemoveGaussian});e.listeners={mousemove:Cu(a,Lr(t.onDrag),Lr(t.onHover)),dblclick:Lr(t.onAddGaussian),contextmenu:Lr(t.onRemoveGaussian),click:Lr(t.onClick),mouseup:Lr(t.onUp),mousedown:Lr(t.onDown),mouseout:Lr(t.onLeave),touchstart:Mo(i,W.chain(t.onHover,t.onDown)),touchmove:Cu(a,Mo(i,t.onDrag),Mo(i,t.onHover)),touchend:Mo(i,t.onUp,0)},Object.keys(e.listeners).forEach(function(s){e.canvas.addEventListener(s,e.listeners[s],!1)})}},t.unbindMouseListeners=function(){e.listeners&&(Object.keys(e.listeners).forEach(function(a){e.canvas.removeEventListener(a,e.listeners[a])}),delete e.listeners)},t.render=function(){var a=e.canvas.getContext("2d");a.imageSmoothingEnabled=!0;var i=Ie(e.size,2),s=i[0],o=i[1],c=e.style.padding,u=[Math.floor(e.style.iconSize+c),Math.floor(c),Math.ceil(s-2*c-e.style.iconSize),Math.ceil(o-2*c)],f=e.style.zoomControlHeight;if(e.enableRangeZoom&&(u[1]+=Math.floor(f),u[3]-=Math.floor(f)),e.graphArea=u,a.clearRect(0,0,s,o),a.lineJoin="round",a.fillStyle=e.style.backgroundColor,a.fillRect.apply(a,u),e.style.iconSize>1){var l=Math.round(e.style.iconSize/2-e.style.strokeWidth),h=Math.round(l+c+e.style.strokeWidth);a.beginPath(),a.lineWidth=e.style.buttonStrokeWidth,a.strokeStyle=e.style.buttonStrokeColor,a.arc(h-c/2,h,l,0,2*Math.PI,!1),a.fillStyle=e.style.buttonFillColor,a.fill(),a.stroke(),a.moveTo(h-l+e.style.strokeWidth+2-c/2,h),a.lineTo(h+l-e.style.strokeWidth-2-c/2,h),a.stroke(),a.moveTo(h-c/2,h-l+e.style.strokeWidth+2),a.lineTo(h-c/2,h+l-e.style.strokeWidth-2),a.stroke(),e.selectedGaussian===-1?(a.fillStyle=e.style.buttonDisableFillColor,a.lineWidth=e.style.buttonDisableStrokeWidth,a.strokeStyle=e.style.buttonDisableStrokeColor):(a.fillStyle=e.style.buttonFillColor,a.lineWidth=e.style.buttonStrokeWidth,a.strokeStyle=e.style.buttonStrokeColor),a.beginPath(),a.arc(h-c/2,h+c/2+e.style.iconSize,l,0,2*Math.PI,!1),a.fill(),a.stroke(),a.moveTo(h-l+e.style.strokeWidth+2-c/2,h+c/2+e.style.iconSize),a.lineTo(h+l-e.style.strokeWidth-2-c/2,h+c/2+e.style.iconSize),a.stroke()}if(e.histogram&&fa(a,u,Xa(e.histogram,e.rangeZoom),{lineWidth:1,strokeStyle:e.style.histogramColor,fillStyle:e.style.histogramColor}),fa(a,u,Xa(e.opacities,e.enableRangeZoom&&e.rangeZoom),{lineWidth:e.style.strokeWidth,strokeStyle:e.style.strokeColor}),e.colorTransferFunction&&e.colorTransferFunction.getSize()){var p=e.dataRange||e.colorTransferFunction.getMappingRange();(!e.colorCanvas||e.colorCanvasMTime!==e.colorTransferFunction.getMTime())&&(e.colorCanvasMTime=e.colorTransferFunction.getMTime(),e.colorCanvas=jN(e.colorTransferFunction,u[2],p,e.colorCanvas)),a.save(),fa(a,u,Xa(e.opacities,e.enableRangeZoom&&e.rangeZoom),{lineWidth:1,strokeStyle:"rgba(0,0,0,0)",fillStyle:"rgba(0,0,0,1)",clip:!0}),e.enableRangeZoom?a.drawImage(e.colorCanvas,e.rangeZoom[0]*u[2],0,u[2],u[3],u[0],u[1],u[2]/(e.rangeZoom[1]-e.rangeZoom[0]),u[3]):a.drawImage(e.colorCanvas,u[0],u[1]),a.restore()}else e.backgroundImage&&(e.colorCanvas=zN(e.backgroundImage,u[2],e.colorCanvas),a.save(),fa(a,u,Xa(e.opacities,e.enableRangeZoom&&e.rangeZoom),{lineWidth:1,strokeStyle:"rgba(0,0,0,0)",fillStyle:"rgba(0,0,0,1)",clip:!0}),a.drawImage(e.colorCanvas,u[0],u[1]),a.restore());e.enableRangeZoom&&(a.fillStyle=e.style.zoomControlColor,a.beginPath(),a.rect(u[0]+e.rangeZoom[0]*u[2],0,(e.rangeZoom[1]-e.rangeZoom[0])*u[2],f),a.fill());var v=e.gaussians[e.activeGaussian]||e.gaussians[e.selectedGaussian];if(v){var y=On([v],u[2]);fa(a,u,Xa(y,e.enableRangeZoom&&e.rangeZoom),{lineWidth:e.style.activeStrokeWidth,strokeStyle:e.style.activeColor});var _=u[0]+$N(v.position,e.enableRangeZoom&&e.rangeZoom)*u[2],m=u[1]+(1-v.height)*u[3],d=u[1]+(1-.5*v.height)*u[3],g=u[1]+u[3],x=v.width*u[2];e.enableRangeZoom&&(x/=e.rangeZoom[1]-e.rangeZoom[0]),a.lineWidth=e.style.handleWidth,a.strokeStyle=e.style.handleColor,a.fillStyle=e.style.backgroundColor,a.beginPath(),a.moveTo(_,u[1]+(1-v.height)*u[3]),a.lineTo(_,u[1]+u[3]),a.stroke(),a.beginPath(),a.arc(_,m,6,0,2*Math.PI),a.fill(),a.stroke();var w=Math.min(x*.1,v.height*u[3]*.2);a.beginPath(),a.rect(_-w,d-w,w*2,w*2),a.fill(),a.stroke(),a.beginPath();var C=x*.8;a.rect(_-C,g-5,2*C,10),a.fill(),a.stroke()}},t.getOpacityNodes=function(a){for(var i=a||e.dataRange,s=(i[1]-i[0])/(e.opacities.length-1),o=[],c=.5,u=0,f=0;f<e.opacities.length;f++){var l=i[0]+s*f,h=e.opacities[f];o.push({x:l,y:h,midpoint:c,sharpness:u})}return o},t.applyOpacity=function(a,i){var s=t.getOpacityNodes(i);a.setNodes(s)},t.getOpacityRange=function(a){for(var i=a||e.dataRange,s=(i[1]-i[0])/(e.opacities.length-1),o=e.opacities.length-1,c=0,u=0;u<e.opacities.length;u++)e.opacities[u]>0&&(o=Math.min(o,u)),e.opacities[u]>0&&(c=Math.max(c,u));return[i[0]+o*s,i[0]+c*s]};var n=t.setEnableRangeZoom;t.setEnableRangeZoom=function(a){var i=n(a);return i&&(e.colorCanvasMTime=0,e.rangeZoom=[0,1]),i};var r=t.setRangeZoom;t.setRangeZoom=function(){var a=r.apply(void 0,arguments);return a&&(e.colorCanvasMTime=0),a},t.onModified(function(){return t.render()}),t.setSize.apply(t,we(e.size))}var XN={histogram:[],numberOfBins:256,histogramArray:null,dataRange:[0,1],gaussians:[],opacities:[],size:[600,300],piecewiseSize:256,colorCanvasMTime:0,gaussianMinimumHeight:.05,style:{backgroundColor:"rgba(255, 255, 255, 1)",histogramColor:"rgba(200, 200, 200, 0.5)",strokeColor:"rgb(0, 0, 0)",activeColor:"rgb(0, 0, 150)",buttonDisableFillColor:"rgba(255, 255, 255, 0.5)",buttonDisableStrokeColor:"rgba(0, 0, 0, 0.5)",buttonStrokeColor:"rgba(0, 0, 0, 1)",buttonFillColor:"rgba(255, 255, 255, 1)",handleColor:"rgb(0, 150, 0)",strokeWidth:2,activeStrokeWidth:3,buttonStrokeWidth:1.5,handleWidth:3,iconSize:20,padding:10,zoomControlHeight:10,zoomControlColor:"#999"},activeGaussian:-1,selectedGaussian:-1,enableRangeZoom:!0,rangeZoom:[0,1]};function Tg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,XN,n),W.obj(t,e),W.setGet(t,e,["piecewiseSize","numberOfBins","colorTransferFunction","backgroundImage","enableRangeZoom","gaussianMinimumHeight"]),W.setGetArray(t,e,["rangeZoom"],2),W.get(t,e,["size","canvas","gaussians"]),W.event(t,e,"opacityChange"),W.event(t,e,"animation"),W.event(t,e,"zoomChange"),KN(t,e)}var qN=W.newInstance(Tg,"vtkPiecewiseGaussianWidget"),YN=ca({newInstance:qN,extend:Tg},HN),ZN='<svg viewBox="0 0 196 196" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M67.77 157.024a86.095 86.095 0 01-2.3 9.306c-.977 3.206-2.44 6.116-4.392 8.73-1.952 2.614-4.531 4.758-7.738 6.43-3.206 1.674-7.284 2.51-12.233 2.51-6.343 0-11.501-1.55-15.474-4.653-3.974-3.102-6.518-7.301-7.633-12.599l16.102-5.228c.279 1.882 1.01 3.485 2.196 4.81 1.185 1.324 2.753 1.986 4.705 1.986 3.067 0 5.262-1.08 6.587-3.24 1.324-2.162 2.265-4.88 2.823-8.156l8.574-48.933h17.565l-8.783 49.037zm58.029-31.053c-1.394-1.883-3.137-3.311-5.228-4.287-2.091-.976-4.426-1.464-7.005-1.464-1.185 0-2.44.157-3.764.47a10.815 10.815 0 00-3.608 1.569 9.806 9.806 0 00-2.718 2.77c-.732 1.116-1.098 2.475-1.098 4.078 0 2.091.819 3.747 2.457 4.967 1.638 1.22 3.921 2.352 6.849 3.398 3.206 1.115 6.064 2.352 8.573 3.712 2.51 1.359 4.636 2.91 6.378 4.652 1.743 1.743 3.067 3.712 3.974 5.908.906 2.196 1.359 4.688 1.359 7.476 0 4.461-.924 8.26-2.77 11.397-1.848 3.136-4.236 5.698-7.163 7.685-2.928 1.986-6.204 3.433-9.829 4.339-3.624.906-7.214 1.359-10.769 1.359-2.649 0-5.298-.244-7.946-.732a42.608 42.608 0 01-7.633-2.143 31.681 31.681 0 01-6.796-3.608c-2.092-1.463-3.869-3.136-5.333-5.018l12.86-10.456c1.465 2.23 3.625 4.043 6.483 5.437 2.858 1.394 5.751 2.091 8.679 2.091 1.533 0 3.014-.157 4.443-.47 1.43-.314 2.701-.837 3.817-1.569a8.267 8.267 0 002.666-2.823c.662-1.15.993-2.527.993-4.13 0-2.579-1.045-4.618-3.136-6.117-2.092-1.498-4.88-2.84-8.365-4.025a58.492 58.492 0 01-6.849-2.823c-2.126-1.046-3.973-2.335-5.541-3.869-1.569-1.533-2.823-3.363-3.764-5.489-.941-2.126-1.412-4.688-1.412-7.685 0-3.764.784-7.162 2.353-10.194a23.324 23.324 0 016.43-7.738c2.719-2.126 5.89-3.764 9.515-4.914 3.624-1.15 7.493-1.725 11.606-1.725 2.16 0 4.356.21 6.587.627a35.853 35.853 0 016.43 1.83 28.502 28.502 0 015.699 2.98c1.742 1.185 3.206 2.544 4.39 4.078L125.8 125.97z" fill="#8A8B8A"/><rect fill="#1C4678" transform="rotate(45 169.749 159.749)" x="152.249" y="142.249" width="35" height="35" rx="17.5"/><path fill="#1C4678" d="M7.775 11l20.483 86.069h22.53l34.24-71.408H63.841L42.91 70.03 28.259 11zM88.663 25.344h50.476l-8.093 16.562-17.246-.049-9.652 54.62H85.609l9.572-54.535H80.99zM141.366 25.344l16.072.066-4.414 24.987h2.388l16.856-25.053h20.975l-22.442 33.403 13.203 54.063h-20.94l-10.652-44.43h-2.296l-5.125 28.135h-21.024l9.763-55.043z"/><path fill="#8A8B8A" d="M3 11h3.182l20.864 85.944h-3.187zM58.102 25.344h2.788L43.747 61.155l-.955-3.866zM88.608 44.469h2.883l-9.157 52.096H79.4zM126.785 44.469h2.924l-9.186 52.046H117.6zM166.38 25.344h3.594l-12.582 18.854 1.316-7.545zM150.902 74.75l8.917 37.613h-3.311l-7.075-29.073z"/></g></svg>',JN='<svg viewBox="0 0 180 180" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="100%" y1="50%" x2="0%" y2="50%" id="a"><stop stop-color="#FFF" offset="0%"/><stop stop-color="#FFF" offset="49.416%"/><stop offset="49.677%"/><stop offset="100%"/></linearGradient></defs><circle cx="90" cy="90" r="80" stroke-width="10" stroke="#000" fill="url(#a)" fill-rule="evenodd"/></svg>',QN='<svg viewBox="0 0 180 180" xmlns="http://www.w3.org/2000/svg"><g stroke="#000" stroke-width="10" fill="none" fill-rule="evenodd" stroke-linecap="square"><path d="M10 90h160M10 133.488V47M170 133.488V47M90 133.488V47"/></g></svg>';function eM(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document=="undefined")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}var tM=`.VolumeController-module_container__2HNSO {
  display: flex;
  align-items: stretch;
  flex-direction: column;
  justify-content: space-between;
  position: absolute;
  top: 5px;
  left: 5px;
  background: rgba(128, 128, 128, 0.5);
  border-radius: 5px;
  padding: 2px;
  border: 0.5px solid black;
  box-sizing: border-box;
}

.VolumeController-module_line__3rtqL {
  display: flex;
  flex-direction: row;
  flex: 1;
  align-items: center;
  justify-content: space-between;
}

.VolumeController-module_button__2T-xL {
  cursor: pointer;
  width: 1rem;
  margin-left: 5px;
  margin-right: 5px;
}

.VolumeController-module_button__2T-xL svg {
  width: 1rem;
  height: 1rem;
}

.VolumeController-module_sliderEntry__27XSC {
  flex: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
}

.VolumeController-module_sliderIcon__U8YAZ {
  height: 1rem;
}

.VolumeController-module_slider__3PS68 {
  flex: 1;
  min-height: 1rem;
  width: 5px;
}

.VolumeController-module_piecewiseEditor__2_jav {
  flex: 1;
}

.VolumeController-module_select__7mbfS {
  flex: 1;
  border: none;
  background: transparent;
  color: white;
  border: none;
  -moz-appearance: none;
  width: 5px;
}

.VolumeController-module_select__7mbfS select:focus {
  outline: none;
  border: none;
}

.VolumeController-module_presets__1h4j5 {
}

.VolumeController-module_shadow__29K9t {
}

.VolumeController-module_buttonDarkBG__3W1zO {
}

.VolumeController-module_presetsDarkBG__2ZI2W {
  color: white;
}

.VolumeController-module_presetsDarkBG__2ZI2W option {
  color: black;
}

.VolumeController-module_shadowDarkBG__WHYZ- {
  color: white;
}

.VolumeController-module_shadowDarkBG__WHYZ- option {
  color: black;
}

.VolumeController-module_buttonBrightBG__2dstz {
}

.VolumeController-module_presetsBrightBG__3_VRC {
  color: black;
}

.VolumeController-module_presetsBrightBG__3_VRC option {
  color: white;
}

.VolumeController-module_shadowBrightBG__YCHpe {
  color: black;
}

.VolumeController-module_shadowBrightBG__YCHpe option {
  color: white;
}
`,fr={container:"VolumeController-module_container__2HNSO",line:"VolumeController-module_line__3rtqL",button:"VolumeController-module_button__2T-xL",sliderEntry:"VolumeController-module_sliderEntry__27XSC",sliderIcon:"VolumeController-module_sliderIcon__U8YAZ VolumeController-module_button__2T-xL",slider:"VolumeController-module_slider__3PS68",piecewiseEditor:"VolumeController-module_piecewiseEditor__2_jav",select:"VolumeController-module_select__7mbfS",presets:"VolumeController-module_presets__1h4j5 VolumeController-module_select__7mbfS",shadow:"VolumeController-module_shadow__29K9t VolumeController-module_select__7mbfS",buttonDarkBG:"VolumeController-module_buttonDarkBG__3W1zO VolumeController-module_button__2T-xL",presetsDarkBG:"VolumeController-module_presetsDarkBG__2ZI2W VolumeController-module_presets__1h4j5 VolumeController-module_select__7mbfS",shadowDarkBG:"VolumeController-module_shadowDarkBG__WHYZ- VolumeController-module_shadow__29K9t VolumeController-module_select__7mbfS",buttonBrightBG:"VolumeController-module_buttonBrightBG__2dstz VolumeController-module_button__2T-xL",presetsBrightBG:"VolumeController-module_presetsBrightBG__3_VRC VolumeController-module_presets__1h4j5 VolumeController-module_select__7mbfS",shadowBrightBG:"VolumeController-module_shadowBrightBG__YCHpe VolumeController-module_shadow__29K9t VolumeController-module_select__7mbfS"};eM(tM);var rM=Sg.rgbPresetNames.map(function(t){return'<option value="'.concat(t,'">').concat(t,"</option>")});function nM(t,e){e.classHierarchy.push("vtkVolumeController"),e.el=document.createElement("div"),e.el.setAttribute("class",fr.container),e.widget=YN.newInstance({numberOfBins:256,size:e.size});function n(){var o=!!Number(e.el.querySelector(".js-shadow").value);e.actor.getProperty().setShade(o),e.renderWindow.render()}function r(){var o=e.actor.getMapper().getInputData();if(!!o){var c=o.getPointData().getScalars()||o.getPointData().getArrays()[0],u=e.rescaleColorMap?e.colorDataRange:c.getRange(),f=Sg.getPresetByName(e.el.querySelector(".js-color-preset").value),l=e.actor.getProperty().getRGBTransferFunction(0);l.applyColorMap(f),l.setMappingRange.apply(l,we(u)),l.updateRange(),e.renderWindow.render()}}function a(){var o=Number(e.el.querySelector(".js-spacing").value),c=e.actor.getMapper().getInputData(),u=.7*Math.sqrt(c.getSpacing().map(function(f){return f*f}).reduce(function(f,l){return f+l},0));e.actor.getMapper().setSampleDistance(u*Math.pow(2,o*3-1.5)),e.renderWindow.render()}function i(){var o=Number(e.el.querySelector(".js-edge").value);if(o===0)e.actor.getProperty().setUseGradientOpacity(0,!1);else{var c=e.actor.getMapper().getInputData(),u=c.getPointData().getScalars()||c.getPointData().getArrays()[0],f=u.getRange();e.actor.getProperty().setUseGradientOpacity(0,!0);var l=Math.max(0,o-.3)/.7;e.actor.getProperty().setGradientOpacityMinimumValue(0,(f[1]-f[0])*.2*l*l),e.actor.getProperty().setGradientOpacityMaximumValue(0,(f[1]-f[0])*1*o*o)}e.renderWindow.render()}t.setupContent=function(o,c,u){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"1",l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"erdc_rainbow_bright";t.setActor(c),t.setRenderWindow(o);var h=e.actor.getMapper().getInputData(),p=h.getPointData().getScalars()||h.getPointData().getArrays()[0],v=e.actor.getProperty().getRGBTransferFunction(0),y=e.actor.getProperty().getScalarOpacity(0),_=u?"DarkBG":"BrightBG",m={};["button","presets","shadow"].forEach(function(T){m[T]=fr["".concat(T).concat(_)]}),e.el.innerHTML=`
      <div class="`.concat(fr.line,`">
        <div class="`).concat(m.button,' js-button">').concat(ZN,`</div>
        <select class="`).concat(m.shadow,` js-shadow js-toggle">
          <option value="1">Use Shadow</option>
          <option value="0">No Shadow</option>
        </select>
        <select class="`).concat(m.presets,` js-color-preset js-toggle">
          `).concat(rM,`
        </select>
      </div>
      <div class="`).concat(fr.line,` js-toggle">
        <div class="`).concat(fr.sliderEntry,`">
          <div class="`).concat(fr.sliderIcon,'">').concat(QN,`</div>
          <input type="range" min="0" max="1" value="0.4" step="0.01" class="`).concat(fr.slider,` js-spacing" />
        </div>
        <div class="`).concat(fr.sliderEntry,`">
          <div class="`).concat(fr.sliderIcon,'">').concat(JN,`</div>
          <input type="range" min="0" max="1" value="0.2" step="0.01" class="`).concat(fr.slider,` js-edge" />
        </div>
      </div>
      <div class="`).concat(fr.piecewiseEditor,` js-pwf js-toggle"></div>
    `);var d=e.el.querySelector(".js-button"),g=e.el.querySelector(".js-shadow"),x=e.el.querySelector(".js-color-preset"),w=e.el.querySelector(".js-spacing"),C=e.el.querySelector(".js-edge"),S=e.el.querySelector(".js-pwf");e.widget.updateStyle({backgroundColor:"rgba(255, 255, 255, 0.6)",histogramColor:"rgba(100, 100, 100, 0.5)",strokeColor:"rgb(0, 0, 0)",activeColor:"rgb(255, 255, 255)",handleColor:"rgb(50, 150, 50)",buttonDisableFillColor:"rgba(255, 255, 255, 0.5)",buttonDisableStrokeColor:"rgba(0, 0, 0, 0.5)",buttonStrokeColor:"rgba(0, 0, 0, 1)",buttonFillColor:"rgba(255, 255, 255, 1)",strokeWidth:2,activeStrokeWidth:3,buttonStrokeWidth:1.5,handleWidth:3,iconSize:0,padding:10}),e.widget.addGaussian(.5,1,.5,.5,.4),e.widget.setDataArray(p.getData()),e.widget.setColorTransferFunction(v),e.widget.applyOpacity(y),e.widget.setContainer(S),e.widget.bindMouseListeners(),e.colorDataRange=e.widget.getOpacityRange(),d.addEventListener("click",t.toggleVisibility),g.addEventListener("change",n),x.addEventListener("change",r),w.addEventListener("input",a),C.addEventListener("input",i),e.widget.onOpacityChange(function(){e.widget.applyOpacity(y),e.colorDataRange=e.widget.getOpacityRange(),e.rescaleColorMap&&r(),e.renderWindow.getInteractor().isAnimating()||e.renderWindow.render()}),e.widget.onAnimation(function(T){T?e.renderWindow.getInteractor().requestAnimation(e.widget):(e.renderWindow.getInteractor().cancelAnimation(e.widget),e.renderWindow.render())}),v.onModified(function(){e.widget.render(),e.renderWindow.getInteractor().isAnimating()||e.renderWindow.render()}),g.value=Number(f)?"1":"0",x.value=l,n(),r(),a(),i()},t.setContainer=function(o){e.container&&e.container!==o&&e.container.removeChild(e.el),e.container!==o&&(e.container=o,e.container&&e.container.appendChild(e.el),t.modified())};var s=t.setRescaleColorMap;t.setRescaleColorMap=function(o){return s(o)?(r(),!0):!1},t.toggleVisibility=function(){t.setExpanded(!t.getExpanded())},t.setExpanded=function(o){var c=e.el.querySelectorAll(".js-toggle"),u=c.length;if(e.expanded=o,e.expanded)for(;u--;)c[u].style.display="flex";else for(;u--;)c[u].style.display="none"},t.getExpanded=function(){return e.expanded},t.setSize=e.widget.setSize,t.render=e.widget.render,t.onAnimation=e.widget.onAnimation,t.onModified(t.render),t.setSize.apply(t,we(e.size))}var aM={size:[600,300],expanded:!0,rescaleColorMap:!1};function bg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,aM,n),W.obj(t,e),W.setGet(t,e,["actor","renderWindow","rescaleColorMap"]),W.get(t,e,["widget"]),nM(t,e)}var iM=W.newInstance(bg,"vtkVolumeController"),oM={newInstance:iM,extend:bg};function sM(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ot(this,n)}}var vs=function(t){Dt(n,Lt.exports.Component);var e=sM(n);function n(r){var a;dt(this,n),(a=e.call(this,r)).subscriptions=[],a.containerRef=me.createRef();var i=r.size,s=r.rescaleColorMap;return a.controller=oM.newInstance({size:i,rescaleColorMap:s}),a}return gt(n,[{key:"render",value:function(){var r=this;return me.createElement(Hr.Consumer,null,function(a){return me.createElement(Yt.Consumer,null,function(i){return r.view=a,r.representation=i,me.createElement("div",{ref:r.containerRef})})})}},{key:"componentDidMount",value:function(){this.init()}},{key:"componentDidUpdate",value:function(r,a,i){var s;(s=this.controller).setSize.apply(s,we(this.props.size)),this.controller.render()}},{key:"componentWillUnmount",value:function(){for(;this.subscriptions.length;)this.subscriptions.pop().unsubscribe();this.controller.setContainer(null),this.controller.delete(),this.controller=null}},{key:"init",value:function(){var r=this,a=this.containerRef.current,i=this.view,s=i.renderWindow,o=i.props,c=this.representation.volume,u=o.background[0]+o.background[1]+o.background[2]<1.5;if(c&&c.getMapper()&&c.getMapper().getInputData()){var f=c.getMapper().getInputData();this.controller.setContainer(a),this.controller.setupContent(s,c,u),this.controller.render(),this.view.resetCamera(),this.view.renderView(),this.subscriptions.push(f.onModified(function(){return r.onDataChange()},-1))}else setTimeout(function(){return r.init()},100)}},{key:"onDataChange",value:function(){var r=this.controller.getWidget();if(this.representation&&this.representation.volume){var a=this.representation.volume.getMapper().getInputData(),i=a.getPointData().getScalars()||a.getPointData().getArrays()[0];r.setDataArray(i.getData())}}}]),n}();vs.defaultProps={size:[400,150],rescaleColorMap:!0},vs.propTypes={id:ee.string,size:ee.arrayOf(ee.number),rescaleColorMap:ee.bool};function Fi(t){return me.createElement(qn.Consumer,null,function(e){return me.createElement(Hi.Provider,{value:e.getDataSet().getPointData()},t.children)})}Fi.defaultProps={},Fi.propTypes={children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};function uM(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ot(this,n)}}var ds=function(t){Dt(n,Lt.exports.Component);var e=uM(n);function n(r){var a;return dt(this,n),(a=e.call(this,r)).polydata=at.newInstance(),a}return gt(n,[{key:"render",value:function(){var r=this;return me.createElement(Yt.Consumer,null,function(a){return me.createElement(Ft.Consumer,null,function(i){return r.representation=a,r.downstream||(r.downstream=i),me.createElement(qn.Provider,{value:r},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children))})})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.polydata.delete(),this.polydata=null}},{key:"update",value:function(r,a){var i,s=r.connectivity,o=r.points,c=r.verts,u=r.lines,f=r.polys,l=r.strips,h=!1,p=Uint32Array;if(o&&(!a||!Pr(o,a.points))){var v=ua(o,Float64Array);this.polydata.getPoints().setData(v,3),h=!0,p=v.length>196608?Uint32Array:Uint16Array}if(!c||a&&Pr(c,a.verts)||(this.polydata.getVerts().setData(ua(c,p)),h=!0),!u||a&&Pr(u,a.lines)||(this.polydata.getLines().setData(ua(u,p)),h=!0),!f||a&&Pr(f,a.polys)||(this.polydata.getPolys().setData(ua(f,p)),h=!0),!l||a&&Pr(l,a.strips)||(this.polydata.getStrips().setData(ua(l,p)),h=!0),s&&(!a||(o==null?void 0:o.length)!==((i=a.points)===null||i===void 0?void 0:i.length)||s!==a.connectivity)){var y=o.length/3;switch(s){case"points":var _=new Uint32Array(y+1);_[0]=y;for(var m=0;m<y;m++)_[m+1]=m;this.polydata.getVerts().setData(_),h=!0;break;case"triangles":for(var d=new Uint32Array(y+y/3),g=0,x=0;x<y;x+=3)d[g++]=3,d[g++]=x+0,d[g++]=x+1,d[g++]=x+2;this.polydata.getPolys().setData(d),h=!0;break;case"strips":var w=new Uint32Array(y+1);w[0]=y;for(var C=0;C<y;C++)w[C+1]=C;this.polydata.getStrips().setData(w),h=!0}}h&&this.modified()}},{key:"getDataSet",value:function(){return this.polydata}},{key:"modified",value:function(){this.polydata.modified(),this.downstream.setInputData(this.polydata,this.props.port),this.representation&&this.polydata.getPoints().getData().length&&(this.representation.dataAvailable(),this.representation.dataChanged())}}]),n}();ds.defaultProps={port:0,points:[],connectivity:"manual"},ds.propTypes={id:ee.string,port:ee.number,points:ee.oneOfType([ee.arrayOf(ee.number),ee.object,ee.instanceOf(Float64Array),ee.instanceOf(Float32Array)]),verts:ee.oneOfType([ee.arrayOf(ee.number),ee.object,ee.instanceOf(Uint8Array),ee.instanceOf(Uint16Array),ee.instanceOf(Uint32Array)]),lines:ee.oneOfType([ee.arrayOf(ee.number),ee.object,ee.instanceOf(Uint8Array),ee.instanceOf(Uint16Array),ee.instanceOf(Uint32Array)]),polys:ee.oneOfType([ee.arrayOf(ee.number),ee.object,ee.instanceOf(Uint8Array),ee.instanceOf(Uint16Array),ee.instanceOf(Uint32Array)]),strips:ee.oneOfType([ee.arrayOf(ee.number),ee.object,ee.instanceOf(Uint8Array),ee.instanceOf(Uint16Array),ee.instanceOf(Uint32Array)]),connectivity:ee.string,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};function cM(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ot(this,n)}}var Su=function(t){Dt(n,Lt.exports.Component);var e=cM(n);function n(r){var a;return dt(this,n),(a=e.call(this,r)).reader=null,a}return gt(n,[{key:"render",value:function(){var r=this;return me.createElement(Hr.Consumer,null,function(a){return me.createElement(Yt.Consumer,null,function(i){return r.representation=i,me.createElement(Ft.Consumer,null,function(s){return r.reader||(r.reader=r.createReader(r.props)),r.downstream||(s.setInputConnection(r.reader.getOutputPort(),r.props.port),r.downstream=s),r.view=a,me.createElement(Ft.Provider,{value:r.reader},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children))})})})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.reader.delete(),this.reader=null}},{key:"createReader",value:function(r){var a=r.vtkClass,i=r.options;return Tt({vtkClass:a,progressCallback:i.progressCallback})}},{key:"update",value:function(r,a){var i=this,s=r.vtkClass,o=r.url,c=r.parseAsText,u=r.parseAsArrayBuffer,f=r.options;!s||a&&s===a.vtkClass||(this.reader=this.createReader(r),this.downstream.setInputConnection(this.reader.getOutputPort(),this.props.port)),!o||a&&o===a.url||this.reader.setUrl(o,f).then(function(){i.reader&&(i.representation&&i.representation.dataAvailable(),i.view&&(i.props.resetCameraOnUpdate&&i.view.resetCamera(),i.props.renderOnUpdate&&i.view.renderView()))}),!c||a&&c===a.parseAsText||(this.reader.parseAsText(c),this.representation&&this.representation.dataAvailable()),!u||a&&u===a.parseAsArrayBuffer||(this.reader.parseAsArrayBuffer(Gs.toArrayBuffer(u)),this.representation&&this.representation.dataAvailable()),this.view&&(this.props.resetCameraOnUpdate&&this.view.resetCamera(),this.props.renderOnUpdate&&this.view.renderView())}}]),n}();Su.defaultProps={port:0,vtkClass:"",renderOnUpdate:!0,resetCameraOnUpdate:!0,options:{binary:!0}},Su.propTypes={id:ee.string,port:ee.number,vtkClass:ee.string,url:ee.string,parseAsText:ee.string,parseAsArrayBuffer:ee.string,renderOnUpdate:ee.bool,resetCameraOnUpdate:ee.bool,options:ee.object,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};function fM(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ot(this,n)}}function lM(t,e){e.classHierarchy.push("vtkTrivialProducer"),t.requestData=function(n,r){r.length=n.length;for(var a=0;a<n.length;a++)r[a]=n[a]}}var hM=W.newInstance(function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,n),W.obj(t,e),W.algo(t,e,1,1),W.event(t,e,"DataAvailable"),lM(t,e)},"vtkTrivialProducer"),Nh={},Tu=function(t){Dt(n,Lt.exports.Component);var e=fM(n);function n(){return dt(this,n),e.apply(this,arguments)}return gt(n,[{key:"getTrivialProducer",value:function(){var r=Nh[this.props.name];return r||(r=hM(),Nh[this.props.name]=r),r}},{key:"componentDidMount",value:function(){var r=this.getTrivialProducer().getOutputData();r&&!r.isDeleted()&&this.dataAvailable()}},{key:"componentWillUnmount",value:function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}},{key:"render",value:function(){var r=this;return this.update(),me.createElement(Yt.Consumer,null,function(a){return me.createElement(Ft.Consumer,null,function(i){return r.representation=a,r.downstream||(r.downstream=i),me.createElement(Yt.Provider,{value:r},me.createElement(Ft.Provider,{value:r.getTrivialProducer()},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children)))})})}},{key:"update",value:function(){var r=this;this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.subscription=this.getTrivialProducer().onDataAvailable(function(){r.dataAvailable()})}},{key:"dataAvailable",value:function(){this.downstream&&this.downstream.setInputConnection(this.getTrivialProducer().getOutputPort(),this.props.port),this.validData||(this.validData=!0,this.getTrivialProducer().invokeDataAvailable()),this.representation&&this.representation.dataAvailable()}},{key:"dataChanged",value:function(){this.representation&&this.representation.dataChanged()}}]),n}();Tu.defaultProps={port:0,name:"shared"},Tu.propTypes={id:ee.string,port:ee.number,name:ee.string,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};function Li(){return Li=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Li.apply(this,arguments)}var pM=navigator.gpu?"WebGPU":"WebGL",gs=Object.create(null);function Eg(t,e){gs[t]=e}function vM(){return Object.keys(gs)}function Dg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return gs[t]&&gs[t](e)}function dM(t,e){e.classHierarchy.push("vtkRenderWindow"),t.addRenderer=function(n){t.hasRenderer(n)||(n.setRenderWindow(t),e.renderers.push(n),t.modified())},t.removeRenderer=function(n){e.renderers=e.renderers.filter(function(r){return r!==n}),t.modified()},t.hasRenderer=function(n){return e.renderers.indexOf(n)!==-1},t.newAPISpecificView=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Dg(n||e.defaultViewAPI,r)},t.addView=function(n){t.hasView(n)||(n.setRenderable(t),e.views.push(n),t.modified())},t.removeView=function(n){e.views=e.views.filter(function(r){return r!==n}),t.modified()},t.hasView=function(n){return e.views.indexOf(n)!==-1},t.preRender=function(){e.renderers.forEach(function(n){n.isActiveCameraCreated()||n.resetCamera()})},t.render=function(){t.preRender(),e.interactor?e.interactor.render():e.views.forEach(function(n){return n.traverseAllPasses()})},t.getStatistics=function(){var n={propCount:0,invisiblePropCount:0};return e.renderers.forEach(function(r){var a=r.getViewProps();a.forEach(function(i){if(i.getVisibility()){n.propCount+=1;var s=i.getMapper&&i.getMapper();if(s&&s.getPrimitiveCount){var o=s.getPrimitiveCount();Object.keys(o).forEach(function(c){n[c]||(n[c]=0),n[c]+=o[c]})}}else n.invisiblePropCount+=1})}),n.str=Object.keys(n).map(function(r){return"".concat(r,": ").concat(n[r])}).join(`
`),n},t.captureImages=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return W.setImmediate(t.render),e.views.map(function(a){return a.captureNextImage?a.captureNextImage(n,r):void 0}).filter(function(a){return!!a})}}var gM={defaultViewAPI:pM,renderers:[],views:[],interactor:null,neverRendered:!0,numberOfLayers:1};function Og(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,gM,n),W.obj(t,e),W.setGet(t,e,["interactor","numberOfLayers","views","defaultViewAPI"]),W.get(t,e,["neverRendered"]),W.getArray(t,e,["renderers"]),W.event(t,e,"completion"),dM(t,e)}var yM=W.newInstance(Og,"vtkRenderWindow"),Ng={newInstance:yM,extend:Og,registerViewConstructor:Eg,listViewAPIs:vM,newAPISpecificView:Dg};function mM(t,e){e.classHierarchy.push("vtkRenderPass"),t.getOperation=function(){return e.currentOperation},t.setCurrentOperation=function(n){e.currentOperation=n,e.currentTraverseOperation="traverse".concat(W.capitalize(e.currentOperation))},t.getTraverseOperation=function(){return e.currentTraverseOperation},t.traverse=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e.deleted||(e.currentParent=r,e.preDelegateOperations.forEach(function(a){t.setCurrentOperation(a),n.traverse(t)}),e.delegates.forEach(function(a){a.traverse(n,t)}),e.postDelegateOperations.forEach(function(a){t.setCurrentOperation(a),n.traverse(t)}))}}var _M={delegates:[],currentOperation:null,preDelegateOperations:[],postDelegateOperations:[],currentParent:null};function Mg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,_M,n),W.obj(t,e),W.get(t,e,["currentOperation"]),W.setGet(t,e,["delegates","currentParent","preDelegateOperations","postDelegateOperations"]),mM(t,e)}var xM=W.newInstance(Mg,"vtkRenderPass"),Mc={newInstance:xM,extend:Mg},wM=Pi.Representation,Mh=W.vtkErrorMacro;function CM(t){var e=fe.substitute(t.Fragment,"//VTK::RenderPassFragmentShader::Impl",`
      float weight = gl_FragData[0].a * pow(max(1.1 - gl_FragCoord.z, 0.0), 2.0);
      gl_FragData[0] = vec4(gl_FragData[0].rgb*weight, gl_FragData[0].a);
      gl_FragData[1].r = weight;
    `,!1);t.Fragment=e.result}var SM=`//VTK::System::Dec

in vec2 tcoord;

uniform sampler2D translucentRTexture;
uniform sampler2D translucentRGBATexture;

// the output of this shader
//VTK::Output::Dec

void main()
{
  vec4 t1Color = texture(translucentRGBATexture, tcoord);
  float t2Color = texture(translucentRTexture, tcoord).r;
  gl_FragData[0] = vec4(t1Color.rgb/max(t2Color,0.01), 1.0 - t1Color.a);
}
`;function TM(t,e){e.classHierarchy.push("vtkOpenGLOrderIndependentTranslucentPass"),t.createVertexBuffer=function(){var n=new Float32Array([-1,-1,-1,1,-1,-1,-1,1,-1,1,1,-1]),r=new Float32Array([0,0,1,0,0,1,1,1]),a=new Uint16Array([4,0,1,3,2]),i=Ee.newInstance({numberOfComponents:3,values:n});i.setName("points");var s=Ee.newInstance({numberOfComponents:2,values:r});s.setName("tcoords");var o=Ee.newInstance({numberOfComponents:1,values:a});e.tris.getCABO().createVBO(o,"polys",wM.SURFACE,{points:i,tcoords:s,cellOffset:0}),e.VBOBuildTime.modified()},t.createFramebuffer=function(n){var r,a=n.getSize(),i=n.getContext();e.framebuffer=bs.newInstance(),e.framebuffer.setOpenGLRenderWindow(n),(r=e.framebuffer).create.apply(r,we(a)),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.bind(),e.translucentRGBATexture=jt.newInstance(),e.translucentRGBATexture.setInternalFormat(i.RGBA16F),e.translucentRGBATexture.setFormat(i.RGBA),e.translucentRGBATexture.setOpenGLDataType(i.HALF_FLOAT),e.translucentRGBATexture.setOpenGLRenderWindow(n),e.translucentRGBATexture.create2DFromRaw(a[0],a[1],4,"Float32Array",null),e.translucentRTexture=jt.newInstance(),e.translucentRTexture.setInternalFormat(i.R16F),e.translucentRTexture.setFormat(i.RED),e.translucentRTexture.setOpenGLDataType(i.HALF_FLOAT),e.translucentRTexture.setOpenGLRenderWindow(n),e.translucentRTexture.create2DFromRaw(a[0],a[1],1,"Float32Array",null),e.translucentZTexture=jt.newInstance(),e.translucentZTexture.setOpenGLRenderWindow(n),e.translucentZTexture.createDepthFromRaw(a[0],a[1],"Float32Array",null),e.framebuffer.setColorBuffer(e.translucentRGBATexture,0),e.framebuffer.setColorBuffer(e.translucentRTexture,1),e.framebuffer.setDepthBuffer(e.translucentZTexture)},t.createCopyShader=function(n){e.copyShader=n.getShaderCache().readyShaderProgramArray(["//VTK::System::Dec","attribute vec4 vertexDC;","attribute vec2 tcoordTC;","varying vec2 tcoord;","void main() { tcoord = tcoordTC; gl_Position = vertexDC; }"].join(`
`),SM,"")},t.createVBO=function(n){var r=n.getContext();e.tris.setOpenGLRenderWindow(n),t.createVertexBuffer();var a=e.copyShader;e.tris.getCABO().bind(),e.copyVAO.addAttributeArray(a,e.tris.getCABO(),"vertexDC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),r.FLOAT,3,r.FALSE)||Mh("Error setting vertexDC in copy shader VAO."),e.copyVAO.addAttributeArray(a,e.tris.getCABO(),"tcoordTC",e.tris.getCABO().getTCoordOffset(),e.tris.getCABO().getStride(),r.FLOAT,2,r.FALSE)||Mh("Error setting vertexDC in copy shader VAO.")},t.traverse=function(n,r,a){if(!e.deleted){var i=n.getSize(),s=n.getContext();if(e._supported=!1,r.getSelector()||!s||!n.getWebgl2()||!s.getExtension("EXT_color_buffer_half_float")&&!s.getExtension("EXT_color_buffer_float")){t.setCurrentOperation("translucentPass"),r.traverse(t);return}if(e._supported=!0,e.framebuffer===null)t.createFramebuffer(n);else{var o=e.framebuffer.getSize();o===null||o[0]!==i[0]||o[1]!==i[1]?(e.framebuffer.releaseGraphicsResources(),e.translucentRGBATexture.releaseGraphicsResources(n),e.translucentRTexture.releaseGraphicsResources(n),e.translucentZTexture.releaseGraphicsResources(n),t.createFramebuffer(n)):(e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.bind())}s.drawBuffers([s.COLOR_ATTACHMENT0]),s.clearBufferfv(s.COLOR,0,[0,0,0,0]),s.clearBufferfv(s.DEPTH,0,[1]),s.colorMask(!1,!1,!1,!1),a.getOpaqueActorCount()>0&&(a.setCurrentOperation("opaquePass"),r.traverse(a)),s.colorMask(!0,!0,!0,!0),s.drawBuffers([s.COLOR_ATTACHMENT0,s.COLOR_ATTACHMENT1]),s.viewport(0,0,i[0],i[1]),s.scissor(0,0,i[0],i[1]),s.clearBufferfv(s.COLOR,0,[0,0,0,1]),s.clearBufferfv(s.COLOR,1,[0,0,0,0]),s.enable(s.DEPTH_TEST),s.enable(s.BLEND),s.blendFuncSeparate(s.ONE,s.ONE,s.ZERO,s.ONE_MINUS_SRC_ALPHA),t.setCurrentOperation("translucentPass"),r.traverse(t),s.drawBuffers([s.NONE]),e.framebuffer.restorePreviousBindingsAndBuffers(),e.copyShader===null?t.createCopyShader(n):n.getShaderCache().readyShaderProgram(e.copyShader),e.copyVAO||(e.copyVAO=qu.newInstance(),e.copyVAO.setOpenGLRenderWindow(n)),e.copyVAO.bind(),e.VBOBuildTime.getMTime()<t.getMTime()&&t.createVBO(n),s.blendFuncSeparate(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA),s.depthMask(!1),s.depthFunc(s.ALWAYS),s.viewport(0,0,i[0],i[1]),s.scissor(0,0,i[0],i[1]),e.translucentRGBATexture.activate(),e.copyShader.setUniformi("translucentRGBATexture",e.translucentRGBATexture.getTextureUnit()),e.translucentRTexture.activate(),e.copyShader.setUniformi("translucentRTexture",e.translucentRTexture.getTextureUnit()),s.drawArrays(s.TRIANGLES,0,e.tris.getCABO().getElementCount()),s.depthMask(!0),s.depthFunc(s.LEQUAL),e.translucentRGBATexture.deactivate(),e.translucentRTexture.deactivate()}},t.getShaderReplacement=function(){return e._supported?CM:null},t.releaseGraphicsResources=function(n){e.framebuffer&&(e.framebuffer.releaseGraphicsResources(n),e.framebuffer=null),e.translucentRGBATexture&&(e.translucentRGBATexture.releaseGraphicsResources(n),e.translucentRGBATexture=null),e.translucentRTexture&&(e.translucentRTexture.releaseGraphicsResources(n),e.translucentRTexture=null),e.translucentZTexture&&(e.translucentZTexture.releaseGraphicsResources(n),e.translucentZTexture=null),e.copyVAO&&(e.copyVAO.releaseGraphicsResources(n),e.copyVAO=null),e.copyShader&&(e.copyShader.releaseGraphicsResources(n),e.copyShader=null),e.tris&&(e.tris.releaseGraphicsResources(n),e.tris=null),t.modified()}}var bM={framebuffer:null,copyShader:null,tris:null};function kg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,bM,n),Mc.extend(t,e,n),e.VBOBuildTime={},W.obj(e.VBOBuildTime,{mtime:0}),e.tris=pn.newInstance(),W.get(t,e,["framebuffer"]),TM(t,e)}var EM=W.newInstance(kg,"vtkOpenGLOrderIndependentTranslucentPass"),DM={newInstance:EM,extend:kg};function OM(t,e){e.classHierarchy.push("vtkForwardPass"),t.traverse=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!e.deleted){e.currentParent=r,t.setCurrentOperation("buildPass"),n.traverse(t);for(var a=n.getRenderable().getNumberOfLayers(),i=n.getChildren(),s=0;s<a;s++)for(var o=0;o<i.length;o++){var c=i[o],u=n.getRenderable().getRenderers()[o];if(u.getDraw()&&u.getLayer()===s){if(e.opaqueActorCount=0,e.translucentActorCount=0,e.volumeCount=0,e.overlayActorCount=0,t.setCurrentOperation("queryPass"),c.traverse(t),e.opaqueActorCount>0&&e.volumeCount>0||e.depthRequested){var f=n.getFramebufferSize();e.framebuffer===null&&(e.framebuffer=bs.newInstance()),e.framebuffer.setOpenGLRenderWindow(n),e.framebuffer.saveCurrentBindingsAndBuffers();var l=e.framebuffer.getSize();(l===null||l[0]!==f[0]||l[1]!==f[1])&&(e.framebuffer.create(f[0],f[1]),e.framebuffer.populateFramebuffer()),e.framebuffer.bind(),t.setCurrentOperation("opaqueZBufferPass"),c.traverse(t),e.framebuffer.restorePreviousBindingsAndBuffers(),e.depthRequested=!1}t.setCurrentOperation("cameraPass"),c.traverse(t),e.opaqueActorCount>0&&(t.setCurrentOperation("opaquePass"),c.traverse(t)),e.translucentActorCount>0&&(e.translucentPass||(e.translucentPass=DM.newInstance()),e.translucentPass.traverse(n,c,t)),e.volumeCount>0&&(t.setCurrentOperation("volumePass"),c.traverse(t)),e.overlayActorCount>0&&(t.setCurrentOperation("overlayPass"),c.traverse(t))}}}},t.getZBufferTexture=function(){return e.framebuffer?e.framebuffer.getColorTexture():null},t.requestDepth=function(){e.depthRequested=!0},t.incrementOpaqueActorCount=function(){return e.opaqueActorCount++},t.incrementTranslucentActorCount=function(){return e.translucentActorCount++},t.incrementVolumeCount=function(){return e.volumeCount++},t.incrementOverlayActorCount=function(){return e.overlayActorCount++}}var NM={opaqueActorCount:0,translucentActorCount:0,volumeCount:0,overlayActorCount:0,framebuffer:null,depthRequested:!1};function Rg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,NM,n),Mc.extend(t,e,n),W.get(t,e,["framebuffer","opaqueActorCount","translucentActorCount","volumeCount"]),OM(t,e)}var MM=W.newInstance(Rg,"vtkForwardPass"),kM={newInstance:MM,extend:Rg},Fg={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(n){var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function a(m,d){var g=m[0],x=m[1],w=m[2],C=m[3];g+=(x&w|~x&C)+d[0]-680876936|0,g=(g<<7|g>>>25)+x|0,C+=(g&x|~g&w)+d[1]-389564586|0,C=(C<<12|C>>>20)+g|0,w+=(C&g|~C&x)+d[2]+606105819|0,w=(w<<17|w>>>15)+C|0,x+=(w&C|~w&g)+d[3]-1044525330|0,x=(x<<22|x>>>10)+w|0,g+=(x&w|~x&C)+d[4]-176418897|0,g=(g<<7|g>>>25)+x|0,C+=(g&x|~g&w)+d[5]+1200080426|0,C=(C<<12|C>>>20)+g|0,w+=(C&g|~C&x)+d[6]-1473231341|0,w=(w<<17|w>>>15)+C|0,x+=(w&C|~w&g)+d[7]-45705983|0,x=(x<<22|x>>>10)+w|0,g+=(x&w|~x&C)+d[8]+1770035416|0,g=(g<<7|g>>>25)+x|0,C+=(g&x|~g&w)+d[9]-1958414417|0,C=(C<<12|C>>>20)+g|0,w+=(C&g|~C&x)+d[10]-42063|0,w=(w<<17|w>>>15)+C|0,x+=(w&C|~w&g)+d[11]-1990404162|0,x=(x<<22|x>>>10)+w|0,g+=(x&w|~x&C)+d[12]+1804603682|0,g=(g<<7|g>>>25)+x|0,C+=(g&x|~g&w)+d[13]-40341101|0,C=(C<<12|C>>>20)+g|0,w+=(C&g|~C&x)+d[14]-1502002290|0,w=(w<<17|w>>>15)+C|0,x+=(w&C|~w&g)+d[15]+1236535329|0,x=(x<<22|x>>>10)+w|0,g+=(x&C|w&~C)+d[1]-165796510|0,g=(g<<5|g>>>27)+x|0,C+=(g&w|x&~w)+d[6]-1069501632|0,C=(C<<9|C>>>23)+g|0,w+=(C&x|g&~x)+d[11]+643717713|0,w=(w<<14|w>>>18)+C|0,x+=(w&g|C&~g)+d[0]-373897302|0,x=(x<<20|x>>>12)+w|0,g+=(x&C|w&~C)+d[5]-701558691|0,g=(g<<5|g>>>27)+x|0,C+=(g&w|x&~w)+d[10]+38016083|0,C=(C<<9|C>>>23)+g|0,w+=(C&x|g&~x)+d[15]-660478335|0,w=(w<<14|w>>>18)+C|0,x+=(w&g|C&~g)+d[4]-405537848|0,x=(x<<20|x>>>12)+w|0,g+=(x&C|w&~C)+d[9]+568446438|0,g=(g<<5|g>>>27)+x|0,C+=(g&w|x&~w)+d[14]-1019803690|0,C=(C<<9|C>>>23)+g|0,w+=(C&x|g&~x)+d[3]-187363961|0,w=(w<<14|w>>>18)+C|0,x+=(w&g|C&~g)+d[8]+1163531501|0,x=(x<<20|x>>>12)+w|0,g+=(x&C|w&~C)+d[13]-1444681467|0,g=(g<<5|g>>>27)+x|0,C+=(g&w|x&~w)+d[2]-51403784|0,C=(C<<9|C>>>23)+g|0,w+=(C&x|g&~x)+d[7]+1735328473|0,w=(w<<14|w>>>18)+C|0,x+=(w&g|C&~g)+d[12]-1926607734|0,x=(x<<20|x>>>12)+w|0,g+=(x^w^C)+d[5]-378558|0,g=(g<<4|g>>>28)+x|0,C+=(g^x^w)+d[8]-2022574463|0,C=(C<<11|C>>>21)+g|0,w+=(C^g^x)+d[11]+1839030562|0,w=(w<<16|w>>>16)+C|0,x+=(w^C^g)+d[14]-35309556|0,x=(x<<23|x>>>9)+w|0,g+=(x^w^C)+d[1]-1530992060|0,g=(g<<4|g>>>28)+x|0,C+=(g^x^w)+d[4]+1272893353|0,C=(C<<11|C>>>21)+g|0,w+=(C^g^x)+d[7]-155497632|0,w=(w<<16|w>>>16)+C|0,x+=(w^C^g)+d[10]-1094730640|0,x=(x<<23|x>>>9)+w|0,g+=(x^w^C)+d[13]+681279174|0,g=(g<<4|g>>>28)+x|0,C+=(g^x^w)+d[0]-358537222|0,C=(C<<11|C>>>21)+g|0,w+=(C^g^x)+d[3]-722521979|0,w=(w<<16|w>>>16)+C|0,x+=(w^C^g)+d[6]+76029189|0,x=(x<<23|x>>>9)+w|0,g+=(x^w^C)+d[9]-640364487|0,g=(g<<4|g>>>28)+x|0,C+=(g^x^w)+d[12]-421815835|0,C=(C<<11|C>>>21)+g|0,w+=(C^g^x)+d[15]+530742520|0,w=(w<<16|w>>>16)+C|0,x+=(w^C^g)+d[2]-995338651|0,x=(x<<23|x>>>9)+w|0,g+=(w^(x|~C))+d[0]-198630844|0,g=(g<<6|g>>>26)+x|0,C+=(x^(g|~w))+d[7]+1126891415|0,C=(C<<10|C>>>22)+g|0,w+=(g^(C|~x))+d[14]-1416354905|0,w=(w<<15|w>>>17)+C|0,x+=(C^(w|~g))+d[5]-57434055|0,x=(x<<21|x>>>11)+w|0,g+=(w^(x|~C))+d[12]+1700485571|0,g=(g<<6|g>>>26)+x|0,C+=(x^(g|~w))+d[3]-1894986606|0,C=(C<<10|C>>>22)+g|0,w+=(g^(C|~x))+d[10]-1051523|0,w=(w<<15|w>>>17)+C|0,x+=(C^(w|~g))+d[1]-2054922799|0,x=(x<<21|x>>>11)+w|0,g+=(w^(x|~C))+d[8]+1873313359|0,g=(g<<6|g>>>26)+x|0,C+=(x^(g|~w))+d[15]-30611744|0,C=(C<<10|C>>>22)+g|0,w+=(g^(C|~x))+d[6]-1560198380|0,w=(w<<15|w>>>17)+C|0,x+=(C^(w|~g))+d[13]+1309151649|0,x=(x<<21|x>>>11)+w|0,g+=(w^(x|~C))+d[4]-145523070|0,g=(g<<6|g>>>26)+x|0,C+=(x^(g|~w))+d[11]-1120210379|0,C=(C<<10|C>>>22)+g|0,w+=(g^(C|~x))+d[2]+718787259|0,w=(w<<15|w>>>17)+C|0,x+=(C^(w|~g))+d[9]-343485551|0,x=(x<<21|x>>>11)+w|0,m[0]=g+m[0]|0,m[1]=x+m[1]|0,m[2]=w+m[2]|0,m[3]=C+m[3]|0}function i(m){var d=[],g;for(g=0;g<64;g+=4)d[g>>2]=m.charCodeAt(g)+(m.charCodeAt(g+1)<<8)+(m.charCodeAt(g+2)<<16)+(m.charCodeAt(g+3)<<24);return d}function s(m){var d=[],g;for(g=0;g<64;g+=4)d[g>>2]=m[g]+(m[g+1]<<8)+(m[g+2]<<16)+(m[g+3]<<24);return d}function o(m){var d=m.length,g=[1732584193,-271733879,-1732584194,271733878],x,w,C,S,T,b;for(x=64;x<=d;x+=64)a(g,i(m.substring(x-64,x)));for(m=m.substring(x-64),w=m.length,C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<w;x+=1)C[x>>2]|=m.charCodeAt(x)<<(x%4<<3);if(C[x>>2]|=128<<(x%4<<3),x>55)for(a(g,C),x=0;x<16;x+=1)C[x]=0;return S=d*8,S=S.toString(16).match(/(.*?)(.{0,8})$/),T=parseInt(S[2],16),b=parseInt(S[1],16)||0,C[14]=T,C[15]=b,a(g,C),g}function c(m){var d=m.length,g=[1732584193,-271733879,-1732584194,271733878],x,w,C,S,T,b;for(x=64;x<=d;x+=64)a(g,s(m.subarray(x-64,x)));for(m=x-64<d?m.subarray(x-64):new Uint8Array(0),w=m.length,C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<w;x+=1)C[x>>2]|=m[x]<<(x%4<<3);if(C[x>>2]|=128<<(x%4<<3),x>55)for(a(g,C),x=0;x<16;x+=1)C[x]=0;return S=d*8,S=S.toString(16).match(/(.*?)(.{0,8})$/),T=parseInt(S[2],16),b=parseInt(S[1],16)||0,C[14]=T,C[15]=b,a(g,C),g}function u(m){var d="",g;for(g=0;g<4;g+=1)d+=r[m>>g*8+4&15]+r[m>>g*8&15];return d}function f(m){var d;for(d=0;d<m.length;d+=1)m[d]=u(m[d]);return m.join("")}f(o("hello"))!=="5d41402abc4b2a76b9719d911017c592",typeof ArrayBuffer!="undefined"&&!ArrayBuffer.prototype.slice&&function(){function m(d,g){return d=d|0||0,d<0?Math.max(d+g,0):Math.min(d,g)}ArrayBuffer.prototype.slice=function(d,g){var x=this.byteLength,w=m(d,x),C=x,S,T,b,O;return g!==n&&(C=m(g,x)),w>C?new ArrayBuffer(0):(S=C-w,T=new ArrayBuffer(S),b=new Uint8Array(T),O=new Uint8Array(this,w,S),b.set(O),T)}}();function l(m){return/[\u0080-\uFFFF]/.test(m)&&(m=unescape(encodeURIComponent(m))),m}function h(m,d){var g=m.length,x=new ArrayBuffer(g),w=new Uint8Array(x),C;for(C=0;C<g;C+=1)w[C]=m.charCodeAt(C);return d?w:x}function p(m){return String.fromCharCode.apply(null,new Uint8Array(m))}function v(m,d,g){var x=new Uint8Array(m.byteLength+d.byteLength);return x.set(new Uint8Array(m)),x.set(new Uint8Array(d),m.byteLength),g?x:x.buffer}function y(m){var d=[],g=m.length,x;for(x=0;x<g-1;x+=2)d.push(parseInt(m.substr(x,2),16));return String.fromCharCode.apply(String,d)}function _(){this.reset()}return _.prototype.append=function(m){return this.appendBinary(l(m)),this},_.prototype.appendBinary=function(m){this._buff+=m,this._length+=m.length;var d=this._buff.length,g;for(g=64;g<=d;g+=64)a(this._hash,i(this._buff.substring(g-64,g)));return this._buff=this._buff.substring(g-64),this},_.prototype.end=function(m){var d=this._buff,g=d.length,x,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C;for(x=0;x<g;x+=1)w[x>>2]|=d.charCodeAt(x)<<(x%4<<3);return this._finish(w,g),C=f(this._hash),m&&(C=y(C)),this.reset(),C},_.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},_.prototype.setState=function(m){return this._buff=m.buff,this._length=m.length,this._hash=m.hash,this},_.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},_.prototype._finish=function(m,d){var g=d,x,w,C;if(m[g>>2]|=128<<(g%4<<3),g>55)for(a(this._hash,m),g=0;g<16;g+=1)m[g]=0;x=this._length*8,x=x.toString(16).match(/(.*?)(.{0,8})$/),w=parseInt(x[2],16),C=parseInt(x[1],16)||0,m[14]=w,m[15]=C,a(this._hash,m)},_.hash=function(m,d){return _.hashBinary(l(m),d)},_.hashBinary=function(m,d){var g=o(m),x=f(g);return d?y(x):x},_.ArrayBuffer=function(){this.reset()},_.ArrayBuffer.prototype.append=function(m){var d=v(this._buff.buffer,m,!0),g=d.length,x;for(this._length+=m.byteLength,x=64;x<=g;x+=64)a(this._hash,s(d.subarray(x-64,x)));return this._buff=x-64<g?new Uint8Array(d.buffer.slice(x-64)):new Uint8Array(0),this},_.ArrayBuffer.prototype.end=function(m){var d=this._buff,g=d.length,x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w,C;for(w=0;w<g;w+=1)x[w>>2]|=d[w]<<(w%4<<3);return this._finish(x,g),C=f(this._hash),m&&(C=y(C)),this.reset(),C},_.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.ArrayBuffer.prototype.getState=function(){var m=_.prototype.getState.call(this);return m.buff=p(m.buff),m},_.ArrayBuffer.prototype.setState=function(m){return m.buff=h(m.buff,!0),_.prototype.setState.call(this,m)},_.ArrayBuffer.prototype.destroy=_.prototype.destroy,_.ArrayBuffer.prototype._finish=_.prototype._finish,_.ArrayBuffer.hash=function(m,d){var g=c(new Uint8Array(m)),x=f(g);return d?y(x):x},_})})(Fg);var RM=Fg.exports,FM=["lastShaderBound","context","_openGLRenderWindow"];function LM(t,e){e.classHierarchy.push("vtkShaderCache"),t.replaceShaderValues=function(n,r,a){var i=r;a.length>0&&(i=fe.substitute(i,"VSOut","GSOut").result);var s=e._openGLRenderWindow.getWebgl2(),o=`
`,c=`#version 100
`;s?c=`#version 300 es
#define attribute in
#define textureCube texture
#define texture2D texture
#define textureCubeLod textureLod
#define texture2DLod textureLod
`:(e.context.getExtension("OES_standard_derivatives"),e.context.getExtension("EXT_frag_depth")&&(o=`#extension GL_EXT_frag_depth : enable
`),e.context.getExtension("EXT_shader_texture_lod")&&(o+=`#extension GL_EXT_shader_texture_lod : enable
#define textureCubeLod textureCubeLodEXT
#define texture2DLod texture2DLodEXT`)),i=fe.substitute(i,"//VTK::System::Dec",["".concat(c,`
`),s?"":`#extension GL_OES_standard_derivatives : enable
`,o,"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;var u=fe.substitute(n,"//VTK::System::Dec",["".concat(c,`
`),"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;if(s){u=fe.substitute(u,"varying","out").result,i=fe.substitute(i,"varying","in").result;for(var f="",l=0;i.includes("gl_FragData[".concat(l,"]"));)i=fe.substitute(i,"gl_FragData\\[".concat(l,"\\]"),"fragOutput".concat(l)).result,f+="layout(location = ".concat(l,") out vec4 fragOutput").concat(l,`;
`),l++;i=fe.substitute(i,"//VTK::Output::Dec",f).result}var h=fe.substitute(a,"//VTK::System::Dec",c).result;return{VSSource:u,FSSource:i,GSSource:h}},t.readyShaderProgramArray=function(n,r,a){var i=t.replaceShaderValues(n,r,a),s=t.getShaderProgram(i.VSSource,i.FSSource,i.GSSource);return t.readyShaderProgram(s)},t.readyShaderProgram=function(n){return!n||!n.getCompiled()&&!n.compileShader()||!t.bindShader(n)?null:n},t.getShaderProgram=function(n,r,a){var i="".concat(n).concat(r).concat(a),s=RM.hash(i),o=Object.keys(e.shaderPrograms).indexOf(s);if(o===-1){var c=fe.newInstance();return c.setContext(e.context),c.getVertexShader().setSource(n),c.getFragmentShader().setSource(r),a&&c.getGeometryShader().setSource(a),c.setMd5Hash(s),e.shaderPrograms[s]=c,c}return e.shaderPrograms[s]},t.releaseGraphicsResources=function(n){t.releaseCurrentShader(),Object.keys(e.shaderPrograms).map(function(r){return e.shaderPrograms[r]}).forEach(function(r){return r.releaseGraphicsResources(n)})},t.releaseGraphicsResources=function(){e.astShaderBound&&(e.lastShaderBound.release(),e.lastShaderBound=null)},t.bindShader=function(n){return e.lastShaderBound===n||(e.lastShaderBound&&e.lastShaderBound.release(),n.bind(),e.lastShaderBound=n),1}}var AM={lastShaderBound:null,shaderPrograms:null,context:null};function Lg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,AM,n),e.shaderPrograms={},W.obj(t,e),W.setGet(t,e,FM),W.moveToProtected(t,e,["openGLRenderWindow"]),LM(t,e)}var BM=W.newInstance(Lg,"vtkShaderCache"),VM={newInstance:BM,extend:Lg},UM=W.vtkErrorMacro;function GM(t,e){e.classHierarchy.push("vtkOpenGLTextureUnitManager"),t.deleteTable=function(){for(var n=0;n<e.numberOfTextureUnits;++n)e.textureUnits[n]===!0&&UM("some texture units  were not properly released");e.textureUnits=[],e.numberOfTextureUnits=0},t.setContext=function(n){if(e.context!==n){if(e.context!==0&&t.deleteTable(),e.context=n,e.context){e.numberOfTextureUnits=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS);for(var r=0;r<e.numberOfTextureUnits;++r)e.textureUnits[r]=!1}t.modified()}},t.allocate=function(){for(var n=0;n<e.numberOfTextureUnits;n++)if(!t.isAllocated(n))return e.textureUnits[n]=!0,n;return-1},t.allocateUnit=function(n){return t.isAllocated(n)?-1:(e.textureUnits[n]=!0,n)},t.isAllocated=function(n){return e.textureUnits[n]},t.free=function(n){e.textureUnits[n]=!1}}var PM={context:null,numberOfTextureUnits:0,textureUnits:0};function Ag(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,PM,n),W.obj(t,e),e.textureUnits=[],W.get(t,e,["numberOfTextureUnits"]),W.setGet(t,e,["context"]),GM(t,e)}var jM=W.newInstance(Ag,"vtkOpenGLTextureUnitManager"),zM={newInstance:jM,extend:Ag};function WM(t,e){e.classHierarchy.push("vtkRenderWindowViewNode"),t.getViewNodeFactory=function(){return null},t.getAspectRatio=function(){return e.size[0]/e.size[1]},t.getAspectRatioForRenderer=function(n){var r=n.getViewportByReference();return e.size[0]*(r[2]-r[0])/((r[3]-r[1])*e.size[1])},t.isInViewport=function(n,r,a){var i=a.getViewportByReference(),s=t.getFramebufferSize();return i[0]*s[0]<=n&&i[2]*s[0]>=n&&i[1]*s[1]<=r&&i[3]*s[1]>=r},t.getViewportSize=function(n){var r=n.getViewportByReference(),a=t.getFramebufferSize();return[(r[2]-r[0])*a[0],(r[3]-r[1])*a[1]]},t.getViewportCenter=function(n){var r=t.getViewportSize(n);return[r[0]*.5,r[1]*.5]},t.displayToNormalizedDisplay=function(n,r,a){var i=t.getFramebufferSize();return[n/i[0],r/i[1],a]},t.normalizedDisplayToDisplay=function(n,r,a){var i=t.getFramebufferSize();return[n*i[0],r*i[1],a]},t.worldToView=function(n,r,a,i){return i.worldToView(n,r,a)},t.viewToWorld=function(n,r,a,i){return i.viewToWorld(n,r,a)},t.worldToDisplay=function(n,r,a,i){var s=i.worldToView(n,r,a),o=t.getViewportSize(i),c=i.viewToProjection(s[0],s[1],s[2],o[0]/o[1]),u=i.projectionToNormalizedDisplay(c[0],c[1],c[2]);return t.normalizedDisplayToDisplay(u[0],u[1],u[2])},t.displayToWorld=function(n,r,a,i){var s=t.displayToNormalizedDisplay(n,r,a),o=i.normalizedDisplayToProjection(s[0],s[1],s[2]),c=t.getViewportSize(i),u=i.projectionToView(o[0],o[1],o[2],c[0]/c[1]);return i.viewToWorld(u[0],u[1],u[2])},t.normalizedDisplayToViewport=function(n,r,a,i){var s=i.getViewportByReference();s=t.normalizedDisplayToDisplay(s[0],s[1],0);var o=t.normalizedDisplayToDisplay(n,r,a);return[o[0]-s[0]-.5,o[1]-s[1]-.5,a]},t.viewportToNormalizedViewport=function(n,r,a,i){var s=t.getViewportSize(i);return s&&s[0]!==0&&s[1]!==0?[n/(s[0]-1),r/(s[1]-1),a]:[n,r,a]},t.normalizedViewportToViewport=function(n,r,a,i){var s=t.getViewportSize(i);return[n*(s[0]-1),r*(s[1]-1),a]},t.displayToLocalDisplay=function(n,r,a){var i=t.getFramebufferSize();return[n,i[1]-r-1,a]},t.viewportToNormalizedDisplay=function(n,r,a,i){var s=i.getViewportByReference();s=t.normalizedDisplayToDisplay(s[0],s[1],0);var o=n+s[0]+.5,c=r+s[1]+.5;return t.displayToNormalizedDisplay(o,c,a)},t.getPixelData=function(n,r,a,i){W.vtkErrorMacro("not implemented")},t.createSelector=function(){W.vtkErrorMacro("not implemented")}}var IM={size:void 0,selector:void 0};function Bg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,IM,n),e.size||(e.size=[300,300]),W.getArray(t,e,["size"],2),W.get(t,e,["selector"]),At.extend(t,e,n),WM(t,e)}var $M=W.newInstance(Bg,"vtkRenderWindowViewNode"),HM={newInstance:$M,extend:Bg},kh=W.vtkDebugMacro,Rh=W.vtkErrorMacro,KM={position:"absolute",top:0,left:0,width:"100%",height:"100%"},na={vr:{rescaleFactor:1,translateZ:-.7},ar:{rescaleFactor:.25,translateZ:-.5}};function Ut(t,e,n){var r=t.createFramebuffer(),a=t.createTexture();t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,e,2,2,0,e,n,null),t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,a,0);var i=t.checkFramebufferStatus(t.FRAMEBUFFER);return t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindTexture(t.TEXTURE_2D,null),i===t.FRAMEBUFFER_COMPLETE}var ys=0,Ps=[];function XM(){ys++,Ps.forEach(function(t){return t(ys)})}function qM(){ys--,Ps.forEach(function(t){return t(ys)})}function YM(t){Ps.push(t)}function ZM(t){return Ps.pop()}function JM(t,e){e.classHierarchy.push("vtkOpenGLRenderWindow"),t.getViewNodeFactory=function(){return e.myFactory};var n=[0,0];function r(){e.renderable&&(e.size[0]!==n[0]||e.size[1]!==n[1])&&(n[0]=e.size[0],n[1]=e.size[1],e.canvas.setAttribute("width",e.size[0]),e.canvas.setAttribute("height",e.size[1])),e.viewStream&&e.viewStream.setSize(e.size[0],e.size[1]),e.canvas.style.display=e.useOffScreen?"none":"block",e.el&&(e.el.style.cursor=e.cursorVisibility?e.cursor:"none"),e.containerSize=null}t.onModified(r),t.buildPass=function(i){if(i){if(!e.renderable)return;t.prepareNodes(),t.addMissingNodes(e.renderable.getRenderersByReference()),t.removeUnusedNodes(),t.initialize(),e.children.forEach(function(s){s.setOpenGLRenderWindow(t)})}},t.initialize=function(){if(!e.initialized){e.context=t.get3DContext(),e.textureUnitManager=zM.newInstance(),e.textureUnitManager.setContext(e.context),e.shaderCache.setContext(e.context);var i=e.context;i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA),i.depthFunc(i.LEQUAL),i.enable(i.BLEND),e.initialized=!0}},t.makeCurrent=function(){e.context.makeCurrent()},t.setContainer=function(i){e.el&&e.el!==i&&(e.canvas.parentNode!==e.el&&Rh("Error: canvas parent node does not match container"),e.el.removeChild(e.canvas),e.el.contains(e.bgImage)&&e.el.removeChild(e.bgImage)),e.el!==i&&(e.el=i,e.el&&(e.el.appendChild(e.canvas),e.useBackgroundImage&&e.el.appendChild(e.bgImage)),t.modified())},t.getContainer=function(){return e.el},t.getContainerSize=function(){if(!e.containerSize&&e.el){var i=e.el.getBoundingClientRect(),s=i.width,o=i.height;e.containerSize=[s,o]}return e.containerSize||e.size},t.getFramebufferSize=function(){return e.activeFramebuffer?e.activeFramebuffer.getSize():e.size},t.getPixelData=function(i,s,o,c){var u=new Uint8Array((o-i+1)*(c-s+1)*4);return e.context.readPixels(i,s,o-i+1,c-s+1,e.context.RGBA,e.context.UNSIGNED_BYTE,u),u},t.get3DContext=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{preserveDrawingBuffer:!1,depth:!0,alpha:!0,powerPreference:"high-performance"},s=null;navigator.xr!==void 0&&navigator.xr.isSessionSupported("immersive-vr")&&t.invokeHaveVRDisplay();var o=typeof WebGL2RenderingContext!="undefined";return e.webgl2=!1,e.defaultToWebgl2&&o&&(s=e.canvas.getContext("webgl2",i),s&&(e.webgl2=!0,kh("using webgl2"))),s||(kh("using webgl1"),s=e.canvas.getContext("webgl",i)||e.canvas.getContext("experimental-webgl",i)),e.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault()},!1),e.canvas.addEventListener("webglcontextrestored",t.restoreContext,!1),s},t.startXR=function(i){if(navigator.xr===void 0)throw new Error("WebXR is not available");e.xrSessionIsAR=i;var s=i?"immersive-ar":"immersive-vr";if(!navigator.xr.isSessionSupported(s))throw i?new Error("Device does not support AR session"):new Error("VR display is not available");if(e.xrSession===null)navigator.xr.requestSession(s).then(t.enterXR,function(){throw new Error("Failed to create XR session!")});else throw new Error("XR Session already exists!")},t.enterXR=function(){var i=ma(tr.mark(function s(o){var c,u;return tr.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(e.xrSession=o,e.oldCanvasSize=e.size.slice(),e.xrSession===null){l.next=15;break}return c=t.get3DContext(),l.next=6,c.makeXRCompatible();case 6:u=new global.XRWebGLLayer(e.xrSession,c),t.setSize(u.framebufferWidth,u.framebufferHeight),e.xrSession.updateRenderState({baseLayer:u}),e.xrSession.requestReferenceSpace("local").then(function(h){e.xrReferenceSpace=h}),t.resetXRScene(),e.renderable.getInteractor().switchToXRAnimation(),e.xrSceneFrame=e.xrSession.requestAnimationFrame(t.xrRender),l.next=16;break;case 15:throw new Error("Failed to enter VR with a null xrSession.");case 16:case"end":return l.stop()}},s)}));return function(s){return i.apply(this,arguments)}}(),t.resetXRScene=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:na.vr.rescaleFactor,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:na.vr.translateZ,o=i,c=s;e.xrSessionIsAR&&o===na.vr.rescaleFactor&&(o=na.ar.rescaleFactor),e.xrSessionIsAR&&c===na.vr.translateZ&&(c=na.ar.translateZ);var u=e.renderable.getRenderers()[0];u.resetCamera();var f=u.getActiveCamera(),l=f.getPhysicalScale(),h=f.getPhysicalTranslation();l/=o,c*=l,h[2]+=c,f.setPhysicalScale(l),f.setPhysicalTranslation(h)},t.stopXR=ma(tr.mark(function i(){var s,o;return tr.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(navigator.xr!==void 0){u.next=2;break}return u.abrupt("return");case 2:if(e.xrSession===null){u.next=10;break}return e.xrSession.cancelAnimationFrame(e.xrSceneFrame),e.renderable.getInteractor().returnFromXRAnimation(),s=t.get3DContext(),s.bindFramebuffer(s.FRAMEBUFFER,null),u.next=9,e.xrSession.end().catch(function(f){if(!(f instanceof DOMException))throw f});case 9:e.xrSession=null;case 10:e.oldCanvasSize!==void 0&&t.setSize.apply(t,we(e.oldCanvasSize)),o=e.renderable.getRenderers()[0],o.getActiveCamera().setProjectionMatrix(null),o.resetCamera(),o.setViewport(0,0,1,1),t.traverseAllPasses();case 16:case"end":return u.stop()}},i)})),t.xrRender=function(){var i=ma(tr.mark(function s(o,c){var u,f,l,h,p;return tr.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:u=c.session,e.renderable.getInteractor().updateXRGamepads(u,c,e.xrReferenceSpace),e.xrSceneFrame=e.xrSession.requestAnimationFrame(t.xrRender),f=c.getViewerPose(e.xrReferenceSpace),f&&(l=t.get3DContext(),e.xrSessionIsAR&&e.oldCanvasSize!==void 0&&(l.canvas.width=e.oldCanvasSize[0],l.canvas.height=e.oldCanvasSize[1]),h=u.renderState.baseLayer,l.bindFramebuffer(l.FRAMEBUFFER,h.framebuffer),l.clear(l.COLOR_BUFFER_BIT),l.clear(l.DEPTH_BUFFER_BIT),p=e.renderable.getRenderers()[0],f.views.forEach(function(_){var m=h.getViewport(_);if(l.viewport(m.x,m.y,m.width,m.height),!e.xrSessionIsAR)if(_.eye==="left")p.setViewport(0,0,.5,1);else if(_.eye==="right")p.setViewport(.5,0,1,1);else return;p.getActiveCamera().computeViewParametersFromPhysicalMatrix(_.transform.inverse.matrix),p.getActiveCamera().setProjectionMatrix(_.projectionMatrix),t.traverseAllPasses()}));case 5:case"end":return y.stop()}},s)}));return function(s,o){return i.apply(this,arguments)}}(),t.restoreContext=function(){var i=Mc.newInstance();i.setCurrentOperation("Release"),i.traverse(t,null)},t.activateTexture=function(i){var s=e._textureResourceIds.get(i);if(s!==void 0){e.context.activeTexture(e.context.TEXTURE0+s);return}var o=t.getTextureUnitManager().allocate();if(o<0){Rh("Hardware does not support the number of textures defined.");return}e._textureResourceIds.set(i,o),e.context.activeTexture(e.context.TEXTURE0+o)},t.deactivateTexture=function(i){var s=e._textureResourceIds.get(i);s!==void 0&&(t.getTextureUnitManager().free(s),delete e._textureResourceIds.delete(i))},t.getTextureUnitForTexture=function(i){var s=e._textureResourceIds.get(i);return s!==void 0?s:-1},t.getDefaultTextureInternalFormat=function(i,s,o){if(e.webgl2)switch(i){case ht.UNSIGNED_CHAR:switch(s){case 1:return e.context.R8;case 2:return e.context.RG8;case 3:return e.context.RGB8;case 4:default:return e.context.RGBA8}case ht.FLOAT:default:switch(s){case 1:return e.context.R16F;case 2:return e.context.RG16F;case 3:return e.context.RGB16F;case 4:default:return e.context.RGBA16F}}switch(s){case 1:return e.context.LUMINANCE;case 2:return e.context.LUMINANCE_ALPHA;case 3:return e.context.RGB;case 4:default:return e.context.RGBA}},t.setBackgroundImage=function(i){e.bgImage.src=i.src},t.setUseBackgroundImage=function(i){e.useBackgroundImage=i,e.useBackgroundImage&&!e.el.contains(e.bgImage)?e.el.appendChild(e.bgImage):!e.useBackgroundImage&&e.el.contains(e.bgImage)&&e.el.removeChild(e.bgImage)};function a(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.imageFormat,s=document.createElement("canvas"),o=s.getContext("2d");s.width=e.canvas.width,s.height=e.canvas.height,o.drawImage(e.canvas,0,0);var c=e.canvas.getBoundingClientRect(),u=e.renderable,f=u.getRenderers();f.forEach(function(h){var p=h.getViewProps();p.forEach(function(v){if(v.getContainer)for(var y=v.getContainer(),_=y.getElementsByTagName("canvas"),m=0;m<_.length;m++){var d=_[m],g=d.getBoundingClientRect(),x=g.x-c.x,w=g.y-c.y;o.drawImage(d,x,w)}})});var l=s.toDataURL(i);s.remove(),t.invokeImageReady(l)}t.captureNextImage=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.resetCamera,c=o===void 0?!1:o,u=s.size,f=u===void 0?null:u,l=s.scale,h=l===void 0?1:l;if(e.deleted)return null;e.imageFormat=i;var p=e.notifyStartCaptureImage;return e.notifyStartCaptureImage=!0,e._screenshot={size:!!f||h!==1?f||e.size.map(function(v){return v*h}):null},new Promise(function(v,y){var _=t.onImageReady(function(m){if(e._screenshot.size===null)e.notifyStartCaptureImage=p,_.unsubscribe(),e._screenshot.placeHolder&&(e.size=e._screenshot.originalSize,t.modified(),e._screenshot.cameras&&e._screenshot.cameras.forEach(function(x){var w=x.restoreParamsFn,C=x.arg;return w(C)}),t.traverseAllPasses(),e.el.removeChild(e._screenshot.placeHolder),e._screenshot.placeHolder.remove(),e._screenshot=null),v(m);else{var d=document.createElement("img");if(d.style=KM,d.src=m,e._screenshot.placeHolder=e.el.appendChild(d),e.canvas.style.display="none",e._screenshot.originalSize=e.size,e.size=e._screenshot.size,e._screenshot.size=null,t.modified(),c){var g=c!==!0;e._screenshot.cameras=e.renderable.getRenderers().map(function(x){var w=x.getActiveCamera(),C=w.get("focalPoint","position","parallelScale");return{resetCameraArgs:g?{renderer:x}:void 0,resetCameraFn:g?c:x.resetCamera,restoreParamsFn:w.set,arg:JSON.parse(JSON.stringify(C))}}),e._screenshot.cameras.forEach(function(x){var w=x.resetCameraFn,C=x.resetCameraArgs;return w(C)})}t.traverseAllPasses()}})})},t.getHardwareMaximumLineWidth=function(){var i=t.get3DContext(),s=i.getParameter(i.ALIASED_LINE_WIDTH_RANGE);return s[1]},t.getGLInformations=function(){for(var i=t.get3DContext(),s=i.getExtension("OES_texture_float"),o=i.getExtension("OES_texture_half_float"),c=i.getExtension("WEBGL_debug_renderer_info"),u=i.getExtension("WEBGL_draw_buffers"),f=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),l=[["Max Vertex Attributes","MAX_VERTEX_ATTRIBS",i.getParameter(i.MAX_VERTEX_ATTRIBS)],["Max Varying Vectors","MAX_VARYING_VECTORS",i.getParameter(i.MAX_VARYING_VECTORS)],["Max Vertex Uniform Vectors","MAX_VERTEX_UNIFORM_VECTORS",i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS)],["Max Fragment Uniform Vectors","MAX_FRAGMENT_UNIFORM_VECTORS",i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS)],["Max Fragment Texture Image Units","MAX_TEXTURE_IMAGE_UNITS",i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS)],["Max Vertex Texture Image Units","MAX_VERTEX_TEXTURE_IMAGE_UNITS",i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)],["Max Combined Texture Image Units","MAX_COMBINED_TEXTURE_IMAGE_UNITS",i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS)],["Max 2D Texture Size","MAX_TEXTURE_SIZE",i.getParameter(i.MAX_TEXTURE_SIZE)],["Max Cube Texture Size","MAX_CUBE_MAP_TEXTURE_SIZE",i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE)],["Max Texture Anisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT",f&&i.getParameter(f.MAX_TEXTURE_MAX_ANISOTROPY_EXT)],["Point Size Range","ALIASED_POINT_SIZE_RANGE",i.getParameter(i.ALIASED_POINT_SIZE_RANGE).join(" - ")],["Line Width Range","ALIASED_LINE_WIDTH_RANGE",i.getParameter(i.ALIASED_LINE_WIDTH_RANGE).join(" - ")],["Max Viewport Dimensions","MAX_VIEWPORT_DIMS",i.getParameter(i.MAX_VIEWPORT_DIMS).join(" - ")],["Max Renderbuffer Size","MAX_RENDERBUFFER_SIZE",i.getParameter(i.MAX_RENDERBUFFER_SIZE)],["Framebuffer Red Bits","RED_BITS",i.getParameter(i.RED_BITS)],["Framebuffer Green Bits","GREEN_BITS",i.getParameter(i.GREEN_BITS)],["Framebuffer Blue Bits","BLUE_BITS",i.getParameter(i.BLUE_BITS)],["Framebuffer Alpha Bits","ALPHA_BITS",i.getParameter(i.ALPHA_BITS)],["Framebuffer Depth Bits","DEPTH_BITS",i.getParameter(i.DEPTH_BITS)],["Framebuffer Stencil Bits","STENCIL_BITS",i.getParameter(i.STENCIL_BITS)],["Framebuffer Subpixel Bits","SUBPIXEL_BITS",i.getParameter(i.SUBPIXEL_BITS)],["MSAA Samples","SAMPLES",i.getParameter(i.SAMPLES)],["MSAA Sample Buffers","SAMPLE_BUFFERS",i.getParameter(i.SAMPLE_BUFFERS)],["Supported Formats for UByte Render Targets     ","UNSIGNED_BYTE RENDER TARGET FORMATS",[s&&Ut(i,i.RGBA,i.UNSIGNED_BYTE)?"RGBA":"",s&&Ut(i,i.RGB,i.UNSIGNED_BYTE)?"RGB":"",s&&Ut(i,i.LUMINANCE,i.UNSIGNED_BYTE)?"LUMINANCE":"",s&&Ut(i,i.ALPHA,i.UNSIGNED_BYTE)?"ALPHA":"",s&&Ut(i,i.LUMINANCE_ALPHA,i.UNSIGNED_BYTE)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Half Float Render Targets","HALF FLOAT RENDER TARGET FORMATS",[o&&Ut(i,i.RGBA,o.HALF_FLOAT_OES)?"RGBA":"",o&&Ut(i,i.RGB,o.HALF_FLOAT_OES)?"RGB":"",o&&Ut(i,i.LUMINANCE,o.HALF_FLOAT_OES)?"LUMINANCE":"",o&&Ut(i,i.ALPHA,o.HALF_FLOAT_OES)?"ALPHA":"",o&&Ut(i,i.LUMINANCE_ALPHA,o.HALF_FLOAT_OES)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Full Float Render Targets","FLOAT RENDER TARGET FORMATS",[s&&Ut(i,i.RGBA,i.FLOAT)?"RGBA":"",s&&Ut(i,i.RGB,i.FLOAT)?"RGB":"",s&&Ut(i,i.LUMINANCE,i.FLOAT)?"LUMINANCE":"",s&&Ut(i,i.ALPHA,i.FLOAT)?"ALPHA":"",s&&Ut(i,i.LUMINANCE_ALPHA,i.FLOAT)?"LUMINANCE_ALPHA":""].join(" ")],["Max Multiple Render Targets Buffers","MAX_DRAW_BUFFERS_WEBGL",u?i.getParameter(u.MAX_DRAW_BUFFERS_WEBGL):0],["High Float Precision in Vertex Shader","HIGH_FLOAT VERTEX_SHADER",[i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Vertex Shader","MEDIUM_FLOAT VERTEX_SHADER",[i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Vertex Shader","LOW_FLOAT VERTEX_SHADER",[i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.LOW_FLOAT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Float Precision in Fragment Shader","HIGH_FLOAT FRAGMENT_SHADER",[i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Fragment Shader","MEDIUM_FLOAT FRAGMENT_SHADER",[i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Fragment Shader","LOW_FLOAT FRAGMENT_SHADER",[i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.LOW_FLOAT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Int Precision in Vertex Shader","HIGH_INT VERTEX_SHADER",[i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_INT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_INT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Vertex Shader","MEDIUM_INT VERTEX_SHADER",[i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_INT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Vertex Shader","LOW_INT VERTEX_SHADER",[i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.LOW_INT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.LOW_INT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.LOW_INT).rangeMax,"</sup>)"].join("")],["High Int Precision in Fragment Shader","HIGH_INT FRAGMENT_SHADER",[i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_INT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_INT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Fragment Shader","MEDIUM_INT FRAGMENT_SHADER",[i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_INT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Fragment Shader","LOW_INT FRAGMENT_SHADER",[i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.LOW_INT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.LOW_INT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.LOW_INT).rangeMax,"</sup>)"].join("")],["Supported Extensions","EXTENSIONS",i.getSupportedExtensions().join("<br/>					    ")],["WebGL Renderer","RENDERER",i.getParameter(i.RENDERER)],["WebGL Vendor","VENDOR",i.getParameter(i.VENDOR)],["WebGL Version","VERSION",i.getParameter(i.VERSION)],["Shading Language Version","SHADING_LANGUAGE_VERSION",i.getParameter(i.SHADING_LANGUAGE_VERSION)],["Unmasked Renderer","UNMASKED_RENDERER",c&&i.getParameter(c.UNMASKED_RENDERER_WEBGL)],["Unmasked Vendor","UNMASKED_VENDOR",c&&i.getParameter(c.UNMASKED_VENDOR_WEBGL)],["WebGL Version","WEBGL_VERSION",e.webgl2?2:1]],h={};l.length;){var p=l.pop(),v=Ie(p,3),y=v[0],_=v[1],m=v[2];_&&(h[_]={label:y,value:m})}return h},t.traverseAllPasses=function(){if(e.renderPasses)for(var i=0;i<e.renderPasses.length;++i)e.renderPasses[i].traverse(t,null);e.notifyStartCaptureImage&&a()},t.disableCullFace=function(){e.cullFaceEnabled&&(e.context.disable(e.context.CULL_FACE),e.cullFaceEnabled=!1)},t.enableCullFace=function(){e.cullFaceEnabled||(e.context.enable(e.context.CULL_FACE),e.cullFaceEnabled=!0)},t.setViewStream=function(i){if(e.viewStream===i)return!1;if(e.subscription&&(e.subscription.unsubscribe(),e.subscription=null),e.viewStream=i,e.viewStream){var s=e.renderable.getRenderers()[0];s.getBackgroundByReference()[3]=0,t.setUseBackgroundImage(!0),e.subscription=e.viewStream.onImageReady(function(o){return t.setBackgroundImage(o.image)}),e.viewStream.setSize(e.size[0],e.size[1]),e.viewStream.invalidateCache(),e.viewStream.render(),t.modified()}return!0},t.createSelector=function(){var i=Rs.newInstance();return i.setOpenGLRenderWindow(t),i},t.delete=W.chain(t.delete,t.setViewStream,qM)}var QM={cullFaceEnabled:!1,shaderCache:null,initialized:!1,context:null,canvas:null,cursorVisibility:!0,cursor:"pointer",textureUnitManager:null,textureResourceIds:null,containerSize:null,renderPasses:[],notifyStartCaptureImage:!1,webgl2:!1,defaultToWebgl2:!0,activeFramebuffer:null,xrSession:null,xrSessionIsAR:!1,xrReferenceSpace:null,xrSupported:!0,imageFormat:"image/png",useOffScreen:!1,useBackgroundImage:!1};function Vg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,QM,n),HM.extend(t,e,n),e.canvas=document.createElement("canvas"),e.canvas.style.width="100%",XM(),e.selector||(e.selector=Rs.newInstance(),e.selector.setOpenGLRenderWindow(t)),e.bgImage=new Image,e.bgImage.style.position="absolute",e.bgImage.style.left="0",e.bgImage.style.top="0",e.bgImage.style.width="100%",e.bgImage.style.height="100%",e.bgImage.style.zIndex="-1",e._textureResourceIds=new Map,e.myFactory=qy.newInstance(),e.myFactory.registerOverride("vtkRenderWindow",kc),e.shaderCache=VM.newInstance(),e.shaderCache.setOpenGLRenderWindow(t),e.renderPasses[0]=kM.newInstance(),W.event(t,e,"imageReady"),W.event(t,e,"haveVRDisplay"),W.get(t,e,["shaderCache","textureUnitManager","webgl2","vrDisplay","useBackgroundImage","xrSupported"]),W.setGet(t,e,["initialized","context","canvas","renderPasses","notifyStartCaptureImage","defaultToWebgl2","cursor","useOffScreen","activeFramebuffer"]),W.setGetArray(t,e,["size"],2),JM(t,e)}var kc=W.newInstance(Vg,"vtkOpenGLRenderWindow");Eg("WebGL",kc);var Ug={newInstance:kc,extend:Vg,pushMonitorGLContextCount:YM,popMonitorGLContextCount:ZM};function ek(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ot(this,n)}}function Fh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Pg=me.createContext(null);function tk(t,e){var n=Gg({},t);return e.forEach(function(r){delete n[r]}),n}var rk={position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none"},Rc=function(t){Dt(n,Lt.exports.Component);var e=ek(n);function n(r){var a;return dt(this,n),(a=e.call(this,r)).containerRef=me.createRef(),a.containerToRenderer=new Map,a.renderWindow=Ng.newInstance(),a.interactor=null,a.renderWindowView=Ug.newInstance(),a.renderWindow.addView(a.renderWindowView),a.resizeObserver=new ResizeObserver(function(i){a.onResize(i)}),a.interactor=Oc.newInstance(),a.interactor.setView(a.renderWindowView),a.onResize=a.onResize.bind(gi(a)),a.initialized=!1,a}return gt(n,[{key:"componentDidMount",value:function(){if(!this.props.disabled){var r=this.containerRef.current;this.renderWindowView.setContainer(r),this.interactor.initialize(),this.resizeObserver.observe(r),this.resizeRootContainer(),this.initialized=!0,this.update(this.props)}}},{key:"componentDidUpdate",value:function(r){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.initialized&&(this.resizeObserver.disconnect(),this.interactor.getContainer()&&this.interactor.unbindEvents(),this.renderWindowView.setContainer(null)),this.renderWindow.removeView(this.renderWindowView),this.interactor.delete(),this.renderWindow.delete(),this.renderWindowView.delete(),this.interactor=null,this.renderWindow=null,this.renderWindowView=null}},{key:"render",value:function(){var r=this.props,a=r.id,i=r.children,s=r.style,o=r.disabled;return me.createElement("div",Li({key:a,id:a,style:Gg({position:"relative"},s)},tk(this.props,Object.keys(jg))),me.createElement("div",{style:rk,ref:this.containerRef}),me.createElement(Pg.Provider,{value:o?null:this},i))}},{key:"bindInteractorEvents",value:function(r){this.interactor&&(this.interactor.getContainer()&&this.interactor.unbindEvents(),r&&this.interactor.bindEvents(r))}},{key:"observeRendererResize",value:function(r,a){this.containerToRenderer.has(r)||(this.containerToRenderer.set(r,a),this.resizeObserver.observe(r))}},{key:"unobserveRendererResize",value:function(r){this.containerToRenderer.delete(r),this.resizeObserver.unobserve(r)}},{key:"resizeRootContainer",value:function(){var r=this.containerRef.current;if(r){var a=window.devicePixelRatio||1,i=r.getBoundingClientRect(),s=i.width,o=i.height,c=Math.floor(s*a),u=Math.floor(o*a);this.renderWindowView.setSize(Math.max(c,10),Math.max(u,10))}}},{key:"onResize",value:function(r){var a=this;r.forEach(function(i){var s=a.containerRef.current;if(i.target===s)a.resizeRootContainer();else if(a.containerToRenderer.has(i.target)){var o=a.containerToRenderer.get(i.target),c=i.target.getBoundingClientRect(),u=a.renderWindowView.getCanvas().getBoundingClientRect(),f=c.top-u.top,l=c.left-u.left,h=l/u.width,p=(l+c.width)/u.width,v=1-(f+c.height)/u.height,y=1-f/u.height;o.setViewport(h,v,p,y)}}),this.renderWindow.render()}},{key:"update",value:function(r,a){var i=r.triggerRender;a&&i!==a.triggerRender&&(this.renderViewTimeout=setTimeout(this.renderWindow.render,0))}}]),n}();Rc.defaultProps={triggerRender:0,disabled:!1};var jg={id:ee.string,triggerRender:ee.number,disabled:ee.bool,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};Rc.propTypes=jg;function Lh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nk(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ot(this,n)}}var bu=function(t){Dt(n,Lt.exports.Component);var e=nk(n);function n(r){var a;return dt(this,n),(a=e.call(this,r)).renderer=Hd.newInstance(),a.viewRef=me.createRef(),a.resizeObserver=new ResizeObserver(function(){return a.onResize()}),r.root?(a.renderWindow=r.root.renderWindow,a.openglRenderWindow=r.root.renderWindowView,a.interactor=r.root.interactor):(a.renderWindow=Ng.newInstance(),a.openglRenderWindow=Ug.newInstance(),a.interactor=Oc.newInstance()),a.onEnter=a.onEnter.bind(gi(a)),a.onResize=a.onResize.bind(gi(a)),a}return gt(n,[{key:"componentDidMount",value:function(){this.props.root||(this.renderWindow.addView(this.openglRenderWindow),this.props.interactive&&(this.interactor.setView(this.openglRenderWindow),this.interactor.initialize())),this.renderWindow.addRenderer(this.renderer);var r=this.viewRef.current,a=r==null?void 0:r.containerRef.current;r&&a&&(a.addEventListener("pointerenter",this.onEnter),this.props.root?this.props.root.observeRendererResize(a,this.renderer):(this.resizeObserver.observe(a),this.openglRenderWindow.setContainer(a),this.props.interactive&&this.interactor.bindEvents(a),this.interactor.setInteractorStyle(r.style),this.onResize()))}},{key:"componentWillUnmount",value:function(){var r=this.viewRef.current.containerRef.current;r.removeEventListener("pointerenter",this.onEnter),this.resizeObserver.disconnect(),this.props.root&&this.props.root.unobserveRendererResize(r),this.renderWindow.isDeleted()||this.renderWindow.removeRenderer(this.renderer),this.props.root?this.bindInteractorEvents(null):(this.interactor.getContainer()&&this.interactor.unbindEvents(),this.openglRenderWindow.setContainer(null),this.renderWindow.isDeleted()||(this.renderWindow.removeView(this.openglRenderWindow),this.renderWindow.delete()),this.interactor.delete(),this.openglRenderWindow.delete()),this.renderer.delete(),this.interactor=null,this.renderWindow=null,this.openglRenderWindow=null}},{key:"render",value:function(){var r=function(a){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?Lh(Object(s),!0).forEach(function(o){Oe(a,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Lh(Object(s)).forEach(function(o){Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(s,o))})}return a}({},this.props);return delete r.root,me.createElement(Ri,Li({renderWindow:this.renderWindow,renderWindowView:this.openglRenderWindow,renderer:this.renderer,interactor:this.interactor,ref:this.viewRef},r))}},{key:"bindInteractorEvents",value:function(r){var a=this.interactor.getContainer();a!==r&&(a&&this.interactor.unbindEvents(),r&&this.interactor.bindEvents(r))}},{key:"onEnter",value:function(){var r=this.viewRef.current,a=r==null?void 0:r.containerRef.current;this.props.root&&a&&(this.bindInteractorEvents(a),this.interactor.setCurrentRenderer(this.renderer),this.interactor.setInteractorStyle(r.style))}},{key:"onResize",value:function(){var r,a=(r=this.viewRef.current)===null||r===void 0?void 0:r.containerRef.current;if(a&&!this.props.root){var i=window.devicePixelRatio||1,s=a.getBoundingClientRect(),o=s.width,c=s.height,u=Math.floor(o*i),f=Math.floor(c*i);this.openglRenderWindow.setSize(Math.max(u,10),Math.max(f,10)),this.renderWindow.render()}}}]),n}();function ak(t){return me.createElement(Pg.Consumer,null,function(e){return me.createElement(bu,Li({},t,{root:e}))})}bu.defaultProps=Ri.defaultProps,bu.propTypes=Ri.propTypes;function ik(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ot(this,n)}}var ms=function(t){Dt(n,Lt.exports.Component);var e=ik(n);function n(r){var a;return dt(this,n),(a=e.call(this,r)).validData=!1,a.currentVisibility=!0,a.actor=$r.newInstance({visibility:!1,representationId:r.id}),a.lookupTable=Va.newInstance(),a.mapper=fn.newInstance({lookupTable:a.lookupTable,useLookupTableScalarRange:!0}),a.actor.setMapper(a.mapper),a.scalarBar=Mv.newInstance(),a.scalarBar.setScalarsToColors(a.lookupTable),a.scalarBar.setVisibility(!1),a.subscriptions=[],r.showCubeAxes&&a.initCubeAxes(),a}return gt(n,[{key:"initCubeAxes",value:function(){var r=this;this.cubeAxes=dc.newInstance({visibility:!1,dataBounds:[-1,1,-1,1,-1,1]}),this.cubeAxes.getActors().forEach(function(a){return(0,a.setVisibility)(!1)}),this.subscriptions.push(this.mapper.onModified(function a(){if(r.mapper.getInputData()){r.subscriptions.length===1&&r.subscriptions.push(r.mapper.getInputData().onModified(a));var i=r.mapper.getInputData().getBounds();i[0]<i[1]&&(r.cubeAxes&&r.cubeAxes.setDataBounds(i),r.view&&r.view.renderView())}}))}},{key:"render",value:function(){var r=this;return me.createElement(Hr.Consumer,null,function(a){return r.view||(r.cubeAxes&&(r.cubeAxes.setCamera(a.renderer.getActiveCamera()),a.renderer.addActor(r.cubeAxes)),a.renderer.addActor(r.scalarBar),a.renderer.addActor(r.actor),r.view=a),me.createElement(Yt.Provider,{value:r},me.createElement(Ft.Provider,{value:r.mapper},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children)))})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){for(;this.subscriptions.length;)this.subscriptions.pop().unsubscribe();this.view&&this.view.renderer&&(this.view.renderer.removeActor(this.scalarBar),this.view.renderer.removeActor(this.cubeAxes),this.view.renderer.removeActor(this.actor)),this.scalarBar.delete(),this.scalarBar=null,this.cubeAxes&&(this.cubeAxes.delete(),this.cubeAxes=null),this.actor.delete(),this.actor=null,this.mapper.delete(),this.mapper=null,this.lookupTable.delete(),this.lookupTable=null}},{key:"update",value:function(r,a){var i,s=this,o=r.cubeAxesStyle,c=r.showCubeAxes,u=r.actor,f=r.mapper,l=r.property,h=r.colorMapPreset,p=r.colorDataRange,v=!1;if(!u||a&&u===a.actor||(v=this.actor.set(u)||v),!f||a&&f===a.mapper||(v=this.mapper.set(f)||v),!l||a&&l===a.property||(v=this.actor.getProperty().set(l)||v),h&&(!a||h!==a.colorMapPreset)){var y;v=!0;var _=Ea.getPresetByName(h);this.lookupTable.applyColorMap(_),(y=this.lookupTable).setMappingRange.apply(y,we(p)),this.lookupTable.updateRange()}!p||a&&pg(p,a.colorDataRange)||(v=!0,(i=this.lookupTable).setMappingRange.apply(i,we(p)),this.lookupTable.updateRange()),c&&this.cubeAxes==null&&(v=!0,this.initCubeAxes(),!o||a&&o===a.cubeAxesStyle||this.cubeAxes.set(o)),this.cubeAxes!=null&&c!==this.cubeAxes.getVisibility()&&(v=!0,this.cubeAxes.setVisibility(c&&this.validData),this.cubeAxes.getActors().forEach(function(m){return(0,m.setVisibility)(c&&s.validData)})),v=this.scalarBar.setVisibility(r.showScalarBar&&this.validData)||v,v=this.scalarBar.setAxisLabel(r.scalarBarTitle)||v,v=this.scalarBar.set(r.scalarBarStyle||{})||v,u&&u.visibility!==void 0&&(this.currentVisibility=u.visibility,v=this.actor.setVisibility(this.currentVisibility&&this.validData)||v),v&&this.dataChanged()}},{key:"dataAvailable",value:function(){var r=this;this.validData||(this.validData=!0,this.actor.setVisibility(this.currentVisibility),this.scalarBar.setVisibility(this.props.showScalarBar),this.cubeAxes&&(this.cubeAxes.setVisibility(this.props.showCubeAxes),this.cubeAxes.getActors().forEach(function(a){return(0,a.setVisibility)(r.props.showCubeAxes)})),this.dataChanged())}},{key:"dataChanged",value:function(){this.view&&this.view.renderView()}}]),n}();ms.defaultProps={colorMapPreset:"erdc_rainbow_bright",colorDataRange:[0,1],showCubeAxes:!1,showScalarBar:!1,scalarBarTitle:""},ms.propTypes={id:ee.string,actor:ee.object,mapper:ee.object,property:ee.object,colorMapPreset:ee.string,colorDataRange:ee.arrayOf(ee.number),showCubeAxes:ee.bool,cubeAxesStyle:ee.object,showScalarBar:ee.bool,scalarBarTitle:ee.string,scalarBarStyle:ee.object,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};var Fc={DISPLAY:0,NORMALIZED_DISPLAY:1,VIEWPORT:2,NORMALIZED_VIEWPORT:3,PROJECTION:4,VIEW:5,WORLD:6},zg={Coordinate:Fc};function Ah(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ok(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ah(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ah(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ue=zg.Coordinate,ko=W.vtkErrorMacro;function sk(t,e){e.classHierarchy.push("vtkCoordinate"),t.setValue=function(){if(e.deleted)return ko("instance deleted - cannot call any method"),!1;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r;if(i.length===1&&Array.isArray(i[0])&&(i=i[0]),i.length===2)return t.setValue(i[0],i[1],0),!0;if(i.length!==3)throw new RangeError("Invalid number of values for array setter");var s=!1;return e.value.forEach(function(o,c){if(o!==i[c]){if(s)return;s=!0}}),s&&(e.value=[].concat(i),t.modified()),!0},t.setCoordinateSystemToDisplay=function(){t.setCoordinateSystem(Ue.DISPLAY)},t.setCoordinateSystemToNormalizedDisplay=function(){t.setCoordinateSystem(Ue.NORMALIZED_DISPLAY)},t.setCoordinateSystemToViewport=function(){t.setCoordinateSystem(Ue.VIEWPORT)},t.setCoordinateSystemToNormalizedViewport=function(){t.setCoordinateSystem(Ue.NORMALIZED_VIEWPORT)},t.setCoordinateSystemToProjection=function(){t.setCoordinateSystem(Ue.PROJECTION)},t.setCoordinateSystemToView=function(){t.setCoordinateSystem(Ue.VIEW)},t.setCoordinateSystemToWorld=function(){t.setCoordinateSystem(Ue.WORLD)},t.getCoordinateSystemAsString=function(){return W.enumToString(Ue,e.coordinateSystem)},t.getComputedWorldValue=function(n){var r=e.computedWorldValue;if(e.computing)return r;e.computing=1,r[0]=e.value[0],r[1]=e.value[1],r[2]=e.value[2];var a=n;if(e.renderer&&(a=e.renderer),!a){if(e.coordinateSystem===Ue.WORLD){if(e.referenceCoordinate){var i=e.referenceCoordinate.getComputedWorldValue(a);r[0]+=i[0],r[1]+=i[1],r[2]+=i[2]}e.computing=0}else ko("Attempt to compute world coordinates from another coordinate system without a renderer");return r}var s=null;if(a&&a.getRenderWindow().getViews())s=a.getRenderWindow().getViews()[0];else return e.computedWorldValue;var o=s.getViewportSize(a),c=o[0]/o[1];if(e.referenceCoordinate&&e.coordinateSystem!==Ue.WORLD){var u=e.referenceCoordinate.getComputedDoubleDisplayValue(a),f=[u[0],u[1],0];switch(e.coordinateSystem){case Ue.NORMALIZED_DISPLAY:f=s.displayToNormalizedDisplay(f[0],f[1],f[2]);break;case Ue.VIEWPORT:f=s.displayToNormalizedDisplay(f[0],f[1],f[2]),f=s.normalizedDisplayToViewport(f[0],f[1],f[2],a);break;case Ue.NORMALIZED_VIEWPORT:f=s.displayToNormalizedDisplay(f[0],f[1],f[2]),f=s.normalizedDisplayToViewport(f[0],f[1],f[2],a),f=s.viewportToNormalizedViewport(f[0],f[1],f[2],a);break;case Ue.PROJECTION:f=s.displayToNormalizedDisplay(f[0],f[1],f[2]),f=s.normalizedDisplayToViewport(f[0],f[1],f[2],a),f=s.viewportToNormalizedViewport(f[0],f[1],f[2],a),f=a.normalizedViewportToProjection(f[0],f[1],f[2]);break;case Ue.VIEW:f=s.displayToNormalizedDisplay(f[0],f[1],f[2]),f=s.normalizedDisplayToViewport(f[0],f[1],f[2],a),f=s.viewportToNormalizedViewport(f[0],f[1],f[2],a),f=a.normalizedViewportToProjection(f[0],f[1],f[2]),f=a.projectionToView(f[0],f[1],f[2],c);break}r[0]+=f[0],r[1]+=f[1],r[2]+=f[2]}switch(e.coordinateSystem){case Ue.DISPLAY:r=s.displayToNormalizedDisplay(r[0],r[1],r[2]),r=s.normalizedDisplayToViewport(r[0],r[1],r[2],a),r=s.viewportToNormalizedViewport(r[0],r[1],r[2],a),r=a.normalizedViewportToProjection(r[0],r[1],r[2]),r=a.projectionToView(r[0],r[1],r[2],c),r=a.viewToWorld(r[0],r[1],r[2]);break;case Ue.NORMALIZED_DISPLAY:r=s.normalizedDisplayToViewport(r[0],r[1],r[2],a),r=s.viewportToNormalizedViewport(r[0],r[1],r[2],a),r=a.normalizedViewportToProjection(r[0],r[1],r[2]),r=a.projectionToView(r[0],r[1],r[2],c),r=a.viewToWorld(r[0],r[1],r[2]);break;case Ue.VIEWPORT:r=s.viewportToNormalizedViewport(r[0],r[1],r[2],a),r=a.normalizedViewportToProjection(r[0],r[1],r[2]),r=a.projectionToView(r[0],r[1],r[2],c),r=a.viewToWorld(r[0],r[1],r[2]);break;case Ue.NORMALIZED_VIEWPORT:r=a.normalizedViewportToProjection(r[0],r[1],r[2]),r=a.projectionToView(r[0],r[1],r[2],c),r=a.viewToWorld(r[0],r[1],r[2]);break;case Ue.PROJECTION:r=a.projectionToView(r[0],r[1],r[2],c),r=a.viewToWorld(r[0],r[1],r[2]);break;case Ue.VIEW:r=a.viewToWorld(r[0],r[1],r[2]);break}if(e.referenceCoordinate&&e.coordinateSystem===Ue.WORLD){var l=t.getComputedWorldValue(a);r[0]+=l[0],r[1]+=l[1],r[2]+=l[2]}return e.computing=0,e.computedWorldValue=r.slice(0),r},t.getComputedViewportValue=function(n){var r=t.getComputedDoubleViewportValue(n);return[nn(r[0]),nn(r[1])]},t.getComputedDisplayValue=function(n){var r=t.getComputedDoubleDisplayValue(n);return[Q0(r[0]),Q0(r[1])]},t.getComputedLocalDisplayValue=function(n){var r=n;e.renderer&&(r=e.renderer);var a=t.getComputedDisplayValue(r);if(!r)return ko("Attempt to convert to local display coordinates without a renderer"),a;var i=null;if(r&&r.getRenderWindow().getViews())i=r.getRenderWindow().getViews()[0];else return a;return a=i.displayToLocalDisplay(a[0],a[1],a[2]),[nn(a[0]),nn(a[1])]},t.getComputedDoubleViewportValue=function(n){var r=n;e.renderer&&(r=e.renderer);var a=t.getComputedDoubleDisplayValue(r);if(!r)return a;var i=null;if(r&&r.getRenderWindow().getViews())i=r.getRenderWindow().getViews()[0];else return a;return a=i.displayToNormalizedDisplay(a[0],a[1],a[2]),a=i.normalizedDisplayToViewport(a[0],a[1],a[2],r),[a[0],a[1]]},t.getComputedDoubleDisplayValue=function(n){if(e.computing)return e.computedDoubleDisplayValue;e.computing=1;var r=e.value.slice(0),a=n;if(e.renderer&&(a=e.renderer),!a){if(e.coordinateSystem===Ue.DISPLAY){if(e.computedDoubleDisplayValue[0]=r[0],e.computedDoubleDisplayValue[1]=r[1],e.referenceCoordinate){var i=e.referenceCoordinate.getComputedDoubleDisplayValue();e.computedDoubleDisplayValue[0]+=i[0],e.computedDoubleDisplayValue[1]+=i[1]}}else e.computedDoubleDisplayValue[0]=Number.MAX_VALUE,e.computedDoubleDisplayValue[1]=Number.MAX_VALUE,ko("Request for coordinate transformation without required viewport");return e.computedDoubleDisplayValue}var s=null;if(a&&a.getRenderWindow().getViews())s=a.getRenderWindow().getViews()[0];else return r;var o=s.getViewportSize(a),c=o[0]/o[1];switch(e.coordinateSystem){case Ue.WORLD:{if(e.referenceCoordinate){var u=e.referenceCoordinate.getComputedWorldValue(a);r[0]+=u[0],r[1]+=u[1],r[2]+=u[2]}r=a.worldToView(r[0],r[1],r[2]),r=a.viewToProjection(r[0],r[1],r[2],c),r=a.projectionToNormalizedViewport(r[0],r[1],r[2]),r=s.normalizedViewportToViewport(r[0],r[1],r[2],a),r=s.viewportToNormalizedDisplay(r[0],r[1],r[2],a),r=s.normalizedDisplayToDisplay(r[0],r[1],r[2]);break}case Ue.VIEW:{r=a.viewToProjection(r[0],r[1],r[2],c),r=a.projectionToNormalizedViewport(r[0],r[1],r[2]),r=s.normalizedViewportToViewport(r[0],r[1],r[2],a),r=s.viewportToNormalizedDisplay(r[0],r[1],r[2],a),r=s.normalizedDisplayToDisplay(r[0],r[1],r[2]);break}case Ue.PROJECTION:{r=a.projectionToNormalizedViewport(r[0],r[1],r[2]),r=s.normalizedViewportToViewport(r[0],r[1],r[2],a),r=s.viewportToNormalizedDisplay(r[0],r[1],r[2],a),r=s.normalizedDisplayToDisplay(r[0],r[1],r[2]);break}case Ue.NORMALIZED_VIEWPORT:{if(r=s.normalizedViewportToViewport(r[0],r[1],r[2],a),e.referenceCoordinate){var f=e.referenceCoordinate.getComputedDoubleViewportValue(a);r[0]+=f[0],r[1]+=f[1]}r=s.viewportToNormalizedDisplay(r[0],r[1],r[2],a),r=s.normalizedDisplayToDisplay(r[0],r[1],r[2]);break}case Ue.VIEWPORT:{if(e.referenceCoordinate){var l=e.referenceCoordinate.getComputedDoubleViewportValue(a);r[0]+=l[0],r[1]+=l[1]}r=s.viewportToNormalizedDisplay(r[0],r[1],r[2],a),r=s.normalizedDisplayToDisplay(r[0],r[1],r[2]);break}case Ue.NORMALIZED_DISPLAY:r=s.normalizedDisplayToDisplay(r[0],r[1],r[2]);break;case Ue.USERDEFINED:r=e.value.slice(0);break}if(e.referenceCoordinate&&(e.coordinateSystem===Ue.DISPLAY||e.coordinateSystem===Ue.NORMALIZED_DISPLAY)){var h=e.referenceCoordinate.getComputedDoubleDisplayValue(a);r[0]+=h[0],r[1]+=h[1]}return e.computedDoubleDisplayValue[0]=r[0],e.computedDoubleDisplayValue[1]=r[1],e.computing=0,e.computedDoubleDisplayValue},t.getComputedValue=function(n){var r=n;switch(e.renderer&&(r=e.renderer),e.coordinateSystem){case Ue.WORLD:return t.getComputedWorldValue(r);case Ue.VIEW:case Ue.NORMALIZED_VIEWPORT:case Ue.VIEWPORT:{var a=t.getComputedViewportValue(r);e.computedWorldValue[0]=a[0],e.computedWorldValue[1]=a[1];break}case Ue.NORMALIZED_DISPLAY:case Ue.DISPLAY:{var i=e.getComputedDisplayValue(r);e.computedWorldValue[0]=i[0],e.computedWorldValue[1]=i[1];break}}return e.computedWorldValue}}var uk={coordinateSystem:Ue.WORLD,value:[0,0,0],renderer:null,referenceCoordinate:null,computing:0,computedWorldValue:[0,0,0],computedDoubleDisplayValue:[0,0]};function Wg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,uk,n),W.obj(t,e),W.set(t,e,["property"]),W.get(t,e,["value"]),W.setGet(t,e,["coordinateSystem","referenceCoordinate","renderer"]),W.getArray(t,e,["value"],3),sk(t,e)}var ck=W.newInstance(Wg,"vtkCoordinate"),Eu=ok({newInstance:ck,extend:Wg},zg),Du=K6.DisplayLocation;function fk(t,e){e.classHierarchy.push("vtkProperty2D"),t.setDisplayLocationToBackground=function(){return t.setDisplayLocation(Du.BACKGROUND)},t.setDisplayLocationToForeground=function(){return t.setDisplayLocation(Du.FOREGROUND)},t.setRepresentationToWireframe=function(){return t.setRepresentation(Wt.WIREFRAME)},t.setRepresentationToSurface=function(){return t.setRepresentation(Wt.SURFACE)},t.setRepresentationToPoints=function(){return t.setRepresentation(Wt.POINTS)},t.getRepresentationAsString=function(){return W.enumToString(Wt,e.representation)}}var lk={color:[1,1,1],opacity:1,pointSize:1,lineWidth:1,representation:Wt.SURFACE,displayLocation:Du.FOREGROUND};function Ig(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,lk,n),W.obj(t,e),W.setGet(t,e,["opacity","lineWidth","pointSize","displayLocation","representation"]),W.setGetArray(t,e,["color"],3),fk(t,e)}var hk=W.newInstance(Ig,"vtkProperty2D"),pk={newInstance:hk,extend:Ig};function vk(t,e){e.classHierarchy.push("vtkActor2D"),t.getActors2D=function(){return t},t.getIsOpaque=function(){e.property||t.getProperty();var n=e.property.getOpacity()>=1;return n=n&&(!e.texture||!e.texture.isTranslucent()),n},t.hasTranslucentPolygonalGeometry=function(){return e.mapper===null?!1:(e.property===null&&t.setProperty(t.makeProperty()),!t.getIsOpaque())},t.makeProperty=pk.newInstance,t.getProperty=function(){return e.property===null&&(e.property=t.makeProperty()),e.property},t.setDisplayPosition=function(n,r){e.positionCoordinate.setCoordinateSystem(Fc.DISPLAY),e.positionCoordinate.setValue(n,r,0)},t.setWidth=function(n){var r=e.position2Coordinate.getValue();e.position2Coordinate.setCoordinateSystemToNormalizedViewport(),e.position2Coordinate.setValue(n,r[1])},t.setHeight=function(n){var r=e.position2Coordinate.getValue();e.position2Coordinate.setCoordinateSystemToNormalizedViewport(),e.position2Coordinate.setValue(r[0],n)},t.getWidth=function(){return e.position2Coordinate.getValue()[0]},t.getHeight=function(){return e.position2Coordinate.getValue()[1]},t.getMTime=function(){var n=e.mtime;if(e.property!==null){var r=e.property.getMTime();n=r>n?r:n}return n=e.positionCoordinate.getMTime()>n?e.positionCoordinate.getMTime():n,n=e.positionCoordinate2.getMTime()>n?e.positionCoordinate2.getMTime():n,n},t.getRedrawMTime=function(){var n=e.mtime;if(e.mapper!==null){var r=e.mapper.getMTime();n=r>n?r:n,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),r=e.mapper.getInput().getMTime(),n=r>n?r:n)}return n},t.getBounds=function(){return typeof t.getMapper().getBounds=="function"?(e.useBounds=!0,t.getMapper().getBounds()):(e.useBounds=!1,[])},t.getActualPositionCoordinate=function(){return e.positionCoordinate},t.getActualPositionCoordinate2=function(){return e.positionCoordinate2}}var dk={mapper:null,property:null,layerNumber:0,positionCoordinate:null,positionCoordinate2:null};function $g(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,dk,n),Ip.extend(t,e,n),e.positionCoordinate=Eu.newInstance(),e.positionCoordinate.setCoordinateSystemToViewport(),e.positionCoordinate2=Eu.newInstance(),e.positionCoordinate2.setCoordinateSystemToNormalizedViewport(),e.positionCoordinate2.setValue(.5,.5),e.positionCoordinate2.setReferenceCoordinate(e.positionCoordinate),W.set(t,e,["property"]),W.setGet(t,e,["mapper"]),vk(t,e)}var gk=W.newInstance($g,"vtkActor2D"),yk={newInstance:gk,extend:$g};function mk(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ot(this,n)}}var Ou=function(t){Dt(n,Lt.exports.Component);var e=mk(n);function n(r){var a,i,s;return dt(this,n),(s=e.call(this,r)).validData=!1,s.currentVisibility=!0,s.actor=yk.newInstance({visibility:!1,representationId:r.id}),s.lookupTable=Va.newInstance(),s.transformCoordinate=Eu.newInstance({coordinateSystem:(a=(i=s.props.transformCoordinate)===null||i===void 0?void 0:i.coordinateSystem)!==null&&a!==void 0?a:Fc.DISPLAY}),s.mapper=Ev.newInstance({lookupTable:s.lookupTable,useLookupTableScalarRange:!1,scalarVisibility:!1,transformCoordinate:s.transformCoordinate}),s.actor.setMapper(s.mapper),s.subscriptions=[],s}return gt(n,[{key:"render",value:function(){var r=this;return me.createElement(Hr.Consumer,null,function(a){return r.view||(a.renderer.addActor2D(r.actor),r.view=a),me.createElement(Yt.Provider,{value:r},me.createElement(Ft.Provider,{value:r.mapper},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children)))})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){for(;this.subscriptions.length;)this.subscriptions.pop().unsubscribe();this.view&&this.view.renderer&&this.view.renderer.removeActor(this.actor),this.actor.delete(),this.actor=null,this.mapper.delete(),this.mapper=null,this.lookupTable.delete(),this.lookupTable=null,this.transformCoordinate.delete(),this.transformCoordinate=null}},{key:"update",value:function(r,a){var i,s=r.actor,o=r.mapper,c=r.property,u=r.colorMapPreset,f=r.colorDataRange,l=r.transformCoordinate,h=!1;if(!s||a&&s===a.actor||(h=this.actor.set(s)||h),!o||a&&o===a.mapper||(h=this.mapper.set(o)||h),!c||a&&c===a.property||(h=this.actor.getProperty().set(c)||h),u&&this.lookupTable&&(!a||u!==a.colorMapPreset)){var p;h=!0;var v=Ea.getPresetByName(u);this.lookupTable.applyColorMap(v),(p=this.lookupTable).setMappingRange.apply(p,we(f)),this.lookupTable.updateRange()}!f||!this.lookupTable||a&&pg(f,a.colorDataRange)||(h=!0,(i=this.lookupTable).setMappingRange.apply(i,we(f)),this.lookupTable.updateRange()),!l||!this.transformCoordinate||a&&l===a.transformCoordinate||(h=!0,this.transformCoordinate.set(l)),s&&s.visibility!==void 0&&(this.currentVisibility=s.visibility,h=this.actor.setVisibility(this.currentVisibility&&this.validData)||h),h&&this.dataChanged()}},{key:"dataAvailable",value:function(){this.validData||(this.validData=!0,this.actor.setVisibility(this.currentVisibility),this.dataChanged())}},{key:"dataChanged",value:function(){this.view&&this.view.renderView()}}]),n}();Ou.defaultProps={colorMapPreset:"erdc_rainbow_bright",colorDataRange:[0,1]},Ou.propTypes={id:ee.string,actor:ee.object,mapper:ee.object,property:ee.object,colorMapPreset:ee.string,colorDataRange:ee.arrayOf(ee.number),transformCoordinate:ee.object,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};var _k={DIRECTION:0,ROTATION:1,MATRIX:2},xk={SCALE_BY_CONSTANT:0,SCALE_BY_MAGNITUDE:1,SCALE_BY_COMPONENTS:2},Lc={OrientationModes:_k,ScaleModes:xk};function Bh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var en=Lc.OrientationModes,Ar=Lc.ScaleModes,Ck=W.vtkErrorMacro;function Sk(t,e){e.classHierarchy.push("vtkGlyph3DMapper"),t.getOrientationModeAsString=function(){return W.enumToString(en,e.orientationMode)},t.setOrientationModeToDirection=function(){return t.setOrientationMode(en.DIRECTION)},t.setOrientationModeToRotation=function(){return t.setOrientationMode(en.ROTATION)},t.setOrientationModeToMatrix=function(){return t.setOrientationMode(en.MATRIX)},t.getOrientationArrayData=function(){var n=t.getInputData(0);return!n||!n.getPointData()?null:e.orientationArray?n.getPointData().getArray(e.orientationArray):n.getPointData().getVectors()},t.getScaleModeAsString=function(){return W.enumToString(Ar,e.scaleMode)},t.setScaleModeToScaleByMagnitude=function(){return t.setScaleMode(Ar.SCALE_BY_MAGNITUDE)},t.setScaleModeToScaleByComponents=function(){return t.setScaleMode(Ar.SCALE_BY_COMPONENTS)},t.setScaleModeToScaleByConstant=function(){return t.setScaleMode(Ar.SCALE_BY_CONSTANT)},t.getScaleArrayData=function(){var n=t.getInputData(0);return!n||!n.getPointData()?null:e.scaleArray?n.getPointData().getArray(e.scaleArray):n.getPointData().getScalars()},t.getBounds=function(){var n=t.getInputData(0),r=t.getInputData(1);return!n||!r?xa():(t.buildArrays(),e.bounds)},t.buildArrays=function(){var n=t.getInputData(0),r=t.getInputData(1);if(e.buildTime.getMTime()<r.getMTime()||e.buildTime.getMTime()<n.getMTime()||e.buildTime.getMTime()<t.getMTime()){var a=n.getPoints().getData(),i=t.getScaleArrayData(),s=null,o=0;i&&(s=i.getData(),o=i.getNumberOfComponents()),e.scaling&&i&&e.scaleMode===Ar.SCALE_BY_COMPONENTS&&i.getNumberOfComponents()!==3&&(Ck("Cannot scale by components since scale array does not have 3 components."),i=null);var c=r.getBounds(),u=[];He.getCorners(c,u),e.bounds[0]=He.INIT_BOUNDS[0],e.bounds[1]=He.INIT_BOUNDS[1],e.bounds[2]=He.INIT_BOUNDS[2],e.bounds[3]=He.INIT_BOUNDS[3],e.bounds[4]=He.INIT_BOUNDS[4],e.bounds[5]=He.INIT_BOUNDS[5];var f=new Float64Array(3),l=t.getOrientationArrayData(),h=Ae(new Float64Array(16)),p=[],v=[],y=a.length/3;e.matrixArray=new Float32Array(16*y);var _=e.matrixArray.buffer;e.normalArray=new Float32Array(9*y);for(var m=e.normalArray.buffer,d=[],g=0;g<y;++g){var x=new Float32Array(_,g*64,16);if(p[0]=a[g*3],p[1]=a[g*3+1],p[2]=a[g*3+2],nt(x,h,p),l){var w=[];switch(l.getTuple(g,w),e.orientationMode){case en.MATRIX:{var C=[].concat(we(w.slice(0,3)),[0],we(w.slice(3,6)),[0],we(w.slice(6,9)),[0,0,0,0,1]);ct(x,x,C);break}case en.ROTATION:ws(x,x,w[2]),xs(x,x,w[0]),vi(x,x,w[1]);break;case en.DIRECTION:if(w[1]===0&&w[2]===0)w[0]<0&&vi(x,x,3.1415926);else{var S=Pn(w),T=[];T[0]=(w[0]+S)/2,T[1]=w[1]/2,T[2]=w[2]/2,St(x,x,3.1415926,T)}break}}if(e.scaling){if(v[0]=e.scaleFactor,v[1]=e.scaleFactor,v[2]=e.scaleFactor,i)switch(e.scaleMode){case Ar.SCALE_BY_MAGNITUDE:for(var b=0;b<o;++b)d[b]=s[g*o+b];v[0]*=Pn(d,o),v[1]=v[0],v[2]=v[0];break;case Ar.SCALE_BY_COMPONENTS:for(var O=0;O<o;++O)d[O]=s[g*o+O];v[0]*=d[0],v[1]*=d[1],v[2]*=d[2];break;case Ar.SCALE_BY_CONSTANT:}v[0]===0&&(v[0]=1e-10),v[1]===0&&(v[1]=1e-10),v[2]===0&&(v[2]=1e-10),Bn(x,x,v)}for(var D=0;D<8;++D)be(f,u[D],x),f[0]<e.bounds[0]&&(e.bounds[0]=f[0]),f[1]<e.bounds[2]&&(e.bounds[2]=f[1]),f[2]<e.bounds[4]&&(e.bounds[4]=f[2]),f[0]>e.bounds[1]&&(e.bounds[1]=f[0]),f[1]>e.bounds[3]&&(e.bounds[3]=f[1]),f[2]>e.bounds[5]&&(e.bounds[5]=f[2]);var M=new Float32Array(m,g*36,9);Bi(M,x),Vi(M,M),Bu(M,M)}var R=t.getAbstractScalars(n,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName).scalars;e.useLookupTableScalarRange||t.getLookupTable().setRange(e.scalarRange[0],e.scalarRange[1]),e.colorArray=null;var E=t.getLookupTable();E&&R&&(E.build(),e.colorArray=E.mapScalars(R,e.colorMode,0)),e.buildTime.modified()}},t.getPrimitiveCount=function(){var n=t.getInputData(1),r=t.getInputData().getPoints().getNumberOfValues()/3,a={points:r*n.getPoints().getNumberOfValues()/3,verts:r*(n.getVerts().getNumberOfValues()-n.getVerts().getNumberOfCells()),lines:r*(n.getLines().getNumberOfValues()-2*n.getLines().getNumberOfCells()),triangles:r*(n.getPolys().getNumberOfValues()-3*n.getLines().getNumberOfCells())};return a}}var Tk={orient:!0,orientationMode:en.DIRECTION,orientationArray:null,scaling:!0,scaleFactor:1,scaleMode:Ar.SCALE_BY_MAGNITUDE,scaleArray:null,matrixArray:null,normalArray:null,colorArray:null};function Hg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Tk,n),fn.extend(t,e,n),W.algo(t,e,2,0),e.buildTime={},W.obj(e.buildTime,{mtime:0}),e.boundsTime={},W.obj(e.boundsTime,{mtime:0}),W.setGet(t,e,["orient","orientationMode","orientationArray","scaleArray","scaleFactor","scaleMode","scaling"]),W.get(t,e,["colorArray","matrixArray","normalArray","buildTime"]),Sk(t,e)}var bk=W.newInstance(Hg,"vtkGlyph3DMapper"),Ek=wk({newInstance:bk,extend:Hg},Lc);function Dk(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ot(this,n)}}var Nu=function(t){Dt(n,Lt.exports.Component);var e=Dk(n);function n(r){var a;return dt(this,n),(a=e.call(this,r)).validData=!1,a.currentVisibility=!0,a.actor=$r.newInstance({visibility:!1}),a.lookupTable=Va.newInstance(),a.mapper=Ek.newInstance({lookupTable:a.lookupTable,useLookupTableScalarRange:!0}),a.actor.setMapper(a.mapper),a}return gt(n,[{key:"render",value:function(){var r=this;return me.createElement(Hr.Consumer,null,function(a){return r.view||(a.renderer.addActor(r.actor),r.view=a),me.createElement(Yt.Provider,{value:r},me.createElement(Ft.Provider,{value:r.mapper},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children)))})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.view&&this.view.renderer&&this.view.renderer.removeActor(this.actor),this.actor.delete(),this.actor=null,this.mapper.delete(),this.mapper=null,this.lookupTable.delete(),this.lookupTable=null}},{key:"update",value:function(r,a){var i,s=r.actor,o=r.mapper,c=r.property,u=r.colorMapPreset,f=r.colorDataRange,l=!1;if(!s||a&&s===a.actor||(l=this.actor.set(s)||l),!o||a&&o===a.mapper||(l=this.mapper.set(o)||l),!c||a&&c===a.property||(l=this.actor.getProperty().set(c)||l),u&&(!a||u!==a.colorMapPreset)){var h;l=!0;var p=Ea.getPresetByName(u);this.lookupTable.applyColorMap(p),(h=this.lookupTable).setMappingRange.apply(h,we(f)),this.lookupTable.updateRange()}!f||a&&Pr(f,a.colorDataRange)||(l=!0,(i=this.lookupTable).setMappingRange.apply(i,we(f)),this.lookupTable.updateRange()),s&&s.visibility!==void 0&&(this.currentVisibility=s.visibility,l=this.actor.setVisibility(this.currentVisibility&&this.validData)||l),l&&this.dataChanged()}},{key:"dataAvailable",value:function(){this.validData||(this.validData=!0,this.actor.setVisibility(this.currentVisibility),this.dataChanged())}},{key:"dataChanged",value:function(){this.view&&this.view.renderView()}}]),n}();Nu.defaultProps={colorMapPreset:"erdc_rainbow_bright",colorDataRange:[0,1]},Nu.propTypes={id:ee.string,actor:ee.object,mapper:ee.object,property:ee.object,colorMapPreset:ee.string,colorDataRange:ee.arrayOf(ee.number),children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};function Ok(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ot(this,n)}}var _s=function(t){Dt(n,Lt.exports.Component);var e=Ok(n);function n(r){var a;return dt(this,n),(a=e.call(this,r)).imageData=lc.newInstance(),a}return gt(n,[{key:"render",value:function(){var r=this;return me.createElement(Yt.Consumer,null,function(a){return me.createElement(Ft.Consumer,null,function(i){return r.representation=a,r.downstream||(r.downstream=i),me.createElement(qn.Provider,{value:r},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children))})})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.imageData.delete(),this.imageData=null}},{key:"update",value:function(r,a){var i=r.dimensions,s=r.spacing,o=r.origin,c=r.direction;this.imageData.set({dimensions:i,spacing:s,origin:o,direction:c})}},{key:"getDataSet",value:function(){return this.imageData}},{key:"modified",value:function(){this.imageData.modified(),this.representation&&this.imageData.getPointData().getScalars()&&(this.downstream.setInputData(this.imageData,this.props.port),this.representation.dataAvailable(),this.representation.dataChanged())}}]),n}();_s.defaultProps={port:0,dimensions:[1,1,1],spacing:[1,1,1],origin:[0,0,0],direction:[1,0,0,0,1,0,0,0,1]},_s.propTypes={id:ee.string,port:ee.number,dimensions:ee.arrayOf(ee.number),spacing:ee.arrayOf(ee.number),origin:ee.arrayOf(ee.number),direction:ee.arrayOf(ee.number),children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};function Nk(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ot(this,n)}}var Ai=function(t){Dt(n,Lt.exports.Component);var e=Nk(n);function n(r){var a;return dt(this,n),(a=e.call(this,r)).array=Ee.newInstance({name:"scalars",empty:!0}),a.arrayAttached=!1,a}return gt(n,[{key:"render",value:function(){var r=this;return me.createElement(qn.Consumer,null,function(a){return r.dataset=a,me.createElement(Hi.Consumer,null,function(i){return r.fields||(r.fields=i),me.createElement("div",{key:r.props.id,name:r.props.name})})})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.fields.removeArray(this.array),this.array.delete(),this.array=null}},{key:"update",value:function(r,a){var i=r.name,s=r.type,o=r.values,c=r.numberOfComponents,u=Zt[s],f=!1;this.array.setName(i),!s||a&&s===a.type||(f=!0),!c||a&&c===a.numberOfComponents||(f=!0),!o||!f&&a&&o===a.values||(this.array.setData(ua(o,u),c),f=!0),this.arrayAttached||(this.fields[this.props.registration](this.array),this.arrayAttached=!0,f=!0),f&&this.dataset&&this.dataset.modified()}}]),n}();Ai.defaultProps={name:"scalars",type:"Float32Array",values:[],numberOfComponents:1,registration:"addArray"},Ai.propTypes={id:ee.string,type:ee.string,name:ee.string,values:ee.oneOfType([ee.arrayOf(ee.number),ee.object,ee.instanceOf(Float64Array),ee.instanceOf(Float32Array),ee.instanceOf(Int32Array),ee.instanceOf(Int16Array),ee.instanceOf(Int8Array),ee.instanceOf(Uint32Array),ee.instanceOf(Uint16Array),ee.instanceOf(Uint8Array)]),numberOfComponents:ee.number,registration:ee.string};function Mu(t){return me.createElement(qn.Consumer,null,function(e){return me.createElement(Hi.Provider,{value:e.getDataSet().getFieldData()},t.children)})}Mu.defaultProps={},Mu.propTypes={children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};function Vh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function j0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mk(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ot(this,n)}}var ku=function(t){Dt(n,Lt.exports.Component);var e=Mk(n);function n(r){var a;return dt(this,n),(a=e.call(this,r)).algo=null,a}return gt(n,[{key:"render",value:function(){var r=this;return me.createElement(Yt.Consumer,null,function(a){return me.createElement(Ft.Consumer,null,function(i){if(r.representation=a,!r.algo){var s=r.props,o=s.vtkClass,c=s.state;r.algo=Tt(j0({vtkClass:o},c))}return r.downstream||(i.setInputConnection(r.algo.getOutputPort(),r.props.port),r.downstream=i),me.createElement(Ft.Provider,{value:r.algo},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children))})})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.algo.delete(),this.algo=null}},{key:"update",value:function(r,a){var i=r.vtkClass,s=r.state;if(i&&(!a||i!==a.vtkClass)){if(this.algo){if(this.algo.getClassName()!==i){var o=this.algo;this.algo=Tt(j0({vtkClass:i},s));for(var c=o.getNumberOfInputPorts(),u=0;u<c;u++){var f=o.getInputConnection(u);f?this.algo.setInputConnection(f,u):this.algo.setInputData(o.getInputData(u),u)}}}else this.algo=Tt(j0({vtkClass:i},s));this.downstream.setInputConnection(this.algo.getOutputPort(),this.props.port)}!s||a&&Pr(s,a.state)||(this.algo.set(s),this.representation&&this.representation.dataChanged()),this.algo.getNumberOfInputPorts()===0&&this.representation&&this.representation.dataAvailable()}}]),n}();ku.defaultProps={port:0,vtkClass:"vtkConeSource",state:{}},ku.propTypes={id:ee.string,port:ee.number,vtkClass:ee.string,state:ee.object,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};function Uh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ro=W.vtkWarningMacro;function Rk(t,e){e.classHierarchy.push("vtkCalculator"),t.setFormula=function(n){return n===e.formula?!1:(e.formula=n,t.modified(),!0)},t.getFormula=function(){return e.formula},t.augmentInputArrays=function(n,r){var a=r.slice(0);return(n===ut.POINT||n===ut.VERTEX)&&a.push({location:ut.COORDINATE}),a},t.createSimpleFormulaObject=function(n,r,a,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return{getArrays:function(){return{input:t.augmentInputArrays(n,r.map(function(c){return{location:n,name:c}})),output:[{location:n,name:a,attribute:"outputAttributeType"in s?s.outputAttributeType:qp.SCALARS,numberOfComponents:"numberOfOutputComponents"in s?s.numberOfOutputComponents:1}]}},evaluate:function(c,u){var f=new Array(c.length),l=c.map(function(g,x){var w=g.getNumberOfComponents(),C=g.getData();return w===1?function(S){return C[S]}:function(S){return g.getTuple(S,f[x])}}),h=u[0],p=h.getData(),v=h.getNumberOfComponents(),y=new Array(v);if(v===1)p.forEach(function(g,x){p[x]=i.apply(void 0,we(l.map(function(w){return w(x)})).concat([x,y]))});else for(var _=h.getNumberOfTuples(),m=function(x){y=i.apply(void 0,we(l.map(function(w){return w(x)})).concat([x,y])),h.setTuple(x,y)},d=0;d<_;++d)m(d)}}},t.setFormulaSimple=function(n,r,a,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return t.setFormula(t.createSimpleFormulaObject(n,r,a,i,s))},t.prepareArrays=function(n,r,a){var i=[],s=[];return n.input.forEach(function(o){if(o.location===ut.COORDINATE)i.push(r.getPoints());else{var c=[[ut.UNIFORM,function(f){return f.getFieldData()}],[ut.POINT,function(f){return f.getPointData()}],[ut.CELL,function(f){return f.getCellData()}],[ut.VERTEX,function(f){return f.getVertexData()}],[ut.EDGE,function(f){return f.getEdgeData()}],[ut.ROW,function(f){return f.getRowData()}]].reduce(function(f,l){return f[l[0]]=l[1],f},{}),u="location"in o&&o.location in c?c[o.location](r):null;u?o.name?i.push(u.getArrayByName(o.name)):"index"in o?i.push(u.getArrayByIndex(o.index)):"attribute"in o&&o.location!==ut.UNIFORM?i.push(u.getActiveAttribute(o.attribute)):(Ro('No matching array for specifier "'.concat(JSON.stringify(o),'".')),i.push(null)):(Ro('Specifier "'.concat(JSON.stringify(o),'" did not provide a usable location.')),i.push(null))}}),n.output.forEach(function(o){var c=kk({},o),u="numberOfComponents"in c?c.numberOfComponents:1;if(o.location===ut.UNIFORM&&"tuples"in c&&(c.size=u*c.tuples),o.location===ut.COORDINATE){var f=r.getPoints(),l=ln.newInstance({dataType:f.getDataType()});l.setNumberOfPoints(f.getNumberOfPoints(),f.getNumberOfComponents()),a.setPoints(l),s.push(l)}else{var h=[[ut.UNIFORM,function(m){return m.getFieldData()},function(m,d){return"tuples"in d?d.tuples:0}],[ut.POINT,function(m){return m.getPointData()},function(m){return m.getPoints().getNumberOfPoints()}],[ut.CELL,function(m){return m.getCellData()},function(m){return m.getNumberOfCells()}],[ut.VERTEX,function(m){return m.getVertexData()},function(m){return m.getNumberOfVertices()}],[ut.EDGE,function(m){return m.getEdgeData()},function(m){return m.getNumberOfEdges()}],[ut.ROW,function(m){return m.getRowData()},function(m){return m.getNumberOfRows()}]].reduce(function(m,d){return m[d[0]]={getData:d[1],getSize:d[2]},m},{}),p=null,v=0;if("location"in o&&o.location in h&&(p=h[o.location].getData(a),v=h[o.location].getSize(r,c)),v<=0)Ro("Output array size could not be determined for ".concat(JSON.stringify(o),".")),s.push(null);else if(p){c.size=u*v;var y=Ee.newInstance(c),_=p.addArray(y);"attribute"in c&&o.location!==ut.UNIFORM&&p.setActiveAttributeByIndex(_,c.attribute),s.push(y)}else Ro('Specifier "'.concat(JSON.stringify(o),'" did not provide a usable location.')),s.push(null)}}),{arraysIn:i,arraysOut:s}},t.requestData=function(n,r){if(!e.formula)return 0;var a=e.formula.getArrays(n),i=Tt({vtkClass:n[0].getClassName()});i.shallowCopy(n[0]),r[0]=i;var s=t.prepareArrays(a,n[0],r[0]);return e.formula.evaluate(s.arraysIn,s.arraysOut),1}}var Fk={formula:{getArrays:function(){return{input:[],output:[]}},evaluate:function(){return null}}};function Kg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Fk,n),W.obj(t,e),W.algo(t,e,1,1),Rk(t,e)}var Lk=W.newInstance(Kg,"vtkCalculator"),Ak={newInstance:Lk,extend:Kg};function Bk(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ot(this,n)}}var Vk=ji.FieldDataTypes,Ru=function(t){Dt(n,Lt.exports.Component);var e=Bk(n);function n(r){var a;return dt(this,n),(a=e.call(this,r)).calculator=Ak.newInstance(),a}return gt(n,[{key:"render",value:function(){var r=this,a=this.props,i=a.name,s=a.arrays,o=a.location,c=a.formula;return this.calculator.setFormulaSimple(Vk[o],s,i,c),me.createElement(Ft.Consumer,null,function(u){return r.downstream||(u.setInputConnection(r.calculator.getOutputPort(),r.props.port),r.downstream=u),me.createElement(Ft.Provider,{value:r.calculator},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children))})}},{key:"componentWillUnmount",value:function(){this.calculator.delete(),this.calculator=null}}]),n}();Ru.defaultProps={port:0,name:"scalars",location:"POINT",arrays:[],formula:function(t){return t[0]}},Ru.propTypes={id:ee.string,port:ee.number,name:ee.string,location:ee.string,arrays:ee.arrayOf(ee.string),formula:ee.func,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};function Fu(t){return me.createElement(qn.Consumer,null,function(e){return me.createElement(Hi.Provider,{value:e.getDataSet().getCellData()},t.children)})}Fu.defaultProps={},Fu.propTypes={children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};var Vt={VolumeRepresentation:hs,SliceRepresentation:wu,VolumeController:vs,PointData:Fi,PolyData:ds,Reader:Su,ShareDataSet:Tu,View:ak,GeometryRepresentation:ms,Geometry2DRepresentation:Ou,GlyphRepresentation:Nu,ImageData:_s,DataArray:Ai,FieldData:Mu,Algorithm:ku,Calculator:Ru,CellData:Fu,MultiViewRoot:Rc};function Lu(t){var e=0,n=null,r=null;return t.rgb&&(n=t.rgb,e=3,r="Uint8Array"),t.rgba&&(n=t.rgb,e=4,r="Uint8Array"),t.scalars&&(n=t.scalars,e=1,r="Float32Array"),console.log("nbComponents",e),me.createElement(ms,{id:t.id,colorMapPreset:t.colorMapPreset,colorDataRange:t.colorDataRange,property:t.property,showCubeAxes:t.showCubeAxes,cubeAxesStyle:t.cubeAxesStyle,showScalarBar:t.showScalarBar,scalarBarTitle:t.scalarBarTitle,scalarBarStyle:t.scalarBarStyle},me.createElement(ds,{points:t.xyz,connectivity:"points"},e&&me.createElement(Fi,null,me.createElement(Ai,{registration:"setScalars",numberOfComponents:e,values:n,type:r}))))}Lu.defaultProps={xyz:[0,0,0],colorMapPreset:"erdc_rainbow_bright",colorDataRange:[0,1],showCubeAxes:!1,showScalarBar:!1,scalarBarTitle:""},Lu.propTypes={id:ee.string,xyz:ee.arrayOf(ee.number),rgb:ee.arrayOf(ee.number),rgba:ee.arrayOf(ee.number),scalars:ee.arrayOf(ee.number),colorMapPreset:ee.string,colorDataRange:ee.arrayOf(ee.number),property:ee.object,showCubeAxes:ee.bool,cubeAxesStyle:ee.object,showScalarBar:ee.bool,scalarBarTitle:ee.string,scalarBarStyle:ee.object};function Au(t){var e=0,n=null,r=null;return t.rgb&&(n=t.rgb,e=3,r="Uint8Array"),t.rgba&&(n=t.rgb,e=4,r="Uint8Array"),t.scalars&&(n=t.scalars,e=1,r=t.scalarsType),me.createElement(hs,{id:t.id,colorMapPreset:t.colorMapPreset,colorDataRange:t.colorDataRange,property:t.property,mapper:t.mapper,volume:t.volume},t.volumeController&&me.createElement(vs,{rescaleColorMap:t.rescaleColorMap,size:t.controllerSize}),me.createElement(_s,{dimensions:t.dimensions,origin:t.origin,spacing:t.spacing},me.createElement(Fi,null,me.createElement(Ai,{registration:"setScalars",numberOfComponents:e,values:n,type:r}))))}Au.defaultProps={scalarsType:"Float32Array",colorMapPreset:"erdc_rainbow_bright",colorDataRange:"auto",volumeController:!0,rescaleColorMap:!0,controllerSize:[400,150]},Au.propTypes={id:ee.string,dimensions:ee.arrayOf(ee.number),spacing:ee.arrayOf(ee.number),origin:ee.arrayOf(ee.number),rgb:ee.arrayOf(ee.number),rgba:ee.arrayOf(ee.number),scalars:ee.arrayOf(ee.number),scalarsType:ee.string,mapper:ee.object,volume:ee.object,property:ee.object,colorMapPreset:ee.string,volumeController:ee.bool,controllerSize:ee.arrayOf(ee.number),rescaleColorMap:ee.bool,colorDataRange:ee.oneOfType([ee.arrayOf(ee.number),ee.string])};var Xg={PointCloudRepresentation:Lu,VolumeDataRepresentation:Au},Gk=Vt.VolumeRepresentation,Pk=Vt.SliceRepresentation,jk=Vt.VolumeController,zk=Vt.PointData,Wk=Vt.PolyData,Ik=Vt.Reader,$k=Vt.ShareDataSet,Hk=Vt.View,Kk=Vt.GeometryRepresentation,Xk=Vt.Geometry2DRepresentation,qk=Vt.GlyphRepresentation,Yk=Vt.ImageData,Zk=Vt.DataArray,Jk=Vt.Algorithm,Qk=Vt.Calculator,eR=Vt.MultiViewRoot,tR=Xg.PointCloudRepresentation,rR=Xg.VolumeDataRepresentation,nR={ViewContext:Hr,RepresentationContext:Yt,DataSetContext:qn,FieldsContext:Hi,DownstreamContext:Ft};export{Zk as C,Dv as D,Qk as F,tR as G,rR as I,nR as P,Wt as R,qk as S,Fc as a,Jk as b,$k as c,Ea as d,Gk as e,Yk as f,Wk as j,zk as k,jk as l,Ik as m,n8 as n,Pk as p,Kk as u,Xk as v,Hk as w,eR as y};
