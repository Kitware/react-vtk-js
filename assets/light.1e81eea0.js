import{c as It,a as Yi,b as me,r as Vt}from"./vendor.0d147815.js";var ze=1e-6,gt=typeof Float32Array!="undefined"?Float32Array:Array,jc=Math.random,f2=Math.PI/180;function l2(t){return t*f2}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function $h(){var t=new gt(9);return gt!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Pi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function h2(t){var e=new gt(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function p2(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function v2(t,e,n,r,a,i,s,o,c){var u=new gt(9);return u[0]=t,u[1]=e,u[2]=n,u[3]=r,u[4]=a,u[5]=i,u[6]=s,u[7]=o,u[8]=c,u}function d2(t,e,n,r,a,i,s,o,c,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=i,t[5]=s,t[6]=o,t[7]=c,t[8]=u,t}function kr(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function ju(t,e){if(t===e){var n=e[1],r=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function ji(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],s=e[4],o=e[5],c=e[6],u=e[7],l=e[8],f=l*s-o*u,h=-l*i+o*c,p=u*i-s*c,d=n*f+r*h+a*p;return d?(d=1/d,t[0]=f*d,t[1]=(-l*r+a*u)*d,t[2]=(o*r-a*s)*d,t[3]=h*d,t[4]=(l*n-a*c)*d,t[5]=(-o*n+a*i)*d,t[6]=p*d,t[7]=(-u*n+r*c)*d,t[8]=(s*n-r*i)*d,t):null}function g2(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],s=e[4],o=e[5],c=e[6],u=e[7],l=e[8];return t[0]=s*l-o*u,t[1]=a*u-r*l,t[2]=r*o-a*s,t[3]=o*c-i*l,t[4]=n*l-a*c,t[5]=a*i-n*o,t[6]=i*u-s*c,t[7]=r*c-n*u,t[8]=n*s-r*i,t}function y2(t){var e=t[0],n=t[1],r=t[2],a=t[3],i=t[4],s=t[5],o=t[6],c=t[7],u=t[8];return e*(u*i-s*c)+n*(-u*a+s*o)+r*(c*a-i*o)}function mi(t,e,n){var r=e[0],a=e[1],i=e[2],s=e[3],o=e[4],c=e[5],u=e[6],l=e[7],f=e[8],h=n[0],p=n[1],d=n[2],y=n[3],m=n[4],_=n[5],v=n[6],g=n[7],x=n[8];return t[0]=h*r+p*s+d*u,t[1]=h*a+p*o+d*l,t[2]=h*i+p*c+d*f,t[3]=y*r+m*s+_*u,t[4]=y*a+m*o+_*l,t[5]=y*i+m*c+_*f,t[6]=v*r+g*s+x*u,t[7]=v*a+g*o+x*l,t[8]=v*i+g*c+x*f,t}function m2(t,e,n){var r=e[0],a=e[1],i=e[2],s=e[3],o=e[4],c=e[5],u=e[6],l=e[7],f=e[8],h=n[0],p=n[1];return t[0]=r,t[1]=a,t[2]=i,t[3]=s,t[4]=o,t[5]=c,t[6]=h*r+p*s+u,t[7]=h*a+p*o+l,t[8]=h*i+p*c+f,t}function _2(t,e,n){var r=e[0],a=e[1],i=e[2],s=e[3],o=e[4],c=e[5],u=e[6],l=e[7],f=e[8],h=Math.sin(n),p=Math.cos(n);return t[0]=p*r+h*s,t[1]=p*a+h*o,t[2]=p*i+h*c,t[3]=p*s-h*r,t[4]=p*o-h*a,t[5]=p*c-h*i,t[6]=u,t[7]=l,t[8]=f,t}function x2(t,e,n){var r=n[0],a=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function w2(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function C2(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function S2(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function T2(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function b2(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],s=n+n,o=r+r,c=a+a,u=n*s,l=r*s,f=r*o,h=a*s,p=a*o,d=a*c,y=i*s,m=i*o,_=i*c;return t[0]=1-f-d,t[3]=l-_,t[6]=h+m,t[1]=l+_,t[4]=1-u-d,t[7]=p-y,t[2]=h-m,t[5]=p+y,t[8]=1-u-f,t}function E2(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],s=e[4],o=e[5],c=e[6],u=e[7],l=e[8],f=e[9],h=e[10],p=e[11],d=e[12],y=e[13],m=e[14],_=e[15],v=n*o-r*s,g=n*c-a*s,x=n*u-i*s,w=r*c-a*o,C=r*u-i*o,S=a*u-i*c,T=l*y-f*d,b=l*m-h*d,O=l*_-p*d,D=f*m-h*y,N=f*_-p*y,R=h*_-p*m,E=v*R-g*N+x*D+w*O-C*b+S*T;return E?(E=1/E,t[0]=(o*R-c*N+u*D)*E,t[1]=(c*O-s*R-u*b)*E,t[2]=(s*N-o*O+u*T)*E,t[3]=(a*N-r*R-i*D)*E,t[4]=(n*R-a*O+i*b)*E,t[5]=(r*O-n*N-i*T)*E,t[6]=(y*S-m*C+_*w)*E,t[7]=(m*x-d*S-_*g)*E,t[8]=(d*C-y*x+_*v)*E,t):null}function D2(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function O2(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function N2(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function k2(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function Kh(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function M2(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function R2(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function L2(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function F2(t,e){var n=t[0],r=t[1],a=t[2],i=t[3],s=t[4],o=t[5],c=t[6],u=t[7],l=t[8],f=e[0],h=e[1],p=e[2],d=e[3],y=e[4],m=e[5],_=e[6],v=e[7],g=e[8];return Math.abs(n-f)<=ze*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-h)<=ze*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(a-p)<=ze*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(i-d)<=ze*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(s-y)<=ze*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(o-m)<=ze*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(c-_)<=ze*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(u-v)<=ze*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(l-g)<=ze*Math.max(1,Math.abs(l),Math.abs(g))}var A2=mi,B2=Kh,V2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:$h,fromMat4:Pi,clone:h2,copy:p2,fromValues:v2,set:d2,identity:kr,transpose:ju,invert:ji,adjoint:g2,determinant:y2,multiply:mi,translate:m2,rotate:_2,scale:x2,fromTranslation:w2,fromRotation:C2,fromScaling:S2,fromMat2d:T2,fromQuat:b2,normalFromMat4:E2,projection:D2,str:O2,frob:N2,add:k2,subtract:Kh,multiplyScalar:M2,multiplyScalarAndAdd:R2,exactEquals:L2,equals:F2,mul:A2,sub:B2});function zu(){var t=new gt(16);return gt!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function U2(t){var e=new gt(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ft(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function G2(t,e,n,r,a,i,s,o,c,u,l,f,h,p,d,y){var m=new gt(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=r,m[4]=a,m[5]=i,m[6]=s,m[7]=o,m[8]=c,m[9]=u,m[10]=l,m[11]=f,m[12]=h,m[13]=p,m[14]=d,m[15]=y,m}function P2(t,e,n,r,a,i,s,o,c,u,l,f,h,p,d,y,m){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=i,t[5]=s,t[6]=o,t[7]=c,t[8]=u,t[9]=l,t[10]=f,t[11]=h,t[12]=p,t[13]=d,t[14]=y,t[15]=m,t}function Me(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ze(t,e){if(t===e){var n=e[1],r=e[2],a=e[3],i=e[6],s=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=a,t[13]=s,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function Zt(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],s=e[4],o=e[5],c=e[6],u=e[7],l=e[8],f=e[9],h=e[10],p=e[11],d=e[12],y=e[13],m=e[14],_=e[15],v=n*o-r*s,g=n*c-a*s,x=n*u-i*s,w=r*c-a*o,C=r*u-i*o,S=a*u-i*c,T=l*y-f*d,b=l*m-h*d,O=l*_-p*d,D=f*m-h*y,N=f*_-p*y,R=h*_-p*m,E=v*R-g*N+x*D+w*O-C*b+S*T;return E?(E=1/E,t[0]=(o*R-c*N+u*D)*E,t[1]=(a*N-r*R-i*D)*E,t[2]=(y*S-m*C+_*w)*E,t[3]=(h*C-f*S-p*w)*E,t[4]=(c*O-s*R-u*b)*E,t[5]=(n*R-a*O+i*b)*E,t[6]=(m*x-d*S-_*g)*E,t[7]=(l*S-h*x+p*g)*E,t[8]=(s*N-o*O+u*T)*E,t[9]=(r*O-n*N-i*T)*E,t[10]=(d*C-y*x+_*v)*E,t[11]=(f*x-l*C-p*v)*E,t[12]=(o*b-s*D-c*T)*E,t[13]=(n*D-r*b+a*T)*E,t[14]=(y*g-d*w-m*v)*E,t[15]=(l*w-f*g+h*v)*E,t):null}function j2(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],s=e[4],o=e[5],c=e[6],u=e[7],l=e[8],f=e[9],h=e[10],p=e[11],d=e[12],y=e[13],m=e[14],_=e[15];return t[0]=o*(h*_-p*m)-f*(c*_-u*m)+y*(c*p-u*h),t[1]=-(r*(h*_-p*m)-f*(a*_-i*m)+y*(a*p-i*h)),t[2]=r*(c*_-u*m)-o*(a*_-i*m)+y*(a*u-i*c),t[3]=-(r*(c*p-u*h)-o*(a*p-i*h)+f*(a*u-i*c)),t[4]=-(s*(h*_-p*m)-l*(c*_-u*m)+d*(c*p-u*h)),t[5]=n*(h*_-p*m)-l*(a*_-i*m)+d*(a*p-i*h),t[6]=-(n*(c*_-u*m)-s*(a*_-i*m)+d*(a*u-i*c)),t[7]=n*(c*p-u*h)-s*(a*p-i*h)+l*(a*u-i*c),t[8]=s*(f*_-p*y)-l*(o*_-u*y)+d*(o*p-u*f),t[9]=-(n*(f*_-p*y)-l*(r*_-i*y)+d*(r*p-i*f)),t[10]=n*(o*_-u*y)-s*(r*_-i*y)+d*(r*u-i*o),t[11]=-(n*(o*p-u*f)-s*(r*p-i*f)+l*(r*u-i*o)),t[12]=-(s*(f*m-h*y)-l*(o*m-c*y)+d*(o*h-c*f)),t[13]=n*(f*m-h*y)-l*(r*m-a*y)+d*(r*h-a*f),t[14]=-(n*(o*m-c*y)-s*(r*m-a*y)+d*(r*c-a*o)),t[15]=n*(o*h-c*f)-s*(r*h-a*f)+l*(r*c-a*o),t}function z2(t){var e=t[0],n=t[1],r=t[2],a=t[3],i=t[4],s=t[5],o=t[6],c=t[7],u=t[8],l=t[9],f=t[10],h=t[11],p=t[12],d=t[13],y=t[14],m=t[15],_=e*s-n*i,v=e*o-r*i,g=e*c-a*i,x=n*o-r*s,w=n*c-a*s,C=r*c-a*o,S=u*d-l*p,T=u*y-f*p,b=u*m-h*p,O=l*y-f*d,D=l*m-h*d,N=f*m-h*y;return _*N-v*D+g*O+x*b-w*T+C*S}function st(t,e,n){var r=e[0],a=e[1],i=e[2],s=e[3],o=e[4],c=e[5],u=e[6],l=e[7],f=e[8],h=e[9],p=e[10],d=e[11],y=e[12],m=e[13],_=e[14],v=e[15],g=n[0],x=n[1],w=n[2],C=n[3];return t[0]=g*r+x*o+w*f+C*y,t[1]=g*a+x*c+w*h+C*m,t[2]=g*i+x*u+w*p+C*_,t[3]=g*s+x*l+w*d+C*v,g=n[4],x=n[5],w=n[6],C=n[7],t[4]=g*r+x*o+w*f+C*y,t[5]=g*a+x*c+w*h+C*m,t[6]=g*i+x*u+w*p+C*_,t[7]=g*s+x*l+w*d+C*v,g=n[8],x=n[9],w=n[10],C=n[11],t[8]=g*r+x*o+w*f+C*y,t[9]=g*a+x*c+w*h+C*m,t[10]=g*i+x*u+w*p+C*_,t[11]=g*s+x*l+w*d+C*v,g=n[12],x=n[13],w=n[14],C=n[15],t[12]=g*r+x*o+w*f+C*y,t[13]=g*a+x*c+w*h+C*m,t[14]=g*i+x*u+w*p+C*_,t[15]=g*s+x*l+w*d+C*v,t}function rt(t,e,n){var r=n[0],a=n[1],i=n[2],s,o,c,u,l,f,h,p,d,y,m,_;return e===t?(t[12]=e[0]*r+e[4]*a+e[8]*i+e[12],t[13]=e[1]*r+e[5]*a+e[9]*i+e[13],t[14]=e[2]*r+e[6]*a+e[10]*i+e[14],t[15]=e[3]*r+e[7]*a+e[11]*i+e[15]):(s=e[0],o=e[1],c=e[2],u=e[3],l=e[4],f=e[5],h=e[6],p=e[7],d=e[8],y=e[9],m=e[10],_=e[11],t[0]=s,t[1]=o,t[2]=c,t[3]=u,t[4]=l,t[5]=f,t[6]=h,t[7]=p,t[8]=d,t[9]=y,t[10]=m,t[11]=_,t[12]=s*r+l*a+d*i+e[12],t[13]=o*r+f*a+y*i+e[13],t[14]=c*r+h*a+m*i+e[14],t[15]=u*r+p*a+_*i+e[15]),t}function Vn(t,e,n){var r=n[0],a=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Dt(t,e,n,r){var a=r[0],i=r[1],s=r[2],o=Math.hypot(a,i,s),c,u,l,f,h,p,d,y,m,_,v,g,x,w,C,S,T,b,O,D,N,R,E,A;return o<ze?null:(o=1/o,a*=o,i*=o,s*=o,c=Math.sin(n),u=Math.cos(n),l=1-u,f=e[0],h=e[1],p=e[2],d=e[3],y=e[4],m=e[5],_=e[6],v=e[7],g=e[8],x=e[9],w=e[10],C=e[11],S=a*a*l+u,T=i*a*l+s*c,b=s*a*l-i*c,O=a*i*l-s*c,D=i*i*l+u,N=s*i*l+a*c,R=a*s*l+i*c,E=i*s*l-a*c,A=s*s*l+u,t[0]=f*S+y*T+g*b,t[1]=h*S+m*T+x*b,t[2]=p*S+_*T+w*b,t[3]=d*S+v*T+C*b,t[4]=f*O+y*D+g*N,t[5]=h*O+m*D+x*N,t[6]=p*O+_*D+w*N,t[7]=d*O+v*D+C*N,t[8]=f*R+y*E+g*A,t[9]=h*R+m*E+x*A,t[10]=p*R+_*E+w*A,t[11]=d*R+v*E+C*A,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function bs(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[4],s=e[5],o=e[6],c=e[7],u=e[8],l=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*a+u*r,t[5]=s*a+l*r,t[6]=o*a+f*r,t[7]=c*a+h*r,t[8]=u*a-i*r,t[9]=l*a-s*r,t[10]=f*a-o*r,t[11]=h*a-c*r,t}function _i(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[0],s=e[1],o=e[2],c=e[3],u=e[8],l=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a-u*r,t[1]=s*a-l*r,t[2]=o*a-f*r,t[3]=c*a-h*r,t[8]=i*r+u*a,t[9]=s*r+l*a,t[10]=o*r+f*a,t[11]=c*r+h*a,t}function Es(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[0],s=e[1],o=e[2],c=e[3],u=e[4],l=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a+u*r,t[1]=s*a+l*r,t[2]=o*a+f*r,t[3]=c*a+h*r,t[4]=u*a-i*r,t[5]=l*a-s*r,t[6]=f*a-o*r,t[7]=h*a-c*r,t}function Xh(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function qh(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Yh(t,e,n){var r=n[0],a=n[1],i=n[2],s=Math.hypot(r,a,i),o,c,u;return s<ze?null:(s=1/s,r*=s,a*=s,i*=s,o=Math.sin(e),c=Math.cos(e),u=1-c,t[0]=r*r*u+c,t[1]=a*r*u+i*o,t[2]=i*r*u-a*o,t[3]=0,t[4]=r*a*u-i*o,t[5]=a*a*u+c,t[6]=i*a*u+r*o,t[7]=0,t[8]=r*i*u+a*o,t[9]=a*i*u-r*o,t[10]=i*i*u+c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function I2(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function W2(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function H2(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Zh(t,e,n){var r=e[0],a=e[1],i=e[2],s=e[3],o=r+r,c=a+a,u=i+i,l=r*o,f=r*c,h=r*u,p=a*c,d=a*u,y=i*u,m=s*o,_=s*c,v=s*u;return t[0]=1-(p+y),t[1]=f+v,t[2]=h-_,t[3]=0,t[4]=f-v,t[5]=1-(l+y),t[6]=d+m,t[7]=0,t[8]=h+_,t[9]=d-m,t[10]=1-(l+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function $2(t,e){var n=new gt(3),r=-e[0],a=-e[1],i=-e[2],s=e[3],o=e[4],c=e[5],u=e[6],l=e[7],f=r*r+a*a+i*i+s*s;return f>0?(n[0]=(o*s+l*r+c*i-u*a)*2/f,n[1]=(c*s+l*a+u*r-o*i)*2/f,n[2]=(u*s+l*i+o*a-c*r)*2/f):(n[0]=(o*s+l*r+c*i-u*a)*2,n[1]=(c*s+l*a+u*r-o*i)*2,n[2]=(u*s+l*i+o*a-c*r)*2),Zh(t,e,n),t}function K2(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Jh(t,e){var n=e[0],r=e[1],a=e[2],i=e[4],s=e[5],o=e[6],c=e[8],u=e[9],l=e[10];return t[0]=Math.hypot(n,r,a),t[1]=Math.hypot(i,s,o),t[2]=Math.hypot(c,u,l),t}function Qh(t,e){var n=new gt(3);Jh(n,e);var r=1/n[0],a=1/n[1],i=1/n[2],s=e[0]*r,o=e[1]*a,c=e[2]*i,u=e[4]*r,l=e[5]*a,f=e[6]*i,h=e[8]*r,p=e[9]*a,d=e[10]*i,y=s+l+d,m=0;return y>0?(m=Math.sqrt(y+1)*2,t[3]=.25*m,t[0]=(f-p)/m,t[1]=(h-c)/m,t[2]=(o-u)/m):s>l&&s>d?(m=Math.sqrt(1+s-l-d)*2,t[3]=(f-p)/m,t[0]=.25*m,t[1]=(o+u)/m,t[2]=(h+c)/m):l>d?(m=Math.sqrt(1+l-s-d)*2,t[3]=(h-c)/m,t[0]=(o+u)/m,t[1]=.25*m,t[2]=(f+p)/m):(m=Math.sqrt(1+d-s-l)*2,t[3]=(o-u)/m,t[0]=(h+c)/m,t[1]=(f+p)/m,t[2]=.25*m),t}function e1(t,e,n,r){var a=e[0],i=e[1],s=e[2],o=e[3],c=a+a,u=i+i,l=s+s,f=a*c,h=a*u,p=a*l,d=i*u,y=i*l,m=s*l,_=o*c,v=o*u,g=o*l,x=r[0],w=r[1],C=r[2];return t[0]=(1-(d+m))*x,t[1]=(h+g)*x,t[2]=(p-v)*x,t[3]=0,t[4]=(h-g)*w,t[5]=(1-(f+m))*w,t[6]=(y+_)*w,t[7]=0,t[8]=(p+v)*C,t[9]=(y-_)*C,t[10]=(1-(f+d))*C,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function X2(t,e,n,r,a){var i=e[0],s=e[1],o=e[2],c=e[3],u=i+i,l=s+s,f=o+o,h=i*u,p=i*l,d=i*f,y=s*l,m=s*f,_=o*f,v=c*u,g=c*l,x=c*f,w=r[0],C=r[1],S=r[2],T=a[0],b=a[1],O=a[2],D=(1-(y+_))*w,N=(p+x)*w,R=(d-g)*w,E=(p-x)*C,A=(1-(h+_))*C,W=(m+v)*C,z=(d+g)*S,F=(m-v)*S,L=(1-(h+y))*S;return t[0]=D,t[1]=N,t[2]=R,t[3]=0,t[4]=E,t[5]=A,t[6]=W,t[7]=0,t[8]=z,t[9]=F,t[10]=L,t[11]=0,t[12]=n[0]+T-(D*T+E*b+z*O),t[13]=n[1]+b-(N*T+A*b+F*O),t[14]=n[2]+O-(R*T+W*b+L*O),t[15]=1,t}function Iu(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],s=n+n,o=r+r,c=a+a,u=n*s,l=r*s,f=r*o,h=a*s,p=a*o,d=a*c,y=i*s,m=i*o,_=i*c;return t[0]=1-f-d,t[1]=l+_,t[2]=h-m,t[3]=0,t[4]=l-_,t[5]=1-u-d,t[6]=p+y,t[7]=0,t[8]=h+m,t[9]=p-y,t[10]=1-u-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function q2(t,e,n,r,a,i,s){var o=1/(n-e),c=1/(a-r),u=1/(i-s);return t[0]=i*2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i*2*c,t[6]=0,t[7]=0,t[8]=(n+e)*o,t[9]=(a+r)*c,t[10]=(s+i)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*i*2*u,t[15]=0,t}function t1(t,e,n,r,a){var i=1/Math.tan(e/2),s;return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,a!=null&&a!==1/0?(s=1/(r-a),t[10]=(a+r)*s,t[14]=2*a*r*s):(t[10]=-1,t[14]=-2*r),t}var Y2=t1;function Z2(t,e,n,r,a){var i=1/Math.tan(e/2),s;return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,a!=null&&a!==1/0?(s=1/(r-a),t[10]=a*s,t[14]=a*r*s):(t[10]=-1,t[14]=-r),t}function J2(t,e,n,r){var a=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),o=Math.tan(e.rightDegrees*Math.PI/180),c=2/(s+o),u=2/(a+i);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-((s-o)*c*.5),t[9]=(a-i)*u*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function r1(t,e,n,r,a,i,s){var o=1/(e-n),c=1/(r-a),u=1/(i-s);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*o,t[13]=(a+r)*c,t[14]=(s+i)*u,t[15]=1,t}var n1=r1;function Q2(t,e,n,r,a,i,s){var o=1/(e-n),c=1/(r-a),u=1/(i-s);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=u,t[11]=0,t[12]=(e+n)*o,t[13]=(a+r)*c,t[14]=i*u,t[15]=1,t}function a1(t,e,n,r){var a,i,s,o,c,u,l,f,h,p,d=e[0],y=e[1],m=e[2],_=r[0],v=r[1],g=r[2],x=n[0],w=n[1],C=n[2];return Math.abs(d-x)<ze&&Math.abs(y-w)<ze&&Math.abs(m-C)<ze?Me(t):(l=d-x,f=y-w,h=m-C,p=1/Math.hypot(l,f,h),l*=p,f*=p,h*=p,a=v*h-g*f,i=g*l-_*h,s=_*f-v*l,p=Math.hypot(a,i,s),p?(p=1/p,a*=p,i*=p,s*=p):(a=0,i=0,s=0),o=f*s-h*i,c=h*a-l*s,u=l*i-f*a,p=Math.hypot(o,c,u),p?(p=1/p,o*=p,c*=p,u*=p):(o=0,c=0,u=0),t[0]=a,t[1]=o,t[2]=l,t[3]=0,t[4]=i,t[5]=c,t[6]=f,t[7]=0,t[8]=s,t[9]=u,t[10]=h,t[11]=0,t[12]=-(a*d+i*y+s*m),t[13]=-(o*d+c*y+u*m),t[14]=-(l*d+f*y+h*m),t[15]=1,t)}function e3(t,e,n,r){var a=e[0],i=e[1],s=e[2],o=r[0],c=r[1],u=r[2],l=a-n[0],f=i-n[1],h=s-n[2],p=l*l+f*f+h*h;p>0&&(p=1/Math.sqrt(p),l*=p,f*=p,h*=p);var d=c*h-u*f,y=u*l-o*h,m=o*f-c*l;return p=d*d+y*y+m*m,p>0&&(p=1/Math.sqrt(p),d*=p,y*=p,m*=p),t[0]=d,t[1]=y,t[2]=m,t[3]=0,t[4]=f*m-h*y,t[5]=h*d-l*m,t[6]=l*y-f*d,t[7]=0,t[8]=l,t[9]=f,t[10]=h,t[11]=0,t[12]=a,t[13]=i,t[14]=s,t[15]=1,t}function t3(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function r3(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function n3(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function i1(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function a3(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function i3(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function o3(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function s3(t,e){var n=t[0],r=t[1],a=t[2],i=t[3],s=t[4],o=t[5],c=t[6],u=t[7],l=t[8],f=t[9],h=t[10],p=t[11],d=t[12],y=t[13],m=t[14],_=t[15],v=e[0],g=e[1],x=e[2],w=e[3],C=e[4],S=e[5],T=e[6],b=e[7],O=e[8],D=e[9],N=e[10],R=e[11],E=e[12],A=e[13],W=e[14],z=e[15];return Math.abs(n-v)<=ze*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(r-g)<=ze*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(a-x)<=ze*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(i-w)<=ze*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(s-C)<=ze*Math.max(1,Math.abs(s),Math.abs(C))&&Math.abs(o-S)<=ze*Math.max(1,Math.abs(o),Math.abs(S))&&Math.abs(c-T)<=ze*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(u-b)<=ze*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(l-O)<=ze*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(f-D)<=ze*Math.max(1,Math.abs(f),Math.abs(D))&&Math.abs(h-N)<=ze*Math.max(1,Math.abs(h),Math.abs(N))&&Math.abs(p-R)<=ze*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(d-E)<=ze*Math.max(1,Math.abs(d),Math.abs(E))&&Math.abs(y-A)<=ze*Math.max(1,Math.abs(y),Math.abs(A))&&Math.abs(m-W)<=ze*Math.max(1,Math.abs(m),Math.abs(W))&&Math.abs(_-z)<=ze*Math.max(1,Math.abs(_),Math.abs(z))}var u3=st,c3=i1,K0=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:zu,clone:U2,copy:Ft,fromValues:G2,set:P2,identity:Me,transpose:Ze,invert:Zt,adjoint:j2,determinant:z2,multiply:st,translate:rt,scale:Vn,rotate:Dt,rotateX:bs,rotateY:_i,rotateZ:Es,fromTranslation:Xh,fromScaling:qh,fromRotation:Yh,fromXRotation:I2,fromYRotation:W2,fromZRotation:H2,fromRotationTranslation:Zh,fromQuat2:$2,getTranslation:K2,getScaling:Jh,getRotation:Qh,fromRotationTranslationScale:e1,fromRotationTranslationScaleOrigin:X2,fromQuat:Iu,frustum:q2,perspectiveNO:t1,perspective:Y2,perspectiveZO:Z2,perspectiveFromFieldOfView:J2,orthoNO:r1,ortho:n1,orthoZO:Q2,lookAt:a1,targetTo:e3,str:t3,frob:r3,add:n3,subtract:i1,multiplyScalar:a3,multiplyScalarAndAdd:i3,exactEquals:o3,equals:s3,mul:u3,sub:c3});function Wu(){var t=new gt(3);return gt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function f3(t){var e=new gt(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Fn(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function X0(t,e,n){var r=new gt(3);return r[0]=t,r[1]=e,r[2]=n,r}function o1(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function $e(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Ir(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function ir(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function s1(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function Hu(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function l3(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function h3(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function p3(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function v3(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function d3(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function wt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function g3(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function u1(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return Math.hypot(n,r,a)}function c1(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return n*n+r*r+a*a}function f1(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function l1(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function h1(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function or(t,e){var n=e[0],r=e[1],a=e[2],i=n*n+r*r+a*a;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function Un(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function An(t,e,n){var r=e[0],a=e[1],i=e[2],s=n[0],o=n[1],c=n[2];return t[0]=a*c-i*o,t[1]=i*s-r*c,t[2]=r*o-a*s,t}function y3(t,e,n,r){var a=e[0],i=e[1],s=e[2];return t[0]=a+r*(n[0]-a),t[1]=i+r*(n[1]-i),t[2]=s+r*(n[2]-s),t}function m3(t,e,n,r,a,i){var s=i*i,o=s*(2*i-3)+1,c=s*(i-2)+i,u=s*(i-1),l=s*(3-2*i);return t[0]=e[0]*o+n[0]*c+r[0]*u+a[0]*l,t[1]=e[1]*o+n[1]*c+r[1]*u+a[1]*l,t[2]=e[2]*o+n[2]*c+r[2]*u+a[2]*l,t}function _3(t,e,n,r,a,i){var s=1-i,o=s*s,c=i*i,u=o*s,l=3*i*o,f=3*c*s,h=c*i;return t[0]=e[0]*u+n[0]*l+r[0]*f+a[0]*h,t[1]=e[1]*u+n[1]*l+r[1]*f+a[1]*h,t[2]=e[2]*u+n[2]*l+r[2]*f+a[2]*h,t}function x3(t,e){e=e||1;var n=jc()*2*Math.PI,r=jc()*2-1,a=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*a,t[1]=Math.sin(n)*a,t[2]=r*e,t}function Te(t,e,n){var r=e[0],a=e[1],i=e[2],s=n[3]*r+n[7]*a+n[11]*i+n[15];return s=s||1,t[0]=(n[0]*r+n[4]*a+n[8]*i+n[12])/s,t[1]=(n[1]*r+n[5]*a+n[9]*i+n[13])/s,t[2]=(n[2]*r+n[6]*a+n[10]*i+n[14])/s,t}function Uo(t,e,n){var r=e[0],a=e[1],i=e[2];return t[0]=r*n[0]+a*n[3]+i*n[6],t[1]=r*n[1]+a*n[4]+i*n[7],t[2]=r*n[2]+a*n[5]+i*n[8],t}function w3(t,e,n){var r=n[0],a=n[1],i=n[2],s=n[3],o=e[0],c=e[1],u=e[2],l=a*u-i*c,f=i*o-r*u,h=r*c-a*o,p=a*h-i*f,d=i*l-r*h,y=r*f-a*l,m=s*2;return l*=m,f*=m,h*=m,p*=2,d*=2,y*=2,t[0]=o+l+p,t[1]=c+f+d,t[2]=u+h+y,t}function C3(t,e,n,r){var a=[],i=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],i[0]=a[0],i[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),i[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function S3(t,e,n,r){var a=[],i=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],i[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),i[1]=a[1],i[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function T3(t,e,n,r){var a=[],i=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],i[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),i[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),i[2]=a[2],t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function b3(t,e){var n=t[0],r=t[1],a=t[2],i=e[0],s=e[1],o=e[2],c=Math.sqrt(n*n+r*r+a*a),u=Math.sqrt(i*i+s*s+o*o),l=c*u,f=l&&Un(t,e)/l;return Math.acos(Math.min(Math.max(f,-1),1))}function E3(t){return t[0]=0,t[1]=0,t[2]=0,t}function D3(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function ma(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function q0(t,e){var n=t[0],r=t[1],a=t[2],i=e[0],s=e[1],o=e[2];return Math.abs(n-i)<=ze*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-s)<=ze*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(a-o)<=ze*Math.max(1,Math.abs(a),Math.abs(o))}var O3=ir,N3=s1,k3=Hu,M3=u1,R3=c1,p1=Fn,L3=f1,F3=function(){var t=Wu();return function(e,n,r,a,i,s){var o,c;for(n||(n=3),r||(r=0),a?c=Math.min(a*n+r,e.length):c=e.length,o=r;o<c;o+=n)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],i(t,t,s),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2];return e}}(),A3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:Wu,clone:f3,length:Fn,fromValues:X0,copy:o1,set:$e,add:Ir,subtract:ir,multiply:s1,divide:Hu,ceil:l3,floor:h3,min:p3,max:v3,round:d3,scale:wt,scaleAndAdd:g3,distance:u1,squaredDistance:c1,squaredLength:f1,negate:l1,inverse:h1,normalize:or,dot:Un,cross:An,lerp:y3,hermite:m3,bezier:_3,random:x3,transformMat4:Te,transformMat3:Uo,transformQuat:w3,rotateX:C3,rotateY:S3,rotateZ:T3,angle:b3,zero:E3,str:D3,exactEquals:ma,equals:q0,sub:O3,mul:N3,div:k3,dist:M3,sqrDist:R3,len:p1,sqrLen:L3,forEach:F3});function B3(){var t=new gt(4);return gt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function V3(t,e,n,r){var a=new gt(4);return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a}function U3(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],s=n*n+r*r+a*a+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=n*s,t[1]=r*s,t[2]=a*s,t[3]=i*s,t}function Zi(t,e,n){var r=e[0],a=e[1],i=e[2],s=e[3];return t[0]=n[0]*r+n[4]*a+n[8]*i+n[12]*s,t[1]=n[1]*r+n[5]*a+n[9]*i+n[13]*s,t[2]=n[2]*r+n[6]*a+n[10]*i+n[14]*s,t[3]=n[3]*r+n[7]*a+n[11]*i+n[15]*s,t}(function(){var t=B3();return function(e,n,r,a,i,s){var o,c;for(n||(n=4),r||(r=0),a?c=Math.min(a*n+r,e.length):c=e.length,o=r;o<c;o+=n)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],t[3]=e[o+3],i(t,t,s),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2],e[o+3]=t[3];return e}})();function Gn(){var t=new gt(4);return gt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function $u(t,e,n){n=n*.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function G3(t,e){var n=Math.acos(e[3])*2,r=Math.sin(n/2);return r>ze?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function zc(t,e,n){var r=e[0],a=e[1],i=e[2],s=e[3],o=n[0],c=n[1],u=n[2],l=n[3];return t[0]=r*l+s*o+a*u-i*c,t[1]=a*l+s*c+i*o-r*u,t[2]=i*l+s*u+r*c-a*o,t[3]=s*l-r*o-a*c-i*u,t}function Ks(t,e,n,r){var a=e[0],i=e[1],s=e[2],o=e[3],c=n[0],u=n[1],l=n[2],f=n[3],h,p,d,y,m;return p=a*c+i*u+s*l+o*f,p<0&&(p=-p,c=-c,u=-u,l=-l,f=-f),1-p>ze?(h=Math.acos(p),d=Math.sin(h),y=Math.sin((1-r)*h)/d,m=Math.sin(r*h)/d):(y=1-r,m=r),t[0]=y*a+m*c,t[1]=y*i+m*u,t[2]=y*s+m*l,t[3]=y*o+m*f,t}function P3(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function j3(t,e){var n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[a*3+a]&&(a=2);var i=(a+1)%3,s=(a+2)%3;r=Math.sqrt(e[a*3+a]-e[i*3+i]-e[s*3+s]+1),t[a]=.5*r,r=.5/r,t[3]=(e[i*3+s]-e[s*3+i])*r,t[i]=(e[i*3+a]+e[a*3+i])*r,t[s]=(e[s*3+a]+e[a*3+s])*r}return t}var Ic=V3,v1=U3;(function(){var t=Wu(),e=X0(1,0,0),n=X0(0,1,0);return function(r,a,i){var s=Un(a,i);return s<-.999999?(An(t,e,a),p1(t)<1e-6&&An(t,n,a),or(t,t),$u(r,t,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(An(t,a,i),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+s,v1(r,r))}})();(function(){var t=Gn(),e=Gn();return function(n,r,a,i,s,o){return Ks(t,r,s,o),Ks(e,a,i,o),Ks(n,t,e,2*o*(1-o)),n}})();(function(){var t=$h();return function(e,n,r,a){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=a[0],t[4]=a[1],t[7]=a[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],v1(e,j3(e,t))}})();function z3(t){if(Array.isArray(t))return t}function I3(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,s,o;try{for(n=n.call(t);!(a=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));a=!0);}catch(c){i=!0,o=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw o}}return r}}function Y0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d1(t,e){if(!!t){if(typeof t=="string")return Y0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y0(t,e)}}function W3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function We(t,e){return z3(t)||I3(t,e)||d1(t,e)||W3()}function Or(t){return Or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Or(t)}function Oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H3(t){if(Array.isArray(t))return Y0(t)}function $3(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function we(t){return H3(t)||$3(t)||d1(t)||K3()}function xi(t,e){return xi=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},xi(t,e)}function X3(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fi(t,e,n){return X3()?fi=Reflect.construct:fi=function(a,i,s){var o=[null];o.push.apply(o,i);var c=Function.bind.apply(a,o),u=new c;return s&&xi(u,s.prototype),u},fi.apply(null,arguments)}var Wc=Object.prototype.toString,g1=function(e){var n=Wc.call(e),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Wc.call(e.callee)==="[object Function]"),r},y1;if(!Object.keys){var Ji=Object.prototype.hasOwnProperty,Hc=Object.prototype.toString,q3=g1,$c=Object.prototype.propertyIsEnumerable,Y3=!$c.call({toString:null},"toString"),Z3=$c.call(function(){},"prototype"),Qi=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Xs=function(t){var e=t.constructor;return e&&e.prototype===t},J3={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Q3=function(){if(typeof window=="undefined")return!1;for(var t in window)try{if(!J3["$"+t]&&Ji.call(window,t)&&window[t]!==null&&typeof window[t]=="object")try{Xs(window[t])}catch{return!0}}catch{return!0}return!1}(),ey=function(t){if(typeof window=="undefined"||!Q3)return Xs(t);try{return Xs(t)}catch{return!1}};y1=function(e){var n=e!==null&&typeof e=="object",r=Hc.call(e)==="[object Function]",a=q3(e),i=n&&Hc.call(e)==="[object String]",s=[];if(!n&&!r&&!a)throw new TypeError("Object.keys called on a non-object");var o=Z3&&r;if(i&&e.length>0&&!Ji.call(e,0))for(var c=0;c<e.length;++c)s.push(String(c));if(a&&e.length>0)for(var u=0;u<e.length;++u)s.push(String(u));else for(var l in e)!(o&&l==="prototype")&&Ji.call(e,l)&&s.push(String(l));if(Y3)for(var f=ey(e),h=0;h<Qi.length;++h)!(f&&Qi[h]==="constructor")&&Ji.call(e,Qi[h])&&s.push(Qi[h]);return s}}var ty=y1,ry=Array.prototype.slice,ny=g1,Kc=Object.keys,Go=Kc?function(e){return Kc(e)}:ty,Xc=Object.keys;Go.shim=function(){if(Object.keys){var e=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);e||(Object.keys=function(r){return ny(r)?Xc(ry.call(r)):Xc(r)})}else Object.keys=Go;return Object.keys||Go};var ay=Go,iy=ay,oy=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",sy=Object.prototype.toString,uy=Array.prototype.concat,Ku=Object.defineProperty,cy=function(t){return typeof t=="function"&&sy.call(t)==="[object Function]"},fy=function(){var t={};try{Ku(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch{return!1}},m1=Ku&&fy(),ly=function(t,e,n,r){e in t&&(!cy(r)||!r())||(m1?Ku(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},_1=function(t,e){var n=arguments.length>2?arguments[2]:{},r=iy(e);oy&&(r=uy.call(r,Object.getOwnPropertySymbols(e)));for(var a=0;a<r.length;a+=1)ly(t,r[a],e[r[a]],n[r[a]])};_1.supportsDescriptors=!!m1;var x1=_1,li={exports:{}};typeof self!="undefined"?li.exports=self:typeof window!="undefined"?li.exports=window:li.exports=Function("return this")();var hy=li.exports,w1=function(){return typeof It!="object"||!It||It.Math!==Math||It.Array!==Array?hy:It},py=x1,vy=w1,dy=function(){var e=vy();if(py.supportsDescriptors){var n=Object.getOwnPropertyDescriptor(e,"globalThis");(!n||n.configurable&&(n.enumerable||!n.writable||globalThis!==e))&&Object.defineProperty(e,"globalThis",{configurable:!0,enumerable:!1,value:e,writable:!0})}else(typeof globalThis!="object"||globalThis!==e)&&(e.globalThis=e);return e},gy=x1,yy=li.exports,C1=w1,my=dy,_y=C1(),S1=function(){return _y};gy(S1,{getPolyfill:C1,implementation:yy,shim:my});var xy=S1;function qc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qc(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var yr=xy(),T1={vtkObject:function(){return null}};function Ot(t){if(t==null||t.isA)return t;if(!t.vtkClass)return yr.console&&yr.console.error&&yr.console.error("Invalid VTK object"),null;var e=T1[t.vtkClass];if(!e)return yr.console&&yr.console.error&&yr.console.error("No vtk class found for Object of type ".concat(t.vtkClass)),null;var n=wy({},t);Object.keys(n).forEach(function(a){n[a]&&Or(n[a])==="object"&&n[a].vtkClass&&(n[a]=Ot(n[a]))});var r=e(n);return r&&r.modified&&r.modified(),r}function Cy(t,e){T1[t]=e}Ot.register=Cy;function yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mt(t,e,n){return e&&Yc(t.prototype,e),n&&Yc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ge(t){return Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ge(t)}function Sy(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ge(t),t!==null););return t}function Po(){return typeof Reflect!="undefined"&&Reflect.get?Po=Reflect.get:Po=function(e,n,r){var a=Sy(e,n);if(!!a){var i=Object.getOwnPropertyDescriptor(a,n);return i.get?i.get.call(arguments.length<3?e:r):i.value}},Po.apply(this,arguments)}function kt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xi(t,e)}function _a(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mt(t,e){if(e&&(Or(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _a(t)}function Ty(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Z0(t){var e=typeof Map=="function"?new Map:void 0;return Z0=function(r){if(r===null||!Ty(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,a)}function a(){return fi(r,arguments,Ge(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),xi(a,r)},Z0(t)}function by(t){var e=Ey();return function(){var r=Ge(t),a;if(e){var i=Ge(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return Mt(this,a)}}function Ey(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var qs=function(t){kt(n,t);var e=by(n);function n(){return yt(this,n),e.apply(this,arguments)}return mt(n,[{key:"push",value:function(){for(var a=this,i,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=o.filter(function(l){return!a.includes(l)});return(i=Po(Ge(n.prototype),"push",this)).call.apply(i,[this].concat(we(u)))}}]),n}(Z0(Array));function Zc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function J0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zc(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Q0=0,Dy=Symbol("void");function Oy(){return Q0}var b1={};function En(){}var Ny=["log","debug","info","warn","error","time","timeEnd","group","groupEnd"];Ny.forEach(function(t){b1[t]=En});yr.console=console.hasOwnProperty("log")?console:b1;var Jt={debug:En,error:yr.console.error||En,info:yr.console.info||En,log:yr.console.log||En,warn:yr.console.warn||En};function ky(t,e){Jt[t]&&(Jt[t]=e||En)}function My(){Jt.log.apply(Jt,arguments)}function Ry(){Jt.info.apply(Jt,arguments)}function Pn(){Jt.debug.apply(Jt,arguments)}function Le(){Jt.error.apply(Jt,arguments)}function zi(){Jt.warn.apply(Jt,arguments)}var Jc={};function Ly(t){Jc[t]||(Jt.error(t),Jc[t]=!0)}var er=Object.create(null);er.Float32Array=Float32Array;er.Float64Array=Float64Array;er.Uint8Array=Uint8Array;er.Int8Array=Int8Array;er.Uint16Array=Uint16Array;er.Int16Array=Int16Array;er.Uint32Array=Uint32Array;er.Int32Array=Int32Array;er.Uint8ClampedArray=Uint8ClampedArray;function Xu(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return fi(er[t]||Float64Array,n)}function qu(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(e=er[t]||Float64Array).from.apply(e,r)}function Yu(t){return t.charAt(0).toUpperCase()+t.slice(1)}function At(t){return Yu(t[0]==="_"?t.slice(1):t)}function Fy(t){return t.charAt(0).toLowerCase()+t.slice(1)}function Ay(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3,r=["TB","GB","MB","KB"],a=Number(t),i="B";a>n;)a/=n,i=r.pop();return"".concat(a.toFixed(e)," ").concat(i)}function By(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",n=[],r=t;r>1e3;)n.push("000".concat(r%1e3).slice(-3)),r=Math.floor(r/1e3);return r>0&&n.push(r),n.reverse(),n.join(e)}function E1(t){Object.keys(t).forEach(function(e){Array.isArray(t[e])&&(t[e]=[].concat(t[e]))})}function Vy(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}function Uy(t,e){return Object.keys(t).find(function(n){return t[n]===e})}function D1(t){return t&&t.isA?t.getState():t}function O1(t){setTimeout(t,0)}function Gy(t,e){var n=performance.now();t.finally(function(){var r=performance.now()-n;e(r)})}function St(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E1(e);var n=[];Number.isInteger(e.mtime)||(e.mtime=++Q0),"classHierarchy"in e?e.classHierarchy instanceof qs||(e.classHierarchy=qs.from(e.classHierarchy)):e.classHierarchy=new qs("vtkObject");function r(i){n[i]=null}function a(i){function s(){r(i)}return Object.freeze({unsubscribe:s})}return t.isDeleted=function(){return!!e.deleted},t.modified=function(i){if(e.deleted){Le("instance deleted - cannot call any method");return}i&&i<t.getMTime()||(e.mtime=++Q0,n.forEach(function(s){return s&&s(t)}))},t.onModified=function(i){if(e.deleted)return Le("instance deleted - cannot call any method"),null;var s=n.length;return n.push(i),a(s)},t.getMTime=function(){return e.mtime},t.isA=function(i){for(var s=e.classHierarchy.length;s--;)if(e.classHierarchy[s]===i)return!0;return!1},t.getClassName=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.classHierarchy[e.classHierarchy.length-1-i]},t.set=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=!1;return Object.keys(i).forEach(function(u){var l=o?null:t["set".concat(Yu(u))];l&&Array.isArray(i[u])&&l.length>1?c=l.apply(void 0,we(i[u]))||c:l?c=l(i[u])||c:(["mtime"].indexOf(u)===-1&&!s&&zi("Warning: Set value to model directly ".concat(u,", ").concat(i[u])),c=e[u]!==i[u]||c,e[u]=i[u])}),c},t.get=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(!s.length)return e;var c={};return s.forEach(function(u){c[u]=e[u]}),c},t.getReferenceByName=function(i){return e[i]},t.delete=function(){Object.keys(e).forEach(function(i){return delete e[i]}),n.forEach(function(i,s){return r(s)}),e.deleted=!0},t.getState=function(){if(e.deleted)return null;var i=J0(J0({},e),{},{vtkClass:t.getClassName()});Object.keys(i).forEach(function(o){i[o]===null||i[o]===void 0||o[0]==="_"?delete i[o]:i[o].isA?i[o]=i[o].getState():Array.isArray(i[o])&&(i[o]=i[o].map(D1))});var s={};return Object.keys(i).sort().forEach(function(o){s[o]=i[o]}),s.mtime&&delete s.mtime,s},t.shallowCopy=function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i.getClassName()!==t.getClassName())throw new Error("Cannot ShallowCopy ".concat(i.getClassName()," into ").concat(t.getClassName()));var o=i.get(),c=Object.keys(e).sort(),u=Object.keys(o).sort();u.forEach(function(l){var f=c.indexOf(l);f===-1?s&&Pn("add ".concat(l," in shallowCopy")):c.splice(f,1),e[l]=o[l]}),c.length&&s&&Pn("Untouched keys: ".concat(c.join(", "))),t.modified()},t.toJSON=function(){return t.getState()},t}function Mr(t,e,n){n.forEach(function(r){Or(r)==="object"?t["get".concat(At(r.name))]=function(){return e[r.name]}:t["get".concat(At(r))]=function(){return e[r]}})}var Py={enum:function(e,n,r){return function(a){if(typeof a=="string"){if(r.enum[a]!==void 0)return n[r.name]!==r.enum[a]?(n[r.name]=r.enum[a],e.modified(),!0):!1;throw Le("Set Enum with invalid argument ".concat(r,", ").concat(a)),new RangeError("Set Enum with invalid string argument")}if(typeof a=="number"){if(n[r.name]!==a){if(Object.keys(r.enum).map(function(i){return r.enum[i]}).indexOf(a)!==-1)return n[r.name]=a,e.modified(),!0;throw Le("Set Enum outside numeric range ".concat(r,", ").concat(a)),new RangeError("Set Enum outside numeric range")}return!1}throw Le("Set Enum with invalid argument (String/Number) ".concat(r,", ").concat(a)),new TypeError("Set Enum with invalid argument (String/Number)")}}};function Qc(t){if(Or(t)==="object"){var e=Py[t.type];if(e)return function(n,r){return e(n,r,t)};throw Le("No setter for field ".concat(t)),new TypeError("No setter for field")}return function(r,a){return function(s){return a.deleted?(Le("instance deleted - cannot call any method"),!1):a[t]!==s?(a[t]=s,r.modified(),!0):!1}}}function Ds(t,e,n){n.forEach(function(r){Or(r)==="object"?t["set".concat(At(r.name))]=Qc(r)(t,e):t["set".concat(At(r))]=Qc(r)(t,e)})}function Rt(t,e,n){Mr(t,e,n),Ds(t,e,n)}function Os(t,e,n){n.forEach(function(r){t["get".concat(At(r))]=function(){return e[r]?[].concat(e[r]):e[r]},t["get".concat(At(r),"ByReference")]=function(){return e[r]}})}function N1(t,e,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;n.forEach(function(i){if(e[i]&&r&&e[i].length!==r)throw new RangeError("Invalid initial number of values for array (".concat(i,")"));t["set".concat(At(i))]=function(){if(e.deleted)return Le("instance deleted - cannot call any method"),!1;for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=o,l,f=!1;if(u.length===1&&(u[0]==null||u[0].length>=0)&&(u=u[0],f=!0),u==null)l=e[i]!==u;else{if(r&&u.length!==r)if(u.length<r&&a!==void 0)for(u=Array.from(u),f=!1;u.length<r;)u.push(a);else throw new RangeError("Invalid number of values for array setter (".concat(i,")"));l=e[i]==null||e[i].some(function(h,p){return h!==u[p]})||e[i].length!==u.length,l&&f&&(u=Array.from(u))}return l&&(e[i]=u,t.modified()),l},t["set".concat(At(i),"From")]=function(s){var o=e[i];s.forEach(function(c,u){o[u]=c})}})}function k1(t,e,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;Os(t,e,n),N1(t,e,n,r,a)}function Zu(t,e,n){for(var r=0;r<n.length;r++){var a=n[r];e[a]!==void 0&&(e["_".concat(a)]=e[a],delete e[a])}}function M1(t,e,n,r){e.inputData?e.inputData=e.inputData.map(Ot):e.inputData=[],e.inputConnection?e.inputConnection=e.inputConnection.map(Ot):e.inputConnection=[],e.output?e.output=e.output.map(Ot):e.output=[],e.inputArrayToProcess?e.inputArrayToProcess=e.inputArrayToProcess.map(Ot):e.inputArrayToProcess=[],e.numberOfInputs=n;function a(d){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e.deleted){Le("instance deleted - cannot call any method");return}if(y>=e.numberOfInputs){Le("algorithm ".concat(t.getClassName()," only has ").concat(e.numberOfInputs," input ports. To add more input ports, use addInputData()"));return}(e.inputData[y]!==d||e.inputConnection[y])&&(e.inputData[y]=d,e.inputConnection[y]=null,t.modified&&t.modified())}function i(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.inputConnection[d]&&(e.inputData[d]=e.inputConnection[d]()),e.inputData[d]}function s(d){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e.deleted){Le("instance deleted - cannot call any method");return}if(y>=e.numberOfInputs){var m="algorithm ".concat(t.getClassName()," only has ");m+="".concat(e.numberOfInputs),m+=" input ports. To add more input ports, use addInputConnection()",Le(m);return}e.inputData[y]=null,e.inputConnection[y]=d}function o(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.inputConnection[d]}function c(){for(var d=e.numberOfInputs;d&&!e.inputData[d-1]&&!e.inputConnection[d-1];)d--;return d===e.numberOfInputs&&e.numberOfInputs++,d}function u(d){if(e.deleted){Le("instance deleted - cannot call any method");return}s(d,c())}function l(d){if(e.deleted){Le("instance deleted - cannot call any method");return}a(d,c())}function f(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.deleted?(Le("instance deleted - cannot call any method"),null):(t.shouldUpdate()&&t.update(),e.output[d])}t.shouldUpdate=function(){for(var d=t.getMTime(),y=1/0,m=r;m--;){if(!e.output[m]||e.output[m].isDeleted())return!0;var _=e.output[m].getMTime();if(_<d)return!0;_<y&&(y=_)}for(m=e.numberOfInputs;m--;){var v,g;if((v=e.inputConnection[m])!==null&&v!==void 0&&v.filter.shouldUpdate()||((g=t.getInputData(m))===null||g===void 0?void 0:g.getMTime())>y)return!0}return!1};function h(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=function(){return f(d)};return y.filter=t,y}if(e.numberOfInputs){for(var p=e.numberOfInputs;p--;)e.inputData.push(null),e.inputConnection.push(null);t.setInputData=a,t.setInputConnection=s,t.addInputData=l,t.addInputConnection=u,t.getInputData=i,t.getInputConnection=o}r&&(t.getOutputData=f,t.getOutputPort=h),t.update=function(){var d=[];if(e.numberOfInputs)for(var y=0;y<e.numberOfInputs;)d[y]=t.getInputData(y),y++;t.shouldUpdate()&&t.requestData&&t.requestData(d,e.output)},t.getNumberOfInputPorts=function(){return e.numberOfInputs},t.getNumberOfOutputPorts=function(){return r||e.output.length},t.getInputArrayToProcess=function(d){var y=e.inputArrayToProcess[d],m=e.inputData[d];return y&&m?m["get".concat(y.fieldAssociation)]().getArray(y.arrayName):null},t.setInputArrayToProcess=function(d,y,m){for(var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Scalars";e.inputArrayToProcess.length<d;)e.inputArrayToProcess.push(null);e.inputArrayToProcess[d]={arrayName:y,fieldAssociation:m,attributeType:_}}}var R1=Symbol("Event abort");function eu(t,e,n){var r=[],a=t.delete,i=1;function s(u){for(var l=0;l<r.length;++l){var f=We(r[l],1),h=f[0];if(h===u){r.splice(l,1);return}}}function o(u){function l(){s(u)}return Object.freeze({unsubscribe:l})}function c(){var u=arguments;if(e.deleted){Le("instance deleted - cannot call any method");return}for(var l=r.slice(),f=function(y){var m=We(l[y],3),_=m[1],v=m[2];if(!_)return"continue";if(v<0)setTimeout(function(){return _.apply(t,u)},1-v);else{var g=_.apply(t,u);if(g===R1)return"break"}},h=0;h<l.length;++h){var p=f(h);if(p!=="continue"&&p==="break")break}}t["invoke".concat(At(n))]=c,t["on".concat(At(n))]=function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!u.apply)return console.error("Invalid callback for event ".concat(n)),null;if(e.deleted)return Le("instance deleted - cannot call any method"),null;var f=i++;return r.push([f,u,l]),r.sort(function(h,p){return p[2]-h[2]}),o(f)},t.delete=function(){a(),r.forEach(function(u){var l=We(u,1),f=l[0];return s(f)})}}function ut(t,e){var n=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i={},s={};return t(s,i,a),Object.freeze(s)};return e&&Ot.register(e,n),n}function L1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e.filter(function(s){return!!s}).map(function(s){return s.apply(void 0,a)})}}function F1(t){return t&&t.isA&&t.isA("vtkObject")}function tu(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(F1(t)){if(r.indexOf(t)>=0)return n;r.push(t);var a=e(t);a!==void 0&&n.push(a);var i=t.get();Object.keys(i).forEach(function(s){var o=i[s];Array.isArray(o)?o.forEach(function(c){tu(c,e,n,r)}):tu(o,e,n,r)})}return n}function ru(t,e,n){var r=this,a,i=function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var l=r,f=function(){a=null,n||t.apply(l,c)},h=n&&!a;clearTimeout(a),a=setTimeout(f,e),h&&t.apply(l,c)};return i.cancel=function(){return clearTimeout(a)},i}function jy(t,e){var n=!1,r=null;function a(){n=!1,r!==null&&(i.apply(void 0,we(r)),r=null)}function i(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];if(n){r=o;return}n=!0,t.apply(void 0,o),setTimeout(a,e)}return i}function A1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e.keystore=Object.assign(e.keystore||{},n),t.setKey=function(r,a){e.keystore[r]=a},t.getKey=function(r){return e.keystore[r]},t.getAllKeys=function(){return Object.keys(e.keystore)},t.deleteKey=function(r){return delete e.keystore[r]},t.clearKeystore=function(){return t.getAllKeys().forEach(function(r){return delete e.keystore[r]})}}var zy=1,eo="__root__";function Iy(t,e){A1(t,e);var n=t.delete;e.proxyId="".concat(zy++),e.ui=JSON.parse(JSON.stringify(e.ui||[])),Mr(t,e,["proxyId","proxyGroup","proxyName"]),Rt(t,e,["proxyManager"]);var r={},a={};function i(u,l){a[l]||(a[l]=[]);for(var f=a[l],h=0;h<u.length;h++)f.push(u[h].name),r[u[h].name]=u[h],u[h].children&&u[h].children.length&&i(u[h].children,u[h].name)}i(e.ui,eo),t.updateUI=function(u){e.ui=JSON.parse(JSON.stringify(u||[])),Object.keys(r).forEach(function(l){return delete r[l]}),Object.keys(a).forEach(function(l){return delete a[l]}),i(e.ui,eo),t.modified()};function s(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:eo;return a[u]}t.updateProxyProperty=function(u,l){var f=r[u];f?Object.assign(f,l):r[u]=J0({},l)},t.activate=function(){if(e.proxyManager){var u="setActive".concat(At(t.getProxyGroup().slice(0,-1)));e.proxyManager[u]&&e.proxyManager[u](t)}},e.propertyLinkSubscribers={},t.registerPropertyLinkForGC=function(u,l){l in e.propertyLinkSubscribers||(e.propertyLinkSubscribers[l]=[]),e.propertyLinkSubscribers[l].push(u)},t.gcPropertyLinks=function(u){for(var l=e.propertyLinkSubscribers[u]||[];l.length;)l.pop().unbind(t)},e.propertyLinkMap={},t.getPropertyLink=function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.propertyLinkMap[u])return e.propertyLinkMap[u];var f=null,h=[],p=0,d=!1;function y(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(d)return null;var C=[],S=null;for(p=h.length;p--;){var T=h[p];T.instance===x?S=T:C.push(T)}if(!S)return null;var b=S.instance["get".concat(At(S.propertyName))]();if(!Vy(b,f)||w){for(f=b,d=!0;C.length;){var O=C.pop();O.instance.set(Oe({},O.propertyName,f))}d=!1}return e.propertyLinkMap[u].persistent&&(e.propertyLinkMap[u].value=b),b}function m(x,w){var C=[];for(p=h.length;p--;){var S=h[p];S.instance===x&&(S.propertyName===w||w===void 0)&&(S.subscription.unsubscribe(),C.push(p))}for(;C.length;)h.splice(C.pop(),1)}function _(x,w){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,S=x.onModified(y),T=h[0];return h.push({instance:x,propertyName:w,subscription:S}),C&&(e.propertyLinkMap[u].persistent&&e.propertyLinkMap[u].value!==void 0?x.set(Oe({},w,e.propertyLinkMap[u].value)):T&&y(T.instance,!0)),{unsubscribe:function(){return m(x,w)}}}function v(){for(;h.length;)h.pop().subscription.unsubscribe()}var g={bind:_,unbind:m,unsubscribe:v,persistent:l};return e.propertyLinkMap[u]=g,g};function o(){for(var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:eo,l=[],f=e.proxyId,h=s(u)||[],p=0;p<h.length;p++){var d=h[p],y=t["get".concat(At(d))],m=y?y():void 0,_={id:f,name:d,value:m},v=o(d);v.length&&(_.children=v),l.push(_)}return l}t.listPropertyNames=function(){return o().map(function(u){return u.name})},t.getPropertyByName=function(u){return o().find(function(l){return l.name===u})},t.getPropertyDomainByName=function(u){return(r[u]||{}).domain},t.getProxySection=function(){return{id:e.proxyId,name:e.proxyGroup,ui:e.ui,properties:o()}},t.delete=function(){for(var u=Object.keys(e.propertyLinkMap),l=u.length;l--;)e.propertyLinkMap[u[l]].unsubscribe();Object.keys(e.propertyLinkSubscribers).forEach(t.gcPropertyLinks),n()},t.getState=function(){return null};function c(){if(e.links)for(var u=0;u<e.links.length;u++){var l=e.links[u],f=l.link,h=l.property,p=l.persistent,d=l.updateOnBind,y=l.type;if(y==="application"){var m=e.proxyManager.getPropertyLink(f,p);t.registerPropertyLinkForGC(m,"application"),m.bind(t,h,d)}}}O1(c)}function Wy(t,e,n){for(var r=t.delete,a=[],i=Object.keys(n),s=i.length;s--;){var o=i[s],c=n[o],u=c.modelKey,l=c.property,f=c.modified,h=f===void 0?!0:f,p=At(l),d=At(o);t["get".concat(d)]=e[u]["get".concat(p)],t["set".concat(d)]=e[u]["set".concat(p)],h&&a.push(e[u].onModified(t.modified))}t.delete=function(){for(;a.length;)a.pop().unsubscribe();r()}}function Hy(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};e.this=t;function a(c){for(var u=Object.keys(c),l=u.length;l--;){var f=u[l];e[f].set(c[f])}}for(var i=Object.keys(r),s=i.length,o=function(){var u=i[s];e[u]=r[u];var l=n[u];t["set".concat(At(u))]=function(f){if(f!==e[u]){e[u]=f;var h=l[f];a(h),t.modified()}}};s--;)o();i.length&&Mr(t,e,i)}var ef=10,tf=40,rf=800;function $y(t){var e=0,n=0,r=0,a=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*ef,a=n*ef,"deltaY"in t&&(a=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||a)&&t.deltaMode&&(t.deltaMode===1?(r*=tf,a*=tf):(r*=rf,a*=rf)),r&&!e&&(e=r<1?-1:1),a&&!n&&(n=a<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:a}}var I={algo:M1,capitalize:Yu,chain:L1,debounce:ru,enumToString:Uy,event:eu,EVENT_ABORT:R1,formatBytesToProperUnit:Ay,formatNumbersWithThousandSeparator:By,get:Mr,getArray:Os,getCurrentGlobalMTime:Oy,getStateArrayMapFunc:D1,isVtkObject:F1,keystore:A1,measurePromiseExecution:Gy,moveToProtected:Zu,newInstance:ut,newTypedArray:Xu,newTypedArrayFrom:qu,normalizeWheel:$y,obj:St,proxy:Iy,proxyPropertyMapping:Wy,proxyPropertyState:Hy,safeArrays:E1,set:Ds,setArray:N1,setGet:Rt,setGetArray:k1,setImmediate:O1,setLoggerFunction:ky,throttle:jy,traverseInstanceTree:tu,TYPED_ARRAYS:er,uncapitalize:Fy,VOID:Dy,vtkDebugMacro:Pn,vtkErrorMacro:Le,vtkInfoMacro:Ry,vtkLogMacro:My,vtkOnceErrorMacro:Ly,vtkWarningMacro:zi},Ky=I.vtkErrorMacro,Xy=["Build","Render"];function qy(t,e){e.classHierarchy.push("vtkViewNode"),t.build=function(n){},t.render=function(n){},t.traverse=function(n){var r=n.getTraverseOperation(),a=t[r];if(a){a(n);return}t.apply(n,!0);for(var i=0;i<e.children.length;i++)e.children[i].traverse(n);t.apply(n,!1)},t.apply=function(n,r){var a=t[n.getOperation()];a&&a(r,n)},t.getViewNodeFor=function(n){if(e.renderable===n)return t;for(var r=0;r<e.children.length;++r){var a=e.children[r],i=a.getViewNodeFor(n);if(i)return i}},t.getFirstAncestorOfType=function(n){return e._parent?e._parent.isA(n)?e._parent:e._parent.getFirstAncestorOfType(n):null},t.addMissingNode=function(n){if(!!n){var r=e._renderableChildMap.get(n);if(r!==void 0)r.setVisited(!0);else{var a=t.createViewNode(n);a&&(a.setParent(t),a.setVisited(!0),e._renderableChildMap.set(n,a),e.children.push(a))}}},t.addMissingNodes=function(n){if(!(!n||!n.length))for(var r=0;r<n.length;++r){var a=n[r],i=e._renderableChildMap.get(a);if(i!==void 0)i.setVisited(!0);else{var s=t.createViewNode(a);s&&(s.setParent(t),s.setVisited(!0),e._renderableChildMap.set(a,s),e.children.push(s))}}},t.addMissingChildren=function(n){if(!(!n||!n.length))for(var r=0;r<n.length;++r){var a=n[r],i=e.children.indexOf(a);i===-1&&(a.setParent(t),e.children.push(a)),a.setVisited(!0)}},t.prepareNodes=function(){for(var n=0;n<e.children.length;++n)e.children[n].setVisited(!1)},t.setVisited=function(n){e.visited=n},t.removeUnusedNodes=function(){for(var n=null,r=0;r<e.children.length;++r){var a=e.children[r],i=a.getVisited();if(i)a.setVisited(!1);else{var s=a.getRenderable();s&&e._renderableChildMap.delete(s),n||(n=[]),n.push(a)}}n&&(e.children=e.children.filter(function(o){return!n.includes(o)}))},t.createViewNode=function(n){if(!e.myFactory)return Ky("Cannot create view nodes without my own factory"),null;var r=e.myFactory.createNode(n);return r&&r.setRenderable(n),r}}var Yy={renderable:null,myFactory:null,children:[],visited:!1};function B1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Yy,n),I.obj(t,e),I.event(t,e,"event"),e._renderableChildMap=new Map,I.get(t,e,["visited"]),I.setGet(t,e,["_parent","renderable","myFactory"]),I.getArray(t,e,["children"]),I.moveToProtected(t,e,["parent"]),qy(t,e)}var Zy=I.newInstance(B1,"vtkViewNode"),Ut={newInstance:Zy,extend:B1,PASS_TYPES:Xy};function Jy(t,e){e.overrides||(e.overrides={}),e.classHierarchy.push("vtkViewNodeFactory"),t.createNode=function(n){if(n.isDeleted())return null;for(var r=0,a=n.getClassName(r++),i=!1,s=Object.keys(e.overrides);a&&!i;)s.indexOf(a)!==-1?i=!0:a=n.getClassName(r++);if(!i)return null;var o=e.overrides[a]();return o.setMyFactory(t),o},t.registerOverride=function(n,r){e.overrides[n]=r}}var Qy={};function V1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Qy,n),I.obj(t,e),Jy(t,e)}var e5=I.newInstance(V1,"vtkViewNodeFactory"),t5={newInstance:e5,extend:V1},U1=Object.create(null);function Gt(t,e){U1[t]=e}function r5(t,e){e.classHierarchy.push("vtkOpenGLViewNodeFactory")}var n5={};function G1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,n5,n),e.overrides=U1,t5.extend(t,e,n),r5(t,e)}var a5=I.newInstance(G1,"vtkOpenGLViewNodeFactory"),i5={newInstance:a5,extend:G1};function o5(t,e){e.classHierarchy.push("vtkOpenGLCamera"),t.buildPass=function(n){n&&(e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext())},t.opaquePass=function(n){if(n){var r=e.openGLRenderer.getTiledSizeAndOrigin();e.context.viewport(r.lowerLeftU,r.lowerLeftV,r.usize,r.vsize),e.context.scissor(r.lowerLeftU,r.lowerLeftV,r.usize,r.vsize)}},t.translucentPass=t.opaquePass,t.opaqueZBufferPass=t.opaquePass,t.volumePass=t.opaquePass,t.getKeyMatrices=function(n){if(n!==e.lastRenderer||e._openGLRenderWindow.getMTime()>e.keyMatrixTime.getMTime()||t.getMTime()>e.keyMatrixTime.getMTime()||n.getMTime()>e.keyMatrixTime.getMTime()||e.renderable.getMTime()>e.keyMatrixTime.getMTime()){Ft(e.keyMatrices.wcvc,e.renderable.getViewMatrix()),Pi(e.keyMatrices.normalMatrix,e.keyMatrices.wcvc),ji(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),Ze(e.keyMatrices.wcvc,e.keyMatrices.wcvc);var r=e.openGLRenderer.getAspectRatio();Ft(e.keyMatrices.vcpc,e.renderable.getProjectionMatrix(r,-1,1)),Ze(e.keyMatrices.vcpc,e.keyMatrices.vcpc),st(e.keyMatrices.wcpc,e.keyMatrices.vcpc,e.keyMatrices.wcvc),e.keyMatrixTime.modified(),e.lastRenderer=n}return e.keyMatrices}}var s5={context:null,lastRenderer:null,keyMatrixTime:null,keyMatrices:null};function u5(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,s5,n),Ut.extend(t,e,n),e.keyMatrixTime={},St(e.keyMatrixTime),e.keyMatrices={normalMatrix:new Float64Array(9),vcpc:new Float64Array(16),wcvc:new Float64Array(16),wcpc:new Float64Array(16)},Rt(t,e,["context","keyMatrixTime"]),o5(t,e)}var c5=ut(u5);Gt("vtkCamera",c5);var f5=Pn;function l5(t,e){e.classHierarchy.push("vtkOpenGLRenderer"),t.buildPass=function(n){if(n){if(!e.renderable)return;t.updateLights(),t.prepareNodes(),t.addMissingNode(e.renderable.getActiveCamera()),t.addMissingNodes(e.renderable.getViewPropsWithNestedProps()),t.removeUnusedNodes()}},t.updateLights=function(){for(var n=0,r=e.renderable.getLightsByReference(),a=0;a<r.length;++a)r[a].getSwitch()>0&&n++;return n||(f5("No lights are on, creating one."),e.renderable.createLight()),n},t.opaqueZBufferPass=function(n){if(n){var r=0,a=e.context;e.renderable.getTransparent()||(e.context.clearColor(1,0,0,1),r|=a.COLOR_BUFFER_BIT),e.renderable.getPreserveDepthBuffer()||(a.clearDepth(1),r|=a.DEPTH_BUFFER_BIT,e.context.depthMask(!0));var i=t.getTiledSizeAndOrigin();a.enable(a.SCISSOR_TEST),a.scissor(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),a.viewport(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),a.colorMask(!0,!0,!0,!0),r&&a.clear(r),a.enable(a.DEPTH_TEST)}},t.cameraPass=function(n){n&&t.clear()},t.getAspectRatio=function(){var n=e._parent.getSizeByReference(),r=e.renderable.getViewportByReference();return n[0]*(r[2]-r[0])/((r[3]-r[1])*n[1])},t.getTiledSizeAndOrigin=function(){var n=e.renderable.getViewportByReference(),r=[0,0,1,1],a=n[0]-r[0],i=n[1]-r[1],s=e._parent.normalizedDisplayToDisplay(a,i),o=Math.round(s[0]),c=Math.round(s[1]),u=n[2]-r[0],l=n[3]-r[1],f=e._parent.normalizedDisplayToDisplay(u,l),h=Math.round(f[0])-o,p=Math.round(f[1])-c;return h<0&&(h=0),p<0&&(p=0),{usize:h,vsize:p,lowerLeftU:o,lowerLeftV:c}},t.clear=function(){var n=0,r=e.context;if(!e.renderable.getTransparent()){var a=e.renderable.getBackgroundByReference();e.context.clearColor(a[0],a[1],a[2],a[3]),n|=r.COLOR_BUFFER_BIT}e.renderable.getPreserveDepthBuffer()||(r.clearDepth(1),n|=r.DEPTH_BUFFER_BIT,e.context.depthMask(!0)),r.colorMask(!0,!0,!0,!0);var i=t.getTiledSizeAndOrigin();r.enable(r.SCISSOR_TEST),r.scissor(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),r.viewport(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),n&&r.clear(n),r.enable(r.DEPTH_TEST)},t.releaseGraphicsResources=function(){e.selector!==null&&e.selector.releaseGraphicsResources()},t.setOpenGLRenderWindow=function(n){e._openGLRenderWindow!==n&&(t.releaseGraphicsResources(),e._openGLRenderWindow=n,e.context=null,n&&(e.context=e._openGLRenderWindow.getContext()))}}var h5={context:null,selector:null};function p5(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,h5,n),Ut.extend(t,e,n),Mr(t,e,["shaderCache"]),Rt(t,e,["selector"]),Zu(t,e,["openGLRenderWindow"]),l5(t,e)}var v5=ut(p5,"vtkOpenGLRenderer");Gt("vtkRenderer",v5);var d5={NONE:-1,I:0,J:1,K:2,X:3,Y:4,Z:5},Ju={SlicingMode:d5},Ns={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},pt={VOID:"",CHAR:"Int8Array",SIGNED_CHAR:"Int8Array",UNSIGNED_CHAR:"Uint8Array",SHORT:"Int16Array",UNSIGNED_SHORT:"Uint16Array",INT:"Int32Array",UNSIGNED_INT:"Uint32Array",FLOAT:"Float32Array",DOUBLE:"Float64Array"},g5=pt.FLOAT,P1={DefaultDataType:g5,DataTypeByteSize:Ns,VtkDataTypes:pt},j1={exports:{}};(function(t){(function(e,n,r){function a(c){var u=this,l=o();u.next=function(){var f=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=f|0)},u.c=1,u.s0=l(" "),u.s1=l(" "),u.s2=l(" "),u.s0-=l(c),u.s0<0&&(u.s0+=1),u.s1-=l(c),u.s1<0&&(u.s1+=1),u.s2-=l(c),u.s2<0&&(u.s2+=1),l=null}function i(c,u){return u.c=c.c,u.s0=c.s0,u.s1=c.s1,u.s2=c.s2,u}function s(c,u){var l=new a(c),f=u&&u.state,h=l.next;return h.int32=function(){return l.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,f&&(typeof f=="object"&&i(f,l),h.state=function(){return i(l,{})}),h}function o(){var c=4022871197,u=function(l){l=String(l);for(var f=0;f<l.length;f++){c+=l.charCodeAt(f);var h=.02519603282416938*c;c=h>>>0,h-=c,h*=c,c=h>>>0,h-=c,c+=h*4294967296}return(c>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=s:r&&r.amd?r(function(){return s}):this.alea=s})(It,t,!1)})(j1);var z1={exports:{}};(function(t){(function(e,n,r){function a(o){var c=this,u="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var f=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^f^f>>>8},o===(o|0)?c.x=o:u+=o;for(var l=0;l<u.length+64;l++)c.x^=u.charCodeAt(l)|0,c.next()}function i(o,c){return c.x=o.x,c.y=o.y,c.z=o.z,c.w=o.w,c}function s(o,c){var u=new a(o),l=c&&c.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,p=(u.next()>>>0)/4294967296,d=(h+p)/(1<<21);while(d===0);return d},f.int32=u.next,f.quick=f,l&&(typeof l=="object"&&i(l,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=s:r&&r.amd?r(function(){return s}):this.xor128=s})(It,t,!1)})(z1);var I1={exports:{}};(function(t){(function(e,n,r){function a(o){var c=this,u="";c.next=function(){var f=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(f^f<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,o===(o|0)?c.x=o:u+=o;for(var l=0;l<u.length+64;l++)c.x^=u.charCodeAt(l)|0,l==u.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function i(o,c){return c.x=o.x,c.y=o.y,c.z=o.z,c.w=o.w,c.v=o.v,c.d=o.d,c}function s(o,c){var u=new a(o),l=c&&c.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,p=(u.next()>>>0)/4294967296,d=(h+p)/(1<<21);while(d===0);return d},f.int32=u.next,f.quick=f,l&&(typeof l=="object"&&i(l,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=s:r&&r.amd?r(function(){return s}):this.xorwow=s})(It,t,!1)})(I1);var W1={exports:{}};(function(t){(function(e,n,r){function a(o){var c=this;c.next=function(){var l=c.x,f=c.i,h,p;return h=l[f],h^=h>>>7,p=h^h<<24,h=l[f+1&7],p^=h^h>>>10,h=l[f+3&7],p^=h^h>>>3,h=l[f+4&7],p^=h^h<<7,h=l[f+7&7],h=h^h<<13,p^=h^h<<9,l[f]=p,c.i=f+1&7,p};function u(l,f){var h,p=[];if(f===(f|0))p[0]=f;else for(f=""+f,h=0;h<f.length;++h)p[h&7]=p[h&7]<<15^f.charCodeAt(h)+p[h+1&7]<<13;for(;p.length<8;)p.push(0);for(h=0;h<8&&p[h]===0;++h);for(h==8&&(p[7]=-1),l.x=p,l.i=0,h=256;h>0;--h)l.next()}u(c,o)}function i(o,c){return c.x=o.x.slice(),c.i=o.i,c}function s(o,c){o==null&&(o=+new Date);var u=new a(o),l=c&&c.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,p=(u.next()>>>0)/4294967296,d=(h+p)/(1<<21);while(d===0);return d},f.int32=u.next,f.quick=f,l&&(l.x&&i(l,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=s:r&&r.amd?r(function(){return s}):this.xorshift7=s})(It,t,!1)})(W1);var H1={exports:{}};(function(t){(function(e,n,r){function a(o){var c=this;c.next=function(){var l=c.w,f=c.X,h=c.i,p,d;return c.w=l=l+1640531527|0,d=f[h+34&127],p=f[h=h+1&127],d^=d<<13,p^=p<<17,d^=d>>>15,p^=p>>>12,d=f[h]=d^p,c.i=h,d+(l^l>>>16)|0};function u(l,f){var h,p,d,y,m,_=[],v=128;for(f===(f|0)?(p=f,f=null):(f=f+"\0",p=0,v=Math.max(v,f.length)),d=0,y=-32;y<v;++y)f&&(p^=f.charCodeAt((y+32)%f.length)),y===0&&(m=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,y>=0&&(m=m+1640531527|0,h=_[y&127]^=p+m,d=h==0?d+1:0);for(d>=128&&(_[(f&&f.length||0)&127]=-1),d=127,y=4*128;y>0;--y)p=_[d+34&127],h=_[d=d+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,_[d]=p^h;l.w=m,l.X=_,l.i=d}u(c,o)}function i(o,c){return c.i=o.i,c.w=o.w,c.X=o.X.slice(),c}function s(o,c){o==null&&(o=+new Date);var u=new a(o),l=c&&c.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,p=(u.next()>>>0)/4294967296,d=(h+p)/(1<<21);while(d===0);return d},f.int32=u.next,f.quick=f,l&&(l.X&&i(l,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=s:r&&r.amd?r(function(){return s}):this.xor4096=s})(It,t,!1)})(H1);var $1={exports:{}};(function(t){(function(e,n,r){function a(o){var c=this,u="";c.next=function(){var f=c.b,h=c.c,p=c.d,d=c.a;return f=f<<25^f>>>7^h,h=h-p|0,p=p<<24^p>>>8^d,d=d-f|0,c.b=f=f<<20^f>>>12^h,c.c=h=h-p|0,c.d=p<<16^h>>>16^d,c.a=d-f|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,o===Math.floor(o)?(c.a=o/4294967296|0,c.b=o|0):u+=o;for(var l=0;l<u.length+20;l++)c.b^=u.charCodeAt(l)|0,c.next()}function i(o,c){return c.a=o.a,c.b=o.b,c.c=o.c,c.d=o.d,c}function s(o,c){var u=new a(o),l=c&&c.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,p=(u.next()>>>0)/4294967296,d=(h+p)/(1<<21);while(d===0);return d},f.int32=u.next,f.quick=f,l&&(typeof l=="object"&&i(l,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=s:r&&r.amd?r(function(){return s}):this.tychei=s})(It,t,!1)})($1);var K1={exports:{}};(function(t){(function(e,n,r){var a=256,i=6,s=52,o="random",c=r.pow(a,i),u=r.pow(2,s),l=u*2,f=a-1,h;function p(x,w,C){var S=[];w=w==!0?{entropy:!0}:w||{};var T=_(m(w.entropy?[x,g(n)]:x==null?v():x,3),S),b=new d(S),O=function(){for(var D=b.g(i),N=c,R=0;D<u;)D=(D+R)*a,N*=a,R=b.g(1);for(;D>=l;)D/=2,N/=2,R>>>=1;return(D+R)/N};return O.int32=function(){return b.g(4)|0},O.quick=function(){return b.g(4)/4294967296},O.double=O,_(g(b.S),n),(w.pass||C||function(D,N,R,E){return E&&(E.S&&y(E,b),D.state=function(){return y(b,{})}),R?(r[o]=D,N):D})(O,T,"global"in w?w.global:this==r,w.state)}function d(x){var w,C=x.length,S=this,T=0,b=S.i=S.j=0,O=S.S=[];for(C||(x=[C++]);T<a;)O[T]=T++;for(T=0;T<a;T++)O[T]=O[b=f&b+x[T%C]+(w=O[T])],O[b]=w;(S.g=function(D){for(var N,R=0,E=S.i,A=S.j,W=S.S;D--;)N=W[E=f&E+1],R=R*a+W[f&(W[E]=W[A=f&A+N])+(W[A]=N)];return S.i=E,S.j=A,R})(a)}function y(x,w){return w.i=x.i,w.j=x.j,w.S=x.S.slice(),w}function m(x,w){var C=[],S=typeof x,T;if(w&&S=="object")for(T in x)try{C.push(m(x[T],w-1))}catch{}return C.length?C:S=="string"?x:x+"\0"}function _(x,w){for(var C=x+"",S,T=0;T<C.length;)w[f&T]=f&(S^=w[f&T]*19)+C.charCodeAt(T++);return g(w)}function v(){try{var x;return h&&(x=h.randomBytes)?x=x(a):(x=new Uint8Array(a),(e.crypto||e.msCrypto).getRandomValues(x)),g(x)}catch{var w=e.navigator,C=w&&w.plugins;return[+new Date,e,C,e.screen,g(n)]}}function g(x){return String.fromCharCode.apply(0,x)}if(_(r.random(),n),t.exports){t.exports=p;try{h=require("crypto")}catch{}}else r["seed"+o]=p})(typeof self!="undefined"?self:It,[],Math)})(K1);var y5=j1.exports,m5=z1.exports,_5=I1.exports,x5=W1.exports,w5=H1.exports,C5=$1.exports,La=K1.exports;La.alea=y5;La.xor128=m5;La.xorwow=_5;La.xorshift7=x5;La.xor4096=w5;La.tychei=C5;var nf=I.vtkWarningMacro,S5=1e-12;function nu(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3;return Array(t).fill(0)}function ot(t){return t/180*Math.PI}function Jo(t){return t*180/Math.PI}var on=Math.round,au=Math.floor;function T5(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=1/0,a=-1/0,i=e,s=t.length;i<s;i+=n)t[i]<r&&(r=t[i]),a<t[i]&&(a=t[i]);return[r,a]}function mr(t){for(var e=1;e<t;)e*=2;return e}function to(t){return t===mr(t)}function Ys(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=e-t;return t+n*Math.random()}function Qo(t,e,n){return n[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2],n}function Ct(t,e,n){return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n[2]=t[2]-e[2],n}function X1(t,e){return t[0]*=e,t[1]*=e,t[2]*=e,t}function af(t,e,n,r){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r[2]=t[2]+e[2]*n,r}function Be(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Lt(t,e,n){var r=t[1]*e[2]-t[2]*e[1],a=t[2]*e[0]-t[0]*e[2],i=t[0]*e[1]-t[1]*e[0];return n[0]=r,n[1]=a,n[2]=i,n}function jn(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;switch(e){case 1:return Math.abs(t);case 2:return Math.sqrt(t[0]*t[0]+t[1]*t[1]);case 3:return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);default:{for(var n=0,r=0;r<e;r++)n+=t[r]*t[r];return Math.sqrt(n)}}}function lt(t){var e=jn(t);return e!==0&&(t[0]/=e,t[1]/=e,t[2]/=e),e}function nr(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])+(t[2]-e[2])*(t[2]-e[2])}function b5(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function E5(t){var e=b5(t);return e!==0&&(t[0]/=e,t[1]/=e),e}function jo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===2?e[0][0]*e[1][1]-e[1][0]*e[0][1]:e.length===4?e[0]*e[3]-e[1]*e[2]:Number.NaN}function ro(t,e,n){var r=t[0][0]*e[0]+t[0][1]*e[1]+t[0][2]*e[2],a=t[1][0]*e[0]+t[1][1]*e[1]+t[1][2]*e[2],i=t[2][0]*e[0]+t[2][1]*e[1]+t[2][2]*e[2];n[0]=r,n[1]=a,n[2]=i}function D5(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-6;if(t.length!==e.length)return!1;function r(a,i){return Math.abs(a-e[i])<=n}return t.every(r)}var O5=D5;function Zs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!"".concat(t).includes("e"))return+"".concat(Math.round("".concat(t,"e+").concat(e)),"e-").concat(e);var n="".concat(t).split("e"),r="";return+n[1]+e>0&&(r="+"),+"".concat(Math.round("".concat(+n[0],"e").concat(r).concat(+n[1]+e)),"e-").concat(e)}function of(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return e[0]=Zs(t[0],n),e[1]=Zs(t[1],n),e[2]=Zs(t[2],n),e}function N5(t,e,n){var r,a,i,s,o=0,c,u,l,f=nu(n);for(r=0;r<n;r++){for(s=0,a=0;a<n;a++)(l=Math.abs(t[r][a]))>s&&(s=l);if(s===0)return nf("Unable to factor linear system"),0;f[r]=1/s}for(a=0;a<n;a++){for(r=0;r<a;r++){for(c=t[r][a],i=0;i<r;i++)c-=t[r][i]*t[i][a];t[r][a]=c}for(s=0,r=a;r<n;r++){for(c=t[r][a],i=0;i<a;i++)c-=t[r][i]*t[i][a];t[r][a]=c,(u=f[r]*Math.abs(c))>=s&&(s=u,o=r)}if(a!==o){for(i=0;i<n;i++)u=t[o][i],t[o][i]=t[a][i],t[a][i]=u;f[o]=f[a]}if(e[a]=o,Math.abs(t[a][a])<=S5)return nf("Unable to factor linear system"),0;if(a!==n-1)for(u=1/t[a][a],r=a+1;r<n;r++)t[r][a]*=u}return 1}function k5(t,e,n,r){var a,i,s,o,c;for(s=-1,a=0;a<r;a++){if(o=e[a],c=n[o],n[o]=n[a],s>=0)for(i=s;i<=a-1;i++)c-=t[a][i]*n[i];else c!==0&&(s=a);n[a]=c}for(a=r-1;a>=0;a--){for(c=n[a],i=a+1;i<r;i++)c-=t[a][i]*n[i];n[a]=c/t[a][a]}}function M5(t,e,n){if(n===2){var r=nu(2),a=jo(t[0][0],t[0][1],t[1][0],t[1][1]);return a===0?0:(r[0]=(t[1][1]*e[0]-t[0][1]*e[1])/a,r[1]=(-(t[1][0]*e[0])+t[0][0]*e[1])/a,e[0]=r[0],e[1]=r[1],1)}if(n===1)return t[0][0]===0?0:(e[0]/=t[0][0],1);var i=nu(n);return N5(t,i,n)===0?0:(k5(t,i,e,n),1)}function no(t,e){var n,r,a=We(t,3),i=a[0],s=a[1],o=a[2],c=1/3,u=1/6,l=2/3,f=i,h=i;s>f?f=s:s<h&&(h=s),o>f?f=o:o<h&&(h=o);var p=f;p>0?r=(f-h)/f:r=0,r>0?(i===f?n=u*(s-o)/(f-h):s===f?n=c+u*(o-i)/(f-h):n=l+u*(i-s)/(f-h),n<0&&(n+=1)):n=0,e[0]=n,e[1]=r,e[2]=p}function ua(t,e){var n=We(t,3),r=n[0],a=n[1],i=n[2],s=1/3,o=1/6,c=2/3,u=5/6,l,f,h;r>o&&r<=s?(f=1,l=(s-r)/o,h=0):r>s&&r<=.5?(f=1,h=(r-s)/o,l=0):r>.5&&r<=c?(h=1,f=(c-r)/o,l=0):r>c&&r<=u?(h=1,l=(r-c)/o,f=0):r>u&&r<=1?(l=1,h=(1-r)/o,f=0):(l=1,f=r/o,h=0),l=a*l+(1-a),f=a*f+(1-a),h=a*h+(1-a),l*=i,f*=i,h*=i,e[0]=l,e[1]=f,e[2]=h}function R5(t,e){var n=We(t,3),r=n[0],a=n[1],i=n[2],s=(r+16)/116,o=a/500+s,c=s-i/200;Math.pow(s,3)>.008856?s=Math.pow(s,3):s=(s-16/116)/7.787,Math.pow(o,3)>.008856?o=Math.pow(o,3):o=(o-16/116)/7.787,Math.pow(c,3)>.008856?c=Math.pow(c,3):c=(c-16/116)/7.787;var u=.9505,l=1,f=1.089;e[0]=u*o,e[1]=l*s,e[2]=f*c}function L5(t,e){var n=We(t,3),r=n[0],a=n[1],i=n[2],s=.9505,o=1,c=1.089,u=r/s,l=a/o,f=i/c;u>.008856?u=Math.pow(u,1/3):u=7.787*u+16/116,l>.008856?l=Math.pow(l,1/3):l=7.787*l+16/116,f>.008856?f=Math.pow(f,1/3):f=7.787*f+16/116,e[0]=116*l-16,e[1]=500*(u-l),e[2]=200*(l-f)}function F5(t,e){var n=We(t,3),r=n[0],a=n[1],i=n[2],s=r*3.2406+a*-1.5372+i*-.4986,o=r*-.9689+a*1.8758+i*.0415,c=r*.0557+a*-.204+i*1.057;s>.0031308?s=1.055*Math.pow(s,1/2.4)-.055:s*=12.92,o>.0031308?o=1.055*Math.pow(o,1/2.4)-.055:o*=12.92,c>.0031308?c=1.055*Math.pow(c,1/2.4)-.055:c*=12.92;var u=s;u<o&&(u=o),u<c&&(u=c),u>1&&(s/=u,o/=u,c/=u),s<0&&(s=0),o<0&&(o=0),c<0&&(c=0),e[0]=s,e[1]=o,e[2]=c}function A5(t,e){var n=We(t,3),r=n[0],a=n[1],i=n[2];r>.04045?r=Math.pow((r+.055)/1.055,2.4):r/=12.92,a>.04045?a=Math.pow((a+.055)/1.055,2.4):a/=12.92,i>.04045?i=Math.pow((i+.055)/1.055,2.4):i/=12.92,e[0]=r*.4124+a*.3576+i*.1805,e[1]=r*.2126+a*.7152+i*.0722,e[2]=r*.0193+a*.1192+i*.9505}function va(t,e){var n=[0,0,0];A5(t,n),L5(n,e)}function iu(t,e){var n=[0,0,0];R5(t,n),F5(n,e)}function Fa(t){return t[0]=1,t[1]=-1,t[2]=1,t[3]=-1,t[4]=1,t[5]=-1,t}function Js(t){return!(t[1]-t[0]<0)}function sf(t,e,n){return n[0]=Math.min(t[0],e[0]),n[1]=Math.max(t[0],e[0]),n[2]=Math.min(t[1],e[1]),n[3]=Math.max(t[1],e[1]),n[4]=Math.min(t[2],e[2]),n[5]=Math.max(t[2],e[2]),n}function xa(t,e,n){return t<e?e:t>n?n:t}function uf(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0,0,0];return r[0]=xa(t[0],e[0],n[0]),r[1]=xa(t[1],e[1],n[1]),r[2]=xa(t[2],e[2],n[2]),r}var B5=function(e){return!Number.isFinite(e)},V5=Number.isNaN,es=V5;function Ta(){return[].concat([Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE])}function cf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ts(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var U5=P1.DefaultDataType,G5=[];function ou(t,e,n){var r=t.length,a,i,s,o;if(r===0)return{min:Number.MAX_VALUE,max:-Number.MAX_VALUE};for(a=t[e],i=a,o=e;o<r;o+=n)s=t[o],s<a?a=s:s>i&&(i=s);return{min:a,max:i}}function P5(){var t=Number.MAX_VALUE,e=-Number.MAX_VALUE,n=0,r=0;return{add:function(i){t>i&&(t=i),e<i&&(e=i),n++,r+=i},get:function(){return{min:t,max:e,count:n,sum:r,mean:r/n}},getRange:function(){return{min:t,max:e}}}}function q1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(e<0&&n>1){for(var r=t.length,a=r/n,i=new Float64Array(a),s=0,o=0;s<a;++s){for(var c,u=o+n;o<u;++o)i[s]+=t[o]*t[o];c=s,i[c]=Math.pow(i[c],.5)}return ou(i,0,1)}return ou(t,e<0?0:e,n)}function ff(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t||[];n.length<=e;)n.push(null);return n}function Qu(t){return Object.prototype.toString.call(t).slice(8,-1)}function j5(t){for(var e=t.getNumberOfComponents(),n=0,r=0;r<t.getNumberOfTuples();++r){var a=jn(t.getTuple(r),e);a>n&&(n=a)}return n}var z5={computeRange:q1,createRangeHelper:P5,fastComputeRange:ou,getDataType:Qu,getMaxNorm:j5};function I5(t,e){e.classHierarchy.push("vtkDataArray");function n(){e.ranges=null,t.modified()}t.getElementComponentSize=function(){return e.values.BYTES_PER_ELEMENT},t.getComponent=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.values[r*e.numberOfComponents+a]},t.setComponent=function(r,a,i){i!==e.values[r*e.numberOfComponents+a]&&(e.values[r*e.numberOfComponents+a]=i,n())},t.getData=function(){return e.values},t.getRange=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,a=r<0?e.numberOfComponents:r,i=null;return e.ranges||(e.ranges=ff(e.ranges,e.numberOfComponents)),i=e.ranges[a],i?(e.rangeTuple[0]=i.min,e.rangeTuple[1]=i.max,e.rangeTuple):(i=q1(e.values,r,e.numberOfComponents),e.ranges[a]=i,e.rangeTuple[0]=i.min,e.rangeTuple[1]=i.max,e.rangeTuple)},t.setRange=function(r,a){e.ranges||(e.ranges=ff(e.ranges,e.numberOfComponents));var i={min:r.min,max:r.max};return e.ranges[a]=i,e.rangeTuple[0]=i.min,e.rangeTuple[1]=i.max,e.rangeTuple},t.setTuple=function(r,a){for(var i=r*e.numberOfComponents,s=0;s<e.numberOfComponents;s++)e.values[i+s]=a[s]},t.getTuple=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G5,i=e.numberOfComponents||1;a.length!==i&&(a.length=i);var s=r*i;if(i===1)a[0]=e.values[s];else if(i===2)a[0]=e.values[s],a[1]=e.values[s+1];else if(i===3)a[0]=e.values[s],a[1]=e.values[s+1],a[2]=e.values[s+2];else if(i===4)a[0]=e.values[s],a[1]=e.values[s+1],a[2]=e.values[s+2],a[3]=e.values[s+3];else for(var o=0;o<i;o++)a[o]=e.values[s+o];return a},t.getTupleLocation=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return r*e.numberOfComponents},t.getNumberOfComponents=function(){return e.numberOfComponents},t.getNumberOfValues=function(){return e.values.length},t.getNumberOfTuples=function(){return e.values.length/e.numberOfComponents},t.getDataType=function(){return e.dataType},t.newClone=function(){return Z1({empty:!0,name:e.name,dataType:e.dataType,numberOfComponents:e.numberOfComponents})},t.getName=function(){return e.name||(t.modified(),e.name="vtkDataArray".concat(t.getMTime())),e.name},t.setData=function(r,a){e.values=r,e.size=r.length,e.dataType=Qu(r),a&&(e.numberOfComponents=a),e.size%e.numberOfComponents!==0&&(e.numberOfComponents=1),n()},t.getState=function(){if(e.deleted)return null;var r=ts(ts({},e),{},{vtkClass:t.getClassName()});r.values=Array.from(r.values),delete r.buffer,Object.keys(r).forEach(function(i){r[i]||delete r[i]});var a={};return Object.keys(r).sort().forEach(function(i){a[i]=r[i]}),a.mtime&&delete a.mtime,a}}var W5={name:"",numberOfComponents:1,size:0,dataType:U5,rangeTuple:[0,0]};function Y1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,W5,n),!e.empty&&!e.values&&!e.size)throw new TypeError("Cannot create vtkDataArray object without: size > 0, values");e.values?Array.isArray(e.values)&&(e.values=qu(e.dataType,e.values)):e.values=Xu(e.dataType,e.size),e.values&&(e.size=e.values.length,e.dataType=Qu(e.values)),St(t,e),Ds(t,e,["name","numberOfComponents"]),I5(t,e)}var Z1=ut(Y1,"vtkDataArray"),Ee=ts(ts({newInstance:Z1,extend:Y1},z5),P1),hi={ARRAY_BUFFER:0,ELEMENT_ARRAY_BUFFER:1,TEXTURE_BUFFER:2},J1={ObjectType:hi};function lf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var zo=J1.ObjectType,H5={};function $5(t,e){e.classHierarchy.push("vtkOpenGLBufferObject");function n(o){switch(o){case zo.ELEMENT_ARRAY_BUFFER:return e.context.ELEMENT_ARRAY_BUFFER;case zo.TEXTURE_BUFFER:if("TEXTURE_BUFFER"in e.context)return e.context.TEXTURE_BUFFER;case zo.ARRAY_BUFFER:default:return e.context.ARRAY_BUFFER}}var r=null,a=null,i=!0,s="";t.getType=function(){return r},t.setType=function(o){r=o},t.getHandle=function(){return a},t.isReady=function(){return i===!1},t.generateBuffer=function(o){var c=n(o);return a===null&&(a=e.context.createBuffer(),r=o),n(r)===c},t.upload=function(o,c){var u=t.generateBuffer(c);return u?(e.context.bindBuffer(n(r),a),e.context.bufferData(n(r),o,e.context.STATIC_DRAW),i=!1,!0):(s="Trying to upload array buffer to incompatible buffer.",!1)},t.bind=function(){return a?(e.context.bindBuffer(n(r),a),!0):!1},t.release=function(){return a?(e.context.bindBuffer(n(r),null),!0):!1},t.releaseGraphicsResources=function(){a!==null&&(e.context.bindBuffer(n(r),null),e.context.deleteBuffer(a),a=null)},t.setOpenGLRenderWindow=function(o){e._openGLRenderWindow!==o&&(t.releaseGraphicsResources(),e._openGLRenderWindow=o,e.context=null,o&&(e.context=e._openGLRenderWindow.getContext()))},t.getError=function(){return s}}var K5={objectType:zo.ARRAY_BUFFER,context:null};function Q1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,K5,n),I.obj(t,e),I.get(t,e,["_openGLRenderWindow"]),I.moveToProtected(t,e,["openGLRenderWindow"]),$5(t,e)}var X5=I.newInstance(Q1),kn=hf(hf({newInstance:X5,extend:Q1},H5),J1),ep={FLAT:0,GOURAUD:1,PHONG:2},$t={POINTS:0,WIREFRAME:1,SURFACE:2},q5=ep,ec={Shading:ep,Representation:$t,Interpolation:q5},pf=I.vtkErrorMacro;function Y5(t,e){var n=new Float64Array(3);h1(n,e);var r=new Float64Array(16);return e1(r,Gn(),t,n),r}function Z5(t,e){return t===null||e===null?!1:!(ma(t,[0,0,0])&&ma(e,[1,1,1]))}function J5(t,e){e.classHierarchy.push("vtkOpenGLCellArrayBufferObject"),t.setType(hi.ARRAY_BUFFER),t.createVBO=function(n,r,a,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!n.getData()||!n.getData().length)return e.elementCount=0,0;e.blockSize=3,e.vertexOffset=0,e.normalOffset=0,e.tCoordOffset=0,e.tCoordComponents=0,e.colorComponents=0,e.colorOffset=0,e.customData=[];var o=i.points.getData(),c=null,u=null,l=null,f=i.colors?i.colors.getNumberOfComponents():0,h=i.tcoords?i.tcoords.getNumberOfComponents():0;i.normals&&(e.normalOffset=4*e.blockSize,e.blockSize+=3,c=i.normals.getData()),i.customAttributes&&i.customAttributes.forEach(function(j){j&&(e.customData.push({data:j.getData(),offset:4*e.blockSize,components:j.getNumberOfComponents(),name:j.getName()}),e.blockSize+=j.getNumberOfComponents())}),i.tcoords&&(e.tCoordOffset=4*e.blockSize,e.tCoordComponents=h,e.blockSize+=h,u=i.tcoords.getData()),i.colors?(e.colorComponents=i.colors.getNumberOfComponents(),e.colorOffset=0,l=i.colors.getData(),e.colorBO||(e.colorBO=kn.newInstance()),e.colorBO.setOpenGLRenderWindow(e._openGLRenderWindow)):e.colorBO=null,e.stride=4*e.blockSize;var p=0,d=0,y=0,m=0,_=0,v=0,g,x={anythingToPoints:function(V,M,P){for(var U=0;U<V;++U)g(M[P+U])},linesToWireframe:function(V,M,P){for(var U=0;U<V-1;++U)g(M[P+U]),g(M[P+U+1])},polysToWireframe:function(V,M,P){if(V>2)for(var U=0;U<V;++U)g(M[P+U]),g(M[P+(U+1)%V])},stripsToWireframe:function(V,M,P){if(V>2){for(var U=0;U<V-1;++U)g(M[P+U]),g(M[P+U+1]);for(var K=0;K<V-2;K++)g(M[P+K]),g(M[P+K+2])}},polysToSurface:function(V,M,P){for(var U=0;U<V-2;U++)g(M[P+0]),g(M[P+U+1]),g(M[P+U+2])},stripsToSurface:function(V,M,P){for(var U=0;U<V-2;U++)g(M[P+U]),g(M[P+U+1+U%2]),g(M[P+U+1+(U+1)%2])}},w={anythingToPoints:function(V,M){return V},linesToWireframe:function(V,M){return V>1?(V-1)*2:0},polysToWireframe:function(V,M){return V>2?V*2:0},stripsToWireframe:function(V,M){return V>2?V*4-6:0},polysToSurface:function(V,M){return V>2?(V-2)*3:0},stripsToSurface:function(V,M,P){return V>2?(V-2)*3:0}},C=null,S=null;a===$t.POINTS||r==="verts"?(C=x.anythingToPoints,S=w.anythingToPoints):a===$t.WIREFRAME||r==="lines"?(C=x["".concat(r,"ToWireframe")],S=w["".concat(r,"ToWireframe")]):(C=x["".concat(r,"ToSurface")],S=w["".concat(r,"ToSurface")]);for(var T=n.getData(),b=T.length,O=0,D=0;D<b;)O+=S(T[D],T),D+=T[D]+1;var N=null,R=new Float32Array(O*e.blockSize);l&&(N=new Uint8Array(O*4));for(var E=0,A=0,W=0,z=0,F=0;F<3;++F){var L=i.points.getRange(F),G=L[1]-L[0];W+=G*G;var H=.5*(L[1]+L[0]);z+=H*H}var $=W>0&&(Math.abs(z)/W>1e6||Math.abs(Math.log10(W))>3||W===0&&z>1e6);if($){for(var J=new Float64Array(3),Q=new Float64Array(3),q=0;q<3;++q){var ne=i.points.getRange(q),te=ne[1]-ne[0];J[q]=.5*(ne[1]+ne[0]),Q[q]=te>0?1/te:1}t.setCoordShiftAndScale(J,Q)}else e.coordShiftAndScaleEnabled===!0&&t.setCoordShiftAndScale(null,null);if(s)if(!s.points&&!s.cells)s.points=new Int32Array(O),s.cells=new Int32Array(O);else{var oe=new Int32Array(O+s.points.length);oe.set(s.points),s.points=oe;var re=new Int32Array(O+s.points.length);re.set(s.cells),s.cells=re}var B=i.vertexOffset;g=function(V){if(s&&(s.points[B]=V,s.cells[B]=v),++B,p=V*3,e.coordShiftAndScaleEnabled?(R[E++]=(o[p++]-e.coordShift[0])*e.coordScale[0],R[E++]=(o[p++]-e.coordShift[1])*e.coordScale[1],R[E++]=(o[p++]-e.coordShift[2])*e.coordScale[2]):(R[E++]=o[p++],R[E++]=o[p++],R[E++]=o[p++]),c!==null&&(i.haveCellNormals?d=(v+i.cellOffset)*3:d=V*3,R[E++]=c[d++],R[E++]=c[d++],R[E++]=c[d++]),e.customData.forEach(function(P){_=V*P.components;for(var U=0;U<P.components;++U)R[E++]=P.data[_++]}),u!==null){y=V*h;for(var M=0;M<h;++M)R[E++]=u[y++]}l!==null&&(i.haveCellScalars?m=(v+i.cellOffset)*f:m=V*f,N[A++]=l[m++],N[A++]=l[m++],N[A++]=l[m++],N[A++]=f===4?l[m++]:255)};for(var k=0;k<b;)C(T[k],T,k+1),k+=T[k]+1,v++;return e.elementCount=O,t.upload(R,hi.ARRAY_BUFFER),e.colorBO&&(e.colorBOStride=4,e.colorBO.upload(N,hi.ARRAY_BUFFER)),v},t.setCoordShiftAndScale=function(n,r){if(n!==null&&(n.constructor!==Float64Array||n.length!==3)){pf("Wrong type for coordShift, expected vec3 or null");return}if(r!==null&&(r.constructor!==Float64Array||r.length!==3)){pf("Wrong type for coordScale, expected vec3 or null");return}(e.coordShift===null||n===null||!q0(n,e.coordShift))&&(e.coordShift=n),(e.coordScale===null||r===null||!q0(r,e.coordScale))&&(e.coordScale=r),e.coordShiftAndScaleEnabled=Z5(e.coordShift,e.coordScale),e.coordShiftAndScaleEnabled?e.inverseShiftAndScaleMatrix=Y5(e.coordShift,e.coordScale):e.inverseShiftAndScaleMatrix=null}}var Q5={elementCount:0,stride:0,colorBOStride:0,vertexOffset:0,normalOffset:0,tCoordOffset:0,tCoordComponents:0,colorOffset:0,colorComponents:0,tcoordBO:null,customData:[],coordShift:null,coordScale:null,coordShiftAndScaleEnabled:!1,inverseShiftAndScaleMatrix:null};function tp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Q5,n),kn.extend(t,e,n),I.setGet(t,e,["colorBO","elementCount","stride","colorBOStride","vertexOffset","normalOffset","tCoordOffset","tCoordComponents","colorOffset","colorComponents","customData"]),I.get(t,e,["coordShift","coordScale","coordShiftAndScaleEnabled","inverseShiftAndScaleMatrix"]),J5(t,e)}var e4=I.newInstance(tp),t4={newInstance:e4,extend:tp},r4=I.vtkErrorMacro;function n4(t,e){e.classHierarchy.push("vtkShader"),t.compile=function(){var n=e.context.VERTEX_SHADER;if(!e.source||!e.source.length||e.shaderType==="Unknown")return!1;switch(e.handle!==0&&(e.context.deleteShader(e.handle),e.handle=0),e.shaderType){case"Fragment":n=e.context.FRAGMENT_SHADER;break;case"Vertex":default:n=e.context.VERTEX_SHADER;break}e.handle=e.context.createShader(n),e.context.shaderSource(e.handle,e.source),e.context.compileShader(e.handle);var r=e.context.getShaderParameter(e.handle,e.context.COMPILE_STATUS);if(!r){var a=e.context.getShaderInfoLog(e.handle);return r4("Error compiling shader '".concat(e.source,"': ").concat(a)),e.context.deleteShader(e.handle),e.handle=0,!1}return!0},t.cleanup=function(){e.shaderType==="Unknown"||e.handle===0||(e.context.deleteShader(e.handle),e.handle=0,e.dirty=!0)}}var a4={shaderType:"Unknown",source:"",error:"",handle:0,dirty:!1,context:null};function rp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,a4,n),I.obj(t,e),I.setGet(t,e,["shaderType","source","error","handle","context"]),n4(t,e)}var i4=I.newInstance(rp,"vtkShader"),Qs={newInstance:i4,extend:rp},wr=I.vtkErrorMacro;function o4(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=Array.isArray(n)?n.join(`
`):n,i=!1;t.search(e)!==-1&&(i=!0);var s="";r&&(s="g");var o=new RegExp(e,s),c=t.replace(o,a);return{replace:i,result:c}}function s4(t,e){e.classHierarchy.push("vtkShaderProgram"),t.compileShader=function(){return e.vertexShader.compile()?e.fragmentShader.compile()?!t.attachShader(e.vertexShader)||!t.attachShader(e.fragmentShader)?(wr(e.error),0):t.link()?(t.setCompiled(!0),1):(wr("Links failed: ".concat(e.error)),0):(wr(e.fragmentShader.getSource().split(`
`).map(function(n,r){return"".concat(r,": ").concat(n)}).join(`
`)),wr(e.fragmentShader.getError()),0):(wr(e.vertexShader.getSource().split(`
`).map(function(n,r){return"".concat(r,": ").concat(n)}).join(`
`)),wr(e.vertexShader.getError()),0)},t.cleanup=function(){e.shaderType==="Unknown"||e.handle===0||(e.context.deleteShader(e.handle),e.handle=0)},t.bind=function(){return!e.linked&&!t.link()?!1:(e.context.useProgram(e.handle),t.setBound(!0),!0)},t.isBound=function(){return!!e.bound},t.release=function(){e.context.useProgram(null),t.setBound(!1)},t.setContext=function(n){e.vertexShader.setContext(n),e.fragmentShader.setContext(n),e.geometryShader.setContext(n)},t.link=function(){if(e.inked)return!0;if(e.handle===0)return e.error="Program has not been initialized, and/or does not have shaders.",!1;e.uniformLocs={},e.context.linkProgram(e.handle);var n=e.context.getProgramParameter(e.handle,e.context.LINK_STATUS);if(!n){var r=e.context.getProgramInfoLog(e.handle);return wr("Error linking shader ".concat(r)),e.handle=0,!1}return t.setLinked(!0),e.attributeLocs={},!0},t.setUniformMatrix=function(n,r){var a=t.findUniform(n);if(a===-1)return e.error="Could not set uniform ".concat(n," . No such uniform."),!1;var i=new Float32Array(r);return e.context.uniformMatrix4fv(a,!1,i),!0},t.setUniformMatrix3x3=function(n,r){var a=t.findUniform(n);if(a===-1)return e.error="Could not set uniform ".concat(n," . No such uniform."),!1;var i=new Float32Array(r);return e.context.uniformMatrix3fv(a,!1,i),!0},t.setUniformf=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform1f(a,r),!0)},t.setUniformfv=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform1fv(a,r),!0)},t.setUniformi=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform1i(a,r),!0)},t.setUniformiv=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform1iv(a,r),!0)},t.setUniform2f=function(n,r,a){var i=t.findUniform(n);if(i===-1)return e.error="Could not set uniform ".concat(n," . No such uniform."),!1;if(a===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform2f(i,r,a),!0},t.setUniform2fv=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform2fv(a,r),!0)},t.setUniform2i=function(n,r,a){var i=t.findUniform(n);if(i===-1)return e.error="Could not set uniform ".concat(n," . No such uniform."),!1;if(a===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform2i(i,r,a),!0},t.setUniform2iv=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform2iv(a,r),!0)},t.setUniform3f=function(n,r,a,i){var s=t.findUniform(n);if(s===-1)return e.error="Could not set uniform ".concat(n," . No such uniform."),!1;if(i===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform3f(s,r,a,i),!0},t.setUniform3fArray=function(n,r){var a=t.findUniform(n);if(a===-1)return e.error="Could not set uniform ".concat(n," . No such uniform."),!1;if(!Array.isArray(r)||r.length!==3)throw new RangeError("Invalid number of values for array");return e.context.uniform3f(a,r[0],r[1],r[2]),!0},t.setUniform3fv=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform3fv(a,r),!0)},t.setUniform3i=function(n){var r=t.findUniform(n);if(r===-1)return e.error="Could not set uniform ".concat(n," . No such uniform."),!1;for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];var o=i;if(o.length===1&&Array.isArray(o[0])&&(o=o[0]),o.length!==3)throw new RangeError("Invalid number of values for array");return e.context.uniform3i(r,o[0],o[1],o[2]),!0},t.setUniform3iv=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform3iv(a,r),!0)},t.setUniform4f=function(n){var r=t.findUniform(n);if(r===-1)return e.error="Could not set uniform ".concat(n," . No such uniform."),!1;for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];var o=i;if(o.length===1&&Array.isArray(o[0])&&(o=o[0]),o.length!==4)throw new RangeError("Invalid number of values for array");return e.context.uniform4f(r,o[0],o[1],o[2],o[3]),!0},t.setUniform4fv=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform4fv(a,r),!0)},t.setUniform4i=function(n){var r=t.findUniform(n);if(r===-1)return e.error="Could not set uniform ".concat(n," . No such uniform."),!1;for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];var o=i;if(o.length===1&&Array.isArray(o[0])&&(o=o[0]),o.length!==4)throw new RangeError("Invalid number of values for array");return e.context.uniform4i(r,o[0],o[1],o[2],o[3]),!0},t.setUniform4iv=function(n,r){var a=t.findUniform(n);return a===-1?(e.error="Could not set uniform ".concat(n," . No such uniform."),!1):(e.context.uniform4iv(a,r),!0)},t.findUniform=function(n){if(!n||!e.linked)return-1;var r=e.uniformLocs[n];return r!==void 0?r:(r=e.context.getUniformLocation(e.handle,n),r===null?(e.error="Uniform ".concat(n," not found in current shader program."),e.uniformLocs[n]=-1,-1):(e.uniformLocs[n]=r,r))},t.isUniformUsed=function(n){if(!n)return!1;var r=e.uniformLocs[n];return r!==void 0?r!==null:e.linked?(r=e.context.getUniformLocation(e.handle,n),e.uniformLocs[n]=r,r!==null):(wr("attempt to find uniform when the shader program is not linked"),!1)},t.isAttributeUsed=function(n){if(!n)return!1;var r=Object.keys(e.attributeLocs).indexOf(n);return r!==-1?!0:e.linked?(r=e.context.getAttribLocation(e.handle,n),r===-1?!1:(e.attributeLocs[n]=r,!0)):(wr("attempt to find uniform when the shader program is not linked"),!1)},t.attachShader=function(n){if(n.getHandle()===0)return e.error="Shader object was not initialized, cannot attach it.",!1;if(n.getShaderType()==="Unknown")return e.error="Shader object is of type Unknown and cannot be used.",!1;if(e.handle===0){var r=e.context.createProgram();if(r===0)return e.error="Could not create shader program.",!1;e.handle=r,e.linked=!1}return n.getShaderType()==="Vertex"&&(e.vertexShaderHandle!==0&&e.comntext.detachShader(e.handle,e.vertexShaderHandle),e.vertexShaderHandle=n.getHandle()),n.getShaderType()==="Fragment"&&(e.fragmentShaderHandle!==0&&e.context.detachShader(e.handle,e.fragmentShaderHandle),e.fragmentShaderHandle=n.getHandle()),e.context.attachShader(e.handle,n.getHandle()),t.setLinked(!1),!0},t.detachShader=function(n){if(n.getHandle()===0)return e.error="shader object was not initialized, cannot attach it.",!1;if(n.getShaderType()==="Unknown")return e.error="Shader object is of type Unknown and cannot be used.",!1;switch(e.handle===0&&(e.error="This shader program has not been initialized yet."),n.getShaderType()){case"Vertex":return e.vertexShaderHandle!==n.getHandle()?(e.error="The supplied shader was not attached to this program.",!1):(e.context.detachShader(e.handle,n.getHandle()),e.vertexShaderHandle=0,e.linked=!1,!0);case"Fragment":return e.fragmentShaderHandle!==n.getHandle()?(e.error="The supplied shader was not attached to this program.",!1):(e.context.detachShader(e.handle,n.getHandle()),e.fragmentShaderHandle=0,e.linked=!1,!0);default:return!1}},t.setContext=function(n){e.context=n,e.vertexShader.setContext(n),e.fragmentShader.setContext(n),e.geometryShader.setContext(n)},t.setLastCameraMTime=function(n){e.lastCameraMTime=n}}var u4={vertexShaderHandle:0,fragmentShaderHandle:0,geometryShaderHandle:0,vertexShader:null,fragmentShader:null,geometryShader:null,linked:!1,bound:!1,compiled:!1,error:"",handle:0,numberOfOutputs:0,attributesLocs:null,uniformLocs:null,md5Hash:0,context:null,lastCameraMTime:null};function np(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,u4,n),e.attributesLocs={},e.uniformLocs={},e.vertexShader=Qs.newInstance(),e.vertexShader.setShaderType("Vertex"),e.fragmentShader=Qs.newInstance(),e.fragmentShader.setShaderType("Fragment"),e.geometryShader=Qs.newInstance(),e.geometryShader.setShaderType("Geometry"),I.obj(t,e),I.get(t,e,["lastCameraMTime"]),I.setGet(t,e,["error","handle","compiled","bound","md5Hash","vertexShader","fragmentShader","geometryShader","linked"]),s4(t,e)}var c4=I.newInstance(np,"vtkShaderProgram"),ue={newInstance:c4,extend:np,substitute:o4};function f4(t,e){e.classHierarchy.push("vtkOpenGLVertexArrayObject"),t.exposedMethod=function(){},t.initialize=function(){e.instancingExtension=null,e._openGLRenderWindow.getWebgl2()||(e.instancingExtension=e.context.getExtension("ANGLE_instanced_arrays")),!e.forceEmulation&&e._openGLRenderWindow&&e._openGLRenderWindow.getWebgl2()?(e.extension=null,e.supported=!0,e.handleVAO=e.context.createVertexArray()):(e.extension=e.context.getExtension("OES_vertex_array_object"),!e.forceEmulation&&e.extension?(e.supported=!0,e.handleVAO=e.extension.createVertexArrayOES()):e.supported=!1)},t.isReady=function(){return e.handleVAO!==0||e.supported===!1},t.bind=function(){if(t.isReady()||t.initialize(),t.isReady()&&e.supported)e.extension?e.extension.bindVertexArrayOES(e.handleVAO):e.context.bindVertexArray(e.handleVAO);else if(t.isReady())for(var n=e.context,r=0;r<e.buffers.length;++r){var a=e.buffers[r];e.context.bindBuffer(n.ARRAY_BUFFER,a.buffer);for(var i=0;i<a.attributes.length;++i)for(var s=a.attributes[i],o=s.isMatrix?s.size:1,c=0;c<o;++c)n.enableVertexAttribArray(s.index+c),n.vertexAttribPointer(s.index+c,s.size,s.type,s.normalize,s.stride,s.offset+s.stride*c/s.size),s.divisor>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(s.index+c,1):n.vertexAttribDivisor(s.index+c,1))}},t.release=function(){if(t.isReady()&&e.supported)e.extension?e.extension.bindVertexArrayOES(null):e.context.bindVertexArray(null);else if(t.isReady())for(var n=e.context,r=0;r<e.buffers.length;++r){var a=e.buffers[r];e.context.bindBuffer(n.ARRAY_BUFFER,a.buffer);for(var i=0;i<a.attributes.length;++i)for(var s=a.attributes[i],o=s.isMatrix?s.size:1,c=0;c<o;++c)n.enableVertexAttribArray(s.index+c),n.vertexAttribPointer(s.index+c,s.size,s.type,s.normalize,s.stride,s.offset+s.stride*c/s.size),s.divisor>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(s.index+c,0):n.vertexAttribDivisor(s.index+c,0)),n.disableVertexAttribArray(s.index+c)}},t.shaderProgramChanged=function(){t.release(),e.handleVAO&&(e.extension?e.extension.deleteVertexArrayOES(e.handleVAO):e.context.deleteVertexArray(e.handleVAO)),e.handleVAO=0,e.handleProgram=0},t.releaseGraphicsResources=function(){t.shaderProgramChanged(),e.handleVAO&&(e.extension?e.extension.deleteVertexArrayOES(e.handleVAO):e.context.deleteVertexArray(e.handleVAO)),e.handleVAO=0,e.supported=!0,e.handleProgram=0},t.addAttributeArray=function(n,r,a,i,s,o,c,u){return t.addAttributeArrayWithDivisor(n,r,a,i,s,o,c,u,0,!1)},t.addAttributeArrayWithDivisor=function(n,r,a,i,s,o,c,u,l,f){if(!n||!n.isBound()||r.getHandle()===0||r.getType()!==hi.ARRAY_BUFFER||(e.handleProgram===0&&(e.handleProgram=n.getHandle()),t.isReady()||t.initialize(),!t.isReady()||e.handleProgram!==n.getHandle()))return!1;var h=e.context,p={};if(p.name=a,p.index=h.getAttribLocation(e.handleProgram,a),p.offset=i,p.stride=s,p.type=o,p.size=c,p.normalize=u,p.isMatrix=f,p.divisor=l,p.Index===-1)return!1;if(r.bind(),h.enableVertexAttribArray(p.index),h.vertexAttribPointer(p.index,p.size,p.type,p.normalize,p.stride,p.offset),l>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(p.index,1):h.vertexAttribDivisor(p.index,1)),p.buffer=r.getHandle(),!e.supported){for(var d=!1,y=0;y<e.buffers.length;++y){var m=e.buffers[y];if(m.buffer===p.buffer){d=!0;for(var _=!1,v=0;v<m.attributes.length;++v){var g=m.attributes[v];g.name===a&&(_=!0,m.attributes[v]=p)}_||m.attributes.push(p)}}d||e.buffers.push({buffer:p.buffer,attributes:[p]})}return!0},t.addAttributeMatrixWithDivisor=function(n,r,a,i,s,o,c,u,l){var f=t.addAttributeArrayWithDivisor(n,r,a,i,s,o,c,u,l,!0);if(!f)return f;for(var h=e.context,p=h.getAttribLocation(e.handleProgram,a),d=1;d<c;d++)h.enableVertexAttribArray(p+d),h.vertexAttribPointer(p+d,c,o,u,s,i+s*d/c),l>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(p+d,1):h.vertexAttribDivisor(p+d,1));return!0},t.removeAttributeArray=function(n){if(!t.isReady()||e.handleProgram===0)return!1;if(!e.supported)for(var r=0;r<e.buffers.length;++r)for(var a=e.buffers[r],i=0;i<a.attributes.length;++i){var s=a.attributes[i];if(s.name===n)return a.attributes.splice(i,1),a.attributes.length||e.buffers.splice(r,1),!0}return!0},t.setOpenGLRenderWindow=function(n){e._openGLRenderWindow!==n&&(t.releaseGraphicsResources(),e._openGLRenderWindow=n,e.context=null,n&&(e.context=e._openGLRenderWindow.getContext()))}}var l4={forceEmulation:!1,handleVAO:0,handleProgram:0,supported:!0,buffers:null,context:null};function ap(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,l4,n),e.buffers=[],I.obj(t,e),I.get(t,e,["supported"]),I.setGet(t,e,["forceEmulation"]),f4(t,e)}var h4=I.newInstance(ap,"vtkOpenGLVertexArrayObject"),tc={newInstance:h4,extend:ap},Zr={Start:0,Points:0,Lines:1,Tris:2,TriStrips:3,TrisEdges:4,TriStripsEdges:5,End:6};function p4(t,e){e.classHierarchy.push("vtkOpenGLHelper"),t.setOpenGLRenderWindow=function(n){e.context=n.getContext(),e.program.setContext(e.context),e.VAO.setOpenGLRenderWindow(n),e.CABO.setOpenGLRenderWindow(n)},t.releaseGraphicsResources=function(n){e.VAO.releaseGraphicsResources(),e.CABO.releaseGraphicsResources(),e.CABO.setElementCount(0)},t.drawArrays=function(n,r,a,i){if(e.CABO.getElementCount()){var s=t.getOpenGLMode(a),o=t.haveWideLines(n,r),c=e.context,u=c.getParameter(c.DEPTH_WRITEMASK);e.pointPicking&&c.depthMask(!1);var l=s===c.LINES;l&&o?(t.updateShaders(n,r,i),c.drawArraysInstanced(s,0,e.CABO.getElementCount(),2*Math.ceil(r.getProperty().getLineWidth()))):(c.lineWidth(r.getProperty().getLineWidth()),t.updateShaders(n,r,i),c.drawArrays(s,0,e.CABO.getElementCount()),c.lineWidth(1));var f=(s===c.POINTS?1:0)||(s===c.LINES?2:3);return e.pointPicking&&c.depthMask(u),e.CABO.getElementCount()/f}return 0},t.getOpenGLMode=function(n){if(e.pointPicking)return e.context.POINTS;var r=e.primitiveType;return n===$t.POINTS||r===Zr.Points?e.context.POINTS:n===$t.WIREFRAME||r===Zr.Lines||r===Zr.TrisEdges||r===Zr.TriStripsEdges?e.context.LINES:e.context.TRIANGLES},t.haveWideLines=function(n,r){return r.getProperty().getLineWidth()>1?!(e.CABO.getOpenGLRenderWindow()&&e.CABO.getOpenGLRenderWindow().getHardwareMaximumLineWidth()>=r.getProperty().getLineWidth()):!1},t.getNeedToRebuildShaders=function(n,r,a){return!!(a.getNeedToRebuildShaders(t,n,r)||t.getProgram()===0||t.getShaderSourceTime().getMTime()<a.getMTime()||t.getShaderSourceTime().getMTime()<r.getMTime())},t.updateShaders=function(n,r,a){if(t.getNeedToRebuildShaders(n,r,a)){var i={Vertex:null,Fragment:null,Geometry:null};a.buildShaders(i,n,r);var s=e.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);s!==t.getProgram()&&(t.setProgram(s),t.getVAO().releaseGraphicsResources()),t.getShaderSourceTime().modified()}else e.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgram(t.getProgram());t.getVAO().bind(),a.setMapperShaderParameters(t,n,r),a.setPropertyShaderParameters(t,n,r),a.setCameraShaderParameters(t,n,r),a.setLightingShaderParameters(t,n,r),a.invokeShaderCallbacks(t,n,r)},t.setMapperShaderParameters=function(n,r,a){if(t.haveWideLines(n,r)){t.getProgram().setUniform2f("viewportSize",a.usize,a.vsize);var i=parseFloat(r.getProperty().getLineWidth()),s=i/2;t.getProgram().setUniformf("lineWidthStepSize",i/Math.ceil(i)),t.getProgram().setUniformf("halfLineWidth",s)}e.primitiveType===Zr.Points||r.getProperty().getRepresentation()===$t.POINTS?t.getProgram().setUniformf("pointSize",r.getProperty().getPointSize()):e.pointPicking&&t.getProgram().setUniformf("pointSize",t.getPointPickingPrimitiveSize())},t.replaceShaderPositionVC=function(n,r,a){var i=n.Vertex;i=ue.substitute(i,"//VTK::PositionVC::Dec",["//VTK::PositionVC::Dec","uniform float pointSize;"]).result,i=ue.substitute(i,"//VTK::PositionVC::Impl",["//VTK::PositionVC::Impl","  gl_PointSize = pointSize;"],!1).result,t.getOpenGLMode(a.getProperty().getRepresentation())===e.context.LINES&&t.haveWideLines(r,a)&&(i=ue.substitute(i,"//VTK::PositionVC::Dec",["//VTK::PositionVC::Dec","uniform vec2 viewportSize;","uniform float lineWidthStepSize;","uniform float halfLineWidth;"]).result,i=ue.substitute(i,"//VTK::PositionVC::Impl",["//VTK::PositionVC::Impl"," if (halfLineWidth > 0.0)","   {","   float offset = float(gl_InstanceID / 2) * lineWidthStepSize - halfLineWidth;","   vec4 tmpPos = gl_Position;","   vec3 tmpPos2 = tmpPos.xyz / tmpPos.w;","   tmpPos2.x = tmpPos2.x + 2.0 * mod(float(gl_InstanceID), 2.0) * offset / viewportSize[0];","   tmpPos2.y = tmpPos2.y + 2.0 * mod(float(gl_InstanceID + 1), 2.0) * offset / viewportSize[1];","   gl_Position = vec4(tmpPos2.xyz * tmpPos.w, tmpPos.w);","   }"]).result),n.Vertex=i},t.getPointPickingPrimitiveSize=function(){return e.primitiveType===Zr.Points?2:e.primitiveType===Zr.Lines?4:6}}var v4={context:null,program:null,shaderSourceTime:null,VAO:null,attributeUpdateTime:null,CABO:null,primitiveType:0,pointPicking:!1};function ip(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,v4,n),I.obj(t,e),e.shaderSourceTime={},I.obj(e.shaderSourceTime),e.attributeUpdateTime={},I.obj(e.attributeUpdateTime),I.setGet(t,e,["program","shaderSourceTime","VAO","attributeUpdateTime","CABO","primitiveType","pointPicking"]),e.program=ue.newInstance(),e.VAO=tc.newInstance(),e.CABO=t4.newInstance(),p4(t,e)}var d4=I.newInstance(ip),dn={newInstance:d4,extend:ip,primTypes:Zr},wi={CLAMP_TO_EDGE:0,REPEAT:1,MIRRORED_REPEAT:2},et={NEAREST:0,LINEAR:1,NEAREST_MIPMAP_NEAREST:2,NEAREST_MIPMAP_LINEAR:3,LINEAR_MIPMAP_NEAREST:4,LINEAR_MIPMAP_LINEAR:5},rc={Wrap:wi,Filter:et},op=new Float32Array(1),g4=new Int32Array(op.buffer);function y4(t){op[0]=t;var e=g4[0],n=e>>16&32768,r=e>>12&2047,a=e>>23&255;return a<103?n:a>142?(n|=31744,n|=(a===255?0:1)&&e&8388607,n):a<113?(r|=2048,n|=(r>>114-a)+(r>>113-a&1),n):(n|=a-112<<10|r>>1,n+=r&1,n)}function m4(t){var e=(t&32768)>>15,n=(t&31744)>>10,r=t&1023;return n===0?(e?-1:1)*Math.pow(2,-14)*(r/Math.pow(2,10)):n===31?r?NaN:(e?-1:1)*(1/0):(e?-1:1)*Math.pow(2,n-15)*(1+r/Math.pow(2,10))}var Jn={fromHalf:m4,toHalf:y4};function vf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ur=rc.Wrap,bt=rc.Filter,Qe=Ee.VtkDataTypes,e0=Pn,Qn=Le,x4=zi;function w4(t,e){var n=this;e.classHierarchy.push("vtkOpenGLTexture"),t.render=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(c?e._openGLRenderWindow=c:(e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent()),e.context=e._openGLRenderWindow.getContext(),e.renderable.getInterpolate()?(e.generateMipmap?t.setMinificationFilter(bt.LINEAR_MIPMAP_LINEAR):t.setMinificationFilter(bt.LINEAR),t.setMagnificationFilter(bt.LINEAR)):(t.setMinificationFilter(bt.NEAREST),t.setMagnificationFilter(bt.NEAREST)),e.renderable.getRepeat()&&(t.setWrapR(Ur.REPEAT),t.setWrapS(Ur.REPEAT),t.setWrapT(Ur.REPEAT)),e.renderable.getInputData()&&e.renderable.setImage(null),!e.handle||e.renderable.getMTime()>e.textureBuildTime.getMTime()){if(e.renderable.getImage()!==null&&(e.renderable.getInterpolate()&&(e.generateMipmap=!0,t.setMinificationFilter(bt.LINEAR_MIPMAP_LINEAR)),e.renderable.getImage()&&e.renderable.getImageLoaded()&&(t.create2DFromImage(e.renderable.getImage()),t.activate(),t.sendParameters(),e.textureBuildTime.modified())),e.renderable.getCanvas()!==null){e.renderable.getInterpolate()&&(e.generateMipmap=!0,t.setMinificationFilter(bt.LINEAR_MIPMAP_LINEAR));var u=e.renderable.getCanvas();t.create2DFromRaw(u.width,u.height,4,Qe.UNSIGNED_CHAR,u,!0),t.activate(),t.sendParameters(),e.textureBuildTime.modified()}if(e.renderable.getJsImageData()!==null){var l=e.renderable.getJsImageData();e.renderable.getInterpolate()&&(e.generateMipmap=!0,t.setMinificationFilter(bt.LINEAR_MIPMAP_LINEAR)),t.create2DFromRaw(l.width,l.height,4,Qe.UNSIGNED_CHAR,l.data,!0),t.activate(),t.sendParameters(),e.textureBuildTime.modified()}var f=e.renderable.getInputData(0);if(f&&f.getPointData().getScalars()){for(var h=f.getExtent(),p=f.getPointData().getScalars(),d=[],y=0;y<e.renderable.getNumberOfInputPorts();++y){var m=e.renderable.getInputData(y),_=m?m.getPointData().getScalars().getData():null;_&&d.push(_)}e.renderable.getInterpolate()&&p.getNumberOfComponents()===4&&(e.generateMipmap=!0,t.setMinificationFilter(bt.LINEAR_MIPMAP_LINEAR)),d.length%6===0?t.createCubeFromRaw(h[1]-h[0]+1,h[3]-h[2]+1,p.getNumberOfComponents(),p.getDataType(),d):t.create2DFromRaw(h[1]-h[0]+1,h[3]-h[2]+1,p.getNumberOfComponents(),p.getDataType(),p.getData()),t.activate(),t.sendParameters(),e.textureBuildTime.modified()}}e.handle&&t.activate()},t.destroyTexture=function(){t.deactivate(),e.context&&e.handle&&e.context.deleteTexture(e.handle),e.handle=0,e.numberOfDimensions=0,e.target=0,e.components=0,e.width=0,e.height=0,e.depth=0,t.resetFormatAndType()},t.createTexture=function(){e.handle||(e.handle=e.context.createTexture(),e.target&&(e.context.bindTexture(e.target,e.handle),e.context.texParameteri(e.target,e.context.TEXTURE_MIN_FILTER,t.getOpenGLFilterMode(e.minificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_MAG_FILTER,t.getOpenGLFilterMode(e.magnificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_S,t.getOpenGLWrapMode(e.wrapS)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_T,t.getOpenGLWrapMode(e.wrapT)),e._openGLRenderWindow.getWebgl2()&&e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_R,t.getOpenGLWrapMode(e.wrapR)),e.context.bindTexture(e.target,null)))},t.getTextureUnit=function(){return e._openGLRenderWindow?e._openGLRenderWindow.getTextureUnitForTexture(t):-1},t.activate=function(){e._openGLRenderWindow.activateTexture(t),t.bind()},t.deactivate=function(){e._openGLRenderWindow&&e._openGLRenderWindow.deactivateTexture(t)},t.releaseGraphicsResources=function(c){c&&e.handle&&(c.activateTexture(t),c.deactivateTexture(t),e.context.deleteTexture(e.handle),e.handle=0,e.numberOfDimensions=0,e.target=0,e.internalFormat=0,e.format=0,e.openGLDataType=0,e.components=0,e.width=0,e.height=0,e.depth=0),e.shaderProgram&&(e.shaderProgram.releaseGraphicsResources(c),e.shaderProgram=null)},t.bind=function(){e.context.bindTexture(e.target,e.handle),e.autoParameters&&t.getMTime()>e.sendParametersTime.getMTime()&&t.sendParameters()},t.isBound=function(){var c=!1;if(e.context&&e.handle){var u=0;switch(e.target){case e.context.TEXTURE_2D:u=e.context.TEXTURE_BINDING_2D;break;default:x4("impossible case");break}var l=e.context.getIntegerv(u);c=l===e.handle}return c},t.sendParameters=function(){e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_S,t.getOpenGLWrapMode(e.wrapS)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_T,t.getOpenGLWrapMode(e.wrapT)),e._openGLRenderWindow.getWebgl2()&&e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_R,t.getOpenGLWrapMode(e.wrapR)),e.context.texParameteri(e.target,e.context.TEXTURE_MIN_FILTER,t.getOpenGLFilterMode(e.minificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_MAG_FILTER,t.getOpenGLFilterMode(e.magnificationFilter)),e._openGLRenderWindow.getWebgl2()&&(e.context.texParameteri(e.target,e.context.TEXTURE_BASE_LEVEL,e.baseLevel),e.context.texParameteri(e.target,e.context.TEXTURE_MAX_LEVEL,e.maxLevel)),e.sendParametersTime.modified()},t.getInternalFormat=function(c,u){return e.internalFormat||(e.internalFormat=t.getDefaultInternalFormat(c,u)),e.internalFormat||e0("Unable to find suitable internal format for T=".concat(c," NC= ").concat(u)),e.internalFormat},t.getDefaultInternalFormat=function(c,u){var l=0;return l=e._openGLRenderWindow.getDefaultTextureInternalFormat(c,u,!1),l||(l=n._openGLRenderWindow.getDefaultTextureInternalFormat(c,u,!0),l||(e0("Unsupported internal texture type!"),e0("Unable to find suitable internal format for T=".concat(c," NC= ").concat(u))),l)},t.setInternalFormat=function(c){c!==e.internalFormat&&(e.internalFormat=c,t.modified())},t.getFormat=function(c,u){return e.format=t.getDefaultFormat(c,u),e.format},t.getDefaultFormat=function(c,u){if(e._openGLRenderWindow.getWebgl2())switch(u){case 1:return e.context.RED;case 2:return e.context.RG;case 3:return e.context.RGB;case 4:return e.context.RGBA;default:return e.context.RGB}else switch(u){case 1:return e.context.LUMINANCE;case 2:return e.context.LUMINANCE_ALPHA;case 3:return e.context.RGB;case 4:return e.context.RGBA;default:return e.context.RGB}},t.resetFormatAndType=function(){e.format=0,e.internalFormat=0,e.openGLDataType=0},t.getDefaultDataType=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e._openGLRenderWindow.getWebgl2())switch(c){case Qe.UNSIGNED_CHAR:return e.context.UNSIGNED_BYTE;case(u&&Qe.SHORT):return e.context.HALF_FLOAT;case(u&&Qe.UNSIGNED_SHORT):return e.context.HALF_FLOAT;case Qe.FLOAT:case Qe.VOID:default:return e.context.FLOAT}switch(c){case Qe.UNSIGNED_CHAR:return e.context.UNSIGNED_BYTE;case Qe.FLOAT:case Qe.VOID:default:if(e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear"))return e.context.FLOAT;{var l=e.context.getExtension("OES_texture_half_float");if(l&&e.context.getExtension("OES_texture_half_float_linear"))return l.HALF_FLOAT_OES}return e.context.UNSIGNED_BYTE}},t.getOpenGLDataType=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return e.openGLDataType||(e.openGLDataType=t.getDefaultDataType(c,u)),e.openGLDataType},t.getShiftAndScale=function(){var c=0,u=1;switch(e.openGLDataType){case e.context.BYTE:u=127.5,c=u-128;break;case e.context.UNSIGNED_BYTE:u=255,c=0;break;case e.context.SHORT:u=32767.5,c=u-32768;break;case e.context.UNSIGNED_SHORT:u=65536,c=0;break;case e.context.INT:u=21474836475e-1,c=u-2147483648;break;case e.context.UNSIGNED_INT:u=4294967295,c=0;break;case e.context.FLOAT:}return{shift:c,scale:u}},t.getOpenGLFilterMode=function(c){switch(c){case bt.NEAREST:return e.context.NEAREST;case bt.LINEAR:return e.context.LINEAR;case bt.NEAREST_MIPMAP_NEAREST:return e.context.NEAREST_MIPMAP_NEAREST;case bt.NEAREST_MIPMAP_LINEAR:return e.context.NEAREST_MIPMAP_LINEAR;case bt.LINEAR_MIPMAP_NEAREST:return e.context.LINEAR_MIPMAP_NEAREST;case bt.LINEAR_MIPMAP_LINEAR:return e.context.LINEAR_MIPMAP_LINEAR;default:return e.context.NEAREST}},t.getOpenGLWrapMode=function(c){switch(c){case Ur.CLAMP_TO_EDGE:return e.context.CLAMP_TO_EDGE;case Ur.REPEAT:return e.context.REPEAT;case Ur.MIRRORED_REPEAT:return e.context.MIRRORED_REPEAT;default:return e.context.CLAMP_TO_EDGE}};function r(c,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=[],h=e.width*e.height*e.components;if(l&&(h*=e.depth),c!==Qe.FLOAT&&e.openGLDataType===e.context.FLOAT)for(var p=0;p<u.length;p++)if(u[p]){var d=u[p].length>h?u[p].subarray(0,h):u[p];f.push(new Float32Array(d))}else f.push(null);if(c!==Qe.UNSIGNED_CHAR&&e.openGLDataType===e.context.UNSIGNED_BYTE)for(var y=0;y<u.length;y++)if(u[y]){var m=u[y].length>h?u[y].subarray(0,h):u[y];f.push(new Uint8Array(m))}else f.push(null);var _=e.context.getExtension("OES_texture_half_float"),v=e._openGLRenderWindow.getWebgl2()?e.openGLDataType===e.context.HALF_FLOAT:_&&e.openGLDataType===_.HALF_FLOAT_OES;if(v)for(var g=0;g<u.length;g++)if(u[g]){for(var x=new Uint16Array(h),w=0;w<h;w++)x[w]=Jn.toHalf(u[g][w]);f.push(x)}else f.push(null);if(f.length===0)for(var C=0;C<u.length;C++)f.push(u[C]);return f}function a(c){if(e._openGLRenderWindow.getWebgl2())return c;var u=[],l=e.width,f=e.height,h=e.components;if(c&&(!to(l)||!to(f)))for(var p=e.context.getExtension("OES_texture_half_float"),d=mr(l),y=mr(f),m=d*y*e.components,_=0;_<c.length;_++)if(c[_]!==null){var v=null,g=f/y,x=l/d,w=!1;e.openGLDataType===e.context.FLOAT?v=new Float32Array(m):p&&e.openGLDataType===p.HALF_FLOAT_OES?(v=new Uint16Array(m),w=!0):v=new Uint8Array(m);for(var C=0;C<y;C++){var S=C*d*h,T=C*g,b=Math.floor(T),O=Math.ceil(T);O>=f&&(O=f-1);var D=T-b,N=1-D;b=b*l*h,O=O*l*h;for(var R=0;R<d;R++){var E=R*h,A=R*x,W=Math.floor(A),z=Math.ceil(A);z>=l&&(z=l-1);var F=A-W;W*=h,z*=h;for(var L=0;L<h;L++)w?v[S+E+L]=Jn.toHalf(Jn.fromHalf(c[_][b+W+L])*N*(1-F)+Jn.fromHalf(c[_][b+z+L])*N*F+Jn.fromHalf(c[_][O+W+L])*D*(1-F)+Jn.fromHalf(c[_][O+z+L])*D*F):v[S+E+L]=c[_][b+W+L]*N*(1-F)+c[_][b+z+L]*N*F+c[_][O+W+L]*D*(1-F)+c[_][O+z+L]*D*F}}u.push(v),e.width=d,e.height=y}else u.push(null);if(u.length===0)for(var G=0;G<c.length;G++)u.push(c[G]);return u}t.create2DFromRaw=function(c,u,l,f,h){var p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(t.getOpenGLDataType(f),t.getInternalFormat(f,l),t.getFormat(f,l),!e.internalFormat||!e.format||!e.openGLDataType)return Qn("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=l,e.width=c,e.height=u,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind();var d=[h],y=r(f,d),m=a(y);return e.context.pixelStorei(e.context.UNPACK_FLIP_Y_WEBGL,p),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,m[0]),e.generateMipmap&&e.context.generateMipmap(e.target),p&&e.context.pixelStorei(e.context.UNPACK_FLIP_Y_WEBGL,!1),t.deactivate(),!0},t.createCubeFromRaw=function(c,u,l,f,h){if(t.getOpenGLDataType(f),t.getInternalFormat(f,l),t.getFormat(f,l),!e.internalFormat||!e.format||!e.openGLDataType)return Qn("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_CUBE_MAP,e.components=l,e.width=c,e.height=u,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),e.maxLevel=h.length/6-1,t.createTexture(),t.bind();for(var p=r(f,h),d=a(p),y=[],m=e.width,_=e.height,v=0;v<d.length;v++){v%6===0&&v!==0&&(m/=2,_/=2),y[v]=Xu(f,_*m*e.components);for(var g=0;g<_;++g){var x=g*m*e.components,w=(_-g-1)*m*e.components;y[v].set(d[v].slice(w,w+m*e.components),x)}}e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1);for(var C=0;C<6;C++)for(var S=0,T=e.width,b=e.height;T>=1&&b>=1;){var O=null;S<=e.maxLevel&&(O=y[6*S+C]),e.context.texImage2D(e.context.TEXTURE_CUBE_MAP_POSITIVE_X+C,S,e.internalFormat,T,b,0,e.format,e.openGLDataType,O),S++,T/=2,b/=2}return t.deactivate(),!0},t.createDepthFromRaw=function(c,u,l,f){return t.getOpenGLDataType(l),e.format=e.context.DEPTH_COMPONENT,e._openGLRenderWindow.getWebgl2()?l===Qe.FLOAT?e.internalFormat=e.context.DEPTH_COMPONENT32F:e.internalFormat=e.context.DEPTH_COMPONENT16:e.internalFormat=e.context.DEPTH_COMPONENT,!e.internalFormat||!e.format||!e.openGLDataType?(Qn("Failed to determine texture parameters."),!1):(e.target=e.context.TEXTURE_2D,e.components=1,e.width=c,e.height=u,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,f),e.generateMipmap&&e.context.generateMipmap(e.target),t.deactivate(),!0)},t.create2DFromImage=function(c){if(t.getOpenGLDataType(Qe.UNSIGNED_CHAR),t.getInternalFormat(Qe.UNSIGNED_CHAR,4),t.getFormat(Qe.UNSIGNED_CHAR,4),!e.internalFormat||!e.format||!e.openGLDataType)return Qn("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=4,e.width=c.width,e.height=c.height,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1);var u=!to(c.width)||!to(c.height),l=document.createElement("canvas");l.width=u?mr(c.width):c.width,l.height=u?mr(c.height):c.height;var f=l.getContext("2d");f.translate(0,l.height),f.scale(1,-1),f.drawImage(c,0,0,c.width,c.height,0,0,l.width,l.height);var h=l;return e.context.texImage2D(e.target,0,e.internalFormat,e.format,e.openGLDataType,h),e.generateMipmap&&e.context.generateMipmap(e.target),t.deactivate(),!0};function i(c,u,l){for(var f=[],h=[],p=0;p<c;++p)f[p]=l[p],h[p]=l[p];for(var d=0,y=0;y<u;++y)for(var m=0;m<c;++m)l[d]<f[m]&&(f[m]=l[d]),l[d]>h[m]&&(h[m]=l[d]),d++;for(var _=[],v=[],g=0;g<c;++g)f[g]===h[g]&&(h[g]=f[g]+1),_[g]=f[g],v[g]=h[g]-f[g];return{scale:v,offset:_}}function s(c,u){for(var l=0;l<c.length;l++){var f=c[l],h=u[l]+f;if(f<-2048||f>2048||h<-2048||h>2048)return!1}return!0}function o(c,u,l,f){var h=!0;t.getOpenGLDataType(c,h);var p=e.context.getExtension("OES_texture_half_float"),d=e._openGLRenderWindow.getWebgl2()?e.openGLDataType===e.context.HALF_FLOAT:p&&e.openGLDataType===p.HALF_FLOAT_OES;return!(!d||!s(u,l)&&!f)}t.create3DFromRaw=function(c,u,l,f,h,p){var d=!0;if(t.getOpenGLDataType(h,d),t.getInternalFormat(h,f),t.getFormat(h,f),!e.internalFormat||!e.format||!e.openGLDataType)return Qn("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_3D,e.components=f,e.width=c,e.height=u,e.depth=l,e.numberOfDimensions=3,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind();var y=[p],m=!0,_=r(h,y,m),v=a(_);return e.context.texImage3D(e.target,0,e.internalFormat,e.width,e.height,e.depth,0,e.format,e.openGLDataType,v[0]),e.generateMipmap&&e.context.generateMipmap(e.target),t.deactivate(),!0},t.create3DFilterableFromRaw=function(c,u,l,f,h,p){for(var d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,y=c*u*l,m=[],_=[],v=0;v<f;++v)m[v]=0,_[v]=1;e.volumeInfo={scale:_,offset:m,width:c,height:u,depth:l};var g=i(f,y,p),x=g.offset,w=g.scale;e.volumeInfo.dataComputedScale=w,e.volumeInfo.dataComputedOffset=x;var C=o(h,x,w,d);if(e._openGLRenderWindow.getWebgl2()){if(h===Qe.FLOAT||C&&(h===Qe.SHORT||h===Qe.UNSIGNED_SHORT))return t.create3DFromRaw(c,u,l,f,h,p);if(h===Qe.UNSIGNED_CHAR){for(var S=0;S<f;++S)e.volumeInfo.scale[S]=255;return t.create3DFromRaw(c,u,l,f,h,p)}var T=new Float32Array(y*f);e.volumeInfo.offset=x,e.volumeInfo.scale=w;for(var b=0,O=w.map(function(K){return 1/K}),D=0;D<y;D++)for(var N=0;N<f;N++)T[b]=(p[b]-x[N])*O[N],b++;return t.create3DFromRaw(c,u,l,f,Qe.FLOAT,T)}var R=i(f,y,p),E=function(X,Z,ae,ce,ie){X[Z]=ae},A=Qe.UNSIGNED_CHAR;if(h===Qe.UNSIGNED_CHAR)for(var W=0;W<f;++W)R.offset[W]=0,R.scale[W]=255;else e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear")?(A=Qe.FLOAT,E=function(X,Z,ae,ce,ie){X[Z]=(ae-ce)/ie}):(A=Qe.UNSIGNED_CHAR,E=function(X,Z,ae,ce,ie){X[Z]=255*(ae-ce)/ie});if(t.getOpenGLDataType(A),t.getInternalFormat(A,f),t.getFormat(A,f),!e.internalFormat||!e.format||!e.openGLDataType)return Qn("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=f,e.depth=1,e.numberOfDimensions=2;var z=e.context.getParameter(e.context.MAX_TEXTURE_SIZE);z>4096&&(A===Qe.FLOAT||f>=3)&&(z=4096);var F=1,L=1;y>z*z&&(F=Math.ceil(Math.sqrt(y/(z*z))),L=F);var G=Math.sqrt(y)/F;G=mr(G);var H=Math.floor(G*F/c),$=Math.ceil(l/H),J=mr(u*$/L);e.width=G,e.height=J,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),e.volumeInfo.xreps=H,e.volumeInfo.yreps=$,e.volumeInfo.xstride=F,e.volumeInfo.ystride=L,e.volumeInfo.offset=R.offset,e.volumeInfo.scale=R.scale;var Q,q=G*J*f;A===Qe.FLOAT?Q=new Float32Array(q):Q=new Uint8Array(q);for(var ne=0,te=Math.floor(c/F),oe=Math.floor(u/L),re=0;re<$;re++)for(var B=Math.min(H,l-re*H),k=f*(e.width-B*Math.floor(c/F)),j=0;j<oe;j++){for(var V=0;V<B;V++)for(var M=f*((re*H+V)*c*u+L*j*c),P=0;P<te;P++)for(var U=0;U<f;U++)E(Q,ne,p[M+F*P*f+U],R.offset[U],R.scale[U]),ne++;ne+=k}return e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,Q),t.deactivate(),!0},t.setOpenGLRenderWindow=function(c){e._openGLRenderWindow!==c&&(t.releaseGraphicsResources(),e._openGLRenderWindow=c,e.context=null,c&&(e.context=e._openGLRenderWindow.getContext()))},t.getMaximumTextureSize=function(c){return c&&c.isCurrent()?c.getIntegerv(c.MAX_TEXTURE_SIZE):-1}}var C4={_openGLRenderWindow:null,context:null,handle:0,sendParametersTime:null,textureBuildTime:null,numberOfDimensions:0,target:0,format:0,openGLDataType:0,components:0,width:0,height:0,depth:0,autoParameters:!0,wrapS:Ur.CLAMP_TO_EDGE,wrapT:Ur.CLAMP_TO_EDGE,wrapR:Ur.CLAMP_TO_EDGE,minificationFilter:bt.NEAREST,magnificationFilter:bt.NEAREST,minLOD:-1e3,maxLOD:1e3,baseLevel:0,maxLevel:1e3,generateMipmap:!1};function sp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,C4,n),Ut.extend(t,e,n),e.sendParametersTime={},St(e.sendParametersTime,{mtime:0}),e.textureBuildTime={},St(e.textureBuildTime,{mtime:0}),Ds(t,e,["format","openGLDataType"]),Rt(t,e,["keyMatrixTime","minificationFilter","magnificationFilter","wrapS","wrapT","wrapR","generateMipmap"]),Mr(t,e,["width","height","volumeInfo","components","handle","target"]),w4(t,e)}var up=ut(sp,"vtkOpenGLTexture"),Wt=_4({newInstance:up,extend:sp},rc);Gt("vtkTexture",up);var su={NEAREST:0,LINEAR:1},S4={InterpolationType:su},cp=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

attribute vec4 vertexMC;

// frag position in VC
//VTK::PositionVC::Dec

// optional normal declaration
//VTK::Normal::Dec

// extra lighting parameters
//VTK::Light::Dec

// Texture coordinates
//VTK::TCoord::Dec

// material property values
//VTK::Color::Dec

// clipping plane vars
//VTK::Clip::Dec

// camera and actor matrix values
//VTK::Camera::Dec

// Apple Bug
//VTK::PrimID::Dec

// picking support
//VTK::Picking::Dec

void main()
{
  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Clip::Impl

  //VTK::PrimID::Impl

  //VTK::PositionVC::Impl

  //VTK::Light::Impl

  //VTK::Picking::Impl
}
`,fp=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the polydata mappers fragment shader

uniform int PrimitiveIDOffset;

// VC position of this fragment
//VTK::PositionVC::Dec

// optional color passed in from the vertex shader, vertexColor
//VTK::Color::Dec

// optional surface normal declaration
//VTK::Normal::Dec

// extra lighting parameters
//VTK::Light::Dec

// Texture coordinates
//VTK::TCoord::Dec

// picking support
//VTK::Picking::Dec

// Depth Peeling Support
//VTK::DepthPeeling::Dec

// clipping plane vars
//VTK::Clip::Dec

// the output of this shader
//VTK::Output::Dec

// Apple Bug
//VTK::PrimID::Dec

// handle coincident offsets
//VTK::Coincident::Dec

//VTK::ZBuffer::Dec

void main()
{
  // VC position of this fragment. This should not branch/return/discard.
  //VTK::PositionVC::Impl

  // Place any calls that require uniform flow (e.g. dFdx) here.
  //VTK::UniformFlow::Impl

  // Set gl_FragDepth here (gl_FragCoord.z by default)
  //VTK::Depth::Impl

  // Early depth peeling abort:
  //VTK::DepthPeeling::PreColor

  // Apple Bug
  //VTK::PrimID::Impl

  //VTK::Clip::Impl

  //VTK::Color::Impl

  // Generate the normal if we are not passed in one
  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Light::Impl

  if (gl_FragData[0].a <= 0.0)
    {
    discard;
    }

  //VTK::DepthPeeling::Impl

  //VTK::Picking::Impl

  // handle coincident offsets
  //VTK::Coincident::Impl

  //VTK::ZBuffer::Impl

  //VTK::RenderPassFragmentShader::Impl
}
`;function T4(t,e){t.replaceShaderCoincidentOffset=function(n,r,a){var i=t.getCoincidentParameters(r,a);if(i&&(i.factor!==0||i.offset!==0)){var s=n.Fragment;s=ue.substitute(s,"//VTK::Coincident::Dec",["uniform float cfactor;","uniform float coffset;"]).result,e.context.getExtension("EXT_frag_depth")&&(i.factor!==0?(s=ue.substitute(s,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,s=ue.substitute(s,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):s=ue.substitute(s,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + 0.000016*coffset;").result),e._openGLRenderWindow.getWebgl2()&&(i.factor!==0?(s=ue.substitute(s,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,s=ue.substitute(s,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):s=ue.substitute(s,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + 0.000016*coffset;").result),n.Fragment=s}}}var nc={implementReplaceShaderCoincidentOffset:T4},ea=Le,fr=Ju.SlicingMode;function df(t,e,n){var r=e.apply(t);if(r){var a=t.getIndependentComponents();return"".concat(t.getMTime(),"-").concat(a,"-").concat(n)}return"0"}function b4(t,e){e.classHierarchy.push("vtkOpenGLImageMapper"),t.buildPass=function(n){if(n){e.currentRenderPass=null,e.openGLImageSlice=t.getFirstAncestorOfType("vtkOpenGLImageSlice"),e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.colorTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.pwfTexture.setOpenGLRenderWindow(e._openGLRenderWindow);var r=e.openGLRenderer.getRenderable();e.openGLCamera=e.openGLRenderer.getViewNodeFor(r.getActiveCamera()),e.renderable.getSliceAtFocalPoint()&&e.renderable.setSliceFromCamera(r.getActiveCamera())}},t.translucentPass=function(n,r){n&&(e.currentRenderPass=r,t.render())},t.opaqueZBufferPass=function(n){n&&(e.haveSeenDepthRequest=!0,e.renderDepth=!0,t.render(),e.renderDepth=!1)},t.opaquePass=function(n){n&&t.render()},t.getCoincidentParameters=function(n,r){return e.renderable.getResolveCoincidentTopology()?e.renderable.getCoincidentTopologyPolygonOffsetParameters():null},t.render=function(){var n=e.openGLImageSlice.getRenderable(),r=e.openGLRenderer.getRenderable();t.renderPiece(r,n)},t.buildShaders=function(n,r,a){t.getShaderTemplate(n,r,a),e.lastRenderPassShaderReplacement&&e.lastRenderPassShaderReplacement(n),t.replaceShaderValues(n,r,a)},t.getShaderTemplate=function(n,r,a){n.Vertex=cp,n.Fragment=fp,n.Geometry=""},t.replaceShaderValues=function(n,r,a){var i=n.Vertex,s=n.Fragment;i=ue.substitute(i,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,i=ue.substitute(i,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result,i=ue.substitute(i,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result,i=ue.substitute(i,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result;var o=e.openGLTexture.getComponents(),c=a.getProperty().getIndependentComponents(),u=["varying vec2 tcoordVCVSOutput;","uniform float cshift0;","uniform float cscale0;","uniform float pwfshift0;","uniform float pwfscale0;","uniform sampler2D texture1;","uniform sampler2D colorTexture1;","uniform sampler2D pwfTexture1;","uniform float opacity;"];if(c){for(var l=1;l<o;l++)u=u.concat(["uniform float cshift".concat(l,";"),"uniform float cscale".concat(l,";"),"uniform float pwfshift".concat(l,";"),"uniform float pwfscale".concat(l,";")]);switch(o){case 1:u=u.concat(["uniform float mix0;","#define height0 0.5"]);break;case 2:u=u.concat(["uniform float mix0;","uniform float mix1;","#define height0 0.25","#define height1 0.75"]);break;case 3:u=u.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","#define height0 0.17","#define height1 0.5","#define height2 0.83"]);break;case 4:u=u.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","uniform float mix3;","#define height0 0.125","#define height1 0.375","#define height2 0.625","#define height3 0.875"]);break;default:ea("Unsupported number of independent coordinates.")}}if(s=ue.substitute(s,"//VTK::TCoord::Dec",u).result,c){for(var f=["r","g","b","a"],h=["vec4 tvalue = texture2D(texture1, tcoordVCVSOutput);"],p=0;p<o;p++)h=h.concat(["vec3 tcolor".concat(p," = mix").concat(p," * texture2D(colorTexture1, vec2(tvalue.").concat(f[p]," * cscale").concat(p," + cshift").concat(p,", height").concat(p,")).rgb;"),"float compWeight".concat(p," = mix").concat(p," * texture2D(pwfTexture1, vec2(tvalue.").concat(f[p]," * pwfscale").concat(p," + pwfshift").concat(p,", height").concat(p,")).r;")]);switch(o){case 1:h=h.concat(["gl_FragData[0] = vec4(tcolor0.rgb, opacity);"]);break;case 2:h=h.concat(["float weightSum = compWeight0 + compWeight1;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum))), opacity);"]);break;case 3:h=h.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum))), opacity);"]);break;case 4:h=h.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2 + compWeight3;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum)) + (tcolor3.rgb * (compWeight3 / weightSum))), opacity);"]);break;default:ea("Unsupported number of independent coordinates.")}s=ue.substitute(s,"//VTK::TCoord::Impl",h).result}else switch(o){case 1:s=ue.substitute(s,"//VTK::TCoord::Impl",["float intensity = texture2D(texture1, tcoordVCVSOutput).r;","vec3 tcolor = texture2D(colorTexture1, vec2(intensity * cscale0 + cshift0, 0.5)).rgb;","float scalarOpacity = texture2D(pwfTexture1, vec2(intensity * pwfscale0 + pwfshift0, 0.5)).r;","gl_FragData[0] = vec4(tcolor, scalarOpacity * opacity);"]).result;break;case 2:s=ue.substitute(s,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","float intensity = tcolor.r*cscale0 + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)).rgb, pwfscale0*tcolor.g + pwfshift0);"]).result;break;default:s=ue.substitute(s,"//VTK::TCoord::Impl",["vec4 tcolor = cscale0*texture2D(texture1, tcoordVCVSOutput.st) + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);"]).result}e.haveSeenDepthRequest&&(s=ue.substitute(s,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,s=ue.substitute(s,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),n.Vertex=i,n.Fragment=s,t.replaceShaderClip(n,r,a),t.replaceShaderCoincidentOffset(n,r,a)},t.replaceShaderClip=function(n,r,a){var i=n.Vertex,s=n.Fragment;if(e.renderable.getNumberOfClippingPlanes()){var o=e.renderable.getNumberOfClippingPlanes();o>6&&(Le("OpenGL has a limit of 6 clipping planes"),o=6),i=ue.substitute(i,"//VTK::Clip::Dec",["uniform int numClipPlanes;","uniform vec4 clipPlanes[6];","varying float clipDistancesVSOutput[6];"]).result,i=ue.substitute(i,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,s=ue.substitute(s,"//VTK::Clip::Dec",["uniform int numClipPlanes;","varying float clipDistancesVSOutput[6];"]).result,s=ue.substitute(s,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}n.Vertex=i,n.Fragment=s},t.getNeedToRebuildShaders=function(n,r,a){var i=e.openGLTexture.getComponents(),s=a.getProperty().getIndependentComponents(),o=!1;return!e.currentRenderPass&&e.lastRenderPassShaderReplacement&&(o=!0,e.lastRenderPassShaderReplacement=null),e.currentRenderPass&&e.currentRenderPass.getShaderReplacement()!==e.lastRenderPassShaderReplacement&&(e.lastRenderPassShaderReplacement=e.currentRenderPass.getShaderReplacement(),o=!0),o||e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||n.getProgram()===0||e.lastTextureComponents!==i||e.lastIndependentComponents!==s?(e.lastHaveSeenDepthRequest=e.haveSeenDepthRequest,e.lastTextureComponents=i,e.lastIndependentComponents=s,!0):!1},t.updateShaders=function(n,r,a){if(e.lastBoundBO=n,t.getNeedToRebuildShaders(n,r,a)){var i={Vertex:null,Fragment:null,Geometry:null};t.buildShaders(i,r,a);var s=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);s!==n.getProgram()&&(n.setProgram(s),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),t.setMapperShaderParameters(n,r,a),t.setCameraShaderParameters(n,r,a),t.setPropertyShaderParameters(n,r,a)},t.setMapperShaderParameters=function(n,r,a){n.getCABO().getElementCount()&&(e.VBOBuildTime>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())&&(n.getProgram().isAttributeUsed("vertexMC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"vertexMC",n.getCABO().getVertexOffset(),n.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||ea("Error setting vertexMC in shader VAO.")),n.getProgram().isAttributeUsed("tcoordMC")&&n.getCABO().getTCoordOffset()&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"tcoordMC",n.getCABO().getTCoordOffset(),n.getCABO().getStride(),e.context.FLOAT,n.getCABO().getTCoordComponents(),e.context.FALSE)||ea("Error setting tcoordMC in shader VAO.")),n.getAttributeUpdateTime().modified());var i=e.openGLTexture.getTextureUnit();n.getProgram().setUniformi("texture1",i);var s=e.openGLTexture.getComponents(),o=a.getProperty().getIndependentComponents();if(o)for(var c=0;c<s;c++)n.getProgram().setUniformf("mix".concat(c),a.getProperty().getComponentWeight(c));for(var u=e.openGLTexture.getShiftAndScale(),l=0;l<s;l++){var f=a.getProperty().getColorWindow(),h=a.getProperty().getColorLevel(),p=o?l:0,d=a.getProperty().getRGBTransferFunction(p);if(d&&a.getProperty().getUseLookupTableScalarRange()){var y=d.getRange();f=y[1]-y[0],h=.5*(y[1]+y[0])}var m=u.scale/f,_=(u.shift-h)/f+.5;n.getProgram().setUniformf("cshift".concat(l),_),n.getProgram().setUniformf("cscale".concat(l),m)}for(var v=0;v<s;v++){var g=1,x=0,w=o?v:0,C=a.getProperty().getPiecewiseFunction(w);if(C){var S=C.getRange(),T=S[1]-S[0],b=.5*(S[0]+S[1]);g=u.scale/T,x=(u.shift-b)/T+.5}n.getProgram().setUniformf("pwfshift".concat(v),x),n.getProgram().setUniformf("pwfscale".concat(v),g)}if(e.haveSeenDepthRequest&&n.getProgram().setUniformi("depthRequest",e.renderDepth?1:0),n.getProgram().isUniformUsed("coffset")){var O=t.getCoincidentParameters(r,a);n.getProgram().setUniformf("coffset",O.offset),n.getProgram().isUniformUsed("cfactor")&&n.getProgram().setUniformf("cfactor",O.factor)}var D=e.colorTexture.getTextureUnit();n.getProgram().setUniformi("colorTexture1",D);var N=e.pwfTexture.getTextureUnit();if(n.getProgram().setUniformi("pwfTexture1",N),e.renderable.getNumberOfClippingPlanes()){var R=e.renderable.getNumberOfClippingPlanes();R>6&&(Le("OpenGL has a limit of 6 clipping planes"),R=6);var E=e.currentInput,A=E.getWorldToIndex(),W=n.getCABO().getCoordShiftAndScaleEnabled(),z=W?n.getCABO().getInverseShiftAndScaleMatrix():null,F=z?Ft(e.imagematinv,a.getMatrix()):a.getMatrix();z&&(Ze(F,F),st(F,F,z),Ze(F,F)),st(e.imagematinv,F,A);for(var L=[],G=0;G<R;G++){var H=[];e.renderable.getClippingPlaneInDataCoords(e.imagematinv,G,H);for(var $=0;$<4;$++)L.push(H[$])}n.getProgram().setUniformi("numClipPlanes",R),n.getProgram().setUniform4fv("clipPlanes",L)}},t.setCameraShaderParameters=function(n,r,a){var i=n.getProgram(),s=e.openGLImageSlice.getKeyMatrices(),o=e.currentInput,c=o.getIndexToWorld();st(e.imagemat,s.mcwc,c);var u=e.openGLCamera.getKeyMatrices(r);if(st(e.imagemat,u.wcpc,e.imagemat),n.getCABO().getCoordShiftAndScaleEnabled()){var l=n.getCABO().getInverseShiftAndScaleMatrix();st(e.imagemat,e.imagemat,l)}i.setUniformMatrix("MCPCMatrix",e.imagemat)},t.setPropertyShaderParameters=function(n,r,a){var i=n.getProgram(),s=a.getProperty(),o=s.getOpacity();i.setUniformf("opacity",o)},t.renderPieceStart=function(n,r){t.updateBufferObjects(n,r),e.lastBoundBO=null},t.renderPieceDraw=function(n,r){var a=e.context;e.openGLTexture.activate(),e.colorTexture.activate(),e.pwfTexture.activate(),e.tris.getCABO().getElementCount()&&(t.updateShaders(e.tris,n,r),a.drawArrays(a.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release()),e.openGLTexture.deactivate(),e.colorTexture.deactivate(),e.pwfTexture.deactivate()},t.renderPieceFinish=function(n,r){},t.renderPiece=function(n,r){if(t.invokeEvent({type:"StartEvent"}),e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent({type:"EndEvent"}),!e.currentInput){ea("No input!");return}t.renderPieceStart(n,r),t.renderPieceDraw(n,r),t.renderPieceFinish(n,r)},t.computeBounds=function(n,r){if(!t.getInput()){Fa(e.bounds);return}e.bounds=t.getInput().getBounds()},t.updateBufferObjects=function(n,r){t.getNeedToRebuildBufferObjects(n,r)&&t.buildBufferObjects(n,r)},t.getNeedToRebuildBufferObjects=function(n,r){return e.VBOBuildTime.getMTime()<t.getMTime()||e.VBOBuildTime.getMTime()<r.getMTime()||e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<r.getProperty().getMTime()||e.VBOBuildTime.getMTime()<e.currentInput.getMTime()},t.buildBufferObjects=function(n,r){var a=e.currentInput;if(!!a){var i=a.getPointData()&&a.getPointData().getScalars();if(!!i){var s=r.getProperty(),o=s.getInterpolationType();o===su.NEAREST?(e.colorTexture.setMinificationFilter(et.NEAREST),e.colorTexture.setMagnificationFilter(et.NEAREST),e.pwfTexture.setMinificationFilter(et.NEAREST),e.pwfTexture.setMagnificationFilter(et.NEAREST)):(e.colorTexture.setMinificationFilter(et.LINEAR),e.colorTexture.setMagnificationFilter(et.LINEAR),e.pwfTexture.setMinificationFilter(et.LINEAR),e.pwfTexture.setMagnificationFilter(et.LINEAR));var c=i.getNumberOfComponents(),u=s.getIndependentComponents(),l=u?c:1,f=u?2*l:1,h=df(s,s.getRGBTransferFunction,l);if(e.colorTextureString!==h){var p=1024,d=p*f*3,y=new Uint8Array(d),m=s.getRGBTransferFunction();if(m){for(var _=new Float32Array(p*3),v=0;v<l;v++){m=s.getRGBTransferFunction(v);var g=m.getRange();if(m.getTable(g[0],g[1],p,_,1),u)for(var x=0;x<p*3;x++)y[v*p*6+x]=255*_[x],y[v*p*6+x+p*3]=255*_[x];else for(var w=0;w<p*3;w++)y[v*p*6+w]=255*_[w]}e.colorTexture.create2DFromRaw(p,f,3,pt.UNSIGNED_CHAR,y)}else{for(var C=0;C<p*3;++C)y[C]=255*C/((p-1)*3),y[C+1]=255*C/((p-1)*3),y[C+2]=255*C/((p-1)*3);e.colorTexture.create2DFromRaw(p,1,3,pt.UNSIGNED_CHAR,y)}e.colorTextureString=h}var S=df(s,s.getPiecewiseFunction,l);if(e.pwfTextureString!==S){var T=1024,b=T*f,O=new Uint8Array(b),D=s.getPiecewiseFunction();if(e.pwfTexture.resetFormatAndType(),D){for(var N=new Float32Array(b),R=new Float32Array(T),E=0;E<l;++E)if(D=s.getPiecewiseFunction(E),D===null)N.fill(1);else{var A=D.getRange();if(D.getTable(A[0],A[1],T,R,1),u)for(var W=0;W<T;W++)N[E*T*2+W]=R[W],N[E*T*2+W+T]=R[W];else for(var z=0;z<T;z++)N[E*T*2+z]=R[z]}e.pwfTexture.create2DFromRaw(T,f,1,pt.FLOAT,N)}else O.fill(255),e.pwfTexture.create2DFromRaw(T,1,1,pt.UNSIGNED_CHAR,O);e.pwfTextureString=S}var F=e.renderable.getClosestIJKAxis(),L=F.ijkMode,G=e.renderable.getSlice();L!==e.renderable.getSlicingMode()&&(G=e.renderable.getSliceAtPosition(G));var H=Math.round(G),$=a.getExtent(),J;L===fr.I&&(J=H-$[0]),L===fr.J&&(J=H-$[2]),(L===fr.K||L===fr.NONE)&&(J=H-$[4]);var Q="".concat(G,"A").concat(a.getMTime(),"A").concat(i.getMTime(),"B").concat(t.getMTime(),"C").concat(e.renderable.getSlicingMode(),"D").concat(r.getProperty().getMTime());if(e.VBOBuildString!==Q){var q=a.getDimensions();o===su.NEAREST?(c===4&&e.openGLTexture.setGenerateMipmap(!0),e.openGLTexture.setMinificationFilter(et.NEAREST),e.openGLTexture.setMagnificationFilter(et.NEAREST)):(c===4?(e.openGLTexture.setGenerateMipmap(!0),e.openGLTexture.setMinificationFilter(et.LINEAR_MIPMAP_LINEAR)):e.openGLTexture.setMinificationFilter(et.LINEAR),e.openGLTexture.setMagnificationFilter(et.LINEAR)),e.openGLTexture.setWrapS(wi.CLAMP_TO_EDGE),e.openGLTexture.setWrapT(wi.CLAMP_TO_EDGE);for(var ne=q[0]*q[1]*c,te=new Float32Array(12),oe=new Float32Array(8),re=0;re<4;re++)oe[re*2]=re%2?1:0,oe[re*2+1]=re>1?1:0;var B=[fr.X,fr.Y,fr.Z].includes(e.renderable.getSlicingMode())?G:H,k=a.getSpatialExtent(),j=i.getData(),V=null;if(L===fr.I){V=new j.constructor(q[2]*q[1]*c);for(var M=0,P=0;P<q[2];P++)for(var U=0;U<q[1];U++){var K=(J+U*q[0]+P*q[0]*q[1])*c;M=(P*q[1]+U)*c,V.set(j.subarray(K,K+c),M)}q[0]=q[1],q[1]=q[2],te[0]=B,te[1]=k[2],te[2]=k[4],te[3]=B,te[4]=k[3],te[5]=k[4],te[6]=B,te[7]=k[2],te[8]=k[5],te[9]=B,te[10]=k[3],te[11]=k[5]}else if(L===fr.J){V=new j.constructor(q[2]*q[0]*c);for(var X=0,Z=0;Z<q[2];Z++)for(var ae=0;ae<q[0];ae++){var ce=(ae+J*q[0]+Z*q[0]*q[1])*c;X=(Z*q[0]+ae)*c,V.set(j.subarray(ce,ce+c),X)}q[1]=q[2],te[0]=k[0],te[1]=B,te[2]=k[4],te[3]=k[1],te[4]=B,te[5]=k[4],te[6]=k[0],te[7]=B,te[8]=k[5],te[9]=k[1],te[10]=B,te[11]=k[5]}else L===fr.K||L===fr.NONE?(V=j.subarray(J*ne,(J+1)*ne),te[0]=k[0],te[1]=k[2],te[2]=B,te[3]=k[1],te[4]=k[2],te[5]=B,te[6]=k[0],te[7]=k[3],te[8]=B,te[9]=k[1],te[10]=k[3],te[11]=B):ea("Reformat slicing not yet supported.");e.openGLTexture.create2DFromRaw(q[0],q[1],c,i.getDataType(),V),e.openGLTexture.activate(),e.openGLTexture.sendParameters(),e.openGLTexture.deactivate();var ie=Ee.newInstance({numberOfComponents:3,values:te});ie.setName("points");var pe=Ee.newInstance({numberOfComponents:2,values:oe});pe.setName("tcoords");var ve=new Uint16Array(8);ve[0]=3,ve[1]=0,ve[2]=1,ve[3]=3,ve[4]=3,ve[5]=0,ve[6]=3,ve[7]=2;var fe=Ee.newInstance({numberOfComponents:1,values:ve});e.tris.getCABO().createVBO(fe,"polys",$t.SURFACE,{points:ie,tcoords:pe,cellOffset:0}),e.VBOBuildTime.modified(),e.VBOBuildString=Q}}}}}var E4={VBOBuildTime:0,VBOBuildString:null,openGLTexture:null,tris:null,imagemat:null,imagematinv:null,colorTexture:null,pwfTexture:null,lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastTextureComponents:0};function D4(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,E4,n),Ut.extend(t,e,n),nc.implementReplaceShaderCoincidentOffset(t,e,n),e.tris=dn.newInstance(),e.openGLTexture=Wt.newInstance(),e.colorTexture=Wt.newInstance(),e.pwfTexture=Wt.newInstance(),e.imagemat=Me(new Float64Array(16)),e.imagematinv=Me(new Float64Array(16)),Rt(t,e,[]),e.VBOBuildTime={},St(e.VBOBuildTime),b4(t,e)}var O4=ut(D4,"vtkOpenGLImageMapper");Gt("vtkImageMapper",O4);function N4(t,e){e.classHierarchy.push("vtkOpenGLImageSlice"),t.buildPass=function(n){if(!(!e.renderable||!e.renderable.getVisibility())&&n){if(!e.renderable)return;e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes()}},t.traverseOpaqueZBufferPass=function(n){t.traverseOpaquePass(n)},t.traverseOpaquePass=function(n){!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.children.forEach(function(r){r.traverse(n)}),t.apply(n,!1))},t.traverseTranslucentPass=function(n){!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.children.forEach(function(r){r.traverse(n)}),t.apply(n,!1))},t.queryPass=function(n,r){if(n){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?r.incrementOpaqueActorCount():r.incrementTranslucentActorCount()}},t.opaqueZBufferPass=function(n,r){return t.opaquePass(n,r)},t.opaquePass=function(n,r){n&&e.context.depthMask(!0)},t.translucentPass=function(n,r){e.context.depthMask(!n)},t.getKeyMatrices=function(){return e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(Ft(e.keyMatrices.mcwc,e.renderable.getMatrix()),Ze(e.keyMatrices.mcwc,e.keyMatrices.mcwc),e.keyMatrixTime.modified()),e.keyMatrices}}var k4={context:null,keyMatrixTime:null,keyMatrices:null};function M4(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,k4,n),Ut.extend(t,e,n),e.keyMatrixTime={},St(e.keyMatrixTime,{mtime:0}),e.keyMatrices={mcwc:Me(new Float64Array(16))},Rt(t,e,["context"]),N4(t,e)}var R4=ut(M4,"vtkOpenGLImageSlice");Gt("vtkImageSlice",R4);function L4(t,e){e.classHierarchy.push("vtkOpenGLVolume"),t.buildPass=function(n){!e.renderable||!e.renderable.getVisibility()||n&&(e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes())},t.queryPass=function(n,r){if(n){if(!e.renderable||!e.renderable.getVisibility())return;r.incrementVolumeCount()}},t.traverseVolumePass=function(n){!e.renderable||!e.renderable.getNestedVisibility()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.children[0].traverse(n),t.apply(n,!1))},t.volumePass=function(n){!e.renderable||!e.renderable.getVisibility()||e.context.depthMask(!n)},t.getKeyMatrices=function(){return e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(e.renderable.computeMatrix(),Ft(e.MCWCMatrix,e.renderable.getMatrix()),Ze(e.MCWCMatrix,e.MCWCMatrix),e.renderable.getIsIdentity()?kr(e.normalMatrix):(Pi(e.normalMatrix,e.MCWCMatrix),ji(e.normalMatrix,e.normalMatrix)),e.keyMatrixTime.modified()),{mcwc:e.MCWCMatrix,normalMatrix:e.normalMatrix}}}var F4={};function A4(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,F4,n),Ut.extend(t,e,n),e.keyMatrixTime={},St(e.keyMatrixTime,{mtime:0}),e.normalMatrix=new Float64Array(9),e.MCWCMatrix=new Float64Array(16),Rt(t,e,["context"]),L4(t,e)}var B4=ut(A4,"vtkOpenGLVolume");Gt("vtkVolume",B4);function V4(t,e){e.classHierarchy.push("vtkFramebuffer"),t.getBothMode=function(){return e.context.FRAMEBUFFER},t.saveCurrentBindingsAndBuffers=function(n){var r=typeof n!="undefined"?n:t.getBothMode();t.saveCurrentBindings(r),t.saveCurrentBuffers(r)},t.saveCurrentBindings=function(n){if(!e.context){Le("you must set the OpenGLRenderWindow before calling saveCurrentBindings");return}var r=e.context;e.previousDrawBinding=r.getParameter(e.context.FRAMEBUFFER_BINDING),e.previousActiveFramebuffer=e._openGLRenderWindow.getActiveFramebuffer()},t.saveCurrentBuffers=function(n){},t.restorePreviousBindingsAndBuffers=function(n){var r=typeof n!="undefined"?n:t.getBothMode();t.restorePreviousBindings(r),t.restorePreviousBuffers(r)},t.restorePreviousBindings=function(n){if(!e.context){Le("you must set the OpenGLRenderWindow before calling restorePreviousBindings");return}var r=e.context;r.bindFramebuffer(r.FRAMEBUFFER,e.previousDrawBinding),e._openGLRenderWindow.setActiveFramebuffer(e.previousActiveFramebuffer)},t.restorePreviousBuffers=function(n){},t.bind=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=n;r===null&&(r=e.context.FRAMEBUFFER),e.context.bindFramebuffer(r,e.glFramebuffer);for(var a=0;a<e.colorBuffers.length;a++)e.colorBuffers[a].bind();e._openGLRenderWindow.setActiveFramebuffer(t)},t.create=function(n,r){if(!e.context){Le("you must set the OpenGLRenderWindow before calling create");return}e.glFramebuffer=e.context.createFramebuffer(),e.glFramebuffer.width=n,e.glFramebuffer.height=r},t.setColorBuffer=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=e.context;if(!a){Le("you must set the OpenGLRenderWindow before calling setColorBuffer");return}var i=a.COLOR_ATTACHMENT0;if(r>0)if(e._openGLRenderWindow.getWebgl2())i+=r;else{Le("Using multiple framebuffer attachments requires WebGL 2");return}e.colorBuffers[r]=n,a.framebufferTexture2D(a.FRAMEBUFFER,i,a.TEXTURE_2D,n.getHandle(),0)},t.removeColorBuffer=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=e.context;if(!r){Le("you must set the OpenGLRenderWindow before calling removeColorBuffer");return}var a=r.COLOR_ATTACHMENT0;if(n>0)if(e._openGLRenderWindow.getWebgl2())a+=n;else{Le("Using multiple framebuffer attachments requires WebGL 2");return}r.framebufferTexture2D(r.FRAMEBUFFER,a,r.TEXTURE_2D,null,0),e.colorBuffers=e.colorBuffers.splice(n,1)},t.setDepthBuffer=function(n){if(!e.context){Le("you must set the OpenGLRenderWindow before calling setDepthBuffer");return}if(e._openGLRenderWindow.getWebgl2()){var r=e.context;r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,n.getHandle(),0)}else Le("Attaching depth buffer textures to fbo requires WebGL 2")},t.removeDepthBuffer=function(){if(!e.context){Le("you must set the OpenGLRenderWindow before calling removeDepthBuffer");return}if(e._openGLRenderWindow.getWebgl2()){var n=e.context;n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,null,0)}else Le("Attaching depth buffer textures to framebuffers requires WebGL 2")},t.getGLFramebuffer=function(){return e.glFramebuffer},t.setOpenGLRenderWindow=function(n){e._openGLRenderWindow!==n&&(t.releaseGraphicsResources(),e._openGLRenderWindow=n,e.context=null,n&&(e.context=e._openGLRenderWindow.getContext()))},t.releaseGraphicsResources=function(){e.glFramebuffer&&e.context.deleteFramebuffer(e.glFramebuffer)},t.getSize=function(){var n=[0,0];return e.glFramebuffer!==null&&(n[0]=e.glFramebuffer.width,n[1]=e.glFramebuffer.height),n},t.populateFramebuffer=function(){if(!e.context){Le("you must set the OpenGLRenderWindow before calling populateFrameBuffer");return}t.bind();var n=e.context,r=Wt.newInstance();r.setOpenGLRenderWindow(e._openGLRenderWindow),r.setMinificationFilter(et.LINEAR),r.setMagnificationFilter(et.LINEAR),r.create2DFromRaw(e.glFramebuffer.width,e.glFramebuffer.height,4,pt.UNSIGNED_CHAR,null),t.setColorBuffer(r),e.depthTexture=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,e.depthTexture),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,e.glFramebuffer.width,e.glFramebuffer.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,e.depthTexture)},t.getColorTexture=function(){return e.colorBuffers[0]}}var U4={glFramebuffer:null,colorBuffers:null,depthTexture:null,previousDrawBinding:0,previousReadBinding:0,previousDrawBuffer:0,previousReadBuffer:0,previousActiveFramebuffer:null};function lp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,U4,n),St(t,e),e.colorBuffers&&Le("you cannot initialize colorBuffers through the constructor. You should call setColorBuffer() instead."),e.colorBuffers=[],Os(t,e,["colorBuffers"]),V4(t,e)}var G4=ut(lp,"vtkFramebuffer"),ks={newInstance:G4,extend:lp},uu={NEAREST:0,LINEAR:1,FAST_LINEAR:2},hp={FRACTIONAL:0,PROPORTIONAL:1},ac={InterpolationType:uu,OpacityMode:hp},pp={COMPOSITE_BLEND:0,MAXIMUM_INTENSITY_BLEND:1,MINIMUM_INTENSITY_BLEND:2,AVERAGE_INTENSITY_BLEND:3,ADDITIVE_INTENSITY_BLEND:4},P4={OFF:0,NORMALIZED:1,RAW:2},vp={BlendMode:pp,FilterMode:P4},j4=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

attribute vec4 vertexDC;

varying vec3 vertexVCVSOutput;
uniform mat4 PCVCMatrix;

uniform float dcxmin;
uniform float dcxmax;
uniform float dcymin;
uniform float dcymax;

void main()
{
  // dcsmall is the device coords reduced to the
  // x y area covered by the volume
  vec4 dcsmall = vec4(
    dcxmin + 0.5 * (vertexDC.x + 1.0) * (dcxmax - dcxmin),
    dcymin + 0.5 * (vertexDC.y + 1.0) * (dcymax - dcymin),
    vertexDC.z,
    vertexDC.w);
  vec4 vcpos = PCVCMatrix * dcsmall;
  vertexVCVSOutput = vcpos.xyz/vcpos.w;
  gl_Position = dcsmall;
}
`,z4=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkVolumeFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the volume mappers fragment shader

// the output of this shader
//VTK::Output::Dec

varying vec3 vertexVCVSOutput;

// first declare the settings from the mapper
// that impact the code paths in here

// always set vtkNumComponents 1,2,3,4
//VTK::NumComponents

// possibly define vtkTrilinearOn
//VTK::TrilinearOn

// possibly define vtkIndependentComponents
//VTK::IndependentComponentsOn

// possibly define any "proportional" components
//VTK::vtkProportionalComponents

// Define the blend mode to use
#define vtkBlendMode //VTK::BlendMode

// Possibly define vtkImageLabelOutlineOn
//VTK::ImageLabelOutlineOn

#ifdef vtkImageLabelOutlineOn
uniform int outlineThickness;
uniform float vpWidth;
uniform float vpHeight;
uniform float vpOffsetX;
uniform float vpOffsetY;
uniform mat4 PCWCMatrix;
uniform mat4 vWCtoIDX;
#endif

// define vtkLightComplexity
//VTK::LightComplexity
#if vtkLightComplexity > 0
uniform float vSpecularPower;
uniform float vAmbient;
uniform float vDiffuse;
uniform float vSpecular;
//VTK::Light::Dec
#endif

// define vtkComputeNormalFromOpacity
//VTK::vtkComputeNormalFromOpacity

// possibly define vtkGradientOpacityOn
//VTK::GradientOpacityOn
#ifdef vtkGradientOpacityOn
uniform float goscale0;
uniform float goshift0;
uniform float gomin0;
uniform float gomax0;
#if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)
uniform float goscale1;
uniform float goshift1;
uniform float gomin1;
uniform float gomax1;
#if vtkNumComponents >= 3
uniform float goscale2;
uniform float goshift2;
uniform float gomin2;
uniform float gomax2;
#endif
#if vtkNumComponents >= 4
uniform float goscale3;
uniform float goshift3;
uniform float gomin3;
uniform float gomax3;
#endif
#endif
#endif

// if you want to see the raw tiled
// data in webgl1 uncomment the following line
// #define debugtile

// camera values
uniform float camThick;
uniform float camNear;
uniform float camFar;
uniform int cameraParallel;

// values describing the volume geometry
uniform vec3 vOriginVC;
uniform vec3 vSpacing;
uniform ivec3 volumeDimensions; // 3d texture dimensions
uniform vec3 vPlaneNormal0;
uniform float vPlaneDistance0;
uniform vec3 vPlaneNormal1;
uniform float vPlaneDistance1;
uniform vec3 vPlaneNormal2;
uniform float vPlaneDistance2;
uniform vec3 vPlaneNormal3;
uniform float vPlaneDistance3;
uniform vec3 vPlaneNormal4;
uniform float vPlaneDistance4;
uniform vec3 vPlaneNormal5;
uniform float vPlaneDistance5;

//VTK::ClipPlane::Dec

// opacity and color textures
uniform sampler2D otexture;
uniform float oshift0;
uniform float oscale0;
uniform sampler2D ctexture;
uniform float cshift0;
uniform float cscale0;

// jitter texture
uniform sampler2D jtexture;

// some 3D texture values
uniform float sampleDistance;
uniform vec3 vVCToIJK;

// the heights defined below are the locations
// for the up to four components of the tfuns
// the tfuns have a height of 2XnumComps pixels so the
// values are computed to hit the middle of the two rows
// for that component
#ifdef vtkIndependentComponentsOn
#if vtkNumComponents == 2
uniform float mix0;
uniform float mix1;
#define height0 0.25
#define height1 0.75
#endif
#if vtkNumComponents == 3
uniform float mix0;
uniform float mix1;
uniform float mix2;
#define height0 0.17
#define height1 0.5
#define height2 0.83
#endif
#if vtkNumComponents == 4
uniform float mix0;
uniform float mix1;
uniform float mix2;
uniform float mix3;
#define height0 0.125
#define height1 0.375
#define height2 0.625
#define height3 0.875
#endif
#endif

#if vtkNumComponents >= 2
uniform float oshift1;
uniform float oscale1;
uniform float cshift1;
uniform float cscale1;
#endif
#if vtkNumComponents >= 3
uniform float oshift2;
uniform float oscale2;
uniform float cshift2;
uniform float cscale2;
#endif
#if vtkNumComponents >= 4
uniform float oshift3;
uniform float oscale3;
uniform float cshift3;
uniform float cscale3;
#endif

uniform vec4 ipScalarRangeMin;
uniform vec4 ipScalarRangeMax;

// declaration for intermixed geometry
//VTK::ZBuffer::Dec

//=======================================================================
// global and custom variables (a temporary section before photorealistics rendering module is complete)
vec3 rayDirVC;

//=======================================================================
// Webgl2 specific version of functions
#if __VERSION__ == 300

uniform highp sampler3D texture1;

vec4 getTextureValue(vec3 pos)
{
  vec4 tmp = texture(texture1, pos);
#if vtkNumComponents == 1
  tmp.a = tmp.r;
#endif
#if vtkNumComponents == 2
  tmp.a = tmp.g;
#endif
#if vtkNumComponents == 3
  tmp.a = length(tmp.rgb);
#endif
  return tmp;
}

//=======================================================================
// WebGL1 specific version of functions
#else

uniform sampler2D texture1;

uniform float texWidth;
uniform float texHeight;
uniform int xreps;
uniform int xstride;
uniform int ystride;

// if computing trilinear values from multiple z slices
#ifdef vtkTrilinearOn
vec4 getTextureValue(vec3 ijk)
{
  float zoff = 1.0/float(volumeDimensions.z);
  vec4 val1 = getOneTextureValue(ijk);
  vec4 val2 = getOneTextureValue(vec3(ijk.xy, ijk.z + zoff));

  float indexZ = float(volumeDimensions)*ijk.z;
  float zmix =  indexZ - floor(indexZ);

  return mix(val1, val2, zmix);
}

vec4 getOneTextureValue(vec3 ijk)
#else // nearest or fast linear
vec4 getTextureValue(vec3 ijk)
#endif
{
  vec3 tdims = vec3(volumeDimensions);

#ifdef debugtile
  vec2 tpos = vec2(ijk.x, ijk.y);
  vec4 tmp = texture2D(texture1, tpos);
  tmp.a = 1.0;

#else
  int z = int(ijk.z * tdims.z);
  int yz = z / xreps;
  int xz = z - yz*xreps;

  int tileWidth = volumeDimensions.x/xstride;
  int tileHeight = volumeDimensions.y/ystride;

  xz *= tileWidth;
  yz *= tileHeight;

  float ni = float(xz) + (ijk.x*float(tileWidth));
  float nj = float(yz) + (ijk.y*float(tileHeight));

  vec2 tpos = vec2(ni/texWidth, nj/texHeight);

  vec4 tmp = texture2D(texture1, tpos);

#if vtkNumComponents == 1
  tmp.a = tmp.r;
#endif
#if vtkNumComponents == 2
  tmp.g = tmp.a;
#endif
#if vtkNumComponents == 3
  tmp.a = length(tmp.rgb);
#endif
#endif

  return tmp;
}

// End of Webgl1 specific code
//=======================================================================
#endif

//=======================================================================
// Given a normal compute the gradient opacity factors
float computeGradientOpacityFactor(
  float normalMag, float goscale, float goshift, float gomin, float gomax)
{
#if defined(vtkGradientOpacityOn)
  return clamp(normalMag * goscale + goshift, gomin, gomax);
#else
  return 1.0;
#endif
}

//=======================================================================
//Rotate gradients to view coordinate
#if (vtkLightComplexity > 0) || (defined vtkGradientOpacityOn)
void rotateToViewCoord(inout vec3 normalIDX){
  normalIDX.xyz =
  normalIDX.x * vPlaneNormal0 +
  normalIDX.y * vPlaneNormal2 +
  normalIDX.z * vPlaneNormal4;
}
#endif
//=======================================================================
// compute the normal and gradient magnitude for a position, uses forward difference
#if (vtkLightComplexity > 0) || (defined vtkGradientOpacityOn)
  #ifdef vtkComputeNormalFromOpacity
    #ifdef vtkGradientOpacityOn
      vec4 computeNormalForDensity(vec3 pos, float scalar, vec3 tstep, out mat3 scalarInterp, out vec3 secondaryGradientMag)
      {
        vec4 result;
        scalarInterp[0][0] = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)).a;
        scalarInterp[0][1] = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)).a;
        scalarInterp[0][2] = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)).a;
        // look up scalar values for computing secondary gradient
        scalarInterp[1][0] = getTextureValue(pos + vec3(2.0*tstep.x, 0.0, 0.0)).a;
        scalarInterp[1][1] = getTextureValue(pos + vec3(0.0, 2.0*tstep.y, 0.0)).a;
        scalarInterp[1][2] = getTextureValue(pos + vec3(0.0, 0.0, 2.0*tstep.z)).a;
        scalarInterp[2][0] = getTextureValue(pos + vec3(tstep.x, tstep.y, 0.0)).a;
        scalarInterp[2][1] = getTextureValue(pos + vec3(tstep.x, 0.0, tstep.z)).a;
        scalarInterp[2][2] = getTextureValue(pos + vec3(0.0, tstep.y, tstep.z)).a;
        result.x = scalarInterp[0][0] - scalar;
        result.y = scalarInterp[0][1] - scalar;
        result.z = scalarInterp[0][2] - scalar;
        // divide by spacing
        result.xyz /= vSpacing;
        result.w = length(result.xyz);
        rotateToViewCoord(result.xyz);
        secondaryGradientMag.x = length(vec3(scalarInterp[1][0] - scalarInterp[0][0],
                                             scalarInterp[2][0] - scalarInterp[0][0],
                                             scalarInterp[2][1] - scalarInterp[0][0]) / vSpacing);
        secondaryGradientMag.y = length(vec3(scalarInterp[2][0] - scalarInterp[0][1],
                                             scalarInterp[1][1] - scalarInterp[0][1],
                                             scalarInterp[2][2] - scalarInterp[0][1]) / vSpacing);
        secondaryGradientMag.z = length(vec3(scalarInterp[2][1] - scalarInterp[0][2],
                                             scalarInterp[2][2] - scalarInterp[0][2],
                                             scalarInterp[1][2] - scalarInterp[0][2]) / vSpacing);
        if (length(result.xyz) > 0.0) {
          return vec4(normalize(result.xyz),result.w);
        } else {
          return vec4(0.0);
        }
      }

      vec4 computeDensityNormal(float scalar, float gradientMag, mat3 scalarInterp, vec3 secondaryGradientMag)
      {
        vec4 opacityG;
        vec3 opacityInterp = vec3(0.0);
        float opacity = texture2D(otexture, vec2(scalar * oscale0 + oshift0, 0.5)).r;
        if (gradientMag >= 0.0){
          opacity *= computeGradientOpacityFactor(gradientMag, goscale0, goshift0, gomin0, gomax0);
        }
        opacityInterp.x = texture2D(otexture, vec2(scalarInterp[0][0] * oscale0 + oshift0, 0.5)).r; 
        if (secondaryGradientMag.x >= 0.0){
        // opacityInterp.x *= computeGradientOpacityFactor(secondaryGradientMag.x, goscale0, goshift0, gomin0, gomax0);
        }
    
        opacityInterp.y = texture2D(otexture, vec2(scalarInterp[0][1] * oscale0 + oshift0, 0.5)).r;
        if (secondaryGradientMag.y >= 0.0){
        // opacityInterp.y *= computeGradientOpacityFactor(secondaryGradientMag.y, goscale0, goshift0, gomin0, gomax0);
        }

        opacityInterp.z = texture2D(otexture, vec2(scalarInterp[0][2] * oscale0 + oshift0, 0.5)).r;
        if (secondaryGradientMag.z >= 0.0){
        // opacityInterp.z *= computeGradientOpacityFactor(secondaryGradientMag.z, goscale0, goshift0, gomin0, gomax0);
        }

        opacityG.xyz = opacityInterp - vec3(opacity,opacity,opacity);
        // divide by spacing
        opacityG.xyz /= vSpacing;
        opacityG.w = length(opacityG.xyz);
        rotateToViewCoord(opacityG.xyz);
        if (length(opacityG.xyz) > 0.0) {  
          return vec4(normalize(opacityG.xyz),opacityG.w);
        } else {
          return vec4(0.0);
        }
      } 

    #else
    //if gradient opacity not on but using density gradient
      vec4 computeDensityNormal(float scalar, vec3 scalarInterp) 
      { 
        vec4 opacityG; 
        float opacity = texture2D(otexture, vec2(scalar * oscale0 + oshift0, 0.5)).r; 
        opacityG.x = texture2D(otexture, vec2(scalarInterp.x * oscale0 + oshift0, 0.5)).r - opacity; 
        opacityG.y = texture2D(otexture, vec2(scalarInterp.y * oscale0 + oshift0, 0.5)).r - opacity; 
        opacityG.z = texture2D(otexture, vec2(scalarInterp.z * oscale0 + oshift0, 0.5)).r - opacity; 
        // divide by spacing 
        opacityG.xyz /= vSpacing; 
        opacityG.w = length(opacityG.xyz); 
        // rotate to View Coords 
        rotateToViewCoord(opacityG.xyz);
        if (length(opacityG.xyz) > 0.0) {     
          return vec4(normalize(opacityG.xyz),opacityG.w); 
        } else { 
          return vec4(0.0); 
        } 
      } 
      vec4 computeNormalForDensity(vec3 pos, float scalar, vec3 tstep, out vec3 scalarInterp) 
      { 
        vec4 result; 
        scalarInterp.x = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)).a; 
        scalarInterp.y = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)).a; 
        scalarInterp.z = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)).a; 
        result.x = scalarInterp.x - scalar; 
        result.y = scalarInterp.y - scalar; 
        result.z = scalarInterp.z - scalar;   
        // divide by spacing
        result.xyz /= vSpacing;
        result.w = length(result.xyz); 
        // rotate to View Coords 
        rotateToViewCoord(result.xyz);      
        if (length(result.xyz) > 0.0) {     
          return vec4(normalize(result.xyz),result.w); 
        } else { 
          return vec4(0.0); 
        } 
      }           
    #endif
  #endif
  // compute scalar density
  vec4 computeNormal(vec3 pos, float scalar, vec3 tstep)  
  {  
    vec4 result;  
    result.x = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)).a - scalar;  
    result.y = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)).a - scalar;  
    result.z = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)).a - scalar;  
    // divide by spacing  
    result.xyz /= vSpacing;  
    result.w = length(result.xyz);  
    // rotate to View Coords  
    rotateToViewCoord(result.xyz);
    return vec4(normalize(result.xyz),result.w);  
  }  
#endif

#ifdef vtkImageLabelOutlineOn
vec3 fragCoordToIndexSpace(vec4 fragCoord) {
  vec4 pcPos = vec4(
    (fragCoord.x / vpWidth - vpOffsetX - 0.5) * 2.0,
    (fragCoord.y / vpHeight - vpOffsetY - 0.5) * 2.0,
    (fragCoord.z - 0.5) * 2.0,
    1.0);

  vec4 worldCoord = PCWCMatrix * pcPos;
  vec4 vertex = (worldCoord/worldCoord.w);

  vec3 index = (vWCtoIDX * vertex).xyz;

  // half voxel fix for labelmapOutline 
  return (index + vec3(0.5)) / vec3(volumeDimensions);
}
#endif

//=======================================================================
// compute the normals and gradient magnitudes for a position
// for independent components
mat4 computeMat4Normal(vec3 pos, vec4 tValue, vec3 tstep)
{
  mat4 result;
  vec4 distX = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)) - tValue;
  vec4 distY = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)) - tValue;
  vec4 distZ = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)) - tValue;

  // divide by spacing
  distX /= vSpacing.x;
  distY /= vSpacing.y;
  distZ /= vSpacing.z;

  mat3 rot;
  rot[0] = vPlaneNormal0;
  rot[1] = vPlaneNormal2;
  rot[2] = vPlaneNormal4;

#if !defined(vtkComponent0Proportional)
  result[0].xyz = vec3(distX.r, distY.r, distZ.r);
  result[0].a = length(result[0].xyz);
  result[0].xyz *= rot;
  if (result[0].w > 0.0)
  {
    result[0].xyz /= result[0].w;
  }
#endif

// optionally compute the 2nd component
#if vtkNumComponents >= 2 && !defined(vtkComponent1Proportional)
  result[1].xyz = vec3(distX.g, distY.g, distZ.g);
  result[1].a = length(result[1].xyz);
  result[1].xyz *= rot;
  if (result[1].w > 0.0)
  {
    result[1].xyz /= result[1].w;
  }
#endif

// optionally compute the 3rd component
#if vtkNumComponents >= 3 && !defined(vtkComponent2Proportional)
  result[2].xyz = vec3(distX.b, distY.b, distZ.b);
  result[2].a = length(result[2].xyz);
  result[2].xyz *= rot;
  if (result[2].w > 0.0)
  {
    result[2].xyz /= result[2].w;
  }
#endif

// optionally compute the 4th component
#if vtkNumComponents >= 4 && !defined(vtkComponent3Proportional)
  result[3].xyz = vec3(distX.a, distY.a, distZ.a);
  result[3].a = length(result[3].xyz);
  result[3].xyz *= rot;
  if (result[3].w > 0.0)
  {
    result[3].xyz /= result[3].w;
  }
#endif

  return result;
}

//=======================================================================
// surface light contribution

#if vtkLightComplexity == 3
// convert vector position from idx to vc
vec3 IStoVC(vec3 posIS){
  vec3 posVC = posIS / vVCToIJK;
  return posVC.x * vPlaneNormal0 + posVC.y * vPlaneNormal2 + posVC.z * vPlaneNormal4 + vOriginVC;
}
#endif

#if vtkLightComplexity > 0
  void applyLighting(inout vec3 tColor, vec4 normal)
  {
    vec3 diffuse = vec3(0.0, 0.0, 0.0);
    vec3 specular = vec3(0.0, 0.0, 0.0);
    float df, sf = 0.0;
    for (int i = 0; i < lightNum; i++){
        df = abs(dot(normal.rgb, -lightDirectionVC[i]));
        diffuse += df * lightColor[i];
        sf = pow( abs(dot(lightHalfAngleVC[i],normal.rgb)), vSpecularPower);
        specular += sf * lightColor[i];
    }
    tColor.rgb = tColor.rgb*(diffuse*vDiffuse + vAmbient) + specular*vSpecular;
  }
  #if vtkLightComplexity < 3
    void applyLightingDirectional(inout vec3 tColor, vec4 normal)
    {
      // everything in VC
      vec3 diffuse = vec3(0.0);
      vec3 specular = vec3(0.0);
      vec3 vertLightDirection;
      for (int i = 0; i < lightNum; i++){
        float ndotL,vdotR;
        vertLightDirection = lightDirectionVC[i];
        ndotL = dot(normal.xyz, vertLightDirection);
        if (ndotL < 0.0 && twoSidedLighting)
        {
          ndotL = -ndotL;
        }
        if (ndotL > 0.0)
        {
          diffuse += ndotL * lightColor[i];
          //specular
          vdotR = dot(-rayDirVC, normalize(2.0 * ndotL * -normal.xyz + vertLightDirection));
          if (vdotR > 0.0)
          {
            specular += pow(vdotR, vSpecularPower) * lightColor[i];
          }
        }
      }  
      tColor.rgb = tColor.rgb*(diffuse*vDiffuse + vAmbient) + specular*vSpecular;    
    }
  #else
    void applyLightingPositional(inout vec3 tColor, vec4 normal, vec3 posVC)
    {
      // everything in VC
      vec3 diffuse = vec3(0.0);
      vec3 specular = vec3(0.0);
      vec3 vertLightDirection;
      for (int i = 0; i < lightNum; i++){
        float distance,attenuation,ndotL,vdotR;
        vec3 lightDir;
        if (lightPositional[i] == 1){
          lightDir = lightDirectionVC[i];
          vertLightDirection = posVC - lightPositionVC[i]; 
          distance = length(vertLightDirection);
          vertLightDirection = normalize(vertLightDirection);
          attenuation = 1.0 / (lightAttenuation[i].x
                              + lightAttenuation[i].y * distance
                              + lightAttenuation[i].z * distance * distance);
          // per OpenGL standard cone angle is 90 or less for a spot light
          if (lightConeAngle[i] <= 90.0){
            float coneDot = dot(vertLightDirection, lightDir);
            if (coneDot >= cos(radians(lightConeAngle[i]))){  // if inside cone
              attenuation = attenuation * pow(coneDot, lightExponent[i]);
            }
            else {
              attenuation = 0.0;
            }
          }
          ndotL = dot(normal.xyz, vertLightDirection);
          if (ndotL < 0.0 && twoSidedLighting)
          {
            ndotL = -ndotL;
          }
          if (ndotL > 0.0)
          {
            diffuse += ndotL * attenuation * lightColor[i];
            //specular
            vdotR = dot(-rayDirVC, normalize(2.0 * ndotL * -normal.xyz + vertLightDirection));
            if (vdotR > 0.0)
            {
              specular += pow(vdotR, vSpecularPower) * attenuation * lightColor[i];
            }
          }
        } else {
          vertLightDirection = lightDirectionVC[i];
          ndotL = dot(normal.xyz, vertLightDirection);
          if (ndotL < 0.0 && twoSidedLighting)
          {
            ndotL = -ndotL;
          }
          if (ndotL > 0.0)
          {
            diffuse += ndotL * lightColor[i];
            //specular
            vdotR = dot(-rayDirVC, normalize(2.0 * ndotL * -normal.xyz + vertLightDirection));
            if (vdotR > 0.0)
            {
              specular += pow(vdotR, vSpecularPower) * lightColor[i];
            }
          }
        }
      }
      tColor.rgb = tColor.rgb * (diffuse * vDiffuse + vAmbient) + specular*vSpecular;
    }
  #endif 
#endif

//=======================================================================
// Given a texture value compute the color and opacity
//
vec4 getColorForValue(vec4 tValue, vec3 posIS, vec3 tstep)
{
#ifdef vtkImageLabelOutlineOn
  vec3 centerPosIS = fragCoordToIndexSpace(gl_FragCoord); // pos in texture space
  vec4 centerValue = getTextureValue(centerPosIS);
  bool pixelOnBorder = false;
  vec4 tColor = texture2D(ctexture, vec2(centerValue.r * cscale0 + cshift0, 0.5));

  // Get alpha of segment from opacity function.
  tColor.a = texture2D(otexture, vec2(centerValue.r * oscale0 + oshift0, 0.5)).r;

  // Only perform outline check on fragments rendering voxels that aren't invisible.
  // Saves a bunch of needless checks on the background.
  // TODO define epsilon when building shader?
  if (float(tColor.a) > 0.01) {
    for (int i = -outlineThickness; i <= outlineThickness; i++) {
      for (int j = -outlineThickness; j <= outlineThickness; j++) {
        if (i == 0 || j == 0) {
          continue;
        }

        vec4 neighborPixelCoord = vec4(gl_FragCoord.x + float(i),
          gl_FragCoord.y + float(j),
          gl_FragCoord.z, gl_FragCoord.w);

        vec3 neighborPosIS = fragCoordToIndexSpace(neighborPixelCoord);
        vec4 value = getTextureValue(neighborPosIS);

        // If any of my neighbours are not the same value as I
        // am, this means I am on the border of the segment.
        // We can break the loops
        if (any(notEqual(value, centerValue))) {
          pixelOnBorder = true;
          break;
        }
      }

      if (pixelOnBorder == true) {
        break;
      }
    }

    // If I am on the border, I am displayed at full opacity
    if (pixelOnBorder == true) {
      tColor.a = 1.0;
    }
  }

#else
  // compute the normal and gradient magnitude if needed
  // We compute it as a vec4 if possible otherwise a mat4
  //
  vec4 goFactor = vec4(1.0,1.0,1.0,1.0);

  // compute the normal vectors as needed
  #if (vtkLightComplexity > 0) || defined(vtkGradientOpacityOn)
    #if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)
      mat4 normalMat = computeMat4Normal(posIS, tValue, tstep);
      #if !defined(vtkComponent0Proportional)
        vec4 normal0 = normalMat[0];
      #endif
      #if !defined(vtkComponent1Proportional)
        vec4 normal1 = normalMat[1];
      #endif
      #if vtkNumComponents > 2
        #if !defined(vtkComponent2Proportional)
          vec4 normal2 = normalMat[2];
        #endif
        #if vtkNumComponents > 3
          #if !defined(vtkComponent3Proportional)
            vec4 normal3 = normalMat[3];
          #endif
        #endif
      #endif
    #else
      #ifdef vtkComputeNormalFromOpacity
        #ifdef vtkGradientOpacityOn
          mat3 scalarInterp;  
          vec3 secondaryGradientMag;  
          vec4 normalOpacity = vec4(0.0);  
          vec4 normal0 = computeNormalForDensity(posIS, tValue.a, tstep, scalarInterp, secondaryGradientMag);  
          normalOpacity = computeDensityNormal(tValue.a, normal0.w, scalarInterp,secondaryGradientMag);       
          if (length(normalOpacity) == 0.0){  
            normalOpacity = normal0;   
          }                      
        #else
          vec3 scalarInterp;  
          vec4 normal0 = computeNormalForDensity(posIS, tValue.a, tstep, scalarInterp);  
          vec4 normalOpacity;          
          if (length(normal0)>0.0){  
            normalOpacity = computeDensityNormal(tValue.a,scalarInterp);  
            if (length(normalOpacity)==0.0){  
              normalOpacity = normal0;  
            }  
          }                
        #endif
      #else 
        vec4 normal0 = computeNormal(posIS, tValue.a, tstep);                
      #endif
    #endif
  #endif

  // compute gradient opacity factors as needed
  #if defined(vtkGradientOpacityOn)
    #if !defined(vtkComponent0Proportional)
      goFactor.x =
        computeGradientOpacityFactor(normal0.a, goscale0, goshift0, gomin0, gomax0);
    #endif
    #if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)
      #if !defined(vtkComponent1Proportional)
        goFactor.y =
          computeGradientOpacityFactor(normal1.a, goscale1, goshift1, gomin1, gomax1);
      #endif
      #if vtkNumComponents > 2
        #if !defined(vtkComponent2Proportional)
          goFactor.z =
            computeGradientOpacityFactor(normal2.a, goscale2, goshift2, gomin2, gomax2);
        #endif
        #if vtkNumComponents > 3
          #if !defined(vtkComponent3Proportional)
            goFactor.w =
              computeGradientOpacityFactor(normal3.a, goscale3, goshift3, gomin3, gomax3);
          #endif
        #endif
      #endif
    #endif
  #endif

  // single component is always independent
  #if vtkNumComponents == 1
    vec4 tColor = texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, 0.5));
    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, 0.5)).r;
  #endif

  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2
    vec4 tColor = mix0*texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, height0));
    #if !defined(vtkComponent0Proportional)
      tColor.a = goFactor.x*mix0*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, height0)).r;
    #else
      float pwfValue = texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, height0)).r;
      tColor *= pwfValue;
      tColor.a *= mix(pwfValue, 1.0, (1.0 - mix0));
    #endif

    vec3 tColor1 = mix1*texture2D(ctexture, vec2(tValue.g * cscale1 + cshift1, height1)).rgb;
    #if !defined(vtkComponent1Proportional)
      tColor.a += goFactor.y*mix1*texture2D(otexture, vec2(tValue.g * oscale1 + oshift1, height1)).r;
    #else
      float pwfValue = texture2D(otexture, vec2(tValue.g * oscale1 + oshift1, height1)).r;
      tColor1 *= pwfValue;
      tColor.a *= mix(pwfValue, 1.0, (1.0 - mix1));
    #endif

    #if vtkNumComponents >= 3
      vec3 tColor2 = mix2*texture2D(ctexture, vec2(tValue.b * cscale2 + cshift2, height2)).rgb;
      #if !defined(vtkComponent2Proportional)
        tColor.a += goFactor.z*mix2*texture2D(otexture, vec2(tValue.b * oscale2 + oshift2, height2)).r;
      #else
        float pwfValue = texture2D(otexture, vec2(tValue.b * oscale2 + oshift2, height2)).r;
        tColor2 *= pwfValue;
        tColor.a *= mix(pwfValue, 1.0, (1.0 - mix2));
      #endif

      #if vtkNumComponents >= 4
        vec3 tColor3 = mix3*texture2D(ctexture, vec2(tValue.a * cscale3 + cshift3, height3)).rgb;
        #if !defined(vtkComponent3Proportional)
          tColor.a += goFactor.w*mix3*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, height3)).r;
        #else
          float pwfValue = texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, height3)).r;
          tColor3 *= pwfValue;
          tColor.a *= mix(pwfValue, 1.0, (1.0 - mix3));
        #endif
      #endif
    #endif
  #else // then not independent

  #if vtkNumComponents == 2
    float lum = tValue.r * cscale0 + cshift0;
    float alpha = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale1 + oshift1, 0.5)).r;
    vec4 tColor = vec4(lum, lum, lum, alpha);
  #endif
  #if vtkNumComponents == 3
    vec4 tColor;
    tColor.r = tValue.r * cscale0 + cshift0;
    tColor.g = tValue.g * cscale1 + cshift1;
    tColor.b = tValue.b * cscale2 + cshift2;
    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale0 + oshift0, 0.5)).r;
  #endif
  #if vtkNumComponents == 4
    vec4 tColor;
    tColor.r = tValue.r * cscale0 + cshift0;
    tColor.g = tValue.g * cscale1 + cshift1;
    tColor.b = tValue.b * cscale2 + cshift2;
    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, 0.5)).r;
  #endif
  #endif // dependent

  // apply lighting if requested as appropriate
  #if vtkLightComplexity > 0
    #if !defined(vtkComponent0Proportional)
        #if vtkLightComplexity < 3
          #ifdef vtkComputeNormalFromOpacity
            applyLightingDirectional(tColor.rgb, normalOpacity);
          #else
            applyLightingDirectional(tColor.rgb, normal0);
          #endif
        #else
          #ifdef vtkComputeNormalFromOpacity
            applyLightingPositional(tColor.rgb, normalOpacity, IStoVC(posIS));        
          #else
            applyLightingPositional(tColor.rgb, normal0, IStoVC(posIS));        
          #endif
        #endif
    #endif
  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2
    #if !defined(vtkComponent1Proportional)
      applyLighting(tColor1, normal1);
    #endif
  #if vtkNumComponents >= 3
    #if !defined(vtkComponent2Proportional)
      applyLighting(tColor2, normal2);
    #endif
  #if vtkNumComponents >= 4
    #if !defined(vtkComponent3Proportional)
      applyLighting(tColor3, normal3);
    #endif
  #endif
  #endif
  #endif
  #endif

// perform final independent blend as needed
#if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2
  tColor.rgb += tColor1;
#if vtkNumComponents >= 3
  tColor.rgb += tColor2;
#if vtkNumComponents >= 4
  tColor.rgb += tColor3;
#endif
#endif
#endif

#endif







return tColor;
}

bool valueWithinScalarRange(vec4 val, vec4 min, vec4 max) {
  bool withinRange = false;
  #if vtkNumComponents == 1
    if (val.r >= min.r && val.r <= max.r) {
      withinRange = true;
    }
  #endif
  #if defined(vtkIndependentComponentsOn) && vtkNumComponents == 2
     if (val.r >= min.r && val.r <= max.r &&
        val.g >= min.g && val.g <= max.g) {
      withinRange = true;
    }
  #endif
  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 3
    if (all(greaterThanEqual(val, ipScalarRangeMin)) &&
        all(lessThanEqual(val, ipScalarRangeMax))) {
      withinRange = true;
    }
  #endif
  return withinRange;
}

//=======================================================================
// Apply the specified blend mode operation along the ray's path.
//
void applyBlend(vec3 posIS, vec3 endIS, float sampleDistanceIS, vec3 tdims)
{
  vec3 tstep = 1.0/tdims;

  // start slightly inside and apply some jitter
  vec3 delta = endIS - posIS;
  vec3 stepIS = normalize(delta)*sampleDistanceIS;
  float raySteps = length(delta)/sampleDistanceIS;

  // avoid 0.0 jitter
  float jitter = 0.01 + 0.99*texture2D(jtexture, gl_FragCoord.xy/32.0).r;
  float stepsTraveled = jitter;

  // local vars for the loop
  vec4 color = vec4(0.0, 0.0, 0.0, 0.0);
  vec4 tValue;
  vec4 tColor;

  // if we have less than one step then pick the middle point
  // as our value
  // if (raySteps <= 1.0)
  // {
  //   posIS = (posIS + endIS)*0.5;
  // }

  // Perform initial step at the volume boundary
  // compute the scalar
  tValue = getTextureValue(posIS);

  #if vtkBlendMode == 0 // COMPOSITE_BLEND
    // now map through opacity and color
    tColor = getColorForValue(tValue, posIS, tstep);

    // handle very thin volumes
    if (raySteps <= 1.0)
    {
      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps);
      gl_FragData[0] = tColor;
      return;
    }

    tColor.a = 1.0 - pow(1.0 - tColor.a, jitter);
    color = vec4(tColor.rgb*tColor.a, tColor.a);
    posIS += (jitter*stepIS);

    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // now map through opacity and color
      tColor = getColorForValue(tValue, posIS, tstep);

      float mix = (1.0 - color.a);

      // this line should not be needed but nvidia seems to not handle
      // the break correctly on windows/chrome 58 angle
      //mix = mix * sign(max(raySteps - stepsTraveled - 1.0, 0.0));

      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;
      stepsTraveled++;
      posIS += stepIS;
      if (color.a > 0.99) { color.a = 1.0; break; }
    }

    if (color.a < 0.99 && (raySteps - stepsTraveled) > 0.0)
    {
      posIS = endIS;

      // compute the scalar
      tValue = getTextureValue(posIS);

      // now map through opacity and color
      tColor = getColorForValue(tValue, posIS, tstep);
      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps - stepsTraveled);

      float mix = (1.0 - color.a);
      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;
    }

    gl_FragData[0] = vec4(color.rgb/color.a, color.a);
  #endif
  #if vtkBlendMode == 1 || vtkBlendMode == 2
    // MAXIMUM_INTENSITY_BLEND || MINIMUM_INTENSITY_BLEND
    // Find maximum/minimum intensity along the ray.

    // Define the operation we will use (min or max)
    #if vtkBlendMode == 1
    #define OP max
    #else
    #define OP min
    #endif

    // If the clipping range is shorter than the sample distance
    // we can skip the sampling loop along the ray.
    if (raySteps <= 1.0)
    {
      gl_FragData[0] = getColorForValue(tValue, posIS, tstep);
      return;
    }

    vec4 value = tValue;
    posIS += (jitter*stepIS);

    // Sample along the ray until MaximumSamplesValue,
    // ending slightly inside the total distance
    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // Update the maximum value if necessary
      value = OP(tValue, value);

      // Otherwise, continue along the ray
      stepsTraveled++;
      posIS += stepIS;
    }

    // Perform the last step along the ray using the
    // residual distance
    posIS = endIS;
    tValue = getTextureValue(posIS);
    value = OP(tValue, value);

    // Now map through opacity and color
    gl_FragData[0] = getColorForValue(value, posIS, tstep);
  #endif
  #if vtkBlendMode == 3 || vtkBlendMode == 4 //AVERAGE_INTENSITY_BLEND || ADDITIVE_BLEND
    vec4 sum = vec4(0.);

    if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {
      sum += tValue;
    }

    if (raySteps <= 1.0) {
      gl_FragData[0] = getColorForValue(sum, posIS, tstep);
      return;
    }

    posIS += (jitter*stepIS);

    // Sample along the ray until MaximumSamplesValue,
    // ending slightly inside the total distance
    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // One can control the scalar range by setting the AverageIPScalarRange to disregard scalar values, not in the range of interest, from the average computation.
      // Notes:
      // - We are comparing all values in the texture to see if any of them
      //   are outside of the scalar range. In the future we might want to allow
      //   scalar ranges for each component.
      if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {
        // Sum the values across each step in the path
        sum += tValue;
      }
      stepsTraveled++;
      posIS += stepIS;
    }

    // Perform the last step along the ray using the
    // residual distance
    posIS = endIS;

    // compute the scalar
    tValue = getTextureValue(posIS);

    // One can control the scalar range by setting the IPScalarRange to disregard scalar values, not in the range of interest, from the average computation
    if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {
      sum += tValue;

      stepsTraveled++;
    }

    #if vtkBlendMode == 3 // Average
      sum /= vec4(stepsTraveled, stepsTraveled, stepsTraveled, 1.0);
    #endif

    gl_FragData[0] = getColorForValue(sum, posIS, tstep);
  #endif
}

//=======================================================================
// Compute a new start and end point for a given ray based
// on the provided bounded clipping plane (aka a rectangle)
void getRayPointIntersectionBounds(
  vec3 rayPos, vec3 rayDir,
  vec3 planeDir, float planeDist,
  inout vec2 tbounds, vec3 vPlaneX, vec3 vPlaneY,
  float vSize1, float vSize2)
{
  float result = dot(rayDir, planeDir);
  if (abs(result) < 1e-6)
  {
    return;
  }
  result = -1.0 * (dot(rayPos, planeDir) + planeDist) / result;
  vec3 xposVC = rayPos + rayDir*result;
  vec3 vxpos = xposVC - vOriginVC;
  vec2 vpos = vec2(
    dot(vxpos, vPlaneX),
    dot(vxpos, vPlaneY));

  // on some apple nvidia systems this does not work
  // if (vpos.x < 0.0 || vpos.x > vSize1 ||
  //     vpos.y < 0.0 || vpos.y > vSize2)
  // even just
  // if (vpos.x < 0.0 || vpos.y < 0.0)
  // fails
  // so instead we compute a value that represents in and out
  //and then compute the return using this value
  float xcheck = max(0.0, vpos.x * (vpos.x - vSize1)); //  0 means in bounds
  float check = sign(max(xcheck, vpos.y * (vpos.y - vSize2))); //  0 means in bounds, 1 = out

  tbounds = mix(
   vec2(min(tbounds.x, result), max(tbounds.y, result)), // in value
   tbounds, // out value
   check);  // 0 in 1 out
}

//=======================================================================
// given a
// - ray direction (rayDir)
// - starting point (vertexVCVSOutput)
// - bounding planes of the volume
// - optionally depth buffer values
// - far clipping plane
// compute the start/end distances of the ray we need to cast
vec2 computeRayDistances(vec3 rayDir, vec3 tdims)
{
  vec2 dists = vec2(100.0*camFar, -1.0);

  vec3 vSize = vSpacing*tdims;

  // all this is in View Coordinates
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal0, vPlaneDistance0, dists, vPlaneNormal2, vPlaneNormal4,
    vSize.y, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal1, vPlaneDistance1, dists, vPlaneNormal2, vPlaneNormal4,
    vSize.y, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal2, vPlaneDistance2, dists, vPlaneNormal0, vPlaneNormal4,
    vSize.x, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal3, vPlaneDistance3, dists, vPlaneNormal0, vPlaneNormal4,
    vSize.x, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal4, vPlaneDistance4, dists, vPlaneNormal0, vPlaneNormal2,
    vSize.x, vSize.y);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal5, vPlaneDistance5, dists, vPlaneNormal0, vPlaneNormal2,
    vSize.x, vSize.y);

  //VTK::ClipPlane::Impl

  // do not go behind front clipping plane
  dists.x = max(0.0,dists.x);

  // do not go PAST far clipping plane
  float farDist = -camThick/rayDir.z;
  dists.y = min(farDist,dists.y);

  // Do not go past the zbuffer value if set
  // This is used for intermixing opaque geometry
  //VTK::ZBuffer::Impl

  return dists;
}

//=======================================================================
// Compute the index space starting position (pos) and end
// position
//
void computeIndexSpaceValues(out vec3 pos, out vec3 endPos, out float sampleDistanceIS, vec3 rayDir, vec2 dists)
{
  // compute starting and ending values in volume space
  pos = vertexVCVSOutput + dists.x*rayDir;
  pos = pos - vOriginVC;
  // convert to volume basis and origin
  pos = vec3(
    dot(pos, vPlaneNormal0),
    dot(pos, vPlaneNormal2),
    dot(pos, vPlaneNormal4));

  endPos = vertexVCVSOutput + dists.y*rayDir;
  endPos = endPos - vOriginVC;
  endPos = vec3(
    dot(endPos, vPlaneNormal0),
    dot(endPos, vPlaneNormal2),
    dot(endPos, vPlaneNormal4));

  float delta = length(endPos - pos);

  pos *= vVCToIJK;
  endPos *= vVCToIJK;

  float delta2 = length(endPos - pos);
  sampleDistanceIS = sampleDistance*delta2/delta;
}

void main()
{

  if (cameraParallel == 1)
  {
    // Camera is parallel, so the rayDir is just the direction of the camera.
    rayDirVC = vec3(0.0, 0.0, -1.0);
  } else {
    // camera is at 0,0,0 so rayDir for perspective is just the vc coord
    rayDirVC = normalize(vertexVCVSOutput);
  }

  vec3 tdims = vec3(volumeDimensions);

  // compute the start and end points for the ray
  vec2 rayStartEndDistancesVC = computeRayDistances(rayDirVC, tdims);

  // do we need to composite? aka does the ray have any length
  // If not, bail out early
  if (rayStartEndDistancesVC.y <= rayStartEndDistancesVC.x)
  {
    discard;
  }

  // IS = Index Space
  vec3 posIS;
  vec3 endIS;
  float sampleDistanceIS;
  computeIndexSpaceValues(posIS, endIS, sampleDistanceIS, rayDirVC, rayStartEndDistancesVC);

  // Perform the blending operation along the ray
  applyBlend(posIS, endIS, sampleDistanceIS, tdims);
}
`;function gf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function I4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var W4=zi,t0=Le;function H4(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function $4(t,e){e.classHierarchy.push("vtkOpenGLVolumeMapper"),t.buildPass=function(){e.zBufferTexture=null},t.opaqueZBufferPass=function(n,r){if(n){var a=r.getZBufferTexture();a!==e.zBufferTexture&&(e.zBufferTexture=a)}},t.volumePass=function(n,r){if(n){e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow),e.jitterTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.framebuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.scalarTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.colorTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.opacityTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLVolume=t.getFirstAncestorOfType("vtkOpenGLVolume");var a=e.openGLVolume.getRenderable();e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer");var i=e.openGLRenderer.getRenderable();e.openGLCamera=e.openGLRenderer.getViewNodeFor(i.getActiveCamera()),t.renderPiece(i,a)}},t.buildShaders=function(n,r,a){t.getShaderTemplate(n,r,a),t.replaceShaderValues(n,r,a)},t.getShaderTemplate=function(n,r,a){n.Vertex=j4,n.Fragment=z4,n.Geometry=""},t.replaceShaderValues=function(n,r,a){var i=n.Fragment,s=a.getProperty().getInterpolationType();s===uu.LINEAR&&(i=ue.substitute(i,"//VTK::TrilinearOn","#define vtkTrilinearOn").result);var o=a.getProperty().getUseLabelOutline();o===!0&&(i=ue.substitute(i,"//VTK::ImageLabelOutlineOn","#define vtkImageLabelOutlineOn").result);var c=e.scalarTexture.getComponents();i=ue.substitute(i,"//VTK::NumComponents","#define vtkNumComponents ".concat(c)).result;var u=a.getProperty().getIndependentComponents();if(u){i=ue.substitute(i,"//VTK::IndependentComponentsOn","#define vtkIndependentComponentsOn").result;for(var l=[],f=0;f<c;f++)a.getProperty().getOpacityMode(f)===hp.PROPORTIONAL&&l.push("#define vtkComponent".concat(f,"Proportional"));l.length>0&&(i=ue.substitute(i,"//VTK::vtkProportionalComponents",l.join(`
`)).result)}var h=e.currentInput.getSpatialExtent(),p=e.currentInput.getSpacing(),d=new Float64Array(3);$e(d,(h[1]-h[0])*p[0],(h[3]-h[2])*p[1],(h[5]-h[4])*p[2]);var y=Fn(d)/e.renderable.getSampleDistance();i=ue.substitute(i,"//VTK::MaximumSamplesValue","".concat(Math.ceil(y))).result,i=ue.substitute(i,"//VTK::LightComplexity","#define vtkLightComplexity ".concat(e.lastLightComplexity)).result,e.gopacity=a.getProperty().getUseGradientOpacity(0);for(var m=1;u&&!e.gopacity&&m<c;++m)a.getProperty().getUseGradientOpacity(m)&&(e.gopacity=!0);e.gopacity&&(i=ue.substitute(i,"//VTK::GradientOpacityOn","#define vtkGradientOpacityOn").result),e.renderable.getComputeNormalFromOpacity()&&(i=ue.substitute(i,"//VTK::vtkComputeNormalFromOpacity","#define vtkComputeNormalFromOpacity").result),e.zBufferTexture!==null&&(i=ue.substitute(i,"//VTK::ZBuffer::Dec",["uniform sampler2D zBufferTexture;","uniform float vpWidth;","uniform float vpHeight;"]).result,i=ue.substitute(i,"//VTK::ZBuffer::Impl",["vec4 depthVec = texture2D(zBufferTexture, vec2(gl_FragCoord.x / vpWidth, gl_FragCoord.y/vpHeight));","float zdepth = (depthVec.r*256.0 + depthVec.g)/257.0;","zdepth = zdepth * 2.0 - 1.0;","zdepth = -2.0 * camFar * camNear / (zdepth*(camFar-camNear)-(camFar+camNear)) - camNear;","zdepth = -zdepth/rayDir.z;","dists.y = min(zdepth,dists.y);"]).result),i=ue.substitute(i,"//VTK::BlendMode","".concat(e.renderable.getBlendMode())).result,n.Fragment=i,t.replaceShaderLight(n,r,a),t.replaceShaderClippingPlane(n,r,a)},t.replaceShaderLight=function(n,r,a){if(e.lastLightComplexity!==0){var i=n.Fragment,s=0;r.getLights().forEach(function(o){o.getSwitch()&&(s+=1)}),i=ue.substitute(i,"//VTK::Light::Dec",["uniform int lightNum;","uniform bool twoSidedLighting;","uniform vec3 lightColor[".concat(s,"];"),"uniform vec3 lightDirectionVC[".concat(s,"]; // normalized"),"uniform vec3 lightHalfAngleVC[".concat(s,"];"),"//VTK::Light::Dec"],!1).result,e.lastLightComplexity===3&&(i=ue.substitute(i,"//VTK::Light::Dec",["uniform vec3 lightPositionVC[".concat(s,"];"),"uniform vec3 lightAttenuation[".concat(s,"];"),"uniform float lightConeAngle[".concat(s,"];"),"uniform float lightExponent[".concat(s,"];"),"uniform int lightPositional[".concat(s,"];")],!1).result),n.Fragment=i}},t.replaceShaderClippingPlane=function(n,r,a){var i=n.Fragment;if(e.renderable.getClippingPlanes().length>0){var s=e.renderable.getClippingPlanes().length;i=ue.substitute(i,"//VTK::ClipPlane::Dec",["uniform vec3 vClipPlaneNormals[6];","uniform float vClipPlaneDistances[6];","//VTK::ClipPlane::Dec"],!1).result,i=ue.substitute(i,"//VTK::ClipPlane::Impl",["for(int i = 0; i < ".concat(s,"; i++) {"),"  float rayDirRatio = dot(rayDir, vClipPlaneNormals[i]);","  float equationResult = dot(vertexVCVSOutput, vClipPlaneNormals[i]) + vClipPlaneDistances[i];","  if (rayDirRatio == 0.0)","  {","    if (equationResult < 0.0) dists.x = dists.y;","    continue;","  }","  float result = -1.0 * equationResult / rayDirRatio;","  if (rayDirRatio < 0.0) dists.y = min(dists.y, result);","  else dists.x = max(dists.x, result);","}","//VTK::ClipPlane::Impl"],!1).result}n.Fragment=i},t.getNeedToRebuildShaders=function(n,r,a){var i=0;a.getProperty().getShade()&&e.renderable.getBlendMode()===pp.COMPOSITE_BLEND&&(i=0,e.numberOfLights=0,r.getLights().forEach(function(_){var v=_.getSwitch();v>0&&(e.numberOfLights++,i===0&&(i=1)),i===1&&(e.numberOfLights>1||_.getIntensity()!==1||!_.lightTypeIsHeadLight())&&(i=2),i<3&&_.getPositional()&&(i=3)}));var s=!1;e.lastLightComplexity!==i&&(e.lastLightComplexity=i,s=!0);var o=e.scalarTexture.getComponents(),c=a.getProperty().getIndependentComponents(),u=!1,l=[];if(c){for(var f=0;f<o;f++)l.push(a.getProperty().getOpacityMode(f));l.length>0&&(u=!0)}var h=e.currentInput.getSpatialExtent(),p=e.currentInput.getSpacing(),d=new Float64Array(3);$e(d,(h[1]-h[0])*p[0],(h[3]-h[2])*p[1],(h[5]-h[4])*p[2]);var y=Fn(d)/e.renderable.getSampleDistance(),m={interpolationType:a.getProperty().getInterpolationType(),useLabelOutline:a.getProperty().getUseLabelOutline(),numComp:o,usesProportionalComponents:u,iComps:c,maxSamples:y,useGradientOpacity:a.getProperty().getUseGradientOpacity(0),blendMode:e.renderable.getBlendMode(),proportionalComponents:l};return!e.previousState||e.previousState.interpolationType!==m.interpolationType||e.previousState.useLabelOutline!==m.useLabelOutline||e.previousState.numComp!==m.numComp||e.previousState.usesProportionalComponents!==m.usesProportionalComponents||e.previousState.iComps!==m.iComps||e.previousState.maxSamples!==m.maxSamples||e.previousState.useGradientOpacity!==m.useGradientOpacity||e.previousState.blendMode!==m.blendMode||!H4(e.previousState.proportionalComponents,m.proportionalComponents)?(e.previousState=I4({},m),!0):n.getProgram()===0||s||e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||!!e.lastZBufferTexture!=!!e.zBufferTexture||n.getShaderSourceTime().getMTime()<t.getMTime()||n.getShaderSourceTime().getMTime()<e.renderable.getMTime()?(e.lastZBufferTexture=e.zBufferTexture,!0):!1},t.updateShaders=function(n,r,a){if(e.lastBoundBO=n,t.getNeedToRebuildShaders(n,r,a)){var i={Vertex:null,Fragment:null,Geometry:null};t.buildShaders(i,r,a);var s=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);s!==n.getProgram()&&(n.setProgram(s),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),t.setMapperShaderParameters(n,r,a),t.setCameraShaderParameters(n,r,a),t.setPropertyShaderParameters(n,r,a),t.getClippingPlaneShaderParameters(n,r,a)},t.setMapperShaderParameters=function(n,r,a){var i=n.getProgram();n.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())&&(i.isAttributeUsed("vertexDC")&&(n.getVAO().addAttributeArray(i,n.getCABO(),"vertexDC",n.getCABO().getVertexOffset(),n.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||t0("Error setting vertexDC in shader VAO.")),n.getAttributeUpdateTime().modified()),i.setUniformi("texture1",e.scalarTexture.getTextureUnit()),i.setUniformf("sampleDistance",e.renderable.getSampleDistance());for(var s=e.scalarTexture.getVolumeInfo(),o=e.renderable.getIpScalarRange(),c=[],u=[],l=0;l<4;l++)c[l]=o[0]*s.dataComputedScale[l]+s.dataComputedOffset[l],u[l]=o[1]*s.dataComputedScale[l]+s.dataComputedOffset[l],c[l]=(c[l]-s.offset[l])/s.scale[l],u[l]=(u[l]-s.offset[l])/s.scale[l];if(i.setUniform4f("ipScalarRangeMin",c[0],c[1],c[2],c[3]),i.setUniform4f("ipScalarRangeMax",u[0],u[1],u[2],u[3]),e.zBufferTexture!==null){i.setUniformi("zBufferTexture",e.zBufferTexture.getTextureUnit());var f=e._useSmallViewport?[e._smallViewportWidth,e._smallViewportHeight]:e._openGLRenderWindow.getFramebufferSize();i.setUniformf("vpWidth",f[0]),i.setUniformf("vpHeight",f[1])}},t.setCameraShaderParameters=function(n,r,a){var i=e.openGLCamera.getKeyMatrices(r),s=e.openGLVolume.getKeyMatrices();st(e.modelToView,i.wcvc,s.mcwc);var o=n.getProgram(),c=e.openGLCamera.getRenderable(),u=c.getClippingRange();o.setUniformf("camThick",u[1]-u[0]),o.setUniformf("camNear",u[0]),o.setUniformf("camFar",u[1]);for(var l=e.currentInput.getBounds(),f=e.currentInput.getDimensions(),h=new Float64Array(3),p=new Float64Array(3),d=1,y=-1,m=1,_=-1,v=0;v<8;++v){if($e(h,l[v%2],l[2+Math.floor(v/2)%2],l[4+Math.floor(v/4)]),Te(h,h,e.modelToView),!c.getParallelProjection()){or(p,h);var g=-u[0]/h[2];wt(h,p,g)}Te(h,h,i.vcpc),d=Math.min(h[0],d),y=Math.max(h[0],y),m=Math.min(h[1],m),_=Math.max(h[1],_)}o.setUniformf("dcxmin",d),o.setUniformf("dcxmax",y),o.setUniformf("dcymin",m),o.setUniformf("dcymax",_),o.isUniformUsed("cameraParallel")&&o.setUniformi("cameraParallel",c.getParallelProjection());var x=e.currentInput.getSpatialExtent(),w=e.currentInput.getSpacing(),C=new Float64Array(3);$e(C,(x[1]-x[0])*w[0],(x[3]-x[2])*w[1],(x[5]-x[4])*w[2]),o.setUniform3f("vSpacing",w[0],w[1],w[2]),$e(h,x[0],x[2],x[4]),e.currentInput.indexToWorldVec3(h,h),Te(h,h,e.modelToView),o.setUniform3f("vOriginVC",h[0],h[1],h[2]);var S=e.currentInput.getIndexToWorld();st(e.idxToView,e.modelToView,S),mi(e.idxNormalMatrix,i.normalMatrix,s.normalMatrix),mi(e.idxNormalMatrix,e.idxNormalMatrix,e.currentInput.getDirection());var T=Fn(C)/e.renderable.getSampleDistance();T>e.renderable.getMaximumSamplesPerRay()&&W4("The number of steps required ".concat(Math.ceil(T),` is larger than the
        specified maximum number of steps `).concat(e.renderable.getMaximumSamplesPerRay(),`.
        Please either change the
        volumeMapper sampleDistance or its maximum number of samples.`));var b=new Float64Array(3);if($e(b,1,1,1),Hu(b,b,C),o.setUniform3f("vVCToIJK",b[0],b[1],b[2]),o.setUniform3i("volumeDimensions",f[0],f[1],f[2]),!e._openGLRenderWindow.getWebgl2()){var O=e.scalarTexture.getVolumeInfo();o.setUniformf("texWidth",e.scalarTexture.getWidth()),o.setUniformf("texHeight",e.scalarTexture.getHeight()),o.setUniformi("xreps",O.xreps),o.setUniformi("xstride",O.xstride),o.setUniformi("ystride",O.ystride)}for(var D=new Float64Array(3),N=new Float64Array(3),R=0;R<6;++R){switch(R){case 1:$e(D,-1,0,0),$e(N,x[0],x[2],x[4]);break;case 2:$e(D,0,1,0),$e(N,x[1],x[3],x[5]);break;case 3:$e(D,0,-1,0),$e(N,x[0],x[2],x[4]);break;case 4:$e(D,0,0,1),$e(N,x[1],x[3],x[5]);break;case 5:$e(D,0,0,-1),$e(N,x[0],x[2],x[4]);break;case 0:default:$e(D,1,0,0),$e(N,x[1],x[3],x[5]);break}Uo(D,D,e.idxNormalMatrix),Te(N,N,e.idxToView);var E=-1*Un(N,D);if(o.setUniform3f("vPlaneNormal".concat(R),D[0],D[1],D[2]),o.setUniformf("vPlaneDistance".concat(R),E),a.getProperty().getUseLabelOutline()){var A=e.currentInput,W=A.getWorldToIndex();o.setUniformMatrix("vWCtoIDX",W),Zt(e.projectionToWorld,i.wcpc),o.setUniformMatrix("PCWCMatrix",e.projectionToWorld);var z=t.getRenderTargetSize();o.setUniformf("vpWidth",z[0]),o.setUniformf("vpHeight",z[1]);var F=t.getRenderTargetOffset();o.setUniformf("vpOffsetX",F[0]/z[0]),o.setUniformf("vpOffsetY",F[1]/z[1])}}if(Zt(e.projectionToView,i.vcpc),o.setUniformMatrix("PCVCMatrix",e.projectionToView),e.lastLightComplexity!==0){var L=0,G=[],H=[],$=[];if(r.getLights().forEach(function(oe){var re=oe.getSwitch();if(re>0){var B=oe.getColor(),k=oe.getIntensity();G[0+L*3]=B[0]*k,G[1+L*3]=B[1]*k,G[2+L*3]=B[2]*k;var j=oe.getDirection();$e(D,j[0],j[1],j[2]),Uo(D,D,i.normalMatrix),or(D,D),H[0+L*3]=D[0],H[1+L*3]=D[1],H[2+L*3]=D[2],$[0+L*3]=-.5*D[0],$[1+L*3]=-.5*D[1],$[2+L*3]=-.5*(D[2]-1),L++}}),o.setUniformi("twoSidedLighting",r.getTwoSidedLighting()),o.setUniformi("lightNum",L),o.setUniform3fv("lightColor",G),o.setUniform3fv("lightDirectionVC",H),o.setUniform3fv("lightHalfAngleVC",$),e.lastLightComplexity===3){L=0;var J=[],Q=[],q=[],ne=[],te=[];r.getLights().forEach(function(oe){var re=oe.getSwitch();if(re>0){var B=oe.getAttenuationValues();Q[0+L*3]=B[0],Q[1+L*3]=B[1],Q[2+L*3]=B[2],ne[L]=oe.getExponent(),q[L]=oe.getConeAngle(),te[L]=oe.getPositional();var k=oe.getTransformedPosition();Te(k,k,e.modelToView),J[0+L*3]=k[0],J[1+L*3]=k[1],J[2+L*3]=k[2],L+=1}}),o.setUniform3fv("lightPositionVC",J),o.setUniform3fv("lightAttenuation",Q),o.setUniformfv("lightConeAngle",q),o.setUniformfv("lightExponent",ne),o.setUniformiv("lightPositional",te)}}},t.setPropertyShaderParameters=function(n,r,a){var i=n.getProgram();i.setUniformi("ctexture",e.colorTexture.getTextureUnit()),i.setUniformi("otexture",e.opacityTexture.getTextureUnit()),i.setUniformi("jtexture",e.jitterTexture.getTextureUnit());var s=e.scalarTexture.getVolumeInfo(),o=a.getProperty(),c=e.scalarTexture.getComponents(),u=a.getProperty().getIndependentComponents();if(u&&c>=2)for(var l=0;l<c;l++)i.setUniformf("mix".concat(l),a.getProperty().getComponentWeight(l));for(var f=0;f<c;f++){var h=u?f:0,p=s.scale[f],d=o.getScalarOpacity(h),y=d.getRange(),m=p/(y[1]-y[0]),_=(s.offset[f]-y[0])/(y[1]-y[0]);i.setUniformf("oshift".concat(f),_),i.setUniformf("oscale".concat(f),m);var v=o.getRGBTransferFunction(h),g=v.getRange();i.setUniformf("cshift".concat(f),(s.offset[f]-g[0])/(g[1]-g[0])),i.setUniformf("cscale".concat(f),p/(g[1]-g[0]))}if(e.gopacity)if(u)for(var x=0;x<c;++x){var w=s.scale[x],C=o.getUseGradientOpacity(x);if(C){var S=o.getGradientOpacityMinimumOpacity(x),T=o.getGradientOpacityMaximumOpacity(x);i.setUniformf("gomin".concat(x),S),i.setUniformf("gomax".concat(x),T);var b=[o.getGradientOpacityMinimumValue(x),o.getGradientOpacityMaximumValue(x)];i.setUniformf("goscale".concat(x),w*(T-S)/(b[1]-b[0])),i.setUniformf("goshift".concat(x),-b[0]*(T-S)/(b[1]-b[0])+S)}else i.setUniformf("gomin".concat(x),1),i.setUniformf("gomax".concat(x),1),i.setUniformf("goscale".concat(x),0),i.setUniformf("goshift".concat(x),1)}else{var O=s.scale[c-1],D=o.getGradientOpacityMinimumOpacity(0),N=o.getGradientOpacityMaximumOpacity(0);i.setUniformf("gomin0",D),i.setUniformf("gomax0",N);var R=[o.getGradientOpacityMinimumValue(0),o.getGradientOpacityMaximumValue(0)];i.setUniformf("goscale0",O*(N-D)/(R[1]-R[0])),i.setUniformf("goshift0",-R[0]*(N-D)/(R[1]-R[0])+D)}var E=a.getProperty().getUseLabelOutline();if(E===!0){var A=a.getProperty().getLabelOutlineThickness();i.setUniformi("outlineThickness",A)}e.lastLightComplexity>0&&(i.setUniformf("vAmbient",o.getAmbient()),i.setUniformf("vDiffuse",o.getDiffuse()),i.setUniformf("vSpecular",o.getSpecular()),i.setUniformf("vSpecularPower",o.getSpecularPower()))},t.getClippingPlaneShaderParameters=function(n,r,a){if(e.renderable.getClippingPlanes().length>0){for(var i=e.openGLCamera.getKeyMatrices(r),s=[],o=[],c=e.renderable.getClippingPlanes(),u=c.length,l=0;l<u;++l){var f=c[l].getNormal(),h=c[l].getOrigin();Uo(f,f,i.normalMatrix),Te(h,h,i.wcvc);var p=-1*Un(h,f);s.push(f[0]),s.push(f[1]),s.push(f[2]),o.push(p)}var d=n.getProgram();d.setUniform3fv("vClipPlaneNormals",s),d.setUniformfv("vClipPlaneDistances",o)}},t.delete=L1(function(){e._animationRateSubscription&&(e._animationRateSubscription.unsubscribe(),e._animationRateSubscription=null)},t.delete),t.getRenderTargetSize=function(){if(e._useSmallViewport)return[e._smallViewportWidth,e._smallViewportHeight];var n=e.openGLRenderer.getTiledSizeAndOrigin(),r=n.usize,a=n.vsize;return[r,a]},t.getRenderTargetOffset=function(){var n=e.openGLRenderer.getTiledSizeAndOrigin(),r=n.lowerLeftU,a=n.lowerLeftV;return[r,a]},t.renderPieceStart=function(n,r){var a=n.getVTKWindow().getInteractor();if(e._useSmallViewport=!1,a.isAnimating()&&e._lastScale>1.5&&(e._useSmallViewport=!0),e._animationRateSubscription||(e._animationRateSubscription=a.onAnimationFrameRateUpdate(function(){if(e.renderable.getAutoAdjustSampleDistances()){var u=a.getRecentAnimationFrameRate(),l=a.getDesiredUpdateRate()/u;(l>1.15||l<.85)&&(e._lastScale*=l),e._lastScale>400&&(e._lastScale=400),e._lastScale<1.5&&(e._lastScale=1.5)}else e._lastScale=e.renderable.getImageSampleDistance()*e.renderable.getImageSampleDistance();var f=e._openGLRenderWindow.getFramebufferSize();e._smallViewportWidth=Math.ceil(f[0]/Math.sqrt(e._lastScale)),e._smallViewportHeight=Math.ceil(f[1]/Math.sqrt(e._lastScale))})),e._useSmallViewport){var i=e._openGLRenderWindow.getFramebufferSize();if(e._smallViewportHeight>i[1]&&(e._smallViewportHeight=i[1]),e._smallViewportWidth>i[0]&&(e._smallViewportWidth=i[0]),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.getGLFramebuffer()===null)e.framebuffer.create(i[0],i[1]),e.framebuffer.populateFramebuffer();else{var s=e.framebuffer.getSize();(s[0]!==i[0]||s[1]!==i[1])&&(e.framebuffer.create(i[0],i[1]),e.framebuffer.populateFramebuffer())}e.framebuffer.bind();var o=e.context;o.clearColor(0,0,0,0),o.colorMask(!0,!0,!0,!0),o.clear(o.COLOR_BUFFER_BIT),o.viewport(0,0,e._smallViewportWidth,e._smallViewportHeight),e.fvp=[e._smallViewportWidth/i[0],e._smallViewportHeight/i[1]]}e.context.disable(e.context.DEPTH_TEST),t.updateBufferObjects(n,r);var c=r.getProperty().getInterpolationType();c===uu.NEAREST?(e.scalarTexture.setMinificationFilter(et.NEAREST),e.scalarTexture.setMagnificationFilter(et.NEAREST)):(e.scalarTexture.setMinificationFilter(et.LINEAR),e.scalarTexture.setMagnificationFilter(et.LINEAR)),e.lastBoundBO=null,e.zBufferTexture!==null&&e.zBufferTexture.activate()},t.renderPieceDraw=function(n,r){var a=e.context;e.scalarTexture.activate(),e.opacityTexture.activate(),e.colorTexture.activate(),e.jitterTexture.activate(),t.updateShaders(e.tris,n,r),a.drawArrays(a.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release(),e.scalarTexture.deactivate(),e.colorTexture.deactivate(),e.opacityTexture.deactivate(),e.jitterTexture.deactivate()},t.renderPieceFinish=function(n,r){if(e.zBufferTexture!==null&&e.zBufferTexture.deactivate(),e._useSmallViewport){if(e.framebuffer.restorePreviousBindingsAndBuffers(),e.copyShader===null){e.copyShader=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(["//VTK::System::Dec","attribute vec4 vertexDC;","uniform vec2 tfactor;","varying vec2 tcoord;","void main() { tcoord = vec2(vertexDC.x*0.5 + 0.5, vertexDC.y*0.5 + 0.5) * tfactor; gl_Position = vertexDC; }"].join(`
`),["//VTK::System::Dec","//VTK::Output::Dec","uniform sampler2D texture1;","varying vec2 tcoord;","void main() { gl_FragData[0] = texture2D(texture1,tcoord); }"].join(`
`),"");var a=e.copyShader;e.copyVAO=tc.newInstance(),e.copyVAO.setOpenGLRenderWindow(e._openGLRenderWindow),e.tris.getCABO().bind(),e.copyVAO.addAttributeArray(a,e.tris.getCABO(),"vertexDC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||t0("Error setting vertexDC in copy shader VAO.")}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(e.copyShader);var i=e._openGLRenderWindow.getFramebufferSize();e.context.viewport(0,0,i[0],i[1]);var s=e.framebuffer.getColorTexture();s.activate(),e.copyShader.setUniformi("texture",s.getTextureUnit()),e.copyShader.setUniform2f("tfactor",e.fvp[0],e.fvp[1]);var o=e.context;o.blendFuncSeparate(o.ONE,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA),e.context.drawArrays(e.context.TRIANGLES,0,e.tris.getCABO().getElementCount()),s.deactivate(),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA)}},t.renderPiece=function(n,r){if(t.invokeEvent({type:"StartEvent"}),e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent({type:"EndEvent"}),!e.currentInput){t0("No input!");return}t.renderPieceStart(n,r),t.renderPieceDraw(n,r),t.renderPieceFinish(n,r)},t.computeBounds=function(n,r){if(!t.getInput()){Fa(e.Bounds);return}e.bounds=t.getInput().getBounds()},t.updateBufferObjects=function(n,r){t.getNeedToRebuildBufferObjects(n,r)&&t.buildBufferObjects(n,r)},t.getNeedToRebuildBufferObjects=function(n,r){return e.VBOBuildTime.getMTime()<t.getMTime()||e.VBOBuildTime.getMTime()<r.getMTime()||e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<r.getProperty().getMTime()||e.VBOBuildTime.getMTime()<e.currentInput.getMTime()},t.buildBufferObjects=function(n,r){var a=e.currentInput;if(!!a){var i=a.getPointData()&&a.getPointData().getScalars();if(!!i){var s=r.getProperty();if(!e.jitterTexture.getHandle()){for(var o=new Uint8Array(1024),c=0;c<32*32;++c)o[c]=255*Math.random();e.jitterTexture.setMinificationFilter(et.LINEAR),e.jitterTexture.setMagnificationFilter(et.LINEAR),e.jitterTexture.create2DFromRaw(32,32,1,pt.UNSIGNED_CHAR,o)}var u=i.getNumberOfComponents(),l=s.getIndependentComponents(),f=l?u:1,h="".concat(s.getMTime());if(e.opacityTextureString!==h){for(var p=1024,d=p*2*f,y=new Float32Array(d),m=new Float32Array(p),_=0;_<f;++_){var v=s.getScalarOpacity(_),g=e.renderable.getSampleDistance()/s.getScalarOpacityUnitDistance(_),x=v.getRange();v.getTable(x[0],x[1],p,m,1);for(var w=0;w<p;++w)y[_*p*2+w]=1-Math.pow(1-m[w],g),y[_*p*2+w+p]=y[_*p*2+w]}if(e.opacityTexture.releaseGraphicsResources(e._openGLRenderWindow),e.opacityTexture.setMinificationFilter(et.LINEAR),e.opacityTexture.setMagnificationFilter(et.LINEAR),e._openGLRenderWindow.getWebgl2()||e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear"))e.opacityTexture.create2DFromRaw(p,2*f,1,pt.FLOAT,y);else{for(var C=new Uint8Array(d),S=0;S<d;++S)C[S]=255*y[S];e.opacityTexture.create2DFromRaw(p,2*f,1,pt.UNSIGNED_CHAR,C)}e.opacityTextureString=h}if(h="".concat(s.getMTime()),e.colorTextureString!==h){for(var T=1024,b=T*2*f*3,O=new Uint8Array(b),D=new Float32Array(T*3),N=0;N<f;++N){var R=s.getRGBTransferFunction(N),E=R.getRange();R.getTable(E[0],E[1],T,D,1);for(var A=0;A<T*3;++A)O[N*T*6+A]=255*D[A],O[N*T*6+A+T*3]=255*D[A]}e.colorTexture.releaseGraphicsResources(e._openGLRenderWindow),e.colorTexture.setMinificationFilter(et.LINEAR),e.colorTexture.setMagnificationFilter(et.LINEAR),e.colorTexture.create2DFromRaw(T,2*f,3,pt.UNSIGNED_CHAR,O),e.colorTextureString=h}if(h="".concat(a.getMTime()),e.scalarTextureString!==h){var W=a.getDimensions();e.scalarTexture.releaseGraphicsResources(e._openGLRenderWindow),e.scalarTexture.resetFormatAndType(),e.scalarTexture.create3DFilterableFromRaw(W[0],W[1],W[2],u,i.getDataType(),i.getData(),e.renderable.getPreferSizeOverAccuracy()),e.scalarTextureString=h}if(!e.tris.getCABO().getElementCount()){for(var z=new Float32Array(12),F=0;F<4;F++)z[F*3]=F%2*2-1,z[F*3+1]=F>1?1:-1,z[F*3+2]=-1;var L=new Uint16Array(8);L[0]=3,L[1]=0,L[2]=1,L[3]=3,L[4]=3,L[5]=0,L[6]=3,L[7]=2;var G=Ee.newInstance({numberOfComponents:3,values:z});G.setName("points");var H=Ee.newInstance({numberOfComponents:1,values:L});e.tris.getCABO().createVBO(H,"polys",$t.SURFACE,{points:G,cellOffset:0})}e.VBOBuildTime.modified()}}}}var K4={context:null,VBOBuildTime:null,scalarTexture:null,scalarTextureString:null,opacityTexture:null,opacityTextureString:null,colorTexture:null,colorTextureString:null,jitterTexture:null,tris:null,framebuffer:null,copyShader:null,copyVAO:null,lastXYF:1,targetXYF:1,zBufferTexture:null,lastZBufferTexture:null,lastLightComplexity:0,fullViewportTime:1,idxToView:null,idxNormalMatrix:null,modelToView:null,projectionToView:null,avgWindowArea:0,avgFrameTime:0};function X4(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,K4,n),Ut.extend(t,e,n),e.VBOBuildTime={},St(e.VBOBuildTime,{mtime:0}),e.tris=dn.newInstance(),e.scalarTexture=Wt.newInstance(),e.opacityTexture=Wt.newInstance(),e.colorTexture=Wt.newInstance(),e.jitterTexture=Wt.newInstance(),e.jitterTexture.setWrapS(wi.REPEAT),e.jitterTexture.setWrapT(wi.REPEAT),e.framebuffer=ks.newInstance(),e.idxToView=Me(new Float64Array(16)),e.idxNormalMatrix=kr(new Float64Array(9)),e.modelToView=Me(new Float64Array(16)),e.projectionToView=Me(new Float64Array(16)),e.projectionToWorld=Me(new Float64Array(16)),e._lastScale=1,Rt(t,e,["context"]),$4(t,e)}var q4=ut(X4,"vtkOpenGLVolumeMapper");Gt("vtkVolumeMapper",q4);var Y4=Pn;function Z4(t,e){e.classHierarchy.push("vtkOpenGLPixelSpaceCallbackMapper"),t.opaquePass=function(n,r){e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent();var a=e.openGLRenderer.getAspectRatio(),i=e.openGLRenderer?e.openGLRenderer.getRenderable().getActiveCamera():null,s=e.openGLRenderer.getTiledSizeAndOrigin(),o=null;if(e.renderable.getUseZValues()){var c=r.getZBufferTexture(),u=Math.floor(c.getWidth()),l=Math.floor(c.getHeight()),f=e._openGLRenderWindow.getContext();c.bind();var h=r.getFramebuffer();h?h.saveCurrentBindingsAndBuffers():Y4("No framebuffer to save/restore");var p=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,p),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,c.getHandle(),0),f.checkFramebufferStatus(f.FRAMEBUFFER)===f.FRAMEBUFFER_COMPLETE&&(o=new Uint8Array(u*l*4),f.viewport(0,0,u,l),f.readPixels(0,0,u,l,f.RGBA,f.UNSIGNED_BYTE,o)),h&&h.restorePreviousBindingsAndBuffers(),f.deleteFramebuffer(p)}e.renderable.invokeCallback(e.renderable.getInputData(),i,a,s,o)},t.queryPass=function(n,r){n&&e.renderable.getUseZValues()&&r.requestDepth()}}var J4={};function Q4(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,J4,n),Ut.extend(t,e,n),Z4(t,e)}var em=ut(Q4,"vtkOpenGLPixelSpaceCallbackMapper");Gt("vtkPixelSpaceCallbackMapper",em);function tm(t,e){e.classHierarchy.push("vtkOpenGLActor"),t.buildPass=function(n){if(n){e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNodes(e.renderable.getTextures()),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes(),e.ogltextures=null,e.activeTextures=null;for(var r=0;r<e.children.length;r++){var a=e.children[r];a.isA("vtkOpenGLTexture")?(e.ogltextures||(e.ogltextures=[]),e.ogltextures.push(a)):e.oglmapper=a}}},t.traverseOpaqueZBufferPass=function(n){!e.renderable||!e.renderable.getNestedVisibility()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.traverseOpaquePass=function(n){!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.traverseTranslucentPass=function(n){!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.activateTextures=function(){if(!!e.ogltextures){e.activeTextures=[];for(var n=0;n<e.ogltextures.length;n++){var r=e.ogltextures[n];r.render(),r.getHandle()&&e.activeTextures.push(r)}}},t.queryPass=function(n,r){if(n){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?r.incrementOpaqueActorCount():r.incrementTranslucentActorCount()}},t.opaqueZBufferPass=function(n,r){return t.opaquePass(n,r)},t.opaquePass=function(n,r){if(n)e.context.depthMask(!0),t.activateTextures();else if(e.activeTextures)for(var a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()},t.translucentPass=function(n,r){if(n)e.context.depthMask(!1),t.activateTextures();else if(e.activeTextures)for(var a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()},t.getKeyMatrices=function(){return e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(e.renderable.computeMatrix(),Ft(e.keyMatrices.mcwc,e.renderable.getMatrix()),Ze(e.keyMatrices.mcwc,e.keyMatrices.mcwc),e.renderable.getIsIdentity()?kr(e.keyMatrices.normalMatrix):(Pi(e.keyMatrices.normalMatrix,e.keyMatrices.mcwc),ji(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),ju(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix)),e.keyMatrixTime.modified()),e.keyMatrices}}var rm={context:null,keyMatrixTime:null,keyMatrices:null,activeTextures:null};function nm(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,rm,n),Ut.extend(t,e,n),e.keyMatrixTime={},St(e.keyMatrixTime,{mtime:0}),e.keyMatrices={normalMatrix:kr(new Float64Array(9)),mcwc:Me(new Float64Array(16))},Rt(t,e,["context"]),Mr(t,e,["activeTextures"]),tm(t,e)}var am=ut(nm);Gt("vtkActor",am);function im(t,e){e.classHierarchy.push("vtkOpenGLActor2D"),t.buildPass=function(n){if(n){if(!e.renderable)return;e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNodes(e.renderable.getTextures()),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes(),e.ogltextures=null,e.activeTextures=null;for(var r=0;r<e.children.length;r++){var a=e.children[r];a.isA("vtkOpenGLTexture")?(e.ogltextures||(e.ogltextures=[]),e.ogltextures.push(a)):e.oglmapper=a}}},t.queryPass=function(n,r){if(n){if(!e.renderable||!e.renderable.getVisibility())return;r.incrementOverlayActorCount()}},t.traverseOpaquePass=function(n){!e.oglmapper||!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.traverseTranslucentPass=function(n){!e.oglmapper||!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.traverseOverlayPass=function(n){!e.oglmapper||!e.renderable||!e.renderable.getNestedVisibility()||e.openGLRenderer.getSelector()&&!e.renderable.getNestedPickable||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.activateTextures=function(){if(!!e.ogltextures){e.activeTextures=[];for(var n=0;n<e.ogltextures.length;n++){var r=e.ogltextures[n];r.render(),r.getHandle()&&e.activeTextures.push(r)}}},t.opaquePass=function(n,r){if(n)e.context.depthMask(!0),t.activateTextures();else if(e.activeTextures)for(var a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()},t.translucentPass=function(n,r){if(n)e.context.depthMask(!1),t.activateTextures();else if(e.activeTextures)for(var a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()},t.overlayPass=function(n,r){if(n)e.context.depthMask(!0),t.activateTextures();else if(e.activeTextures)for(var a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()}}var om={context:null,activeTextures:null};function sm(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,om,n),Ut.extend(t,e,n),Rt(t,e,["context"]),Mr(t,e,["activeTextures"]),im(t,e)}var um=ut(sm);Gt("vtkActor2D",um);function cu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dp(t){let e=t,n=t,r=t;t.length!==2&&(e=(o,c)=>t(o)-c,n=cu,r=(o,c)=>cu(t(o),c));function a(o,c,u=0,l=o.length){if(u<l){if(n(c,c)!==0)return l;do{const f=u+l>>>1;r(o[f],c)<0?u=f+1:l=f}while(u<l)}return u}function i(o,c,u=0,l=o.length){if(u<l){if(n(c,c)!==0)return l;do{const f=u+l>>>1;r(o[f],c)<=0?u=f+1:l=f}while(u<l)}return u}function s(o,c,u=0,l=o.length){const f=a(o,c,u,l-1);return f>u&&e(o[f-1],c)>-e(o[f],c)?f-1:f}return{left:a,center:s,right:i}}function cm(t){return t===null?NaN:+t}const fm=dp(cu),lm=fm.right;dp(cm).center;var hm=lm,fu=Math.sqrt(50),lu=Math.sqrt(10),hu=Math.sqrt(2);function pm(t,e,n){var r,a=-1,i,s,o;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),(o=gp(t,e,n))===0||!isFinite(o))return[];if(o>0){let c=Math.round(t/o),u=Math.round(e/o);for(c*o<t&&++c,u*o>e&&--u,s=new Array(i=u-c+1);++a<i;)s[a]=(c+a)*o}else{o=-o;let c=Math.round(t*o),u=Math.round(e*o);for(c/o<t&&++c,u/o>e&&--u,s=new Array(i=u-c+1);++a<i;)s[a]=(c+a)/o}return r&&s.reverse(),s}function gp(t,e,n){var r=(e-t)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=fu?10:i>=lu?5:i>=hu?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=fu?10:i>=lu?5:i>=hu?2:1)}function vm(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=fu?a*=10:i>=lu?a*=5:i>=hu&&(a*=2),e<t?-a:a}function dm(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ic(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function yp(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ii(){}var Ci=.7,rs=1/Ci,wa="\\s*([+-]?\\d+)\\s*",Si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gm=/^#([0-9a-f]{3,8})$/,ym=new RegExp(`^rgb\\(${wa},${wa},${wa}\\)$`),mm=new RegExp(`^rgb\\(${Nr},${Nr},${Nr}\\)$`),_m=new RegExp(`^rgba\\(${wa},${wa},${wa},${Si}\\)$`),xm=new RegExp(`^rgba\\(${Nr},${Nr},${Nr},${Si}\\)$`),wm=new RegExp(`^hsl\\(${Si},${Nr},${Nr}\\)$`),Cm=new RegExp(`^hsla\\(${Si},${Nr},${Nr},${Si}\\)$`),yf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ic(Ii,Ti,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:mf,formatHex:mf,formatHex8:Sm,formatHsl:Tm,formatRgb:_f,toString:_f});function mf(){return this.rgb().formatHex()}function Sm(){return this.rgb().formatHex8()}function Tm(){return mp(this).formatHsl()}function _f(){return this.rgb().formatRgb()}function Ti(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=gm.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?xf(e):n===3?new Kt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ao(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ao(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ym.exec(t))?new Kt(e[1],e[2],e[3],1):(e=mm.exec(t))?new Kt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_m.exec(t))?ao(e[1],e[2],e[3],e[4]):(e=xm.exec(t))?ao(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=wm.exec(t))?Sf(e[1],e[2]/100,e[3]/100,1):(e=Cm.exec(t))?Sf(e[1],e[2]/100,e[3]/100,e[4]):yf.hasOwnProperty(t)?xf(yf[t]):t==="transparent"?new Kt(NaN,NaN,NaN,0):null}function xf(t){return new Kt(t>>16&255,t>>8&255,t&255,1)}function ao(t,e,n,r){return r<=0&&(t=e=n=NaN),new Kt(t,e,n,r)}function bm(t){return t instanceof Ii||(t=Ti(t)),t?(t=t.rgb(),new Kt(t.r,t.g,t.b,t.opacity)):new Kt}function pu(t,e,n,r){return arguments.length===1?bm(t):new Kt(t,e,n,r==null?1:r)}function Kt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ic(Kt,pu,yp(Ii,{brighter(t){return t=t==null?rs:Math.pow(rs,t),new Kt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ci:Math.pow(Ci,t),new Kt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kt(Bn(this.r),Bn(this.g),Bn(this.b),ns(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wf,formatHex:wf,formatHex8:Em,formatRgb:Cf,toString:Cf}));function wf(){return`#${Mn(this.r)}${Mn(this.g)}${Mn(this.b)}`}function Em(){return`#${Mn(this.r)}${Mn(this.g)}${Mn(this.b)}${Mn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Cf(){const t=ns(this.opacity);return`${t===1?"rgb(":"rgba("}${Bn(this.r)}, ${Bn(this.g)}, ${Bn(this.b)}${t===1?")":`, ${t})`}`}function ns(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mn(t){return t=Bn(t),(t<16?"0":"")+t.toString(16)}function Sf(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new _r(t,e,n,r)}function mp(t){if(t instanceof _r)return new _r(t.h,t.s,t.l,t.opacity);if(t instanceof Ii||(t=Ti(t)),!t)return new _r;if(t instanceof _r)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),s=NaN,o=i-a,c=(i+a)/2;return o?(e===i?s=(n-r)/o+(n<r)*6:n===i?s=(r-e)/o+2:s=(e-n)/o+4,o/=c<.5?i+a:2-i-a,s*=60):o=c>0&&c<1?0:s,new _r(s,o,c,t.opacity)}function Dm(t,e,n,r){return arguments.length===1?mp(t):new _r(t,e,n,r==null?1:r)}function _r(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ic(_r,Dm,yp(Ii,{brighter(t){return t=t==null?rs:Math.pow(rs,t),new _r(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ci:Math.pow(Ci,t),new _r(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Kt(r0(t>=240?t-240:t+120,a,r),r0(t,a,r),r0(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new _r(Tf(this.h),io(this.s),io(this.l),ns(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ns(this.opacity);return`${t===1?"hsl(":"hsla("}${Tf(this.h)}, ${io(this.s)*100}%, ${io(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Tf(t){return t=(t||0)%360,t<0?t+360:t}function io(t){return Math.max(0,Math.min(1,t||0))}function r0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var oc=t=>()=>t;function Om(t,e){return function(n){return t+n*e}}function Nm(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function km(t){return(t=+t)==1?_p:function(e,n){return n-e?Nm(e,n,t):oc(isNaN(e)?n:e)}}function _p(t,e){var n=e-t;return n?Om(t,n):oc(isNaN(t)?e:t)}var bf=function t(e){var n=km(e);function r(a,i){var s=n((a=pu(a)).r,(i=pu(i)).r),o=n(a.g,i.g),c=n(a.b,i.b),u=_p(a.opacity,i.opacity);return function(l){return a.r=s(l),a.g=o(l),a.b=c(l),a.opacity=u(l),a+""}}return r.gamma=t,r}(1);function Mm(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function Rm(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Lm(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)a[s]=sc(t[s],e[s]);for(;s<n;++s)i[s]=e[s];return function(o){for(s=0;s<r;++s)i[s]=a[s](o);return i}}function Fm(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function as(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Am(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=sc(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var vu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,n0=new RegExp(vu.source,"g");function Bm(t){return function(){return t}}function Vm(t){return function(e){return t(e)+""}}function Um(t,e){var n=vu.lastIndex=n0.lastIndex=0,r,a,i,s=-1,o=[],c=[];for(t=t+"",e=e+"";(r=vu.exec(t))&&(a=n0.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),o[s]?o[s]+=i:o[++s]=i),(r=r[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,c.push({i:s,x:as(r,a)})),n=n0.lastIndex;return n<e.length&&(i=e.slice(n),o[s]?o[s]+=i:o[++s]=i),o.length<2?c[0]?Vm(c[0].x):Bm(e):(e=c.length,function(u){for(var l=0,f;l<e;++l)o[(f=c[l]).i]=f.x(u);return o.join("")})}function sc(t,e){var n=typeof e,r;return e==null||n==="boolean"?oc(e):(n==="number"?as:n==="string"?(r=Ti(e))?(e=r,bf):Um:e instanceof Ti?bf:e instanceof Date?Fm:Rm(e)?Mm:Array.isArray(e)?Lm:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Am:as)(t,e)}function Gm(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Pm(t){return function(){return t}}function jm(t){return+t}var Ef=[0,1];function da(t){return t}function du(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Pm(isNaN(e)?NaN:.5)}function zm(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Im(t,e,n){var r=t[0],a=t[1],i=e[0],s=e[1];return a<r?(r=du(a,r),i=n(s,i)):(r=du(r,a),i=n(i,s)),function(o){return i(r(o))}}function Wm(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)a[s]=du(t[s],t[s+1]),i[s]=n(e[s],e[s+1]);return function(o){var c=hm(t,o,1,r)-1;return i[c](a[c](o))}}function Hm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $m(){var t=Ef,e=Ef,n=sc,r,a,i,s=da,o,c,u;function l(){var h=Math.min(t.length,e.length);return s!==da&&(s=zm(t[0],t[h-1])),o=h>2?Wm:Im,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=o(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(a((u||(u=o(e,t.map(r),as)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,jm),l()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),l()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=Gm,l()},f.clamp=function(h){return arguments.length?(s=h?!0:da,l()):s!==da},f.interpolate=function(h){return arguments.length?(n=h,l()):n},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return r=h,a=p,l()}}function Km(){return $m()(da,da)}function Xm(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function is(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ba(t){return t=is(Math.abs(t)),t?t[1]:NaN}function qm(t,e){return function(n,r){for(var a=n.length,i=[],s=0,o=t[0],c=0;a>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),i.push(n.substring(a-=o,a+o)),!((c+=o+1)>r));)o=t[s=(s+1)%t.length];return i.reverse().join(e)}}function Ym(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Zm=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function os(t){if(!(e=Zm.exec(t)))throw new Error("invalid format: "+t);var e;return new uc({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}os.prototype=uc.prototype;function uc(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}uc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Jm(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var xp;function Qm(t,e){var n=is(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(xp=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+is(t,Math.max(0,e+i-1))[0]}function Df(t,e){var n=is(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}var Of={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Xm,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Df(t*100,e),r:Df,s:Qm,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Nf(t){return t}var kf=Array.prototype.map,Mf=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function e8(t){var e=t.grouping===void 0||t.thousands===void 0?Nf:qm(kf.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Nf:Ym(kf.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"\u2212":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=os(f);var h=f.fill,p=f.align,d=f.sign,y=f.symbol,m=f.zero,_=f.width,v=f.comma,g=f.precision,x=f.trim,w=f.type;w==="n"?(v=!0,w="g"):Of[w]||(g===void 0&&(g=12),x=!0,w="g"),(m||h==="0"&&p==="=")&&(m=!0,h="0",p="=");var C=y==="$"?n:y==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=y==="$"?r:/[%p]/.test(w)?s:"",T=Of[w],b=/[defgprs%]/.test(w);g=g===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function O(D){var N=C,R=S,E,A,W;if(w==="c")R=T(D)+R,D="";else{D=+D;var z=D<0||1/D<0;if(D=isNaN(D)?c:T(Math.abs(D),g),x&&(D=Jm(D)),z&&+D==0&&d!=="+"&&(z=!1),N=(z?d==="("?d:o:d==="-"||d==="("?"":d)+N,R=(w==="s"?Mf[8+xp/3]:"")+R+(z&&d==="("?")":""),b){for(E=-1,A=D.length;++E<A;)if(W=D.charCodeAt(E),48>W||W>57){R=(W===46?a+D.slice(E+1):D.slice(E))+R,D=D.slice(0,E);break}}}v&&!m&&(D=e(D,1/0));var F=N.length+D.length+R.length,L=F<_?new Array(_-F+1).join(h):"";switch(v&&m&&(D=e(L+D,L.length?_-R.length:1/0),L=""),p){case"<":D=N+D+R+L;break;case"=":D=N+L+D+R;break;case"^":D=L.slice(0,F=L.length>>1)+N+D+R+L.slice(F);break;default:D=L+N+D+R;break}return i(D)}return O.toString=function(){return f+""},O}function l(f,h){var p=u((f=os(f),f.type="f",f)),d=Math.max(-8,Math.min(8,Math.floor(ba(h)/3)))*3,y=Math.pow(10,-d),m=Mf[8+d/3];return function(_){return p(y*_)+m}}return{format:u,formatPrefix:l}}var oo,wp,Cp;t8({thousands:",",grouping:[3],currency:["$",""]});function t8(t){return oo=e8(t),wp=oo.format,Cp=oo.formatPrefix,oo}function r8(t){return Math.max(0,-ba(Math.abs(t)))}function n8(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ba(e)/3)))*3-ba(Math.abs(t)))}function a8(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ba(e)-ba(t))+1}function i8(t,e,n,r){var a=vm(t,e,n),i;switch(r=os(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=n8(a,s))&&(r.precision=i),Cp(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=a8(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=r8(a))&&(r.precision=i-(r.type==="%")*2);break}}return wp(r)}function o8(t){var e=t.domain;return t.ticks=function(n){var r=e();return pm(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var a=e();return i8(a[0],a[a.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,s=r[a],o=r[i],c,u,l=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);l-- >0;){if(u=gp(s,o,n),u===c)return r[a]=s,r[i]=o,e(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return t},t}function cc(){var t=Km();return t.copy=function(){return Hm(t,cc())},dm.apply(t,arguments),o8(t)}function Rf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function s8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var gu=1e-6,Sp="coincide",Tp="disjoint";function u8(t,e,n){return t[0]*(n[0]-e[0])+t[1]*(n[1]-e[1])+t[2]*(n[2]-e[2])}function bp(t,e,n){var r=n[0]*(t[0]-e[0])+n[1]*(t[1]-e[1])+n[2]*(t[2]-e[2]);return Math.abs(r)}function Ep(t,e,n,r){var a=[];Ct(t,e,a);var i=Be(n,a);r[0]=t[0]-i*n[0],r[1]=t[1]-i*n[1],r[2]=t[2]-i*n[2]}function Dp(t,e,n){var r=Be(t,e),a=Be(e,e);return a===0&&(a=1),n[0]=t[0]-r*e[0]/a,n[1]=t[1]-r*e[1]/a,n[2]=t[2]-r*e[2]/a,n}function Op(t,e,n,r){var a=[];Ct(t,e,a);var i=Be(n,a),s=Be(n,n);s!==0?(r[0]=t[0]-i*n[0]/s,r[1]=t[1]-i*n[1]/s,r[2]=t[2]-i*n[2]/s):(r[0]=t[0],r[1]=t[1],r[2]=t[2])}function Np(t,e,n,r){var a={intersection:!1,betweenPoints:!1,t:Number.MAX_VALUE,x:[]},i=[],s=[];Ct(e,t,i),Ct(n,t,s);var o=Be(r,s),c=Be(r,i),u,l;return c<0?u=-c:u=c,o<0?l=-o*gu:l=o*gu,u<=l||(a.t=o/c,a.x[0]=t[0]+a.t*i[0],a.x[1]=t[1]+a.t*i[1],a.x[2]=t[2]+a.t*i[2],a.intersection=!0,a.betweenPoints=a.t>=0&&a.t<=1),a}function kp(t,e,n,r){var a={intersection:!1,l0:[],l1:[],error:null},i=[];Lt(e,r,i);var s=i.map(function(h){return Math.abs(h)});if(s[0]+s[1]+s[2]<gu){var o=[];return Ct(t,n,o),Be(e,o)===0?a.error=Sp:a.error=Tp,a}var c;s[0]>s[1]&&s[0]>s[2]?c="x":s[1]>s[2]?c="y":c="z";var u=[],l=-Be(e,t),f=-Be(r,n);switch(c){case"x":u[0]=0,u[1]=(f*e[2]-l*r[2])/i[0],u[2]=(l*r[1]-f*e[1])/i[0];break;case"y":u[0]=(l*r[2]-f*e[2])/i[1],u[1]=0,u[2]=(f*e[0]-l*r[0])/i[1];break;case"z":u[0]=(f*e[1]-l*r[1])/i[2],u[1]=(l*r[0]-f*e[0])/i[2],u[2]=0;break}return a.l0=u,Qo(u,i,a.l1),a.intersection=!0,a}var c8={evaluate:u8,distanceToPlane:bp,projectPoint:Ep,projectVector:Dp,generalizedProjectPoint:Op,intersectWithLine:Np,intersectWithPlane:kp,DISJOINT:Tp,COINCIDE:Sp};function f8(t,e){e.classHierarchy.push("vtkPlane"),t.distanceToPlane=function(n){return bp(n,e.origin,e.normal)},t.projectPoint=function(n,r){Ep(n,e.origin,e.normal,r)},t.projectVector=function(n,r){return Dp(n,e.normal,r)},t.push=function(n){if(n!==0)for(var r=0;r<3;r++)e.origin[r]+=n*e.normal[r]},t.generalizedProjectPoint=function(n,r){Op(n,e.origin,e.normal,r)},t.evaluateFunction=function(n,r,a){return Array.isArray(n)?e.normal[0]*(n[0]-e.origin[0])+e.normal[1]*(n[1]-e.origin[1])+e.normal[2]*(n[2]-e.origin[2]):e.normal[0]*(n-e.origin[0])+e.normal[1]*(r-e.origin[1])+e.normal[2]*(a-e.origin[2])},t.evaluateGradient=function(n){var r=[e.normal[0],e.normal[1],e.normal[2]];return r},t.intersectWithLine=function(n,r){return Np(n,r,e.origin,e.normal)},t.intersectWithPlane=function(n,r){return kp(n,r,e.origin,e.normal)}}var l8={normal:[0,0,1],origin:[0,0,0]};function Mp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,l8,n),I.obj(t,e),I.setGetArray(t,e,["normal","origin"],3),f8(t,e)}var h8=I.newInstance(Mp,"vtkPlane"),zn=s8({newInstance:h8,extend:Mp},c8);function Lf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function p8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ms=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];function Rp(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function $r(t){return t[0]<=t[1]&&t[2]<=t[3]&&t[4]<=t[5]}function fc(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Lp(t){return fc(t,Ms)}function Fp(t){var e=We(t,6),n=e[0],r=e[1],a=e[2],i=e[3],s=e[4],o=e[5];return t[0]=n<(arguments.length<=1?void 0:arguments[1])?n:arguments.length<=1?void 0:arguments[1],t[1]=r>(arguments.length<=1?void 0:arguments[1])?r:arguments.length<=1?void 0:arguments[1],t[2]=a<(arguments.length<=2?void 0:arguments[2])?a:arguments.length<=2?void 0:arguments[2],t[3]=i>(arguments.length<=2?void 0:arguments[2])?i:arguments.length<=2?void 0:arguments[2],t[4]=s<(arguments.length<=3?void 0:arguments[3])?s:arguments.length<=3?void 0:arguments[3],t[5]=o>(arguments.length<=3?void 0:arguments[3])?o:arguments.length<=3?void 0:arguments[3],t}function Ap(t,e,n,r,a,i,s){var o=We(t,6),c=o[0],u=o[1],l=o[2],f=o[3],h=o[4],p=o[5];return s===void 0?(t[0]=Math.min(e[0],c),t[1]=Math.max(e[1],u),t[2]=Math.min(e[2],l),t[3]=Math.max(e[3],f),t[4]=Math.min(e[4],h),t[5]=Math.max(e[5],p)):(t[0]=Math.min(e,c),t[1]=Math.max(n,u),t[2]=Math.min(r,l),t[3]=Math.max(a,f),t[4]=Math.min(i,h),t[5]=Math.max(s,p)),t}function Bp(t,e,n,r){var a=We(t,6),i=a[0],s=a[1],o=a[2],c=a[3],u=a[4],l=a[5];return t[0]=e,t[1]=e>s?e:s,t[2]=n,t[3]=n>c?n:c,t[4]=r,t[5]=r>l?r:l,i!==e||o!==n||u!==r}function Vp(t,e,n,r){var a=We(t,6),i=a[0],s=a[1],o=a[2],c=a[3],u=a[4],l=a[5];return t[0]=e<i?e:i,t[1]=e,t[2]=n<o?n:o,t[3]=n,t[4]=r<u?r:u,t[5]=r,s!==e||c!==n||l!==r}function Up(t,e){return t[0]-=e,t[1]+=e,t[2]-=e,t[3]+=e,t[4]-=e,t[5]+=e,t}function lc(t,e,n,r){return $r(t)?(e>=0?(t[0]*=e,t[1]*=e):(t[0]=e*t[1],t[1]=e*t[0]),n>=0?(t[2]*=n,t[3]*=n):(t[2]=n*t[3],t[3]=n*t[2]),r>=0?(t[4]*=r,t[5]*=r):(t[4]=r*t[5],t[5]=r*t[4]),!0):!1}function hc(t){return[.5*(t[0]+t[1]),.5*(t[2]+t[3]),.5*(t[4]+t[5])]}function v8(t,e,n,r){if(!$r(t))return!1;var a=hc(t);return t[0]-=a[0],t[1]-=a[0],t[2]-=a[1],t[3]-=a[1],t[4]-=a[2],t[5]-=a[2],lc(t,e,n,r),t[0]+=a[0],t[1]+=a[0],t[2]+=a[1],t[3]+=a[1],t[4]+=a[2],t[5]+=a[2],!0}function pi(t,e){return t[e*2+1]-t[e*2]}function Rs(t){return[pi(t,0),pi(t,1),pi(t,2)]}function Gp(t){return t.slice(0,2)}function Pp(t){return t.slice(2,4)}function jp(t){return t.slice(4,6)}function zp(t){var e=Rs(t);return e[0]>e[1]?e[0]>e[2]?e[0]:e[2]:e[1]>e[2]?e[1]:e[2]}function Ip(t){if($r(t)){var e=Rs(t);return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}return null}function pc(t){return[t[0],t[2],t[4]]}function vc(t){return[t[1],t[3],t[5]]}function so(t,e){return t<=0&&e>=0||t>=0&&e<=0}function Wp(t,e){for(var n=0,r=0;r<2;r++)for(var a=2;a<4;a++)for(var i=4;i<6;i++)e[n]=[t[r],t[a],t[i]],n++;return e}function Hp(t,e,n){return e[0]=t[0],e[1]=t[2],e[2]=t[4],n[0]=t[1],n[1]=t[3],n[2]=t[5],e}function $p(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e[0]=.5*(t[1]-t[0]),e[1]=.5*(t[3]-t[2]),e[2]=.5*(t[5]-t[4]),e}function Kp(t,e,n,r){for(var a=[].concat(Ms),i=t.getData(),s=0;s<i.length;s+=3){var o=[i[s],i[s+1],i[s+2]],c=Be(o,e);a[0]=Math.min(c,a[0]),a[1]=Math.max(c,a[1]);var u=Be(o,n);a[2]=Math.min(u,a[2]),a[3]=Math.max(u,a[3]);var l=Be(o,r);a[4]=Math.min(l,a[4]),a[5]=Math.max(l,a[5])}return a}function Xp(t,e,n,r,a){for(var i=!0,s=[],o=0,c=[],u=[0,0,0],l=0,f=1,h=2,p=0;p<3;p++)e[p]<t[2*p]?(s[p]=f,u[p]=t[2*p],i=!1):e[p]>t[2*p+1]?(s[p]=l,u[p]=t[2*p+1],i=!1):s[p]=h;if(i)return r[0]=e[0],r[1]=e[1],r[2]=e[2],a[0]=0,1;for(var d=0;d<3;d++)s[d]!==h&&n[d]!==0?c[d]=(u[d]-e[d])/n[d]:c[d]=-1;for(var y=0;y<3;y++)c[o]<c[y]&&(o=y);if(c[o]>1||c[o]<0)return 0;a[0]=c[o];for(var m=0;m<3;m++)if(o!==m){if(r[m]=e[m]+c[o]*n[m],r[m]<t[2*m]||r[m]>t[2*m+1])return 0}else r[m]=u[m];return 1}function qp(t,e,n){for(var r=[],a=0,i=1,s=1,o=4;o<=5;++o){r[2]=t[o];for(var c=2;c<=3;++c){r[1]=t[c];for(var u=0;u<=1;++u)if(r[0]=t[u],a=zn.evaluate(n,e,r),s&&(i=a>=0?1:-1,s=0),a===0||i>0&&a<0||i<0&&a>0)return 1}}return 0}function Yp(t,e){if(!($r(t)&&$r(e)))return!1;for(var n=[0,0,0,0,0,0],r,a=0;a<3;a++)if(r=!1,e[a*2]>=t[a*2]&&e[a*2]<=t[a*2+1]?(r=!0,n[a*2]=e[a*2]):t[a*2]>=e[a*2]&&t[a*2]<=e[a*2+1]&&(r=!0,n[a*2]=t[a*2]),e[a*2+1]>=t[a*2]&&e[a*2+1]<=t[a*2+1]?(r=!0,n[a*2+1]=e[2*a+1]):t[a*2+1]>=e[a*2]&&t[a*2+1]<=e[a*2+1]&&(r=!0,n[a*2+1]=t[a*2+1]),!r)return!1;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],!0}function ss(t,e){if(!($r(t)&&$r(e)))return!1;for(var n=0;n<3;n++)if(!(e[n*2]>=t[n*2]&&e[n*2]<=t[n*2+1])&&!(t[n*2]>=e[n*2]&&t[n*2]<=e[n*2+1])&&!(e[n*2+1]>=t[n*2]&&e[n*2+1]<=t[n*2+1])&&!(t[n*2+1]>=e[n*2]&&t[n*2+1]<=e[n*2+1]))return!1;return!0}function us(t,e,n,r){return!(e<t[0]||e>t[1]||n<t[2]||n>t[3]||r<t[4]||r>t[5])}function d8(t,e){return!(!ss(t,e)||!us.apply(void 0,[t].concat(we(pc(e))))||!us.apply(void 0,[t].concat(we(vc(e)))))}function Zp(t,e,n){for(var r=[[0,1,2,3,4,5,6,7],[0,1,4,5,2,3,6,7],[0,2,4,6,1,3,5,7]],a=[0,0,0,0,0,0,0,0],i=0,s=0;s<2;s++)for(var o=2;o<4;o++)for(var c=4;c<6;c++){var u=[t[s],t[o],t[c]];a[i++]=zn.evaluate(n,e,u)}for(var l=2;l--&&!(so(a[r[l][0]],a[r[l][4]])&&so(a[r[l][1]],a[r[l][5]])&&so(a[r[l][2]],a[r[l][6]])&&so(a[r[l][3]],a[r[l][7]])););if(l<0)return!1;for(var f=Math.sign(n[l]),h=Math.abs((t[l*2+1]-t[l*2])*n[l]),p=f>0?1:0,d=0;d<4;d++)if(h!==0){var y=Math.abs(a[r[l][d]])/h;f>0&&y<p&&(p=y),f<0&&y>p&&(p=y)}var m=(1-p)*t[l*2]+p*t[l*2+1];return f>0?t[l*2]=m:t[l*2+1]=m,!0}var g8=function(){function t(e){yt(this,t),this.bounds=e,this.bounds||(this.bounds=new Float64Array(Ms))}return mt(t,[{key:"getBounds",value:function(){return this.bounds}},{key:"equals",value:function(n){return Rp(this.bounds,n)}},{key:"isValid",value:function(){return $r(this.bounds)}},{key:"setBounds",value:function(n){return fc(this.bounds,n)}},{key:"reset",value:function(){return Lp(this.bounds)}},{key:"addPoint",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Fp(this.bounds,r)}},{key:"addBounds",value:function(n,r,a,i,s,o){return Ap(this.bounds,n,r,a,i,s,o)}},{key:"setMinPoint",value:function(n,r,a){return Bp(this.bounds,n,r,a)}},{key:"setMaxPoint",value:function(n,r,a){return Vp(this.bounds,n,r,a)}},{key:"inflate",value:function(n){return Up(this.bounds,n)}},{key:"scale",value:function(n,r,a){return lc(this.bounds,n,r,a)}},{key:"getCenter",value:function(){return hc(this.bounds)}},{key:"getLength",value:function(n){return pi(this.bounds,n)}},{key:"getLengths",value:function(){return Rs(this.bounds)}},{key:"getMaxLength",value:function(){return zp(this.bounds)}},{key:"getDiagonalLength",value:function(){return Ip(this.bounds)}},{key:"getMinPoint",value:function(){return pc(this.bounds)}},{key:"getMaxPoint",value:function(){return vc(this.bounds)}},{key:"getXRange",value:function(){return Gp(this.bounds)}},{key:"getYRange",value:function(){return Pp(this.bounds)}},{key:"getZRange",value:function(){return jp(this.bounds)}},{key:"getCorners",value:function(n){return Wp(this.bounds,n)}},{key:"computeCornerPoints",value:function(n,r){return Hp(this.bounds,n,r)}},{key:"computeLocalBounds",value:function(n,r,a){return Kp(this.bounds,n,r,a)}},{key:"computeScale3",value:function(n){return $p(this.bounds,n)}},{key:"cutWithPlane",value:function(n,r){return Zp(this.bounds,n,r)}},{key:"intersectBox",value:function(n,r,a,i){return Xp(this.bounds,n,r,a,i)}},{key:"intersectPlane",value:function(n,r){return qp(this.bounds,n,r)}},{key:"intersect",value:function(n){return Yp(this.bounds,n)}},{key:"intersects",value:function(n){return ss(this.bounds,n)}},{key:"containsPoint",value:function(n,r,a){return us(this.bounds,n,r,a)}},{key:"contains",value:function(n){return ss(this.bounds,n)}}]),t}();function y8(t){var e=t&&t.bounds;return new g8(e)}var m8={equals:Rp,isValid:$r,setBounds:fc,reset:Lp,addPoint:Fp,addBounds:Ap,setMinPoint:Bp,setMaxPoint:Vp,inflate:Up,scale:lc,scaleAboutCenter:v8,getCenter:hc,getLength:pi,getLengths:Rs,getMaxLength:zp,getDiagonalLength:Ip,getMinPoint:pc,getMaxPoint:vc,getXRange:Gp,getYRange:Pp,getZRange:jp,getCorners:Wp,computeCornerPoints:Hp,computeLocalBounds:Kp,computeScale3:$p,cutWithPlane:Zp,intersectBox:Xp,intersectPlane:qp,intersect:Yp,intersects:ss,containsPoint:us,contains:d8,INIT_BOUNDS:Ms},Ke=p8({newInstance:y8},m8);function Ff(t){return function(){return I.vtkErrorMacro("vtkProp::".concat(t," - NOT IMPLEMENTED"))}}function _8(t,e){e.classHierarchy.push("vtkProp"),t.getMTime=function(){for(var n=e.mtime,r=0;r<e.textures.length;++r){var a=e.textures[r].getMTime();a>n&&(n=a)}return n},t.processSelectorPixelBuffers=function(n,r){},t.getNestedProps=function(){return null},t.getActors=function(){return[]},t.getActors2D=function(){return[]},t.getVolumes=function(){return[]},t.pick=Ff("pick"),t.hasKey=Ff("hasKey"),t.getNestedVisibility=function(){return e.visibility&&(!e._parentProp||e._parentProp.getNestedVisibility())},t.getNestedPickable=function(){return e.pickable&&(!e._parentProp||e._parentProp.getNestedPickable())},t.getNestedDragable=function(){return e.dragable&&(!e._parentProp||e._parentProp.getNestedDragable())},t.getRedrawMTime=function(){return e.mtime},t.setEstimatedRenderTime=function(n){e.estimatedRenderTime=n,e.savedEstimatedRenderTime=n},t.restoreEstimatedRenderTime=function(){e.estimatedRenderTime=e.savedEstimatedRenderTime},t.addEstimatedRenderTime=function(n){e.estimatedRenderTime+=n},t.setAllocatedRenderTime=function(n){e.allocatedRenderTime=n,e.savedEstimatedRenderTime=e.estimatedRenderTime,e.estimatedRenderTime=0},t.getSupportsSelection=function(){return!1},t.getTextures=function(){return e.textures},t.hasTexture=function(n){return e.textures.indexOf(n)!==-1},t.addTexture=function(n){n&&!t.hasTexture(n)&&(e.textures=e.textures.concat(n),t.modified())},t.removeTexture=function(n){var r=e.textures.filter(function(a){return a!==n});e.textures.length!==r.length&&(e.textures=r,t.modified())},t.removeAllTextures=function(){e.textures=[],t.modified()}}var x8={visibility:!0,pickable:!0,dragable:!0,useBounds:!0,allocatedRenderTime:10,estimatedRenderTime:0,savedEstimatedRenderTime:0,renderTimeMultiplier:1,paths:null,textures:[]};function Jp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,x8,n),I.obj(t,e),I.get(t,e,["estimatedRenderTime","allocatedRenderTime"]),I.setGet(t,e,["visibility","pickable","dragable","useBounds","renderTimeMultiplier","_parentProp"]),I.moveToProtected(t,e,["parentProp"]),_8(t,e)}var w8=I.newInstance(Jp,"vtkProp"),Qp={newInstance:w8,extend:Jp};function C8(t,e){e.classHierarchy.push("vtkProp3D"),t.addPosition=function(r){e.position=e.position.map(function(a,i){return a+r[i]}),t.modified()},t.getOrientationWXYZ=function(){var r=Gn();Qh(r,e.rotation);var a=new Float64Array(3),i=G3(a,r);return[Jo(i),a[0],a[1],a[2]]},t.rotateX=function(r){r!==0&&(bs(e.rotation,e.rotation,ot(r)),t.modified())},t.rotateY=function(r){r!==0&&(_i(e.rotation,e.rotation,ot(r)),t.modified())},t.rotateZ=function(r){r!==0&&(Es(e.rotation,e.rotation,ot(r)),t.modified())},t.rotateWXYZ=function(r,a,i,s){if(!(r===0||a===0&&i===0&&s===0)){var o=ot(r),c=Gn();$u(c,[a,i,s],o);var u=new Float64Array(16);Iu(u,c),st(e.rotation,e.rotation,u),t.modified()}},t.setOrientation=function(r,a,i){return r===e.orientation[0]&&a===e.orientation[1]&&i===e.orientation[2]?!1:(e.orientation=[r,a,i],Me(e.rotation),t.rotateZ(i),t.rotateX(r),t.rotateY(a),t.modified(),!0)},t.setUserMatrix=function(r){Ft(e.userMatrix,r),t.modified()},t.getMatrix=function(){return t.computeMatrix(),e.matrix},t.computeMatrix=function(){if(t.getMTime()>e.matrixMTime.getMTime()){Me(e.matrix),e.userMatrix&&st(e.matrix,e.matrix,e.userMatrix),rt(e.matrix,e.matrix,e.origin),rt(e.matrix,e.matrix,e.position),st(e.matrix,e.matrix,e.rotation),Vn(e.matrix,e.matrix,e.scale),rt(e.matrix,e.matrix,[-e.origin[0],-e.origin[1],-e.origin[2]]),Ze(e.matrix,e.matrix),e.isIdentity=!0;for(var r=0;r<4;++r)for(var a=0;a<4;++a)(r===a?1:0)!==e.matrix[r+a*4]&&(e.isIdentity=!1);e.matrixMTime.modified()}},t.getCenter=function(){return Ke.getCenter(e.bounds)},t.getLength=function(){return Ke.getLength(e.bounds)},t.getXRange=function(){return Ke.getXRange(e.bounds)},t.getYRange=function(){return Ke.getYRange(e.bounds)},t.getZRange=function(){return Ke.getZRange(e.bounds)},t.getUserMatrix=function(){return e.userMatrix};function n(){t.computeMatrix()}t.onModified(n)}var S8={origin:[0,0,0],position:[0,0,0],orientation:[0,0,0],rotation:null,scale:[1,1,1],bounds:[1,-1,1,-1,1,-1],userMatrix:null,userMatrixMTime:null,cachedProp3D:null,isIdentity:!0,matrixMTime:null};function ev(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,S8,n),Qp.extend(t,e,n),e.matrixMTime={},I.obj(e.matrixMTime),I.get(t,e,["bounds","isIdentity"]),I.getArray(t,e,["orientation"]),I.setGetArray(t,e,["origin","position","scale"],3),e.matrix=Me(new Float64Array(16)),e.rotation=Me(new Float64Array(16)),e.userMatrix=Me(new Float64Array(16)),e.transform=null,C8(t,e)}var T8=I.newInstance(ev,"vtkProp3D"),dc={newInstance:T8,extend:ev};function Af(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function b8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Af(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Af(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ei=ec.Representation,ti=ec.Interpolation;function Bf(t){return function(){return I.vtkErrorMacro("vtkProperty::".concat(t," - NOT IMPLEMENTED"))}}function E8(t,e){e.classHierarchy.push("vtkProperty"),t.setColor=function(n,r,a){Array.isArray(n)?(e.color[0]!==n[0]||e.color[1]!==n[1]||e.color[2]!==n[2])&&(e.color[0]=n[0],e.color[1]=n[1],e.color[2]=n[2],t.modified()):(e.color[0]!==n||e.color[1]!==r||e.color[2]!==a)&&(e.color[0]=n,e.color[1]=r,e.color[2]=a,t.modified()),t.setDiffuseColor(e.color),t.setAmbientColor(e.color),t.setSpecularColor(e.color)},t.computeCompositeColor=Bf("ComputeCompositeColor"),t.getColor=function(){var n=0;e.ambient+e.diffuse+e.specular>0&&(n=1/(e.ambient+e.diffuse+e.specular));for(var r=0;r<3;r++)e.color[r]=n*(e.ambient*e.ambientColor[r]+e.diffuse*e.diffuseColor[r]+e.specular*e.specularColor[r]);return[].concat(e.color)},t.addShaderVariable=Bf("AddShaderVariable"),t.setInterpolationToFlat=function(){return t.setInterpolation(ti.FLAT)},t.setInterpolationToGouraud=function(){return t.setInterpolation(ti.GOURAUD)},t.setInterpolationToPhong=function(){return t.setInterpolation(ti.PHONG)},t.getInterpolationAsString=function(){return I.enumToString(ti,e.interpolation)},t.setRepresentationToWireframe=function(){return t.setRepresentation(ei.WIREFRAME)},t.setRepresentationToSurface=function(){return t.setRepresentation(ei.SURFACE)},t.setRepresentationToPoints=function(){return t.setRepresentation(ei.POINTS)},t.getRepresentationAsString=function(){return I.enumToString(ei,e.representation)}}var D8={color:[1,1,1],ambientColor:[1,1,1],diffuseColor:[1,1,1],specularColor:[1,1,1],edgeColor:[0,0,0],ambient:0,diffuse:1,specular:0,specularPower:1,opacity:1,interpolation:ti.GOURAUD,representation:ei.SURFACE,edgeVisibility:!1,backfaceCulling:!1,frontfaceCulling:!1,pointSize:1,lineWidth:1,lighting:!0,shading:!1,materialName:null};function tv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,D8,n),I.obj(t,e),I.setGet(t,e,["lighting","interpolation","ambient","diffuse","specular","specularPower","opacity","edgeVisibility","lineWidth","pointSize","backfaceCulling","frontfaceCulling","representation"]),I.setGetArray(t,e,["ambientColor","specularColor","diffuseColor","edgeColor"],3),E8(t,e)}var O8=I.newInstance(tv,"vtkProperty"),Wi=b8({newInstance:O8,extend:tv},ec);function Vf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function N8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var k8=I.vtkDebugMacro;function M8(t,e){e.classHierarchy.push("vtkActor");var n=N8({},t);t.getActors=function(){return[t]},t.getIsOpaque=function(){if(e.forceOpaque)return!0;if(e.forceTranslucent)return!1;e.property||t.getProperty();var r=e.property.getOpacity()>=1;return r=r&&(!e.texture||!e.texture.isTranslucent()),r=r&&(!e.mapper||e.mapper.getIsOpaque()),r},t.hasTranslucentPolygonalGeometry=function(){return e.mapper===null?!1:(e.property===null&&t.setProperty(t.makeProperty()),!t.getIsOpaque())},t.makeProperty=Wi.newInstance,t.getProperty=function(){return e.property===null&&(e.property=t.makeProperty()),e.property},t.getBounds=function(){if(e.mapper===null)return e.bounds;var r=e.mapper.getBounds();if(!r||r.length!==6)return r;if(r[0]>r[1])return e.mapperBounds=r.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),r;if(!e.mapperBounds||r[0]!==e.mapperBounds[0]||r[1]!==e.mapperBounds[1]||r[2]!==e.mapperBounds[2]||r[3]!==e.mapperBounds[3]||r[4]!==e.mapperBounds[4]||r[5]!==e.mapperBounds[5]||t.getMTime()>e.boundsMTime.getMTime()){k8("Recomputing bounds..."),e.mapperBounds=r.concat();var a=[];Ke.getCorners(r,a),t.computeMatrix();var i=new Float64Array(16);Ze(i,e.matrix),a.forEach(function(s){return Te(s,s,i)}),e.bounds[0]=e.bounds[2]=e.bounds[4]=Number.MAX_VALUE,e.bounds[1]=e.bounds[3]=e.bounds[5]=-Number.MAX_VALUE,e.bounds=e.bounds.map(function(s,o){return o%2===0?a.reduce(function(c,u){return c>u[o/2]?u[o/2]:c},s):a.reduce(function(c,u){return c<u[(o-1)/2]?u[(o-1)/2]:c},s)}),e.boundsMTime.modified()}return e.bounds},t.getMTime=function(){var r=n.getMTime();if(e.property!==null){var a=e.property.getMTime();r=a>r?a:r}if(e.backfaceProperty!==null){var i=e.backfaceProperty.getMTime();r=i>r?i:r}return r},t.getRedrawMTime=function(){var r=e.mtime;if(e.mapper!==null){var a=e.mapper.getMTime();r=a>r?a:r,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),a=e.mapper.getInput().getMTime(),r=a>r?a:r)}return r},t.getSupportsSelection=function(){return e.mapper?e.mapper.getSupportsSelection():!1},t.processSelectorPixelBuffers=function(r,a){e.mapper&&e.mapper.processSelectorPixelBuffers&&e.mapper.processSelectorPixelBuffers(r,a)}}var R8={mapper:null,property:null,backfaceProperty:null,forceOpaque:!1,forceTranslucent:!1,bounds:[1,-1,1,-1,1,-1]};function rv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,R8,n),dc.extend(t,e,n),e.boundsMTime={},I.obj(e.boundsMTime),I.set(t,e,["property"]),I.setGet(t,e,["backfaceProperty","forceOpaque","forceTranslucent","mapper"]),M8(t,e)}var L8=I.newInstance(rv,"vtkActor"),Kr={newInstance:L8,extend:rv};function F8(t,e){e.classHierarchy.push("vtkAbstractMapper"),t.update=function(){t.getInputData()},t.addClippingPlane=function(n){return n.isA("vtkPlane")?e.clippingPlanes.includes(n)?!1:(e.clippingPlanes.push(n),t.modified(),!0):!1},t.getNumberOfClippingPlanes=function(){return e.clippingPlanes.length},t.removeAllClippingPlanes=function(){e.clippingPlanes.length=0},t.removeClippingPlane=function(n){var r=e.clippingPlanes.indexOf(n);return r===-1?!1:(e.clippingPlanes.splice(r,1),t.modified(),!0)},t.getClippingPlanes=function(){return e.clippingPlanes},t.setClippingPlanes=function(n){if(!!n)if(!Array.isArray(n))t.addClippingPlane(n);else for(var r=n.length,a=0;a<r&&a<6;a++)t.addClippingPlane(n[a])},t.getClippingPlaneInDataCoords=function(n,r,a){var i=e.clippingPlanes,s=n;if(i){var o=i.length;if(r>=0&&r<o){var c=i[r],u=c.getNormal(),l=c.getOrigin(),f=u[0],h=u[1],p=u[2],d=-(f*l[0]+h*l[1]+p*l[2]);a[0]=f*s[0]+h*s[4]+p*s[8]+d*s[12],a[1]=f*s[1]+h*s[5]+p*s[9]+d*s[13],a[2]=f*s[2]+h*s[6]+p*s[10]+d*s[14],a[3]=f*s[3]+h*s[7]+p*s[11]+d*s[15];return}}I.vtkErrorMacro("Clipping plane index ".concat(r," is out of range."))}}var A8={clippingPlanes:[]};function B8(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,A8,n),I.obj(t,e),I.algo(t,e,1,0),e.clippingPlanes||(e.clippingPlanes=[]),F8(t,e)}var Ls={extend:B8};function V8(t,e){t.getBounds=function(){return 0},t.getBounds=function(n){t.getBounds();for(var r=0;r<6;r++)n[r]=e.bounds[r]},t.getCenter=function(){t.getBounds();for(var n=0;n<3;n++)e.center[n]=(e.bounds[2*n+1]+e.bounds[2*n])/2;return e.center.slice()},t.getLength=function(){var n=0,r=0;t.getBounds();for(var a=0;a<3;a++)n=e.bounds[2*a+1]-e.bounds[2*a],r+=n*n;return Math.sqrt(r)}}var U8={bounds:[1,-1,1,-1,1,-1],center:[0,0,0]};function G8(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,U8,n),Ls.extend(t,e,n),e.bounds||Fa(e.bounds),e.center||(e.center=[0,0,0]),V8(t,e)}var P8={extend:G8};function j8(t,e){e.classHierarchy.push("vtkFieldData");var n=t.getState;e.arrays&&(e.arrays=e.arrays.map(function(r){return{data:Ot(r.data)}})),t.initialize=function(){t.initializeFields(),t.copyAllOn(),t.clearFieldFlags()},t.initializeFields=function(){e.arrays=[],e.copyFieldFlags={},t.modified()},t.copyStructure=function(r){t.initializeFields(),e.copyFieldFlags=r.getCopyFieldFlags().map(function(a){return a}),e.arrays=r.arrays().map(function(a){return{array:a}})},t.getNumberOfArrays=function(){return e.arrays.length},t.getNumberOfActiveArrays=function(){return e.arrays.length},t.addArray=function(r){return e.arrays=[].concat(e.arrays,{data:r}),e.arrays.length-1},t.removeAllArrays=function(){e.arrays=[]},t.removeArray=function(r){e.arrays=e.arrays.filter(function(a){return r!==a.data.getName()})},t.removeArrayByIndex=function(r){e.arrays=e.arrays.filter(function(a,i){return i!==r})},t.getArrays=function(){return e.arrays.map(function(r){return r.data})},t.getArray=function(r){return typeof r=="number"?t.getArrayByIndex(r):t.getArrayByName(r)},t.getArrayByName=function(r){return e.arrays.reduce(function(a,i,s){return i.data.getName()===r?i.data:a},null)},t.getArrayWithIndex=function(r){return e.arrays.reduce(function(a,i,s){return i.data&&i.data.getName()===r?{array:i.data,index:s}:a},{array:null,index:-1})},t.getArrayByIndex=function(r){return r>=0&&r<e.arrays.length?e.arrays[r].data:null},t.hasArray=function(r){return t.getArrayWithIndex(r).index>=0},t.getArrayName=function(r){var a=e.arrays[r];return a?a.data.getName():""},t.getCopyFieldFlags=function(){return e.copyFieldFlags},t.getFlag=function(r){return e.copyFieldFlags[r]},t.passData=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;r.getArrays().forEach(function(s){var o=t.getFlag(s.getName());if(o!==!1&&!(e.doCopyAllOff&&o!==!0)&&s){var c=t.getArrayByName(s.getName());if(c){if(s.getNumberOfComponents()===c.getNumberOfComponents())if(a>-1&&a<s.getNumberOfTuples()){var h=i>-1?i:a;c.setTuple(h,s.getTuple(a))}else for(var p=0;p<s.getNumberOfTuples();++p)c.setTuple(p,s.getTuple(p))}else if(a<0||a>s.getNumberOfTuples())t.addArray(s);else{var u=s.getNumberOfComponents(),l=s.getNumberOfValues(),f=i>-1?i:a;l<f*u&&(l=(f+1)*u),c=Ee.newInstance({name:s.getName(),dataType:s.getDataType(),numberOfComponents:s.getNumberOfComponents(),size:l}),c.setTuple(f,s.getTuple(a)),t.addArray(c)}}})},t.copyFieldOn=function(r){e.copyFieldFlags[r]=!0},t.copyFieldOff=function(r){e.copyFieldFlags[r]=!1},t.copyAllOn=function(){(!e.doCopyAllOn||e.doCopyAllOff)&&(e.doCopyAllOn=!0,e.doCopyAllOff=!1,t.modified())},t.copyAllOff=function(){(e.doCopyAllOn||!e.doCopyAllOff)&&(e.doCopyAllOn=!1,e.doCopyAllOff=!0,t.modified())},t.clearFieldFlags=function(){e.copyFieldFlags={}},t.deepCopy=function(r){e.arrays=r.getArrays().map(function(a){var i=a.newClone();return i.deepCopy(a),{data:i}})},t.copyFlags=function(r){return r.getCopyFieldFlags().map(function(a){return a})},t.reset=function(){return e.arrays.forEach(function(r){return r.data.reset()})},t.getMTime=function(){return e.arrays.reduce(function(r,a){return a.data.getMTime()>r?a.data.getMTime():r},e.mtime)},t.getNumberOfComponents=function(){return e.arrays.reduce(function(r,a){return r+a.data.getNumberOfComponents()},0)},t.getNumberOfTuples=function(){return e.arrays.length>0?e.arrays[0].getNumberOfTuples():0},t.getState=function(){var r=n();return r&&(r.arrays=e.arrays.map(function(a){return{data:a.data.getState()}})),r}}var z8={arrays:[],copyFieldFlags:[],doCopyAllOn:!0,doCopyAllOff:!1};function nv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,z8,n),I.obj(t,e),j8(t,e)}var I8=I.newInstance(nv,"vtkFieldData"),W8={newInstance:I8,extend:nv},av={SCALARS:0,VECTORS:1,NORMALS:2,TCOORDS:3,TENSORS:4,GLOBALIDS:5,PEDIGREEIDS:6,EDGEFLAG:7,NUM_ATTRIBUTES:8},H8={MAX:0,EXACT:1,NOLIMIT:2},$8={DUPLICATECELL:1,HIGHCONNECTIVITYCELL:2,LOWCONNECTIVITYCELL:4,REFINEDCELL:8,EXTERIORCELL:16,HIDDENCELL:32},K8={DUPLICATEPOINT:1,HIDDENPOINT:2},X8={COPYTUPLE:0,INTERPOLATE:1,PASSDATA:2,ALLCOPY:3},q8="vtkGhostType",In={DEFAULT:0,SINGLE:1,DOUBLE:2},gc={AttributeCopyOperations:X8,AttributeLimitTypes:H8,AttributeTypes:av,CellGhostTypes:$8,DesiredOutputPrecision:In,PointGhostTypes:K8,ghostArrayName:q8};function Uf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Y8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var yn=gc.AttributeTypes,ta=gc.AttributeCopyOperations,uo=I.vtkWarningMacro;function Z8(t,e){var n=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"];function r(i){var s=n.find(function(o){return yn[o.toUpperCase()]===i||typeof i!="number"&&o.toLowerCase()===i.toLowerCase()});return typeof s=="undefined"&&(s=null),s}e.classHierarchy.push("vtkDataSetAttributes"),t.checkNumberOfComponents=function(i){return!0},t.setAttribute=function(i,s){var o=r(s);if(i&&o.toUpperCase()==="PEDIGREEIDS"&&!i.isA("vtkDataArray"))return uo("Cannot set attribute ".concat(o,". The attribute must be a vtkDataArray.")),-1;if(i&&!t.checkNumberOfComponents(i,o))return uo("Cannot set attribute ".concat(o,". Incorrect number of components.")),-1;var c=e["active".concat(o)];if(c>=0&&c<e.arrays.length){if(e.arrays[c]===i)return c;t.removeArrayByIndex(c)}return i?(c=t.addArray(i),e["active".concat(o)]=c):e["active".concat(o)]=-1,t.modified(),e["active".concat(o)]},t.setActiveAttributeByName=function(i,s){return t.setActiveAttributeByIndex(t.getArrayWithIndex(i).index,s)},t.setActiveAttributeByIndex=function(i,s){var o=r(s);if(i>=0&&i<e.arrays.length){if(o.toUpperCase()!=="PEDIGREEIDS"){var c=t.getArrayByIndex(i);if(!c.isA("vtkDataArray"))return uo("Cannot set attribute ".concat(o,". Only vtkDataArray subclasses can be set as active attributes.")),-1;if(!t.checkNumberOfComponents(c,o))return uo("Cannot set attribute ".concat(o,". Incorrect number of components.")),-1}return e["active".concat(o)]=i,t.modified(),i}return i===-1&&(e["active".concat(o)]=i,t.modified()),-1},t.getActiveAttribute=function(i){var s=r(i);return t["get".concat(s)]()},t.removeAllArrays=function(){e.arrays=[],n.forEach(function(i){e["active".concat(i)]=-1})},t.removeArray=function(i){e.arrays=e.arrays.filter(function(s,o){return i===s.data.getName()?(n.forEach(function(c){o===e["active".concat(c)]&&(e["active".concat(c)]=-1)}),!1):!0})},t.removeArrayByIndex=function(i){e.arrays=e.arrays.filter(function(s,o){return o!==i}),n.forEach(function(s){i===e["active".concat(s)]&&(e["active".concat(s)]=-1)})},n.forEach(function(i){var s="active".concat(i);t["get".concat(i)]=function(){return t.getArrayByIndex(e[s])},t["set".concat(i)]=function(o){return t.setAttribute(o,i)},t["setActive".concat(i)]=function(o){return t.setActiveAttributeByIndex(t.getArrayWithIndex(o).index,i)},t["copy".concat(i,"Off")]=function(){var o=i.toUpperCase();e.copyAttributeFlags[ta.PASSDATA][yn[o]]=!1}}),t.initializeAttributeCopyFlags=function(){e.copyAttributeFlags=[],Object.keys(ta).filter(function(i){return i!=="ALLCOPY"}).forEach(function(i){e.copyAttributeFlags[ta[i]]=Object.keys(yn).filter(function(s){return s!=="NUM_ATTRIBUTES"}).reduce(function(s,o){return s[yn[o]]=!0,s},[])}),e.copyAttributeFlags[ta.COPYTUPLE][yn.GLOBALIDS]=!1,e.copyAttributeFlags[ta.INTERPOLATE][yn.GLOBALIDS]=!1,e.copyAttributeFlags[ta.COPYTUPLE][yn.PEDIGREEIDS]=!1},t.initialize=I.chain(t.initialize,t.initializeAttributeCopyFlags),e.dataArrays&&Object.keys(e.dataArrays).length&&Object.keys(e.dataArrays).forEach(function(i){!e.dataArrays[i].ref&&e.dataArrays[i].type==="vtkDataArray"&&t.addArray(Ee.newInstance(e.dataArrays[i]))});var a=t.shallowCopy;t.shallowCopy=function(i,s){a(i,s),e.arrays=i.getArrays().map(function(o){var c=o.newClone();return c.shallowCopy(o,s),{data:c}})},t.initializeAttributeCopyFlags()}var J8={activeScalars:-1,activeVectors:-1,activeTensors:-1,activeNormals:-1,activeTCoords:-1,activeGlobalIds:-1,activePedigreeIds:-1};function iv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,J8,n),W8.extend(t,e,n),I.setGet(t,e,["activeScalars","activeNormals","activeTCoords","activeVectors","activeTensors","activeGlobalIds","activePedigreeIds"]),e.arrays||(e.arrays={}),Z8(t,e)}var Q8=I.newInstance(iv,"vtkDataSetAttributes"),Gf=Y8({newInstance:Q8,extend:iv},gc),ct={UNIFORM:0,DATA_OBJECT_FIELD:0,COORDINATE:1,POINT_DATA:1,POINT:2,POINT_FIELD_DATA:2,CELL:3,CELL_FIELD_DATA:3,VERTEX:4,VERTEX_FIELD_DATA:4,EDGE:5,EDGE_FIELD_DATA:5,ROW:6,ROW_DATA:6},ov={FIELD_ASSOCIATION_POINTS:0,FIELD_ASSOCIATION_CELLS:1,FIELD_ASSOCIATION_NONE:2,FIELD_ASSOCIATION_POINTS_THEN_CELLS:3,FIELD_ASSOCIATION_VERTICES:4,FIELD_ASSOCIATION_EDGES:5,FIELD_ASSOCIATION_ROWS:6,NUMBER_OF_ASSOCIATIONS:7},e9={FieldDataTypes:ct,FieldAssociations:ov};function Pf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function t9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var yu=["pointData","cellData","fieldData"];function r9(t,e){e.classHierarchy.push("vtkDataSet"),yu.forEach(function(r){e[r]?e[r]=Ot(e[r]):e[r]=Gf.newInstance()});var n=t.shallowCopy;t.shallowCopy=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n(r,a),yu.forEach(function(i){e[i]=Gf.newInstance(),e[i].shallowCopy(r.getReferenceByName(i))})}}var n9={};function sv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,n9,n),I.obj(t,e),I.setGet(t,e,yu),r9(t,e)}var a9=I.newInstance(sv,"vtkDataSet"),Xn=t9({newInstance:a9,extend:sv},e9),dr={UNCHANGED:0,SINGLE_POINT:1,X_LINE:2,Y_LINE:3,Z_LINE:4,XY_PLANE:5,YZ_PLANE:6,XZ_PLANE:7,XYZ_GRID:8,EMPTY:9},uv={StructuredType:dr};function jf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function i9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Rr=uv.StructuredType;function o9(t){for(var e=0,n=0;n<3;++n)t[n*2]<t[n*2+1]&&e++;return t[0]>t[1]||t[2]>t[3]||t[4]>t[5]?Rr.EMPTY:e===3?Rr.XYZ_GRID:e===2?t[0]===t[1]?Rr.YZ_PLANE:t[2]===t[3]?Rr.XZ_PLANE:Rr.XY_PLANE:e===1?t[0]<t[1]?Rr.X_LINE:t[2]<t[3]?Rr.Y_LINE:Rr.Z_LINE:Rr.SINGLE_POINT}var s9=i9({getDataDescriptionFromExtent:o9},uv),qr=I.vtkErrorMacro;function u9(t,e){e.classHierarchy.push("vtkImageData"),t.setExtent=function(){if(e.deleted)return qr("instance deleted - cannot call any method"),!1;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.length===1?r[0]:r;if(i.length!==6)return!1;var s=!1;return e.extent.forEach(function(o,c){if(o!==i[c]){if(s)return;s=!0}}),s&&(e.extent=i.slice(),e.dataDescription=s9.getDataDescriptionFromExtent(e.extent),t.modified()),s},t.setDimensions=function(){var n,r,a;if(e.deleted){qr("instance deleted - cannot call any method");return}if(arguments.length===1){var i=arguments.length<=0?void 0:arguments[0];n=i[0],r=i[1],a=i[2]}else if(arguments.length===3)n=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],a=arguments.length<=2?void 0:arguments[2];else{qr("Bad dimension specification");return}t.setExtent(0,n-1,0,r-1,0,a-1)},t.getDimensions=function(){return[e.extent[1]-e.extent[0]+1,e.extent[3]-e.extent[2]+1,e.extent[5]-e.extent[4]+1]},t.getNumberOfCells=function(){for(var n=t.getDimensions(),r=1,a=0;a<3;a++){if(n[a]===0)return 0;n[a]>1&&(r*=n[a]-1)}return r},t.getNumberOfPoints=function(){var n=t.getDimensions();return n[0]*n[1]*n[2]},t.getPoint=function(n){var r=t.getDimensions();if(r[0]===0||r[1]===0||r[2]===0)return qr("Requesting a point from an empty image."),null;var a=new Float64Array(3);switch(e.dataDescription){case dr.EMPTY:return null;case dr.SINGLE_POINT:break;case dr.X_LINE:a[0]=n;break;case dr.Y_LINE:a[1]=n;break;case dr.Z_LINE:a[2]=n;break;case dr.XY_PLANE:a[0]=n%r[0],a[1]=n/r[0];break;case dr.YZ_PLANE:a[1]=n%r[1],a[2]=n/r[1];break;case dr.XZ_PLANE:a[0]=n%r[0],a[2]=n/r[0];break;case dr.XYZ_GRID:a[0]=n%r[0],a[1]=n/r[0]%r[1],a[2]=n/(r[0]*r[1]);break;default:qr("Invalid dataDescription");break}var i=[0,0,0];return t.indexToWorld(a,i),i},t.getBounds=function(){return t.extentToBounds(t.getSpatialExtent())},t.extentToBounds=function(n){var r=[n[0],n[2],n[4],n[1],n[2],n[4],n[0],n[3],n[4],n[1],n[3],n[4],n[0],n[2],n[5],n[1],n[2],n[5],n[0],n[3],n[5],n[1],n[3],n[5]],a=new Float64Array([r[0],r[1],r[2]]),i=new Float64Array(3);t.indexToWorld(a,i);for(var s=[i[0],i[0],i[1],i[1],i[2],i[2]],o=3;o<24;o+=3)$e(a,r[o],r[o+1],r[o+2]),t.indexToWorld(a,i),i[0]<s[0]&&(s[0]=i[0]),i[1]<s[2]&&(s[2]=i[1]),i[2]<s[4]&&(s[4]=i[2]),i[0]>s[1]&&(s[1]=i[0]),i[1]>s[3]&&(s[3]=i[1]),i[2]>s[5]&&(s[5]=i[2]);return s},t.getSpatialExtent=function(){var n=Ke.newInstance();return n.setBounds(e.extent),n.inflate(.5),n.getBounds()},t.computeTransforms=function(){Xh(e.indexToWorld,e.origin),e.indexToWorld[0]=e.direction[0],e.indexToWorld[1]=e.direction[1],e.indexToWorld[2]=e.direction[2],e.indexToWorld[4]=e.direction[3],e.indexToWorld[5]=e.direction[4],e.indexToWorld[6]=e.direction[5],e.indexToWorld[8]=e.direction[6],e.indexToWorld[9]=e.direction[7],e.indexToWorld[10]=e.direction[8],Vn(e.indexToWorld,e.indexToWorld,e.spacing),Zt(e.worldToIndex,e.indexToWorld)},t.setDirection=function(){if(e.deleted)return qr("instance deleted - cannot call any method"),!1;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r;if(i.length===1&&(Array.isArray(i[0])||i[0].constructor===Float32Array||i[0].constructor===Float64Array)&&(i=i[0]),i.length!==9)throw new RangeError("Invalid number of values for array setter");var s=!1;if(e.direction.forEach(function(c,u){if(c!==i[u]){if(s)return;s=!0}}),s){for(var o=0;o<9;++o)e.direction[o]=i[o];t.modified()}return!0},t.indexToWorld=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Te(r,n,e.indexToWorld),r},t.indexToWorldVec3=t.indexToWorld,t.worldToIndex=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Te(r,n,e.worldToIndex),r},t.worldToIndexVec3=t.worldToIndex,t.indexToWorldBounds=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=[0,0,0],i=[0,0,0];Ke.computeCornerPoints(n,a,i);var s=[0,0,0],o=[0,0,0];return Te(s,a,e.indexToWorld),Te(o,i,e.indexToWorld),sf(s,o,r)},t.worldToIndexBounds=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=[0,0,0],i=[0,0,0];Ke.computeCornerPoints(n,a,i);var s=[0,0,0],o=[0,0,0];return Te(s,a,e.worldToIndex),Te(o,i,e.worldToIndex),sf(s,o,r)},t.onModified(t.computeTransforms),t.computeTransforms(),t.getCenter=function(){for(var n=t.getBounds(),r=[],a=0;a<3;a++)r[a]=(n[2*a+1]+n[2*a])/2;return r},t.computeHistogram=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=[0,0,0,0,0,0];t.worldToIndexBounds(n,a);var i=[0,0,0],s=[0,0,0];Ke.computeCornerPoints(a,i,s),of(i,i),of(s,s);var o=t.getDimensions();uf(i,[0,0,0],[o[0]-1,o[1]-1,o[2]-1],i),uf(s,[0,0,0],[o[0]-1,o[1]-1,o[2]-1],s);for(var c=o[0],u=o[0]*o[1],l=t.getPointData().getScalars().getData(),f=-1/0,h=1/0,p=0,d=0,y=0,m=i[2];m<=s[2];m++)for(var _=i[1];_<=s[1];_++)for(var v=i[0]+_*c+m*u,g=i[0];g<=s[0];g++){if(!r||r([g,_,m],a)){var x=l[v];x>f&&(f=x),x<h&&(h=x),p+=x*x,d+=x,y+=1}++v}var w=y>0?d/y:0,C=y?Math.abs(p/y-w*w):0,S=Math.sqrt(C);return{minimum:h,maximum:f,average:w,variance:C,sigma:S,count:y}},t.computeIncrements=function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,a=[],i=r,s=0;s<3;++s)a[s]=i,i*=n[s*2+1]-n[s*2]+1;return a},t.computeOffsetIndex=function(n){var r=We(n,3),a=r[0],i=r[1],s=r[2],o=t.getExtent(),c=t.getPointData().getScalars().getNumberOfComponents(),u=t.computeIncrements(o,c);return Math.floor((Math.round(a)-o[0])*u[0]+(Math.round(i)-o[2])*u[1]+(Math.round(s)-o[4])*u[2])},t.getOffsetIndexFromWorld=function(n){for(var r=t.getExtent(),a=t.worldToIndex(n),i=0;i<3;++i)if(a[i]<r[i*2]||a[i]>r[i*2+1])return qr("GetScalarPointer: Pixel ".concat(a," is not in memory. Current extent = ").concat(r)),NaN;return t.computeOffsetIndex(a)},t.getScalarValueFromWorld=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=t.getPointData().getScalars().getNumberOfComponents();if(r<0||r>=a)return qr("GetScalarPointer: Scalar Component ".concat(r," is not within bounds. Current Scalar numberOfComponents: ").concat(a)),NaN;var i=t.getOffsetIndexFromWorld(n);return Number.isNaN(i)?i:t.getPointData().getScalars().getComponent(i,r)}}var c9={direction:null,indexToWorld:null,worldToIndex:null,spacing:[1,1,1],origin:[0,0,0],extent:[0,-1,0,-1,0,-1],dataDescription:dr.EMPTY};function cv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,c9,n),Xn.extend(t,e,n),e.direction?Array.isArray(e.direction)&&(e.direction=new Float64Array(e.direction.slice(0,9))):e.direction=kr(new Float64Array(9)),e.indexToWorld=new Float64Array(16),e.worldToIndex=new Float64Array(16),I.get(t,e,["direction","indexToWorld","worldToIndex"]),I.setGetArray(t,e,["origin","spacing"],3),I.getArray(t,e,["extent"],6),u9(t,e)}var f9=I.newInstance(cv,"vtkImageData"),yc={newInstance:f9,extend:cv},l9={MAGNITUDE:0,COMPONENT:1,RGBCOLORS:2},mu={LUMINANCE:1,LUMINANCE_ALPHA:2,RGB:3,RGBA:4},Fs={VectorMode:l9,ScalarMappingTarget:mu},h9={DEFAULT:0,MAP_SCALARS:1,DIRECT_SCALARS:2},p9={DEFAULT:0,USE_POINT_DATA:1,USE_CELL_DATA:2,USE_POINT_FIELD_DATA:3,USE_CELL_FIELD_DATA:4,USE_FIELD_DATA:5},v9={BY_ID:0,BY_NAME:1},gn={ColorMode:h9,GetArray:v9,ScalarMode:p9};function zf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function d9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var If=Fs.ScalarMappingTarget,Sr=Fs.VectorMode,ra=Ee.VtkDataTypes,Wf=gn.ColorMode,Hf=I.vtkErrorMacro;function g9(t){return t}function $f(t){return Math.floor(t*255+.5)}function y9(t,e){e.classHierarchy.push("vtkScalarsToColors"),t.setVectorModeToMagnitude=function(){return t.setVectorMode(Sr.MAGNITUDE)},t.setVectorModeToComponent=function(){return t.setVectorMode(Sr.COMPONENT)},t.setVectorModeToRGBColors=function(){return t.setVectorMode(Sr.RGBCOLORS)},t.build=function(){},t.isOpaque=function(){return!0},t.setAnnotations=function(n,r){if(!(n&&!r||!n&&r)){if(n&&r&&n.length!==r.length){Hf("Values and annotations do not have the same number of tuples so ignoring");return}if(e.annotationArray=[],r&&n)for(var a=r.length,i=0;i<a;i++)e.annotationArray.push({value:n[i],annotation:String(r[i])});t.updateAnnotatedValueMap(),t.modified()}},t.setAnnotation=function(n,r){var a=t.checkForAnnotatedValue(n),i=!1;return a>=0?e.annotationArray[a].annotation!==r&&(e.annotationArray[a].annotation=r,i=!0):(e.annotationArray.push({value:n,annotation:r}),a=e.annotationArray.length-1,i=!0),i&&(t.updateAnnotatedValueMap(),t.modified()),a},t.getNumberOfAnnotatedValues=function(){return e.annotationArray.length},t.getAnnotatedValue=function(n){return n<0||n>=e.annotationArray.length?null:e.annotationArray[n].value},t.getAnnotation=function(n){return e.annotationArray[n]===void 0?null:e.annotationArray[n].annotation},t.getAnnotatedValueIndex=function(n){return e.annotationArray.length?t.checkForAnnotatedValue(n):-1},t.removeAnnotation=function(n){var r=t.checkForAnnotatedValue(n),a=r>=0;return a&&(e.annotationArray.splice(r,1),t.updateAnnotatedValueMap(),t.modified()),a},t.resetAnnotations=function(){e.annotationArray=[],e.annotatedValueMap=[],t.modified()},t.getAnnotationColor=function(n,r){if(e.indexedLookup){var a=t.getAnnotatedValueIndex(n);t.getIndexedColor(a,r)}else t.getColor(parseFloat(n),r),r[3]=1},t.checkForAnnotatedValue=function(n){return t.getAnnotatedValueIndexInternal(n)},t.getAnnotatedValueIndexInternal=function(n){if(e.annotatedValueMap[n]!==void 0){var r=e.annotationArray.length;return e.annotatedValueMap[n]%r}return-1},t.getIndexedColor=function(n,r){r[0]=0,r[1]=0,r[2]=0,r[3]=0},t.updateAnnotatedValueMap=function(){e.annotatedValueMap=[];for(var n=e.annotationArray.length,r=0;r<n;r++)e.annotatedValueMap[e.annotationArray[r].value]=r},t.mapScalars=function(n,r,a){var i=n.getNumberOfComponents(),s=null;if(r===Wf.DEFAULT&&n.getDataType()===ra.UNSIGNED_CHAR||r===Wf.DIRECT_SCALARS&&n)s=t.convertToRGBA(n,i,n.getNumberOfTuples());else{var o={type:"vtkDataArray",name:"temp",numberOfComponents:4,dataType:ra.UNSIGNED_CHAR},c=I.newTypedArray(o.dataType,4*n.getNumberOfTuples());o.values=c,o.size=c.length,s=Ee.newInstance(o);var u=a;u<0&&i>1?t.mapVectorsThroughTable(n,s,If.RGBA,-1,-1):(u<0&&(u=0),u>=i&&(u=i-1),t.mapScalarsThroughTable(n,s,If.RGBA,u))}return s},t.mapVectorsToMagnitude=function(n,r,a){for(var i=n.getNumberOfTuples(),s=n.getNumberOfComponents(),o=r.getData(),c=n.getData(),u=0;u<i;u++){for(var l=0,f=0;f<a;f++)l+=c[u*s+f]*c[u*s+f];o[u]=Math.sqrt(l)}},t.mapVectorsThroughTable=function(n,r,a,i,s){var o=t.getVectorMode(),c=s,u=i,l=n.getNumberOfComponents();o===Sr.COMPONENT?(u===-1&&(u=t.getVectorComponent()),u<0&&(u=0),u>=l&&(u=l-1)):(c===-1&&(c=t.getVectorSize()),c<=0?(u=0,c=l):(u<0&&(u=0),u>=l&&(u=l-1),u+c>l&&(c=l-u)),o===Sr.MAGNITUDE&&(l===1||c===1)&&(o=Sr.COMPONENT));var f=0;switch(u>0&&(f=u),o){case Sr.COMPONENT:{t.mapScalarsThroughTable(n,r,a,f);break}case Sr.RGBCOLORS:break;case Sr.MAGNITUDE:default:{var h=Ee.newInstance({numberOfComponents:1,values:new Float32Array(n.getNumberOfTuples())});t.mapVectorsToMagnitude(n,h,c),t.mapScalarsThroughTable(h,r,a,0);break}}},t.luminanceToRGBA=function(n,r,a,i){for(var s=i(a),o=r.getData(),c=n.getData(),u=o.length,l=0,f=1,h=0,p=l;p<u;p+=f){var d=i(o[p]);c[h*4]=d,c[h*4+1]=d,c[h*4+2]=d,c[h*4+3]=s,h++}},t.luminanceAlphaToRGBA=function(n,r,a,i){for(var s=r.getData(),o=n.getData(),c=s.length,u=0,l=2,f=0,h=u;h<c;h+=l){var p=i(s[h]);o[f]=p,o[f+1]=p,o[f+2]=p,o[f+3]=i(s[h+1])*a,f+=4}},t.rGBToRGBA=function(n,r,a,i){for(var s=$f(a),o=r.getData(),c=n.getData(),u=o.length,l=0,f=3,h=0,p=l;p<u;p+=f)c[h*4]=i(o[p]),c[h*4+1]=i(o[p+1]),c[h*4+2]=i(o[p+2]),c[h*4+3]=s,h++},t.rGBAToRGBA=function(n,r,a,i){for(var s=r.getData(),o=n.getData(),c=s.length,u=0,l=4,f=0,h=u;h<c;h+=l)o[f*4]=i(s[h]),o[f*4+1]=i(s[h+1]),o[f*4+2]=i(s[h+2]),o[f*4+3]=i(s[h+3])*a,f++},t.convertToRGBA=function(n,r,a){var i=e.alpha;if(r===4&&i>=1&&n.getDataType()===ra.UNSIGNED_CHAR)return n;var s=Ee.newInstance({numberOfComponents:4,empty:!0,size:4*a,dataType:ra.UNSIGNED_CHAR});if(a<=0)return s;i=i>0?i:0,i=i<1?i:1;var o=g9;switch((n.getDataType()===ra.FLOAT||n.getDataType()===ra.DOUBLE)&&(o=$f),r){case 1:t.luminanceToRGBA(s,n,i,o);break;case 2:t.luminanceAlphaToRGBA(s,n,o);break;case 3:t.rGBToRGBA(s,n,i,o);break;case 4:t.rGBAToRGBA(s,n,i,o);break;default:return Hf("Cannot convert colors"),null}return s},t.usingLogScale=function(){return!1},t.getNumberOfAvailableColors=function(){return 256*256*256},t.setRange=function(n,r){return t.setMappingRange(n,r)},t.getRange=function(n,r){return t.getMappingRange()}}var m9={alpha:1,vectorComponent:0,vectorSize:-1,vectorMode:Sr.COMPONENT,mappingRange:null,annotationArray:null,annotatedValueMap:null,indexedLookup:!1};function fv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,m9,n),I.obj(t,e),e.mappingRange=[0,255],e.annotationArray=[],e.annotatedValueMap=[],I.setGet(t,e,["vectorSize","vectorComponent","vectorMode","alpha","indexedLookup"]),I.setArray(t,e,["mappingRange"],2),I.getArray(t,e,["mappingRange"]),y9(t,e)}var _9=I.newInstance(fv,"vtkScalarsToColors"),As=d9({newInstance:_9,extend:fv},Fs),Kf=I.vtkErrorMacro,Xf=0,qf=1,a0=2;function x9(t,e){e.classHierarchy.push("vtkLookupTable"),t.isOpaque=function(){if(e.opaqueFlagBuildTime.getMTime()<t.getMTime()){var n=!0;e.nanColor[3]<1&&(n=0),e.useBelowRangeColor&&e.belowRangeColor[3]<1&&(n=0),e.useAboveRangeColor&&e.aboveRangeColor[3]<1&&(n=0);for(var r=3;r<e.table.length&&n;r+=4)e.table[r]<255&&(n=!1);e.opaqueFlag=n,e.opaqueFlagBuildTime.modified()}return e.opaqueFlag},t.usingLogScale=function(){return!1},t.getNumberOfAvailableColors=function(){return e.table.length},t.linearIndexLookup=function(n,r){var a=0;return n<r.range[0]?a=r.maxIndex+Xf+1.5:n>r.range[1]?a=r.maxIndex+qf+1.5:(a=(n+r.shift)*r.scale,a=a<r.maxIndex?a:r.maxIndex),Math.floor(a)},t.linearLookup=function(n,r,a){var i=0;es(n)?i=Math.floor(a.maxIndex+1.5+a0):i=t.linearIndexLookup(n,a);var s=4*i;return[r[s],r[s+1],r[s+2],r[s+3]]},t.indexedLookupFunction=function(n,r,a){var i=t.getAnnotatedValueIndexInternal(n);i===-1&&(i=e.numberOfColors+a0);var s=4*i;return[r[s],r[s+1],r[s+2],r[s+3]]},t.lookupShiftAndScale=function(n,r){r.shift=-n[0],r.scale=Number.MAX_VALUE,n[1]>n[0]&&(r.scale=(r.maxIndex+1)/(n[1]-n[0]))},t.mapScalarsThroughTable=function(n,r,a,i){var s=t.linearLookup;e.indexedLookup&&(s=t.indexedLookupFunction);var o=t.getMappingRange(),c={maxIndex:t.getNumberOfColors()-1,range:o,shift:0,scale:0};t.lookupShiftAndScale(o,c);var u=t.getAlpha(),l=n.getNumberOfTuples(),f=n.getNumberOfComponents(),h=r.getData(),p=n.getData();if(u>=1){if(a===mu.RGBA)for(var d=0;d<l;d++){var y=s(p[d*f+i],e.table,c);h[d*4]=y[0],h[d*4+1]=y[1],h[d*4+2]=y[2],h[d*4+3]=y[3]}}else if(a===mu.RGBA)for(var m=0;m<l;m++){var _=s(p[m*f+i],e.table,c);h[m*4]=_[0],h[m*4+1]=_[1],h[m*4+2]=_[2],h[m*4+3]=Math.floor(_[3]*u+.5)}},t.forceBuild=function(){var n=0,r=0,a=0,i=0,s=e.numberOfColors-1;s&&(n=(e.hueRange[1]-e.hueRange[0])/s,r=(e.saturationRange[1]-e.saturationRange[0])/s,a=(e.valueRange[1]-e.valueRange[0])/s,i=(e.alphaRange[1]-e.alphaRange[0])/s);for(var o=[],c=[],u=0;u<=s;u++)o[0]=e.hueRange[0]+u*n,o[1]=e.saturationRange[0]+u*r,o[2]=e.valueRange[0]+u*a,ua(o,c),c[3]=e.alphaRange[0]+u*i,e.table[u*4]=c[0]*255+.5,e.table[u*4+1]=c[1]*255+.5,e.table[u*4+2]=c[2]*255+.5,e.table[u*4+3]=c[3]*255+.5;t.buildSpecialColors(),e.buildTime.modified()},t.setTable=function(n){if(n.getNumberOfComponents()!==4){Kf("Expected 4 components for RGBA colors");return}if(n.getDataType()!==pt.UNSIGNED_CHAR){Kf("Expected unsigned char values for RGBA colors");return}e.numberOfColors=n.getNumberOfTuples();for(var r=n.getData(),a=0;a<r.length;a++)e.table[a]=r[a];t.buildSpecialColors(),e.insertTime.modified(),t.modified()},t.buildSpecialColors=function(){var n=e.numberOfColors,r=e.table,a=(n+Xf)*4;e.useBelowRangeColor||n===0?(r[a]=e.belowRangeColor[0]*255+.5,r[a+1]=e.belowRangeColor[1]*255+.5,r[a+2]=e.belowRangeColor[2]*255+.5,r[a+3]=e.belowRangeColor[3]*255+.5):(r[a]=r[0],r[a+1]=r[1],r[a+2]=r[2],r[a+3]=r[3]),a=(n+qf)*4,e.useAboveRangeColor||n===0?(r[a]=e.aboveRangeColor[0]*255+.5,r[a+1]=e.aboveRangeColor[1]*255+.5,r[a+2]=e.aboveRangeColor[2]*255+.5,r[a+3]=e.aboveRangeColor[3]*255+.5):(r[a]=r[4*(n-1)+0],r[a+1]=r[4*(n-1)+1],r[a+2]=r[4*(n-1)+2],r[a+3]=r[4*(n-1)+3]),a=(n+a0)*4,r[a]=e.nanColor[0]*255+.5,r[a+1]=e.nanColor[1]*255+.5,r[a+2]=e.nanColor[2]*255+.5,r[a+3]=e.nanColor[3]*255+.5},t.build=function(){(e.table.length<1||t.getMTime()>e.buildTime.getMTime()&&e.insertTime.getMTime()<=e.buildTime.getMTime())&&t.forceBuild()},e.table.length>0&&e.insertTime.modified()}var w9={numberOfColors:256,hueRange:[0,.66667],saturationRange:[1,1],valueRange:[1,1],alphaRange:[1,1],nanColor:[.5,0,0,1],belowRangeColor:[0,0,0,1],aboveRangeColor:[1,1,1,1],useAboveRangeColor:!1,useBelowRangeColor:!1,alpha:1};function lv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,w9,n),As.extend(t,e,n),e.table||(e.table=[]),e.buildTime={},I.obj(e.buildTime),e.opaqueFlagBuildTime={},I.obj(e.opaqueFlagBuildTime,{mtime:0}),e.insertTime={},I.obj(e.insertTime,{mtime:0}),I.get(t,e,["buildTime"]),I.setGet(t,e,["numberOfColors","useAboveRangeColor","useBelowRangeColor"]),I.setArray(t,e,["alphaRange","hueRange","saturationRange","valueRange"],2),I.setArray(t,e,["nanColor","belowRangeColor","aboveRangeColor"],4),I.getArray(t,e,["hueRange","saturationRange","valueRange","alphaRange","nanColor","belowRangeColor","aboveRangeColor"]),x9(t,e)}var C9=I.newInstance(lv,"vtkLookupTable"),ri={newInstance:C9,extend:lv},hv=1,mc=0,S9=["VTK_RESOLVE_OFF","VTK_RESOLVE_POLYGON_OFFSET"];function T9(){return hv}function b9(t){hv=t}function E9(){return mc}function Bs(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;mc=t}function D9(){Bs(0)}function O9(){Bs(0)}function N9(){Bs(1)}function k9(){return S9[mc]}var _u={getResolveCoincidentTopologyAsString:k9,getResolveCoincidentTopologyPolygonOffsetFaces:T9,getResolveCoincidentTopology:E9,setResolveCoincidentTopology:Bs,setResolveCoincidentTopologyPolygonOffsetFaces:b9,setResolveCoincidentTopologyToDefault:D9,setResolveCoincidentTopologyToOff:O9,setResolveCoincidentTopologyToPolygonOffset:N9};function pv(t,e,n){n.forEach(function(r){t["get".concat(r.method)]=function(){return e[r.key]},t["set".concat(r.method)]=function(a,i){e[r.key]={factor:a,offset:i}}})}var _c=["Polygon","Line","Point"],M9={Polygon:{factor:2,offset:0},Line:{factor:1,offset:-1},Point:{factor:0,offset:-2}},Dn={};pv(Dn,M9,_c.map(function(t){return{key:t,method:"ResolveCoincidentTopology".concat(t,"OffsetParameters")}}));function R9(t,e){e.resolveCoincidentTopology===void 0&&(e.resolveCoincidentTopology=!1),I.setGet(t,e,["resolveCoincidentTopology"]),e.topologyOffset={Polygon:{factor:0,offset:0},Line:{factor:0,offset:0},Point:{factor:0,offset:0}},Object.keys(_u).forEach(function(n){t[n]=_u[n]}),Object.keys(Dn).forEach(function(n){t[n]=Dn[n]}),pv(t,e.topologyOffset,_c.map(function(n){return{key:n,method:"RelativeCoincidentTopology".concat(n,"OffsetParameters")}})),t.getCoincidentTopologyPolygonOffsetParameters=function(){var n=Dn.getResolveCoincidentTopologyPolygonOffsetParameters(),r=t.getRelativeCoincidentTopologyPolygonOffsetParameters();return{factor:n.factor+r.factor,offset:n.offset+r.offset}},t.getCoincidentTopologyLineOffsetParameters=function(){var n=Dn.getResolveCoincidentTopologyLineOffsetParameters(),r=t.getRelativeCoincidentTopologyLineOffsetParameters();return{factor:n.factor+r.factor,offset:n.offset+r.offset}},t.getCoincidentTopologyPointOffsetParameter=function(){var n=Dn.getResolveCoincidentTopologyPointOffsetParameters(),r=t.getRelativeCoincidentTopologyPointOffsetParameters();return{factor:n.factor+r.factor,offset:n.offset+r.offset}}}var Aa={implementCoincidentTopologyMethods:R9,staticOffsetAPI:Dn,otherStaticMethods:_u,CATEGORIES:_c},zt={MIN_KNOWN_PASS:0,ACTOR_PASS:0,COMPOSITE_INDEX_PASS:1,ID_LOW24:2,ID_HIGH24:3,MAX_KNOWN_PASS:3},vv={PassTypes:zt};function Yf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function i0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Zf=Xn.FieldAssociations,L9=Aa.staticOffsetAPI,F9=Aa.otherStaticMethods,o0=gn.ColorMode,mn=gn.ScalarMode,s0=gn.GetArray,A9=Fs.VectorMode,B9=Ee.VtkDataTypes;function za(t){return function(){return I.vtkErrorMacro("vtkMapper::".concat(t," - NOT IMPLEMENTED"))}}function V9(t,e){e.classHierarchy.push("vtkMapper"),t.getBounds=function(){var n=t.getInputData();return n?(e.static||t.update(),e.bounds=n.getBounds()):e.bounds=Ta(),e.bounds},t.setForceCompileOnly=function(n){e.forceCompileOnly=n},t.createDefaultLookupTable=function(){e.lookupTable=ri.newInstance()},t.getColorModeAsString=function(){return I.enumToString(o0,e.colorMode)},t.setColorModeToDefault=function(){return t.setColorMode(0)},t.setColorModeToMapScalars=function(){return t.setColorMode(1)},t.setColorModeToDirectScalars=function(){return t.setColorMode(2)},t.getScalarModeAsString=function(){return I.enumToString(mn,e.scalarMode)},t.setScalarModeToDefault=function(){return t.setScalarMode(0)},t.setScalarModeToUsePointData=function(){return t.setScalarMode(1)},t.setScalarModeToUseCellData=function(){return t.setScalarMode(2)},t.setScalarModeToUsePointFieldData=function(){return t.setScalarMode(3)},t.setScalarModeToUseCellFieldData=function(){return t.setScalarMode(4)},t.setScalarModeToUseFieldData=function(){return t.setScalarMode(5)},t.getAbstractScalars=function(n,r,a,i,s){if(!n||!e.scalarVisibility)return{scalars:null,cellFLag:!1};var o=null,c=!1;if(r===mn.DEFAULT)o=n.getPointData().getScalars(),o||(o=n.getCellData().getScalars(),c=!0);else if(r===mn.USE_POINT_DATA)o=n.getPointData().getScalars();else if(r===mn.USE_CELL_DATA)o=n.getCellData().getScalars(),c=!0;else if(r===mn.USE_POINT_FIELD_DATA){var u=n.getPointData();a===s0.BY_ID?o=u.getArrayByIndex(i):o=u.getArrayByName(s)}else if(r===mn.USE_CELL_FIELD_DATA){var l=n.getCellData();c=!0,a===s0.BY_ID?o=l.getArrayByIndex(i):o=l.getArrayByName(s)}else if(r===mn.USE_FIELD_DATA){var f=n.getFieldData();a===s0.BY_ID?o=f.getArrayByIndex(i):o=f.getArrayByName(s)}return{scalars:o,cellFlag:c}},t.mapScalars=function(n,r){var a=t.getAbstractScalars(n,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName).scalars;if(!a){e.colorCoordinates=null,e.colorTextureMap=null,e.colorMapColors=null;return}var i="".concat(t.getMTime()).concat(a.getMTime()).concat(r);if(e.colorBuildString!==i){if(e.useLookupTableScalarRange||t.getLookupTable().setRange(e.scalarRange[0],e.scalarRange[1]),t.canUseTextureMapForColoring(n))t.mapScalarsToTexture(a,r);else{e.colorCoordinates=null,e.colorTextureMap=null;var s=t.getLookupTable();s&&(s.build(),e.colorMapColors=s.mapScalars(a,e.colorMode,e.fieldDataTupleId))}e.colorBuildString="".concat(t.getMTime()).concat(a.getMTime()).concat(r)}},t.scalarToTextureCoordinate=function(n,r,a){var i=.5,s=1;return es(n)||(s=.49,i=(n-r)*a,i>1e3?i=1e3:i<-1e3&&(i=-1e3)),{texCoordS:i,texCoordT:s}},t.createColorTextureCoordinates=function(n,r,a,i,s,o,c,u,l){var f=(o[1]-o[0])/u,h=[];h[0]=o[0]-f,h[1]=o[1]+f;var p=1/(h[1]-h[0]),d=r.getData(),y=n.getData(),m=0,_=0;if(s<0||s>=i)for(var v=0;v<a;++v){for(var g=0,x=0;x<i;++x)g+=y[m]*y[m],m++;var w=Math.sqrt(g);l&&(w=ri.applyLogScale(w,c,o));var C=t.scalarToTextureCoordinate(w,h[0],p);d[_]=C.texCoordS,d[_+1]=C.texCoordT,_+=2}else{m+=s;for(var S=0;S<a;++S){var T=y[m];l&&(T=ri.applyLogScale(T,c,o));var b=t.scalarToTextureCoordinate(T,h[0],p);d[_]=b.texCoordS,d[_+1]=b.texCoordT,_+=2,m+=i}}},t.mapScalarsToTexture=function(n,r){var a=e.lookupTable.getRange(),i=e.lookupTable.usingLogScale();i&&ri.getLogRange(a,a);var s=e.lookupTable.getAlpha();if(e.colorMapColors=null,e.colorTextureMap==null||t.getMTime()>e.colorTextureMap.getMTime()||e.lookupTable.getMTime()>e.colorTextureMap.getMTime()||e.lookupTable.getAlpha()!==r){e.lookupTable.setAlpha(r),e.colorTextureMap=null,e.lookupTable.build();var o=e.lookupTable.getNumberOfAvailableColors();o>4094&&(o=4094),o+=2;for(var c=(a[1]-a[0])/(o-1-2),u=new Float64Array(o*2),l=0;l<o;++l)u[l]=a[0]+l*c-c,i&&(u[l]=Math.pow(10,u[l]));for(var f=0;f<o;++f)u[f+o]=NaN;e.colorTextureMap=yc.newInstance(),e.colorTextureMap.setExtent(0,o-1,0,1,0,0);var h=Ee.newInstance({numberOfComponents:1,values:u});e.colorTextureMap.getPointData().setScalars(e.lookupTable.mapScalars(h,e.colorMode,0)),e.lookupTable.setAlpha(s)}if(!e.colorCoordinates||t.getMTime()>e.colorCoordinates.getMTime()||t.getInputData(0).getMTime()>e.colorCoordinates.getMTime()||e.lookupTable.getMTime()>e.colorCoordinates.getMTime()){e.colorCoordinates=null;var p=n.getNumberOfComponents(),d=n.getNumberOfTuples();e.colorCoordinates=Ee.newInstance({numberOfComponents:2,values:new Float32Array(d*2)});var y=e.lookupTable.getVectorComponent();e.lookupTable.getVectorMode()===A9.MAGNITUDE&&n.getNumberOfComponents()>1&&(y=-1),t.createColorTextureCoordinates(n,e.colorCoordinates,d,p,y,a,e.lookupTable.getRange(),e.colorTextureMap.getPointData().getScalars().getNumberOfTuples()/2-2,i)}},t.getIsOpaque=function(){var n=t.getLookupTable();return n?(n.build(),n.isOpaque()):!0},t.canUseTextureMapForColoring=function(n){if(!e.interpolateScalarsBeforeMapping||e.lookupTable&&e.lookupTable.getIndexedLookup())return!1;var r=t.getAbstractScalars(n,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName),a=r.scalars;return!(!a||r.cellFlag||e.colorMode===o0.DEFAULT&&a.getDataType()===B9.UNSIGNED_CHAR||e.colorMode===o0.DIRECT_SCALARS)},t.clearColorArrays=function(){e.colorMapColors=null,e.colorCoordinates=null,e.colorTextureMap=null},t.getLookupTable=function(){return e.lookupTable||t.createDefaultLookupTable(),e.lookupTable},t.getMTime=function(){var n=e.mtime;if(e.lookupTable!==null){var r=e.lookupTable.getMTime();n=r>n?r:n}return n},t.getPrimitiveCount=function(){var n=t.getInputData(),r={points:n.getPoints().getNumberOfValues()/3,verts:n.getVerts().getNumberOfValues()-n.getVerts().getNumberOfCells(),lines:n.getLines().getNumberOfValues()-2*n.getLines().getNumberOfCells(),triangles:n.getPolys().getNumberOfValues()-3*n.getPolys().getNumberOfCells()};return r},t.acquireInvertibleLookupTable=za("AcquireInvertibleLookupTable"),t.valueToColor=za("ValueToColor"),t.colorToValue=za("ColorToValue"),t.useInvertibleColorFor=za("UseInvertibleColorFor"),t.clearInvertibleColor=za("ClearInvertibleColor"),t.processSelectorPixelBuffers=function(n,r){if(!(!n||!e.selectionWebGLIdsToVTKIds||!e.populateSelectionSettings)){var a=n.getRawPixelBuffer(zt.ID_LOW24),i=n.getRawPixelBuffer(zt.ID_HIGH24),s=n.getCurrentPass(),o=n.getFieldAssociation(),c=null;o===Zf.FIELD_ASSOCIATION_POINTS?c=e.selectionWebGLIdsToVTKIds.points:o===Zf.FIELD_ASSOCIATION_CELLS&&(c=e.selectionWebGLIdsToVTKIds.cells),!!c&&r.forEach(function(u){if(s===zt.ID_LOW24){var l=0;i&&(l+=i[u],l*=256),l+=a[u+2],l*=256,l+=a[u+1],l*=256,l+=a[u];var f=c[l],h=n.getPixelBuffer(zt.ID_LOW24);h[u]=f&255,h[u+1]=(f&65280)>>8,h[u+2]=(f&16711680)>>16}else if(s===zt.ID_HIGH24&&i){var p=0;p+=i[u],p*=256,p+=a[u],p*=256,p+=a[u+1],p*=256,p+=a[u+2];var d=c[p],y=n.getPixelBuffer(zt.ID_HIGH24);y[u]=(d&4278190080)>>24}})}}}var U9={colorMapColors:null,static:!1,lookupTable:null,scalarVisibility:!0,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,fieldDataTupleId:-1,populateSelectionSettings:!0,selectionWebGLIdsToVTKIds:null,interpolateScalarsBeforeMapping:!1,colorCoordinates:null,colorTextureMap:null,forceCompileOnly:0,useInvertibleColors:!1,invertibleScalars:null,viewSpecificProperties:null,customShaderAttributes:[]};function dv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,U9,n),P8.extend(t,e,n),I.get(t,e,["colorCoordinates","colorMapColors","colorTextureMap"]),I.setGet(t,e,["colorByArrayName","arrayAccessMode","colorMode","fieldDataTupleId","interpolateScalarsBeforeMapping","lookupTable","populateSelectionSettings","renderTime","scalarMode","scalarVisibility","selectionWebGLIdsToVTKIds","static","useLookupTableScalarRange","viewSpecificProperties","customShaderAttributes"]),I.setGetArray(t,e,["scalarRange"],2),e.viewSpecificProperties||(e.viewSpecificProperties={}),Aa.implementCoincidentTopologyMethods(t,e),V9(t,e)}var G9=I.newInstance(dv,"vtkMapper"),hn=i0(i0(i0({newInstance:G9,extend:dv},L9),F9),gn);function Jf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function gv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yv(t){var e=0;return t.filter(function(n,r){return r===e?(e+=n+1,!0):!1})}function mv(t){for(var e=0,n=0;n<t.length;)n+=t[n]+1,e++;return e}var P9={extractCellSizes:yv,getNumberOfCells:mv};function j9(t,e){e.classHierarchy.push("vtkCellArray"),t.getNumberOfCells=function(r){return e.numberOfCells!==void 0&&!r||(e.cellSizes?e.numberOfCells=e.cellSizes.length:e.numberOfCells=mv(e.values)),e.numberOfCells},t.getCellSizes=function(r){return e.cellSizes!==void 0&&!r||(e.cellSizes=yv(e.values)),e.cellSizes};var n=t.setData;t.setData=function(r){n(r,1),e.numberOfCells=void 0,e.cellSizes=void 0},t.getCell=function(r){var a=r,i=e.values[a++];return e.values.subarray(a,a+i)}}function z9(t){return gv({empty:!0,numberOfComponents:1,dataType:pt.UNSIGNED_INT},t)}function _v(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Ee.extend(t,e,z9(n)),j9(t,e)}var I9=I.newInstance(_v,"vtkCellArray"),cs=gv({newInstance:I9,extend:_v},P9),W9=I.vtkErrorMacro,H9=[1,-1,1,-1,1,-1];function $9(t,e){e.classHierarchy.push("vtkPoints"),t.getNumberOfPoints=t.getNumberOfTuples,t.setNumberOfPoints=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;t.getNumberOfPoints()!==n&&(e.size=n*r,e.values=I.newTypedArray(e.dataType,e.size),t.setNumberOfComponents(r),t.modified())},t.setPoint=function(n){for(var r=n*e.numberOfComponents,a=0;a<e.numberOfComponents;a++)e.values[r+a]=a+1<1||arguments.length<=a+1?void 0:arguments[a+1]},t.getPoint=t.getTuple,t.getBounds=function(){if(t.getNumberOfComponents()===3){var n=t.getRange(0);e.bounds[0]=n[0],e.bounds[1]=n[1];var r=t.getRange(1);e.bounds[2]=r[0],e.bounds[3]=r[1];var a=t.getRange(2);return e.bounds[4]=a[0],e.bounds[5]=a[1],e.bounds}if(t.getNumberOfComponents()!==2)return W9(`getBounds called on an array with components of
        `.concat(t.getNumberOfComponents())),H9;var i=t.getRange(0);e.bounds[0]=i[0],e.bounds[1]=i[1];var s=t.getRange(1);return e.bounds[2]=s[0],e.bounds[3]=s[1],e.bounds[4]=0,e.bounds[5]=0,e.bounds},t.computeBounds=t.getBounds,t.setNumberOfComponents(e.numberOfComponents<2?3:e.numberOfComponents)}var K9={empty:!0,numberOfComponents:3,dataType:pt.FLOAT,bounds:[1,-1,1,-1,1,-1]};function xv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,K9,n),Ee.extend(t,e,n),$9(t,e)}var X9=I.newInstance(xv,"vtkPoints"),pn={newInstance:X9,extend:xv};function q9(t,e){e.classHierarchy.push("vtkCell"),t.initialize=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(r){e.pointsIds=r;var i=e.points.getData();i.length!==3*e.pointsIds.length&&(i=I.newTypedArray(n.getDataType(),3*e.pointsIds.length));var s=n.getData();e.pointsIds.forEach(function(o,c){var u=3*o,l=3*c;i[l]=s[u],i[++l]=s[++u],i[++l]=s[++u]}),e.points.setData(i)}else{e.points=n,e.pointsIds=new Array(n.getNumberOfPoints());for(var a=n.getNumberOfPoints()-1;a>=0;--a)e.pointsIds[a]=a}},t.getBounds=function(){var n=e.points.getNumberOfPoints(),r=[];if(n){e.points.getPoint(0,r),e.bounds[0]=r[0],e.bounds[1]=r[0],e.bounds[2]=r[1],e.bounds[3]=r[1],e.bounds[4]=r[2],e.bounds[5]=r[2];for(var a=1;a<n;a++)e.points.getPoint(a,r),e.bounds[0]=r[0]<e.bounds[0]?r[0]:e.bounds[0],e.bounds[1]=r[0]>e.bounds[1]?r[0]:e.bounds[1],e.bounds[2]=r[1]<e.bounds[2]?r[1]:e.bounds[2],e.bounds[3]=r[1]>e.bounds[3]?r[1]:e.bounds[3],e.bounds[4]=r[2]<e.bounds[4]?r[2]:e.bounds[4],e.bounds[5]=r[2]>e.bounds[5]?r[2]:e.bounds[5]}else Fa(e.bounds);return e.bounds},t.getLength2=function(){t.getBounds();for(var n=0,r=0,a=0;a<3;a++)r=e.bounds[2*a+1]-e.bounds[2*a],n+=r*r;return n},t.getParametricDistance=function(n){for(var r,a=0,i=0;i<3;i++)n[i]<0?r=-n[i]:n[i]>1?r=n[i]-1:r=0,r>a&&(a=r);return a},t.getNumberOfPoints=function(){return e.points.getNumberOfPoints()},t.deepCopy=function(n){n.initialize(e.points,e.pointsIds)},t.getCellDimension=function(){},t.intersectWithLine=function(n,r,a,i,s,o,c){},t.evaluatePosition=function(n,r,a,i,s,o){I.vtkErrorMacro("vtkCell.evaluatePosition is not implemented.")}}var Y9={bounds:[-1,-1,-1,-1,-1,-1],pointsIds:[]};function wv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Y9,n),I.obj(t,e),e.points||(e.points=pn.newInstance()),I.get(t,e,["points","pointsIds"]),q9(t,e)}var Z9=I.newInstance(wv,"vtkCell"),fs={newInstance:Z9,extend:wv};function J9(t,e){var n=e;for(e>=t.array.length&&(n+=t.array.length);n>t.array.length;)t.array.push({ncells:0,cells:null});t.array.length=n}function Q9(t,e){e.classHierarchy.push("vtkCellLinks"),t.buildLinks=function(n){var r=n.getPoints().getNumberOfPoints(),a=n.getNumberOfCells(),i=new Uint32Array(r);if(n.isA("vtkPolyData")){for(var s=0;s<a;++s){var o=n.getCellPoints(s),c=o.cellPointIds;c.forEach(function(y){t.incrementLinkCount(y)})}t.allocateLinks(r),e.maxId=r-1;for(var u=function(m){var _=n.getCellPoints(m),v=_.cellPointIds;v.forEach(function(g){t.insertCellReference(g,i[g]++,m)})},l=0;l<a;++l)u(l)}else{for(var f=0;f<a;f++){var h=fs.newInstance();h.getPointsIds().forEach(function(y){t.incrementLinkCount(y)})}t.allocateLinks(r),e.maxId=r-1;for(var p=function(m){var _=fs.newInstance();_.getPointsIds().forEach(function(v){t.insertCellReference(v,i[v]++,m)})},d=0;d<a;++d)p(d)}},t.allocate=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;e.array=Array(n).fill().map(function(){return{ncells:0,cells:null}}),e.extend=r,e.maxId=-1},t.initialize=function(){e.array=null},t.getLink=function(n){return e.array[n]},t.getNcells=function(n){return e.array[n].ncells},t.getCells=function(n){return e.array[n].cells},t.insertNextPoint=function(n){e.array.push({ncells:n,cells:Array(n)}),++e.maxId},t.insertNextCellReference=function(n,r){e.array[n].cells[e.array[n].ncells++]=r},t.deletePoint=function(n){e.array[n].ncells=0,e.array[n].cells=null},t.removeCellReference=function(n,r){e.array[r].cells=e.array[r].cells.filter(function(a){return a!==n}),e.array[r].ncells=e.array[r].cells.length},t.addCellReference=function(n,r){e.array[r].cells[e.array[r].ncells++]=n},t.resizeCellList=function(n,r){e.array[n].cells.length=r},t.squeeze=function(){J9(e,e.maxId+1)},t.reset=function(){e.maxId=-1},t.deepCopy=function(n){e.array=we(n.array),e.extend=n.extend,e.maxId=n.maxId},t.incrementLinkCount=function(n){++e.array[n].ncells},t.allocateLinks=function(n){for(var r=0;r<n;++r)e.array[r].cells=new Array(e.array[r].ncells)},t.insertCellReference=function(n,r,a){e.array[n].cells[r]=a}}var e6={array:null,maxId:0,extend:0};function Cv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,e6,n),I.obj(t,e),Q9(t,e)}var t6=I.newInstance(Cv,"vtkCellLinks"),r6={newInstance:t6,extend:Cv},tt={VTK_EMPTY_CELL:0,VTK_VERTEX:1,VTK_POLY_VERTEX:2,VTK_LINE:3,VTK_POLY_LINE:4,VTK_TRIANGLE:5,VTK_TRIANGLE_STRIP:6,VTK_POLYGON:7,VTK_PIXEL:8,VTK_QUAD:9,VTK_TETRA:10,VTK_VOXEL:11,VTK_HEXAHEDRON:12,VTK_WEDGE:13,VTK_PYRAMID:14,VTK_PENTAGONAL_PRISM:15,VTK_HEXAGONAL_PRISM:16,VTK_QUADRATIC_EDGE:21,VTK_QUADRATIC_TRIANGLE:22,VTK_QUADRATIC_QUAD:23,VTK_QUADRATIC_POLYGON:36,VTK_QUADRATIC_TETRA:24,VTK_QUADRATIC_HEXAHEDRON:25,VTK_QUADRATIC_WEDGE:26,VTK_QUADRATIC_PYRAMID:27,VTK_BIQUADRATIC_QUAD:28,VTK_TRIQUADRATIC_HEXAHEDRON:29,VTK_QUADRATIC_LINEAR_QUAD:30,VTK_QUADRATIC_LINEAR_WEDGE:31,VTK_BIQUADRATIC_QUADRATIC_WEDGE:32,VTK_BIQUADRATIC_QUADRATIC_HEXAHEDRON:33,VTK_BIQUADRATIC_TRIANGLE:34,VTK_CUBIC_LINE:35,VTK_CONVEX_POINT_SET:41,VTK_POLYHEDRON:42,VTK_PARAMETRIC_CURVE:51,VTK_PARAMETRIC_SURFACE:52,VTK_PARAMETRIC_TRI_SURFACE:53,VTK_PARAMETRIC_QUAD_SURFACE:54,VTK_PARAMETRIC_TETRA_REGION:55,VTK_PARAMETRIC_HEX_REGION:56,VTK_HIGHER_ORDER_EDGE:60,VTK_HIGHER_ORDER_TRIANGLE:61,VTK_HIGHER_ORDER_QUAD:62,VTK_HIGHER_ORDER_POLYGON:63,VTK_HIGHER_ORDER_TETRAHEDRON:64,VTK_HIGHER_ORDER_WEDGE:65,VTK_HIGHER_ORDER_PYRAMID:66,VTK_HIGHER_ORDER_HEXAHEDRON:67,VTK_LAGRANGE_CURVE:68,VTK_LAGRANGE_TRIANGLE:69,VTK_LAGRANGE_QUADRILATERAL:70,VTK_LAGRANGE_TETRAHEDRON:71,VTK_LAGRANGE_HEXAHEDRON:72,VTK_LAGRANGE_WEDGE:73,VTK_LAGRANGE_PYRAMID:74,VTK_NUMBER_OF_CELL_TYPES:75},xu=["vtkEmptyCell","vtkVertex","vtkPolyVertex","vtkLine","vtkPolyLine","vtkTriangle","vtkTriangleStrip","vtkPolygon","vtkPixel","vtkQuad","vtkTetra","vtkVoxel","vtkHexahedron","vtkWedge","vtkPyramid","vtkPentagonalPrism","vtkHexagonalPrism","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkQuadraticEdge","vtkQuadraticTriangle","vtkQuadraticQuad","vtkQuadraticTetra","vtkQuadraticHexahedron","vtkQuadraticWedge","vtkQuadraticPyramid","vtkBiQuadraticQuad","vtkTriQuadraticHexahedron","vtkQuadraticLinearQuad","vtkQuadraticLinearWedge","vtkBiQuadraticQuadraticWedge","vtkBiQuadraticQuadraticHexahedron","vtkBiQuadraticTriangle","vtkCubicLine","vtkQuadraticPolygon","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkConvexPointSet","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkParametricCurve","vtkParametricSurface","vtkParametricTriSurface","vtkParametricQuadSurface","vtkParametricTetraRegion","vtkParametricHexRegion","UnknownClass","UnknownClass","UnknownClass","vtkHigherOrderEdge","vtkHigherOrderTriangle","vtkHigherOrderQuad","vtkHigherOrderPolygon","vtkHigherOrderTetrahedron","vtkHigherOrderWedge","vtkHigherOrderPyramid","vtkHigherOrderHexahedron"];function Qf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function n6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qf(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a6(t){return t<xu.length?xu[t]:"UnknownClass"}function i6(t){return xu.findIndex(t)}function o6(t){return t<tt.VTK_QUADRATIC_EDGE||t===tt.VTK_CONVEX_POINT_SET||t===tt.VTK_POLYHEDRON}function s6(t){return t===tt.VTK_TRIANGLE_STRIP||t===tt.VTK_POLY_LINE||t===tt.VTK_POLY_VERTEX}var u6={getClassNameFromTypeId:a6,getTypeIdFromClassName:i6,isLinear:o6,hasSubCells:s6};function c6(t,e){e.classHierarchy.push("vtkCellTypes"),t.allocate=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:512,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;e.size=n>0?n:1,e.extend=r>0?r:1,e.maxId=-1,e.typeArray=new Uint8Array(n),e.locationArray=new Uint32Array(n)},t.insertCell=function(n,r,a){e.typeArray[n]=r,e.locationArray[n]=a,n>e.maxId&&(e.maxId=n)},t.insertNextCell=function(n,r){return t.insertCell(++e.maxId,n,r),e.maxId},t.setCellTypes=function(n,r,a){e.size=n,e.typeArray=r,e.locationArray=a,e.maxId=n-1},t.getCellLocation=function(n){return e.locationArray[n]},t.deleteCell=function(n){e.typeArray[n]=tt.VTK_EMPTY_CELL},t.getNumberOfTypes=function(){return e.maxId+1},t.isType=function(n){for(var r=t.getNumberOfTypes(),a=0;a<r;++a)if(n===t.getCellType(a))return!0;return!1},t.insertNextType=function(n){return t.insertNextCell(n,-1)},t.getCellType=function(n){return e.typeArray[n]},t.reset=function(){e.maxId=-1},t.deepCopy=function(n){t.allocate(n.getSize(),n.getExtend()),e.typeArray.set(n.getTypeArray()),e.locationArray.set(n.getLocationArray()),e.maxId=n.getMaxId()}}var f6={size:0,maxId:-1,extend:1e3};function Sv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,f6,n),I.obj(t,e),I.get(t,e,["size","maxId","extend"]),I.getArray(t,e,["typeArray","locationArray"]),c6(t,e)}var l6=I.newInstance(Sv,"vtkCellTypes"),h6=n6({newInstance:l6,extend:Sv},u6),p6={NO_INTERSECTION:0,YES_INTERSECTION:1,ON_LINE:2},Tv={IntersectionState:p6};function el(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?el(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Io=Tv.IntersectionState;function ga(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a={t:Number.MIN_VALUE,distance:0},i=[],s;i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2];var o=i[0]*(t[0]-e[0])+i[1]*(t[1]-e[1])+i[2]*(t[2]-e[2]),c=Be(i,i),u=1e-5*o;return c!==0&&(a.t=o/c),u<0&&(u=-u),-u<c&&c<u||c<=0||a.t<0?s=e:a.t>1?s=n:(s=i,i[0]=e[0]+a.t*i[0],i[1]=e[1]+a.t*i[1],i[2]=e[2]+a.t*i[2]),r&&(r[0]=s[0],r[1]=s[1],r[2]=s[2]),a.distance=nr(s,t),a}function bv(t,e,n,r,a,i){var s=[],o=[],c=[];a[0]=0,i[0]=0,Ct(e,t,s),Ct(r,n,o),Ct(n,t,c);var u=[];u[0]=[Be(s,s),-Be(s,o)],u[1]=[u[0][1],Be(o,o)];var l=[];if(l[0]=Be(s,c),l[1]=-Be(o,c),M5(u,l,2)===0){for(var f=Number.MAX_VALUE,h=[t,e,n,r],p=[n,n,t,t],d=[r,r,e,e],y=[i[0],i[0],a[0],a[0]],m=[a[0],a[0],i[0],i[0]],_,v=0;v<4;v++)_=ga(h[v],p[v],d[v]),_.distance<f&&(f=_.distance,y[v]=_.t,m[v]=v%2);return Io.ON_LINE}return a[0]=l[0],i[0]=l[1],a[0]>=0&&a[0]<=1&&i[0]>=0&&i[0]<=1?Io.YES_INTERSECTION:Io.NO_INTERSECTION}var v6={distanceToLine:ga,intersection:bv};function d6(t,e){e.classHierarchy.push("vtkLine");function n(r){return r>=0&&r<=1}t.getCellDimension=function(){return 1},t.intersectWithLine=function(r,a,i,s,o){var c={intersect:0,t:Number.MAX_VALUE,subId:0,betweenPoints:null};o[1]=0,o[2]=0;var u=[],l=[],f=[];e.points.getPoint(0,l),e.points.getPoint(1,f);var h=[],p=[],d=bv(r,a,l,f,h,p);if(c.t=h[0],c.betweenPoints=n(c.t),o[0]=p[0],d===Io.YES_INTERSECTION){for(var y=0;y<3;y++)s[y]=l[y]+o[0]*(f[y]-l[y]),u[y]=r[y]+c.t*(a[y]-r[y]);if(nr(s,u)<=i*i)return c.intersect=1,c}else{var m;if(c.t<0)return m=ga(r,l,f,s),m.distance<=i*i&&(c.t=0,c.intersect=1,c.betweenPoints=!0),c;if(c.t>1)return m=ga(a,l,f,s),m.distance<=i*i&&(c.t=1,c.intersect=1,c.betweenPoints=!0),c;if(o[0]<0)return o[0]=0,m=ga(l,r,a,s),c.t=m.t,m.distance<=i*i&&(c.intersect=1),c;if(o[0]>1)return o[0]=1,m=ga(f,r,a,s),c.t=m.t,m.distance<=i*i&&(c.intersect=1),c}return c},t.evaluateLocation=function(r,a,i){var s=[],o=[];e.points.getPoint(0,s),e.points.getPoint(1,o);for(var c=0;c<3;c++)a[c]=s[c]+r[0]*(o[c]-s[c]);i[0]=1-r[0],i[1]=r[0]}}var g6={};function Ev(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,g6,n),fs.extend(t,e,n),d6(t,e)}var y6=I.newInstance(Ev,"vtkLine"),rr=tl(tl({newInstance:y6,extend:Ev},v6),Tv);function m6(t,e){e.classHierarchy.push("vtkPointSet"),e.points?e.points=Ot(e.points):e.points=pn.newInstance(),t.getNumberOfPoints=function(){return e.points.getNumberOfPoints()},t.getBounds=function(){return e.points.getBounds()},t.computeBounds=function(){t.getBounds()};var n=t.shallowCopy;t.shallowCopy=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n(r,a),e.points=pn.newInstance(),e.points.shallowCopy(r.getPoints())}}var _6={};function Dv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,_6,n),Xn.extend(t,e,n),I.setGet(t,e,["points"]),m6(t,e)}var x6=I.newInstance(Dv,"vtkPointSet"),w6={newInstance:x6,extend:Dv};function rl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function C6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rl(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xc(t,e,n,r){var a=n[0]-e[0],i=n[1]-e[1],s=n[2]-e[2],o=t[0]-e[0],c=t[1]-e[1],u=t[2]-e[2];r[0]=i*u-s*c,r[1]=s*o-a*u,r[2]=a*c-i*o}function ls(t,e,n,r){xc(t,e,n,r);var a=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);a!==0&&(r[0]/=a,r[1]/=a,r[2]/=a)}function S6(t,e,n,r,a,i){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1e-6,o=!1,c=[],u=[],l=[],f=[],h=[];ls(t,e,n,f),ls(r,a,i,h);var p=-Be(f,t),d=-Be(h,r),y=[Be(h,t)+d,Be(h,e)+d,Be(h,n)+d];if(y[0]*y[1]>s&&y[0]*y[2]>s)return{intersect:!1,coplanar:o,pt1:c,pt2:u,surfaceId:l};var m=[Be(f,r)+p,Be(f,a)+p,Be(f,i)+p];if(m[0]*m[1]>s&&m[0]*m[2]>s)return{intersect:!1,coplanar:o,pt1:c,pt2:u,surfaceId:l};if(Math.abs(f[0]-h[0])<1e-9&&Math.abs(f[1]-h[1])<1e-9&&Math.abs(f[2]-h[2])<1e-9&&Math.abs(p-d)<1e-9)return o=!0,{intersect:!1,coplanar:o,pt1:c,pt2:u,surfaceId:l};var _=[t,e,n],v=[r,a,i],g=Be(f,h),x=(p-d*g)/(g*g-1),w=(d-p*g)/(g*g-1),C=[x*f[0]+w*h[0],x*f[1]+w*h[1],x*f[2]+w*h[2]],S=Lt(f,h,[]);lt(S);for(var T=0,b=0,O=[],D=[],N=50,R=50,E=0;E<3;E++){var A=E,W=(E+1)%3,z=zn.intersectWithLine(_[A],_[W],r,h);z.intersection&&z.t>0-s&&z.t<1+s&&(z.t<1+s&&z.t>1-s&&(N=T),O[T++]=Be(z.x,S)-Be(C,S));var F=zn.intersectWithLine(v[A],v[W],t,f);F.intersection&&F.t>0-s&&F.t<1+s&&(F.t<1+s&&F.t>1-s&&(R=b),D[b++]=Be(F.x,S)-Be(C,S))}if(T>2){T--;var L=O[2];O[2]=O[N],O[N]=L}if(b>2){b--;var G=D[2];D[2]=D[R],D[R]=G}if(T!==2||b!==2)return{intersect:!1,coplanar:o,pt1:c,pt2:u,surfaceId:l};if(Number.isNaN(O[0])||Number.isNaN(O[1])||Number.isNaN(D[0])||Number.isNaN(D[1]))return{intersect:!1,coplanar:o,pt1:c,pt2:u,surfaceId:l};if(O[0]>O[1]){var H=O[1];O[1]=O[0],O[0]=H}if(D[0]>D[1]){var $=D[1];D[1]=D[0],D[0]=$}var J,Q;return O[1]<D[0]||D[1]<O[0]?{intersect:!1,coplanar:o,pt1:c,pt2:u,surfaceId:l}:(O[0]<D[0]?O[1]<D[1]?(l[0]=2,l[1]=1,J=D[0],Q=O[1]):(l[0]=2,l[1]=2,J=D[0],Q=D[1]):O[1]<D[1]?(l[0]=1,l[1]=1,J=O[0],Q=O[1]):(l[0]=1,l[1]=2,J=O[0],Q=D[1]),af(C,S,J,c),af(C,S,Q,u),{intersect:!0,coplanar:o,pt1:c,pt2:u,surfaceId:l})}var T6={computeNormalDirection:xc,computeNormal:ls,intersectWithTriangle:S6};function b6(t,e){e.classHierarchy.push("vtkTriangle"),t.getCellDimension=function(){return 2},t.intersectWithLine=function(n,r,a,i,s){var o={subId:0,t:Number.MAX_VALUE,intersect:0,betweenPoints:!1};s[2]=0;var c=[],u=a*a,l=[],f=[],h=[];e.points.getPoint(0,l),e.points.getPoint(1,f),e.points.getPoint(2,h);var p=[],d=[];if(ls(l,f,h,p),p[0]!==0||p[1]!==0||p[2]!==0){var y=zn.intersectWithLine(n,r,l,p);if(o.betweenPoints=y.betweenPoints,o.t=y.t,i[0]=y.x[0],i[1]=y.x[1],i[2]=y.x[2],!y.intersection)return s[0]=0,s[1]=0,o.intersect=0,o;var m=t.evaluatePosition(i,c,s,d);if(m.evaluation>=0)return m.dist2<=u?(o.intersect=1,o):(o.intersect=m.evaluation,o)}var _=nr(l,f),v=nr(f,h),g=nr(h,l);e.line||(e.line=rr.newInstance()),_>v&&_>g?(e.line.getPoints().setPoint(0,l),e.line.getPoints().setPoint(1,f)):v>g&&v>_?(e.line.getPoints().setPoint(0,f),e.line.getPoints().setPoint(1,h)):(e.line.getPoints().setPoint(0,h),e.line.getPoints().setPoint(1,l));var x=e.line.intersectWithLine(n,r,a,i,s);if(o.betweenPoints=x.betweenPoints,o.t=x.t,x.intersect){for(var w=[],C=[],S=[],T=0;T<3;T++)w[T]=l[T]-h[T],C[T]=f[T]-h[T],S[T]=i[T]-h[T];return s[0]=Be(S,w)/g,s[1]=Be(S,C)/v,o.intersect=1,o}return s[0]=0,s[1]=0,o.intersect=0,o},t.evaluatePosition=function(n,r,a,i){var s={subId:0,dist2:0,evaluation:-1},o,c,u=[],l=[],f=[],h=[],p,d=[],y=[],m=[],_=0,v=0,g=[],x,w,C,S=[],T=[],b=[],O=[];s.subId=0,a[2]=0,e.points.getPoint(1,u),e.points.getPoint(2,l),e.points.getPoint(0,f),xc(u,l,f,h),zn.generalizedProjectPoint(n,u,h,O);var D=0;for(o=0;o<3;o++)h[o]<0?p=-h[o]:p=h[o],p>D&&(D=p,v=o);for(c=0,o=0;o<3;o++)o!==v&&(g[c++]=o);for(o=0;o<2;o++)d[o]=O[g[o]]-f[g[o]],y[o]=u[g[o]]-f[g[o]],m[o]=l[g[o]]-f[g[o]];if(_=jo(y,m),_===0)return a[0]=0,a[1]=0,s.evaluation=-1,s;if(a[0]=jo(d,m)/_,a[1]=jo(y,d)/_,i[0]=1-(a[0]+a[1]),i[1]=a[0],i[2]=a[1],i[0]>=0&&i[0]<=1&&i[1]>=0&&i[1]<=1&&i[2]>=0&&i[2]<=1)r&&(s.dist2=nr(O,n),r[0]=O[0],r[1]=O[1],r[2]=O[2]),s.evaluation=1;else{var N;if(r){if(i[1]<0&&i[2]<0)for(x=nr(n,f),w=rr.distanceToLine(n,u,f,N,T),C=rr.distanceToLine(n,f,l,N,b),x<w?(s.dist2=x,S=f):(s.dist2=w,S=T),C<s.dist2&&(s.dist2=C,S=b),o=0;o<3;o++)r[o]=S[o];else if(i[2]<0&&i[0]<0)for(x=nr(n,u),w=rr.distanceToLine(n,u,f,N,T),C=rr.distanceToLine(n,u,l,N,b),x<w?(s.dist2=x,S=u):(s.dist2=w,S=T),C<s.dist2&&(s.dist2=C,S=b),o=0;o<3;o++)r[o]=S[o];else if(i[1]<0&&i[0]<0)for(x=nr(n,l),w=rr.distanceToLine(n,l,f,N,T),C=rr.distanceToLine(n,u,l,N,b),x<w?(s.dist2=x,S=l):(s.dist2=w,S=T),C<s.dist2&&(s.dist2=C,S=b),o=0;o<3;o++)r[o]=S[o];else if(i[0]<0){var R=rr.distanceToLine(n,u,l,r);s.dist2=R.distance}else if(i[1]<0){var E=rr.distanceToLine(n,l,f,r);s.dist2=E.distance}else if(i[2]<0){var A=rr.distanceToLine(n,u,f,r);s.dist2=A.distance}}s.evaluation=0}return s},t.evaluateLocation=function(n,r,a){var i=[],s=[],o=[];e.points.getPoint(0,i),e.points.getPoint(1,s),e.points.getPoint(2,o);for(var c=1-n[0]-n[1],u=0;u<3;u++)r[u]=i[u]*c+s[u]*n[0]+o[u]*n[1];a[0]=c,a[1]=n[0],a[2]=n[1]},t.getParametricDistance=function(n){var r,a=0,i=[];i[0]=n[0],i[1]=n[1],i[2]=1-n[0]-n[1];for(var s=0;s<3;s++)i[s]<0?r=-i[s]:i[s]>1?r=i[s]-1:r=0,r>a&&(a=r);return a}}var E6={};function Ov(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,E6,n),fs.extend(t,e,n),b6(t,e)}var D6=I.newInstance(Ov,"vtkTriangle"),O6=C6({newInstance:D6,extend:Ov},T6),u0=["verts","lines","polys","strips"],Ia,nl=I.vtkWarningMacro,N6=(Ia={},Oe(Ia,tt.VTK_LINE,rr),Oe(Ia,tt.VTK_POLY_LINE,rr),Oe(Ia,tt.VTK_TRIANGLE,O6),Ia);function k6(t,e){e.classHierarchy.push("vtkPolyData");function n(a){return a.replace(/(?:^\w|[A-Z]|\b\w)/g,function(i){return i.toUpperCase()}).replace(/\s+/g,"")}u0.forEach(function(a){t["getNumberOf".concat(n(a))]=function(){return e[a].getNumberOfCells()},e[a]?e[a]=Ot(e[a]):e[a]=cs.newInstance()}),t.getNumberOfCells=function(){return u0.reduce(function(a,i){return a+e[i].getNumberOfCells()},0)};var r=t.shallowCopy;t.shallowCopy=function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r(a,i),u0.forEach(function(s){e[s]=cs.newInstance(),e[s].shallowCopy(a.getReferenceByName(s))})},t.buildCells=function(){var a=t.getNumberOfVerts(),i=t.getNumberOfLines(),s=t.getNumberOfPolys(),o=t.getNumberOfStrips(),c=a+i+s+o,u=new Uint8Array(c),l=u,f=new Uint32Array(c),h=f;if(a){var p=0;e.verts.getCellSizes().forEach(function(_,v){h[v]=p,l[v]=_>1?tt.VTK_POLY_VERTEX:tt.VTK_VERTEX,p+=_+1}),h=h.subarray(a),l=l.subarray(a)}if(i){var d=0;e.lines.getCellSizes().forEach(function(_,v){h[v]=d,l[v]=_>2?tt.VTK_POLY_LINE:tt.VTK_LINE,_===1&&nl("Building VTK_LINE ",v," with only one point, but VTK_LINE needs at least two points. Check the input."),d+=_+1}),h=h.subarray(i),l=l.subarray(i)}if(s){var y=0;e.polys.getCellSizes().forEach(function(_,v){switch(h[v]=y,_){case 3:l[v]=tt.VTK_TRIANGLE;break;case 4:l[v]=tt.VTK_QUAD;break;default:l[v]=tt.VTK_POLYGON;break}_<3&&nl("Building VTK_TRIANGLE ",v," with less than three points, but VTK_TRIANGLE needs at least three points. Check the input."),y+=_+1}),h+=h.subarray(s),l+=l.subarray(s)}if(o){var m=0;l.fill(tt.VTK_TRIANGLE_STRIP,0,o),e.strips.getCellSizes().forEach(function(_,v){h[v]=m,m+=_+1})}e.cells=h6.newInstance(),e.cells.setCellTypes(c,u,f)},t.buildLinks=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;e.cells===void 0&&t.buildCells(),e.links=r6.newInstance(),a>0?e.links.allocate(a):e.links.allocate(t.getPoints().getNumberOfPoints()),e.links.buildLinks(t)},t.getCellType=function(a){return e.cells.getCellType(a)},t.getCellPoints=function(a){var i=t.getCellType(a),s=null;switch(i){case tt.VTK_VERTEX:case tt.VTK_POLY_VERTEX:s=e.verts;break;case tt.VTK_LINE:case tt.VTK_POLY_LINE:s=e.lines;break;case tt.VTK_TRIANGLE:case tt.VTK_QUAD:case tt.VTK_POLYGON:s=e.polys;break;case tt.VTK_TRIANGLE_STRIP:s=e.strips;break;default:return s=null,{type:0,cellPointIds:null}}var o=e.cells.getCellLocation(a),c=s.getCell(o);return{cellType:i,cellPointIds:c}},t.getPointCells=function(a){return e.links.getCells(a)},t.getCellEdgeNeighbors=function(a,i,s){var o=e.links.getLink(i),c=e.links.getLink(s);return o.cells.filter(function(u){return u!==a&&c.cells.indexOf(u)!==-1})},t.getCell=function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=t.getCellPoints(a),o=i||N6[s.cellType].newInstance();return o.initialize(t.getPoints(),s.cellPointIds),o}}var M6={};function Nv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,M6,n),w6.extend(t,e,n),I.get(t,e,["cells","links"]),I.setGet(t,e,["verts","lines","polys","strips"]),k6(t,e)}var R6=I.newInstance(Nv,"vtkPolyData"),nt={newInstance:R6,extend:Nv};function L6(t,e){e.classHierarchy.push("vtkTexture"),t.imageLoaded=function(){e.image.removeEventListener("load",t.imageLoaded),e.imageLoaded=!0,t.modified()},t.setJsImageData=function(n){e.jsImageData!==n&&(n!==null&&(t.setInputData(null),t.setInputConnection(null),e.image=null,e.canvas=null),e.jsImageData=n,e.imageLoaded=!0,t.modified())},t.setCanvas=function(n){e.canvas!==n&&(n!==null&&(t.setInputData(null),t.setInputConnection(null),e.image=null,e.jsImageData=null),e.canvas=n,t.modified())},t.setImage=function(n){e.image!==n&&(n!==null&&(t.setInputData(null),t.setInputConnection(null),e.canvas=null,e.jsImageData=null),e.image=n,e.imageLoaded=!1,n.complete?t.imageLoaded():n.addEventListener("load",t.imageLoaded),t.modified())}}var F6={repeat:!1,interpolate:!1,edgeClamp:!1,image:null,canvas:null,imageLoaded:!1,jsImageData:null};function kv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,F6,n),I.obj(t,e),I.algo(t,e,6,0),I.get(t,e,["canvas","image","jsImageData","imageLoaded"]),I.setGet(t,e,["repeat","edgeClamp","interpolate"]),L6(t,e)}var A6=I.newInstance(kv,"vtkTexture"),Mv={newInstance:A6,extend:kv};function al(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?al(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):al(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var B6=[[-1,0,0],[1,0,0],[0,-1,0],[0,1,0],[0,0,-1],[0,0,1]],il=[[8,7,11,3],[9,1,10,5],[4,9,0,8],[2,11,6,10],[0,3,2,1],[4,5,6,7]],co=[[0,1],[1,3],[2,3],[0,2],[4,5],[5,7],[6,7],[4,6],[0,4],[1,5],[3,7],[2,6]],ol=[0,1,0,1,0,1,0,1,2,2,2,2],at=[[1,2],[1,2],[0,2],[0,2],[0,1],[0,1]],ke=new Float64Array(3),fo=new Float64Array(3),Ye=new Float64Array(3),On=new Float64Array(3),_n=new Float64Array(3),lo=new Float64Array(3),c0=new Float64Array(16);function f0(t,e){t.strokeStyle=e.strokeColor,t.lineWidth=e.strokeSize,t.fillStyle=e.fontColor,t.font="".concat(e.fontStyle," ").concat(e.fontSize,"px ").concat(e.fontFamily)}function V6(t,e){e.classHierarchy.push("vtkCubeAxesActorHelper"),t.setRenderable=function(n){e.renderable!==n&&(e.renderable=n,e.tmActor.addTexture(e.renderable.getTmTexture()),e.tmActor.setProperty(n.getProperty()),e.tmActor.setParentProp(n),t.modified())},t.createPolyDataForOneLabel=function(n,r,a,i,s,o,c){var u=e.renderable.get_tmAtlas().get(n);if(!!u){var l=e.renderable.getTextPolyData().getPoints().getData(),f=e.lastSize;ke[0]=l[r*3],ke[1]=l[r*3+1],ke[2]=l[r*3+2],Te(Ye,ke,a),Ye[0]+=.1,Te(fo,Ye,i),ir(_n,fo,ke),Ye[0]-=.1,Ye[1]+=.1,Te(fo,Ye,i),ir(lo,fo,ke);for(var h=0;h<3;h++)_n[h]/=.5*.1*f[0],lo[h]/=.5*.1*f[1];var p=c.ptIdx,d=c.cellIdx;ke[0]=l[r*3],ke[1]=l[r*3+1],ke[2]=l[r*3+2],s[0]<-.5?wt(Ye,_n,s[0]*o-u.width):s[0]>.5?wt(Ye,_n,s[0]*o):wt(Ye,_n,s[0]*o-u.width/2),Ir(ke,ke,Ye),wt(Ye,lo,s[1]*o-u.height/2),Ir(ke,ke,Ye),c.points[p*3]=ke[0],c.points[p*3+1]=ke[1],c.points[p*3+2]=ke[2],c.tcoords[p*2]=u.tcoords[0],c.tcoords[p*2+1]=u.tcoords[1],p++,wt(Ye,_n,u.width),Ir(ke,ke,Ye),c.points[p*3]=ke[0],c.points[p*3+1]=ke[1],c.points[p*3+2]=ke[2],c.tcoords[p*2]=u.tcoords[2],c.tcoords[p*2+1]=u.tcoords[3],p++,wt(Ye,lo,u.height),Ir(ke,ke,Ye),c.points[p*3]=ke[0],c.points[p*3+1]=ke[1],c.points[p*3+2]=ke[2],c.tcoords[p*2]=u.tcoords[4],c.tcoords[p*2+1]=u.tcoords[5],p++,wt(Ye,_n,u.width),ir(ke,ke,Ye),c.points[p*3]=ke[0],c.points[p*3+1]=ke[1],c.points[p*3+2]=ke[2],c.tcoords[p*2]=u.tcoords[6],c.tcoords[p*2+1]=u.tcoords[7],p++,c.polys[d*4]=3,c.polys[d*4+1]=p-4,c.polys[d*4+2]=p-3,c.polys[d*4+3]=p-2,d++,c.polys[d*4]=3,c.polys[d*4+1]=p-4,c.polys[d*4+2]=p-2,c.polys[d*4+3]=p-1,c.ptIdx+=4,c.cellIdx+=2}},t.updateTexturePolyData=function(){var n=e.camera.getCompositeProjectionMatrix(e.lastAspectRatio,-1,1);Ze(n,n);var r=e.renderable.getTextValues().length,a=r*4,i=r*2,s=new Float64Array(a*3),o=new Uint16Array(i*4),c=new Float32Array(a*2);Zt(c0,n);for(var u={ptIdx:0,cellIdx:0,polys:o,points:s,tcoords:c},l=0,f=0,h=0,p=e.renderable.getTextPolyData().getPoints().getData(),d=e.renderable.getTextValues();l<p.length/3;){ke[0]=p[l*3],ke[1]=p[l*3+1],ke[2]=p[l*3+2],Te(Ye,ke,n),ke[0]=p[l*3+3],ke[1]=p[l*3+4],ke[2]=p[l*3+5],Te(On,ke,n),ir(Ye,Ye,On);var y=[Ye[0],Ye[1]];E5(y),t.createPolyDataForOneLabel(d[f],l,n,c0,y,e.renderable.getAxisTitlePixelOffset(),u),l+=2,f++;for(var m=0;m<e.renderable.getTickCounts()[h];m++)t.createPolyDataForOneLabel(d[f],l,n,c0,y,e.renderable.getTickLabelPixelOffset(),u),l++,f++;h++}var _=Ee.newInstance({numberOfComponents:2,values:c,name:"TextureCoordinates"});e.tmPolyData.getPointData().setTCoords(_),e.tmPolyData.getPoints().setData(s,3),e.tmPolyData.getPoints().modified(),e.tmPolyData.getPolys().setData(o,1),e.tmPolyData.getPolys().modified(),e.tmPolyData.modified()},t.updateAPISpecificData=function(n,r,a){(e.lastSize[0]!==n[0]||e.lastSize[1]!==n[1])&&(e.lastSize[0]=n[0],e.lastSize[1]=n[1],e.lastAspectRatio=n[0]/n[1],e.forceUpdate=!0),e.camera=r,t.updateTexturePolyData()}}var U6=I.newInstance(function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{renderable:null};Object.assign(e,{},n),I.obj(t,e),e.tmPolyData=nt.newInstance(),e.tmMapper=hn.newInstance(),e.tmMapper.setInputData(e.tmPolyData),e.tmActor=Kr.newInstance({parentProp:t}),e.tmActor.setMapper(e.tmMapper),I.setGet(t,e,["renderable"]),I.get(t,e,["lastSize","lastAspectRatio","axisTextStyle","tickTextStyle","tmActor","ticks"]),e.forceUpdate=!1,e.lastRedrawTime={},I.obj(e.lastRedrawTime,{mtime:0}),e.lastRebuildTime={},I.obj(e.lastRebuildTime,{mtime:0}),e.lastSize=[-1,-1],e.lastTickBounds=[],V6(t,e)},"vtkCubeAxesActorHelper");function G6(t,e){e.classHierarchy.push("vtkCubeAxesActor"),t.setCamera=function(n){e.camera!==n&&(e.cameraModifiedSub&&(e.cameraModifiedSub.unsubscribe(),e.cameraModifiedSub=null),e.camera=n,n&&(e.cameraModifiedSub=n.onModified(t.update)),t.update(),t.modified())},t.computeFacesToDraw=function(){var n=e.camera.getViewMatrix();Ze(n,n);for(var r=!1,a=Ke.getDiagonalLength(e.dataBounds),i=Math.sin(e.faceVisibilityAngle*Math.PI/180),s=0;s<6;s++){var o=!1,c=Math.floor(s/2),u=(c+1)%3,l=(c+2)%3;e.dataBounds[u*2]!==e.dataBounds[u*2+1]&&e.dataBounds[l*2]!==e.dataBounds[l*2+1]&&(ke[c]=e.dataBounds[s]-.1*a*B6[s][c],ke[u]=.5*(e.dataBounds[u*2]+e.dataBounds[u*2+1]),ke[l]=.5*(e.dataBounds[l*2]+e.dataBounds[l*2+1]),Te(Ye,ke,n),ke[c]=e.dataBounds[s],Te(On,ke,n),ir(Ye,On,Ye),or(Ye,Ye),o=Ye[2]>i,e.camera.getParallelProjection()||(or(On,On),o=Un(On,Ye)>i)),o!==e.lastFacesToDraw[s]&&(e.lastFacesToDraw[s]=o,r=!0)}return r},t.updatePolyData=function(n,r,a){var i=0,s=0;i+=8;for(var o=0,c=0;c<12;c++)r[c]>0&&o++;if(s+=o,e.gridLines)for(var u=0;u<6;u++)n[u]&&(i+=a[at[u][0]].length*2+a[at[u][1]].length*2,s+=a[at[u][0]].length+a[at[u][1]].length);for(var l=new Float64Array(i*3),f=new Uint32Array(s*3),h=0,p=0,d=0;d<2;d++)for(var y=0;y<2;y++)for(var m=0;m<2;m++)l[h*3]=e.dataBounds[m],l[h*3+1]=e.dataBounds[2+y],l[h*3+2]=e.dataBounds[4+d],h++;for(var _=0;_<12;_++)r[_]>0&&(f[p*3]=2,f[p*3+1]=co[_][0],f[p*3+2]=co[_][1],p++);if(e.gridLines){for(var v=0;v<6;v++)if(n[v]){for(var g=Math.floor(v/2),x=a[at[v][0]],w=0;w<x.length;w++)l[h*3+g]=e.dataBounds[v],l[h*3+at[v][0]]=x[w],l[h*3+at[v][1]]=e.dataBounds[at[v][1]*2],h++,l[h*3+g]=e.dataBounds[v],l[h*3+at[v][0]]=x[w],l[h*3+at[v][1]]=e.dataBounds[at[v][1]*2+1],h++,f[p*3]=2,f[p*3+1]=h-2,f[p*3+2]=h-1,p++;x=a[at[v][1]];for(var C=0;C<x.length;C++)l[h*3+g]=e.dataBounds[v],l[h*3+at[v][1]]=x[C],l[h*3+at[v][0]]=e.dataBounds[at[v][0]*2],h++,l[h*3+g]=e.dataBounds[v],l[h*3+at[v][1]]=x[C],l[h*3+at[v][0]]=e.dataBounds[at[v][0]*2+1],h++,f[p*3]=2,f[p*3+1]=h-2,f[p*3+2]=h-1,p++}}e.polyData.getPoints().setData(l,3),e.polyData.getPoints().modified(),e.polyData.getLines().setData(f,1),e.polyData.getLines().modified(),e.polyData.modified()},t.updateTextData=function(n,r,a,i){for(var s=0,o=0;o<12;o++)r[o]===1&&(s+=2,s+=a[ol[o]].length);for(var c=e.polyData.getPoints().getData(),u=new Float64Array(s*3),l=0,f=0,h=0,p=0;p<6;p++)if(n[p])for(var d=0;d<4;d++){var y=il[p][d];if(r[y]===1){var m=ol[y],_=co[y][0]*3,v=co[y][1]*3;u[l*3]=.5*(c[_]+c[v]),u[l*3+1]=.5*(c[_+1]+c[v+1]),u[l*3+2]=.5*(c[_+2]+c[v+2]),l++;var g=Math.floor(p/2);u[l*3+g]=e.dataBounds[p],u[l*3+at[p][0]]=.5*(e.dataBounds[at[p][0]*2]+e.dataBounds[at[p][0]*2+1]),u[l*3+at[p][1]]=.5*(e.dataBounds[at[p][1]*2]+e.dataBounds[at[p][1]*2+1]),l++,e.textValues[f]=e.axisLabels[m],f++;var x=(m+1)%3,w=(m+2)%3,C=a[m],S=i[m];e.tickCounts[h]=C.length;for(var T=0;T<C.length;T++)u[l*3+m]=C[T],u[l*3+x]=c[_+x],u[l*3+w]=c[_+w],l++,e.textValues[f]=S[T],f++;h++}}e.textPolyData.getPoints().setData(u,3),e.textPolyData.modified()},t.update=function(){if(!!e.camera){for(var n=t.computeFacesToDraw(),r=e.lastFacesToDraw,a=!1,i=0;i<6;i++)e.dataBounds[i]!==e.lastTickBounds[i]&&(a=!0,e.lastTickBounds[i]=e.dataBounds[i]);if(n||a||e.forceUpdate){for(var s=new Array(12).fill(0),o=0;o<6;o++)if(r[o])for(var c=0;c<4;c++)s[il[o][c]]++;for(var u=[],l=[],f=0;f<3;f++){var h=cc().domain([e.dataBounds[f*2],e.dataBounds[f*2+1]]);u[f]=h.ticks(5);var p=h.tickFormat(5);l[f]=u[f].map(p)}t.updatePolyData(r,s,u),t.updateTextData(r,s,u,l),(a||e.forceUpdate)&&t.updateTextureAtlas(l)}e.forceUpdate=!1}},t.updateTextureAtlas=function(n){e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left",e._tmAtlas.clear();for(var r=0,a=1,i=0;i<3;i++){if(!e._tmAtlas.has(e.axisLabels[i])){f0(e.tmContext,e.axisTextStyle);var s=e.tmContext.measureText(e.axisLabels[i]),o={height:s.actualBoundingBoxAscent+2,startingHeight:a,width:s.width+2,textStyle:e.axisTextStyle};e._tmAtlas.set(e.axisLabels[i],o),a+=o.height,r<o.width&&(r=o.width)}f0(e.tmContext,e.tickTextStyle);for(var c=0;c<n[i].length;c++)if(!e._tmAtlas.has(n[i][c])){var u=e.tmContext.measureText(n[i][c]),l={height:u.actualBoundingBoxAscent+2,startingHeight:a,width:u.width+2,textStyle:e.tickTextStyle};e._tmAtlas.set(n[i][c],l),a+=l.height,r<l.width&&(r=l.width)}}r=mr(r),a=mr(a),e._tmAtlas.forEach(function(f){f.tcoords=[0,(a-f.startingHeight-f.height)/a,f.width/r,(a-f.startingHeight-f.height)/a,f.width/r,(a-f.startingHeight)/a,0,(a-f.startingHeight)/a]}),e.tmCanvas.width=r,e.tmCanvas.height=a,e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left",e.tmContext.clearRect(0,0,r,a),e._tmAtlas.forEach(function(f,h){f0(e.tmContext,f.textStyle),e.tmContext.fillText(h,1,f.startingHeight+f.height-1)}),e.tmTexture.setCanvas(e.tmCanvas),e.tmTexture.modified()},t.onModified(function(){e.forceUpdate=!0,t.update()}),t.setTickTextStyle=function(n){e.tickTextStyle=ni(ni({},e.tickTextStyle),n),t.modified()},t.setAxisTextStyle=function(n){e.axisTextStyle=ni(ni({},e.axisTextStyle),n),t.modified()},t.get_tmAtlas=function(){return e._tmAtlas},t.getBounds=function(){return t.update(),Ke.setBounds(e.bounds,e.gridActor.getBounds()),Ke.scaleAboutCenter(e.bounds,e.boundsScaleFactor,e.boundsScaleFactor,e.boundsScaleFactor),e.bounds}}function P6(t){return ni({boundsScaleFactor:1.3,camera:null,dataBounds:we(Ke.INIT_BOUNDS),faceVisibilityAngle:8,gridLines:!0,axisLabels:null,axisTitlePixelOffset:35,axisTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:18,fontFamily:"serif"},tickLabelPixelOffset:12,tickTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:14,fontFamily:"serif"}},t)}function Rv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,P6(n)),Kr.extend(t,e,n),e.lastFacesToDraw=[!1,!1,!1,!1,!1,!1],e.axisLabels=["X-Axis","Y-Axis","Z-Axis"],e.tickCounts=[],e.textValues=[],e.lastTickBounds=[],e.tmCanvas=document.createElement("canvas"),e.tmContext=e.tmCanvas.getContext("2d"),e._tmAtlas=new Map,e.tmTexture=Mv.newInstance(),e.tmTexture.setInterpolate(!1),t.getProperty().setDiffuse(0),t.getProperty().setAmbient(1),e.gridMapper=hn.newInstance(),e.polyData=nt.newInstance(),e.gridMapper.setInputData(e.polyData),e.gridActor=Kr.newInstance(),e.gridActor.setMapper(e.gridMapper),e.gridActor.setProperty(t.getProperty()),e.gridActor.setParentProp(t),e.textPolyData=nt.newInstance(),I.setGet(t,e,["axisTitlePixelOffset","boundsScaleFactor","faceVisibilityAngle","gridLines","tickLabelPixelOffset"]),I.setGetArray(t,e,["dataBounds"],6),I.setGetArray(t,e,["axisLabels"],3),I.get(t,e,["axisTextStyle","tickTextStyle","camera","tmTexture","textValues","textPolyData","tickCounts","gridActor"]),G6(t,e)}var j6=I.newInstance(Rv,"vtkCubeAxesActor"),wc={newInstance:j6,extend:Rv,newCubeAxesActorHelper:U6};function z6(t,e){e.classHierarchy.push("vtkOpenGLCubeAxesActor"),t.buildPass=function(n){n&&(e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.openGLRenderWindow=e.openGLRenderer.getParent(),e.CubeAxesActorHelper.getRenderable()||e.CubeAxesActorHelper.setRenderable(e.renderable),t.prepareNodes(),t.addMissingNode(e.CubeAxesActorHelper.getTmActor()),t.addMissingNode(e.renderable.getGridActor()),t.removeUnusedNodes())},t.opaquePass=function(n,r){if(n){var a=e.openGLRenderer?e.openGLRenderer.getRenderable().getActiveCamera():null,i=e.openGLRenderer.getTiledSizeAndOrigin();e.CubeAxesActorHelper.updateAPISpecificData([i.usize,i.vsize],a,e.openGLRenderWindow.getRenderable())}}}var I6={};function W6(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,I6,n),Ut.extend(t,e,n),e.CubeAxesActorHelper=wc.newCubeAxesActorHelper(),z6(t,e)}var H6=ut(W6,"vtkOpenGLCubeAxesActor");Gt("vtkCubeAxesActor",H6);var l0=Xn.FieldAssociations,vt=dn.primTypes,na=Wi.Representation,sl=Wi.Shading,ho=hn.ScalarMode,ul=Wt.Filter,cl=Wt.Wrap,xn=Le,$6={type:"StartEvent"},K6={type:"EndEvent"};function X6(t){var e=t.getSelector();return e?e.getCurrentPass():zt.MIN_KNOWN_PASS-1}function q6(t,e){e.classHierarchy.push("vtkOpenGLPolyDataMapper"),t.buildPass=function(r){r&&(e.currentRenderPass=null,e.openGLActor=t.getFirstAncestorOfType("vtkOpenGLActor"),e.openGLRenderer=e.openGLActor.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent(),e.openGLCamera=e.openGLRenderer.getViewNodeFor(e.openGLRenderer.getRenderable().getActiveCamera()))},t.translucentPass=function(r,a){r&&(e.currentRenderPass=a,t.render())},t.opaqueZBufferPass=function(r){r&&(e.haveSeenDepthRequest=!0,e.renderDepth=!0,t.render(),e.renderDepth=!1)},t.opaquePass=function(r){r&&t.render()},t.render=function(){var r=e._openGLRenderWindow.getContext();if(e.context!==r){e.context=r;for(var a=vt.Start;a<vt.End;a++)e.primitives[a].setOpenGLRenderWindow(e._openGLRenderWindow)}var i=e.openGLActor.getRenderable(),s=e.openGLRenderer.getRenderable();t.renderPiece(s,i)},t.buildShaders=function(r,a,i){t.getShaderTemplate(r,a,i),e.lastRenderPassShaderReplacement&&e.lastRenderPassShaderReplacement(r);var s=e.renderable.getViewSpecificProperties().OpenGL,o=null;if(s&&(o=s.ShaderReplacements),o)for(var c=0;c<o.length;c++){var u=o[c];if(u.replaceFirst){var l=u.shaderType,f=r[l],h=ue.substitute(f,u.originalValue,u.replacementValue,u.replaceAll);r[l]=h.result}}if(t.replaceShaderValues(r,a,i),o)for(var p=0;p<o.length;p++){var d=o[p];if(!d.replaceFirst){var y=d.shaderType,m=r[y],_=ue.substitute(m,d.originalValue,d.replacementValue,d.replaceAll);r[y]=_.result}}},t.getShaderTemplate=function(r,a,i){var s=e.renderable.getViewSpecificProperties().OpenGL,o=cp;if(s){var c=s.VertexShaderCode;c!==void 0&&c!==""&&(o=c)}r.Vertex=o;var u=fp;if(s){var l=s.FragmentShaderCode;l!==void 0&&l!==""&&(u=l)}r.Fragment=u;var f="";if(s){var h=s.GeometryShaderCode;h!==void 0&&(f=h)}r.Geometry=f},t.replaceShaderColor=function(r,a,i){var s=r.Vertex,o=r.Geometry,c=r.Fragment,u=e.lastBoundBO.getReferenceByName("lastLightComplexity"),l=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity","uniform vec3 ambientColorUniform;","uniform vec3 diffuseColorUniform;"];u&&(l=l.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));var f=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];u&&(f=f.concat(["  vec3 specularColor;","  float specularPower;"])),f=f.concat(["  ambientColor = ambientColorUniform;","  diffuseColor = diffuseColorUniform;","  opacity = opacityUniform;"]),u&&(f=f.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),e.lastBoundBO.getCABO().getColorComponents()!==0&&!e.drawingEdges&&(l=l.concat(["varying vec4 vertexColorVSOutput;"]),s=ue.substitute(s,"//VTK::Color::Dec",["attribute vec4 scalarColor;","varying vec4 vertexColorVSOutput;"]).result,s=ue.substitute(s,"//VTK::Color::Impl",["vertexColorVSOutput =  scalarColor;"]).result,o=ue.substitute(o,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,o=ue.substitute(o,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result),e.lastBoundBO.getCABO().getColorComponents()!==0&&!e.drawingEdges?c=ue.substitute(c,"//VTK::Color::Impl",f.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])).result:e.renderable.getInterpolateScalarsBeforeMapping()&&e.renderable.getColorCoordinates()&&!e.drawingEdges?c=ue.substitute(c,"//VTK::Color::Impl",f.concat(["  vec4 texColor = texture2D(texture1, tcoordVCVSOutput.st);","  diffuseColor = texColor.rgb;","  ambientColor = texColor.rgb;","  opacity = opacity*texColor.a;"])).result:(i.getBackfaceProperty()&&!e.drawingEdges&&(l=l.concat(["uniform float opacityUniformBF; // the fragment opacity","uniform float ambientIntensityBF; // the material ambient","uniform float diffuseIntensityBF; // the material diffuse","uniform vec3 ambientColorUniformBF; // ambient material color","uniform vec3 diffuseColorUniformBF; // diffuse material color"]),u?(l=l.concat(["uniform float specularIntensityBF; // the material specular intensity","uniform vec3 specularColorUniformBF; // intensity weighted color","uniform float specularPowerUniformBF;"]),f=f.concat(["if (gl_FrontFacing == false) {","  ambientColor = ambientIntensityBF * ambientColorUniformBF;","  diffuseColor = diffuseIntensityBF * diffuseColorUniformBF;","  specularColor = specularIntensityBF * specularColorUniformBF;","  specularPower = specularPowerUniformBF;","  opacity = opacityUniformBF; }"])):f=f.concat(["if (gl_FrontFacing == false) {","  ambientColor = ambientIntensityBF * ambientColorUniformBF;","  diffuseColor = diffuseIntensityBF * diffuseColorUniformBF;","  opacity = opacityUniformBF; }"])),e.haveCellScalars&&!e.drawingEdges&&(l=l.concat(["uniform samplerBuffer texture1;"])),c=ue.substitute(c,"//VTK::Color::Impl",f).result),c=ue.substitute(c,"//VTK::Color::Dec",l).result,r.Vertex=s,r.Geometry=o,r.Fragment=c},t.replaceShaderLight=function(r,a,i){var s=r.Fragment,o="",c=e.lastBoundBO.getReferenceByName("lastLightComplexity"),u=e.lastBoundBO.getReferenceByName("lastLightCount"),l=[];switch(c){case 0:s=ue.substitute(s,"//VTK::Light::Impl",["  gl_FragData[0] = vec4(ambientColor * ambient + diffuseColor * diffuse, opacity);","  //VTK::Light::Impl"],!1).result;break;case 1:s=ue.substitute(s,"//VTK::Light::Impl",["  float df = max(0.0, normalVCVSOutput.z);","  float sf = pow(df, specularPower);","  vec3 diffuseL = df * diffuseColor;","  vec3 specularL = sf * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"],!1).result;break;case 2:for(var f=0;f<u;++f)l=l.concat(["uniform vec3 lightColor".concat(f,";"),"uniform vec3 lightDirectionVC".concat(f,"; // normalized"),"uniform vec3 lightHalfAngleVC".concat(f,"; // normalized")]);s=ue.substitute(s,"//VTK::Light::Dec",l).result,l=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  float df;"];for(var h=0;h<u;++h)l=l.concat(["  df = max(0.0, dot(normalVCVSOutput, -lightDirectionVC".concat(h,"));"),"  diffuseL += ((df".concat(o,") * lightColor").concat(h,");"),"  if (dot(normalVCVSOutput, lightDirectionVC".concat(h,") < 0.0)"),"    {","    float sf = pow( max(0.0, dot(lightHalfAngleVC".concat(h,",normalVCVSOutput)), specularPower);"),"    specularL += ((sf".concat(o,") * lightColor").concat(h,");"),"    }"]);l=l.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),s=ue.substitute(s,"//VTK::Light::Impl",l,!1).result;break;case 3:for(var p=0;p<u;++p)l=l.concat(["uniform vec3 lightColor".concat(p,";"),"uniform vec3 lightDirectionVC".concat(p,"; // normalized"),"uniform vec3 lightHalfAngleVC".concat(p,"; // normalized"),"uniform vec3 lightPositionVC".concat(p,";"),"uniform vec3 lightAttenuation".concat(p,";"),"uniform float lightConeAngle".concat(p,";"),"uniform float lightExponent".concat(p,";"),"uniform int lightPositional".concat(p,";")]);s=ue.substitute(s,"//VTK::Light::Dec",l).result,l=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  vec3 vertLightDirectionVC;","  float attenuation;","  float df;"];for(var d=0;d<u;++d)l=l.concat(["  attenuation = 1.0;","  if (lightPositional".concat(d," == 0)"),"    {","      vertLightDirectionVC = lightDirectionVC".concat(d,";"),"    }","  else","    {","    vertLightDirectionVC = vertexVC.xyz - lightPositionVC".concat(d,";"),"    float distanceVC = length(vertLightDirectionVC);","    vertLightDirectionVC = normalize(vertLightDirectionVC);","    attenuation = 1.0 /","      (lightAttenuation".concat(d,".x"),"       + lightAttenuation".concat(d,".y * distanceVC"),"       + lightAttenuation".concat(d,".z * distanceVC * distanceVC);"),"    // per OpenGL standard cone angle is 90 or less for a spot light","    if (lightConeAngle".concat(d," <= 90.0)"),"      {","      float coneDot = dot(vertLightDirectionVC, lightDirectionVC".concat(d,");"),"      // if inside the cone","      if (coneDot >= cos(radians(lightConeAngle".concat(d,")))"),"        {","        attenuation = attenuation * pow(coneDot, lightExponent".concat(d,");"),"        }","      else","        {","        attenuation = 0.0;","        }","      }","    }","    df = max(0.0, attenuation*dot(normalVCVSOutput, -vertLightDirectionVC));","    diffuseL += ((df".concat(o,") * lightColor").concat(d,");"),"    if (dot(normalVCVSOutput, vertLightDirectionVC) < 0.0)","      {","      float sf = attenuation*pow( max(0.0, dot(lightHalfAngleVC".concat(d,",normalVCVSOutput)), specularPower);"),"    specularL += ((sf".concat(o,") * lightColor").concat(d,");"),"    }"]);l=l.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),s=ue.substitute(s,"//VTK::Light::Impl",l,!1).result;break;default:xn("bad light complexity")}r.Fragment=s},t.replaceShaderNormal=function(r,a,i){var s=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(s>0){var o=r.Vertex,c=r.Geometry,u=r.Fragment;e.lastBoundBO.getCABO().getNormalOffset()?(o=ue.substitute(o,"//VTK::Normal::Dec",["attribute vec3 normalMC;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,o=ue.substitute(o,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * normalMC;"]).result,c=ue.substitute(c,"//VTK::Normal::Dec",["in vec3 normalVCVSOutput[];","out vec3 normalVCGSOutput;"]).result,c=ue.substitute(c,"//VTK::Normal::Impl",["normalVCGSOutput = normalVCVSOutput[i];"]).result,u=ue.substitute(u,"//VTK::Normal::Dec",["varying vec3 normalVCVSOutput;"]).result,u=ue.substitute(u,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalVCVSOutput);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):e.haveCellNormals?(u=ue.substitute(u,"//VTK::Normal::Dec",["uniform mat3 normalMatrix;","uniform samplerBuffer textureN;"]).result,u=ue.substitute(u,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalMatrix *","    texelFetchBuffer(textureN, gl_PrimitiveID + PrimitiveIDOffset).xyz);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):e.lastBoundBO.getOpenGLMode(i.getProperty().getRepresentation())===e.context.LINES?(u=ue.substitute(u,"//VTK::UniformFlow::Impl",["  vec3 fdx = dFdx(vertexVC.xyz);","  vec3 fdy = dFdy(vertexVC.xyz);","  //VTK::UniformFlow::Impl"]).result,u=ue.substitute(u,"//VTK::Normal::Impl",["vec3 normalVCVSOutput;","  if (abs(fdx.x) > 0.0)","    { fdx = normalize(fdx); normalVCVSOutput = normalize(cross(vec3(fdx.y, -fdx.x, 0.0), fdx)); }","  else { fdy = normalize(fdy); normalVCVSOutput = normalize(cross(vec3(fdy.y, -fdy.x, 0.0), fdy));}"]).result):(u=ue.substitute(u,"//VTK::Normal::Dec",["uniform int cameraParallel;"]).result,u=ue.substitute(u,"//VTK::UniformFlow::Impl",["  vec3 fdx = dFdx(vertexVC.xyz);","  vec3 fdy = dFdy(vertexVC.xyz);","  //VTK::UniformFlow::Impl"]).result,u=ue.substitute(u,"//VTK::Normal::Impl",["  fdx = normalize(fdx);","  fdy = normalize(fdy);","  vec3 normalVCVSOutput = normalize(cross(fdx,fdy));","  if (cameraParallel == 1 && normalVCVSOutput.z < 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }","  if (cameraParallel == 0 && dot(normalVCVSOutput,vertexVC.xyz) > 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }"]).result),r.Vertex=o,r.Geometry=c,r.Fragment=u}},t.replaceShaderPositionVC=function(r,a,i){e.lastBoundBO.replaceShaderPositionVC(r,a,i);var s=r.Vertex,o=r.Geometry,c=r.Fragment,u=e.lastBoundBO.getReferenceByName("lastLightComplexity");u>0?(s=ue.substitute(s,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,s=ue.substitute(s,"//VTK::PositionVC::Impl",["vertexVCVSOutput = MCVCMatrix * vertexMC;","  gl_Position = MCPCMatrix * vertexMC;"]).result,s=ue.substitute(s,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result,o=ue.substitute(o,"//VTK::PositionVC::Dec",["in vec4 vertexVCVSOutput[];","out vec4 vertexVCGSOutput;"]).result,o=ue.substitute(o,"//VTK::PositionVC::Impl",["vertexVCGSOutput = vertexVCVSOutput[i];"]).result,c=ue.substitute(c,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,c=ue.substitute(c,"//VTK::PositionVC::Impl",["vec4 vertexVC = vertexVCVSOutput;"]).result):(s=ue.substitute(s,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,s=ue.substitute(s,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result),r.Vertex=s,r.Geometry=o,r.Fragment=c},t.replaceShaderTCoord=function(r,a,i){if(e.lastBoundBO.getCABO().getTCoordOffset()){var s=r.Vertex,o=r.Geometry,c=r.Fragment;if(e.drawingEdges)return;s=ue.substitute(s,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result;var u=e.openGLActor.getActiveTextures(),l=2,f=2;if(u&&u.length>0&&(l=u[0].getComponents(),u[0].getTarget()===e.context.TEXTURE_CUBE_MAP&&(f=3)),e.renderable.getColorTextureMap()&&(l=e.renderable.getColorTextureMap().getPointData().getScalars().getNumberOfComponents(),f=2),f===2){if(s=ue.substitute(s,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result,o=ue.substitute(o,"//VTK::TCoord::Dec",["in vec2 tcoordVCVSOutput[];","out vec2 tcoordVCGSOutput;"]).result,o=ue.substitute(o,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,c=ue.substitute(c,"//VTK::TCoord::Dec",["varying vec2 tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,u&&u.length>=1)switch(l){case 1:c=ue.substitute(c,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;"]).result;break;case 2:c=ue.substitute(c,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;","  opacity = opacity * tcolor.g;"]).result;break;default:c=ue.substitute(c,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.rgb;","  diffuseColor = diffuseColor*tcolor.rgb;","  opacity = opacity * tcolor.a;"]).result}}else switch(s=ue.substitute(s,"//VTK::TCoord::Dec","attribute vec3 tcoordMC; varying vec3 tcoordVCVSOutput;").result,o=ue.substitute(o,"//VTK::TCoord::Dec",["in vec3 tcoordVCVSOutput[];","out vec3 tcoordVCGSOutput;"]).result,o=ue.substitute(o,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,c=ue.substitute(c,"//VTK::TCoord::Dec",["varying vec3 tcoordVCVSOutput;","uniform samplerCube texture1;"]).result,l){case 1:c=ue.substitute(c,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;"]).result;break;case 2:c=ue.substitute(c,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;","  opacity = opacity * tcolor.g;"]).result;break;default:c=ue.substitute(c,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.rgb;","  diffuseColor = diffuseColor*tcolor.rgb;","  opacity = opacity * tcolor.a;"]).result}r.Vertex=s,r.Geometry=o,r.Fragment=c}},t.replaceShaderClip=function(r,a,i){var s=r.Vertex,o=r.Fragment;if(e.renderable.getNumberOfClippingPlanes()){var c=e.renderable.getNumberOfClippingPlanes();s=ue.substitute(s,"//VTK::Clip::Dec",["uniform int numClipPlanes;","uniform vec4 clipPlanes[".concat(c,"];"),"varying float clipDistancesVSOutput[".concat(c,"];")]).result,s=ue.substitute(s,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < ".concat(c,"; planeNum++)"),"    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,o=ue.substitute(o,"//VTK::Clip::Dec",["uniform int numClipPlanes;","varying float clipDistancesVSOutput[".concat(c,"];")]).result,o=ue.substitute(o,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < ".concat(c,"; planeNum++)"),"    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}r.Vertex=s,r.Fragment=o},t.getCoincidentParameters=function(r,a){var i={factor:0,offset:0},s=a.getProperty();if(e.renderable.getResolveCoincidentTopology()||s.getEdgeVisibility()&&s.getRepresentation()===na.SURFACE){var o=e.lastBoundBO.getPrimitiveType();o===vt.Points||s.getRepresentation()===na.POINTS?i=e.renderable.getCoincidentTopologyPointOffsetParameter():o===vt.Lines||s.getRepresentation()===na.WIREFRAME?i=e.renderable.getCoincidentTopologyLineOffsetParameters():(o===vt.Tris||o===vt.TriStrips)&&(i=e.renderable.getCoincidentTopologyPolygonOffsetParameters()),(o===vt.TrisEdges||o===vt.TriStripsEdges)&&(i=e.renderable.getCoincidentTopologyPolygonOffsetParameters(),i.factor/=2,i.offset/=2)}var c=e.openGLRenderer.getSelector();return c&&c.getFieldAssociation()===l0.FIELD_ASSOCIATION_POINTS&&(i.offset-=2),i},t.replaceShaderPicking=function(r,a,i){var s=r.Fragment,o=r.Vertex;if(s=ue.substitute(s,"//VTK::Picking::Dec",["uniform int picking;","//VTK::Picking::Dec"]).result,!!e.openGLRenderer.getSelector()){switch((e.lastSelectionState===zt.ID_LOW24||e.lastSelectionState===zt.ID_HIGH24)&&(o=ue.substitute(o,"//VTK::Picking::Dec",[`flat out int vertexIDVSOutput;
`,`uniform int VertexIDOffset;
`]).result,o=ue.substitute(o,"//VTK::Picking::Impl",`  vertexIDVSOutput = gl_VertexID + VertexIDOffset;
`).result,s=ue.substitute(s,"//VTK::Picking::Dec",`flat in int vertexIDVSOutput;
`).result,s=ue.substitute(s,"//VTK::Picking::Impl",["  int idx = vertexIDVSOutput;","//VTK::Picking::Impl"]).result),e.lastSelectionState){case zt.ID_LOW24:s=ue.substitute(s,"//VTK::Picking::Impl","  gl_FragData[0] = vec4(float(idx%256)/255.0, float((idx/256)%256)/255.0, float((idx/65536)%256)/255.0, 1.0);").result;break;case zt.ID_HIGH24:s=ue.substitute(s,"//VTK::Picking::Impl","  gl_FragData[0] = vec4(float(idx)/255.0, 0.0, 0.0, 1.0);").result;break;default:s=ue.substitute(s,"//VTK::Picking::Dec","uniform vec3 mapperIndex;").result,s=ue.substitute(s,"//VTK::Picking::Impl","  gl_FragData[0] = picking != 0 ? vec4(mapperIndex,1.0) : gl_FragData[0];").result}r.Fragment=s,r.Vertex=o}},t.replaceShaderValues=function(r,a,i){if(t.replaceShaderColor(r,a,i),t.replaceShaderNormal(r,a,i),t.replaceShaderLight(r,a,i),t.replaceShaderTCoord(r,a,i),t.replaceShaderPicking(r,a,i),t.replaceShaderClip(r,a,i),t.replaceShaderCoincidentOffset(r,a,i),t.replaceShaderPositionVC(r,a,i),e.haveSeenDepthRequest){var s=r.Fragment;s=ue.substitute(s,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,s=ue.substitute(s,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result,r.Fragment=s}},t.getNeedToRebuildShaders=function(r,a,i){var s=0,o=0,c=r.getPrimitiveType(),u=e.currentInput,l=!1,f=u.getPointData().getNormals(),h=u.getCellData().getNormals(),p=i.getProperty().getInterpolation()===sl.FLAT,d=i.getProperty().getRepresentation(),y=r.getOpenGLMode(d,c);if((y===e.context.TRIANGLES||h&&!f||!p&&f||!p&&y===e.context.LINES)&&(l=!0),i.getProperty().getLighting()&&l){s=0;for(var m=a.getLightsByReference(),_=0;_<m.length;++_){var v=m[_],g=v.getSwitch();g>0&&(o++,s===0&&(s=1)),s===1&&(o>1||v.getIntensity()!==1||!v.lightTypeIsHeadLight())&&(s=2),s<3&&v.getPositional()&&(s=3)}}var x=!1,w=e.lastBoundBO.getReferenceByName("lastLightComplexity"),C=e.lastBoundBO.getReferenceByName("lastLightCount");return(w!==s||C!==o)&&(e.lastBoundBO.set({lastLightComplexity:s},!0),e.lastBoundBO.set({lastLightCount:o},!0),x=!0),!e.currentRenderPass&&e.lastRenderPassShaderReplacement&&(x=!0,e.lastRenderPassShaderReplacement=null),e.currentRenderPass&&e.currentRenderPass.getShaderReplacement()!==e.lastRenderPassShaderReplacement&&(e.lastRenderPassShaderReplacement=e.currentRenderPass.getShaderReplacement(),x=!0),e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||r.getShaderSourceTime().getMTime()<e.renderable.getMTime()||r.getShaderSourceTime().getMTime()<e.currentInput.getMTime()||r.getShaderSourceTime().getMTime()<e.selectionStateChanged.getMTime()||x?(e.lastHaveSeenDepthRequest=e.haveSeenDepthRequest,!0):!1},t.invokeShaderCallbacks=function(r,a,i){var s=e.renderable.getViewSpecificProperties().ShadersCallbacks;s&&s.forEach(function(o){o.callback(o.userData,r,a,i)})},t.setMapperShaderParameters=function(r,a,i){if(r.getProgram().isUniformUsed("PrimitiveIDOffset")&&r.getProgram().setUniformi("PrimitiveIDOffset",e.primitiveIDOffset),r.getProgram().isUniformUsed("VertexIDOffset")&&r.getProgram().setUniformi("VertexIDOffset",e.vertexIDOffset),r.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())){var s=e.lastBoundBO.getReferenceByName("lastLightComplexity");r.getProgram().isAttributeUsed("vertexMC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"vertexMC",r.getCABO().getVertexOffset(),r.getCABO().getStride(),e.context.FLOAT,3,!1)||xn("Error setting vertexMC in shader VAO.")),r.getProgram().isAttributeUsed("normalMC")&&r.getCABO().getNormalOffset()&&s>0?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"normalMC",r.getCABO().getNormalOffset(),r.getCABO().getStride(),e.context.FLOAT,3,!1)||xn("Error setting normalMC in shader VAO."):r.getVAO().removeAttributeArray("normalMC"),e.renderable.getCustomShaderAttributes().forEach(function(C,S){r.getProgram().isAttributeUsed("".concat(C,"MC"))&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"".concat(C,"MC"),r.getCABO().getCustomData()[S].offset,r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getCustomData()[S].components,!1)||xn("Error setting ".concat(C,"MC in shader VAO.")))}),r.getProgram().isAttributeUsed("tcoordMC")&&r.getCABO().getTCoordOffset()?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"tcoordMC",r.getCABO().getTCoordOffset(),r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getTCoordComponents(),!1)||xn("Error setting tcoordMC in shader VAO."):r.getVAO().removeAttributeArray("tcoordMC"),r.getProgram().isAttributeUsed("scalarColor")&&r.getCABO().getColorComponents()?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO().getColorBO(),"scalarColor",r.getCABO().getColorOffset(),r.getCABO().getColorBOStride(),e.context.UNSIGNED_BYTE,4,!0)||xn("Error setting scalarColor in shader VAO."):r.getVAO().removeAttributeArray("scalarColor"),r.getAttributeUpdateTime().modified()}if(e.renderable.getNumberOfClippingPlanes()){var o=e.renderable.getNumberOfClippingPlanes(),c=[],u=r.getCABO().getCoordShiftAndScaleEnabled(),l=u?r.getCABO().getInverseShiftAndScaleMatrix():null,f=l?Ft(e.tmpMat4,i.getMatrix()):i.getMatrix();l&&(Ze(f,f),st(f,f,l),Ze(f,f));for(var h=0;h<o;h++){var p=[];e.renderable.getClippingPlaneInDataCoords(f,h,p);for(var d=0;d<4;d++)c.push(p[d])}r.getProgram().setUniformi("numClipPlanes",o),r.getProgram().setUniform4fv("clipPlanes",c)}e.internalColorTexture&&r.getProgram().isUniformUsed("texture1")&&r.getProgram().setUniformi("texture1",e.internalColorTexture.getTextureUnit());var y=e.openGLActor.getActiveTextures();if(y)for(var m=0;m<y.length;++m){var _=y[m],v=_.getTextureUnit(),g="texture".concat(v+1);r.getProgram().isUniformUsed(g)&&r.getProgram().setUniformi(g,v)}if(e.haveSeenDepthRequest&&r.getProgram().setUniformi("depthRequest",e.renderDepth?1:0),r.getProgram().isUniformUsed("coffset")){var x=t.getCoincidentParameters(a,i);r.getProgram().setUniformf("coffset",x.offset),r.getProgram().isUniformUsed("cfactor")&&r.getProgram().setUniformf("cfactor",x.factor)}r.setMapperShaderParameters(a,i,e.openGLRenderer.getTiledSizeAndOrigin());var w=e.openGLRenderer.getSelector();r.getProgram().setUniform3fArray("mapperIndex",w?w.getPropColorValue():[0,0,0]),r.getProgram().setUniformi("picking",w?w.getCurrentPass()+1:0)},t.setLightingShaderParameters=function(r,a,i){var s=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(!(s<2)){for(var o=r.getProgram(),c=0,u=a.getLightsByReference(),l=0;l<u.length;++l){var f=u[l],h=f.getSwitch();if(h>0){var p=f.getColorByReference(),d=f.getIntensity();e.lightColor[0]=p[0]*d,e.lightColor[1]=p[1]*d,e.lightColor[2]=p[2]*d;var y=f.getDirection(),m=a.getActiveCamera().getViewMatrix(),_=we(y);f.lightTypeIsSceneLight()&&(_[0]=m[0]*y[0]+m[1]*y[1]+m[2]*y[2],_[1]=m[4]*y[0]+m[5]*y[1]+m[6]*y[2],_[2]=m[8]*y[0]+m[9]*y[1]+m[10]*y[2],lt(_)),e.lightDirection[0]=_[0],e.lightDirection[1]=_[1],e.lightDirection[2]=_[2],e.lightHalfAngle[0]=-e.lightDirection[0],e.lightHalfAngle[1]=-e.lightDirection[1],e.lightHalfAngle[2]=-e.lightDirection[2]+1,lt(e.lightDirection),o.setUniform3fArray("lightColor".concat(c),e.lightColor),o.setUniform3fArray("lightDirectionVC".concat(c),e.lightDirection),o.setUniform3fArray("lightHalfAngleVC".concat(c),e.lightHalfAngle),c++}}if(!(s<3)){var v=a.getActiveCamera(),g=v.getViewMatrix();Ze(g,g),c=0;for(var x=0;x<u.length;++x){var w=u[x],C=w.getSwitch();if(C>0){var S=w.getTransformedPosition(),T=new Float64Array(3);Te(T,S,g),o.setUniform3fArray("lightAttenuation".concat(c),w.getAttenuationValuesByReference()),o.setUniformi("lightPositional".concat(c),w.getPositional()),o.setUniformf("lightExponent".concat(c),w.getExponent()),o.setUniformf("lightConeAngle".concat(c),w.getConeAngle()),o.setUniform3fArray("lightPositionVC".concat(c),[T[0],T[1],T[2]]),c++}}}}};function n(r,a,i){return a.identity(i),r.reduce(function(s,o,c){return c===0?o?a.copy(s,o):a.identity(s):o?a.multiply(s,s,o):s},i)}t.setCameraShaderParameters=function(r,a,i){var s=r.getProgram(),o=e.openGLCamera.getKeyMatrices(a),c=a.getActiveCamera(),u=e.openGLCamera.getKeyMatrixTime().getMTime(),l=s.getLastCameraMTime(),f=r.getCABO().getCoordShiftAndScaleEnabled(),h=f?r.getCABO().getInverseShiftAndScaleMatrix():null,p=i.getIsIdentity(),d=p?{mcwc:null,normalMatrix:null}:e.openGLActor.getKeyMatrices();s.setUniformMatrix("MCPCMatrix",n([o.wcpc,d.mcwc,h],K0,e.tmpMat4)),s.isUniformUsed("MCVCMatrix")&&s.setUniformMatrix("MCVCMatrix",n([o.wcvc,d.mcwc,h],K0,e.tmpMat4)),s.isUniformUsed("normalMatrix")&&s.setUniformMatrix3x3("normalMatrix",n([o.normalMatrix,d.normalMatrix],V2,e.tmpMat3)),l!==u&&(s.isUniformUsed("cameraParallel")&&s.setUniformi("cameraParallel",c.getParallelProjection()),s.setLastCameraMTime(u)),p||s.setLastCameraMTime(0)},t.setPropertyShaderParameters=function(r,a,i){var s=r.getProgram(),o=i.getProperty(),c=o.getOpacity(),u=e.drawingEdges?o.getEdgeColorByReference():o.getAmbientColorByReference(),l=e.drawingEdges?o.getEdgeColorByReference():o.getDiffuseColorByReference(),f=e.drawingEdges?1:o.getAmbient(),h=e.drawingEdges?0:o.getDiffuse(),p=e.drawingEdges?0:o.getSpecular(),d=o.getSpecularPower();s.setUniformf("opacityUniform",c),s.setUniform3fArray("ambientColorUniform",u),s.setUniform3fArray("diffuseColorUniform",l),s.setUniformf("ambient",f),s.setUniformf("diffuse",h);var y=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(!(y<1)){var m=o.getSpecularColorByReference();if(s.setUniform3fArray("specularColorUniform",m),s.setUniformf("specularPowerUniform",d),s.setUniformf("specular",p),s.isUniformUsed("ambientIntensityBF")){if(o=i.getBackfaceProperty(),c=o.getOpacity(),u=o.getAmbientColor(),f=o.getAmbient(),l=o.getDiffuseColor(),h=o.getDiffuse(),m=o.getSpecularColor(),p=o.getSpecular(),s.setUniformf("ambientIntensityBF",f),s.setUniformf("diffuseIntensityBF",h),s.setUniformf("opacityUniformBF",c),s.setUniform3fArray("ambientColorUniformBF",u),s.setUniform3fArray("diffuseColorUniformBF",l),y<1)return;s.setUniformf("specularIntensityBF",p),s.setUniform3fArray("specularColorUniformBF",m),s.setUniformf("specularPowerUniformBF",d)}}},t.updateMaximumPointCellIds=function(r,a){var i,s,o,c,u=e.openGLRenderer.getSelector();if(!!u){if((i=e.selectionWebGLIdsToVTKIds)!==null&&i!==void 0&&(s=i.points)!==null&&s!==void 0&&s.length){var l=e.selectionWebGLIdsToVTKIds.points.length;u.setMaximumPointId(l-1)}if((o=e.selectionWebGLIdsToVTKIds)!==null&&o!==void 0&&(c=o.cells)!==null&&c!==void 0&&c.length){var f=e.selectionWebGLIdsToVTKIds.cells.length;u.setMaximumCellId(f-1)}var h=u.getFieldAssociation();h===l0.FIELD_ASSOCIATION_POINTS&&(e.pointPicking=!0)}},t.renderPieceStart=function(r,a){e.primitiveIDOffset=0,e.vertexIDOffset=0;var i=X6(e.openGLRenderer);if(e.lastSelectionState!==i&&(e.selectionStateChanged.modified(),e.lastSelectionState=i),e.openGLRenderer.getSelector())switch(i){default:e.openGLRenderer.getSelector().renderProp(a)}t.updateBufferObjects(r,a),e.renderable.getColorTextureMap()&&e.internalColorTexture.activate(),e.lastBoundBO=null},t.renderPieceDraw=function(r,a){for(var i=a.getProperty().getRepresentation(),s=a.getProperty().getEdgeVisibility()&&i===na.SURFACE,o=e.openGLRenderer.getSelector(),c=o&&o.getFieldAssociation()===l0.FIELD_ASSOCIATION_POINTS&&(e.lastSelectionState===zt.ID_LOW24||e.lastSelectionState===zt.ID_HIGH24),u=vt.Start;u<vt.End;u++){e.primitives[u].setPointPicking(c);var l=e.primitives[u].getCABO();l.getElementCount()&&(e.drawingEdges=s&&(u===vt.TrisEdges||u===vt.TriStripsEdges),(!e.drawingEdges||!e.renderDepth)&&(e.lastBoundBO=e.primitives[u],e.primitiveIDOffset+=e.primitives[u].drawArrays(r,a,i,t),e.vertexIDOffset+=e.primitives[u].getCABO().getElementCount()))}},t.renderPieceFinish=function(r,a){e.LastBoundBO&&e.LastBoundBO.getVAO().release(),e.renderable.getColorTextureMap()&&e.internalColorTexture.deactivate()},t.renderPiece=function(r,a){if(t.invokeEvent($6),e.renderable.getStatic()||e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent(K6),!e.currentInput){xn("No input!");return}if(!(!e.currentInput.getPoints||!e.currentInput.getPoints().getNumberOfValues())){var i=e.context,s=a.getProperty().getBackfaceCulling(),o=a.getProperty().getFrontfaceCulling();!s&&!o?e._openGLRenderWindow.disableCullFace():o?(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.FRONT)):(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.BACK)),t.renderPieceStart(r,a),t.renderPieceDraw(r,a),t.renderPieceFinish(r,a)}},t.computeBounds=function(r,a){if(!t.getInput()){Fa(e.bounds);return}e.bounds=t.getInput().getBounds()},t.updateBufferObjects=function(r,a){t.getNeedToRebuildBufferObjects(r,a)&&t.buildBufferObjects(r,a)},t.getNeedToRebuildBufferObjects=function(r,a){var i=e.VBOBuildTime.getMTime();return i<t.getMTime()||i<e.renderable.getMTime()||i<a.getMTime()||i<e.currentInput.getMTime()},t.buildBufferObjects=function(r,a){var i=e.currentInput;if(i!==null){e.renderable.mapScalars(i,1);var s=e.renderable.getColorMapColors();e.haveCellScalars=!1;var o=e.renderable.getScalarMode();e.renderable.getScalarVisibility()&&(o===ho.USE_CELL_DATA||o===ho.USE_CELL_FIELD_DATA||o===ho.USE_FIELD_DATA||!i.getPointData().getScalars())&&o!==ho.USE_POINT_FIELD_DATA&&s&&(e.haveCellScalars=!0);var c=a.getProperty().getInterpolation()!==sl.FLAT?i.getPointData().getNormals():null;c===null&&i.getCellData().getNormals()&&(e.haveCellNormals=!0,c=i.getCellData().getNormals());var u=a.getProperty().getRepresentation(),l=i.getPointData().getTCoords();if(e.openGLActor.getActiveTextures()||(l=null),e.renderable.getColorCoordinates()){l=e.renderable.getColorCoordinates(),e.internalColorTexture||(e.internalColorTexture=Wt.newInstance());var f=e.internalColorTexture;f.setMinificationFilter(ul.NEAREST),f.setMagnificationFilter(ul.NEAREST),f.setWrapS(cl.CLAMP_TO_EDGE),f.setWrapT(cl.CLAMP_TO_EDGE),f.setOpenGLRenderWindow(e._openGLRenderWindow);var h=e.renderable.getColorTextureMap(),p=h.getExtent(),d=h.getPointData().getScalars();f.create2DFromRaw(p[1]-p[0]+1,p[3]-p[2]+1,d.getNumberOfComponents(),d.getDataType(),d.getData()),f.activate(),f.sendParameters(),f.deactivate()}var y="".concat(i.getMTime(),"A").concat(u,"B").concat(i.getMTime())+"C".concat(c?c.getMTime():1,"D").concat(s?s.getMTime():1)+"E".concat(a.getProperty().getEdgeVisibility())+"F".concat(l?l.getMTime():1);if(e.VBOBuildString!==y){var m=i.getPoints(),_={points:m,normals:c,tcoords:l,colors:s,cellOffset:0,vertexOffset:0,haveCellScalars:e.haveCellScalars,haveCellNormals:e.haveCellNormals,customAttributes:e.renderable.getCustomShaderAttributes().map(function(w){return i.getPointData().getArrayByName(w)})};e.renderable.getPopulateSelectionSettings()&&(e.selectionWebGLIdsToVTKIds={points:null,cells:null});for(var v=[{inRep:"verts",cells:i.getVerts()},{inRep:"lines",cells:i.getLines()},{inRep:"polys",cells:i.getPolys()},{inRep:"strips",cells:i.getStrips()},{inRep:"polys",cells:i.getPolys()},{inRep:"strips",cells:i.getStrips()}],g=a.getProperty().getEdgeVisibility()&&u===na.SURFACE,x=vt.Start;x<vt.End;x++)x!==vt.TrisEdges&&x!==vt.TriStripsEdges?(_.cellOffset+=e.primitives[x].getCABO().createVBO(v[x].cells,v[x].inRep,u,_,e.selectionWebGLIdsToVTKIds),_.vertexOffset+=e.primitives[x].getCABO().getElementCount()):g?e.primitives[x].getCABO().createVBO(v[x].cells,v[x].inRep,na.WIREFRAME,{points:m,normals:c,tcoords:null,colors:null,cellOffset:0,haveCellScalars:!1,haveCellNormals:!1}):e.primitives[x].releaseGraphicsResources();e.renderable.getPopulateSelectionSettings()&&(e.renderable.setSelectionWebGLIdsToVTKIds(e.selectionWebGLIdsToVTKIds),t.updateMaximumPointCellIds()),e.VBOBuildTime.modified(),e.VBOBuildString=y}}}}var Y6={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null,tmpMat4:null,ambientColor:[],diffuseColor:[],specularColor:[],lightColor:[],lightHalfAngle:[],lightDirection:[],lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastSelectionState:zt.MIN_KNOWN_PASS-1,selectionStateChanged:null,selectionWebGLIdsToVTKIds:null,pointPicking:!1};function Lv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Y6,n),Ut.extend(t,e,n),nc.implementReplaceShaderCoincidentOffset(t,e,n),e.primitives=[],e.primTypes=vt,e.tmpMat3=kr(new Float64Array(9)),e.tmpMat4=Me(new Float64Array(16));for(var r=vt.Start;r<vt.End;r++)e.primitives[r]=dn.newInstance(),e.primitives[r].setPrimitiveType(r),e.primitives[r].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:!1},!0);Rt(t,e,["context"]),e.VBOBuildTime={},St(e.VBOBuildTime,{mtime:0}),e.selectionStateChanged={},St(e.selectionStateChanged,{mtime:0}),q6(t,e)}var Fv=ut(Lv,"vtkOpenGLPolyDataMapper"),Z6={newInstance:Fv,extend:Lv};Gt("vtkMapper",Fv);var J6=gn.ColorMode,wn=gn.ScalarMode,h0=gn.GetArray;function Q6(t,e){e.classHierarchy.push("vtkMapper2D"),t.createDefaultLookupTable=function(){e.lookupTable=ri.newInstance()},t.getColorModeAsString=function(){return I.enumToString(J6,e.colorMode)},t.setColorModeToDefault=function(){return t.setColorMode(0)},t.setColorModeToMapScalars=function(){return t.setColorMode(1)},t.setColorModeToDirectScalars=function(){return t.setColorMode(2)},t.getScalarModeAsString=function(){return I.enumToString(wn,e.scalarMode)},t.setScalarModeToDefault=function(){return t.setScalarMode(0)},t.setScalarModeToUsePointData=function(){return t.setScalarMode(1)},t.setScalarModeToUseCellData=function(){return t.setScalarMode(2)},t.setScalarModeToUsePointFieldData=function(){return t.setScalarMode(3)},t.setScalarModeToUseCellFieldData=function(){return t.setScalarMode(4)},t.setScalarModeToUseFieldData=function(){return t.setScalarMode(5)},t.getAbstractScalars=function(n,r,a,i,s){if(!n||!e.scalarVisibility)return{scalars:null,cellFLag:!1};var o=null,c=!1;if(r===wn.DEFAULT)o=n.getPointData().getScalars(),o||(o=n.getCellData().getScalars(),c=!0);else if(r===wn.USE_POINT_DATA)o=n.getPointData().getScalars();else if(r===wn.USE_CELL_DATA)o=n.getCellData().getScalars(),c=!0;else if(r===wn.USE_POINT_FIELD_DATA){var u=n.getPointData();a===h0.BY_ID?o=u.getArrayByIndex(i):o=u.getArrayByName(s)}else if(r===wn.USE_CELL_FIELD_DATA){var l=n.getCellData();c=!0,a===h0.BY_ID?o=l.getArrayByIndex(i):o=l.getArrayByName(s)}else if(r===wn.USE_FIELD_DATA){var f=n.getFieldData();a===h0.BY_ID?o=f.getArrayByIndex(i):o=f.getArrayByName(s)}return{scalars:o,cellFlag:c}},t.getLookupTable=function(){return e.lookupTable||t.createDefaultLookupTable(),e.lookupTable},t.getMTime=function(){var n=e.mtime;if(e.lookupTable!==null){var r=e.lookupTable.getMTime();n=r>n?r:n}return n},t.mapScalars=function(n,r){var a=t.getAbstractScalars(n,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName).scalars;if(!a){e.colorMapColors=null;return}var i="".concat(t.getMTime()).concat(a.getMTime()).concat(r);if(e.colorBuildString!==i){e.useLookupTableScalarRange||t.getLookupTable().setRange(e.scalarRange[0],e.scalarRange[1]);var s=t.getLookupTable();s&&(s.build(),e.colorMapColors=s.mapScalars(a,e.colorMode,e.fieldDataTupleId)),e.colorBuildString="".concat(t.getMTime()).concat(a.getMTime()).concat(r)}}}var e7={static:!1,lookupTable:null,scalarVisibility:!1,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,transformCoordinate:null,viewSpecificProperties:null,customShaderAttributes:[]};function Av(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,e7,n),Ls.extend(t,e,n),I.get(t,e,["colorMapColors"]),I.setGet(t,e,["arrayAccessMode","colorByArrayName","colorMode","lookupTable","renderTime","scalarMode","scalarVisibility","static","transformCoordinate","useLookupTableScalarRange","viewSpecificProperties","customShaderAttributes"]),I.setGetArray(t,e,["scalarRange"],2),e.viewSpecificProperties||(e.viewSpecificProperties={}),Q6(t,e)}var t7=I.newInstance(Av,"vtkMapper2D"),Bv={newInstance:t7,extend:Av},r7=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyData2DFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

uniform int PrimitiveIDOffset;

// Texture coordinates
//VTK::TCoord::Dec

// Scalar coloring
//VTK::Color::Dec

// Depth Peeling
//VTK::DepthPeeling::Dec

// picking support
//VTK::Picking::Dec

// the output of this shader
//VTK::Output::Dec

// Apple Bug
//VTK::PrimID::Dec

void main()
{
  // Apple Bug
  //VTK::PrimID::Impl

  //VTK::Color::Impl
  //VTK::TCoord::Impl

  //VTK::DepthPeeling::Impl
  //VTK::Picking::Impl

  if (gl_FragData[0].a <= 0.0)
    {
    discard;
    }
}
`,n7=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyData2DVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

// all variables that represent positions or directions have a suffix
// indicating the coordinate system they are in. The possible values are
// MC - Model Coordinates
// WC - WC world coordinates
// VC - View Coordinates
// DC - Display Coordinates

in vec4 vertexWC;

// frag position in VC
//VTK::PositionVC::Dec

// material property values
//VTK::Color::Dec

// Texture coordinates
//VTK::TCoord::Dec

// Apple Bug
//VTK::PrimID::Dec

uniform mat4 WCVCMatrix;  // World to view matrix

void main()
{
  // Apple Bug
  //VTK::PrimID::Impl

  gl_Position = WCVCMatrix*vertexWC;

  //VTK::TCoord::Impl

  //VTK::Color::Impl

  //VTK::PositionVC::Impl
}
`,Vv={BACKGROUND:0,FOREGROUND:1},a7={DisplayLocation:Vv},gr=dn.primTypes,po=Bv.ScalarMode,vo=Le,i7={type:"StartEvent"},o7={type:"EndEvent"};function s7(t,e){e.classHierarchy.push("vtkOpenGLPolyDataMapper2D"),t.buildPass=function(r){r&&(e.openGLActor2D=t.getFirstAncestorOfType("vtkOpenGLActor2D"),e.openGLRenderer=e.openGLActor2D.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent(),e.openGLCamera=e.openGLRenderer.getViewNodeFor(e.openGLRenderer.getRenderable().getActiveCamera()))},t.overlayPass=function(r){r&&t.render()},t.getShaderTemplate=function(r,a,i){var s=e.renderable.getViewSpecificProperties().OpenGL,o=n7;if(s){var c=s.VertexShaderCode;c!==void 0&&c!==""&&(o=c)}r.Vertex=o;var u=r7;if(s){var l=s.FragmentShaderCode;l!==void 0&&l!==""&&(u=l)}r.Fragment=u;var f="";if(s){var h=s.GeometryShaderCode;h!==void 0&&(f=h)}r.Geometry=f},t.render=function(){var r=e._openGLRenderWindow.getContext();if(e.context!==r){e.context=r;for(var a=gr.Start;a<gr.End;a++)e.primitives[a].setOpenGLRenderWindow(e._openGLRenderWindow)}var i=e.openGLActor2D.getRenderable(),s=e.openGLRenderer.getRenderable();t.renderPiece(s,i)},t.renderPiece=function(r,a){if(t.invokeEvent(i7),e.renderable.getStatic()||e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent(o7),!e.currentInput){vo("No input!");return}!e.currentInput.getPoints||!e.currentInput.getPoints().getNumberOfValues()||(t.renderPieceStart(r,a),t.renderPieceDraw(r,a),t.renderPieceFinish(r,a))},t.renderPieceStart=function(r,a){if(e.primitiveIDOffset=0,e.openGLRenderer.getSelector())switch(e.openGLRenderer.getSelector().getCurrentPass()){default:e.openGLRenderer.getSelector().renderProp(a)}t.updateBufferObjects(r,a),e.lastBoundBO=null},t.getNeedToRebuildShaders=function(r,a,i){return r.getShaderSourceTime().getMTime()<e.renderable.getMTime()||r.getShaderSourceTime().getMTime()<e.currentInput.getMTime()},t.updateBufferObjects=function(r,a){t.getNeedToRebuildBufferObjects(r,a)&&t.buildBufferObjects(r,a)},t.getNeedToRebuildBufferObjects=function(r,a){var i=e.VBOBuildTime.getMTime();return!!(i<t.getMTime()||i<e._openGLRenderWindow.getMTime()||i<e.renderable.getMTime()||i<a.getMTime()||i<e.currentInput.getMTime()||e.renderable.getTransformCoordinate()&&i<r.getMTime())},t.buildBufferObjects=function(r,a){var i=e.currentInput;if(i!==null){e.renderable.mapScalars(i,a.getProperty().getOpacity());var s=e.renderable.getColorMapColors();e.haveCellScalars=!1;var o=e.renderable.getScalarMode();e.renderable.getScalarVisibility()&&(o===po.USE_CELL_DATA||o===po.USE_CELL_FIELD_DATA||o===po.USE_FIELD_DATA||!i.getPointData().getScalars())&&o!==po.USE_POINT_FIELD_DATA&&s&&(e.haveCellScalars=!0);var c=a.getProperty().getRepresentation(),u=i.getPointData().getTCoords();e.openGLActor2D.getActiveTextures()||(u=null);var l=e.renderable.getTransformCoordinate(),f=r.getRenderWindow().getViews()[0],h=f.getViewportSize(r),p="".concat(i.getMTime(),"A").concat(c,"B").concat(i.getMTime())+"C".concat(s?s.getMTime():1)+"D".concat(u?u.getMTime():1)+"E".concat(l?r.getMTime():1)+"F".concat(h);if(e.VBOBuildString!==p){var d=i.getPoints();if(l){var y=pn.newInstance(),m=d.getNumberOfPoints();y.setNumberOfPoints(m);for(var _=0;_<m;++_){l.setValue(d.getPoint(_));var v=l.getComputedDoubleViewportValue(r);y.setPoint(_,v[0],v[1],0)}d=y}var g={points:d,tcoords:u,colors:s,cellOffset:0,haveCellScalars:e.haveCellSCalars,customAttributes:e.renderable.getCustomShaderAttributes().map(function(x){return i.getPointData().getArrayByName(x)})};g.cellOffset+=e.primitives[gr.Points].getCABO().createVBO(i.getVerts(),"verts",c,g),g.cellOffset+=e.primitives[gr.Lines].getCABO().createVBO(i.getLines(),"lines",c,g),g.cellOffset+=e.primitives[gr.Tris].getCABO().createVBO(i.getPolys(),"polys",c,g),g.cellOffset+=e.primitives[gr.TriStrips].getCABO().createVBO(i.getStrips(),"strips",c,g),e.VBOBuildTime.modified(),e.VBOBuildString=p}}},t.renderPieceDraw=function(r,a){var i=a.getProperty().getRepresentation(),s=e.context;s.depthMask(!0);for(var o=gr.Start;o<gr.End;o++){var c=e.primitives[o].getCABO();c.getElementCount()&&(e.lastBoundBO=e.primitives[o],e.primitiveIDOffset+=e.primitives[o].drawArrays(r,a,i,t))}},t.renderPieceFinish=function(r,a){e.lastBoundBO&&e.lastBoundBO.getVAO().release()},t.buildShaders=function(r,a,i){t.getShaderTemplate(r,a,i);var s=e.renderable.getViewSpecificProperties().OpenGL,o=null;if(s&&(o=s.ShaderReplacements),o)for(var c=0;c<o.length;c++){var u=o[c];if(u.replaceFirst){var l=u.shaderType,f=r[l],h=ue.substitute(f,u.originalValue,u.replacementValue,u.replaceAll);r[l]=h.result}}if(t.replaceShaderValues(r,a,i),o)for(var p=0;p<o.length;p++){var d=o[p];if(!d.replaceFirst){var y=d.shaderType,m=r[y],_=ue.substitute(m,d.originalValue,d.replacementValue,d.replaceAll);r[y]=_.result}}},t.replaceShaderValues=function(r,a,i){t.replaceShaderColor(r,a,i),t.replaceShaderTCoord(r,a,i),t.replaceShaderPicking(r,a,i),t.replaceShaderPositionVC(r,a,i)},t.replaceShaderColor=function(r,a,i){var s=r.Vertex,o=r.Geometry,c=r.Fragment;e.haveCellScalars&&(c=ue.substitute(c,"//VTK::Color::Dec",["uniform samplerBuffer texture1;"]).result,c=ue.substitute(c,"//VTK::Color::Impl",["gl_FragData[0] = texelFetchBuffer(texture1, gl_PrimitiveID + PrimitiveIDOffset);"]).result),e.lastBoundBO.getCABO().getColorComponents()!==0?(s=ue.substitute(s,"//VTK::Color::Dec",["in vec4 diffuseColor;","out vec4 fcolorVSOutput;"]).result,s=ue.substitute(s,"//VTK::Color::Impl",["fcolorVSOutput = diffuseColor;"]).result,o=ue.substitute(o,"//VTK::Color::Dec",[`in vec4 fcolorVSOutput[];
`,"out vec4 fcolorGSOutput;"]).result,o=ue.substitute(o,"//VTK::Color::Impl",["fcolorGSOutput = fcolorVSOutput[i];"]).result,c=ue.substitute(c,"//VTK::Color::Dec",["in vec4 fcolorVSOutput;"]).result,c=ue.substitute(c,"//VTK::Color::Impl",["gl_FragData[0] = fcolorVSOutput;"]).result):(c=ue.substitute(c,"//VTK::Color::Dec",["uniform vec4 diffuseColor;"]).result,c=ue.substitute(c,"//VTK::Color::Impl",["gl_FragData[0] = diffuseColor;"]).result),r.Vertex=s,r.Geometry=o,r.Fragment=c},t.replaceShaderTCoord=function(r,a,i){if(e.lastBoundBO.getCABO().getTCoordOffset()){var s=r.Vertex,o=r.Geometry,c=r.Fragment,u=e.lastBoundBO.getCABO().getTCoordComponents();u===1?(s=ue.substitute(s,"//VTK::TCoord::Dec",["in float tcoordMC;","out float tcoordVCVSOutput;"]).result,s=ue.substitute(s,"//VTK::TCoord::Impl",["tcoordVCVSOutput = tcoordMC;"]).result,o=ue.substitute(o,"//VTK::TCoord::Dec",[`in float tcoordVCVSOutput[];
`,"out float tcoordVCGSOutput;"]).result,o=ue.substitute(o,["//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];"]).result,c=ue.substitute(c,"//VTK::TCoord::Dec",["in float tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,c=ue.substitute(c,"//VTK::TCoord::Impl",["gl_FragData[0] = gl_FragData[0]*texture2D(texture1, vec2(tcoordVCVSOutput,0));"]).result):u===2&&(s=ue.substitute(s,"//VTK::TCoord::Dec",["in vec2 tcoordMC;","out vec2 tcoordVCVSOutput;"]).result,s=ue.substitute(s,"//VTK::TCoord::Impl",["tcoordVCVSOutput = tcoordMC;"]).result,o=ue.substitute(o,"//VTK::TCoord::Dec",[`in vec2 tcoordVCVSOutput[];
`,"out vec2 tcoordVCGSOutput;"]).result,o=ue.substitute(o,"//VTK::TCoord::Impl",["tcoordVCGSOutput = tcoordVCVSOutput[i];"]).result,c=ue.substitute(c,"//VTK::TCoord::Dec",["in vec2 tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,c=ue.substitute(c,"//VTK::TCoord::Impl",["gl_FragData[0] = gl_FragData[0]*texture2D(texture1, tcoordVCVSOutput.st);"]).result),e.haveCellScalars&&(o=ue.substitute(o,"//VTK::PrimID::Impl",["gl_PrimitiveID = gl_PrimitiveIDIn;"]).result),r.Vertex=s,r.Geometry=o,r.Fragment=c}},t.replaceShaderPicking=function(r,a,i){var s=r.Fragment;s=ue.substitute(s,"//VTK::Picking::Dec",["uniform vec3 mapperIndex;","uniform int picking;"]).result,s=ue.substitute(s,"//VTK::Picking::Impl","  gl_FragData[0] = picking != 0 ? vec4(mapperIndex,1.0) : gl_FragData[0];").result,r.Fragment=s},t.replaceShaderPositionVC=function(r,a,i){e.lastBoundBO.replaceShaderPositionVC(r,a,i)},t.invokeShaderCallbacks=function(r,a,i){var s=e.renderable.getViewSpecificProperties().ShadersCallbacks;s&&s.forEach(function(o){o.callback(o.userData,r,a,i)})},t.setMapperShaderParameters=function(r,a,i){if(r.getProgram().isUniformUsed("PrimitiveIDOffset")&&r.getProgram().setUniformi("PrimitiveIDOffset",e.primitiveIDOffset),r.getProgram().isAttributeUsed("vertexWC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"vertexWC",r.getCABO().getVertexOffset(),r.getCABO().getStride(),e.context.FLOAT,3,!1)||vo("Error setting vertexWC in shader VAO.")),r.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())){e.renderable.getCustomShaderAttributes().forEach(function(h,p){r.getProgram().isAttributeUsed("".concat(h,"MC"))&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"".concat(h,"MC"),r.getCABO().getCustomData()[p].offset,r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getCustomData()[p].components,!1)||vo("Error setting ".concat(h,"MC in shader VAO.")))}),r.getProgram().isAttributeUsed("tcoordMC")&&r.getCABO().getTCoordOffset()?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"tcoordMC",r.getCABO().getTCoordOffset(),r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getTCoordComponents(),!1)||vo("Error setting tcoordMC in shader VAO."):r.getVAO().removeAttributeArray("tcoordMC"),e.internalColorTexture&&r.getProgram().isUniformUsed("texture1")&&r.getProgram().setUniformi("texture1",e.internalColorTexture.getTextureUnit());var s=e.openGLActor2D.getActiveTextures();if(s)for(var o=0;o<s.length;++o){var c=s[o],u=c.getTextureUnit(),l="texture".concat(u+1);r.getProgram().isUniformUsed(l)&&r.getProgram().setUniformi(l,u)}r.setMapperShaderParameters(a,i,e.openGLRenderer.getTiledSizeAndOrigin());var f=e.openGLRenderer.getSelector();r.getProgram().setUniform3fArray("mapperIndex",f?f.getPropColorValue():[0,0,0]),r.getProgram().setUniformi("picking",f?f.getCurrentPass()+1:0)}},t.setPropertyShaderParameters=function(r,a,i){var s=e.renderable.getColorMapColors();if(!s||s.getNumberOfComponents()===0){var o=r.getProgram(),c=i.getProperty(),u=c.getOpacity(),l=c.getColor(),f=[l[0],l[1],l[2],u];o.setUniform4f("diffuseColor",f)}},t.setLightingShaderParameters=function(r,a,i){};function n(r,a,i){return a.identity(i),r.reduce(function(s,o,c){return c===0?o?a.copy(s,o):a.identity(s):o?a.multiply(s,s,o):s},i)}t.setCameraShaderParameters=function(r,a,i){var s=r.getProgram(),o=r.getCABO().getCoordShiftAndScaleEnabled(),c=o?r.getCABO().getInverseShiftAndScaleMatrix():null,u=a.getRenderWindow().getViews()[0],l=u.getViewportSize(a),f=a.getViewport(),h=i.getActualPositionCoordinate().getComputedDoubleViewportValue(a),p=[0,0,1,1],d=[0,0,1,1];if(d[0]=f[0]>=p[0]?f[0]:p[0],d[1]=f[1]>=p[1]?f[1]:p[1],d[2]=f[2]<=p[2]?f[2]:p[2],d[3]=f[3]<=p[3]?f[3]:p[3],!(d[0]>=d[2])&&!(d[1]>=d[3])){l[0]=on(l[0]*(d[2]-d[0])/(f[2]-f[0])),l[1]=on(l[1]*(d[3]-d[1])/(f[3]-f[1]));var y=e.openGLRenderer.getParent().getSize(),m=on(h[0]-(d[0]-f[0])*y[0]),_=on(h[1]-(d[1]-f[1])*y[1]),v=-m,g=-m+l[0],x=-_,w=-_+l[1];v===g&&(g=v+1),x===w&&(w=x+1);var C=Me(new Float64Array(16));C[0]=2/(g-v),C[1*4+1]=2/(w-x),C[0*4+3]=-1*(g+v)/(g-v),C[1*4+3]=-1*(w+x)/(w-x),C[2*4+2]=0,C[2*4+3]=i.getProperty().getDisplayLocation()===Vv.FOREGROUND?-1:1,C[3*4+3]=1,Ze(C,C),s.setUniformMatrix("WCVCMatrix",n([C,c],K0,e.tmpMat4))}}}var u7={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null};function c7(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,u7,n),Ut.extend(t,e,n),nc.implementReplaceShaderCoincidentOffset(t,e,n),e.primitives=[],e.primTypes=gr,e.tmpMat4=Me(new Float64Array(16));for(var r=gr.Start;r<gr.End;r++)e.primitives[r]=dn.newInstance(),e.primitives[r].setPrimitiveType(r),e.primitives[r].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:!1},!0);Rt(t,e,["context"]),e.VBOBuildTime={},St(e.VBOBuildTime,{mtime:0}),s7(t,e)}var f7=ut(c7,"vtkOpenGLPolyDataMapper2D");Gt("vtkMapper2D",f7);function fl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fl(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var l7=As.VectorMode,Re=new Float64Array(3),go=new Float64Array(3),qe=new Float64Array(3),tr=new Float64Array(3),lr=new Float64Array(3),Cn=new Float64Array(3),hr=new Float64Array(16);function p0(t,e){t.strokeStyle=e.strokeColor,t.lineWidth=e.strokeSize,t.fillStyle=e.fontColor,t.font="".concat(e.fontStyle," ").concat(e.fontSize,"px ").concat(e.fontFamily)}function Uv(t,e){return function(n){var r=n.getLastSize(),a=Math.pow(r[0]/700,.8),i=Math.pow(r[1]/700,.8),s=Math.min(a,i),o=n.getAxisTextStyle(),c=n.getTickTextStyle();Object.assign(o,e.axisTextStyle),Object.assign(c,e.tickTextStyle),o.fontSize=Math.max(24*s,12),n.getLastAspectRatio()>1?c.fontSize=Math.max(20*s,10):c.fontSize=Math.max(16*s,10);var u=n.updateTextureAtlas();n.setTopTitle(!1);var l=n.getBoxSizeByReference();if(n.getLastAspectRatio()>1){n.setTickLabelPixelOffset(.4*c.fontSize);var f=2*(u.tickWidth+n.getTickLabelPixelOffset())/r[0];n.setAxisTitlePixelOffset(.8*o.fontSize);var h=2*(u.titleHeight+n.getAxisTitlePixelOffset())/r[0];f+.4*h>2*u.titleWidth/r[0]?(n.setTopTitle(!0),l[0]=f+.4*h,n.setBoxPosition([.98-l[0],-.92])):(l[0]=f+1.4*h,n.setBoxPosition([.99-l[0],-.92])),l[1]=Math.max(1.2,Math.min(1.84/i,1.84))}else{n.setAxisTitlePixelOffset(2*c.fontSize),n.setTickLabelPixelOffset(.5*c.fontSize);var p=2*(u.tickHeight+n.getTickLabelPixelOffset())/r[1],d=2*(u.titleHeight+n.getAxisTitlePixelOffset())/r[1],y=2*u.tickWidth/r[0];l[0]=Math.min(1.9,Math.max(1.4,1.4*y*(n.getTicks().length+3))),l[1]=p+d,n.setBoxPosition([-.5*l[0],-.97])}n.recomputeBarSegments(u)}}function Gv(t,e){return function(n){var r=n.getLastTickBounds(),a=cc().domain([r[0],r[1]]),i=a.ticks(5),s=a.tickFormat(5);n.setTicks(i),n.setTickStrings(i.map(s))}}function h7(t,e){e.classHierarchy.push("vtkScalarBarActorHelper"),t.setRenderable=function(n){e.renderable!==n&&(e.renderable=n,e.barActor.setProperty(n.getProperty()),e.barActor.setParentProp(n),e.tmActor.setProperty(n.getProperty()),e.tmActor.setParentProp(n),e.generateTicks=n.generateTicks,e.axisTextStyle=Wr({},n.getAxisTextStyle()),e.tickTextStyle=Wr({},n.getTickTextStyle()),t.modified())},t.updateAPISpecificData=function(n,r,a){(e.lastSize[0]!==n[0]||e.lastSize[1]!==n[1])&&(e.lastSize[0]=n[0],e.lastSize[1]=n[1],e.lastAspectRatio=n[0]/n[1],e.forceUpdate=!0);var i=e.renderable.getScalarsToColors();if(!(!i||!e.renderable.getVisibility())){if(e.barMapper.setLookupTable(i),e.camera=r,e.renderWindow=a,e.forceUpdate||Math.max(i.getMTime(),t.getMTime(),e.renderable.getMTime())>e.lastRebuildTime.getMTime()){var s=i.getMappingRange();if(e.lastTickBounds=we(s),e.renderable.getGenerateTicks()(t),e.renderable.getAutomated())e.renderable.getAutoLayout()(t);else{e.axisTextStyle=Wr({},e.renderable.getAxisTextStyle()),e.tickTextStyle=Wr({},e.renderable.getTickTextStyle()),e.barPosition=we(e.renderable.getBarPosition()),e.barSize=we(e.renderable.getBarSize()),e.boxPosition=we(e.renderable.getBoxPosition()),e.boxSize=we(e.renderable.getBoxSize()),e.axisTitlePixelOffset=e.renderable.getAxisTitlePixelOffset(),e.tickLabelPixelOffset=e.renderable.getTickLabelPixelOffset();var o=t.updateTextureAtlas();t.recomputeBarSegments(o)}e.forceViewUpdate=!0,e.lastRebuildTime.modified(),e.forceUpdate=!1}(e.forceViewUpdate||e.camera.getMTime()>e.lastRedrawTime.getMTime())&&(t.updatePolyDataForLabels(),t.updatePolyDataForBarSegments(),e.lastRedrawTime.modified(),e.forceViewUpdate=!1)}},t.updateTextureAtlas=function(){e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left";var n={},r=new Map,a=0,i=1;p0(e.tmContext,e.axisTextStyle);var s=e.tmContext.measureText(e.renderable.getAxisLabel()),o={height:s.actualBoundingBoxAscent+2,startingHeight:i,width:s.width+2,textStyle:e.axisTextStyle};r.set(e.renderable.getAxisLabel(),o),i+=o.height,a=o.width,n.titleWidth=o.width,n.titleHeight=o.height,n.tickWidth=0,n.tickHeight=0,p0(e.tmContext,e.tickTextStyle);for(var c=[].concat(we(t.getTickStrings()),["NaN","Below","Above"]),u=0;u<c.length;u++)r.has(c[u])||(s=e.tmContext.measureText(c[u]),o={height:s.actualBoundingBoxAscent+2,startingHeight:i,width:s.width+2,textStyle:e.tickTextStyle},r.set(c[u],o),i+=o.height,a<o.width&&(a=o.width),n.tickWidth<o.width&&(n.tickWidth=o.width),n.tickHeight<o.height&&(n.tickHeight=o.height));return a=mr(a),i=mr(i),r.forEach(function(l){l.tcoords=[0,(i-l.startingHeight-l.height)/i,l.width/a,(i-l.startingHeight-l.height)/i,l.width/a,(i-l.startingHeight)/i,0,(i-l.startingHeight)/i]}),e.tmCanvas.width=a,e.tmCanvas.height=i,e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left",e.tmContext.clearRect(0,0,a,i),r.forEach(function(l,f){p0(e.tmContext,l.textStyle),e.tmContext.fillText(f,1,l.startingHeight+l.height-1)}),e.tmTexture.setCanvas(e.tmCanvas),e.tmTexture.modified(),e._tmAtlas=r,n},t.computeBarSize=function(n){e.vertical=e.boxSize[1]>e.boxSize[0];var r=2*n.tickHeight/e.lastSize[1],a=[1,1];if(e.vertical){var i=2*(n.tickWidth+e.tickLabelPixelOffset)/e.lastSize[0];if(e.topTitle){var s=2*(n.titleHeight+e.axisTitlePixelOffset)/e.lastSize[1];e.barSize[0]=e.boxSize[0]-i,e.barSize[1]=e.boxSize[1]-s}else{var o=2*(n.titleHeight+e.axisTitlePixelOffset)/e.lastSize[0];e.barSize[0]=e.boxSize[0]-o-i,e.barSize[1]=e.boxSize[1]}e.barPosition[0]=e.boxPosition[0]+i,e.barPosition[1]=e.boxPosition[1],a[1]=r}else{var c=(2*n.tickWidth-8)/e.lastSize[0],u=2*(n.titleHeight+e.axisTitlePixelOffset)/e.lastSize[1];e.barSize[0]=e.boxSize[0],e.barPosition[0]=e.boxPosition[0],e.barSize[1]=e.boxSize[1]-u-r,e.barPosition[1]=e.boxPosition[1],a[0]=c}return a},t.recomputeBarSegments=function(n){var r,a,i,s,o=t.computeBarSize(n);e.barSegments=[];var c=[0,0],u=e.vertical?1:0,l=e.vertical?.01:.02;function f(d,y){e.barSegments.push({corners:[[].concat(c),[c[0]+o[0],c[1]],[c[0]+o[0],c[1]+o[1]],[c[0],c[1]+o[1]]],scalars:y,title:d}),c[u]+=o[u]+l}e.renderable.getDrawNanAnnotation()&&e.renderable.getScalarsToColors().getNanColor()&&f("NaN",[NaN,NaN,NaN,NaN]),e.renderable.getDrawBelowRangeSwatch()&&(r=(a=e.renderable.getScalarsToColors()).getUseBelowRangeColor)!==null&&r!==void 0&&r.call(a)&&f("Below",[-.1,-.1,-.1,-.1]);var h=(i=(s=e.renderable.getScalarsToColors()).getUseAboveRangeColor)===null||i===void 0?void 0:i.call(s);c[u]+=l;var p=o[u];o[u]=h?1-2*l-o[u]-c[u]:1-l-c[u],f("ticks",e.vertical?[0,0,.995,.995]:[0,.995,.995,0]),e.renderable.getDrawAboveRangeSwatch()&&h&&(o[u]=p,c[u]+=l,f("Above",[1.1,1.1,1.1,1.1]))},t.createPolyDataForOneLabel=function(n,r,a,i,s,o,c){var u=e._tmAtlas.get(n);if(!!u){var l=c.ptIdx,f=c.cellIdx;Re[0]=r[0],Re[1]=r[1],Re[2]=r[2],s[0]<-.5?wt(qe,a,s[0]*o-u.width):s[0]>.5?wt(qe,a,s[0]*o):wt(qe,a,s[0]*o-u.width/2),Ir(Re,Re,qe),wt(qe,i,s[1]*o-u.height/2),Ir(Re,Re,qe),c.points[l*3]=Re[0],c.points[l*3+1]=Re[1],c.points[l*3+2]=Re[2],c.tcoords[l*2]=u.tcoords[0],c.tcoords[l*2+1]=u.tcoords[1],l++,wt(qe,a,u.width),Ir(Re,Re,qe),c.points[l*3]=Re[0],c.points[l*3+1]=Re[1],c.points[l*3+2]=Re[2],c.tcoords[l*2]=u.tcoords[2],c.tcoords[l*2+1]=u.tcoords[3],l++,wt(qe,i,u.height),Ir(Re,Re,qe),c.points[l*3]=Re[0],c.points[l*3+1]=Re[1],c.points[l*3+2]=Re[2],c.tcoords[l*2]=u.tcoords[4],c.tcoords[l*2+1]=u.tcoords[5],l++,wt(qe,a,u.width),ir(Re,Re,qe),c.points[l*3]=Re[0],c.points[l*3+1]=Re[1],c.points[l*3+2]=Re[2],c.tcoords[l*2]=u.tcoords[6],c.tcoords[l*2+1]=u.tcoords[7],l++,c.polys[f*4]=3,c.polys[f*4+1]=l-4,c.polys[f*4+2]=l-3,c.polys[f*4+3]=l-2,f++,c.polys[f*4]=3,c.polys[f*4+1]=l-4,c.polys[f*4+2]=l-2,c.polys[f*4+3]=l-1,c.ptIdx+=4,c.cellIdx+=2}},t.updatePolyDataForLabels=function(){var n=e.camera.getCompositeProjectionMatrix(e.lastAspectRatio,-1,1);Ze(n,n),Zt(hr,n);var r=e.lastSize;qe[0]=0,qe[1]=0,qe[2]=-.99,Te(Re,qe,hr),qe[0]+=.1,Te(go,qe,hr),ir(lr,go,Re),qe[0]-=.1,qe[1]+=.1,Te(go,qe,hr),ir(Cn,go,Re);for(var a=0;a<3;a++)lr[a]/=.5*.1*r[0],Cn[a]/=.5*.1*r[1];var i=t.getTickStrings().length+e.barSegments.length,s=i*4,o=i*2,c=new Float64Array(s*3),u=new Uint16Array(o*4),l=new Float32Array(s*2),f={ptIdx:0,cellIdx:0,polys:u,points:c,tcoords:l},h=e.vertical?0:1,p=e.vertical?1:0,d=[0,1];e.vertical?(e.topTitle?(qe[0]=e.boxPosition[0]+.5*e.boxSize[0],qe[1]=e.barPosition[1]+e.barSize[1],Te(Re,qe,hr),t.createPolyDataForOneLabel(e.renderable.getAxisLabel(),Re,lr,Cn,[0,1],e.axisTitlePixelOffset,f)):(qe[0]=e.barPosition[0]+e.barSize[0],qe[1]=e.barPosition[1]+.5*e.barSize[1],Te(Re,qe,hr),wt(lr,lr,-1),t.createPolyDataForOneLabel(e.renderable.getAxisLabel(),Re,Cn,lr,[0,-1],e.axisTitlePixelOffset,f),wt(lr,lr,-1)),d=[-1,0]):(qe[0]=e.barPosition[0]+.5*e.barSize[0],qe[1]=e.barPosition[1]+e.barSize[1],Te(Re,qe,hr),t.createPolyDataForOneLabel(e.renderable.getAxisLabel(),Re,lr,Cn,d,e.axisTitlePixelOffset,f)),tr[2]=-.99,tr[h]=e.barPosition[h]+(.5*d[h]+.5)*e.barSize[h],tr[p]=e.barPosition[p]+e.barSize[p]*.5;for(var y=null,m=0;m<e.barSegments.length;m++){var _=e.barSegments[m];_.title==="ticks"?y=_:(tr[p]=e.barPosition[p]+.5*e.barSize[p]*(_.corners[2][p]+_.corners[0][p]),Te(Re,tr,hr),t.createPolyDataForOneLabel(_.title,Re,lr,Cn,d,e.tickLabelPixelOffset,f))}for(var v=e.barPosition[p]+e.barSize[p]*y.corners[0][p],g=e.barSize[p]*(y.corners[2][p]-y.corners[0][p]),x=t.getTicks(),w=t.getTickStrings(),C=0;C<x.length;C++){var S=(x[C]-e.lastTickBounds[0])/(e.lastTickBounds[1]-e.lastTickBounds[0]);tr[p]=v+g*S,Te(Re,tr,hr),t.createPolyDataForOneLabel(w[C],Re,lr,Cn,d,e.tickLabelPixelOffset,f)}var T=Ee.newInstance({numberOfComponents:2,values:l,name:"TextureCoordinates"});e.tmPolyData.getPointData().setTCoords(T),e.tmPolyData.getPoints().setData(c,3),e.tmPolyData.getPoints().modified(),e.tmPolyData.getPolys().setData(u,1),e.tmPolyData.getPolys().modified(),e.tmPolyData.modified()},t.updatePolyDataForBarSegments=function(){var n,r,a=e.camera.getCompositeProjectionMatrix(e.lastAspectRatio,-1,1);Ze(a,a),Zt(hr,a);var i=e.renderable.getScalarsToColors(),s=0;e.renderable.getDrawNanAnnotation()&&i.getNanColor()&&(s+=1),e.renderable.getDrawBelowRangeSwatch()&&(n=i.getUseBelowRangeColor)!==null&&n!==void 0&&n.call(i)&&(s+=1),e.renderable.getDrawAboveRangeSwatch()&&(r=i.getUseAboveRangeColor)!==null&&r!==void 0&&r.call(i)&&(s+=1);var o=4*(1+s),c=o,u=1;i.getVectorMode()===l7.COMPONENT&&(u=i.getVectorComponent()+1);for(var l=new Float64Array(o*3),f=new Uint16Array(c*5),h=new Float32Array(o*u),p=0,d=0,y=0;y<e.barSegments.length;y++){var m=e.barSegments[y];tr[1]=e.barPosition[1]+e.barSize[1]*.5,tr[2]=-.99;for(var _=0;_<4;_++){tr[0]=e.barPosition[0]+m.corners[_][0]*e.barSize[0],tr[1]=e.barPosition[1]+m.corners[_][1]*e.barSize[1],Te(Re,tr,hr),l[p*3]=Re[0],l[p*3+1]=Re[1],l[p*3+2]=Re[2];for(var v=0;v<u;v++)h[p*u+v]=e.lastTickBounds[0]+m.scalars[_]*(e.lastTickBounds[1]-e.lastTickBounds[0]);p++}f[d*5]=4,f[d*5+1]=p-4,f[d*5+2]=p-3,f[d*5+3]=p-2,f[d*5+4]=p-1,d++}var g=Ee.newInstance({numberOfComponents:u,values:h,name:"Scalars"});e.polyData.getPointData().setScalars(g),e.polyData.getPoints().setData(l,3),e.polyData.getPoints().modified(),e.polyData.getPolys().setData(f,1),e.polyData.getPolys().modified(),e.polyData.modified()}}var p7=I.newInstance(function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{renderable:null};Object.assign(e,{},n),I.obj(t,e),I.setGet(t,e,["axisTitlePixelOffset","tickLabelPixelOffset","renderable","topTitle","ticks","tickStrings"]),I.get(t,e,["lastSize","lastAspectRatio","lastTickBounds","axisTextStyle","tickTextStyle","barActor","tmActor"]),I.getArray(t,e,["boxPosition","boxSize"]),I.setArray(t,e,["boxPosition","boxSize"],2),e.forceUpdate=!1,e.lastRedrawTime={},I.obj(e.lastRedrawTime,{mtime:0}),e.lastRebuildTime={},I.obj(e.lastRebuildTime,{mtime:0}),e.lastSize=[-1,-1],e.tmCanvas=document.createElement("canvas"),e.tmContext=e.tmCanvas.getContext("2d"),e._tmAtlas=new Map,e.barMapper=hn.newInstance(),e.barMapper.setInterpolateScalarsBeforeMapping(!0),e.barMapper.setUseLookupTableScalarRange(!0),e.polyData=nt.newInstance(),e.barMapper.setInputData(e.polyData),e.barActor=Kr.newInstance(),e.barActor.setMapper(e.barMapper),e.tmPolyData=nt.newInstance(),e.tmMapper=hn.newInstance(),e.tmMapper.setInputData(e.tmPolyData),e.tmTexture=Mv.newInstance(),e.tmTexture.setInterpolate(!1),e.tmActor=Kr.newInstance({parentProp:t}),e.tmActor.setMapper(e.tmMapper),e.tmActor.addTexture(e.tmTexture),e.barPosition=[0,0],e.barSize=[0,0],e.boxPosition=[.88,-.92],e.boxSize=[.1,1.1],e.lastTickBounds=[],h7(t,e)},"vtkScalarBarActorHelper");function v7(t,e){e.classHierarchy.push("vtkScalarBarActor"),t.setTickTextStyle=function(n){e.tickTextStyle=Wr(Wr({},e.tickTextStyle),n),t.modified()},t.setAxisTextStyle=function(n){e.axisTextStyle=Wr(Wr({},e.axisTextStyle),n),t.modified()},t.resetAutoLayoutToDefault=function(){t.setAutoLayout(Uv(t,e))},t.resetGenerateTicksToDefault=function(){t.setGenerateTicks(Gv())}}function d7(t){return Wr({automated:!0,autoLayout:null,axisLabel:"Scalar Value",barPosition:[0,0],barSize:[0,0],boxPosition:[.88,-.92],boxSize:[.1,1.1],scalarToColors:null,axisTitlePixelOffset:36,axisTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:18,fontFamily:"serif"},tickLabelPixelOffset:14,tickTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:14,fontFamily:"serif"},generateTicks:null,drawNanAnnotation:!0,drawBelowRangeSwatch:!0,drawAboveRangeSwatch:!0},t)}function Pv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,d7(n)),e.autoLayout||(e.autoLayout=Uv(t,e)),e.generateTicks||(e.generateTicks=Gv()),Kr.extend(t,e,n),t.getProperty().setDiffuse(0),t.getProperty().setAmbient(1),I.setGet(t,e,["automated","autoLayout","axisTitlePixelOffset","axisLabel","scalarsToColors","tickLabelPixelOffset","generateTicks","drawNanAnnotation","drawBelowRangeSwatch","drawAboveRangeSwatch"]),I.get(t,e,["axisTextStyle","tickTextStyle"]),I.getArray(t,e,["barPosition","barSize","boxPosition","boxSize"]),I.setArray(t,e,["barPosition","barSize","boxPosition","boxSize"],2),v7(t,e)}var g7=I.newInstance(Pv,"vtkScalarBarActor"),jv={newInstance:g7,extend:Pv,newScalarBarActorHelper:p7};function y7(t,e){e.classHierarchy.push("vtkOpenGLScalarBarActor"),t.buildPass=function(n){n&&(e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent(),e.scalarBarActorHelper.getRenderable()||e.scalarBarActorHelper.setRenderable(e.renderable),t.prepareNodes(),t.addMissingNode(e.scalarBarActorHelper.getBarActor()),t.addMissingNode(e.scalarBarActorHelper.getTmActor()),t.removeUnusedNodes())},t.opaquePass=function(n,r){if(n){var a=e.openGLRenderer?e.openGLRenderer.getRenderable().getActiveCamera():null,i=e.openGLRenderer.getTiledSizeAndOrigin();e.scalarBarActorHelper.updateAPISpecificData([i.usize,i.vsize],a,e._openGLRenderWindow.getRenderable())}}}var m7={};function _7(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,m7,n),Ut.extend(t,e,n),e.scalarBarActorHelper=jv.newScalarBarActorHelper(),y7(t,e)}var x7=ut(_7,"vtkOpenGLScalarBarActor");Gt("vtkScalarBarActor",x7);var ll=Le;function w7(t,e){e.classHierarchy.push("vtkOpenGLSkybox"),t.buildPass=function(n){if(n){e.openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e.openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLTexture.setOpenGLRenderWindow(e._openGLRenderWindow);var r=e.openGLRenderer.getRenderable();e.openGLCamera=e.openGLRenderer.getViewNodeFor(r.getActiveCamera())}},t.queryPass=function(n,r){if(n){if(!e.renderable||!e.renderable.getVisibility())return;r.incrementOpaqueActorCount()}},t.opaquePass=function(n,r){if(n&&!e.openGLRenderer.getSelector()){t.updateBufferObjects(),e.context.depthMask(!0),e._openGLRenderWindow.getShaderCache().readyShaderProgram(e.tris.getProgram()),e.openGLTexture.render(e._openGLRenderWindow);var a=e.openGLTexture.getTextureUnit();e.tris.getProgram().setUniformi("sbtexture",a);var i=e.openGLRenderer.getRenderable(),s=e.openGLCamera.getKeyMatrices(i),o=new Float64Array(16);if(Zt(o,s.wcpc),e.tris.getProgram().setUniformMatrix("IMCPCMatrix",o),e.lastFormat==="box"){var c=i.getActiveCamera().getPosition();e.tris.getProgram().setUniform3f("camPos",c[0],c[1],c[2])}e.tris.getVAO().bind(),e.context.drawArrays(e.context.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release(),e.openGLTexture.deactivate()}},t.updateBufferObjects=function(){if(!e.tris.getCABO().getElementCount()){for(var n=new Float32Array(12),r=0;r<4;r++)n[r*3]=r%2*2-1,n[r*3+1]=r>1?1:-1,n[r*3+2]=1;var a=Ee.newInstance({numberOfComponents:3,values:n});a.setName("points");var i=new Uint16Array(8);i[0]=3,i[1]=0,i[2]=1,i[3]=3,i[4]=3,i[5]=0,i[6]=3,i[7]=2;var s=Ee.newInstance({numberOfComponents:1,values:i});e.tris.getCABO().createVBO(s,"polys",$t.SURFACE,{points:a,cellOffset:0})}e.renderable.getFormat()!==e.lastFormat&&(e.lastFormat=e.renderable.getFormat(),e.lastFormat==="box"&&e.tris.setProgram(e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(`//VTK::System::Dec
             attribute vec3 vertexMC;
             uniform mat4 IMCPCMatrix;
             varying vec3 TexCoords;
             void main () {
              gl_Position = vec4(vertexMC.xyz, 1.0);
              vec4 wpos = IMCPCMatrix * gl_Position;
              TexCoords = wpos.xyz/wpos.w;
             }`,`//VTK::System::Dec
             //VTK::Output::Dec
             varying vec3 TexCoords;
             uniform samplerCube sbtexture;
             uniform vec3 camPos;
             void main () {
               // skybox looks from inside out
               // which means we have to adjust
               // our tcoords. Otherwise text would
               // be flipped
               vec3 tc = normalize(TexCoords - camPos);
               if (abs(tc.z) < max(abs(tc.x),abs(tc.y)))
               {
                 tc = vec3(1.0, 1.0, -1.0) * tc;
               }
               else
               {
                 tc = vec3(-1.0, 1.0, 1.0) * tc;
               }
               gl_FragData[0] = textureCube(sbtexture, tc);
             }`,"")),e.lastFormat==="background"&&e.tris.setProgram(e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(`//VTK::System::Dec
             attribute vec3 vertexMC;
             uniform mat4 IMCPCMatrix;
             varying vec2 TexCoords;
             void main () {
              gl_Position = vec4(vertexMC.xyz, 1.0);
              vec4 wpos = IMCPCMatrix * gl_Position;
              TexCoords = vec2(vertexMC.x, vertexMC.y)*0.5 + 0.5;
             }`,`//VTK::System::Dec
             //VTK::Output::Dec
             varying vec2 TexCoords;
             uniform sampler2D sbtexture;
             void main () {
               gl_FragData[0] = texture2D(sbtexture, TexCoords);
             }`,"")),e.tris.getShaderSourceTime().modified(),e.tris.getVAO().bind(),e.tris.getVAO().addAttributeArray(e.tris.getProgram(),e.tris.getCABO(),"vertexMC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||ll("Error setting vertexMC in shader VAO."));var o=e.renderable.getTextures();o.length||ll("vtkSkybox requires a texture map"),e.openGLTexture.getRenderable()!==o[0]&&(e.openGLTexture.releaseGraphicsResources(e._openGLRenderWindow),e.openGLTexture.setRenderable(o[0]))}}var C7={context:null};function S7(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,C7,n),Ut.extend(t,e,n),e.openGLTexture=Wt.newInstance(),e.tris=dn.newInstance(),e.keyMatrixTime={},St(e.keyMatrixTime,{mtime:0}),e.keyMatrices={normalMatrix:kr(new Float64Array(9)),mcwc:Me(new Float64Array(16))},Rt(t,e,["context"]),Mr(t,e,["activeTextures"]),w7(t,e)}var T7=ut(S7);Gt("vtkSkybox",T7);function hl(t,e,n,r,a,i,s){try{var o=t[i](s),c=o.value}catch(u){n(u);return}o.done?e(c):Promise.resolve(c).then(r,a)}function Ca(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var i=t.apply(e,n);function s(c){hl(i,r,a,s,o,"next",c)}function o(c){hl(i,r,a,s,o,"throw",c)}s(void 0)})}}var zv={exports:{}};(function(t){var e=function(n){var r=Object.prototype,a=r.hasOwnProperty,i,s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function l(F,L,G){return Object.defineProperty(F,L,{value:G,enumerable:!0,configurable:!0,writable:!0}),F[L]}try{l({},"")}catch{l=function(L,G,H){return L[G]=H}}function f(F,L,G,H){var $=L&&L.prototype instanceof v?L:v,J=Object.create($.prototype),Q=new A(H||[]);return J._invoke=D(F,G,Q),J}n.wrap=f;function h(F,L,G){try{return{type:"normal",arg:F.call(L,G)}}catch(H){return{type:"throw",arg:H}}}var p="suspendedStart",d="suspendedYield",y="executing",m="completed",_={};function v(){}function g(){}function x(){}var w={};l(w,o,function(){return this});var C=Object.getPrototypeOf,S=C&&C(C(W([])));S&&S!==r&&a.call(S,o)&&(w=S);var T=x.prototype=v.prototype=Object.create(w);g.prototype=x,l(T,"constructor",x),l(x,"constructor",g),g.displayName=l(x,u,"GeneratorFunction");function b(F){["next","throw","return"].forEach(function(L){l(F,L,function(G){return this._invoke(L,G)})})}n.isGeneratorFunction=function(F){var L=typeof F=="function"&&F.constructor;return L?L===g||(L.displayName||L.name)==="GeneratorFunction":!1},n.mark=function(F){return Object.setPrototypeOf?Object.setPrototypeOf(F,x):(F.__proto__=x,l(F,u,"GeneratorFunction")),F.prototype=Object.create(T),F},n.awrap=function(F){return{__await:F}};function O(F,L){function G(J,Q,q,ne){var te=h(F[J],F,Q);if(te.type==="throw")ne(te.arg);else{var oe=te.arg,re=oe.value;return re&&typeof re=="object"&&a.call(re,"__await")?L.resolve(re.__await).then(function(B){G("next",B,q,ne)},function(B){G("throw",B,q,ne)}):L.resolve(re).then(function(B){oe.value=B,q(oe)},function(B){return G("throw",B,q,ne)})}}var H;function $(J,Q){function q(){return new L(function(ne,te){G(J,Q,ne,te)})}return H=H?H.then(q,q):q()}this._invoke=$}b(O.prototype),l(O.prototype,c,function(){return this}),n.AsyncIterator=O,n.async=function(F,L,G,H,$){$===void 0&&($=Promise);var J=new O(f(F,L,G,H),$);return n.isGeneratorFunction(L)?J:J.next().then(function(Q){return Q.done?Q.value:J.next()})};function D(F,L,G){var H=p;return function(J,Q){if(H===y)throw new Error("Generator is already running");if(H===m){if(J==="throw")throw Q;return z()}for(G.method=J,G.arg=Q;;){var q=G.delegate;if(q){var ne=N(q,G);if(ne){if(ne===_)continue;return ne}}if(G.method==="next")G.sent=G._sent=G.arg;else if(G.method==="throw"){if(H===p)throw H=m,G.arg;G.dispatchException(G.arg)}else G.method==="return"&&G.abrupt("return",G.arg);H=y;var te=h(F,L,G);if(te.type==="normal"){if(H=G.done?m:d,te.arg===_)continue;return{value:te.arg,done:G.done}}else te.type==="throw"&&(H=m,G.method="throw",G.arg=te.arg)}}}function N(F,L){var G=F.iterator[L.method];if(G===i){if(L.delegate=null,L.method==="throw"){if(F.iterator.return&&(L.method="return",L.arg=i,N(F,L),L.method==="throw"))return _;L.method="throw",L.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var H=h(G,F.iterator,L.arg);if(H.type==="throw")return L.method="throw",L.arg=H.arg,L.delegate=null,_;var $=H.arg;if(!$)return L.method="throw",L.arg=new TypeError("iterator result is not an object"),L.delegate=null,_;if($.done)L[F.resultName]=$.value,L.next=F.nextLoc,L.method!=="return"&&(L.method="next",L.arg=i);else return $;return L.delegate=null,_}b(T),l(T,u,"Generator"),l(T,o,function(){return this}),l(T,"toString",function(){return"[object Generator]"});function R(F){var L={tryLoc:F[0]};1 in F&&(L.catchLoc=F[1]),2 in F&&(L.finallyLoc=F[2],L.afterLoc=F[3]),this.tryEntries.push(L)}function E(F){var L=F.completion||{};L.type="normal",delete L.arg,F.completion=L}function A(F){this.tryEntries=[{tryLoc:"root"}],F.forEach(R,this),this.reset(!0)}n.keys=function(F){var L=[];for(var G in F)L.push(G);return L.reverse(),function H(){for(;L.length;){var $=L.pop();if($ in F)return H.value=$,H.done=!1,H}return H.done=!0,H}};function W(F){if(F){var L=F[o];if(L)return L.call(F);if(typeof F.next=="function")return F;if(!isNaN(F.length)){var G=-1,H=function $(){for(;++G<F.length;)if(a.call(F,G))return $.value=F[G],$.done=!1,$;return $.value=i,$.done=!0,$};return H.next=H}}return{next:z}}n.values=W;function z(){return{value:i,done:!0}}return A.prototype={constructor:A,reset:function(F){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(E),!F)for(var L in this)L.charAt(0)==="t"&&a.call(this,L)&&!isNaN(+L.slice(1))&&(this[L]=i)},stop:function(){this.done=!0;var F=this.tryEntries[0],L=F.completion;if(L.type==="throw")throw L.arg;return this.rval},dispatchException:function(F){if(this.done)throw F;var L=this;function G(ne,te){return J.type="throw",J.arg=F,L.next=ne,te&&(L.method="next",L.arg=i),!!te}for(var H=this.tryEntries.length-1;H>=0;--H){var $=this.tryEntries[H],J=$.completion;if($.tryLoc==="root")return G("end");if($.tryLoc<=this.prev){var Q=a.call($,"catchLoc"),q=a.call($,"finallyLoc");if(Q&&q){if(this.prev<$.catchLoc)return G($.catchLoc,!0);if(this.prev<$.finallyLoc)return G($.finallyLoc)}else if(Q){if(this.prev<$.catchLoc)return G($.catchLoc,!0)}else if(q){if(this.prev<$.finallyLoc)return G($.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(F,L){for(var G=this.tryEntries.length-1;G>=0;--G){var H=this.tryEntries[G];if(H.tryLoc<=this.prev&&a.call(H,"finallyLoc")&&this.prev<H.finallyLoc){var $=H;break}}$&&(F==="break"||F==="continue")&&$.tryLoc<=L&&L<=$.finallyLoc&&($=null);var J=$?$.completion:{};return J.type=F,J.arg=L,$?(this.method="next",this.next=$.finallyLoc,_):this.complete(J)},complete:function(F,L){if(F.type==="throw")throw F.arg;return F.type==="break"||F.type==="continue"?this.next=F.arg:F.type==="return"?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):F.type==="normal"&&L&&(this.next=L),_},finish:function(F){for(var L=this.tryEntries.length-1;L>=0;--L){var G=this.tryEntries[L];if(G.finallyLoc===F)return this.complete(G.completion,G.afterLoc),E(G),_}},catch:function(F){for(var L=this.tryEntries.length-1;L>=0;--L){var G=this.tryEntries[L];if(G.tryLoc===F){var H=G.completion;if(H.type==="throw"){var $=H.arg;E(G)}return $}}throw new Error("illegal catch attempt")},delegateYield:function(F,L,G){return this.delegate={iterator:W(F),resultName:L,nextLoc:G},this.method==="next"&&(this.arg=i),_}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(zv);var ar=zv.exports,b7=Xn.FieldAssociations;function E7(t,e){e.classHierarchy.push("vtkHardwareSelector"),t.getSourceDataAsync=function(){var n=Ca(ar.mark(function r(a,i,s,o,c){return ar.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:case"end":return l.stop()}},r)}));return function(r,a,i,s,o){return n.apply(this,arguments)}}(),t.selectAsync=function(){var n=Ca(ar.mark(function r(a,i,s,o,c){var u;return ar.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,t.getSourceDataAsync(a,i,s,o,c);case 2:if(u=f.sent,!u){f.next=5;break}return f.abrupt("return",u.generateSelection(i,s,o,c));case 5:return f.abrupt("return",[]);case 6:case"end":return f.stop()}},r)}));return function(r,a,i,s,o){return n.apply(this,arguments)}}()}var D7={fieldAssociation:b7.FIELD_ASSOCIATION_CELLS,captureZValues:!1};function Iv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,D7,n),I.obj(t,e),I.setGet(t,e,["fieldAssociation","captureZValues"]),E7(t,e)}var O7=I.newInstance(Iv,"vtkHardwareSelector"),N7={newInstance:O7,extend:Iv},k7={GLOBALIDS:0,PEDIGREEIDS:1,VALUES:2,INDICES:3,FRUSTUM:4,LOCATIONS:5,THRESHOLDS:6,BLOCKS:7,QUERY:8},M7={CELL:0,POINT:1,FIELD:2,VERTEX:3,EDGE:4,ROW:5},R7={SelectionContent:k7,SelectionField:M7};function pl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function L7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pl(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F7(t,e){e.classHierarchy.push("vtkSelectionNode"),t.getBounds=function(){return e.points.getBounds()}}var A7={contentType:-1,fieldType:-1,properties:null,selectionList:[]};function Wv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,A7,n),I.obj(t,e),e.properties={},I.setGet(t,e,["contentType","fieldType","properties","selectionList"]),F7(t,e)}var B7=I.newInstance(Wv,"vtkSelectionNode"),Cc=L7({newInstance:B7,extend:Wv},R7);function vl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function V7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vl(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ht=vv.PassTypes,U7=Cc.SelectionContent,dl=Cc.SelectionField,vi=Xn.FieldAssociations,Hv=I.vtkErrorMacro,nn=1;function $v(t){return"".concat(t.propID," ").concat(t.compositeID)}function Kv(t,e,n,r){if(!n)return 0;var a=(e*(r[2]-r[0]+1)+t)*4;return n[a+3]}function jr(t,e,n,r){if(!n)return 0;var a=(e*(r[2]-r[0]+1)+t)*4,i=[];i[0]=n[a],i[1]=n[a+1],i[2]=n[a+2];var s=i[2];return s*=256,s+=i[1],s*=256,s+=i[0],s}function Xv(t,e){var n=e;return n<<=24,n|=t,n}function ca(t,e,n,r){var a=n<0?0:n;if(a===0){if(r[0]=e[0],r[1]=e[1],e[0]<t.area[0]||e[0]>t.area[2]||e[1]<t.area[1]||e[1]>t.area[3])return null;var i=[e[0]-t.area[0],e[1]-t.area[1]],s=jr(i[0],i[1],t.pixBuffer[ht.ACTOR_PASS],t.area);if(s<=0||s-nn>=t.props.length)return null;var o={};o.valid=!0,o.propID=s-nn,o.prop=t.props[o.propID];var c=jr(i[0],i[1],t.pixBuffer[ht.COMPOSITE_INDEX_PASS],t.area);if((c<0||c>16777215)&&(c=0),o.compositeID=c-nn,t.captureZValues){var u=(i[1]*(t.area[2]-t.area[0]+1)+i[0])*4;o.zValue=(256*t.zBuffer[u]+t.zBuffer[u+1])/65535,o.displayPosition=e}if(t.pixBuffer[ht.ID_LOW24]&&Kv(i[0],i[1],t.pixBuffer[ht.ID_LOW24],t.area)===0)return o;var l=jr(i[0],i[1],t.pixBuffer[ht.ID_LOW24],t.area),f=jr(i[0],i[1],t.pixBuffer[ht.ID_HIGH24],t.area);return o.attributeID=Xv(l,f),o}var h=[e[0],e[1]],p=[0,0],d=ca(t,e,0,r);if(d&&d.valid)return d;for(var y=1;y<a;++y){for(var m=h[1]>y?h[1]-y:0;m<=h[1]+y;++m)if(p[1]=m,h[0]>=y&&(p[0]=h[0]-y,d=ca(t,p,0,r),d&&d.valid)||(p[0]=h[0]+y,d=ca(t,p,0,r),d&&d.valid))return d;for(var _=h[0]>=y?h[0]-(y-1):0;_<=h[0]+(y-1);++_)if(p[0]=_,h[1]>=y&&(p[1]=h[1]-y,d=ca(t,p,0,r),d&&d.valid)||(p[1]=h[1]+y,d=ca(t,p,0,r),d&&d.valid))return d}return r[0]=e[0],r[1]=e[1],null}function qv(t,e,n,r,a){var i=[],s=0;return e.forEach(function(o,c){var u=Cc.newInstance();switch(u.setContentType(U7.INDICES),t){case vi.FIELD_ASSOCIATION_CELLS:u.setFieldType(dl.CELL);break;case vi.FIELD_ASSOCIATION_POINTS:u.setFieldType(dl.POINT);break;default:Hv("Unknown field association")}u.getProperties().propID=o.info.propID,u.getProperties().prop=o.info.prop,u.getProperties().compositeID=o.info.compositeID,u.getProperties().attributeID=o.info.attributeID,u.getProperties().pixelCount=o.pixelCount,n&&(u.getProperties().displayPosition=[o.info.displayPosition[0],o.info.displayPosition[1],o.info.zValue],u.getProperties().worldPosition=a.displayToWorld(o.info.displayPosition[0],o.info.displayPosition[1],o.info.zValue,r)),u.setSelectionList(o.attributeIDs),i[s]=u,s++}),i}function G7(t,e,n,r,a){for(var i=Math.floor(e),s=Math.floor(n),o=Math.floor(r),c=Math.floor(a),u=new Map,l=[0,0],f=s;f<=c;f++)for(var h=i;h<=o;h++){var p=[h,f],d=ca(t,p,0,l);if(d&&d.valid){var y=$v(d);if(!u.has(y))u.set(y,{info:d,pixelCount:1,attributeIDs:[d.attributeID]});else{var m=u.get(y);m.pixelCount++,t.captureZValues&&d.zValue<m.info.zValue&&(m.info=d),m.attributeIDs.indexOf(d.attributeID)===-1&&m.attributeIDs.push(d.attributeID)}}}return qv(t.fieldAssociation,u,t.captureZValues,t.renderer,t.openGLRenderWindow)}function P7(t,e){e.classHierarchy.push("vtkOpenGLHardwareSelector"),t.releasePixBuffers=function(){e.rawPixBuffer=[],e.pixBuffer=[],e.zBuffer=null},t.beginSelection=function(){e._openGLRenderer=e._openGLRenderWindow.getViewNodeFor(e._renderer),e.maxAttributeId=0;var r=e._openGLRenderWindow.getSize();if(!e.framebuffer)e.framebuffer=ks.newInstance(),e.framebuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.create(r[0],r[1]),e.framebuffer.populateFramebuffer();else{e.framebuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.framebuffer.saveCurrentBindingsAndBuffers();var a=e.framebuffer.getSize();a[0]!==r[0]||a[1]!==r[1]?(e.framebuffer.create(r[0],r[1]),e.framebuffer.populateFramebuffer()):e.framebuffer.bind()}if(e._openGLRenderer.clear(),e._openGLRenderer.setSelector(t),e.hitProps={},e.propPixels={},e.props=[],t.releasePixBuffers(),e.fieldAssociation===vi.FIELD_ASSOCIATION_POINTS){var i=e._openGLRenderWindow.getContext(),s=i.isEnabled(i.BLEND);i.disable(i.BLEND),e._openGLRenderWindow.traverseAllPasses(),e._renderer.setPreserveDepthBuffer(!0),s&&i.enable(i.BLEND)}},t.endSelection=function(){e.hitProps={},e._openGLRenderer.setSelector(null),e.framebuffer.restorePreviousBindingsAndBuffers(),e._renderer.setPreserveDepthBuffer(!1)},t.preCapturePass=function(){var r=e._openGLRenderWindow.getContext();e.originalBlending=r.isEnabled(r.BLEND),r.disable(r.BLEND)},t.postCapturePass=function(){var r=e._openGLRenderWindow.getContext();e.originalBlending&&r.enable(r.BLEND)},t.select=function(){var r=null;return t.captureBuffers()&&(r=t.generateSelection(e.area[0],e.area[1],e.area[2],e.area[3]),t.releasePixBuffers()),r},t.getSourceDataAsync=function(){var r=Ca(ar.mark(function a(i,s,o,c,u){var l,f;return ar.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(e._renderer=i,s===void 0?(l=e._openGLRenderWindow.getSize(),t.setArea(0,0,l[0]-1,l[1]-1)):t.setArea(s,o,c,u),t.captureBuffers()){p.next=4;break}return p.abrupt("return",!1);case 4:return f={area:we(e.area),pixBuffer:we(e.pixBuffer),captureZValues:e.captureZValues,zBuffer:e.zBuffer,props:we(e.props),fieldAssociation:e.fieldAssociation,renderer:i,openGLRenderWindow:e._openGLRenderWindow},f.generateSelection=function(){for(var d=arguments.length,y=new Array(d),m=0;m<d;m++)y[m]=arguments[m];return G7.apply(void 0,[f].concat(y))},p.abrupt("return",f);case 7:case"end":return p.stop()}},a)}));return function(a,i,s,o,c){return r.apply(this,arguments)}}(),t.captureBuffers=function(){if(!e._renderer||!e._openGLRenderWindow)return Hv("Renderer and view must be set before calling Select."),!1;e._openGLRenderer=e._openGLRenderWindow.getViewNodeFor(e._renderer),e._openGLRenderWindow.getRenderable().preRender(),t.invokeEvent({type:"StartEvent"}),e.originalBackground=e._renderer.getBackgroundByReference(),e._renderer.setBackground(0,0,0,0);var r=e._openGLRenderWindow.getRenderPasses();for(t.beginSelection(),e.currentPass=ht.MIN_KNOWN_PASS;e.currentPass<=ht.MAX_KNOWN_PASS;e.currentPass++)t.passRequired(e.currentPass)&&(t.preCapturePass(e.currentPass),e.captureZValues&&e.currentPass===ht.ACTOR_PASS&&typeof r[0].requestDepth=="function"&&typeof r[0].getFramebuffer=="function"&&r[0].requestDepth(),e._openGLRenderWindow.traverseAllPasses(),t.postCapturePass(e.currentPass),t.savePixelBuffer(e.currentPass),t.processPixelBuffers());return t.endSelection(),e._renderer.setBackground(e.originalBackground),t.invokeEvent({type:"EndEvent"}),!0},t.processPixelBuffers=function(){e.props.forEach(function(r,a){t.isPropHit(a)&&r.processSelectorPixelBuffers(t,e.propPixels[a])})},t.passRequired=function(r){if(r===ht.ID_HIGH24){if(e.fieldAssociation===vi.FIELD_ASSOCIATION_POINTS)return e.maximumPointId>16777215;if(e.fieldAssociation===vi.FIELD_ASSOCIATION_CELLS)return e.maximumCellId>16777215}return!0},t.savePixelBuffer=function(r){if(e.pixBuffer[r]=e._openGLRenderWindow.getPixelData(e.area[0],e.area[1],e.area[2],e.area[3]),!e.rawPixBuffer[r]){var a=(e.area[2]-e.area[0]+1)*(e.area[3]-e.area[1]+1)*4;e.rawPixBuffer[r]=new Uint8Array(a),e.rawPixBuffer[r].set(e.pixBuffer[r])}if(r===ht.ACTOR_PASS){if(e.captureZValues){var i=e._openGLRenderWindow.getRenderPasses();if(typeof i[0].requestDepth=="function"&&typeof i[0].getFramebuffer=="function"){var s=i[0].getFramebuffer();s.saveCurrentBindingsAndBuffers(),s.bind(),e.zBuffer=e._openGLRenderWindow.getPixelData(e.area[0],e.area[1],e.area[2],e.area[3]),s.restorePreviousBindingsAndBuffers()}}t.buildPropHitList(e.rawPixBuffer[r])}},t.buildPropHitList=function(r){for(var a=0,i=0;i<=e.area[3]-e.area[1];i++)for(var s=0;s<=e.area[2]-e.area[0];s++){var o=jr(s,i,r,e.area);o>0&&(o--,o in e.hitProps||(e.hitProps[o]=!0,e.propPixels[o]=[]),e.propPixels[o].push(a*4)),++a}},t.renderProp=function(r){e.currentPass===ht.ACTOR_PASS&&(t.setPropColorValueFromInt(e.props.length+nn),e.props.push(r))},t.renderCompositeIndex=function(r){e.currentPass===ht.COMPOSITE_INDEX_PASS&&t.setPropColorValueFromInt(r+nn)},t.renderAttributeId=function(r){r<0||(e.maxAttributeId=r>e.maxAttributeId?r:e.maxAttributeId)},t.passTypeToString=function(r){return I.enumToString(ht,r)},t.isPropHit=function(r){return Boolean(e.hitProps[r])},t.setPropColorValueFromInt=function(r){e.propColorValue[0]=r%256/255,e.propColorValue[1]=Math.floor(r/256)%256/255,e.propColorValue[2]=Math.floor(r/65536)%256/255},t.getPixelInformation=function(r,a,i){var s=a<0?0:a;if(s===0){if(i[0]=r[0],i[1]=r[1],r[0]<e.area[0]||r[0]>e.area[2]||r[1]<e.area[1]||r[1]>e.area[3])return null;var o=[r[0]-e.area[0],r[1]-e.area[1]],c=jr(o[0],o[1],e.pixBuffer[ht.ACTOR_PASS],e.area);if(c<=0||c-nn>=e.props.length)return null;var u={};u.valid=!0,u.propID=c-nn,u.prop=e.props[u.propID];var l=jr(o[0],o[1],e.pixBuffer[ht.COMPOSITE_INDEX_PASS],e.area);if((l<0||l>16777215)&&(l=0),u.compositeID=l-nn,e.captureZValues){var f=(o[1]*(e.area[2]-e.area[0]+1)+o[0])*4;u.zValue=(256*e.zBuffer[f]+e.zBuffer[f+1])/65535,u.displayPosition=r}if(e.pixBuffer[ht.ID_LOW24]&&Kv(o[0],o[1],e.pixBuffer[ht.ID_LOW24],e.area)===0)return u;var h=jr(o[0],o[1],e.pixBuffer[ht.ID_LOW24],e.area),p=jr(o[0],o[1],e.pixBuffer[ht.ID_HIGH24],e.area);return u.attributeID=Xv(h,p),u}var d=[r[0],r[1]],y=[0,0],m=t.getPixelInformation(r,0,i);if(m&&m.valid)return m;for(var _=1;_<s;++_){for(var v=d[1]>_?d[1]-_:0;v<=d[1]+_;++v)if(y[1]=v,d[0]>=_&&(y[0]=d[0]-_,m=t.getPixelInformation(y,0,i),m&&m.valid)||(y[0]=d[0]+_,m=t.getPixelInformation(y,0,i),m&&m.valid))return m;for(var g=d[0]>=_?d[0]-(_-1):0;g<=d[0]+(_-1);++g)if(y[0]=g,d[1]>=_&&(y[1]=d[1]-_,m=t.getPixelInformation(y,0,i),m&&m.valid)||(y[1]=d[1]+_,m=t.getPixelInformation(y,0,i),m&&m.valid))return m}return i[0]=r[0],i[1]=r[1],null},t.generateSelection=function(r,a,i,s){for(var o=Math.floor(r),c=Math.floor(a),u=Math.floor(i),l=Math.floor(s),f=new Map,h=[0,0],p=c;p<=l;p++)for(var d=o;d<=u;d++){var y=[d,p],m=t.getPixelInformation(y,0,h);if(m&&m.valid){var _=$v(m);if(!f.has(_))f.set(_,{info:m,pixelCount:1,attributeIDs:[m.attributeID]});else{var v=f.get(_);v.pixelCount++,e.captureZValues&&m.zValue<v.info.zValue&&(v.info=m),v.attributeIDs.indexOf(m.attributeID)===-1&&v.attributeIDs.push(m.attributeID)}}}return qv(e.fieldAssociation,f,e.captureZValues,e._renderer,e._openGLRenderWindow)},t.getRawPixelBuffer=function(r){return e.rawPixBuffer[r]},t.getPixelBuffer=function(r){return e.pixBuffer[r]},t.attach=function(r,a){e._openGLRenderWindow=r,e._renderer=a};var n=t.setArea;t.setArea=function(){return n.apply(void 0,arguments)?(e.area[0]=Math.floor(e.area[0]),e.area[1]=Math.floor(e.area[1]),e.area[2]=Math.floor(e.area[2]),e.area[3]=Math.floor(e.area[3]),!0):!1}}var j7={area:void 0,currentPass:-1,propColorValue:null,props:null,maximumPointId:0,maximumCellId:0,idOffset:1};function Yv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,j7,n),N7.extend(t,e,n),e.propColorValue=[0,0,0],e.props=[],e.area||(e.area=[0,0,0,0]),I.setGetArray(t,e,["area"],4),I.setGet(t,e,["_renderer","currentPass","_openGLRenderWindow","maximumPointId","maximumCellId"]),I.setGetArray(t,e,["propColorValue"],3),I.moveToProtected(t,e,["renderer","openGLRenderWindow"]),I.event(t,e,"event"),P7(t,e)}var z7=I.newInstance(Yv,"vtkOpenGLHardwareSelector"),Vs=V7({newInstance:z7,extend:Yv},vv);function gl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function I7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gl(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Wa=Le,W7=Wi.Representation,yo=kn.ObjectType,H7=Vs.PassTypes,$7={type:"StartEvent"},K7={type:"EndEvent"};function X7(t,e){e.classHierarchy.push("vtkOpenGLGlyph3DMapper");var n=I7({},t);t.renderPiece=function(r,a){if(t.invokeEvent($7),e.renderable.getStatic()||e.renderable.update(),e.currentInput=e.renderable.getInputData(1),t.invokeEvent(K7),!e.currentInput){Wa("No input!");return}if(!(!e.currentInput.getPoints||!e.currentInput.getPoints().getNumberOfValues())){var i=e.context;e._openGLRenderWindow.getWebgl2()?(e.hardwareSupport=!0,e.extension=null):e.extension||(e.extension=e.context.getExtension("ANGLE_instanced_arrays"),e.hardwareSupport=!!e.extension);var s=a.getProperty().getBackfaceCulling(),o=a.getProperty().getFrontfaceCulling();!s&&!o?e._openGLRenderWindow.disableCullFace():o?(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.FRONT)):(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.BACK)),t.renderPieceStart(r,a),t.renderPieceDraw(r,a),t.renderPieceFinish(r,a)}},t.multiply4x4WithOffset=function(r,a,i,s){var o=a[0],c=a[1],u=a[2],l=a[3],f=a[4],h=a[5],p=a[6],d=a[7],y=a[8],m=a[9],_=a[10],v=a[11],g=a[12],x=a[13],w=a[14],C=a[15],S=i[s],T=i[s+1],b=i[s+2],O=i[s+3];r[0]=S*o+T*f+b*y+O*g,r[1]=S*c+T*h+b*m+O*x,r[2]=S*u+T*p+b*_+O*w,r[3]=S*l+T*d+b*v+O*C,S=i[s+4],T=i[s+5],b=i[s+6],O=i[s+7],r[4]=S*o+T*f+b*y+O*g,r[5]=S*c+T*h+b*m+O*x,r[6]=S*u+T*p+b*_+O*w,r[7]=S*l+T*d+b*v+O*C,S=i[s+8],T=i[s+9],b=i[s+10],O=i[s+11],r[8]=S*o+T*f+b*y+O*g,r[9]=S*c+T*h+b*m+O*x,r[10]=S*u+T*p+b*_+O*w,r[11]=S*l+T*d+b*v+O*C,S=i[s+12],T=i[s+13],b=i[s+14],O=i[s+15],r[12]=S*o+T*f+b*y+O*g,r[13]=S*c+T*h+b*m+O*x,r[14]=S*u+T*p+b*_+O*w,r[15]=S*l+T*d+b*v+O*C},t.replaceShaderNormal=function(r,a,i){if(e.hardwareSupport){var s=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(s>0){var o=r.Vertex;e.lastBoundBO.getCABO().getNormalOffset()&&(o=ue.substitute(o,"//VTK::Normal::Dec",["attribute vec3 normalMC;","attribute mat3 gNormal;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,o=ue.substitute(o,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * gNormal * normalMC;"]).result),r.Vertex=o}}n.replaceShaderNormal(r,a,i)},t.replaceShaderColor=function(r,a,i){if(e.hardwareSupport&&e.renderable.getColorArray()){var s=r.Vertex,o=r.Geometry,c=r.Fragment,u=e.lastBoundBO.getReferenceByName("lastLightComplexity"),l=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity"];u&&(l=l.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));var f=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];u&&(f=f.concat(["  vec3 specularColor;","  float specularPower;"])),f=f.concat(["  opacity = opacityUniform;"]),u&&(f=f.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),e.drawingEdges||(l=l.concat(["varying vec4 vertexColorVSOutput;"]),s=ue.substitute(s,"//VTK::Color::Dec",["attribute vec4 gColor;","varying vec4 vertexColorVSOutput;"]).result,s=ue.substitute(s,"//VTK::Color::Impl",["vertexColorVSOutput = gColor;"]).result,o=ue.substitute(o,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,o=ue.substitute(o,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result,f=f.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])),c=ue.substitute(c,"//VTK::Color::Impl",f).result,c=ue.substitute(c,"//VTK::Color::Dec",l).result,r.Vertex=s,r.Geometry=o,r.Fragment=c}n.replaceShaderColor(r,a,i)},t.replaceShaderPositionVC=function(r,a,i){if(e.hardwareSupport){var s=r.Vertex,o=e.lastBoundBO.getReferenceByName("lastLightComplexity");o>0?(s=ue.substitute(s,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","vertexVCVSOutput = MCVCMatrix * gVertexMC;","  gl_Position = MCPCMatrix * gVertexMC;"]).result,s=ue.substitute(s,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result):(s=ue.substitute(s,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCPCMatrix;"]).result,s=ue.substitute(s,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","  gl_Position = MCPCMatrix * gVertexMC;"]).result),r.Vertex=s}n.replaceShaderPositionVC(r,a,i)},t.replaceShaderPicking=function(r,a,i){if(e.hardwareSupport){var s=r.Fragment,o=r.Vertex;o=ue.substitute(o,"//VTK::Picking::Dec",["attribute vec3 mapperIndexVS;","varying vec3 mapperIndexVSOutput;"]).result,o=ue.substitute(o,"//VTK::Picking::Impl","  mapperIndexVSOutput = mapperIndexVS;").result,r.Vertex=o,s=ue.substitute(s,"//VTK::Picking::Dec",["varying vec3 mapperIndexVSOutput;","uniform vec3 mapperIndex;","uniform int picking;"]).result,s=ue.substitute(s,"//VTK::Picking::Impl",["  vec4 pickColor = picking == 2 ? vec4(mapperIndexVSOutput,1.0) : vec4(mapperIndex,1.0);","  gl_FragData[0] = picking != 0 ? pickColor : gl_FragData[0];"]).result,r.Fragment=s}else n.replaceShaderPicking(r,a,i)},t.updateGlyphShaderParameters=function(r,a,i,s,o,c,u,l){var f=i.getProgram();if(r){var h=e.normalMatrix,p=c,d=u*9,y=e.tmpMat3,m=h[0],_=h[1],v=h[2],g=h[3],x=h[4],w=h[5],C=h[6],S=h[7],T=h[8],b=p[d],O=p[d+1],D=p[d+2],N=p[d+3],R=p[d+4],E=p[d+5],A=p[d+6],W=p[d+7],z=p[d+8];y[0]=b*m+O*g+D*C,y[1]=b*_+O*x+D*S,y[2]=b*v+O*w+D*T,y[3]=N*m+R*g+E*C,y[4]=N*_+R*x+E*S,y[5]=N*v+R*w+E*T,y[6]=A*m+W*g+z*C,y[7]=A*_+W*x+z*S,y[8]=A*v+W*w+z*T,f.setUniformMatrix3x3("normalMatrix",e.tmpMat3)}if(t.multiply4x4WithOffset(e.tmpMat4,e.mcpcMatrix,o,u*16),f.setUniformMatrix("MCPCMatrix",e.tmpMat4),a&&(t.multiply4x4WithOffset(e.tmpMat4,e.mcvcMatrix,o,u*16),f.setUniformMatrix("MCVCMatrix",e.tmpMat4)),s){var F=s.getData();e.tmpColor[0]=F[u*4]/255,e.tmpColor[1]=F[u*4+1]/255,e.tmpColor[2]=F[u*4+2]/255,f.setUniform3fArray("ambientColorUniform",e.tmpColor),f.setUniform3fArray("diffuseColorUniform",e.tmpColor)}l&&f.setUniform3fArray("mapperIndex",l.getPropColorValue())},t.renderPieceDraw=function(r,a){var i=a.getProperty().getRepresentation(),s=e.context,o=a.getProperty().getEdgeVisibility()&&i===W7.SURFACE,c=e.openGLCamera.getKeyMatrices(r),u=e.openGLActor.getKeyMatrices();mi(e.normalMatrix,c.normalMatrix,u.normalMatrix),st(e.mcpcMatrix,c.wcpc,u.mcwc),st(e.mcvcMatrix,c.wcvc,u.mcwc);var l=e.renderable.getMatrixArray(),f=e.renderable.getNormalArray(),h=e.renderable.getColorArray(),p=l.length/16,d=!1;e.openGLRenderer.getSelector()&&e.openGLRenderer.getSelector().getCurrentPass()===H7.COMPOSITE_INDEX_PASS&&(d=!0);for(var y=e.primTypes.Start;y<e.primTypes.End;y++){var m=e.primitives[y].getCABO();if(m.getElementCount()){e.drawingEdges=o&&(y===e.primTypes.TrisEdges||y===e.primTypes.TriStripsEdges),e.lastBoundBO=e.primitives[y],e.primitives[y].updateShaders(r,a,t);var _=e.primitives[y].getProgram(),v=e.primitives[y].getOpenGLMode(i),g=_.isUniformUsed("normalMatrix"),x=_.isUniformUsed("MCVCMatrix");if(e.hardwareSupport)e.extension?e.extension.drawArraysInstancedANGLE(v,0,m.getElementCount(),p):s.drawArraysInstanced(v,0,m.getElementCount(),p);else for(var w=0;w<p;++w)d&&e.openGLRenderer.getSelector().renderCompositeIndex(w),t.updateGlyphShaderParameters(g,x,e.primitives[y],h,l,f,w,d?e.openGLRenderer.getSelector():null),s.drawArrays(v,0,m.getElementCount())}}},t.setMapperShaderParameters=function(r,a,i){if(r.getCABO().getElementCount()&&(e.glyphBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())){r.getProgram().isAttributeUsed("gMatrix")?r.getVAO().addAttributeMatrixWithDivisor(r.getProgram(),e.matrixBuffer,"gMatrix",0,64,e.context.FLOAT,4,!1,1)||Wa("Error setting gMatrix in shader VAO."):r.getVAO().removeAttributeArray("gMatrix"),r.getProgram().isAttributeUsed("gNormal")?r.getVAO().addAttributeMatrixWithDivisor(r.getProgram(),e.normalBuffer,"gNormal",0,36,e.context.FLOAT,3,!1,1)||Wa("Error setting gNormal in shader VAO."):r.getVAO().removeAttributeArray("gNormal"),r.getProgram().isAttributeUsed("gColor")?r.getVAO().addAttributeArrayWithDivisor(r.getProgram(),e.colorBuffer,"gColor",0,4,e.context.UNSIGNED_BYTE,4,!0,1,!1)||Wa("Error setting gColor in shader VAO."):r.getVAO().removeAttributeArray("gColor"),r.getProgram().isAttributeUsed("mapperIndexVS")?r.getVAO().addAttributeArrayWithDivisor(r.getProgram(),e.pickBuffer,"mapperIndexVS",0,4,e.context.UNSIGNED_BYTE,4,!0,1,!1)||Wa("Error setting mapperIndexVS in shader VAO."):r.getVAO().removeAttributeArray("mapperIndexVS"),n.setMapperShaderParameters(r,a,i),r.getAttributeUpdateTime().modified();return}n.setMapperShaderParameters(r,a,i)},t.getNeedToRebuildBufferObjects=function(r,a){e.renderable.buildArrays();var i=e.VBOBuildTime.getMTime();return i<e.renderable.getBuildTime().getMTime()?!0:n.getNeedToRebuildBufferObjects(r,a)},t.getNeedToRebuildShaders=function(r,a,i){return!!(n.getNeedToRebuildShaders(r,a,i)||r.getShaderSourceTime().getMTime()<e.renderable.getMTime()||r.getShaderSourceTime().getMTime()<e.currentInput.getMTime())},t.buildBufferObjects=function(r,a){if(e.hardwareSupport){var i=e.renderable.getMatrixArray(),s=e.renderable.getNormalArray(),o=e.renderable.getColorArray();if(e.matrixBuffer||(e.matrixBuffer=kn.newInstance(),e.matrixBuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.normalBuffer=kn.newInstance(),e.normalBuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.colorBuffer=kn.newInstance(),e.colorBuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.pickBuffer=kn.newInstance(),e.pickBuffer.setOpenGLRenderWindow(e._openGLRenderWindow)),e.renderable.getBuildTime().getMTime()>e.glyphBOBuildTime.getMTime()){e.matrixBuffer.upload(i,yo.ARRAY_BUFFER),e.normalBuffer.upload(s,yo.ARRAY_BUFFER),o?e.colorBuffer.upload(o.getData(),yo.ARRAY_BUFFER):e.colorBuffer.releaseGraphicsResources();for(var c=i.length/16,u=new Uint8Array(4*c),l=0;l<c;++l){var f=l+1,h=l*4;u[h]=f%256,f-=u[h],f/=256,u[h+1]=f%256,f-=u[h+1],f/=256,u[h+2]=f%256,u[h+3]=255}e.pickBuffer.upload(u,yo.ARRAY_BUFFER),e.glyphBOBuildTime.modified()}}return n.buildBufferObjects(r,a)}}var q7={normalMatrix:null,mcpcMatrix:null,mcwcMatrix:null};function Y7(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,q7,n),Z6.extend(t,e,n),e.tmpMat3=kr(new Float64Array(9)),e.normalMatrix=kr(new Float64Array(9)),e.mcpcMatrix=Me(new Float64Array(16)),e.mcvcMatrix=Me(new Float64Array(16)),e.tmpColor=[],e.glyphBOBuildTime={},St(e.glyphBOBuildTime,{mtime:0}),X7(t,e)}var Z7=ut(Y7,"vtkOpenGLGlyph3DMapper");Gt("vtkGlyph3DMapper",Z7);/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const J7=4,yl=0,ml=1,Q7=2;function Ba(t){let e=t.length;for(;--e>=0;)t[e]=0}const e_=0,Zv=1,t_=2,r_=3,n_=258,Sc=29,Hi=256,bi=Hi+1+Sc,Sa=30,Tc=19,Jv=2*bi+1,Rn=15,v0=16,a_=7,bc=256,Qv=16,ed=17,td=18,wu=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Wo=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),i_=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),rd=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o_=512,Gr=new Array((bi+2)*2);Ba(Gr);const di=new Array(Sa*2);Ba(di);const Ei=new Array(o_);Ba(Ei);const Di=new Array(n_-r_+1);Ba(Di);const Ec=new Array(Sc);Ba(Ec);const hs=new Array(Sa);Ba(hs);function d0(t,e,n,r,a){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=t&&t.length}let nd,ad,id;function g0(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const od=t=>t<256?Ei[t]:Ei[256+(t>>>7)],Oi=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Xt=(t,e,n)=>{t.bi_valid>v0-n?(t.bi_buf|=e<<t.bi_valid&65535,Oi(t,t.bi_buf),t.bi_buf=e>>v0-t.bi_valid,t.bi_valid+=n-v0):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},Er=(t,e,n)=>{Xt(t,n[e*2],n[e*2+1])},sd=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},s_=t=>{t.bi_valid===16?(Oi(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},u_=(t,e)=>{const n=e.dyn_tree,r=e.max_code,a=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,c=e.stat_desc.max_length;let u,l,f,h,p,d,y=0;for(h=0;h<=Rn;h++)t.bl_count[h]=0;for(n[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<Jv;u++)l=t.heap[u],h=n[n[l*2+1]*2+1]+1,h>c&&(h=c,y++),n[l*2+1]=h,!(l>r)&&(t.bl_count[h]++,p=0,l>=o&&(p=s[l-o]),d=n[l*2],t.opt_len+=d*(h+p),i&&(t.static_len+=d*(a[l*2+1]+p)));if(y!==0){do{for(h=c-1;t.bl_count[h]===0;)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[c]--,y-=2}while(y>0);for(h=c;h!==0;h--)for(l=t.bl_count[h];l!==0;)f=t.heap[--u],!(f>r)&&(n[f*2+1]!==h&&(t.opt_len+=(h-n[f*2+1])*n[f*2],n[f*2+1]=h),l--)}},ud=(t,e,n)=>{const r=new Array(Rn+1);let a=0,i,s;for(i=1;i<=Rn;i++)r[i]=a=a+n[i-1]<<1;for(s=0;s<=e;s++){let o=t[s*2+1];o!==0&&(t[s*2]=sd(r[o]++,o))}},c_=()=>{let t,e,n,r,a;const i=new Array(Rn+1);for(n=0,r=0;r<Sc-1;r++)for(Ec[r]=n,t=0;t<1<<wu[r];t++)Di[n++]=r;for(Di[n-1]=r,a=0,r=0;r<16;r++)for(hs[r]=a,t=0;t<1<<Wo[r];t++)Ei[a++]=r;for(a>>=7;r<Sa;r++)for(hs[r]=a<<7,t=0;t<1<<Wo[r]-7;t++)Ei[256+a++]=r;for(e=0;e<=Rn;e++)i[e]=0;for(t=0;t<=143;)Gr[t*2+1]=8,t++,i[8]++;for(;t<=255;)Gr[t*2+1]=9,t++,i[9]++;for(;t<=279;)Gr[t*2+1]=7,t++,i[7]++;for(;t<=287;)Gr[t*2+1]=8,t++,i[8]++;for(ud(Gr,bi+1,i),t=0;t<Sa;t++)di[t*2+1]=5,di[t*2]=sd(t,5);nd=new d0(Gr,wu,Hi+1,bi,Rn),ad=new d0(di,Wo,0,Sa,Rn),id=new d0(new Array(0),i_,0,Tc,a_)},cd=t=>{let e;for(e=0;e<bi;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Sa;e++)t.dyn_dtree[e*2]=0;for(e=0;e<Tc;e++)t.bl_tree[e*2]=0;t.dyn_ltree[bc*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},fd=t=>{t.bi_valid>8?Oi(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},f_=(t,e,n,r)=>{fd(t),r&&(Oi(t,n),Oi(t,~n)),t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},_l=(t,e,n,r)=>{const a=e*2,i=n*2;return t[a]<t[i]||t[a]===t[i]&&r[e]<=r[n]},y0=(t,e,n)=>{const r=t.heap[n];let a=n<<1;for(;a<=t.heap_len&&(a<t.heap_len&&_l(e,t.heap[a+1],t.heap[a],t.depth)&&a++,!_l(e,r,t.heap[a],t.depth));)t.heap[n]=t.heap[a],n=a,a<<=1;t.heap[n]=r},xl=(t,e,n)=>{let r,a,i=0,s,o;if(t.last_lit!==0)do r=t.pending_buf[t.d_buf+i*2]<<8|t.pending_buf[t.d_buf+i*2+1],a=t.pending_buf[t.l_buf+i],i++,r===0?Er(t,a,e):(s=Di[a],Er(t,s+Hi+1,e),o=wu[s],o!==0&&(a-=Ec[s],Xt(t,a,o)),r--,s=od(r),Er(t,s,n),o=Wo[s],o!==0&&(r-=hs[s],Xt(t,r,o)));while(i<t.last_lit);Er(t,bc,e)},Cu=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,a=e.stat_desc.has_stree,i=e.stat_desc.elems;let s,o,c=-1,u;for(t.heap_len=0,t.heap_max=Jv,s=0;s<i;s++)n[s*2]!==0?(t.heap[++t.heap_len]=c=s,t.depth[s]=0):n[s*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=c<2?++c:0,n[u*2]=1,t.depth[u]=0,t.opt_len--,a&&(t.static_len-=r[u*2+1]);for(e.max_code=c,s=t.heap_len>>1;s>=1;s--)y0(t,n,s);u=i;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],y0(t,n,1),o=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=o,n[u*2]=n[s*2]+n[o*2],t.depth[u]=(t.depth[s]>=t.depth[o]?t.depth[s]:t.depth[o])+1,n[s*2+1]=n[o*2+1]=u,t.heap[1]=u++,y0(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],u_(t,e),ud(n,c,t.bl_count)},wl=(t,e,n)=>{let r,a=-1,i,s=e[0*2+1],o=0,c=7,u=4;for(s===0&&(c=138,u=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)i=s,s=e[(r+1)*2+1],!(++o<c&&i===s)&&(o<u?t.bl_tree[i*2]+=o:i!==0?(i!==a&&t.bl_tree[i*2]++,t.bl_tree[Qv*2]++):o<=10?t.bl_tree[ed*2]++:t.bl_tree[td*2]++,o=0,a=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))},Cl=(t,e,n)=>{let r,a=-1,i,s=e[0*2+1],o=0,c=7,u=4;for(s===0&&(c=138,u=3),r=0;r<=n;r++)if(i=s,s=e[(r+1)*2+1],!(++o<c&&i===s)){if(o<u)do Er(t,i,t.bl_tree);while(--o!==0);else i!==0?(i!==a&&(Er(t,i,t.bl_tree),o--),Er(t,Qv,t.bl_tree),Xt(t,o-3,2)):o<=10?(Er(t,ed,t.bl_tree),Xt(t,o-3,3)):(Er(t,td,t.bl_tree),Xt(t,o-11,7));o=0,a=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}},l_=t=>{let e;for(wl(t,t.dyn_ltree,t.l_desc.max_code),wl(t,t.dyn_dtree,t.d_desc.max_code),Cu(t,t.bl_desc),e=Tc-1;e>=3&&t.bl_tree[rd[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},h_=(t,e,n,r)=>{let a;for(Xt(t,e-257,5),Xt(t,n-1,5),Xt(t,r-4,4),a=0;a<r;a++)Xt(t,t.bl_tree[rd[a]*2+1],3);Cl(t,t.dyn_ltree,e-1),Cl(t,t.dyn_dtree,n-1)},p_=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return yl;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return ml;for(n=32;n<Hi;n++)if(t.dyn_ltree[n*2]!==0)return ml;return yl};let Sl=!1;const v_=t=>{Sl||(c_(),Sl=!0),t.l_desc=new g0(t.dyn_ltree,nd),t.d_desc=new g0(t.dyn_dtree,ad),t.bl_desc=new g0(t.bl_tree,id),t.bi_buf=0,t.bi_valid=0,cd(t)},ld=(t,e,n,r)=>{Xt(t,(e_<<1)+(r?1:0),3),f_(t,e,n,!0)},d_=t=>{Xt(t,Zv<<1,3),Er(t,bc,Gr),s_(t)},g_=(t,e,n,r)=>{let a,i,s=0;t.level>0?(t.strm.data_type===Q7&&(t.strm.data_type=p_(t)),Cu(t,t.l_desc),Cu(t,t.d_desc),s=l_(t),a=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=a&&(a=i)):a=i=n+5,n+4<=a&&e!==-1?ld(t,e,n,r):t.strategy===J7||i===a?(Xt(t,(Zv<<1)+(r?1:0),3),xl(t,Gr,di)):(Xt(t,(t_<<1)+(r?1:0),3),h_(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),xl(t,t.dyn_ltree,t.dyn_dtree)),cd(t),r&&fd(t)},y_=(t,e,n)=>(t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=n&255,t.last_lit++,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(Di[n]+Hi+1)*2]++,t.dyn_dtree[od(e)*2]++),t.last_lit===t.lit_bufsize-1);var m_=v_,__=ld,x_=g_,w_=y_,C_=d_,S_={_tr_init:m_,_tr_stored_block:__,_tr_flush_block:x_,_tr_tally:w_,_tr_align:C_};const T_=(t,e,n,r)=>{let a=t&65535|0,i=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do a=a+e[r++]|0,i=i+a|0;while(--s);a%=65521,i%=65521}return a|i<<16|0};var Ni=T_;const b_=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},E_=new Uint32Array(b_()),D_=(t,e,n,r)=>{const a=E_,i=r+n;t^=-1;for(let s=r;s<i;s++)t=t>>>8^a[(t^e[s])&255];return t^-1};var xt=D_,Wn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},qn={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:O_,_tr_stored_block:N_,_tr_flush_block:k_,_tr_tally:cn,_tr_align:M_}=S_,{Z_NO_FLUSH:Yn,Z_PARTIAL_FLUSH:R_,Z_FULL_FLUSH:L_,Z_FINISH:fn,Z_BLOCK:Tl,Z_OK:Dr,Z_STREAM_END:bl,Z_STREAM_ERROR:sr,Z_DATA_ERROR:F_,Z_BUF_ERROR:m0,Z_DEFAULT_COMPRESSION:A_,Z_FILTERED:B_,Z_HUFFMAN_ONLY:mo,Z_RLE:V_,Z_FIXED:U_,Z_DEFAULT_STRATEGY:G_,Z_UNKNOWN:P_,Z_DEFLATED:Us}=qn,j_=9,z_=15,I_=8,W_=29,H_=256,Su=H_+1+W_,$_=30,K_=19,X_=2*Su+1,q_=15,Ie=3,sn=258,xr=sn+Ie+1,Y_=32,Gs=42,Tu=69,Ho=73,$o=91,Ko=103,Ln=113,ai=666,dt=1,$i=2,Hn=3,Va=4,Z_=3,un=(t,e)=>(t.msg=Wn[e],e),El=t=>(t<<1)-(t>4?9:0),an=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let J_=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,ln=J_;const Jr=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},Nt=(t,e)=>{k_(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Jr(t.strm)},He=(t,e)=>{t.pending_buf[t.pending++]=e},Ha=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},Q_=(t,e,n,r)=>{let a=t.avail_in;return a>r&&(a=r),a===0?0:(t.avail_in-=a,e.set(t.input.subarray(t.next_in,t.next_in+a),n),t.state.wrap===1?t.adler=Ni(t.adler,e,a,n):t.state.wrap===2&&(t.adler=xt(t.adler,e,a,n)),t.next_in+=a,t.total_in+=a,a)},hd=(t,e)=>{let n=t.max_chain_length,r=t.strstart,a,i,s=t.prev_length,o=t.nice_match;const c=t.strstart>t.w_size-xr?t.strstart-(t.w_size-xr):0,u=t.window,l=t.w_mask,f=t.prev,h=t.strstart+sn;let p=u[r+s-1],d=u[r+s];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do if(a=e,!(u[a+s]!==d||u[a+s-1]!==p||u[a]!==u[r]||u[++a]!==u[r+1])){r+=2,a++;do;while(u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&r<h);if(i=sn-(h-r),r=h-sn,i>s){if(t.match_start=e,s=i,i>=o)break;p=u[r+s-1],d=u[r+s]}}while((e=f[e&l])>c&&--n!==0);return s<=t.lookahead?s:t.lookahead},$n=t=>{const e=t.w_size;let n,r,a,i,s;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-xr)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,r=t.hash_size,n=r;do a=t.head[--n],t.head[n]=a>=e?a-e:0;while(--r);r=e,n=r;do a=t.prev[--n],t.prev[n]=a>=e?a-e:0;while(--r);i+=e}if(t.strm.avail_in===0)break;if(r=Q_(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=r,t.lookahead+t.insert>=Ie)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=ln(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=ln(t,t.ins_h,t.window[s+Ie-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<Ie)););}while(t.lookahead<xr&&t.strm.avail_in!==0)},ex=(t,e)=>{let n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if($n(t),t.lookahead===0&&e===Yn)return dt;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;const r=t.block_start+n;if((t.strstart===0||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,Nt(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-xr&&(Nt(t,!1),t.strm.avail_out===0))return dt}return t.insert=0,e===fn?(Nt(t,!0),t.strm.avail_out===0?Hn:Va):(t.strstart>t.block_start&&(Nt(t,!1),t.strm.avail_out===0),dt)},_0=(t,e)=>{let n,r;for(;;){if(t.lookahead<xr){if($n(t),t.lookahead<xr&&e===Yn)return dt;if(t.lookahead===0)break}if(n=0,t.lookahead>=Ie&&(t.ins_h=ln(t,t.ins_h,t.window[t.strstart+Ie-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-xr&&(t.match_length=hd(t,n)),t.match_length>=Ie)if(r=cn(t,t.strstart-t.match_start,t.match_length-Ie),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Ie){t.match_length--;do t.strstart++,t.ins_h=ln(t,t.ins_h,t.window[t.strstart+Ie-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=ln(t,t.ins_h,t.window[t.strstart+1]);else r=cn(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Nt(t,!1),t.strm.avail_out===0))return dt}return t.insert=t.strstart<Ie-1?t.strstart:Ie-1,e===fn?(Nt(t,!0),t.strm.avail_out===0?Hn:Va):t.last_lit&&(Nt(t,!1),t.strm.avail_out===0)?dt:$i},aa=(t,e)=>{let n,r,a;for(;;){if(t.lookahead<xr){if($n(t),t.lookahead<xr&&e===Yn)return dt;if(t.lookahead===0)break}if(n=0,t.lookahead>=Ie&&(t.ins_h=ln(t,t.ins_h,t.window[t.strstart+Ie-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Ie-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-xr&&(t.match_length=hd(t,n),t.match_length<=5&&(t.strategy===B_||t.match_length===Ie&&t.strstart-t.match_start>4096)&&(t.match_length=Ie-1)),t.prev_length>=Ie&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-Ie,r=cn(t,t.strstart-1-t.prev_match,t.prev_length-Ie),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=a&&(t.ins_h=ln(t,t.ins_h,t.window[t.strstart+Ie-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Ie-1,t.strstart++,r&&(Nt(t,!1),t.strm.avail_out===0))return dt}else if(t.match_available){if(r=cn(t,0,t.window[t.strstart-1]),r&&Nt(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return dt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=cn(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Ie-1?t.strstart:Ie-1,e===fn?(Nt(t,!0),t.strm.avail_out===0?Hn:Va):t.last_lit&&(Nt(t,!1),t.strm.avail_out===0)?dt:$i},tx=(t,e)=>{let n,r,a,i;const s=t.window;for(;;){if(t.lookahead<=sn){if($n(t),t.lookahead<=sn&&e===Yn)return dt;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Ie&&t.strstart>0&&(a=t.strstart-1,r=s[a],r===s[++a]&&r===s[++a]&&r===s[++a])){i=t.strstart+sn;do;while(r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&a<i);t.match_length=sn-(i-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Ie?(n=cn(t,1,t.match_length-Ie),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=cn(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Nt(t,!1),t.strm.avail_out===0))return dt}return t.insert=0,e===fn?(Nt(t,!0),t.strm.avail_out===0?Hn:Va):t.last_lit&&(Nt(t,!1),t.strm.avail_out===0)?dt:$i},rx=(t,e)=>{let n;for(;;){if(t.lookahead===0&&($n(t),t.lookahead===0)){if(e===Yn)return dt;break}if(t.match_length=0,n=cn(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Nt(t,!1),t.strm.avail_out===0))return dt}return t.insert=0,e===fn?(Nt(t,!0),t.strm.avail_out===0?Hn:Va):t.last_lit&&(Nt(t,!1),t.strm.avail_out===0)?dt:$i};function Cr(t,e,n,r,a){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=a}const ii=[new Cr(0,0,0,0,ex),new Cr(4,4,8,4,_0),new Cr(4,5,16,8,_0),new Cr(4,6,32,32,_0),new Cr(4,4,16,16,aa),new Cr(8,16,32,32,aa),new Cr(8,16,128,128,aa),new Cr(8,32,128,256,aa),new Cr(32,128,258,1024,aa),new Cr(32,258,258,4096,aa)],nx=t=>{t.window_size=2*t.w_size,an(t.head),t.max_lazy_match=ii[t.level].max_lazy,t.good_match=ii[t.level].good_length,t.nice_match=ii[t.level].nice_length,t.max_chain_length=ii[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Ie-1,t.match_available=0,t.ins_h=0};function ax(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Us,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(X_*2),this.dyn_dtree=new Uint16Array((2*$_+1)*2),this.bl_tree=new Uint16Array((2*K_+1)*2),an(this.dyn_ltree),an(this.dyn_dtree),an(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(q_+1),this.heap=new Uint16Array(2*Su+1),an(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Su+1),an(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const pd=t=>{if(!t||!t.state)return un(t,sr);t.total_in=t.total_out=0,t.data_type=P_;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Gs:Ln,t.adler=e.wrap===2?0:1,e.last_flush=Yn,O_(e),Dr},vd=t=>{const e=pd(t);return e===Dr&&nx(t.state),e},ix=(t,e)=>!t||!t.state||t.state.wrap!==2?sr:(t.state.gzhead=e,Dr),dd=(t,e,n,r,a,i)=>{if(!t)return sr;let s=1;if(e===A_&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>j_||n!==Us||r<8||r>15||e<0||e>9||i<0||i>U_)return un(t,sr);r===8&&(r=9);const o=new ax;return t.state=o,o.strm=t,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+Ie-1)/Ie),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=(1+2)*o.lit_bufsize,o.level=e,o.strategy=i,o.method=n,vd(t)},ox=(t,e)=>dd(t,e,Us,z_,I_,G_),sx=(t,e)=>{let n,r;if(!t||!t.state||e>Tl||e<0)return t?un(t,sr):sr;const a=t.state;if(!t.output||!t.input&&t.avail_in!==0||a.status===ai&&e!==fn)return un(t,t.avail_out===0?m0:sr);a.strm=t;const i=a.last_flush;if(a.last_flush=e,a.status===Gs)if(a.wrap===2)t.adler=0,He(a,31),He(a,139),He(a,8),a.gzhead?(He(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),He(a,a.gzhead.time&255),He(a,a.gzhead.time>>8&255),He(a,a.gzhead.time>>16&255),He(a,a.gzhead.time>>24&255),He(a,a.level===9?2:a.strategy>=mo||a.level<2?4:0),He(a,a.gzhead.os&255),a.gzhead.extra&&a.gzhead.extra.length&&(He(a,a.gzhead.extra.length&255),He(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=xt(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=Tu):(He(a,0),He(a,0),He(a,0),He(a,0),He(a,0),He(a,a.level===9?2:a.strategy>=mo||a.level<2?4:0),He(a,Z_),a.status=Ln);else{let s=Us+(a.w_bits-8<<4)<<8,o=-1;a.strategy>=mo||a.level<2?o=0:a.level<6?o=1:a.level===6?o=2:o=3,s|=o<<6,a.strstart!==0&&(s|=Y_),s+=31-s%31,a.status=Ln,Ha(a,s),a.strstart!==0&&(Ha(a,t.adler>>>16),Ha(a,t.adler&65535)),t.adler=1}if(a.status===Tu)if(a.gzhead.extra){for(n=a.pending;a.gzindex<(a.gzhead.extra.length&65535)&&!(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(t.adler=xt(t.adler,a.pending_buf,a.pending-n,n)),Jr(t),n=a.pending,a.pending===a.pending_buf_size));)He(a,a.gzhead.extra[a.gzindex]&255),a.gzindex++;a.gzhead.hcrc&&a.pending>n&&(t.adler=xt(t.adler,a.pending_buf,a.pending-n,n)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=Ho)}else a.status=Ho;if(a.status===Ho)if(a.gzhead.name){n=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(t.adler=xt(t.adler,a.pending_buf,a.pending-n,n)),Jr(t),n=a.pending,a.pending===a.pending_buf_size)){r=1;break}a.gzindex<a.gzhead.name.length?r=a.gzhead.name.charCodeAt(a.gzindex++)&255:r=0,He(a,r)}while(r!==0);a.gzhead.hcrc&&a.pending>n&&(t.adler=xt(t.adler,a.pending_buf,a.pending-n,n)),r===0&&(a.gzindex=0,a.status=$o)}else a.status=$o;if(a.status===$o)if(a.gzhead.comment){n=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(t.adler=xt(t.adler,a.pending_buf,a.pending-n,n)),Jr(t),n=a.pending,a.pending===a.pending_buf_size)){r=1;break}a.gzindex<a.gzhead.comment.length?r=a.gzhead.comment.charCodeAt(a.gzindex++)&255:r=0,He(a,r)}while(r!==0);a.gzhead.hcrc&&a.pending>n&&(t.adler=xt(t.adler,a.pending_buf,a.pending-n,n)),r===0&&(a.status=Ko)}else a.status=Ko;if(a.status===Ko&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&Jr(t),a.pending+2<=a.pending_buf_size&&(He(a,t.adler&255),He(a,t.adler>>8&255),t.adler=0,a.status=Ln)):a.status=Ln),a.pending!==0){if(Jr(t),t.avail_out===0)return a.last_flush=-1,Dr}else if(t.avail_in===0&&El(e)<=El(i)&&e!==fn)return un(t,m0);if(a.status===ai&&t.avail_in!==0)return un(t,m0);if(t.avail_in!==0||a.lookahead!==0||e!==Yn&&a.status!==ai){let s=a.strategy===mo?rx(a,e):a.strategy===V_?tx(a,e):ii[a.level].func(a,e);if((s===Hn||s===Va)&&(a.status=ai),s===dt||s===Hn)return t.avail_out===0&&(a.last_flush=-1),Dr;if(s===$i&&(e===R_?M_(a):e!==Tl&&(N_(a,0,0,!1),e===L_&&(an(a.head),a.lookahead===0&&(a.strstart=0,a.block_start=0,a.insert=0))),Jr(t),t.avail_out===0))return a.last_flush=-1,Dr}return e!==fn?Dr:a.wrap<=0?bl:(a.wrap===2?(He(a,t.adler&255),He(a,t.adler>>8&255),He(a,t.adler>>16&255),He(a,t.adler>>24&255),He(a,t.total_in&255),He(a,t.total_in>>8&255),He(a,t.total_in>>16&255),He(a,t.total_in>>24&255)):(Ha(a,t.adler>>>16),Ha(a,t.adler&65535)),Jr(t),a.wrap>0&&(a.wrap=-a.wrap),a.pending!==0?Dr:bl)},ux=t=>{if(!t||!t.state)return sr;const e=t.state.status;return e!==Gs&&e!==Tu&&e!==Ho&&e!==$o&&e!==Ko&&e!==Ln&&e!==ai?un(t,sr):(t.state=null,e===Ln?un(t,F_):Dr)},cx=(t,e)=>{let n=e.length;if(!t||!t.state)return sr;const r=t.state,a=r.wrap;if(a===2||a===1&&r.status!==Gs||r.lookahead)return sr;if(a===1&&(t.adler=Ni(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){a===0&&(an(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(e.subarray(n-r.w_size,n),0),e=c,n=r.w_size}const i=t.avail_in,s=t.next_in,o=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,$n(r);r.lookahead>=Ie;){let c=r.strstart,u=r.lookahead-(Ie-1);do r.ins_h=ln(r,r.ins_h,r.window[c+Ie-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=Ie-1,$n(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Ie-1,r.match_available=0,t.next_in=s,t.input=o,t.avail_in=i,r.wrap=a,Dr};var fx=ox,lx=dd,hx=vd,px=pd,vx=ix,dx=sx,gx=ux,yx=cx,mx="pako deflate (from Nodeca project)",gi={deflateInit:fx,deflateInit2:lx,deflateReset:hx,deflateResetKeep:px,deflateSetHeader:vx,deflate:dx,deflateEnd:gx,deflateSetDictionary:yx,deflateInfo:mx};const _x=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var xx=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(!!n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)_x(n,r)&&(t[r]=n[r])}}return t},wx=t=>{let e=0;for(let r=0,a=t.length;r<a;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,a=0,i=t.length;r<i;r++){let s=t[r];n.set(s,a),a+=s.length}return n},Ps={assign:xx,flattenChunks:wx};let gd=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{gd=!1}const ki=new Uint8Array(256);for(let t=0;t<256;t++)ki[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ki[254]=ki[254]=1;var Cx=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,a,i,s=t.length,o=0;for(a=0;a<s;a++)n=t.charCodeAt(a),(n&64512)===55296&&a+1<s&&(r=t.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),i=0,a=0;i<o;a++)n=t.charCodeAt(a),(n&64512)===55296&&a+1<s&&(r=t.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|n&63):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|n&63):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|n&63);return e};const Sx=(t,e)=>{if(e<65534&&t.subarray&&gd)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var Tx=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,a;const i=new Array(n*2);for(a=0,r=0;r<n;){let s=t[r++];if(s<128){i[a++]=s;continue}let o=ki[s];if(o>4){i[a++]=65533,r+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&r<n;)s=s<<6|t[r++]&63,o--;if(o>1){i[a++]=65533;continue}s<65536?i[a++]=s:(s-=65536,i[a++]=55296|s>>10&1023,i[a++]=56320|s&1023)}return Sx(i,a)},bx=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+ki[t[n]]>e?n:e},Mi={string2buf:Cx,buf2string:Tx,utf8border:bx};function Ex(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var yd=Ex;const md=Object.prototype.toString,{Z_NO_FLUSH:Dx,Z_SYNC_FLUSH:Ox,Z_FULL_FLUSH:Nx,Z_FINISH:kx,Z_OK:ps,Z_STREAM_END:Mx,Z_DEFAULT_COMPRESSION:Rx,Z_DEFAULT_STRATEGY:Lx,Z_DEFLATED:Fx}=qn;function Ki(t){this.options=Ps.assign({level:Rx,method:Fx,chunkSize:16384,windowBits:15,memLevel:8,strategy:Lx},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yd,this.strm.avail_out=0;let n=gi.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==ps)throw new Error(Wn[n]);if(e.header&&gi.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=Mi.string2buf(e.dictionary):md.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=gi.deflateSetDictionary(this.strm,r),n!==ps)throw new Error(Wn[n]);this._dict_set=!0}}Ki.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let a,i;if(this.ended)return!1;for(e===~~e?i=e:i=e===!0?kx:Dx,typeof t=="string"?n.input=Mi.string2buf(t):md.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===Ox||i===Nx)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(a=gi.deflate(n,i),a===Mx)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=gi.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===ps;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Ki.prototype.onData=function(t){this.chunks.push(t)};Ki.prototype.onEnd=function(t){t===ps&&(this.result=Ps.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Dc(t,e){const n=new Ki(e);if(n.push(t,!0),n.err)throw n.msg||Wn[n.err];return n.result}function Ax(t,e){return e=e||{},e.raw=!0,Dc(t,e)}function Bx(t,e){return e=e||{},e.gzip=!0,Dc(t,e)}var Vx=Ki,Ux=Dc,Gx=Ax,Px=Bx,jx=qn,zx={Deflate:Vx,deflate:Ux,deflateRaw:Gx,gzip:Px,constants:jx};const _o=30,Ix=12;var Wx=function(e,n){let r,a,i,s,o,c,u,l,f,h,p,d,y,m,_,v,g,x,w,C,S,T,b,O;const D=e.state;r=e.next_in,b=e.input,a=r+(e.avail_in-5),i=e.next_out,O=e.output,s=i-(n-e.avail_out),o=i+(e.avail_out-257),c=D.dmax,u=D.wsize,l=D.whave,f=D.wnext,h=D.window,p=D.hold,d=D.bits,y=D.lencode,m=D.distcode,_=(1<<D.lenbits)-1,v=(1<<D.distbits)-1;e:do{d<15&&(p+=b[r++]<<d,d+=8,p+=b[r++]<<d,d+=8),g=y[p&_];t:for(;;){if(x=g>>>24,p>>>=x,d-=x,x=g>>>16&255,x===0)O[i++]=g&65535;else if(x&16){w=g&65535,x&=15,x&&(d<x&&(p+=b[r++]<<d,d+=8),w+=p&(1<<x)-1,p>>>=x,d-=x),d<15&&(p+=b[r++]<<d,d+=8,p+=b[r++]<<d,d+=8),g=m[p&v];r:for(;;){if(x=g>>>24,p>>>=x,d-=x,x=g>>>16&255,x&16){if(C=g&65535,x&=15,d<x&&(p+=b[r++]<<d,d+=8,d<x&&(p+=b[r++]<<d,d+=8)),C+=p&(1<<x)-1,C>c){e.msg="invalid distance too far back",D.mode=_o;break e}if(p>>>=x,d-=x,x=i-s,C>x){if(x=C-x,x>l&&D.sane){e.msg="invalid distance too far back",D.mode=_o;break e}if(S=0,T=h,f===0){if(S+=u-x,x<w){w-=x;do O[i++]=h[S++];while(--x);S=i-C,T=O}}else if(f<x){if(S+=u+f-x,x-=f,x<w){w-=x;do O[i++]=h[S++];while(--x);if(S=0,f<w){x=f,w-=x;do O[i++]=h[S++];while(--x);S=i-C,T=O}}}else if(S+=f-x,x<w){w-=x;do O[i++]=h[S++];while(--x);S=i-C,T=O}for(;w>2;)O[i++]=T[S++],O[i++]=T[S++],O[i++]=T[S++],w-=3;w&&(O[i++]=T[S++],w>1&&(O[i++]=T[S++]))}else{S=i-C;do O[i++]=O[S++],O[i++]=O[S++],O[i++]=O[S++],w-=3;while(w>2);w&&(O[i++]=O[S++],w>1&&(O[i++]=O[S++]))}}else if((x&64)===0){g=m[(g&65535)+(p&(1<<x)-1)];continue r}else{e.msg="invalid distance code",D.mode=_o;break e}break}}else if((x&64)===0){g=y[(g&65535)+(p&(1<<x)-1)];continue t}else if(x&32){D.mode=Ix;break e}else{e.msg="invalid literal/length code",D.mode=_o;break e}break}}while(r<a&&i<o);w=d>>3,r-=w,d-=w<<3,p&=(1<<d)-1,e.next_in=r,e.next_out=i,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=i<o?257+(o-i):257-(i-o),D.hold=p,D.bits=d};const ia=15,Dl=852,Ol=592,Nl=0,x0=1,kl=2,Hx=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),$x=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Kx=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Xx=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),qx=(t,e,n,r,a,i,s,o)=>{const c=o.bits;let u=0,l=0,f=0,h=0,p=0,d=0,y=0,m=0,_=0,v=0,g,x,w,C,S,T=null,b=0,O;const D=new Uint16Array(ia+1),N=new Uint16Array(ia+1);let R=null,E=0,A,W,z;for(u=0;u<=ia;u++)D[u]=0;for(l=0;l<r;l++)D[e[n+l]]++;for(p=c,h=ia;h>=1&&D[h]===0;h--);if(p>h&&(p=h),h===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<h&&D[f]===0;f++);for(p<f&&(p=f),m=1,u=1;u<=ia;u++)if(m<<=1,m-=D[u],m<0)return-1;if(m>0&&(t===Nl||h!==1))return-1;for(N[1]=0,u=1;u<ia;u++)N[u+1]=N[u]+D[u];for(l=0;l<r;l++)e[n+l]!==0&&(s[N[e[n+l]]++]=l);if(t===Nl?(T=R=s,O=19):t===x0?(T=Hx,b-=257,R=$x,E-=257,O=256):(T=Kx,R=Xx,O=-1),v=0,l=0,u=f,S=i,d=p,y=0,w=-1,_=1<<p,C=_-1,t===x0&&_>Dl||t===kl&&_>Ol)return 1;for(;;){A=u-y,s[l]<O?(W=0,z=s[l]):s[l]>O?(W=R[E+s[l]],z=T[b+s[l]]):(W=32+64,z=0),g=1<<u-y,x=1<<d,f=x;do x-=g,a[S+(v>>y)+x]=A<<24|W<<16|z|0;while(x!==0);for(g=1<<u-1;v&g;)g>>=1;if(g!==0?(v&=g-1,v+=g):v=0,l++,--D[u]===0){if(u===h)break;u=e[n+s[l]]}if(u>p&&(v&C)!==w){for(y===0&&(y=p),S+=f,d=u-y,m=1<<d;d+y<h&&(m-=D[d+y],!(m<=0));)d++,m<<=1;if(_+=1<<d,t===x0&&_>Dl||t===kl&&_>Ol)return 1;w=v&C,a[w]=p<<24|d<<16|S-i|0}}return v!==0&&(a[S+v]=u-y<<24|64<<16|0),o.bits=p,0};var yi=qx;const Yx=0,_d=1,xd=2,{Z_FINISH:Ml,Z_BLOCK:Zx,Z_TREES:xo,Z_OK:Kn,Z_STREAM_END:Jx,Z_NEED_DICT:Qx,Z_STREAM_ERROR:cr,Z_DATA_ERROR:wd,Z_MEM_ERROR:Cd,Z_BUF_ERROR:ew,Z_DEFLATED:Rl}=qn,Sd=1,Ll=2,Fl=3,Al=4,Bl=5,Vl=6,Ul=7,Gl=8,Pl=9,jl=10,vs=11,Lr=12,w0=13,zl=14,C0=15,Il=16,Wl=17,Hl=18,$l=19,wo=20,Co=21,Kl=22,Xl=23,ql=24,Yl=25,Zl=26,S0=27,Jl=28,Ql=29,it=30,Td=31,tw=32,rw=852,nw=592,aw=15,iw=aw,eh=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function ow(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const bd=t=>{if(!t||!t.state)return cr;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Sd,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(rw),e.distcode=e.distdyn=new Int32Array(nw),e.sane=1,e.back=-1,Kn},Ed=t=>{if(!t||!t.state)return cr;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,bd(t)},Dd=(t,e)=>{let n;if(!t||!t.state)return cr;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?cr:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Ed(t))},Od=(t,e)=>{if(!t)return cr;const n=new ow;t.state=n,n.window=null;const r=Dd(t,e);return r!==Kn&&(t.state=null),r},sw=t=>Od(t,iw);let th=!0,T0,b0;const uw=t=>{if(th){T0=new Int32Array(512),b0=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(yi(_d,t.lens,0,288,T0,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;yi(xd,t.lens,0,32,b0,0,t.work,{bits:5}),th=!1}t.lencode=T0,t.lenbits=9,t.distcode=b0,t.distbits=5},Nd=(t,e,n,r)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),i.window.set(e.subarray(n-r,n-r+a),i.wnext),r-=a,r?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},cw=(t,e)=>{let n,r,a,i,s,o,c,u,l,f,h,p,d,y,m=0,_,v,g,x,w,C,S,T;const b=new Uint8Array(4);let O,D;const N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return cr;n=t.state,n.mode===Lr&&(n.mode=w0),s=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,u=n.hold,l=n.bits,f=o,h=c,T=Kn;e:for(;;)switch(n.mode){case Sd:if(n.wrap===0){n.mode=w0;break}for(;l<16;){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}if(n.wrap&2&&u===35615){n.check=0,b[0]=u&255,b[1]=u>>>8&255,n.check=xt(n.check,b,2,0),u=0,l=0,n.mode=Ll;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=it;break}if((u&15)!==Rl){t.msg="unknown compression method",n.mode=it;break}if(u>>>=4,l-=4,S=(u&15)+8,n.wbits===0)n.wbits=S;else if(S>n.wbits){t.msg="invalid window size",n.mode=it;break}n.dmax=1<<n.wbits,t.adler=n.check=1,n.mode=u&512?jl:Lr,u=0,l=0;break;case Ll:for(;l<16;){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}if(n.flags=u,(n.flags&255)!==Rl){t.msg="unknown compression method",n.mode=it;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=it;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&(b[0]=u&255,b[1]=u>>>8&255,n.check=xt(n.check,b,2,0)),u=0,l=0,n.mode=Fl;case Fl:for(;l<32;){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}n.head&&(n.head.time=u),n.flags&512&&(b[0]=u&255,b[1]=u>>>8&255,b[2]=u>>>16&255,b[3]=u>>>24&255,n.check=xt(n.check,b,4,0)),u=0,l=0,n.mode=Al;case Al:for(;l<16;){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&(b[0]=u&255,b[1]=u>>>8&255,n.check=xt(n.check,b,2,0)),u=0,l=0,n.mode=Bl;case Bl:if(n.flags&1024){for(;l<16;){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&(b[0]=u&255,b[1]=u>>>8&255,n.check=xt(n.check,b,2,0)),u=0,l=0}else n.head&&(n.head.extra=null);n.mode=Vl;case Vl:if(n.flags&1024&&(p=n.length,p>o&&(p=o),p&&(n.head&&(S=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+p),S)),n.flags&512&&(n.check=xt(n.check,r,p,i)),o-=p,i+=p,n.length-=p),n.length))break e;n.length=0,n.mode=Ul;case Ul:if(n.flags&2048){if(o===0)break e;p=0;do S=r[i+p++],n.head&&S&&n.length<65536&&(n.head.name+=String.fromCharCode(S));while(S&&p<o);if(n.flags&512&&(n.check=xt(n.check,r,p,i)),o-=p,i+=p,S)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Gl;case Gl:if(n.flags&4096){if(o===0)break e;p=0;do S=r[i+p++],n.head&&S&&n.length<65536&&(n.head.comment+=String.fromCharCode(S));while(S&&p<o);if(n.flags&512&&(n.check=xt(n.check,r,p,i)),o-=p,i+=p,S)break e}else n.head&&(n.head.comment=null);n.mode=Pl;case Pl:if(n.flags&512){for(;l<16;){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}if(u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=it;break}u=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Lr;break;case jl:for(;l<32;){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}t.adler=n.check=eh(u),u=0,l=0,n.mode=vs;case vs:if(n.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=l,Qx;t.adler=n.check=1,n.mode=Lr;case Lr:if(e===Zx||e===xo)break e;case w0:if(n.last){u>>>=l&7,l-=l&7,n.mode=S0;break}for(;l<3;){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}switch(n.last=u&1,u>>>=1,l-=1,u&3){case 0:n.mode=zl;break;case 1:if(uw(n),n.mode=wo,e===xo){u>>>=2,l-=2;break e}break;case 2:n.mode=Wl;break;case 3:t.msg="invalid block type",n.mode=it}u>>>=2,l-=2;break;case zl:for(u>>>=l&7,l-=l&7;l<32;){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=it;break}if(n.length=u&65535,u=0,l=0,n.mode=C0,e===xo)break e;case C0:n.mode=Il;case Il:if(p=n.length,p){if(p>o&&(p=o),p>c&&(p=c),p===0)break e;a.set(r.subarray(i,i+p),s),o-=p,i+=p,c-=p,s+=p,n.length-=p;break}n.mode=Lr;break;case Wl:for(;l<14;){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}if(n.nlen=(u&31)+257,u>>>=5,l-=5,n.ndist=(u&31)+1,u>>>=5,l-=5,n.ncode=(u&15)+4,u>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=it;break}n.have=0,n.mode=Hl;case Hl:for(;n.have<n.ncode;){for(;l<3;){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}n.lens[N[n.have++]]=u&7,u>>>=3,l-=3}for(;n.have<19;)n.lens[N[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},T=yi(Yx,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,T){t.msg="invalid code lengths set",n.mode=it;break}n.have=0,n.mode=$l;case $l:for(;n.have<n.nlen+n.ndist;){for(;m=n.lencode[u&(1<<n.lenbits)-1],_=m>>>24,v=m>>>16&255,g=m&65535,!(_<=l);){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}if(g<16)u>>>=_,l-=_,n.lens[n.have++]=g;else{if(g===16){for(D=_+2;l<D;){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}if(u>>>=_,l-=_,n.have===0){t.msg="invalid bit length repeat",n.mode=it;break}S=n.lens[n.have-1],p=3+(u&3),u>>>=2,l-=2}else if(g===17){for(D=_+3;l<D;){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}u>>>=_,l-=_,S=0,p=3+(u&7),u>>>=3,l-=3}else{for(D=_+7;l<D;){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}u>>>=_,l-=_,S=0,p=11+(u&127),u>>>=7,l-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=it;break}for(;p--;)n.lens[n.have++]=S}}if(n.mode===it)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=it;break}if(n.lenbits=9,O={bits:n.lenbits},T=yi(_d,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,T){t.msg="invalid literal/lengths set",n.mode=it;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},T=yi(xd,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,T){t.msg="invalid distances set",n.mode=it;break}if(n.mode=wo,e===xo)break e;case wo:n.mode=Co;case Co:if(o>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=l,Wx(t,h),s=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,u=n.hold,l=n.bits,n.mode===Lr&&(n.back=-1);break}for(n.back=0;m=n.lencode[u&(1<<n.lenbits)-1],_=m>>>24,v=m>>>16&255,g=m&65535,!(_<=l);){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}if(v&&(v&240)===0){for(x=_,w=v,C=g;m=n.lencode[C+((u&(1<<x+w)-1)>>x)],_=m>>>24,v=m>>>16&255,g=m&65535,!(x+_<=l);){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}u>>>=x,l-=x,n.back+=x}if(u>>>=_,l-=_,n.back+=_,n.length=g,v===0){n.mode=Zl;break}if(v&32){n.back=-1,n.mode=Lr;break}if(v&64){t.msg="invalid literal/length code",n.mode=it;break}n.extra=v&15,n.mode=Kl;case Kl:if(n.extra){for(D=n.extra;l<D;){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Xl;case Xl:for(;m=n.distcode[u&(1<<n.distbits)-1],_=m>>>24,v=m>>>16&255,g=m&65535,!(_<=l);){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}if((v&240)===0){for(x=_,w=v,C=g;m=n.distcode[C+((u&(1<<x+w)-1)>>x)],_=m>>>24,v=m>>>16&255,g=m&65535,!(x+_<=l);){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}u>>>=x,l-=x,n.back+=x}if(u>>>=_,l-=_,n.back+=_,v&64){t.msg="invalid distance code",n.mode=it;break}n.offset=g,n.extra=v&15,n.mode=ql;case ql:if(n.extra){for(D=n.extra;l<D;){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=it;break}n.mode=Yl;case Yl:if(c===0)break e;if(p=h-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=it;break}p>n.wnext?(p-=n.wnext,d=n.wsize-p):d=n.wnext-p,p>n.length&&(p=n.length),y=n.window}else y=a,d=s-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do a[s++]=y[d++];while(--p);n.length===0&&(n.mode=Co);break;case Zl:if(c===0)break e;a[s++]=n.length,c--,n.mode=Co;break;case S0:if(n.wrap){for(;l<32;){if(o===0)break e;o--,u|=r[i++]<<l,l+=8}if(h-=c,t.total_out+=h,n.total+=h,h&&(t.adler=n.check=n.flags?xt(n.check,a,h,s-h):Ni(n.check,a,h,s-h)),h=c,(n.flags?u:eh(u))!==n.check){t.msg="incorrect data check",n.mode=it;break}u=0,l=0}n.mode=Jl;case Jl:if(n.wrap&&n.flags){for(;l<32;){if(o===0)break e;o--,u+=r[i++]<<l,l+=8}if(u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=it;break}u=0,l=0}n.mode=Ql;case Ql:T=Jx;break e;case it:T=wd;break e;case Td:return Cd;case tw:default:return cr}return t.next_out=s,t.avail_out=c,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=l,(n.wsize||h!==t.avail_out&&n.mode<it&&(n.mode<S0||e!==Ml))&&Nd(t,t.output,t.next_out,h-t.avail_out),f-=t.avail_in,h-=t.avail_out,t.total_in+=f,t.total_out+=h,n.total+=h,n.wrap&&h&&(t.adler=n.check=n.flags?xt(n.check,a,h,t.next_out-h):Ni(n.check,a,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Lr?128:0)+(n.mode===wo||n.mode===C0?256:0),(f===0&&h===0||e===Ml)&&T===Kn&&(T=ew),T},fw=t=>{if(!t||!t.state)return cr;let e=t.state;return e.window&&(e.window=null),t.state=null,Kn},lw=(t,e)=>{if(!t||!t.state)return cr;const n=t.state;return(n.wrap&2)===0?cr:(n.head=e,e.done=!1,Kn)},hw=(t,e)=>{const n=e.length;let r,a,i;return!t||!t.state||(r=t.state,r.wrap!==0&&r.mode!==vs)?cr:r.mode===vs&&(a=1,a=Ni(a,e,n,0),a!==r.check)?wd:(i=Nd(t,e,n,n),i?(r.mode=Td,Cd):(r.havedict=1,Kn))};var pw=Ed,vw=Dd,dw=bd,gw=sw,yw=Od,mw=cw,_w=fw,xw=lw,ww=hw,Cw="pako inflate (from Nodeca project)",Pr={inflateReset:pw,inflateReset2:vw,inflateResetKeep:dw,inflateInit:gw,inflateInit2:yw,inflate:mw,inflateEnd:_w,inflateGetHeader:xw,inflateSetDictionary:ww,inflateInfo:Cw};function Sw(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Tw=Sw;const kd=Object.prototype.toString,{Z_NO_FLUSH:bw,Z_FINISH:Ew,Z_OK:Ri,Z_STREAM_END:E0,Z_NEED_DICT:D0,Z_STREAM_ERROR:Dw,Z_DATA_ERROR:rh,Z_MEM_ERROR:Ow}=qn;function Xi(t){this.options=Ps.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yd,this.strm.avail_out=0;let n=Pr.inflateInit2(this.strm,e.windowBits);if(n!==Ri)throw new Error(Wn[n]);if(this.header=new Tw,Pr.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Mi.string2buf(e.dictionary):kd.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Pr.inflateSetDictionary(this.strm,e.dictionary),n!==Ri)))throw new Error(Wn[n])}Xi.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Ew:bw,kd.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=Pr.inflate(n,s),i===D0&&a&&(i=Pr.inflateSetDictionary(n,a),i===Ri?i=Pr.inflate(n,s):i===rh&&(i=D0));n.avail_in>0&&i===E0&&n.state.wrap>0&&t[n.next_in]!==0;)Pr.inflateReset(n),i=Pr.inflate(n,s);switch(i){case Dw:case rh:case D0:case Ow:return this.onEnd(i),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||i===E0))if(this.options.to==="string"){let c=Mi.utf8border(n.output,n.next_out),u=n.next_out-c,l=Mi.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(l)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===Ri&&o===0)){if(i===E0)return i=Pr.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Xi.prototype.onData=function(t){this.chunks.push(t)};Xi.prototype.onEnd=function(t){t===Ri&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ps.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Oc(t,e){const n=new Xi(e);if(n.push(t),n.err)throw n.msg||Wn[n.err];return n.result}function Nw(t,e){return e=e||{},e.raw=!0,Oc(t,e)}var kw=Xi,Mw=Oc,Rw=Nw,Lw=Oc,Fw=qn,Aw={Inflate:kw,inflate:Mw,inflateRaw:Rw,ungzip:Lw,constants:Fw};const{Deflate:Bw,deflate:Vw,deflateRaw:Uw,gzip:Gw}=zx,{Inflate:Pw,inflate:jw,inflateRaw:zw,ungzip:Iw}=Aw;var Ww=Bw,Hw=Vw,$w=Uw,Kw=Gw,Xw=Pw,qw=jw,Yw=zw,Zw=Iw,Jw=qn,ur={Deflate:Ww,deflate:Hw,deflateRaw:$w,gzip:Kw,Inflate:Xw,inflate:qw,inflateRaw:Yw,ungzip:Zw,constants:Jw};function Md(){var t=new ArrayBuffer(4),e=new Uint8Array(t),n=new Uint32Array(t);return e[0]=161,e[1]=178,e[2]=195,e[3]=212,n[0]===3569595041?"LittleEndian":n[0]===2712847316?"BigEndian":null}var Qw=Md();function eC(t,e){if(!(e<2))for(var n=new Int8Array(t),r=n.length,a=[],i=0;i<r;i+=e){for(var s=0;s<e;s++)a.push(n[i+s]);for(var o=0;o<e;o++)n[i+o]=a.pop()}}var Hr={ENDIANNESS:Qw,getEndianness:Md,swapBytes:eC},Nc={};function Rd(t){return!!Nc[t]}function tC(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Nc[t](e)}function js(t,e){Nc[t]=e}var Ua={get:tC,has:Rd,registerType:js},Li=I.vtkErrorMacro,rC=I.vtkDebugMacro,Ea=0;function zs(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=new XMLHttpRequest;return r.open(t,e,!0),n.headers&&Object.entries(n.headers).forEach(function(a){var i=We(a,2),s=i[0],o=i[1];return r.setRequestHeader(s,o)}),n.progressCallback&&r.addEventListener("progress",n.progressCallback),r}function nC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e&&e.compression&&e.compression!=="gz"&&(Li("Supported algorithms are: [gz]"),Li("Unkown compression algorithm: ".concat(e.compression))),new Promise(function(n,r){var a=zs("GET",t,e);a.onreadystatechange=function(i){a.readyState===4&&(a.status===200||a.status===0?e.compression?n(ur.inflate(new Uint8Array(a.response),{to:"arraybuffer"}).buffer):n(a.response):r({xhr:a,e:i}))},a.responseType="arraybuffer",a.send()})}function aC(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.ref&&!n.ref.pending?new Promise(function(a,i){var s=null;n.ref.url?s=n.ref.url:s=[e,n.ref.basepath,r.compression?"".concat(n.ref.id,".gz"):n.ref.id].join("/");var o=zs("GET",s,r);o.onreadystatechange=function(c){o.readyState===1&&(n.ref.pending=!0,++Ea===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0)),o.readyState===4&&(n.ref.pending=!1,o.status===200||o.status===0?(n.buffer=o.response,r.compression&&(n.dataType==="string"||n.dataType==="JSON"?n.buffer=ur.inflate(new Uint8Array(n.buffer),{to:"string"}):n.buffer=ur.inflate(new Uint8Array(n.buffer)).buffer),n.ref.encode==="JSON"?n.values=JSON.parse(n.buffer):(Hr.ENDIANNESS!==n.ref.encode&&Hr.ENDIANNESS&&(rC("Swap bytes of ".concat(n.name)),Hr.swapBytes(n.buffer,Ns[n.dataType])),n.values=I.newTypedArray(n.dataType,n.buffer)),n.values.length!==n.size&&Li("Error in FetchArray: ".concat(n.name,", does not have the proper array size. Got ").concat(n.values.length,", instead of ").concat(n.size)),delete n.ref,--Ea===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),t!=null&&t.modified&&t.modified(),a(n)):i({xhr:o,e:c}))},o.responseType=r.compression||n.dataType!=="string"?"arraybuffer":"text",o.send()}):Promise.resolve(n)}function iC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(function(r,a){var i=zs("GET",e,n);i.onreadystatechange=function(s){i.readyState===1&&++Ea===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--Ea===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?n.compression?r(JSON.parse(ur.inflate(new Uint8Array(i.response),{to:"string"}))):r(JSON.parse(i.responseText)):a({xhr:i,e:s}))},i.responseType=n.compression?"arraybuffer":"text",i.send()})}function oC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n&&n.compression&&n.compression!=="gz"&&(Li("Supported algorithms are: [gz]"),Li("Unkown compression algorithm: ".concat(n.compression))),new Promise(function(r,a){var i=zs("GET",e,n);i.onreadystatechange=function(s){i.readyState===1&&++Ea===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--Ea===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?n.compression?r(ur.inflate(new Uint8Array(i.response),{to:"string"})):r(i.responseText):a({xhr:i,e:s}))},i.responseType=n.compression?"arraybuffer":"text",i.send()})}function sC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(function(r,a){var i=new Image;n.crossOrigin&&(i.crossOrigin=n.crossOrigin),i.onload=function(){return r(i)},i.onerror=a,i.src=e})}var uC={fetchArray:aC,fetchJSON:iC,fetchText:oC,fetchBinary:nC,fetchImage:sC};js("http",function(t){return uC});var Ld={exports:{}};/*!

JSZip v3.9.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,a,i){function s(u,l){if(!a[u]){if(!r[u]){var f=typeof Yi=="function"&&Yi;if(!l&&f)return f(u,!0);if(o)return o(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var p=a[u]={exports:{}};r[u][0].call(p.exports,function(d){var y=r[u][1][d];return s(y||d)},p,p.exports,n,r,a,i)}return a[u].exports}for(var o=typeof Yi=="function"&&Yi,c=0;c<i.length;c++)s(i[c]);return s}({1:[function(n,r,a){var i=n("./utils"),s=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(c){for(var u,l,f,h,p,d,y,m=[],_=0,v=c.length,g=v,x=i.getTypeOf(c)!=="string";_<c.length;)g=v-_,f=x?(u=c[_++],l=_<v?c[_++]:0,_<v?c[_++]:0):(u=c.charCodeAt(_++),l=_<v?c.charCodeAt(_++):0,_<v?c.charCodeAt(_++):0),h=u>>2,p=(3&u)<<4|l>>4,d=1<g?(15&l)<<2|f>>6:64,y=2<g?63&f:64,m.push(o.charAt(h)+o.charAt(p)+o.charAt(d)+o.charAt(y));return m.join("")},a.decode=function(c){var u,l,f,h,p,d,y=0,m=0,_="data:";if(c.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var v,g=3*(c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&g--,c.charAt(c.length-2)===o.charAt(64)&&g--,g%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=s.uint8array?new Uint8Array(0|g):new Array(0|g);y<c.length;)u=o.indexOf(c.charAt(y++))<<2|(h=o.indexOf(c.charAt(y++)))>>4,l=(15&h)<<4|(p=o.indexOf(c.charAt(y++)))>>2,f=(3&p)<<6|(d=o.indexOf(c.charAt(y++))),v[m++]=u,p!==64&&(v[m++]=l),d!==64&&(v[m++]=f);return v}},{"./support":30,"./utils":32}],2:[function(n,r,a){var i=n("./external"),s=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function u(l,f,h,p,d){this.compressedSize=l,this.uncompressedSize=f,this.crc32=h,this.compression=p,this.compressedContent=d}u.prototype={getContentWorker:function(){var l=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),f=this;return l.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(l,f,h){return l.pipe(new o).pipe(new c("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new c("compressedSize")).withStreamInfo("compression",f)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,a){var i=n("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(s){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,a){var i=n("./utils"),s=function(){for(var o,c=[],u=0;u<256;u++){o=u;for(var l=0;l<8;l++)o=1&o?3988292384^o>>>1:o>>>1;c[u]=o}return c}();r.exports=function(o,c){return o!==void 0&&o.length?i.getTypeOf(o)!=="string"?function(u,l,f,h){var p=s,d=h+f;u^=-1;for(var y=h;y<d;y++)u=u>>>8^p[255&(u^l[y])];return-1^u}(0|c,o,o.length,0):function(u,l,f,h){var p=s,d=h+f;u^=-1;for(var y=h;y<d;y++)u=u>>>8^p[255&(u^l.charCodeAt(y))];return-1^u}(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(n,r,a){var i=null;i=typeof Promise!="undefined"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,a){var i=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",s=n("pako"),o=n("./utils"),c=n("./stream/GenericWorker"),u=i?"uint8array":"array";function l(f,h){c.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}a.magic="\b\0",o.inherits(l,c),l.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,f.data),!1)},l.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},a.compressWorker=function(f){return new l("Deflate",f)},a.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,a){function i(p,d){var y,m="";for(y=0;y<d;y++)m+=String.fromCharCode(255&p),p>>>=8;return m}function s(p,d,y,m,_,v){var g,x,w=p.file,C=p.compression,S=v!==u.utf8encode,T=o.transformTo("string",v(w.name)),b=o.transformTo("string",u.utf8encode(w.name)),O=w.comment,D=o.transformTo("string",v(O)),N=o.transformTo("string",u.utf8encode(O)),R=b.length!==w.name.length,E=N.length!==O.length,A="",W="",z="",F=w.dir,L=w.date,G={crc32:0,compressedSize:0,uncompressedSize:0};d&&!y||(G.crc32=p.crc32,G.compressedSize=p.compressedSize,G.uncompressedSize=p.uncompressedSize);var H=0;d&&(H|=8),S||!R&&!E||(H|=2048);var $=0,J=0;F&&($|=16),_==="UNIX"?(J=798,$|=function(q,ne){var te=q;return q||(te=ne?16893:33204),(65535&te)<<16}(w.unixPermissions,F)):(J=20,$|=function(q){return 63&(q||0)}(w.dosPermissions)),g=L.getUTCHours(),g<<=6,g|=L.getUTCMinutes(),g<<=5,g|=L.getUTCSeconds()/2,x=L.getUTCFullYear()-1980,x<<=4,x|=L.getUTCMonth()+1,x<<=5,x|=L.getUTCDate(),R&&(W=i(1,1)+i(l(T),4)+b,A+="up"+i(W.length,2)+W),E&&(z=i(1,1)+i(l(D),4)+N,A+="uc"+i(z.length,2)+z);var Q="";return Q+=`
\0`,Q+=i(H,2),Q+=C.magic,Q+=i(g,2),Q+=i(x,2),Q+=i(G.crc32,4),Q+=i(G.compressedSize,4),Q+=i(G.uncompressedSize,4),Q+=i(T.length,2),Q+=i(A.length,2),{fileRecord:f.LOCAL_FILE_HEADER+Q+T+A,dirRecord:f.CENTRAL_FILE_HEADER+i(J,2)+Q+i(D.length,2)+"\0\0\0\0"+i($,4)+i(m,4)+T+A+D}}var o=n("../utils"),c=n("../stream/GenericWorker"),u=n("../utf8"),l=n("../crc32"),f=n("../signature");function h(p,d,y,m){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=y,this.encodeFileName=m,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,c),h.prototype.push=function(p){var d=p.meta.percent||0,y=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,c.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:y?(d+100*(y-m-1))/y:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var d=this.streamFiles&&!p.file.dir;if(d){var y=s(p,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var d=this.streamFiles&&!p.file.dir,y=s(p,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),d)this.push({data:function(m){return f.DATA_DESCRIPTOR+i(m.crc32,4)+i(m.compressedSize,4)+i(m.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var y=this.bytesWritten-p,m=function(_,v,g,x,w){var C=o.transformTo("string",w(x));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(_,2)+i(_,2)+i(v,4)+i(g,4)+i(C.length,2)+C}(this.dirRecords.length,y,p,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var d=this;return p.on("data",function(y){d.processChunk(y)}),p.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),p.on("error",function(y){d.error(y)}),this},h.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var d=this._sources;if(!c.prototype.error.call(this,p))return!1;for(var y=0;y<d.length;y++)try{d[y].error(p)}catch{}return!0},h.prototype.lock=function(){c.prototype.lock.call(this);for(var p=this._sources,d=0;d<p.length;d++)p[d].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,a){var i=n("../compressions"),s=n("./ZipFileWorker");a.generateWorker=function(o,c,u){var l=new s(c.streamFiles,u,c.platform,c.encodeFileName),f=0;try{o.forEach(function(h,p){f++;var d=function(v,g){var x=v||g,w=i[x];if(!w)throw new Error(x+" is not a valid compression method !");return w}(p.options.compression,c.compression),y=p.options.compressionOptions||c.compressionOptions||{},m=p.dir,_=p.date;p._compressWorker(d,y).withStreamInfo("file",{name:h,dir:m,date:_,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(l)}),l.entriesCount=f}catch(h){l.error(h)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new i;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.9.1",i.loadAsync=function(s,o){return new i().loadAsync(s,o)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,a){var i=n("./utils"),s=n("./external"),o=n("./utf8"),c=n("./zipEntries"),u=n("./stream/Crc32Probe"),l=n("./nodejsUtils");function f(h){return new s.Promise(function(p,d){var y=h.decompressed.getContentWorker().pipe(new u);y.on("error",function(m){d(m)}).on("end",function(){y.streamInfo.crc32!==h.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(h,p){var d=this;return p=i.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(h)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(y){var m=new c(p);return m.load(y),m}).then(function(y){var m=[s.Promise.resolve(y)],_=y.files;if(p.checkCRC32)for(var v=0;v<_.length;v++)m.push(f(_[v]));return s.Promise.all(m)}).then(function(y){for(var m=y.shift(),_=m.files,v=0;v<_.length;v++){var g=_[v],x=g.fileNameStr,w=i.resolve(g.fileNameStr);d.file(w,g.decompressed,{binary:!0,optimizedBinaryString:!0,date:g.date,dir:g.dir,comment:g.fileCommentStr.length?g.fileCommentStr:null,unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions,createFolders:p.createFolders}),g.dir||(d.file(w).unsafeOriginalName=x)}return m.zipComment.length&&(d.comment=m.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,a){var i=n("../utils"),s=n("../stream/GenericWorker");function o(c,u){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(o,s),o.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(l){u.push({data:l,meta:{percent:0}})}).on("error",function(l){u.isPaused?this.generatedError=l:u.error(l)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,a){var i=n("readable-stream").Readable;function s(o,c,u){i.call(this,c),this._helper=o;var l=this;o.on("data",function(f,h){l.push(f)||l._helper.pause(),u&&u(h)}).on("error",function(f){l.emit("error",f)}).on("end",function(){l.push(null)})}n("../utils").inherits(s,i),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,a){r.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(i,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,s);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,s)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var s=new Buffer(i);return s.fill(0),s},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,a){function i(w,C,S){var T,b=o.getTypeOf(C),O=o.extend(S||{},l);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(w=_(w)),O.createFolders&&(T=m(w))&&v.call(this,T,!0);var D=b==="string"&&O.binary===!1&&O.base64===!1;S&&S.binary!==void 0||(O.binary=!D),(C instanceof f&&C.uncompressedSize===0||O.dir||!C||C.length===0)&&(O.base64=!1,O.binary=!0,C="",O.compression="STORE",b="string");var N=null;N=C instanceof f||C instanceof c?C:d.isNode&&d.isStream(C)?new y(w,C):o.prepareContent(w,C,O.binary,O.optimizedBinaryString,O.base64);var R=new h(w,N,O);this.files[w]=R}var s=n("./utf8"),o=n("./utils"),c=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),l=n("./defaults"),f=n("./compressedObject"),h=n("./zipObject"),p=n("./generate"),d=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),m=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var C=w.lastIndexOf("/");return 0<C?w.substring(0,C):""},_=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},v=function(w,C){return C=C!==void 0?C:l.createFolders,w=_(w),this.files[w]||i.call(this,w,null,{dir:!0,createFolders:C}),this.files[w]};function g(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var C,S,T;for(C in this.files)T=this.files[C],(S=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&w(S,T)},filter:function(w){var C=[];return this.forEach(function(S,T){w(S,T)&&C.push(T)}),C},file:function(w,C,S){if(arguments.length!==1)return w=this.root+w,i.call(this,w,C,S),this;if(g(w)){var T=w;return this.filter(function(O,D){return!D.dir&&T.test(O)})}var b=this.files[this.root+w];return b&&!b.dir?b:null},folder:function(w){if(!w)return this;if(g(w))return this.filter(function(b,O){return O.dir&&w.test(b)});var C=this.root+w,S=v.call(this,C),T=this.clone();return T.root=S.name,T},remove:function(w){w=this.root+w;var C=this.files[w];if(C||(w.slice(-1)!=="/"&&(w+="/"),C=this.files[w]),C&&!C.dir)delete this.files[w];else for(var S=this.filter(function(b,O){return O.name.slice(0,w.length)===w}),T=0;T<S.length;T++)delete this.files[S[T].name];return this},generate:function(w){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var C,S={};try{if((S=o.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");o.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var T=S.comment||this.comment||"";C=p.generateWorker(this,S,T)}catch(b){(C=new c("error")).error(b)}return new u(C,S.type||"string",S.mimeType)},generateAsync:function(w,C){return this.generateInternalStream(w).accumulate(C)},generateNodeStream:function(w,C){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(C)}};r.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,a){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,a){var i=n("./DataReader");function s(o){i.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}n("../utils").inherits(s,i),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),u=o.charCodeAt(1),l=o.charCodeAt(2),f=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===c&&this.data[h+1]===u&&this.data[h+2]===l&&this.data[h+3]===f)return h-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),u=o.charCodeAt(1),l=o.charCodeAt(2),f=o.charCodeAt(3),h=this.readData(4);return c===h[0]&&u===h[1]&&l===h[2]&&f===h[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,a){var i=n("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(o){},readInt:function(o){var c,u=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=o,u},readString:function(o){return i.transformTo("string",this.readData(o))},readData:function(o){},lastIndexOfSignature:function(o){},readAndCheckSignature:function(o){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,a){var i=n("./Uint8ArrayReader");function s(o){i.call(this,o)}n("../utils").inherits(s,i),s.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,a){var i=n("./DataReader");function s(o){i.call(this,o)}n("../utils").inherits(s,i),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,a){var i=n("./ArrayReader");function s(o){i.call(this,o)}n("../utils").inherits(s,i),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,a){var i=n("../utils"),s=n("../support"),o=n("./ArrayReader"),c=n("./StringReader"),u=n("./NodeBufferReader"),l=n("./Uint8ArrayReader");r.exports=function(f){var h=i.getTypeOf(f);return i.checkSupport(h),h!=="string"||s.uint8array?h==="nodebuffer"?new u(f):s.uint8array?new l(i.transformTo("uint8array",f)):new o(i.transformTo("array",f)):new c(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,a){var i=n("./GenericWorker"),s=n("../utils");function o(c){i.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(o,i),o.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,a){var i=n("./GenericWorker"),s=n("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,i),o.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,a){var i=n("../utils"),s=n("./GenericWorker");function o(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(o,s),o.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}s.prototype.processChunk.call(this,c)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,a){var i=n("../utils"),s=n("./GenericWorker");function o(c){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(l){u.dataIsReady=!0,u.data=l,u.max=l&&l.length||0,u.type=i.getTypeOf(l),u.isPaused||u._tickAndRepeat()},function(l){u.error(l)})}i.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,a){function i(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(c){o.processChunk(c)}),s.on("end",function(){o.end()}),s.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=i},{}],29:[function(n,r,a){var i=n("../utils"),s=n("./ConvertWorker"),o=n("./GenericWorker"),c=n("../base64"),u=n("../support"),l=n("../external"),f=null;if(u.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(d,y){return new l.Promise(function(m,_){var v=[],g=d._internalType,x=d._outputType,w=d._mimeType;d.on("data",function(C,S){v.push(C),y&&y(S)}).on("error",function(C){v=[],_(C)}).on("end",function(){try{var C=function(S,T,b){switch(S){case"blob":return i.newBlob(i.transformTo("arraybuffer",T),b);case"base64":return c.encode(T);default:return i.transformTo(S,T)}}(x,function(S,T){var b,O=0,D=null,N=0;for(b=0;b<T.length;b++)N+=T[b].length;switch(S){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for(D=new Uint8Array(N),b=0;b<T.length;b++)D.set(T[b],O),O+=T[b].length;return D;case"nodebuffer":return Buffer.concat(T);default:throw new Error("concat : unsupported type '"+S+"'")}}(g,v),w);m(C)}catch(S){_(S)}v=[]}).resume()})}function p(d,y,m){var _=y;switch(y){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=y,this._mimeType=m,i.checkSupport(_),this._worker=d.pipe(new s(_)),d.lock()}catch(v){this._worker=new o("error"),this._worker.error(v)}}p.prototype={accumulate:function(d){return h(this,d)},on:function(d,y){var m=this;return d==="data"?this._worker.on(d,function(_){y.call(m,_.data,_.meta)}):this._worker.on(d,function(){i.delay(y,arguments,m)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},d)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",a.nodebuffer=typeof Buffer!="undefined",a.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),a.blob=s.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!n("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,a){for(var i=n("./utils"),s=n("./support"),o=n("./nodejsUtils"),c=n("./stream/GenericWorker"),u=new Array(256),l=0;l<256;l++)u[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;u[254]=u[254]=1;function f(){c.call(this,"utf-8 decode"),this.leftOver=null}function h(){c.call(this,"utf-8 encode")}a.utf8encode=function(p){return s.nodebuffer?o.newBufferFrom(p,"utf-8"):function(d){var y,m,_,v,g,x=d.length,w=0;for(v=0;v<x;v++)(64512&(m=d.charCodeAt(v)))==55296&&v+1<x&&(64512&(_=d.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(_-56320),v++),w+=m<128?1:m<2048?2:m<65536?3:4;for(y=s.uint8array?new Uint8Array(w):new Array(w),v=g=0;g<w;v++)(64512&(m=d.charCodeAt(v)))==55296&&v+1<x&&(64512&(_=d.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(_-56320),v++),m<128?y[g++]=m:(m<2048?y[g++]=192|m>>>6:(m<65536?y[g++]=224|m>>>12:(y[g++]=240|m>>>18,y[g++]=128|m>>>12&63),y[g++]=128|m>>>6&63),y[g++]=128|63&m);return y}(p)},a.utf8decode=function(p){return s.nodebuffer?i.transformTo("nodebuffer",p).toString("utf-8"):function(d){var y,m,_,v,g=d.length,x=new Array(2*g);for(y=m=0;y<g;)if((_=d[y++])<128)x[m++]=_;else if(4<(v=u[_]))x[m++]=65533,y+=v-1;else{for(_&=v===2?31:v===3?15:7;1<v&&y<g;)_=_<<6|63&d[y++],v--;1<v?x[m++]=65533:_<65536?x[m++]=_:(_-=65536,x[m++]=55296|_>>10&1023,x[m++]=56320|1023&_)}return x.length!==m&&(x.subarray?x=x.subarray(0,m):x.length=m),i.applyFromCharCode(x)}(p=i.transformTo(s.uint8array?"uint8array":"array",p))},i.inherits(f,c),f.prototype.processChunk=function(p){var d=i.transformTo(s.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=d;(d=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),d.set(y,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var m=function(v,g){var x;for((g=g||v.length)>v.length&&(g=v.length),x=g-1;0<=x&&(192&v[x])==128;)x--;return x<0||x===0?g:x+u[v[x]]>g?x:g}(d),_=d;m!==d.length&&(s.uint8array?(_=d.subarray(0,m),this.leftOver=d.subarray(m,d.length)):(_=d.slice(0,m),this.leftOver=d.slice(m,d.length))),this.push({data:a.utf8decode(_),meta:p.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=f,i.inherits(h,c),h.prototype.processChunk=function(p){this.push({data:a.utf8encode(p.data),meta:p.meta})},a.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,a){var i=n("./support"),s=n("./base64"),o=n("./nodejsUtils"),c=n("set-immediate-shim"),u=n("./external");function l(m){return m}function f(m,_){for(var v=0;v<m.length;++v)_[v]=255&m.charCodeAt(v);return _}a.newBlob=function(m,_){a.checkSupport("blob");try{return new Blob([m],{type:_})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(m),v.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(m,_,v){var g=[],x=0,w=m.length;if(w<=v)return String.fromCharCode.apply(null,m);for(;x<w;)_==="array"||_==="nodebuffer"?g.push(String.fromCharCode.apply(null,m.slice(x,Math.min(x+v,w)))):g.push(String.fromCharCode.apply(null,m.subarray(x,Math.min(x+v,w)))),x+=v;return g.join("")},stringifyByChar:function(m){for(var _="",v=0;v<m.length;v++)_+=String.fromCharCode(m[v]);return _},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function p(m){var _=65536,v=a.getTypeOf(m),g=!0;if(v==="uint8array"?g=h.applyCanBeUsed.uint8array:v==="nodebuffer"&&(g=h.applyCanBeUsed.nodebuffer),g)for(;1<_;)try{return h.stringifyByChunk(m,v,_)}catch{_=Math.floor(_/2)}return h.stringifyByChar(m)}function d(m,_){for(var v=0;v<m.length;v++)_[v]=m[v];return _}a.applyFromCharCode=p;var y={};y.string={string:l,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return y.string.uint8array(m).buffer},uint8array:function(m){return f(m,new Uint8Array(m.length))},nodebuffer:function(m){return f(m,o.allocBuffer(m.length))}},y.array={string:p,array:l,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(m)}},y.arraybuffer={string:function(m){return p(new Uint8Array(m))},array:function(m){return d(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:l,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(new Uint8Array(m))}},y.uint8array={string:p,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:l,nodebuffer:function(m){return o.newBufferFrom(m)}},y.nodebuffer={string:p,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return y.nodebuffer.uint8array(m).buffer},uint8array:function(m){return d(m,new Uint8Array(m.length))},nodebuffer:l},a.transformTo=function(m,_){if(_=_||"",!m)return _;a.checkSupport(m);var v=a.getTypeOf(_);return y[v][m](_)},a.resolve=function(m){for(var _=m.split("/"),v=[],g=0;g<_.length;g++){var x=_[g];x==="."||x===""&&g!==0&&g!==_.length-1||(x===".."?v.pop():v.push(x))}return v.join("/")},a.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":i.nodebuffer&&o.isBuffer(m)?"nodebuffer":i.uint8array&&m instanceof Uint8Array?"uint8array":i.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(m){if(!i[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(m){var _,v,g="";for(v=0;v<(m||"").length;v++)g+="\\x"+((_=m.charCodeAt(v))<16?"0":"")+_.toString(16).toUpperCase();return g},a.delay=function(m,_,v){c(function(){m.apply(v||null,_||[])})},a.inherits=function(m,_){function v(){}v.prototype=_.prototype,m.prototype=new v},a.extend=function(){var m,_,v={};for(m=0;m<arguments.length;m++)for(_ in arguments[m])arguments[m].hasOwnProperty(_)&&v[_]===void 0&&(v[_]=arguments[m][_]);return v},a.prepareContent=function(m,_,v,g,x){return u.Promise.resolve(_).then(function(w){return i.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader!="undefined"?new u.Promise(function(C,S){var T=new FileReader;T.onload=function(b){C(b.target.result)},T.onerror=function(b){S(b.target.error)},T.readAsArrayBuffer(w)}):w}).then(function(w){var C=a.getTypeOf(w);return C?(C==="arraybuffer"?w=a.transformTo("uint8array",w):C==="string"&&(x?w=s.decode(w):v&&g!==!0&&(w=function(S){return f(S,i.uint8array?new Uint8Array(S.length):new Array(S.length))}(w))),w):u.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(n,r,a){var i=n("./reader/readerFor"),s=n("./utils"),o=n("./signature"),c=n("./zipEntry"),u=(n("./utf8"),n("./support"));function l(f){this.files=[],this.loadOptions=f}l.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(h)+", expected "+s.pretty(f)+")")}},isSignature:function(f,h){var p=this.reader.index;this.reader.setIndex(f);var d=this.reader.readString(4)===h;return this.reader.setIndex(p),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",p=s.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,p,d=this.zip64EndOfCentralSize-44;0<d;)f=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var d=h-p;if(0<d)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(f){this.reader=i(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(n,r,a){var i=n("./reader/readerFor"),s=n("./utils"),o=n("./compressedObject"),c=n("./crc32"),u=n("./utf8"),l=n("./compressions"),f=n("./support");function h(p,d){this.options=p,this.loadOptions=d}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var d,y;if(p.skip(22),this.fileNameLength=p.readInt(2),y=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((d=function(m){for(var _ in l)if(l.hasOwnProperty(_)&&l[_].magic===m)return l[_];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,d,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var d=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(d),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(p){if(this.extraFields[1]){var d=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(p){var d,y,m,_=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<_;)d=p.readInt(2),y=p.readInt(2),m=p.readData(y),this.extraFields[d]={id:d,length:y,value:m};p.setIndex(_)},handleUTF8:function(){var p=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var y=s.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var _=s.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var d=i(p.value);return d.readInt(1)!==1||c(this.fileName)!==d.readInt(4)?null:u.utf8decode(d.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var d=i(p.value);return d.readInt(1)!==1||c(this.fileComment)!==d.readInt(4)?null:u.utf8decode(d.readData(p.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,a){function i(d,y,m){this.name=d,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=y,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var s=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),c=n("./utf8"),u=n("./compressedObject"),l=n("./stream/GenericWorker");i.prototype={internalStream:function(d){var y=null,m="string";try{if(!d)throw new Error("No output type specified.");var _=(m=d.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),y=this._decompressWorker();var v=!this._dataBinary;v&&!_&&(y=y.pipe(new c.Utf8EncodeWorker)),!v&&_&&(y=y.pipe(new c.Utf8DecodeWorker))}catch(g){(y=new l("error")).error(g)}return new s(y,m,"")},async:function(d,y){return this.internalStream(d).accumulate(y)},nodeStream:function(d,y){return this.internalStream(d||"nodebuffer").toNodejsStream(y)},_compressWorker:function(d,y){if(this._data instanceof u&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(m,d,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<f.length;p++)i.prototype[f[p]]=h;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,a){(function(i){var s,o,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var u=0,l=new c(d),f=i.document.createTextNode("");l.observe(f,{characterData:!0}),s=function(){f.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)s="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var y=i.document.createElement("script");y.onreadystatechange=function(){d(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},i.document.documentElement.appendChild(y)}:function(){setTimeout(d,0)};else{var h=new i.MessageChannel;h.port1.onmessage=d,s=function(){h.port2.postMessage(0)}}var p=[];function d(){var y,m;o=!0;for(var _=p.length;_;){for(m=p,p=[],y=-1;++y<_;)m[y]();_=p.length}o=!1}r.exports=function(y){p.push(y)!==1||o||s()}}).call(this,typeof It!="undefined"?It:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(n,r,a){var i=n("immediate");function s(){}var o={},c=["REJECTED"],u=["FULFILLED"],l=["PENDING"];function f(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,_!==s&&y(this,_)}function h(_,v,g){this.promise=_,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof g=="function"&&(this.onRejected=g,this.callRejected=this.otherCallRejected)}function p(_,v,g){i(function(){var x;try{x=v(g)}catch(w){return o.reject(_,w)}x===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,x)})}function d(_){var v=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof v=="function")return function(){v.apply(_,arguments)}}function y(_,v){var g=!1;function x(S){g||(g=!0,o.reject(_,S))}function w(S){g||(g=!0,o.resolve(_,S))}var C=m(function(){v(w,x)});C.status==="error"&&x(C.value)}function m(_,v){var g={};try{g.value=_(v),g.status="success"}catch(x){g.status="error",g.value=x}return g}(r.exports=f).prototype.finally=function(_){if(typeof _!="function")return this;var v=this.constructor;return this.then(function(g){return v.resolve(_()).then(function(){return g})},function(g){return v.resolve(_()).then(function(){throw g})})},f.prototype.catch=function(_){return this.then(null,_)},f.prototype.then=function(_,v){if(typeof _!="function"&&this.state===u||typeof v!="function"&&this.state===c)return this;var g=new this.constructor(s);return this.state!==l?p(g,this.state===u?_:v,this.outcome):this.queue.push(new h(g,_,v)),g},h.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},h.prototype.otherCallFulfilled=function(_){p(this.promise,this.onFulfilled,_)},h.prototype.callRejected=function(_){o.reject(this.promise,_)},h.prototype.otherCallRejected=function(_){p(this.promise,this.onRejected,_)},o.resolve=function(_,v){var g=m(d,v);if(g.status==="error")return o.reject(_,g.value);var x=g.value;if(x)y(_,x);else{_.state=u,_.outcome=v;for(var w=-1,C=_.queue.length;++w<C;)_.queue[w].callFulfilled(v)}return _},o.reject=function(_,v){_.state=c,_.outcome=v;for(var g=-1,x=_.queue.length;++g<x;)_.queue[g].callRejected(v);return _},f.resolve=function(_){return _ instanceof this?_:o.resolve(new this(s),_)},f.reject=function(_){var v=new this(s);return o.reject(v,_)},f.all=function(_){var v=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var g=_.length,x=!1;if(!g)return this.resolve([]);for(var w=new Array(g),C=0,S=-1,T=new this(s);++S<g;)b(_[S],S);return T;function b(O,D){v.resolve(O).then(function(N){w[D]=N,++C!==g||x||(x=!0,o.resolve(T,w))},function(N){x||(x=!0,o.reject(T,N))})}},f.race=function(_){var v=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var g=_.length,x=!1;if(!g)return this.resolve([]);for(var w=-1,C=new this(s);++w<g;)S=_[w],v.resolve(S).then(function(T){x||(x=!0,o.resolve(C,T))},function(T){x||(x=!0,o.reject(C,T))});var S;return C}},{immediate:36}],38:[function(n,r,a){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,a){var i=n("./zlib/deflate"),s=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/messages"),u=n("./zlib/zstream"),l=Object.prototype.toString,f=0,h=-1,p=0,d=8;function y(_){if(!(this instanceof y))return new y(_);this.options=s.assign({level:h,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},_||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var g=i.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(g!==f)throw new Error(c[g]);if(v.header&&i.deflateSetHeader(this.strm,v.header),v.dictionary){var x;if(x=typeof v.dictionary=="string"?o.string2buf(v.dictionary):l.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(g=i.deflateSetDictionary(this.strm,x))!==f)throw new Error(c[g]);this._dict_set=!0}}function m(_,v){var g=new y(v);if(g.push(_,!0),g.err)throw g.msg||c[g.err];return g.result}y.prototype.push=function(_,v){var g,x,w=this.strm,C=this.options.chunkSize;if(this.ended)return!1;x=v===~~v?v:v===!0?4:0,typeof _=="string"?w.input=o.string2buf(_):l.call(_)==="[object ArrayBuffer]"?w.input=new Uint8Array(_):w.input=_,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new s.Buf8(C),w.next_out=0,w.avail_out=C),(g=i.deflate(w,x))!==1&&g!==f)return this.onEnd(g),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(w.output,w.next_out))):this.onData(s.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&g!==1);return x===4?(g=i.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===f):x!==2||(this.onEnd(f),!(w.avail_out=0))},y.prototype.onData=function(_){this.chunks.push(_)},y.prototype.onEnd=function(_){_===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},a.Deflate=y,a.deflate=m,a.deflateRaw=function(_,v){return(v=v||{}).raw=!0,m(_,v)},a.gzip=function(_,v){return(v=v||{}).gzip=!0,m(_,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,a){var i=n("./zlib/inflate"),s=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/constants"),u=n("./zlib/messages"),l=n("./zlib/zstream"),f=n("./zlib/gzheader"),h=Object.prototype.toString;function p(y){if(!(this instanceof p))return new p(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||y&&y.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&(15&m.windowBits)==0&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var _=i.inflateInit2(this.strm,m.windowBits);if(_!==c.Z_OK)throw new Error(u[_]);this.header=new f,i.inflateGetHeader(this.strm,this.header)}function d(y,m){var _=new p(m);if(_.push(y,!0),_.err)throw _.msg||u[_.err];return _.result}p.prototype.push=function(y,m){var _,v,g,x,w,C,S=this.strm,T=this.options.chunkSize,b=this.options.dictionary,O=!1;if(this.ended)return!1;v=m===~~m?m:m===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof y=="string"?S.input=o.binstring2buf(y):h.call(y)==="[object ArrayBuffer]"?S.input=new Uint8Array(y):S.input=y,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new s.Buf8(T),S.next_out=0,S.avail_out=T),(_=i.inflate(S,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&b&&(C=typeof b=="string"?o.string2buf(b):h.call(b)==="[object ArrayBuffer]"?new Uint8Array(b):b,_=i.inflateSetDictionary(this.strm,C)),_===c.Z_BUF_ERROR&&O===!0&&(_=c.Z_OK,O=!1),_!==c.Z_STREAM_END&&_!==c.Z_OK)return this.onEnd(_),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&_!==c.Z_STREAM_END&&(S.avail_in!==0||v!==c.Z_FINISH&&v!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(g=o.utf8border(S.output,S.next_out),x=S.next_out-g,w=o.buf2string(S.output,g),S.next_out=x,S.avail_out=T-x,x&&s.arraySet(S.output,S.output,g,x,0),this.onData(w)):this.onData(s.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(O=!0)}while((0<S.avail_in||S.avail_out===0)&&_!==c.Z_STREAM_END);return _===c.Z_STREAM_END&&(v=c.Z_FINISH),v===c.Z_FINISH?(_=i.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===c.Z_OK):v!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(S.avail_out=0))},p.prototype.onData=function(y){this.chunks.push(y)},p.prototype.onEnd=function(y){y===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},a.Inflate=p,a.inflate=d,a.inflateRaw=function(y,m){return(m=m||{}).raw=!0,d(y,m)},a.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,a){var i=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";a.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var l=u.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var f in l)l.hasOwnProperty(f)&&(c[f]=l[f])}}return c},a.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var s={arraySet:function(c,u,l,f,h){if(u.subarray&&c.subarray)c.set(u.subarray(l,l+f),h);else for(var p=0;p<f;p++)c[h+p]=u[l+p]},flattenChunks:function(c){var u,l,f,h,p,d;for(u=f=0,l=c.length;u<l;u++)f+=c[u].length;for(d=new Uint8Array(f),u=h=0,l=c.length;u<l;u++)p=c[u],d.set(p,h),h+=p.length;return d}},o={arraySet:function(c,u,l,f,h){for(var p=0;p<f;p++)c[h+p]=u[l+p]},flattenChunks:function(c){return[].concat.apply([],c)}};a.setTyped=function(c){c?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,s)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,o))},a.setTyped(i)},{}],42:[function(n,r,a){var i=n("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new i.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function l(f,h){if(h<65537&&(f.subarray&&o||!f.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(f,h));for(var p="",d=0;d<h;d++)p+=String.fromCharCode(f[d]);return p}c[254]=c[254]=1,a.string2buf=function(f){var h,p,d,y,m,_=f.length,v=0;for(y=0;y<_;y++)(64512&(p=f.charCodeAt(y)))==55296&&y+1<_&&(64512&(d=f.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(d-56320),y++),v+=p<128?1:p<2048?2:p<65536?3:4;for(h=new i.Buf8(v),y=m=0;m<v;y++)(64512&(p=f.charCodeAt(y)))==55296&&y+1<_&&(64512&(d=f.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(d-56320),y++),p<128?h[m++]=p:(p<2048?h[m++]=192|p>>>6:(p<65536?h[m++]=224|p>>>12:(h[m++]=240|p>>>18,h[m++]=128|p>>>12&63),h[m++]=128|p>>>6&63),h[m++]=128|63&p);return h},a.buf2binstring=function(f){return l(f,f.length)},a.binstring2buf=function(f){for(var h=new i.Buf8(f.length),p=0,d=h.length;p<d;p++)h[p]=f.charCodeAt(p);return h},a.buf2string=function(f,h){var p,d,y,m,_=h||f.length,v=new Array(2*_);for(p=d=0;p<_;)if((y=f[p++])<128)v[d++]=y;else if(4<(m=c[y]))v[d++]=65533,p+=m-1;else{for(y&=m===2?31:m===3?15:7;1<m&&p<_;)y=y<<6|63&f[p++],m--;1<m?v[d++]=65533:y<65536?v[d++]=y:(y-=65536,v[d++]=55296|y>>10&1023,v[d++]=56320|1023&y)}return l(v,d)},a.utf8border=function(f,h){var p;for((h=h||f.length)>f.length&&(h=f.length),p=h-1;0<=p&&(192&f[p])==128;)p--;return p<0||p===0?h:p+c[f[p]]>h?p:h}},{"./common":41}],43:[function(n,r,a){r.exports=function(i,s,o,c){for(var u=65535&i|0,l=i>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;l=l+(u=u+s[c++]|0)|0,--f;);u%=65521,l%=65521}return u|l<<16|0}},{}],44:[function(n,r,a){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,a){var i=function(){for(var s,o=[],c=0;c<256;c++){s=c;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;o[c]=s}return o}();r.exports=function(s,o,c,u){var l=i,f=u+c;s^=-1;for(var h=u;h<f;h++)s=s>>>8^l[255&(s^o[h])];return-1^s}},{}],46:[function(n,r,a){var i,s=n("../utils/common"),o=n("./trees"),c=n("./adler32"),u=n("./crc32"),l=n("./messages"),f=0,h=4,p=0,d=-2,y=-1,m=4,_=2,v=8,g=9,x=286,w=30,C=19,S=2*x+1,T=15,b=3,O=258,D=O+b+1,N=42,R=113,E=1,A=2,W=3,z=4;function F(M,P){return M.msg=l[P],P}function L(M){return(M<<1)-(4<M?9:0)}function G(M){for(var P=M.length;0<=--P;)M[P]=0}function H(M){var P=M.state,U=P.pending;U>M.avail_out&&(U=M.avail_out),U!==0&&(s.arraySet(M.output,P.pending_buf,P.pending_out,U,M.next_out),M.next_out+=U,P.pending_out+=U,M.total_out+=U,M.avail_out-=U,P.pending-=U,P.pending===0&&(P.pending_out=0))}function $(M,P){o._tr_flush_block(M,0<=M.block_start?M.block_start:-1,M.strstart-M.block_start,P),M.block_start=M.strstart,H(M.strm)}function J(M,P){M.pending_buf[M.pending++]=P}function Q(M,P){M.pending_buf[M.pending++]=P>>>8&255,M.pending_buf[M.pending++]=255&P}function q(M,P){var U,K,X=M.max_chain_length,Z=M.strstart,ae=M.prev_length,ce=M.nice_match,ie=M.strstart>M.w_size-D?M.strstart-(M.w_size-D):0,pe=M.window,ve=M.w_mask,fe=M.prev,xe=M.strstart+O,Y=pe[Z+ae-1],_e=pe[Z+ae];M.prev_length>=M.good_match&&(X>>=2),ce>M.lookahead&&(ce=M.lookahead);do if(pe[(U=P)+ae]===_e&&pe[U+ae-1]===Y&&pe[U]===pe[Z]&&pe[++U]===pe[Z+1]){Z+=2,U++;do;while(pe[++Z]===pe[++U]&&pe[++Z]===pe[++U]&&pe[++Z]===pe[++U]&&pe[++Z]===pe[++U]&&pe[++Z]===pe[++U]&&pe[++Z]===pe[++U]&&pe[++Z]===pe[++U]&&pe[++Z]===pe[++U]&&Z<xe);if(K=O-(xe-Z),Z=xe-O,ae<K){if(M.match_start=P,ce<=(ae=K))break;Y=pe[Z+ae-1],_e=pe[Z+ae]}}while((P=fe[P&ve])>ie&&--X!=0);return ae<=M.lookahead?ae:M.lookahead}function ne(M){var P,U,K,X,Z,ae,ce,ie,pe,ve,fe=M.w_size;do{if(X=M.window_size-M.lookahead-M.strstart,M.strstart>=fe+(fe-D)){for(s.arraySet(M.window,M.window,fe,fe,0),M.match_start-=fe,M.strstart-=fe,M.block_start-=fe,P=U=M.hash_size;K=M.head[--P],M.head[P]=fe<=K?K-fe:0,--U;);for(P=U=fe;K=M.prev[--P],M.prev[P]=fe<=K?K-fe:0,--U;);X+=fe}if(M.strm.avail_in===0)break;if(ae=M.strm,ce=M.window,ie=M.strstart+M.lookahead,pe=X,ve=void 0,ve=ae.avail_in,pe<ve&&(ve=pe),U=ve===0?0:(ae.avail_in-=ve,s.arraySet(ce,ae.input,ae.next_in,ve,ie),ae.state.wrap===1?ae.adler=c(ae.adler,ce,ve,ie):ae.state.wrap===2&&(ae.adler=u(ae.adler,ce,ve,ie)),ae.next_in+=ve,ae.total_in+=ve,ve),M.lookahead+=U,M.lookahead+M.insert>=b)for(Z=M.strstart-M.insert,M.ins_h=M.window[Z],M.ins_h=(M.ins_h<<M.hash_shift^M.window[Z+1])&M.hash_mask;M.insert&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[Z+b-1])&M.hash_mask,M.prev[Z&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=Z,Z++,M.insert--,!(M.lookahead+M.insert<b)););}while(M.lookahead<D&&M.strm.avail_in!==0)}function te(M,P){for(var U,K;;){if(M.lookahead<D){if(ne(M),M.lookahead<D&&P===f)return E;if(M.lookahead===0)break}if(U=0,M.lookahead>=b&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+b-1])&M.hash_mask,U=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),U!==0&&M.strstart-U<=M.w_size-D&&(M.match_length=q(M,U)),M.match_length>=b)if(K=o._tr_tally(M,M.strstart-M.match_start,M.match_length-b),M.lookahead-=M.match_length,M.match_length<=M.max_lazy_match&&M.lookahead>=b){for(M.match_length--;M.strstart++,M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+b-1])&M.hash_mask,U=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart,--M.match_length!=0;);M.strstart++}else M.strstart+=M.match_length,M.match_length=0,M.ins_h=M.window[M.strstart],M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+1])&M.hash_mask;else K=o._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++;if(K&&($(M,!1),M.strm.avail_out===0))return E}return M.insert=M.strstart<b-1?M.strstart:b-1,P===h?($(M,!0),M.strm.avail_out===0?W:z):M.last_lit&&($(M,!1),M.strm.avail_out===0)?E:A}function oe(M,P){for(var U,K,X;;){if(M.lookahead<D){if(ne(M),M.lookahead<D&&P===f)return E;if(M.lookahead===0)break}if(U=0,M.lookahead>=b&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+b-1])&M.hash_mask,U=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),M.prev_length=M.match_length,M.prev_match=M.match_start,M.match_length=b-1,U!==0&&M.prev_length<M.max_lazy_match&&M.strstart-U<=M.w_size-D&&(M.match_length=q(M,U),M.match_length<=5&&(M.strategy===1||M.match_length===b&&4096<M.strstart-M.match_start)&&(M.match_length=b-1)),M.prev_length>=b&&M.match_length<=M.prev_length){for(X=M.strstart+M.lookahead-b,K=o._tr_tally(M,M.strstart-1-M.prev_match,M.prev_length-b),M.lookahead-=M.prev_length-1,M.prev_length-=2;++M.strstart<=X&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+b-1])&M.hash_mask,U=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),--M.prev_length!=0;);if(M.match_available=0,M.match_length=b-1,M.strstart++,K&&($(M,!1),M.strm.avail_out===0))return E}else if(M.match_available){if((K=o._tr_tally(M,0,M.window[M.strstart-1]))&&$(M,!1),M.strstart++,M.lookahead--,M.strm.avail_out===0)return E}else M.match_available=1,M.strstart++,M.lookahead--}return M.match_available&&(K=o._tr_tally(M,0,M.window[M.strstart-1]),M.match_available=0),M.insert=M.strstart<b-1?M.strstart:b-1,P===h?($(M,!0),M.strm.avail_out===0?W:z):M.last_lit&&($(M,!1),M.strm.avail_out===0)?E:A}function re(M,P,U,K,X){this.good_length=M,this.max_lazy=P,this.nice_length=U,this.max_chain=K,this.func=X}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*S),this.dyn_dtree=new s.Buf16(2*(2*w+1)),this.bl_tree=new s.Buf16(2*(2*C+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(T+1),this.heap=new s.Buf16(2*x+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*x+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function k(M){var P;return M&&M.state?(M.total_in=M.total_out=0,M.data_type=_,(P=M.state).pending=0,P.pending_out=0,P.wrap<0&&(P.wrap=-P.wrap),P.status=P.wrap?N:R,M.adler=P.wrap===2?0:1,P.last_flush=f,o._tr_init(P),p):F(M,d)}function j(M){var P=k(M);return P===p&&function(U){U.window_size=2*U.w_size,G(U.head),U.max_lazy_match=i[U.level].max_lazy,U.good_match=i[U.level].good_length,U.nice_match=i[U.level].nice_length,U.max_chain_length=i[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=b-1,U.match_available=0,U.ins_h=0}(M.state),P}function V(M,P,U,K,X,Z){if(!M)return d;var ae=1;if(P===y&&(P=6),K<0?(ae=0,K=-K):15<K&&(ae=2,K-=16),X<1||g<X||U!==v||K<8||15<K||P<0||9<P||Z<0||m<Z)return F(M,d);K===8&&(K=9);var ce=new B;return(M.state=ce).strm=M,ce.wrap=ae,ce.gzhead=null,ce.w_bits=K,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=X+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+b-1)/b),ce.window=new s.Buf8(2*ce.w_size),ce.head=new s.Buf16(ce.hash_size),ce.prev=new s.Buf16(ce.w_size),ce.lit_bufsize=1<<X+6,ce.pending_buf_size=4*ce.lit_bufsize,ce.pending_buf=new s.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=P,ce.strategy=Z,ce.method=U,j(M)}i=[new re(0,0,0,0,function(M,P){var U=65535;for(U>M.pending_buf_size-5&&(U=M.pending_buf_size-5);;){if(M.lookahead<=1){if(ne(M),M.lookahead===0&&P===f)return E;if(M.lookahead===0)break}M.strstart+=M.lookahead,M.lookahead=0;var K=M.block_start+U;if((M.strstart===0||M.strstart>=K)&&(M.lookahead=M.strstart-K,M.strstart=K,$(M,!1),M.strm.avail_out===0)||M.strstart-M.block_start>=M.w_size-D&&($(M,!1),M.strm.avail_out===0))return E}return M.insert=0,P===h?($(M,!0),M.strm.avail_out===0?W:z):(M.strstart>M.block_start&&($(M,!1),M.strm.avail_out),E)}),new re(4,4,8,4,te),new re(4,5,16,8,te),new re(4,6,32,32,te),new re(4,4,16,16,oe),new re(8,16,32,32,oe),new re(8,16,128,128,oe),new re(8,32,128,256,oe),new re(32,128,258,1024,oe),new re(32,258,258,4096,oe)],a.deflateInit=function(M,P){return V(M,P,v,15,8,0)},a.deflateInit2=V,a.deflateReset=j,a.deflateResetKeep=k,a.deflateSetHeader=function(M,P){return M&&M.state?M.state.wrap!==2?d:(M.state.gzhead=P,p):d},a.deflate=function(M,P){var U,K,X,Z;if(!M||!M.state||5<P||P<0)return M?F(M,d):d;if(K=M.state,!M.output||!M.input&&M.avail_in!==0||K.status===666&&P!==h)return F(M,M.avail_out===0?-5:d);if(K.strm=M,U=K.last_flush,K.last_flush=P,K.status===N)if(K.wrap===2)M.adler=0,J(K,31),J(K,139),J(K,8),K.gzhead?(J(K,(K.gzhead.text?1:0)+(K.gzhead.hcrc?2:0)+(K.gzhead.extra?4:0)+(K.gzhead.name?8:0)+(K.gzhead.comment?16:0)),J(K,255&K.gzhead.time),J(K,K.gzhead.time>>8&255),J(K,K.gzhead.time>>16&255),J(K,K.gzhead.time>>24&255),J(K,K.level===9?2:2<=K.strategy||K.level<2?4:0),J(K,255&K.gzhead.os),K.gzhead.extra&&K.gzhead.extra.length&&(J(K,255&K.gzhead.extra.length),J(K,K.gzhead.extra.length>>8&255)),K.gzhead.hcrc&&(M.adler=u(M.adler,K.pending_buf,K.pending,0)),K.gzindex=0,K.status=69):(J(K,0),J(K,0),J(K,0),J(K,0),J(K,0),J(K,K.level===9?2:2<=K.strategy||K.level<2?4:0),J(K,3),K.status=R);else{var ae=v+(K.w_bits-8<<4)<<8;ae|=(2<=K.strategy||K.level<2?0:K.level<6?1:K.level===6?2:3)<<6,K.strstart!==0&&(ae|=32),ae+=31-ae%31,K.status=R,Q(K,ae),K.strstart!==0&&(Q(K,M.adler>>>16),Q(K,65535&M.adler)),M.adler=1}if(K.status===69)if(K.gzhead.extra){for(X=K.pending;K.gzindex<(65535&K.gzhead.extra.length)&&(K.pending!==K.pending_buf_size||(K.gzhead.hcrc&&K.pending>X&&(M.adler=u(M.adler,K.pending_buf,K.pending-X,X)),H(M),X=K.pending,K.pending!==K.pending_buf_size));)J(K,255&K.gzhead.extra[K.gzindex]),K.gzindex++;K.gzhead.hcrc&&K.pending>X&&(M.adler=u(M.adler,K.pending_buf,K.pending-X,X)),K.gzindex===K.gzhead.extra.length&&(K.gzindex=0,K.status=73)}else K.status=73;if(K.status===73)if(K.gzhead.name){X=K.pending;do{if(K.pending===K.pending_buf_size&&(K.gzhead.hcrc&&K.pending>X&&(M.adler=u(M.adler,K.pending_buf,K.pending-X,X)),H(M),X=K.pending,K.pending===K.pending_buf_size)){Z=1;break}Z=K.gzindex<K.gzhead.name.length?255&K.gzhead.name.charCodeAt(K.gzindex++):0,J(K,Z)}while(Z!==0);K.gzhead.hcrc&&K.pending>X&&(M.adler=u(M.adler,K.pending_buf,K.pending-X,X)),Z===0&&(K.gzindex=0,K.status=91)}else K.status=91;if(K.status===91)if(K.gzhead.comment){X=K.pending;do{if(K.pending===K.pending_buf_size&&(K.gzhead.hcrc&&K.pending>X&&(M.adler=u(M.adler,K.pending_buf,K.pending-X,X)),H(M),X=K.pending,K.pending===K.pending_buf_size)){Z=1;break}Z=K.gzindex<K.gzhead.comment.length?255&K.gzhead.comment.charCodeAt(K.gzindex++):0,J(K,Z)}while(Z!==0);K.gzhead.hcrc&&K.pending>X&&(M.adler=u(M.adler,K.pending_buf,K.pending-X,X)),Z===0&&(K.status=103)}else K.status=103;if(K.status===103&&(K.gzhead.hcrc?(K.pending+2>K.pending_buf_size&&H(M),K.pending+2<=K.pending_buf_size&&(J(K,255&M.adler),J(K,M.adler>>8&255),M.adler=0,K.status=R)):K.status=R),K.pending!==0){if(H(M),M.avail_out===0)return K.last_flush=-1,p}else if(M.avail_in===0&&L(P)<=L(U)&&P!==h)return F(M,-5);if(K.status===666&&M.avail_in!==0)return F(M,-5);if(M.avail_in!==0||K.lookahead!==0||P!==f&&K.status!==666){var ce=K.strategy===2?function(ie,pe){for(var ve;;){if(ie.lookahead===0&&(ne(ie),ie.lookahead===0)){if(pe===f)return E;break}if(ie.match_length=0,ve=o._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,ve&&($(ie,!1),ie.strm.avail_out===0))return E}return ie.insert=0,pe===h?($(ie,!0),ie.strm.avail_out===0?W:z):ie.last_lit&&($(ie,!1),ie.strm.avail_out===0)?E:A}(K,P):K.strategy===3?function(ie,pe){for(var ve,fe,xe,Y,_e=ie.window;;){if(ie.lookahead<=O){if(ne(ie),ie.lookahead<=O&&pe===f)return E;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=b&&0<ie.strstart&&(fe=_e[xe=ie.strstart-1])===_e[++xe]&&fe===_e[++xe]&&fe===_e[++xe]){Y=ie.strstart+O;do;while(fe===_e[++xe]&&fe===_e[++xe]&&fe===_e[++xe]&&fe===_e[++xe]&&fe===_e[++xe]&&fe===_e[++xe]&&fe===_e[++xe]&&fe===_e[++xe]&&xe<Y);ie.match_length=O-(Y-xe),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=b?(ve=o._tr_tally(ie,1,ie.match_length-b),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(ve=o._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),ve&&($(ie,!1),ie.strm.avail_out===0))return E}return ie.insert=0,pe===h?($(ie,!0),ie.strm.avail_out===0?W:z):ie.last_lit&&($(ie,!1),ie.strm.avail_out===0)?E:A}(K,P):i[K.level].func(K,P);if(ce!==W&&ce!==z||(K.status=666),ce===E||ce===W)return M.avail_out===0&&(K.last_flush=-1),p;if(ce===A&&(P===1?o._tr_align(K):P!==5&&(o._tr_stored_block(K,0,0,!1),P===3&&(G(K.head),K.lookahead===0&&(K.strstart=0,K.block_start=0,K.insert=0))),H(M),M.avail_out===0))return K.last_flush=-1,p}return P!==h?p:K.wrap<=0?1:(K.wrap===2?(J(K,255&M.adler),J(K,M.adler>>8&255),J(K,M.adler>>16&255),J(K,M.adler>>24&255),J(K,255&M.total_in),J(K,M.total_in>>8&255),J(K,M.total_in>>16&255),J(K,M.total_in>>24&255)):(Q(K,M.adler>>>16),Q(K,65535&M.adler)),H(M),0<K.wrap&&(K.wrap=-K.wrap),K.pending!==0?p:1)},a.deflateEnd=function(M){var P;return M&&M.state?(P=M.state.status)!==N&&P!==69&&P!==73&&P!==91&&P!==103&&P!==R&&P!==666?F(M,d):(M.state=null,P===R?F(M,-3):p):d},a.deflateSetDictionary=function(M,P){var U,K,X,Z,ae,ce,ie,pe,ve=P.length;if(!M||!M.state||(Z=(U=M.state).wrap)===2||Z===1&&U.status!==N||U.lookahead)return d;for(Z===1&&(M.adler=c(M.adler,P,ve,0)),U.wrap=0,ve>=U.w_size&&(Z===0&&(G(U.head),U.strstart=0,U.block_start=0,U.insert=0),pe=new s.Buf8(U.w_size),s.arraySet(pe,P,ve-U.w_size,U.w_size,0),P=pe,ve=U.w_size),ae=M.avail_in,ce=M.next_in,ie=M.input,M.avail_in=ve,M.next_in=0,M.input=P,ne(U);U.lookahead>=b;){for(K=U.strstart,X=U.lookahead-(b-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[K+b-1])&U.hash_mask,U.prev[K&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=K,K++,--X;);U.strstart=K,U.lookahead=b-1,ne(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=b-1,U.match_available=0,M.next_in=ce,M.input=ie,M.avail_in=ae,U.wrap=Z,p},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,a){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,a){r.exports=function(i,s){var o,c,u,l,f,h,p,d,y,m,_,v,g,x,w,C,S,T,b,O,D,N,R,E,A;o=i.state,c=i.next_in,E=i.input,u=c+(i.avail_in-5),l=i.next_out,A=i.output,f=l-(s-i.avail_out),h=l+(i.avail_out-257),p=o.dmax,d=o.wsize,y=o.whave,m=o.wnext,_=o.window,v=o.hold,g=o.bits,x=o.lencode,w=o.distcode,C=(1<<o.lenbits)-1,S=(1<<o.distbits)-1;e:do{g<15&&(v+=E[c++]<<g,g+=8,v+=E[c++]<<g,g+=8),T=x[v&C];t:for(;;){if(v>>>=b=T>>>24,g-=b,(b=T>>>16&255)===0)A[l++]=65535&T;else{if(!(16&b)){if((64&b)==0){T=x[(65535&T)+(v&(1<<b)-1)];continue t}if(32&b){o.mode=12;break e}i.msg="invalid literal/length code",o.mode=30;break e}O=65535&T,(b&=15)&&(g<b&&(v+=E[c++]<<g,g+=8),O+=v&(1<<b)-1,v>>>=b,g-=b),g<15&&(v+=E[c++]<<g,g+=8,v+=E[c++]<<g,g+=8),T=w[v&S];r:for(;;){if(v>>>=b=T>>>24,g-=b,!(16&(b=T>>>16&255))){if((64&b)==0){T=w[(65535&T)+(v&(1<<b)-1)];continue r}i.msg="invalid distance code",o.mode=30;break e}if(D=65535&T,g<(b&=15)&&(v+=E[c++]<<g,(g+=8)<b&&(v+=E[c++]<<g,g+=8)),p<(D+=v&(1<<b)-1)){i.msg="invalid distance too far back",o.mode=30;break e}if(v>>>=b,g-=b,(b=l-f)<D){if(y<(b=D-b)&&o.sane){i.msg="invalid distance too far back",o.mode=30;break e}if(R=_,(N=0)===m){if(N+=d-b,b<O){for(O-=b;A[l++]=_[N++],--b;);N=l-D,R=A}}else if(m<b){if(N+=d+m-b,(b-=m)<O){for(O-=b;A[l++]=_[N++],--b;);if(N=0,m<O){for(O-=b=m;A[l++]=_[N++],--b;);N=l-D,R=A}}}else if(N+=m-b,b<O){for(O-=b;A[l++]=_[N++],--b;);N=l-D,R=A}for(;2<O;)A[l++]=R[N++],A[l++]=R[N++],A[l++]=R[N++],O-=3;O&&(A[l++]=R[N++],1<O&&(A[l++]=R[N++]))}else{for(N=l-D;A[l++]=A[N++],A[l++]=A[N++],A[l++]=A[N++],2<(O-=3););O&&(A[l++]=A[N++],1<O&&(A[l++]=A[N++]))}break}}break}}while(c<u&&l<h);c-=O=g>>3,v&=(1<<(g-=O<<3))-1,i.next_in=c,i.next_out=l,i.avail_in=c<u?u-c+5:5-(c-u),i.avail_out=l<h?h-l+257:257-(l-h),o.hold=v,o.bits=g}},{}],49:[function(n,r,a){var i=n("../utils/common"),s=n("./adler32"),o=n("./crc32"),c=n("./inffast"),u=n("./inftrees"),l=1,f=2,h=0,p=-2,d=1,y=852,m=592;function _(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(N){var R;return N&&N.state?(R=N.state,N.total_in=N.total_out=R.total=0,N.msg="",R.wrap&&(N.adler=1&R.wrap),R.mode=d,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new i.Buf32(y),R.distcode=R.distdyn=new i.Buf32(m),R.sane=1,R.back=-1,h):p}function x(N){var R;return N&&N.state?((R=N.state).wsize=0,R.whave=0,R.wnext=0,g(N)):p}function w(N,R){var E,A;return N&&N.state?(A=N.state,R<0?(E=0,R=-R):(E=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?p:(A.window!==null&&A.wbits!==R&&(A.window=null),A.wrap=E,A.wbits=R,x(N))):p}function C(N,R){var E,A;return N?(A=new v,(N.state=A).window=null,(E=w(N,R))!==h&&(N.state=null),E):p}var S,T,b=!0;function O(N){if(b){var R;for(S=new i.Buf32(512),T=new i.Buf32(32),R=0;R<144;)N.lens[R++]=8;for(;R<256;)N.lens[R++]=9;for(;R<280;)N.lens[R++]=7;for(;R<288;)N.lens[R++]=8;for(u(l,N.lens,0,288,S,0,N.work,{bits:9}),R=0;R<32;)N.lens[R++]=5;u(f,N.lens,0,32,T,0,N.work,{bits:5}),b=!1}N.lencode=S,N.lenbits=9,N.distcode=T,N.distbits=5}function D(N,R,E,A){var W,z=N.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new i.Buf8(z.wsize)),A>=z.wsize?(i.arraySet(z.window,R,E-z.wsize,z.wsize,0),z.wnext=0,z.whave=z.wsize):(A<(W=z.wsize-z.wnext)&&(W=A),i.arraySet(z.window,R,E-A,W,z.wnext),(A-=W)?(i.arraySet(z.window,R,E-A,A,0),z.wnext=A,z.whave=z.wsize):(z.wnext+=W,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=W))),0}a.inflateReset=x,a.inflateReset2=w,a.inflateResetKeep=g,a.inflateInit=function(N){return C(N,15)},a.inflateInit2=C,a.inflate=function(N,R){var E,A,W,z,F,L,G,H,$,J,Q,q,ne,te,oe,re,B,k,j,V,M,P,U,K,X=0,Z=new i.Buf8(4),ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return p;(E=N.state).mode===12&&(E.mode=13),F=N.next_out,W=N.output,G=N.avail_out,z=N.next_in,A=N.input,L=N.avail_in,H=E.hold,$=E.bits,J=L,Q=G,P=h;e:for(;;)switch(E.mode){case d:if(E.wrap===0){E.mode=13;break}for(;$<16;){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}if(2&E.wrap&&H===35615){Z[E.check=0]=255&H,Z[1]=H>>>8&255,E.check=o(E.check,Z,2,0),$=H=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&H)<<8)+(H>>8))%31){N.msg="incorrect header check",E.mode=30;break}if((15&H)!=8){N.msg="unknown compression method",E.mode=30;break}if($-=4,M=8+(15&(H>>>=4)),E.wbits===0)E.wbits=M;else if(M>E.wbits){N.msg="invalid window size",E.mode=30;break}E.dmax=1<<M,N.adler=E.check=1,E.mode=512&H?10:12,$=H=0;break;case 2:for(;$<16;){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}if(E.flags=H,(255&E.flags)!=8){N.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){N.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=H>>8&1),512&E.flags&&(Z[0]=255&H,Z[1]=H>>>8&255,E.check=o(E.check,Z,2,0)),$=H=0,E.mode=3;case 3:for(;$<32;){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}E.head&&(E.head.time=H),512&E.flags&&(Z[0]=255&H,Z[1]=H>>>8&255,Z[2]=H>>>16&255,Z[3]=H>>>24&255,E.check=o(E.check,Z,4,0)),$=H=0,E.mode=4;case 4:for(;$<16;){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}E.head&&(E.head.xflags=255&H,E.head.os=H>>8),512&E.flags&&(Z[0]=255&H,Z[1]=H>>>8&255,E.check=o(E.check,Z,2,0)),$=H=0,E.mode=5;case 5:if(1024&E.flags){for(;$<16;){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}E.length=H,E.head&&(E.head.extra_len=H),512&E.flags&&(Z[0]=255&H,Z[1]=H>>>8&255,E.check=o(E.check,Z,2,0)),$=H=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(L<(q=E.length)&&(q=L),q&&(E.head&&(M=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),i.arraySet(E.head.extra,A,z,q,M)),512&E.flags&&(E.check=o(E.check,A,q,z)),L-=q,z+=q,E.length-=q),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(L===0)break e;for(q=0;M=A[z+q++],E.head&&M&&E.length<65536&&(E.head.name+=String.fromCharCode(M)),M&&q<L;);if(512&E.flags&&(E.check=o(E.check,A,q,z)),L-=q,z+=q,M)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(L===0)break e;for(q=0;M=A[z+q++],E.head&&M&&E.length<65536&&(E.head.comment+=String.fromCharCode(M)),M&&q<L;);if(512&E.flags&&(E.check=o(E.check,A,q,z)),L-=q,z+=q,M)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;$<16;){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}if(H!==(65535&E.check)){N.msg="header crc mismatch",E.mode=30;break}$=H=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),N.adler=E.check=0,E.mode=12;break;case 10:for(;$<32;){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}N.adler=E.check=_(H),$=H=0,E.mode=11;case 11:if(E.havedict===0)return N.next_out=F,N.avail_out=G,N.next_in=z,N.avail_in=L,E.hold=H,E.bits=$,2;N.adler=E.check=1,E.mode=12;case 12:if(R===5||R===6)break e;case 13:if(E.last){H>>>=7&$,$-=7&$,E.mode=27;break}for(;$<3;){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}switch(E.last=1&H,$-=1,3&(H>>>=1)){case 0:E.mode=14;break;case 1:if(O(E),E.mode=20,R!==6)break;H>>>=2,$-=2;break e;case 2:E.mode=17;break;case 3:N.msg="invalid block type",E.mode=30}H>>>=2,$-=2;break;case 14:for(H>>>=7&$,$-=7&$;$<32;){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}if((65535&H)!=(H>>>16^65535)){N.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&H,$=H=0,E.mode=15,R===6)break e;case 15:E.mode=16;case 16:if(q=E.length){if(L<q&&(q=L),G<q&&(q=G),q===0)break e;i.arraySet(W,A,z,q,F),L-=q,z+=q,G-=q,F+=q,E.length-=q;break}E.mode=12;break;case 17:for(;$<14;){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}if(E.nlen=257+(31&H),H>>>=5,$-=5,E.ndist=1+(31&H),H>>>=5,$-=5,E.ncode=4+(15&H),H>>>=4,$-=4,286<E.nlen||30<E.ndist){N.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;$<3;){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}E.lens[ae[E.have++]]=7&H,H>>>=3,$-=3}for(;E.have<19;)E.lens[ae[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,U={bits:E.lenbits},P=u(0,E.lens,0,19,E.lencode,0,E.work,U),E.lenbits=U.bits,P){N.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;re=(X=E.lencode[H&(1<<E.lenbits)-1])>>>16&255,B=65535&X,!((oe=X>>>24)<=$);){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}if(B<16)H>>>=oe,$-=oe,E.lens[E.have++]=B;else{if(B===16){for(K=oe+2;$<K;){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}if(H>>>=oe,$-=oe,E.have===0){N.msg="invalid bit length repeat",E.mode=30;break}M=E.lens[E.have-1],q=3+(3&H),H>>>=2,$-=2}else if(B===17){for(K=oe+3;$<K;){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}$-=oe,M=0,q=3+(7&(H>>>=oe)),H>>>=3,$-=3}else{for(K=oe+7;$<K;){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}$-=oe,M=0,q=11+(127&(H>>>=oe)),H>>>=7,$-=7}if(E.have+q>E.nlen+E.ndist){N.msg="invalid bit length repeat",E.mode=30;break}for(;q--;)E.lens[E.have++]=M}}if(E.mode===30)break;if(E.lens[256]===0){N.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,U={bits:E.lenbits},P=u(l,E.lens,0,E.nlen,E.lencode,0,E.work,U),E.lenbits=U.bits,P){N.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,U={bits:E.distbits},P=u(f,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,U),E.distbits=U.bits,P){N.msg="invalid distances set",E.mode=30;break}if(E.mode=20,R===6)break e;case 20:E.mode=21;case 21:if(6<=L&&258<=G){N.next_out=F,N.avail_out=G,N.next_in=z,N.avail_in=L,E.hold=H,E.bits=$,c(N,Q),F=N.next_out,W=N.output,G=N.avail_out,z=N.next_in,A=N.input,L=N.avail_in,H=E.hold,$=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;re=(X=E.lencode[H&(1<<E.lenbits)-1])>>>16&255,B=65535&X,!((oe=X>>>24)<=$);){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}if(re&&(240&re)==0){for(k=oe,j=re,V=B;re=(X=E.lencode[V+((H&(1<<k+j)-1)>>k)])>>>16&255,B=65535&X,!(k+(oe=X>>>24)<=$);){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}H>>>=k,$-=k,E.back+=k}if(H>>>=oe,$-=oe,E.back+=oe,E.length=B,re===0){E.mode=26;break}if(32&re){E.back=-1,E.mode=12;break}if(64&re){N.msg="invalid literal/length code",E.mode=30;break}E.extra=15&re,E.mode=22;case 22:if(E.extra){for(K=E.extra;$<K;){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}E.length+=H&(1<<E.extra)-1,H>>>=E.extra,$-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;re=(X=E.distcode[H&(1<<E.distbits)-1])>>>16&255,B=65535&X,!((oe=X>>>24)<=$);){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}if((240&re)==0){for(k=oe,j=re,V=B;re=(X=E.distcode[V+((H&(1<<k+j)-1)>>k)])>>>16&255,B=65535&X,!(k+(oe=X>>>24)<=$);){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}H>>>=k,$-=k,E.back+=k}if(H>>>=oe,$-=oe,E.back+=oe,64&re){N.msg="invalid distance code",E.mode=30;break}E.offset=B,E.extra=15&re,E.mode=24;case 24:if(E.extra){for(K=E.extra;$<K;){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}E.offset+=H&(1<<E.extra)-1,H>>>=E.extra,$-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){N.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(G===0)break e;if(q=Q-G,E.offset>q){if((q=E.offset-q)>E.whave&&E.sane){N.msg="invalid distance too far back",E.mode=30;break}ne=q>E.wnext?(q-=E.wnext,E.wsize-q):E.wnext-q,q>E.length&&(q=E.length),te=E.window}else te=W,ne=F-E.offset,q=E.length;for(G<q&&(q=G),G-=q,E.length-=q;W[F++]=te[ne++],--q;);E.length===0&&(E.mode=21);break;case 26:if(G===0)break e;W[F++]=E.length,G--,E.mode=21;break;case 27:if(E.wrap){for(;$<32;){if(L===0)break e;L--,H|=A[z++]<<$,$+=8}if(Q-=G,N.total_out+=Q,E.total+=Q,Q&&(N.adler=E.check=E.flags?o(E.check,W,Q,F-Q):s(E.check,W,Q,F-Q)),Q=G,(E.flags?H:_(H))!==E.check){N.msg="incorrect data check",E.mode=30;break}$=H=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;$<32;){if(L===0)break e;L--,H+=A[z++]<<$,$+=8}if(H!==(4294967295&E.total)){N.msg="incorrect length check",E.mode=30;break}$=H=0}E.mode=29;case 29:P=1;break e;case 30:P=-3;break e;case 31:return-4;case 32:default:return p}return N.next_out=F,N.avail_out=G,N.next_in=z,N.avail_in=L,E.hold=H,E.bits=$,(E.wsize||Q!==N.avail_out&&E.mode<30&&(E.mode<27||R!==4))&&D(N,N.output,N.next_out,Q-N.avail_out)?(E.mode=31,-4):(J-=N.avail_in,Q-=N.avail_out,N.total_in+=J,N.total_out+=Q,E.total+=Q,E.wrap&&Q&&(N.adler=E.check=E.flags?o(E.check,W,Q,N.next_out-Q):s(E.check,W,Q,N.next_out-Q)),N.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),(J==0&&Q===0||R===4)&&P===h&&(P=-5),P)},a.inflateEnd=function(N){if(!N||!N.state)return p;var R=N.state;return R.window&&(R.window=null),N.state=null,h},a.inflateGetHeader=function(N,R){var E;return N&&N.state?(2&(E=N.state).wrap)==0?p:((E.head=R).done=!1,h):p},a.inflateSetDictionary=function(N,R){var E,A=R.length;return N&&N.state?(E=N.state).wrap!==0&&E.mode!==11?p:E.mode===11&&s(1,R,A,0)!==E.check?-3:D(N,R,A,A)?(E.mode=31,-4):(E.havedict=1,h):p},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,a){var i=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(l,f,h,p,d,y,m,_){var v,g,x,w,C,S,T,b,O,D=_.bits,N=0,R=0,E=0,A=0,W=0,z=0,F=0,L=0,G=0,H=0,$=null,J=0,Q=new i.Buf16(16),q=new i.Buf16(16),ne=null,te=0;for(N=0;N<=15;N++)Q[N]=0;for(R=0;R<p;R++)Q[f[h+R]]++;for(W=D,A=15;1<=A&&Q[A]===0;A--);if(A<W&&(W=A),A===0)return d[y++]=20971520,d[y++]=20971520,_.bits=1,0;for(E=1;E<A&&Q[E]===0;E++);for(W<E&&(W=E),N=L=1;N<=15;N++)if(L<<=1,(L-=Q[N])<0)return-1;if(0<L&&(l===0||A!==1))return-1;for(q[1]=0,N=1;N<15;N++)q[N+1]=q[N]+Q[N];for(R=0;R<p;R++)f[h+R]!==0&&(m[q[f[h+R]]++]=R);if(S=l===0?($=ne=m,19):l===1?($=s,J-=257,ne=o,te-=257,256):($=c,ne=u,-1),N=E,C=y,F=R=H=0,x=-1,w=(G=1<<(z=W))-1,l===1&&852<G||l===2&&592<G)return 1;for(;;){for(T=N-F,O=m[R]<S?(b=0,m[R]):m[R]>S?(b=ne[te+m[R]],$[J+m[R]]):(b=96,0),v=1<<N-F,E=g=1<<z;d[C+(H>>F)+(g-=v)]=T<<24|b<<16|O|0,g!==0;);for(v=1<<N-1;H&v;)v>>=1;if(v!==0?(H&=v-1,H+=v):H=0,R++,--Q[N]==0){if(N===A)break;N=f[h+m[R]]}if(W<N&&(H&w)!==x){for(F===0&&(F=W),C+=E,L=1<<(z=N-F);z+F<A&&!((L-=Q[z+F])<=0);)z++,L<<=1;if(G+=1<<z,l===1&&852<G||l===2&&592<G)return 1;d[x=H&w]=W<<24|z<<16|C-y|0}}return H!==0&&(d[C+H]=N-F<<24|64<<16|0),_.bits=W,0}},{"../utils/common":41}],51:[function(n,r,a){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,a){var i=n("../utils/common"),s=0,o=1;function c(X){for(var Z=X.length;0<=--Z;)X[Z]=0}var u=0,l=29,f=256,h=f+1+l,p=30,d=19,y=2*h+1,m=15,_=16,v=7,g=256,x=16,w=17,C=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=new Array(2*(h+2));c(D);var N=new Array(2*p);c(N);var R=new Array(512);c(R);var E=new Array(256);c(E);var A=new Array(l);c(A);var W,z,F,L=new Array(p);function G(X,Z,ae,ce,ie){this.static_tree=X,this.extra_bits=Z,this.extra_base=ae,this.elems=ce,this.max_length=ie,this.has_stree=X&&X.length}function H(X,Z){this.dyn_tree=X,this.max_code=0,this.stat_desc=Z}function $(X){return X<256?R[X]:R[256+(X>>>7)]}function J(X,Z){X.pending_buf[X.pending++]=255&Z,X.pending_buf[X.pending++]=Z>>>8&255}function Q(X,Z,ae){X.bi_valid>_-ae?(X.bi_buf|=Z<<X.bi_valid&65535,J(X,X.bi_buf),X.bi_buf=Z>>_-X.bi_valid,X.bi_valid+=ae-_):(X.bi_buf|=Z<<X.bi_valid&65535,X.bi_valid+=ae)}function q(X,Z,ae){Q(X,ae[2*Z],ae[2*Z+1])}function ne(X,Z){for(var ae=0;ae|=1&X,X>>>=1,ae<<=1,0<--Z;);return ae>>>1}function te(X,Z,ae){var ce,ie,pe=new Array(m+1),ve=0;for(ce=1;ce<=m;ce++)pe[ce]=ve=ve+ae[ce-1]<<1;for(ie=0;ie<=Z;ie++){var fe=X[2*ie+1];fe!==0&&(X[2*ie]=ne(pe[fe]++,fe))}}function oe(X){var Z;for(Z=0;Z<h;Z++)X.dyn_ltree[2*Z]=0;for(Z=0;Z<p;Z++)X.dyn_dtree[2*Z]=0;for(Z=0;Z<d;Z++)X.bl_tree[2*Z]=0;X.dyn_ltree[2*g]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function re(X){8<X.bi_valid?J(X,X.bi_buf):0<X.bi_valid&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function B(X,Z,ae,ce){var ie=2*Z,pe=2*ae;return X[ie]<X[pe]||X[ie]===X[pe]&&ce[Z]<=ce[ae]}function k(X,Z,ae){for(var ce=X.heap[ae],ie=ae<<1;ie<=X.heap_len&&(ie<X.heap_len&&B(Z,X.heap[ie+1],X.heap[ie],X.depth)&&ie++,!B(Z,ce,X.heap[ie],X.depth));)X.heap[ae]=X.heap[ie],ae=ie,ie<<=1;X.heap[ae]=ce}function j(X,Z,ae){var ce,ie,pe,ve,fe=0;if(X.last_lit!==0)for(;ce=X.pending_buf[X.d_buf+2*fe]<<8|X.pending_buf[X.d_buf+2*fe+1],ie=X.pending_buf[X.l_buf+fe],fe++,ce===0?q(X,ie,Z):(q(X,(pe=E[ie])+f+1,Z),(ve=S[pe])!==0&&Q(X,ie-=A[pe],ve),q(X,pe=$(--ce),ae),(ve=T[pe])!==0&&Q(X,ce-=L[pe],ve)),fe<X.last_lit;);q(X,g,Z)}function V(X,Z){var ae,ce,ie,pe=Z.dyn_tree,ve=Z.stat_desc.static_tree,fe=Z.stat_desc.has_stree,xe=Z.stat_desc.elems,Y=-1;for(X.heap_len=0,X.heap_max=y,ae=0;ae<xe;ae++)pe[2*ae]!==0?(X.heap[++X.heap_len]=Y=ae,X.depth[ae]=0):pe[2*ae+1]=0;for(;X.heap_len<2;)pe[2*(ie=X.heap[++X.heap_len]=Y<2?++Y:0)]=1,X.depth[ie]=0,X.opt_len--,fe&&(X.static_len-=ve[2*ie+1]);for(Z.max_code=Y,ae=X.heap_len>>1;1<=ae;ae--)k(X,pe,ae);for(ie=xe;ae=X.heap[1],X.heap[1]=X.heap[X.heap_len--],k(X,pe,1),ce=X.heap[1],X.heap[--X.heap_max]=ae,X.heap[--X.heap_max]=ce,pe[2*ie]=pe[2*ae]+pe[2*ce],X.depth[ie]=(X.depth[ae]>=X.depth[ce]?X.depth[ae]:X.depth[ce])+1,pe[2*ae+1]=pe[2*ce+1]=ie,X.heap[1]=ie++,k(X,pe,1),2<=X.heap_len;);X.heap[--X.heap_max]=X.heap[1],function(_e,be){var Ce,se,he,de,ye,Se,Ne=be.dyn_tree,De=be.max_code,Ve=be.stat_desc.static_tree,Pe=be.stat_desc.has_stree,ft=be.stat_desc.extra_bits,_t=be.stat_desc.extra_base,Xe=be.stat_desc.max_length,Tt=0;for(de=0;de<=m;de++)_e.bl_count[de]=0;for(Ne[2*_e.heap[_e.heap_max]+1]=0,Ce=_e.heap_max+1;Ce<y;Ce++)Xe<(de=Ne[2*Ne[2*(se=_e.heap[Ce])+1]+1]+1)&&(de=Xe,Tt++),Ne[2*se+1]=de,De<se||(_e.bl_count[de]++,ye=0,_t<=se&&(ye=ft[se-_t]),Se=Ne[2*se],_e.opt_len+=Se*(de+ye),Pe&&(_e.static_len+=Se*(Ve[2*se+1]+ye)));if(Tt!==0){do{for(de=Xe-1;_e.bl_count[de]===0;)de--;_e.bl_count[de]--,_e.bl_count[de+1]+=2,_e.bl_count[Xe]--,Tt-=2}while(0<Tt);for(de=Xe;de!==0;de--)for(se=_e.bl_count[de];se!==0;)De<(he=_e.heap[--Ce])||(Ne[2*he+1]!==de&&(_e.opt_len+=(de-Ne[2*he+1])*Ne[2*he],Ne[2*he+1]=de),se--)}}(X,Z),te(pe,Y,X.bl_count)}function M(X,Z,ae){var ce,ie,pe=-1,ve=Z[1],fe=0,xe=7,Y=4;for(ve===0&&(xe=138,Y=3),Z[2*(ae+1)+1]=65535,ce=0;ce<=ae;ce++)ie=ve,ve=Z[2*(ce+1)+1],++fe<xe&&ie===ve||(fe<Y?X.bl_tree[2*ie]+=fe:ie!==0?(ie!==pe&&X.bl_tree[2*ie]++,X.bl_tree[2*x]++):fe<=10?X.bl_tree[2*w]++:X.bl_tree[2*C]++,pe=ie,Y=(fe=0)===ve?(xe=138,3):ie===ve?(xe=6,3):(xe=7,4))}function P(X,Z,ae){var ce,ie,pe=-1,ve=Z[1],fe=0,xe=7,Y=4;for(ve===0&&(xe=138,Y=3),ce=0;ce<=ae;ce++)if(ie=ve,ve=Z[2*(ce+1)+1],!(++fe<xe&&ie===ve)){if(fe<Y)for(;q(X,ie,X.bl_tree),--fe!=0;);else ie!==0?(ie!==pe&&(q(X,ie,X.bl_tree),fe--),q(X,x,X.bl_tree),Q(X,fe-3,2)):fe<=10?(q(X,w,X.bl_tree),Q(X,fe-3,3)):(q(X,C,X.bl_tree),Q(X,fe-11,7));pe=ie,Y=(fe=0)===ve?(xe=138,3):ie===ve?(xe=6,3):(xe=7,4)}}c(L);var U=!1;function K(X,Z,ae,ce){Q(X,(u<<1)+(ce?1:0),3),function(ie,pe,ve,fe){re(ie),fe&&(J(ie,ve),J(ie,~ve)),i.arraySet(ie.pending_buf,ie.window,pe,ve,ie.pending),ie.pending+=ve}(X,Z,ae,!0)}a._tr_init=function(X){U||(function(){var Z,ae,ce,ie,pe,ve=new Array(m+1);for(ie=ce=0;ie<l-1;ie++)for(A[ie]=ce,Z=0;Z<1<<S[ie];Z++)E[ce++]=ie;for(E[ce-1]=ie,ie=pe=0;ie<16;ie++)for(L[ie]=pe,Z=0;Z<1<<T[ie];Z++)R[pe++]=ie;for(pe>>=7;ie<p;ie++)for(L[ie]=pe<<7,Z=0;Z<1<<T[ie]-7;Z++)R[256+pe++]=ie;for(ae=0;ae<=m;ae++)ve[ae]=0;for(Z=0;Z<=143;)D[2*Z+1]=8,Z++,ve[8]++;for(;Z<=255;)D[2*Z+1]=9,Z++,ve[9]++;for(;Z<=279;)D[2*Z+1]=7,Z++,ve[7]++;for(;Z<=287;)D[2*Z+1]=8,Z++,ve[8]++;for(te(D,h+1,ve),Z=0;Z<p;Z++)N[2*Z+1]=5,N[2*Z]=ne(Z,5);W=new G(D,S,f+1,h,m),z=new G(N,T,0,p,m),F=new G(new Array(0),b,0,d,v)}(),U=!0),X.l_desc=new H(X.dyn_ltree,W),X.d_desc=new H(X.dyn_dtree,z),X.bl_desc=new H(X.bl_tree,F),X.bi_buf=0,X.bi_valid=0,oe(X)},a._tr_stored_block=K,a._tr_flush_block=function(X,Z,ae,ce){var ie,pe,ve=0;0<X.level?(X.strm.data_type===2&&(X.strm.data_type=function(fe){var xe,Y=4093624447;for(xe=0;xe<=31;xe++,Y>>>=1)if(1&Y&&fe.dyn_ltree[2*xe]!==0)return s;if(fe.dyn_ltree[18]!==0||fe.dyn_ltree[20]!==0||fe.dyn_ltree[26]!==0)return o;for(xe=32;xe<f;xe++)if(fe.dyn_ltree[2*xe]!==0)return o;return s}(X)),V(X,X.l_desc),V(X,X.d_desc),ve=function(fe){var xe;for(M(fe,fe.dyn_ltree,fe.l_desc.max_code),M(fe,fe.dyn_dtree,fe.d_desc.max_code),V(fe,fe.bl_desc),xe=d-1;3<=xe&&fe.bl_tree[2*O[xe]+1]===0;xe--);return fe.opt_len+=3*(xe+1)+5+5+4,xe}(X),ie=X.opt_len+3+7>>>3,(pe=X.static_len+3+7>>>3)<=ie&&(ie=pe)):ie=pe=ae+5,ae+4<=ie&&Z!==-1?K(X,Z,ae,ce):X.strategy===4||pe===ie?(Q(X,2+(ce?1:0),3),j(X,D,N)):(Q(X,4+(ce?1:0),3),function(fe,xe,Y,_e){var be;for(Q(fe,xe-257,5),Q(fe,Y-1,5),Q(fe,_e-4,4),be=0;be<_e;be++)Q(fe,fe.bl_tree[2*O[be]+1],3);P(fe,fe.dyn_ltree,xe-1),P(fe,fe.dyn_dtree,Y-1)}(X,X.l_desc.max_code+1,X.d_desc.max_code+1,ve+1),j(X,X.dyn_ltree,X.dyn_dtree)),oe(X),ce&&re(X)},a._tr_tally=function(X,Z,ae){return X.pending_buf[X.d_buf+2*X.last_lit]=Z>>>8&255,X.pending_buf[X.d_buf+2*X.last_lit+1]=255&Z,X.pending_buf[X.l_buf+X.last_lit]=255&ae,X.last_lit++,Z===0?X.dyn_ltree[2*ae]++:(X.matches++,Z--,X.dyn_ltree[2*(E[ae]+f+1)]++,X.dyn_dtree[2*$(Z)]++),X.last_lit===X.lit_bufsize-1},a._tr_align=function(X){Q(X,2,3),q(X,g,D),function(Z){Z.bi_valid===16?(J(Z,Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0):8<=Z.bi_valid&&(Z.pending_buf[Z.pending++]=255&Z.bi_buf,Z.bi_buf>>=8,Z.bi_valid-=8)}(X)}},{"../utils/common":41}],53:[function(n,r,a){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,a){r.exports=typeof setImmediate=="function"?setImmediate:function(){var i=[].slice.apply(arguments);i.splice(1,0,0),setTimeout.apply(null,i)}},{}]},{},[10])(10)})})(Ld);var cC=Ld.exports,fa=I.vtkErrorMacro,fC=I.vtkDebugMacro;function lC(t){var e=t.split(".").pop().toLowerCase();return e==="jpg"?"jpeg":e}function hC(t,e,n){return function(r){t.buffer=new ArrayBuffer(r.length);var a=new Uint8Array(t.buffer);a.set(r),e&&(t.dataType==="string"||t.dataType==="JSON"?t.buffer=ur.inflate(new Uint8Array(t.buffer),{to:"string"}):t.buffer=ur.inflate(new Uint8Array(t.buffer)).buffer),t.ref.encode==="JSON"?t.values=JSON.parse(t.buffer):(Hr.ENDIANNESS!==t.ref.encode&&Hr.ENDIANNESS&&(fC("Swap bytes of ".concat(t.name)),Hr.swapBytes(t.buffer,Ns[t.dataType])),t.values=I.newTypedArray(t.dataType,t.buffer)),t.values.length!==t.size&&fa("Error in FetchArray: ".concat(t.name," does not have the proper array size. Got ").concat(t.values.length,", instead of ").concat(t.size)),n()}}function pC(t,e,n){return function(r){e?t.values=JSON.parse(ur.inflate(r,{to:"string"})):t.values=JSON.parse(r),n()}}var vC={uint8array:hC,string:pC};function dC(t){return t[0]==="/"?t.substr(1):t}function gC(t){return new URL(t,"http://any").pathname}function $a(t){return dC(gC(t))}function yC(t){var e=!1,n=0,r=new cC,a=r;return r.loadAsync(t.zipContent).then(function(){e=!0;var i=[];r.forEach(function(c,u){c.indexOf("index.json")!==-1&&i.push(c)}),i.sort(function(c,u){return c.length-u.length});for(var s=i[0].split("/");s.length>1;){var o=s.shift();a=a.folder(o)}t.callback&&t.callback(r)}),{fetchArray:function(s,o,c){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return new Promise(function(l,f){e||fa("ERROR!!! zip not ready...");var h=$a([o,c.ref.basepath,u.compression?"".concat(c.ref.id,".gz"):c.ref.id].join("/"));++n===1&&s!==null&&s!==void 0&&s.invokeBusy&&s.invokeBusy(!0);function p(){delete c.ref,--n===0&&s!==null&&s!==void 0&&s.invokeBusy&&s.invokeBusy(!1),s!=null&&s.modified&&s.modified(),l(c)}var d=c.dataType==="string"&&!u.compression?"string":"uint8array",y=vC[d](c,u.compression,p);a.file(h).async(d).then(y)})},fetchJSON:function(s,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=$a(o);return e||fa("ERROR!!! zip not ready..."),c.compression?c.compression==="gz"?a.file(u).async("uint8array").then(function(l){var f=ur.inflate(l,{to:"string"});return Promise.resolve(JSON.parse(f))}):Promise.reject(new Error("Invalid compression")):a.file(u).async("string").then(function(l){return Promise.resolve(JSON.parse(l))})},fetchText:function(s,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=$a(o);return e||fa("ERROR!!! zip not ready..."),c.compression?c.compression==="gz"?a.file(u).async("uint8array").then(function(l){var f=ur.inflate(l,{to:"string"});return Promise.resolve(f)}):Promise.reject(new Error("Invalid compression")):a.file(u).async("string").then(function(l){return Promise.resolve(l)})},fetchImage:function(s,o){var c=$a(o);return e||fa("ERROR!!! zip not ready..."),new Promise(function(u,l){var f=new Image;f.onload=function(){return u(f)},f.onerror=l,a.file(c).async("base64").then(function(h){f.src="data:image/".concat(lC(c),";base64,").concat(h)})})},fetchBinary:function(s,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=$a(o);return e||fa("ERROR!!! zip not ready..."),c.compression?c.compression==="gz"?a.file(u).then(function(l){var f=ur.inflate(l).buffer;return Promise.resolve(f)}):Promise.reject(new Error("Invalid compression")):a.file(u).async("arraybuffer").then(function(l){return Promise.resolve(l)})}}}var mC={create:yC};js("zip",function(t){return mC.create(t)});var _C=function(e){return e},xC=Me(new Float64Array(16)),nh=1e-6,Fd=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;yt(this,t),this.matrix=Me(new Float64Array(16)),this.tmp=new Float64Array(3),this.angleConv=e?l2:_C}return mt(t,[{key:"rotateFromDirections",value:function(n,r){var a=new Float64Array(3),i=new Float64Array(3),s=new Float64Array(16);$e(a,n[0],n[1],n[2]),$e(i,r[0],r[1],r[2]),or(a,a),or(i,i);var o=Un(a,i);return o>=1?this:(An(this.tmp,a,i),Fn(this.tmp)<nh&&(An(this.tmp,[1,0,0],n),Fn(this.tmp)<nh&&An(this.tmp,[0,1,0],n)),Yh(s,Math.acos(o),this.tmp),st(this.matrix,this.matrix,s),this)}},{key:"rotate",value:function(n,r){return $e.apply(A3,[this.tmp].concat(we(r))),or(this.tmp,this.tmp),Dt(this.matrix,this.matrix,this.angleConv(n),this.tmp),this}},{key:"rotateX",value:function(n){return bs(this.matrix,this.matrix,this.angleConv(n)),this}},{key:"rotateY",value:function(n){return _i(this.matrix,this.matrix,this.angleConv(n)),this}},{key:"rotateZ",value:function(n){return Es(this.matrix,this.matrix,this.angleConv(n)),this}},{key:"translate",value:function(n,r,a){return $e(this.tmp,n,r,a),rt(this.matrix,this.matrix,this.tmp),this}},{key:"scale",value:function(n,r,a){return $e(this.tmp,n,r,a),Vn(this.matrix,this.matrix,this.tmp),this}},{key:"multiply",value:function(n){return st(this.matrix,this.matrix,n),this}},{key:"identity",value:function(){return Me(this.matrix),this}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(O5(xC,this.matrix))return this;for(var i=a===-1?n.length:r+a*3,s=r;s<i;s+=3)$e(this.tmp,n[s],n[s+1],n[s+2]),Te(this.tmp,this.tmp,this.matrix),n[s]=this.tmp[0],n[s+1]=this.tmp[1],n[s+2]=this.tmp[2];return this}},{key:"getMatrix",value:function(){return this.matrix}},{key:"setMatrix",value:function(n){return!!n&&n.length===16&&Ft(this.matrix,n),this}}]),t}();function wC(){return new Fd(!0)}function CC(){return new Fd(!1)}var Ht={buildFromDegree:wC,buildFromRadian:CC};function ah(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function SC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ah(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ah(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TC(t,e){e.classHierarchy.push("vtkCircleSource");function n(r,a){var i,s;if(!e.deleted){var o=a[0],c=I.newTypedArray(e.pointType,e.resolution*3),u=new Uint32Array(e.resolution+2);u[0]=e.resolution+1;for(var l=2*Math.PI/e.resolution,f=0;f<e.resolution;f++){var h=e.center[0],p=e.radius*Math.cos(f*l)+e.center[1],d=e.radius*Math.sin(f*l)+e.center[2];c.set([h,p,d],f*3),u[f+1]=f}u[u.length-1]=u[1],o=nt.newInstance(),o.getPoints().setData(c,3),e.lines&&o.getLines().setData(u,1),e.face&&o.getPolys().setData(u,1),(i=(s=Ht.buildFromRadian()).translate.apply(s,we(e.center)).rotateFromDirections([1,0,0],e.direction)).translate.apply(i,we(X1(we(e.center),-1))).apply(c),a[0]=o}}t.requestData=n}function bC(t){return SC({face:!0,center:[0,0,0],lines:!1,direction:[1,0,0],pointType:"Float64Array",radius:1,resolution:6},t)}function EC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,bC(n)),I.obj(t,e),I.setGet(t,e,["radius","resolution","lines","face"]),I.setGetArray(t,e,["center","direction"],3),I.algo(t,e,0,1),TC(t,e)}I.newInstance(EC,"vtkCircleSource");function DC(t,e){e.classHierarchy.push("vtkConcentricCylinderSource");function n(){for(;e.cellFields.length<e.radius.length;)e.cellFields.push(e.cellFields.length)}t.clearRadius=function(){e.radius=[],e.cellFields=[],t.modified()},t.addRadius=function(a,i){e.radius.push(a),i!==void 0&&e.cellFields.push(i),n(),t.modified()},t.getNumberOfRadius=function(){return e.radius.length},t.getRadius=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.radius[a]},t.setRadius=function(a,i){e.radius[a]=i,t.modified()},t.setCellField=function(a,i){e.cellFields[a]=i,t.modified()},t.removeMask=function(){e.mask=null,t.modified()},t.setMaskLayer=function(a,i){var s=!1;!e.mask&&i&&(s=!0,e.mask=[]),e.mask&&(!e.mask[a]!=!i&&(s=!0),e.mask[a]=i),s&&t.modified()},t.getMaskLayer=function(a){return a===void 0?e.mask:e.mask[a]};function r(a,i){var s;if(!(e.deleted||!e.radius.length)){n();var o=i[0],c=e.radius.length,u=e.height/2,l=0,f=0,h=e.startTheta<e.endTheta?e.startTheta:e.endTheta;h*=Math.PI/180;var p=e.endTheta>e.startTheta?e.endTheta:e.startTheta;p*=Math.PI/180;var d=e.resolution,y=!1;p>=h+2*Math.PI?p=h+2*Math.PI:(++d,y=!0);var m=(p-h)/e.resolution,_=d*c*2+2;if(!e.skipInnerFaces&&!e.mask)l=2*(d+1)+5*d+(c-1)*d*20+(y?10*c:0),f=2+d+(c-1)*4*d+(y?2*c:0);else if(!e.skipInnerFaces&&e.mask){e.mask[0]||(l+=2*(d+1)+5*d+(y?10:0),f+=2+d+(y?2:0));for(var v=1;v<c;v++)e.mask[v]||(l+=d*20+(y?10:0),f+=4*d+(y?2:0))}else{(!e.skipInnerFaces||!e.mask||!e.mask[0])&&(l+=2*(d+1)+(y?10:0),f+=2+(y?2:0),(e.radius.length===1||!e.skipInnerFaces||e.mask&&e.mask[1])&&(l+=5*d,f+=d));for(var g=1;g<c;g++)if(!e.skipInnerFaces||!e.mask||!e.mask[g]){var x=c-1===g;l+=d*10+(y?10:0),f+=d*2+(y?2:0),(!e.skipInnerFaces||e.mask&&e.mask[g-1])&&(l+=d*5,f+=d),(x||!e.skipInnerFaces||e.mask&&e.mask[g+1])&&(l+=d*5,f+=d)}}var w=0,C=I.newTypedArray(e.pointType,_*3),S=0,T=new Uint32Array(l),b=0,O=new Float32Array(f);C[w*3+0]=0,C[w*3+1]=0,C[w*3+2]=u,w++,C[w*3+0]=0,C[w*3+1]=0,C[w*3+2]=-u,w++;for(var D=0;D<c;D++){for(var N=e.radius[D],R=0;R<d;R++){var E=h+R*m;C[w*3+0]=N*Math.cos(E),C[w*3+1]=N*Math.sin(E),C[w*3+2]=u,w++}for(var A=0;A<d;A++){var W=h+A*m;C[w*3+0]=N*Math.cos(W),C[w*3+1]=N*Math.sin(W),C[w*3+2]=-u,w++}}var z=e.cellFields[0];if(!e.mask||!e.mask[0]){O[b++]=z,T[S++]=d+(y?1:0),y&&(T[S++]=0);for(var F=0;F<d;F++)T[S++]=F+2;O[b++]=z,T[S++]=d+(y?1:0),y&&(T[S++]=1);for(var L=0;L<d;L++)T[S++]=2*d-L-1+2;if(!e.skipInnerFaces||e.mask&&e.mask[1]||c===1)for(var G=0;G<e.resolution;G++)T[S++]=4,T[S++]=(G+1)%d+2,T[S++]=G+2,T[S++]=G+d+2,T[S++]=(G+1)%d+d+2,O[b++]=z;y&&(T[S++]=4,T[S++]=2,T[S++]=0,T[S++]=1,T[S++]=d+2,O[b++]=z,T[S++]=4,T[S++]=0,T[S++]=d+1,T[S++]=2*d+1,T[S++]=1,O[b++]=z)}for(var H=1;H<c;H++)if(!(e.mask&&e.mask[H])){var $=d*2*(H-1)+2,J=$+2*d,Q=c-1===H;z=e.cellFields[H];for(var q=0;q<e.resolution;q++)T[S++]=4,T[S++]=q+$,T[S++]=(q+1)%d+$,T[S++]=(q+1)%d+J,T[S++]=q+J,O[b++]=z;for(var ne=0;ne<e.resolution;ne++)T[S++]=4,T[S++]=(ne+1)%d+$+d,T[S++]=ne+$+d,T[S++]=ne+J+d,T[S++]=(ne+1)%d+J+d,O[b++]=z;if(!e.skipInnerFaces||e.mask&&e.mask[H-1])for(var te=0;te<e.resolution;te++)T[S++]=4,T[S++]=te+$,T[S++]=(te+1)%d+$,T[S++]=(te+1)%d+d+$,T[S++]=te+d+$,O[b++]=z;if(!e.skipInnerFaces||Q||e.mask&&(e.mask[H+1]||Q))for(var oe=0;oe<e.resolution;oe++)T[S++]=4,T[S++]=(oe+1)%d+J,T[S++]=oe+J,T[S++]=oe+d+J,T[S++]=(oe+1)%d+d+J,O[b++]=z;y&&(T[S++]=4,T[S++]=J,T[S++]=$,T[S++]=d+$,T[S++]=d+J,O[b++]=z,T[S++]=4,T[S++]=e.resolution+J,T[S++]=e.resolution+$,T[S++]=e.resolution+d+$,T[S++]=e.resolution+d+J,O[b++]=z)}(s=Ht.buildFromRadian()).translate.apply(s,we(e.center)).rotateFromDirections([0,0,1],e.direction).apply(C),o=nt.newInstance(),o.getPoints().setData(C,3),o.getPolys().setData(T,1),o.getCellData().setScalars(Ee.newInstance({name:"layer",values:O})),i[0]=o}}t.requestData=r}var OC={height:1,radius:[.5],cellFields:[1],resolution:6,startTheta:0,endTheta:360,center:[0,0,0],direction:[0,0,1],skipInnerFaces:!0,mask:null,pointType:"Float64Array"};function NC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,OC,n),I.obj(t,e),I.setGet(t,e,["height","resolution","startTheta","endTheta","skipInnerFaces"]),I.setGetArray(t,e,["center","direction"],3),I.getArray(t,e,["cellFields"]),I.algo(t,e,0,1),DC(t,e)}I.newInstance(NC,"vtkConcentricCylinderSource");function kC(t,e){e.classHierarchy.push("vtkConeSource");function n(r,a){var i;if(!e.deleted){var s=a[0],o=2*Math.PI/e.resolution,c=-e.height/2,u=e.resolution+1,l=4*e.resolution+1+e.resolution,f=0,h=I.newTypedArray(e.pointType,u*3),p=0,d=new Uint32Array(l);h[0]=e.height/2,h[1]=0,h[2]=0,e.capping&&(d[p++]=e.resolution);for(var y=0;y<e.resolution;y++)f++,h[f*3+0]=c,h[f*3+1]=e.radius*Math.cos(y*o),h[f*3+2]=e.radius*Math.sin(y*o),e.capping&&(d[e.resolution-p+++1]=f);for(var m=0;m<e.resolution;m++)d[p++]=3,d[p++]=0,d[p++]=m+1,d[p++]=m+2>e.resolution?1:m+2;(i=Ht.buildFromRadian()).translate.apply(i,we(e.center)).rotateFromDirections([1,0,0],e.direction).apply(h),s=nt.newInstance(),s.getPoints().setData(h,3),s.getPolys().setData(d,1),a[0]=s}}t.requestData=n}var MC={height:1,radius:.5,resolution:6,center:[0,0,0],direction:[1,0,0],capping:!0,pointType:"Float64Array"};function Ad(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,MC,n),I.obj(t,e),I.setGet(t,e,["height","radius","resolution","capping"]),I.setGetArray(t,e,["center","direction"],3),I.algo(t,e,0,1),kC(t,e)}var RC=I.newInstance(Ad,"vtkConeSource"),LC={newInstance:RC,extend:Ad};function FC(t,e){e.classHierarchy.push("vtkCubeSource");function n(r,a){var i;if(!e.deleted){var s=nt.newInstance();a[0]=s;var o=6,c=24,u=I.newTypedArray(e.pointType,c*3);s.getPoints().setData(u,3);var l=I.newTypedArray(e.pointType,c*3),f=Ee.newInstance({name:"Normals",values:l,numberOfComponents:3});s.getPointData().setNormals(f);var h=2;e.generate3DTextureCoordinates===!0&&(h=3);var p=I.newTypedArray(e.pointType,c*h),d=Ee.newInstance({name:"TextureCoordinates",values:p,numberOfComponents:h});s.getPointData().setTCoords(d);var y=[0,0,0],m=[0,0,0],_=[0,0],v=0;y[0]=-e.xLength/2,m[0]=-1,m[1]=0,m[2]=0;for(var g=0;g<2;g++){y[1]=-e.yLength/2;for(var x=0;x<2;x++){_[1]=y[1]+.5,y[2]=-e.zLength/2;for(var w=0;w<2;w++)_[0]=(y[2]+.5)*(1-2*g),u[v*3]=y[0],u[v*3+1]=y[1],u[v*3+2]=y[2],l[v*3]=m[0],l[v*3+1]=m[1],l[v*3+2]=m[2],h===2?(p[v*h]=_[0],p[v*h+1]=_[1]):(p[v*h]=2*g-1,p[v*h+1]=2*x-1,p[v*h+2]=2*w-1),v++,y[2]+=e.zLength;y[1]+=e.yLength}y[0]+=e.xLength,m[0]+=2}y[1]=-e.yLength/2,m[1]=-1,m[0]=0,m[2]=0;for(var C=0;C<2;C++){y[0]=-e.xLength/2;for(var S=0;S<2;S++){_[0]=(y[0]+.5)*(2*C-1),y[2]=-e.zLength/2;for(var T=0;T<2;T++)_[1]=(y[2]+.5)*-1,u[v*3]=y[0],u[v*3+1]=y[1],u[v*3+2]=y[2],l[v*3]=m[0],l[v*3+1]=m[1],l[v*3+2]=m[2],h===2?(p[v*h]=_[0],p[v*h+1]=_[1]):(p[v*h]=2*S-1,p[v*h+1]=2*C-1,p[v*h+2]=2*T-1),v++,y[2]+=e.zLength;y[0]+=e.xLength}y[1]+=e.yLength,m[1]+=2}y[2]=-e.zLength/2,m[2]=-1,m[0]=0,m[1]=0;for(var b=0;b<2;b++){y[1]=-e.yLength/2;for(var O=0;O<2;O++){_[1]=y[1]+.5,y[0]=-e.xLength/2;for(var D=0;D<2;D++)_[0]=(y[0]+.5)*(2*b-1),u[v*3]=y[0],u[v*3+1]=y[1],u[v*3+2]=y[2],l[v*3]=m[0],l[v*3+1]=m[1],l[v*3+2]=m[2],h===2?(p[v*h]=_[0],p[v*h+1]=_[1]):(p[v*h]=2*D-1,p[v*h+1]=2*O-1,p[v*h+2]=2*b-1),v++,y[0]+=e.xLength;y[1]+=e.yLength}y[2]+=e.zLength,m[2]+=2}Ht.buildFromDegree().rotateX(e.rotations[0]).rotateY(e.rotations[1]).rotateZ(e.rotations[2]).apply(u).apply(l),(i=Ht.buildFromRadian()).translate.apply(i,we(e.center)).apply(u);var N=new Uint16Array(o*5);s.getPolys().setData(N,1);var R=0;N[R++]=4,N[R++]=0,N[R++]=1,N[R++]=3,N[R++]=2,N[R++]=4,N[R++]=4,N[R++]=6,N[R++]=7,N[R++]=5,N[R++]=4,N[R++]=8,N[R++]=10,N[R++]=11,N[R++]=9,N[R++]=4,N[R++]=12,N[R++]=13,N[R++]=15,N[R++]=14,N[R++]=4,N[R++]=16,N[R++]=18,N[R++]=19,N[R++]=17,N[R++]=4,N[R++]=20,N[R++]=21,N[R++]=23,N[R]=22}}t.setBounds=function(){var r=[];if(Array.isArray(arguments.length<=0?void 0:arguments[0]))r=arguments.length<=0?void 0:arguments[0];else for(var a=0;a<arguments.length;a++)r.push(a<0||arguments.length<=a?void 0:arguments[a]);r.length===6&&(e.xLength=r[1]-r[0],e.yLength=r[3]-r[2],e.zLength=r[5]-r[4],e.center=[(r[0]+r[1])/2,(r[2]+r[3])/2,(r[4]+r[5])/2])},t.requestData=n}var AC={xLength:1,yLength:1,zLength:1,center:[0,0,0],rotations:[0,0,0],pointType:"Float64Array",generate3DTextureCoordinates:!1};function BC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,AC,n),I.obj(t,e),I.setGet(t,e,["xLength","yLength","zLength","generate3DTextureCoordinates"]),I.setGetArray(t,e,["center","rotations"],3),I.algo(t,e,0,1),FC(t,e)}I.newInstance(BC,"vtkCubeSource");function VC(t,e){e.classHierarchy.push("vtkCylinderSource");function n(r,a){var i,s;if(!e.deleted){var o=a[0],c=2*Math.PI/e.resolution,u=2*e.resolution,l=5*e.resolution;e.capping&&(u=4*e.resolution,l=7*e.resolution+2);for(var f=I.newTypedArray(e.pointType,u*3),h=0,p=new Uint32Array(l),d=new Float32Array(u*3),y=Ee.newInstance({numberOfComponents:3,values:d,name:"Normals"}),m=new Float32Array(u*2),_=Ee.newInstance({numberOfComponents:2,values:m,name:"TCoords"}),v=[0,0,0],g=[0,0,0],x=[0,0,0],w=[0,0,0],C=[0,0],S=[0,0],T=e.otherRadius==null?e.radius:e.otherRadius,b=0;b<e.resolution;b++){v[0]=Math.cos(b*c+e.initAngle),g[0]=v[0],x[0]=e.radius*v[0]+e.center[0],w[0]=x[0],C[0]=Math.abs(2*b/e.resolution-1),S[0]=C[0],x[1]=.5*e.height+e.center[1],w[1]=-.5*e.height+e.center[1],C[1]=0,S[1]=1,v[2]=-Math.sin(b*c+e.initAngle),g[2]=v[2],x[2]=T*v[2]+e.center[2],w[2]=x[2];for(var O=2*b,D=0;D<3;D++)d[O*3+D]=v[D],d[(O+1)*3+D]=g[D],f[O*3+D]=x[D],f[(O+1)*3+D]=w[D],D<2&&(m[O*2+D]=C[D],m[(O+1)*2+D]=S[D])}for(var N=0;N<e.resolution;N++){p[h++]=4,p[h++]=2*N,p[h++]=2*N+1;var R=(2*N+3)%(2*e.resolution);p[h++]=R,p[h++]=R-1}if(e.capping){for(var E=0;E<e.resolution;E++){x[0]=e.radius*Math.cos(E*c+e.initAngle),w[0]=x[0],C[0]=x[0],S[0]=x[0],x[0]+=e.center[0],w[0]+=e.center[0],v[1]=1,g[1]=-1,x[1]=.5*e.height+e.center[1],w[1]=-.5*e.height+e.center[1],x[2]=-T*Math.sin(E*c+e.initAngle),w[2]=x[2],C[1]=x[2],S[1]=x[2],x[2]+=e.center[2],w[2]+=e.center[2];for(var A=2*e.resolution+E,W=3*e.resolution+e.resolution-E-1,z=0;z<3;z++)d[3*A+z]=v[z],d[3*W+z]=g[z],f[3*A+z]=x[z],f[3*W+z]=w[z],z<2&&(m[2*A+z]=C[z],m[2*W+z]=S[z])}p[h++]=e.resolution;for(var F=0;F<e.resolution;F++)p[h++]=2*e.resolution+F;p[h++]=e.resolution;for(var L=0;L<e.resolution;L++)p[h++]=3*e.resolution+L}(i=(s=Ht.buildFromRadian()).translate.apply(s,we(e.center)).rotateFromDirections([0,1,0],e.direction)).translate.apply(i,we(e.center.map(function(G){return G*-1}))).apply(f),o=nt.newInstance(),o.getPoints().setData(f,3),o.getPolys().setData(p,1),o.getPointData().setNormals(y),o.getPointData().setTCoords(_),a[0]=o}}t.requestData=n}var UC={height:1,initAngle:0,radius:1,resolution:6,center:[0,0,0],direction:[0,1,0],capping:!0,pointType:"Float64Array"};function Bd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,UC,n),I.obj(t,e),I.setGet(t,e,["height","initAngle","otherRadius","radius","resolution","capping"]),I.setGetArray(t,e,["center","direction"],3),I.algo(t,e,0,1),VC(t,e)}var GC=I.newInstance(Bd,"vtkCylinderSource"),PC={newInstance:GC,extend:Bd},jC=I.vtkWarningMacro;function zC(t,e){e.classHierarchy.push("vtkLineSource"),t.requestData=function(n,r){if(!e.deleted){var a=r[0],i=a?a.getPoints().getDataType():e.pointType,s=nt.newInstance(),o=[];if(Ct(e.point2,e.point1,o),jn(o)<=0){jC("Zero-length line definition");return}var c=e.resolution,u=c+1,l=I.newTypedArray(i,u*3);s.getPoints().setData(l,3);var f=new Uint32Array(u+1);s.getLines().setData(f,1);for(var h=0,p=0,d=0;d<c+1;d++)p=d/c,l[h*3]=e.point1[0]+p*o[0],l[h*3+1]=e.point1[1]+p*o[1],l[h*3+2]=e.point1[2]+p*o[2],h++;h=0,f[0]=u;for(var y=0;y<u;y++)f[y+1]=y;r[0]=s}}}var IC={resolution:10,point1:[-1,0,0],point2:[1,0,0],pointType:"Float64Array"};function WC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,IC,n),I.obj(t,e),I.setGet(t,e,["resolution"]),I.setGetArray(t,e,["point1","point2"],3),I.algo(t,e,0,1),zC(t,e)}I.newInstance(WC,"vtkLineSource");var HC=I.vtkWarningMacro,$C=1e-6;function KC(t,e){e.classHierarchy.push("vtkPlaneSource"),t.requestData=function(n,r){if(!e.deleted){var a=r[0],i=a?a.getPoints().getDataType():e.pointType,s=nt.newInstance(),o=[],c=[];if(Ct(e.point1,e.origin,o),Ct(e.point2,e.origin,c),!t.updatePlane(o,c)){HC("Bad plane definition");return}var u=e.xResolution,l=e.yResolution,f=(u+1)*(l+1),h=u*l,p=I.newTypedArray(i,f*3);s.getPoints().setData(p,3);var d=new Uint32Array(5*h);s.getPolys().setData(d,1);var y=new Float32Array(f*3),m=Ee.newInstance({numberOfComponents:3,values:y,name:"Normals"});s.getPointData().setNormals(m);var _=new Float32Array(f*2),v=Ee.newInstance({numberOfComponents:2,values:_,name:"TextureCoordinates"});s.getPointData().setTCoords(v);for(var g=new Float32Array(2),x=0,w=0;w<l+1;w++){g[1]=w/l;for(var C=0;C<u+1;C++)g[0]=C/u,p[x*3]=e.origin[0]+g[0]*o[0]+g[1]*c[0],p[x*3+1]=e.origin[1]+g[0]*o[1]+g[1]*c[1],p[x*3+2]=e.origin[2]+g[0]*o[2]+g[1]*c[2],_[x*2]=g[0],_[x*2+1]=g[1],y[x*3]=e.normal[0],y[x*3+1]=e.normal[1],y[x*3+2]=e.normal[2],x++}x=0;for(var S=0;S<l;S++)for(var T=0;T<u;T++)d[x*5+0]=4,d[x*5+1]=T+S*(u+1),d[x*5+2]=d[x*5+1]+1,d[x*5+3]=d[x*5+1]+u+2,d[x*5+4]=d[x*5+1]+u+1,x++;r[0]=s}},t.setNormal=function(){var n=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=we(arguments.length<=0?void 0:arguments[0]):arguments.length===3&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),lt(n)!==0){var r=Be(e.normal,n),a=0,i=[];r<1&&(r<=-1?(a=ot(180),Ct(e.point1,e.origin,i)):(Lt(e.normal,n,i),a=Math.acos(r)),t.rotate(a,i))}},t.rotate=function(n,r){if(!(Math.abs(n)<$C)){var a=Me(new Float64Array(16)),i=[];l1(i,e.center),rt(a,a,e.center),Dt(a,a,n,r),rt(a,a,i),Te(e.origin,e.origin,a),Te(e.point1,e.point1,a),Te(e.point2,e.point2,a),Ht.buildFromRadian().rotate(n,r).apply(e.normal),t.modified()}},t.setCenter=function(){var n=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=we(arguments.length<=0?void 0:arguments[0]):arguments.length===3&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!ma(n,e.center)){var r=[];Ct(e.point1,e.origin,r);var a=[];Ct(e.point2,e.origin,a);for(var i=0;i<3;i++)e.center[i]=n[i],e.origin[i]=e.center[i]-.5*(r[i]+a[i]),e.point1[i]=e.origin[i]+r[i],e.point2[i]=e.origin[i]+a[i];t.modified()}},t.setPoint1=function(){var n=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=we(arguments.length<=0?void 0:arguments[0]):arguments.length===3&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!ma(n,e.point1)){var r=[],a=[];e.point1=we(n),Ct(e.point1,e.origin,r),Ct(e.point2,e.origin,a),t.updatePlane(r,a),t.modified()}},t.setPoint2=function(){var n=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=we(arguments.length<=0?void 0:arguments[0]):arguments.length===3&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!ma(n,e.point2)){var r=[],a=[];e.point2=we(n),Ct(e.point1,e.origin,r),Ct(e.point2,e.origin,a),t.updatePlane(r,a),t.modified()}},t.updatePlane=function(n,r){for(var a=0;a<3;a++)e.center[a]=e.origin[a]+.5*(n[a]+r[a]);return Lt(n,r,e.normal),lt(e.normal)!==0}}var XC={xResolution:10,yResolution:10,origin:[0,0,0],point1:[1,0,0],point2:[0,1,0],pointType:"Float64Array"};function qC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,XC,n),e.normal=[0,0,1],e.center=[0,0,0],I.obj(t,e),I.setGet(t,e,["xResolution","yResolution"]),I.setGetArray(t,e,["origin"],3),I.getArray(t,e,["point1","point2","normal","center"],3),I.algo(t,e,0,1),KC(t,e),t.setPoint1(e.point1),t.setPoint2(e.point2)}I.newInstance(qC,"vtkPlaneSource");function YC(t,e){e.classHierarchy.push("vtkPointSource"),t.requestData=function(n,r){if(!e.deleted){var a=r[0],i=a?a.getPoints().getDataType():e.pointType,s=nt.newInstance(),o=e.numberOfPoints,c=I.newTypedArray(i,o*3);s.getPoints().setData(c,3);var u=new Uint32Array(o+1);s.getVerts().setData(u,1);for(var l,f,h,p,d,y=0;y<o;y++)l=1-2*Ys(),f=Math.sqrt(1-l*l),h=e.radius*Math.pow(Ys(),.33333333),p=h*f,d=2*Math.PI*Ys(),c[y*3]=e.center[0]+p*Math.cos(d),c[y*3+1]=e.center[1]+p*Math.sin(d),c[y*3+2]=e.center[2]+h*l;u[0]=o;for(var m=0;m<o;m++)u[m+1]=m;r[0]=s}}}var ZC={numberOfPoints:10,center:[0,0,0],radius:.5,pointType:"Float64Array"};function JC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ZC,n),I.obj(t,e),I.setGet(t,e,["numberOfPoints","radius"]),I.setGetArray(t,e,["center"],3),I.algo(t,e,0,1),YC(t,e)}I.newInstance(JC,"vtkPointSource");function QC(t,e){e.classHierarchy.push("vtkSphereSource"),t.requestData=function(n,r){if(!e.deleted){var a=r[0],i=a?a.getPoints().getDataType():e.pointType;a=nt.newInstance();var s=0,o=e.thetaResolution,c=e.startTheta<e.endTheta?e.startTheta:e.endTheta;c*=Math.PI/180;var u=e.endTheta>e.startTheta?e.endTheta:e.startTheta;u*=Math.PI/180;var l=e.startPhi<e.endPhi?e.startPhi:e.endPhi;l*=Math.PI/180;var f=e.endPhi>e.startPhi?e.endPhi:e.startPhi;f*=Math.PI/180,Math.abs(c-u)<2*Math.PI&&++o;var h=(u-c)/e.thetaResolution,p=e.startPhi<=0?1:0,d=e.phiResolution+(e.endPhi>=180?-1:0),y=e.phiResolution*o+2,m=e.phiResolution*2*e.thetaResolution,_=0,v=I.newTypedArray(i,y*3),g=new Float32Array(y*3),x=0,w=new Uint32Array(m*5);e.startPhi<=0&&(v[_*3+0]=e.center[0],v[_*3+1]=e.center[1],v[_*3+2]=e.center[2]+e.radius,g[_*3+0]=0,g[_*3+1]=0,g[_*3+2]=1,_++,s++),e.endPhi>=180&&(v[_*3+0]=e.center[0],v[_*3+1]=e.center[1],v[_*3+2]=e.center[2]-e.radius,g[_*3+0]=0,g[_*3+1]=0,g[_*3+2]=-1,_++,s++);for(var C=e.phiResolution-s,S=(f-l)/(e.phiResolution-1),T=0;T<o;T++)for(var b=c+T*h,O=p;O<d;O++){var D=l+O*S,N=e.radius*Math.sin(D);g[_*3+0]=N*Math.cos(b),g[_*3+1]=N*Math.sin(b),g[_*3+2]=e.radius*Math.cos(D),v[_*3+0]=g[_*3+0]+e.center[0],v[_*3+1]=g[_*3+1]+e.center[1],v[_*3+2]=g[_*3+2]+e.center[2];var R=Math.sqrt(g[_*3+0]*g[_*3+0]+g[_*3+1]*g[_*3+1]+g[_*3+2]*g[_*3+2]);R=R===0?1:R,g[_*3+0]/=R,g[_*3+1]/=R,g[_*3+2]/=R,_++}var E=C*o;if(Math.abs(c-u)<2*Math.PI&&--o,e.startPhi<=0)for(var A=0;A<o;A++)w[x++]=3,w[x++]=C*A+s,w[x++]=C*(A+1)%E+s,w[x++]=0;if(e.endPhi>=180)for(var W=C-1+s,z=0;z<o;z++)w[x++]=3,w[x++]=C*z+W,w[x++]=s-1,w[x++]=C*(z+1)%E+W;for(var F=0;F<o;F++)for(var L=0;L<C-1;L++){var G=C*F+L+s,H=G+1,$=(C*(F+1)+L)%E+s+1;e.latLongTessellation?(w[x++]=4,w[x++]=G,w[x++]=H,w[x++]=$,w[x++]=$-1):(w[x++]=3,w[x++]=G,w[x++]=H,w[x++]=$,w[x++]=3,w[x++]=G,w[x++]=$,w[x++]=$-1)}v=v.subarray(0,_*3),a.getPoints().setData(v,3),g=g.subarray(0,_*3);var J=Ee.newInstance({name:"Normals",values:g,numberOfComponents:3});a.getPointData().setNormals(J),w=w.subarray(0,x),a.getPolys().setData(w,1),r[0]=a}}}var eS={radius:.5,latLongTessellation:!1,thetaResolution:8,startTheta:0,endTheta:360,phiResolution:8,startPhi:0,endPhi:180,center:[0,0,0],pointType:"Float64Array"};function tS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,eS,n),I.obj(t,e),I.setGet(t,e,["radius","latLongTessellation","thetaResolution","startTheta","endTheta","phiResolution","startPhi","endPhi"]),I.setGetArray(t,e,["center"],3),I.algo(t,e,0,1),QC(t,e)}I.newInstance(tS,"vtkSphereSource");function ih(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ih(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ih(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var oh=Le;function nS(t){var e=t.getPolys().getData(),n=t.getStrips().getData(),r={done:!1,polyIdx:0,stripIdx:0,remainingStripLength:0,next:function(){var i=null;if(r.polyIdx<e.length){var s=e[r.polyIdx],o=r.polyIdx+1,c=o+s;r.polyIdx=c,i=e.subarray(o,c)}else if(r.stripIdx<n.length){r.remainingStripLength===0&&(r.remainingStripLength=n[r.stripIdx]-2,r.stripIdx+=3);var u=r.stripIdx-2,l=r.stripIdx+1;r.stripIdx++,r.remainingStripLength--,i=n.subarray(u,l)}else if(r.done)throw new Error("Iterator is done");return r.done=r.polyIdx>=e.length&&r.stripIdx>=n.length,i}};return r}function aS(t,e){e.classHierarchy.push("vtkCutter");var n=rS({},t);t.getMTime=function(){var a=n.getMTime();return e.cutFunction&&(a=Math.max(a,e.cutFunction.getMTime())),a};function r(a,i){var s=a.getPoints(),o=s.getData(),c=s.getNumberOfPoints(),u=[],l=[],f=[];(!e.cutScalars||e.cutScalars.length<c)&&(e.cutScalars=new Float32Array(c));for(var h=0,p=0;h<o.length;)e.cutScalars[p++]=e.cutFunction.evaluateFunction(o[h++],o[h++],o[h++]);for(var d=[],y=new Array(3),m=new Array(3),_=nS(a);!_.done;){var v=_.next();if(!(v.length<=2)){for(var g=[],x=void 0,w=0;w<v.length;w++)x=v[w],g.push(e.cutScalars[x]);for(var C=g[0]>0,S=!0,T=1;T<g.length;T++){var b=g[T]>0;if(b!==C){S=!1;break}}if(!S){for(var O=[],D=0;D<v.length;D++){var N=D+1===v.length?0:D+1,R=g[D]>0,E=g[N]>0;if(E!==R){var A=D,W=N,z=g[W]-g[A];z<=0&&(A=N,W=D,z*=-1);var F=0;z!==0&&(F=(e.cutValue-g[A])/z);var L=v[A],G=v[W];y[0]=o[L*3],y[1]=o[L*3+1],y[2]=o[L*3+2],m[0]=o[G*3],m[1]=o[G*3+1],m[2]=o[G*3+2];var H=[y[0]+F*(m[0]-y[0]),y[1]+F*(m[1]-y[1]),y[2]+F*(m[2]-y[2])];O.push({pointEdge1:L,pointEdge2:G,intersectedPoint:H,newPointID:-1})}}for(var $=0;$<O.length;$++){for(var J=O[$],Q=!1,q=0;q<d.length;q++){var ne=d[q],te=J.pointEdge1===ne.pointEdge1&&J.pointEdge2===ne.pointEdge2,oe=J.intersectedPoint[0]===ne.intersectedPoint[0]&&J.intersectedPoint[1]===ne.intersectedPoint[1]&&J.intersectedPoint[2]===ne.intersectedPoint[2];if(te||oe){Q=!0,O[$].newPointID=d[q].newPointID;break}}Q||(u.push(J.intersectedPoint[0]),u.push(J.intersectedPoint[1]),u.push(J.intersectedPoint[2]),O[$].newPointID=u.length/3-1,d.push(O[$]))}var re=O.length;re===2?l.push(re,O[0].newPointID,O[1].newPointID):re>2&&(f.push(re),O.forEach(function(k){f.push(k.newPointID)}))}}}var B=i.getPoints();B.setData(qu(s.getDataType(),u),3),l.length!==0&&i.getLines().setData(Uint16Array.from(l)),f.length!==0&&i.getPolys().setData(Uint16Array.from(f))}t.requestData=function(a,i){var s=a[0];if(!s){oh("Invalid or missing input");return}if(!e.cutFunction){oh("Missing cut function");return}var o=nt.newInstance();r(s,o),i[0]=o}}var iS={cutFunction:null,cutScalars:null,cutValue:0};function oS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,iS,n),St(t,e),M1(t,e,1,1),Rt(t,e,["cutFunction","cutValue"]),aS(t,e)}ut(oS,"vtkCutter");var So=I.vtkDebugMacro,sS=I.vtkErrorMacro;function uS(t,e){e.classHierarchy.push("vtkWarpScalar"),t.requestData=function(n,r){var a=n[0];if(!a)return sS("Invalid or missing input"),1;var i=a.getPoints(),s=a.getPointData(),o=s.getNormals(),c=t.getInputArrayToProcess(0);if(!i||!c)return So("No data to warp",!!i,!!c),r[0]=n[0],1;var u=i.getNumberOfPoints(),l=null,f=[0,0,1];o&&!e.useNormal?(l=function(S,T){return[T.getData()[S*3],T.getData()[S*3+1],T.getData()[S*3+2]]},So("Using data normals")):t.getXyPlane()?(l=function(S,T){return f},So("Using x-y plane normal")):(l=function(S,T){return e.normal},So("Using Normal instance variable"));for(var h=new Float32Array(u*3),p=i.getData(),d=0,y=[0,0,1],m=1,_=c.getData(),v=c.getNumberOfComponents(),g=0;g<u;++g)d=g*3,y=l(g,o),e.xyPlane?m=p[d+2]:m=_[g*v],h[d]=p[d]+e.scaleFactor*m*y[0],h[d+1]=p[d+1]+e.scaleFactor*m*y[1],h[d+2]=p[d+2]+e.scaleFactor*m*y[2];var x=Ot({vtkClass:a.getClassName()});x.shallowCopy(a);var w=pn.newInstance();return w.setData(h,3),x.setPoints(w),r[0]=x,1}}var cS={scaleFactor:1,useNormal:!1,normal:[0,0,1],xyPlane:!1};function fS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,cS,n),I.obj(t,e),I.algo(t,e,1,1),I.setGet(t,e,["scaleFactor","useNormal","xyPlane"]),I.setGetArray(t,e,["normal"],3),uS(t,e)}I.newInstance(fS,"vtkWarpScalar");var lS={VARY_RADIUS_OFF:0,VARY_RADIUS_BY_SCALAR:1,VARY_RADIUS_BY_VECTOR:2,VARY_RADIUS_BY_ABSOLUTE_SCALAR:3},hS={TCOORDS_OFF:0,TCOORDS_FROM_NORMALIZED_LENGTH:1,TCOORDS_FROM_LENGTH:2,TCOORDS_FROM_SCALARS:3},Vd={VaryRadius:lS,GenerateTCoords:hS},oi=Vd.VaryRadius,Sn=Vd.GenerateTCoords,pS=I.vtkDebugMacro,vS=I.vtkErrorMacro,Ka=I.vtkWarningMacro;function dS(t,e){e.classHierarchy.push("vtkTubeFilter");function n(c,u){var l=c;return e.sidesShareVertices?l+=e.numberOfSides*u:l+=2*e.numberOfSides*u,e.capping&&(l+=2*e.numberOfSides),l}function r(c,u,l){for(var f=u[l],h=c.slice(3*f,3*(f+1)),p=l+1;p<u.length;){var d=u[p],y=c.slice(3*d,3*(d+1));if(h!==y)return p-1;++p}return u.length}function a(c,u,l){for(var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,h=[0,0,1],p=u,d=p[0],y=0;y<p.length;y+=d+1)if(d=p[y],d===1)l.setTuple(p[y+1],h);else if(d>1){var m=0,_=[0,0,0],v=[0,0,0],g=p.slice(y+1,y+1+d);if(m=r(c,g,0),m!==d)(function(){var w=g[m],C=c.slice(3*w,3*(w+1)),S=g[m+1],T=c.slice(3*S,3*(S+1));if(_=T.map(function($,J){return $-C[J]}),lt(_),f)h=f;else{for(;++m<d;)if(m=r(c,g,m),m!==d){w=g[m],C=c.slice(3*w,3*(w+1)),S=g[m+1],T=c.slice(3*S,3*(S+1));for(var b=0;b<3;++b)v[b]=T[b]-C[b];lt(v);var O=[0,0,0];if(Lt(_,v,O),jn(O)>.001){h=O,_=v;break}}if(m>=d){for(var D=0;D<3;++D)if(_[D]!==0){h[(D+2)%3]=0,h[(D+1)%3]=1,h[D]=-_[(D+1)%3]/_[D];break}}}lt(h);for(var N=0;++m<d&&(m=r(c,g,m),m!==d);){w=g[m],C=c.slice(3*w,3*(w+1)),S=g[m+1],T=c.slice(3*S,3*(S+1));for(var R=0;R<3;++R)v[R]=T[R]-C[R];lt(v);var E=[0,0,0];if(Lt(_,h,E),lt(E)!==0){var A=[0,0,0];if(Lt(v,_,A),lt(A)!==0){var W=Be(A,h),z=1-W*W;z>0?z=Math.sqrt(z):z=0;for(var F=[0,0,0],L=0;L<3;++L)F[L]=v[L]+_[L];lt(F),Lt(F,A,E),Lt(_,A,F),Be(h,F)*Be(E,F)<0&&(z*=-1);for(var G=N;G<m;++G)l.setTuple(g[G],h);N=m,_=v,h=W*A+z*E}}}for(var H=N;H<d;++H)l.setTuple(g[H],h)})();else for(var x=0;x<d;++x)l.setTuple(g[x],h)}return 1}function i(c,u,l,f,h,p,d,y,m,_,v,g,x,w){for(var C=[0,0,0],S=[0,0,0],T=[0,0,0],b=[0,0,0],O=[0,0,0],D=[0,0,0],N=[0,0,0],R=[0,0,0],E=[0,0,0],A=[0,0,0],W=[0,0,0],z=1,F=c,L=0;L<u;++L){if(L===0){O=f.slice(3*l[0],3*(l[0]+1)),D=f.slice(3*l[1],3*(l[1]+1));for(var G=0;G<3;++G)C[G]=D[G]-O[G],S[G]=C[G],T[G]=-S[G];lt(T)}else if(L===u-1){for(var H=0;H<3;++H)S[H]=C[H],O[H]=D[H],b[H]=C[H];lt(b)}else{for(var $=0;$<3;++$)O[$]=D[$];D=f.slice(3*l[L+1],3*(l[L+1]+1));for(var J=0;J<3;++J)S[J]=C[J],C[J]=D[J]-O[J]}if(lt(C)===0)return Ka("Coincident points!"),0;for(var Q=0;Q<3;++Q)N[Q]=(S[Q]+C[Q])/2;if(R=x.slice(3*l[L],3*(l[L]+1)),lt(N)===0&&(Lt(S,R,N),lt(N)===0&&pS("Using alternate bevel vector")),Lt(N,R,E),lt(E)===0){var q="Bad normal: s = ";return q+="".concat(N[0],",  ").concat(N[1],", ").concat(N[2]),q+=" n = ".concat(R[0],",  ").concat(R[1],", ").concat(R[2]),Ka(q),0}if(Lt(E,N,A),lt(A),m&&e.varyRadius===oi.VARY_RADIUS_BY_SCALAR)z=1+(e.radiusFactor-1)*(m.getComponent(l[L],0)-_[0])/(_[1]-_[0]);else if(v&&e.varyRadius===oi.VARY_RADIUS_BY_VECTOR)z=Math.sqrt(g/jn(v.getTuple(l[L]))),z>e.radiusFactor&&(z=e.radiusFactor);else if(m&&e.varyRadius===oi.VARY_RADIUS_BY_ABSOLUTE_SCALAR&&(z=m.getComponent(l[L],0),z<0))return Ka("Scalar value less than zero, skipping line"),0;if(e.sidesShareVertices)for(var ne=0;ne<e.numberOfSides;++ne){for(var te=0;te<3;++te)W[te]=E[te]*Math.cos(ne*w)+A[te]*Math.sin(ne*w),N[te]=O[te]+e.radius*z*W[te],h[3*F+te]=N[te],y[3*F+te]=W[te];d.passData(p,l[L],F),F++}else for(var oe=[0,0,0],re=[0,0,0],B=0;B<e.numberOfSides;++B){for(var k=0;k<3;++k)W[k]=E[k]*Math.cos(B*w)+A[k]*Math.sin(B*w),oe[k]=E[k]*Math.cos((B-.5)*w)+A[k]*Math.sin((B-.5)*w),re[k]=E[k]*Math.cos((B+.5)*w)+A[k]*Math.sin((B+.5)*w),N[k]=O[k]+e.radius*z*W[k],h[3*F+k]=N[k],y[3*F+k]=oe[k],h[3*(F+1)+k]=N[k],y[3*(F+1)+k]=re[k];d.passData(p,l[L],F+1),F+=2}}if(e.capping){var j=e.numberOfSides,V=1;e.sidesShareVertices||(j=2*e.numberOfSides,V=2);for(var M=0;M<j;M+=V){N=h.slice(3*(c+M),3*(c+M+1));for(var P=0;P<3;++P)h[3*F+P]=N[P],y[3*F+P]=T[P];d.passData(p,l[0],F),F++}var U=c+(u-1)*e.numberOfSides;e.sidesShareVertices||(U=c+2*(u-1)*e.numberOfSides);for(var K=0;K<j;K+=V){N=h.slice(3*(U+K),3*(U+K+1));for(var X=0;X<3;++X)h[3*F+X]=N[X],y[3*F+X]=b[X];d.passData(p,l[u-1],F),F++}}return 1}function s(c,u,l,f,h,p,d){for(var y=0,m=0,_=0,v=f,g=0,x=d.getData(),w=0;g<x.length&&w!==f;)g+=x[g]+1,w++;if(e.sidesShareVertices)for(var C=c;C<e.numberOfSides+c;C+=e.onRatio){y=C%e.numberOfSides,m=(C+1)%e.numberOfSides,x[g++]=u*2;for(var S=0;S<u;++S)_=S*e.numberOfSides,x[g++]=c+m+_,x[g++]=c+y+_;p.passData(h,l,v++)}else for(var T=c;T<e.numberOfSides+c;T+=e.onRatio){y=2*(T%e.numberOfSides)+1,m=2*((T+1)%e.numberOfSides),x[g]=u*2,g++;for(var b=0;b<u;++b)_=b*2*e.numberOfSides,x[g++]=c+m+_,x[g++]=c+y+_;p.passData(h,l,v++)}if(e.capping){var O=c+u*e.numberOfSides,D=0;e.sidesShareVertices||(O=c+2*u*e.numberOfSides),x[g++]=e.numberOfSides,x[g++]=O,x[g++]=O+1;var N=0;for(y=e.numberOfSides-1,m=2,N=0;N<e.numberOfSides-2;++N)N%2?(D=O+m,x[g++]=D,m++):(D=O+y,x[g++]=D,y--);for(p.passData(h,l,v++),O+=e.numberOfSides,x[g++]=e.numberOfSides,x[g++]=O,x[g++]=O+e.numberOfSides-1,y=e.numberOfSides-2,m=1,N=0;N<e.numberOfSides-2;++N)N%2?(D=O+y,x[g++]=D,y--):(D=O+m,x[g++]=D,m++);p.passData(h,l,v++)}return v}function o(c,u,l,f,h,p){var d=e.numberOfSides;e.sidesShareVertices||(d=2*e.numberOfSides);var y=0,m=0,_=0,v=h.getData();if(e.generateTCoords===Sn.TCOORDS_FROM_SCALARS){m=v[l[0]];for(var g=0;g<u;++g){_=v[l[g]],y=(_-m)/e.textureLength;for(var x=0;x<d;++x){var w=x/(d-1),C=2*(c+g*d+x);p[C]=y,p[C+1]=w}}}else if(e.generateTCoords===Sn.TCOORDS_FROM_LENGTH)for(var S=0,T=f.slice(3*l[0],3*(l[0]+1)),b=0;b<u;++b){var O=f.slice(3*l[b],3*(l[b]+1));S+=Math.sqrt(nr(O,T)),y=S/e.textureLength;for(var D=0;D<d;++D){var N=D/(d-1),R=2*(c+b*d+D);p[R]=y,p[R+1]=N}for(var E=0;E<3;++E)T[E]=O[E]}else if(e.generateTCoords===Sn.TCOORDS_FROM_NORMALIZED_LENGTH){for(var A=0,W=0,z=f.slice(3*l[0],3*(l[0]+1)),F=0;F<u;++F){var L=f.slice(3*l[F],3*(l[F]+1));W+=Math.sqrt(nr(L,z));for(var G=0;G<3;++G)z[G]=L[G]}z=f.slice(3*l[0],3*(l[0]+1));for(var H=0;H<u;++H){var $=f.slice(3*l[H],3*(l[H]+1));A+=Math.sqrt(nr($,z)),y=A/W;for(var J=0;J<d;++J){var Q=J/(d-1),q=2*(c+H*d+J);p[q]=y,p[q+1]=Q}for(var ne=0;ne<3;++ne)z[ne]=$[ne]}}if(e.capping){for(var te=c+u*d,oe=0;oe<e.numberOfSides;++oe){var re=2*(te+oe);p[re]=0,p[re+1]=0}for(var B=0;B<e.numberOfSides;++B){var k=2*(te+e.numberOfSides+B);p[k]=0,p[k+1]=0}}}t.requestData=function(c,u){var l=nt.newInstance();u[0]=l;var f=c[0];if(!f){vS("Invalid or missing input");return}var h=f.getPoints();if(!!h){var p=h.getNumberOfPoints();if(!(p<1)){var d=f.getLines();if(!!d){var y=d.getNumberOfCells();if(!(y<1)){for(var m=0,_=0,v=d.getData(),g=v[0],x=e.sidesShareVertices?1:2,w=0;w<v.length;w+=g+1)m+=x*g*e.numberOfSides,e.capping&&(m+=2*e.numberOfSides),g=v[w],_+=(2*g+1)*Math.ceil(e.numberOfSides/e.onRatio),e.capping&&(_+=2*(e.numberOfSides+1));var C=h.getDataType();e.outputPointsPrecision===In.SINGLE?C=pt.FLOAT:e.outputPointsPrecision===In.DOUBLE&&(C=pt.DOUBLE);var S=pn.newInstance({dataType:C,size:m*3,numberOfComponents:3}),T=3*m,b=new Float32Array(T),O=Ee.newInstance({numberOfComponents:3,values:b,name:"TubeNormals"}),D=new Uint32Array(_),N=cs.newInstance({values:D}),R=0,E=f.getPointData().getNormals(),A=null,W=!1;(!E||e.useDefaultNormal)&&(A=new Float32Array(3*p),E=Ee.newInstance({numberOfComponents:3,values:A,name:"Normals"}),e.useDefaultNormal?A=A.map(function(Z,ae){var ce=ae%3;return e.defaultNormal[ce]}):W=!0);for(var z=f.getPointData().getNumberOfArrays(),F=null,L=null,G=0;G<z;G++)F=f.getPointData().getArrayByIndex(G),L=Ee.newInstance({name:F.getName(),dataType:F.getDataType(),numberOfComponents:F.getNumberOfComponents(),size:m*F.getNumberOfComponents()}),l.getPointData().removeArrayByIndex(0),l.getPointData().addArray(L);var H=d.getNumberOfCells()*e.numberOfSides;e.capping&&(H+=2);for(var $=f.getCellData().getNumberOfArrays(),J=0;J<$;J++)F=f.getCellData().getArrayByIndex(J),L=Ee.newInstance({name:F.getName(),dataType:F.getDataType(),numberOfComponents:F.getNumberOfComponents(),size:H*F.getNumberOfComponents()}),l.getCellData().removeArrayByIndex(0),l.getCellData().addArray(L);var Q=t.getInputArrayToProcess(0),q=null,ne=[];Q&&(q=Ee.newInstance({name:Q.getName(),dataType:Q.getDataType(),numberOfComponents:Q.getNumberOfComponents(),size:m*Q.getNumberOfComponents()}),ne=Q.getRange(),ne[1]-ne[0]===0&&(e.varyRadius===oi.VARY_RADIUS_BY_SCALAR&&Ka("Scalar range is zero!"),ne[1]=ne[0]+1));var te=t.getInputArrayToProcess(1),oe=0;te&&(oe=te.getMaxNorm());var re=l.getCellData();re.copyNormalsOff(),re.passData(f.getCellData());var B=l.getPointData();B.getNormals()!==null&&B.copyNormalsOff(),Q&&q&&B.setScalars(q);var k=null;if(e.generateTCoords===Sn.TCOORDS_FROM_SCALARS&&Q||e.generateTCoords===Sn.TCOORDS_FROM_LENGTH||e.generateTCoords===Sn.TCOORDS_FROM_NORMALIZED_LENGTH){var j=new Float32Array(2*m);k=Ee.newInstance({numberOfComponents:2,values:j,name:"TCoords"}),B.copyTCoordsOff()}B.passData(f.getPointData());var V=2*Math.PI/e.numberOfSides;g=v[0];for(var M=0,P=f.getVerts().getNumberOfCells(),U=0;U<v.length;U+=g+1){g=v[U];var K=v.slice(U+1,U+1+g);if(g>1&&W){var X=v.slice(U,U+g+1);a(h.getData(),X,E)}i(M,g,K,h.getData(),S.getData(),f.getPointData(),B,b,Q,ne,te,oe,A,V)?(R=s(M,g,P,R,f.getCellData(),re,N),k&&o(M,g,K,h.getData(),Q,k.getData())):Ka("Could not generate points"),M=n(M,g),P++}l.setPoints(S),l.setStrips(N),l.setPointData(B),B.setNormals(O),u[0]=l}}}}}}var gS={outputPointsPrecision:In.DEFAULT,radius:.5,varyRadius:oi.VARY_RADIUS_OFF,numberOfSides:3,radiusFactor:10,defaultNormal:[0,0,1],useDefaultNormal:!1,sidesShareVertices:!0,capping:!1,onRatio:1,offset:0,generateTCoords:Sn.TCOORDS_OFF,textureLength:1};function yS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,gS,n),I.setGet(t,e,["outputPointsPrecision","radius","varyRadius","numberOfSides","radiusFactor","defaultNormal","useDefaultNormal","sidesShareVertices","capping","onRatio","offset","generateTCoords","textureLength"]),I.obj(t,e),I.algo(t,e,1,1),dS(t,e)}I.newInstance(yS,"vtkTubeFilter");function Ud(t){var e=new TextDecoder("latin1");return e.decode(t)}function mS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=Ud(t),a=e.exec(r);if(!a)return{text:r};var i=a.index+a[0].length,s=r.substring(0,i),o=null,c=n?n.exec(r):null;if(c){var u=r.substr(c.index);o={text:s+u,binaryBuffer:t.slice(i,c.index)}}else o={text:s,binaryBuffer:t.slice(i)};return o}var Fi={arrayBufferToString:Ud,extractBinary:mS},Gd=I.vtkErrorMacro,_S=I.vtkDebugMacro,kc=function(){return Gd("LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead."),Promise.reject(new Error("LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead."))},Da=0;function Is(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=new XMLHttpRequest;return r.open(t,e,!0),n.headers&&Object.entries(n.headers).forEach(function(a){var i=We(a,2),s=i[0],o=i[1];return r.setRequestHeader(s,o)}),n.progressCallback&&r.addEventListener("progress",n.progressCallback),r}function xS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(n,r){var a=Is("GET",t,e);a.onreadystatechange=function(i){a.readyState===4&&(a.status===200||a.status===0?n(a.response):r({xhr:a,e:i}))},a.responseType="arraybuffer",a.send()})}function wS(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return r&&r.compression?kc():n.ref&&!n.ref.pending?new Promise(function(a,i){var s=[e,n.ref.basepath,n.ref.id].join("/"),o=Is("GET",s,r);o.onreadystatechange=function(c){o.readyState===1&&(n.ref.pending=!0,++Da===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0)),o.readyState===4&&(n.ref.pending=!1,o.status===200||o.status===0?(n.buffer=o.response,n.ref.encode==="JSON"?n.values=JSON.parse(n.buffer):(Hr.ENDIANNESS!==n.ref.encode&&Hr.ENDIANNESS&&(_S("Swap bytes of ".concat(n.name)),Hr.swapBytes(n.buffer,Ns[n.dataType])),n.values=I.newTypedArray(n.dataType,n.buffer)),n.values.length!==n.size&&Gd("Error in FetchArray: ".concat(n.name,", does not have the proper array size. Got ").concat(n.values.length,", instead of ").concat(n.size)),delete n.ref,--Da===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),t!=null&&t.modified&&t.modified(),a(n)):i({xhr:o,e:c}))},o.responseType=n.dataType!=="string"?"arraybuffer":"text",o.send()}):Promise.resolve(n)}function CS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n&&n.compression?kc():new Promise(function(r,a){var i=Is("GET",e,n);i.onreadystatechange=function(s){i.readyState===1&&++Da===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--Da===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?r(JSON.parse(i.responseText)):a({xhr:i,e:s}))},i.responseType="text",i.send()})}function SS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n&&n.compression?kc():new Promise(function(r,a){var i=Is("GET",e,n);i.onreadystatechange=function(s){i.readyState===1&&++Da===1&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--Da===0&&t!==null&&t!==void 0&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?r(i.responseText):a({xhr:i,e:s}))},i.responseType="text",i.send()})}function TS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise(function(r,a){var i=new Image;n.crossOrigin&&(i.crossOrigin=n.crossOrigin),i.onload=function(){return r(i)},i.onerror=a,i.src=e})}var bS={fetchArray:wS,fetchJSON:CS,fetchText:SS,fetchBinary:xS,fetchImage:TS};Rd("http")||js("http",function(t){return bS});var O0={ASCII:"ascii",BINARY_BIG_ENDIAN:"binary_big_endian",BINARY_LITTLE_ENDIAN:"binary_little_endian"},sh={diffuse_red:"red",diffuse_green:"green",diffuse_blue:"blue"},Pd={patternHeader:/ply([\s\S]*)end_header\r?\n/,patternBody:/end_header\s([\s\S]*)$/};function uh(t){var e="",n=0,r=Pd.patternHeader.exec(t);r!==null&&(e=r[1],n=r[0].length);for(var a={comments:[],elements:[],headerLength:n},i=e.split(`
`),s,o,c,u=0;u<i.length;u++){var l=i[u];if(l=l.trim(),l!==""){var f=void 0;switch(c=l.split(/\s+/),o=c.shift(),l=c.join(" "),o){case"format":a.format=c[0],a.version=c[1];break;case"comment":a.comments.push(l);break;case"element":s!==void 0&&a.elements.push(s),s={},s.name=c[0],s.count=parseInt(c[1],10),s.properties=[];break;case"property":f={type:c[0]},f.type==="list"?(f.name=c[3],f.countType=c[1],f.itemType=c[2]):f.name=c[1],f.name in sh&&(f.name=sh[f.name]),s.properties.push(f);break;case"obj_info":a.objInfo=l;break;default:console.warn("unhandled",o,c);break}}}return s!==void 0&&a.elements.push(s),a}function ch(t,e){var n=e.find(function(N){return N.name==="vertex"}),r=e.find(function(N){return N.name==="face"}),a=0,i=0;n&&(a=n.count),r&&(i=r.count);for(var s=new Float32Array(a*3),o=new Uint8Array(a*3),c=new Float32Array(a*2),u=new Float32Array(a*3),l=t.colors.length>0,f=t.uvs.length>0,h=t.normals.length>0,p=t.faceVertexUvs.length>0,d=0;d<a;d++){var y=d*3+0,m=d*3+1,_=d*3+2;s[y]=t.vertices[y],s[m]=t.vertices[m],s[_]=t.vertices[_],l&&(o[y]=t.colors[y],o[m]=t.colors[m],o[_]=t.colors[_]),f&&(y=d*2+0,m=d*2+1,c[y]=t.uvs[y],c[m]=t.uvs[m]),h&&(u[y]=t.normals[y],u[m]=t.normals[m],u[_]=t.normals[_])}if(!f&&p)for(var v=0,g=0,x=0;x<i;++x){var w=t.indices[v++],C=t.faceVertexUvs[g++];if(C&&w*2===C.length)for(var S=0;S<w;++S){var T=t.indices[v++];c[T*2+0]=C[S*2+0],c[T*2+1]=C[S*2+1]}else v+=w}var b=nt.newInstance();if(b.getPoints().setData(s,3),l&&b.getPointData().setScalars(Ee.newInstance({numberOfComponents:3,values:o,name:"Scalars"})),f||p){var O=Ee.newInstance({numberOfComponents:2,values:c,name:"TextureCoordinates"}),D=b.getPointData();D.addArray(O),D.setActiveTCoords(O.getName())}return h&&b.getPointData().setNormals(Ee.newInstance({numberOfComponents:3,name:"Normals",values:u})),b.getPolys().setData(Uint32Array.from(t.indices)),b}function N0(t,e){var n;switch(e){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":n=parseInt(t,10);break;case"float":case"double":case"float32":case"float64":n=parseFloat(t);break;default:console.log("Unsupported type");break}return n}function ES(t,e){for(var n=e.split(/\s+/),r={},a=0;a<t.length;a++)if(t[a].type==="list"){for(var i=[],s=N0(n.shift(),t[a].countType),o=0;o<s;o++)i.push(N0(n.shift(),t[a].itemType));r[t[a].name]=i}else r[t[a].name]=N0(n.shift(),t[a].type);return r}function fh(t,e,n){if(e==="vertex")t.vertices.push(n.x,n.y,n.z),"nx"in n&&"ny"in n&&"nz"in n&&t.normals.push(n.nx,n.ny,n.nz),"s"in n&&"t"in n?t.uvs.push(n.s,n.t):"u"in n&&"v"in n?t.uvs.push(n.u,n.v):"texture_u"in n&&"texture_v"in n&&t.uvs.push(n.texture_u,n.texture_v),"red"in n&&"green"in n&&"blue"in n&&t.colors.push(n.red,n.green,n.blue);else if(e==="face"){var r=n.vertex_indices||n.vertex_index,a=n.texcoord;r&&r.length>0&&(t.indices.push(r.length),r.forEach(function(i,s){t.indices.push(i)})),t.faceVertexUvs.push(a)}}function k0(t,e,n,r){var a;switch(n){case"int8":case"char":a=[t.getInt8(e),1];break;case"uint8":case"uchar":a=[t.getUint8(e),1];break;case"int16":case"short":a=[t.getInt16(e,r),2];break;case"uint16":case"ushort":a=[t.getUint16(e,r),2];break;case"int32":case"int":a=[t.getInt32(e,r),4];break;case"uint32":case"uint":a=[t.getUint32(e,r),4];break;case"float32":case"float":a=[t.getFloat32(e,r),4];break;case"float64":case"double":a=[t.getFloat64(e,r),8];break;default:console.log("Unsupported type");break}return a}function DS(t,e,n,r){for(var a={},i,s=0,o=0;o<n.length;o++)if(n[o].type==="list"){var c=[];i=k0(t,e+s,n[o].countType,r);var u=i[0];s+=i[1];for(var l=0;l<u;l++)i=k0(t,e+s,n[o].itemType,r),c.push(i[0]),s+=i[1];a[n[o].name]=c}else i=k0(t,e+s,n[o].type,r),a[n[o].name]=i[0],s+=i[1];return[a,s]}function OS(t,e){e.classHierarchy.push("vtkPLYReader"),e.dataAccessHelper||(e.dataAccessHelper=Ua.get("http"));function n(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.compression,s=e.progressCallback;return a.binary?e.dataAccessHelper.fetchBinary(r,{compression:i,progressCallback:s}):e.dataAccessHelper.fetchText(t,r,{compression:i,progressCallback:s})}t.setUrl=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{binary:!0};e.url=r;var i=r.split("/");return i.pop(),e.baseURL=i.join("/"),e.compression=a.compression,t.loadData({progressCallback:a.progressCallback,binary:!!a.binary})},t.loadData=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=n(e.url,r);return a.then(t.parse),a},t.parse=function(r){typeof r=="string"?t.parseAsText(r):t.parseAsArrayBuffer(r)},t.parseAsArrayBuffer=function(r){if(!!r){if(r!==e.parseData)t.modified();else return;var a=Fi.arrayBufferToString(r),i=uh(a),s=i.format!==O0.ASCII;if(!s){t.parseAsText(r);return}e.parseData=r;for(var o={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},c=i.format===O0.BINARY_LITTLE_ENDIAN,u=r instanceof ArrayBuffer?r:r.buffer,l=new DataView(u,i.headerLength),f,h=0,p=0;p<i.elements.length;p++)for(var d=0;d<i.elements[p].count;d++){f=DS(l,h,i.elements[p].properties,c),h+=f[1];var y=f[0];fh(o,i.elements[p].name,y)}var m=ch(o,i.elements);e.output[0]=m}},t.parseAsText=function(r){if(!!r){if(r!==e.parseData)t.modified();else return;e.parseData=r;var a=Fi.arrayBufferToString(r),i=uh(a),s=i.format!==O0.ASCII;if(s){t.parseAsArrayBuffer(r);return}var o={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},c=Pd.patternBody.exec(a),u="";c!==null&&(u=c[1]);for(var l=u.split(`
`),f=0,h=0,p=0;p<l.length;p++){var d=l[p];if(d=d.trim(),d!==""){h>=i.elements[f].count&&(f++,h=0);var y=ES(i.elements[f].properties,d);fh(o,i.elements[f].name,y),h++}}var m=ch(o,i.elements);e.output[0]=m}},t.requestData=function(r,a){t.parse(e.parseData)}}var NS={};function kS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,NS,n),I.obj(t,e),I.get(t,e,["url","baseURL"]),I.setGet(t,e,["dataAccessHelper"]),I.algo(t,e,0,1),OS(t,e),e.compression||(e.compression=null),e.progressCallback||(e.progressCallback=null)}I.newInstance(kS,"vtkPLYReader");var M0=I.vtkErrorMacro;function MS(t){for(var e=t.split(" "),n=e.filter(function(o){return o.indexOf("=")>-1}),r={},a=0;a<n.length;++a){var i=n[a],s=i.split("=");s.length===2&&(r[s[0]]=s[1])}return r}function lh(t,e){for(var n=0;n<t.length;n++)e.push(t[n])}function RS(t,e,n,r,a){var i=t[e];if(i===void 0)return-1;if(i.indexOf("endfacet")!==-1||i.indexOf("facet")===-1)return e+1;var s=0,o=2,c=n.length/3,u=i.split(/[ \t]+/).filter(function(p){return p}).slice(-3).map(Number);for(lh(u,a);t[e+o].indexOf("vertex")!==-1;){var l=t[e+o],f=l.split(/[ \t]+/).filter(function(p){return p}).slice(-3).map(Number);lh(f,n),s++,o++}r.push(s);for(var h=0;h<s;h++)r.push(c+h);for(;t[e+o]&&t[e+o].indexOf("endfacet")!==-1;)o++;return e+o+2}function LS(t,e){e.classHierarchy.push("vtkSTLReader"),e.dataAccessHelper||(e.dataAccessHelper=Ua.get("http"));function n(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.compression!==void 0?a.compression:e.compression,s=a.progressCallback!==void 0?a.progressCallback:e.progressCallback;return a.binary?e.dataAccessHelper.fetchBinary(r,{compression:i,progressCallback:s}):e.dataAccessHelper.fetchText(t,r,{compression:i,progressCallback:s})}t.setUrl=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{binary:!0};e.url=r;var i=r.split("/");return i.pop(),e.baseURL=i.join("/"),t.loadData(a)},t.loadData=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=n(e.url,r);return a.then(t.parse),a},t.parse=function(r){typeof r=="string"?t.parseAsText(r):t.parseAsArrayBuffer(r)},t.parseAsArrayBuffer=function(r){if(!!r){if(r!==e.parseData)t.modified();else return;e.parseData=r;var a=!1,i=new DataView(r,0,80+4),s=i.getUint32(80,!0);if(a=84+s*50===r.byteLength,!a){t.parseAsText(Fi.arrayBufferToString(r));return}for(var o=r.slice(0,80),c=Fi.arrayBufferToString(o),u=MS(c),l=new DataView(r,84),f=(r.byteLength-84)/50,h=new Float32Array(f*9),p=new Float32Array(f*3),d=new Uint32Array(f*4),y=new Uint16Array(f),m=0,_=0;_<f;_++){var v=_*50;p[_*3+0]=l.getFloat32(v+0,!0),p[_*3+1]=l.getFloat32(v+4,!0),p[_*3+2]=l.getFloat32(v+8,!0),h[_*9+0]=l.getFloat32(v+12,!0),h[_*9+1]=l.getFloat32(v+16,!0),h[_*9+2]=l.getFloat32(v+20,!0),h[_*9+3]=l.getFloat32(v+24,!0),h[_*9+4]=l.getFloat32(v+28,!0),h[_*9+5]=l.getFloat32(v+32,!0),h[_*9+6]=l.getFloat32(v+36,!0),h[_*9+7]=l.getFloat32(v+40,!0),h[_*9+8]=l.getFloat32(v+44,!0),d[m++]=3,d[m++]=_*3+0,d[m++]=_*3+1,d[m++]=_*3+2,y[_]=l.getUint16(v+48,!0)}var g="SPACE";if(g in u&&u[g]!=="LPS"){var x=u[g],w=new Float32Array(16);switch(w[15]=1,x[0]){case"L":w[0]=1;break;case"R":w[0]=-1;break;default:M0("Can not convert STL file from ".concat(x," to LPS space: ")+"permutations not supported. Use itk.js STL reader instead.");return}switch(x[1]){case"P":w[5]=1;break;case"A":w[5]=-1;break;default:M0("Can not convert STL file from ".concat(x," to LPS space: ")+"permutations not supported. Use itk.js STL reader instead.");return}switch(x[2]){case"S":w[10]=1;break;case"I":w[10]=-1;break;default:M0("Can not convert STL file from ".concat(x," to LPS space: ")+"permutations not supported. Use itk.js STL reader instead.");return}Ht.buildFromDegree().setMatrix(w).apply(h).apply(p)}var C=nt.newInstance();C.getPoints().setData(h,3),C.getPolys().setData(d),C.getCellData().setScalars(Ee.newInstance({name:"Attribute",values:y})),C.getCellData().setNormals(Ee.newInstance({name:"Normals",values:p,numberOfComponents:3})),e.output[0]=C}},t.parseAsText=function(r){if(!!r){if(r!==e.parseData)t.modified();else return;e.parseData=r;for(var a=r.split(`
`),i=1,s=[],o=[],c=[];i!==-1;)i=RS(a,i,s,o,c);var u=nt.newInstance();u.getPoints().setData(Float32Array.from(s),3),u.getPolys().setData(Uint32Array.from(o)),u.getCellData().setNormals(Ee.newInstance({name:"Normals",values:Float32Array.from(c),numberOfComponents:3})),e.output[0]=u}},t.requestData=function(r,a){t.parse(e.parseData)}}var FS={};function AS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,FS,n),I.obj(t,e),I.get(t,e,["url","baseURL"]),I.setGet(t,e,["dataAccessHelper"]),I.algo(t,e,0,1),LS(t,e),e.compression||(e.compression=null),e.progressCallback||(e.progressCallback=null)}I.newInstance(AS,"vtkSTLReader");function BS(t,e){e.classHierarchy.push("vtkElevationReader"),e.dataAccessHelper||(e.dataAccessHelper=Ua.get("http"));function n(r,a){return e.dataAccessHelper.fetchText(t,r,a)}t.setUrl=function(r,a){return e.url=r,t.loadData(a)},t.loadData=function(r){return n(e.url,r).then(function(a){return t.parseAsText(a),!0})},t.parseAsText=function(r){e.csv=r,e.elevation=[];var a=e.csv.split(`
`);a.forEach(function(i,s){e.elevation.push(i.split(",").map(function(o){return Number(o)}))}),t.modified()},t.requestData=function(r,a){var i=nt.newInstance();if(i.getPoints().setData(new Float32Array(0,0,0,1,1,1),3),e.elevation){var s=e.elevation.length,o=e.elevation[0].length,c=i.getPoints();c.setNumberOfPoints(o*s,3);var u=c.getData(),l=cs.newInstance({size:5*(o-1)*(s-1)});i.setPolys(l);var f=l.getData(),h=0,p=new Float32Array(o*s*2),d=Ee.newInstance({numberOfComponents:2,values:p,name:"TextureCoordinates"});i.getPointData().setTCoords(d);for(var y=0;y<s;y++)for(var m=0;m<o;m++){var _=y*o+m,v=3*_;u[v+0]=e.origin[0]+m*e.xSpacing*e.xDirection,u[v+1]=e.origin[1]+y*e.ySpacing*e.yDirection,u[v+2]=e.origin[2]+e.elevation[y][m]*e.zScaling,p[_*2]=m/(o-1),p[_*2+1]=1-y/(s-1),m>0&&y>0&&(f[h++]=4,f[h++]=_,f[h++]=_-1,f[h++]=_-1-o,f[h++]=_-o)}}e.output[0]=i},t.isBusy=function(){return!!e.requestCount}}var VS={origin:[0,0,0],xSpacing:1,ySpacing:1,zScaling:1,xDirection:1,yDirection:-1,requestCount:0};function US(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,VS,n),I.obj(t,e),I.get(t,e,["url"]),I.setGet(t,e,["dataAccessHelper","xSpacing","ySpacing","zScaling","xDirection","yDirection"]),I.algo(t,e,0,1),I.event(t,e,"busy"),BS(t,e)}I.newInstance(US,"vtkElevationReader");function hh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function GS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ae={};function R0(t,e,n,r,a){for(var i=0;i<a;i++)n[r+i]=t[e+i]}function PS(t){Ae.splitOn=t,Ae.pieces=[],Ae.v=[],Ae.vt=[],Ae.vn=[],Ae.f=[[]],Ae.size=0}function jS(t){var e=t.split("/").map(function(i){return Number(i)}),n=e[0]-1,r=e[1]?e[1]-1:n,a=e[2]?e[2]-1:n;return[n,r,a]}function zS(t){if(t[0]!=="#"){var e=t.split(/[ \t]+/);if(e[0]===Ae.splitOn)e.shift(),Ae.pieces.push(e.join(" ").trim()),Ae.f.push([]),Ae.size++;else if(e[0]==="v")Ae.v.push(Number(e[1])),Ae.v.push(Number(e[2])),Ae.v.push(Number(e[3]));else if(e[0]==="vt")Ae.vt.push(Number(e[1])),Ae.vt.push(Number(e[2]));else if(e[0]==="vn")Ae.vn.push(Number(e[1])),Ae.vn.push(Number(e[2])),Ae.vn.push(Number(e[3]));else if(e[0]==="f"){Ae.size===0&&Ae.size++;var n=Ae.f[Ae.size-1];e.shift();var r=e.filter(function(s){return s.length>0&&s!=="\r"}),a=r.length;n.push(a);for(var i=0;i<a;i++)n.push(jS(r[i]))}}}function IS(t){var e=!!Ae.vt.length,n=!!Ae.vn.length;if(t.splitMode){t.numberOfOutputs=Ae.size;for(var r=0;r<Ae.size;r++){var a=Ae.f[r],i=a.length,s=Ae.v.length/3,o={},c=void 0;if(t.trackDuplicates){for(var u=[],l=0,f=0;f<i;)for(var h=a[f++],p=0;p<h;p++){var d=We(a[f++],3),y=d[0],m=d[1],_=d[2],v="".concat(y,"/").concat(m,"/").concat(_);o[v]===void 0&&(u[y]===void 0?u[y]=[v]:(u[y].push(v),++l),o[v]=y)}c=new Uint16Array(s+l);for(var g=0,x=0;x<u.length;++x){var w=u[x]?u[x].length:0;c[x]=w>1?s+g:x;for(var C=1;C<w;++C){var S=s+g++;c[S]=x,o[u[x][C]]=S}}}for(var T={},b=nt.newInstance({name:Ae.pieces[r]}),O=[],D=[],N=[],R=[],E=0;E<i;){var A=a[E];R.push(A);for(var W=0;W<A;W++){var z=We(a[E+W+1],3),F=z[0],L=z[1],G=z[2],H="".concat(F,"/").concat(L,"/").concat(G);if(T[H]===void 0){var $=t.trackDuplicates?o[H]:O.length/3;T[H]=$,R0(Ae.v,F*3,O,$*3,3),e&&R0(Ae.vt,L*2,D,$*2,2),n&&R0(Ae.vn,G*3,N,$*3,3)}R.push(T[H])}E+=A+1}if(b.getPoints().setData(Float32Array.from(O),3),t.trackDuplicates){var J=Ee.newInstance({name:"Duplicates",values:c});b.getPointData().addArray(J)}if(b.getPolys().setData(Uint32Array.from(R)),e){var Q=Ee.newInstance({numberOfComponents:2,values:Float32Array.from(D),name:"TextureCoordinates"});b.getPointData().setTCoords(Q)}if(n){var q=Ee.newInstance({numberOfComponents:3,values:Float32Array.from(N),name:"Normals"});b.getPointData().setNormals(q)}t.output[r]=b}}else{t.numberOfOutputs=1;var ne=nt.newInstance();if(ne.getPoints().setData(Float32Array.from(Ae.v),3),e&&Ae.v.length/3===Ae.vt.length/2){var te=Ee.newInstance({numberOfComponents:2,values:Float32Array.from(Ae.vt),name:"TextureCoordinates"});ne.getPointData().setTCoords(te)}if(n&&Ae.v.length===Ae.vn.length){var oe=Ee.newInstance({numberOfComponents:3,values:Float32Array.from(Ae.vn),name:"Normals"});ne.getPointData().setNormals(oe)}for(var re=[],B=Ae.f[0],k=B.length,j=0;j<k;){var V=B[j];re.push(V);for(var M=0;M<V;M++){var P=We(B[j+M+1],1),U=P[0];re.push(U)}j+=V+1}ne.getPolys().setData(Uint32Array.from(re)),t.output[0]=ne}}function WS(t,e){var n=[],r=t.getPointData().getArrayByName("Duplicates");if(r==null)return n;var a=r.getData(),i=Math.min(e,a[e]);n.push(i);var s=a[i];if(s!==i)for(;s<a.length&&a[s]===i;)n.push(s++);return n}var HS={getPointDuplicateIds:WS};function $S(t,e){e.classHierarchy.push("vtkOBJReader"),e.dataAccessHelper||(e.dataAccessHelper=Ua.get("http"));function n(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.dataAccessHelper.fetchText(t,r,a)}t.setUrl=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r.indexOf(".obj")===-1&&!a.fullpath)e.baseURL=r,e.url="".concat(r,"/index.obj");else{e.url=r;var i=r.split("/");i.pop(),e.baseURL=i.join("/")}return t.loadData(a)},t.loadData=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return n(e.url,r).then(t.parseAsText)},t.parseAsText=function(r){return r&&(r!==e.parseData&&t.modified(),e.parseData=r,e.numberOfOutputs=0,PS(e.splitMode),r.split(`
`).forEach(zS),IS(e)),!0},t.requestData=function(r,a){t.parseAsText(e.parseData)},t.isBusy=function(){return!!e.requestCount},t.getNumberOfOutputPorts=function(){return e.numberOfOutputs}}var KS={numberOfOutputs:1,requestCount:0,splitMode:null,trackDuplicates:!1};function jd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,KS,n),I.obj(t,e),I.get(t,e,["url","baseURL"]),I.setGet(t,e,["dataAccessHelper","splitMode","trackDuplicates"]),I.algo(t,e,0,1),I.event(t,e,"busy"),$S(t,e)}var XS=I.newInstance(jd,"vtkOBJReader");GS({newInstance:XS,extend:jd},HS);var qS=["chemical json","name","inchi","formula","atoms","bonds","properties"];function YS(t,e){e.classHierarchy.push("vtkMolecule")}var ZS={"chemical json":0,name:"",inchi:"",formula:"",atoms:null,bonds:null,properties:null};function zd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ZS,n),I.obj(t,e),e.atoms||(e.atoms={}),e.bonds||(e.bonds={}),e.properties||(e.properties={}),I.setGet(t,e,qS),YS(t,e)}var JS=I.newInstance(zd,"vtkMolecule"),QS={newInstance:JS,extend:zd},eT=[1],tT=[2],rT=[3],nT=[4],aT=[5],iT=[6],oT=[7],sT=[8],uT=[9],cT=[10],fT=[11],lT=[12],hT=[13],pT=[14],vT=[15],dT=[16],gT=[17],yT=[18],mT=[19],_T=[20],xT=[21],wT=[22],CT=[23],ST=[24],TT=[25],bT=[26],ET=[27],DT=[28],OT=[29],NT=[30],kT=[31],MT=[32],RT=[33],LT=[34],FT=[35],AT=[36],BT=[37],VT=[38],UT=[39],GT=[40],PT=[41],jT=[42],zT=[43],IT=[44],WT=[45],HT=[46],$T=[47],KT=[48],XT=[49],qT=[50],YT=[51],ZT=[52],JT=[53],QT=[54],eb=[55],tb=[56],rb=[57],nb=[58],ab=[59],ib=[60],ob=[61],sb=[62],ub=[63],cb=[64],fb=[65],lb=[66],hb=[67],pb=[68],vb=[69],db=[70],gb=[71],yb=[72],mb=[73],_b=[74],xb=[75],wb=[76],Cb=[77],Sb=[78],Tb=[79],bb=[80],Eb=[81],Db=[82],Ob=[83],Nb=[84],kb=[85],Mb=[86],Rb=[87],Lb=[88],Fb=[89],Ab=[90],Bb=[91],Vb=[92],Ub=[93],Gb=[94],Pb=[95],jb=[96],zb=[97],Ib=[98],Wb=[99],Hb=[100],$b=[101],Kb=[102],Xb=[103],qb=[104],Yb=[105],Zb=[106],Jb=[107],Qb=[108],eE=[109],tE=[110],rE=[111],nE=[112],aE=[113],iE=[114],oE=[115],sE=[116],uE=[117],cE=[118],fE={H:eT,He:tT,Li:rT,Be:nT,B:aT,C:iT,N:oT,O:sT,F:uT,Ne:cT,Na:fT,Mg:lT,Al:hT,Si:pT,P:vT,S:dT,Cl:gT,Ar:yT,K:mT,Ca:_T,Sc:xT,Ti:wT,V:CT,Cr:ST,Mn:TT,Fe:bT,Co:ET,Ni:DT,Cu:OT,Zn:NT,Ga:kT,Ge:MT,As:RT,Se:LT,Br:FT,Kr:AT,Rb:BT,Sr:VT,Y:UT,Zr:GT,Nb:PT,Mo:jT,Tc:zT,Ru:IT,Rh:WT,Pd:HT,Ag:$T,Cd:KT,In:XT,Sn:qT,Sb:YT,Te:ZT,I:JT,Xe:QT,Cs:eb,Ba:tb,La:rb,Ce:nb,Pr:ab,Nd:ib,Pm:ob,Sm:sb,Eu:ub,Gd:cb,Tb:fb,Dy:lb,Ho:hb,Er:pb,Tm:vb,Yb:db,Lu:gb,Hf:yb,Ta:mb,W:_b,Re:xb,Os:wb,Ir:Cb,Pt:Sb,Au:Tb,Hg:bb,Tl:Eb,Pb:Db,Bi:Ob,Po:Nb,At:kb,Rn:Mb,Fr:Rb,Ra:Lb,Ac:Fb,Th:Ab,Pa:Bb,U:Vb,Np:Ub,Pu:Gb,Am:Pb,Cm:jb,Bk:zb,Cf:Ib,Es:Wb,Fm:Hb,Md:$b,No:Kb,Lr:Xb,Rf:qb,Db:Yb,Sg:Zb,Bh:Jb,Hs:Qb,Mt:eE,Ds:tE,Rg:rE,Cn:nE,Uut:aE,Uuq:iE,Uup:oE,Uuh:sE,Uus:uE,Uuo:cE};function lE(t,e){e.classHierarchy.push("vtkPDBReader"),e.dataAccessHelper||(e.dataAccessHelper=Ua.get("http"));function n(r,a){return e.dataAccessHelper.fetchText(t,r,a)}t.setUrl=function(r,a){if(r.indexOf(".pdb")===-1)e.baseURL=r,e.url="".concat(r);else{e.url=r;var i=r.split("/");i.pop(),e.baseURL=i.join("/")}return t.loadData(a)},t.loadData=function(r){return n(e.url,r).then(t.parseAsText)},t.parseAsText=function(r){return e.pdb=r,e.molecule=[],e.molecule=e.pdb.split(`
`),t.modified(),!0},t.requestData=function(r,a){var i=QS.newInstance();if(e.molecule){var s=e.molecule.length,o=[],c=[];e.numberOfAtoms=0;for(var u=0;u<s&&e.molecule[u]!=="END";){var l=e.molecule[u].length,f=e.molecule[u],h=f.substr(0,6).replace(/\s+/g,"");if(h.toUpperCase(),h==="ATOM"||h==="HETATM"){var p=f.substr(12,4).replace(/\s+/g,""),d=f.substr(30,8).replace(/\s+/g,""),y=f.substr(38,8).replace(/\s+/g,""),m=f.substr(46,8).replace(/\s+/g,""),_="";l>=78&&(_=f.substr(76,2).replace(/\s+/g,"")),_===""&&(_=p.substr(0,2).replace(/\d/g,"")),o.push(d),o.push(y),o.push(m);var v=We(fE[_],1),g=v[0];c.push(g),e.numberOfAtoms++}u++}i.getAtoms().elements={},i.getAtoms().elements.number=Int8Array.from(c),i.getAtoms().coords={},i.getAtoms().coords["3d"]=Float32Array.from(o)}e.output[0]=i},t.isBusy=function(){return!!e.requestCount}}var hE={numberOfAtoms:0,requestCount:0};function pE(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,hE,n),I.obj(t,e),I.get(t,e,["url","baseURL","numberOfAtoms","requestCount"]),I.setGet(t,e,["dataAccessHelper"]),I.algo(t,e,0,1),I.event(t,e,"busy"),lE(t,e)}I.newInstance(pE,"vtkPDBReader");var Id={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(It,function(){return function(n){var r={};function a(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=r,a.d=function(i,s,o){a.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:o})},a.r=function(i){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a.t=function(i,s){if(1&s&&(i=a(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var c in i)a.d(o,c,function(u){return i[u]}.bind(null,c));return o},a.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(s,"a",s),s},a.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},a.p="",a(a.s=184)}([function(n,r,a){function i(s){for(var o in s)r.hasOwnProperty(o)||(r[o]=s[o])}Object.defineProperty(r,"__esModule",{value:!0}),i(a(240)),i(a(251)),i(a(175)),i(a(107)),i(a(29)),i(a(73)),i(a(106)),i(a(30)),i(a(252)),i(a(52)),i(a(97)),i(a(253)),i(a(37)),i(a(51)),i(a(173)),i(a(176)),i(a(172)),i(a(108)),i(a(254)),i(a(255)),i(a(256)),i(a(72)),i(a(177)),i(a(105)),i(a(17)),i(a(257)),i(a(12)),i(a(174))},function(n,r,a){var i=this&&this.__values||function(g){var x=typeof Symbol=="function"&&Symbol.iterator,w=x&&g[x],C=0;if(w)return w.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&C>=g.length&&(g=void 0),{value:g&&g[C++],done:!g}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(212);r.FixedSizeSet=s.FixedSizeSet;var o=a(213);r.ObjectCache=o.ObjectCache;var c=a(214);r.CompareCache=c.CompareCache;var u=a(215);r.Lazy=u.Lazy;var l=a(216);function f(g,x,w){if(_(g))g.forEach(function(S,T){return x.call(w,T,S)});else for(var C in g)g.hasOwnProperty(C)&&x.call(w,C,g[C])}function h(g){var x,w;if(p(g))return g;if(y(g)){var C=[];try{for(var S=i(g),T=S.next();!T.done;T=S.next()){var b=T.value;C.push(h(b))}}catch(N){x={error:N}}finally{try{T&&!T.done&&(w=S.return)&&w.call(S)}finally{if(x)throw x.error}}return C}if(d(g)){C={};for(var O in g)if(g.hasOwnProperty(O)){var D=g[O];C[O]=h(D)}return C}return g}function p(g){return!!g&&Object.prototype.toString.call(g)==="[object Function]"}function d(g){var x=typeof g;return!!g&&(x==="function"||x==="object")}function y(g){return Array.isArray(g)}function m(g){return g instanceof Set}function _(g){return g instanceof Map}function v(g){if(d(g)){var x=Object.getPrototypeOf(g),w=x.constructor;return x&&w&&typeof w=="function"&&w instanceof w&&Function.prototype.toString.call(w)===Function.prototype.toString.call(Object)}return!1}r.StringWalker=l.StringWalker,r.applyMixin=function(g,x){for(var w=[],C=2;C<arguments.length;C++)w[C-2]=arguments[C];Object.getOwnPropertyNames(x.prototype).forEach(function(S){if(S!=="constructor"){if(w.indexOf(S)!==-1){var T=Object.getOwnPropertyDescriptor(g.prototype,S);T&&Object.defineProperty(g.prototype,"_"+S,T)}var b=Object.getOwnPropertyDescriptor(x.prototype,S);b&&Object.defineProperty(g.prototype,S,b)}})},r.applyDefaults=function g(x,w,C){C===void 0&&(C=!1);var S=h(x||{});return f(w,function(T,b){v(b)?S[T]=g(S[T],b,C):(C||S[T]===void 0)&&(S[T]=b)}),S},r.forEachArray=function(g,x,w){g.forEach(x,w)},r.forEachObject=f,r.arrayLength=function(g){return m(g)?g.size:g.length},r.objectLength=function(g){return _(g)?g.size:Object.keys(g).length},r.getObjectValue=function(g,x){return _(g)?g.get(x):g[x]},r.removeObjectValue=function(g,x){_(g)?g.delete(x):delete g[x]},r.clone=h,r.isBoolean=function(g){return typeof g=="boolean"},r.isNumber=function(g){return typeof g=="number"},r.isString=function(g){return typeof g=="string"},r.isFunction=p,r.isObject=d,r.isArray=y,r.isSet=m,r.isMap=_,r.isEmpty=function(g){if(y(g))return!g.length;if(m(g)||_(g))return!g.size;if(d(g)){for(var x in g)if(g.hasOwnProperty(x))return!1;return!0}return!1},r.isPlainObject=v,r.isIterable=function(g){return g&&typeof g[Symbol.iterator]=="function"},r.getValue=function(g){return p(g.valueOf)?g.valueOf():g},r.utf8Encode=function(g){for(var x=new Uint8Array(4*g.length),w=0,C=0;C<g.length;C++){var S=g.charCodeAt(C);if(S<128)x[w++]=S;else{if(S<2048)x[w++]=S>>6|192;else{if(S>55295&&S<56320){if(++C>=g.length)throw new Error("Incomplete surrogate pair.");var T=g.charCodeAt(C);if(T<56320||T>57343)throw new Error("Invalid surrogate character.");S=65536+((1023&S)<<10)+(1023&T),x[w++]=S>>18|240,x[w++]=S>>12&63|128}else x[w++]=S>>12|224;x[w++]=S>>6&63|128}x[w++]=63&S|128}}return x.subarray(0,w)},r.utf8Decode=function(g){for(var x="",w=0;w<g.length;){var C=g[w++];if(C>127)if(C>191&&C<224){if(w>=g.length)throw new Error("Incomplete 2-byte sequence.");C=(31&C)<<6|63&g[w++]}else if(C>223&&C<240){if(w+1>=g.length)throw new Error("Incomplete 3-byte sequence.");C=(15&C)<<12|(63&g[w++])<<6|63&g[w++]}else{if(!(C>239&&C<248))throw new Error("Unknown multi-byte start.");if(w+2>=g.length)throw new Error("Incomplete 4-byte sequence.");C=(7&C)<<18|(63&g[w++])<<12|(63&g[w++])<<6|63&g[w++]}if(C<=65535)x+=String.fromCharCode(C);else{if(!(C<=1114111))throw new Error("Code point exceeds UTF-16 limit.");C-=65536,x+=String.fromCharCode(C>>10|55296),x+=String.fromCharCode(1023&C|56320)}}return x}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),function(i){i[i.Before=0]="Before",i[i.Equal=1]="Equal",i[i.After=2]="After"}(r.BoundaryPosition||(r.BoundaryPosition={})),function(i){i[i.None=0]="None",i[i.Capturing=1]="Capturing",i[i.AtTarget=2]="AtTarget",i[i.Bubbling=3]="Bubbling"}(r.EventPhase||(r.EventPhase={})),function(i){i[i.Element=1]="Element",i[i.Attribute=2]="Attribute",i[i.Text=3]="Text",i[i.CData=4]="CData",i[i.EntityReference=5]="EntityReference",i[i.Entity=6]="Entity",i[i.ProcessingInstruction=7]="ProcessingInstruction",i[i.Comment=8]="Comment",i[i.Document=9]="Document",i[i.DocumentType=10]="DocumentType",i[i.DocumentFragment=11]="DocumentFragment",i[i.Notation=12]="Notation"}(r.NodeType||(r.NodeType={})),function(i){i[i.Disconnected=1]="Disconnected",i[i.Preceding=2]="Preceding",i[i.Following=4]="Following",i[i.Contains=8]="Contains",i[i.ContainedBy=16]="ContainedBy",i[i.ImplementationSpecific=32]="ImplementationSpecific"}(r.Position||(r.Position={})),function(i){i[i.Accept=1]="Accept",i[i.Reject=2]="Reject",i[i.Skip=3]="Skip"}(r.FilterResult||(r.FilterResult={})),function(i){i[i.All=4294967295]="All",i[i.Element=1]="Element",i[i.Attribute=2]="Attribute",i[i.Text=4]="Text",i[i.CDataSection=8]="CDataSection",i[i.EntityReference=16]="EntityReference",i[i.Entity=32]="Entity",i[i.ProcessingInstruction=64]="ProcessingInstruction",i[i.Comment=128]="Comment",i[i.Document=256]="Document",i[i.DocumentType=512]="DocumentType",i[i.DocumentFragment=1024]="DocumentFragment",i[i.Notation=2048]="Notation"}(r.WhatToShow||(r.WhatToShow={})),function(i){i[i.StartToStart=0]="StartToStart",i[i.StartToEnd=1]="StartToEnd",i[i.EndToEnd=2]="EndToEnd",i[i.EndToStart=3]="EndToStart"}(r.HowToCompare||(r.HowToCompare={}))},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(241);r.Cast=i.Cast;var s=a(150);r.Guard=s.Guard;var o=a(242);r.EmptySet=o.EmptySet},function(n,r,a){var i=a(11),s=a(55).f,o=a(21),c=a(25),u=a(80),l=a(119),f=a(123);n.exports=function(h,p){var d,y,m,_,v,g=h.target,x=h.global,w=h.stat;if(d=x?i:w?i[g]||u(g,{}):(i[g]||{}).prototype)for(y in p){if(_=p[y],m=h.noTargetGet?(v=s(d,y))&&v.value:d[y],!f(x?y:g+(w?".":"#")+y,h.forced)&&m!==void 0){if(typeof _==typeof m)continue;l(_,m)}(h.sham||m&&m.sham)&&o(_,"sham",!0),c(d,y,_,h)}}},function(n,r,a){var i=a(11),s=a(81),o=a(14),c=a(58),u=a(86),l=a(124),f=s("wks"),h=i.Symbol,p=l?h:h&&h.withoutSetter||c;n.exports=function(d){return o(f,d)||(u&&o(h,d)?f[d]=h[d]:f[d]=p("Symbol."+d)),f[d]}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(1),s=a(29),o=function(){function c(){this._features={mutationObservers:!0,customElements:!0,slots:!0,steps:!0},this._window=null,this._compareCache=new i.CompareCache,this._rangeList=new i.FixedSizeSet}return c.prototype.setFeatures=function(u){if(u===void 0&&(u=!0),i.isObject(u))for(var l in u)this._features[l]=u[l]||!1;else for(var l in this._features)this._features[l]=u},Object.defineProperty(c.prototype,"features",{get:function(){return this._features},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"window",{get:function(){return this._window===null&&(this._window=s.create_window()),this._window},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"compareCache",{get:function(){return this._compareCache},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"rangeList",{get:function(){return this._rangeList},enumerable:!0,configurable:!0}),Object.defineProperty(c,"instance",{get:function(){return c._instance||(c._instance=new c),c._instance},enumerable:!0,configurable:!0}),c}();r.dom=o.instance},function(n,r,a){var i=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var g={};if(v!=null)for(var x in v)Object.hasOwnProperty.call(v,x)&&(g[x]=v[x]);return g.default=v,g};Object.defineProperty(r,"__esModule",{value:!0});var s=i(a(228));r.base64=s;var o=i(a(146));r.byte=o;var c=i(a(147));r.byteSequence=c;var u=i(a(96));r.codePoint=u;var l=i(a(232));r.json=l;var f=i(a(233));r.list=f;var h=i(a(234));r.map=h;var p=i(a(235));r.namespace=p;var d=i(a(236));r.queue=d;var y=i(a(237));r.set=y;var m=i(a(238));r.stack=m;var _=i(a(239));r.string=_},function(n,r){n.exports=function(a){try{return!!a()}catch{return!0}}},function(n,r,a){var i,s=this&&this.__extends||(i=function(F,L){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,H){G.__proto__=H}||function(G,H){for(var $ in H)H.hasOwnProperty($)&&(G[$]=H[$])})(F,L)},function(F,L){function G(){this.constructor=F}i(F,L),F.prototype=L===null?Object.create(L):(G.prototype=L.prototype,new G)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(F){function L(G,H){H===void 0&&(H="");var $=F.call(this,H)||this;return $.name=G,$}return s(L,F),L}(Error);r.DOMException=o;var c=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"DOMStringSizeError",G)||this}return s(L,F),L}(o);r.DOMStringSizeError=c;var u=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"WrongDocumentError","The object is in the wrong document. "+G)||this}return s(L,F),L}(o);r.WrongDocumentError=u;var l=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"NoDataAllowedError",G)||this}return s(L,F),L}(o);r.NoDataAllowedError=l;var f=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"NoModificationAllowedError","The object can not be modified. "+G)||this}return s(L,F),L}(o);r.NoModificationAllowedError=f;var h=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"NotSupportedError","The operation is not supported. "+G)||this}return s(L,F),L}(o);r.NotSupportedError=h;var p=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"InUseAttributeError",G)||this}return s(L,F),L}(o);r.InUseAttributeError=p;var d=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"InvalidStateError","The object is in an invalid state. "+G)||this}return s(L,F),L}(o);r.InvalidStateError=d;var y=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"InvalidModificationError","The object can not be modified in this way. "+G)||this}return s(L,F),L}(o);r.InvalidModificationError=y;var m=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"NamespaceError","The operation is not allowed by Namespaces in XML. [XMLNS] "+G)||this}return s(L,F),L}(o);r.NamespaceError=m;var _=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"InvalidAccessError","The object does not support the operation or argument. "+G)||this}return s(L,F),L}(o);r.InvalidAccessError=_;var v=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"ValidationError",G)||this}return s(L,F),L}(o);r.ValidationError=v;var g=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"TypeMismatchError",G)||this}return s(L,F),L}(o);r.TypeMismatchError=g;var x=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"SecurityError","The operation is insecure. "+G)||this}return s(L,F),L}(o);r.SecurityError=x;var w=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"NetworkError","A network error occurred. "+G)||this}return s(L,F),L}(o);r.NetworkError=w;var C=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"AbortError","The operation was aborted. "+G)||this}return s(L,F),L}(o);r.AbortError=C;var S=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"URLMismatchError","The given URL does not match another URL. "+G)||this}return s(L,F),L}(o);r.URLMismatchError=S;var T=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"QuotaExceededError","The quota has been exceeded. "+G)||this}return s(L,F),L}(o);r.QuotaExceededError=T;var b=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"TimeoutError","The operation timed out. "+G)||this}return s(L,F),L}(o);r.TimeoutError=b;var O=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"InvalidNodeTypeError","The supplied node is incorrect or has an incorrect ancestor for this operation. "+G)||this}return s(L,F),L}(o);r.InvalidNodeTypeError=O;var D=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"DataCloneError","The object can not be cloned. "+G)||this}return s(L,F),L}(o);r.DataCloneError=D;var N=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"NotImplementedError","The DOM method is not implemented by this module. "+G)||this}return s(L,F),L}(o);r.NotImplementedError=N;var R=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"HierarchyRequestError","The operation would yield an incorrect node tree. "+G)||this}return s(L,F),L}(o);r.HierarchyRequestError=R;var E=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"NotFoundError","The object can not be found here. "+G)||this}return s(L,F),L}(o);r.NotFoundError=E;var A=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"IndexSizeError","The index is not in the allowed range. "+G)||this}return s(L,F),L}(o);r.IndexSizeError=A;var W=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"SyntaxError","The string did not match the expected pattern. "+G)||this}return s(L,F),L}(o);r.SyntaxError=W;var z=function(F){function L(G){return G===void 0&&(G=""),F.call(this,"InvalidCharacterError","The string contains invalid characters. "+G)||this}return s(L,F),L}(o);r.InvalidCharacterError=z},function(n,r,a){var i=a(53),s=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],o=["scalar","sequence","mapping"];n.exports=function(c,u){var l,f;if(u=u||{},Object.keys(u).forEach(function(h){if(s.indexOf(h)===-1)throw new i('Unknown option "'+h+'" is met in definition of "'+c+'" YAML type.')}),this.tag=c,this.kind=u.kind||null,this.resolve=u.resolve||function(){return!0},this.construct=u.construct||function(h){return h},this.instanceOf=u.instanceOf||null,this.predicate=u.predicate||null,this.represent=u.represent||null,this.defaultStyle=u.defaultStyle||null,this.styleAliases=(l=u.styleAliases||null,f={},l!==null&&Object.keys(l).forEach(function(h){l[h].forEach(function(p){f[String(p)]=h})}),f),o.indexOf(this.kind)===-1)throw new i('Unknown kind "'+this.kind+'" is specified for "'+c+'" YAML type.')}},function(n,r,a){(function(i){var s=function(o){return o&&o.Math==Math&&o};n.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof i=="object"&&i)||Function("return this")()}).call(this,a(78))},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.idl_defineConst=function(i,s,o){Object.defineProperty(i,s,{writable:!1,enumerable:!0,configurable:!1,value:o})}},function(n,r){n.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},function(n,r){var a={}.hasOwnProperty;n.exports=function(i,s){return a.call(i,s)}},function(n,r,a){var i=a(16),s=a(115),o=a(18),c=a(56),u=Object.defineProperty;r.f=i?u:function(l,f,h){if(o(l),f=c(f,!0),o(h),s)try{return u(l,f,h)}catch{}if("get"in h||"set"in h)throw TypeError("Accessors not supported");return"value"in h&&(l[f]=h.value),l}},function(n,r,a){var i=a(8);n.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(n,r,a){var i=this&&this.__values||function(g){var x=typeof Symbol=="function"&&Symbol.iterator,w=x&&g[x],C=0;if(w)return w.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&C>=g.length&&(g=void 0),{value:g&&g[C++],done:!g}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(3),o=a(2);function c(g,x,w){if(w===void 0&&(w=!1),w&&s.Guard.isElementNode(x)&&s.Guard.isShadowRoot(x.shadowRoot)&&x.shadowRoot._firstChild)return x.shadowRoot._firstChild;if(x._firstChild)return x._firstChild;if(x===g)return null;if(x._nextSibling)return x._nextSibling;for(var C=x._parent;C&&C!==g;){if(C._nextSibling)return C._nextSibling;C=C._parent}return null}function u(){var g;return(g={})[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:null}}}},g}function l(g,x,w,C){x===void 0&&(x=!1),w===void 0&&(w=!1);for(var S=x?g:c(g,g,w);S&&C&&!C(S);)S=c(g,S,w);return S}function f(g,x,w,C,S){C===void 0&&(C=!1);for(var T=c(g,x,C);T&&S&&!S(T);)T=c(g,T,C);return T}function h(g,x,w,C){var S;return x===void 0&&(x=!1),w===void 0&&(w=!1),x||g._children.size!==0?((S={})[Symbol.iterator]=function(){var T=x?g:c(g,g,w);return{next:function(){for(;T&&C&&!C(T);)T=c(g,T,w);if(T===null)return{done:!0,value:null};var b={done:!1,value:T};return T=c(g,T,w),b}}},S):u()}function p(g,x,w){x===void 0&&(x=!1);for(var C=x?g:g._parent;C&&w&&!w(C);)C=C._parent;return C}function d(g,x,w,C){for(var S=x._parent;S&&C&&!C(S);)S=S._parent;return S}function y(g){return s.Guard.isDocumentTypeNode(g)?0:s.Guard.isCharacterDataNode(g)?g._data.length:g._children.size}function m(g,x){if(x===void 0&&(x=!1),x){var w=m(g,!1);return s.Guard.isShadowRoot(w)?m(w._host,!0):w}return g._parent?m(g._parent):g}function _(g,x,w,C){w===void 0&&(w=!1),C===void 0&&(C=!1);for(var S=w?g:C&&s.Guard.isShadowRoot(g)?g._host:g._parent;S!==null;){if(S===x)return!0;S=C&&s.Guard.isShadowRoot(S)?S._host:S._parent}return!1}function v(g){for(var x=m(g),w=0,C=l(x);C!==null;){if(w++,C===g)return w;C=f(x,C)}return-1}r.tree_getFirstDescendantNode=l,r.tree_getNextDescendantNode=f,r.tree_getDescendantNodes=h,r.tree_getDescendantElements=function(g,x,w,C){var S;return x===void 0&&(x=!1),w===void 0&&(w=!1),x||g._children.size!==0?((S={})[Symbol.iterator]=function(){var T=h(g,x,w,function(O){return s.Guard.isElementNode(O)})[Symbol.iterator](),b=T.next().value;return{next:function(){for(;b&&C&&!C(b);)b=T.next().value;if(b===null)return{done:!0,value:null};var O={done:!1,value:b};return b=T.next().value,O}}},S):u()},r.tree_getSiblingNodes=function(g,x,w){var C;return x===void 0&&(x=!1),g._parent&&g._parent._children.size!==0?((C={})[Symbol.iterator]=function(){var S=g._parent?g._parent._firstChild:null;return{next:function(){for(;S&&(w&&!w(S)||!x&&S===g);)S=S._nextSibling;if(S===null)return{done:!0,value:null};var T={done:!1,value:S};return S=S._nextSibling,T}}},C):u()},r.tree_getFirstAncestorNode=p,r.tree_getNextAncestorNode=d,r.tree_getAncestorNodes=function(g,x,w){var C;return x===void 0&&(x=!1),x||g._parent?((C={})[Symbol.iterator]=function(){var S=p(g,x,w);return{next:function(){if(S===null)return{done:!0,value:null};var T={done:!1,value:S};return S=d(0,S,x,w),T}}},C):u()},r.tree_getCommonAncestor=function(g,x){if(g===x)return g._parent;for(var w=[],C=[],S=p(g,!0);S!==null;)w.push(S),S=d(0,S);for(var T=p(x,!0);T!==null;)C.push(T),T=d(0,T);for(var b=w.length,O=C.length,D=null,N=Math.min(b,O);N>0;N--){var R=w[--b];if(R!==C[--O])break;D=R}return D},r.tree_getFollowingNode=function(g,x){if(x._firstChild)return x._firstChild;if(x._nextSibling)return x._nextSibling;for(;;){var w=x._parent;if(w===null||w===g)return null;if(w._nextSibling)return w._nextSibling;x=w}},r.tree_getPrecedingNode=function(g,x){return x===g?null:x._previousSibling?(x=x._previousSibling)._lastChild?x._lastChild:x:x._parent},r.tree_isConstrained=function g(x){var w,C,S,T,b,O;switch(x._nodeType){case o.NodeType.Document:var D=!1,N=!1;try{for(var R=i(x._children),E=R.next();!E.done;E=R.next())switch(E.value._nodeType){case o.NodeType.ProcessingInstruction:case o.NodeType.Comment:break;case o.NodeType.DocumentType:if(D||N)return!1;D=!0;break;case o.NodeType.Element:if(N)return!1;N=!0;break;default:return!1}}catch(L){w={error:L}}finally{try{E&&!E.done&&(C=R.return)&&C.call(R)}finally{if(w)throw w.error}}break;case o.NodeType.DocumentFragment:case o.NodeType.Element:try{for(var A=i(x._children),W=A.next();!W.done;W=A.next())switch(W.value._nodeType){case o.NodeType.Element:case o.NodeType.Text:case o.NodeType.ProcessingInstruction:case o.NodeType.CData:case o.NodeType.Comment:break;default:return!1}}catch(L){S={error:L}}finally{try{W&&!W.done&&(T=A.return)&&T.call(A)}finally{if(S)throw S.error}}break;case o.NodeType.DocumentType:case o.NodeType.Text:case o.NodeType.ProcessingInstruction:case o.NodeType.CData:case o.NodeType.Comment:return!x.hasChildNodes()}try{for(var z=i(x._children),F=z.next();!F.done;F=z.next())if(!g(F.value))return!1}catch(L){b={error:L}}finally{try{F&&!F.done&&(O=z.return)&&O.call(z)}finally{if(b)throw b.error}}return!0},r.tree_nodeLength=y,r.tree_isEmpty=function(g){return y(g)===0},r.tree_rootNode=m,r.tree_isDescendantOf=function(g,x,w,C){w===void 0&&(w=!1),C===void 0&&(C=!1);for(var S=l(g,w,C);S!==null;){if(S===x)return!0;S=f(g,S,w,C)}return!1},r.tree_isAncestorOf=_,r.tree_isHostIncludingAncestorOf=function g(x,w,C){if(C===void 0&&(C=!1),_(x,w,C))return!0;var S=m(x);return!(!s.Guard.isDocumentFragmentNode(S)||S._host===null||!g(S._host,w,C))},r.tree_isSiblingOf=function(g,x,w){return w===void 0&&(w=!1),g!==x?g._parent!==null&&g._parent===x._parent:!!w},r.tree_isPreceding=function(g,x){var w=v(g),C=v(x);return w!==-1&&C!==-1&&m(g)===m(x)&&C<w},r.tree_isFollowing=function(g,x){var w=v(g),C=v(x);return w!==-1&&C!==-1&&m(g)===m(x)&&C>w},r.tree_isParentOf=function(g,x){return g._parent===x},r.tree_isChildOf=function(g,x){return x._parent===g},r.tree_previousSibling=function(g){return g._previousSibling},r.tree_nextSibling=function(g){return g._nextSibling},r.tree_firstChild=function(g){return g._firstChild},r.tree_lastChild=function(g){return g._lastChild},r.tree_treePosition=v,r.tree_index=function(g){for(var x=0;g._previousSibling!==null;)x++,g=g._previousSibling;return x},r.tree_retarget=function(g,x){for(;;){if(!g||!s.Guard.isNode(g))return g;var w=m(g);if(!s.Guard.isShadowRoot(w)||x&&s.Guard.isNode(x)&&_(w,x,!0,!0))return g;g=w.host}}},function(n,r,a){var i=a(13);n.exports=function(s){if(!i(s))throw TypeError(String(s)+" is not an object");return s}},function(n,r,a){var i=a(24),s=a(130),o=a(49),c=a(43),u=a(88),l=c.set,f=c.getterFor("Array Iterator");n.exports=u(Array,"Array",function(h,p){l(this,{type:"Array Iterator",target:i(h),index:0,kind:p})},function(){var h=f(this),p=h.target,d=h.kind,y=h.index++;return!p||y>=p.length?(h.target=void 0,{value:void 0,done:!0}):d=="keys"?{value:y,done:!1}:d=="values"?{value:p[y],done:!1}:{value:[y,p[y]],done:!1}},"values"),o.Arguments=o.Array,s("keys"),s("values"),s("entries")},function(n,r,a){var i=a(90),s=a(25),o=a(202);i||s(Object.prototype,"toString",o,{unsafe:!0})},function(n,r,a){var i=a(16),s=a(15),o=a(40);n.exports=i?function(c,u,l){return s.f(c,u,o(1,l))}:function(c,u,l){return c[u]=l,c}},function(n,r,a){var i=a(137).charAt,s=a(43),o=a(88),c=s.set,u=s.getterFor("String Iterator");o(String,"String",function(l){c(this,{type:"String Iterator",string:String(l),index:0})},function(){var l,f=u(this),h=f.string,p=f.index;return p>=h.length?{value:void 0,done:!0}:(l=i(h,p),f.index+=l.length,{value:l,done:!1})})},function(n,r,a){var i=a(11),s=a(203),o=a(19),c=a(21),u=a(5),l=u("iterator"),f=u("toStringTag"),h=o.values;for(var p in s){var d=i[p],y=d&&d.prototype;if(y){if(y[l]!==h)try{c(y,l,h)}catch{y[l]=h}if(y[f]||c(y,f,p),s[p]){for(var m in o)if(y[m]!==o[m])try{c(y,m,o[m])}catch{y[m]=o[m]}}}}},function(n,r,a){var i=a(41),s=a(35);n.exports=function(o){return i(s(o))}},function(n,r,a){var i=a(11),s=a(21),o=a(14),c=a(80),u=a(117),l=a(43),f=l.get,h=l.enforce,p=String(String).split("String");(n.exports=function(d,y,m,_){var v=!!_&&!!_.unsafe,g=!!_&&!!_.enumerable,x=!!_&&!!_.noTargetGet;typeof m=="function"&&(typeof y!="string"||o(m,"name")||s(m,"name",y),h(m).source=p.join(typeof y=="string"?y:"")),d!==i?(v?!x&&d[y]&&(g=!0):delete d[y],g?d[y]=m:s(d,y,m)):g?d[y]=m:c(y,m)})(Function.prototype,"toString",function(){return typeof this=="function"&&f(this).source||u(this)})},function(n,r,a){var i=a(47),s=Math.min;n.exports=function(o){return o>0?s(i(o),9007199254740991):0}},function(n,r,a){var i=a(35);n.exports=function(s){return Object(i(s))}},function(n,r,a){var i=a(16),s=a(8),o=a(14),c=Object.defineProperty,u={},l=function(f){throw f};n.exports=function(f,h){if(o(u,f))return u[f];h||(h={});var p=[][f],d=!!o(h,"ACCESSORS")&&h.ACCESSORS,y=o(h,0)?h[0]:l,m=o(h,1)?h[1]:void 0;return u[f]=!!p&&!s(function(){if(d&&!i)return!0;var _={length:-1};d?c(_,1,{enumerable:!0,get:l}):_[1]=1,p.call(_,y,m)})}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(148),s=a(149),o=a(151),c=a(98),u=a(153),l=a(154),f=a(155),h=a(99),p=a(100),d=a(156),y=a(157),m=a(101),_=a(158),v=a(159),g=a(160),x=a(161),w=a(162),C=a(163),S=a(164),T=a(165),b=a(166),O=a(167),D=a(168),N=a(169),R=a(170);r.create_domImplementation=function(E){return i.DOMImplementationImpl._create(E)},r.create_window=function(){return s.WindowImpl._create()},r.create_xmlDocument=function(){return new o.XMLDocumentImpl},r.create_document=function(){return new c.DocumentImpl},r.create_abortController=function(){return new u.AbortControllerImpl},r.create_abortSignal=function(){return l.AbortSignalImpl._create()},r.create_documentType=function(E,A,W,z){return f.DocumentTypeImpl._create(E,A,W,z)},r.create_element=function(E,A,W,z){return h.ElementImpl._create(E,A,W,z)},r.create_htmlElement=function(E,A,W,z){return h.ElementImpl._create(E,A,W,z)},r.create_htmlUnknownElement=function(E,A,W,z){return h.ElementImpl._create(E,A,W,z)},r.create_documentFragment=function(E){return p.DocumentFragmentImpl._create(E)},r.create_shadowRoot=function(E,A){return d.ShadowRootImpl._create(E,A)},r.create_attr=function(E,A){return y.AttrImpl._create(E,A)},r.create_text=function(E,A){return m.TextImpl._create(E,A)},r.create_cdataSection=function(E,A){return _.CDATASectionImpl._create(E,A)},r.create_comment=function(E,A){return v.CommentImpl._create(E,A)},r.create_processingInstruction=function(E,A,W){return g.ProcessingInstructionImpl._create(E,A,W)},r.create_htmlCollection=function(E,A){return A===void 0&&(A=function(){return!0}),x.HTMLCollectionImpl._create(E,A)},r.create_nodeList=function(E){return w.NodeListImpl._create(E)},r.create_nodeListStatic=function(E,A){return C.NodeListStaticImpl._create(E,A)},r.create_namedNodeMap=function(E){return S.NamedNodeMapImpl._create(E)},r.create_range=function(E,A){return T.RangeImpl._create(E,A)},r.create_nodeIterator=function(E,A,W){return b.NodeIteratorImpl._create(E,A,W)},r.create_treeWalker=function(E,A){return O.TreeWalkerImpl._create(E,A)},r.create_nodeFilter=function(){return D.NodeFilterImpl._create()},r.create_mutationRecord=function(E,A,W,z,F,L,G,H,$){return N.MutationRecordImpl._create(E,A,W,z,F,L,G,H,$)},r.create_domTokenList=function(E,A){return R.DOMTokenListImpl._create(E,A)}},function(n,r,a){var i=this&&this.__values||function(y){var m=typeof Symbol=="function"&&Symbol.iterator,_=m&&y[m],v=0;if(_)return _.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&v>=y.length&&(y=void 0),{value:y&&y[v++],done:!y}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(6),o=a(17),c=a(3),u=a(72),l=new Map;function f(y,m){if(m!==y._root&&o.tree_isAncestorOf(y._reference,m,!0)){if(y._pointerBeforeReference)for(;;){var _=o.tree_getFollowingNode(y._root,m);if(_!==null&&o.tree_isDescendantOf(y._root,_,!0)&&!o.tree_isDescendantOf(m,_,!0))return void(y._reference=_);if(_===null)return void(y._pointerBeforeReference=!1)}if(m._previousSibling===null)m._parent!==null&&(y._reference=m._parent);else{for(var v=m._previousSibling,g=o.tree_getFirstDescendantNode(m._previousSibling,!0,!1);g!==null;)g!==null&&(v=g),g=o.tree_getNextDescendantNode(m._previousSibling,g,!0,!1);y._reference=v}}}function h(y,m,_,v,g){if(c.Guard.isSlot(y)&&m==="name"&&g===null){if(v===_||v===null&&_===""||v===""&&_===null)return;y._name=v===null||v===""?"":v,u.shadowTree_assignSlotablesForATree(o.tree_rootNode(y))}}function p(y,m,_,v,g){if(c.Guard.isSlotable(y)&&m==="slot"&&g===null){if(v===_||v===null&&_===""||v===""&&_===null)return;y._name=v===null||v===""?"":v,u.shadowTree_isAssigned(y)&&u.shadowTree_assignSlotables(y._assignedSlot),u.shadowTree_assignASlot(y)}}function d(y,m,_,v){m==="id"&&v===null&&(y._uniqueIdentifier=_||void 0)}r.dom_runRemovingSteps=function(y,m){},r.dom_runCloningSteps=function(y,m,_,v){},r.dom_runAdoptingSteps=function(y,m){},r.dom_runAttributeChangeSteps=function(y,m,_,v,g){var x,w;s.dom.features.slots&&(p.call(y,y,m,_,v,g),h.call(y,y,m,_,v,g)),d.call(y,y,m,v,g);try{for(var C=i(y._attributeChangeSteps),S=C.next();!S.done;S=C.next())S.value.call(y,y,m,_,v,g)}catch(T){x={error:T}}finally{try{S&&!S.done&&(w=C.return)&&w.call(C)}finally{if(x)throw x.error}}},r.dom_runInsertionSteps=function(y){},r.dom_runNodeIteratorPreRemovingSteps=function(y,m){f.call(y,y,m)},r.dom_hasSupportedTokens=function(y){return l.has(y)},r.dom_getSupportedTokens=function(y){return l.get(y)||new Set},r.dom_runEventConstructingSteps=function(y){},r.dom_runChildTextContentChangeSteps=function(y){}},function(n,r,a){var i=a(4),s=a(11),o=a(46),c=a(44),u=a(16),l=a(86),f=a(124),h=a(8),p=a(14),d=a(59),y=a(13),m=a(18),_=a(27),v=a(24),g=a(56),x=a(40),w=a(60),C=a(61),S=a(82),T=a(190),b=a(85),O=a(55),D=a(15),N=a(79),R=a(21),E=a(25),A=a(81),W=a(57),z=a(45),F=a(58),L=a(5),G=a(125),H=a(126),$=a(62),J=a(43),Q=a(36).forEach,q=W("hidden"),ne=L("toPrimitive"),te=J.set,oe=J.getterFor("Symbol"),re=Object.prototype,B=s.Symbol,k=o("JSON","stringify"),j=O.f,V=D.f,M=T.f,P=N.f,U=A("symbols"),K=A("op-symbols"),X=A("string-to-symbol-registry"),Z=A("symbol-to-string-registry"),ae=A("wks"),ce=s.QObject,ie=!ce||!ce.prototype||!ce.prototype.findChild,pe=u&&h(function(){return w(V({},"a",{get:function(){return V(this,"a",{value:7}).a}})).a!=7})?function(he,de,ye){var Se=j(re,de);Se&&delete re[de],V(he,de,ye),Se&&he!==re&&V(re,de,Se)}:V,ve=function(he,de){var ye=U[he]=w(B.prototype);return te(ye,{type:"Symbol",tag:he,description:de}),u||(ye.description=de),ye},fe=f?function(he){return typeof he=="symbol"}:function(he){return Object(he)instanceof B},xe=function(he,de,ye){he===re&&xe(K,de,ye),m(he);var Se=g(de,!0);return m(ye),p(U,Se)?(ye.enumerable?(p(he,q)&&he[q][Se]&&(he[q][Se]=!1),ye=w(ye,{enumerable:x(0,!1)})):(p(he,q)||V(he,q,x(1,{})),he[q][Se]=!0),pe(he,Se,ye)):V(he,Se,ye)},Y=function(he,de){m(he);var ye=v(de),Se=C(ye).concat(se(ye));return Q(Se,function(Ne){u&&!_e.call(ye,Ne)||xe(he,Ne,ye[Ne])}),he},_e=function(he){var de=g(he,!0),ye=P.call(this,de);return!(this===re&&p(U,de)&&!p(K,de))&&(!(ye||!p(this,de)||!p(U,de)||p(this,q)&&this[q][de])||ye)},be=function(he,de){var ye=v(he),Se=g(de,!0);if(ye!==re||!p(U,Se)||p(K,Se)){var Ne=j(ye,Se);return!Ne||!p(U,Se)||p(ye,q)&&ye[q][Se]||(Ne.enumerable=!0),Ne}},Ce=function(he){var de=M(v(he)),ye=[];return Q(de,function(Se){p(U,Se)||p(z,Se)||ye.push(Se)}),ye},se=function(he){var de=he===re,ye=M(de?K:v(he)),Se=[];return Q(ye,function(Ne){!p(U,Ne)||de&&!p(re,Ne)||Se.push(U[Ne])}),Se};l||(E((B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor");var he=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,de=F(he),ye=function(Se){this===re&&ye.call(K,Se),p(this,q)&&p(this[q],de)&&(this[q][de]=!1),pe(this,de,x(1,Se))};return u&&ie&&pe(re,de,{configurable:!0,set:ye}),ve(de,he)}).prototype,"toString",function(){return oe(this).tag}),E(B,"withoutSetter",function(he){return ve(F(he),he)}),N.f=_e,D.f=xe,O.f=be,S.f=T.f=Ce,b.f=se,G.f=function(he){return ve(L(he),he)},u&&(V(B.prototype,"description",{configurable:!0,get:function(){return oe(this).description}}),c||E(re,"propertyIsEnumerable",_e,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:B}),Q(C(ae),function(he){H(he)}),i({target:"Symbol",stat:!0,forced:!l},{for:function(he){var de=String(he);if(p(X,de))return X[de];var ye=B(de);return X[de]=ye,Z[ye]=de,ye},keyFor:function(he){if(!fe(he))throw TypeError(he+" is not a symbol");if(p(Z,he))return Z[he]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),i({target:"Object",stat:!0,forced:!l,sham:!u},{create:function(he,de){return de===void 0?w(he):Y(w(he),de)},defineProperty:xe,defineProperties:Y,getOwnPropertyDescriptor:be}),i({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:Ce,getOwnPropertySymbols:se}),i({target:"Object",stat:!0,forced:h(function(){b.f(1)})},{getOwnPropertySymbols:function(he){return b.f(_(he))}}),k&&i({target:"JSON",stat:!0,forced:!l||h(function(){var he=B();return k([he])!="[null]"||k({a:he})!="{}"||k(Object(he))!="{}"})},{stringify:function(he,de,ye){for(var Se,Ne=[he],De=1;arguments.length>De;)Ne.push(arguments[De++]);if(Se=de,(y(de)||he!==void 0)&&!fe(he))return d(de)||(de=function(Ve,Pe){if(typeof Se=="function"&&(Pe=Se.call(this,Ve,Pe)),!fe(Pe))return Pe}),Ne[1]=de,k.apply(null,Ne)}}),B.prototype[ne]||R(B.prototype,ne,B.prototype.valueOf),$(B,"Symbol"),z[q]=!0},function(n,r,a){var i=a(4),s=a(16),o=a(11),c=a(14),u=a(13),l=a(15).f,f=a(119),h=o.Symbol;if(s&&typeof h=="function"&&(!("description"in h.prototype)||h().description!==void 0)){var p={},d=function(){var g=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),x=this instanceof d?new h(g):g===void 0?h():h(g);return g===""&&(p[x]=!0),x};f(d,h);var y=d.prototype=h.prototype;y.constructor=d;var m=y.toString,_=String(h("test"))=="Symbol(test)",v=/^Symbol\((.*)\)[^)]+$/;l(y,"description",{configurable:!0,get:function(){var g=u(this)?this.valueOf():this,x=m.call(g);if(c(p,g))return"";var w=_?x.slice(7,-1):x.replace(v,"$1");return w===""?void 0:w}}),i({global:!0,forced:!0},{Symbol:d})}},function(n,r,a){a(126)("iterator")},function(n,r,a){var i,s=this&&this.__extends||(i=function(_,v){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,x){g.__proto__=x}||function(g,x){for(var w in x)x.hasOwnProperty(w)&&(g[w]=x[w])})(_,v)},function(_,v){function g(){this.constructor=_}i(_,v),_.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)}),o=this&&this.__values||function(_){var v=typeof Symbol=="function"&&Symbol.iterator,g=v&&_[v],x=0;if(g)return g.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&x>=_.length&&(_=void 0),{value:_&&_[x++],done:!_}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var c=a(6),u=a(2),l=a(70),f=a(3),h=a(9),p=a(0),d=a(152),y=a(12),m=function(_){function v(){var g=_.call(this)||this;return g._parent=null,g._firstChild=null,g._lastChild=null,g._previousSibling=null,g._nextSibling=null,g}return s(v,_),Object.defineProperty(v.prototype,"_childNodes",{get:function(){return this.__childNodes||(this.__childNodes=p.create_nodeList(this))},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverride||c.dom.window._associatedDocument},set:function(g){this._nodeDocumentOverride=g},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"_registeredObserverList",{get:function(){return this.__registeredObserverList||(this.__registeredObserverList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nodeType",{get:function(){return this._nodeType},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nodeName",{get:function(){return f.Guard.isElementNode(this)?this._htmlUppercasedQualifiedName:f.Guard.isAttrNode(this)?this._qualifiedName:f.Guard.isExclusiveTextNode(this)?"#text":f.Guard.isCDATASectionNode(this)?"#cdata-section":f.Guard.isProcessingInstructionNode(this)?this._target:f.Guard.isCommentNode(this)?"#comment":f.Guard.isDocumentNode(this)?"#document":f.Guard.isDocumentTypeNode(this)?this._name:f.Guard.isDocumentFragmentNode(this)?"#document-fragment":""},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"baseURI",{get:function(){return d.urlSerializer(this._nodeDocument._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isConnected",{get:function(){return f.Guard.isElementNode(this)&&p.shadowTree_isConnected(this)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"ownerDocument",{get:function(){return this._nodeType===u.NodeType.Document?null:this._nodeDocument},enumerable:!0,configurable:!0}),v.prototype.getRootNode=function(g){return p.tree_rootNode(this,!!g&&g.composed)},Object.defineProperty(v.prototype,"parentNode",{get:function(){return this._nodeType===u.NodeType.Attribute?null:this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"parentElement",{get:function(){return this._parent&&f.Guard.isElementNode(this._parent)?this._parent:null},enumerable:!0,configurable:!0}),v.prototype.hasChildNodes=function(){return this._firstChild!==null},Object.defineProperty(v.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"firstChild",{get:function(){return this._firstChild},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"lastChild",{get:function(){return this._lastChild},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nodeValue",{get:function(){return f.Guard.isAttrNode(this)?this._value:f.Guard.isCharacterDataNode(this)?this._data:null},set:function(g){g===null&&(g=""),f.Guard.isAttrNode(this)?p.attr_setAnExistingAttributeValue(this,g):f.Guard.isCharacterDataNode(this)&&p.characterData_replaceData(this,0,this._data.length,g)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"textContent",{get:function(){return f.Guard.isDocumentFragmentNode(this)||f.Guard.isElementNode(this)?p.text_descendantTextContent(this):f.Guard.isAttrNode(this)?this._value:f.Guard.isCharacterDataNode(this)?this._data:null},set:function(g){g===null&&(g=""),f.Guard.isDocumentFragmentNode(this)||f.Guard.isElementNode(this)?p.node_stringReplaceAll(g,this):f.Guard.isAttrNode(this)?p.attr_setAnExistingAttributeValue(this,g):f.Guard.isCharacterDataNode(this)&&p.characterData_replaceData(this,0,p.tree_nodeLength(this),g)},enumerable:!0,configurable:!0}),v.prototype.normalize=function(){for(var g,x,w,C,S=[],T=p.tree_getFirstDescendantNode(this,!1,!1,function(Q){return f.Guard.isExclusiveTextNode(Q)});T!==null;)S.push(T),T=p.tree_getNextDescendantNode(this,T,!1,!1,function(Q){return f.Guard.isExclusiveTextNode(Q)});for(var b=0;b<S.length;b++){var O=S[b];if(O._parent!==null){var D=p.tree_nodeLength(O);if(D!==0){var N=[],R="";try{for(var E=(g=void 0,o(p.text_contiguousExclusiveTextNodes(O))),A=E.next();!A.done;A=E.next()){var W=A.value;N.push(W),R+=W._data}}catch(Q){g={error:Q}}finally{try{A&&!A.done&&(x=E.return)&&x.call(E)}finally{if(g)throw g.error}}if(p.characterData_replaceData(O,D,0,R),c.dom.rangeList.size!==0)for(var z=O._nextSibling;z!==null&&f.Guard.isExclusiveTextNode(z);){var F=z,L=p.tree_index(F);try{for(var G=(w=void 0,o(c.dom.rangeList)),H=G.next();!H.done;H=G.next()){var $=H.value;$._start[0]===F&&($._start[0]=O,$._start[1]+=D),$._end[0]===F&&($._end[0]=O,$._end[1]+=D),$._start[0]===F._parent&&$._start[1]===L&&($._start[0]=O,$._start[1]=D),$._end[0]===F._parent&&$._end[1]===L&&($._end[0]=O,$._end[1]=D)}}catch(Q){w={error:Q}}finally{try{H&&!H.done&&(C=G.return)&&C.call(G)}finally{if(w)throw w.error}}D+=p.tree_nodeLength(z),z=z._nextSibling}for(var J=0;J<N.length;J++)(W=N[J])._parent!==null&&p.mutation_remove(W,W._parent)}else p.mutation_remove(O,O._parent)}}},v.prototype.cloneNode=function(g){if(g===void 0&&(g=!1),f.Guard.isShadowRoot(this))throw new h.NotSupportedError;return p.node_clone(this,null,g)},v.prototype.isEqualNode=function(g){return g===void 0&&(g=null),g!==null&&p.node_equals(this,g)},v.prototype.isSameNode=function(g){return g===void 0&&(g=null),this===g},v.prototype.compareDocumentPosition=function(g){if(g===this)return 0;var x=g,w=this,C=null,S=null;if(f.Guard.isAttrNode(x)&&(x=(C=x)._element),f.Guard.isAttrNode(w)&&(w=(S=w)._element,C&&x&&x===w))for(var T=0;T<w._attributeList.length;T++){var b=w._attributeList[T];if(p.node_equals(b,C))return u.Position.ImplementationSpecific|u.Position.Preceding;if(p.node_equals(b,S))return u.Position.ImplementationSpecific|u.Position.Following}return x===null||w===null||p.tree_rootNode(x)!==p.tree_rootNode(w)?u.Position.Disconnected|u.Position.ImplementationSpecific|(c.dom.compareCache.check(this,g)?u.Position.Preceding:u.Position.Following):!C&&p.tree_isAncestorOf(w,x)||S&&x===w?u.Position.Contains|u.Position.Preceding:!S&&p.tree_isDescendantOf(w,x)||C&&x===w?u.Position.ContainedBy|u.Position.Following:p.tree_isPreceding(w,x)?u.Position.Preceding:u.Position.Following},v.prototype.contains=function(g){return g!==null&&p.tree_isDescendantOf(this,g,!0)},v.prototype.lookupPrefix=function(g){return g?f.Guard.isElementNode(this)?p.node_locateANamespacePrefix(this,g):f.Guard.isDocumentNode(this)?this.documentElement===null?null:p.node_locateANamespacePrefix(this.documentElement,g):f.Guard.isDocumentTypeNode(this)||f.Guard.isDocumentFragmentNode(this)?null:f.Guard.isAttrNode(this)?this._element===null?null:p.node_locateANamespacePrefix(this._element,g):this._parent!==null&&f.Guard.isElementNode(this._parent)?p.node_locateANamespacePrefix(this._parent,g):null:null},v.prototype.lookupNamespaceURI=function(g){return p.node_locateANamespace(this,g||null)},v.prototype.isDefaultNamespace=function(g){return g||(g=null),p.node_locateANamespace(this,null)===g},v.prototype.insertBefore=function(g,x){return p.mutation_preInsert(g,this,x)},v.prototype.appendChild=function(g){return p.mutation_append(g,this)},v.prototype.replaceChild=function(g,x){return p.mutation_replace(x,g,this)},v.prototype.removeChild=function(g){return p.mutation_preRemove(g,this)},v.prototype._getTheParent=function(g){return f.Guard.isSlotable(this)&&p.shadowTree_isAssigned(this)?this._assignedSlot:this._parent},v.ELEMENT_NODE=1,v.ATTRIBUTE_NODE=2,v.TEXT_NODE=3,v.CDATA_SECTION_NODE=4,v.ENTITY_REFERENCE_NODE=5,v.ENTITY_NODE=6,v.PROCESSING_INSTRUCTION_NODE=7,v.COMMENT_NODE=8,v.DOCUMENT_NODE=9,v.DOCUMENT_TYPE_NODE=10,v.DOCUMENT_FRAGMENT_NODE=11,v.NOTATION_NODE=12,v.DOCUMENT_POSITION_DISCONNECTED=1,v.DOCUMENT_POSITION_PRECEDING=2,v.DOCUMENT_POSITION_FOLLOWING=4,v.DOCUMENT_POSITION_CONTAINS=8,v.DOCUMENT_POSITION_CONTAINED_BY=16,v.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,v}(l.EventTargetImpl);r.NodeImpl=m,m.prototype._children=new f.EmptySet,y.idl_defineConst(m.prototype,"ELEMENT_NODE",1),y.idl_defineConst(m.prototype,"ATTRIBUTE_NODE",2),y.idl_defineConst(m.prototype,"TEXT_NODE",3),y.idl_defineConst(m.prototype,"CDATA_SECTION_NODE",4),y.idl_defineConst(m.prototype,"ENTITY_REFERENCE_NODE",5),y.idl_defineConst(m.prototype,"ENTITY_NODE",6),y.idl_defineConst(m.prototype,"PROCESSING_INSTRUCTION_NODE",7),y.idl_defineConst(m.prototype,"COMMENT_NODE",8),y.idl_defineConst(m.prototype,"DOCUMENT_NODE",9),y.idl_defineConst(m.prototype,"DOCUMENT_TYPE_NODE",10),y.idl_defineConst(m.prototype,"DOCUMENT_FRAGMENT_NODE",11),y.idl_defineConst(m.prototype,"NOTATION_NODE",12),y.idl_defineConst(m.prototype,"DOCUMENT_POSITION_DISCONNECTED",1),y.idl_defineConst(m.prototype,"DOCUMENT_POSITION_PRECEDING",2),y.idl_defineConst(m.prototype,"DOCUMENT_POSITION_FOLLOWING",4),y.idl_defineConst(m.prototype,"DOCUMENT_POSITION_CONTAINS",8),y.idl_defineConst(m.prototype,"DOCUMENT_POSITION_CONTAINED_BY",16),y.idl_defineConst(m.prototype,"DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC",32)},function(n,r){n.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},function(n,r,a){var i=a(87),s=a(41),o=a(27),c=a(26),u=a(128),l=[].push,f=function(h){var p=h==1,d=h==2,y=h==3,m=h==4,_=h==6,v=h==5||_;return function(g,x,w,C){for(var S,T,b=o(g),O=s(b),D=i(x,w,3),N=c(O.length),R=0,E=C||u,A=p?E(g,N):d?E(g,0):void 0;N>R;R++)if((v||R in O)&&(T=D(S=O[R],R,b),h)){if(p)A[R]=T;else if(T)switch(h){case 3:return!0;case 5:return S;case 6:return R;case 2:l.call(A,S)}else if(m)return!1}return _?-1:y||m?m:A}};n.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},function(n,r,a){var i=this&&this.__values||function(b){var O=typeof Symbol=="function"&&Symbol.iterator,D=O&&b[O],N=0;if(D)return D.call(b);if(b&&typeof b.length=="number")return{next:function(){return b&&N>=b.length&&(b=void 0),{value:b&&b[N++],done:!b}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(b,O){var D=typeof Symbol=="function"&&b[Symbol.iterator];if(!D)return b;var N,R,E=D.call(b),A=[];try{for(;(O===void 0||O-- >0)&&!(N=E.next()).done;)A.push(N.value)}catch(W){R={error:W}}finally{try{N&&!N.done&&(D=E.return)&&D.call(E)}finally{if(R)throw R.error}}return A},o=this&&this.__spread||function(){for(var b=[],O=0;O<arguments.length;O++)b=b.concat(s(arguments[O]));return b};Object.defineProperty(r,"__esModule",{value:!0});var c=a(6),u=a(9),l=a(2),f=a(3),h=a(1),p=a(7),d=a(73),y=a(17),m=a(172),_=a(72),v=a(51),g=a(30),x=a(106);function w(b,O,D){var N,R,E,A,W,z,F,L,G=O._nodeType,H=b._nodeType,$=D?D._nodeType:null;if(G!==l.NodeType.Document&&G!==l.NodeType.DocumentFragment&&G!==l.NodeType.Element)throw new u.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+O.nodeName+".");if(y.tree_isHostIncludingAncestorOf(O,b,!0))throw new u.HierarchyRequestError("The node to be inserted cannot be an inclusive ancestor of parent node. Node is "+b.nodeName+", parent node is "+O.nodeName+".");if(D!==null&&D._parent!==O)throw new u.NotFoundError("The reference child node cannot be found under parent node. Child node is "+D.nodeName+", parent node is "+O.nodeName+".");if(H!==l.NodeType.DocumentFragment&&H!==l.NodeType.DocumentType&&H!==l.NodeType.Element&&H!==l.NodeType.Text&&H!==l.NodeType.ProcessingInstruction&&H!==l.NodeType.CData&&H!==l.NodeType.Comment)throw new u.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+b.nodeName+".");if(H===l.NodeType.Text&&G===l.NodeType.Document)throw new u.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+b.nodeName+".");if(H===l.NodeType.DocumentType&&G!==l.NodeType.Document)throw new u.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+O.nodeName+".");if(G===l.NodeType.Document){if(H===l.NodeType.DocumentFragment){var J=0;try{for(var Q=i(b._children),q=Q.next();!q.done;q=Q.next()){var ne=q.value;if(ne._nodeType===l.NodeType.Element)J++;else if(ne._nodeType===l.NodeType.Text)throw new u.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+ne.nodeName+".")}}catch(P){N={error:P}}finally{try{q&&!q.done&&(R=Q.return)&&R.call(Q)}finally{if(N)throw N.error}}if(J>1)throw new u.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+J+" element nodes.");if(J===1){try{for(var te=i(O._children),oe=te.next();!oe.done;oe=te.next())if(oe.value._nodeType===l.NodeType.Element)throw new u.HierarchyRequestError("The document node already has a document element node.")}catch(P){E={error:P}}finally{try{oe&&!oe.done&&(A=te.return)&&A.call(te)}finally{if(E)throw E.error}}if(D){if($===l.NodeType.DocumentType)throw new u.HierarchyRequestError("Cannot insert an element node before a document type node.");for(var re=D._nextSibling;re;){if(re._nodeType===l.NodeType.DocumentType)throw new u.HierarchyRequestError("Cannot insert an element node before a document type node.");re=re._nextSibling}}}}else if(H===l.NodeType.Element){try{for(var B=i(O._children),k=B.next();!k.done;k=B.next())if(k.value._nodeType===l.NodeType.Element)throw new u.HierarchyRequestError("Document already has a document element node. Node is "+b.nodeName+".")}catch(P){W={error:P}}finally{try{k&&!k.done&&(z=B.return)&&z.call(B)}finally{if(W)throw W.error}}if(D){if($===l.NodeType.DocumentType)throw new u.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+b.nodeName+".");for(re=D._nextSibling;re;){if(re._nodeType===l.NodeType.DocumentType)throw new u.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+b.nodeName+".");re=re._nextSibling}}}else if(H===l.NodeType.DocumentType){try{for(var j=i(O._children),V=j.next();!V.done;V=j.next())if(V.value._nodeType===l.NodeType.DocumentType)throw new u.HierarchyRequestError("Document already has a document type node. Node is "+b.nodeName+".")}catch(P){F={error:P}}finally{try{V&&!V.done&&(L=j.return)&&L.call(j)}finally{if(F)throw F.error}}if(D)for(var M=D._previousSibling;M;){if(M._nodeType===l.NodeType.Element)throw new u.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+b.nodeName+".");M=M._previousSibling}else for(M=O._firstChild;M;){if(M._nodeType===l.NodeType.Element)throw new u.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+b.nodeName+".");M=M._nextSibling}}}}function C(b,O,D){w(b,O,D);var N=D;return N===b&&(N=b._nextSibling),x.document_adopt(b,O._nodeDocument),S(b,O,N),b}function S(b,O,D,N){var R,E;if(D!==null||b._nodeType===l.NodeType.DocumentFragment){var A=b._nodeType===l.NodeType.DocumentFragment?b._children.size:1;if(D!==null&&c.dom.rangeList.size!==0){var W=y.tree_index(D);try{for(var z=i(c.dom.rangeList),F=z.next();!F.done;F=z.next()){var L=F.value;L._start[0]===O&&L._start[1]>W&&(L._start[1]+=A),L._end[0]===O&&L._end[1]>W&&(L._end[1]+=A)}}catch(oe){R={error:oe}}finally{try{F&&!F.done&&(E=z.return)&&E.call(z)}finally{if(R)throw R.error}}}var G=b._nodeType===l.NodeType.DocumentFragment?new(Array.bind.apply(Array,o([void 0],b._children))):[b];if(b._nodeType===l.NodeType.DocumentFragment)for(;b._firstChild;)T(b._firstChild,b,!0);c.dom.features.mutationObservers&&b._nodeType===l.NodeType.DocumentFragment&&v.observer_queueTreeMutationRecord(b,[],G,null,null);for(var H=D?D._previousSibling:O._lastChild,$=D===null?-1:y.tree_index(D),J=0;J<G.length;J++){var Q=G[J];if(f.Guard.isElementNode(Q)&&(f.Guard.isDocumentNode(O)&&(O._documentElement=Q),Q._nodeDocument._hasNamespaces||Q._namespace===null&&Q._namespacePrefix===null||(Q._nodeDocument._hasNamespaces=!0)),Q._parent=O,D===null?p.set.append(O._children,Q):(p.set.insert(O._children,Q,$),$++),O._firstChild===null)Q._previousSibling=null,Q._nextSibling=null,O._firstChild=Q,O._lastChild=Q;else{var q=D?D._previousSibling:O._lastChild,ne=D||null;Q._previousSibling=q,Q._nextSibling=ne,q&&(q._nextSibling=Q),ne&&(ne._previousSibling=Q),q||(O._firstChild=Q),ne||(O._lastChild=Q)}c.dom.features.slots&&O._shadowRoot!==null&&f.Guard.isSlotable(Q)&&_.shadowTree_assignASlot(Q),c.dom.features.steps&&f.Guard.isTextNode(Q)&&g.dom_runChildTextContentChangeSteps(O),c.dom.features.slots&&f.Guard.isShadowRoot(y.tree_rootNode(O))&&f.Guard.isSlot(O)&&h.isEmpty(O._assignedNodes)&&_.shadowTree_signalASlotChange(O),c.dom.features.slots&&_.shadowTree_assignSlotablesForATree(y.tree_rootNode(Q));for(var te=y.tree_getFirstDescendantNode(Q,!0,!0);te!==null;)c.dom.features.steps&&g.dom_runInsertionSteps(te),c.dom.features.customElements&&f.Guard.isElementNode(te)&&_.shadowTree_isConnected(te)&&(f.Guard.isCustomElementNode(te)?d.customElement_enqueueACustomElementCallbackReaction(te,"connectedCallback",[]):d.customElement_tryToUpgrade(te)),te=y.tree_getNextDescendantNode(Q,te,!0,!0)}c.dom.features.mutationObservers&&(N||v.observer_queueTreeMutationRecord(O,G,[],H,D))}else(function(oe,re,B){var k=re._lastChild;if(f.Guard.isElementNode(oe)&&(f.Guard.isDocumentNode(re)&&(re._documentElement=oe),oe._nodeDocument._hasNamespaces||oe._namespace===null&&oe._namespacePrefix===null||(oe._nodeDocument._hasNamespaces=!0)),oe._parent=re,re._children.add(oe),re._firstChild===null)oe._previousSibling=null,oe._nextSibling=null,re._firstChild=oe,re._lastChild=oe;else{var j=re._lastChild;oe._previousSibling=j,oe._nextSibling=null,j&&(j._nextSibling=oe),j||(re._firstChild=oe),re._lastChild=oe}c.dom.features.slots&&re._shadowRoot!==null&&f.Guard.isSlotable(oe)&&_.shadowTree_assignASlot(oe),c.dom.features.steps&&f.Guard.isTextNode(oe)&&g.dom_runChildTextContentChangeSteps(re),c.dom.features.slots&&f.Guard.isShadowRoot(y.tree_rootNode(re))&&f.Guard.isSlot(re)&&h.isEmpty(re._assignedNodes)&&_.shadowTree_signalASlotChange(re),c.dom.features.slots&&_.shadowTree_assignSlotablesForATree(y.tree_rootNode(oe)),c.dom.features.steps&&g.dom_runInsertionSteps(oe),c.dom.features.customElements&&f.Guard.isElementNode(oe)&&_.shadowTree_isConnected(oe)&&(f.Guard.isCustomElementNode(oe)?d.customElement_enqueueACustomElementCallbackReaction(oe,"connectedCallback",[]):d.customElement_tryToUpgrade(oe)),c.dom.features.mutationObservers&&(B||v.observer_queueTreeMutationRecord(re,[oe],[],k,null))})(b,O,N)}function T(b,O,D){var N,R,E,A,W,z,F,L;if(c.dom.rangeList.size!==0){var G=y.tree_index(b);try{for(var H=i(c.dom.rangeList),$=H.next();!$.done;$=H.next()){var J=$.value;y.tree_isDescendantOf(b,J._start[0],!0)&&(J._start=[O,G]),y.tree_isDescendantOf(b,J._end[0],!0)&&(J._end=[O,G]),J._start[0]===O&&J._start[1]>G&&J._start[1]--,J._end[0]===O&&J._end[1]>G&&J._end[1]--}}catch(X){N={error:X}}finally{try{$&&!$.done&&(R=H.return)&&R.call(H)}finally{if(N)throw N.error}}try{for(var Q=i(c.dom.rangeList),q=Q.next();!q.done;q=Q.next())(J=q.value)._start[0]===O&&J._start[1]>G&&(J._start[1]-=1),J._end[0]===O&&J._end[1]>G&&(J._end[1]-=1)}catch(X){E={error:X}}finally{try{q&&!q.done&&(A=Q.return)&&A.call(Q)}finally{if(E)throw E.error}}}if(c.dom.features.steps)try{for(var ne=i(m.nodeIterator_iteratorList()),te=ne.next();!te.done;te=ne.next()){var oe=te.value;oe._root._nodeDocument===b._nodeDocument&&g.dom_runNodeIteratorPreRemovingSteps(oe,b)}}catch(X){W={error:X}}finally{try{te&&!te.done&&(z=ne.return)&&z.call(ne)}finally{if(W)throw W.error}}var re=b._previousSibling,B=b._nextSibling;f.Guard.isDocumentNode(O)&&f.Guard.isElementNode(b)&&(O._documentElement=null),b._parent=null,O._children.delete(b);var k=b._previousSibling,j=b._nextSibling;b._previousSibling=null,b._nextSibling=null,k&&(k._nextSibling=j),j&&(j._previousSibling=k),k||(O._firstChild=j),j||(O._lastChild=k),c.dom.features.slots&&f.Guard.isSlotable(b)&&b._assignedSlot!==null&&_.shadowTree_isAssigned(b)&&_.shadowTree_assignSlotables(b._assignedSlot),c.dom.features.slots&&f.Guard.isShadowRoot(y.tree_rootNode(O))&&f.Guard.isSlot(O)&&h.isEmpty(O._assignedNodes)&&_.shadowTree_signalASlotChange(O),c.dom.features.slots&&y.tree_getFirstDescendantNode(b,!0,!1,function(X){return f.Guard.isSlot(X)})!==null&&(_.shadowTree_assignSlotablesForATree(y.tree_rootNode(O)),_.shadowTree_assignSlotablesForATree(b)),c.dom.features.steps&&g.dom_runRemovingSteps(b,O),c.dom.features.customElements&&f.Guard.isCustomElementNode(b)&&d.customElement_enqueueACustomElementCallbackReaction(b,"disconnectedCallback",[]);for(var V=y.tree_getFirstDescendantNode(b,!1,!0);V!==null;)c.dom.features.steps&&g.dom_runRemovingSteps(V,b),c.dom.features.customElements&&f.Guard.isCustomElementNode(V)&&d.customElement_enqueueACustomElementCallbackReaction(V,"disconnectedCallback",[]),V=y.tree_getNextDescendantNode(b,V,!1,!0);if(c.dom.features.mutationObservers)for(var M=y.tree_getFirstAncestorNode(O,!0);M!==null;){try{for(var P=(F=void 0,i(M._registeredObserverList)),U=P.next();!U.done;U=P.next()){var K=U.value;K.options.subtree&&b._registeredObserverList.push({observer:K.observer,options:K.options,source:K})}}catch(X){F={error:X}}finally{try{U&&!U.done&&(L=P.return)&&L.call(P)}finally{if(F)throw F.error}}M=y.tree_getNextAncestorNode(O,M,!0)}c.dom.features.mutationObservers&&(D||v.observer_queueTreeMutationRecord(O,[],[b],re,B)),c.dom.features.steps&&f.Guard.isTextNode(b)&&g.dom_runChildTextContentChangeSteps(O)}r.mutation_ensurePreInsertionValidity=w,r.mutation_preInsert=C,r.mutation_insert=S,r.mutation_append=function(b,O){return C(b,O,null)},r.mutation_replace=function(b,O,D){var N,R,E,A,W,z,F,L;if(D._nodeType!==l.NodeType.Document&&D._nodeType!==l.NodeType.DocumentFragment&&D._nodeType!==l.NodeType.Element)throw new u.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+D.nodeName+".");if(y.tree_isHostIncludingAncestorOf(D,O,!0))throw new u.HierarchyRequestError("The node to be inserted cannot be an ancestor of parent node. Node is "+O.nodeName+", parent node is "+D.nodeName+".");if(b._parent!==D)throw new u.NotFoundError("The reference child node cannot be found under parent node. Child node is "+b.nodeName+", parent node is "+D.nodeName+".");if(O._nodeType!==l.NodeType.DocumentFragment&&O._nodeType!==l.NodeType.DocumentType&&O._nodeType!==l.NodeType.Element&&O._nodeType!==l.NodeType.Text&&O._nodeType!==l.NodeType.ProcessingInstruction&&O._nodeType!==l.NodeType.CData&&O._nodeType!==l.NodeType.Comment)throw new u.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+O.nodeName+".");if(O._nodeType===l.NodeType.Text&&D._nodeType===l.NodeType.Document)throw new u.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+O.nodeName+".");if(O._nodeType===l.NodeType.DocumentType&&D._nodeType!==l.NodeType.Document)throw new u.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+D.nodeName+".");if(D._nodeType===l.NodeType.Document){if(O._nodeType===l.NodeType.DocumentFragment){var G=0;try{for(var H=i(O._children),$=H.next();!$.done;$=H.next()){var J=$.value;if(J._nodeType===l.NodeType.Element)G++;else if(J._nodeType===l.NodeType.Text)throw new u.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+J.nodeName+".")}}catch(K){N={error:K}}finally{try{$&&!$.done&&(R=H.return)&&R.call(H)}finally{if(N)throw N.error}}if(G>1)throw new u.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+G+" element nodes.");if(G===1){try{for(var Q=i(D._children),q=Q.next();!q.done;q=Q.next())if((k=q.value)._nodeType===l.NodeType.Element&&k!==b)throw new u.HierarchyRequestError("The document node already has a document element node.")}catch(K){E={error:K}}finally{try{q&&!q.done&&(A=Q.return)&&A.call(Q)}finally{if(E)throw E.error}}for(var ne=b._nextSibling;ne;){if(ne._nodeType===l.NodeType.DocumentType)throw new u.HierarchyRequestError("Cannot insert an element node before a document type node.");ne=ne._nextSibling}}}else if(O._nodeType===l.NodeType.Element){try{for(var te=i(D._children),oe=te.next();!oe.done;oe=te.next())if((k=oe.value)._nodeType===l.NodeType.Element&&k!==b)throw new u.HierarchyRequestError("Document already has a document element node. Node is "+O.nodeName+".")}catch(K){W={error:K}}finally{try{oe&&!oe.done&&(z=te.return)&&z.call(te)}finally{if(W)throw W.error}}for(ne=b._nextSibling;ne;){if(ne._nodeType===l.NodeType.DocumentType)throw new u.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+O.nodeName+".");ne=ne._nextSibling}}else if(O._nodeType===l.NodeType.DocumentType){try{for(var re=i(D._children),B=re.next();!B.done;B=re.next()){var k;if((k=B.value)._nodeType===l.NodeType.DocumentType&&k!==b)throw new u.HierarchyRequestError("Document already has a document type node. Node is "+O.nodeName+".")}}catch(K){F={error:K}}finally{try{B&&!B.done&&(L=re.return)&&L.call(re)}finally{if(F)throw F.error}}for(var j=b._previousSibling;j;){if(j._nodeType===l.NodeType.Element)throw new u.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+O.nodeName+".");j=j._previousSibling}}}var V=b._nextSibling;V===O&&(V=O._nextSibling);var M=b._previousSibling;x.document_adopt(O,D._nodeDocument);var P=[];b._parent!==null&&(P.push(b),T(b,b._parent,!0));var U=[];return O._nodeType===l.NodeType.DocumentFragment?U=Array.from(O._children):U.push(O),S(O,D,V,!0),c.dom.features.mutationObservers&&v.observer_queueTreeMutationRecord(D,U,P,M,V),b},r.mutation_replaceAll=function(b,O){var D,N;b!==null&&x.document_adopt(b,O._nodeDocument);var R=Array.from(O._children),E=[];b&&b._nodeType===l.NodeType.DocumentFragment?E=Array.from(b._children):b!==null&&E.push(b);try{for(var A=i(R),W=A.next();!W.done;W=A.next())T(W.value,O,!0)}catch(z){D={error:z}}finally{try{W&&!W.done&&(N=A.return)&&N.call(A)}finally{if(D)throw D.error}}b!==null&&S(b,O,null,!0),c.dom.features.mutationObservers&&v.observer_queueTreeMutationRecord(O,E,R,null,null)},r.mutation_preRemove=function(b,O){if(b._parent!==O)throw new u.NotFoundError("The child node cannot be found under parent node. Child node is "+b.nodeName+", parent node is "+O.nodeName+".");return T(b,O),b},r.mutation_remove=T},function(n,r,a){function i(s){return s==null}n.exports.isNothing=i,n.exports.isObject=function(s){return typeof s=="object"&&s!==null},n.exports.toArray=function(s){return Array.isArray(s)?s:i(s)?[]:[s]},n.exports.repeat=function(s,o){var c,u="";for(c=0;c<o;c+=1)u+=s;return u},n.exports.isNegativeZero=function(s){return s===0&&Number.NEGATIVE_INFINITY===1/s},n.exports.extend=function(s,o){var c,u,l,f;if(o)for(c=0,u=(f=Object.keys(o)).length;c<u;c+=1)s[l=f[c]]=o[l];return s}},function(n,r,a){var i=a(38),s=a(53),o=a(10);function c(l,f,h){var p=[];return l.include.forEach(function(d){h=c(d,f,h)}),l[f].forEach(function(d){h.forEach(function(y,m){y.tag===d.tag&&y.kind===d.kind&&p.push(m)}),h.push(d)}),h.filter(function(d,y){return p.indexOf(y)===-1})}function u(l){this.include=l.include||[],this.implicit=l.implicit||[],this.explicit=l.explicit||[],this.implicit.forEach(function(f){if(f.loadKind&&f.loadKind!=="scalar")throw new s("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=c(this,"implicit",[]),this.compiledExplicit=c(this,"explicit",[]),this.compiledTypeMap=function(){var f,h,p={scalar:{},sequence:{},mapping:{},fallback:{}};function d(y){p[y.kind][y.tag]=p.fallback[y.tag]=y}for(f=0,h=arguments.length;f<h;f+=1)arguments[f].forEach(d);return p}(this.compiledImplicit,this.compiledExplicit)}u.DEFAULT=null,u.create=function(){var l,f;switch(arguments.length){case 1:l=u.DEFAULT,f=arguments[0];break;case 2:l=arguments[0],f=arguments[1];break;default:throw new s("Wrong number of arguments for Schema.create function")}if(l=i.toArray(l),f=i.toArray(f),!l.every(function(h){return h instanceof u}))throw new s("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!f.every(function(h){return h instanceof o}))throw new s("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new u({include:l,explicit:f})},n.exports=u},function(n,r){n.exports=function(a,i){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:i}}},function(n,r,a){var i=a(8),s=a(42),o="".split;n.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return s(c)=="String"?o.call(c,""):Object(c)}:Object},function(n,r){var a={}.toString;n.exports=function(i){return a.call(i).slice(8,-1)}},function(n,r,a){var i,s,o,c=a(186),u=a(11),l=a(13),f=a(21),h=a(14),p=a(57),d=a(45),y=u.WeakMap;if(c){var m=new y,_=m.get,v=m.has,g=m.set;i=function(w,C){return g.call(m,w,C),C},s=function(w){return _.call(m,w)||{}},o=function(w){return v.call(m,w)}}else{var x=p("state");d[x]=!0,i=function(w,C){return f(w,x,C),C},s=function(w){return h(w,x)?w[x]:{}},o=function(w){return h(w,x)}}n.exports={set:i,get:s,has:o,enforce:function(w){return o(w)?s(w):i(w,{})},getterFor:function(w){return function(C){var S;if(!l(C)||(S=s(C)).type!==w)throw TypeError("Incompatible receiver, "+w+" required");return S}}}},function(n,r){n.exports=!1},function(n,r){n.exports={}},function(n,r,a){var i=a(120),s=a(11),o=function(c){return typeof c=="function"?c:void 0};n.exports=function(c,u){return arguments.length<2?o(i[c])||o(s[c]):i[c]&&i[c][u]||s[c]&&s[c][u]}},function(n,r){var a=Math.ceil,i=Math.floor;n.exports=function(s){return isNaN(s=+s)?0:(s>0?i:a)(s)}},function(n,r,a){var i=a(8);n.exports=function(s,o){var c=[][s];return!!c&&i(function(){c.call(null,o||function(){throw 1},1)})}},function(n,r){n.exports={}},function(n,r,a){a(31),a(32),a(33),a(220),a(64),a(19),a(65),a(20),a(68),a(66),a(92),a(144),a(22),a(94),a(23);var i=this&&this.__values||function(d){var y=typeof Symbol=="function"&&Symbol.iterator,m=y&&d[y],_=0;if(m)return m.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&_>=d.length&&(d=void 0),{value:d&&d[_++],done:!d}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(d,y){var m=typeof Symbol=="function"&&d[Symbol.iterator];if(!m)return d;var _,v,g=m.call(d),x=[];try{for(;(y===void 0||y-- >0)&&!(_=g.next()).done;)x.push(_.value)}catch(w){v={error:w}}finally{try{_&&!_.done&&(m=g.return)&&m.call(g)}finally{if(v)throw v.error}}return x},o=this&&this.__spread||function(){for(var d=[],y=0;y<arguments.length;y++)d=d.concat(s(arguments[y]));return d};Object.defineProperty(r,"__esModule",{value:!0});var c=a(2),u=a(69),l=a(95),f=a(7),h=a(0),p=function(){function d(y){this.level=0,this._builderOptions=y}return d.prototype.declaration=function(y,m,_){},d.prototype.docType=function(y,m,_){},d.prototype.comment=function(y){},d.prototype.text=function(y){},d.prototype.instruction=function(y,m){},d.prototype.cdata=function(y){},d.prototype.openTagBegin=function(y){},d.prototype.openTagEnd=function(y,m,_){},d.prototype.closeTag=function(y){},d.prototype.attributes=function(y){var m,_;try{for(var v=i(y),g=v.next();!g.done;g=v.next()){var x=g.value;this.attribute(x[1]===null?x[2]:x[1]+":"+x[2],x[3])}}catch(w){m={error:w}}finally{try{g&&!g.done&&(_=v.return)&&_.call(v)}finally{if(m)throw m.error}}},d.prototype.attribute=function(y,m){},d.prototype.beginElement=function(y){},d.prototype.endElement=function(y){},d.prototype.serializeNode=function(y,m){var _=y._nodeDocument!==void 0&&y._nodeDocument._hasNamespaces;if(this.level=0,this.currentNode=y,_){var v=new l.NamespacePrefixMap;v.set("xml",f.namespace.XML),this._serializeNodeNS(y,null,v,{value:1},m)}else this._serializeNode(y,m)},d.prototype._serializeNodeNS=function(y,m,_,v,g){switch(this.currentNode=y,y.nodeType){case c.NodeType.Element:this._serializeElementNS(y,m,_,v,g);break;case c.NodeType.Document:this._serializeDocumentNS(y,m,_,v,g);break;case c.NodeType.Comment:this._serializeComment(y,g);break;case c.NodeType.Text:this._serializeText(y,g);break;case c.NodeType.DocumentFragment:this._serializeDocumentFragmentNS(y,m,_,v,g);break;case c.NodeType.DocumentType:this._serializeDocumentType(y,g);break;case c.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(y,g);break;case c.NodeType.CData:this._serializeCData(y,g);break;default:throw new Error("Unknown node type: "+y.nodeType)}},d.prototype._serializeNode=function(y,m){switch(this.currentNode=y,y.nodeType){case c.NodeType.Element:this._serializeElement(y,m);break;case c.NodeType.Document:this._serializeDocument(y,m);break;case c.NodeType.Comment:this._serializeComment(y,m);break;case c.NodeType.Text:this._serializeText(y,m);break;case c.NodeType.DocumentFragment:this._serializeDocumentFragment(y,m);break;case c.NodeType.DocumentType:this._serializeDocumentType(y,m);break;case c.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(y,m);break;case c.NodeType.CData:this._serializeCData(y,m);break;default:throw new Error("Unknown node type: "+y.nodeType)}},d.prototype._serializeElementNS=function(y,m,_,v,g){var x,w,C=[];if(g&&(y.localName.indexOf(":")!==-1||!h.xml_isName(y.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var S="",T=!1,b=!1,O=_.copy(),D={},N=this._recordNamespaceInformation(y,O,D),R=m,E=y.namespaceURI;if(R===E)N!==null&&(b=!0),S=E===f.namespace.XML?"xml:"+y.localName:y.localName,this.beginElement(S),this.openTagBegin(S);else{var A=y.prefix,W=null;if(A===null&&E===N||(W=O.get(A,E)),A==="xmlns"){if(g)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");W=A}W!==null?(S=W+":"+y.localName,N!==null&&N!==f.namespace.XML&&(R=N||null),this.beginElement(S),this.openTagBegin(S)):A!==null?(A in D&&(A=this._generatePrefix(E,O,v)),O.set(A,E),S+=A+":"+y.localName,this.beginElement(S),this.openTagBegin(S),C.push([null,"xmlns",A,this._serializeAttributeValue(E,g)]),N!==null&&(R=N||null)):N===null||N!==null&&N!==E?(b=!0,S+=y.localName,R=E,this.beginElement(S),this.openTagBegin(S),C.push([null,null,"xmlns",this._serializeAttributeValue(E,g)])):(S+=y.localName,R=E,this.beginElement(S),this.openTagBegin(S))}C.push.apply(C,o(this._serializeAttributesNS(y,O,v,D,b,g))),this.attributes(C);var z=E===f.namespace.HTML;if(z&&y.childNodes.length===0&&d._VoidElementNames.has(y.localName)?(this.openTagEnd(S,!0,!0),this.endElement(S),T=!0):z||y.childNodes.length!==0?this.openTagEnd(S,!1,!1):(this.openTagEnd(S,!0,!1),this.endElement(S),T=!0),!T){if(!(z&&y.localName==="template"))try{for(var F=i(y.childNodes),L=F.next();!L.done;L=F.next()){var G=L.value;this.level++,this._serializeNodeNS(G,R,O,v,g),this.level--}}catch(H){x={error:H}}finally{try{L&&!L.done&&(w=F.return)&&w.call(F)}finally{if(x)throw x.error}}this.closeTag(S),this.endElement(S)}},d.prototype._serializeElement=function(y,m){var _,v;if(m&&(y.localName.indexOf(":")!==-1||!h.xml_isName(y.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var g=!1,x=y.localName;this.beginElement(x),this.openTagBegin(x);var w=this._serializeAttributes(y,m);if(this.attributes(w),y.hasChildNodes()?this.openTagEnd(x,!1,!1):(this.openTagEnd(x,!0,!1),this.endElement(x),g=!0),!g){try{for(var C=i(y._children),S=C.next();!S.done;S=C.next()){var T=S.value;this.level++,this._serializeNode(T,m),this.level--}}catch(b){_={error:b}}finally{try{S&&!S.done&&(v=C.return)&&v.call(C)}finally{if(_)throw _.error}}this.closeTag(x),this.endElement(x)}},d.prototype._serializeDocumentNS=function(y,m,_,v,g){var x,w;if(g&&y.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var C=i(y.childNodes),S=C.next();!S.done;S=C.next()){var T=S.value;this._serializeNodeNS(T,m,_,v,g)}}catch(b){x={error:b}}finally{try{S&&!S.done&&(w=C.return)&&w.call(C)}finally{if(x)throw x.error}}},d.prototype._serializeDocument=function(y,m){var _,v;if(m&&y.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var g=i(y._children),x=g.next();!x.done;x=g.next()){var w=x.value;this._serializeNode(w,m)}}catch(C){_={error:C}}finally{try{x&&!x.done&&(v=g.return)&&v.call(g)}finally{if(_)throw _.error}}},d.prototype._serializeComment=function(y,m){if(m&&(!h.xml_isLegalChar(y.data)||y.data.indexOf("--")!==-1||y.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");this.comment(y.data)},d.prototype._serializeText=function(y,m){if(m&&!h.xml_isLegalChar(y.data))throw new Error("Text data contains invalid characters (well-formed required).");var _=y.data.replace(/(?!&([^&;]*);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.text(_)},d.prototype._serializeDocumentFragmentNS=function(y,m,_,v,g){var x,w;try{for(var C=i(y.childNodes),S=C.next();!S.done;S=C.next()){var T=S.value;this._serializeNodeNS(T,m,_,v,g)}}catch(b){x={error:b}}finally{try{S&&!S.done&&(w=C.return)&&w.call(C)}finally{if(x)throw x.error}}},d.prototype._serializeDocumentFragment=function(y,m){var _,v;try{for(var g=i(y._children),x=g.next();!x.done;x=g.next()){var w=x.value;this._serializeNode(w,m)}}catch(C){_={error:C}}finally{try{x&&!x.done&&(v=g.return)&&v.call(g)}finally{if(_)throw _.error}}},d.prototype._serializeDocumentType=function(y,m){if(m&&!h.xml_isPubidChar(y.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(m&&(!h.xml_isLegalChar(y.systemId)||y.systemId.indexOf('"')!==-1&&y.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");this.docType(y.name,y.publicId,y.systemId)},d.prototype._serializeProcessingInstruction=function(y,m){if(m&&(y.target.indexOf(":")!==-1||/^xml$/i.test(y.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(m&&(!h.xml_isLegalChar(y.data)||y.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");this.instruction(y.target,y.data)},d.prototype._serializeCData=function(y,m){if(m&&y.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");this.cdata(y.data)},d.prototype._serializeAttributesNS=function(y,m,_,v,g,x){var w,C,S=[],T=x?new u.LocalNameSet:void 0;try{for(var b=i(y.attributes),O=b.next();!O.done;O=b.next()){var D=O.value;if(x||g||D.namespaceURI!==null){if(x&&T&&T.has(D.namespaceURI,D.localName))throw new Error("Element contains duplicate attributes (well-formed required).");x&&T&&T.set(D.namespaceURI,D.localName);var N=D.namespaceURI,R=null;if(N!==null)if(R=m.get(D.prefix,N),N===f.namespace.XMLNS){if(D.value===f.namespace.XML||D.prefix===null&&g||D.prefix!==null&&(!(D.localName in v)||v[D.localName]!==D.value)&&m.has(D.localName,D.value))continue;if(x&&D.value===f.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(x&&D.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");D.prefix==="xmlns"&&(R="xmlns")}else R===null&&(R=D.prefix===null||m.hasPrefix(D.prefix)&&!m.has(D.prefix,N)?this._generatePrefix(N,m,_):D.prefix,S.push([null,"xmlns",R,this._serializeAttributeValue(N,x)]));if(x&&(D.localName.indexOf(":")!==-1||!h.xml_isName(D.localName)||D.localName==="xmlns"&&N===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");S.push([N,R,D.localName,this._serializeAttributeValue(D.value,x)])}else S.push([null,null,D.localName,this._serializeAttributeValue(D.value,x)])}}catch(E){w={error:E}}finally{try{O&&!O.done&&(C=b.return)&&C.call(b)}finally{if(w)throw w.error}}return S},d.prototype._serializeAttributes=function(y,m){var _,v,g=[],x=m?{}:void 0;try{for(var w=i(y.attributes),C=w.next();!C.done;C=w.next()){var S=C.value;if(m){if(m&&x&&S.localName in x)throw new Error("Element contains duplicate attributes (well-formed required).");if(m&&x&&(x[S.localName]=!0),m&&(S.localName.indexOf(":")!==-1||!h.xml_isName(S.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");g.push([null,null,S.localName,this._serializeAttributeValue(S.value,m)])}else g.push([null,null,S.localName,this._serializeAttributeValue(S.value,m)])}}catch(T){_={error:T}}finally{try{C&&!C.done&&(v=w.return)&&v.call(w)}finally{if(_)throw _.error}}return g},d.prototype._recordNamespaceInformation=function(y,m,_){var v,g,x=null;try{for(var w=i(y.attributes),C=w.next();!C.done;C=w.next()){var S=C.value,T=S.namespaceURI,b=S.prefix;if(T===f.namespace.XMLNS){if(b===null){x=S.value;continue}var O=S.localName,D=S.value;if(D===f.namespace.XML||(D===""&&(D=null),m.has(O,D)))continue;m.set(O,D),_[O]=D||""}}}catch(N){v={error:N}}finally{try{C&&!C.done&&(g=w.return)&&g.call(w)}finally{if(v)throw v.error}}return x},d.prototype._generatePrefix=function(y,m,_){var v="ns"+_.value.toString();return _.value++,m.set(v,y),v},d.prototype._serializeAttributeValue=function(y,m){if(m&&y!==null&&!h.xml_isLegalChar(y))throw new Error("Invalid characters in attribute value.");return y===null?"":y.replace(/(?!&([^&;]*);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},d._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),d}();r.BaseWriter=p},function(n,r,a){var i=this&&this.__values||function(m){var _=typeof Symbol=="function"&&Symbol.iterator,v=_&&m[_],g=0;if(v)return v.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&g>=m.length&&(m=void 0),{value:m&&m[g++],done:!m}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(m,_){var v=typeof Symbol=="function"&&m[Symbol.iterator];if(!v)return m;var g,x,w=v.call(m),C=[];try{for(;(_===void 0||_-- >0)&&!(g=w.next()).done;)C.push(g.value)}catch(S){x={error:S}}finally{try{g&&!g.done&&(v=w.return)&&v.call(w)}finally{if(x)throw x.error}}return C};Object.defineProperty(r,"__esModule",{value:!0});var o=a(6),c=a(3),u=a(7),l=a(29),f=a(17),h=a(97);function p(){var m=o.dom.window;m._mutationObserverMicrotaskQueued||(m._mutationObserverMicrotaskQueued=!0,Promise.resolve().then(function(){d()}))}function d(){var m,_,v,g,x=o.dom.window;x._mutationObserverMicrotaskQueued=!1;var w=u.set.clone(x._mutationObservers),C=u.set.clone(x._signalSlots);u.set.empty(x._signalSlots);var S=function(R){var E=u.list.clone(R._recordQueue);u.list.empty(R._recordQueue);for(var A=0;A<R._nodeList.length;A++){var W=R._nodeList[A];u.list.remove(W._registeredObserverList,function(z){return c.Guard.isTransientRegisteredObserver(z)&&z.observer===R})}if(!u.list.isEmpty(E))try{R._callback.call(R,E,R)}catch{}};try{for(var T=i(w),b=T.next();!b.done;b=T.next())S(b.value)}catch(R){m={error:R}}finally{try{b&&!b.done&&(_=T.return)&&_.call(T)}finally{if(m)throw m.error}}if(o.dom.features.slots)try{for(var O=i(C),D=O.next();!D.done;D=O.next()){var N=D.value;h.event_fireAnEvent("slotchange",N,void 0,{bubbles:!0})}}catch(R){v={error:R}}finally{try{D&&!D.done&&(g=O.return)&&g.call(O)}finally{if(v)throw v.error}}}function y(m,_,v,g,x,w,C,S,T){for(var b,O,D=new Map,N=f.tree_getFirstAncestorNode(_,!0);N!==null;){for(var R=0;R<N._registeredObserverList.length;R++){var E=N._registeredObserverList[R],A=E.options;if((N===_||A.subtree)&&(m!=="attributes"||A.attributes)&&(m!=="attributes"||!A.attributeFilter||A.attributeFilter.indexOf(v||"")&&g===null)&&(m!=="characterData"||A.characterData)&&(m!=="childList"||A.childList)){var W=E.observer;D.has(W)||D.set(W,null),(m==="attributes"&&A.attributeOldValue||m==="characterData"&&A.characterDataOldValue)&&D.set(W,x)}}N=f.tree_getNextAncestorNode(_,N,!0)}try{for(var z=i(D),F=z.next();!F.done;F=z.next()){var L=s(F.value,2),G=L[0],H=L[1],$=l.create_mutationRecord(m,_,l.create_nodeListStatic(_,w),l.create_nodeListStatic(_,C),S,T,v,g,H);G._recordQueue.push($)}}catch(J){b={error:J}}finally{try{F&&!F.done&&(O=z.return)&&O.call(z)}finally{if(b)throw b.error}}p()}r.observer_queueAMutationObserverMicrotask=p,r.observer_notifyMutationObservers=d,r.observer_queueMutationRecord=y,r.observer_queueTreeMutationRecord=function(m,_,v,g,x){y("childList",m,null,null,null,_,v,g,x)},r.observer_queueAttributeMutationRecord=function(m,_,v,g){y("attributes",m,_,v,g,[],[],null,null)}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(6),s=a(7),o=a(3),c=a(9),u=a(29),l=a(73),f=a(51),h=a(30),p=a(37),d=a(106);function y(w,C,S){i.dom.features.mutationObservers&&f.observer_queueAttributeMutationRecord(C,w._localName,w._namespace,w._value),i.dom.features.customElements&&o.Guard.isCustomElementNode(C)&&l.customElement_enqueueACustomElementCallbackReaction(C,"attributeChangedCallback",[w._localName,w._value,S,w._namespace]),i.dom.features.steps&&h.dom_runAttributeChangeSteps(C,w._localName,w._value,S,w._namespace),w._value=S}function m(w,C){i.dom.features.mutationObservers&&f.observer_queueAttributeMutationRecord(C,w._localName,w._namespace,null),i.dom.features.customElements&&o.Guard.isCustomElementNode(C)&&l.customElement_enqueueACustomElementCallbackReaction(C,"attributeChangedCallback",[w._localName,null,w._value,w._namespace]),i.dom.features.steps&&h.dom_runAttributeChangeSteps(C,w._localName,null,w._value,w._namespace),C._attributeList._asArray().push(w),w._element=C,C._nodeDocument._hasNamespaces||w._namespace===null&&w._namespacePrefix===null&&w._localName!=="xmlns"||(C._nodeDocument._hasNamespaces=!0)}function _(w,C){i.dom.features.mutationObservers&&f.observer_queueAttributeMutationRecord(C,w._localName,w._namespace,w._value),i.dom.features.customElements&&o.Guard.isCustomElementNode(C)&&l.customElement_enqueueACustomElementCallbackReaction(C,"attributeChangedCallback",[w._localName,w._value,null,w._namespace]),i.dom.features.steps&&h.dom_runAttributeChangeSteps(C,w._localName,w._value,null,w._namespace);var S=C._attributeList._asArray().indexOf(w);C._attributeList._asArray().splice(S,1),w._element=null}function v(w,C,S){i.dom.features.mutationObservers&&f.observer_queueAttributeMutationRecord(S,w._localName,w._namespace,w._value),i.dom.features.customElements&&o.Guard.isCustomElementNode(S)&&l.customElement_enqueueACustomElementCallbackReaction(S,"attributeChangedCallback",[w._localName,w._value,C._value,w._namespace]),i.dom.features.steps&&h.dom_runAttributeChangeSteps(S,w._localName,w._value,C._value,w._namespace);var T=S._attributeList._asArray().indexOf(w);T!==-1&&(S._attributeList._asArray()[T]=C),w._element=null,C._element=S,S._nodeDocument._hasNamespaces||C._namespace===null&&C._namespacePrefix===null&&C._localName!=="xmlns"||(S._nodeDocument._hasNamespaces=!0)}function g(w,C){return C._namespace===s.namespace.HTML&&C._nodeDocument._type==="html"&&(w=w.toLowerCase()),C._attributeList._asArray().find(function(S){return S._qualifiedName===w})||null}function x(w,C,S){var T=w||null;return S._attributeList._asArray().find(function(b){return b._namespace===T&&b._localName===C})||null}r.element_has=function(w,C){return C._attributeList._asArray().indexOf(w)!==-1},r.element_change=y,r.element_append=m,r.element_remove=_,r.element_replace=v,r.element_getAnAttributeByName=g,r.element_getAnAttributeByNamespaceAndLocalName=x,r.element_getAnAttributeValue=function(w,C,S){S===void 0&&(S="");var T=x(S,C,w);return T===null?"":T._value},r.element_setAnAttribute=function(w,C){if(w._element!==null&&w._element!==C)throw new c.InUseAttributeError("This attribute already exists in the document: "+w._qualifiedName+" as a child of "+w._element._qualifiedName+".");var S=x(w._namespace||"",w._localName,C);return S===w?w:(S!==null?v(S,w,C):m(w,C),S)},r.element_setAnAttributeValue=function(w,C,S,T,b){T===void 0&&(T=null),b===void 0&&(b=null);var O=x(b||"",C,w);if(O===null){var D=u.create_attr(w._nodeDocument,C);return D._namespace=b,D._namespacePrefix=T,D._value=S,void m(D,w)}y(O,w,S)},r.element_removeAnAttributeByName=function(w,C){var S=g(w,C);return S!==null&&_(S,C),S},r.element_removeAnAttributeByNamespaceAndLocalName=function(w,C,S){var T=x(w,C,S);return T!==null&&_(T,S),T},r.element_createAnElement=function(w,C,S,T,b,O){T===void 0&&(T=null),b===void 0&&(b=null),O===void 0&&(O=!1);var D=null;if(!i.dom.features.customElements)return(D=u.create_element(w,C,S,T))._customElementState="uncustomized",D._customElementDefinition=null,D._is=b,D;var N=l.customElement_lookUpACustomElementDefinition(w,S,C,b);if(N!==null&&N.name!==N.localName)(D=new(d.document_elementInterface(C,s.namespace.HTML)))._localName=C,D._namespace=s.namespace.HTML,D._namespacePrefix=T,D._customElementState="undefined",D._customElementDefinition=null,D._is=b,D._nodeDocument=w,O?l.customElement_upgrade(N,D):l.customElement_enqueueACustomElementUpgradeReaction(D,N);else if(N!==null)if(O)try{var R=new N.constructor;if(console.assert(R._customElementState!==void 0),console.assert(R._customElementDefinition!==void 0),console.assert(R._namespace===s.namespace.HTML),R._attributeList.length!==0)throw new c.NotSupportedError("Custom element already has attributes.");if(R._children.size!==0)throw new c.NotSupportedError("Custom element already has child nodes.");if(R._parent!==null)throw new c.NotSupportedError("Custom element already has a parent node.");if(R._nodeDocument!==w)throw new c.NotSupportedError("Custom element is already in a document.");if(R._localName!==C)throw new c.NotSupportedError("Custom element has a different local name.");R._namespacePrefix=T,R._is=null}catch{(D=u.create_htmlUnknownElement(w,C,s.namespace.HTML,T))._customElementState="failed",D._customElementDefinition=null,D._is=null}else(D=u.create_htmlElement(w,C,s.namespace.HTML,T))._customElementState="undefined",D._customElementDefinition=null,D._is=null,l.customElement_enqueueACustomElementUpgradeReaction(D,N);else(D=new(d.document_elementInterface(C,S)))._localName=C,D._namespace=S,D._namespacePrefix=T,D._customElementState="uncustomized",D._customElementDefinition=null,D._is=b,D._nodeDocument=w,S!==s.namespace.HTML||b===null&&!l.customElement_isValidCustomElementName(C)||(D._customElementState="undefined");if(D===null)throw new Error("Unable to create element.");return D},r.element_insertAdjacent=function(w,C,S){switch(C.toLowerCase()){case"beforebegin":return w._parent===null?null:p.mutation_preInsert(S,w._parent,w);case"afterbegin":return p.mutation_preInsert(S,w,w._firstChild);case"beforeend":return p.mutation_preInsert(S,w,null);case"afterend":return w._parent===null?null:p.mutation_preInsert(S,w._parent,w._nextSibling);default:throw new c.SyntaxError(`Invalid 'where' argument. "beforebegin", "afterbegin", "beforeend" or "afterend" expected`)}}},function(n,r,a){function i(s,o){Error.call(this),this.name="YAMLException",this.reason=s,this.mark=o,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.toString=function(s){var o=this.name+": ";return o+=this.reason||"(unknown reason)",!s&&this.mark&&(o+=" "+this.mark.toString()),o},n.exports=i},function(n,r,a){var i=a(39);n.exports=new i({include:[a(181)],implicit:[a(293),a(294)],explicit:[a(295),a(296),a(297),a(298)]})},function(n,r,a){var i=a(16),s=a(79),o=a(40),c=a(24),u=a(56),l=a(14),f=a(115),h=Object.getOwnPropertyDescriptor;r.f=i?h:function(p,d){if(p=c(p),d=u(d,!0),f)try{return h(p,d)}catch{}if(l(p,d))return o(!s.f.call(p,d),p[d])}},function(n,r,a){var i=a(13);n.exports=function(s,o){if(!i(s))return s;var c,u;if(o&&typeof(c=s.toString)=="function"&&!i(u=c.call(s))||typeof(c=s.valueOf)=="function"&&!i(u=c.call(s))||!o&&typeof(c=s.toString)=="function"&&!i(u=c.call(s)))return u;throw TypeError("Can't convert object to primitive value")}},function(n,r,a){var i=a(81),s=a(58),o=i("keys");n.exports=function(c){return o[c]||(o[c]=s(c))}},function(n,r){var a=0,i=Math.random();n.exports=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++a+i).toString(36)}},function(n,r,a){var i=a(42);n.exports=Array.isArray||function(s){return i(s)=="Array"}},function(n,r,a){var i,s=a(18),o=a(188),c=a(84),u=a(45),l=a(189),f=a(116),h=a(57),p=h("IE_PROTO"),d=function(){},y=function(_){return"<script>"+_+"<\/script>"},m=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch{}var _,v;m=i?function(x){x.write(y("")),x.close();var w=x.parentWindow.Object;return x=null,w}(i):((v=f("iframe")).style.display="none",l.appendChild(v),v.src=String("javascript:"),(_=v.contentWindow.document).open(),_.write(y("document.F=Object")),_.close(),_.F);for(var g=c.length;g--;)delete m.prototype[c[g]];return m()};u[p]=!0,n.exports=Object.create||function(_,v){var g;return _!==null?(d.prototype=s(_),g=new d,d.prototype=null,g[p]=_):g=m(),v===void 0?g:o(g,v)}},function(n,r,a){var i=a(121),s=a(84);n.exports=Object.keys||function(o){return i(o,s)}},function(n,r,a){var i=a(15).f,s=a(14),o=a(5)("toStringTag");n.exports=function(c,u,l){c&&!s(c=l?c:c.prototype,o)&&i(c,o,{configurable:!0,value:u})}},function(n,r,a){var i=a(8),s=a(5),o=a(129),c=s("species");n.exports=function(u){return o>=51||!i(function(){var l=[];return(l.constructor={})[c]=function(){return{foo:1}},l[u](Boolean).foo!==1})}},function(n,r,a){var i=a(4),s=a(122).indexOf,o=a(48),c=a(28),u=[].indexOf,l=!!u&&1/[1].indexOf(1,-0)<0,f=o("indexOf"),h=c("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:l||!f||!h},{indexOf:function(p){return l?u.apply(this,arguments)||0:s(this,p,arguments.length>1?arguments[1]:void 0)}})},function(n,r,a){var i=a(16),s=a(15).f,o=Function.prototype,c=o.toString,u=/^\s*function ([^ (]*)/;i&&!("name"in o)&&s(o,"name",{configurable:!0,get:function(){try{return c.call(this).match(u)[1]}catch{return""}}})},function(n,r,a){var i=a(25),s=a(18),o=a(8),c=a(136),u=RegExp.prototype,l=u.toString,f=o(function(){return l.call({source:"a",flags:"b"})!="/a/b"}),h=l.name!="toString";(f||h)&&i(RegExp.prototype,"toString",function(){var p=s(this),d=String(p.source),y=p.flags;return"/"+d+"/"+String(y===void 0&&p instanceof RegExp&&!("flags"in u)?c.call(p):y)},{unsafe:!0})},function(n,r,a){a(31),a(32),a(33),a(19),a(138),a(20),a(66),a(22),a(23);var i,s=this&&this.__extends||(i=function(f,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var y in d)d.hasOwnProperty(y)&&(p[y]=d[y])})(f,h)},function(f,h){function p(){this.constructor=f}i(f,h),f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}),o=this&&this.__values||function(f){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&f[h],d=0;if(p)return p.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&d>=f.length&&(f=void 0),{value:f&&f[d++],done:!f}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var c=a(1),u=a(2),l=function(f){function h(p,d){var y=f.call(this,p)||this;return y._writerOptions=c.applyDefaults(d,{format:"object",wellFormed:!1,group:!1,verbose:!1}),y}return s(h,f),h.prototype.serialize=function(p){return this._currentList=[],this._currentIndex=0,this._listRegister=[this._currentList],this.serializeNode(p,this._writerOptions.wellFormed),this._process(this._currentList,this._writerOptions)},h.prototype._process=function(p,d){var y,m,_,v,g,x,w;if(p.length===0)return{};for(var C={},S=!1,T=0,b=0,O=0,D=0,N=0;N<p.length;N++){var R=p[N];switch(re=Object.keys(R)[0]){case"@":continue;case"#":T++;break;case"!":b++;break;case"?":O++;break;case"$":D++;break;default:C[re]?S=!0:C[re]=!0}}var E=this._getAttrKey(),A=this._getNodeKey(u.NodeType.Text),W=this._getNodeKey(u.NodeType.Comment),z=this._getNodeKey(u.NodeType.ProcessingInstruction),F=this._getNodeKey(u.NodeType.CData);if(T===1&&p.length===1&&c.isString(p[0]["#"]))return p[0]["#"];if(S){var L={};for(N=0;N<p.length;N++)if(R=p[N],(re=Object.keys(R)[0])==="@"){var G=R["@"];(B=Object.keys(G)).length===1?L[E+B[0]]=G[B[0]]:L[E]=R["@"]}var H=[];for(N=0;N<p.length;N++)switch(R=p[N],re=Object.keys(R)[0]){case"@":break;case"#":H.push(((y={})[A]=R["#"],y));break;case"!":H.push(((m={})[W]=R["!"],m));break;case"?":H.push(((_={})[z]=R["?"],_));break;case"$":H.push(((v={})[F]=R.$,v));break;default:if((j=R)[re].length!==0&&c.isArray(j[re][0])){for(var $=[],J=j[re],Q=0;Q<J.length;Q++)$.push(this._process(J[Q],d));H.push(((g={})[re]=$,g))}else d.verbose?H.push(((x={})[re]=[this._process(j[re],d)],x)):H.push(((w={})[re]=this._process(j[re],d),w))}return L[A]=H,L}var q=1,ne=1,te=1,oe=1;for(L={},N=0;N<p.length;N++){var re;switch(R=p[N],re=Object.keys(R)[0]){case"@":G=R["@"];var B=Object.keys(G);if(d.group&&B.length!==1)L[E]=G;else for(var k in G)L[E+k]=G[k];break;case"#":q=this._processSpecItem(R["#"],L,d.group,A,T,q);break;case"!":ne=this._processSpecItem(R["!"],L,d.group,W,b,ne);break;case"?":te=this._processSpecItem(R["?"],L,d.group,z,O,te);break;case"$":oe=this._processSpecItem(R.$,L,d.group,F,D,oe);break;default:var j;if((j=R)[re].length!==0&&c.isArray(j[re][0])){$=[],J=j[re];for(var V=0;V<J.length;V++)$.push(this._process(J[V],d));L[re]=$}else d.verbose?L[re]=[this._process(j[re],d)]:L[re]=this._process(j[re],d)}}return L},h.prototype._processSpecItem=function(p,d,y,m,_,v){var g,x;if(!y&&c.isArray(p)&&_+p.length>2)try{for(var w=o(p),C=w.next();!C.done;C=w.next()){var S=C.value;d[m+(v++).toString()]=S}}catch(T){g={error:T}}finally{try{C&&!C.done&&(x=w.return)&&x.call(w)}finally{if(g)throw g.error}}else d[_>1?m+(v++).toString():m]=p;return v},h.prototype.beginElement=function(p){var d,y,m=[];if(this._currentList.length===0)this._currentList.push(((d={})[p]=m,d));else{var _=this._currentList[this._currentList.length-1];this._isElementNode(_,p)?_[p].length!==0&&c.isArray(_[p][0])?_[p].push(m):_[p]=[_[p],m]:this._currentList.push(((y={})[p]=m,y))}this._currentIndex++,this._listRegister.length>this._currentIndex?this._listRegister[this._currentIndex]=m:this._listRegister.push(m),this._currentList=m},h.prototype.endElement=function(){this._currentList=this._listRegister[--this._currentIndex]},h.prototype.attribute=function(p,d){var y,m;if(this._currentList.length===0)this._currentList.push({"@":(y={},y[p]=d,y)});else{var _=this._currentList[this._currentList.length-1];this._isAttrNode(_)?_["@"][p]=d:this._currentList.push({"@":(m={},m[p]=d,m)})}},h.prototype.comment=function(p){if(this._currentList.length===0)this._currentList.push({"!":p});else{var d=this._currentList[this._currentList.length-1];this._isCommentNode(d)?c.isArray(d["!"])?d["!"].push(p):d["!"]=[d["!"],p]:this._currentList.push({"!":p})}},h.prototype.text=function(p){if(this._currentList.length===0)this._currentList.push({"#":p});else{var d=this._currentList[this._currentList.length-1];this._isTextNode(d)?c.isArray(d["#"])?d["#"].push(p):d["#"]=[d["#"],p]:this._currentList.push({"#":p})}},h.prototype.instruction=function(p,d){var y=d===""?p:p+" "+d;if(this._currentList.length===0)this._currentList.push({"?":y});else{var m=this._currentList[this._currentList.length-1];this._isInstructionNode(m)?c.isArray(m["?"])?m["?"].push(y):m["?"]=[m["?"],y]:this._currentList.push({"?":y})}},h.prototype.cdata=function(p){if(this._currentList.length===0)this._currentList.push({$:p});else{var d=this._currentList[this._currentList.length-1];this._isCDATANode(d)?c.isArray(d.$)?d.$.push(p):d.$=[d.$,p]:this._currentList.push({$:p})}},h.prototype._isAttrNode=function(p){return"@"in p},h.prototype._isTextNode=function(p){return"#"in p},h.prototype._isCommentNode=function(p){return"!"in p},h.prototype._isInstructionNode=function(p){return"?"in p},h.prototype._isCDATANode=function(p){return"$"in p},h.prototype._isElementNode=function(p,d){return d in p},h.prototype._getAttrKey=function(){return this._builderOptions.convert.att},h.prototype._getNodeKey=function(p){switch(p){case u.NodeType.Comment:return this._builderOptions.convert.comment;case u.NodeType.Text:return this._builderOptions.convert.text;case u.NodeType.ProcessingInstruction:return this._builderOptions.convert.ins;case u.NodeType.CData:return this._builderOptions.convert.cdata;default:throw new Error("Invalid node type.")}},h}(a(50).BaseWriter);r.ObjectWriter=l},function(n,r,a){var i=a(4),s=a(93);i({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function s(){this._items={},this._nullItems={}}return s.prototype.set=function(o,c){o===null?this._nullItems[c]=!0:(this._items[o]||(this._items[o]={}),this._items[o][c]=!0)},s.prototype.has=function(o,c){return o===null?this._nullItems[c]===!0:!!this._items[o]&&this._items[o][c]===!0},s}();r.LocalNameSet=i},function(n,r,a){var i=this&&this.__read||function(l,f){var h=typeof Symbol=="function"&&l[Symbol.iterator];if(!h)return l;var p,d,y=h.call(l),m=[];try{for(;(f===void 0||f-- >0)&&!(p=y.next()).done;)m.push(p.value)}catch(_){d={error:_}}finally{try{p&&!p.done&&(h=y.return)&&h.call(y)}finally{if(d)throw d.error}}return m};Object.defineProperty(r,"__esModule",{value:!0});var s=a(9),o=a(3),c=a(0),u=function(){function l(){}return Object.defineProperty(l.prototype,"_eventListenerList",{get:function(){return this.__eventListenerList||(this.__eventListenerList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_eventHandlerMap",{get:function(){return this.__eventHandlerMap||(this.__eventHandlerMap={})},enumerable:!0,configurable:!0}),l.prototype.addEventListener=function(f,h,p){p===void 0&&(p={passive:!1,once:!1,capture:!1});var d,y=i(c.eventTarget_flattenMore(p),3),m=y[0],_=y[1],v=y[2];h&&(d=o.Guard.isEventListener(h)?h:{handleEvent:h},c.eventTarget_addEventListener(this,{type:f,callback:d,capture:m,passive:_,once:v,removed:!1}))},l.prototype.removeEventListener=function(f,h,p){p===void 0&&(p={capture:!1});var d=c.eventTarget_flatten(p);if(h)for(var y=0;y<this._eventListenerList.length;y++){var m=this._eventListenerList[y];if(m.type===f&&m.capture===d){if(o.Guard.isEventListener(h)&&m.callback===h){c.eventTarget_removeEventListener(this,m,y);break}if(h&&m.callback.handleEvent===h){c.eventTarget_removeEventListener(this,m,y);break}}}},l.prototype.dispatchEvent=function(f){if(f._dispatchFlag||!f._initializedFlag)throw new s.InvalidStateError;return f._isTrusted=!1,c.event_dispatch(f,this)},l.prototype._getTheParent=function(f){return null},l}();r.EventTargetImpl=u},function(n,r,a){var i,s=this&&this.__extends||(i=function(l,f){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var d in p)p.hasOwnProperty(d)&&(h[d]=p[d])})(l,f)},function(l,f){function h(){this.constructor=l}i(l,f),l.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(34),c=a(0),u=function(l){function f(h){var p=l.call(this)||this;return p._data=h,p}return s(f,l),Object.defineProperty(f.prototype,"data",{get:function(){return this._data},set:function(h){c.characterData_replaceData(this,0,this._data.length,h)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"length",{get:function(){return this._data.length},enumerable:!0,configurable:!0}),f.prototype.substringData=function(h,p){return c.characterData_substringData(this,h,p)},f.prototype.appendData=function(h){return c.characterData_replaceData(this,this._data.length,0,h)},f.prototype.insertData=function(h,p){c.characterData_replaceData(this,h,0,p)},f.prototype.deleteData=function(h,p){c.characterData_replaceData(this,h,p,"")},f.prototype.replaceData=function(h,p,d){c.characterData_replaceData(this,h,p,d)},Object.defineProperty(f.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),f.prototype.before=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];throw new Error("Mixin: ChildNode not implemented.")},f.prototype.after=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];throw new Error("Mixin: ChildNode not implemented.")},f.prototype.replaceWith=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];throw new Error("Mixin: ChildNode not implemented.")},f.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},f}(o.NodeImpl);r.CharacterDataImpl=u},function(n,r,a){var i=this&&this.__values||function(_){var v=typeof Symbol=="function"&&Symbol.iterator,g=v&&_[v],x=0;if(g)return g.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&x>=_.length&&(_=void 0),{value:_&&_[x++],done:!_}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(_,v){var g=typeof Symbol=="function"&&_[Symbol.iterator];if(!g)return _;var x,w,C=g.call(_),S=[];try{for(;(v===void 0||v-- >0)&&!(x=C.next()).done;)S.push(x.value)}catch(T){w={error:T}}finally{try{x&&!x.done&&(g=C.return)&&g.call(C)}finally{if(w)throw w.error}}return S},o=this&&this.__spread||function(){for(var _=[],v=0;v<arguments.length;v++)_=_.concat(s(arguments[v]));return _};Object.defineProperty(r,"__esModule",{value:!0});var c=a(6),u=a(3),l=a(1),f=a(17),h=a(51);function p(_){c.dom.window._signalSlots.add(_),h.observer_queueAMutationObserverMicrotask()}function d(_,v){v===void 0&&(v=!1);var g=u.Cast.asNode(_)._parent;if(g===null)return null;var x=g._shadowRoot||null;if(x===null||v&&x._mode!=="open")return null;for(var w=f.tree_getFirstDescendantNode(x,!1,!0,function(C){return u.Guard.isSlot(C)});w!==null;){if(w._name===_._name)return w;w=f.tree_getNextDescendantNode(x,w,!1,!0,function(C){return u.Guard.isSlot(C)})}return null}function y(_){var v,g,x=[],w=f.tree_rootNode(_);if(!u.Guard.isShadowRoot(w))return x;var C=w._host;try{for(var S=i(C._children),T=S.next();!T.done;T=S.next()){var b=T.value;u.Guard.isSlotable(b)&&d(b)===_&&x.push(b)}}catch(O){v={error:O}}finally{try{T&&!T.done&&(g=S.return)&&g.call(S)}finally{if(v)throw v.error}}return x}function m(_){var v,g,x=y(_);if(x.length===_._assignedNodes.length){for(var w=!0,C=0;C<x.length;C++)if(x[C]!==_._assignedNodes[C]){w=!1;break}w||p(_)}_._assignedNodes=x;try{for(var S=i(x),T=S.next();!T.done;T=S.next())T.value._assignedSlot=_}catch(b){v={error:b}}finally{try{T&&!T.done&&(g=S.return)&&g.call(S)}finally{if(v)throw v.error}}}r.shadowTree_signalASlotChange=p,r.shadowTree_isConnected=function(_){return u.Guard.isDocumentNode(f.tree_rootNode(_,!0))},r.shadowTree_isAssigned=function(_){return _._assignedSlot!==null},r.shadowTree_findASlot=d,r.shadowTree_findSlotables=y,r.shadowTree_findFlattenedSlotables=function _(v){var g,x,w,C,S=[],T=f.tree_rootNode(v);if(!u.Guard.isShadowRoot(T))return S;var b=y(v);if(l.isEmpty(b))try{for(var O=i(v._children),D=O.next();!D.done;D=O.next()){var N=D.value;u.Guard.isSlotable(N)&&b.push(N)}}catch(z){g={error:z}}finally{try{D&&!D.done&&(x=O.return)&&x.call(O)}finally{if(g)throw g.error}}try{for(var R=i(b),E=R.next();!E.done;E=R.next()){var A=E.value;if(u.Guard.isSlot(A)&&u.Guard.isShadowRoot(f.tree_rootNode(A))){var W=_(A);S.push.apply(S,o(W))}else S.push(A)}}catch(z){w={error:z}}finally{try{E&&!E.done&&(C=R.return)&&C.call(R)}finally{if(w)throw w.error}}return S},r.shadowTree_assignSlotables=m,r.shadowTree_assignSlotablesForATree=function(_){for(var v=f.tree_getFirstDescendantNode(_,!0,!1,function(g){return u.Guard.isSlot(g)});v!==null;)m(v),v=f.tree_getNextDescendantNode(_,v,!0,!1,function(g){return u.Guard.isSlot(g)})},r.shadowTree_assignASlot=function(_){var v=d(_);v!==null&&m(v)}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=/[a-z]([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*/,s=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),o=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]),c=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),u=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]);r.customElement_isValidCustomElementName=function(l){return!!i.test(l)&&!s.has(l)},r.customElement_isValidElementName=function(l){return o.has(l)},r.customElement_isVoidElementName=function(l){return c.has(l)},r.customElement_isValidShadowHostName=function(l){return u.has(l)},r.customElement_enqueueACustomElementUpgradeReaction=function(l,f){},r.customElement_enqueueACustomElementCallbackReaction=function(l,f,h){},r.customElement_upgrade=function(l,f){},r.customElement_tryToUpgrade=function(l){},r.customElement_lookUpACustomElementDefinition=function(l,f,h,p){return null}},function(n,r,a){a(4)({target:"String",proto:!0},{repeat:a(259)})},function(n,r,a){a(278),a(68),a(179),a(94),Object.defineProperty(r,"__esModule",{value:!0});var i=a(109),s=function(){function o(c){this._builderOptions=c,c.parser&&Object.assign(this,c.parser)}return o.prototype._docType=function(c,u,l,f){return c.dtd({name:u,pubID:l,sysID:f})},o.prototype._comment=function(c,u){return c.com(u)},o.prototype._text=function(c,u){return c.txt(u)},o.prototype._instruction=function(c,u,l){return c.ins(u,l)},o.prototype._cdata=function(c,u){return c.dat(u)},o.prototype._element=function(c,u,l){return u===void 0?c.ele(l):c.ele(u,l)},o.prototype._attribute=function(c,u,l,f){return u===void 0?c.att(l,f):c.att(u,l,f)},o.prototype._sanitize=function(c){return i.sanitizeInput(c,this._builderOptions.invalidCharReplacement)},o.prototype._decodeText=function(c){return c==null?c:c.replace(/&(quot|amp|apos|lt|gt);/g,function(u,l){return o._entityTable[l]}).replace(/&#(?:x([a-fA-F0-9]+)|([0-9]+));/g,function(u,l,f){return String.fromCodePoint(parseInt(l||f,l?16:10))})},o.prototype._decodeAttributeValue=function(c){return this._decodeText(c)},o.prototype.parse=function(c,u){return this._parse(c,u)},o.prototype.docType=function(c,u,l,f){return this._docType(c,u,l,f)},o.prototype.comment=function(c,u){return this._comment(c,u)},o.prototype.text=function(c,u){return this._text(c,u)},o.prototype.instruction=function(c,u,l){return this._instruction(c,u,l)},o.prototype.cdata=function(c,u){return this._cdata(c,u)},o.prototype.element=function(c,u,l){return this._element(c,u,l)},o.prototype.attribute=function(c,u,l,f){return this._attribute(c,u,l,f)},o.prototype.sanitize=function(c){return this._sanitize(c)},o._entityTable={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},o}();r.BaseReader=s},function(n,r,a){var i=a(39);n.exports=i.DEFAULT=new i({include:[a(54)],explicit:[a(299),a(300),a(301)]})},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(185);r.XMLBuilderImpl=i.XMLBuilderImpl;var s=a(304);r.XMLBuilderCBImpl=s.XMLBuilderCBImpl;var o=a(183);r.builder=o.builder,r.create=o.create,r.fragment=o.fragment,r.convert=o.convert;var c=a(309);r.createCB=c.createCB,r.fragmentCB=c.fragmentCB},function(n,r){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}n.exports=a},function(n,r,a){var i={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,o=s&&!i.call({1:2},1);r.f=o?function(c){var u=s(this,c);return!!u&&u.enumerable}:i},function(n,r,a){var i=a(11),s=a(21);n.exports=function(o,c){try{s(i,o,c)}catch{i[o]=c}return c}},function(n,r,a){var i=a(44),s=a(118);(n.exports=function(o,c){return s[o]||(s[o]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},function(n,r,a){var i=a(121),s=a(84).concat("length","prototype");r.f=Object.getOwnPropertyNames||function(o){return i(o,s)}},function(n,r,a){var i=a(47),s=Math.max,o=Math.min;n.exports=function(c,u){var l=i(c);return l<0?s(l+u,0):o(l,u)}},function(n,r){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,r){r.f=Object.getOwnPropertySymbols},function(n,r,a){var i=a(8);n.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},function(n,r,a){var i=a(127);n.exports=function(s,o,c){if(i(s),o===void 0)return s;switch(c){case 0:return function(){return s.call(o)};case 1:return function(u){return s.call(o,u)};case 2:return function(u,l){return s.call(o,u,l)};case 3:return function(u,l,f){return s.call(o,u,l,f)}}return function(){return s.apply(o,arguments)}}},function(n,r,a){var i=a(4),s=a(195),o=a(132),c=a(133),u=a(62),l=a(21),f=a(25),h=a(5),p=a(44),d=a(49),y=a(131),m=y.IteratorPrototype,_=y.BUGGY_SAFARI_ITERATORS,v=h("iterator"),g=function(){return this};n.exports=function(x,w,C,S,T,b,O){s(C,w,S);var D,N,R,E=function(H){if(H===T&&L)return L;if(!_&&H in z)return z[H];switch(H){case"keys":case"values":case"entries":return function(){return new C(this,H)}}return function(){return new C(this)}},A=w+" Iterator",W=!1,z=x.prototype,F=z[v]||z["@@iterator"]||T&&z[T],L=!_&&F||E(T),G=w=="Array"&&z.entries||F;if(G&&(D=o(G.call(new x)),m!==Object.prototype&&D.next&&(p||o(D)===m||(c?c(D,m):typeof D[v]!="function"&&l(D,v,g)),u(D,A,!0,!0),p&&(d[A]=g))),T=="values"&&F&&F.name!=="values"&&(W=!0,L=function(){return F.call(this)}),p&&!O||z[v]===L||l(z,v,L),d[w]=L,T)if(N={values:E("values"),keys:b?L:E("keys"),entries:E("entries")},O)for(R in N)(_||W||!(R in z))&&f(z,R,N[R]);else i({target:w,proto:!0,forced:_||W},N);return N}},function(n,r,a){var i=a(4),s=a(13),o=a(59),c=a(83),u=a(26),l=a(24),f=a(134),h=a(5),p=a(63),d=a(28),y=p("slice"),m=d("slice",{ACCESSORS:!0,0:0,1:2}),_=h("species"),v=[].slice,g=Math.max;i({target:"Array",proto:!0,forced:!y||!m},{slice:function(x,w){var C,S,T,b=l(this),O=u(b.length),D=c(x,O),N=c(w===void 0?O:w,O);if(o(b)&&(typeof(C=b.constructor)!="function"||C!==Array&&!o(C.prototype)?s(C)&&(C=C[_])===null&&(C=void 0):C=void 0,C===Array||C===void 0))return v.call(b,D,N);for(S=new(C===void 0?Array:C)(g(N-D,0)),T=0;D<N;D++,T++)D in b&&f(S,T,b[D]);return S.length=T,S}})},function(n,r,a){var i={};i[a(5)("toStringTag")]="z",n.exports=String(i)==="[object z]"},function(n,r,a){a(19),a(138),a(20),a(92),a(22),a(23),Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultBuilderOptions={version:"1.0",encoding:void 0,standalone:void 0,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},invalidCharReplacement:void 0,parser:void 0},r.XMLBuilderOptionKeys=new Set(Object.keys(r.DefaultBuilderOptions)),r.DefaultXMLBuilderCBOptions={format:"xml",wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,spaceBeforeSlash:!1,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"}}},function(n,r,a){var i=a(139),s=a(143);n.exports=i("Set",function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}},s)},function(n,r,a){var i,s,o=a(136),c=a(221),u=RegExp.prototype.exec,l=String.prototype.replace,f=u,h=(i=/a/,s=/b*/g,u.call(i,"a"),u.call(s,"a"),i.lastIndex!==0||s.lastIndex!==0),p=c.UNSUPPORTED_Y||c.BROKEN_CARET,d=/()??/.exec("")[1]!==void 0;(h||d||p)&&(f=function(y){var m,_,v,g,x=this,w=p&&x.sticky,C=o.call(x),S=x.source,T=0,b=y;return w&&((C=C.replace("y","")).indexOf("g")===-1&&(C+="g"),b=String(y).slice(x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&y[x.lastIndex-1]!==`
`)&&(S="(?: "+S+")",b=" "+b,T++),_=new RegExp("^(?:"+S+")",C)),d&&(_=new RegExp("^"+S+"$(?!\\s)",C)),h&&(m=x.lastIndex),v=u.call(w?_:x,b),w?v?(v.input=v.input.slice(T),v[0]=v[0].slice(T),v.index=x.lastIndex,x.lastIndex+=v[0].length):x.lastIndex=0:h&&v&&(x.lastIndex=x.global?v.index+v[0].length:m),d&&v&&v.length>1&&l.call(v[0],_,function(){for(g=1;g<arguments.length-2;g++)arguments[g]===void 0&&(v[g]=void 0)}),v}),n.exports=f},function(n,r,a){var i=a(225),s=a(18),o=a(27),c=a(26),u=a(47),l=a(35),f=a(226),h=a(227),p=Math.max,d=Math.min,y=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,_=/\$([$&'`]|\d\d?)/g;i("replace",2,function(v,g,x,w){var C=w.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,S=w.REPLACE_KEEPS_$0,T=C?"$":"$0";return[function(O,D){var N=l(this),R=O==null?void 0:O[v];return R!==void 0?R.call(O,N,D):g.call(String(N),O,D)},function(O,D){if(!C&&S||typeof D=="string"&&D.indexOf(T)===-1){var N=x(g,O,this,D);if(N.done)return N.value}var R=s(O),E=String(this),A=typeof D=="function";A||(D=String(D));var W=R.global;if(W){var z=R.unicode;R.lastIndex=0}for(var F=[];;){var L=h(R,E);if(L===null||(F.push(L),!W))break;String(L[0])===""&&(R.lastIndex=f(E,c(R.lastIndex),z))}for(var G,H="",$=0,J=0;J<F.length;J++){L=F[J];for(var Q=String(L[0]),q=p(d(u(L.index),E.length),0),ne=[],te=1;te<L.length;te++)ne.push((G=L[te])===void 0?G:String(G));var oe=L.groups;if(A){var re=[Q].concat(ne,q,E);oe!==void 0&&re.push(oe);var B=String(D.apply(void 0,re))}else B=b(Q,E,q,ne,oe,D);q>=$&&(H+=E.slice($,q)+B,$=q+Q.length)}return H+E.slice($)}];function b(O,D,N,R,E,A){var W=N+O.length,z=R.length,F=_;return E!==void 0&&(E=o(E),F=m),g.call(A,F,function(L,G){var H;switch(G.charAt(0)){case"$":return"$";case"&":return O;case"`":return D.slice(0,N);case"'":return D.slice(W);case"<":H=E[G.slice(1,-1)];break;default:var $=+G;if($===0)return L;if($>z){var J=y($/10);return J===0?L:J<=z?R[J-1]===void 0?G.charAt(1):R[J-1]+G.charAt(1):L}H=R[$-1]}return H===void 0?"":H})}})},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function s(){this._items={},this._nullItems=[]}return s.prototype.copy=function(){var o=new s;for(var c in this._items)o._items[c]=this._items[c].slice(0);return o._nullItems=this._nullItems.slice(0),o},s.prototype.get=function(o,c){var u=c===null?this._nullItems:this._items[c]||null;if(u===null)return null;for(var l=null,f=0;f<u.length;f++)if((l=u[f])===o)return l;return l},s.prototype.has=function(o,c){var u=c===null?this._nullItems:this._items[c]||null;return u!==null&&u.indexOf(o)!==-1},s.prototype.hasPrefix=function(o){if(this._nullItems.indexOf(o)!==-1)return!0;for(var c in this._items)if(this._items[c].indexOf(o)!==-1)return!0;return!1},s.prototype.set=function(o,c){var u=c===null?this._nullItems:this._items[c]||null;c!==null&&u===null?this._items[c]=[o]:u.push(o)},s}();r.NamespacePrefixMap=i},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.Surrogate=/[\uD800-\uDFFF]/,r.ScalarValue=/[\uD800-\uDFFF]/,r.NonCharacter=/[\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]/,r.ASCIICodePoint=/[\u0000-\u007F]/,r.ASCIITabOrNewLine=/[\t\n\r]/,r.ASCIIWhiteSpace=/[\t\n\f\r ]/,r.C0Control=/[\u0000-\u001F]/,r.C0ControlOrSpace=/[\u0000-\u001F ]/,r.Control=/[\u0000-\u001F\u007F-\u009F]/,r.ASCIIDigit=/[0-9]/,r.ASCIIUpperHexDigit=/[0-9A-F]/,r.ASCIILowerHexDigit=/[0-9a-f]/,r.ASCIIHexDigit=/[0-9A-Fa-f]/,r.ASCIIUpperAlpha=/[A-Z]/,r.ASCIILowerAlpha=/[a-z]/,r.ASCIIAlpha=/[A-Za-z]/,r.ASCIIAlphanumeric=/[0-9A-Za-z]/},function(n,r,a){var i=this&&this.__values||function(D){var N=typeof Symbol=="function"&&Symbol.iterator,R=N&&D[N],E=0;if(R)return R.call(D);if(D&&typeof D.length=="number")return{next:function(){return D&&E>=D.length&&(D=void 0),{value:D&&D[E++],done:!D}}};throw new TypeError(N?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(D,N){var R=typeof Symbol=="function"&&D[Symbol.iterator];if(!R)return D;var E,A,W=R.call(D),z=[];try{for(;(N===void 0||N-- >0)&&!(E=W.next()).done;)z.push(E.value)}catch(F){A={error:F}}finally{try{E&&!E.done&&(R=W.return)&&R.call(W)}finally{if(A)throw A.error}}return z},o=this&&this.__spread||function(){for(var D=[],N=0;N<arguments.length;N++)D=D.concat(s(arguments[N]));return D};Object.defineProperty(r,"__esModule",{value:!0});var c=a(6),u=a(2),l=a(3),f=a(171),h=a(104),p=a(9),d=a(17),y=a(72),m=a(30);function _(D,N){N===void 0&&(N=void 0),N===void 0&&(N=null);var R=v(D,N,new Date,{});return R._isTrusted=!0,R}function v(D,N,R,E){var A=new D("");return A._initializedFlag=!0,A._timeStamp=R.getTime(),Object.assign(A,E),c.dom.features.steps&&m.dom_runEventConstructingSteps(A),A}function g(D,N,R,E){var A,W,z,F;R===void 0&&(R=!1),E===void 0&&(E={value:!1});var L=!1;D._dispatchFlag=!0;var G=N;if(R){var H=N._associatedDocument;l.Guard.isDocumentNode(H)&&(G=H)}var $=null,J=d.tree_retarget(D._relatedTarget,N);if(N!==J||N===D._relatedTarget){var Q=[];try{for(var q=i(D._touchTargetList),ne=q.next();!ne.done;ne=q.next()){var te=ne.value;Q.push(d.tree_retarget(te,N))}}catch(ae){A={error:ae}}finally{try{ne&&!ne.done&&(W=q.return)&&W.call(q)}finally{if(A)throw A.error}}x(D,N,G,J,Q,!1);var oe=l.Guard.isMouseEvent(D)&&D._type==="click";oe&&N._activationBehavior!==void 0&&($=N);for(var re=l.Guard.isSlotable(N)&&y.shadowTree_isAssigned(N)?N:null,B=!1,k=N._getTheParent(D);k!==null&&l.Guard.isNode(k);){if(re!==null){if(!l.Guard.isSlot(k))throw new Error("Parent node of a slotable should be a slot.");re=null;var j=d.tree_rootNode(k,!0);l.Guard.isShadowRoot(j)&&j._mode==="closed"&&(B=!0)}l.Guard.isSlotable(k)&&y.shadowTree_isAssigned(k)&&(re=k),J=d.tree_retarget(D._relatedTarget,k),Q=[];try{for(var V=(z=void 0,i(D._touchTargetList)),M=V.next();!M.done;M=V.next())te=M.value,Q.push(d.tree_retarget(te,k))}catch(ae){z={error:ae}}finally{try{M&&!M.done&&(F=V.return)&&F.call(V)}finally{if(z)throw z.error}}l.Guard.isWindow(k)||l.Guard.isNode(k)&&l.Guard.isNode(N)&&d.tree_isAncestorOf(d.tree_rootNode(N,!0),k,!0,!0)?(oe&&D._bubbles&&$===null&&k._activationBehavior&&($=k),x(D,k,null,J,Q,B)):k===J?k=null:(N=k,oe&&$===null&&N._activationBehavior&&($=N),x(D,k,N,J,Q,B)),k!==null&&(k=k._getTheParent(D)),B=!1}for(var P=null,U=D._path,K=U.length-1;K>=0;K--)if((Z=U[K]).shadowAdjustedTarget!==null){P=Z;break}if(P!==null)if(l.Guard.isNode(P.shadowAdjustedTarget)&&l.Guard.isShadowRoot(d.tree_rootNode(P.shadowAdjustedTarget,!0)))L=!0;else if(l.Guard.isNode(P.relatedTarget)&&l.Guard.isShadowRoot(d.tree_rootNode(P.relatedTarget,!0)))L=!0;else for(var X=0;X<P.touchTargetList.length;X++){var Z=P.touchTargetList[X];if(l.Guard.isNode(Z)&&l.Guard.isShadowRoot(d.tree_rootNode(Z,!0))){L=!0;break}}for($!==null&&$._legacyPreActivationBehavior!==void 0&&$._legacyPreActivationBehavior(D),K=U.length-1;K>=0;K--)(Z=U[K]).shadowAdjustedTarget!==null?D._eventPhase=u.EventPhase.AtTarget:D._eventPhase=u.EventPhase.Capturing,w(Z,D,"capturing",E);for(K=0;K<U.length;K++){if((Z=U[K]).shadowAdjustedTarget!==null)D._eventPhase=u.EventPhase.AtTarget;else{if(!D._bubbles)continue;D._eventPhase=u.EventPhase.Bubbling}w(Z,D,"bubbling",E)}}return D._eventPhase=u.EventPhase.None,D._currentTarget=null,D._path=[],D._dispatchFlag=!1,D._stopPropagationFlag=!1,D._stopImmediatePropagationFlag=!1,L&&(D._target=null,D._relatedTarget=null,D._touchTargetList=[]),$!==null&&(D._canceledFlag||$._activationBehavior===void 0?$._legacyCanceledActivationBehavior!==void 0&&$._legacyCanceledActivationBehavior(D):$._activationBehavior(D)),!D._canceledFlag}function x(D,N,R,E,A,W){var z=!1;l.Guard.isNode(N)&&l.Guard.isShadowRoot(d.tree_rootNode(N))&&(z=!0);var F=!1;l.Guard.isShadowRoot(N)&&N._mode==="closed"&&(F=!0),D._path.push({invocationTarget:N,invocationTargetInShadowTree:z,shadowAdjustedTarget:R,relatedTarget:E,touchTargetList:A,rootOfClosedTree:F,slotInClosedTree:W})}function w(D,N,R,E){E===void 0&&(E={value:!1});for(var A=N._path,W=-1,z=0;z<A.length;z++)if(A[z]===D){W=z;break}if(W!==-1){var F=A[W];(F.shadowAdjustedTarget!==null||W>0&&(F=A[W-1]).shadowAdjustedTarget!==null)&&(N._target=F.shadowAdjustedTarget)}if(N._relatedTarget=D.relatedTarget,N._touchTargetList=D.touchTargetList,!N._stopPropagationFlag){N._currentTarget=D.invocationTarget;var L=N._currentTarget._eventListenerList,G=new(Array.bind.apply(Array,o([void 0],L)));if(!C(N,G,R,D,E)&&N._isTrusted){var H=N._type;H==="animationend"?N._type="webkitAnimationEnd":H==="animationiteration"?N._type="webkitAnimationIteration":H==="animationstart"?N._type="webkitAnimationStart":H==="transitionend"&&(N._type="webkitTransitionEnd"),C(N,G,R,D,E),N._type=H}}}function C(D,N,R,E,A){A===void 0&&(A={value:!1});for(var W=!1,z=0;z<N.length;z++){var F=N[z];if(!F.removed){if(D._type!==F.type||(W=!0,R==="capturing"&&!F.capture)||R==="bubbling"&&F.capture)continue;if(F.once&&D._currentTarget!==null){for(var L=D._currentTarget,G=-1,H=0;H<L._eventListenerList.length;H++)if(L._eventListenerList[H]===F){G=H;break}G!==-1&&L._eventListenerList.splice(G,1)}var $=void 0,J=void 0;l.Guard.isWindow($)&&(J=$._currentEvent,E.invocationTargetInShadowTree===!1&&($._currentEvent=D)),F.passive&&(D._inPassiveListenerFlag=!0);try{F.callback.handleEvent.call(D._currentTarget,D)}catch{A.value=!0}if(F.passive&&(D._inPassiveListenerFlag=!1),l.Guard.isWindow($)&&($._currentEvent=J),D._stopImmediatePropagationFlag)return W}}return W}function S(D,N){return null}function T(D,N){return null}function b(D,N){}function O(D,N){}r.event_setTheCanceledFlag=function(D){D._cancelable&&!D._inPassiveListenerFlag&&(D._canceledFlag=!0)},r.event_initialize=function(D,N,R,E){D._initializedFlag=!0,D._stopPropagationFlag=!1,D._stopImmediatePropagationFlag=!1,D._canceledFlag=!1,D._isTrusted=!1,D._target=null,D._type=N,D._bubbles=R,D._cancelable=E},r.event_createAnEvent=_,r.event_innerEventCreationSteps=v,r.event_dispatch=g,r.event_appendToAnEventPath=x,r.event_invoke=w,r.event_innerInvoke=C,r.event_fireAnEvent=function(D,N,R,E,A){R===void 0&&(R=h.EventImpl);var W=_(R);if(W._type=D,E)for(var z in E)W[z]=E[z];return g(W,N,A)},r.event_createLegacyEvent=function(D){var N=null;switch(D.toLowerCase()){case"beforeunloadevent":case"compositionevent":break;case"customevent":N=f.CustomEventImpl;break;case"devicemotionevent":case"deviceorientationevent":case"dragevent":break;case"event":case"events":N=h.EventImpl}if(N===null)throw new p.NotSupportedError("Event constructor not found for interface "+D+".");var R=new N("");return R._type="",R._timeStamp=new Date().getTime(),R._isTrusted=!1,R._initializedFlag=!1,R},r.event_getterEventHandlerIDLAttribute=function(D,N){return null},r.event_setterEventHandlerIDLAttribute=function(D,N,R){},r.event_determineTheTargetOfAnEventHandler=S,r.event_getTheCurrentValueOfAnEventHandler=T,r.event_activateAnEventHandler=b,r.event_deactivateAnEventHandler=O},function(n,r,a){var i,s=this&&this.__extends||(i=function(x,w){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,S){C.__proto__=S}||function(C,S){for(var T in S)S.hasOwnProperty(T)&&(C[T]=S[T])})(x,w)},function(x,w){function C(){this.constructor=x}i(x,w),x.prototype=w===null?Object.create(w):(C.prototype=w.prototype,new C)}),o=this&&this.__values||function(x){var w=typeof Symbol=="function"&&Symbol.iterator,C=w&&x[w],S=0;if(C)return C.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&S>=x.length&&(x=void 0),{value:x&&x[S++],done:!x}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(x,w){var C=typeof Symbol=="function"&&x[Symbol.iterator];if(!C)return x;var S,T,b=C.call(x),O=[];try{for(;(w===void 0||w-- >0)&&!(S=b.next()).done;)O.push(S.value)}catch(D){T={error:D}}finally{try{S&&!S.done&&(C=b.return)&&C.call(b)}finally{if(T)throw T.error}}return O};Object.defineProperty(r,"__esModule",{value:!0});var u=a(6),l=a(2),f=a(9),h=a(34),p=a(3),d=a(1),y=a(7),m=a(152),_=a(0),v=a(12),g=function(x){function w(){var C=x.call(this)||this;return C._children=new Set,C._encoding={name:"UTF-8",labels:["unicode-1-1-utf-8","utf-8","utf8"]},C._contentType="application/xml",C._URL={scheme:"about",username:"",password:"",host:null,port:null,path:["blank"],query:null,fragment:null,_cannotBeABaseURLFlag:!0,_blobURLEntry:null},C._origin=null,C._type="xml",C._mode="no-quirks",C._documentElement=null,C._hasNamespaces=!1,C._nodeDocumentOverwrite=null,C}return s(w,x),Object.defineProperty(w.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverwrite||this},set:function(C){this._nodeDocumentOverwrite=C},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"implementation",{get:function(){return this._implementation||(this._implementation=_.create_domImplementation(this))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"URL",{get:function(){return m.urlSerializer(this._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"documentURI",{get:function(){return this.URL},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"origin",{get:function(){return"null"},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"compatMode",{get:function(){return this._mode==="quirks"?"BackCompat":"CSS1Compat"},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"characterSet",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"charset",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"inputEncoding",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"contentType",{get:function(){return this._contentType},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"doctype",{get:function(){var C,S;try{for(var T=o(this._children),b=T.next();!b.done;b=T.next()){var O=b.value;if(p.Guard.isDocumentTypeNode(O))return O}}catch(D){C={error:D}}finally{try{b&&!b.done&&(S=T.return)&&S.call(T)}finally{if(C)throw C.error}}return null},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"documentElement",{get:function(){return this._documentElement},enumerable:!0,configurable:!0}),w.prototype.getElementsByTagName=function(C){return _.node_listOfElementsWithQualifiedName(C,this)},w.prototype.getElementsByTagNameNS=function(C,S){return _.node_listOfElementsWithNamespace(C,S,this)},w.prototype.getElementsByClassName=function(C){return _.node_listOfElementsWithClassNames(C,this)},w.prototype.createElement=function(C,S){if(!_.xml_isName(C))throw new f.InvalidCharacterError;this._type==="html"&&(C=C.toLowerCase());var T=null;S!==void 0&&(T=d.isString(S)?S:S.is);var b=this._type==="html"||this._contentType==="application/xhtml+xml"?y.namespace.HTML:null;return _.element_createAnElement(this,C,b,null,T,!0)},w.prototype.createElementNS=function(C,S,T){return _.document_internalCreateElementNS(this,C,S,T)},w.prototype.createDocumentFragment=function(){return _.create_documentFragment(this)},w.prototype.createTextNode=function(C){return _.create_text(this,C)},w.prototype.createCDATASection=function(C){if(this._type==="html")throw new f.NotSupportedError;if(C.indexOf("]]>")!==-1)throw new f.InvalidCharacterError;return _.create_cdataSection(this,C)},w.prototype.createComment=function(C){return _.create_comment(this,C)},w.prototype.createProcessingInstruction=function(C,S){if(!_.xml_isName(C))throw new f.InvalidCharacterError;if(S.indexOf("?>")!==-1)throw new f.InvalidCharacterError;return _.create_processingInstruction(this,C,S)},w.prototype.importNode=function(C,S){if(S===void 0&&(S=!1),p.Guard.isDocumentNode(C)||p.Guard.isShadowRoot(C))throw new f.NotSupportedError;return _.node_clone(C,this,S)},w.prototype.adoptNode=function(C){if(p.Guard.isDocumentNode(C))throw new f.NotSupportedError;if(p.Guard.isShadowRoot(C))throw new f.HierarchyRequestError;return _.document_adopt(C,this),C},w.prototype.createAttribute=function(C){if(!_.xml_isName(C))throw new f.InvalidCharacterError;return this._type==="html"&&(C=C.toLowerCase()),_.create_attr(this,C)},w.prototype.createAttributeNS=function(C,S){var T=c(_.namespace_validateAndExtract(C,S),3),b=T[0],O=T[1],D=T[2],N=_.create_attr(this,D);return N._namespace=b,N._namespacePrefix=O,N},w.prototype.createEvent=function(C){return _.event_createLegacyEvent(C)},w.prototype.createRange=function(){var C=_.create_range();return C._start=[this,0],C._end=[this,0],C},w.prototype.createNodeIterator=function(C,S,T){S===void 0&&(S=l.WhatToShow.All),T===void 0&&(T=null);var b=_.create_nodeIterator(C,C,!0);return b._whatToShow=S,b._iteratorCollection=_.create_nodeList(C),d.isFunction(T)?(b._filter=_.create_nodeFilter(),b._filter.acceptNode=T):b._filter=T,b},w.prototype.createTreeWalker=function(C,S,T){S===void 0&&(S=l.WhatToShow.All),T===void 0&&(T=null);var b=_.create_treeWalker(C,C);return b._whatToShow=S,d.isFunction(T)?(b._filter=_.create_nodeFilter(),b._filter.acceptNode=T):b._filter=T,b},w.prototype._getTheParent=function(C){return C._type==="load"?null:u.dom.window},w.prototype.getElementById=function(C){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(w.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),w.prototype.prepend=function(){for(var C=[],S=0;S<arguments.length;S++)C[S]=arguments[S];throw new Error("Mixin: ParentNode not implemented.")},w.prototype.append=function(){for(var C=[],S=0;S<arguments.length;S++)C[S]=arguments[S];throw new Error("Mixin: ParentNode not implemented.")},w.prototype.querySelector=function(C){throw new Error("Mixin: ParentNode not implemented.")},w.prototype.querySelectorAll=function(C){throw new Error("Mixin: ParentNode not implemented.")},w}(h.NodeImpl);r.DocumentImpl=g,v.idl_defineConst(g.prototype,"_nodeType",l.NodeType.Document)},function(n,r,a){var i,s=this&&this.__extends||(i=function(m,_){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var x in g)g.hasOwnProperty(x)&&(v[x]=g[x])})(m,_)},function(m,_){function v(){this.constructor=m}i(m,_),m.prototype=_===null?Object.create(_):(v.prototype=_.prototype,new v)}),o=this&&this.__values||function(m){var _=typeof Symbol=="function"&&Symbol.iterator,v=_&&m[_],g=0;if(v)return v.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&g>=m.length&&(m=void 0),{value:m&&m[g++],done:!m}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(m,_){var v=typeof Symbol=="function"&&m[Symbol.iterator];if(!v)return m;var g,x,w=v.call(m),C=[];try{for(;(_===void 0||_-- >0)&&!(g=w.next()).done;)C.push(g.value)}catch(S){x={error:S}}finally{try{g&&!g.done&&(v=w.return)&&v.call(w)}finally{if(x)throw x.error}}return C};Object.defineProperty(r,"__esModule",{value:!0});var u=a(2),l=a(34),f=a(9),h=a(7),p=a(0),d=a(12),y=function(m){function _(){var v=m.call(this)||this;return v._children=new Set,v._namespace=null,v._namespacePrefix=null,v._localName="",v._customElementState="undefined",v._customElementDefinition=null,v._is=null,v._shadowRoot=null,v._attributeList=p.create_namedNodeMap(v),v._attributeChangeSteps=[],v._name="",v._assignedSlot=null,v}return s(_,m),Object.defineProperty(_.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"tagName",{get:function(){return this._htmlUppercasedQualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"id",{get:function(){return p.element_getAnAttributeValue(this,"id")},set:function(v){p.element_setAnAttributeValue(this,"id",v)},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"className",{get:function(){return p.element_getAnAttributeValue(this,"class")},set:function(v){p.element_setAnAttributeValue(this,"class",v)},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"classList",{get:function(){var v=p.element_getAnAttributeByName("class",this);return v===null&&(v=p.create_attr(this._nodeDocument,"class")),p.create_domTokenList(this,v)},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"slot",{get:function(){return p.element_getAnAttributeValue(this,"slot")},set:function(v){p.element_setAnAttributeValue(this,"slot",v)},enumerable:!0,configurable:!0}),_.prototype.hasAttributes=function(){return this._attributeList.length!==0},Object.defineProperty(_.prototype,"attributes",{get:function(){return this._attributeList},enumerable:!0,configurable:!0}),_.prototype.getAttributeNames=function(){var v,g,x=[];try{for(var w=o(this._attributeList),C=w.next();!C.done;C=w.next()){var S=C.value;x.push(S._qualifiedName)}}catch(T){v={error:T}}finally{try{C&&!C.done&&(g=w.return)&&g.call(w)}finally{if(v)throw v.error}}return x},_.prototype.getAttribute=function(v){var g=p.element_getAnAttributeByName(v,this);return g?g._value:null},_.prototype.getAttributeNS=function(v,g){var x=p.element_getAnAttributeByNamespaceAndLocalName(v,g,this);return x?x._value:null},_.prototype.setAttribute=function(v,g){if(!p.xml_isName(v))throw new f.InvalidCharacterError;this._namespace===h.namespace.HTML&&this._nodeDocument._type==="html"&&(v=v.toLowerCase());for(var x=null,w=0;w<this._attributeList.length;w++){var C=this._attributeList[w];if(C._qualifiedName===v){x=C;break}}if(x===null)return(x=p.create_attr(this._nodeDocument,v))._value=g,void p.element_append(x,this);p.element_change(x,this,g)},_.prototype.setAttributeNS=function(v,g,x){var w=c(p.namespace_validateAndExtract(v,g),3),C=w[0],S=w[1],T=w[2];p.element_setAnAttributeValue(this,T,x,S,C)},_.prototype.removeAttribute=function(v){p.element_removeAnAttributeByName(v,this)},_.prototype.removeAttributeNS=function(v,g){p.element_removeAnAttributeByNamespaceAndLocalName(v,g,this)},_.prototype.hasAttribute=function(v){this._namespace===h.namespace.HTML&&this._nodeDocument._type==="html"&&(v=v.toLowerCase());for(var g=0;g<this._attributeList.length;g++)if(this._attributeList[g]._qualifiedName===v)return!0;return!1},_.prototype.toggleAttribute=function(v,g){if(!p.xml_isName(v))throw new f.InvalidCharacterError;this._namespace===h.namespace.HTML&&this._nodeDocument._type==="html"&&(v=v.toLowerCase());for(var x=null,w=0;w<this._attributeList.length;w++){var C=this._attributeList[w];if(C._qualifiedName===v){x=C;break}}return x===null?(g===void 0||g===!0)&&((x=p.create_attr(this._nodeDocument,v))._value="",p.element_append(x,this),!0):g!==void 0&&g!==!1||(p.element_removeAnAttributeByName(v,this),!1)},_.prototype.hasAttributeNS=function(v,g){for(var x=v||null,w=0;w<this._attributeList.length;w++){var C=this._attributeList[w];if(C._namespace===x&&C._localName===g)return!0}return!1},_.prototype.getAttributeNode=function(v){return p.element_getAnAttributeByName(v,this)},_.prototype.getAttributeNodeNS=function(v,g){return p.element_getAnAttributeByNamespaceAndLocalName(v,g,this)},_.prototype.setAttributeNode=function(v){return p.element_setAnAttribute(v,this)},_.prototype.setAttributeNodeNS=function(v){return p.element_setAnAttribute(v,this)},_.prototype.removeAttributeNode=function(v){for(var g=!1,x=0;x<this._attributeList.length;x++)if(this._attributeList[x]===v){g=!0;break}if(!g)throw new f.NotFoundError;return p.element_remove(v,this),v},_.prototype.attachShadow=function(v){if(this._namespace!==h.namespace.HTML)throw new f.NotSupportedError;if(!p.customElement_isValidCustomElementName(this._localName)&&!p.customElement_isValidShadowHostName(this._localName))throw new f.NotSupportedError;if(p.customElement_isValidCustomElementName(this._localName)||this._is!==null){var g=p.customElement_lookUpACustomElementDefinition(this._nodeDocument,this._namespace,this._localName,this._is);if(g!==null&&g.disableShadow===!0)throw new f.NotSupportedError}if(this._shadowRoot!==null)throw new f.NotSupportedError;var x=p.create_shadowRoot(this._nodeDocument,this);return x._mode=v.mode,this._shadowRoot=x,x},Object.defineProperty(_.prototype,"shadowRoot",{get:function(){var v=this._shadowRoot;return v===null||v.mode==="closed"?null:v},enumerable:!0,configurable:!0}),_.prototype.closest=function(v){throw new f.NotImplementedError},_.prototype.matches=function(v){throw new f.NotImplementedError},_.prototype.webkitMatchesSelector=function(v){return this.matches(v)},_.prototype.getElementsByTagName=function(v){return p.node_listOfElementsWithQualifiedName(v,this)},_.prototype.getElementsByTagNameNS=function(v,g){return p.node_listOfElementsWithNamespace(v,g,this)},_.prototype.getElementsByClassName=function(v){return p.node_listOfElementsWithClassNames(v,this)},_.prototype.insertAdjacentElement=function(v,g){return p.element_insertAdjacent(this,v,g)},_.prototype.insertAdjacentText=function(v,g){var x=p.create_text(this._nodeDocument,g);p.element_insertAdjacent(this,v,x)},Object.defineProperty(_.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"_htmlUppercasedQualifiedName",{get:function(){var v=this._qualifiedName;return this._namespace===h.namespace.HTML&&this._nodeDocument._type==="html"&&(v=v.toUpperCase()),v},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),_.prototype.prepend=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];throw new Error("Mixin: ParentNode not implemented.")},_.prototype.append=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];throw new Error("Mixin: ParentNode not implemented.")},_.prototype.querySelector=function(v){throw new Error("Mixin: ParentNode not implemented.")},_.prototype.querySelectorAll=function(v){throw new Error("Mixin: ParentNode not implemented.")},Object.defineProperty(_.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),_.prototype.before=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];throw new Error("Mixin: ChildNode not implemented.")},_.prototype.after=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];throw new Error("Mixin: ChildNode not implemented.")},_.prototype.replaceWith=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];throw new Error("Mixin: ChildNode not implemented.")},_.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},Object.defineProperty(_.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),_._create=function(v,g,x,w){x===void 0&&(x=null),w===void 0&&(w=null);var C=new _;return C._localName=g,C._namespace=x,C._namespacePrefix=w,C._nodeDocument=v,C},_}(l.NodeImpl);r.ElementImpl=y,d.idl_defineConst(y.prototype,"_nodeType",u.NodeType.Element)},function(n,r,a){var i,s=this&&this.__extends||(i=function(f,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var y in d)d.hasOwnProperty(y)&&(p[y]=d[y])})(f,h)},function(f,h){function p(){this.constructor=f}i(f,h),f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(2),c=a(34),u=a(12),l=function(f){function h(p){p===void 0&&(p=null);var d=f.call(this)||this;return d._children=new Set,d._host=p,d}return s(h,f),h.prototype.getElementById=function(p){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(h.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),h.prototype.prepend=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];throw new Error("Mixin: ParentNode not implemented.")},h.prototype.append=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];throw new Error("Mixin: ParentNode not implemented.")},h.prototype.querySelector=function(p){throw new Error("Mixin: ParentNode not implemented.")},h.prototype.querySelectorAll=function(p){throw new Error("Mixin: ParentNode not implemented.")},h._create=function(p,d){d===void 0&&(d=null);var y=new h(d);return y._nodeDocument=p,y},h}(c.NodeImpl);r.DocumentFragmentImpl=l,u.idl_defineConst(l.prototype,"_nodeType",o.NodeType.DocumentFragment)},function(n,r,a){var i,s=this&&this.__extends||(i=function(p,d){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var _ in m)m.hasOwnProperty(_)&&(y[_]=m[_])})(p,d)},function(p,d){function y(){this.constructor=p}i(p,d),p.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}),o=this&&this.__values||function(p){var d=typeof Symbol=="function"&&Symbol.iterator,y=d&&p[d],m=0;if(y)return y.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&m>=p.length&&(p=void 0),{value:p&&p[m++],done:!p}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var c=a(2),u=a(71),l=a(0),f=a(12),h=function(p){function d(y){y===void 0&&(y="");var m=p.call(this,y)||this;return m._name="",m._assignedSlot=null,m}return s(d,p),Object.defineProperty(d.prototype,"wholeText",{get:function(){var y,m,_="";try{for(var v=o(l.text_contiguousTextNodes(this,!0)),g=v.next();!g.done;g=v.next())_+=g.value._data}catch(x){y={error:x}}finally{try{g&&!g.done&&(m=v.return)&&m.call(v)}finally{if(y)throw y.error}}return _},enumerable:!0,configurable:!0}),d.prototype.splitText=function(y){return l.text_split(this,y)},Object.defineProperty(d.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),d._create=function(y,m){m===void 0&&(m="");var _=new d(m);return _._nodeDocument=y,_},d}(u.CharacterDataImpl);r.TextImpl=h,f.idl_defineConst(h.prototype,"_nodeType",c.NodeType.Text)},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function s(){}return Object.defineProperty(s.prototype,"_startNode",{get:function(){return this._start[0]},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_startOffset",{get:function(){return this._start[1]},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_endNode",{get:function(){return this._end[0]},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_endOffset",{get:function(){return this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_collapsed",{get:function(){return this._start[0]===this._end[0]&&this._start[1]===this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"startContainer",{get:function(){return this._startNode},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"startOffset",{get:function(){return this._startOffset},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"endContainer",{get:function(){return this._endNode},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"endOffset",{get:function(){return this._endOffset},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"collapsed",{get:function(){return this._collapsed},enumerable:!0,configurable:!0}),s}();r.AbstractRangeImpl=i},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(2),s=function(){function o(c){this._activeFlag=!1,this._root=c,this._whatToShow=i.WhatToShow.All,this._filter=null}return Object.defineProperty(o.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"whatToShow",{get:function(){return this._whatToShow},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),o}();r.TraverserImpl=s},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(2),s=a(0),o=a(12),c=function(){function u(l,f){this._target=null,this._relatedTarget=null,this._touchTargetList=[],this._path=[],this._currentTarget=null,this._eventPhase=i.EventPhase.None,this._stopPropagationFlag=!1,this._stopImmediatePropagationFlag=!1,this._canceledFlag=!1,this._inPassiveListenerFlag=!1,this._composedFlag=!1,this._initializedFlag=!1,this._dispatchFlag=!1,this._isTrusted=!1,this._bubbles=!1,this._cancelable=!1,this._type=l,f&&(this._bubbles=f.bubbles||!1,this._cancelable=f.cancelable||!1,this._composedFlag=f.composed||!1),this._initializedFlag=!0,this._timeStamp=new Date().getTime()}return Object.defineProperty(u.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"srcElement",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),u.prototype.composedPath=function(){var l=[],f=this._path;if(f.length===0)return l;var h=this._currentTarget;if(h===null)throw new Error("Event currentTarget is null.");l.push(h);for(var p=0,d=0,y=f.length-1;y>=0;){if(f[y].rootOfClosedTree&&d++,f[y].invocationTarget===h){p=y;break}f[y].slotInClosedTree&&d--,y--}var m=d,_=d;for(y=p-1;y>=0;)f[y].rootOfClosedTree&&m++,m<=_&&l.unshift(f[y].invocationTarget),f[y].slotInClosedTree&&--m<_&&(_=m),y--;for(m=d,_=d,y=p+1;y<f.length;)f[y].slotInClosedTree&&m++,m<=_&&l.push(f[y].invocationTarget),f[y].rootOfClosedTree&&--m<_&&(_=m),y++;return l},Object.defineProperty(u.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),u.prototype.stopPropagation=function(){this._stopPropagationFlag=!0},Object.defineProperty(u.prototype,"cancelBubble",{get:function(){return this._stopPropagationFlag},set:function(l){l&&this.stopPropagation()},enumerable:!0,configurable:!0}),u.prototype.stopImmediatePropagation=function(){this._stopPropagationFlag=!0,this._stopImmediatePropagationFlag=!0},Object.defineProperty(u.prototype,"bubbles",{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"returnValue",{get:function(){return!this._canceledFlag},set:function(l){l||s.event_setTheCanceledFlag(this)},enumerable:!0,configurable:!0}),u.prototype.preventDefault=function(){s.event_setTheCanceledFlag(this)},Object.defineProperty(u.prototype,"defaultPrevented",{get:function(){return this._canceledFlag},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"composed",{get:function(){return this._composedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"timeStamp",{get:function(){return this._timeStamp},enumerable:!0,configurable:!0}),u.prototype.initEvent=function(l,f,h){f===void 0&&(f=!1),h===void 0&&(h=!1),this._dispatchFlag||s.event_initialize(this,l,f,h)},u.NONE=0,u.CAPTURING_PHASE=1,u.AT_TARGET=2,u.BUBBLING_PHASE=3,u}();r.EventImpl=c,o.idl_defineConst(c.prototype,"NONE",0),o.idl_defineConst(c.prototype,"CAPTURING_PHASE",1),o.idl_defineConst(c.prototype,"AT_TARGET",2),o.idl_defineConst(c.prototype,"BUBBLING_PHASE",3)},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(2),s=a(9);r.traversal_filter=function(o,c){if(o._activeFlag)throw new s.InvalidStateError;var u=1<<c._nodeType-1;if((o.whatToShow&u)==0)return i.FilterResult.Skip;if(!o.filter)return i.FilterResult.Accept;o._activeFlag=!0;var l=i.FilterResult.Reject;try{l=o.filter.acceptNode(c)}catch(f){throw o._activeFlag=!1,f}return o._activeFlag=!1,l}},function(n,r,a){var i=this&&this.__read||function(_,v){var g=typeof Symbol=="function"&&_[Symbol.iterator];if(!g)return _;var x,w,C=g.call(_),S=[];try{for(;(v===void 0||v-- >0)&&!(x=C.next()).done;)S.push(x.value)}catch(T){w={error:T}}finally{try{x&&!x.done&&(g=C.return)&&g.call(C)}finally{if(w)throw w.error}}return S},s=this&&this.__values||function(_){var v=typeof Symbol=="function"&&Symbol.iterator,g=v&&_[v],x=0;if(g)return g.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&x>=_.length&&(_=void 0),{value:_&&_[x++],done:!_}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=a(6),c=a(3),u=a(1),l=a(99),f=a(73),h=a(17),p=a(173),d=a(30),y=a(52),m=a(37);r.document_elementInterface=function(_,v){return l.ElementImpl},r.document_internalCreateElementNS=function(_,v,g,x){var w=i(p.namespace_validateAndExtract(v,g),3),C=w[0],S=w[1],T=w[2],b=null;return x!==void 0&&(b=u.isString(x)?x:x.is),y.element_createAnElement(_,T,C,S,b,!0)},r.document_adopt=function(_,v){var g,x;if(_._nodeDocument!==v||_._parent!==null){var w=_._nodeDocument;if(_._parent&&m.mutation_remove(_,_._parent),v!==w)for(var C=h.tree_getFirstDescendantNode(_,!0,!0);C!==null;){if(C._nodeDocument=v,c.Guard.isElementNode(C))try{for(var S=(g=void 0,s(C._attributeList._asArray())),T=S.next();!T.done;T=S.next())T.value._nodeDocument=v}catch(b){g={error:b}}finally{try{T&&!T.done&&(x=S.return)&&x.call(S)}finally{if(g)throw g.error}}o.dom.features.customElements&&c.Guard.isElementNode(C)&&C._customElementState==="custom"&&f.customElement_enqueueACustomElementCallbackReaction(C,"adoptedCallback",[w,v]),o.dom.features.steps&&d.dom_runAdoptingSteps(C,w),C=h.tree_getNextDescendantNode(_,C,!0,!0)}}}},function(n,r,a){var i=this&&this.__values||function(h){var p=typeof Symbol=="function"&&Symbol.iterator,d=p&&h[p],y=0;if(d)return d.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&y>=h.length&&(h=void 0),{value:h&&h[y++],done:!h}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(6),o=a(3),c=a(9),u=a(17),l=a(51),f=a(30);r.characterData_replaceData=function(h,p,d,y){var m,_,v=u.tree_nodeLength(h);if(p>v)throw new c.IndexSizeError("Offset exceeds character data length. Offset: "+p+", Length: "+v+", Node is "+h.nodeName+".");p+d>v&&(d=v-p),s.dom.features.mutationObservers&&l.observer_queueMutationRecord("characterData",h,null,null,h._data,[],[],null,null);var g=h._data.substring(0,p)+y+h._data.substring(p+d);h._data=g;try{for(var x=i(s.dom.rangeList),w=x.next();!w.done;w=x.next()){var C=w.value;C._start[0]===h&&C._start[1]>p&&C._start[1]<=p+d&&(C._start[1]=p),C._end[0]===h&&C._end[1]>p&&C._end[1]<=p+d&&(C._end[1]=p),C._start[0]===h&&C._start[1]>p+d&&(C._start[1]+=y.length-d),C._end[0]===h&&C._end[1]>p+d&&(C._end[1]+=y.length-d)}}catch(S){m={error:S}}finally{try{w&&!w.done&&(_=x.return)&&_.call(x)}finally{if(m)throw m.error}}s.dom.features.steps&&o.Guard.isTextNode(h)&&h._parent!==null&&f.dom_runChildTextContentChangeSteps(h._parent)},r.characterData_substringData=function(h,p,d){var y=u.tree_nodeLength(h);if(p>y)throw new c.IndexSizeError("Offset exceeds character data length. Offset: "+p+", Length: "+y+", Node is "+h.nodeName+".");return p+d>y?h._data.substr(p):h._data.substr(p,d)}},function(n,r,a){var i=this&&this.__read||function(f,h){var p=typeof Symbol=="function"&&f[Symbol.iterator];if(!p)return f;var d,y,m=p.call(f),_=[];try{for(;(h===void 0||h-- >0)&&!(d=m.next()).done;)_.push(d.value)}catch(v){y={error:v}}finally{try{d&&!d.done&&(p=m.return)&&p.call(m)}finally{if(y)throw y.error}}return _},s=this&&this.__spread||function(){for(var f=[],h=0;h<arguments.length;h++)f=f.concat(i(arguments[h]));return f},o=this&&this.__values||function(f){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&f[h],d=0;if(p)return p.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&d>=f.length&&(f=void 0),{value:f&&f[d++],done:!f}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var c=a(7);function u(f){var h=c.string.splitAStringOnASCIIWhitespace(f);return new Set(h)}function l(f){return s(f).join(" ")}r.orderedSet_parse=u,r.orderedSet_serialize=l,r.orderedSet_sanitize=function(f){return l(u(f))},r.orderedSet_contains=function(f,h,p){var d,y,m,_;try{for(var v=o(h),g=v.next();!g.done;g=v.next()){var x=g.value,w=!1;try{for(var C=(m=void 0,o(f)),S=C.next();!S.done;S=C.next()){var T=S.value;if(p){if(T===x){w=!0;break}}else if(T.toUpperCase()===x.toUpperCase()){w=!0;break}}}catch(b){m={error:b}}finally{try{S&&!S.done&&(_=C.return)&&_.call(C)}finally{if(m)throw m.error}}if(!w)return!1}}catch(b){d={error:b}}finally{try{g&&!g.done&&(y=v.return)&&y.call(v)}finally{if(d)throw d.error}}return!0}},function(n,r,a){a(179),Object.defineProperty(r,"__esModule",{value:!0});var i=a(262),s=a(110),o=a(1);s.dom.setFeatures(!1),r.createDocument=function(){var c=new i.DOMImplementation().createDocument(null,"root",null);return c.documentElement&&c.removeChild(c.documentElement),c},r.sanitizeInput=function(c,u){if(c==null)return c;if(u===void 0)return c+"";var l="";c+="";for(var f=0;f<c.length;f++){var h=c.charCodeAt(f);if(h===9||h===10||h===13||h>=32&&h<=55295||h>=57344&&h<=65533)l+=c.charAt(f);else if(h>=55296&&h<=56319&&f<c.length-1){var p=c.charCodeAt(f+1);p>=56320&&p<=57343?(h=1024*(h-55296)+p-56320+65536,l+=String.fromCodePoint(h),f++):l+=o.isString(u)?u:u(c.charAt(f),f,c)}else l+=o.isString(u)?u:u(c.charAt(f),f,c)}return l}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(1),s=a(153);r.AbortController=s.AbortControllerImpl;var o=a(154);r.AbortSignal=o.AbortSignalImpl;var c=a(102);r.AbstractRange=c.AbstractRangeImpl;var u=a(157);r.Attr=u.AttrImpl;var l=a(158);r.CDATASection=l.CDATASectionImpl;var f=a(71);r.CharacterData=f.CharacterDataImpl;var h=a(263),p=a(159);r.Comment=p.CommentImpl;var d=a(171);r.CustomEvent=d.CustomEventImpl;var y=a(100);r.DocumentFragment=y.DocumentFragmentImpl;var m=a(98);r.Document=m.DocumentImpl;var _=a(264),v=a(155);r.DocumentType=v.DocumentTypeImpl;var g=a(6);r.dom=g.dom;var x=a(148);r.DOMImplementation=x.DOMImplementationImpl;var w=a(170);r.DOMTokenList=w.DOMTokenListImpl;var C=a(99);r.Element=C.ElementImpl;var S=a(104);r.Event=S.EventImpl;var T=a(70);r.EventTarget=T.EventTargetImpl;var b=a(161);r.HTMLCollection=b.HTMLCollectionImpl;var O=a(265);r.MutationObserver=O.MutationObserverImpl;var D=a(169);r.MutationRecord=D.MutationRecordImpl;var N=a(164);r.NamedNodeMap=N.NamedNodeMapImpl;var R=a(168);r.NodeFilter=R.NodeFilterImpl;var E=a(34);r.Node=E.NodeImpl;var A=a(166);r.NodeIterator=A.NodeIteratorImpl;var W=a(162);r.NodeList=W.NodeListImpl;var z=a(163);r.NodeListStatic=z.NodeListStaticImpl;var F=a(266),L=a(267),G=a(268),H=a(160);r.ProcessingInstruction=H.ProcessingInstructionImpl;var $=a(165);r.Range=$.RangeImpl;var J=a(156);r.ShadowRoot=J.ShadowRootImpl;var Q=a(269),q=a(270);r.StaticRange=q.StaticRangeImpl;var ne=a(101);r.Text=ne.TextImpl;var te=a(103);r.Traverser=te.TraverserImpl;var oe=a(167);r.TreeWalker=oe.TreeWalkerImpl;var re=a(149);r.Window=re.WindowImpl;var B=a(151);r.XMLDocument=B.XMLDocumentImpl,i.applyMixin(C.ElementImpl,h.ChildNodeImpl),i.applyMixin(f.CharacterDataImpl,h.ChildNodeImpl),i.applyMixin(v.DocumentTypeImpl,h.ChildNodeImpl),i.applyMixin(m.DocumentImpl,_.DocumentOrShadowRootImpl),i.applyMixin(J.ShadowRootImpl,_.DocumentOrShadowRootImpl),i.applyMixin(C.ElementImpl,F.NonDocumentTypeChildNodeImpl),i.applyMixin(f.CharacterDataImpl,F.NonDocumentTypeChildNodeImpl),i.applyMixin(m.DocumentImpl,L.NonElementParentNodeImpl),i.applyMixin(y.DocumentFragmentImpl,L.NonElementParentNodeImpl),i.applyMixin(m.DocumentImpl,G.ParentNodeImpl),i.applyMixin(y.DocumentFragmentImpl,G.ParentNodeImpl),i.applyMixin(C.ElementImpl,G.ParentNodeImpl),i.applyMixin(ne.TextImpl,Q.SlotableImpl),i.applyMixin(C.ElementImpl,Q.SlotableImpl)},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),function(i){i[i.EOF=0]="EOF",i[i.Declaration=1]="Declaration",i[i.DocType=2]="DocType",i[i.Element=3]="Element",i[i.Text=4]="Text",i[i.CDATA=5]="CDATA",i[i.PI=6]="PI",i[i.Comment=7]="Comment",i[i.ClosingTag=8]="ClosingTag"}(r.TokenType||(r.TokenType={}))},function(n,r,a){a(64),a(20),a(66);var i,s=this&&this.__extends||(i=function(u,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])})(u,l)},function(u,l){function f(){this.constructor=u}i(u,l),u.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(1),c=function(u){function l(){return u!==null&&u.apply(this,arguments)||this}return s(l,u),l.prototype._parse=function(f,h){var p=this,d=this._builderOptions,y=null;return o.isFunction(h)?y=this.parse(f,h.apply(this)):o.isArray(h)||o.isSet(h)?o.forEachArray(h,function(m){return y=p.parse(f,m)},this):o.isMap(h)||o.isObject(h)?o.forEachObject(h,function(m,_){if(o.isFunction(_)&&(_=_.apply(p)),d.ignoreConverters||m.indexOf(d.convert.att)!==0)if(d.ignoreConverters||m.indexOf(d.convert.text)!==0)if(d.ignoreConverters||m.indexOf(d.convert.cdata)!==0)if(d.ignoreConverters||m.indexOf(d.convert.comment)!==0)if(d.ignoreConverters||m.indexOf(d.convert.ins)!==0){if(!((o.isArray(_)||o.isSet(_))&&o.isEmpty(_))){if((o.isMap(_)||o.isObject(_))&&o.isEmpty(_))y=p.element(f,void 0,p.sanitize(m))||y;else if(d.keepNullNodes||_!=null)if(o.isArray(_)||o.isSet(_))o.forEachArray(_,function(C){var S={};S[m]=C,y=p.parse(f,S)},p);else if(o.isMap(_)||o.isObject(_))(v=p.element(f,void 0,p.sanitize(m)))&&(y=v,p.parse(v,_));else if(_!=null&&_!==""){var v;(v=p.element(f,void 0,p.sanitize(m)))&&(y=v,p.text(v,p._decodeText(p.sanitize(_))))}else y=p.element(f,void 0,p.sanitize(m))||y}}else if(o.isString(_)){var g=_.indexOf(" "),x=g===-1?_:_.substr(0,g),w=g===-1?"":_.substr(g+1);y=p.instruction(f,p.sanitize(x),p.sanitize(w))||y}else o.isArray(_)||o.isSet(_)?o.forEachArray(_,function(C){var S=C.indexOf(" "),T=S===-1?C:C.substr(0,S),b=S===-1?"":C.substr(S+1);y=p.instruction(f,p.sanitize(T),p.sanitize(b))||y},p):o.forEachObject(_,function(C,S){return y=p.instruction(f,p.sanitize(C),p.sanitize(S))||y},p);else o.isArray(_)||o.isSet(_)?o.forEachArray(_,function(C){return y=p.comment(f,p.sanitize(C))||y},p):y=p.comment(f,p.sanitize(_))||y;else o.isArray(_)||o.isSet(_)?o.forEachArray(_,function(C){return y=p.cdata(f,p.sanitize(C))||y},p):y=p.cdata(f,p.sanitize(_))||y;else y=o.isMap(_)||o.isObject(_)?p.parse(f,_):p.text(f,p._decodeText(p.sanitize(_)))||y;else if(m===d.convert.att){if(o.isArray(_)||o.isSet(_))throw new Error("Invalid attribute: "+_.toString()+". "+f._debugInfo());o.forEachObject(_,function(C,S){y=p.attribute(f,void 0,p.sanitize(C),p._decodeAttributeValue(p.sanitize(S)))||y})}else y=p.attribute(f,void 0,p.sanitize(m.substr(d.convert.att.length)),p._decodeAttributeValue(p.sanitize(_)))||y},this):(d.keepNullNodes||h!=null)&&(y=this.text(f,this._decodeText(this.sanitize(h)))||y),y||f},l}(a(75).BaseReader);r.ObjectReader=c},function(n,r,a){var i=a(39);n.exports=new i({explicit:[a(286),a(287),a(288)]})},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(s){this.level=0,this._builderOptions=s,this._writerOptions=s};r.BaseCBWriter=i},function(n,r,a){var i=a(16),s=a(8),o=a(116);n.exports=!i&&!s(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!=7})},function(n,r,a){var i=a(11),s=a(13),o=i.document,c=s(o)&&s(o.createElement);n.exports=function(u){return c?o.createElement(u):{}}},function(n,r,a){var i=a(118),s=Function.toString;typeof i.inspectSource!="function"&&(i.inspectSource=function(o){return s.call(o)}),n.exports=i.inspectSource},function(n,r,a){var i=a(11),s=a(80),o=i["__core-js_shared__"]||s("__core-js_shared__",{});n.exports=o},function(n,r,a){var i=a(14),s=a(187),o=a(55),c=a(15);n.exports=function(u,l){for(var f=s(l),h=c.f,p=o.f,d=0;d<f.length;d++){var y=f[d];i(u,y)||h(u,y,p(l,y))}}},function(n,r,a){var i=a(11);n.exports=i},function(n,r,a){var i=a(14),s=a(24),o=a(122).indexOf,c=a(45);n.exports=function(u,l){var f,h=s(u),p=0,d=[];for(f in h)!i(c,f)&&i(h,f)&&d.push(f);for(;l.length>p;)i(h,f=l[p++])&&(~o(d,f)||d.push(f));return d}},function(n,r,a){var i=a(24),s=a(26),o=a(83),c=function(u){return function(l,f,h){var p,d=i(l),y=s(d.length),m=o(h,y);if(u&&f!=f){for(;y>m;)if((p=d[m++])!=p)return!0}else for(;y>m;m++)if((u||m in d)&&d[m]===f)return u||m||0;return!u&&-1}};n.exports={includes:c(!0),indexOf:c(!1)}},function(n,r,a){var i=a(8),s=/#|\.prototype\./,o=function(h,p){var d=u[c(h)];return d==f||d!=l&&(typeof p=="function"?i(p):!!p)},c=o.normalize=function(h){return String(h).replace(s,".").toLowerCase()},u=o.data={},l=o.NATIVE="N",f=o.POLYFILL="P";n.exports=o},function(n,r,a){var i=a(86);n.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(n,r,a){var i=a(5);r.f=i},function(n,r,a){var i=a(120),s=a(14),o=a(125),c=a(15).f;n.exports=function(u){var l=i.Symbol||(i.Symbol={});s(l,u)||c(l,u,{value:o.f(u)})}},function(n,r){n.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},function(n,r,a){var i=a(13),s=a(59),o=a(5)("species");n.exports=function(c,u){var l;return s(c)&&(typeof(l=c.constructor)!="function"||l!==Array&&!s(l.prototype)?i(l)&&(l=l[o])===null&&(l=void 0):l=void 0),new(l===void 0?Array:l)(u===0?0:u)}},function(n,r,a){var i,s,o=a(11),c=a(193),u=o.process,l=u&&u.versions,f=l&&l.v8;f?s=(i=f.split("."))[0]+i[1]:c&&(!(i=c.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=c.match(/Chrome\/(\d+)/))&&(s=i[1]),n.exports=s&&+s},function(n,r,a){var i=a(5),s=a(60),o=a(15),c=i("unscopables"),u=Array.prototype;u[c]==null&&o.f(u,c,{configurable:!0,value:s(null)}),n.exports=function(l){u[c][l]=!0}},function(n,r,a){var i,s,o,c=a(132),u=a(21),l=a(14),f=a(5),h=a(44),p=f("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(s=c(c(o)))!==Object.prototype&&(i=s):d=!0),i==null&&(i={}),h||l(i,p)||u(i,p,function(){return this}),n.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:d}},function(n,r,a){var i=a(14),s=a(27),o=a(57),c=a(196),u=o("IE_PROTO"),l=Object.prototype;n.exports=c?Object.getPrototypeOf:function(f){return f=s(f),i(f,u)?f[u]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?l:null}},function(n,r,a){var i=a(18),s=a(197);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var o,c=!1,u={};try{(o=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(u,[]),c=u instanceof Array}catch{}return function(l,f){return i(l),s(f),c?o.call(l,f):l.__proto__=f,l}}():void 0)},function(n,r,a){var i=a(56),s=a(15),o=a(40);n.exports=function(c,u,l){var f=i(u);f in c?s.f(c,f,o(0,l)):c[f]=l}},function(n,r,a){var i=a(90),s=a(42),o=a(5)("toStringTag"),c=s(function(){return arguments}())=="Arguments";n.exports=i?s:function(u){var l,f,h;return u===void 0?"Undefined":u===null?"Null":typeof(f=function(p,d){try{return p[d]}catch{}}(l=Object(u),o))=="string"?f:c?s(l):(h=s(l))=="Object"&&typeof l.callee=="function"?"Arguments":h}},function(n,r,a){var i=a(18);n.exports=function(){var s=i(this),o="";return s.global&&(o+="g"),s.ignoreCase&&(o+="i"),s.multiline&&(o+="m"),s.dotAll&&(o+="s"),s.unicode&&(o+="u"),s.sticky&&(o+="y"),o}},function(n,r,a){var i=a(47),s=a(35),o=function(c){return function(u,l){var f,h,p=String(s(u)),d=i(l),y=p.length;return d<0||d>=y?c?"":void 0:(f=p.charCodeAt(d))<55296||f>56319||d+1===y||(h=p.charCodeAt(d+1))<56320||h>57343?c?p.charAt(d):f:c?p.slice(d,d+2):h-56320+(f-55296<<10)+65536}};n.exports={codeAt:o(!1),charAt:o(!0)}},function(n,r,a){var i=a(4),s=a(27),o=a(61);i({target:"Object",stat:!0,forced:a(8)(function(){o(1)})},{keys:function(c){return o(s(c))}})},function(n,r,a){var i=a(4),s=a(11),o=a(123),c=a(25),u=a(140),l=a(141),f=a(142),h=a(13),p=a(8),d=a(208),y=a(62),m=a(209);n.exports=function(_,v,g){var x=_.indexOf("Map")!==-1,w=_.indexOf("Weak")!==-1,C=x?"set":"add",S=s[_],T=S&&S.prototype,b=S,O={},D=function(z){var F=T[z];c(T,z,z=="add"?function(L){return F.call(this,L===0?0:L),this}:z=="delete"?function(L){return!(w&&!h(L))&&F.call(this,L===0?0:L)}:z=="get"?function(L){return w&&!h(L)?void 0:F.call(this,L===0?0:L)}:z=="has"?function(L){return!(w&&!h(L))&&F.call(this,L===0?0:L)}:function(L,G){return F.call(this,L===0?0:L,G),this})};if(o(_,typeof S!="function"||!(w||T.forEach&&!p(function(){new S().entries().next()}))))b=g.getConstructor(v,_,x,C),u.REQUIRED=!0;else if(o(_,!0)){var N=new b,R=N[C](w?{}:-0,1)!=N,E=p(function(){N.has(1)}),A=d(function(z){new S(z)}),W=!w&&p(function(){for(var z=new S,F=5;F--;)z[C](F,F);return!z.has(-0)});A||((b=v(function(z,F){f(z,b,_);var L=m(new S,z,b);return F!=null&&l(F,L[C],L,x),L})).prototype=T,T.constructor=b),(E||W)&&(D("delete"),D("has"),x&&D("get")),(W||R)&&D(C),w&&T.clear&&delete T.clear}return O[_]=b,i({global:!0,forced:b!=S},O),y(b,_),w||g.setStrong(b,_,x),b}},function(n,r,a){var i=a(45),s=a(13),o=a(14),c=a(15).f,u=a(58),l=a(204),f=u("meta"),h=0,p=Object.isExtensible||function(){return!0},d=function(m){c(m,f,{value:{objectID:"O"+ ++h,weakData:{}}})},y=n.exports={REQUIRED:!1,fastKey:function(m,_){if(!s(m))return typeof m=="symbol"?m:(typeof m=="string"?"S":"P")+m;if(!o(m,f)){if(!p(m))return"F";if(!_)return"E";d(m)}return m[f].objectID},getWeakData:function(m,_){if(!o(m,f)){if(!p(m))return!0;if(!_)return!1;d(m)}return m[f].weakData},onFreeze:function(m){return l&&y.REQUIRED&&p(m)&&!o(m,f)&&d(m),m}};i[f]=!0},function(n,r,a){var i=a(18),s=a(205),o=a(26),c=a(87),u=a(206),l=a(207),f=function(h,p){this.stopped=h,this.result=p};(n.exports=function(h,p,d,y,m){var _,v,g,x,w,C,S,T=c(p,d,y?2:1);if(m)_=h;else{if(typeof(v=u(h))!="function")throw TypeError("Target is not iterable");if(s(v)){for(g=0,x=o(h.length);x>g;g++)if((w=y?T(i(S=h[g])[0],S[1]):T(h[g]))&&w instanceof f)return w;return new f(!1)}_=v.call(h)}for(C=_.next;!(S=C.call(_)).done;)if(typeof(w=l(_,T,S.value,y))=="object"&&w&&w instanceof f)return w;return new f(!1)}).stop=function(h){return new f(!0,h)}},function(n,r){n.exports=function(a,i,s){if(!(a instanceof i))throw TypeError("Incorrect "+(s?s+" ":"")+"invocation");return a}},function(n,r,a){var i=a(15).f,s=a(60),o=a(210),c=a(87),u=a(142),l=a(141),f=a(88),h=a(211),p=a(16),d=a(140).fastKey,y=a(43),m=y.set,_=y.getterFor;n.exports={getConstructor:function(v,g,x,w){var C=v(function(O,D){u(O,C,g),m(O,{type:g,index:s(null),first:void 0,last:void 0,size:0}),p||(O.size=0),D!=null&&l(D,O[w],O,x)}),S=_(g),T=function(O,D,N){var R,E,A=S(O),W=b(O,D);return W?W.value=N:(A.last=W={index:E=d(D,!0),key:D,value:N,previous:R=A.last,next:void 0,removed:!1},A.first||(A.first=W),R&&(R.next=W),p?A.size++:O.size++,E!=="F"&&(A.index[E]=W)),O},b=function(O,D){var N,R=S(O),E=d(D);if(E!=="F")return R.index[E];for(N=R.first;N;N=N.next)if(N.key==D)return N};return o(C.prototype,{clear:function(){for(var O=S(this),D=O.index,N=O.first;N;)N.removed=!0,N.previous&&(N.previous=N.previous.next=void 0),delete D[N.index],N=N.next;O.first=O.last=void 0,p?O.size=0:this.size=0},delete:function(O){var D=S(this),N=b(this,O);if(N){var R=N.next,E=N.previous;delete D.index[N.index],N.removed=!0,E&&(E.next=R),R&&(R.previous=E),D.first==N&&(D.first=R),D.last==N&&(D.last=E),p?D.size--:this.size--}return!!N},forEach:function(O){for(var D,N=S(this),R=c(O,arguments.length>1?arguments[1]:void 0,3);D=D?D.next:N.first;)for(R(D.value,D.key,this);D&&D.removed;)D=D.previous},has:function(O){return!!b(this,O)}}),o(C.prototype,x?{get:function(O){var D=b(this,O);return D&&D.value},set:function(O,D){return T(this,O===0?0:O,D)}}:{add:function(O){return T(this,O=O===0?0:O,O)}}),p&&i(C.prototype,"size",{get:function(){return S(this).size}}),C},setStrong:function(v,g,x){var w=g+" Iterator",C=_(g),S=_(w);f(v,g,function(T,b){m(this,{type:w,target:T,state:C(T),kind:b,last:void 0})},function(){for(var T=S(this),b=T.kind,O=T.last;O&&O.removed;)O=O.previous;return T.target&&(T.last=O=O?O.next:T.state.first)?b=="keys"?{value:O.key,done:!1}:b=="values"?{value:O.value,done:!1}:{value:[O.key,O.value],done:!1}:(T.target=void 0,{value:void 0,done:!0})},x?"entries":"values",!x,!0),h(g)}}},function(n,r,a){var i,s=a(4),o=a(55).f,c=a(26),u=a(222),l=a(35),f=a(224),h=a(44),p="".endsWith,d=Math.min,y=f("endsWith");s({target:"String",proto:!0,forced:!!(h||y||(i=o(String.prototype,"endsWith"),!i||i.writable))&&!y},{endsWith:function(m){var _=String(l(this));u(m);var v=arguments.length>1?arguments[1]:void 0,g=c(_.length),x=v===void 0?g:d(c(v),g),w=String(m);return p?p.call(_,w,x):_.slice(x-w.length,x)===w}})},function(n,r,a){(function(i){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var s=a(229),o=a(230),c=a(231);function u(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(B,k){if(u()<k)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(B=new Uint8Array(k)).__proto__=f.prototype:(B===null&&(B=new f(k)),B.length=k),B}function f(B,k,j){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(B,k,j);if(typeof B=="number"){if(typeof k=="string")throw new Error("If encoding is specified then the first argument must be a string");return d(this,B)}return h(this,B,k,j)}function h(B,k,j,V){if(typeof k=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&k instanceof ArrayBuffer?function(M,P,U,K){if(P.byteLength,U<0||P.byteLength<U)throw new RangeError("'offset' is out of bounds");if(P.byteLength<U+(K||0))throw new RangeError("'length' is out of bounds");return P=U===void 0&&K===void 0?new Uint8Array(P):K===void 0?new Uint8Array(P,U):new Uint8Array(P,U,K),f.TYPED_ARRAY_SUPPORT?(M=P).__proto__=f.prototype:M=y(M,P),M}(B,k,j,V):typeof k=="string"?function(M,P,U){if(typeof U=="string"&&U!==""||(U="utf8"),!f.isEncoding(U))throw new TypeError('"encoding" must be a valid string encoding');var K=0|_(P,U),X=(M=l(M,K)).write(P,U);return X!==K&&(M=M.slice(0,X)),M}(B,k,j):function(M,P){if(f.isBuffer(P)){var U=0|m(P.length);return(M=l(M,U)).length===0||P.copy(M,0,0,U),M}if(P){if(typeof ArrayBuffer!="undefined"&&P.buffer instanceof ArrayBuffer||"length"in P)return typeof P.length!="number"||(K=P.length)!=K?l(M,0):y(M,P);if(P.type==="Buffer"&&c(P.data))return y(M,P.data)}var K;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(B,k)}function p(B){if(typeof B!="number")throw new TypeError('"size" argument must be a number');if(B<0)throw new RangeError('"size" argument must not be negative')}function d(B,k){if(p(k),B=l(B,k<0?0:0|m(k)),!f.TYPED_ARRAY_SUPPORT)for(var j=0;j<k;++j)B[j]=0;return B}function y(B,k){var j=k.length<0?0:0|m(k.length);B=l(B,j);for(var V=0;V<j;V+=1)B[V]=255&k[V];return B}function m(B){if(B>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|B}function _(B,k){if(f.isBuffer(B))return B.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(B)||B instanceof ArrayBuffer))return B.byteLength;typeof B!="string"&&(B=""+B);var j=B.length;if(j===0)return 0;for(var V=!1;;)switch(k){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":case void 0:return te(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*j;case"hex":return j>>>1;case"base64":return oe(B).length;default:if(V)return te(B).length;k=(""+k).toLowerCase(),V=!0}}function v(B,k,j){var V=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0)<=(k>>>=0))return"";for(B||(B="utf8");;)switch(B){case"hex":return W(this,k,j);case"utf8":case"utf-8":return R(this,k,j);case"ascii":return E(this,k,j);case"latin1":case"binary":return A(this,k,j);case"base64":return N(this,k,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,k,j);default:if(V)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),V=!0}}function g(B,k,j){var V=B[k];B[k]=B[j],B[j]=V}function x(B,k,j,V,M){if(B.length===0)return-1;if(typeof j=="string"?(V=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),j=+j,isNaN(j)&&(j=M?0:B.length-1),j<0&&(j=B.length+j),j>=B.length){if(M)return-1;j=B.length-1}else if(j<0){if(!M)return-1;j=0}if(typeof k=="string"&&(k=f.from(k,V)),f.isBuffer(k))return k.length===0?-1:w(B,k,j,V,M);if(typeof k=="number")return k&=255,f.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?M?Uint8Array.prototype.indexOf.call(B,k,j):Uint8Array.prototype.lastIndexOf.call(B,k,j):w(B,[k],j,V,M);throw new TypeError("val must be string, number or Buffer")}function w(B,k,j,V,M){var P,U=1,K=B.length,X=k.length;if(V!==void 0&&((V=String(V).toLowerCase())==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(B.length<2||k.length<2)return-1;U=2,K/=2,X/=2,j/=2}function Z(pe,ve){return U===1?pe[ve]:pe.readUInt16BE(ve*U)}if(M){var ae=-1;for(P=j;P<K;P++)if(Z(B,P)===Z(k,ae===-1?0:P-ae)){if(ae===-1&&(ae=P),P-ae+1===X)return ae*U}else ae!==-1&&(P-=P-ae),ae=-1}else for(j+X>K&&(j=K-X),P=j;P>=0;P--){for(var ce=!0,ie=0;ie<X;ie++)if(Z(B,P+ie)!==Z(k,ie)){ce=!1;break}if(ce)return P}return-1}function C(B,k,j,V){j=Number(j)||0;var M=B.length-j;V?(V=Number(V))>M&&(V=M):V=M;var P=k.length;if(P%2!=0)throw new TypeError("Invalid hex string");V>P/2&&(V=P/2);for(var U=0;U<V;++U){var K=parseInt(k.substr(2*U,2),16);if(isNaN(K))return U;B[j+U]=K}return U}function S(B,k,j,V){return re(te(k,B.length-j),B,j,V)}function T(B,k,j,V){return re(function(M){for(var P=[],U=0;U<M.length;++U)P.push(255&M.charCodeAt(U));return P}(k),B,j,V)}function b(B,k,j,V){return T(B,k,j,V)}function O(B,k,j,V){return re(oe(k),B,j,V)}function D(B,k,j,V){return re(function(M,P){for(var U,K,X,Z=[],ae=0;ae<M.length&&!((P-=2)<0);++ae)U=M.charCodeAt(ae),K=U>>8,X=U%256,Z.push(X),Z.push(K);return Z}(k,B.length-j),B,j,V)}function N(B,k,j){return k===0&&j===B.length?s.fromByteArray(B):s.fromByteArray(B.slice(k,j))}function R(B,k,j){j=Math.min(B.length,j);for(var V=[],M=k;M<j;){var P,U,K,X,Z=B[M],ae=null,ce=Z>239?4:Z>223?3:Z>191?2:1;if(M+ce<=j)switch(ce){case 1:Z<128&&(ae=Z);break;case 2:(192&(P=B[M+1]))==128&&(X=(31&Z)<<6|63&P)>127&&(ae=X);break;case 3:P=B[M+1],U=B[M+2],(192&P)==128&&(192&U)==128&&(X=(15&Z)<<12|(63&P)<<6|63&U)>2047&&(X<55296||X>57343)&&(ae=X);break;case 4:P=B[M+1],U=B[M+2],K=B[M+3],(192&P)==128&&(192&U)==128&&(192&K)==128&&(X=(15&Z)<<18|(63&P)<<12|(63&U)<<6|63&K)>65535&&X<1114112&&(ae=X)}ae===null?(ae=65533,ce=1):ae>65535&&(ae-=65536,V.push(ae>>>10&1023|55296),ae=56320|1023&ae),V.push(ae),M+=ce}return function(ie){var pe=ie.length;if(pe<=4096)return String.fromCharCode.apply(String,ie);for(var ve="",fe=0;fe<pe;)ve+=String.fromCharCode.apply(String,ie.slice(fe,fe+=4096));return ve}(V)}r.Buffer=f,r.SlowBuffer=function(B){return+B!=B&&(B=0),f.alloc(+B)},r.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=i.TYPED_ARRAY_SUPPORT!==void 0?i.TYPED_ARRAY_SUPPORT:function(){try{var B=new Uint8Array(1);return B.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},B.foo()===42&&typeof B.subarray=="function"&&B.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=u(),f.poolSize=8192,f._augment=function(B){return B.__proto__=f.prototype,B},f.from=function(B,k,j){return h(null,B,k,j)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(B,k,j){return function(V,M,P,U){return p(M),M<=0?l(V,M):P!==void 0?typeof U=="string"?l(V,M).fill(P,U):l(V,M).fill(P):l(V,M)}(null,B,k,j)},f.allocUnsafe=function(B){return d(null,B)},f.allocUnsafeSlow=function(B){return d(null,B)},f.isBuffer=function(B){return!(B==null||!B._isBuffer)},f.compare=function(B,k){if(!f.isBuffer(B)||!f.isBuffer(k))throw new TypeError("Arguments must be Buffers");if(B===k)return 0;for(var j=B.length,V=k.length,M=0,P=Math.min(j,V);M<P;++M)if(B[M]!==k[M]){j=B[M],V=k[M];break}return j<V?-1:V<j?1:0},f.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(B,k){if(!c(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return f.alloc(0);var j;if(k===void 0)for(k=0,j=0;j<B.length;++j)k+=B[j].length;var V=f.allocUnsafe(k),M=0;for(j=0;j<B.length;++j){var P=B[j];if(!f.isBuffer(P))throw new TypeError('"list" argument must be an Array of Buffers');P.copy(V,M),M+=P.length}return V},f.byteLength=_,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var B=this.length;if(B%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<B;k+=2)g(this,k,k+1);return this},f.prototype.swap32=function(){var B=this.length;if(B%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<B;k+=4)g(this,k,k+3),g(this,k+1,k+2);return this},f.prototype.swap64=function(){var B=this.length;if(B%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<B;k+=8)g(this,k,k+7),g(this,k+1,k+6),g(this,k+2,k+5),g(this,k+3,k+4);return this},f.prototype.toString=function(){var B=0|this.length;return B===0?"":arguments.length===0?R(this,0,B):v.apply(this,arguments)},f.prototype.equals=function(B){if(!f.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B||f.compare(this,B)===0},f.prototype.inspect=function(){var B="",k=r.INSPECT_MAX_BYTES;return this.length>0&&(B=this.toString("hex",0,k).match(/.{2}/g).join(" "),this.length>k&&(B+=" ... ")),"<Buffer "+B+">"},f.prototype.compare=function(B,k,j,V,M){if(!f.isBuffer(B))throw new TypeError("Argument must be a Buffer");if(k===void 0&&(k=0),j===void 0&&(j=B?B.length:0),V===void 0&&(V=0),M===void 0&&(M=this.length),k<0||j>B.length||V<0||M>this.length)throw new RangeError("out of range index");if(V>=M&&k>=j)return 0;if(V>=M)return-1;if(k>=j)return 1;if(this===B)return 0;for(var P=(M>>>=0)-(V>>>=0),U=(j>>>=0)-(k>>>=0),K=Math.min(P,U),X=this.slice(V,M),Z=B.slice(k,j),ae=0;ae<K;++ae)if(X[ae]!==Z[ae]){P=X[ae],U=Z[ae];break}return P<U?-1:U<P?1:0},f.prototype.includes=function(B,k,j){return this.indexOf(B,k,j)!==-1},f.prototype.indexOf=function(B,k,j){return x(this,B,k,j,!0)},f.prototype.lastIndexOf=function(B,k,j){return x(this,B,k,j,!1)},f.prototype.write=function(B,k,j,V){if(k===void 0)V="utf8",j=this.length,k=0;else if(j===void 0&&typeof k=="string")V=k,j=this.length,k=0;else{if(!isFinite(k))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");k|=0,isFinite(j)?(j|=0,V===void 0&&(V="utf8")):(V=j,j=void 0)}var M=this.length-k;if((j===void 0||j>M)&&(j=M),B.length>0&&(j<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");V||(V="utf8");for(var P=!1;;)switch(V){case"hex":return C(this,B,k,j);case"utf8":case"utf-8":return S(this,B,k,j);case"ascii":return T(this,B,k,j);case"latin1":case"binary":return b(this,B,k,j);case"base64":return O(this,B,k,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,B,k,j);default:if(P)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase(),P=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(B,k,j){var V="";j=Math.min(B.length,j);for(var M=k;M<j;++M)V+=String.fromCharCode(127&B[M]);return V}function A(B,k,j){var V="";j=Math.min(B.length,j);for(var M=k;M<j;++M)V+=String.fromCharCode(B[M]);return V}function W(B,k,j){var V=B.length;(!k||k<0)&&(k=0),(!j||j<0||j>V)&&(j=V);for(var M="",P=k;P<j;++P)M+=ne(B[P]);return M}function z(B,k,j){for(var V=B.slice(k,j),M="",P=0;P<V.length;P+=2)M+=String.fromCharCode(V[P]+256*V[P+1]);return M}function F(B,k,j){if(B%1!=0||B<0)throw new RangeError("offset is not uint");if(B+k>j)throw new RangeError("Trying to access beyond buffer length")}function L(B,k,j,V,M,P){if(!f.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>M||k<P)throw new RangeError('"value" argument is out of bounds');if(j+V>B.length)throw new RangeError("Index out of range")}function G(B,k,j,V){k<0&&(k=65535+k+1);for(var M=0,P=Math.min(B.length-j,2);M<P;++M)B[j+M]=(k&255<<8*(V?M:1-M))>>>8*(V?M:1-M)}function H(B,k,j,V){k<0&&(k=4294967295+k+1);for(var M=0,P=Math.min(B.length-j,4);M<P;++M)B[j+M]=k>>>8*(V?M:3-M)&255}function $(B,k,j,V,M,P){if(j+V>B.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function J(B,k,j,V,M){return M||$(B,0,j,4),o.write(B,k,j,V,23,4),j+4}function Q(B,k,j,V,M){return M||$(B,0,j,8),o.write(B,k,j,V,52,8),j+8}f.prototype.slice=function(B,k){var j,V=this.length;if((B=~~B)<0?(B+=V)<0&&(B=0):B>V&&(B=V),(k=k===void 0?V:~~k)<0?(k+=V)<0&&(k=0):k>V&&(k=V),k<B&&(k=B),f.TYPED_ARRAY_SUPPORT)(j=this.subarray(B,k)).__proto__=f.prototype;else{var M=k-B;j=new f(M,void 0);for(var P=0;P<M;++P)j[P]=this[P+B]}return j},f.prototype.readUIntLE=function(B,k,j){B|=0,k|=0,j||F(B,k,this.length);for(var V=this[B],M=1,P=0;++P<k&&(M*=256);)V+=this[B+P]*M;return V},f.prototype.readUIntBE=function(B,k,j){B|=0,k|=0,j||F(B,k,this.length);for(var V=this[B+--k],M=1;k>0&&(M*=256);)V+=this[B+--k]*M;return V},f.prototype.readUInt8=function(B,k){return k||F(B,1,this.length),this[B]},f.prototype.readUInt16LE=function(B,k){return k||F(B,2,this.length),this[B]|this[B+1]<<8},f.prototype.readUInt16BE=function(B,k){return k||F(B,2,this.length),this[B]<<8|this[B+1]},f.prototype.readUInt32LE=function(B,k){return k||F(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+16777216*this[B+3]},f.prototype.readUInt32BE=function(B,k){return k||F(B,4,this.length),16777216*this[B]+(this[B+1]<<16|this[B+2]<<8|this[B+3])},f.prototype.readIntLE=function(B,k,j){B|=0,k|=0,j||F(B,k,this.length);for(var V=this[B],M=1,P=0;++P<k&&(M*=256);)V+=this[B+P]*M;return V>=(M*=128)&&(V-=Math.pow(2,8*k)),V},f.prototype.readIntBE=function(B,k,j){B|=0,k|=0,j||F(B,k,this.length);for(var V=k,M=1,P=this[B+--V];V>0&&(M*=256);)P+=this[B+--V]*M;return P>=(M*=128)&&(P-=Math.pow(2,8*k)),P},f.prototype.readInt8=function(B,k){return k||F(B,1,this.length),128&this[B]?-1*(255-this[B]+1):this[B]},f.prototype.readInt16LE=function(B,k){k||F(B,2,this.length);var j=this[B]|this[B+1]<<8;return 32768&j?4294901760|j:j},f.prototype.readInt16BE=function(B,k){k||F(B,2,this.length);var j=this[B+1]|this[B]<<8;return 32768&j?4294901760|j:j},f.prototype.readInt32LE=function(B,k){return k||F(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},f.prototype.readInt32BE=function(B,k){return k||F(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},f.prototype.readFloatLE=function(B,k){return k||F(B,4,this.length),o.read(this,B,!0,23,4)},f.prototype.readFloatBE=function(B,k){return k||F(B,4,this.length),o.read(this,B,!1,23,4)},f.prototype.readDoubleLE=function(B,k){return k||F(B,8,this.length),o.read(this,B,!0,52,8)},f.prototype.readDoubleBE=function(B,k){return k||F(B,8,this.length),o.read(this,B,!1,52,8)},f.prototype.writeUIntLE=function(B,k,j,V){B=+B,k|=0,j|=0,V||L(this,B,k,j,Math.pow(2,8*j)-1,0);var M=1,P=0;for(this[k]=255&B;++P<j&&(M*=256);)this[k+P]=B/M&255;return k+j},f.prototype.writeUIntBE=function(B,k,j,V){B=+B,k|=0,j|=0,V||L(this,B,k,j,Math.pow(2,8*j)-1,0);var M=j-1,P=1;for(this[k+M]=255&B;--M>=0&&(P*=256);)this[k+M]=B/P&255;return k+j},f.prototype.writeUInt8=function(B,k,j){return B=+B,k|=0,j||L(this,B,k,1,255,0),f.TYPED_ARRAY_SUPPORT||(B=Math.floor(B)),this[k]=255&B,k+1},f.prototype.writeUInt16LE=function(B,k,j){return B=+B,k|=0,j||L(this,B,k,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[k]=255&B,this[k+1]=B>>>8):G(this,B,k,!0),k+2},f.prototype.writeUInt16BE=function(B,k,j){return B=+B,k|=0,j||L(this,B,k,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[k]=B>>>8,this[k+1]=255&B):G(this,B,k,!1),k+2},f.prototype.writeUInt32LE=function(B,k,j){return B=+B,k|=0,j||L(this,B,k,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[k+3]=B>>>24,this[k+2]=B>>>16,this[k+1]=B>>>8,this[k]=255&B):H(this,B,k,!0),k+4},f.prototype.writeUInt32BE=function(B,k,j){return B=+B,k|=0,j||L(this,B,k,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[k]=B>>>24,this[k+1]=B>>>16,this[k+2]=B>>>8,this[k+3]=255&B):H(this,B,k,!1),k+4},f.prototype.writeIntLE=function(B,k,j,V){if(B=+B,k|=0,!V){var M=Math.pow(2,8*j-1);L(this,B,k,j,M-1,-M)}var P=0,U=1,K=0;for(this[k]=255&B;++P<j&&(U*=256);)B<0&&K===0&&this[k+P-1]!==0&&(K=1),this[k+P]=(B/U>>0)-K&255;return k+j},f.prototype.writeIntBE=function(B,k,j,V){if(B=+B,k|=0,!V){var M=Math.pow(2,8*j-1);L(this,B,k,j,M-1,-M)}var P=j-1,U=1,K=0;for(this[k+P]=255&B;--P>=0&&(U*=256);)B<0&&K===0&&this[k+P+1]!==0&&(K=1),this[k+P]=(B/U>>0)-K&255;return k+j},f.prototype.writeInt8=function(B,k,j){return B=+B,k|=0,j||L(this,B,k,1,127,-128),f.TYPED_ARRAY_SUPPORT||(B=Math.floor(B)),B<0&&(B=255+B+1),this[k]=255&B,k+1},f.prototype.writeInt16LE=function(B,k,j){return B=+B,k|=0,j||L(this,B,k,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[k]=255&B,this[k+1]=B>>>8):G(this,B,k,!0),k+2},f.prototype.writeInt16BE=function(B,k,j){return B=+B,k|=0,j||L(this,B,k,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[k]=B>>>8,this[k+1]=255&B):G(this,B,k,!1),k+2},f.prototype.writeInt32LE=function(B,k,j){return B=+B,k|=0,j||L(this,B,k,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[k]=255&B,this[k+1]=B>>>8,this[k+2]=B>>>16,this[k+3]=B>>>24):H(this,B,k,!0),k+4},f.prototype.writeInt32BE=function(B,k,j){return B=+B,k|=0,j||L(this,B,k,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),f.TYPED_ARRAY_SUPPORT?(this[k]=B>>>24,this[k+1]=B>>>16,this[k+2]=B>>>8,this[k+3]=255&B):H(this,B,k,!1),k+4},f.prototype.writeFloatLE=function(B,k,j){return J(this,B,k,!0,j)},f.prototype.writeFloatBE=function(B,k,j){return J(this,B,k,!1,j)},f.prototype.writeDoubleLE=function(B,k,j){return Q(this,B,k,!0,j)},f.prototype.writeDoubleBE=function(B,k,j){return Q(this,B,k,!1,j)},f.prototype.copy=function(B,k,j,V){if(j||(j=0),V||V===0||(V=this.length),k>=B.length&&(k=B.length),k||(k=0),V>0&&V<j&&(V=j),V===j||B.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("sourceStart out of bounds");if(V<0)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length),B.length-k<V-j&&(V=B.length-k+j);var M,P=V-j;if(this===B&&j<k&&k<V)for(M=P-1;M>=0;--M)B[M+k]=this[M+j];else if(P<1e3||!f.TYPED_ARRAY_SUPPORT)for(M=0;M<P;++M)B[M+k]=this[M+j];else Uint8Array.prototype.set.call(B,this.subarray(j,j+P),k);return P},f.prototype.fill=function(B,k,j,V){if(typeof B=="string"){if(typeof k=="string"?(V=k,k=0,j=this.length):typeof j=="string"&&(V=j,j=this.length),B.length===1){var M=B.charCodeAt(0);M<256&&(B=M)}if(V!==void 0&&typeof V!="string")throw new TypeError("encoding must be a string");if(typeof V=="string"&&!f.isEncoding(V))throw new TypeError("Unknown encoding: "+V)}else typeof B=="number"&&(B&=255);if(k<0||this.length<k||this.length<j)throw new RangeError("Out of range index");if(j<=k)return this;var P;if(k>>>=0,j=j===void 0?this.length:j>>>0,B||(B=0),typeof B=="number")for(P=k;P<j;++P)this[P]=B;else{var U=f.isBuffer(B)?B:te(new f(B,V).toString()),K=U.length;for(P=0;P<j-k;++P)this[P+k]=U[P%K]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function ne(B){return B<16?"0"+B.toString(16):B.toString(16)}function te(B,k){var j;k=k||1/0;for(var V=B.length,M=null,P=[],U=0;U<V;++U){if((j=B.charCodeAt(U))>55295&&j<57344){if(!M){if(j>56319){(k-=3)>-1&&P.push(239,191,189);continue}if(U+1===V){(k-=3)>-1&&P.push(239,191,189);continue}M=j;continue}if(j<56320){(k-=3)>-1&&P.push(239,191,189),M=j;continue}j=65536+(M-55296<<10|j-56320)}else M&&(k-=3)>-1&&P.push(239,191,189);if(M=null,j<128){if((k-=1)<0)break;P.push(j)}else if(j<2048){if((k-=2)<0)break;P.push(j>>6|192,63&j|128)}else if(j<65536){if((k-=3)<0)break;P.push(j>>12|224,j>>6&63|128,63&j|128)}else{if(!(j<1114112))throw new Error("Invalid code point");if((k-=4)<0)break;P.push(j>>18|240,j>>12&63|128,j>>6&63|128,63&j|128)}}return P}function oe(B){return s.toByteArray(function(k){if((k=function(j){return j.trim?j.trim():j.replace(/^\s+|\s+$/g,"")}(k).replace(q,"")).length<2)return"";for(;k.length%4!=0;)k+="=";return k}(B))}function re(B,k,j,V){for(var M=0;M<V&&!(M+j>=k.length||M>=B.length);++M)k[M+j]=B[M];return M}}).call(this,a(78))},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.isASCIIByte=function(i){return i>=0&&i<=127}},function(n,r,a){var i=this&&this.__read||function(o,c){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var l,f,h=u.call(o),p=[];try{for(;(c===void 0||c-- >0)&&!(l=h.next()).done;)p.push(l.value)}catch(d){f={error:d}}finally{try{l&&!l.done&&(u=h.return)&&u.call(h)}finally{if(f)throw f.error}}return p},s=this&&this.__spread||function(){for(var o=[],c=0;c<arguments.length;c++)o=o.concat(i(arguments[c]));return o};Object.defineProperty(r,"__esModule",{value:!0}),r.length=function(o){return o.length},r.byteLowercase=function(o){for(var c=0;c<o.length;c++){var u=o[c];u>=65&&u<=90&&(o[c]=u+32)}},r.byteUppercase=function(o){for(var c=0;c<o.length;c++){var u=o[c];u>=97&&u<=122&&(o[c]=u-32)}},r.byteCaseInsensitiveMatch=function(o,c){if(o.length!==c.length)return!1;for(var u=0;u<o.length;u++){var l=o[u],f=c[u];if(l>=65&&l<=90&&(l+=32),f>=65&&f<=90&&(f+=32),l!==f)return!1}return!0},r.startsWith=function(o,c){for(var u=0;;){if(u>=o.length)return!1;if(u>=c.length)return!0;if(o[u]!==c[u])return!1;u++}},r.byteLessThan=function(o,c){for(var u=0;;){if(u>=o.length)return!1;if(u>=c.length)return!0;var l=o[u],f=c[u];if(l<f)return!0;if(l>f)return!1;u++}},r.isomorphicDecode=function(o){return String.fromCodePoint.apply(String,s(o))}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(6),s=a(7),o=a(0),c=a(12),u=function(){function l(f){this._associatedDocument=f||i.dom.window.document}return l.prototype.createDocumentType=function(f,h,p){return o.namespace_validate(f),o.create_documentType(this._associatedDocument,f,h,p)},l.prototype.createDocument=function(f,h,p){p===void 0&&(p=null);var d=o.create_xmlDocument(),y=null;return h&&(y=o.document_internalCreateElementNS(d,f,h)),p&&d.appendChild(p),y&&d.appendChild(y),d._origin=this._associatedDocument._origin,f===s.namespace.HTML?d._contentType="application/xhtml+xml":f===s.namespace.SVG?d._contentType="image/svg+xml":d._contentType="application/xml",d},l.prototype.createHTMLDocument=function(f){var h=o.create_document();h._type="html",h._contentType="text/html",h.appendChild(o.create_documentType(h,"html","",""));var p=o.element_createAnElement(h,"html",s.namespace.HTML);h.appendChild(p);var d=o.element_createAnElement(h,"head",s.namespace.HTML);if(p.appendChild(d),f!==void 0){var y=o.element_createAnElement(h,"title",s.namespace.HTML);d.appendChild(y);var m=o.create_text(h,f);y.appendChild(m)}var _=o.element_createAnElement(h,"body",s.namespace.HTML);return p.appendChild(_),h._origin=this._associatedDocument._origin,h},l.prototype.hasFeature=function(){return!0},l._create=function(f){return new l(f)},l}();r.DOMImplementationImpl=u,c.idl_defineConst(u.prototype,"_ID","@oozcitak/dom")},function(n,r,a){var i,s=this&&this.__extends||(i=function(f,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var y in d)d.hasOwnProperty(y)&&(p[y]=d[y])})(f,h)},function(f,h){function p(){this.constructor=f}i(f,h),f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(70),c=a(1),u=a(0),l=function(f){function h(){var p=f.call(this)||this;return p._signalSlots=new Set,p._mutationObserverMicrotaskQueued=!1,p._mutationObservers=new Set,p._iteratorList=new c.FixedSizeSet,p._associatedDocument=u.create_document(),p}return s(h,f),Object.defineProperty(h.prototype,"document",{get:function(){return this._associatedDocument},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"event",{get:function(){return this._currentEvent},enumerable:!0,configurable:!0}),h._create=function(){return new h},h}(o.EventTargetImpl);r.WindowImpl=l},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(2),s=function(){function o(){}return o.isNode=function(c){return!!c&&c._nodeType!==void 0},o.isDocumentNode=function(c){return o.isNode(c)&&c._nodeType===i.NodeType.Document},o.isDocumentTypeNode=function(c){return o.isNode(c)&&c._nodeType===i.NodeType.DocumentType},o.isDocumentFragmentNode=function(c){return o.isNode(c)&&c._nodeType===i.NodeType.DocumentFragment},o.isAttrNode=function(c){return o.isNode(c)&&c._nodeType===i.NodeType.Attribute},o.isCharacterDataNode=function(c){if(!o.isNode(c))return!1;var u=c._nodeType;return u===i.NodeType.Text||u===i.NodeType.ProcessingInstruction||u===i.NodeType.Comment||u===i.NodeType.CData},o.isTextNode=function(c){return o.isNode(c)&&(c._nodeType===i.NodeType.Text||c._nodeType===i.NodeType.CData)},o.isExclusiveTextNode=function(c){return o.isNode(c)&&c._nodeType===i.NodeType.Text},o.isCDATASectionNode=function(c){return o.isNode(c)&&c._nodeType===i.NodeType.CData},o.isCommentNode=function(c){return o.isNode(c)&&c._nodeType===i.NodeType.Comment},o.isProcessingInstructionNode=function(c){return o.isNode(c)&&c._nodeType===i.NodeType.ProcessingInstruction},o.isElementNode=function(c){return o.isNode(c)&&c._nodeType===i.NodeType.Element},o.isCustomElementNode=function(c){return o.isElementNode(c)&&c._customElementState==="custom"},o.isShadowRoot=function(c){return!!c&&c.host!==void 0},o.isMouseEvent=function(c){return!!c&&c.screenX!==void 0&&c.screenY!=null},o.isSlotable=function(c){return!!c&&c._name!==void 0&&c._assignedSlot!==void 0&&(o.isTextNode(c)||o.isElementNode(c))},o.isSlot=function(c){return!!c&&c._name!==void 0&&c._assignedNodes!==void 0&&o.isElementNode(c)},o.isWindow=function(c){return!!c&&c.navigator!==void 0},o.isEventListener=function(c){return!!c&&c.handleEvent!==void 0},o.isRegisteredObserver=function(c){return!!c&&c.observer!==void 0&&c.options!==void 0},o.isTransientRegisteredObserver=function(c){return!!c&&c.source!==void 0&&o.isRegisteredObserver(c)},o}();r.Guard=s},function(n,r,a){var i,s=this&&this.__extends||(i=function(c,u){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var h in f)f.hasOwnProperty(h)&&(l[h]=f[h])})(c,u)},function(c,u){function l(){this.constructor=c}i(c,u),c.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(c){function u(){return c.call(this)||this}return s(u,c),u}(a(98).DocumentImpl);r.XMLDocumentImpl=o},function(n,r,a){var i=this&&this.__values||function(V){var M=typeof Symbol=="function"&&Symbol.iterator,P=M&&V[M],U=0;if(P)return P.call(V);if(V&&typeof V.length=="number")return{next:function(){return V&&U>=V.length&&(V=void 0),{value:V&&V[U++],done:!V}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(V,M){var P=typeof Symbol=="function"&&V[Symbol.iterator];if(!P)return V;var U,K,X=P.call(V),Z=[];try{for(;(M===void 0||M-- >0)&&!(U=X.next()).done;)Z.push(U.value)}catch(ae){K={error:ae}}finally{try{U&&!U.done&&(P=X.return)&&P.call(X)}finally{if(K)throw K.error}}return Z};Object.defineProperty(r,"__esModule",{value:!0});var o,c=a(1),u=a(243),l=a(7),f=a(244),h={ftp:21,file:null,http:80,https:443,ws:80,wss:443},p=/[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,d=/[ "<>`]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,y=/[ "<>`#?{}]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,m=/[ "<>`#?{}/:;=@\[\]\\\^\|]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,_=/[0-9A-Za-z!\$&-\/:;=\?@_~\xA0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uD83E\uD840-\uD87E\uD880-\uD8BE\uD8C0-\uD8FE\uD900-\uD93E\uD940-\uD97E\uD980-\uD9BE\uD9C0-\uD9FE\uDA00-\uDA3E\uDA40-\uDA7E\uDA80-\uDABE\uDAC0-\uDAFE\uDB00-\uDB3E\uDB40-\uDB7E\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDC00-\uDFFD]/,v=/[\0\t\f\r #%/:?@\[\\\]]/;function g(V){o!==void 0&&o.call(null,"Validation Error: "+V)}function x(){return{scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null}}function w(V){return V in h}function C(V){return w(V.scheme)}function S(V){return h[V]||null}function T(V){return V.username!==""||V.password!==""}function b(V,M){var P,U;M===void 0&&(M=!1);var K=V.scheme+":";if(V.host!==null?(K+="//",T(V)&&(K+=V.username,V.password!==""&&(K+=":"+V.password),K+="@"),K+=O(V.host),V.port!==null&&(K+=":"+V.port)):V.host===null&&V.scheme==="file"&&(K+="//"),V._cannotBeABaseURLFlag)K+=V.path[0];else try{for(var X=i(V.path),Z=X.next();!Z.done;Z=X.next())K+="/"+Z.value}catch(ae){P={error:ae}}finally{try{Z&&!Z.done&&(U=X.return)&&U.call(X)}finally{if(P)throw P.error}}return V.query!==null&&(K+="?"+V.query),M||V.fragment===null||(K+="#"+V.fragment),K}function O(V){return c.isNumber(V)?D(V):c.isArray(V)?"["+N(V)+"]":V}function D(V){for(var M="",P=V,U=1;U<=4;U++)M=(P%256).toString()+M,U!==4&&(M="."+M),P=Math.floor(P/256);return M}function N(V){for(var M="",P=null,U=-1,K=0,X=0,Z=0;Z<8;Z++)if(V[Z]===0){K=1;for(var ae=Z+1;ae<8&&V[ae]===0;ae++)K++;K>X&&(X=K,U=Z)}X>1&&(P=U);for(var ce=!1,ie=0;ie<8;ie++)ce&&V[ie]===0||(ce&&(ce=!1),P!==ie?(M+=V[ie].toString(16),ie!==7&&(M+=":")):(M+=ie===0?"::":":",ce=!0));return M}function R(V,M,P,U,K){var X,Z,ae,ce;if(U===void 0){U={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null};var ie=/^[\u0000-\u001F\u0020]+/,pe=/[\u0000-\u001F\u0020]+$/;(ie.test(V)||pe.test(V))&&g("Input string contains leading or trailing control characters or space."),V=(V=V.replace(ie,"")).replace(pe,"")}var ve=/[\u0009\u000A\u000D]/g;ve.test(V)&&g("Input string contains tab or newline characters."),V=V.replace(ve,"");var fe=K===void 0?u.ParserState.SchemeStart:K;M===void 0&&(M=null);for(var xe=P===void 0||P==="replacement"||P==="UTF-16BE"||P==="UTF-16LE"?"UTF-8":P,Y="",_e=!1,be=!1,Ce=!1,se=new c.StringWalker(V);;){switch(fe){case u.ParserState.SchemeStart:if(l.codePoint.ASCIIAlpha.test(se.c()))Y+=se.c().toLowerCase(),fe=u.ParserState.Scheme;else{if(K!==void 0)return g("Invalid scheme start character."),null;fe=u.ParserState.NoScheme,se.pointer--}break;case u.ParserState.Scheme:if(l.codePoint.ASCIIAlphanumeric.test(se.c())||se.c()==="+"||se.c()==="-"||se.c()===".")Y+=se.c().toLowerCase();else{if(se.c()!==":"){if(K===void 0){Y="",fe=u.ParserState.NoScheme,se.pointer=0;continue}return g("Invalid input string."),null}if(K!==void 0&&(w(U.scheme)&&!w(Y)||!w(U.scheme)&&w(Y)||(T(U)||U.port!==null)&&Y==="file"||U.scheme==="file"&&(U.host===""||U.host===null)))return U;if(U.scheme=Y,K!==void 0)return U.port===S(U.scheme)&&(U.port=null),U;Y="",U.scheme==="file"?(se.remaining().startsWith("//")||g("Invalid file URL scheme, '//' expected."),fe=u.ParserState.File):C(U)&&M!==null&&M.scheme===U.scheme?fe=u.ParserState.SpecialRelativeOrAuthority:C(U)?fe=u.ParserState.SpecialAuthoritySlashes:se.remaining().startsWith("/")?(fe=u.ParserState.PathOrAuthority,se.pointer++):(U._cannotBeABaseURLFlag=!0,U.path.push(""),fe=u.ParserState.CannotBeABaseURLPath)}break;case u.ParserState.NoScheme:if(M===null||M._cannotBeABaseURLFlag&&se.c()!=="#")return g("Invalid input string."),null;M._cannotBeABaseURLFlag&&se.c()==="#"?(U.scheme=M.scheme,U.path=l.list.clone(M.path),U.query=M.query,U.fragment="",U._cannotBeABaseURLFlag=!0,fe=u.ParserState.Fragment):M.scheme!=="file"?(fe=u.ParserState.Relative,se.pointer--):(fe=u.ParserState.File,se.pointer--);break;case u.ParserState.SpecialRelativeOrAuthority:se.c()==="/"&&se.remaining().startsWith("/")?(fe=u.ParserState.SpecialAuthorityIgnoreSlashes,se.pointer++):(g("Invalid input string."),fe=u.ParserState.Relative,se.pointer--);break;case u.ParserState.PathOrAuthority:se.c()==="/"?fe=u.ParserState.Authority:(fe=u.ParserState.Path,se.pointer--);break;case u.ParserState.Relative:if(M===null)throw new Error("Invalid parser state. Base URL is null.");switch(U.scheme=M.scheme,se.c()){case"":U.username=M.username,U.password=M.password,U.host=M.host,U.port=M.port,U.path=l.list.clone(M.path),U.query=M.query;break;case"/":fe=u.ParserState.RelativeSlash;break;case"?":U.username=M.username,U.password=M.password,U.host=M.host,U.port=M.port,U.path=l.list.clone(M.path),U.query="",fe=u.ParserState.Query;break;case"#":U.username=M.username,U.password=M.password,U.host=M.host,U.port=M.port,U.path=l.list.clone(M.path),U.query=M.query,U.fragment="",fe=u.ParserState.Fragment;break;default:C(U)&&se.c()==="\\"?(g("Invalid input string."),fe=u.ParserState.RelativeSlash):(U.username=M.username,U.password=M.password,U.host=M.host,U.port=M.port,U.path=l.list.clone(M.path),U.path.length!==0&&U.path.splice(U.path.length-1,1),fe=u.ParserState.Path,se.pointer--)}break;case u.ParserState.RelativeSlash:if(!C(U)||se.c()!=="/"&&se.c()!=="\\")if(se.c()==="/")fe=u.ParserState.Authority;else{if(M===null)throw new Error("Invalid parser state. Base URL is null.");U.username=M.username,U.password=M.password,U.host=M.host,U.port=M.port,fe=u.ParserState.Path,se.pointer--}else se.c()==="\\"&&g("Invalid input string."),fe=u.ParserState.SpecialAuthorityIgnoreSlashes;break;case u.ParserState.SpecialAuthoritySlashes:se.c()==="/"&&se.remaining().startsWith("/")?(fe=u.ParserState.SpecialAuthorityIgnoreSlashes,se.pointer++):(g("Expected '//'."),fe=u.ParserState.SpecialAuthorityIgnoreSlashes,se.pointer--);break;case u.ParserState.SpecialAuthorityIgnoreSlashes:se.c()!=="/"&&se.c()!=="\\"?(fe=u.ParserState.Authority,se.pointer--):g("Unexpected '/' or '\\'.");break;case u.ParserState.Authority:if(se.c()==="@"){g("Unexpected '@'."),_e&&(Y="%40"+Y),_e=!0;try{for(var he=(X=void 0,i(Y)),de=he.next();!de.done;de=he.next()){var ye=de.value;if(ye!==":"||Ce){var Se=re(ye,m);Ce?U.password+=Se:U.username+=Se}else Ce=!0}}catch(Tt){X={error:Tt}}finally{try{de&&!de.done&&(Z=he.return)&&Z.call(he)}finally{if(X)throw X.error}}Y=""}else if(se.c()===""||se.c()==="/"||se.c()==="?"||se.c()==="#"||C(U)&&se.c()==="\\"){if(_e&&Y==="")return g("Invalid input string."),null;se.pointer-=Y.length+1,Y="",fe=u.ParserState.Host}else Y+=se.c();break;case u.ParserState.Host:case u.ParserState.Hostname:if(K!==void 0&&U.scheme==="file")se.pointer--,fe=u.ParserState.FileHost;else if(se.c()!==":"||be)if(se.c()===""||se.c()==="/"||se.c()==="?"||se.c()==="#"||C(U)&&se.c()==="\\"){if(se.pointer--,C(U)&&Y==="")return g("Invalid input string."),null;if(K!==void 0&&Y===""&&(T(U)||U.port!==null))return g("Invalid input string."),U;if((De=G(Y,!C(U)))===null)return null;if(U.host=De,Y="",fe=u.ParserState.PathStart,K!==void 0)return U}else se.c()==="["&&(be=!0),se.c()==="]"&&(be=!1),Y+=se.c();else{if(Y==="")return g("Invalid input string."),null;if((De=G(Y,!C(U)))===null)return null;if(U.host=De,Y="",fe=u.ParserState.Port,K===u.ParserState.Hostname)return U}break;case u.ParserState.Port:if(l.codePoint.ASCIIDigit.test(se.c()))Y+=se.c();else{if(!(se.c()===""||se.c()==="/"||se.c()==="?"||se.c()==="#"||C(U)&&se.c()==="\\"||K))return g("Invalid input string."),null;if(Y!==""&&Y!==""){var Ne=parseInt(Y,10);if(Ne>Math.pow(2,16)-1)return g("Invalid port number."),null;U.port=Ne===S(U.scheme)?null:Ne,Y=""}if(K!==void 0)return U;fe=u.ParserState.PathStart,se.pointer--}break;case u.ParserState.File:if(U.scheme="file",se.c()==="/"||se.c()==="\\")se.c()==="\\"&&g("Invalid input string."),fe=u.ParserState.FileSlash;else if(M!==null&&M.scheme==="file")switch(se.c()){case"":U.host=M.host,U.path=l.list.clone(M.path),U.query=M.query;break;case"?":U.host=M.host,U.path=l.list.clone(M.path),U.query="",fe=u.ParserState.Query;break;case"#":U.host=M.host,U.path=l.list.clone(M.path),U.query=M.query,U.fragment="",fe=u.ParserState.Fragment;break;default:L(se.substring())?g("Unexpected windows drive letter in input string."):(U.host=M.host,U.path=l.list.clone(M.path),W(U)),fe=u.ParserState.Path,se.pointer--}else fe=u.ParserState.Path,se.pointer--;break;case u.ParserState.FileSlash:se.c()==="/"||se.c()==="\\"?(se.c()==="\\"&&g("Invalid input string."),fe=u.ParserState.FileHost):(M===null||M.scheme!=="file"||L(se.substring())||(z(M.path[0])?U.path.push(M.path[0]):U.host=M.host),fe=u.ParserState.Path,se.pointer--);break;case u.ParserState.FileHost:if(se.c()===""||se.c()==="/"||se.c()==="\\"||se.c()==="?"||se.c()==="#")if(se.pointer--,K===void 0&&F(Y))g("Unexpected windows drive letter in input string."),fe=u.ParserState.Path;else if(Y===""){if(U.host="",K!==void 0)return U;fe=u.ParserState.PathStart}else{var De;if((De=G(Y,!C(U)))===null)return null;if(De==="localhost"&&(De=""),U.host=De,K!==void 0)return U;Y="",fe=u.ParserState.PathStart}else Y+=se.c();break;case u.ParserState.PathStart:C(U)?(se.c()==="\\"&&g("Invalid input string."),fe=u.ParserState.Path,se.c()!=="/"&&se.c()!=="\\"&&se.pointer--):K===void 0&&se.c()==="?"?(U.query="",fe=u.ParserState.Query):K===void 0&&se.c()==="#"?(U.fragment="",fe=u.ParserState.Fragment):se.c()!==""&&(fe=u.ParserState.Path,se.c()!=="/"&&se.pointer--);break;case u.ParserState.Path:if(se.c()===""||se.c()==="/"||C(U)&&se.c()==="\\"||K===void 0&&(se.c()==="?"||se.c()==="#")){if(C(U)&&se.c()==="\\"&&g("Invalid input string."),A(Y))W(U),se.c()==="/"||C(U)&&se.c()==="\\"||U.path.push("");else if(!E(Y)||se.c()==="/"||C(U)&&se.c()==="\\"){if(!E(Y)){if(U.scheme==="file"&&U.path.length===0&&F(Y)){U.host!==null&&U.host!==""&&(g("Invalid input string."),U.host="");var Ve=Array.from(Y);Y=Ve.slice(0,1)+":"+Ve.slice(2)}U.path.push(Y)}}else U.path.push("");if(Y="",U.scheme==="file"&&(se.c()===""||se.c()==="?"||se.c()==="#"))for(;U.path.length>1&&U.path[0]==="";)g("Invalid input string."),U.path.splice(0,1);se.c()==="?"&&(U.query="",fe=u.ParserState.Query),se.c()==="#"&&(U.fragment="",fe=u.ParserState.Fragment)}else _.test(se.c())||se.c()==="%"||g("Character is not a URL code point or a percent encoded character."),se.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(se.remaining())||g("Percent encoded character must be followed by two hex digits."),Y+=re(se.c(),y);break;case u.ParserState.CannotBeABaseURLPath:se.c()==="?"?(U.query="",fe=u.ParserState.Query):se.c()==="#"?(U.fragment="",fe=u.ParserState.Fragment):(se.c()===""||_.test(se.c())||se.c()==="%"||g("Character is not a URL code point or a percent encoded character."),se.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(se.remaining())||g("Percent encoded character must be followed by two hex digits."),se.c()!==""&&(U.path[0]+=re(se.c(),p)));break;case u.ParserState.Query:if(xe==="UTF-8"||C(U)&&U.scheme!=="ws"&&U.scheme!=="wss"||(xe="UTF-8"),K===void 0&&se.c()==="#")U.fragment="",fe=u.ParserState.Fragment;else if(se.c()!==""){if(_.test(se.c())||se.c()==="%"||g("Character is not a URL code point or a percent encoded character."),se.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(se.remaining())||g("Percent encoded character must be followed by two hex digits."),xe.toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var Pe=c.utf8Encode(se.c());if(Pe.length>=3&&Pe[0]===38&&Pe[1]===35&&Pe[Pe.length-1]===59)Pe=Pe.subarray(2,Pe.length-1),U.query+="%26%23"+l.byteSequence.isomorphicDecode(Pe)+"%3B";else try{for(var ft=(ae=void 0,i(Pe)),_t=ft.next();!_t.done;_t=ft.next()){var Xe=_t.value;Xe<33||Xe>126||Xe===34||Xe===35||Xe===60||Xe===62||Xe===39&&C(U)?U.query+=ne(Xe):U.query+=String.fromCharCode(Xe)}}catch(Tt){ae={error:Tt}}finally{try{_t&&!_t.done&&(ce=ft.return)&&ce.call(ft)}finally{if(ae)throw ae.error}}}break;case u.ParserState.Fragment:se.c()===""||(se.c()==="\0"?g("NULL character in input string."):(_.test(se.c())||se.c()==="%"||g("Unexpected character in fragment string."),se.c()!=="%"||/^[A-Za-z0-9][A-Za-z0-9]/.test(se.remaining())||g("Unexpected character in fragment string."),U.fragment+=re(se.c(),d)))}if(se.eof)break;se.pointer++}return U}function E(V){return V==="."||V.toLowerCase()==="%2e"}function A(V){var M=V.toLowerCase();return M===".."||M===".%2e"||M==="%2e."||M==="%2e%2e"}function W(V){var M=V.path;M.length!==0&&(V.scheme==="file"&&M.length===1&&z(M[0])||V.path.splice(V.path.length-1,1))}function z(V){return V.length>=2&&l.codePoint.ASCIIAlpha.test(V[0])&&V[1]===":"}function F(V){return V.length>=2&&l.codePoint.ASCIIAlpha.test(V[0])&&(V[1]===":"||V[1]==="|")}function L(V){return V.length>=2&&F(V)&&(V.length===2||V[2]==="/"||V[2]==="\\"||V[2]==="?"||V[2]==="#")}function G(V,M){if(M===void 0&&(M=!1),V.startsWith("["))return V.endsWith("]")?J(V.substring(1,V.length-1)):(g("Expected ']' after '['."),null);if(M)return Q(V);var P=j(c.utf8Decode(oe(V)));if(P===null||v.test(P))return g("Invalid domain."),null;var U=$(P);return U===null||c.isNumber(U)?U:P}function H(V,M){M===void 0&&(M={value:!1});var P=10;return V.startsWith("0x")||V.startsWith("0X")?(M.value=!0,V=V.substr(2),P=16):V.length>=2&&V[0]==="0"&&(M.value=!0,V=V.substr(1),P=8),V===""?0:(P===10?/^[0-9]+$/:P===16?/^[0-9A-Fa-f]+$/:/^[0-7]+$/).test(V)?parseInt(V,P):null}function $(V){var M,P,U,K,X={value:!1},Z=V.split(".");if(Z[Z.length-1]===""&&(X.value=!0,Z.length>1&&Z.pop()),Z.length>4)return V;var ae=[];try{for(var ce=i(Z),ie=ce.next();!ie.done;ie=ce.next()){var pe=ie.value;if(pe===""||(be=H(pe,X))===null)return V;ae.push(be)}}catch(Ce){M={error:Ce}}finally{try{ie&&!ie.done&&(P=ce.return)&&P.call(ce)}finally{if(M)throw M.error}}X.value&&g("Invalid IP v4 address.");for(var ve=0;ve<ae.length;ve++)if(ae[ve]>255&&(g("Invalid IP v4 address."),ve<ae.length-1))return null;if(ae[ae.length-1]>=Math.pow(256,5-ae.length))return g("Invalid IP v4 address."),null;var fe=ae[ae.length-1];ae.pop();var xe=0;try{for(var Y=i(ae),_e=Y.next();!_e.done;_e=Y.next()){var be;fe+=(be=_e.value)*Math.pow(256,3-xe),xe++}}catch(Ce){U={error:Ce}}finally{try{_e&&!_e.done&&(K=Y.return)&&K.call(Y)}finally{if(U)throw U.error}}return fe}function J(V){var M,P=[0,0,0,0,0,0,0,0],U=0,K=null,X=new c.StringWalker(V);if(X.c()===":"){if(!X.remaining().startsWith(":"))return g("Invalid IP v6 address."),null;X.pointer+=2,K=U+=1}for(;X.c()!=="";){if(U===8)return g("Invalid IP v6 address."),null;if(X.c()!==":"){for(var Z=0,ae=0;ae<4&&l.codePoint.ASCIIHexDigit.test(X.c());)Z=16*Z+parseInt(X.c(),16),X.pointer++,ae++;if(X.c()==="."){if(ae===0||(X.pointer-=ae,U>6))return g("Invalid IP v6 address."),null;for(var ce=0;X.c()!=="";){var ie=null;if(ce>0){if(!(X.c()==="."&&ce<4))return g("Invalid IP v6 address."),null;X.pointer++}if(!l.codePoint.ASCIIDigit.test(X.c()))return g("Invalid IP v6 address."),null;for(;l.codePoint.ASCIIDigit.test(X.c());){var pe=parseInt(X.c(),10);if(ie===null)ie=pe;else{if(ie===0)return g("Invalid IP v6 address."),null;ie=10*ie+pe}if(ie>255)return g("Invalid IP v6 address."),null;X.pointer++}if(ie===null)return g("Invalid IP v6 address."),null;P[U]=256*P[U]+ie,++ce!==2&&ce!==4||U++}if(ce!==4)return g("Invalid IP v6 address."),null;break}if(X.c()===":"){if(X.pointer++,X.c()==="")return g("Invalid IP v6 address."),null}else if(X.c()!=="")return g("Invalid IP v6 address."),null;P[U]=Z,U++}else{if(K!==null)return g("Invalid IP v6 address."),null;X.pointer++,K=++U}}if(K!==null){var ve=U-K;for(U=7;U!==0&&ve>0;)M=s([P[K+ve-1],P[U]],2),P[U]=M[0],P[K+ve-1]=M[1],U--,ve--}else if(K===null&&U!==8)return g("Invalid IP v6 address."),null;return P}function Q(V){var M,P;if(/[\x00\t\f\r #/:?@\[\\\]]/.test(V))return g("Invalid host string."),null;var U="";try{for(var K=i(V),X=K.next();!X.done;X=K.next())U+=re(X.value,p)}catch(Z){M={error:Z}}finally{try{X&&!X.done&&(P=K.return)&&P.call(K)}finally{if(M)throw M.error}}return U}function q(V){return null}function ne(V){return"%"+("00"+V.toString(16).toUpperCase()).slice(-2)}function te(V){for(var M=function(ae){return ae>=48&&ae<=57||ae>=65&&ae<=70||ae>=97&&ae<=102},P=new Uint8Array(V.length),U=0,K=0;K<V.length;K++){var X=V[K];if(X!==37)P[U]=X,U++;else if(X===37&&K>=V.length-2)P[U]=X,U++;else if(X!==37||M(V[K+1])&&M(V[K+2])){var Z=parseInt(c.utf8Decode(Uint8Array.of(V[K+1],V[K+2])),16);P[U]=Z,U++,K+=2}else P[U]=X,U++}return P.subarray(0,U)}function oe(V){return te(c.utf8Encode(V))}function re(V,M){var P,U;if(!M.test(V))return V;var K=c.utf8Encode(V),X="";try{for(var Z=i(K),ae=Z.next();!ae.done;ae=Z.next())X+=ne(ae.value)}catch(ce){P={error:ce}}finally{try{ae&&!ae.done&&(U=Z.return)&&U.call(Z)}finally{if(P)throw P.error}}return X}function B(V){var M,P,U,K,X=[],Z=[];try{for(var ae=i(V),ce=ae.next();!ce.done;ce=ae.next()){var ie=ce.value;ie===38?(X.push(Uint8Array.from(Z)),Z=[]):Z.push(ie)}}catch(de){M={error:de}}finally{try{ce&&!ce.done&&(P=ae.return)&&P.call(ae)}finally{if(M)throw M.error}}Z.length!==0&&X.push(Uint8Array.from(Z));var pe=[];try{for(var ve=i(X),fe=ve.next();!fe.done;fe=ve.next()){var xe=fe.value;if(xe.length!==0){for(var Y=xe.indexOf(61),_e=Y!==-1?xe.slice(0,Y):xe,be=Y!==-1?xe.slice(Y+1):new Uint8Array,Ce=0;Ce<_e.length;Ce++)_e[Ce]===43&&(_e[Ce]=32);for(Ce=0;Ce<be.length;Ce++)be[Ce]===43&&(be[Ce]=32);var se=c.utf8Decode(_e),he=c.utf8Decode(be);pe.push([se,he])}}}catch(de){U={error:de}}finally{try{fe&&!fe.done&&(K=ve.return)&&K.call(ve)}finally{if(U)throw U.error}}return pe}function k(V){var M,P,U="";try{for(var K=i(V),X=K.next();!X.done;X=K.next()){var Z=X.value;U+=Z===32?"+":Z===42||Z===45||Z===46||Z>=48&&Z<=57||Z>=65&&Z<=90||Z===95||Z>=97&&Z<=122?String.fromCodePoint(Z):ne(Z)}}catch(ae){M={error:ae}}finally{try{X&&!X.done&&(P=K.return)&&P.call(K)}finally{if(M)throw M.error}}return U}function j(V,M){var P=f.domainToASCII(V);return P===""?(g("Invalid domain name."),null):P}r.setValidationErrorCallback=function(V){o=V},r.newURL=x,r.isSpecialScheme=w,r.isSpecial=C,r.defaultPort=S,r.includesCredentials=T,r.cannotHaveAUsernamePasswordPort=function(V){return V.host===null||V.host===""||V._cannotBeABaseURLFlag||V.scheme==="file"},r.urlSerializer=b,r.hostSerializer=O,r.iPv4Serializer=D,r.iPv6Serializer=N,r.urlParser=function(V,M,P){var U=R(V,M,P);return U===null?null:(U.scheme!=="blob"||(U._blobURLEntry=null),U)},r.basicURLParser=R,r.setTheUsername=function(V,M){var P,U,K="";try{for(var X=i(M),Z=X.next();!Z.done;Z=X.next())K+=re(Z.value,m)}catch(ae){P={error:ae}}finally{try{Z&&!Z.done&&(U=X.return)&&U.call(X)}finally{if(P)throw P.error}}V.username=K},r.setThePassword=function(V,M){var P,U,K="";try{for(var X=i(M),Z=X.next();!Z.done;Z=X.next())K+=re(Z.value,m)}catch(ae){P={error:ae}}finally{try{Z&&!Z.done&&(U=X.return)&&U.call(X)}finally{if(P)throw P.error}}V.password=K},r.isSingleDotPathSegment=E,r.isDoubleDotPathSegment=A,r.shorten=W,r.isNormalizedWindowsDriveLetter=z,r.isWindowsDriveLetter=F,r.startsWithAWindowsDriveLetter=L,r.hostParser=G,r.iPv4NumberParser=H,r.iPv4Parser=$,r.iPv6Parser=J,r.opaqueHostParser=Q,r.resolveABlobURL=q,r.percentEncode=ne,r.percentDecode=te,r.stringPercentDecode=oe,r.utf8PercentEncode=re,r.hostEquals=function(V,M){return V===M},r.urlEquals=function(V,M,P){return P===void 0&&(P=!1),b(V,P)===b(M,P)},r.urlEncodedStringParser=function(V){return B(c.utf8Encode(V))},r.urlEncodedParser=B,r.urlEncodedByteSerializer=k,r.urlEncodedSerializer=function(V,M){var P,U;if((M===void 0||M==="replacement"||M==="UTF-16BE"||M==="UTF-16LE"?"UTF-8":M).toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var K="";try{for(var X=i(V),Z=X.next();!Z.done;Z=X.next()){var ae=Z.value,ce=k(c.utf8Encode(ae[0])),ie=ae[1];ie=k(c.utf8Encode(ie)),K!==""&&(K+="&"),K+=ce+"="+ie}}catch(pe){P={error:pe}}finally{try{Z&&!Z.done&&(U=X.return)&&U.call(X)}finally{if(P)throw P.error}}return K},r.origin=function V(M){switch(M.scheme){case"blob":M._blobURLEntry;var P=R(M.path[0]);return P===null?u.OpaqueOrigin:V(P);case"ftp":case"http":case"https":case"ws":case"wss":return[M.scheme,M.host===null?"":M.host,M.port,null];case"file":default:return u.OpaqueOrigin}},r.domainToASCII=j,r.domainToUnicode=function(V,M){var P=f.domainToUnicode(V);return P===""&&g("Invalid domain name."),P},r.asciiSerializationOfAnOrigin=function(V){if(V[0]===""&&V[1]===""&&V[2]===null&&V[3]===null)return"null";var M=V[0]+"://"+O(V[1]);return V[2]!==null&&(M+=":"+V[2].toString()),M}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),s=function(){function o(){this._signal=i.create_abortSignal()}return Object.defineProperty(o.prototype,"signal",{get:function(){return this._signal},enumerable:!0,configurable:!0}),o.prototype.abort=function(){i.abort_signalAbort(this._signal)},o}();r.AbortControllerImpl=s},function(n,r,a){var i,s=this&&this.__extends||(i=function(l,f){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var d in p)p.hasOwnProperty(d)&&(h[d]=p[d])})(l,f)},function(l,f){function h(){this.constructor=l}i(l,f),l.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(70),c=a(0),u=function(l){function f(){var h=l.call(this)||this;return h._abortedFlag=!1,h._abortAlgorithms=new Set,h}return s(f,l),Object.defineProperty(f.prototype,"aborted",{get:function(){return this._abortedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"onabort",{get:function(){return c.event_getterEventHandlerIDLAttribute(this,"onabort")},set:function(h){c.event_setterEventHandlerIDLAttribute(this,"onabort",h)},enumerable:!0,configurable:!0}),f._create=function(){return new f},f}(o.EventTargetImpl);r.AbortSignalImpl=u},function(n,r,a){var i,s=this&&this.__extends||(i=function(f,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var y in d)d.hasOwnProperty(y)&&(p[y]=d[y])})(f,h)},function(f,h){function p(){this.constructor=f}i(f,h),f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(2),c=a(34),u=a(12),l=function(f){function h(p,d,y){var m=f.call(this)||this;return m._name="",m._publicId="",m._systemId="",m._name=p,m._publicId=d,m._systemId=y,m}return s(h,f),Object.defineProperty(h.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"publicId",{get:function(){return this._publicId},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"systemId",{get:function(){return this._systemId},enumerable:!0,configurable:!0}),h.prototype.before=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];throw new Error("Mixin: ChildNode not implemented.")},h.prototype.after=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];throw new Error("Mixin: ChildNode not implemented.")},h.prototype.replaceWith=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];throw new Error("Mixin: ChildNode not implemented.")},h.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},h._create=function(p,d,y,m){y===void 0&&(y=""),m===void 0&&(m="");var _=new h(d,y,m);return _._nodeDocument=p,_},h}(c.NodeImpl);r.DocumentTypeImpl=l,u.idl_defineConst(l.prototype,"_nodeType",o.NodeType.DocumentType)},function(n,r,a){var i,s=this&&this.__extends||(i=function(f,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var y in d)d.hasOwnProperty(y)&&(p[y]=d[y])})(f,h)},function(f,h){function p(){this.constructor=f}i(f,h),f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(100),c=a(1),u=a(0),l=function(f){function h(p,d){var y=f.call(this)||this;return y._host=p,y._mode=d,y}return s(h,f),Object.defineProperty(h.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"host",{get:function(){return this._host},enumerable:!0,configurable:!0}),h.prototype._getTheParent=function(p){return p._composedFlag||c.isEmpty(p._path)||u.tree_rootNode(p._path[0].invocationTarget)!==this?this._host:null},h._create=function(p,d){return new h(d,"closed")},h}(o.DocumentFragmentImpl);r.ShadowRootImpl=l},function(n,r,a){var i,s=this&&this.__extends||(i=function(h,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var m in y)y.hasOwnProperty(m)&&(d[m]=y[m])})(h,p)},function(h,p){function d(){this.constructor=h}i(h,p),h.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(2),c=a(34),u=a(0),l=a(12),f=function(h){function p(d){var y=h.call(this)||this;return y._namespace=null,y._namespacePrefix=null,y._element=null,y._value="",y._localName=d,y}return s(p,h),Object.defineProperty(p.prototype,"ownerElement",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"name",{get:function(){return this._qualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"value",{get:function(){return this._value},set:function(d){u.attr_setAnExistingAttributeValue(this,d)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix!==null?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),p._create=function(d,y){var m=new p(y);return m._nodeDocument=d,m},p}(c.NodeImpl);r.AttrImpl=f,l.idl_defineConst(f.prototype,"_nodeType",o.NodeType.Attribute),l.idl_defineConst(f.prototype,"specified",!0)},function(n,r,a){var i,s=this&&this.__extends||(i=function(f,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var y in d)d.hasOwnProperty(y)&&(p[y]=d[y])})(f,h)},function(f,h){function p(){this.constructor=f}i(f,h),f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(101),c=a(2),u=a(12),l=function(f){function h(p){return f.call(this,p)||this}return s(h,f),h._create=function(p,d){d===void 0&&(d="");var y=new h(d);return y._nodeDocument=p,y},h}(o.TextImpl);r.CDATASectionImpl=l,u.idl_defineConst(l.prototype,"_nodeType",c.NodeType.CData)},function(n,r,a){var i,s=this&&this.__extends||(i=function(f,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var y in d)d.hasOwnProperty(y)&&(p[y]=d[y])})(f,h)},function(f,h){function p(){this.constructor=f}i(f,h),f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(2),c=a(71),u=a(12),l=function(f){function h(p){return p===void 0&&(p=""),f.call(this,p)||this}return s(h,f),h._create=function(p,d){d===void 0&&(d="");var y=new h(d);return y._nodeDocument=p,y},h}(c.CharacterDataImpl);r.CommentImpl=l,u.idl_defineConst(l.prototype,"_nodeType",o.NodeType.Comment)},function(n,r,a){var i,s=this&&this.__extends||(i=function(f,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var y in d)d.hasOwnProperty(y)&&(p[y]=d[y])})(f,h)},function(f,h){function p(){this.constructor=f}i(f,h),f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(2),c=a(71),u=a(12),l=function(f){function h(p,d){var y=f.call(this,d)||this;return y._target=p,y}return s(h,f),Object.defineProperty(h.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),h._create=function(p,d,y){var m=new h(d,y);return m._nodeDocument=p,m},h}(c.CharacterDataImpl);r.ProcessingInstructionImpl=l,u.idl_defineConst(l.prototype,"_nodeType",o.NodeType.ProcessingInstruction)},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(7),s=a(0),o=a(3),c=a(1),u=function(){function l(f,h){return this._live=!0,this._root=f,this._filter=h,new Proxy(this,this)}return Object.defineProperty(l.prototype,"length",{get:function(){for(var f=this,h=0,p=s.tree_getFirstDescendantNode(this._root,!1,!1,function(d){return o.Guard.isElementNode(d)&&f._filter(d)});p!==null;)h++,p=s.tree_getNextDescendantNode(this._root,p,!1,!1,function(d){return o.Guard.isElementNode(d)&&f._filter(d)});return h},enumerable:!0,configurable:!0}),l.prototype.item=function(f){for(var h=this,p=0,d=s.tree_getFirstDescendantNode(this._root,!1,!1,function(y){return o.Guard.isElementNode(y)&&h._filter(y)});d!==null;){if(p===f)return d;p++,d=s.tree_getNextDescendantNode(this._root,d,!1,!1,function(y){return o.Guard.isElementNode(y)&&h._filter(y)})}return null},l.prototype.namedItem=function(f){var h=this;if(f==="")return null;for(var p=s.tree_getFirstDescendantNode(this._root,!1,!1,function(m){return o.Guard.isElementNode(m)&&h._filter(m)});p!=null;){if(p._uniqueIdentifier===f)return p;if(p._namespace===i.namespace.HTML)for(var d=0;d<p._attributeList.length;d++){var y=p._attributeList[d];if(y._localName==="name"&&y._namespace===null&&y._namespacePrefix===null&&y._value===f)return p}p=s.tree_getNextDescendantNode(this._root,p,!1,!1,function(m){return o.Guard.isElementNode(m)&&h._filter(m)})}return null},l.prototype[Symbol.iterator]=function(){var f=this._root,h=this._filter,p=s.tree_getFirstDescendantNode(f,!1,!1,function(d){return o.Guard.isElementNode(d)&&h(d)});return{next:function(){if(p===null)return{done:!0,value:null};var d={done:!1,value:p};return p=s.tree_getNextDescendantNode(f,p,!1,!1,function(y){return o.Guard.isElementNode(y)&&h(y)}),d}}},l.prototype.get=function(f,h,p){if(!c.isString(h)||l.reservedNames.indexOf(h)!==-1)return Reflect.get(f,h,p);var d=Number(h);return isNaN(d)?f.namedItem(h)||void 0:f.item(d)||void 0},l.prototype.set=function(f,h,p,d){if(!c.isString(h)||l.reservedNames.indexOf(h)!==-1)return Reflect.set(f,h,p,d);var y=Number(h),m=isNaN(y)?f.namedItem(h)||void 0:f.item(y)||void 0;return!(!m||!m._parent)&&(s.mutation_replace(m,p,m._parent),!0)},l._create=function(f,h){return h===void 0&&(h=function(){return!0}),new l(f,h)},l.reservedNames=["_root","_live","_filter","length","item","namedItem","get","set"],l}();r.HTMLCollectionImpl=u},function(n,r,a){var i=this&&this.__values||function(l){var f=typeof Symbol=="function"&&Symbol.iterator,h=f&&l[f],p=0;if(h)return h.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&p>=l.length&&(l=void 0),{value:l&&l[p++],done:!l}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(6),o=a(1),c=a(0),u=function(){function l(f){return this._live=!0,this._filter=null,this._length=0,this._root=f,new Proxy(this,this)}return Object.defineProperty(l.prototype,"length",{get:function(){return this._root._children.size},enumerable:!0,configurable:!0}),l.prototype.item=function(f){if(f<0||f>this.length-1)return null;if(f<this.length/2){for(var h=0,p=this._root._firstChild;p!==null&&h!==f;)p=p._nextSibling,h++;return p}for(h=this.length-1,p=this._root._lastChild;p!==null&&h!==f;)p=p._previousSibling,h--;return p},l.prototype.keys=function(){var f;return(f={})[Symbol.iterator]=function(){var h=0;return{next:function(){return h===this.length?{done:!0,value:null}:{done:!1,value:h++}}.bind(this)}}.bind(this),f},l.prototype.values=function(){var f;return(f={})[Symbol.iterator]=function(){var h=this[Symbol.iterator]();return{next:function(){return h.next()}}}.bind(this),f},l.prototype.entries=function(){var f;return(f={})[Symbol.iterator]=function(){var h=this[Symbol.iterator](),p=0;return{next:function(){var d=h.next();return d.done?{done:!0,value:null}:{done:!1,value:[p++,d.value]}}}}.bind(this),f},l.prototype[Symbol.iterator]=function(){return this._root._children[Symbol.iterator]()},l.prototype.forEach=function(f,h){var p,d;h===void 0&&(h=s.dom.window);var y=0;try{for(var m=i(this._root._children),_=m.next();!_.done;_=m.next()){var v=_.value;f.call(h,v,y++,this)}}catch(g){p={error:g}}finally{try{_&&!_.done&&(d=m.return)&&d.call(m)}finally{if(p)throw p.error}}},l.prototype.get=function(f,h,p){if(!o.isString(h))return Reflect.get(f,h,p);var d=Number(h);return isNaN(d)?Reflect.get(f,h,p):f.item(d)||void 0},l.prototype.set=function(f,h,p,d){if(!o.isString(h))return Reflect.set(f,h,p,d);var y=Number(h);if(isNaN(y))return Reflect.set(f,h,p,d);var m=f.item(y)||void 0;return!!m&&!!m._parent&&(c.mutation_replace(m,p,m._parent),!0)},l._create=function(f){return new l(f)},l}();r.NodeListImpl=u},function(n,r,a){var i=this&&this.__values||function(u){var l=typeof Symbol=="function"&&Symbol.iterator,f=l&&u[l],h=0;if(f)return f.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&h>=u.length&&(u=void 0),{value:u&&u[h++],done:!u}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(6),o=a(1),c=function(){function u(l){return this._live=!1,this._items=[],this._length=0,this._root=l,this._items=[],this._filter=function(f){return!0},new Proxy(this,this)}return Object.defineProperty(u.prototype,"length",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),u.prototype.item=function(l){return l<0||l>this.length-1?null:this._items[l]},u.prototype.keys=function(){var l;return(l={})[Symbol.iterator]=function(){var f=0;return{next:function(){return f===this.length?{done:!0,value:null}:{done:!1,value:f++}}.bind(this)}}.bind(this),l},u.prototype.values=function(){var l;return(l={})[Symbol.iterator]=function(){var f=this[Symbol.iterator]();return{next:function(){return f.next()}}}.bind(this),l},u.prototype.entries=function(){var l;return(l={})[Symbol.iterator]=function(){var f=this[Symbol.iterator](),h=0;return{next:function(){var p=f.next();return p.done?{done:!0,value:null}:{done:!1,value:[h++,p.value]}}}}.bind(this),l},u.prototype[Symbol.iterator]=function(){var l=this._items[Symbol.iterator]();return{next:function(){return l.next()}}},u.prototype.forEach=function(l,f){var h,p;f===void 0&&(f=s.dom.window);var d=0;try{for(var y=i(this._items),m=y.next();!m.done;m=y.next()){var _=m.value;l.call(f,_,d++,this)}}catch(v){h={error:v}}finally{try{m&&!m.done&&(p=y.return)&&p.call(y)}finally{if(h)throw h.error}}},u.prototype.get=function(l,f,h){if(!o.isString(f))return Reflect.get(l,f,h);var p=Number(f);return isNaN(p)?Reflect.get(l,f,h):l._items[p]||void 0},u.prototype.set=function(l,f,h,p){if(!o.isString(f))return Reflect.set(l,f,h,p);var d=Number(f);return isNaN(d)?Reflect.set(l,f,h,p):d>=0&&d<l._items.length&&(l._items[d]=h,!0)},u._create=function(l,f){var h=new u(l);return h._items=f,h},u}();r.NodeListStaticImpl=c},function(n,r,a){var i,s=this&&this.__extends||(i=function(l,f){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var d in p)p.hasOwnProperty(d)&&(h[d]=p[d])})(l,f)},function(l,f){function h(){this.constructor=l}i(l,f),l.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(9),c=a(0),u=function(l){function f(h){var p=l.call(this)||this;return p._element=h,Object.setPrototypeOf(p,f.prototype),p}return s(f,l),f.prototype._asArray=function(){return this},f.prototype.item=function(h){return this[h]||null},f.prototype.getNamedItem=function(h){return c.element_getAnAttributeByName(h,this._element)},f.prototype.getNamedItemNS=function(h,p){return c.element_getAnAttributeByNamespaceAndLocalName(h||"",p,this._element)},f.prototype.setNamedItem=function(h){return c.element_setAnAttribute(h,this._element)},f.prototype.setNamedItemNS=function(h){return c.element_setAnAttribute(h,this._element)},f.prototype.removeNamedItem=function(h){var p=c.element_removeAnAttributeByName(h,this._element);if(p===null)throw new o.NotFoundError;return p},f.prototype.removeNamedItemNS=function(h,p){var d=c.element_removeAnAttributeByNamespaceAndLocalName(h||"",p,this._element);if(d===null)throw new o.NotFoundError;return d},f._create=function(h){return new f(h)},f}(Array);r.NamedNodeMapImpl=u},function(n,r,a){var i,s=this&&this.__extends||(i=function(m,_){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var x in g)g.hasOwnProperty(x)&&(v[x]=g[x])})(m,_)},function(m,_){function v(){this.constructor=m}i(m,_),m.prototype=_===null?Object.create(_):(v.prototype=_.prototype,new v)}),o=this&&this.__values||function(m){var _=typeof Symbol=="function"&&Symbol.iterator,v=_&&m[_],g=0;if(v)return v.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&g>=m.length&&(m=void 0),{value:m&&m[g++],done:!m}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var c=a(6),u=a(2),l=a(102),f=a(9),h=a(0),p=a(12),d=a(3),y=function(m){function _(){var v=m.call(this)||this,g=c.dom.window._associatedDocument;return v._start=[g,0],v._end=[g,0],c.dom.rangeList.add(v),v}return s(_,m),Object.defineProperty(_.prototype,"commonAncestorContainer",{get:function(){for(var v=this._start[0];!h.tree_isAncestorOf(this._end[0],v,!0);){if(v._parent===null)throw new Error("Parent node  is null.");v=v._parent}return v},enumerable:!0,configurable:!0}),_.prototype.setStart=function(v,g){h.range_setTheStart(this,v,g)},_.prototype.setEnd=function(v,g){h.range_setTheEnd(this,v,g)},_.prototype.setStartBefore=function(v){var g=v._parent;if(g===null)throw new f.InvalidNodeTypeError;h.range_setTheStart(this,g,h.tree_index(v))},_.prototype.setStartAfter=function(v){var g=v._parent;if(g===null)throw new f.InvalidNodeTypeError;h.range_setTheStart(this,g,h.tree_index(v)+1)},_.prototype.setEndBefore=function(v){var g=v._parent;if(g===null)throw new f.InvalidNodeTypeError;h.range_setTheEnd(this,g,h.tree_index(v))},_.prototype.setEndAfter=function(v){var g=v._parent;if(g===null)throw new f.InvalidNodeTypeError;h.range_setTheEnd(this,g,h.tree_index(v)+1)},_.prototype.collapse=function(v){v?this._end=this._start:this._start=this._end},_.prototype.selectNode=function(v){h.range_select(v,this)},_.prototype.selectNodeContents=function(v){if(d.Guard.isDocumentTypeNode(v))throw new f.InvalidNodeTypeError;var g=h.tree_nodeLength(v);this._start=[v,0],this._end=[v,g]},_.prototype.compareBoundaryPoints=function(v,g){if(v!==u.HowToCompare.StartToStart&&v!==u.HowToCompare.StartToEnd&&v!==u.HowToCompare.EndToEnd&&v!==u.HowToCompare.EndToStart)throw new f.NotSupportedError;if(h.range_root(this)!==h.range_root(g))throw new f.WrongDocumentError;var x,w;switch(v){case u.HowToCompare.StartToStart:x=this._start,w=g._start;break;case u.HowToCompare.StartToEnd:x=this._end,w=g._start;break;case u.HowToCompare.EndToEnd:x=this._end,w=g._end;break;case u.HowToCompare.EndToStart:x=this._start,w=g._end;break;default:throw new f.NotSupportedError}var C=h.boundaryPoint_position(x,w);return C===u.BoundaryPosition.Before?-1:C===u.BoundaryPosition.After?1:0},_.prototype.deleteContents=function(){var v,g,x,w;if(!h.range_collapsed(this)){var C=this._startNode,S=this._startOffset,T=this._endNode,b=this._endOffset;if(C===T&&d.Guard.isCharacterDataNode(C))h.characterData_replaceData(C,S,b-S,"");else{var O,D,N=[];try{for(var R=o(h.range_getContainedNodes(this)),E=R.next();!E.done;E=R.next()){var A=(L=E.value)._parent;A!==null&&h.range_isContained(A,this)||N.push(L)}}catch(G){v={error:G}}finally{try{E&&!E.done&&(g=R.return)&&g.call(R)}finally{if(v)throw v.error}}if(h.tree_isAncestorOf(T,C,!0))O=C,D=S;else{for(var W=C;W._parent!==null&&!h.tree_isAncestorOf(T,W._parent,!0);)W=W._parent;if(W._parent===null)throw new Error("Parent node is null.");O=W._parent,D=h.tree_index(W)+1}d.Guard.isCharacterDataNode(C)&&h.characterData_replaceData(C,S,h.tree_nodeLength(C)-S,"");try{for(var z=o(N),F=z.next();!F.done;F=z.next()){var L;(L=F.value)._parent&&h.mutation_remove(L,L._parent)}}catch(G){x={error:G}}finally{try{F&&!F.done&&(w=z.return)&&w.call(z)}finally{if(x)throw x.error}}d.Guard.isCharacterDataNode(T)&&h.characterData_replaceData(T,0,b,""),this._start=[O,D],this._end=[O,D]}}},_.prototype.extractContents=function(){return h.range_extract(this)},_.prototype.cloneContents=function(){return h.range_cloneTheContents(this)},_.prototype.insertNode=function(v){return h.range_insert(v,this)},_.prototype.surroundContents=function(v){var g,x;try{for(var w=o(h.range_getPartiallyContainedNodes(this)),C=w.next();!C.done;C=w.next()){var S=C.value;if(!d.Guard.isTextNode(S))throw new f.InvalidStateError}}catch(b){g={error:b}}finally{try{C&&!C.done&&(x=w.return)&&x.call(w)}finally{if(g)throw g.error}}if(d.Guard.isDocumentNode(v)||d.Guard.isDocumentTypeNode(v)||d.Guard.isDocumentFragmentNode(v))throw new f.InvalidNodeTypeError;var T=h.range_extract(this);v._children.size!==0&&h.mutation_replaceAll(null,v),h.range_insert(v,this),h.mutation_append(T,v),h.range_select(v,this)},_.prototype.cloneRange=function(){return h.create_range(this._start,this._end)},_.prototype.detach=function(){c.dom.rangeList.delete(this)},_.prototype.isPointInRange=function(v,g){if(h.tree_rootNode(v)!==h.range_root(this))return!1;if(d.Guard.isDocumentTypeNode(v))throw new f.InvalidNodeTypeError;if(g>h.tree_nodeLength(v))throw new f.IndexSizeError;var x=[v,g];return h.boundaryPoint_position(x,this._start)!==u.BoundaryPosition.Before&&h.boundaryPoint_position(x,this._end)!==u.BoundaryPosition.After},_.prototype.comparePoint=function(v,g){if(h.tree_rootNode(v)!==h.range_root(this))throw new f.WrongDocumentError;if(d.Guard.isDocumentTypeNode(v))throw new f.InvalidNodeTypeError;if(g>h.tree_nodeLength(v))throw new f.IndexSizeError;var x=[v,g];return h.boundaryPoint_position(x,this._start)===u.BoundaryPosition.Before?-1:h.boundaryPoint_position(x,this._end)===u.BoundaryPosition.After?1:0},_.prototype.intersectsNode=function(v){if(h.tree_rootNode(v)!==h.range_root(this))return!1;var g=v._parent;if(g===null)return!0;var x=h.tree_index(v);return h.boundaryPoint_position([g,x],this._end)===u.BoundaryPosition.Before&&h.boundaryPoint_position([g,x+1],this._start)===u.BoundaryPosition.After},_.prototype.toString=function(){var v,g,x="";if(this._startNode===this._endNode&&d.Guard.isTextNode(this._startNode))return this._startNode._data.substring(this._startOffset,this._endOffset);d.Guard.isTextNode(this._startNode)&&(x+=this._startNode._data.substring(this._startOffset));try{for(var w=o(h.range_getContainedNodes(this)),C=w.next();!C.done;C=w.next()){var S=C.value;d.Guard.isTextNode(S)&&(x+=S._data)}}catch(T){v={error:T}}finally{try{C&&!C.done&&(g=w.return)&&g.call(w)}finally{if(v)throw v.error}}return d.Guard.isTextNode(this._endNode)&&(x+=this._endNode._data.substring(0,this._endOffset)),x},_._create=function(v,g){var x=new _;return v&&(x._start=v),g&&(x._end=g),x},_.START_TO_START=0,_.START_TO_END=1,_.END_TO_END=2,_.END_TO_START=3,_}(l.AbstractRangeImpl);r.RangeImpl=y,p.idl_defineConst(y.prototype,"START_TO_START",0),p.idl_defineConst(y.prototype,"START_TO_END",1),p.idl_defineConst(y.prototype,"END_TO_END",2),p.idl_defineConst(y.prototype,"END_TO_START",3)},function(n,r,a){var i,s=this&&this.__extends||(i=function(l,f){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var d in p)p.hasOwnProperty(d)&&(h[d]=p[d])})(l,f)},function(l,f){function h(){this.constructor=l}i(l,f),l.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(103),c=a(0),u=function(l){function f(h,p,d){var y=l.call(this,h)||this;return y._iteratorCollection=void 0,y._reference=p,y._pointerBeforeReference=d,c.nodeIterator_iteratorList().add(y),y}return s(f,l),Object.defineProperty(f.prototype,"referenceNode",{get:function(){return this._reference},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"pointerBeforeReferenceNode",{get:function(){return this._pointerBeforeReference},enumerable:!0,configurable:!0}),f.prototype.nextNode=function(){return c.nodeIterator_traverse(this,!0)},f.prototype.previousNode=function(){return c.nodeIterator_traverse(this,!1)},f.prototype.detach=function(){c.nodeIterator_iteratorList().delete(this)},f._create=function(h,p,d){return new f(h,p,d)},f}(o.TraverserImpl);r.NodeIteratorImpl=u},function(n,r,a){var i,s=this&&this.__extends||(i=function(f,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var y in d)d.hasOwnProperty(y)&&(p[y]=d[y])})(f,h)},function(f,h){function p(){this.constructor=f}i(f,h),f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(2),c=a(103),u=a(0),l=function(f){function h(p,d){var y=f.call(this,p)||this;return y._current=d,y}return s(h,f),Object.defineProperty(h.prototype,"currentNode",{get:function(){return this._current},set:function(p){this._current=p},enumerable:!0,configurable:!0}),h.prototype.parentNode=function(){for(var p=this._current;p!==null&&p!==this._root;)if((p=p._parent)!==null&&u.traversal_filter(this,p)===o.FilterResult.Accept)return this._current=p,p;return null},h.prototype.firstChild=function(){return u.treeWalker_traverseChildren(this,!0)},h.prototype.lastChild=function(){return u.treeWalker_traverseChildren(this,!1)},h.prototype.nextSibling=function(){return u.treeWalker_traverseSiblings(this,!0)},h.prototype.previousNode=function(){for(var p=this._current;p!==this._root;){for(var d=p._previousSibling;d;){p=d;for(var y=u.traversal_filter(this,p);y!==o.FilterResult.Reject&&p._lastChild;)p=p._lastChild,y=u.traversal_filter(this,p);if(y===o.FilterResult.Accept)return this._current=p,p;d=p._previousSibling}if(p===this._root||p._parent===null)return null;if(p=p._parent,u.traversal_filter(this,p)===o.FilterResult.Accept)return this._current=p,p}return null},h.prototype.previousSibling=function(){return u.treeWalker_traverseSiblings(this,!1)},h.prototype.nextNode=function(){for(var p=this._current,d=o.FilterResult.Accept;;){for(;d!==o.FilterResult.Reject&&p._firstChild;)if(p=p._firstChild,(d=u.traversal_filter(this,p))===o.FilterResult.Accept)return this._current=p,p;for(var y=null,m=p;m!==null;){if(m===this._root)return null;if((y=m._nextSibling)!==null){p=y;break}m=m._parent}if((d=u.traversal_filter(this,p))===o.FilterResult.Accept)return this._current=p,p}},h._create=function(p,d){return new h(p,d)},h}(c.TraverserImpl);r.TreeWalkerImpl=l},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(2),s=a(12),o=function(){function c(){}return c.prototype.acceptNode=function(u){return i.FilterResult.Accept},c._create=function(){return new c},c.FILTER_ACCEPT=1,c.FILTER_REJECT=2,c.FILTER_SKIP=3,c.SHOW_ALL=4294967295,c.SHOW_ELEMENT=1,c.SHOW_ATTRIBUTE=2,c.SHOW_TEXT=4,c.SHOW_CDATA_SECTION=8,c.SHOW_ENTITY_REFERENCE=16,c.SHOW_ENTITY=32,c.SHOW_PROCESSING_INSTRUCTION=64,c.SHOW_COMMENT=128,c.SHOW_DOCUMENT=256,c.SHOW_DOCUMENT_TYPE=512,c.SHOW_DOCUMENT_FRAGMENT=1024,c.SHOW_NOTATION=2048,c}();r.NodeFilterImpl=o,s.idl_defineConst(o.prototype,"FILTER_ACCEPT",1),s.idl_defineConst(o.prototype,"FILTER_REJECT",2),s.idl_defineConst(o.prototype,"FILTER_SKIP",3),s.idl_defineConst(o.prototype,"SHOW_ALL",4294967295),s.idl_defineConst(o.prototype,"SHOW_ELEMENT",1),s.idl_defineConst(o.prototype,"SHOW_ATTRIBUTE",2),s.idl_defineConst(o.prototype,"SHOW_TEXT",4),s.idl_defineConst(o.prototype,"SHOW_CDATA_SECTION",8),s.idl_defineConst(o.prototype,"SHOW_ENTITY_REFERENCE",16),s.idl_defineConst(o.prototype,"SHOW_ENTITY",32),s.idl_defineConst(o.prototype,"SHOW_PROCESSING_INSTRUCTION",64),s.idl_defineConst(o.prototype,"SHOW_COMMENT",128),s.idl_defineConst(o.prototype,"SHOW_DOCUMENT",256),s.idl_defineConst(o.prototype,"SHOW_DOCUMENT_TYPE",512),s.idl_defineConst(o.prototype,"SHOW_DOCUMENT_FRAGMENT",1024),s.idl_defineConst(o.prototype,"SHOW_NOTATION",2048)},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function s(o,c,u,l,f,h,p,d,y){this._type=o,this._target=c,this._addedNodes=u,this._removedNodes=l,this._previousSibling=f,this._nextSibling=h,this._attributeName=p,this._attributeNamespace=d,this._oldValue=y}return Object.defineProperty(s.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"addedNodes",{get:function(){return this._addedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"removedNodes",{get:function(){return this._removedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"attributeName",{get:function(){return this._attributeName},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"attributeNamespace",{get:function(){return this._attributeNamespace},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"oldValue",{get:function(){return this._oldValue},enumerable:!0,configurable:!0}),s._create=function(o,c,u,l,f,h,p,d,y){return new s(o,c,u,l,f,h,p,d,y)},s}();r.MutationRecordImpl=i},function(n,r,a){var i=this&&this.__values||function(f){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&f[h],d=0;if(p)return p.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&d>=f.length&&(f=void 0),{value:f&&f[d++],done:!f}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(6),o=a(9),c=a(7),u=a(0),l=function(){function f(h,p){this._element=h,this._attribute=p,this._tokenSet=new Set;var d=p._localName,y=u.element_getAnAttributeValue(h,d),m=this;this._element._attributeChangeSteps.push(function(_,v,g,x,w){v===m._attribute._localName&&w===null&&(x?m._tokenSet=u.orderedSet_parse(x):m._tokenSet.clear())}),s.dom.features.steps&&u.dom_runAttributeChangeSteps(h,d,y,y,null)}return Object.defineProperty(f.prototype,"length",{get:function(){return this._tokenSet.size},enumerable:!0,configurable:!0}),f.prototype.item=function(h){var p,d,y=0;try{for(var m=i(this._tokenSet),_=m.next();!_.done;_=m.next()){var v=_.value;if(y===h)return v;y++}}catch(g){p={error:g}}finally{try{_&&!_.done&&(d=m.return)&&d.call(m)}finally{if(p)throw p.error}}return null},f.prototype.contains=function(h){return this._tokenSet.has(h)},f.prototype.add=function(){for(var h,p,d=[],y=0;y<arguments.length;y++)d[y]=arguments[y];try{for(var m=i(d),_=m.next();!_.done;_=m.next()){var v=_.value;if(v==="")throw new o.SyntaxError("Cannot add an empty token.");if(c.codePoint.ASCIIWhiteSpace.test(v))throw new o.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.add(v)}}catch(g){h={error:g}}finally{try{_&&!_.done&&(p=m.return)&&p.call(m)}finally{if(h)throw h.error}}u.tokenList_updateSteps(this)},f.prototype.remove=function(){for(var h,p,d=[],y=0;y<arguments.length;y++)d[y]=arguments[y];try{for(var m=i(d),_=m.next();!_.done;_=m.next()){var v=_.value;if(v==="")throw new o.SyntaxError("Cannot remove an empty token.");if(c.codePoint.ASCIIWhiteSpace.test(v))throw new o.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.delete(v)}}catch(g){h={error:g}}finally{try{_&&!_.done&&(p=m.return)&&p.call(m)}finally{if(h)throw h.error}}u.tokenList_updateSteps(this)},f.prototype.toggle=function(h,p){if(p===void 0&&(p=void 0),h==="")throw new o.SyntaxError("Cannot toggle an empty token.");if(c.codePoint.ASCIIWhiteSpace.test(h))throw new o.InvalidCharacterError("Token cannot contain whitespace.");return this._tokenSet.has(h)?p!==void 0&&p!==!1||(this._tokenSet.delete(h),u.tokenList_updateSteps(this),!1):(p===void 0||p===!0)&&(this._tokenSet.add(h),u.tokenList_updateSteps(this),!0)},f.prototype.replace=function(h,p){if(h===""||p==="")throw new o.SyntaxError("Cannot replace an empty token.");if(c.codePoint.ASCIIWhiteSpace.test(h)||c.codePoint.ASCIIWhiteSpace.test(p))throw new o.InvalidCharacterError("Token cannot contain whitespace.");return!!this._tokenSet.has(h)&&(c.set.replace(this._tokenSet,h,p),u.tokenList_updateSteps(this),!0)},f.prototype.supports=function(h){return u.tokenList_validationSteps(this,h)},Object.defineProperty(f.prototype,"value",{get:function(){return u.tokenList_serializeSteps(this)},set:function(h){u.element_setAnAttributeValue(this._element,this._attribute._localName,h)},enumerable:!0,configurable:!0}),f.prototype[Symbol.iterator]=function(){var h=this._tokenSet[Symbol.iterator]();return{next:function(){return h.next()}}},f._create=function(h,p){return new f(h,p)},f}();r.DOMTokenListImpl=l},function(n,r,a){var i,s=this&&this.__extends||(i=function(l,f){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var d in p)p.hasOwnProperty(d)&&(h[d]=p[d])})(l,f)},function(l,f){function h(){this.constructor=l}i(l,f),l.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(104),c=a(0),u=function(l){function f(h,p){var d=l.call(this,h,p)||this;return d._detail=null,d._detail=p&&p.detail||null,d}return s(f,l),Object.defineProperty(f.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0}),f.prototype.initCustomEvent=function(h,p,d,y){p===void 0&&(p=!1),d===void 0&&(d=!1),y===void 0&&(y=null),this._dispatchFlag||(c.event_initialize(this,h,p,d),this._detail=y)},f}(o.EventImpl);r.CustomEventImpl=u},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(6),s=a(2),o=a(105),c=a(17);r.nodeIterator_traverse=function(u,l){for(var f=u._reference,h=u._pointerBeforeReference;;){if(l)if(h)h=!1;else{var p=c.tree_getFollowingNode(u._root,f);if(!p)return null;f=p}else if(h){var d=c.tree_getPrecedingNode(u.root,f);if(!d)return null;f=d}else h=!0;if(o.traversal_filter(u,f)===s.FilterResult.Accept)break}return u._reference=f,u._pointerBeforeReference=h,f},r.nodeIterator_iteratorList=function(){return i.dom.window._iteratorList}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(9),s=a(7),o=a(174);function c(u){if(!o.xml_isName(u))throw new i.InvalidCharacterError("Invalid XML name: "+u);if(!o.xml_isQName(u))throw new i.InvalidCharacterError("Invalid XML qualified name: "+u+".")}r.namespace_validate=c,r.namespace_validateAndExtract=function(u,l){u||(u=null),c(l);var f=l.split(":"),h=f.length===2?f[0]:null,p=f.length===2?f[1]:l;if(h&&u===null)throw new i.NamespaceError("Qualified name includes a prefix but the namespace is null.");if(h==="xml"&&u!==s.namespace.XML)throw new i.NamespaceError('Qualified name includes the "xml" prefix but the namespace is not the XML namespace.');if(u!==s.namespace.XMLNS&&(h==="xmlns"||l==="xmlns"))throw new i.NamespaceError('Qualified name includes the "xmlns" prefix but the namespace is not the XMLNS namespace.');if(u===s.namespace.XMLNS&&h!=="xmlns"&&l!=="xmlns")throw new i.NamespaceError('Qualified name does not include the "xmlns" prefix but the namespace is the XMLNS namespace.');return[u,h,p]},r.namespace_extractQName=function(u){c(u);var l=u.split(":");return[l.length===2?l[0]:null,l.length===2?l[1]:u]}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.xml_isName=function(i){for(var s=0;s<i.length;s++){var o=i.charCodeAt(s);if(!(o>=97&&o<=122||o>=65&&o<=90||o===58||o===95||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533)&&(s===0||!(o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256))){if(o>=55296&&o<=56319&&s<i.length-1){var c=i.charCodeAt(s+1);if(c>=56320&&c<=57343&&(s++,(o=1024*(o-55296)+c-56320+65536)>=65536&&o<=983039))continue}return!1}}return!0},r.xml_isQName=function(i){for(var s=!1,o=0;o<i.length;o++){var c=i.charCodeAt(o);if(!(c>=97&&c<=122||c>=65&&c<=90||c===95||c>=192&&c<=214||c>=216&&c<=246||c>=248&&c<=767||c>=880&&c<=893||c>=895&&c<=8191||c>=8204&&c<=8205||c>=8304&&c<=8591||c>=11264&&c<=12271||c>=12289&&c<=55295||c>=63744&&c<=64975||c>=65008&&c<=65533)&&(o===0||!(c===45||c===46||c>=48&&c<=57||c===183||c>=768&&c<=879||c>=8255&&c<=8256))){if(o===0||c!==58){if(c>=55296&&c<=56319&&o<i.length-1){var u=i.charCodeAt(o+1);if(u>=56320&&u<=57343&&(o++,(c=1024*(c-55296)+u-56320+65536)>=65536&&c<=983039))continue}return!1}if(s||o===i.length-1)return!1;s=!0}}return!0},r.xml_isLegalChar=function(i){for(var s=0;s<i.length;s++){var o=i.charCodeAt(s);if(!(o===9||o===10||o===13||o>=32&&o<=55295||o>=57344&&o<=65533)){if(o>=55296&&o<=56319&&s<i.length-1){var c=i.charCodeAt(s+1);if(c>=56320&&c<=57343&&(s++,(o=1024*(o-55296)+c-56320+65536)>=65536&&o<=1114111))continue}return!1}}return!0},r.xml_isPubidChar=function(i){for(var s=0;s<i.length;s++){var o=i.charCodeAt(s);if(!(o>=97&&o<=122||o>=65&&o<=90||o>=39&&o<=59||o===32||o===13||o===10||o>=35&&o<=37||o===33||o===61||o===63||o===64||o===95))return!1}return!0}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(2),s=a(17);r.boundaryPoint_position=function o(c,u){var l=c[0],f=c[1],h=u[0],p=u[1];if(console.assert(s.tree_rootNode(l)===s.tree_rootNode(h),"Boundary points must share the same root node."),l===h)return f===p?i.BoundaryPosition.Equal:f<p?i.BoundaryPosition.Before:i.BoundaryPosition.After;if(s.tree_isFollowing(h,l)){var d=o([h,p],[l,f]);if(d===i.BoundaryPosition.Before)return i.BoundaryPosition.After;if(d===i.BoundaryPosition.After)return i.BoundaryPosition.Before}if(s.tree_isAncestorOf(h,l)){for(var y=h;!s.tree_isChildOf(l,y);)y._parent!==null&&(y=y._parent);if(s.tree_index(y)<f)return i.BoundaryPosition.After}return i.BoundaryPosition.Before}},function(n,r,a){var i=this&&this.__values||function(d){var y=typeof Symbol=="function"&&Symbol.iterator,m=y&&d[y],_=0;if(m)return m.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&_>=d.length&&(d=void 0),{value:d&&d[_++],done:!d}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(6),o=a(3),c=a(7),u=a(29),l=a(108),f=a(30),h=a(37),p=a(52);r.node_stringReplaceAll=function(d,y){var m=null;d!==""&&(m=u.create_text(y._nodeDocument,d)),h.mutation_replaceAll(m,y)},r.node_clone=function d(y,m,_){var v,g,x,w,C;if(m===void 0&&(m=null),_===void 0&&(_=!1),m===null&&(m=y._nodeDocument),o.Guard.isElementNode(y)){C=p.element_createAnElement(m,y._localName,y._namespace,y._namespacePrefix,y._is,!1);try{for(var S=i(y._attributeList),T=S.next();!T.done;T=S.next()){var b=d(T.value,m);p.element_append(b,C)}}catch(A){v={error:A}}finally{try{T&&!T.done&&(g=S.return)&&g.call(S)}finally{if(v)throw v.error}}}else if(o.Guard.isDocumentNode(y)){var O=u.create_document();O._encoding=y._encoding,O._contentType=y._contentType,O._URL=y._URL,O._origin=y._origin,O._type=y._type,O._mode=y._mode,C=O}else if(o.Guard.isDocumentTypeNode(y))C=u.create_documentType(m,y._name,y._publicId,y._systemId);else if(o.Guard.isAttrNode(y)){var D=u.create_attr(m,y.localName);D._namespace=y._namespace,D._namespacePrefix=y._namespacePrefix,D._value=y._value,C=D}else C=o.Guard.isExclusiveTextNode(y)?u.create_text(m,y._data):o.Guard.isCDATASectionNode(y)?u.create_cdataSection(m,y._data):o.Guard.isCommentNode(y)?u.create_comment(m,y._data):o.Guard.isProcessingInstructionNode(y)?u.create_processingInstruction(m,y._target,y._data):o.Guard.isDocumentFragmentNode(y)?u.create_documentFragment(m):Object.create(y);if(o.Guard.isDocumentNode(C)?(C._nodeDocument=C,m=C):C._nodeDocument=m,s.dom.features.steps&&f.dom_runCloningSteps(C,y,m,_),_)try{for(var N=i(y._children),R=N.next();!R.done;R=N.next()){var E=d(R.value,m,!0);h.mutation_append(E,C)}}catch(A){x={error:A}}finally{try{R&&!R.done&&(w=N.return)&&w.call(N)}finally{if(x)throw x.error}}return C},r.node_equals=function d(y,m){var _,v,g,x;if(y._nodeType!==m._nodeType)return!1;if(o.Guard.isDocumentTypeNode(y)&&o.Guard.isDocumentTypeNode(m)){if(y._name!==m._name||y._publicId!==m._publicId||y._systemId!==m._systemId)return!1}else if(o.Guard.isElementNode(y)&&o.Guard.isElementNode(m)){if(y._namespace!==m._namespace||y._namespacePrefix!==m._namespacePrefix||y._localName!==m._localName||y._attributeList.length!==m._attributeList.length)return!1}else if(o.Guard.isAttrNode(y)&&o.Guard.isAttrNode(m)){if(y._namespace!==m._namespace||y._localName!==m._localName||y._value!==m._value)return!1}else if(o.Guard.isProcessingInstructionNode(y)&&o.Guard.isProcessingInstructionNode(m)){if(y._target!==m._target||y._data!==m._data)return!1}else if(o.Guard.isCharacterDataNode(y)&&o.Guard.isCharacterDataNode(m)&&y._data!==m._data)return!1;if(o.Guard.isElementNode(y)&&o.Guard.isElementNode(m)){var w={};try{for(var C=i(y._attributeList),S=C.next();!S.done;S=C.next())w[(O=S.value)._localName]=O}catch(W){_={error:W}}finally{try{S&&!S.done&&(v=C.return)&&v.call(C)}finally{if(_)throw _.error}}try{for(var T=i(m._attributeList),b=T.next();!b.done;b=T.next()){var O,D=b.value;if(!(O=w[D._localName])||!d(O,D))return!1}}catch(W){g={error:W}}finally{try{b&&!b.done&&(x=T.return)&&x.call(T)}finally{if(g)throw g.error}}}if(y._children.size!==m._children.size)return!1;for(var N=y._children[Symbol.iterator](),R=m._children[Symbol.iterator](),E=N.next(),A=R.next();!E.done&&!A.done;){if(!d(E.value,A.value))return!1;E=N.next(),A=R.next()}return!0},r.node_listOfElementsWithQualifiedName=function(d,y){return d==="*"?u.create_htmlCollection(y):y._nodeDocument._type==="html"?u.create_htmlCollection(y,function(m){return m._namespace===c.namespace.HTML&&m._qualifiedName===d.toLowerCase()||m._namespace!==c.namespace.HTML&&m._qualifiedName===d}):u.create_htmlCollection(y,function(m){return m._qualifiedName===d})},r.node_listOfElementsWithNamespace=function(d,y,m){return d===""&&(d=null),d==="*"&&y==="*"?u.create_htmlCollection(m):d==="*"?u.create_htmlCollection(m,function(_){return _._localName===y}):y==="*"?u.create_htmlCollection(m,function(_){return _._namespace===d}):u.create_htmlCollection(m,function(_){return _._localName===y&&_._namespace===d})},r.node_listOfElementsWithClassNames=function(d,y){var m=l.orderedSet_parse(d);if(m.size===0)return u.create_htmlCollection(y,function(){return!1});var _=y._nodeDocument._mode!=="quirks";return u.create_htmlCollection(y,function(v){var g=v.classList;return l.orderedSet_contains(g._tokenSet,m,_)})},r.node_locateANamespacePrefix=function d(y,m){if(y._namespace===m&&y._namespacePrefix!==null)return y._namespacePrefix;for(var _=0;_<y._attributeList.length;_++){var v=y._attributeList[_];if(v._namespacePrefix==="xmlns"&&v._value===m)return v._localName}return y._parent&&o.Guard.isElementNode(y._parent)?d(y._parent,m):null},r.node_locateANamespace=function d(y,m){if(o.Guard.isElementNode(y)){if(y._namespace!==null&&y._namespacePrefix===m)return y._namespace;for(var _=0;_<y._attributeList.length;_++){var v=y._attributeList[_];if(v._namespace===c.namespace.XMLNS&&v._namespacePrefix==="xmlns"&&v._localName===m||m===null&&v._namespace===c.namespace.XMLNS&&v._namespacePrefix===null&&v._localName==="xmlns")return v._value||null}return y.parentElement===null?null:d(y.parentElement,m)}return o.Guard.isDocumentNode(y)?y.documentElement===null?null:d(y.documentElement,m):o.Guard.isDocumentTypeNode(y)||o.Guard.isDocumentFragmentNode(y)?null:o.Guard.isAttrNode(y)?y._element===null?null:d(y._element,m):y._parent&&o.Guard.isElementNode(y._parent)?d(y._parent,m):null}},function(n,r,a){var i=this&&this.__values||function(p){var d=typeof Symbol=="function"&&Symbol.iterator,y=d&&p[d],m=0;if(y)return y.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&m>=p.length&&(p=void 0),{value:p&&p[m++],done:!p}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(6),o=a(3),c=a(9),u=a(29),l=a(17),f=a(107),h=a(37);r.text_contiguousTextNodes=function(p,d){var y;return d===void 0&&(d=!1),(y={})[Symbol.iterator]=function(){for(var m=p;m&&o.Guard.isTextNode(m._previousSibling);)m=m._previousSibling;return{next:function(){if(m&&!d&&m===p&&(m=o.Guard.isTextNode(m._nextSibling)?m._nextSibling:null),m===null)return{done:!0,value:null};var _={done:!1,value:m};return m=o.Guard.isTextNode(m._nextSibling)?m._nextSibling:null,_}}},y},r.text_contiguousExclusiveTextNodes=function(p,d){var y;return d===void 0&&(d=!1),(y={})[Symbol.iterator]=function(){for(var m=p;m&&o.Guard.isExclusiveTextNode(m._previousSibling);)m=m._previousSibling;return{next:function(){if(m&&!d&&m===p&&(m=o.Guard.isExclusiveTextNode(m._nextSibling)?m._nextSibling:null),m===null)return{done:!0,value:null};var _={done:!1,value:m};return m=o.Guard.isExclusiveTextNode(m._nextSibling)?m._nextSibling:null,_}}},y},r.text_descendantTextContent=function(p){for(var d="",y=l.tree_getFirstDescendantNode(p,!1,!1,function(m){return o.Guard.isTextNode(m)});y!==null;)d+=y._data,y=l.tree_getNextDescendantNode(p,y,!1,!1,function(m){return o.Guard.isTextNode(m)});return d},r.text_split=function(p,d){var y,m,_=p._data.length;if(d>_)throw new c.IndexSizeError;var v=_-d,g=f.characterData_substringData(p,d,v),x=u.create_text(p._nodeDocument,g),w=p._parent;if(w!==null){h.mutation_insert(x,w,p._nextSibling);try{for(var C=i(s.dom.rangeList),S=C.next();!S.done;S=C.next()){var T=S.value;T._start[0]===p&&T._start[1]>d&&(T._start[0]=x,T._start[1]-=d),T._end[0]===p&&T._end[1]>d&&(T._end[0]=x,T._end[1]-=d);var b=l.tree_index(p);T._start[0]===w&&T._start[1]===b+1&&T._start[1]++,T._end[0]===w&&T._end[1]===b+1&&T._end[1]++}}catch(O){y={error:O}}finally{try{S&&!S.done&&(m=C.return)&&m.call(C)}finally{if(y)throw y.error}}}return f.characterData_replaceData(p,d,v,""),x}},function(n,r,a){var i=a(4),s=a(41),o=a(24),c=a(48),u=[].join,l=s!=Object,f=c("join",",");i({target:"Array",proto:!0,forced:l||!f},{join:function(h){return u.call(o(this),h===void 0?",":h)}})},function(n,r,a){var i=a(4),s=a(83),o=String.fromCharCode,c=String.fromCodePoint;i({target:"String",stat:!0,forced:!!c&&c.length!=1},{fromCodePoint:function(u){for(var l,f=[],h=arguments.length,p=0;h>p;){if(l=+arguments[p++],s(l,1114111)!==l)throw RangeError(l+" is not a valid code point");f.push(l<65536?o(l):o(55296+((l-=65536)>>10),l%1024+56320))}return f.join("")}})},function(n,r,a){var i=this&&this.__read||function(c,u){var l=typeof Symbol=="function"&&c[Symbol.iterator];if(!l)return c;var f,h,p=l.call(c),d=[];try{for(;(u===void 0||u-- >0)&&!(f=p.next()).done;)d.push(f.value)}catch(y){h={error:y}}finally{try{f&&!f.done&&(l=p.return)&&l.call(p)}finally{if(h)throw h.error}}return d};Object.defineProperty(r,"__esModule",{value:!0});var s=a(111),o=function(){function c(u,l){this._options={skipWhitespaceOnlyText:!1},this.err={line:-1,col:-1,index:-1,str:""},this._str=u,this._index=0,this._length=u.length,l&&(this._options.skipWhitespaceOnlyText=l.skipWhitespaceOnlyText||!1)}return c.prototype.nextToken=function(){if(this.eof())return{type:s.TokenType.EOF};var u=this.skipIfStartsWith("<")?this.openBracket():this.text();return this._options.skipWhitespaceOnlyText&&u.type===s.TokenType.Text&&c.isWhiteSpaceToken(u)&&(u=this.nextToken()),u},c.prototype.openBracket=function(){return this.skipIfStartsWith("?")?this.skipIfStartsWith("xml")?c.isSpace(this._str[this._index])?this.declaration():(this.seek(-3),this.pi()):this.pi():this.skipIfStartsWith("!")?this.skipIfStartsWith("--")?this.comment():this.skipIfStartsWith("[CDATA[")?this.cdata():this.skipIfStartsWith("DOCTYPE")?this.doctype():void this.throwError("Invalid '!' in opening tag."):this.skipIfStartsWith("/")?this.closeTag():this.openTag()},c.prototype.declaration=function(){for(var u="",l="",f="";!this.eof();){if(this.skipSpace(),this.skipIfStartsWith("?>"))return{type:s.TokenType.Declaration,version:u,encoding:l,standalone:f};var h=i(this.attribute(),2),p=h[0],d=h[1];p==="version"?u=d:p==="encoding"?l=d:p==="standalone"?f=d:this.throwError("Invalid attribute name: "+p)}this.throwError("Missing declaration end symbol `?>`")},c.prototype.doctype=function(){var u="",l="";this.skipSpace();var f=this.takeUntil2("[",">",!0);return this.skipSpace(),this.skipIfStartsWith("PUBLIC")?(u=this.quotedString(),l=this.quotedString()):this.skipIfStartsWith("SYSTEM")&&(l=this.quotedString()),this.skipSpace(),this.skipIfStartsWith("[")&&(this.skipUntil("]"),this.skipIfStartsWith("]")||this.throwError("Missing end bracket of DTD internal subset")),this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing doctype end symbol `>`"),{type:s.TokenType.DocType,name:f,pubId:u,sysId:l}},c.prototype.pi=function(){var u=this.takeUntilStartsWith("?>",!0);if(this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.skipSpace(),this.skipIfStartsWith("?>"))return{type:s.TokenType.PI,target:u,data:""};var l=this.takeUntilStartsWith("?>");return this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.seek(2),{type:s.TokenType.PI,target:u,data:l}},c.prototype.text=function(){var u=this.takeUntil("<");return{type:s.TokenType.Text,data:u}},c.prototype.comment=function(){var u=this.takeUntilStartsWith("-->");return this.eof()&&this.throwError("Missing comment end symbol `-->`"),this.seek(3),{type:s.TokenType.Comment,data:u}},c.prototype.cdata=function(){var u=this.takeUntilStartsWith("]]>");return this.eof()&&this.throwError("Missing CDATA end symbol `]>`"),this.seek(3),{type:s.TokenType.CDATA,data:u}},c.prototype.openTag=function(){this.skipSpace();var u=this.takeUntil2(">","/",!0);if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:s.TokenType.Element,name:u,attributes:[],selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:s.TokenType.Element,name:u,attributes:[],selfClosing:!0};for(var l=[];!this.eof();){if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:s.TokenType.Element,name:u,attributes:l,selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:s.TokenType.Element,name:u,attributes:l,selfClosing:!0};var f=this.attribute();l.push(f)}this.throwError("Missing opening element tag end symbol `>`")},c.prototype.closeTag=function(){this.skipSpace();var u=this.takeUntil(">",!0);return this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing closing element tag end symbol `>`"),{type:s.TokenType.ClosingTag,name:u}},c.prototype.attribute=function(){this.skipSpace();var u=this.takeUntil("=",!0);return this.skipSpace(),this.skipIfStartsWith("=")||this.throwError("Missing equals sign before attribute value"),[u,this.quotedString()]},c.prototype.quotedString=function(){this.skipSpace();var u=this.take(1);c.isQuote(u)||this.throwError("Missing start quote character before quoted value");var l=this.takeUntil(u);return this.skipIfStartsWith(u)||this.throwError("Missing end quote character after quoted value"),l},c.prototype.eof=function(){return this._index>=this._length},c.prototype.skipIfStartsWith=function(u){var l=u.length;if(l===1)return this._str[this._index]===u&&(this._index++,!0);for(var f=0;f<l;f++)if(this._str[this._index+f]!==u[f])return!1;return this._index+=l,!0},c.prototype.seek=function(u){this._index+=u,this._index<0&&(this._index=0),this._index>this._length&&(this._index=this._length)},c.prototype.skipSpace=function(){for(;!this.eof()&&c.isSpace(this._str[this._index]);)this._index++},c.prototype.take=function(u){if(u===1)return this._str[this._index++];var l=this._index;return this.seek(u),this._str.slice(l,this._index)},c.prototype.takeUntil=function(u,l){l===void 0&&(l=!1);for(var f=this._index;this._index<this._length;){var h=this._str[this._index];if(h===u||l&&c.isSpace(h))break;this._index++}return this._str.slice(f,this._index)},c.prototype.takeUntil2=function(u,l,f){f===void 0&&(f=!1);for(var h=this._index;this._index<this._length;){var p=this._str[this._index];if(p===u||p===l||f&&c.isSpace(p))break;this._index++}return this._str.slice(h,this._index)},c.prototype.takeUntilStartsWith=function(u,l){l===void 0&&(l=!1);for(var f=this._index,h=u.length;this._index<this._length;){for(var p=!0,d=0;d<h;d++){var y=this._str[this._index+d],m=u[d];if(l&&c.isSpace(y))return this._str.slice(f,this._index);if(y!==m){this._index++,p=!1;break}}if(p)return this._str.slice(f,this._index)}return this._index=this._length,this._str.slice(f)},c.prototype.skipUntil=function(u){for(;this._index<this._length&&this._str[this._index]!==u;)this._index++},c.isWhiteSpaceToken=function(u){for(var l=u.data,f=0;f<l.length;f++){var h=l[f];if(h!==" "&&h!==`
`&&h!=="\r"&&h!=="	"&&h!=="\f")return!1}return!0},c.isSpace=function(u){return u===" "||u===`
`||u==="\r"||u==="	"},c.isQuote=function(u){return u==='"'||u==="'"},c.prototype.throwError=function(u){for(var l=/\r\n|\r|\n/g,f=null,h=0,p=0,d=this._str.length;(f=l.exec(this._str))!==null&&f!==null;)if(h++,f.index<this._index&&(p=l.lastIndex),f.index>this._index){d=f.index;break}throw this.err={line:h,col:this._index-p,index:this._index,str:this._str.substring(p,d)},new Error(u+`
Index: `+this.err.index+`
Ln: `+this.err.line+", Col: "+this.err.col+`
Input: `+this.err.str)},c.prototype[Symbol.iterator]=function(){return this._index=0,{next:function(){var u=this.nextToken();return u.type===s.TokenType.EOF?{done:!0,value:null}:{done:!1,value:u}}.bind(this)}},c}();r.XMLStringLexer=o},function(n,r,a){var i=a(39);n.exports=new i({include:[a(182)]})},function(n,r,a){var i=a(39);n.exports=new i({include:[a(113)],implicit:[a(289),a(290),a(291),a(292)]})},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(91),s=a(1),o=a(3),c=a(77),u=a(109);function l(d,y){var m=h(d===void 0||f(d)?d:i.DefaultBuilderOptions),_=f(d)?y:d,v=u.createDocument();p(v,m);var g=new c.XMLBuilderImpl(v);return _!==void 0&&g.ele(_),g}function f(d){if(!s.isPlainObject(d))return!1;for(var y in d)if(d.hasOwnProperty(y)&&!i.XMLBuilderOptionKeys.has(y))return!1;return!0}function h(d){d===void 0&&(d={});var y=s.applyDefaults(d,i.DefaultBuilderOptions);if(y.convert.att.length===0||y.convert.ins.length===0||y.convert.text.length===0||y.convert.cdata.length===0||y.convert.comment.length===0)throw new Error("JS object converter strings cannot be zero length.");return y}function p(d,y,m){var _=d;_._xmlBuilderOptions=y,_._isFragment=m}r.builder=function(d,y){var m=h(f(d)?d:i.DefaultBuilderOptions),_=o.Guard.isNode(d)||s.isArray(d)?d:y;if(_===void 0)throw new Error("Invalid arguments.");if(s.isArray(_)){for(var v=[],g=0;g<_.length;g++){var x=new c.XMLBuilderImpl(_[g]);x.set(m),v.push(x)}return v}var w=new c.XMLBuilderImpl(_);return w.set(m),w},r.create=l,r.fragment=function(d,y){var m=h(d===void 0||f(d)?d:i.DefaultBuilderOptions),_=f(d)?y:d,v=u.createDocument();p(v,m,!0);var g=new c.XMLBuilderImpl(v.createDocumentFragment());return _!==void 0&&g.ele(_),g},r.convert=function(d,y,m){var _,v,g;return f(d)&&y!==void 0?(_=d,v=y,g=m):(_=i.DefaultBuilderOptions,v=d,g=y||void 0),l(_,v).end(g)}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(77);r.builder=i.builder,r.create=i.create,r.fragment=i.fragment,r.convert=i.convert,r.createCB=i.createCB,r.fragmentCB=i.fragmentCB},function(n,r,a){a(31),a(32),a(33),a(191),a(192),a(194),a(64),a(19),a(198),a(199),a(89),a(201),a(65),a(20),a(66),a(22),a(23);var i=this&&this.__read||function(_,v){var g=typeof Symbol=="function"&&_[Symbol.iterator];if(!g)return _;var x,w,C=g.call(_),S=[];try{for(;(v===void 0||v-- >0)&&!(x=C.next()).done;)S.push(x.value)}catch(T){w={error:T}}finally{try{x&&!x.done&&(g=C.return)&&g.call(C)}finally{if(w)throw w.error}}return S},s=this&&this.__values||function(_){var v=typeof Symbol=="function"&&Symbol.iterator,g=v&&_[v],x=0;if(g)return g.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&x>=_.length&&(_=void 0),{value:_&&_[x++],done:!_}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=a(91),c=a(1),u=a(217),l=a(2),f=a(3),h=a(0),p=a(109),d=a(7),y=a(276),m=function(){function _(v){this._domNode=v}return Object.defineProperty(_.prototype,"node",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),_.prototype.set=function(v){return this._options=c.applyDefaults(c.applyDefaults(this._options,v,!0),o.DefaultBuilderOptions),this},_.prototype.ele=function(v,g,x){var w,C,S,T,b,O;if(c.isObject(v))return new y.ObjectReader(this._options).parse(this,v);if(v!==null&&/^\s*</.test(v))return new y.XMLReader(this._options).parse(this,v);if(v!==null&&/^\s*[\{\[]/.test(v))return new y.JSONReader(this._options).parse(this,v);if(v!==null&&/^(\s*|(#.*)|(%.*))*---/.test(v))return new y.YAMLReader(this._options).parse(this,v);if((v===null||c.isString(v))&&c.isString(g))T=(w=i([v,g,x],3))[0],b=w[1],O=w[2];else{if(v===null)throw new Error("Element name cannot be null. "+this._debugInfo());T=(C=i([void 0,v,c.isObject(g)?g:void 0],3))[0],b=C[1],O=C[2]}if(O&&(O=c.getValue(O)),T=(S=i(this._extractNamespace(p.sanitizeInput(T,this._options.invalidCharReplacement),p.sanitizeInput(b,this._options.invalidCharReplacement),!0),2))[0],b=S[1],T===void 0){var D=i(h.namespace_extractQName(b),1)[0];T=this.node.lookupNamespaceURI(D)}var N=T!=null?this._doc.createElementNS(T,b):this._doc.createElement(b);this.node.appendChild(N);var R=new _(N),E=this._doc.doctype;if(N===this._doc.documentElement&&E!==null){var A=this._doc.implementation.createDocumentType(this._doc.documentElement.tagName,E.publicId,E.systemId);this._doc.replaceChild(A,E)}return O&&!c.isEmpty(O)&&R.att(O),R},_.prototype.remove=function(){var v=this.up();return v.node.removeChild(this.node),v},_.prototype.att=function(v,g,x){var w,C,S,T,b,O,D=this;if(c.isMap(v)||c.isObject(v))return c.forEachObject(v,function(F,L){return D.att(F,L)},this),this;if(v!=null&&(v=c.getValue(v+"")),g!=null&&(g=c.getValue(g+"")),x!=null&&(x=c.getValue(x+"")),v!==null&&!c.isString(v)||!c.isString(g)||x!==null&&!c.isString(x)){if(!c.isString(v)||g!=null&&!c.isString(g))throw new Error("Attribute name and value not specified. "+this._debugInfo());T=(C=i([void 0,v,g],3))[0],b=C[1],O=C[2]}else T=(w=i([v,g,x],3))[0],b=w[1],O=w[2];if(this._options.keepNullAttributes&&O==null)O="";else if(O==null)return this;if(!f.Guard.isElementNode(this.node))throw new Error("An attribute can only be assigned to an element node.");var N=this.node;T=(S=i(this._extractNamespace(T,b,!1),2))[0],b=S[1],b=p.sanitizeInput(b,this._options.invalidCharReplacement),T=p.sanitizeInput(T,this._options.invalidCharReplacement),O=p.sanitizeInput(O,this._options.invalidCharReplacement);var R=i(h.namespace_extractQName(b),2),E=R[0],A=R[1],W=i(h.namespace_extractQName(N.prefix?N.prefix+":"+N.localName:N.localName),1)[0],z=null;return E==="xmlns"?(T=d.namespace.XMLNS,N.namespaceURI===null&&W===A&&(z=O)):E===null&&A==="xmlns"&&W===null&&(T=d.namespace.XMLNS,z=O),z!==null&&(this._updateNamespace(z),N=this.node),T!==void 0?N.setAttributeNS(T,b,O):N.setAttribute(b,O),this},_.prototype.removeAtt=function(v,g){var x,w,C=this;if(!f.Guard.isElementNode(this.node))throw new Error("An attribute can only be removed from an element node.");if(v=c.getValue(v),g!==void 0&&(g=c.getValue(g)),v!==null&&g===void 0)w=v;else{if(v!==null&&!c.isString(v)||g===void 0)throw new Error("Attribute namespace must be a string. "+this._debugInfo());x=v,w=g}return c.isArray(w)||c.isSet(w)?c.forEachArray(w,function(S){return x===void 0?C.removeAtt(S):C.removeAtt(x,S)},this):x!==void 0?(w=p.sanitizeInput(w,this._options.invalidCharReplacement),x=p.sanitizeInput(x,this._options.invalidCharReplacement),this.node.removeAttributeNS(x,w)):(w=p.sanitizeInput(w,this._options.invalidCharReplacement),this.node.removeAttribute(w)),this},_.prototype.txt=function(v){if(v==null){if(!this._options.keepNullNodes)return this;v=""}var g=this._doc.createTextNode(p.sanitizeInput(v,this._options.invalidCharReplacement));return this.node.appendChild(g),this},_.prototype.com=function(v){if(v==null){if(!this._options.keepNullNodes)return this;v=""}var g=this._doc.createComment(p.sanitizeInput(v,this._options.invalidCharReplacement));return this.node.appendChild(g),this},_.prototype.dat=function(v){if(v==null){if(!this._options.keepNullNodes)return this;v=""}var g=this._doc.createCDATASection(p.sanitizeInput(v,this._options.invalidCharReplacement));return this.node.appendChild(g),this},_.prototype.ins=function(v,g){var x=this;if(g===void 0&&(g=""),g==null){if(!this._options.keepNullNodes)return this;g=""}if(c.isArray(v)||c.isSet(v))c.forEachArray(v,function(C){var S=(C+="").indexOf(" "),T=S===-1?C:C.substr(0,S),b=S===-1?"":C.substr(S+1);x.ins(T,b)},this);else if(c.isMap(v)||c.isObject(v))c.forEachObject(v,function(C,S){return x.ins(C,S)},this);else{var w=this._doc.createProcessingInstruction(p.sanitizeInput(v,this._options.invalidCharReplacement),p.sanitizeInput(g,this._options.invalidCharReplacement));this.node.appendChild(w)}return this},_.prototype.dec=function(v){return this._options.version=v.version||"1.0",this._options.encoding=v.encoding,this._options.standalone=v.standalone,this},_.prototype.dtd=function(v){var g=p.sanitizeInput(v&&v.name||(this._doc.documentElement?this._doc.documentElement.tagName:"ROOT"),this._options.invalidCharReplacement),x=p.sanitizeInput(v&&v.pubID||"",this._options.invalidCharReplacement),w=p.sanitizeInput(v&&v.sysID||"",this._options.invalidCharReplacement);if(this._doc.documentElement!==null&&g!==this._doc.documentElement.tagName)throw new Error("DocType name does not match document element name.");var C=this._doc.implementation.createDocumentType(g,x,w);return this._doc.doctype!==null?this._doc.replaceChild(C,this._doc.doctype):this._doc.insertBefore(C,this._doc.documentElement),this},_.prototype.import=function(v){var g,x,w=this._domNode,C=this._doc,S=v.node;if(f.Guard.isDocumentNode(S)){var T=S.documentElement;if(T===null)throw new Error("Imported document has no document element node. "+this._debugInfo());var b=C.importNode(T,!0);w.appendChild(b);var O=i(h.namespace_extractQName(b.prefix?b.prefix+":"+b.localName:b.localName),1)[0],D=w.lookupNamespaceURI(O);new _(b)._updateNamespace(D)}else if(f.Guard.isDocumentFragmentNode(S))try{for(var N=s(S.childNodes),R=N.next();!R.done;R=N.next()){var E=R.value;b=C.importNode(E,!0),w.appendChild(b),f.Guard.isElementNode(b)&&(O=i(h.namespace_extractQName(b.prefix?b.prefix+":"+b.localName:b.localName),1)[0],D=w.lookupNamespaceURI(O),new _(b)._updateNamespace(D))}}catch(A){g={error:A}}finally{try{R&&!R.done&&(x=N.return)&&x.call(N)}finally{if(g)throw g.error}}else b=C.importNode(S,!0),w.appendChild(b),f.Guard.isElementNode(b)&&(O=i(h.namespace_extractQName(b.prefix?b.prefix+":"+b.localName:b.localName),1)[0],D=w.lookupNamespaceURI(O),new _(b)._updateNamespace(D));return this},_.prototype.doc=function(){if(this._doc._isFragment){for(var v=this.node;v&&v.nodeType!==l.NodeType.DocumentFragment;)v=v.parentNode;if(v===null)throw new Error("Node has no parent node while searching for document fragment ancestor. "+this._debugInfo());return new _(v)}return new _(this._doc)},_.prototype.root=function(){var v=this._doc.documentElement;if(!v)throw new Error("Document root element is null. "+this._debugInfo());return new _(v)},_.prototype.up=function(){var v=this._domNode.parentNode;if(!v)throw new Error("Parent node is null. "+this._debugInfo());return new _(v)},_.prototype.prev=function(){var v=this._domNode.previousSibling;if(!v)throw new Error("Previous sibling node is null. "+this._debugInfo());return new _(v)},_.prototype.next=function(){var v=this._domNode.nextSibling;if(!v)throw new Error("Next sibling node is null. "+this._debugInfo());return new _(v)},_.prototype.first=function(){var v=this._domNode.firstChild;if(!v)throw new Error("First child node is null. "+this._debugInfo());return new _(v)},_.prototype.last=function(){var v=this._domNode.lastChild;if(!v)throw new Error("Last child node is null. "+this._debugInfo());return new _(v)},_.prototype.each=function(v,g,x,w){g===void 0&&(g=!1),x===void 0&&(x=!1);for(var C=this._getFirstDescendantNode(this._domNode,g,x);C[0];){var S=this._getNextDescendantNode(this._domNode,C[0],x,C[1],C[2]);v.call(w,new _(C[0]),C[1],C[2]),C=S}return this},_.prototype.map=function(v,g,x,w){g===void 0&&(g=!1),x===void 0&&(x=!1);var C=[];return this.each(function(S,T,b){return C.push(v.call(w,S,T,b))},g,x),C},_.prototype.reduce=function(v,g,x,w,C){x===void 0&&(x=!1),w===void 0&&(w=!1);var S=g;return this.each(function(T,b,O){return S=v.call(C,S,T,b,O)},x,w),S},_.prototype.find=function(v,g,x,w){g===void 0&&(g=!1),x===void 0&&(x=!1);for(var C=this._getFirstDescendantNode(this._domNode,g,x);C[0];){var S=new _(C[0]);if(v.call(w,S,C[1],C[2]))return S;C=this._getNextDescendantNode(this._domNode,C[0],x,C[1],C[2])}},_.prototype.filter=function(v,g,x,w){g===void 0&&(g=!1),x===void 0&&(x=!1);var C=[];return this.each(function(S,T,b){v.call(w,S,T,b)&&C.push(S)},g,x),C},_.prototype.every=function(v,g,x,w){g===void 0&&(g=!1),x===void 0&&(x=!1);for(var C=this._getFirstDescendantNode(this._domNode,g,x);C[0];){var S=new _(C[0]);if(!v.call(w,S,C[1],C[2]))return!1;C=this._getNextDescendantNode(this._domNode,C[0],x,C[1],C[2])}return!0},_.prototype.some=function(v,g,x,w){g===void 0&&(g=!1),x===void 0&&(x=!1);for(var C=this._getFirstDescendantNode(this._domNode,g,x);C[0];){var S=new _(C[0]);if(v.call(w,S,C[1],C[2]))return!0;C=this._getNextDescendantNode(this._domNode,C[0],x,C[1],C[2])}return!1},_.prototype.toArray=function(v,g){v===void 0&&(v=!1),g===void 0&&(g=!1);var x=[];return this.each(function(w){return x.push(w)},v,g),x},_.prototype.toString=function(v){return(v=v||{}).format===void 0&&(v.format="xml"),this._serialize(v)},_.prototype.toObject=function(v){return(v=v||{}).format===void 0&&(v.format="object"),this._serialize(v)},_.prototype.end=function(v){return(v=v||{}).format===void 0&&(v.format="xml"),this.doc()._serialize(v)},_.prototype._getFirstDescendantNode=function(v,g,x){return g?[this._domNode,0,0]:x?this._getNextDescendantNode(v,v,x,0,0):[this._domNode.firstChild,0,1]},_.prototype._getNextDescendantNode=function(v,g,x,w,C){if(!x)return v===g?[g.firstChild,0,C+1]:[g.nextSibling,w+1,C];if(g.firstChild)return[g.firstChild,0,C+1];if(g===v)return[null,-1,-1];if(g.nextSibling)return[g.nextSibling,w+1,C];for(var S=g.parentNode;S&&S!==v;){if(S.nextSibling)return[S.nextSibling,h.tree_index(S.nextSibling),C-1];S=S.parentNode,C--}return[null,-1,-1]},_.prototype._serialize=function(v){if(v.format==="xml")return new u.XMLWriter(this._options,v).serialize(this.node);if(v.format==="map")return new u.MapWriter(this._options,v).serialize(this.node);if(v.format==="object")return new u.ObjectWriter(this._options,v).serialize(this.node);if(v.format==="json")return new u.JSONWriter(this._options,v).serialize(this.node);if(v.format==="yaml")return new u.YAMLWriter(this._options,v).serialize(this.node);throw new Error("Invalid writer format: "+v.format+". "+this._debugInfo())},_.prototype._extractNamespace=function(v,g,x){var w=g.indexOf("@");if(w>0&&(v===void 0&&(v=g.slice(w+1)),g=g.slice(0,w)),v===void 0)v=x?this._options.defaultNamespace.ele:this._options.defaultNamespace.att;else if(v!==null&&v[0]==="@"){var C=v.slice(1);if((v=this._options.namespaceAlias[C])===void 0)throw new Error("Namespace alias `"+C+"` is not defined. "+this._debugInfo())}return[v,g]},_.prototype._updateNamespace=function(v){var g,x,w,C,S=this._domNode;if(f.Guard.isElementNode(S)&&v!==null&&S.namespaceURI!==v){var T=i(h.namespace_extractQName(S.prefix?S.prefix+":"+S.localName:S.localName),2),b=T[0],O=T[1],D=h.create_element(this._doc,O,v,b);try{for(var N=s(S.attributes),R=N.next();!R.done;R=N.next()){var E=R.value,A=E.prefix?E.prefix+":"+E.localName:E.localName,W=i(h.namespace_extractQName(A),1)[0],z=E.namespaceURI;z===null&&W!==null&&(z=S.lookupNamespaceURI(W)),z===null?D.setAttribute(A,E.value):D.setAttributeNS(z,A,E.value)}}catch(Q){g={error:Q}}finally{try{R&&!R.done&&(x=N.return)&&x.call(N)}finally{if(g)throw g.error}}var F=S.parentNode;if(F===null)throw new Error("Parent node is null."+this._debugInfo());F.replaceChild(D,S),this._domNode=D;try{for(var L=s(S.childNodes),G=L.next();!G.done;G=L.next()){var H=G.value.cloneNode(!0);if(D.appendChild(H),f.Guard.isElementNode(H)){var $=i(h.namespace_extractQName(H.prefix?H.prefix+":"+H.localName:H.localName),1)[0],J=D.lookupNamespaceURI($);new _(H)._updateNamespace(J)}}}catch(Q){w={error:Q}}finally{try{G&&!G.done&&(C=L.return)&&C.call(L)}finally{if(w)throw w.error}}}},Object.defineProperty(_.prototype,"_doc",{get:function(){var v=this.node;if(f.Guard.isDocumentNode(v))return v;var g=v.ownerDocument;if(!g)throw new Error("Owner document is null. "+this._debugInfo());return g},enumerable:!0,configurable:!0}),_.prototype._debugInfo=function(v){var g=this.node,x=g.parentNode;v=v||g.nodeName;var w=x?x.nodeName:"";return w?"node: <"+v+">, parent: <"+w+">":"node: <"+v+">"},Object.defineProperty(_.prototype,"_options",{get:function(){var v=this._doc;if(v._xmlBuilderOptions===void 0)throw new Error("Builder options is not set.");return v._xmlBuilderOptions},set:function(v){this._doc._xmlBuilderOptions=v},enumerable:!0,configurable:!0}),_}();r.XMLBuilderImpl=m},function(n,r,a){var i=a(11),s=a(117),o=i.WeakMap;n.exports=typeof o=="function"&&/native code/.test(s(o))},function(n,r,a){var i=a(46),s=a(82),o=a(85),c=a(18);n.exports=i("Reflect","ownKeys")||function(u){var l=s.f(c(u)),f=o.f;return f?l.concat(f(u)):l}},function(n,r,a){var i=a(16),s=a(15),o=a(18),c=a(61);n.exports=i?Object.defineProperties:function(u,l){o(u);for(var f,h=c(l),p=h.length,d=0;p>d;)s.f(u,f=h[d++],l[f]);return u}},function(n,r,a){var i=a(46);n.exports=i("document","documentElement")},function(n,r,a){var i=a(24),s=a(82).f,o={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return c&&o.call(u)=="[object Window]"?function(l){try{return s(l)}catch{return c.slice()}}(u):s(i(u))}},function(n,r,a){var i=a(4),s=a(36).every,o=a(48),c=a(28),u=o("every"),l=c("every");i({target:"Array",proto:!0,forced:!u||!l},{every:function(f){return s(this,f,arguments.length>1?arguments[1]:void 0)}})},function(n,r,a){var i=a(4),s=a(36).filter,o=a(63),c=a(28),u=o("filter"),l=c("filter");i({target:"Array",proto:!0,forced:!u||!l},{filter:function(f){return s(this,f,arguments.length>1?arguments[1]:void 0)}})},function(n,r,a){var i=a(46);n.exports=i("navigator","userAgent")||""},function(n,r,a){var i=a(4),s=a(36).find,o=a(130),c=a(28),u=!0,l=c("find");"find"in[]&&Array(1).find(function(){u=!1}),i({target:"Array",proto:!0,forced:u||!l},{find:function(f){return s(this,f,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(n,r,a){var i=a(131).IteratorPrototype,s=a(60),o=a(40),c=a(62),u=a(49),l=function(){return this};n.exports=function(f,h,p){var d=h+" Iterator";return f.prototype=s(i,{next:o(1,p)}),c(f,d,!1,!0),u[d]=l,f}},function(n,r,a){var i=a(8);n.exports=!i(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},function(n,r,a){var i=a(13);n.exports=function(s){if(!i(s)&&s!==null)throw TypeError("Can't set "+String(s)+" as a prototype");return s}},function(n,r,a){var i=a(4),s=a(36).map,o=a(63),c=a(28),u=o("map"),l=c("map");i({target:"Array",proto:!0,forced:!u||!l},{map:function(f){return s(this,f,arguments.length>1?arguments[1]:void 0)}})},function(n,r,a){var i=a(4),s=a(200).left,o=a(48),c=a(28),u=o("reduce"),l=c("reduce",{1:0});i({target:"Array",proto:!0,forced:!u||!l},{reduce:function(f){return s(this,f,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(n,r,a){var i=a(127),s=a(27),o=a(41),c=a(26),u=function(l){return function(f,h,p,d){i(h);var y=s(f),m=o(y),_=c(y.length),v=l?_-1:0,g=l?-1:1;if(p<2)for(;;){if(v in m){d=m[v],v+=g;break}if(v+=g,l?v<0:_<=v)throw TypeError("Reduce of empty array with no initial value")}for(;l?v>=0:_>v;v+=g)v in m&&(d=h(d,m[v],v,y));return d}};n.exports={left:u(!1),right:u(!0)}},function(n,r,a){var i=a(4),s=a(36).some,o=a(48),c=a(28),u=o("some"),l=c("some");i({target:"Array",proto:!0,forced:!u||!l},{some:function(f){return s(this,f,arguments.length>1?arguments[1]:void 0)}})},function(n,r,a){var i=a(90),s=a(135);n.exports=i?{}.toString:function(){return"[object "+s(this)+"]"}},function(n,r){n.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(n,r,a){var i=a(8);n.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(n,r,a){var i=a(5),s=a(49),o=i("iterator"),c=Array.prototype;n.exports=function(u){return u!==void 0&&(s.Array===u||c[o]===u)}},function(n,r,a){var i=a(135),s=a(49),o=a(5)("iterator");n.exports=function(c){if(c!=null)return c[o]||c["@@iterator"]||s[i(c)]}},function(n,r,a){var i=a(18);n.exports=function(s,o,c,u){try{return u?o(i(c)[0],c[1]):o(c)}catch(f){var l=s.return;throw l!==void 0&&i(l.call(s)),f}}},function(n,r,a){var i=a(5)("iterator"),s=!1;try{var o=0,c={next:function(){return{done:!!o++}},return:function(){s=!0}};c[i]=function(){return this},Array.from(c,function(){throw 2})}catch{}n.exports=function(u,l){if(!l&&!s)return!1;var f=!1;try{var h={};h[i]=function(){return{next:function(){return{done:f=!0}}}},u(h)}catch{}return f}},function(n,r,a){var i=a(13),s=a(133);n.exports=function(o,c,u){var l,f;return s&&typeof(l=c.constructor)=="function"&&l!==u&&i(f=l.prototype)&&f!==u.prototype&&s(o,f),o}},function(n,r,a){var i=a(25);n.exports=function(s,o,c){for(var u in o)i(s,u,o[u],c);return s}},function(n,r,a){var i=a(46),s=a(15),o=a(5),c=a(16),u=o("species");n.exports=function(l){var f=i(l),h=s.f;c&&f&&!f[u]&&h(f,u,{configurable:!0,get:function(){return this}})}},function(n,r,a){var i=this&&this.__generator||function(c,u){var l,f,h,p,d={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(m){return function(_){return function(v){if(l)throw new TypeError("Generator is already executing.");for(;d;)try{if(l=1,f&&(h=2&v[0]?f.return:v[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,v[1])).done)return h;switch(f=0,h&&(v=[2&v[0],h.value]),v[0]){case 0:case 1:h=v;break;case 4:return d.label++,{value:v[1],done:!1};case 5:d.label++,f=v[1],v=[0];continue;case 7:v=d.ops.pop(),d.trys.pop();continue;default:if(h=d.trys,!((h=h.length>0&&h[h.length-1])||v[0]!==6&&v[0]!==2)){d=0;continue}if(v[0]===3&&(!h||v[1]>h[0]&&v[1]<h[3])){d.label=v[1];break}if(v[0]===6&&d.label<h[1]){d.label=h[1],h=v;break}if(h&&d.label<h[2]){d.label=h[2],d.ops.push(v);break}h[2]&&d.ops.pop(),d.trys.pop();continue}v=u.call(c,d)}catch(g){v=[6,g],f=0}finally{l=h=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([m,_])}}},s=this&&this.__values||function(c){var u=typeof Symbol=="function"&&Symbol.iterator,l=u&&c[u],f=0;if(l)return l.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&f>=c.length&&(c=void 0),{value:c&&c[f++],done:!c}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function c(u){u===void 0&&(u=1e3),this._items=new Set,this._limit=u}return c.prototype.add=function(u){if(this._items.add(u),this._items.size>this._limit){var l=this._items.values().next();l.done||this._items.delete(l.value)}return this},c.prototype.delete=function(u){return this._items.delete(u)},c.prototype.has=function(u){return this._items.has(u)},c.prototype.clear=function(){this._items.clear()},Object.defineProperty(c.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),c.prototype.forEach=function(u,l){var f=this;this._items.forEach(function(h){return u.call(l,h,h,f)})},c.prototype.keys=function(){return i(this,function(u){switch(u.label){case 0:return[5,s(this._items.keys())];case 1:return u.sent(),[2]}})},c.prototype.values=function(){return i(this,function(u){switch(u.label){case 0:return[5,s(this._items.values())];case 1:return u.sent(),[2]}})},c.prototype.entries=function(){return i(this,function(u){switch(u.label){case 0:return[5,s(this._items.entries())];case 1:return u.sent(),[2]}})},c.prototype[Symbol.iterator]=function(){return i(this,function(u){switch(u.label){case 0:return[5,s(this._items)];case 1:return u.sent(),[2]}})},Object.defineProperty(c.prototype,Symbol.toStringTag,{get:function(){return"FixedSizeSet"},enumerable:!0,configurable:!0}),c}();r.FixedSizeSet=o},function(n,r,a){var i=this&&this.__generator||function(c,u){var l,f,h,p,d={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return p={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function y(m){return function(_){return function(v){if(l)throw new TypeError("Generator is already executing.");for(;d;)try{if(l=1,f&&(h=2&v[0]?f.return:v[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,v[1])).done)return h;switch(f=0,h&&(v=[2&v[0],h.value]),v[0]){case 0:case 1:h=v;break;case 4:return d.label++,{value:v[1],done:!1};case 5:d.label++,f=v[1],v=[0];continue;case 7:v=d.ops.pop(),d.trys.pop();continue;default:if(h=d.trys,!((h=h.length>0&&h[h.length-1])||v[0]!==6&&v[0]!==2)){d=0;continue}if(v[0]===3&&(!h||v[1]>h[0]&&v[1]<h[3])){d.label=v[1];break}if(v[0]===6&&d.label<h[1]){d.label=h[1],h=v;break}if(h&&d.label<h[2]){d.label=h[2],d.ops.push(v);break}h[2]&&d.ops.pop(),d.trys.pop();continue}v=u.call(c,d)}catch(g){v=[6,g],f=0}finally{l=h=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([m,_])}}},s=this&&this.__values||function(c){var u=typeof Symbol=="function"&&Symbol.iterator,l=u&&c[u],f=0;if(l)return l.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&f>=c.length&&(c=void 0),{value:c&&c[f++],done:!c}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function c(u){u===void 0&&(u=1e3),this._items=new Map,this._limit=u}return c.prototype.get=function(u){return this._items.get(u)},c.prototype.set=function(u,l){if(this._items.set(u,l),this._items.size>this._limit){var f=this._items.keys().next();f.done||this._items.delete(f.value)}},c.prototype.delete=function(u){return this._items.delete(u)},c.prototype.has=function(u){return this._items.has(u)},c.prototype.clear=function(){this._items.clear()},Object.defineProperty(c.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),c.prototype.forEach=function(u,l){this._items.forEach(function(f,h){return u.call(l,h,f)})},c.prototype.keys=function(){return i(this,function(u){switch(u.label){case 0:return[5,s(this._items.keys())];case 1:return u.sent(),[2]}})},c.prototype.values=function(){return i(this,function(u){switch(u.label){case 0:return[5,s(this._items.values())];case 1:return u.sent(),[2]}})},c.prototype.entries=function(){return i(this,function(u){switch(u.label){case 0:return[5,s(this._items.entries())];case 1:return u.sent(),[2]}})},c.prototype[Symbol.iterator]=function(){return i(this,function(u){switch(u.label){case 0:return[5,s(this._items)];case 1:return u.sent(),[2]}})},Object.defineProperty(c.prototype,Symbol.toStringTag,{get:function(){return"ObjectCache"},enumerable:!0,configurable:!0}),c}();r.ObjectCache=o},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function s(o){o===void 0&&(o=1e3),this._items=new Map,this._limit=o}return s.prototype.check=function(o,c){if(this._items.get(o)===c)return!0;if(this._items.get(c)===o)return!1;var u=Math.random()<.5;if(u?this._items.set(o,c):this._items.set(c,o),this._items.size>this._limit){var l=this._items.keys().next();l.done||this._items.delete(l.value)}return u},s}();r.CompareCache=i},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function s(o){this._initialized=!1,this._value=void 0,this._initFunc=o}return Object.defineProperty(s.prototype,"value",{get:function(){return this._initialized||(this._value=this._initFunc(),this._initialized=!0),this._value},enumerable:!0,configurable:!0}),s}();r.Lazy=i},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function s(o){this._pointer=0,this._chars=Array.from(o),this._length=this._chars.length}return Object.defineProperty(s.prototype,"eof",{get:function(){return this._pointer>=this._length},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),s.prototype.codePoint=function(){if(this._codePoint===void 0)if(this.eof)this._codePoint=-1;else{var o=this._chars[this._pointer].codePointAt(0);this._codePoint=o!==void 0?o:-1}return this._codePoint},s.prototype.c=function(){return this._c===void 0&&(this._c=this.eof?"":this._chars[this._pointer]),this._c},s.prototype.remaining=function(){return this._remaining===void 0&&(this._remaining=this.eof?"":this._chars.slice(this._pointer+1).join("")),this._remaining},s.prototype.substring=function(){return this._substring===void 0&&(this._substring=this.eof?"":this._chars.slice(this._pointer).join("")),this._substring},Object.defineProperty(s.prototype,"pointer",{get:function(){return this._pointer},set:function(o){o!==this._pointer&&(this._pointer=o,this._codePoint=void 0,this._c=void 0,this._remaining=void 0,this._substring=void 0)},enumerable:!0,configurable:!0}),s}();r.StringWalker=i},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(218);r.MapWriter=i.MapWriter;var s=a(258);r.XMLWriter=s.XMLWriter;var o=a(67);r.ObjectWriter=o.ObjectWriter;var c=a(260);r.JSONWriter=c.JSONWriter;var u=a(261);r.YAMLWriter=u.YAMLWriter},function(n,r,a){a(19),a(219),a(20),a(22),a(23);var i,s=this&&this.__extends||(i=function(l,f){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var d in p)p.hasOwnProperty(d)&&(h[d]=p[d])})(l,f)},function(l,f){function h(){this.constructor=l}i(l,f),l.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(1),c=a(67),u=function(l){function f(h,p){var d=l.call(this,h)||this;return d._writerOptions=o.applyDefaults(p,{format:"map",wellFormed:!1,group:!1,verbose:!1}),d}return s(f,l),f.prototype.serialize=function(h){var p=o.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1,verbose:!1}),d=new c.ObjectWriter(this._builderOptions,p).serialize(h);return this._convertObject(d)},f.prototype._convertObject=function(h){if(o.isArray(h)){for(var p=0;p<h.length;p++)h[p]=this._convertObject(h[p]);return h}if(o.isObject(h)){var d=new Map;for(var y in h)d.set(y,this._convertObject(h[y]));return d}return h},f}(a(50).BaseWriter);r.MapWriter=u},function(n,r,a){var i=a(139),s=a(143);n.exports=i("Map",function(o){return function(){return o(this,arguments.length?arguments[0]:void 0)}},s)},function(n,r,a){var i=a(4),s=a(8),o=a(59),c=a(13),u=a(27),l=a(26),f=a(134),h=a(128),p=a(63),d=a(5),y=a(129),m=d("isConcatSpreadable"),_=y>=51||!s(function(){var x=[];return x[m]=!1,x.concat()[0]!==x}),v=p("concat"),g=function(x){if(!c(x))return!1;var w=x[m];return w!==void 0?!!w:o(x)};i({target:"Array",proto:!0,forced:!_||!v},{concat:function(x){var w,C,S,T,b,O=u(this),D=h(O,0),N=0;for(w=-1,S=arguments.length;w<S;w++)if(g(b=w===-1?O:arguments[w])){if(N+(T=l(b.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(C=0;C<T;C++,N++)C in b&&f(D,N,b[C])}else{if(N>=9007199254740991)throw TypeError("Maximum allowed index exceeded");f(D,N++,b)}return D.length=N,D}})},function(n,r,a){var i=a(8);function s(o,c){return RegExp(o,c)}r.UNSUPPORTED_Y=i(function(){var o=s("a","y");return o.lastIndex=2,o.exec("abcd")!=null}),r.BROKEN_CARET=i(function(){var o=s("^r","gy");return o.lastIndex=2,o.exec("str")!=null})},function(n,r,a){var i=a(223);n.exports=function(s){if(i(s))throw TypeError("The method doesn't accept regular expressions");return s}},function(n,r,a){var i=a(13),s=a(42),o=a(5)("match");n.exports=function(c){var u;return i(c)&&((u=c[o])!==void 0?!!u:s(c)=="RegExp")}},function(n,r,a){var i=a(5)("match");n.exports=function(s){var o=/./;try{"/./"[s](o)}catch{try{return o[i]=!1,"/./"[s](o)}catch{}}return!1}},function(n,r,a){a(68);var i=a(25),s=a(8),o=a(5),c=a(93),u=a(21),l=o("species"),f=!s(function(){var m=/./;return m.exec=function(){var _=[];return _.groups={a:"7"},_},"".replace(m,"$<a>")!=="7"}),h="a".replace(/./,"$0")==="$0",p=o("replace"),d=!!/./[p]&&/./[p]("a","$0")==="",y=!s(function(){var m=/(?:)/,_=m.exec;m.exec=function(){return _.apply(this,arguments)};var v="ab".split(m);return v.length!==2||v[0]!=="a"||v[1]!=="b"});n.exports=function(m,_,v,g){var x=o(m),w=!s(function(){var D={};return D[x]=function(){return 7},""[m](D)!=7}),C=w&&!s(function(){var D=!1,N=/a/;return m==="split"&&((N={}).constructor={},N.constructor[l]=function(){return N},N.flags="",N[x]=/./[x]),N.exec=function(){return D=!0,null},N[x](""),!D});if(!w||!C||m==="replace"&&(!f||!h||d)||m==="split"&&!y){var S=/./[x],T=v(x,""[m],function(D,N,R,E,A){return N.exec===c?w&&!A?{done:!0,value:S.call(N,R,E)}:{done:!0,value:D.call(R,N,E)}:{done:!1}},{REPLACE_KEEPS_$0:h,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),b=T[0],O=T[1];i(String.prototype,m,b),i(RegExp.prototype,x,_==2?function(D,N){return O.call(D,this,N)}:function(D){return O.call(D,this)})}g&&u(RegExp.prototype[x],"sham",!0)}},function(n,r,a){var i=a(137).charAt;n.exports=function(s,o,c){return o+(c?i(s,o).length:1)}},function(n,r,a){var i=a(42),s=a(93);n.exports=function(o,c){var u=o.exec;if(typeof u=="function"){var l=u.call(o,c);if(typeof l!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return l}if(i(o)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return s.call(o,c)}},function(n,r,a){(function(i){Object.defineProperty(r,"__esModule",{value:!0});var s=a(96);r.forgivingBase64Encode=function(o){return i.from(o).toString("base64")},r.forgivingBase64Decode=function(o){return o===""?"":((o=o.replace(s.ASCIIWhiteSpace,"")).length%4==0&&(o.endsWith("==")?o=o.substr(0,o.length-2):o.endsWith("=")&&(o=o.substr(0,o.length-1))),o.length%4==1?null:/[0-9A-Za-z+/]/.test(o)?i.from(o,"base64").toString("utf8"):null)}}).call(this,a(145).Buffer)},function(n,r,a){r.byteLength=function(p){var d=f(p),y=d[0],m=d[1];return 3*(y+m)/4-m},r.toByteArray=function(p){var d,y,m=f(p),_=m[0],v=m[1],g=new o(function(C,S,T){return 3*(S+T)/4-T}(0,_,v)),x=0,w=v>0?_-4:_;for(y=0;y<w;y+=4)d=s[p.charCodeAt(y)]<<18|s[p.charCodeAt(y+1)]<<12|s[p.charCodeAt(y+2)]<<6|s[p.charCodeAt(y+3)],g[x++]=d>>16&255,g[x++]=d>>8&255,g[x++]=255&d;return v===2&&(d=s[p.charCodeAt(y)]<<2|s[p.charCodeAt(y+1)]>>4,g[x++]=255&d),v===1&&(d=s[p.charCodeAt(y)]<<10|s[p.charCodeAt(y+1)]<<4|s[p.charCodeAt(y+2)]>>2,g[x++]=d>>8&255,g[x++]=255&d),g},r.fromByteArray=function(p){for(var d,y=p.length,m=y%3,_=[],v=0,g=y-m;v<g;v+=16383)_.push(h(p,v,v+16383>g?g:v+16383));return m===1?(d=p[y-1],_.push(i[d>>2]+i[d<<4&63]+"==")):m===2&&(d=(p[y-2]<<8)+p[y-1],_.push(i[d>>10]+i[d>>4&63]+i[d<<2&63]+"=")),_.join("")};for(var i=[],s=[],o=typeof Uint8Array!="undefined"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,l=c.length;u<l;++u)i[u]=c[u],s[c.charCodeAt(u)]=u;function f(p){var d=p.length;if(d%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=p.indexOf("=");return y===-1&&(y=d),[y,y===d?0:4-y%4]}function h(p,d,y){for(var m,_,v=[],g=d;g<y;g+=3)m=(p[g]<<16&16711680)+(p[g+1]<<8&65280)+(255&p[g+2]),v.push(i[(_=m)>>18&63]+i[_>>12&63]+i[_>>6&63]+i[63&_]);return v.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(n,r){r.read=function(a,i,s,o,c){var u,l,f=8*c-o-1,h=(1<<f)-1,p=h>>1,d=-7,y=s?c-1:0,m=s?-1:1,_=a[i+y];for(y+=m,u=_&(1<<-d)-1,_>>=-d,d+=f;d>0;u=256*u+a[i+y],y+=m,d-=8);for(l=u&(1<<-d)-1,u>>=-d,d+=o;d>0;l=256*l+a[i+y],y+=m,d-=8);if(u===0)u=1-p;else{if(u===h)return l?NaN:1/0*(_?-1:1);l+=Math.pow(2,o),u-=p}return(_?-1:1)*l*Math.pow(2,u-o)},r.write=function(a,i,s,o,c,u){var l,f,h,p=8*u-c-1,d=(1<<p)-1,y=d>>1,m=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=o?0:u-1,v=o?1:-1,g=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(f=isNaN(i)?1:0,l=d):(l=Math.floor(Math.log(i)/Math.LN2),i*(h=Math.pow(2,-l))<1&&(l--,h*=2),(i+=l+y>=1?m/h:m*Math.pow(2,1-y))*h>=2&&(l++,h/=2),l+y>=d?(f=0,l=d):l+y>=1?(f=(i*h-1)*Math.pow(2,c),l+=y):(f=i*Math.pow(2,y-1)*Math.pow(2,c),l=0));c>=8;a[s+_]=255&f,_+=v,f/=256,c-=8);for(l=l<<c|f,p+=c;p>0;a[s+_]=255&l,_+=v,l/=256,p-=8);a[s+_-v]|=128*g}},function(n,r){var a={}.toString;n.exports=Array.isArray||function(i){return a.call(i)=="[object Array]"}},function(n,r,a){var i=this&&this.__values||function(c){var u=typeof Symbol=="function"&&Symbol.iterator,l=u&&c[u],f=0;if(l)return l.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&f>=c.length&&(c=void 0),{value:c&&c[f++],done:!c}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(1);function o(c){var u,l;if(c===null||s.isString(c)||s.isNumber(c))return c;if(s.isArray(c)){var f=new Array;try{for(var h=i(c),p=h.next();!p.done;p=h.next()){var d=p.value;f.push(o(d))}}catch(_){u={error:_}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(u)throw u.error}}return f}if(s.isObject(c)){f=new Map;for(var y in c)if(c.hasOwnProperty(y)){var m=c[y];f.set(y,o(m))}return f}return c}r.parseJSONFromBytes=function(c){var u=s.utf8Decode(c);return JSON.parse.call(void 0,u)},r.serializeJSONToBytes=function(c){var u=JSON.stringify.call(void 0,c);return s.utf8Encode(u)},r.parseJSONIntoInfraValues=function(c){return o(JSON.parse.call(void 0,c))},r.convertAJSONDerivedJavaScriptValueToAnInfraValue=o},function(n,r,a){var i=this&&this.__generator||function(l,f){var h,p,d,y,m={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return y={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function _(v){return function(g){return function(x){if(h)throw new TypeError("Generator is already executing.");for(;m;)try{if(h=1,p&&(d=2&x[0]?p.return:x[0]?p.throw||((d=p.return)&&d.call(p),0):p.next)&&!(d=d.call(p,x[1])).done)return d;switch(p=0,d&&(x=[2&x[0],d.value]),x[0]){case 0:case 1:d=x;break;case 4:return m.label++,{value:x[1],done:!1};case 5:m.label++,p=x[1],x=[0];continue;case 7:x=m.ops.pop(),m.trys.pop();continue;default:if(d=m.trys,!((d=d.length>0&&d[d.length-1])||x[0]!==6&&x[0]!==2)){m=0;continue}if(x[0]===3&&(!d||x[1]>d[0]&&x[1]<d[3])){m.label=x[1];break}if(x[0]===6&&m.label<d[1]){m.label=d[1],d=x;break}if(d&&m.label<d[2]){m.label=d[2],m.ops.push(x);break}d[2]&&m.ops.pop(),m.trys.pop();continue}x=f.call(l,m)}catch(w){x=[6,w],p=0}finally{h=d=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([v,g])}}},s=this&&this.__read||function(l,f){var h=typeof Symbol=="function"&&l[Symbol.iterator];if(!h)return l;var p,d,y=h.call(l),m=[];try{for(;(f===void 0||f-- >0)&&!(p=y.next()).done;)m.push(p.value)}catch(_){d={error:_}}finally{try{p&&!p.done&&(h=y.return)&&h.call(y)}finally{if(d)throw d.error}}return m},o=this&&this.__spread||function(){for(var l=[],f=0;f<arguments.length;f++)l=l.concat(s(arguments[f]));return l},c=this&&this.__values||function(l){var f=typeof Symbol=="function"&&Symbol.iterator,h=f&&l[f],p=0;if(h)return h.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&p>=l.length&&(l=void 0),{value:l&&l[p++],done:!l}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=a(1);r.append=function(l,f){l.push(f)},r.extend=function(l,f){l.push.apply(l,o(f))},r.prepend=function(l,f){l.unshift(f)},r.replace=function(l,f,h){var p,d,y=0;try{for(var m=c(l),_=m.next();!_.done;_=m.next()){var v=_.value;if(u.isFunction(f))f.call(null,v)&&(l[y]=h);else if(v===f)return void(l[y]=h);y++}}catch(g){p={error:g}}finally{try{_&&!_.done&&(d=m.return)&&d.call(m)}finally{if(p)throw p.error}}},r.insert=function(l,f,h){l.splice(h,0,f)},r.remove=function(l,f){for(var h=l.length;h--;){var p=l[h];if(u.isFunction(f))f.call(null,p)&&l.splice(h,1);else if(p===f)return void l.splice(h,1)}},r.empty=function(l){l.length=0},r.contains=function(l,f){var h,p;try{for(var d=c(l),y=d.next();!y.done;y=d.next()){var m=y.value;if(u.isFunction(f)){if(f.call(null,m))return!0}else if(m===f)return!0}}catch(_){h={error:_}}finally{try{y&&!y.done&&(p=d.return)&&p.call(d)}finally{if(h)throw h.error}}return!1},r.size=function(l,f){var h,p;if(f===void 0)return l.length;var d=0;try{for(var y=c(l),m=y.next();!m.done;m=y.next()){var _=m.value;f.call(null,_)&&d++}}catch(v){h={error:v}}finally{try{m&&!m.done&&(p=y.return)&&p.call(y)}finally{if(h)throw h.error}}return d},r.isEmpty=function(l){return l.length===0},r.forEach=function(l,f){var h,p,d,y,m,_;return i(this,function(v){switch(v.label){case 0:return f!==void 0?[3,2]:[5,c(l)];case 1:return v.sent(),[3,9];case 2:v.trys.push([2,7,8,9]),h=c(l),p=h.next(),v.label=3;case 3:return p.done?[3,6]:(d=p.value,f.call(null,d)?[4,d]:[3,5]);case 4:v.sent(),v.label=5;case 5:return p=h.next(),[3,3];case 6:return[3,9];case 7:return y=v.sent(),m={error:y},[3,9];case 8:try{p&&!p.done&&(_=h.return)&&_.call(h)}finally{if(m)throw m.error}return[7];case 9:return[2]}})},r.clone=function(l){return new(Array.bind.apply(Array,o([void 0],l)))},r.sortInAscendingOrder=function(l,f){return l.sort(function(h,p){return f.call(null,h,p)?-1:1})},r.sortInDescendingOrder=function(l,f){return l.sort(function(h,p){return f.call(null,h,p)?1:-1})}},function(n,r,a){var i=this&&this.__generator||function(l,f){var h,p,d,y,m={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return y={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function _(v){return function(g){return function(x){if(h)throw new TypeError("Generator is already executing.");for(;m;)try{if(h=1,p&&(d=2&x[0]?p.return:x[0]?p.throw||((d=p.return)&&d.call(p),0):p.next)&&!(d=d.call(p,x[1])).done)return d;switch(p=0,d&&(x=[2&x[0],d.value]),x[0]){case 0:case 1:d=x;break;case 4:return m.label++,{value:x[1],done:!1};case 5:m.label++,p=x[1],x=[0];continue;case 7:x=m.ops.pop(),m.trys.pop();continue;default:if(d=m.trys,!((d=d.length>0&&d[d.length-1])||x[0]!==6&&x[0]!==2)){m=0;continue}if(x[0]===3&&(!d||x[1]>d[0]&&x[1]<d[3])){m.label=x[1];break}if(x[0]===6&&m.label<d[1]){m.label=d[1],d=x;break}if(d&&m.label<d[2]){m.label=d[2],m.ops.push(x);break}d[2]&&m.ops.pop(),m.trys.pop();continue}x=f.call(l,m)}catch(w){x=[6,w],p=0}finally{h=d=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([v,g])}}},s=this&&this.__values||function(l){var f=typeof Symbol=="function"&&Symbol.iterator,h=f&&l[f],p=0;if(h)return h.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&p>=l.length&&(l=void 0),{value:l&&l[p++],done:!l}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(l,f){var h=typeof Symbol=="function"&&l[Symbol.iterator];if(!h)return l;var p,d,y=h.call(l),m=[];try{for(;(f===void 0||f-- >0)&&!(p=y.next()).done;)m.push(p.value)}catch(_){d={error:_}}finally{try{p&&!p.done&&(h=y.return)&&h.call(y)}finally{if(d)throw d.error}}return m},c=this&&this.__spread||function(){for(var l=[],f=0;f<arguments.length;f++)l=l.concat(o(arguments[f]));return l};Object.defineProperty(r,"__esModule",{value:!0});var u=a(1);r.get=function(l,f){return l.get(f)},r.set=function(l,f,h){l.set(f,h)},r.remove=function(l,f){var h,p,d,y;if(u.isFunction(f)){var m=[];try{for(var _=s(l),v=_.next();!v.done;v=_.next()){var g=v.value;f.call(null,g)&&m.push(g[0])}}catch(S){h={error:S}}finally{try{v&&!v.done&&(p=_.return)&&p.call(_)}finally{if(h)throw h.error}}try{for(var x=s(m),w=x.next();!w.done;w=x.next()){var C=w.value;l.delete(C)}}catch(S){d={error:S}}finally{try{w&&!w.done&&(y=x.return)&&y.call(x)}finally{if(d)throw d.error}}}else l.delete(f)},r.contains=function(l,f){var h,p;if(u.isFunction(f)){try{for(var d=s(l),y=d.next();!y.done;y=d.next()){var m=y.value;if(f.call(null,m))return!0}}catch(_){h={error:_}}finally{try{y&&!y.done&&(p=d.return)&&p.call(d)}finally{if(h)throw h.error}}return!1}return l.has(f)},r.keys=function(l){return new Set(l.keys())},r.values=function(l){return c(l.values())},r.size=function(l,f){var h,p;if(f===void 0)return l.size;var d=0;try{for(var y=s(l),m=y.next();!m.done;m=y.next()){var _=m.value;f.call(null,_)&&d++}}catch(v){h={error:v}}finally{try{m&&!m.done&&(p=y.return)&&p.call(y)}finally{if(h)throw h.error}}return d},r.isEmpty=function(l){return l.size===0},r.forEach=function(l,f){var h,p,d,y,m,_;return i(this,function(v){switch(v.label){case 0:return f!==void 0?[3,2]:[5,s(l)];case 1:return v.sent(),[3,9];case 2:v.trys.push([2,7,8,9]),h=s(l),p=h.next(),v.label=3;case 3:return p.done?[3,6]:(d=p.value,f.call(null,d)?[4,d]:[3,5]);case 4:v.sent(),v.label=5;case 5:return p=h.next(),[3,3];case 6:return[3,9];case 7:return y=v.sent(),m={error:y},[3,9];case 8:try{p&&!p.done&&(_=h.return)&&_.call(h)}finally{if(m)throw m.error}return[7];case 9:return[2]}})},r.clone=function(l){return new Map(l)},r.sortInAscendingOrder=function(l,f){var h=new(Array.bind.apply(Array,c([void 0],l)));return h.sort(function(p,d){return f.call(null,p,d)?-1:1}),new Map(h)},r.sortInDescendingOrder=function(l,f){var h=new(Array.bind.apply(Array,c([void 0],l)));return h.sort(function(p,d){return f.call(null,p,d)?1:-1}),new Map(h)}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.HTML="http://www.w3.org/1999/xhtml",r.XML="http://www.w3.org/XML/1998/namespace",r.XMLNS="http://www.w3.org/2000/xmlns/",r.MathML="http://www.w3.org/1998/Math/MathML",r.SVG="http://www.w3.org/2000/svg",r.XLink="http://www.w3.org/1999/xlink"},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.enqueue=function(i,s){i.push(s)},r.dequeue=function(i){return i.shift()||null}},function(n,r,a){var i=this&&this.__generator||function(f,h){var p,d,y,m,_={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(g){return function(x){return function(w){if(p)throw new TypeError("Generator is already executing.");for(;_;)try{if(p=1,d&&(y=2&w[0]?d.return:w[0]?d.throw||((y=d.return)&&y.call(d),0):d.next)&&!(y=y.call(d,w[1])).done)return y;switch(d=0,y&&(w=[2&w[0],y.value]),w[0]){case 0:case 1:y=w;break;case 4:return _.label++,{value:w[1],done:!1};case 5:_.label++,d=w[1],w=[0];continue;case 7:w=_.ops.pop(),_.trys.pop();continue;default:if(y=_.trys,!((y=y.length>0&&y[y.length-1])||w[0]!==6&&w[0]!==2)){_=0;continue}if(w[0]===3&&(!y||w[1]>y[0]&&w[1]<y[3])){_.label=w[1];break}if(w[0]===6&&_.label<y[1]){_.label=y[1],y=w;break}if(y&&_.label<y[2]){_.label=y[2],_.ops.push(w);break}y[2]&&_.ops.pop(),_.trys.pop();continue}w=h.call(f,_)}catch(C){w=[6,C],d=0}finally{p=y=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([g,x])}}},s=this&&this.__values||function(f){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&f[h],d=0;if(p)return p.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&d>=f.length&&(f=void 0),{value:f&&f[d++],done:!f}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(f,h){var p=typeof Symbol=="function"&&f[Symbol.iterator];if(!p)return f;var d,y,m=p.call(f),_=[];try{for(;(h===void 0||h-- >0)&&!(d=m.next()).done;)_.push(d.value)}catch(v){y={error:v}}finally{try{d&&!d.done&&(p=m.return)&&p.call(m)}finally{if(y)throw y.error}}return _},c=this&&this.__spread||function(){for(var f=[],h=0;h<arguments.length;h++)f=f.concat(o(arguments[h]));return f};Object.defineProperty(r,"__esModule",{value:!0});var u=a(1);function l(f,h){var p,d;try{for(var y=s(f),m=y.next();!m.done;m=y.next()){var _=m.value;if(!h.has(_))return!1}}catch(v){p={error:v}}finally{try{m&&!m.done&&(d=y.return)&&d.call(y)}finally{if(p)throw p.error}}return!0}r.append=function(f,h){f.add(h)},r.extend=function(f,h){h.forEach(f.add,f)},r.prepend=function(f,h){var p=new Set(f);f.clear(),f.add(h),p.forEach(f.add,f)},r.replace=function(f,h,p){var d,y,m=new Set;try{for(var _=s(f),v=_.next();!v.done;v=_.next()){var g=v.value;u.isFunction(h)?h.call(null,g)?m.add(p):m.add(g):g===h?m.add(p):m.add(g)}}catch(x){d={error:x}}finally{try{v&&!v.done&&(y=_.return)&&y.call(_)}finally{if(d)throw d.error}}f.clear(),m.forEach(f.add,f)},r.insert=function(f,h,p){var d,y,m=new Set,_=0;try{for(var v=s(f),g=v.next();!g.done;g=v.next()){var x=g.value;_===p&&m.add(h),m.add(x),_++}}catch(w){d={error:w}}finally{try{g&&!g.done&&(y=v.return)&&y.call(v)}finally{if(d)throw d.error}}f.clear(),m.forEach(f.add,f)},r.remove=function(f,h){var p,d,y,m;if(u.isFunction(h)){var _=[];try{for(var v=s(f),g=v.next();!g.done;g=v.next()){var x=g.value;h.call(null,x)&&_.push(x)}}catch(T){p={error:T}}finally{try{g&&!g.done&&(d=v.return)&&d.call(v)}finally{if(p)throw p.error}}try{for(var w=s(_),C=w.next();!C.done;C=w.next()){var S=C.value;f.delete(S)}}catch(T){y={error:T}}finally{try{C&&!C.done&&(m=w.return)&&m.call(w)}finally{if(y)throw y.error}}}else f.delete(h)},r.empty=function(f){f.clear()},r.contains=function(f,h){var p,d;if(!u.isFunction(h))return f.has(h);try{for(var y=s(f),m=y.next();!m.done;m=y.next()){var _=m.value;if(h.call(null,_))return!0}}catch(v){p={error:v}}finally{try{m&&!m.done&&(d=y.return)&&d.call(y)}finally{if(p)throw p.error}}return!1},r.size=function(f,h){var p,d;if(h===void 0)return f.size;var y=0;try{for(var m=s(f),_=m.next();!_.done;_=m.next()){var v=_.value;h.call(null,v)&&y++}}catch(g){p={error:g}}finally{try{_&&!_.done&&(d=m.return)&&d.call(m)}finally{if(p)throw p.error}}return y},r.isEmpty=function(f){return f.size===0},r.forEach=function(f,h){var p,d,y,m,_,v;return i(this,function(g){switch(g.label){case 0:return h!==void 0?[3,2]:[5,s(f)];case 1:return g.sent(),[3,9];case 2:g.trys.push([2,7,8,9]),p=s(f),d=p.next(),g.label=3;case 3:return d.done?[3,6]:(y=d.value,h.call(null,y)?[4,y]:[3,5]);case 4:g.sent(),g.label=5;case 5:return d=p.next(),[3,3];case 6:return[3,9];case 7:return m=g.sent(),_={error:m},[3,9];case 8:try{d&&!d.done&&(v=p.return)&&v.call(p)}finally{if(_)throw _.error}return[7];case 9:return[2]}})},r.clone=function(f){return new Set(f)},r.sortInAscendingOrder=function(f,h){var p=new(Array.bind.apply(Array,c([void 0],f)));return p.sort(function(d,y){return h.call(null,d,y)?-1:1}),new Set(p)},r.sortInDescendingOrder=function(f,h){var p=new(Array.bind.apply(Array,c([void 0],f)));return p.sort(function(d,y){return h.call(null,d,y)?1:-1}),new Set(p)},r.isSubsetOf=l,r.isSupersetOf=function(f,h){return l(h,f)},r.intersection=function(f,h){var p,d,y=new Set;try{for(var m=s(f),_=m.next();!_.done;_=m.next()){var v=_.value;h.has(v)&&y.add(v)}}catch(g){p={error:g}}finally{try{_&&!_.done&&(d=m.return)&&d.call(m)}finally{if(p)throw p.error}}return y},r.union=function(f,h){var p=new Set(f);return h.forEach(p.add,p),p},r.range=function(f,h){for(var p=new Set,d=f;d<=h;d++)p.add(d);return p}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.push=function(i,s){i.push(s)},r.pop=function(i){return i.pop()||null}},function(n,r,a){var i=this&&this.__values||function(_){var v=typeof Symbol=="function"&&Symbol.iterator,g=v&&_[v],x=0;if(g)return g.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&x>=_.length&&(_=void 0),{value:_&&_[x++],done:!_}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(96),o=a(147),c=a(146),u=a(1);function l(_,v){for(var g=0;;){var x=g<_.length?_.charCodeAt(g):null,w=g<v.length?v.charCodeAt(g):null;if(x===null)return!0;if(x!==w)return!1;g++}}function f(_){var v,g,x=Array.from(_),w=new Uint8Array(x.length),C=0;try{for(var S=i(_),T=S.next();!T.done;T=S.next()){var b=T.value.codePointAt(0);console.assert(b!==void 0&&b<=255,"isomorphicEncode requires string bytes to be less than or equal to 0x00FF."),b!==void 0&&b<=255&&(w[C++]=b)}}catch(O){v={error:O}}finally{try{T&&!T.done&&(g=S.return)&&g.call(S)}finally{if(v)throw v.error}}return w}function h(_){return/^[\u0000-\u007F]*$/.test(_)}function p(_){var v,g,x="";try{for(var w=i(_),C=w.next();!C.done;C=w.next()){var S=C.value,T=S.codePointAt(0);x+=T!==void 0&&T>=65&&T<=90?String.fromCodePoint(T+32):S}}catch(b){v={error:b}}finally{try{C&&!C.done&&(g=w.return)&&g.call(w)}finally{if(v)throw v.error}}return x}function d(_){return _.replace(/^[\t\n\f\r ]+/,"").replace(/[\t\n\f\r ]+$/,"")}function y(_,v,g){if(!u.isArray(v))return y(_,Array.from(v),g);for(var x="";g.position<v.length&&_.call(null,v[g.position]);)x+=v[g.position],g.position++;return x}function m(_,v){y(function(g){return s.ASCIIWhiteSpace.test(g)},_,v)}r.isCodeUnitPrefix=l,r.isCodeUnitLessThan=function(_,v){if(l(v,_))return!1;if(l(_,v))return!0;for(var g=0;g<Math.min(_.length,v.length);g++){var x=_.charCodeAt(g),w=v.charCodeAt(g);if(x!==w)return x<w}return!1},r.isomorphicEncode=f,r.isASCIIString=h,r.asciiLowercase=p,r.asciiUppercase=function(_){var v,g,x="";try{for(var w=i(_),C=w.next();!C.done;C=w.next()){var S=C.value,T=S.codePointAt(0);x+=T!==void 0&&T>=97&&T<=122?String.fromCodePoint(T-32):S}}catch(b){v={error:b}}finally{try{C&&!C.done&&(g=w.return)&&g.call(w)}finally{if(v)throw v.error}}return x},r.asciiCaseInsensitiveMatch=function(_,v){return p(_)===p(v)},r.asciiEncode=function(_){return console.assert(h(_),"asciiEncode requires an ASCII string."),f(_)},r.asciiDecode=function(_){var v,g;try{for(var x=i(_),w=x.next();!w.done;w=x.next()){var C=w.value;console.assert(c.isASCIIByte(C),"asciiDecode requires an ASCII byte sequence.")}}catch(S){v={error:S}}finally{try{w&&!w.done&&(g=x.return)&&g.call(x)}finally{if(v)throw v.error}}return o.isomorphicDecode(_)},r.stripNewlines=function(_){return _.replace(/[\n\r]/g,"")},r.normalizeNewlines=function(_){return _.replace(/\r\n/g,`
`).replace(/\r/g,`
`)},r.stripLeadingAndTrailingASCIIWhitespace=d,r.stripAndCollapseASCIIWhitespace=function(_){return d(_.replace(/[\t\n\f\r ]{2,}/g," "))},r.collectASequenceOfCodePoints=y,r.skipASCIIWhitespace=m,r.strictlySplit=function _(v,g){if(!u.isArray(v))return _(Array.from(v),g);var x={position:0},w=[],C=y(function(S){return g!==S},v,x);for(w.push(C);x.position<v.length;)console.assert(v[x.position]===g,"strictlySplit found no delimiter in input string."),x.position++,C=y(function(S){return g!==S},v,x),w.push(C);return w},r.splitAStringOnASCIIWhitespace=function _(v){if(!u.isArray(v))return _(Array.from(v));var g={position:0},x=[];for(m(v,g);g.position<v.length;){var w=y(function(C){return!s.ASCIIWhiteSpace.test(C)},v,g);x.push(w),m(v,g)}return x},r.splitAStringOnCommas=function _(v){if(!u.isArray(v))return _(Array.from(v));for(var g={position:0},x=[];g.position<v.length;){var w=y(function(C){return C!==","},v,g);x.push(d(w)),g.position<v.length&&(console.assert(v[g.position]===",","splitAStringOnCommas found no delimiter in input string."),g.position++)}return x},r.concatenate=function(_,v){return v===void 0&&(v=""),_.length===0?"":_.join(v)}},function(n,r,a){var i=this&&this.__values||function(o){var c=typeof Symbol=="function"&&Symbol.iterator,u=c&&o[c],l=0;if(u)return u.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&l>=o.length&&(o=void 0),{value:o&&o[l++],done:!o}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(97);r.abort_add=function(o,c){c._abortedFlag||c._abortAlgorithms.add(o)},r.abort_remove=function(o,c){c._abortAlgorithms.delete(o)},r.abort_signalAbort=function(o){var c,u;if(!o._abortedFlag){o._abortedFlag=!0;try{for(var l=i(o._abortAlgorithms),f=l.next();!f.done;f=l.next())f.value.call(o)}catch(h){c={error:h}}finally{try{f&&!f.done&&(u=l.return)&&u.call(l)}finally{if(c)throw c.error}}o._abortAlgorithms.clear(),s.event_fireAnEvent("abort",o)}}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(150),s=function(){function o(){}return o.asNode=function(c){if(i.Guard.isNode(c))return c;throw new Error("Invalid object. Node expected.")},o}();r.Cast=s},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function o(){}return Object.defineProperty(o.prototype,"size",{get:function(){return 0},enumerable:!0,configurable:!0}),o.prototype.add=function(c){throw new Error("Cannot add to an empty set.")},o.prototype.clear=function(){},o.prototype.delete=function(c){return!1},o.prototype.forEach=function(c,u){},o.prototype.has=function(c){return!1},o.prototype[Symbol.iterator]=function(){return new s},o.prototype.entries=function(){return new s},o.prototype.keys=function(){return new s},o.prototype.values=function(){return new s},Object.defineProperty(o.prototype,Symbol.toStringTag,{get:function(){return"EmptySet"},enumerable:!0,configurable:!0}),o}();r.EmptySet=i;var s=function(){function o(){}return o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){return{done:!0,value:null}},o}()},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),function(i){i[i.SchemeStart=0]="SchemeStart",i[i.Scheme=1]="Scheme",i[i.NoScheme=2]="NoScheme",i[i.SpecialRelativeOrAuthority=3]="SpecialRelativeOrAuthority",i[i.PathOrAuthority=4]="PathOrAuthority",i[i.Relative=5]="Relative",i[i.RelativeSlash=6]="RelativeSlash",i[i.SpecialAuthoritySlashes=7]="SpecialAuthoritySlashes",i[i.SpecialAuthorityIgnoreSlashes=8]="SpecialAuthorityIgnoreSlashes",i[i.Authority=9]="Authority",i[i.Host=10]="Host",i[i.Hostname=11]="Hostname",i[i.Port=12]="Port",i[i.File=13]="File",i[i.FileSlash=14]="FileSlash",i[i.FileHost=15]="FileHost",i[i.PathStart=16]="PathStart",i[i.Path=17]="Path",i[i.CannotBeABaseURLPath=18]="CannotBeABaseURLPath",i[i.Query=19]="Query",i[i.Fragment=20]="Fragment"}(r.ParserState||(r.ParserState={})),r.OpaqueOrigin=["","",null,null]},function(n,r,a){var i=a(245),s=a(247);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=w,r.resolve=function(C,S){return w(C,!1,!0).resolve(S)},r.resolveObject=function(C,S){return C?w(C,!1,!0).resolveObject(S):S},r.format=function(C){return s.isString(C)&&(C=w(C)),C instanceof o?C.format():o.prototype.format.call(C)},r.Url=o;var c=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),h=["'"].concat(f),p=["%","/","?",";","#"].concat(h),d=["/","?","#"],y=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=a(248);function w(C,S,T){if(C&&s.isObject(C)&&C instanceof o)return C;var b=new o;return b.parse(C,S,T),b}o.prototype.parse=function(C,S,T){if(!s.isString(C))throw new TypeError("Parameter 'url' must be a string, not "+typeof C);var b=C.indexOf("?"),O=b!==-1&&b<C.indexOf("#")?"?":"#",D=C.split(O);D[0]=D[0].replace(/\\/g,"/");var N=C=D.join(O);if(N=N.trim(),!T&&C.split("#").length===1){var R=l.exec(N);if(R)return this.path=N,this.href=N,this.pathname=R[1],R[2]?(this.search=R[2],this.query=S?x.parse(this.search.substr(1)):this.search.substr(1)):S&&(this.search="",this.query={}),this}var E=c.exec(N);if(E){var A=(E=E[0]).toLowerCase();this.protocol=A,N=N.substr(E.length)}if(T||E||N.match(/^\/\/[^@\/]+@[^@\/]+/)){var W=N.substr(0,2)==="//";!W||E&&v[E]||(N=N.substr(2),this.slashes=!0)}if(!v[E]&&(W||E&&!g[E])){for(var z,F,L=-1,G=0;G<d.length;G++)(H=N.indexOf(d[G]))!==-1&&(L===-1||H<L)&&(L=H);for((F=L===-1?N.lastIndexOf("@"):N.lastIndexOf("@",L))!==-1&&(z=N.slice(0,F),N=N.slice(F+1),this.auth=decodeURIComponent(z)),L=-1,G=0;G<p.length;G++){var H;(H=N.indexOf(p[G]))!==-1&&(L===-1||H<L)&&(L=H)}L===-1&&(L=N.length),this.host=N.slice(0,L),N=N.slice(L),this.parseHost(),this.hostname=this.hostname||"";var $=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!$)for(var J=this.hostname.split(/\./),Q=(G=0,J.length);G<Q;G++){var q=J[G];if(q&&!q.match(y)){for(var ne="",te=0,oe=q.length;te<oe;te++)q.charCodeAt(te)>127?ne+="x":ne+=q[te];if(!ne.match(y)){var re=J.slice(0,G),B=J.slice(G+1),k=q.match(m);k&&(re.push(k[1]),B.unshift(k[2])),B.length&&(N="/"+B.join(".")+N),this.hostname=re.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),$||(this.hostname=i.toASCII(this.hostname));var j=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+j,this.href+=this.host,$&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),N[0]!=="/"&&(N="/"+N))}if(!_[A])for(G=0,Q=h.length;G<Q;G++){var M=h[G];if(N.indexOf(M)!==-1){var P=encodeURIComponent(M);P===M&&(P=escape(M)),N=N.split(M).join(P)}}var U=N.indexOf("#");U!==-1&&(this.hash=N.substr(U),N=N.slice(0,U));var K=N.indexOf("?");if(K!==-1?(this.search=N.substr(K),this.query=N.substr(K+1),S&&(this.query=x.parse(this.query)),N=N.slice(0,K)):S&&(this.search="",this.query={}),N&&(this.pathname=N),g[A]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var X=this.search||"";this.path=j+X}return this.href=this.format(),this},o.prototype.format=function(){var C=this.auth||"";C&&(C=(C=encodeURIComponent(C)).replace(/%3A/i,":"),C+="@");var S=this.protocol||"",T=this.pathname||"",b=this.hash||"",O=!1,D="";this.host?O=C+this.host:this.hostname&&(O=C+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(O+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(D=x.stringify(this.query));var N=this.search||D&&"?"+D||"";return S&&S.substr(-1)!==":"&&(S+=":"),this.slashes||(!S||g[S])&&O!==!1?(O="//"+(O||""),T&&T.charAt(0)!=="/"&&(T="/"+T)):O||(O=""),b&&b.charAt(0)!=="#"&&(b="#"+b),N&&N.charAt(0)!=="?"&&(N="?"+N),S+O+(T=T.replace(/[?#]/g,function(R){return encodeURIComponent(R)}))+(N=N.replace("#","%23"))+b},o.prototype.resolve=function(C){return this.resolveObject(w(C,!1,!0)).format()},o.prototype.resolveObject=function(C){if(s.isString(C)){var S=new o;S.parse(C,!1,!0),C=S}for(var T=new o,b=Object.keys(this),O=0;O<b.length;O++){var D=b[O];T[D]=this[D]}if(T.hash=C.hash,C.href==="")return T.href=T.format(),T;if(C.slashes&&!C.protocol){for(var N=Object.keys(C),R=0;R<N.length;R++){var E=N[R];E!=="protocol"&&(T[E]=C[E])}return g[T.protocol]&&T.hostname&&!T.pathname&&(T.path=T.pathname="/"),T.href=T.format(),T}if(C.protocol&&C.protocol!==T.protocol){if(!g[C.protocol]){for(var A=Object.keys(C),W=0;W<A.length;W++){var z=A[W];T[z]=C[z]}return T.href=T.format(),T}if(T.protocol=C.protocol,C.host||v[C.protocol])T.pathname=C.pathname;else{for(var F=(C.pathname||"").split("/");F.length&&!(C.host=F.shift()););C.host||(C.host=""),C.hostname||(C.hostname=""),F[0]!==""&&F.unshift(""),F.length<2&&F.unshift(""),T.pathname=F.join("/")}if(T.search=C.search,T.query=C.query,T.host=C.host||"",T.auth=C.auth,T.hostname=C.hostname||C.host,T.port=C.port,T.pathname||T.search){var L=T.pathname||"",G=T.search||"";T.path=L+G}return T.slashes=T.slashes||C.slashes,T.href=T.format(),T}var H=T.pathname&&T.pathname.charAt(0)==="/",$=C.host||C.pathname&&C.pathname.charAt(0)==="/",J=$||H||T.host&&C.pathname,Q=J,q=T.pathname&&T.pathname.split("/")||[],ne=(F=C.pathname&&C.pathname.split("/")||[],T.protocol&&!g[T.protocol]);if(ne&&(T.hostname="",T.port=null,T.host&&(q[0]===""?q[0]=T.host:q.unshift(T.host)),T.host="",C.protocol&&(C.hostname=null,C.port=null,C.host&&(F[0]===""?F[0]=C.host:F.unshift(C.host)),C.host=null),J=J&&(F[0]===""||q[0]==="")),$)T.host=C.host||C.host===""?C.host:T.host,T.hostname=C.hostname||C.hostname===""?C.hostname:T.hostname,T.search=C.search,T.query=C.query,q=F;else if(F.length)q||(q=[]),q.pop(),q=q.concat(F),T.search=C.search,T.query=C.query;else if(!s.isNullOrUndefined(C.search))return ne&&(T.hostname=T.host=q.shift(),(k=!!(T.host&&T.host.indexOf("@")>0)&&T.host.split("@"))&&(T.auth=k.shift(),T.host=T.hostname=k.shift())),T.search=C.search,T.query=C.query,s.isNull(T.pathname)&&s.isNull(T.search)||(T.path=(T.pathname?T.pathname:"")+(T.search?T.search:"")),T.href=T.format(),T;if(!q.length)return T.pathname=null,T.search?T.path="/"+T.search:T.path=null,T.href=T.format(),T;for(var te=q.slice(-1)[0],oe=(T.host||C.host||q.length>1)&&(te==="."||te==="..")||te==="",re=0,B=q.length;B>=0;B--)(te=q[B])==="."?q.splice(B,1):te===".."?(q.splice(B,1),re++):re&&(q.splice(B,1),re--);if(!J&&!Q)for(;re--;re)q.unshift("..");!J||q[0]===""||q[0]&&q[0].charAt(0)==="/"||q.unshift(""),oe&&q.join("/").substr(-1)!=="/"&&q.push("");var k,j=q[0]===""||q[0]&&q[0].charAt(0)==="/";return ne&&(T.hostname=T.host=j?"":q.length?q.shift():"",(k=!!(T.host&&T.host.indexOf("@")>0)&&T.host.split("@"))&&(T.auth=k.shift(),T.host=T.hostname=k.shift())),(J=J||T.host&&q.length)&&!j&&q.unshift(""),q.length?T.pathname=q.join("/"):(T.pathname=null,T.path=null),s.isNull(T.pathname)&&s.isNull(T.search)||(T.path=(T.pathname?T.pathname:"")+(T.search?T.search:"")),T.auth=C.auth||T.auth,T.slashes=T.slashes||C.slashes,T.href=T.format(),T},o.prototype.parseHost=function(){var C=this.host,S=u.exec(C);S&&((S=S[0])!==":"&&(this.port=S.substr(1)),C=C.substr(0,C.length-S.length)),C&&(this.hostname=C)}},function(n,r,a){(function(i,s){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(c){r&&r.nodeType,i&&i.nodeType;var u=typeof s=="object"&&s;u.global!==u&&u.window!==u&&u.self;var l,f=2147483647,h=/^xn--/,p=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,_=String.fromCharCode;function v(D){throw new RangeError(y[D])}function g(D,N){for(var R=D.length,E=[];R--;)E[R]=N(D[R]);return E}function x(D,N){var R=D.split("@"),E="";return R.length>1&&(E=R[0]+"@",D=R[1]),E+g((D=D.replace(d,".")).split("."),N).join(".")}function w(D){for(var N,R,E=[],A=0,W=D.length;A<W;)(N=D.charCodeAt(A++))>=55296&&N<=56319&&A<W?(64512&(R=D.charCodeAt(A++)))==56320?E.push(((1023&N)<<10)+(1023&R)+65536):(E.push(N),A--):E.push(N);return E}function C(D){return g(D,function(N){var R="";return N>65535&&(R+=_((N-=65536)>>>10&1023|55296),N=56320|1023&N),R+=_(N)}).join("")}function S(D,N){return D+22+75*(D<26)-((N!=0)<<5)}function T(D,N,R){var E=0;for(D=R?m(D/700):D>>1,D+=m(D/N);D>455;E+=36)D=m(D/35);return m(E+36*D/(D+38))}function b(D){var N,R,E,A,W,z,F,L,G,H,$,J=[],Q=D.length,q=0,ne=128,te=72;for((R=D.lastIndexOf("-"))<0&&(R=0),E=0;E<R;++E)D.charCodeAt(E)>=128&&v("not-basic"),J.push(D.charCodeAt(E));for(A=R>0?R+1:0;A<Q;){for(W=q,z=1,F=36;A>=Q&&v("invalid-input"),((L=($=D.charCodeAt(A++))-48<10?$-22:$-65<26?$-65:$-97<26?$-97:36)>=36||L>m((f-q)/z))&&v("overflow"),q+=L*z,!(L<(G=F<=te?1:F>=te+26?26:F-te));F+=36)z>m(f/(H=36-G))&&v("overflow"),z*=H;te=T(q-W,N=J.length+1,W==0),m(q/N)>f-ne&&v("overflow"),ne+=m(q/N),q%=N,J.splice(q++,0,ne)}return C(J)}function O(D){var N,R,E,A,W,z,F,L,G,H,$,J,Q,q,ne,te=[];for(J=(D=w(D)).length,N=128,R=0,W=72,z=0;z<J;++z)($=D[z])<128&&te.push(_($));for(E=A=te.length,A&&te.push("-");E<J;){for(F=f,z=0;z<J;++z)($=D[z])>=N&&$<F&&(F=$);for(F-N>m((f-R)/(Q=E+1))&&v("overflow"),R+=(F-N)*Q,N=F,z=0;z<J;++z)if(($=D[z])<N&&++R>f&&v("overflow"),$==N){for(L=R,G=36;!(L<(H=G<=W?1:G>=W+26?26:G-W));G+=36)ne=L-H,q=36-H,te.push(_(S(H+ne%q,0))),L=m(ne/q);te.push(_(S(L,0))),W=T(R,Q,E==A),R=0,++E}++R,++N}return te.join("")}l={version:"1.4.1",ucs2:{decode:w,encode:C},decode:b,encode:O,toASCII:function(D){return x(D,function(N){return p.test(N)?"xn--"+O(N):N})},toUnicode:function(D){return x(D,function(N){return h.test(N)?b(N.slice(4).toLowerCase()):N})}},(o=function(){return l}.call(r,a,r,i))===void 0||(i.exports=o)})()}).call(this,a(246)(n),a(78))},function(n,r){n.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},function(n,r,a){n.exports={isString:function(i){return typeof i=="string"},isObject:function(i){return typeof i=="object"&&i!==null},isNull:function(i){return i===null},isNullOrUndefined:function(i){return i==null}}},function(n,r,a){r.decode=r.parse=a(249),r.encode=r.stringify=a(250)},function(n,r,a){function i(o,c){return Object.prototype.hasOwnProperty.call(o,c)}n.exports=function(o,c,u,l){c=c||"&",u=u||"=";var f={};if(typeof o!="string"||o.length===0)return f;var h=/\+/g;o=o.split(c);var p=1e3;l&&typeof l.maxKeys=="number"&&(p=l.maxKeys);var d=o.length;p>0&&d>p&&(d=p);for(var y=0;y<d;++y){var m,_,v,g,x=o[y].replace(h,"%20"),w=x.indexOf(u);w>=0?(m=x.substr(0,w),_=x.substr(w+1)):(m=x,_=""),v=decodeURIComponent(m),g=decodeURIComponent(_),i(f,v)?s(f[v])?f[v].push(g):f[v]=[f[v],g]:f[v]=g}return f};var s=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"}},function(n,r,a){var i=function(u){switch(typeof u){case"string":return u;case"boolean":return u?"true":"false";case"number":return isFinite(u)?u:"";default:return""}};n.exports=function(u,l,f,h){return l=l||"&",f=f||"=",u===null&&(u=void 0),typeof u=="object"?o(c(u),function(p){var d=encodeURIComponent(i(p))+f;return s(u[p])?o(u[p],function(y){return d+encodeURIComponent(i(y))}).join(l):d+encodeURIComponent(i(u[p]))}).join(l):h?encodeURIComponent(i(h))+f+encodeURIComponent(i(u)):""};var s=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function o(u,l){if(u.map)return u.map(l);for(var f=[],h=0;h<u.length;h++)f.push(l(u[h],h));return f}var c=Object.keys||function(u){var l=[];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&l.push(f);return l}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(52);r.attr_setAnExistingAttributeValue=function(s,o){s._element===null?s._value=o:i.element_change(s,s._element,o)}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(108),s=a(30),o=a(52);r.tokenList_validationSteps=function(c,u){if(!s.dom_hasSupportedTokens(c._attribute._localName))throw new TypeError("There are no supported tokens defined for attribute name: '"+c._attribute._localName+"'.");return s.dom_getSupportedTokens(c._attribute._localName).has(u.toLowerCase())},r.tokenList_updateSteps=function(c){(c._element.hasAttribute(c._attribute._localName)||c._tokenSet.size!==0)&&o.element_setAnAttributeValue(c._element,c._attribute._localName,i.orderedSet_serialize(c._tokenSet))},r.tokenList_serializeSteps=function(c){return o.element_getAnAttributeValue(c._element,c._attribute._localName)}},function(n,r,a){var i=this&&this.__values||function(c){var u=typeof Symbol=="function"&&Symbol.iterator,l=u&&c[u],f=0;if(l)return l.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&f>=c.length&&(c=void 0),{value:c&&c[f++],done:!c}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(1);function o(c){return s.isBoolean(c)?c:c.capture||!1}r.eventTarget_flatten=o,r.eventTarget_flattenMore=function(c){var u=o(c),l=!1,f=!1;return s.isBoolean(c)||(l=c.once||!1,f=c.passive||!1),[u,f,l]},r.eventTarget_addEventListener=function(c,u){if(u.callback!==null){for(var l=0;l<c._eventListenerList.length;l++){var f=c._eventListenerList[l];if(f.type===u.type&&f.callback.handleEvent===u.callback.handleEvent&&f.capture===u.capture)return}c._eventListenerList.push(u)}},r.eventTarget_removeEventListener=function(c,u,l){u.removed=!0,c._eventListenerList.splice(l,1)},r.eventTarget_removeAllEventListeners=function(c){var u,l;try{for(var f=i(c._eventListenerList),h=f.next();!h.done;h=f.next())h.value.removed=!0}catch(p){u={error:p}}finally{try{h&&!h.done&&(l=f.return)&&l.call(f)}finally{if(u)throw u.error}}c._eventListenerList.length=0}},function(n,r,a){var i=this&&this.__values||function(c){var u=typeof Symbol=="function"&&Symbol.iterator,l=u&&c[u],f=0;if(l)return l.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&f>=c.length&&(c=void 0),{value:c&&c[f++],done:!c}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(1),o=a(29);r.parentNode_convertNodesIntoANode=function(c,u){for(var l,f,h=null,p=0;p<c.length;p++){var d=c[p];if(s.isString(d)){var y=o.create_text(u,d);c[p]=y}}if(c.length===1)h=c[0];else{var m=h=o.create_documentFragment(u);try{for(var _=i(c),v=_.next();!v.done;v=_.next())d=v.value,m.appendChild(d)}catch(g){l={error:g}}finally{try{v&&!v.done&&(f=_.return)&&f.call(_)}finally{if(l)throw l.error}}}return h}},function(n,r,a){var i=this&&this.__values||function(S){var T=typeof Symbol=="function"&&Symbol.iterator,b=T&&S[T],O=0;if(b)return b.call(S);if(S&&typeof S.length=="number")return{next:function(){return S&&O>=S.length&&(S=void 0),{value:S&&S[O++],done:!S}}};throw new TypeError(T?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(S,T){var b=typeof Symbol=="function"&&S[Symbol.iterator];if(!b)return S;var O,D,N=b.call(S),R=[];try{for(;(T===void 0||T-- >0)&&!(O=N.next()).done;)R.push(O.value)}catch(E){D={error:E}}finally{try{O&&!O.done&&(b=N.return)&&b.call(N)}finally{if(D)throw D.error}}return R},o=this&&this.__spread||function(){for(var S=[],T=0;T<arguments.length;T++)S=S.concat(s(arguments[T]));return S};Object.defineProperty(r,"__esModule",{value:!0});var c=a(2),u=a(9),l=a(3),f=a(29),h=a(17),p=a(175),d=a(107),y=a(176),m=a(37),_=a(177);function v(S){return S._startNode===S._endNode&&S._startOffset===S._endOffset}function g(S){return h.tree_rootNode(S._startNode)}function x(S,T){return h.tree_rootNode(S)===g(T)&&p.boundaryPoint_position([S,0],T._start)===c.BoundaryPosition.After&&p.boundaryPoint_position([S,h.tree_nodeLength(S)],T._end)===c.BoundaryPosition.Before}function w(S,T){var b=h.tree_isAncestorOf(T._startNode,S,!0),O=h.tree_isAncestorOf(T._endNode,S,!0);return b&&!O||!b&&O}function C(S){var T,b,O,D,N,R,E=f.create_documentFragment(S._startNode._nodeDocument);if(v(S))return E;var A=S._startNode,W=S._startOffset,z=S._endNode,F=S._endOffset;if(A===z&&l.Guard.isCharacterDataNode(A))return(V=y.node_clone(A))._data=d.characterData_substringData(A,W,F-W),m.mutation_append(V,E),d.characterData_replaceData(A,W,F-W,""),E;for(var L=A;!h.tree_isAncestorOf(z,L,!0);){if(L._parent===null)throw new Error("Parent node  is null.");L=L._parent}var G=null;if(!h.tree_isAncestorOf(z,A,!0))try{for(var H=i(L._children),$=H.next();!$.done;$=H.next())if(w(ne=$.value,S)){G=ne;break}}catch(X){T={error:X}}finally{try{$&&!$.done&&(b=H.return)&&b.call(H)}finally{if(T)throw T.error}}var J=null;if(!h.tree_isAncestorOf(A,z,!0))for(var Q=o(L._children),q=Q.length-1;q>0;q--){var ne;if(w(ne=Q[q],S)){J=ne;break}}var te,oe,re=[];try{for(var B=i(L._children),k=B.next();!k.done;k=B.next())if(x(K=k.value,S)){if(l.Guard.isDocumentTypeNode(K))throw new u.HierarchyRequestError;re.push(K)}}catch(X){O={error:X}}finally{try{k&&!k.done&&(D=B.return)&&D.call(B)}finally{if(O)throw O.error}}if(h.tree_isAncestorOf(z,A,!0))te=A,oe=W;else{for(var j=A;j._parent!==null&&!h.tree_isAncestorOf(z,j._parent);)j=j._parent;if(j._parent===null)throw new Error("Parent node is null.");te=j._parent,oe=1+h.tree_index(j)}if(l.Guard.isCharacterDataNode(G))(V=y.node_clone(A))._data=d.characterData_substringData(A,W,h.tree_nodeLength(A)-W),m.mutation_append(V,E),d.characterData_replaceData(A,W,h.tree_nodeLength(A)-W,"");else if(G!==null){var V=y.node_clone(G);m.mutation_append(V,E);var M=C(f.create_range([A,W],[G,h.tree_nodeLength(G)]));m.mutation_append(M,V)}try{for(var P=i(re),U=P.next();!U.done;U=P.next()){var K=U.value;m.mutation_append(K,E)}}catch(X){N={error:X}}finally{try{U&&!U.done&&(R=P.return)&&R.call(P)}finally{if(N)throw N.error}}return l.Guard.isCharacterDataNode(J)?((V=y.node_clone(z))._data=d.characterData_substringData(z,0,F),m.mutation_append(V,E),d.characterData_replaceData(z,0,F,"")):J!==null&&(V=y.node_clone(J),m.mutation_append(V,E),M=C(f.create_range([J,0],[z,F])),m.mutation_append(M,V)),S._start=[te,oe],S._end=[te,oe],E}r.range_collapsed=v,r.range_root=g,r.range_isContained=x,r.range_isPartiallyContained=w,r.range_setTheStart=function(S,T,b){if(l.Guard.isDocumentTypeNode(T))throw new u.InvalidNodeTypeError;if(b>h.tree_nodeLength(T))throw new u.IndexSizeError;var O=[T,b];g(S)===h.tree_rootNode(T)&&p.boundaryPoint_position(O,S._end)!==c.BoundaryPosition.After||(S._end=O),S._start=O},r.range_setTheEnd=function(S,T,b){if(l.Guard.isDocumentTypeNode(T))throw new u.InvalidNodeTypeError;if(b>h.tree_nodeLength(T))throw new u.IndexSizeError;var O=[T,b];g(S)===h.tree_rootNode(T)&&p.boundaryPoint_position(O,S._start)!==c.BoundaryPosition.Before||(S._start=O),S._end=O},r.range_select=function(S,T){var b=S._parent;if(b===null)throw new u.InvalidNodeTypeError;var O=h.tree_index(S);T._start=[b,O],T._end=[b,O+1]},r.range_extract=C,r.range_cloneTheContents=function S(T){var b,O,D,N,R,E,A=f.create_documentFragment(T._startNode._nodeDocument);if(v(T))return A;var W=T._startNode,z=T._startOffset,F=T._endNode,L=T._endOffset;W===F&&l.Guard.isCharacterDataNode(W)&&((k=y.node_clone(W))._data=d.characterData_substringData(W,z,L-z),m.mutation_append(k,A));for(var G=W;!h.tree_isAncestorOf(F,G,!0);){if(G._parent===null)throw new Error("Parent node  is null.");G=G._parent}var H=null;if(!h.tree_isAncestorOf(F,W,!0))try{for(var $=i(G._children),J=$.next();!J.done;J=$.next())if(w(te=J.value,T)){H=te;break}}catch(U){b={error:U}}finally{try{J&&!J.done&&(O=$.return)&&O.call($)}finally{if(b)throw b.error}}var Q=null;if(!h.tree_isAncestorOf(W,F,!0))for(var q=o(G._children),ne=q.length-1;ne>0;ne--){var te;if(w(te=q[ne],T)){Q=te;break}}var oe=[];try{for(var re=i(G._children),B=re.next();!B.done;B=re.next())if(x(P=B.value,T)){if(l.Guard.isDocumentTypeNode(P))throw new u.HierarchyRequestError;oe.push(P)}}catch(U){D={error:U}}finally{try{B&&!B.done&&(N=re.return)&&N.call(re)}finally{if(D)throw D.error}}if(l.Guard.isCharacterDataNode(H))(k=y.node_clone(W))._data=d.characterData_substringData(W,z,h.tree_nodeLength(W)-z),m.mutation_append(k,A);else if(H!==null){var k=y.node_clone(H);m.mutation_append(k,A);var j=S(f.create_range([W,z],[H,h.tree_nodeLength(H)]));m.mutation_append(j,k)}try{for(var V=i(oe),M=V.next();!M.done;M=V.next()){var P=M.value,k=y.node_clone(P);m.mutation_append(k,A)}}catch(U){R={error:U}}finally{try{M&&!M.done&&(E=V.return)&&E.call(V)}finally{if(R)throw R.error}}return l.Guard.isCharacterDataNode(Q)?((k=y.node_clone(F))._data=d.characterData_substringData(F,0,L),m.mutation_append(k,A)):Q!==null&&(k=y.node_clone(Q),A.append(k),j=C(f.create_range([Q,0],[F,L])),m.mutation_append(j,k)),A},r.range_insert=function(S,T){var b,O;if(l.Guard.isProcessingInstructionNode(T._startNode)||l.Guard.isCommentNode(T._startNode)||l.Guard.isTextNode(T._startNode)&&T._startNode._parent===null||T._startNode===S)throw new u.HierarchyRequestError;var D,N=null;if(l.Guard.isTextNode(T._startNode))N=T._startNode;else{var R=0;try{for(var E=i(T._startNode._children),A=E.next();!A.done;A=E.next()){var W=A.value;if(R===T._startOffset){N=W;break}R++}}catch(F){b={error:F}}finally{try{A&&!A.done&&(O=E.return)&&O.call(E)}finally{if(b)throw b.error}}}if(N===null)D=T._startNode;else{if(N._parent===null)throw new Error("Parent node is null.");D=N._parent}m.mutation_ensurePreInsertionValidity(S,D,N),l.Guard.isTextNode(T._startNode)&&(N=_.text_split(T._startNode,T._startOffset)),S===N&&(N=S._nextSibling),S._parent!==null&&m.mutation_remove(S,S._parent);var z=N===null?h.tree_nodeLength(D):h.tree_index(N);l.Guard.isDocumentFragmentNode(S)?z+=h.tree_nodeLength(S):z++,m.mutation_preInsert(S,D,N),v(T)&&(T._end=[D,z])},r.range_getContainedNodes=function(S){var T;return(T={})[Symbol.iterator]=function(){var b=S.commonAncestorContainer,O=h.tree_getFirstDescendantNode(b);return{next:function(){for(;O&&!x(O,S);)O=h.tree_getNextDescendantNode(b,O);if(O===null)return{done:!0,value:null};var D={done:!1,value:O};return O=h.tree_getNextDescendantNode(b,O),D}}},T},r.range_getPartiallyContainedNodes=function(S){var T;return(T={})[Symbol.iterator]=function(){var b=S.commonAncestorContainer,O=h.tree_getFirstDescendantNode(b);return{next:function(){for(;O&&!w(O,S);)O=h.tree_getNextDescendantNode(b,O);if(O===null)return{done:!0,value:null};var D={done:!1,value:O};return O=h.tree_getNextDescendantNode(b,O),D}}},T}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(9);r.selectors_scopeMatchASelectorsString=function(s,o){throw new i.NotSupportedError}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(2),s=a(105);r.treeWalker_traverseChildren=function(o,c){for(var u=c?o._current._firstChild:o._current._lastChild;u!==null;){var l=s.traversal_filter(o,u);if(l===i.FilterResult.Accept)return o._current=u,u;if(l===i.FilterResult.Skip){var f=c?u._firstChild:u._lastChild;if(f!==null){u=f;continue}}for(;u!==null;){var h=c?u._nextSibling:u._previousSibling;if(h!==null){u=h;break}var p=u._parent;if(p===null||p===o._root||p===o._current)return null;u=p}}return null},r.treeWalker_traverseSiblings=function(o,c){var u=o._current;if(u===o._root)return null;for(;;){for(var l=c?u._nextSibling:u._previousSibling;l!==null;){u=l;var f=s.traversal_filter(o,u);if(f===i.FilterResult.Accept)return o._current=u,u;l=c?u._firstChild:u._lastChild,f!==i.FilterResult.Reject&&l!==null||(l=c?u._nextSibling:u._previousSibling)}if((u=u._parent)===null||u===o._root||s.traversal_filter(o,u)===i.FilterResult.Accept)return null}}},function(n,r,a){a(89),a(74);var i,s=this&&this.__extends||(i=function(h,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var m in y)y.hasOwnProperty(m)&&(d[m]=y[m])})(h,p)},function(h,p){function d(){this.constructor=h}i(h,p),h.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(1),c=a(2),u=a(50),l=a(3),f=function(h){function p(d,y){var m=h.call(this,d)||this;return m._indentation={},m._lengthToLastNewline=0,m._writerOptions=o.applyDefaults(y,{wellFormed:!1,headless:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,indentTextOnlyNodes:!1,spaceBeforeSlash:!1}),m}return s(p,h),p.prototype.serialize=function(d){return this._refs={suppressPretty:!1,emptyNode:!1,markup:""},d.nodeType!==c.NodeType.Document||this._writerOptions.headless||this.declaration(this._builderOptions.version,this._builderOptions.encoding,this._builderOptions.standalone),this.serializeNode(d,this._writerOptions.wellFormed),this._writerOptions.prettyPrint&&this._refs.markup.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(this._refs.markup=this._refs.markup.slice(0,-this._writerOptions.newline.length)),this._refs.markup},p.prototype.declaration=function(d,y,m){this._beginLine(),this._refs.markup+='<?xml version="'+d+'"',y!==void 0&&(this._refs.markup+=' encoding="'+y+'"'),m!==void 0&&(this._refs.markup+=' standalone="'+(m?"yes":"no")+'"'),this._refs.markup+="?>",this._endLine()},p.prototype.docType=function(d,y,m){this._beginLine(),this._refs.markup+=y&&m?"<!DOCTYPE "+d+' PUBLIC "'+y+'" "'+m+'">':y?"<!DOCTYPE "+d+' PUBLIC "'+y+'">':m?"<!DOCTYPE "+d+' SYSTEM "'+m+'">':"<!DOCTYPE "+d+">",this._endLine()},p.prototype.openTagBegin=function(d){this._beginLine(),this._refs.markup+="<"+d},p.prototype.openTagEnd=function(d,y,m){if(this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._writerOptions.prettyPrint&&!y&&!m){for(var _=!0,v=!0,g=this.currentNode.firstChild,x=0,w=0;g;){if(l.Guard.isExclusiveTextNode(g))w++;else{if(!l.Guard.isCDATASectionNode(g)){_=!1,v=!1;break}x++}g.data!==""&&(v=!1),g=g.nextSibling}this._refs.suppressPretty=!this._writerOptions.indentTextOnlyNodes&&_&&(x<=1&&w===0||x===0),this._refs.emptyNode=v}(m||y||this._refs.emptyNode)&&this._writerOptions.allowEmptyTags?this._refs.markup+="></"+d+">":this._refs.markup+=m?" />":y||this._refs.emptyNode?this._writerOptions.spaceBeforeSlash?" />":"/>":">",this._endLine()},p.prototype.closeTag=function(d){this._refs.emptyNode||(this._beginLine(),this._refs.markup+="</"+d+">"),this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._endLine()},p.prototype.attribute=function(d,y){var m=d+'="'+y+'"';this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._refs.markup.length-this._lengthToLastNewline+1+m.length>this._writerOptions.width?(this._endLine(),this._beginLine(),this._refs.markup+=this._indent(1)+m):this._refs.markup+=" "+m},p.prototype.text=function(d){d!==""&&(this._beginLine(),this._refs.markup+=d,this._endLine())},p.prototype.cdata=function(d){d!==""&&(this._beginLine(),this._refs.markup+="<![CDATA["+d+"]]>",this._endLine())},p.prototype.comment=function(d){this._beginLine(),this._refs.markup+="<!--"+d+"-->",this._endLine()},p.prototype.instruction=function(d,y){this._beginLine(),this._refs.markup+="<?"+(y===""?d:d+" "+y)+"?>",this._endLine()},p.prototype._beginLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._indent(this._writerOptions.offset+this.level))},p.prototype._endLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._writerOptions.newline,this._lengthToLastNewline=this._refs.markup.length)},p.prototype._indent=function(d){if(d<=0)return"";if(this._indentation[d]!==void 0)return this._indentation[d];var y=this._writerOptions.indent.repeat(d);return this._indentation[d]=y,y},p}(u.BaseWriter);r.XMLWriter=f},function(n,r,a){var i=a(47),s=a(35);n.exports="".repeat||function(o){var c=String(s(this)),u="",l=i(o);if(l<0||l==1/0)throw RangeError("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(c+=c))1&l&&(u+=c);return u}},function(n,r,a){a(31),a(32),a(33),a(19),a(178),a(20),a(22),a(23);var i,s=this&&this.__extends||(i=function(f,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var y in d)d.hasOwnProperty(y)&&(p[y]=d[y])})(f,h)},function(f,h){function p(){this.constructor=f}i(f,h),f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}),o=this&&this.__values||function(f){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&f[h],d=0;if(p)return p.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&d>=f.length&&(f=void 0),{value:f&&f[d++],done:!f}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var c=a(67),u=a(1),l=function(f){function h(p,d){var y=f.call(this,p)||this;return y._writerOptions=u.applyDefaults(d,{wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),y}return s(h,f),h.prototype.serialize=function(p){var d=u.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),y=new c.ObjectWriter(this._builderOptions,d).serialize(p);return this._beginLine(this._writerOptions,0)+this._convertObject(y,this._writerOptions)},h.prototype._convertObject=function(p,d,y){var m,_,v=this;y===void 0&&(y=0);var g="",x=this._isLeafNode(p);if(u.isArray(p)){g+="[";var w=p.length,C=0;try{for(var S=o(p),T=S.next();!T.done;T=S.next()){var b=T.value;g+=this._endLine(d,y+1)+this._beginLine(d,y+1)+this._convertObject(b,d,y+1),C<w-1&&(g+=","),C++}}catch(N){m={error:N}}finally{try{T&&!T.done&&(_=S.return)&&_.call(S)}finally{if(m)throw m.error}}g+=this._endLine(d,y)+this._beginLine(d,y),g+="]"}else if(u.isObject(p)){g+="{";var O=u.objectLength(p),D=0;u.forEachObject(p,function(N,R){x&&d.prettyPrint?g+=" ":g+=v._endLine(d,y+1)+v._beginLine(d,y+1),g+=v._key(N),d.prettyPrint&&(g+=" "),g+=v._convertObject(R,d,y+1),D<O-1&&(g+=","),D++},this),x&&d.prettyPrint?g+=" ":g+=this._endLine(d,y)+this._beginLine(d,y),g+="}"}else g+=this._val(p);return g},h.prototype._beginLine=function(p,d){if(!p.prettyPrint)return"";var y=p.offset+d+1;return y>0?new Array(y).join(p.indent):""},h.prototype._endLine=function(p,d){return p.prettyPrint?p.newline:""},h.prototype._key=function(p){return'"'+p+'":'},h.prototype._val=function(p){return JSON.stringify(p)},h.prototype._isLeafNode=function(p){return this._descendantCount(p)<=1},h.prototype._descendantCount=function(p,d){var y=this;return d===void 0&&(d=0),u.isArray(p)?u.forEachArray(p,function(m){return d+=y._descendantCount(m,d)},this):u.isObject(p)?u.forEachObject(p,function(m,_){return d+=y._descendantCount(_,d)},this):d++,d},h}(a(50).BaseWriter);r.JSONWriter=l},function(n,r,a){a(31),a(32),a(33),a(19),a(178),a(89),a(20),a(22),a(23);var i,s=this&&this.__extends||(i=function(f,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var y in d)d.hasOwnProperty(y)&&(p[y]=d[y])})(f,h)},function(f,h){function p(){this.constructor=f}i(f,h),f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}),o=this&&this.__values||function(f){var h=typeof Symbol=="function"&&Symbol.iterator,p=h&&f[h],d=0;if(p)return p.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&d>=f.length&&(f=void 0),{value:f&&f[d++],done:!f}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var c=a(67),u=a(1),l=function(f){function h(p,d){var y=f.call(this,p)||this;if(y._writerOptions=u.applyDefaults(d,{wellFormed:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),y._writerOptions.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(y._writerOptions.offset<0)throw new Error("YAML offset should be zero or a positive number.");return y}return s(h,f),h.prototype.serialize=function(p){var d=u.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),y=new c.ObjectWriter(this._builderOptions,d).serialize(p),m=this._beginLine(this._writerOptions,0)+"---"+this._endLine(this._writerOptions)+this._convertObject(y,this._writerOptions,0);return m.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(m=m.slice(0,-this._writerOptions.newline.length)),m},h.prototype._convertObject=function(p,d,y,m){var _,v,g=this;m===void 0&&(m=!1);var x="";if(u.isArray(p))try{for(var w=o(p),C=w.next();!C.done;C=w.next()){var S=C.value;x+=this._beginLine(d,y,!0),u.isObject(S)?u.isEmpty(S)?x+='""'+this._endLine(d):x+=this._convertObject(S,d,y,!0):x+=this._val(S)+this._endLine(d)}}catch(T){_={error:T}}finally{try{C&&!C.done&&(v=w.return)&&v.call(w)}finally{if(_)throw _.error}}else u.forEachObject(p,function(T,b){m?(x+=g._key(T),m=!1):x+=g._beginLine(d,y)+g._key(T),u.isObject(b)?u.isEmpty(b)?x+=' ""'+g._endLine(d):x+=g._endLine(d)+g._convertObject(b,d,y+1):x+=" "+g._val(b)+g._endLine(d)},this);return x},h.prototype._beginLine=function(p,d,y){y===void 0&&(y=!1);var m=p.offset+d+1,_=new Array(m).join(p.indent);return y?_.substr(0,_.length-2)+"-"+_.substr(-1,1):_},h.prototype._endLine=function(p){return p.newline},h.prototype._key=function(p){return'"'+p+'":'},h.prototype._val=function(p){return JSON.stringify(p)},h}(a(50).BaseWriter);r.YAMLWriter=l},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),a(110).dom.setFeatures(!0);var i=a(110);r.DOMImplementation=i.DOMImplementation;var s=a(271);r.DOMParser=s.DOMParser;var o=a(274);r.XMLSerializer=o.XMLSerializer},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(3),s=a(0),o=function(){function c(){}return c.prototype.before=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var f=i.Cast.asNode(this),h=f._parent;if(h!==null){for(var p=f._previousSibling,d=!0;d&&p;){d=!1;for(var y=0;y<u.length;y++){var m=u[y];if(m===p){p=p._previousSibling,d=!0;break}}}var _=s.parentNode_convertNodesIntoANode(u,f._nodeDocument);p=p===null?h._firstChild:p._nextSibling,s.mutation_preInsert(_,h,p)}},c.prototype.after=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var f=i.Cast.asNode(this),h=f._parent;if(h){for(var p=f._nextSibling,d=!0;d&&p;){d=!1;for(var y=0;y<u.length;y++){var m=u[y];if(m===p){p=p._nextSibling,d=!0;break}}}var _=s.parentNode_convertNodesIntoANode(u,f._nodeDocument);s.mutation_preInsert(_,h,p)}},c.prototype.replaceWith=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var f=i.Cast.asNode(this),h=f._parent;if(h){for(var p=f._nextSibling,d=!0;d&&p;){d=!1;for(var y=0;y<u.length;y++){var m=u[y];if(m===p){p=p._nextSibling,d=!0;break}}}var _=s.parentNode_convertNodesIntoANode(u,f._nodeDocument);f._parent===h?s.mutation_replace(f,_,h):s.mutation_preInsert(_,h,p)}},c.prototype.remove=function(){var u=i.Cast.asNode(this),l=u._parent;l&&s.mutation_remove(u,l)},c}();r.ChildNodeImpl=o},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){};r.DocumentOrShadowRootImpl=i},function(n,r,a){var i=this&&this.__values||function(l){var f=typeof Symbol=="function"&&Symbol.iterator,h=f&&l[f],p=0;if(h)return h.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&p>=l.length&&(l=void 0),{value:l&&l[p++],done:!l}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(6),o=a(3),c=a(7),u=function(){function l(f){this._nodeList=[],this._recordQueue=[],this._callback=f;var h=s.dom.window;c.set.append(h._mutationObservers,this)}return l.prototype.observe=function(f,h){var p,d;if((h=h||{childList:!1,subtree:!1}).attributeOldValue===void 0&&h.attributeFilter===void 0||h.attributes!==void 0||(h.attributes=!0),h.characterDataOldValue!==void 0&&h.characterData===void 0&&(h.characterData=!0),!h.childList&&!h.attributes&&!h.characterData)throw new TypeError;if(h.attributeOldValue&&!h.attributes)throw new TypeError;if(h.attributeFilter!==void 0&&!h.attributes)throw new TypeError;if(h.characterDataOldValue&&!h.characterData)throw new TypeError;var y=!1,m=h,_=function(w){var C,S;if(w.observer===v){y=!0;try{for(var T=(C=void 0,i(v._nodeList)),b=T.next();!b.done;b=T.next()){var O=b.value;c.list.remove(O._registeredObserverList,function(D){return o.Guard.isTransientRegisteredObserver(D)&&D.source===w})}}catch(D){C={error:D}}finally{try{b&&!b.done&&(S=T.return)&&S.call(T)}finally{if(C)throw C.error}}w.options=m}},v=this;try{for(var g=i(f._registeredObserverList),x=g.next();!x.done;x=g.next())_(x.value)}catch(w){p={error:w}}finally{try{x&&!x.done&&(d=g.return)&&d.call(g)}finally{if(p)throw p.error}}y||(f._registeredObserverList.push({observer:this,options:h}),this._nodeList.push(f))},l.prototype.disconnect=function(){var f,h,p=this;try{for(var d=i(this._nodeList),y=d.next();!y.done;y=d.next()){var m=y.value;c.list.remove(m._registeredObserverList,function(_){return _.observer===p})}}catch(_){f={error:_}}finally{try{y&&!y.done&&(h=d.return)&&h.call(d)}finally{if(f)throw f.error}}this._recordQueue=[]},l.prototype.takeRecords=function(){var f=this._recordQueue;return this._recordQueue=[],f},l}();r.MutationObserverImpl=u},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(3),s=function(){function o(){}return Object.defineProperty(o.prototype,"previousElementSibling",{get:function(){for(var c=i.Cast.asNode(this)._previousSibling;c;){if(i.Guard.isElementNode(c))return c;c=c._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"nextElementSibling",{get:function(){for(var c=i.Cast.asNode(this)._nextSibling;c;){if(i.Guard.isElementNode(c))return c;c=c._nextSibling}return null},enumerable:!0,configurable:!0}),o}();r.NonDocumentTypeChildNodeImpl=s},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(3),s=a(0),o=function(){function c(){}return c.prototype.getElementById=function(u){for(var l=s.tree_getFirstDescendantNode(i.Cast.asNode(this),!1,!1,function(f){return i.Guard.isElementNode(f)});l!==null;){if(l._uniqueIdentifier===u)return l;l=s.tree_getNextDescendantNode(i.Cast.asNode(this),l,!1,!1,function(f){return i.Guard.isElementNode(f)})}return null},c}();r.NonElementParentNodeImpl=o},function(n,r,a){var i=this&&this.__values||function(u){var l=typeof Symbol=="function"&&Symbol.iterator,f=l&&u[l],h=0;if(f)return f.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&h>=u.length&&(u=void 0),{value:u&&u[h++],done:!u}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(3),o=a(0),c=function(){function u(){}return Object.defineProperty(u.prototype,"children",{get:function(){return o.create_htmlCollection(s.Cast.asNode(this))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"firstElementChild",{get:function(){for(var l=s.Cast.asNode(this)._firstChild;l;){if(s.Guard.isElementNode(l))return l;l=l._nextSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"lastElementChild",{get:function(){for(var l=s.Cast.asNode(this)._lastChild;l;){if(s.Guard.isElementNode(l))return l;l=l._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"childElementCount",{get:function(){var l,f,h=0;try{for(var p=i(s.Cast.asNode(this)._children),d=p.next();!d.done;d=p.next()){var y=d.value;s.Guard.isElementNode(y)&&h++}}catch(m){l={error:m}}finally{try{d&&!d.done&&(f=p.return)&&f.call(p)}finally{if(l)throw l.error}}return h},enumerable:!0,configurable:!0}),u.prototype.prepend=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var h=s.Cast.asNode(this),p=o.parentNode_convertNodesIntoANode(l,h._nodeDocument);o.mutation_preInsert(p,h,h._firstChild)},u.prototype.append=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var h=s.Cast.asNode(this),p=o.parentNode_convertNodesIntoANode(l,h._nodeDocument);o.mutation_append(p,h)},u.prototype.querySelector=function(l){var f=s.Cast.asNode(this),h=o.selectors_scopeMatchASelectorsString(l,f);return h.length===0?null:h[0]},u.prototype.querySelectorAll=function(l){var f=s.Cast.asNode(this),h=o.selectors_scopeMatchASelectorsString(l,f);return o.create_nodeListStatic(f,h)},u}();r.ParentNodeImpl=c},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),s=function(){function o(){}return Object.defineProperty(o.prototype,"_name",{get:function(){return this.__name||""},set:function(c){this.__name=c},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"_assignedSlot",{get:function(){return this.__assignedSlot||null},set:function(c){this.__assignedSlot=c},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"assignedSlot",{get:function(){return i.shadowTree_findASlot(this,!0)},enumerable:!0,configurable:!0}),o}();r.SlotableImpl=s},function(n,r,a){var i,s=this&&this.__extends||(i=function(f,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var y in d)d.hasOwnProperty(y)&&(p[y]=d[y])})(f,h)},function(f,h){function p(){this.constructor=f}i(f,h),f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(102),c=a(9),u=a(3),l=function(f){function h(p){var d=f.call(this)||this;if(u.Guard.isDocumentTypeNode(p.startContainer)||u.Guard.isAttrNode(p.startContainer)||u.Guard.isDocumentTypeNode(p.endContainer)||u.Guard.isAttrNode(p.endContainer))throw new c.InvalidNodeTypeError;return d._start=[p.startContainer,p.startOffset],d._end=[p.endContainer,p.endOffset],d}return s(h,f),h}(o.AbstractRangeImpl);r.StaticRangeImpl=l},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(272);r.DOMParser=i.DOMParserImpl},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),s=a(273),o=function(){function c(){}return c.prototype.parseFromString=function(u,l){if(l==="text/html")throw new Error("HTML parser not implemented.");try{return(f=new s.XMLParserImpl().parse(u))._contentType=l,f}catch(y){var f,h="http://www.mozilla.org/newlayout/xml/parsererror.xml",p=(f=i.create_xmlDocument()).createElementNS(h,"parsererror"),d=f.createElementNS(h,"error");return d.setAttribute("message",y.message),p.appendChild(d),f.appendChild(p),f}},c}();r.DOMParserImpl=o},function(n,r,a){var i=this&&this.__read||function(p,d){var y=typeof Symbol=="function"&&p[Symbol.iterator];if(!y)return p;var m,_,v=y.call(p),g=[];try{for(;(d===void 0||d-- >0)&&!(m=v.next()).done;)g.push(m.value)}catch(x){_={error:x}}finally{try{m&&!m.done&&(y=v.return)&&y.call(v)}finally{if(_)throw _.error}}return g},s=this&&this.__values||function(p){var d=typeof Symbol=="function"&&Symbol.iterator,y=d&&p[d],m=0;if(y)return y.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&m>=p.length&&(p=void 0),{value:p&&p[m++],done:!p}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var o=a(180),c=a(111),u=a(7),l=a(0),f=a(69),h=function(){function p(){}return p.prototype.parse=function(d){for(var y,m,_,v,g=new o.XMLStringLexer(d,{skipWhitespaceOnlyText:!0}),x=l.create_document(),w=x,C=g.nextToken();C.type!==c.TokenType.EOF;){switch(C.type){case c.TokenType.Declaration:var S=C;if(S.version!=="1.0")throw new Error("Invalid xml version: "+S.version);break;case c.TokenType.DocType:var T=C;if(!l.xml_isPubidChar(T.pubId))throw new Error("DocType public identifier does not match PubidChar construct.");if(!l.xml_isLegalChar(T.sysId)||T.sysId.indexOf('"')!==-1&&T.sysId.indexOf("'")!==-1)throw new Error("DocType system identifier contains invalid characters.");w.appendChild(x.implementation.createDocumentType(T.name,T.pubId,T.sysId));break;case c.TokenType.CDATA:var b=C;if(!l.xml_isLegalChar(b.data)||b.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters.");w.appendChild(x.createCDATASection(b.data));break;case c.TokenType.Comment:var O=C;if(!l.xml_isLegalChar(O.data)||O.data.indexOf("--")!==-1||O.data.endsWith("-"))throw new Error("Comment data contains invalid characters.");w.appendChild(x.createComment(O.data));break;case c.TokenType.PI:var D=C;if(D.target.indexOf(":")!==-1||/^xml$/i.test(D.target))throw new Error("Processing instruction target contains invalid characters.");if(!l.xml_isLegalChar(D.data)||D.data.indexOf("?>")!==-1)throw new Error("Processing instruction data contains invalid characters.");w.appendChild(x.createProcessingInstruction(D.target,D.data));break;case c.TokenType.Text:var N=C;if(!l.xml_isLegalChar(N.data))throw new Error("Text data contains invalid characters.");w.appendChild(x.createTextNode(this._decodeText(N.data)));break;case c.TokenType.Element:var R=C,E=i(l.namespace_extractQName(R.name),2),A=E[0],W=E[1];if(W.indexOf(":")!==-1||!l.xml_isName(W))throw new Error("Node local name contains invalid characters.");if(A==="xmlns")throw new Error("An element cannot have the 'xmlns' prefix.");var z=w.lookupNamespaceURI(A),F={};try{for(var L=(y=void 0,s(R.attributes)),G=L.next();!G.done;G=L.next()){var H=i(G.value,2),$=H[0],J=H[1];if($==="xmlns")z=J;else{var Q=i(l.namespace_extractQName($),2),q=Q[0],ne=Q[1];q==="xmlns"&&(ne===A&&(z=J),F[ne]=J)}}}catch(M){y={error:M}}finally{try{G&&!G.done&&(m=L.return)&&m.call(L)}finally{if(y)throw y.error}}var te=z!==null?x.createElementNS(z,R.name):x.createElement(R.name);w.appendChild(te);var oe=new f.LocalNameSet;try{for(var re=(_=void 0,s(R.attributes)),B=re.next();!B.done;B=re.next()){var k=i(B.value,2),j=($=k[0],J=k[1],i(l.namespace_extractQName($),2)),V=(q=j[0],ne=j[1],null);if(q==="xmlns"||q===null&&ne==="xmlns"?V=u.namespace.XMLNS:(V=te.lookupNamespaceURI(q))!==null&&te.isDefaultNamespace(V)?V=null:V===null&&q!==null&&(V=F[q]||null),oe.has(V,ne))throw new Error("Element contains duplicate attributes.");if(oe.set(V,ne),V===u.namespace.XMLNS&&J===u.namespace.XMLNS)throw new Error("XMLNS namespace is reserved.");if(ne.indexOf(":")!==-1||!l.xml_isName(ne))throw new Error("Attribute local name contains invalid characters.");if(q==="xmlns"&&J==="")throw new Error("Empty XML namespace is not allowed.");V!==null?te.setAttributeNS(V,$,this._decodeAttributeValue(J)):te.setAttribute($,this._decodeAttributeValue(J))}}catch(M){_={error:M}}finally{try{B&&!B.done&&(v=re.return)&&v.call(re)}finally{if(_)throw _.error}}R.selfClosing||(w=te);break;case c.TokenType.ClosingTag:if(C.name!==w.nodeName)throw new Error("Closing tag name does not match opening tag name.");w._parent&&(w=w._parent)}C=g.nextToken()}return x},p.prototype._decodeText=function(d){return d==null?d:d.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},p.prototype._decodeAttributeValue=function(d){return d==null?d:d.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},p}();r.XMLParserImpl=h},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(275);r.XMLSerializer=i.XMLSerializerImpl},function(n,r,a){var i=this&&this.__values||function(p){var d=typeof Symbol=="function"&&Symbol.iterator,y=d&&p[d],m=0;if(y)return y.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&m>=p.length&&(p=void 0),{value:p&&p[m++],done:!p}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=a(2),o=a(69),c=a(95),u=a(9),l=a(7),f=a(0),h=function(){function p(){}return p.prototype.serializeToString=function(d){return this._xmlSerialization(d,!1)},p.prototype._xmlSerialization=function(d,y){if(d._nodeDocument===void 0||d._nodeDocument._hasNamespaces){var m=new c.NamespacePrefixMap;m.set("xml",l.namespace.XML);try{return this._serializeNodeNS(d,null,m,{value:1},y)}catch{throw new u.InvalidStateError}}else try{return this._serializeNode(d,y)}catch{throw new u.InvalidStateError}},p.prototype._serializeNodeNS=function(d,y,m,_,v){switch(d.nodeType){case s.NodeType.Element:return this._serializeElementNS(d,y,m,_,v);case s.NodeType.Document:return this._serializeDocumentNS(d,y,m,_,v);case s.NodeType.Comment:return this._serializeComment(d,v);case s.NodeType.Text:return this._serializeText(d,v);case s.NodeType.DocumentFragment:return this._serializeDocumentFragmentNS(d,y,m,_,v);case s.NodeType.DocumentType:return this._serializeDocumentType(d,v);case s.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(d,v);case s.NodeType.CData:return this._serializeCData(d,v);default:throw new Error("Unknown node type: "+d.nodeType)}},p.prototype._serializeNode=function(d,y){switch(d.nodeType){case s.NodeType.Element:return this._serializeElement(d,y);case s.NodeType.Document:return this._serializeDocument(d,y);case s.NodeType.Comment:return this._serializeComment(d,y);case s.NodeType.Text:return this._serializeText(d,y);case s.NodeType.DocumentFragment:return this._serializeDocumentFragment(d,y);case s.NodeType.DocumentType:return this._serializeDocumentType(d,y);case s.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(d,y);case s.NodeType.CData:return this._serializeCData(d,y);default:throw new Error("Unknown node type: "+d.nodeType)}},p.prototype._serializeElementNS=function(d,y,m,_,v){var g,x;if(v&&(d.localName.indexOf(":")!==-1||!f.xml_isName(d.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var w="<",C="",S=!1,T=!1,b=m.copy(),O={},D=this._recordNamespaceInformation(d,b,O),N=y,R=d.namespaceURI;if(N===R)D!==null&&(T=!0),w+=C=R===l.namespace.XML?"xml:"+d.localName:d.localName;else{var E=d.prefix,A=null;if(E===null&&R===D||(A=b.get(E,R)),E==="xmlns"){if(v)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");A=E}A!==null?(C=A+":"+d.localName,D!==null&&D!==l.namespace.XML&&(N=D||null),w+=C):E!==null?(E in O&&(E=this._generatePrefix(R,b,_)),b.set(E,R),w+=C+=E+":"+d.localName,w+=" xmlns:"+E+'="'+this._serializeAttributeValue(R,v)+'"',D!==null&&(N=D||null)):D===null||D!==null&&D!==R?(T=!0,N=R,w+=C+=d.localName,w+=' xmlns="'+this._serializeAttributeValue(R,v)+'"'):(N=R,w+=C+=d.localName)}w+=this._serializeAttributesNS(d,b,_,O,T,v);var W=R===l.namespace.HTML;if(W&&d.childNodes.length===0&&p._VoidElementNames.has(d.localName)?(w+=" /",S=!0):W||d.childNodes.length!==0||(w+="/",S=!0),w+=">",S)return w;if(!(W&&d.localName==="template"))try{for(var z=i(d._children||d.childNodes),F=z.next();!F.done;F=z.next()){var L=F.value;w+=this._serializeNodeNS(L,N,b,_,v)}}catch(G){g={error:G}}finally{try{F&&!F.done&&(x=z.return)&&x.call(z)}finally{if(g)throw g.error}}return w+="</"+C+">"},p.prototype._serializeDocumentNS=function(d,y,m,_,v){var g,x;if(v&&d.documentElement===null)throw new Error("Missing document element (well-formed required).");var w="";try{for(var C=i(d._children||d.childNodes),S=C.next();!S.done;S=C.next()){var T=S.value;w+=this._serializeNodeNS(T,y,m,_,v)}}catch(b){g={error:b}}finally{try{S&&!S.done&&(x=C.return)&&x.call(C)}finally{if(g)throw g.error}}return w},p.prototype._serializeComment=function(d,y){if(y&&(!f.xml_isLegalChar(d.data)||d.data.indexOf("--")!==-1||d.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");return"<!--"+d.data+"-->"},p.prototype._serializeText=function(d,y){if(y&&!f.xml_isLegalChar(d.data))throw new Error("Text data contains invalid characters (well-formed required).");for(var m="",_=0;_<d.data.length;_++){var v=d.data[_];m+=v==="&"?"&amp;":v==="<"?"&lt;":v===">"?"&gt;":v}return m},p.prototype._serializeDocumentFragmentNS=function(d,y,m,_,v){var g,x,w="";try{for(var C=i(d._children||d.childNodes),S=C.next();!S.done;S=C.next()){var T=S.value;w+=this._serializeNodeNS(T,y,m,_,v)}}catch(b){g={error:b}}finally{try{S&&!S.done&&(x=C.return)&&x.call(C)}finally{if(g)throw g.error}}return w},p.prototype._serializeDocumentType=function(d,y){if(y&&!f.xml_isPubidChar(d.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(y&&(!f.xml_isLegalChar(d.systemId)||d.systemId.indexOf('"')!==-1&&d.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");return d.publicId&&d.systemId?"<!DOCTYPE "+d.name+' PUBLIC "'+d.publicId+'" "'+d.systemId+'">':d.publicId?"<!DOCTYPE "+d.name+' PUBLIC "'+d.publicId+'">':d.systemId?"<!DOCTYPE "+d.name+' SYSTEM "'+d.systemId+'">':"<!DOCTYPE "+d.name+">"},p.prototype._serializeProcessingInstruction=function(d,y){if(y&&(d.target.indexOf(":")!==-1||/^xml$/i.test(d.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(y&&(!f.xml_isLegalChar(d.data)||d.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");return"<?"+(d.data===""?d.target:d.target+" "+d.data)+"?>"},p.prototype._serializeCData=function(d,y){if(y&&d.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");return"<![CDATA["+d.data+"]]>"},p.prototype._serializeAttributesNS=function(d,y,m,_,v,g){var x,w,C="",S=g?new o.LocalNameSet:void 0;try{for(var T=i(d.attributes),b=T.next();!b.done;b=T.next()){var O=b.value;if(v||g||O.namespaceURI!==null){if(g&&S&&S.has(O.namespaceURI,O.localName))throw new Error("Element contains duplicate attributes (well-formed required).");g&&S&&S.set(O.namespaceURI,O.localName);var D=O.namespaceURI,N=null;if(D!==null)if(N=y.get(O.prefix,D),D===l.namespace.XMLNS){if(O.value===l.namespace.XML||O.prefix===null&&v||O.prefix!==null&&(!(O.localName in _)||_[O.localName]!==O.value)&&y.has(O.localName,O.value))continue;if(g&&O.value===l.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(g&&O.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");O.prefix==="xmlns"&&(N="xmlns")}else N===null&&(C+=" xmlns:"+(N=O.prefix===null||y.hasPrefix(O.prefix)&&!y.has(O.prefix,D)?this._generatePrefix(D,y,m):O.prefix)+'="'+this._serializeAttributeValue(D,g)+'"');if(C+=" ",N!==null&&(C+=N+":"),g&&(O.localName.indexOf(":")!==-1||!f.xml_isName(O.localName)||O.localName==="xmlns"&&D===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");C+=O.localName+'="'+this._serializeAttributeValue(O.value,g)+'"'}else C+=" "+O.localName+'="'+this._serializeAttributeValue(O.value,g)+'"'}}catch(R){x={error:R}}finally{try{b&&!b.done&&(w=T.return)&&w.call(T)}finally{if(x)throw x.error}}return C},p.prototype._recordNamespaceInformation=function(d,y,m){var _,v,g=null;try{for(var x=i(d.attributes),w=x.next();!w.done;w=x.next()){var C=w.value,S=C.namespaceURI,T=C.prefix;if(S===l.namespace.XMLNS){if(T===null){g=C.value;continue}var b=C.localName,O=C.value;if(O===l.namespace.XML||(O===""&&(O=null),y.has(b,O)))continue;y.set(b,O),m[b]=O||""}}}catch(D){_={error:D}}finally{try{w&&!w.done&&(v=x.return)&&v.call(x)}finally{if(_)throw _.error}}return g},p.prototype._generatePrefix=function(d,y,m){var _="ns"+m.value;return m.value++,y.set(_,d),_},p.prototype._serializeAttributeValue=function(d,y){if(y&&d!==null&&!f.xml_isLegalChar(d))throw new Error("Invalid characters in attribute value.");if(d===null)return"";for(var m="",_=0;_<d.length;_++){var v=d[_];m+=v==='"'?"&quot;":v==="&"?"&amp;":v==="<"?"&lt;":v===">"?"&gt;":v}return m},p.prototype._serializeElement=function(d,y){var m,_;if(y&&(d.localName.indexOf(":")!==-1||!f.xml_isName(d.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var v=!1,g=d.localName,x="<"+g;if(x+=this._serializeAttributes(d,y),d._children.size===0&&(x+="/",v=!0),x+=">",v)return x;try{for(var w=i(d._children),C=w.next();!C.done;C=w.next()){var S=C.value;x+=this._serializeNode(S,y)}}catch(T){m={error:T}}finally{try{C&&!C.done&&(_=w.return)&&_.call(w)}finally{if(m)throw m.error}}return x+="</"+g+">"},p.prototype._serializeDocument=function(d,y){var m,_;if(y&&d.documentElement===null)throw new Error("Missing document element (well-formed required).");var v="";try{for(var g=i(d._children),x=g.next();!x.done;x=g.next()){var w=x.value;v+=this._serializeNode(w,y)}}catch(C){m={error:C}}finally{try{x&&!x.done&&(_=g.return)&&_.call(g)}finally{if(m)throw m.error}}return v},p.prototype._serializeDocumentFragment=function(d,y){var m,_,v="";try{for(var g=i(d._children),x=g.next();!x.done;x=g.next()){var w=x.value;v+=this._serializeNode(w,y)}}catch(C){m={error:C}}finally{try{x&&!x.done&&(_=g.return)&&_.call(g)}finally{if(m)throw m.error}}return v},p.prototype._serializeAttributes=function(d,y){var m,_,v="",g=y?{}:void 0;try{for(var x=i(d.attributes),w=x.next();!w.done;w=x.next()){var C=w.value;if(y&&g&&C.localName in g)throw new Error("Element contains duplicate attributes (well-formed required).");if(y&&g&&(g[C.localName]=!0),y&&(C.localName.indexOf(":")!==-1||!f.xml_isName(C.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");v+=" "+C.localName+'="'+this._serializeAttributeValue(C.value,y)+'"'}}catch(S){m={error:S}}finally{try{w&&!w.done&&(_=x.return)&&_.call(x)}finally{if(m)throw m.error}}return v},p._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),p}();r.XMLSerializerImpl=h},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(277);r.XMLReader=i.XMLReader;var s=a(112);r.ObjectReader=s.ObjectReader;var o=a(280);r.JSONReader=o.JSONReader;var c=a(281);r.YAMLReader=c.YAMLReader},function(n,r,a){a(31),a(32),a(33),a(19),a(65),a(20),a(22),a(23);var i,s=this&&this.__extends||(i=function(d,y){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var v in _)_.hasOwnProperty(v)&&(m[v]=_[v])})(d,y)},function(d,y){function m(){this.constructor=d}i(d,y),d.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)}),o=this&&this.__read||function(d,y){var m=typeof Symbol=="function"&&d[Symbol.iterator];if(!m)return d;var _,v,g=m.call(d),x=[];try{for(;(y===void 0||y-- >0)&&!(_=g.next()).done;)x.push(_.value)}catch(w){v={error:w}}finally{try{_&&!_.done&&(m=g.return)&&m.call(g)}finally{if(v)throw v.error}}return x},c=this&&this.__values||function(d){var y=typeof Symbol=="function"&&Symbol.iterator,m=y&&d[y],_=0;if(m)return m.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&_>=d.length&&(d=void 0),{value:d&&d[_++],done:!d}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=a(180),l=a(111),f=a(7),h=a(0),p=function(d){function y(){return d!==null&&d.apply(this,arguments)||this}return s(y,d),y.prototype._parse=function(m,_){for(var v,g,x,w,C=new u.XMLStringLexer(_,{skipWhitespaceOnlyText:!0}),S=m,T=m,b=C.nextToken();b.type!==l.TokenType.EOF;){switch(b.type){case l.TokenType.Declaration:var O=b,D=this.sanitize(O.version);if(D!=="1.0")throw new Error("Invalid xml version: "+D);var N={version:D};O.encoding&&(N.encoding=this.sanitize(O.encoding)),O.standalone&&(N.standalone=this.sanitize(O.standalone)==="yes"),T.set(N);break;case l.TokenType.DocType:var R=b;T=this.docType(T,this.sanitize(R.name),this.sanitize(R.pubId),this.sanitize(R.sysId))||T;break;case l.TokenType.CDATA:var E=b;T=this.cdata(T,this.sanitize(E.data))||T;break;case l.TokenType.Comment:var A=b;T=this.comment(T,this.sanitize(A.data))||T;break;case l.TokenType.PI:var W=b;T=this.instruction(T,this.sanitize(W.target),this.sanitize(W.data))||T;break;case l.TokenType.Text:var z=b;T=this.text(T,this._decodeText(this.sanitize(z.data)))||T;break;case l.TokenType.Element:var F=b,L=this.sanitize(F.name),G=o(h.namespace_extractQName(L),1)[0],H=T.node.lookupNamespaceURI(G),$={};try{for(var J=(v=void 0,c(F.attributes)),Q=J.next();!Q.done;Q=J.next()){var q=o(Q.value,2),ne=q[0],te=q[1];if(ne=this.sanitize(ne),te=this.sanitize(te),ne==="xmlns")H=te;else{var oe=o(h.namespace_extractQName(ne),2),re=oe[0],B=oe[1];re==="xmlns"&&(B===G&&(H=te),$[B]=te)}}}catch(K){v={error:K}}finally{try{Q&&!Q.done&&(g=J.return)&&g.call(J)}finally{if(v)throw v.error}}var k=H!==null?this.element(T,H,L):this.element(T,void 0,L);if(k===void 0)break;T.node===m.node&&(S=k);try{for(var j=(x=void 0,c(F.attributes)),V=j.next();!V.done;V=j.next()){var M=o(V.value,2);ne=M[0],te=M[1],ne=this.sanitize(ne),te=this.sanitize(te);var P=o(h.namespace_extractQName(ne),2),U=(re=P[0],B=P[1],null);re==="xmlns"||re===null&&B==="xmlns"?U=f.namespace.XMLNS:(U=k.node.lookupNamespaceURI(re))!==null&&k.node.isDefaultNamespace(U)?U=null:U===null&&re!==null&&(U=$[re]||null),U!==null?this.attribute(k,U,ne,this._decodeAttributeValue(te)):this.attribute(k,void 0,ne,this._decodeAttributeValue(te))}}catch(K){x={error:K}}finally{try{V&&!V.done&&(w=j.return)&&w.call(j)}finally{if(x)throw x.error}}F.selfClosing||(T=k);break;case l.TokenType.ClosingTag:T.node.parentNode&&(T=T.up())}b=C.nextToken()}return S},y}(a(75).BaseReader);r.XMLReader=p},function(n,r,a){var i=a(4),s=a(279);i({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},function(n,r,a){var i=a(16),s=a(8),o=a(61),c=a(85),u=a(79),l=a(27),f=a(41),h=Object.assign,p=Object.defineProperty;n.exports=!h||s(function(){if(i&&h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var d={},y={},m=Symbol();return d[m]=7,"abcdefghijklmnopqrst".split("").forEach(function(_){y[_]=_}),h({},d)[m]!=7||o(h({},y)).join("")!="abcdefghijklmnopqrst"})?function(d,y){for(var m=l(d),_=arguments.length,v=1,g=c.f,x=u.f;_>v;)for(var w,C=f(arguments[v++]),S=g?o(C).concat(g(C)):o(C),T=S.length,b=0;T>b;)w=S[b++],i&&!x.call(C,w)||(m[w]=C[w]);return m}:h},function(n,r,a){var i,s=this&&this.__extends||(i=function(u,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])})(u,l)},function(u,l){function f(){this.constructor=u}i(u,l),u.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(112),c=function(u){function l(){return u!==null&&u.apply(this,arguments)||this}return s(l,u),l.prototype._parse=function(f,h){return new o.ObjectReader(this._builderOptions).parse(f,JSON.parse(h))},l}(a(75).BaseReader);r.JSONReader=c},function(n,r,a){var i,s=this&&this.__extends||(i=function(f,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var y in d)d.hasOwnProperty(y)&&(p[y]=d[y])})(f,h)},function(f,h){function p(){this.constructor=f}i(f,h),f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var o=a(112),c=a(75),u=a(282),l=function(f){function h(){return f!==null&&f.apply(this,arguments)||this}return s(h,f),h.prototype._parse=function(p,d){var y=u.safeLoad(d);if(y===void 0)throw new Error("Unable to parse YAML document.");return new o.ObjectReader(this._builderOptions).parse(p,y)},h}(c.BaseReader);r.YAMLReader=l},function(n,r,a){var i=a(283);n.exports=i},function(n,r,a){var i=a(284),s=a(303);function o(c){return function(){throw new Error("Function "+c+" is deprecated and cannot be used.")}}n.exports.Type=a(10),n.exports.Schema=a(39),n.exports.FAILSAFE_SCHEMA=a(113),n.exports.JSON_SCHEMA=a(182),n.exports.CORE_SCHEMA=a(181),n.exports.DEFAULT_SAFE_SCHEMA=a(54),n.exports.DEFAULT_FULL_SCHEMA=a(76),n.exports.load=i.load,n.exports.loadAll=i.loadAll,n.exports.safeLoad=i.safeLoad,n.exports.safeLoadAll=i.safeLoadAll,n.exports.dump=s.dump,n.exports.safeDump=s.safeDump,n.exports.YAMLException=a(53),n.exports.MINIMAL_SCHEMA=a(113),n.exports.SAFE_SCHEMA=a(54),n.exports.DEFAULT_SCHEMA=a(76),n.exports.scan=o("scan"),n.exports.parse=o("parse"),n.exports.compose=o("compose"),n.exports.addConstructor=o("addConstructor")},function(n,r,a){var i=a(38),s=a(53),o=a(285),c=a(54),u=a(76),l=Object.prototype.hasOwnProperty,f=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,h=/[\x85\u2028\u2029]/,p=/[,\[\]\{\}]/,d=/^(?:!|!!|![a-z\-]+!)$/i,y=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function m(k){return Object.prototype.toString.call(k)}function _(k){return k===10||k===13}function v(k){return k===9||k===32}function g(k){return k===9||k===32||k===10||k===13}function x(k){return k===44||k===91||k===93||k===123||k===125}function w(k){var j;return 48<=k&&k<=57?k-48:97<=(j=32|k)&&j<=102?j-97+10:-1}function C(k){return k===48?"\0":k===97?"\x07":k===98?"\b":k===116||k===9?"	":k===110?`
`:k===118?"\v":k===102?"\f":k===114?"\r":k===101?"\x1B":k===32?" ":k===34?'"':k===47?"/":k===92?"\\":k===78?"\x85":k===95?"\xA0":k===76?"\u2028":k===80?"\u2029":""}function S(k){return k<=65535?String.fromCharCode(k):String.fromCharCode(55296+(k-65536>>10),56320+(k-65536&1023))}for(var T=new Array(256),b=new Array(256),O=0;O<256;O++)T[O]=C(O)?1:0,b[O]=C(O);function D(k,j){this.input=k,this.filename=j.filename||null,this.schema=j.schema||u,this.onWarning=j.onWarning||null,this.legacy=j.legacy||!1,this.json=j.json||!1,this.listener=j.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=k.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function N(k,j){return new s(j,new o(k.filename,k.input,k.position,k.line,k.position-k.lineStart))}function R(k,j){throw N(k,j)}function E(k,j){k.onWarning&&k.onWarning.call(null,N(k,j))}var A={YAML:function(k,j,V){var M,P,U;k.version!==null&&R(k,"duplication of %YAML directive"),V.length!==1&&R(k,"YAML directive accepts exactly one argument"),(M=/^([0-9]+)\.([0-9]+)$/.exec(V[0]))===null&&R(k,"ill-formed argument of the YAML directive"),P=parseInt(M[1],10),U=parseInt(M[2],10),P!==1&&R(k,"unacceptable YAML version of the document"),k.version=V[0],k.checkLineBreaks=U<2,U!==1&&U!==2&&E(k,"unsupported YAML version of the document")},TAG:function(k,j,V){var M,P;V.length!==2&&R(k,"TAG directive accepts exactly two arguments"),M=V[0],P=V[1],d.test(M)||R(k,"ill-formed tag handle (first argument) of the TAG directive"),l.call(k.tagMap,M)&&R(k,'there is a previously declared suffix for "'+M+'" tag handle'),y.test(P)||R(k,"ill-formed tag prefix (second argument) of the TAG directive"),k.tagMap[M]=P}};function W(k,j,V,M){var P,U,K,X;if(j<V){if(X=k.input.slice(j,V),M)for(P=0,U=X.length;P<U;P+=1)(K=X.charCodeAt(P))===9||32<=K&&K<=1114111||R(k,"expected valid JSON character");else f.test(X)&&R(k,"the stream contains non-printable characters");k.result+=X}}function z(k,j,V,M){var P,U,K,X;for(i.isObject(V)||R(k,"cannot merge mappings; the provided source object is unacceptable"),K=0,X=(P=Object.keys(V)).length;K<X;K+=1)U=P[K],l.call(j,U)||(j[U]=V[U],M[U]=!0)}function F(k,j,V,M,P,U,K,X){var Z,ae;if(Array.isArray(P))for(Z=0,ae=(P=Array.prototype.slice.call(P)).length;Z<ae;Z+=1)Array.isArray(P[Z])&&R(k,"nested arrays are not supported inside keys"),typeof P=="object"&&m(P[Z])==="[object Object]"&&(P[Z]="[object Object]");if(typeof P=="object"&&m(P)==="[object Object]"&&(P="[object Object]"),P=String(P),j===null&&(j={}),M==="tag:yaml.org,2002:merge")if(Array.isArray(U))for(Z=0,ae=U.length;Z<ae;Z+=1)z(k,j,U[Z],V);else z(k,j,U,V);else k.json||l.call(V,P)||!l.call(j,P)||(k.line=K||k.line,k.position=X||k.position,R(k,"duplicated mapping key")),j[P]=U,delete V[P];return j}function L(k){var j;(j=k.input.charCodeAt(k.position))===10?k.position++:j===13?(k.position++,k.input.charCodeAt(k.position)===10&&k.position++):R(k,"a line break is expected"),k.line+=1,k.lineStart=k.position}function G(k,j,V){for(var M=0,P=k.input.charCodeAt(k.position);P!==0;){for(;v(P);)P=k.input.charCodeAt(++k.position);if(j&&P===35)do P=k.input.charCodeAt(++k.position);while(P!==10&&P!==13&&P!==0);if(!_(P))break;for(L(k),P=k.input.charCodeAt(k.position),M++,k.lineIndent=0;P===32;)k.lineIndent++,P=k.input.charCodeAt(++k.position)}return V!==-1&&M!==0&&k.lineIndent<V&&E(k,"deficient indentation"),M}function H(k){var j,V=k.position;return!((j=k.input.charCodeAt(V))!==45&&j!==46||j!==k.input.charCodeAt(V+1)||j!==k.input.charCodeAt(V+2)||(V+=3,(j=k.input.charCodeAt(V))!==0&&!g(j)))}function $(k,j){j===1?k.result+=" ":j>1&&(k.result+=i.repeat(`
`,j-1))}function J(k,j){var V,M,P=k.tag,U=k.anchor,K=[],X=!1;for(k.anchor!==null&&(k.anchorMap[k.anchor]=K),M=k.input.charCodeAt(k.position);M!==0&&M===45&&g(k.input.charCodeAt(k.position+1));)if(X=!0,k.position++,G(k,!0,-1)&&k.lineIndent<=j)K.push(null),M=k.input.charCodeAt(k.position);else if(V=k.line,ne(k,j,3,!1,!0),K.push(k.result),G(k,!0,-1),M=k.input.charCodeAt(k.position),(k.line===V||k.lineIndent>j)&&M!==0)R(k,"bad indentation of a sequence entry");else if(k.lineIndent<j)break;return!!X&&(k.tag=P,k.anchor=U,k.kind="sequence",k.result=K,!0)}function Q(k){var j,V,M,P,U=!1,K=!1;if((P=k.input.charCodeAt(k.position))!==33)return!1;if(k.tag!==null&&R(k,"duplication of a tag property"),(P=k.input.charCodeAt(++k.position))===60?(U=!0,P=k.input.charCodeAt(++k.position)):P===33?(K=!0,V="!!",P=k.input.charCodeAt(++k.position)):V="!",j=k.position,U){do P=k.input.charCodeAt(++k.position);while(P!==0&&P!==62);k.position<k.length?(M=k.input.slice(j,k.position),P=k.input.charCodeAt(++k.position)):R(k,"unexpected end of the stream within a verbatim tag")}else{for(;P!==0&&!g(P);)P===33&&(K?R(k,"tag suffix cannot contain exclamation marks"):(V=k.input.slice(j-1,k.position+1),d.test(V)||R(k,"named tag handle cannot contain such characters"),K=!0,j=k.position+1)),P=k.input.charCodeAt(++k.position);M=k.input.slice(j,k.position),p.test(M)&&R(k,"tag suffix cannot contain flow indicator characters")}return M&&!y.test(M)&&R(k,"tag name cannot contain such characters: "+M),U?k.tag=M:l.call(k.tagMap,V)?k.tag=k.tagMap[V]+M:V==="!"?k.tag="!"+M:V==="!!"?k.tag="tag:yaml.org,2002:"+M:R(k,'undeclared tag handle "'+V+'"'),!0}function q(k){var j,V;if((V=k.input.charCodeAt(k.position))!==38)return!1;for(k.anchor!==null&&R(k,"duplication of an anchor property"),V=k.input.charCodeAt(++k.position),j=k.position;V!==0&&!g(V)&&!x(V);)V=k.input.charCodeAt(++k.position);return k.position===j&&R(k,"name of an anchor node must contain at least one character"),k.anchor=k.input.slice(j,k.position),!0}function ne(k,j,V,M,P){var U,K,X,Z,ae,ce,ie,pe,ve=1,fe=!1,xe=!1;if(k.listener!==null&&k.listener("open",k),k.tag=null,k.anchor=null,k.kind=null,k.result=null,U=K=X=V===4||V===3,M&&G(k,!0,-1)&&(fe=!0,k.lineIndent>j?ve=1:k.lineIndent===j?ve=0:k.lineIndent<j&&(ve=-1)),ve===1)for(;Q(k)||q(k);)G(k,!0,-1)?(fe=!0,X=U,k.lineIndent>j?ve=1:k.lineIndent===j?ve=0:k.lineIndent<j&&(ve=-1)):X=!1;if(X&&(X=fe||P),ve!==1&&V!==4||(ie=V===1||V===2?j:j+1,pe=k.position-k.lineStart,ve===1?X&&(J(k,pe)||function(Y,_e,be){var Ce,se,he,de,ye,Se=Y.tag,Ne=Y.anchor,De={},Ve={},Pe=null,ft=null,_t=null,Xe=!1,Tt=!1;for(Y.anchor!==null&&(Y.anchorMap[Y.anchor]=De),ye=Y.input.charCodeAt(Y.position);ye!==0;){if(Ce=Y.input.charCodeAt(Y.position+1),he=Y.line,de=Y.position,ye!==63&&ye!==58||!g(Ce)){if(!ne(Y,be,2,!1,!0))break;if(Y.line===he){for(ye=Y.input.charCodeAt(Y.position);v(ye);)ye=Y.input.charCodeAt(++Y.position);if(ye===58)g(ye=Y.input.charCodeAt(++Y.position))||R(Y,"a whitespace character is expected after the key-value separator within a block mapping"),Xe&&(F(Y,De,Ve,Pe,ft,null),Pe=ft=_t=null),Tt=!0,Xe=!1,se=!1,Pe=Y.tag,ft=Y.result;else{if(!Tt)return Y.tag=Se,Y.anchor=Ne,!0;R(Y,"can not read an implicit mapping pair; a colon is missed")}}else{if(!Tt)return Y.tag=Se,Y.anchor=Ne,!0;R(Y,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else ye===63?(Xe&&(F(Y,De,Ve,Pe,ft,null),Pe=ft=_t=null),Tt=!0,Xe=!0,se=!0):Xe?(Xe=!1,se=!0):R(Y,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),Y.position+=1,ye=Ce;if((Y.line===he||Y.lineIndent>_e)&&(ne(Y,_e,4,!0,se)&&(Xe?ft=Y.result:_t=Y.result),Xe||(F(Y,De,Ve,Pe,ft,_t,he,de),Pe=ft=_t=null),G(Y,!0,-1),ye=Y.input.charCodeAt(Y.position)),Y.lineIndent>_e&&ye!==0)R(Y,"bad indentation of a mapping entry");else if(Y.lineIndent<_e)break}return Xe&&F(Y,De,Ve,Pe,ft,null),Tt&&(Y.tag=Se,Y.anchor=Ne,Y.kind="mapping",Y.result=De),Tt}(k,pe,ie))||function(Y,_e){var be,Ce,se,he,de,ye,Se,Ne,De,Ve,Pe=!0,ft=Y.tag,_t=Y.anchor,Xe={};if((Ve=Y.input.charCodeAt(Y.position))===91)se=93,ye=!1,Ce=[];else{if(Ve!==123)return!1;se=125,ye=!0,Ce={}}for(Y.anchor!==null&&(Y.anchorMap[Y.anchor]=Ce),Ve=Y.input.charCodeAt(++Y.position);Ve!==0;){if(G(Y,!0,_e),(Ve=Y.input.charCodeAt(Y.position))===se)return Y.position++,Y.tag=ft,Y.anchor=_t,Y.kind=ye?"mapping":"sequence",Y.result=Ce,!0;Pe||R(Y,"missed comma between flow collection entries"),De=null,he=de=!1,Ve===63&&g(Y.input.charCodeAt(Y.position+1))&&(he=de=!0,Y.position++,G(Y,!0,_e)),be=Y.line,ne(Y,_e,1,!1,!0),Ne=Y.tag,Se=Y.result,G(Y,!0,_e),Ve=Y.input.charCodeAt(Y.position),!de&&Y.line!==be||Ve!==58||(he=!0,Ve=Y.input.charCodeAt(++Y.position),G(Y,!0,_e),ne(Y,_e,1,!1,!0),De=Y.result),ye?F(Y,Ce,Xe,Ne,Se,De):he?Ce.push(F(Y,null,Xe,Ne,Se,De)):Ce.push(Se),G(Y,!0,_e),(Ve=Y.input.charCodeAt(Y.position))===44?(Pe=!0,Ve=Y.input.charCodeAt(++Y.position)):Pe=!1}R(Y,"unexpected end of the stream within a flow collection")}(k,ie)?xe=!0:(K&&function(Y,_e){var be,Ce,se,he,de,ye=1,Se=!1,Ne=!1,De=_e,Ve=0,Pe=!1;if((he=Y.input.charCodeAt(Y.position))===124)Ce=!1;else{if(he!==62)return!1;Ce=!0}for(Y.kind="scalar",Y.result="";he!==0;)if((he=Y.input.charCodeAt(++Y.position))===43||he===45)ye===1?ye=he===43?3:2:R(Y,"repeat of a chomping mode identifier");else{if(!((se=48<=(de=he)&&de<=57?de-48:-1)>=0))break;se===0?R(Y,"bad explicit indentation width of a block scalar; it cannot be less than one"):Ne?R(Y,"repeat of an indentation width identifier"):(De=_e+se-1,Ne=!0)}if(v(he)){do he=Y.input.charCodeAt(++Y.position);while(v(he));if(he===35)do he=Y.input.charCodeAt(++Y.position);while(!_(he)&&he!==0)}for(;he!==0;){for(L(Y),Y.lineIndent=0,he=Y.input.charCodeAt(Y.position);(!Ne||Y.lineIndent<De)&&he===32;)Y.lineIndent++,he=Y.input.charCodeAt(++Y.position);if(!Ne&&Y.lineIndent>De&&(De=Y.lineIndent),_(he))Ve++;else{if(Y.lineIndent<De){ye===3?Y.result+=i.repeat(`
`,Se?1+Ve:Ve):ye===1&&Se&&(Y.result+=`
`);break}for(Ce?v(he)?(Pe=!0,Y.result+=i.repeat(`
`,Se?1+Ve:Ve)):Pe?(Pe=!1,Y.result+=i.repeat(`
`,Ve+1)):Ve===0?Se&&(Y.result+=" "):Y.result+=i.repeat(`
`,Ve):Y.result+=i.repeat(`
`,Se?1+Ve:Ve),Se=!0,Ne=!0,Ve=0,be=Y.position;!_(he)&&he!==0;)he=Y.input.charCodeAt(++Y.position);W(Y,be,Y.position,!1)}}return!0}(k,ie)||function(Y,_e){var be,Ce,se;if((be=Y.input.charCodeAt(Y.position))!==39)return!1;for(Y.kind="scalar",Y.result="",Y.position++,Ce=se=Y.position;(be=Y.input.charCodeAt(Y.position))!==0;)if(be===39){if(W(Y,Ce,Y.position,!0),(be=Y.input.charCodeAt(++Y.position))!==39)return!0;Ce=Y.position,Y.position++,se=Y.position}else _(be)?(W(Y,Ce,se,!0),$(Y,G(Y,!1,_e)),Ce=se=Y.position):Y.position===Y.lineStart&&H(Y)?R(Y,"unexpected end of the document within a single quoted scalar"):(Y.position++,se=Y.position);R(Y,"unexpected end of the stream within a single quoted scalar")}(k,ie)||function(Y,_e){var be,Ce,se,he,de,ye,Se;if((ye=Y.input.charCodeAt(Y.position))!==34)return!1;for(Y.kind="scalar",Y.result="",Y.position++,be=Ce=Y.position;(ye=Y.input.charCodeAt(Y.position))!==0;){if(ye===34)return W(Y,be,Y.position,!0),Y.position++,!0;if(ye===92){if(W(Y,be,Y.position,!0),_(ye=Y.input.charCodeAt(++Y.position)))G(Y,!1,_e);else if(ye<256&&T[ye])Y.result+=b[ye],Y.position++;else if((de=(Se=ye)===120?2:Se===117?4:Se===85?8:0)>0){for(se=de,he=0;se>0;se--)(de=w(ye=Y.input.charCodeAt(++Y.position)))>=0?he=(he<<4)+de:R(Y,"expected hexadecimal character");Y.result+=S(he),Y.position++}else R(Y,"unknown escape sequence");be=Ce=Y.position}else _(ye)?(W(Y,be,Ce,!0),$(Y,G(Y,!1,_e)),be=Ce=Y.position):Y.position===Y.lineStart&&H(Y)?R(Y,"unexpected end of the document within a double quoted scalar"):(Y.position++,Ce=Y.position)}R(Y,"unexpected end of the stream within a double quoted scalar")}(k,ie)?xe=!0:function(Y){var _e,be,Ce;if((Ce=Y.input.charCodeAt(Y.position))!==42)return!1;for(Ce=Y.input.charCodeAt(++Y.position),_e=Y.position;Ce!==0&&!g(Ce)&&!x(Ce);)Ce=Y.input.charCodeAt(++Y.position);return Y.position===_e&&R(Y,"name of an alias node must contain at least one character"),be=Y.input.slice(_e,Y.position),Y.anchorMap.hasOwnProperty(be)||R(Y,'unidentified alias "'+be+'"'),Y.result=Y.anchorMap[be],G(Y,!0,-1),!0}(k)?(xe=!0,k.tag===null&&k.anchor===null||R(k,"alias node should not have any properties")):function(Y,_e,be){var Ce,se,he,de,ye,Se,Ne,De,Ve=Y.kind,Pe=Y.result;if(g(De=Y.input.charCodeAt(Y.position))||x(De)||De===35||De===38||De===42||De===33||De===124||De===62||De===39||De===34||De===37||De===64||De===96||(De===63||De===45)&&(g(Ce=Y.input.charCodeAt(Y.position+1))||be&&x(Ce)))return!1;for(Y.kind="scalar",Y.result="",se=he=Y.position,de=!1;De!==0;){if(De===58){if(g(Ce=Y.input.charCodeAt(Y.position+1))||be&&x(Ce))break}else if(De===35){if(g(Y.input.charCodeAt(Y.position-1)))break}else{if(Y.position===Y.lineStart&&H(Y)||be&&x(De))break;if(_(De)){if(ye=Y.line,Se=Y.lineStart,Ne=Y.lineIndent,G(Y,!1,-1),Y.lineIndent>=_e){de=!0,De=Y.input.charCodeAt(Y.position);continue}Y.position=he,Y.line=ye,Y.lineStart=Se,Y.lineIndent=Ne;break}}de&&(W(Y,se,he,!1),$(Y,Y.line-ye),se=he=Y.position,de=!1),v(De)||(he=Y.position+1),De=Y.input.charCodeAt(++Y.position)}return W(Y,se,he,!1),!!Y.result||(Y.kind=Ve,Y.result=Pe,!1)}(k,ie,V===1)&&(xe=!0,k.tag===null&&(k.tag="?")),k.anchor!==null&&(k.anchorMap[k.anchor]=k.result)):ve===0&&(xe=X&&J(k,pe))),k.tag!==null&&k.tag!=="!")if(k.tag==="?"){for(k.result!==null&&k.kind!=="scalar"&&R(k,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+k.kind+'"'),Z=0,ae=k.implicitTypes.length;Z<ae;Z+=1)if((ce=k.implicitTypes[Z]).resolve(k.result)){k.result=ce.construct(k.result),k.tag=ce.tag,k.anchor!==null&&(k.anchorMap[k.anchor]=k.result);break}}else l.call(k.typeMap[k.kind||"fallback"],k.tag)?(ce=k.typeMap[k.kind||"fallback"][k.tag],k.result!==null&&ce.kind!==k.kind&&R(k,"unacceptable node kind for !<"+k.tag+'> tag; it should be "'+ce.kind+'", not "'+k.kind+'"'),ce.resolve(k.result)?(k.result=ce.construct(k.result),k.anchor!==null&&(k.anchorMap[k.anchor]=k.result)):R(k,"cannot resolve a node with !<"+k.tag+"> explicit tag")):R(k,"unknown tag !<"+k.tag+">");return k.listener!==null&&k.listener("close",k),k.tag!==null||k.anchor!==null||xe}function te(k){var j,V,M,P,U=k.position,K=!1;for(k.version=null,k.checkLineBreaks=k.legacy,k.tagMap={},k.anchorMap={};(P=k.input.charCodeAt(k.position))!==0&&(G(k,!0,-1),P=k.input.charCodeAt(k.position),!(k.lineIndent>0||P!==37));){for(K=!0,P=k.input.charCodeAt(++k.position),j=k.position;P!==0&&!g(P);)P=k.input.charCodeAt(++k.position);for(M=[],(V=k.input.slice(j,k.position)).length<1&&R(k,"directive name must not be less than one character in length");P!==0;){for(;v(P);)P=k.input.charCodeAt(++k.position);if(P===35){do P=k.input.charCodeAt(++k.position);while(P!==0&&!_(P));break}if(_(P))break;for(j=k.position;P!==0&&!g(P);)P=k.input.charCodeAt(++k.position);M.push(k.input.slice(j,k.position))}P!==0&&L(k),l.call(A,V)?A[V](k,V,M):E(k,'unknown document directive "'+V+'"')}G(k,!0,-1),k.lineIndent===0&&k.input.charCodeAt(k.position)===45&&k.input.charCodeAt(k.position+1)===45&&k.input.charCodeAt(k.position+2)===45?(k.position+=3,G(k,!0,-1)):K&&R(k,"directives end mark is expected"),ne(k,k.lineIndent-1,4,!1,!0),G(k,!0,-1),k.checkLineBreaks&&h.test(k.input.slice(U,k.position))&&E(k,"non-ASCII line breaks are interpreted as content"),k.documents.push(k.result),k.position===k.lineStart&&H(k)?k.input.charCodeAt(k.position)===46&&(k.position+=3,G(k,!0,-1)):k.position<k.length-1&&R(k,"end of the stream or a document separator is expected")}function oe(k,j){j=j||{},(k=String(k)).length!==0&&(k.charCodeAt(k.length-1)!==10&&k.charCodeAt(k.length-1)!==13&&(k+=`
`),k.charCodeAt(0)===65279&&(k=k.slice(1)));var V=new D(k,j),M=k.indexOf("\0");for(M!==-1&&(V.position=M,R(V,"null byte is not allowed in input")),V.input+="\0";V.input.charCodeAt(V.position)===32;)V.lineIndent+=1,V.position+=1;for(;V.position<V.length-1;)te(V);return V.documents}function re(k,j,V){j!==null&&typeof j=="object"&&V===void 0&&(V=j,j=null);var M=oe(k,V);if(typeof j!="function")return M;for(var P=0,U=M.length;P<U;P+=1)j(M[P])}function B(k,j){var V=oe(k,j);if(V.length!==0){if(V.length===1)return V[0];throw new s("expected a single document in the stream, but found more")}}n.exports.loadAll=re,n.exports.load=B,n.exports.safeLoadAll=function(k,j,V){return typeof j=="object"&&j!==null&&V===void 0&&(V=j,j=null),re(k,j,i.extend({schema:c},V))},n.exports.safeLoad=function(k,j){return B(k,i.extend({schema:c},j))}},function(n,r,a){var i=a(38);function s(o,c,u,l,f){this.name=o,this.buffer=c,this.position=u,this.line=l,this.column=f}s.prototype.getSnippet=function(o,c){var u,l,f,h,p;if(!this.buffer)return null;for(o=o||4,c=c||75,u="",l=this.position;l>0&&`\0\r
\x85\u2028\u2029`.indexOf(this.buffer.charAt(l-1))===-1;)if(l-=1,this.position-l>c/2-1){u=" ... ",l+=5;break}for(f="",h=this.position;h<this.buffer.length&&`\0\r
\x85\u2028\u2029`.indexOf(this.buffer.charAt(h))===-1;)if((h+=1)-this.position>c/2-1){f=" ... ",h-=5;break}return p=this.buffer.slice(l,h),i.repeat(" ",o)+u+p+f+`
`+i.repeat(" ",o+this.position-l+u.length)+"^"},s.prototype.toString=function(o){var c,u="";return this.name&&(u+='in "'+this.name+'" '),u+="at line "+(this.line+1)+", column "+(this.column+1),o||(c=this.getSnippet())&&(u+=`:
`+c),u},n.exports=s},function(n,r,a){var i=a(10);n.exports=new i("tag:yaml.org,2002:str",{kind:"scalar",construct:function(s){return s!==null?s:""}})},function(n,r,a){var i=a(10);n.exports=new i("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(s){return s!==null?s:[]}})},function(n,r,a){var i=a(10);n.exports=new i("tag:yaml.org,2002:map",{kind:"mapping",construct:function(s){return s!==null?s:{}}})},function(n,r,a){var i=a(10);n.exports=new i("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(s){if(s===null)return!0;var o=s.length;return o===1&&s==="~"||o===4&&(s==="null"||s==="Null"||s==="NULL")},construct:function(){return null},predicate:function(s){return s===null},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(n,r,a){var i=a(10);n.exports=new i("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(s){if(s===null)return!1;var o=s.length;return o===4&&(s==="true"||s==="True"||s==="TRUE")||o===5&&(s==="false"||s==="False"||s==="FALSE")},construct:function(s){return s==="true"||s==="True"||s==="TRUE"},predicate:function(s){return Object.prototype.toString.call(s)==="[object Boolean]"},represent:{lowercase:function(s){return s?"true":"false"},uppercase:function(s){return s?"TRUE":"FALSE"},camelcase:function(s){return s?"True":"False"}},defaultStyle:"lowercase"})},function(n,r,a){var i=a(38),s=a(10);function o(u){return 48<=u&&u<=55}function c(u){return 48<=u&&u<=57}n.exports=new s("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(u){if(u===null)return!1;var l,f,h=u.length,p=0,d=!1;if(!h)return!1;if((l=u[p])!=="-"&&l!=="+"||(l=u[++p]),l==="0"){if(p+1===h)return!0;if((l=u[++p])==="b"){for(p++;p<h;p++)if((l=u[p])!=="_"){if(l!=="0"&&l!=="1")return!1;d=!0}return d&&l!=="_"}if(l==="x"){for(p++;p<h;p++)if((l=u[p])!=="_"){if(!(48<=(f=u.charCodeAt(p))&&f<=57||65<=f&&f<=70||97<=f&&f<=102))return!1;d=!0}return d&&l!=="_"}for(;p<h;p++)if((l=u[p])!=="_"){if(!o(u.charCodeAt(p)))return!1;d=!0}return d&&l!=="_"}if(l==="_")return!1;for(;p<h;p++)if((l=u[p])!=="_"){if(l===":")break;if(!c(u.charCodeAt(p)))return!1;d=!0}return!(!d||l==="_")&&(l!==":"||/^(:[0-5]?[0-9])+$/.test(u.slice(p)))},construct:function(u){var l,f,h=u,p=1,d=[];return h.indexOf("_")!==-1&&(h=h.replace(/_/g,"")),(l=h[0])!=="-"&&l!=="+"||(l==="-"&&(p=-1),l=(h=h.slice(1))[0]),h==="0"?0:l==="0"?h[1]==="b"?p*parseInt(h.slice(2),2):h[1]==="x"?p*parseInt(h,16):p*parseInt(h,8):h.indexOf(":")!==-1?(h.split(":").forEach(function(y){d.unshift(parseInt(y,10))}),h=0,f=1,d.forEach(function(y){h+=y*f,f*=60}),p*h):p*parseInt(h,10)},predicate:function(u){return Object.prototype.toString.call(u)==="[object Number]"&&u%1==0&&!i.isNegativeZero(u)},represent:{binary:function(u){return u>=0?"0b"+u.toString(2):"-0b"+u.toString(2).slice(1)},octal:function(u){return u>=0?"0"+u.toString(8):"-0"+u.toString(8).slice(1)},decimal:function(u){return u.toString(10)},hexadecimal:function(u){return u>=0?"0x"+u.toString(16).toUpperCase():"-0x"+u.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(n,r,a){var i=a(38),s=a(10),o=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),c=/^[-+]?[0-9]+e/;n.exports=new s("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(u){return u!==null&&!(!o.test(u)||u[u.length-1]==="_")},construct:function(u){var l,f,h,p;return f=(l=u.replace(/_/g,"").toLowerCase())[0]==="-"?-1:1,p=[],"+-".indexOf(l[0])>=0&&(l=l.slice(1)),l===".inf"?f===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:l===".nan"?NaN:l.indexOf(":")>=0?(l.split(":").forEach(function(d){p.unshift(parseFloat(d,10))}),l=0,h=1,p.forEach(function(d){l+=d*h,h*=60}),f*l):f*parseFloat(l,10)},predicate:function(u){return Object.prototype.toString.call(u)==="[object Number]"&&(u%1!=0||i.isNegativeZero(u))},represent:function(u,l){var f;if(isNaN(u))switch(l){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===u)switch(l){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===u)switch(l){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(i.isNegativeZero(u))return"-0.0";return f=u.toString(10),c.test(f)?f.replace("e",".e"):f},defaultStyle:"lowercase"})},function(n,r,a){var i=a(10),s=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");n.exports=new i("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(c){return c!==null&&(s.exec(c)!==null||o.exec(c)!==null)},construct:function(c){var u,l,f,h,p,d,y,m,_=0,v=null;if((u=s.exec(c))===null&&(u=o.exec(c)),u===null)throw new Error("Date resolve error");if(l=+u[1],f=+u[2]-1,h=+u[3],!u[4])return new Date(Date.UTC(l,f,h));if(p=+u[4],d=+u[5],y=+u[6],u[7]){for(_=u[7].slice(0,3);_.length<3;)_+="0";_=+_}return u[9]&&(v=6e4*(60*+u[10]+ +(u[11]||0)),u[9]==="-"&&(v=-v)),m=new Date(Date.UTC(l,f,h,p,d,y,_)),v&&m.setTime(m.getTime()-v),m},instanceOf:Date,represent:function(c){return c.toISOString()}})},function(n,r,a){var i=a(10);n.exports=new i("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(s){return s==="<<"||s===null}})},function(n,r,a){var i;try{i=a(145).Buffer}catch{}var s=a(10),o=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;n.exports=new s("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(c){if(c===null)return!1;var u,l,f=0,h=c.length,p=o;for(l=0;l<h;l++)if(!((u=p.indexOf(c.charAt(l)))>64)){if(u<0)return!1;f+=6}return f%8==0},construct:function(c){var u,l,f=c.replace(/[\r\n=]/g,""),h=f.length,p=o,d=0,y=[];for(u=0;u<h;u++)u%4==0&&u&&(y.push(d>>16&255),y.push(d>>8&255),y.push(255&d)),d=d<<6|p.indexOf(f.charAt(u));return(l=h%4*6)===0?(y.push(d>>16&255),y.push(d>>8&255),y.push(255&d)):l===18?(y.push(d>>10&255),y.push(d>>2&255)):l===12&&y.push(d>>4&255),i?i.from?i.from(y):new i(y):y},predicate:function(c){return i&&i.isBuffer(c)},represent:function(c){var u,l,f="",h=0,p=c.length,d=o;for(u=0;u<p;u++)u%3==0&&u&&(f+=d[h>>18&63],f+=d[h>>12&63],f+=d[h>>6&63],f+=d[63&h]),h=(h<<8)+c[u];return(l=p%3)===0?(f+=d[h>>18&63],f+=d[h>>12&63],f+=d[h>>6&63],f+=d[63&h]):l===2?(f+=d[h>>10&63],f+=d[h>>4&63],f+=d[h<<2&63],f+=d[64]):l===1&&(f+=d[h>>2&63],f+=d[h<<4&63],f+=d[64],f+=d[64]),f}})},function(n,r,a){var i=a(10),s=Object.prototype.hasOwnProperty,o=Object.prototype.toString;n.exports=new i("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(c){if(c===null)return!0;var u,l,f,h,p,d=[],y=c;for(u=0,l=y.length;u<l;u+=1){if(f=y[u],p=!1,o.call(f)!=="[object Object]")return!1;for(h in f)if(s.call(f,h)){if(p)return!1;p=!0}if(!p||d.indexOf(h)!==-1)return!1;d.push(h)}return!0},construct:function(c){return c!==null?c:[]}})},function(n,r,a){var i=a(10),s=Object.prototype.toString;n.exports=new i("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(o){if(o===null)return!0;var c,u,l,f,h,p=o;for(h=new Array(p.length),c=0,u=p.length;c<u;c+=1){if(l=p[c],s.call(l)!=="[object Object]"||(f=Object.keys(l)).length!==1)return!1;h[c]=[f[0],l[f[0]]]}return!0},construct:function(o){if(o===null)return[];var c,u,l,f,h,p=o;for(h=new Array(p.length),c=0,u=p.length;c<u;c+=1)l=p[c],f=Object.keys(l),h[c]=[f[0],l[f[0]]];return h}})},function(n,r,a){var i=a(10),s=Object.prototype.hasOwnProperty;n.exports=new i("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(o){if(o===null)return!0;var c,u=o;for(c in u)if(s.call(u,c)&&u[c]!==null)return!1;return!0},construct:function(o){return o!==null?o:{}}})},function(n,r,a){var i=a(10);n.exports=new i("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(s){return s===void 0},represent:function(){return""}})},function(n,r,a){var i=a(10);n.exports=new i("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(s){if(s===null||s.length===0)return!1;var o=s,c=/\/([gim]*)$/.exec(s),u="";return!(o[0]==="/"&&(c&&(u=c[1]),u.length>3||o[o.length-u.length-1]!=="/"))},construct:function(s){var o=s,c=/\/([gim]*)$/.exec(s),u="";return o[0]==="/"&&(c&&(u=c[1]),o=o.slice(1,o.length-u.length-1)),new RegExp(o,u)},predicate:function(s){return Object.prototype.toString.call(s)==="[object RegExp]"},represent:function(s){var o="/"+s.source+"/";return s.global&&(o+="g"),s.multiline&&(o+="m"),s.ignoreCase&&(o+="i"),o}})},function(n,r,a){var i;try{i=a(302)}catch{typeof window!="undefined"&&(i=window.esprima)}var s=a(10);n.exports=new s("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(o){if(o===null)return!1;try{var c="("+o+")",u=i.parse(c,{range:!0});return u.type==="Program"&&u.body.length===1&&u.body[0].type==="ExpressionStatement"&&(u.body[0].expression.type==="ArrowFunctionExpression"||u.body[0].expression.type==="FunctionExpression")}catch{return!1}},construct:function(o){var c,u="("+o+")",l=i.parse(u,{range:!0}),f=[];if(l.type!=="Program"||l.body.length!==1||l.body[0].type!=="ExpressionStatement"||l.body[0].expression.type!=="ArrowFunctionExpression"&&l.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return l.body[0].expression.params.forEach(function(h){f.push(h.name)}),c=l.body[0].expression.body.range,l.body[0].expression.body.type==="BlockStatement"?new Function(f,u.slice(c[0]+1,c[1]-1)):new Function(f,"return "+u.slice(c[0],c[1]))},predicate:function(o){return Object.prototype.toString.call(o)==="[object Function]"},represent:function(o){return o.toString()}})},function(n,r,a){var i;i=function(){return function(s){var o={};function c(u){if(o[u])return o[u].exports;var l=o[u]={exports:{},id:u,loaded:!1};return s[u].call(l.exports,l,l.exports,c),l.loaded=!0,l.exports}return c.m=s,c.c=o,c.p="",c(0)}([function(s,o,c){Object.defineProperty(o,"__esModule",{value:!0});var u=c(1),l=c(3),f=c(8),h=c(15);function p(y,m,_){var v=null,g=function(O,D){_&&_(O,D),v&&v.visit(O,D)},x=typeof _=="function"?g:null,w=!1;if(m){w=typeof m.comment=="boolean"&&m.comment;var C=typeof m.attachComment=="boolean"&&m.attachComment;(w||C)&&((v=new u.CommentHandler).attach=C,m.comment=!0,x=g)}var S,T=!1;m&&typeof m.sourceType=="string"&&(T=m.sourceType==="module"),S=m&&typeof m.jsx=="boolean"&&m.jsx?new l.JSXParser(y,m,x):new f.Parser(y,m,x);var b=T?S.parseModule():S.parseScript();return w&&v&&(b.comments=v.comments),S.config.tokens&&(b.tokens=S.tokens),S.config.tolerant&&(b.errors=S.errorHandler.errors),b}o.parse=p,o.parseModule=function(y,m,_){var v=m||{};return v.sourceType="module",p(y,v,_)},o.parseScript=function(y,m,_){var v=m||{};return v.sourceType="script",p(y,v,_)},o.tokenize=function(y,m,_){var v,g=new h.Tokenizer(y,m);v=[];try{for(;;){var x=g.getNextToken();if(!x)break;_&&(x=_(x)),v.push(x)}}catch(w){g.errorHandler.tolerate(w)}return g.errorHandler.tolerant&&(v.errors=g.errors()),v};var d=c(2);o.Syntax=d.Syntax,o.version="4.0.1"},function(s,o,c){Object.defineProperty(o,"__esModule",{value:!0});var u=c(2),l=function(){function f(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return f.prototype.insertInnerComments=function(h,p){if(h.type===u.Syntax.BlockStatement&&h.body.length===0){for(var d=[],y=this.leading.length-1;y>=0;--y){var m=this.leading[y];p.end.offset>=m.start&&(d.unshift(m.comment),this.leading.splice(y,1),this.trailing.splice(y,1))}d.length&&(h.innerComments=d)}},f.prototype.findTrailingComments=function(h){var p=[];if(this.trailing.length>0){for(var d=this.trailing.length-1;d>=0;--d){var y=this.trailing[d];y.start>=h.end.offset&&p.unshift(y.comment)}return this.trailing.length=0,p}var m=this.stack[this.stack.length-1];if(m&&m.node.trailingComments){var _=m.node.trailingComments[0];_&&_.range[0]>=h.end.offset&&(p=m.node.trailingComments,delete m.node.trailingComments)}return p},f.prototype.findLeadingComments=function(h){for(var p,d=[];this.stack.length>0&&(_=this.stack[this.stack.length-1])&&_.start>=h.start.offset;)p=_.node,this.stack.pop();if(p){for(var y=(p.leadingComments?p.leadingComments.length:0)-1;y>=0;--y){var m=p.leadingComments[y];m.range[1]<=h.start.offset&&(d.unshift(m),p.leadingComments.splice(y,1))}return p.leadingComments&&p.leadingComments.length===0&&delete p.leadingComments,d}for(y=this.leading.length-1;y>=0;--y){var _;(_=this.leading[y]).start<=h.start.offset&&(d.unshift(_.comment),this.leading.splice(y,1))}return d},f.prototype.visitNode=function(h,p){if(!(h.type===u.Syntax.Program&&h.body.length>0)){this.insertInnerComments(h,p);var d=this.findTrailingComments(p),y=this.findLeadingComments(p);y.length>0&&(h.leadingComments=y),d.length>0&&(h.trailingComments=d),this.stack.push({node:h,start:p.start.offset})}},f.prototype.visitComment=function(h,p){var d=h.type[0]==="L"?"Line":"Block",y={type:d,value:h.value};if(h.range&&(y.range=h.range),h.loc&&(y.loc=h.loc),this.comments.push(y),this.attach){var m={comment:{type:d,value:h.value,range:[p.start.offset,p.end.offset]},start:p.start.offset};h.loc&&(m.comment.loc=h.loc),h.type=d,this.leading.push(m),this.trailing.push(m)}},f.prototype.visit=function(h,p){h.type==="LineComment"||h.type==="BlockComment"?this.visitComment(h,p):this.attach&&this.visitNode(h,p)},f}();o.CommentHandler=l},function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(s,o,c){var u,l=this&&this.__extends||(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var C in w)w.hasOwnProperty(C)&&(x[C]=w[C])},function(x,w){function C(){this.constructor=x}u(x,w),x.prototype=w===null?Object.create(w):(C.prototype=w.prototype,new C)});Object.defineProperty(o,"__esModule",{value:!0});var f=c(4),h=c(5),p=c(6),d=c(7),y=c(8),m=c(13),_=c(14);function v(x){var w;switch(x.type){case p.JSXSyntax.JSXIdentifier:w=x.name;break;case p.JSXSyntax.JSXNamespacedName:var C=x;w=v(C.namespace)+":"+v(C.name);break;case p.JSXSyntax.JSXMemberExpression:var S=x;w=v(S.object)+"."+v(S.property)}return w}m.TokenName[100]="JSXIdentifier",m.TokenName[101]="JSXText";var g=function(x){function w(C,S,T){return x.call(this,C,S,T)||this}return l(w,x),w.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():x.prototype.parsePrimaryExpression.call(this)},w.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},w.prototype.finishJSX=function(){this.nextToken()},w.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},w.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},w.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},w.prototype.scanXHTMLEntity=function(C){for(var S="&",T=!0,b=!1,O=!1,D=!1;!this.scanner.eof()&&T&&!b;){var N=this.scanner.source[this.scanner.index];if(N===C)break;if(b=N===";",S+=N,++this.scanner.index,!b)switch(S.length){case 2:O=N==="#";break;case 3:O&&(T=(D=N==="x")||f.Character.isDecimalDigit(N.charCodeAt(0)),O=O&&!D);break;default:T=(T=T&&!(O&&!f.Character.isDecimalDigit(N.charCodeAt(0))))&&!(D&&!f.Character.isHexDigit(N.charCodeAt(0)))}}if(T&&b&&S.length>2){var R=S.substr(1,S.length-2);O&&R.length>1?S=String.fromCharCode(parseInt(R.substr(1),10)):D&&R.length>2?S=String.fromCharCode(parseInt("0"+R.substr(1),16)):O||D||!_.XHTMLEntities[R]||(S=_.XHTMLEntities[R])}return S},w.prototype.lexJSX=function(){var C=this.scanner.source.charCodeAt(this.scanner.index);if(C===60||C===62||C===47||C===58||C===61||C===123||C===125)return{type:7,value:N=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(C===34||C===39){for(var S=this.scanner.index,T=this.scanner.source[this.scanner.index++],b="";!this.scanner.eof()&&(R=this.scanner.source[this.scanner.index++])!==T;)b+=R==="&"?this.scanXHTMLEntity(T):R;return{type:8,value:b,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:S,end:this.scanner.index}}if(C===46){var O=this.scanner.source.charCodeAt(this.scanner.index+1),D=this.scanner.source.charCodeAt(this.scanner.index+2),N=O===46&&D===46?"...":".";return S=this.scanner.index,this.scanner.index+=N.length,{type:7,value:N,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:S,end:this.scanner.index}}if(C===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(f.Character.isIdentifierStart(C)&&C!==92){for(S=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var R=this.scanner.source.charCodeAt(this.scanner.index);if(f.Character.isIdentifierPart(R)&&R!==92)++this.scanner.index;else{if(R!==45)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(S,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:S,end:this.scanner.index}}return this.scanner.lex()},w.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var C=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(C)),C},w.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var C=this.scanner.index,S="";!this.scanner.eof();){var T=this.scanner.source[this.scanner.index];if(T==="{"||T==="<")break;++this.scanner.index,S+=T,f.Character.isLineTerminator(T.charCodeAt(0))&&(++this.scanner.lineNumber,T==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var b={type:101,value:S,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:C,end:this.scanner.index};return S.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(b)),b},w.prototype.peekJSXToken=function(){var C=this.scanner.saveState();this.scanner.scanComments();var S=this.lexJSX();return this.scanner.restoreState(C),S},w.prototype.expectJSX=function(C){var S=this.nextJSXToken();S.type===7&&S.value===C||this.throwUnexpectedToken(S)},w.prototype.matchJSX=function(C){var S=this.peekJSXToken();return S.type===7&&S.value===C},w.prototype.parseJSXIdentifier=function(){var C=this.createJSXNode(),S=this.nextJSXToken();return S.type!==100&&this.throwUnexpectedToken(S),this.finalize(C,new h.JSXIdentifier(S.value))},w.prototype.parseJSXElementName=function(){var C=this.createJSXNode(),S=this.parseJSXIdentifier();if(this.matchJSX(":")){var T=S;this.expectJSX(":");var b=this.parseJSXIdentifier();S=this.finalize(C,new h.JSXNamespacedName(T,b))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var O=S;this.expectJSX(".");var D=this.parseJSXIdentifier();S=this.finalize(C,new h.JSXMemberExpression(O,D))}return S},w.prototype.parseJSXAttributeName=function(){var C,S=this.createJSXNode(),T=this.parseJSXIdentifier();if(this.matchJSX(":")){var b=T;this.expectJSX(":");var O=this.parseJSXIdentifier();C=this.finalize(S,new h.JSXNamespacedName(b,O))}else C=T;return C},w.prototype.parseJSXStringLiteralAttribute=function(){var C=this.createJSXNode(),S=this.nextJSXToken();S.type!==8&&this.throwUnexpectedToken(S);var T=this.getTokenRaw(S);return this.finalize(C,new d.Literal(S.value,T))},w.prototype.parseJSXExpressionAttribute=function(){var C=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var S=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(C,new h.JSXExpressionContainer(S))},w.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},w.prototype.parseJSXNameValueAttribute=function(){var C=this.createJSXNode(),S=this.parseJSXAttributeName(),T=null;return this.matchJSX("=")&&(this.expectJSX("="),T=this.parseJSXAttributeValue()),this.finalize(C,new h.JSXAttribute(S,T))},w.prototype.parseJSXSpreadAttribute=function(){var C=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var S=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(C,new h.JSXSpreadAttribute(S))},w.prototype.parseJSXAttributes=function(){for(var C=[];!this.matchJSX("/")&&!this.matchJSX(">");){var S=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();C.push(S)}return C},w.prototype.parseJSXOpeningElement=function(){var C=this.createJSXNode();this.expectJSX("<");var S=this.parseJSXElementName(),T=this.parseJSXAttributes(),b=this.matchJSX("/");return b&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(C,new h.JSXOpeningElement(S,b,T))},w.prototype.parseJSXBoundaryElement=function(){var C=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var S=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(C,new h.JSXClosingElement(S))}var T=this.parseJSXElementName(),b=this.parseJSXAttributes(),O=this.matchJSX("/");return O&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(C,new h.JSXOpeningElement(T,O,b))},w.prototype.parseJSXEmptyExpression=function(){var C=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(C,new h.JSXEmptyExpression)},w.prototype.parseJSXExpressionContainer=function(){var C,S=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(C=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),C=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(S,new h.JSXExpressionContainer(C))},w.prototype.parseJSXChildren=function(){for(var C=[];!this.scanner.eof();){var S=this.createJSXChildNode(),T=this.nextJSXText();if(T.start<T.end){var b=this.getTokenRaw(T),O=this.finalize(S,new h.JSXText(T.value,b));C.push(O)}if(this.scanner.source[this.scanner.index]!=="{")break;var D=this.parseJSXExpressionContainer();C.push(D)}return C},w.prototype.parseComplexJSXElement=function(C){for(var S=[];!this.scanner.eof();){C.children=C.children.concat(this.parseJSXChildren());var T=this.createJSXChildNode(),b=this.parseJSXBoundaryElement();if(b.type===p.JSXSyntax.JSXOpeningElement){var O=b;if(O.selfClosing){var D=this.finalize(T,new h.JSXElement(O,[],null));C.children.push(D)}else S.push(C),C={node:T,opening:O,closing:null,children:[]}}if(b.type===p.JSXSyntax.JSXClosingElement){C.closing=b;var N=v(C.opening.name);if(N!==v(C.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",N),!(S.length>0))break;D=this.finalize(C.node,new h.JSXElement(C.opening,C.children,C.closing)),(C=S[S.length-1]).children.push(D),S.pop()}}return C},w.prototype.parseJSXElement=function(){var C=this.createJSXNode(),S=this.parseJSXOpeningElement(),T=[],b=null;if(!S.selfClosing){var O=this.parseComplexJSXElement({node:C,opening:S,closing:b,children:T});T=O.children,b=O.closing}return this.finalize(C,new h.JSXElement(S,T,b))},w.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var C=this.parseJSXElement();return this.finishJSX(),C},w.prototype.isStartOfExpression=function(){return x.prototype.isStartOfExpression.call(this)||this.match("<")},w}(y.Parser);o.JSXParser=g},function(s,o){Object.defineProperty(o,"__esModule",{value:!0});var c={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};o.Character={fromCodePoint:function(u){return u<65536?String.fromCharCode(u):String.fromCharCode(55296+(u-65536>>10))+String.fromCharCode(56320+(u-65536&1023))},isWhiteSpace:function(u){return u===32||u===9||u===11||u===12||u===160||u>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(u)>=0},isLineTerminator:function(u){return u===10||u===13||u===8232||u===8233},isIdentifierStart:function(u){return u===36||u===95||u>=65&&u<=90||u>=97&&u<=122||u===92||u>=128&&c.NonAsciiIdentifierStart.test(o.Character.fromCodePoint(u))},isIdentifierPart:function(u){return u===36||u===95||u>=65&&u<=90||u>=97&&u<=122||u>=48&&u<=57||u===92||u>=128&&c.NonAsciiIdentifierPart.test(o.Character.fromCodePoint(u))},isDecimalDigit:function(u){return u>=48&&u<=57},isHexDigit:function(u){return u>=48&&u<=57||u>=65&&u<=70||u>=97&&u<=102},isOctalDigit:function(u){return u>=48&&u<=55}}},function(s,o,c){Object.defineProperty(o,"__esModule",{value:!0});var u=c(6),l=function(w){this.type=u.JSXSyntax.JSXClosingElement,this.name=w};o.JSXClosingElement=l;var f=function(w,C,S){this.type=u.JSXSyntax.JSXElement,this.openingElement=w,this.children=C,this.closingElement=S};o.JSXElement=f;var h=function(){this.type=u.JSXSyntax.JSXEmptyExpression};o.JSXEmptyExpression=h;var p=function(w){this.type=u.JSXSyntax.JSXExpressionContainer,this.expression=w};o.JSXExpressionContainer=p;var d=function(w){this.type=u.JSXSyntax.JSXIdentifier,this.name=w};o.JSXIdentifier=d;var y=function(w,C){this.type=u.JSXSyntax.JSXMemberExpression,this.object=w,this.property=C};o.JSXMemberExpression=y;var m=function(w,C){this.type=u.JSXSyntax.JSXAttribute,this.name=w,this.value=C};o.JSXAttribute=m;var _=function(w,C){this.type=u.JSXSyntax.JSXNamespacedName,this.namespace=w,this.name=C};o.JSXNamespacedName=_;var v=function(w,C,S){this.type=u.JSXSyntax.JSXOpeningElement,this.name=w,this.selfClosing=C,this.attributes=S};o.JSXOpeningElement=v;var g=function(w){this.type=u.JSXSyntax.JSXSpreadAttribute,this.argument=w};o.JSXSpreadAttribute=g;var x=function(w,C){this.type=u.JSXSyntax.JSXText,this.value=w,this.raw=C};o.JSXText=x},function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(s,o,c){Object.defineProperty(o,"__esModule",{value:!0});var u=c(2),l=function(le){this.type=u.Syntax.ArrayExpression,this.elements=le};o.ArrayExpression=l;var f=function(le){this.type=u.Syntax.ArrayPattern,this.elements=le};o.ArrayPattern=f;var h=function(le,ge,Fe){this.type=u.Syntax.ArrowFunctionExpression,this.id=null,this.params=le,this.body=ge,this.generator=!1,this.expression=Fe,this.async=!1};o.ArrowFunctionExpression=h;var p=function(le,ge,Fe){this.type=u.Syntax.AssignmentExpression,this.operator=le,this.left=ge,this.right=Fe};o.AssignmentExpression=p;var d=function(le,ge){this.type=u.Syntax.AssignmentPattern,this.left=le,this.right=ge};o.AssignmentPattern=d;var y=function(le,ge,Fe){this.type=u.Syntax.ArrowFunctionExpression,this.id=null,this.params=le,this.body=ge,this.generator=!1,this.expression=Fe,this.async=!0};o.AsyncArrowFunctionExpression=y;var m=function(le,ge,Fe){this.type=u.Syntax.FunctionDeclaration,this.id=le,this.params=ge,this.body=Fe,this.generator=!1,this.expression=!1,this.async=!0};o.AsyncFunctionDeclaration=m;var _=function(le,ge,Fe){this.type=u.Syntax.FunctionExpression,this.id=le,this.params=ge,this.body=Fe,this.generator=!1,this.expression=!1,this.async=!0};o.AsyncFunctionExpression=_;var v=function(le){this.type=u.Syntax.AwaitExpression,this.argument=le};o.AwaitExpression=v;var g=function(le,ge,Fe){var qt=le==="||"||le==="&&";this.type=qt?u.Syntax.LogicalExpression:u.Syntax.BinaryExpression,this.operator=le,this.left=ge,this.right=Fe};o.BinaryExpression=g;var x=function(le){this.type=u.Syntax.BlockStatement,this.body=le};o.BlockStatement=x;var w=function(le){this.type=u.Syntax.BreakStatement,this.label=le};o.BreakStatement=w;var C=function(le,ge){this.type=u.Syntax.CallExpression,this.callee=le,this.arguments=ge};o.CallExpression=C;var S=function(le,ge){this.type=u.Syntax.CatchClause,this.param=le,this.body=ge};o.CatchClause=S;var T=function(le){this.type=u.Syntax.ClassBody,this.body=le};o.ClassBody=T;var b=function(le,ge,Fe){this.type=u.Syntax.ClassDeclaration,this.id=le,this.superClass=ge,this.body=Fe};o.ClassDeclaration=b;var O=function(le,ge,Fe){this.type=u.Syntax.ClassExpression,this.id=le,this.superClass=ge,this.body=Fe};o.ClassExpression=O;var D=function(le,ge){this.type=u.Syntax.MemberExpression,this.computed=!0,this.object=le,this.property=ge};o.ComputedMemberExpression=D;var N=function(le,ge,Fe){this.type=u.Syntax.ConditionalExpression,this.test=le,this.consequent=ge,this.alternate=Fe};o.ConditionalExpression=N;var R=function(le){this.type=u.Syntax.ContinueStatement,this.label=le};o.ContinueStatement=R;var E=function(){this.type=u.Syntax.DebuggerStatement};o.DebuggerStatement=E;var A=function(le,ge){this.type=u.Syntax.ExpressionStatement,this.expression=le,this.directive=ge};o.Directive=A;var W=function(le,ge){this.type=u.Syntax.DoWhileStatement,this.body=le,this.test=ge};o.DoWhileStatement=W;var z=function(){this.type=u.Syntax.EmptyStatement};o.EmptyStatement=z;var F=function(le){this.type=u.Syntax.ExportAllDeclaration,this.source=le};o.ExportAllDeclaration=F;var L=function(le){this.type=u.Syntax.ExportDefaultDeclaration,this.declaration=le};o.ExportDefaultDeclaration=L;var G=function(le,ge,Fe){this.type=u.Syntax.ExportNamedDeclaration,this.declaration=le,this.specifiers=ge,this.source=Fe};o.ExportNamedDeclaration=G;var H=function(le,ge){this.type=u.Syntax.ExportSpecifier,this.exported=ge,this.local=le};o.ExportSpecifier=H;var $=function(le){this.type=u.Syntax.ExpressionStatement,this.expression=le};o.ExpressionStatement=$;var J=function(le,ge,Fe){this.type=u.Syntax.ForInStatement,this.left=le,this.right=ge,this.body=Fe,this.each=!1};o.ForInStatement=J;var Q=function(le,ge,Fe){this.type=u.Syntax.ForOfStatement,this.left=le,this.right=ge,this.body=Fe};o.ForOfStatement=Q;var q=function(le,ge,Fe,qt){this.type=u.Syntax.ForStatement,this.init=le,this.test=ge,this.update=Fe,this.body=qt};o.ForStatement=q;var ne=function(le,ge,Fe,qt){this.type=u.Syntax.FunctionDeclaration,this.id=le,this.params=ge,this.body=Fe,this.generator=qt,this.expression=!1,this.async=!1};o.FunctionDeclaration=ne;var te=function(le,ge,Fe,qt){this.type=u.Syntax.FunctionExpression,this.id=le,this.params=ge,this.body=Fe,this.generator=qt,this.expression=!1,this.async=!1};o.FunctionExpression=te;var oe=function(le){this.type=u.Syntax.Identifier,this.name=le};o.Identifier=oe;var re=function(le,ge,Fe){this.type=u.Syntax.IfStatement,this.test=le,this.consequent=ge,this.alternate=Fe};o.IfStatement=re;var B=function(le,ge){this.type=u.Syntax.ImportDeclaration,this.specifiers=le,this.source=ge};o.ImportDeclaration=B;var k=function(le){this.type=u.Syntax.ImportDefaultSpecifier,this.local=le};o.ImportDefaultSpecifier=k;var j=function(le){this.type=u.Syntax.ImportNamespaceSpecifier,this.local=le};o.ImportNamespaceSpecifier=j;var V=function(le,ge){this.type=u.Syntax.ImportSpecifier,this.local=le,this.imported=ge};o.ImportSpecifier=V;var M=function(le,ge){this.type=u.Syntax.LabeledStatement,this.label=le,this.body=ge};o.LabeledStatement=M;var P=function(le,ge){this.type=u.Syntax.Literal,this.value=le,this.raw=ge};o.Literal=P;var U=function(le,ge){this.type=u.Syntax.MetaProperty,this.meta=le,this.property=ge};o.MetaProperty=U;var K=function(le,ge,Fe,qt,$s){this.type=u.Syntax.MethodDefinition,this.key=le,this.computed=ge,this.value=Fe,this.kind=qt,this.static=$s};o.MethodDefinition=K;var X=function(le){this.type=u.Syntax.Program,this.body=le,this.sourceType="module"};o.Module=X;var Z=function(le,ge){this.type=u.Syntax.NewExpression,this.callee=le,this.arguments=ge};o.NewExpression=Z;var ae=function(le){this.type=u.Syntax.ObjectExpression,this.properties=le};o.ObjectExpression=ae;var ce=function(le){this.type=u.Syntax.ObjectPattern,this.properties=le};o.ObjectPattern=ce;var ie=function(le,ge,Fe,qt,$s,c2){this.type=u.Syntax.Property,this.key=ge,this.computed=Fe,this.value=qt,this.kind=le,this.method=$s,this.shorthand=c2};o.Property=ie;var pe=function(le,ge,Fe,qt){this.type=u.Syntax.Literal,this.value=le,this.raw=ge,this.regex={pattern:Fe,flags:qt}};o.RegexLiteral=pe;var ve=function(le){this.type=u.Syntax.RestElement,this.argument=le};o.RestElement=ve;var fe=function(le){this.type=u.Syntax.ReturnStatement,this.argument=le};o.ReturnStatement=fe;var xe=function(le){this.type=u.Syntax.Program,this.body=le,this.sourceType="script"};o.Script=xe;var Y=function(le){this.type=u.Syntax.SequenceExpression,this.expressions=le};o.SequenceExpression=Y;var _e=function(le){this.type=u.Syntax.SpreadElement,this.argument=le};o.SpreadElement=_e;var be=function(le,ge){this.type=u.Syntax.MemberExpression,this.computed=!1,this.object=le,this.property=ge};o.StaticMemberExpression=be;var Ce=function(){this.type=u.Syntax.Super};o.Super=Ce;var se=function(le,ge){this.type=u.Syntax.SwitchCase,this.test=le,this.consequent=ge};o.SwitchCase=se;var he=function(le,ge){this.type=u.Syntax.SwitchStatement,this.discriminant=le,this.cases=ge};o.SwitchStatement=he;var de=function(le,ge){this.type=u.Syntax.TaggedTemplateExpression,this.tag=le,this.quasi=ge};o.TaggedTemplateExpression=de;var ye=function(le,ge){this.type=u.Syntax.TemplateElement,this.value=le,this.tail=ge};o.TemplateElement=ye;var Se=function(le,ge){this.type=u.Syntax.TemplateLiteral,this.quasis=le,this.expressions=ge};o.TemplateLiteral=Se;var Ne=function(){this.type=u.Syntax.ThisExpression};o.ThisExpression=Ne;var De=function(le){this.type=u.Syntax.ThrowStatement,this.argument=le};o.ThrowStatement=De;var Ve=function(le,ge,Fe){this.type=u.Syntax.TryStatement,this.block=le,this.handler=ge,this.finalizer=Fe};o.TryStatement=Ve;var Pe=function(le,ge){this.type=u.Syntax.UnaryExpression,this.operator=le,this.argument=ge,this.prefix=!0};o.UnaryExpression=Pe;var ft=function(le,ge,Fe){this.type=u.Syntax.UpdateExpression,this.operator=le,this.argument=ge,this.prefix=Fe};o.UpdateExpression=ft;var _t=function(le,ge){this.type=u.Syntax.VariableDeclaration,this.declarations=le,this.kind=ge};o.VariableDeclaration=_t;var Xe=function(le,ge){this.type=u.Syntax.VariableDeclarator,this.id=le,this.init=ge};o.VariableDeclarator=Xe;var Tt=function(le,ge){this.type=u.Syntax.WhileStatement,this.test=le,this.body=ge};o.WhileStatement=Tt;var s2=function(le,ge){this.type=u.Syntax.WithStatement,this.object=le,this.body=ge};o.WithStatement=s2;var u2=function(le,ge){this.type=u.Syntax.YieldExpression,this.argument=le,this.delegate=ge};o.YieldExpression=u2},function(s,o,c){Object.defineProperty(o,"__esModule",{value:!0});var u=c(9),l=c(10),f=c(11),h=c(7),p=c(12),d=c(2),y=c(13),m=function(){function _(v,g,x){g===void 0&&(g={}),this.config={range:typeof g.range=="boolean"&&g.range,loc:typeof g.loc=="boolean"&&g.loc,source:null,tokens:typeof g.tokens=="boolean"&&g.tokens,comment:typeof g.comment=="boolean"&&g.comment,tolerant:typeof g.tolerant=="boolean"&&g.tolerant},this.config.loc&&g.source&&g.source!==null&&(this.config.source=String(g.source)),this.delegate=x,this.errorHandler=new l.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new p.Scanner(v,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return _.prototype.throwError=function(v){for(var g=[],x=1;x<arguments.length;x++)g[x-1]=arguments[x];var w=Array.prototype.slice.call(arguments,1),C=v.replace(/%(\d)/g,function(O,D){return u.assert(D<w.length,"Message reference must be in range"),w[D]}),S=this.lastMarker.index,T=this.lastMarker.line,b=this.lastMarker.column+1;throw this.errorHandler.createError(S,T,b,C)},_.prototype.tolerateError=function(v){for(var g=[],x=1;x<arguments.length;x++)g[x-1]=arguments[x];var w=Array.prototype.slice.call(arguments,1),C=v.replace(/%(\d)/g,function(O,D){return u.assert(D<w.length,"Message reference must be in range"),w[D]}),S=this.lastMarker.index,T=this.scanner.lineNumber,b=this.lastMarker.column+1;this.errorHandler.tolerateError(S,T,b,C)},_.prototype.unexpectedTokenError=function(v,g){var x,w=g||f.Messages.UnexpectedToken;if(v?(g||(w=v.type===2?f.Messages.UnexpectedEOS:v.type===3?f.Messages.UnexpectedIdentifier:v.type===6?f.Messages.UnexpectedNumber:v.type===8?f.Messages.UnexpectedString:v.type===10?f.Messages.UnexpectedTemplate:f.Messages.UnexpectedToken,v.type===4&&(this.scanner.isFutureReservedWord(v.value)?w=f.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(v.value)&&(w=f.Messages.StrictReservedWord))),x=v.value):x="ILLEGAL",w=w.replace("%0",x),v&&typeof v.lineNumber=="number"){var C=v.start,S=v.lineNumber,T=this.lastMarker.index-this.lastMarker.column,b=v.start-T+1;return this.errorHandler.createError(C,S,b,w)}return C=this.lastMarker.index,S=this.lastMarker.line,b=this.lastMarker.column+1,this.errorHandler.createError(C,S,b,w)},_.prototype.throwUnexpectedToken=function(v,g){throw this.unexpectedTokenError(v,g)},_.prototype.tolerateUnexpectedToken=function(v,g){this.errorHandler.tolerate(this.unexpectedTokenError(v,g))},_.prototype.collectComments=function(){if(this.config.comment){var v=this.scanner.scanComments();if(v.length>0&&this.delegate)for(var g=0;g<v.length;++g){var x=v[g],w=void 0;w={type:x.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(x.slice[0],x.slice[1])},this.config.range&&(w.range=x.range),this.config.loc&&(w.loc=x.loc);var C={start:{line:x.loc.start.line,column:x.loc.start.column,offset:x.range[0]},end:{line:x.loc.end.line,column:x.loc.end.column,offset:x.range[1]}};this.delegate(w,C)}}else this.scanner.scanComments()},_.prototype.getTokenRaw=function(v){return this.scanner.source.slice(v.start,v.end)},_.prototype.convertToken=function(v){var g={type:y.TokenName[v.type],value:this.getTokenRaw(v)};if(this.config.range&&(g.range=[v.start,v.end]),this.config.loc&&(g.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),v.type===9){var x=v.pattern,w=v.flags;g.regex={pattern:x,flags:w}}return g},_.prototype.nextToken=function(){var v=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var g=this.scanner.lex();return this.hasLineTerminator=v.lineNumber!==g.lineNumber,g&&this.context.strict&&g.type===3&&this.scanner.isStrictModeReservedWord(g.value)&&(g.type=4),this.lookahead=g,this.config.tokens&&g.type!==2&&this.tokens.push(this.convertToken(g)),v},_.prototype.nextRegexToken=function(){this.collectComments();var v=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(v))),this.lookahead=v,this.nextToken(),v},_.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},_.prototype.startNode=function(v,g){g===void 0&&(g=0);var x=v.start-v.lineStart,w=v.lineNumber;return x<0&&(x+=g,w--),{index:v.start,line:w,column:x}},_.prototype.finalize=function(v,g){if(this.config.range&&(g.range=[v.index,this.lastMarker.index]),this.config.loc&&(g.loc={start:{line:v.line,column:v.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(g.loc.source=this.config.source)),this.delegate){var x={start:{line:v.line,column:v.column,offset:v.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(g,x)}return g},_.prototype.expect=function(v){var g=this.nextToken();g.type===7&&g.value===v||this.throwUnexpectedToken(g)},_.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var v=this.lookahead;v.type===7&&v.value===","?this.nextToken():v.type===7&&v.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(v)):this.tolerateUnexpectedToken(v,f.Messages.UnexpectedToken)}else this.expect(",")},_.prototype.expectKeyword=function(v){var g=this.nextToken();g.type===4&&g.value===v||this.throwUnexpectedToken(g)},_.prototype.match=function(v){return this.lookahead.type===7&&this.lookahead.value===v},_.prototype.matchKeyword=function(v){return this.lookahead.type===4&&this.lookahead.value===v},_.prototype.matchContextualKeyword=function(v){return this.lookahead.type===3&&this.lookahead.value===v},_.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var v=this.lookahead.value;return v==="="||v==="*="||v==="**="||v==="/="||v==="%="||v==="+="||v==="-="||v==="<<="||v===">>="||v===">>>="||v==="&="||v==="^="||v==="|="},_.prototype.isolateCoverGrammar=function(v){var g=this.context.isBindingElement,x=this.context.isAssignmentTarget,w=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var C=v.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=g,this.context.isAssignmentTarget=x,this.context.firstCoverInitializedNameError=w,C},_.prototype.inheritCoverGrammar=function(v){var g=this.context.isBindingElement,x=this.context.isAssignmentTarget,w=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var C=v.call(this);return this.context.isBindingElement=this.context.isBindingElement&&g,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&x,this.context.firstCoverInitializedNameError=w||this.context.firstCoverInitializedNameError,C},_.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type===2||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},_.prototype.parsePrimaryExpression=function(){var v,g,x,w=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),v=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(w,new h.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,f.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,g=this.nextToken(),x=this.getTokenRaw(g),v=this.finalize(w,new h.Literal(g.value,x));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,g=this.nextToken(),x=this.getTokenRaw(g),v=this.finalize(w,new h.Literal(g.value==="true",x));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,g=this.nextToken(),x=this.getTokenRaw(g),v=this.finalize(w,new h.Literal(null,x));break;case 10:v=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,v=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":v=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":v=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,g=this.nextRegexToken(),x=this.getTokenRaw(g),v=this.finalize(w,new h.RegexLiteral(g.regex,x,g.pattern,g.flags));break;default:v=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?v=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?v=this.finalize(w,new h.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?v=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),v=this.finalize(w,new h.ThisExpression)):v=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:v=this.throwUnexpectedToken(this.nextToken())}return v},_.prototype.parseSpreadElement=function(){var v=this.createNode();this.expect("...");var g=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(v,new h.SpreadElement(g))},_.prototype.parseArrayInitializer=function(){var v=this.createNode(),g=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),g.push(null);else if(this.match("...")){var x=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),g.push(x)}else g.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(v,new h.ArrayExpression(g))},_.prototype.parsePropertyMethod=function(v){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var g=this.context.strict,x=this.context.allowStrictDirective;this.context.allowStrictDirective=v.simple;var w=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&v.firstRestricted&&this.tolerateUnexpectedToken(v.firstRestricted,v.message),this.context.strict&&v.stricted&&this.tolerateUnexpectedToken(v.stricted,v.message),this.context.strict=g,this.context.allowStrictDirective=x,w},_.prototype.parsePropertyMethodFunction=function(){var v=this.createNode(),g=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters(),w=this.parsePropertyMethod(x);return this.context.allowYield=g,this.finalize(v,new h.FunctionExpression(null,x.params,w,!1))},_.prototype.parsePropertyMethodAsyncFunction=function(){var v=this.createNode(),g=this.context.allowYield,x=this.context.await;this.context.allowYield=!1,this.context.await=!0;var w=this.parseFormalParameters(),C=this.parsePropertyMethod(w);return this.context.allowYield=g,this.context.await=x,this.finalize(v,new h.AsyncFunctionExpression(null,w.params,C))},_.prototype.parseObjectPropertyKey=function(){var v,g=this.createNode(),x=this.nextToken();switch(x.type){case 8:case 6:this.context.strict&&x.octal&&this.tolerateUnexpectedToken(x,f.Messages.StrictOctalLiteral);var w=this.getTokenRaw(x);v=this.finalize(g,new h.Literal(x.value,w));break;case 3:case 1:case 5:case 4:v=this.finalize(g,new h.Identifier(x.value));break;case 7:x.value==="["?(v=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):v=this.throwUnexpectedToken(x);break;default:v=this.throwUnexpectedToken(x)}return v},_.prototype.isPropertyKey=function(v,g){return v.type===d.Syntax.Identifier&&v.name===g||v.type===d.Syntax.Literal&&v.value===g},_.prototype.parseObjectProperty=function(v){var g,x=this.createNode(),w=this.lookahead,C=null,S=null,T=!1,b=!1,O=!1,D=!1;if(w.type===3){var N=w.value;this.nextToken(),T=this.match("["),C=(D=!(this.hasLineTerminator||N!=="async"||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(x,new h.Identifier(N))}else this.match("*")?this.nextToken():(T=this.match("["),C=this.parseObjectPropertyKey());var R=this.qualifiedPropertyName(this.lookahead);if(w.type===3&&!D&&w.value==="get"&&R)g="get",T=this.match("["),C=this.parseObjectPropertyKey(),this.context.allowYield=!1,S=this.parseGetterMethod();else if(w.type===3&&!D&&w.value==="set"&&R)g="set",T=this.match("["),C=this.parseObjectPropertyKey(),S=this.parseSetterMethod();else if(w.type===7&&w.value==="*"&&R)g="init",T=this.match("["),C=this.parseObjectPropertyKey(),S=this.parseGeneratorMethod(),b=!0;else if(C||this.throwUnexpectedToken(this.lookahead),g="init",this.match(":")&&!D)!T&&this.isPropertyKey(C,"__proto__")&&(v.value&&this.tolerateError(f.Messages.DuplicateProtoProperty),v.value=!0),this.nextToken(),S=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))S=D?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),b=!0;else if(w.type===3)if(N=this.finalize(x,new h.Identifier(w.value)),this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),O=!0;var E=this.isolateCoverGrammar(this.parseAssignmentExpression);S=this.finalize(x,new h.AssignmentPattern(N,E))}else O=!0,S=N;else this.throwUnexpectedToken(this.nextToken());return this.finalize(x,new h.Property(g,C,T,S,b,O))},_.prototype.parseObjectInitializer=function(){var v=this.createNode();this.expect("{");for(var g=[],x={value:!1};!this.match("}");)g.push(this.parseObjectProperty(x)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(v,new h.ObjectExpression(g))},_.prototype.parseTemplateHead=function(){u.assert(this.lookahead.head,"Template literal must start with a template head");var v=this.createNode(),g=this.nextToken(),x=g.value,w=g.cooked;return this.finalize(v,new h.TemplateElement({raw:x,cooked:w},g.tail))},_.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var v=this.createNode(),g=this.nextToken(),x=g.value,w=g.cooked;return this.finalize(v,new h.TemplateElement({raw:x,cooked:w},g.tail))},_.prototype.parseTemplateLiteral=function(){var v=this.createNode(),g=[],x=[],w=this.parseTemplateHead();for(x.push(w);!w.tail;)g.push(this.parseExpression()),w=this.parseTemplateElement(),x.push(w);return this.finalize(v,new h.TemplateLiteral(x,g))},_.prototype.reinterpretExpressionAsPattern=function(v){switch(v.type){case d.Syntax.Identifier:case d.Syntax.MemberExpression:case d.Syntax.RestElement:case d.Syntax.AssignmentPattern:break;case d.Syntax.SpreadElement:v.type=d.Syntax.RestElement,this.reinterpretExpressionAsPattern(v.argument);break;case d.Syntax.ArrayExpression:v.type=d.Syntax.ArrayPattern;for(var g=0;g<v.elements.length;g++)v.elements[g]!==null&&this.reinterpretExpressionAsPattern(v.elements[g]);break;case d.Syntax.ObjectExpression:for(v.type=d.Syntax.ObjectPattern,g=0;g<v.properties.length;g++)this.reinterpretExpressionAsPattern(v.properties[g].value);break;case d.Syntax.AssignmentExpression:v.type=d.Syntax.AssignmentPattern,delete v.operator,this.reinterpretExpressionAsPattern(v.left)}},_.prototype.parseGroupExpression=function(){var v;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),v={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var g=this.lookahead,x=[];if(this.match("..."))v=this.parseRestElement(x),this.expect(")"),this.match("=>")||this.expect("=>"),v={type:"ArrowParameterPlaceHolder",params:[v],async:!1};else{var w=!1;if(this.context.isBindingElement=!0,v=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var C=[];for(this.context.isAssignmentTarget=!1,C.push(v);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var S=0;S<C.length;S++)this.reinterpretExpressionAsPattern(C[S]);w=!0,v={type:"ArrowParameterPlaceHolder",params:C,async:!1}}else if(this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),C.push(this.parseRestElement(x)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,S=0;S<C.length;S++)this.reinterpretExpressionAsPattern(C[S]);w=!0,v={type:"ArrowParameterPlaceHolder",params:C,async:!1}}else C.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(w)break}w||(v=this.finalize(this.startNode(g),new h.SequenceExpression(C)))}if(!w){if(this.expect(")"),this.match("=>")&&(v.type===d.Syntax.Identifier&&v.name==="yield"&&(w=!0,v={type:"ArrowParameterPlaceHolder",params:[v],async:!1}),!w)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),v.type===d.Syntax.SequenceExpression)for(S=0;S<v.expressions.length;S++)this.reinterpretExpressionAsPattern(v.expressions[S]);else this.reinterpretExpressionAsPattern(v);v={type:"ArrowParameterPlaceHolder",params:v.type===d.Syntax.SequenceExpression?v.expressions:[v],async:!1}}this.context.isBindingElement=!1}}}return v},_.prototype.parseArguments=function(){this.expect("(");var v=[];if(!this.match(")"))for(;;){var g=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(v.push(g),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),v},_.prototype.isIdentifierName=function(v){return v.type===3||v.type===4||v.type===1||v.type===5},_.prototype.parseIdentifierName=function(){var v=this.createNode(),g=this.nextToken();return this.isIdentifierName(g)||this.throwUnexpectedToken(g),this.finalize(v,new h.Identifier(g.value))},_.prototype.parseNewExpression=function(){var v,g=this.createNode(),x=this.parseIdentifierName();if(u.assert(x.name==="new","New expression must start with `new`"),this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var w=this.parseIdentifierName();v=new h.MetaProperty(x,w)}else this.throwUnexpectedToken(this.lookahead);else{var C=this.isolateCoverGrammar(this.parseLeftHandSideExpression),S=this.match("(")?this.parseArguments():[];v=new h.NewExpression(C,S),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(g,v)},_.prototype.parseAsyncArgument=function(){var v=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,v},_.prototype.parseAsyncArguments=function(){this.expect("(");var v=[];if(!this.match(")"))for(;;){var g=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(v.push(g),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),v},_.prototype.parseLeftHandSideExpressionAllowCall=function(){var v,g=this.lookahead,x=this.matchContextualKeyword("async"),w=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(v=this.createNode(),this.nextToken(),v=this.finalize(v,new h.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):v=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var C=this.parseIdentifierName();v=this.finalize(this.startNode(g),new h.StaticMemberExpression(v,C))}else if(this.match("(")){var S=x&&g.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var T=S?this.parseAsyncArguments():this.parseArguments();if(v=this.finalize(this.startNode(g),new h.CallExpression(v,T)),S&&this.match("=>")){for(var b=0;b<T.length;++b)this.reinterpretExpressionAsPattern(T[b]);v={type:"ArrowParameterPlaceHolder",params:T,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),C=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),v=this.finalize(this.startNode(g),new h.ComputedMemberExpression(v,C));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var O=this.parseTemplateLiteral();v=this.finalize(this.startNode(g),new h.TaggedTemplateExpression(v,O))}return this.context.allowIn=w,v},_.prototype.parseSuper=function(){var v=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(v,new h.Super)},_.prototype.parseLeftHandSideExpression=function(){u.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var v=this.startNode(this.lookahead),g=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var x=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),g=this.finalize(v,new h.ComputedMemberExpression(g,x))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),x=this.parseIdentifierName(),g=this.finalize(v,new h.StaticMemberExpression(g,x));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var w=this.parseTemplateLiteral();g=this.finalize(v,new h.TaggedTemplateExpression(g,w))}return g},_.prototype.parseUpdateExpression=function(){var v,g=this.lookahead;if(this.match("++")||this.match("--")){var x=this.startNode(g),w=this.nextToken();v=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&v.type===d.Syntax.Identifier&&this.scanner.isRestrictedWord(v.name)&&this.tolerateError(f.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(f.Messages.InvalidLHSInAssignment);var C=!0;v=this.finalize(x,new h.UpdateExpression(w.value,v,C)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(v=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&v.type===d.Syntax.Identifier&&this.scanner.isRestrictedWord(v.name)&&this.tolerateError(f.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(f.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var S=this.nextToken().value;C=!1,v=this.finalize(this.startNode(g),new h.UpdateExpression(S,v,C))}return v},_.prototype.parseAwaitExpression=function(){var v=this.createNode();this.nextToken();var g=this.parseUnaryExpression();return this.finalize(v,new h.AwaitExpression(g))},_.prototype.parseUnaryExpression=function(){var v;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var g=this.startNode(this.lookahead),x=this.nextToken();v=this.inheritCoverGrammar(this.parseUnaryExpression),v=this.finalize(g,new h.UnaryExpression(x.value,v)),this.context.strict&&v.operator==="delete"&&v.argument.type===d.Syntax.Identifier&&this.tolerateError(f.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else v=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return v},_.prototype.parseExponentiationExpression=function(){var v=this.lookahead,g=this.inheritCoverGrammar(this.parseUnaryExpression);if(g.type!==d.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var x=g,w=this.isolateCoverGrammar(this.parseExponentiationExpression);g=this.finalize(this.startNode(v),new h.BinaryExpression("**",x,w))}return g},_.prototype.binaryPrecedence=function(v){var g=v.value;return v.type===7?this.operatorPrecedence[g]||0:v.type===4&&(g==="instanceof"||this.context.allowIn&&g==="in")?7:0},_.prototype.parseBinaryExpression=function(){var v=this.lookahead,g=this.inheritCoverGrammar(this.parseExponentiationExpression),x=this.lookahead,w=this.binaryPrecedence(x);if(w>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var C=[v,this.lookahead],S=g,T=this.isolateCoverGrammar(this.parseExponentiationExpression),b=[S,x.value,T],O=[w];!((w=this.binaryPrecedence(this.lookahead))<=0);){for(;b.length>2&&w<=O[O.length-1];){T=b.pop();var D=b.pop();O.pop(),S=b.pop(),C.pop();var N=this.startNode(C[C.length-1]);b.push(this.finalize(N,new h.BinaryExpression(D,S,T)))}b.push(this.nextToken().value),O.push(w),C.push(this.lookahead),b.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var R=b.length-1;g=b[R];for(var E=C.pop();R>1;){var A=C.pop(),W=E&&E.lineStart;N=this.startNode(A,W),D=b[R-1],g=this.finalize(N,new h.BinaryExpression(D,b[R-2],g)),R-=2,E=A}}return g},_.prototype.parseConditionalExpression=function(){var v=this.lookahead,g=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var x=this.context.allowIn;this.context.allowIn=!0;var w=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=x,this.expect(":");var C=this.isolateCoverGrammar(this.parseAssignmentExpression);g=this.finalize(this.startNode(v),new h.ConditionalExpression(g,w,C)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return g},_.prototype.checkPatternParam=function(v,g){switch(g.type){case d.Syntax.Identifier:this.validateParam(v,g,g.name);break;case d.Syntax.RestElement:this.checkPatternParam(v,g.argument);break;case d.Syntax.AssignmentPattern:this.checkPatternParam(v,g.left);break;case d.Syntax.ArrayPattern:for(var x=0;x<g.elements.length;x++)g.elements[x]!==null&&this.checkPatternParam(v,g.elements[x]);break;case d.Syntax.ObjectPattern:for(x=0;x<g.properties.length;x++)this.checkPatternParam(v,g.properties[x].value)}v.simple=v.simple&&g instanceof h.Identifier},_.prototype.reinterpretAsCoverFormalsList=function(v){var g,x=[v],w=!1;switch(v.type){case d.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":x=v.params,w=v.async;break;default:return null}g={simple:!0,paramSet:{}};for(var C=0;C<x.length;++C)(S=x[C]).type===d.Syntax.AssignmentPattern?S.right.type===d.Syntax.YieldExpression&&(S.right.argument&&this.throwUnexpectedToken(this.lookahead),S.right.type=d.Syntax.Identifier,S.right.name="yield",delete S.right.argument,delete S.right.delegate):w&&S.type===d.Syntax.Identifier&&S.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(g,S),x[C]=S;if(this.context.strict||!this.context.allowYield)for(C=0;C<x.length;++C){var S;(S=x[C]).type===d.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(g.message===f.Messages.StrictParamDupe){var T=this.context.strict?g.stricted:g.firstRestricted;this.throwUnexpectedToken(T,g.message)}return{simple:g.simple,params:x,stricted:g.stricted,firstRestricted:g.firstRestricted,message:g.message}},_.prototype.parseAssignmentExpression=function(){var v;if(!this.context.allowYield&&this.matchKeyword("yield"))v=this.parseYieldExpression();else{var g=this.lookahead,x=g;if(v=this.parseConditionalExpression(),x.type===3&&x.lineNumber===this.lookahead.lineNumber&&x.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var w=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(w),v={type:"ArrowParameterPlaceHolder",params:[w],async:!0}}if(v.type==="ArrowParameterPlaceHolder"||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var C=v.async,S=this.reinterpretAsCoverFormalsList(v);if(S){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var T=this.context.strict,b=this.context.allowStrictDirective;this.context.allowStrictDirective=S.simple;var O=this.context.allowYield,D=this.context.await;this.context.allowYield=!0,this.context.await=C;var N=this.startNode(g);this.expect("=>");var R=void 0;if(this.match("{")){var E=this.context.allowIn;this.context.allowIn=!0,R=this.parseFunctionSourceElements(),this.context.allowIn=E}else R=this.isolateCoverGrammar(this.parseAssignmentExpression);var A=R.type!==d.Syntax.BlockStatement;this.context.strict&&S.firstRestricted&&this.throwUnexpectedToken(S.firstRestricted,S.message),this.context.strict&&S.stricted&&this.tolerateUnexpectedToken(S.stricted,S.message),v=C?this.finalize(N,new h.AsyncArrowFunctionExpression(S.params,R,A)):this.finalize(N,new h.ArrowFunctionExpression(S.params,R,A)),this.context.strict=T,this.context.allowStrictDirective=b,this.context.allowYield=O,this.context.await=D}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(f.Messages.InvalidLHSInAssignment),this.context.strict&&v.type===d.Syntax.Identifier){var W=v;this.scanner.isRestrictedWord(W.name)&&this.tolerateUnexpectedToken(x,f.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(W.name)&&this.tolerateUnexpectedToken(x,f.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(v):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var z=(x=this.nextToken()).value,F=this.isolateCoverGrammar(this.parseAssignmentExpression);v=this.finalize(this.startNode(g),new h.AssignmentExpression(z,v,F)),this.context.firstCoverInitializedNameError=null}}return v},_.prototype.parseExpression=function(){var v=this.lookahead,g=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var x=[];for(x.push(g);this.lookahead.type!==2&&this.match(",");)this.nextToken(),x.push(this.isolateCoverGrammar(this.parseAssignmentExpression));g=this.finalize(this.startNode(v),new h.SequenceExpression(x))}return g},_.prototype.parseStatementListItem=function(){var v;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,f.Messages.IllegalExportDeclaration),v=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,f.Messages.IllegalImportDeclaration),v=this.parseImportDeclaration();break;case"const":v=this.parseLexicalDeclaration({inFor:!1});break;case"function":v=this.parseFunctionDeclaration();break;case"class":v=this.parseClassDeclaration();break;case"let":v=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:v=this.parseStatement()}else v=this.parseStatement();return v},_.prototype.parseBlock=function(){var v=this.createNode();this.expect("{");for(var g=[];!this.match("}");)g.push(this.parseStatementListItem());return this.expect("}"),this.finalize(v,new h.BlockStatement(g))},_.prototype.parseLexicalBinding=function(v,g){var x=this.createNode(),w=this.parsePattern([],v);this.context.strict&&w.type===d.Syntax.Identifier&&this.scanner.isRestrictedWord(w.name)&&this.tolerateError(f.Messages.StrictVarName);var C=null;return v==="const"?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),C=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(f.Messages.DeclarationMissingInitializer,"const")):(!g.inFor&&w.type!==d.Syntax.Identifier||this.match("="))&&(this.expect("="),C=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(x,new h.VariableDeclarator(w,C))},_.prototype.parseBindingList=function(v,g){for(var x=[this.parseLexicalBinding(v,g)];this.match(",");)this.nextToken(),x.push(this.parseLexicalBinding(v,g));return x},_.prototype.isLexicalDeclaration=function(){var v=this.scanner.saveState();this.scanner.scanComments();var g=this.scanner.lex();return this.scanner.restoreState(v),g.type===3||g.type===7&&g.value==="["||g.type===7&&g.value==="{"||g.type===4&&g.value==="let"||g.type===4&&g.value==="yield"},_.prototype.parseLexicalDeclaration=function(v){var g=this.createNode(),x=this.nextToken().value;u.assert(x==="let"||x==="const","Lexical declaration must be either let or const");var w=this.parseBindingList(x,v);return this.consumeSemicolon(),this.finalize(g,new h.VariableDeclaration(w,x))},_.prototype.parseBindingRestElement=function(v,g){var x=this.createNode();this.expect("...");var w=this.parsePattern(v,g);return this.finalize(x,new h.RestElement(w))},_.prototype.parseArrayPattern=function(v,g){var x=this.createNode();this.expect("[");for(var w=[];!this.match("]");)if(this.match(","))this.nextToken(),w.push(null);else{if(this.match("...")){w.push(this.parseBindingRestElement(v,g));break}w.push(this.parsePatternWithDefault(v,g)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(x,new h.ArrayPattern(w))},_.prototype.parsePropertyPattern=function(v,g){var x,w,C=this.createNode(),S=!1,T=!1;if(this.lookahead.type===3){var b=this.lookahead;x=this.parseVariableIdentifier();var O=this.finalize(C,new h.Identifier(b.value));if(this.match("=")){v.push(b),T=!0,this.nextToken();var D=this.parseAssignmentExpression();w=this.finalize(this.startNode(b),new h.AssignmentPattern(O,D))}else this.match(":")?(this.expect(":"),w=this.parsePatternWithDefault(v,g)):(v.push(b),T=!0,w=O)}else S=this.match("["),x=this.parseObjectPropertyKey(),this.expect(":"),w=this.parsePatternWithDefault(v,g);return this.finalize(C,new h.Property("init",x,S,w,!1,T))},_.prototype.parseObjectPattern=function(v,g){var x=this.createNode(),w=[];for(this.expect("{");!this.match("}");)w.push(this.parsePropertyPattern(v,g)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(x,new h.ObjectPattern(w))},_.prototype.parsePattern=function(v,g){var x;return this.match("[")?x=this.parseArrayPattern(v,g):this.match("{")?x=this.parseObjectPattern(v,g):(!this.matchKeyword("let")||g!=="const"&&g!=="let"||this.tolerateUnexpectedToken(this.lookahead,f.Messages.LetInLexicalBinding),v.push(this.lookahead),x=this.parseVariableIdentifier(g)),x},_.prototype.parsePatternWithDefault=function(v,g){var x=this.lookahead,w=this.parsePattern(v,g);if(this.match("=")){this.nextToken();var C=this.context.allowYield;this.context.allowYield=!0;var S=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=C,w=this.finalize(this.startNode(x),new h.AssignmentPattern(w,S))}return w},_.prototype.parseVariableIdentifier=function(v){var g=this.createNode(),x=this.nextToken();return x.type===4&&x.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(x,f.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(x):x.type!==3?this.context.strict&&x.type===4&&this.scanner.isStrictModeReservedWord(x.value)?this.tolerateUnexpectedToken(x,f.Messages.StrictReservedWord):(this.context.strict||x.value!=="let"||v!=="var")&&this.throwUnexpectedToken(x):(this.context.isModule||this.context.await)&&x.type===3&&x.value==="await"&&this.tolerateUnexpectedToken(x),this.finalize(g,new h.Identifier(x.value))},_.prototype.parseVariableDeclaration=function(v){var g=this.createNode(),x=this.parsePattern([],"var");this.context.strict&&x.type===d.Syntax.Identifier&&this.scanner.isRestrictedWord(x.name)&&this.tolerateError(f.Messages.StrictVarName);var w=null;return this.match("=")?(this.nextToken(),w=this.isolateCoverGrammar(this.parseAssignmentExpression)):x.type===d.Syntax.Identifier||v.inFor||this.expect("="),this.finalize(g,new h.VariableDeclarator(x,w))},_.prototype.parseVariableDeclarationList=function(v){var g={inFor:v.inFor},x=[];for(x.push(this.parseVariableDeclaration(g));this.match(",");)this.nextToken(),x.push(this.parseVariableDeclaration(g));return x},_.prototype.parseVariableStatement=function(){var v=this.createNode();this.expectKeyword("var");var g=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(v,new h.VariableDeclaration(g,"var"))},_.prototype.parseEmptyStatement=function(){var v=this.createNode();return this.expect(";"),this.finalize(v,new h.EmptyStatement)},_.prototype.parseExpressionStatement=function(){var v=this.createNode(),g=this.parseExpression();return this.consumeSemicolon(),this.finalize(v,new h.ExpressionStatement(g))},_.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(f.Messages.StrictFunction),this.parseStatement()},_.prototype.parseIfStatement=function(){var v,g=this.createNode(),x=null;this.expectKeyword("if"),this.expect("(");var w=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),v=this.finalize(this.createNode(),new h.EmptyStatement)):(this.expect(")"),v=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),x=this.parseIfClause())),this.finalize(g,new h.IfStatement(w,v,x))},_.prototype.parseDoWhileStatement=function(){var v=this.createNode();this.expectKeyword("do");var g=this.context.inIteration;this.context.inIteration=!0;var x=this.parseStatement();this.context.inIteration=g,this.expectKeyword("while"),this.expect("(");var w=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(v,new h.DoWhileStatement(x,w))},_.prototype.parseWhileStatement=function(){var v,g=this.createNode();this.expectKeyword("while"),this.expect("(");var x=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),v=this.finalize(this.createNode(),new h.EmptyStatement);else{this.expect(")");var w=this.context.inIteration;this.context.inIteration=!0,v=this.parseStatement(),this.context.inIteration=w}return this.finalize(g,new h.WhileStatement(x,v))},_.prototype.parseForStatement=function(){var v,g,x,w=null,C=null,S=null,T=!0,b=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){w=this.createNode(),this.nextToken();var O=this.context.allowIn;this.context.allowIn=!1;var D=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=O,D.length===1&&this.matchKeyword("in")){var N=D[0];N.init&&(N.id.type===d.Syntax.ArrayPattern||N.id.type===d.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(f.Messages.ForInOfLoopInitializer,"for-in"),w=this.finalize(w,new h.VariableDeclaration(D,"var")),this.nextToken(),v=w,g=this.parseExpression(),w=null}else D.length===1&&D[0].init===null&&this.matchContextualKeyword("of")?(w=this.finalize(w,new h.VariableDeclaration(D,"var")),this.nextToken(),v=w,g=this.parseAssignmentExpression(),w=null,T=!1):(w=this.finalize(w,new h.VariableDeclaration(D,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){w=this.createNode();var R=this.nextToken().value;this.context.strict||this.lookahead.value!=="in"?(O=this.context.allowIn,this.context.allowIn=!1,D=this.parseBindingList(R,{inFor:!0}),this.context.allowIn=O,D.length===1&&D[0].init===null&&this.matchKeyword("in")?(w=this.finalize(w,new h.VariableDeclaration(D,R)),this.nextToken(),v=w,g=this.parseExpression(),w=null):D.length===1&&D[0].init===null&&this.matchContextualKeyword("of")?(w=this.finalize(w,new h.VariableDeclaration(D,R)),this.nextToken(),v=w,g=this.parseAssignmentExpression(),w=null,T=!1):(this.consumeSemicolon(),w=this.finalize(w,new h.VariableDeclaration(D,R)))):(w=this.finalize(w,new h.Identifier(R)),this.nextToken(),v=w,g=this.parseExpression(),w=null)}else{var E=this.lookahead;if(O=this.context.allowIn,this.context.allowIn=!1,w=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=O,this.matchKeyword("in"))this.context.isAssignmentTarget&&w.type!==d.Syntax.AssignmentExpression||this.tolerateError(f.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(w),v=w,g=this.parseExpression(),w=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&w.type!==d.Syntax.AssignmentExpression||this.tolerateError(f.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(w),v=w,g=this.parseAssignmentExpression(),w=null,T=!1;else{if(this.match(",")){for(var A=[w];this.match(",");)this.nextToken(),A.push(this.isolateCoverGrammar(this.parseAssignmentExpression));w=this.finalize(this.startNode(E),new h.SequenceExpression(A))}this.expect(";")}}if(v===void 0&&(this.match(";")||(C=this.parseExpression()),this.expect(";"),this.match(")")||(S=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),x=this.finalize(this.createNode(),new h.EmptyStatement);else{this.expect(")");var W=this.context.inIteration;this.context.inIteration=!0,x=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=W}return v===void 0?this.finalize(b,new h.ForStatement(w,C,S,x)):T?this.finalize(b,new h.ForInStatement(v,g,x)):this.finalize(b,new h.ForOfStatement(v,g,x))},_.prototype.parseContinueStatement=function(){var v=this.createNode();this.expectKeyword("continue");var g=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var x=this.parseVariableIdentifier();g=x;var w="$"+x.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,w)||this.throwError(f.Messages.UnknownLabel,x.name)}return this.consumeSemicolon(),g!==null||this.context.inIteration||this.throwError(f.Messages.IllegalContinue),this.finalize(v,new h.ContinueStatement(g))},_.prototype.parseBreakStatement=function(){var v=this.createNode();this.expectKeyword("break");var g=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var x=this.parseVariableIdentifier(),w="$"+x.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,w)||this.throwError(f.Messages.UnknownLabel,x.name),g=x}return this.consumeSemicolon(),g!==null||this.context.inIteration||this.context.inSwitch||this.throwError(f.Messages.IllegalBreak),this.finalize(v,new h.BreakStatement(g))},_.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(f.Messages.IllegalReturn);var v=this.createNode();this.expectKeyword("return");var g=(this.match(";")||this.match("}")||this.hasLineTerminator||this.lookahead.type===2)&&this.lookahead.type!==8&&this.lookahead.type!==10?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(v,new h.ReturnStatement(g))},_.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(f.Messages.StrictModeWith);var v,g=this.createNode();this.expectKeyword("with"),this.expect("(");var x=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),v=this.finalize(this.createNode(),new h.EmptyStatement)):(this.expect(")"),v=this.parseStatement()),this.finalize(g,new h.WithStatement(x,v))},_.prototype.parseSwitchCase=function(){var v,g=this.createNode();this.matchKeyword("default")?(this.nextToken(),v=null):(this.expectKeyword("case"),v=this.parseExpression()),this.expect(":");for(var x=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)x.push(this.parseStatementListItem());return this.finalize(g,new h.SwitchCase(v,x))},_.prototype.parseSwitchStatement=function(){var v=this.createNode();this.expectKeyword("switch"),this.expect("(");var g=this.parseExpression();this.expect(")");var x=this.context.inSwitch;this.context.inSwitch=!0;var w=[],C=!1;for(this.expect("{");!this.match("}");){var S=this.parseSwitchCase();S.test===null&&(C&&this.throwError(f.Messages.MultipleDefaultsInSwitch),C=!0),w.push(S)}return this.expect("}"),this.context.inSwitch=x,this.finalize(v,new h.SwitchStatement(g,w))},_.prototype.parseLabelledStatement=function(){var v,g=this.createNode(),x=this.parseExpression();if(x.type===d.Syntax.Identifier&&this.match(":")){this.nextToken();var w=x,C="$"+w.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,C)&&this.throwError(f.Messages.Redeclaration,"Label",w.name),this.context.labelSet[C]=!0;var S=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),S=this.parseClassDeclaration();else if(this.matchKeyword("function")){var T=this.lookahead,b=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(T,f.Messages.StrictFunction):b.generator&&this.tolerateUnexpectedToken(T,f.Messages.GeneratorInLegacyContext),S=b}else S=this.parseStatement();delete this.context.labelSet[C],v=new h.LabeledStatement(w,S)}else this.consumeSemicolon(),v=new h.ExpressionStatement(x);return this.finalize(g,v)},_.prototype.parseThrowStatement=function(){var v=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(f.Messages.NewlineAfterThrow);var g=this.parseExpression();return this.consumeSemicolon(),this.finalize(v,new h.ThrowStatement(g))},_.prototype.parseCatchClause=function(){var v=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var g=[],x=this.parsePattern(g),w={},C=0;C<g.length;C++){var S="$"+g[C].value;Object.prototype.hasOwnProperty.call(w,S)&&this.tolerateError(f.Messages.DuplicateBinding,g[C].value),w[S]=!0}this.context.strict&&x.type===d.Syntax.Identifier&&this.scanner.isRestrictedWord(x.name)&&this.tolerateError(f.Messages.StrictCatchVariable),this.expect(")");var T=this.parseBlock();return this.finalize(v,new h.CatchClause(x,T))},_.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},_.prototype.parseTryStatement=function(){var v=this.createNode();this.expectKeyword("try");var g=this.parseBlock(),x=this.matchKeyword("catch")?this.parseCatchClause():null,w=this.matchKeyword("finally")?this.parseFinallyClause():null;return x||w||this.throwError(f.Messages.NoCatchOrFinally),this.finalize(v,new h.TryStatement(g,x,w))},_.prototype.parseDebuggerStatement=function(){var v=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(v,new h.DebuggerStatement)},_.prototype.parseStatement=function(){var v;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:v=this.parseExpressionStatement();break;case 7:var g=this.lookahead.value;v=g==="{"?this.parseBlock():g==="("?this.parseExpressionStatement():g===";"?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:v=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":v=this.parseBreakStatement();break;case"continue":v=this.parseContinueStatement();break;case"debugger":v=this.parseDebuggerStatement();break;case"do":v=this.parseDoWhileStatement();break;case"for":v=this.parseForStatement();break;case"function":v=this.parseFunctionDeclaration();break;case"if":v=this.parseIfStatement();break;case"return":v=this.parseReturnStatement();break;case"switch":v=this.parseSwitchStatement();break;case"throw":v=this.parseThrowStatement();break;case"try":v=this.parseTryStatement();break;case"var":v=this.parseVariableStatement();break;case"while":v=this.parseWhileStatement();break;case"with":v=this.parseWithStatement();break;default:v=this.parseExpressionStatement()}break;default:v=this.throwUnexpectedToken(this.lookahead)}return v},_.prototype.parseFunctionSourceElements=function(){var v=this.createNode();this.expect("{");var g=this.parseDirectivePrologues(),x=this.context.labelSet,w=this.context.inIteration,C=this.context.inSwitch,S=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)g.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=x,this.context.inIteration=w,this.context.inSwitch=C,this.context.inFunctionBody=S,this.finalize(v,new h.BlockStatement(g))},_.prototype.validateParam=function(v,g,x){var w="$"+x;this.context.strict?(this.scanner.isRestrictedWord(x)&&(v.stricted=g,v.message=f.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(v.paramSet,w)&&(v.stricted=g,v.message=f.Messages.StrictParamDupe)):v.firstRestricted||(this.scanner.isRestrictedWord(x)?(v.firstRestricted=g,v.message=f.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(x)?(v.firstRestricted=g,v.message=f.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(v.paramSet,w)&&(v.stricted=g,v.message=f.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(v.paramSet,w,{value:!0,enumerable:!0,writable:!0,configurable:!0}):v.paramSet[w]=!0},_.prototype.parseRestElement=function(v){var g=this.createNode();this.expect("...");var x=this.parsePattern(v);return this.match("=")&&this.throwError(f.Messages.DefaultRestParameter),this.match(")")||this.throwError(f.Messages.ParameterAfterRestParameter),this.finalize(g,new h.RestElement(x))},_.prototype.parseFormalParameter=function(v){for(var g=[],x=this.match("...")?this.parseRestElement(g):this.parsePatternWithDefault(g),w=0;w<g.length;w++)this.validateParam(v,g[w],g[w].value);v.simple=v.simple&&x instanceof h.Identifier,v.params.push(x)},_.prototype.parseFormalParameters=function(v){var g;if(g={simple:!0,params:[],firstRestricted:v},this.expect("("),!this.match(")"))for(g.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(g),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:g.simple,params:g.params,stricted:g.stricted,firstRestricted:g.firstRestricted,message:g.message}},_.prototype.matchAsyncFunction=function(){var v=this.matchContextualKeyword("async");if(v){var g=this.scanner.saveState();this.scanner.scanComments();var x=this.scanner.lex();this.scanner.restoreState(g),v=g.lineNumber===x.lineNumber&&x.type===4&&x.value==="function"}return v},_.prototype.parseFunctionDeclaration=function(v){var g=this.createNode(),x=this.matchContextualKeyword("async");x&&this.nextToken(),this.expectKeyword("function");var w,C=!x&&this.match("*");C&&this.nextToken();var S=null,T=null;if(!v||!this.match("(")){var b=this.lookahead;S=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(b.value)&&this.tolerateUnexpectedToken(b,f.Messages.StrictFunctionName):this.scanner.isRestrictedWord(b.value)?(T=b,w=f.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(b.value)&&(T=b,w=f.Messages.StrictReservedWord)}var O=this.context.await,D=this.context.allowYield;this.context.await=x,this.context.allowYield=!C;var N=this.parseFormalParameters(T),R=N.params,E=N.stricted;T=N.firstRestricted,N.message&&(w=N.message);var A=this.context.strict,W=this.context.allowStrictDirective;this.context.allowStrictDirective=N.simple;var z=this.parseFunctionSourceElements();return this.context.strict&&T&&this.throwUnexpectedToken(T,w),this.context.strict&&E&&this.tolerateUnexpectedToken(E,w),this.context.strict=A,this.context.allowStrictDirective=W,this.context.await=O,this.context.allowYield=D,x?this.finalize(g,new h.AsyncFunctionDeclaration(S,R,z)):this.finalize(g,new h.FunctionDeclaration(S,R,z,C))},_.prototype.parseFunctionExpression=function(){var v=this.createNode(),g=this.matchContextualKeyword("async");g&&this.nextToken(),this.expectKeyword("function");var x,w=!g&&this.match("*");w&&this.nextToken();var C,S=null,T=this.context.await,b=this.context.allowYield;if(this.context.await=g,this.context.allowYield=!w,!this.match("(")){var O=this.lookahead;S=this.context.strict||w||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(O.value)&&this.tolerateUnexpectedToken(O,f.Messages.StrictFunctionName):this.scanner.isRestrictedWord(O.value)?(C=O,x=f.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(O.value)&&(C=O,x=f.Messages.StrictReservedWord)}var D=this.parseFormalParameters(C),N=D.params,R=D.stricted;C=D.firstRestricted,D.message&&(x=D.message);var E=this.context.strict,A=this.context.allowStrictDirective;this.context.allowStrictDirective=D.simple;var W=this.parseFunctionSourceElements();return this.context.strict&&C&&this.throwUnexpectedToken(C,x),this.context.strict&&R&&this.tolerateUnexpectedToken(R,x),this.context.strict=E,this.context.allowStrictDirective=A,this.context.await=T,this.context.allowYield=b,g?this.finalize(v,new h.AsyncFunctionExpression(S,N,W)):this.finalize(v,new h.FunctionExpression(S,N,W,w))},_.prototype.parseDirective=function(){var v=this.lookahead,g=this.createNode(),x=this.parseExpression(),w=x.type===d.Syntax.Literal?this.getTokenRaw(v).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(g,w?new h.Directive(x,w):new h.ExpressionStatement(x))},_.prototype.parseDirectivePrologues=function(){for(var v=null,g=[];;){var x=this.lookahead;if(x.type!==8)break;var w=this.parseDirective();g.push(w);var C=w.directive;if(typeof C!="string")break;C==="use strict"?(this.context.strict=!0,v&&this.tolerateUnexpectedToken(v,f.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(x,f.Messages.IllegalLanguageModeDirective)):!v&&x.octal&&(v=x)}return g},_.prototype.qualifiedPropertyName=function(v){switch(v.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return v.value==="["}return!1},_.prototype.parseGetterMethod=function(){var v=this.createNode(),g=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters();x.params.length>0&&this.tolerateError(f.Messages.BadGetterArity);var w=this.parsePropertyMethod(x);return this.context.allowYield=g,this.finalize(v,new h.FunctionExpression(null,x.params,w,!1))},_.prototype.parseSetterMethod=function(){var v=this.createNode(),g=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters();x.params.length!==1?this.tolerateError(f.Messages.BadSetterArity):x.params[0]instanceof h.RestElement&&this.tolerateError(f.Messages.BadSetterRestParameter);var w=this.parsePropertyMethod(x);return this.context.allowYield=g,this.finalize(v,new h.FunctionExpression(null,x.params,w,!1))},_.prototype.parseGeneratorMethod=function(){var v=this.createNode(),g=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters();this.context.allowYield=!1;var w=this.parsePropertyMethod(x);return this.context.allowYield=g,this.finalize(v,new h.FunctionExpression(null,x.params,w,!0))},_.prototype.isStartOfExpression=function(){var v=!0,g=this.lookahead.value;switch(this.lookahead.type){case 7:v=g==="["||g==="("||g==="{"||g==="+"||g==="-"||g==="!"||g==="~"||g==="++"||g==="--"||g==="/"||g==="/=";break;case 4:v=g==="class"||g==="delete"||g==="function"||g==="let"||g==="new"||g==="super"||g==="this"||g==="typeof"||g==="void"||g==="yield"}return v},_.prototype.parseYieldExpression=function(){var v=this.createNode();this.expectKeyword("yield");var g=null,x=!1;if(!this.hasLineTerminator){var w=this.context.allowYield;this.context.allowYield=!1,(x=this.match("*"))?(this.nextToken(),g=this.parseAssignmentExpression()):this.isStartOfExpression()&&(g=this.parseAssignmentExpression()),this.context.allowYield=w}return this.finalize(v,new h.YieldExpression(g,x))},_.prototype.parseClassElement=function(v){var g=this.lookahead,x=this.createNode(),w="",C=null,S=null,T=!1,b=!1,O=!1,D=!1;if(this.match("*"))this.nextToken();else if(T=this.match("["),(C=this.parseObjectPropertyKey()).name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(g=this.lookahead,O=!0,T=this.match("["),this.match("*")?this.nextToken():C=this.parseObjectPropertyKey()),g.type===3&&!this.hasLineTerminator&&g.value==="async"){var N=this.lookahead.value;N!==":"&&N!=="("&&N!=="*"&&(D=!0,g=this.lookahead,C=this.parseObjectPropertyKey(),g.type===3&&g.value==="constructor"&&this.tolerateUnexpectedToken(g,f.Messages.ConstructorIsAsync))}var R=this.qualifiedPropertyName(this.lookahead);return g.type===3?g.value==="get"&&R?(w="get",T=this.match("["),C=this.parseObjectPropertyKey(),this.context.allowYield=!1,S=this.parseGetterMethod()):g.value==="set"&&R&&(w="set",T=this.match("["),C=this.parseObjectPropertyKey(),S=this.parseSetterMethod()):g.type===7&&g.value==="*"&&R&&(w="init",T=this.match("["),C=this.parseObjectPropertyKey(),S=this.parseGeneratorMethod(),b=!0),!w&&C&&this.match("(")&&(w="init",S=D?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),b=!0),w||this.throwUnexpectedToken(this.lookahead),w==="init"&&(w="method"),T||(O&&this.isPropertyKey(C,"prototype")&&this.throwUnexpectedToken(g,f.Messages.StaticPrototype),!O&&this.isPropertyKey(C,"constructor")&&((w!=="method"||!b||S&&S.generator)&&this.throwUnexpectedToken(g,f.Messages.ConstructorSpecialMethod),v.value?this.throwUnexpectedToken(g,f.Messages.DuplicateConstructor):v.value=!0,w="constructor")),this.finalize(x,new h.MethodDefinition(C,T,S,w,O))},_.prototype.parseClassElementList=function(){var v=[],g={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():v.push(this.parseClassElement(g));return this.expect("}"),v},_.prototype.parseClassBody=function(){var v=this.createNode(),g=this.parseClassElementList();return this.finalize(v,new h.ClassBody(g))},_.prototype.parseClassDeclaration=function(v){var g=this.createNode(),x=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var w=v&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),C=null;this.matchKeyword("extends")&&(this.nextToken(),C=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var S=this.parseClassBody();return this.context.strict=x,this.finalize(g,new h.ClassDeclaration(w,C,S))},_.prototype.parseClassExpression=function(){var v=this.createNode(),g=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var x=this.lookahead.type===3?this.parseVariableIdentifier():null,w=null;this.matchKeyword("extends")&&(this.nextToken(),w=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var C=this.parseClassBody();return this.context.strict=g,this.finalize(v,new h.ClassExpression(x,w,C))},_.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var v=this.createNode(),g=this.parseDirectivePrologues();this.lookahead.type!==2;)g.push(this.parseStatementListItem());return this.finalize(v,new h.Module(g))},_.prototype.parseScript=function(){for(var v=this.createNode(),g=this.parseDirectivePrologues();this.lookahead.type!==2;)g.push(this.parseStatementListItem());return this.finalize(v,new h.Script(g))},_.prototype.parseModuleSpecifier=function(){var v=this.createNode();this.lookahead.type!==8&&this.throwError(f.Messages.InvalidModuleSpecifier);var g=this.nextToken(),x=this.getTokenRaw(g);return this.finalize(v,new h.Literal(g.value,x))},_.prototype.parseImportSpecifier=function(){var v,g,x=this.createNode();return this.lookahead.type===3?(g=v=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),g=this.parseVariableIdentifier())):(g=v=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),g=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(x,new h.ImportSpecifier(g,v))},_.prototype.parseNamedImports=function(){this.expect("{");for(var v=[];!this.match("}");)v.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),v},_.prototype.parseImportDefaultSpecifier=function(){var v=this.createNode(),g=this.parseIdentifierName();return this.finalize(v,new h.ImportDefaultSpecifier(g))},_.prototype.parseImportNamespaceSpecifier=function(){var v=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(f.Messages.NoAsAfterImportNamespace),this.nextToken();var g=this.parseIdentifierName();return this.finalize(v,new h.ImportNamespaceSpecifier(g))},_.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(f.Messages.IllegalImportDeclaration);var v,g=this.createNode();this.expectKeyword("import");var x=[];if(this.lookahead.type===8)v=this.parseModuleSpecifier();else{if(this.match("{")?x=x.concat(this.parseNamedImports()):this.match("*")?x.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(x.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?x.push(this.parseImportNamespaceSpecifier()):this.match("{")?x=x.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var w=this.lookahead.value?f.Messages.UnexpectedToken:f.Messages.MissingFromClause;this.throwError(w,this.lookahead.value)}this.nextToken(),v=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(g,new h.ImportDeclaration(x,v))},_.prototype.parseExportSpecifier=function(){var v=this.createNode(),g=this.parseIdentifierName(),x=g;return this.matchContextualKeyword("as")&&(this.nextToken(),x=this.parseIdentifierName()),this.finalize(v,new h.ExportSpecifier(g,x))},_.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(f.Messages.IllegalExportDeclaration);var v,g=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var x=this.parseFunctionDeclaration(!0);v=this.finalize(g,new h.ExportDefaultDeclaration(x))}else this.matchKeyword("class")?(x=this.parseClassDeclaration(!0),v=this.finalize(g,new h.ExportDefaultDeclaration(x))):this.matchContextualKeyword("async")?(x=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),v=this.finalize(g,new h.ExportDefaultDeclaration(x))):(this.matchContextualKeyword("from")&&this.throwError(f.Messages.UnexpectedToken,this.lookahead.value),x=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),v=this.finalize(g,new h.ExportDefaultDeclaration(x)));else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var w=this.lookahead.value?f.Messages.UnexpectedToken:f.Messages.MissingFromClause;this.throwError(w,this.lookahead.value)}this.nextToken();var C=this.parseModuleSpecifier();this.consumeSemicolon(),v=this.finalize(g,new h.ExportAllDeclaration(C))}else if(this.lookahead.type===4){switch(x=void 0,this.lookahead.value){case"let":case"const":x=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":x=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}v=this.finalize(g,new h.ExportNamedDeclaration(x,[],null))}else if(this.matchAsyncFunction())x=this.parseFunctionDeclaration(),v=this.finalize(g,new h.ExportNamedDeclaration(x,[],null));else{var S=[],T=null,b=!1;for(this.expect("{");!this.match("}");)b=b||this.matchKeyword("default"),S.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),T=this.parseModuleSpecifier(),this.consumeSemicolon()):b?(w=this.lookahead.value?f.Messages.UnexpectedToken:f.Messages.MissingFromClause,this.throwError(w,this.lookahead.value)):this.consumeSemicolon(),v=this.finalize(g,new h.ExportNamedDeclaration(null,S,T))}return v},_}();o.Parser=m},function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.assert=function(c,u){if(!c)throw new Error("ASSERT: "+u)}},function(s,o){Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function u(){this.errors=[],this.tolerant=!1}return u.prototype.recordError=function(l){this.errors.push(l)},u.prototype.tolerate=function(l){if(!this.tolerant)throw l;this.recordError(l)},u.prototype.constructError=function(l,f){var h=new Error(l);try{throw h}catch(p){Object.create&&Object.defineProperty&&(h=Object.create(p),Object.defineProperty(h,"column",{value:f}))}return h},u.prototype.createError=function(l,f,h,p){var d="Line "+f+": "+p,y=this.constructError(d,h);return y.index=l,y.lineNumber=f,y.description=p,y},u.prototype.throwError=function(l,f,h,p){throw this.createError(l,f,h,p)},u.prototype.tolerateError=function(l,f,h,p){var d=this.createError(l,f,h,p);if(!this.tolerant)throw d;this.recordError(d)},u}();o.ErrorHandler=c},function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(s,o,c){Object.defineProperty(o,"__esModule",{value:!0});var u=c(9),l=c(4),f=c(11);function h(y){return"0123456789abcdef".indexOf(y.toLowerCase())}function p(y){return"01234567".indexOf(y)}var d=function(){function y(m,_){this.source=m,this.errorHandler=_,this.trackComment=!1,this.isModule=!1,this.length=m.length,this.index=0,this.lineNumber=m.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return y.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},y.prototype.restoreState=function(m){this.index=m.index,this.lineNumber=m.lineNumber,this.lineStart=m.lineStart},y.prototype.eof=function(){return this.index>=this.length},y.prototype.throwUnexpectedToken=function(m){return m===void 0&&(m=f.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,m)},y.prototype.tolerateUnexpectedToken=function(m){m===void 0&&(m=f.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,m)},y.prototype.skipSingleLineComment=function(m){var _,v,g=[];for(this.trackComment&&(g=[],_=this.index-m,v={start:{line:this.lineNumber,column:this.index-this.lineStart-m},end:{}});!this.eof();){var x=this.source.charCodeAt(this.index);if(++this.index,l.Character.isLineTerminator(x)){if(this.trackComment){v.end={line:this.lineNumber,column:this.index-this.lineStart-1};var w={multiLine:!1,slice:[_+m,this.index-1],range:[_,this.index-1],loc:v};g.push(w)}return x===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,g}}return this.trackComment&&(v.end={line:this.lineNumber,column:this.index-this.lineStart},w={multiLine:!1,slice:[_+m,this.index],range:[_,this.index],loc:v},g.push(w)),g},y.prototype.skipMultiLineComment=function(){var m,_,v=[];for(this.trackComment&&(v=[],m=this.index-2,_={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var g=this.source.charCodeAt(this.index);if(l.Character.isLineTerminator(g))g===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(g===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){_.end={line:this.lineNumber,column:this.index-this.lineStart};var x={multiLine:!0,slice:[m+2,this.index-2],range:[m,this.index],loc:_};v.push(x)}return v}++this.index}else++this.index}return this.trackComment&&(_.end={line:this.lineNumber,column:this.index-this.lineStart},x={multiLine:!0,slice:[m+2,this.index],range:[m,this.index],loc:_},v.push(x)),this.tolerateUnexpectedToken(),v},y.prototype.scanComments=function(){var m;this.trackComment&&(m=[]);for(var _=this.index===0;!this.eof();){var v=this.source.charCodeAt(this.index);if(l.Character.isWhiteSpace(v))++this.index;else if(l.Character.isLineTerminator(v))++this.index,v===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,_=!0;else if(v===47)if((v=this.source.charCodeAt(this.index+1))===47){this.index+=2;var g=this.skipSingleLineComment(2);this.trackComment&&(m=m.concat(g)),_=!0}else{if(v!==42)break;this.index+=2,g=this.skipMultiLineComment(),this.trackComment&&(m=m.concat(g))}else if(_&&v===45){if(this.source.charCodeAt(this.index+1)!==45||this.source.charCodeAt(this.index+2)!==62)break;this.index+=3,g=this.skipSingleLineComment(3),this.trackComment&&(m=m.concat(g))}else{if(v!==60||this.isModule||this.source.slice(this.index+1,this.index+4)!=="!--")break;this.index+=4,g=this.skipSingleLineComment(4),this.trackComment&&(m=m.concat(g))}}return m},y.prototype.isFutureReservedWord=function(m){switch(m){case"enum":case"export":case"import":case"super":return!0;default:return!1}},y.prototype.isStrictModeReservedWord=function(m){switch(m){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},y.prototype.isRestrictedWord=function(m){return m==="eval"||m==="arguments"},y.prototype.isKeyword=function(m){switch(m.length){case 2:return m==="if"||m==="in"||m==="do";case 3:return m==="var"||m==="for"||m==="new"||m==="try"||m==="let";case 4:return m==="this"||m==="else"||m==="case"||m==="void"||m==="with"||m==="enum";case 5:return m==="while"||m==="break"||m==="catch"||m==="throw"||m==="const"||m==="yield"||m==="class"||m==="super";case 6:return m==="return"||m==="typeof"||m==="delete"||m==="switch"||m==="export"||m==="import";case 7:return m==="default"||m==="finally"||m==="extends";case 8:return m==="function"||m==="continue"||m==="debugger";case 10:return m==="instanceof";default:return!1}},y.prototype.codePointAt=function(m){var _=this.source.charCodeAt(m);if(_>=55296&&_<=56319){var v=this.source.charCodeAt(m+1);v>=56320&&v<=57343&&(_=1024*(_-55296)+v-56320+65536)}return _},y.prototype.scanHexEscape=function(m){for(var _=m==="u"?4:2,v=0,g=0;g<_;++g){if(this.eof()||!l.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;v=16*v+h(this.source[this.index++])}return String.fromCharCode(v)},y.prototype.scanUnicodeCodePointEscape=function(){var m=this.source[this.index],_=0;for(m==="}"&&this.throwUnexpectedToken();!this.eof()&&(m=this.source[this.index++],l.Character.isHexDigit(m.charCodeAt(0)));)_=16*_+h(m);return(_>1114111||m!=="}")&&this.throwUnexpectedToken(),l.Character.fromCodePoint(_)},y.prototype.getIdentifier=function(){for(var m=this.index++;!this.eof();){var _=this.source.charCodeAt(this.index);if(_===92)return this.index=m,this.getComplexIdentifier();if(_>=55296&&_<57343)return this.index=m,this.getComplexIdentifier();if(!l.Character.isIdentifierPart(_))break;++this.index}return this.source.slice(m,this.index)},y.prototype.getComplexIdentifier=function(){var m,_=this.codePointAt(this.index),v=l.Character.fromCodePoint(_);for(this.index+=v.length,_===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,m=this.scanUnicodeCodePointEscape()):(m=this.scanHexEscape("u"))!==null&&m!=="\\"&&l.Character.isIdentifierStart(m.charCodeAt(0))||this.throwUnexpectedToken(),v=m);!this.eof()&&(_=this.codePointAt(this.index),l.Character.isIdentifierPart(_));)v+=m=l.Character.fromCodePoint(_),this.index+=m.length,_===92&&(v=v.substr(0,v.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,m=this.scanUnicodeCodePointEscape()):(m=this.scanHexEscape("u"))!==null&&m!=="\\"&&l.Character.isIdentifierPart(m.charCodeAt(0))||this.throwUnexpectedToken(),v+=m);return v},y.prototype.octalToDecimal=function(m){var _=m!=="0",v=p(m);return!this.eof()&&l.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(_=!0,v=8*v+p(this.source[this.index++]),"0123".indexOf(m)>=0&&!this.eof()&&l.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(v=8*v+p(this.source[this.index++]))),{code:v,octal:_}},y.prototype.scanIdentifier=function(){var m,_=this.index,v=this.source.charCodeAt(_)===92?this.getComplexIdentifier():this.getIdentifier();if((m=v.length===1?3:this.isKeyword(v)?4:v==="null"?5:v==="true"||v==="false"?1:3)!=3&&_+v.length!==this.index){var g=this.index;this.index=_,this.tolerateUnexpectedToken(f.Messages.InvalidEscapedReservedWord),this.index=g}return{type:m,value:v,lineNumber:this.lineNumber,lineStart:this.lineStart,start:_,end:this.index}},y.prototype.scanPunctuator=function(){var m=this.index,_=this.source[this.index];switch(_){case"(":case"{":_==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,_="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:(_=this.source.substr(this.index,4))===">>>="?this.index+=4:(_=_.substr(0,3))==="==="||_==="!=="||_===">>>"||_==="<<="||_===">>="||_==="**="?this.index+=3:(_=_.substr(0,2))==="&&"||_==="||"||_==="=="||_==="!="||_==="+="||_==="-="||_==="*="||_==="/="||_==="++"||_==="--"||_==="<<"||_===">>"||_==="&="||_==="|="||_==="^="||_==="%="||_==="<="||_===">="||_==="=>"||_==="**"?this.index+=2:(_=this.source[this.index],"<>=!+-*%&|^/".indexOf(_)>=0&&++this.index)}return this.index===m&&this.throwUnexpectedToken(),{type:7,value:_,lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},y.prototype.scanHexLiteral=function(m){for(var _="";!this.eof()&&l.Character.isHexDigit(this.source.charCodeAt(this.index));)_+=this.source[this.index++];return _.length===0&&this.throwUnexpectedToken(),l.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+_,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},y.prototype.scanBinaryLiteral=function(m){for(var _,v="";!this.eof()&&((_=this.source[this.index])==="0"||_==="1");)v+=this.source[this.index++];return v.length===0&&this.throwUnexpectedToken(),this.eof()||(_=this.source.charCodeAt(this.index),(l.Character.isIdentifierStart(_)||l.Character.isDecimalDigit(_))&&this.throwUnexpectedToken()),{type:6,value:parseInt(v,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},y.prototype.scanOctalLiteral=function(m,_){var v="",g=!1;for(l.Character.isOctalDigit(m.charCodeAt(0))?(g=!0,v="0"+this.source[this.index++]):++this.index;!this.eof()&&l.Character.isOctalDigit(this.source.charCodeAt(this.index));)v+=this.source[this.index++];return g||v.length!==0||this.throwUnexpectedToken(),(l.Character.isIdentifierStart(this.source.charCodeAt(this.index))||l.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(v,8),octal:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:_,end:this.index}},y.prototype.isImplicitOctalLiteral=function(){for(var m=this.index+1;m<this.length;++m){var _=this.source[m];if(_==="8"||_==="9")return!1;if(!l.Character.isOctalDigit(_.charCodeAt(0)))return!0}return!0},y.prototype.scanNumericLiteral=function(){var m=this.index,_=this.source[m];u.assert(l.Character.isDecimalDigit(_.charCodeAt(0))||_===".","Numeric literal must start with a decimal digit or a decimal point");var v="";if(_!=="."){if(v=this.source[this.index++],_=this.source[this.index],v==="0"){if(_==="x"||_==="X")return++this.index,this.scanHexLiteral(m);if(_==="b"||_==="B")return++this.index,this.scanBinaryLiteral(m);if(_==="o"||_==="O")return this.scanOctalLiteral(_,m);if(_&&l.Character.isOctalDigit(_.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(_,m)}for(;l.Character.isDecimalDigit(this.source.charCodeAt(this.index));)v+=this.source[this.index++];_=this.source[this.index]}if(_==="."){for(v+=this.source[this.index++];l.Character.isDecimalDigit(this.source.charCodeAt(this.index));)v+=this.source[this.index++];_=this.source[this.index]}if(_==="e"||_==="E")if(v+=this.source[this.index++],(_=this.source[this.index])!=="+"&&_!=="-"||(v+=this.source[this.index++]),l.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;l.Character.isDecimalDigit(this.source.charCodeAt(this.index));)v+=this.source[this.index++];else this.throwUnexpectedToken();return l.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(v),lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},y.prototype.scanStringLiteral=function(){var m=this.index,_=this.source[m];u.assert(_==="'"||_==='"',"String literal must starts with a quote"),++this.index;for(var v=!1,g="";!this.eof();){var x=this.source[this.index++];if(x===_){_="";break}if(x==="\\")if((x=this.source[this.index++])&&l.Character.isLineTerminator(x.charCodeAt(0)))++this.lineNumber,x==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(x){case"u":if(this.source[this.index]==="{")++this.index,g+=this.scanUnicodeCodePointEscape();else{var w=this.scanHexEscape(x);w===null&&this.throwUnexpectedToken(),g+=w}break;case"x":var C=this.scanHexEscape(x);C===null&&this.throwUnexpectedToken(f.Messages.InvalidHexEscapeSequence),g+=C;break;case"n":g+=`
`;break;case"r":g+="\r";break;case"t":g+="	";break;case"b":g+="\b";break;case"f":g+="\f";break;case"v":g+="\v";break;case"8":case"9":g+=x,this.tolerateUnexpectedToken();break;default:if(x&&l.Character.isOctalDigit(x.charCodeAt(0))){var S=this.octalToDecimal(x);v=S.octal||v,g+=String.fromCharCode(S.code)}else g+=x}else{if(l.Character.isLineTerminator(x.charCodeAt(0)))break;g+=x}}return _!==""&&(this.index=m,this.throwUnexpectedToken()),{type:8,value:g,octal:v,lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},y.prototype.scanTemplate=function(){var m="",_=!1,v=this.index,g=this.source[v]==="`",x=!1,w=2;for(++this.index;!this.eof();){var C=this.source[this.index++];if(C==="`"){w=1,x=!0,_=!0;break}if(C==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,_=!0;break}m+=C}else if(C==="\\")if(C=this.source[this.index++],l.Character.isLineTerminator(C.charCodeAt(0)))++this.lineNumber,C==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(C){case"n":m+=`
`;break;case"r":m+="\r";break;case"t":m+="	";break;case"u":if(this.source[this.index]==="{")++this.index,m+=this.scanUnicodeCodePointEscape();else{var S=this.index,T=this.scanHexEscape(C);T!==null?m+=T:(this.index=S,m+=C)}break;case"x":var b=this.scanHexEscape(C);b===null&&this.throwUnexpectedToken(f.Messages.InvalidHexEscapeSequence),m+=b;break;case"b":m+="\b";break;case"f":m+="\f";break;case"v":m+="\v";break;default:C==="0"?(l.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(f.Messages.TemplateOctalLiteral),m+="\0"):l.Character.isOctalDigit(C.charCodeAt(0))?this.throwUnexpectedToken(f.Messages.TemplateOctalLiteral):m+=C}else l.Character.isLineTerminator(C.charCodeAt(0))?(++this.lineNumber,C==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,m+=`
`):m+=C}return _||this.throwUnexpectedToken(),g||this.curlyStack.pop(),{type:10,value:this.source.slice(v+1,this.index-w),cooked:m,head:g,tail:x,lineNumber:this.lineNumber,lineStart:this.lineStart,start:v,end:this.index}},y.prototype.testRegExp=function(m,_){var v=m,g=this;_.indexOf("u")>=0&&(v=v.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(x,w,C){var S=parseInt(w||C,16);return S>1114111&&g.throwUnexpectedToken(f.Messages.InvalidRegExp),S<=65535?String.fromCharCode(S):"\uFFFF"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"\uFFFF"));try{RegExp(v)}catch{this.throwUnexpectedToken(f.Messages.InvalidRegExp)}try{return new RegExp(m,_)}catch{return null}},y.prototype.scanRegExpBody=function(){var m=this.source[this.index];u.assert(m==="/","Regular expression literal must start with a slash");for(var _=this.source[this.index++],v=!1,g=!1;!this.eof();)if(_+=m=this.source[this.index++],m==="\\")m=this.source[this.index++],l.Character.isLineTerminator(m.charCodeAt(0))&&this.throwUnexpectedToken(f.Messages.UnterminatedRegExp),_+=m;else if(l.Character.isLineTerminator(m.charCodeAt(0)))this.throwUnexpectedToken(f.Messages.UnterminatedRegExp);else if(v)m==="]"&&(v=!1);else{if(m==="/"){g=!0;break}m==="["&&(v=!0)}return g||this.throwUnexpectedToken(f.Messages.UnterminatedRegExp),_.substr(1,_.length-2)},y.prototype.scanRegExpFlags=function(){for(var m="";!this.eof();){var _=this.source[this.index];if(!l.Character.isIdentifierPart(_.charCodeAt(0)))break;if(++this.index,_!=="\\"||this.eof())m+=_;else if((_=this.source[this.index])==="u"){++this.index;var v=this.index,g=this.scanHexEscape("u");if(g!==null)for(m+=g;v<this.index;++v)this.source[v];else this.index=v,m+="u";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return m},y.prototype.scanRegExp=function(){var m=this.index,_=this.scanRegExpBody(),v=this.scanRegExpFlags();return{type:9,value:"",pattern:_,flags:v,regex:this.testRegExp(_,v),lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},y.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var m=this.source.charCodeAt(this.index);return l.Character.isIdentifierStart(m)?this.scanIdentifier():m===40||m===41||m===59?this.scanPunctuator():m===39||m===34?this.scanStringLiteral():m===46?l.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():l.Character.isDecimalDigit(m)?this.scanNumericLiteral():m===96||m===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():m>=55296&&m<57343&&l.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},y}();o.Scanner=d},function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.TokenName={},o.TokenName[1]="Boolean",o.TokenName[2]="<end>",o.TokenName[3]="Identifier",o.TokenName[4]="Keyword",o.TokenName[5]="Null",o.TokenName[6]="Numeric",o.TokenName[7]="Punctuator",o.TokenName[8]="String",o.TokenName[9]="RegularExpression",o.TokenName[10]="Template"},function(s,o){Object.defineProperty(o,"__esModule",{value:!0}),o.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27E8",rang:"\u27E9"}},function(s,o,c){Object.defineProperty(o,"__esModule",{value:!0});var u=c(10),l=c(12),f=c(13),h=function(){function d(){this.values=[],this.curly=this.paren=-1}return d.prototype.beforeFunctionExpression=function(y){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(y)>=0},d.prototype.isRegexStart=function(){var y=this.values[this.values.length-1],m=y!==null;switch(y){case"this":case"]":m=!1;break;case")":var _=this.values[this.paren-1];m=_==="if"||_==="while"||_==="for"||_==="with";break;case"}":if(m=!1,this.values[this.curly-3]==="function")m=!!(v=this.values[this.curly-4])&&!this.beforeFunctionExpression(v);else if(this.values[this.curly-4]==="function"){var v;m=!(v=this.values[this.curly-5])||!this.beforeFunctionExpression(v)}}return m},d.prototype.push=function(y){y.type===7||y.type===4?(y.value==="{"?this.curly=this.values.length:y.value==="("&&(this.paren=this.values.length),this.values.push(y.value)):this.values.push(null)},d}(),p=function(){function d(y,m){this.errorHandler=new u.ErrorHandler,this.errorHandler.tolerant=!!m&&typeof m.tolerant=="boolean"&&m.tolerant,this.scanner=new l.Scanner(y,this.errorHandler),this.scanner.trackComment=!!m&&typeof m.comment=="boolean"&&m.comment,this.trackRange=!!m&&typeof m.range=="boolean"&&m.range,this.trackLoc=!!m&&typeof m.loc=="boolean"&&m.loc,this.buffer=[],this.reader=new h}return d.prototype.errors=function(){return this.errorHandler.errors},d.prototype.getNextToken=function(){if(this.buffer.length===0){var y=this.scanner.scanComments();if(this.scanner.trackComment)for(var m=0;m<y.length;++m){var _=y[m],v=this.scanner.source.slice(_.slice[0],_.slice[1]),g={type:_.multiLine?"BlockComment":"LineComment",value:v};this.trackRange&&(g.range=_.range),this.trackLoc&&(g.loc=_.loc),this.buffer.push(g)}if(!this.scanner.eof()){var x=void 0;this.trackLoc&&(x={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var w=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(w);var C={type:f.TokenName[w.type],value:this.scanner.source.slice(w.start,w.end)};if(this.trackRange&&(C.range=[w.start,w.end]),this.trackLoc&&(x.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},C.loc=x),w.type===9){var S=w.pattern,T=w.flags;C.regex={pattern:S,flags:T}}this.buffer.push(C)}}return this.buffer.shift()},d}();o.Tokenizer=p}])},n.exports=i()},function(n,r,a){var i=a(38),s=a(53),o=a(76),c=a(54),u=Object.prototype.toString,l=Object.prototype.hasOwnProperty,f={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},h=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function p(E){var A,W,z;if(A=E.toString(16).toUpperCase(),E<=255)W="x",z=2;else if(E<=65535)W="u",z=4;else{if(!(E<=4294967295))throw new s("code point within a string may not be greater than 0xFFFFFFFF");W="U",z=8}return"\\"+W+i.repeat("0",z-A.length)+A}function d(E){this.schema=E.schema||o,this.indent=Math.max(1,E.indent||2),this.noArrayIndent=E.noArrayIndent||!1,this.skipInvalid=E.skipInvalid||!1,this.flowLevel=i.isNothing(E.flowLevel)?-1:E.flowLevel,this.styleMap=function(A,W){var z,F,L,G,H,$,J;if(W===null)return{};for(z={},L=0,G=(F=Object.keys(W)).length;L<G;L+=1)H=F[L],$=String(W[H]),H.slice(0,2)==="!!"&&(H="tag:yaml.org,2002:"+H.slice(2)),(J=A.compiledTypeMap.fallback[H])&&l.call(J.styleAliases,$)&&($=J.styleAliases[$]),z[H]=$;return z}(this.schema,E.styles||null),this.sortKeys=E.sortKeys||!1,this.lineWidth=E.lineWidth||80,this.noRefs=E.noRefs||!1,this.noCompatMode=E.noCompatMode||!1,this.condenseFlow=E.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function y(E,A){for(var W,z=i.repeat(" ",A),F=0,L=-1,G="",H=E.length;F<H;)(L=E.indexOf(`
`,F))===-1?(W=E.slice(F),F=H):(W=E.slice(F,L+1),F=L+1),W.length&&W!==`
`&&(G+=z),G+=W;return G}function m(E,A){return`
`+i.repeat(" ",E.indent*A)}function _(E){return E===32||E===9}function v(E){return 32<=E&&E<=126||161<=E&&E<=55295&&E!==8232&&E!==8233||57344<=E&&E<=65533&&E!==65279||65536<=E&&E<=1114111}function g(E,A){return v(E)&&E!==65279&&E!==44&&E!==91&&E!==93&&E!==123&&E!==125&&E!==58&&(E!==35||A&&function(W){return v(W)&&!_(W)&&W!==65279&&W!==13&&W!==10}(A))}function x(E){return/^\n* /.test(E)}function w(E,A,W,z,F){var L,G,H,$,J=!1,Q=!1,q=z!==-1,ne=-1,te=v($=E.charCodeAt(0))&&$!==65279&&!_($)&&$!==45&&$!==63&&$!==58&&$!==44&&$!==91&&$!==93&&$!==123&&$!==125&&$!==35&&$!==38&&$!==42&&$!==33&&$!==124&&$!==61&&$!==62&&$!==39&&$!==34&&$!==37&&$!==64&&$!==96&&!_(E.charCodeAt(E.length-1));if(A)for(L=0;L<E.length;L++){if(!v(G=E.charCodeAt(L)))return 5;H=L>0?E.charCodeAt(L-1):null,te=te&&g(G,H)}else{for(L=0;L<E.length;L++){if((G=E.charCodeAt(L))===10)J=!0,q&&(Q=Q||L-ne-1>z&&E[ne+1]!==" ",ne=L);else if(!v(G))return 5;H=L>0?E.charCodeAt(L-1):null,te=te&&g(G,H)}Q=Q||q&&L-ne-1>z&&E[ne+1]!==" "}return J||Q?W>9&&x(E)?5:Q?4:3:te&&!F(E)?1:2}function C(E,A,W,z){E.dump=function(){if(A.length===0)return"''";if(!E.noCompatMode&&h.indexOf(A)!==-1)return"'"+A+"'";var F=E.indent*Math.max(1,W),L=E.lineWidth===-1?-1:Math.max(Math.min(E.lineWidth,40),E.lineWidth-F),G=z||E.flowLevel>-1&&W>=E.flowLevel;switch(w(A,G,E.indent,L,function(H){return function($,J){var Q,q;for(Q=0,q=$.implicitTypes.length;Q<q;Q+=1)if($.implicitTypes[Q].resolve(J))return!0;return!1}(E,H)})){case 1:return A;case 2:return"'"+A.replace(/'/g,"''")+"'";case 3:return"|"+S(A,E.indent)+T(y(A,F));case 4:return">"+S(A,E.indent)+T(y(function(H,$){for(var J,Q,q=/(\n+)([^\n]*)/g,ne=(oe=H.indexOf(`
`),oe=oe!==-1?oe:H.length,q.lastIndex=oe,b(H.slice(0,oe),$)),te=H[0]===`
`||H[0]===" ",oe;Q=q.exec(H);){var re=Q[1],B=Q[2];J=B[0]===" ",ne+=re+(te||J||B===""?"":`
`)+b(B,$),te=J}return ne}(A,L),F));case 5:return'"'+function(H){for(var $,J,Q,q="",ne=0;ne<H.length;ne++)($=H.charCodeAt(ne))>=55296&&$<=56319&&(J=H.charCodeAt(ne+1))>=56320&&J<=57343?(q+=p(1024*($-55296)+J-56320+65536),ne++):(Q=f[$],q+=!Q&&v($)?H[ne]:Q||p($));return q}(A)+'"';default:throw new s("impossible error: invalid scalar style")}}()}function S(E,A){var W=x(E)?String(A):"",z=E[E.length-1]===`
`;return W+(z&&(E[E.length-2]===`
`||E===`
`)?"+":z?"":"-")+`
`}function T(E){return E[E.length-1]===`
`?E.slice(0,-1):E}function b(E,A){if(E===""||E[0]===" ")return E;for(var W,z,F=/ [^ ]/g,L=0,G=0,H=0,$="";W=F.exec(E);)(H=W.index)-L>A&&(z=G>L?G:H,$+=`
`+E.slice(L,z),L=z+1),G=H;return $+=`
`,E.length-L>A&&G>L?$+=E.slice(L,G)+`
`+E.slice(G+1):$+=E.slice(L),$.slice(1)}function O(E,A,W){var z,F,L,G,H,$;for(L=0,G=(F=W?E.explicitTypes:E.implicitTypes).length;L<G;L+=1)if(((H=F[L]).instanceOf||H.predicate)&&(!H.instanceOf||typeof A=="object"&&A instanceof H.instanceOf)&&(!H.predicate||H.predicate(A))){if(E.tag=W?H.tag:"?",H.represent){if($=E.styleMap[H.tag]||H.defaultStyle,u.call(H.represent)==="[object Function]")z=H.represent(A,$);else{if(!l.call(H.represent,$))throw new s("!<"+H.tag+'> tag resolver accepts not "'+$+'" style');z=H.represent[$](A,$)}E.dump=z}return!0}return!1}function D(E,A,W,z,F,L){E.tag=null,E.dump=W,O(E,W,!1)||O(E,W,!0);var G=u.call(E.dump);z&&(z=E.flowLevel<0||E.flowLevel>A);var H,$,J=G==="[object Object]"||G==="[object Array]";if(J&&($=(H=E.duplicates.indexOf(W))!==-1),(E.tag!==null&&E.tag!=="?"||$||E.indent!==2&&A>0)&&(F=!1),$&&E.usedDuplicates[H])E.dump="*ref_"+H;else{if(J&&$&&!E.usedDuplicates[H]&&(E.usedDuplicates[H]=!0),G==="[object Object]")z&&Object.keys(E.dump).length!==0?(function(q,ne,te,oe){var re,B,k,j,V,M,P="",U=q.tag,K=Object.keys(te);if(q.sortKeys===!0)K.sort();else if(typeof q.sortKeys=="function")K.sort(q.sortKeys);else if(q.sortKeys)throw new s("sortKeys must be a boolean or a function");for(re=0,B=K.length;re<B;re+=1)M="",oe&&re===0||(M+=m(q,ne)),j=te[k=K[re]],D(q,ne+1,k,!0,!0,!0)&&((V=q.tag!==null&&q.tag!=="?"||q.dump&&q.dump.length>1024)&&(q.dump&&q.dump.charCodeAt(0)===10?M+="?":M+="? "),M+=q.dump,V&&(M+=m(q,ne)),D(q,ne+1,j,!0,V)&&(q.dump&&q.dump.charCodeAt(0)===10?M+=":":M+=": ",P+=M+=q.dump));q.tag=U,q.dump=P||"{}"}(E,A,E.dump,F),$&&(E.dump="&ref_"+H+E.dump)):(function(q,ne,te){var oe,re,B,k,j,V="",M=q.tag,P=Object.keys(te);for(oe=0,re=P.length;oe<re;oe+=1)j="",oe!==0&&(j+=", "),q.condenseFlow&&(j+='"'),k=te[B=P[oe]],D(q,ne,B,!1,!1)&&(q.dump.length>1024&&(j+="? "),j+=q.dump+(q.condenseFlow?'"':"")+":"+(q.condenseFlow?"":" "),D(q,ne,k,!1,!1)&&(V+=j+=q.dump));q.tag=M,q.dump="{"+V+"}"}(E,A,E.dump),$&&(E.dump="&ref_"+H+" "+E.dump));else if(G==="[object Array]"){var Q=E.noArrayIndent&&A>0?A-1:A;z&&E.dump.length!==0?(function(q,ne,te,oe){var re,B,k="",j=q.tag;for(re=0,B=te.length;re<B;re+=1)D(q,ne+1,te[re],!0,!0)&&(oe&&re===0||(k+=m(q,ne)),q.dump&&q.dump.charCodeAt(0)===10?k+="-":k+="- ",k+=q.dump);q.tag=j,q.dump=k||"[]"}(E,Q,E.dump,F),$&&(E.dump="&ref_"+H+E.dump)):(function(q,ne,te){var oe,re,B="",k=q.tag;for(oe=0,re=te.length;oe<re;oe+=1)D(q,ne,te[oe],!1,!1)&&(oe!==0&&(B+=","+(q.condenseFlow?"":" ")),B+=q.dump);q.tag=k,q.dump="["+B+"]"}(E,Q,E.dump),$&&(E.dump="&ref_"+H+" "+E.dump))}else{if(G!=="[object String]"){if(E.skipInvalid)return!1;throw new s("unacceptable kind of an object to dump "+G)}E.tag!=="?"&&C(E,E.dump,A,L)}E.tag!==null&&E.tag!=="?"&&(E.dump="!<"+E.tag+"> "+E.dump)}return!0}function N(E,A){var W,z,F=[],L=[];for(function G(H,$,J){var Q,q,ne;if(H!==null&&typeof H=="object")if((q=$.indexOf(H))!==-1)J.indexOf(q)===-1&&J.push(q);else if($.push(H),Array.isArray(H))for(q=0,ne=H.length;q<ne;q+=1)G(H[q],$,J);else for(Q=Object.keys(H),q=0,ne=Q.length;q<ne;q+=1)G(H[Q[q]],$,J)}(E,F,L),W=0,z=L.length;W<z;W+=1)A.duplicates.push(F[L[W]]);A.usedDuplicates=new Array(z)}function R(E,A){var W=new d(A=A||{});return W.noRefs||N(E,W),D(W,0,E,!0,!0)?W.dump+`
`:""}n.exports.dump=R,n.exports.safeDump=function(E,A){return R(E,i.extend({schema:c},A))}},function(n,r,a){a(31),a(32),a(33),a(64),a(19),a(65),a(20),a(68),a(92),a(144),a(22),a(94),a(23);var i,s=this&&this.__extends||(i=function(w,C){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var b in T)T.hasOwnProperty(b)&&(S[b]=T[b])})(w,C)},function(w,C){function S(){this.constructor=w}i(w,C),w.prototype=C===null?Object.create(C):(S.prototype=C.prototype,new S)}),o=this&&this.__values||function(w){var C=typeof Symbol=="function"&&Symbol.iterator,S=C&&w[C],T=0;if(S)return S.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&T>=w.length&&(w=void 0),{value:w&&w[T++],done:!w}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(w,C){var S=typeof Symbol=="function"&&w[Symbol.iterator];if(!S)return w;var T,b,O=S.call(w),D=[];try{for(;(C===void 0||C-- >0)&&!(T=O.next()).done;)D.push(T.value)}catch(N){b={error:N}}finally{try{T&&!T.done&&(S=O.return)&&S.call(O)}finally{if(b)throw b.error}}return D};Object.defineProperty(r,"__esModule",{value:!0});var u=a(91),l=a(1),f=a(183),h=a(0),p=a(7),d=a(95),y=a(69),m=a(3),_=a(305),v=a(306),g=a(307),x=function(w){function C(S,T){T===void 0&&(T=!1);var b=w.call(this)||this;return b._hasDeclaration=!1,b._docTypeName="",b._hasDocumentElement=!1,b._currentElementSerialized=!1,b._openTags=[],b._ended=!1,b._fragment=T,b._options=l.applyDefaults(S||{},u.DefaultXMLBuilderCBOptions),b._builderOptions={defaultNamespace:b._options.defaultNamespace,namespaceAlias:b._options.namespaceAlias},b._options.format==="json"?b._writer=new v.JSONCBWriter(b._options):b._options.format==="yaml"?b._writer=new g.YAMLCBWriter(b._options):b._writer=new _.XMLCBWriter(b._options),b._options.data!==void 0&&b.on("data",b._options.data),b._options.end!==void 0&&b.on("end",b._options.end),b._options.error!==void 0&&b.on("error",b._options.error),b._prefixMap=new d.NamespacePrefixMap,b._prefixMap.set("xml",p.namespace.XML),b._prefixIndex={value:1},b._push(b._writer.frontMatter()),b}return s(C,w),C.prototype.ele=function(S,T,b){var O,D;if(l.isObject(S)||l.isString(S)&&(/^\s*</.test(S)||/^\s*[\{\[]/.test(S)||/^(\s*|(#.*)|(%.*))*---/.test(S))){var N=f.fragment().set(this._options);try{N.ele(S)}catch(W){return this.emit("error",W),this}try{for(var R=o(N.node.childNodes),E=R.next();!E.done;E=R.next()){var A=E.value;this._fromNode(A)}}catch(W){O={error:W}}finally{try{E&&!E.done&&(D=R.return)&&D.call(R)}finally{if(O)throw O.error}}return this}if(this._serializeOpenTag(!0),!this._fragment&&this._hasDocumentElement&&this._writer.level===0)return this.emit("error",new Error("Document cannot have multiple document element nodes.")),this;try{this._currentElement=f.fragment(this._builderOptions).ele(S,T,b)}catch(W){return this.emit("error",W),this}return this._fragment||this._hasDocumentElement||this._docTypeName===""||this._currentElement.node._qualifiedName===this._docTypeName?(this._currentElementSerialized=!1,this._fragment||(this._hasDocumentElement=!0),this):(this.emit("error",new Error("Document element name does not match DocType declaration name.")),this)},C.prototype.att=function(S,T,b){if(this._currentElement===void 0)return this.emit("error",new Error("Cannot insert an attribute node as child of a document node.")),this;try{this._currentElement.att(S,T,b)}catch(O){return this.emit("error",O),this}return this},C.prototype.com=function(S){var T;this._serializeOpenTag(!0);try{T=f.fragment(this._builderOptions).com(S).first().node}catch(b){return this.emit("error",b),this}return!this._options.wellFormed||h.xml_isLegalChar(T.data)&&T.data.indexOf("--")===-1&&!T.data.endsWith("-")?(this._push(this._writer.comment(T.data)),this):(this.emit("error",new Error("Comment data contains invalid characters (well-formed required).")),this)},C.prototype.txt=function(S){if(!this._fragment&&this._currentElement===void 0)return this.emit("error",new Error("Cannot insert a text node as child of a document node.")),this;var T;this._serializeOpenTag(!0);try{T=f.fragment(this._builderOptions).txt(S).first().node}catch(O){return this.emit("error",O),this}if(this._options.wellFormed&&!h.xml_isLegalChar(T.data))return this.emit("error",new Error("Text data contains invalid characters (well-formed required).")),this;var b=T.data.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return this._push(this._writer.text(b)),this},C.prototype.ins=function(S,T){var b;T===void 0&&(T=""),this._serializeOpenTag(!0);try{b=f.fragment(this._builderOptions).ins(S,T).first().node}catch(O){return this.emit("error",O),this}return this._options.wellFormed&&(b.target.indexOf(":")!==-1||/^xml$/i.test(b.target))?(this.emit("error",new Error("Processing instruction target contains invalid characters (well-formed required).")),this):this._options.wellFormed&&!h.xml_isLegalChar(b.data)?(this.emit("error",Error("Processing instruction data contains invalid characters (well-formed required).")),this):(this._push(this._writer.instruction(b.target,b.data)),this)},C.prototype.dat=function(S){var T;this._serializeOpenTag(!0);try{T=f.fragment(this._builderOptions).dat(S).first().node}catch(b){return this.emit("error",b),this}return this._push(this._writer.cdata(T.data)),this},C.prototype.dec=function(S){return S===void 0&&(S={version:"1.0"}),this._fragment?(this.emit("error",Error("Cannot insert an XML declaration into a document fragment.")),this):this._hasDeclaration?(this.emit("error",Error("XML declaration is already inserted.")),this):(this._push(this._writer.declaration(S.version||"1.0",S.encoding,S.standalone)),this._hasDeclaration=!0,this)},C.prototype.dtd=function(S){if(this._fragment)return this.emit("error",Error("Cannot insert a DocType declaration into a document fragment.")),this;if(this._docTypeName!=="")return this.emit("error",new Error("DocType declaration is already inserted.")),this;if(this._hasDocumentElement)return this.emit("error",new Error("Cannot insert DocType declaration after document element.")),this;var T;try{T=f.create().dtd(S).first().node}catch(b){return this.emit("error",b),this}return this._options.wellFormed&&!h.xml_isPubidChar(T.publicId)?(this.emit("error",new Error("DocType public identifier does not match PubidChar construct (well-formed required).")),this):this._options.wellFormed&&(!h.xml_isLegalChar(T.systemId)||T.systemId.indexOf('"')!==-1&&T.systemId.indexOf("'")!==-1)?(this.emit("error",new Error("DocType system identifier contains invalid characters (well-formed required).")),this):(this._docTypeName=S.name,this._push(this._writer.docType(S.name,T.publicId,T.systemId)),this)},C.prototype.import=function(S){var T,b,O=f.fragment().set(this._options);try{O.import(S)}catch(E){return this.emit("error",E),this}try{for(var D=o(O.node.childNodes),N=D.next();!N.done;N=D.next()){var R=N.value;this._fromNode(R)}}catch(E){T={error:E}}finally{try{N&&!N.done&&(b=D.return)&&b.call(D)}finally{if(T)throw T.error}}return this},C.prototype.up=function(){return this._serializeOpenTag(!1),this._serializeCloseTag(),this},C.prototype.end=function(){for(this._serializeOpenTag(!1);this._openTags.length>0;)this._serializeCloseTag();return this._push(null),this},C.prototype._serializeOpenTag=function(S){if(!this._currentElementSerialized&&this._currentElement!==void 0){var T=this._currentElement.node;if(!this._options.wellFormed||T.localName.indexOf(":")===-1&&h.xml_isName(T.localName)){var b="",O=!1,D=this._prefixMap.copy(),N={},R=this._recordNamespaceInformation(T,D,N),E=this._openTags.length===0?null:this._openTags[this._openTags.length-1][1],A=T.namespaceURI;if(A===null&&(A=E),E===A)R!==null&&(O=!0),b=A===p.namespace.XML?"xml:"+T.localName:T.localName,this._writer.beginElement(b),this._push(this._writer.openTagBegin(b));else{var W=T.prefix,z=null;if(W===null&&A===R||(z=D.get(W,A)),W==="xmlns"){if(this._options.wellFormed)return void this.emit("error",new Error("An element cannot have the 'xmlns' prefix (well-formed required)."));z=W}z!==null?(b=z+":"+T.localName,R!==null&&R!==p.namespace.XML&&(E=R||null),this._writer.beginElement(b),this._push(this._writer.openTagBegin(b))):W!==null?(W in N&&(W=this._generatePrefix(A,D,this._prefixIndex)),D.set(W,A),b+=W+":"+T.localName,this._writer.beginElement(b),this._push(this._writer.openTagBegin(b)),this._push(this._writer.attribute("xmlns:"+W,this._serializeAttributeValue(A,this._options.wellFormed))),R!==null&&(E=R||null)):R===null||R!==null&&R!==A?(O=!0,b+=T.localName,E=A,this._writer.beginElement(b),this._push(this._writer.openTagBegin(b)),this._push(this._writer.attribute("xmlns",this._serializeAttributeValue(A,this._options.wellFormed)))):(b+=T.localName,E=A,this._writer.beginElement(b),this._push(this._writer.openTagBegin(b)))}this._serializeAttributes(T,D,this._prefixIndex,N,O,this._options.wellFormed);var F=A===p.namespace.HTML;F&&!S&&C._VoidElementNames.has(T.localName)?(this._push(this._writer.openTagEnd(b,!0,!0)),this._writer.endElement(b)):F||S?this._push(this._writer.openTagEnd(b,!1,!1)):(this._push(this._writer.openTagEnd(b,!0,!1)),this._writer.endElement(b)),this._currentElementSerialized=!0,this._openTags.push([b,E,this._prefixMap,S]),this._isPrefixMapModified(this._prefixMap,D)&&(this._prefixMap=D),this._writer.level++}else this.emit("error",new Error("Node local name contains invalid characters (well-formed required)."))}},C.prototype._serializeCloseTag=function(){this._writer.level--;var S=this._openTags.pop();if(S!==void 0){var T=c(S,4),b=T[0],O=(T[1],T[2]),D=T[3];this._prefixMap=O,D&&(this._push(this._writer.closeTag(b)),this._writer.endElement(b))}else this.emit("error",new Error("Last element is undefined."))},C.prototype._push=function(S){S===null?(this._ended=!0,this.emit("end")):this._ended?this.emit("error",new Error("Cannot push to ended stream.")):S.length!==0&&(this._writer.hasData=!0,this.emit("data",S,this._writer.level))},C.prototype._fromNode=function(S){var T,b,O,D;if(m.Guard.isElementNode(S)){var N=S.prefix?S.prefix+":"+S.localName:S.localName;S.namespaceURI!==null?this.ele(S.namespaceURI,N):this.ele(N);try{for(var R=o(S.attributes),E=R.next();!E.done;E=R.next()){var A=E.value,W=A.prefix?A.prefix+":"+A.localName:A.localName;A.namespaceURI!==null?this.att(A.namespaceURI,W,A.value):this.att(W,A.value)}}catch(G){T={error:G}}finally{try{E&&!E.done&&(b=R.return)&&b.call(R)}finally{if(T)throw T.error}}try{for(var z=o(S.childNodes),F=z.next();!F.done;F=z.next()){var L=F.value;this._fromNode(L)}}catch(G){O={error:G}}finally{try{F&&!F.done&&(D=z.return)&&D.call(z)}finally{if(O)throw O.error}}this.up()}else m.Guard.isExclusiveTextNode(S)&&S.data?this.txt(S.data):m.Guard.isCommentNode(S)?this.com(S.data):m.Guard.isCDATASectionNode(S)?this.dat(S.data):m.Guard.isProcessingInstructionNode(S)&&this.ins(S.target,S.data)},C.prototype._serializeAttributes=function(S,T,b,O,D,N){var R,E,A=N?new y.LocalNameSet:void 0;try{for(var W=o(S.attributes),z=W.next();!z.done;z=W.next()){var F=z.value;if(N||D||F.namespaceURI!==null){if(N&&A&&A.has(F.namespaceURI,F.localName))return void this.emit("error",new Error("Element contains duplicate attributes (well-formed required)."));N&&A&&A.set(F.namespaceURI,F.localName);var L=F.namespaceURI,G=null;if(L!==null)if(G=T.get(F.prefix,L),L===p.namespace.XMLNS){if(F.value===p.namespace.XML||F.prefix===null&&D||F.prefix!==null&&(!(F.localName in O)||O[F.localName]!==F.value)&&T.has(F.localName,F.value))continue;if(N&&F.value===p.namespace.XMLNS)return void this.emit("error",new Error("XMLNS namespace is reserved (well-formed required)."));if(N&&F.value==="")return void this.emit("error",new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required)."));F.prefix==="xmlns"&&(G="xmlns")}else G===null&&(G=F.prefix===null||T.hasPrefix(F.prefix)&&!T.has(F.prefix,L)?this._generatePrefix(L,T,b):F.prefix,this._push(this._writer.attribute("xmlns:"+G,this._serializeAttributeValue(L,this._options.wellFormed))));if(N&&(F.localName.indexOf(":")!==-1||!h.xml_isName(F.localName)||F.localName==="xmlns"&&L===null))return void this.emit("error",new Error("Attribute local name contains invalid characters (well-formed required)."));this._push(this._writer.attribute((G!==null?G+":":"")+F.localName,this._serializeAttributeValue(F.value,this._options.wellFormed)))}else this._push(this._writer.attribute(F.localName,this._serializeAttributeValue(F.value,this._options.wellFormed)))}}catch(H){R={error:H}}finally{try{z&&!z.done&&(E=W.return)&&E.call(W)}finally{if(R)throw R.error}}},C.prototype._serializeAttributeValue=function(S,T){return T&&S!==null&&!h.xml_isLegalChar(S)?(this.emit("error",new Error("Invalid characters in attribute value.")),""):S===null?"":S.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},C.prototype._recordNamespaceInformation=function(S,T,b){var O,D,N=null;try{for(var R=o(S.attributes),E=R.next();!E.done;E=R.next()){var A=E.value,W=A.namespaceURI,z=A.prefix;if(W===p.namespace.XMLNS){if(z===null){N=A.value;continue}var F=A.localName,L=A.value;if(L===p.namespace.XML||(L===""&&(L=null),T.has(F,L)))continue;T.set(F,L),b[F]=L||""}}}catch(G){O={error:G}}finally{try{E&&!E.done&&(D=R.return)&&D.call(R)}finally{if(O)throw O.error}}return N},C.prototype._generatePrefix=function(S,T,b){var O="ns"+b.value;return b.value++,T.set(O,S),O},C.prototype._isPrefixMapModified=function(S,T){var b=S._items,O=T._items,D=S._nullItems,N=T._nullItems;for(var R in O){var E=b[R];if(E===void 0)return!0;var A=O[R];if(E.length!==A.length)return!0;for(var W=0;W<E.length;W++)if(E[W]!==A[W])return!0}if(D.length!==N.length)return!0;for(W=0;W<D.length;W++)if(D[W]!==N[W])return!0;return!1},C._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),C}(a(308).EventEmitter);r.XMLBuilderCBImpl=x},function(n,r,a){a(74);var i,s=this&&this.__extends||(i=function(c,u){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var h in f)f.hasOwnProperty(h)&&(l[h]=f[h])})(c,u)},function(c,u){function l(){this.constructor=c}i(c,u),c.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(c){function u(l){var f=c.call(this,l)||this;return f._lineLength=0,f}return s(u,c),u.prototype.frontMatter=function(){return""},u.prototype.declaration=function(l,f,h){var p=this._beginLine()+"<?xml";return p+=' version="'+l+'"',f!==void 0&&(p+=' encoding="'+f+'"'),h!==void 0&&(p+=' standalone="'+(h?"yes":"no")+'"'),p+="?>"},u.prototype.docType=function(l,f,h){var p=this._beginLine();return p+=f&&h?"<!DOCTYPE "+l+' PUBLIC "'+f+'" "'+h+'">':f?"<!DOCTYPE "+l+' PUBLIC "'+f+'">':h?"<!DOCTYPE "+l+' SYSTEM "'+h+'">':"<!DOCTYPE "+l+">"},u.prototype.comment=function(l){return this._beginLine()+"<!--"+l+"-->"},u.prototype.text=function(l){return this._beginLine()+l},u.prototype.instruction=function(l,f){return f?this._beginLine()+"<?"+l+" "+f+"?>":this._beginLine()+"<?"+l+"?>"},u.prototype.cdata=function(l){return this._beginLine()+"<![CDATA["+l+"]]>"},u.prototype.openTagBegin=function(l){return this._lineLength+=1+l.length,this._beginLine()+"<"+l},u.prototype.openTagEnd=function(l,f,h){return h?" />":f?this._writerOptions.allowEmptyTags?"></"+l+">":this._writerOptions.spaceBeforeSlash?" />":"/>":">"},u.prototype.closeTag=function(l){return this._beginLine()+"</"+l+">"},u.prototype.attribute=function(l,f){var h=l+'="'+f+'"';return this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._lineLength+1+h.length>this._writerOptions.width?(h=this._beginLine()+this._indent(1)+h,this._lineLength=h.length,h):(this._lineLength+=1+h.length," "+h)},u.prototype.beginElement=function(l){},u.prototype.endElement=function(l){},u.prototype._beginLine=function(){if(this._writerOptions.prettyPrint){var l=(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level);return this._lineLength=l.length,l}return""},u.prototype._indent=function(l){return l<=0?"":this._writerOptions.indent.repeat(l)},u}(a(114).BaseCBWriter);r.XMLCBWriter=o},function(n,r,a){a(74);var i,s=this&&this.__extends||(i=function(c,u){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var h in f)f.hasOwnProperty(h)&&(l[h]=f[h])})(c,u)},function(c,u){function l(){this.constructor=c}i(c,u),c.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(c){function u(l){var f=c.call(this,l)||this;return f._hasChildren=[],f._additionalLevel=0,f}return s(u,c),u.prototype.frontMatter=function(){return""},u.prototype.declaration=function(l,f,h){return""},u.prototype.docType=function(l,f,h){return""},u.prototype.comment=function(l){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.comment)+this._sep()+this._val(l)+this._sep()+"}"},u.prototype.text=function(l){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.text)+this._sep()+this._val(l)+this._sep()+"}"},u.prototype.instruction=function(l,f){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.ins)+this._sep()+this._val(f?l+" "+f:l)+this._sep()+"}"},u.prototype.cdata=function(l){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.cdata)+this._sep()+this._val(l)+this._sep()+"}"},u.prototype.attribute=function(l,f){return this._comma()+this._beginLine(1)+"{"+this._sep()+this._key(this._builderOptions.convert.att+l)+this._sep()+this._val(f)+this._sep()+"}"},u.prototype.openTagBegin=function(l){var f=this._comma()+this._beginLine()+"{"+this._sep()+this._key(l)+this._sep()+"{";return this._additionalLevel++,this.hasData=!0,f+=this._beginLine()+this._key(this._builderOptions.convert.text)+this._sep()+"[",this._hasChildren.push(!1),f},u.prototype.openTagEnd=function(l,f,h){if(f){var p=this._sep()+"]";return this._additionalLevel--,p+=this._beginLine()+"}"+this._sep()+"}"}return""},u.prototype.closeTag=function(l){var f=this._beginLine()+"]";return this._additionalLevel--,f+=this._beginLine()+"}"+this._sep()+"}"},u.prototype.beginElement=function(l){},u.prototype.endElement=function(l){this._hasChildren.pop()},u.prototype._beginLine=function(l){return l===void 0&&(l=0),this._writerOptions.prettyPrint?(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level+l):""},u.prototype._indent=function(l){return l+this._additionalLevel<=0?"":this._writerOptions.indent.repeat(l+this._additionalLevel)},u.prototype._comma=function(){var l=this._hasChildren[this._hasChildren.length-1]?",":"";return this._hasChildren.length>0&&(this._hasChildren[this._hasChildren.length-1]=!0),l},u.prototype._sep=function(){return this._writerOptions.prettyPrint?" ":""},u.prototype._key=function(l){return'"'+l+'":'},u.prototype._val=function(l){return JSON.stringify(l)},u}(a(114).BaseCBWriter);r.JSONCBWriter=o},function(n,r,a){a(74);var i,s=this&&this.__extends||(i=function(c,u){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var h in f)f.hasOwnProperty(h)&&(l[h]=f[h])})(c,u)},function(c,u){function l(){this.constructor=c}i(c,u),c.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)});Object.defineProperty(r,"__esModule",{value:!0});var o=function(c){function u(l){var f=c.call(this,l)||this;if(f._rootWritten=!1,f._additionalLevel=0,l.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(l.offset<0)throw new Error("YAML offset should be zero or a positive number.");return f}return s(u,c),u.prototype.frontMatter=function(){return this._beginLine()+"---"},u.prototype.declaration=function(l,f,h){return""},u.prototype.docType=function(l,f,h){return""},u.prototype.comment=function(l){return this._beginLine()+this._key(this._builderOptions.convert.comment)+" "+this._val(l)},u.prototype.text=function(l){return this._beginLine()+this._key(this._builderOptions.convert.text)+" "+this._val(l)},u.prototype.instruction=function(l,f){return this._beginLine()+this._key(this._builderOptions.convert.ins)+" "+this._val(f?l+" "+f:l)},u.prototype.cdata=function(l){return this._beginLine()+this._key(this._builderOptions.convert.cdata)+" "+this._val(l)},u.prototype.attribute=function(l,f){this._additionalLevel++;var h=this._beginLine()+this._key(this._builderOptions.convert.att+l)+" "+this._val(f);return this._additionalLevel--,h},u.prototype.openTagBegin=function(l){var f=this._beginLine()+this._key(l);return this._rootWritten||(this._rootWritten=!0),this.hasData=!0,this._additionalLevel++,f+=this._beginLine(!0)+this._key(this._builderOptions.convert.text)},u.prototype.openTagEnd=function(l,f,h){return f?" "+this._val(""):""},u.prototype.closeTag=function(l){return this._additionalLevel--,""},u.prototype.beginElement=function(l){},u.prototype.endElement=function(l){},u.prototype._beginLine=function(l){return l===void 0&&(l=!1),(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level,l)},u.prototype._indent=function(l,f){if(l+this._additionalLevel<=0)return"";var h=this._writerOptions.indent.repeat(l+this._additionalLevel);return!f&&this._rootWritten?h.substr(0,h.length-2)+"-"+h.substr(-1,1):h},u.prototype._key=function(l){return'"'+l+'":'},u.prototype._val=function(l){return JSON.stringify(l)},u}(a(114).BaseCBWriter);r.YAMLCBWriter=o},function(n,r,a){var i,s=typeof Reflect=="object"?Reflect:null,o=s&&typeof s.apply=="function"?s.apply:function(g,x,w){return Function.prototype.apply.call(g,x,w)};i=s&&typeof s.ownKeys=="function"?s.ownKeys:Object.getOwnPropertySymbols?function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:function(g){return Object.getOwnPropertyNames(g)};var c=Number.isNaN||function(g){return g!=g};function u(){u.init.call(this)}n.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var l=10;function f(g){if(typeof g!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}function h(g){return g._maxListeners===void 0?u.defaultMaxListeners:g._maxListeners}function p(g,x,w,C){var S,T,b,O;if(f(w),(T=g._events)===void 0?(T=g._events=Object.create(null),g._eventsCount=0):(T.newListener!==void 0&&(g.emit("newListener",x,w.listener?w.listener:w),T=g._events),b=T[x]),b===void 0)b=T[x]=w,++g._eventsCount;else if(typeof b=="function"?b=T[x]=C?[w,b]:[b,w]:C?b.unshift(w):b.push(w),(S=h(g))>0&&b.length>S&&!b.warned){b.warned=!0;var D=new Error("Possible EventEmitter memory leak detected. "+b.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");D.name="MaxListenersExceededWarning",D.emitter=g,D.type=x,D.count=b.length,O=D,console&&console.warn&&console.warn(O)}return g}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(g,x,w){var C={fired:!1,wrapFn:void 0,target:g,type:x,listener:w},S=d.bind(C);return S.listener=w,C.wrapFn=S,S}function m(g,x,w){var C=g._events;if(C===void 0)return[];var S=C[x];return S===void 0?[]:typeof S=="function"?w?[S.listener||S]:[S]:w?function(T){for(var b=new Array(T.length),O=0;O<b.length;++O)b[O]=T[O].listener||T[O];return b}(S):v(S,S.length)}function _(g){var x=this._events;if(x!==void 0){var w=x[g];if(typeof w=="function")return 1;if(w!==void 0)return w.length}return 0}function v(g,x){for(var w=new Array(x),C=0;C<x;++C)w[C]=g[C];return w}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(g){if(typeof g!="number"||g<0||c(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");l=g}}),u.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(g){if(typeof g!="number"||g<0||c(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this},u.prototype.getMaxListeners=function(){return h(this)},u.prototype.emit=function(g){for(var x=[],w=1;w<arguments.length;w++)x.push(arguments[w]);var C=g==="error",S=this._events;if(S!==void 0)C=C&&S.error===void 0;else if(!C)return!1;if(C){var T;if(x.length>0&&(T=x[0]),T instanceof Error)throw T;var b=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw b.context=T,b}var O=S[g];if(O===void 0)return!1;if(typeof O=="function")o(O,this,x);else{var D=O.length,N=v(O,D);for(w=0;w<D;++w)o(N[w],this,x)}return!0},u.prototype.addListener=function(g,x){return p(this,g,x,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(g,x){return p(this,g,x,!0)},u.prototype.once=function(g,x){return f(x),this.on(g,y(this,g,x)),this},u.prototype.prependOnceListener=function(g,x){return f(x),this.prependListener(g,y(this,g,x)),this},u.prototype.removeListener=function(g,x){var w,C,S,T,b;if(f(x),(C=this._events)===void 0)return this;if((w=C[g])===void 0)return this;if(w===x||w.listener===x)--this._eventsCount==0?this._events=Object.create(null):(delete C[g],C.removeListener&&this.emit("removeListener",g,w.listener||x));else if(typeof w!="function"){for(S=-1,T=w.length-1;T>=0;T--)if(w[T]===x||w[T].listener===x){b=w[T].listener,S=T;break}if(S<0)return this;S===0?w.shift():function(O,D){for(;D+1<O.length;D++)O[D]=O[D+1];O.pop()}(w,S),w.length===1&&(C[g]=w[0]),C.removeListener!==void 0&&this.emit("removeListener",g,b||x)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(g){var x,w,C;if((w=this._events)===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[g]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete w[g]),this;if(arguments.length===0){var S,T=Object.keys(w);for(C=0;C<T.length;++C)(S=T[C])!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(x=w[g])=="function")this.removeListener(g,x);else if(x!==void 0)for(C=x.length-1;C>=0;C--)this.removeListener(g,x[C]);return this},u.prototype.listeners=function(g){return m(this,g,!0)},u.prototype.rawListeners=function(g){return m(this,g,!1)},u.listenerCount=function(g,x){return typeof g.listenerCount=="function"?g.listenerCount(x):_.call(g,x)},u.prototype.listenerCount=_,u.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(77);r.createCB=function(s){return new i.XMLBuilderCBImpl(s)},r.fragmentCB=function(s){return new i.XMLBuilderCBImpl(s,!0)}}])})})(Id);var Yt=[];Yt["-".charCodeAt(0)]=62;Yt["_".charCodeAt(0)]=63;var ya="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var To=0;To<ya.length;To++)Yt[ya.charCodeAt(To)]=To;function Tr(t){return Yt[t.charCodeAt(0)]!==void 0}function vE(t){for(var e=t.length,n=[],r=null,a=0;a<e;a++)Tr(t[a])?(r||(r={start:a,count:0}),r.count++,r.end=a):t[a]==="="&&r&&(n.push(r),r=null);return r&&n.push(r),n}function dE(t,e,n,r){for(var a=e.start,i=e.count,s=i%4,o=Math.floor(i/4),c=a,u=null,l=n,f=0;f<o;f++){for(;!Tr(t[c]);)c++;for(u=Yt[t.charCodeAt(c++)]<<18;!Tr(t[c]);)c++;for(u|=Yt[t.charCodeAt(c++)]<<12;!Tr(t[c]);)c++;for(u|=Yt[t.charCodeAt(c++)]<<6;!Tr(t[c]);)c++;u|=Yt[t.charCodeAt(c++)],r[l++]=u>>16&255,r[l++]=u>>8&255,r[l++]=u&255}switch(s){case 3:for(;!Tr(t[c]);)c++;for(u=Yt[t.charCodeAt(c++)]<<10;!Tr(t[c]);)c++;for(u|=Yt[t.charCodeAt(c++)]<<4;!Tr(t[c]);)c++;u|=Yt[t.charCodeAt(c++)]>>2,r[l++]=u>>8&255,r[l++]=u&255;break;case 2:for(;!Tr(t[c]);)c++;for(u=Yt[t.charCodeAt(c++)]<<2;!Tr(t[c]);)c++;u|=Yt[t.charCodeAt(c++)]>>4,r[l++]=u&255;break;case 1:throw new Error("BASE64: remain 1 should not happen")}return l}function gE(t){for(var e=vE(t),n=e[e.length-1].end+1,r=(4-n%4)%4,a=(n+r)*3/4-r,i=new ArrayBuffer(a),s=new Uint8Array(i),o=0,c=0;c<e.length;c++)o+=dE(t,e[c],o,s),o+=(4-e[c].count%4)%4;return i}function ph(t,e,n){var r=(t<<16)+(e<<8)+n;return ya[r>>18]+ya[r>>12&63]+ya[r>>6&63]+ya[r&63]}function yE(t){for(var e=new Uint8Array(t),n=t.byteLength%3,r=t.byteLength-n,a=Array(r/3),i=0;i<a.length;i++){var s=i*3;a[i]=ph(e[s],e[s+1],e[s+2])}if(n>0){var o=ph(e[r],e[r+1]||0,e[r+2]||0);n===1?a.push("".concat(o.substr(0,2),"==")):n===2&&a.push("".concat(o.substr(0,3),"="))}return a.join("")}var Ws={toArrayBuffer:gE,fromArrayBuffer:yE};function Wd(t,e){return we(t.getElementsByTagName(e))}function vh(t,e){return Wd(t,e)[0]}function mE(t){return Id.exports.create(t)}function _E(t){var e=/^\s*<AppendedData\s+encoding="raw">\s*_/m,n=/\n\s*<\/AppendedData>/m;return Fi.extractBinary(t,e,n)}var Qr={Int8:Int8Array,UInt8:Uint8Array,Int16:Int16Array,UInt16:Uint16Array,Int32:Int32Array,UInt32:Uint32Array,Int64:Int32Array,UInt64:Uint32Array,Float32:Float32Array,Float64:Float64Array},Vr={Int8:1,UInt8:1,Int16:2,UInt16:2,Int32:4,UInt32:4,Int64:8,UInt64:8,Float32:4,Float64:8};function L0(t){var e=t.length-1;return t.filter(function(n,r){return r<e&&r%2===0})}function Hd(t,e){if(e==="UInt64"){var n=8,r=new Uint32Array(t.buffer,0,6),a=r[0],i=r[2],s=r[4],o=[n,a,i,s];r=new Uint32Array(t.buffer,3*8,a*2);for(var c=0;c<a;c++)o.push(r[c*2]);return o}var u=new Uint32Array(t.buffer,0,3),l=4,f=u[0],h=u[1],p=u[2],d=[l,f,h,p];u=new Uint32Array(t.buffer,3*4,f);for(var y=0;y<f;y++)d.push(u[y]);return d}function $d(t,e){var n=ur.inflate(t);e.uint8.set(n,e.offset),e.offset+=n.length}function Ai(t,e,n,r,a,i){var s=e.getAttribute("type"),o=e.getAttribute("Name"),c=e.getAttribute("format"),u=Number(e.getAttribute("NumberOfComponents")||"1"),l=null;if(c==="ascii"){l=new Qr[s](t*u);var f=0;e.firstChild.nodeValue.split(/[\\t \\n]+/).forEach(function(T){T.trim().length&&(l[f++]=Number(T))})}else if(c==="binary"){var h=new Uint8Array(Ws.toArrayBuffer(e.firstChild.nodeValue.trim()));if(n==="vtkZLibDataCompressor"){var p=new ArrayBuffer(Vr[s]*t*u);l=new Qr[s](p);for(var d={offset:0,uint8:new Uint8Array(p)},y=Hd(h,a),m=y[1],_=h.length-(y.reduce(function(T,b){return T+b},0)-(y[0]+y[1]+y[2]+y[3])),v=0;v<m;v++){var g=y[4+v],x=new Uint8Array(h.buffer,_,g);$d(x,d),_+=g}s.indexOf("Int64")!==-1&&(l=L0(l))}else l=new Qr[s](h.buffer,Vr[a]),s.indexOf("Int64")!==-1&&(l=L0(l))}else if(c==="appended"){var w=Number(e.getAttribute("offset")),C;w%Vr[a]===0?C=new Qr[a](i,w,1):C=new Qr[a](i.slice(w,w+Vr[a]));var S=C[0]/Vr[s];s.indexOf("Int64")!==-1&&(S*=2),w+=Vr[a],w%Vr[s]===0?l=new Qr[s](i,w,S):l=new Qr[s](i.slice(w,w+C[0])),s.indexOf("Int64")!==-1&&(l=L0(l))}else console.error("Format not supported",c);return{name:o,values:l,numberOfComponents:u}}function xE(t,e,n,r,a,i){for(var s={},o=e.getElementsByTagName("DataArray"),c=0;c<o.length;c++){var u=o[c];s[u.getAttribute("Name")]=u}var l=Ai(t,s.offsets,n,r,a,i).values,f=l[l.length-1],h=Ai(f,s.connectivity,n,r,a,i).values,p=new Uint32Array(t+f),d=0,y=0;return l.forEach(function(m){var _=m-y;p[d++]=_;for(var v=0;v<_;v++)p[d++]=h[y+v];y=m}),p}function wE(t,e,n,r,a,i,s){if(e){var o=["Scalars","Vectors","Normals","Tensors","TCoords"],c={};o.forEach(function(y){var m=e.getAttribute(y);m&&(c[m]=n["set".concat(y)])});for(var u=e.getElementsByTagName("DataArray"),l=u.length,f=0;f<l;f++){var h=u[f],p=Ee.newInstance(Ai(t,h,r,a,i,s)),d=p.getName();(c[d]||n.addArray)(p)}}}function CE(t,e,n,r,a){return we(t.getElementsByTagName("DataArray")).map(function(i){return Ee.newInstance(Ai(Number(i.getAttribute("NumberOfTuples")),i,e,n,r,a))})}function SE(t,e){e.classHierarchy.push("vtkXMLReader"),e.dataAccessHelper||(e.dataAccessHelper=Ua.get("http"));function n(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.dataAccessHelper.fetchBinary(r,a)}t.setUrl=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.url=r;var i=r.split("/");return i.pop(),e.baseURL=i.join("/"),t.loadData(a)},t.loadData=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return n(e.url,r).then(t.parseAsArrayBuffer)},t.parseAsArrayBuffer=function(r){if(!r)return!1;if(r!==e.rawDataBuffer)t.modified();else return!0;var a=_E(r),i=a.text,s=a.binaryBuffer;e.rawDataBuffer=r,e.binaryBuffer=s;var o=mE(i),c=o.root().node,u=c.getAttribute("type"),l=c.getAttribute("compressor"),f=c.getAttribute("byte_order"),h=c.getAttribute("header_type")||"UInt32";if(l&&l!=="vtkZLibDataCompressor")return console.error("Invalid compressor",l),!1;if(f&&f!=="LittleEndian")return console.error("Only LittleEndian encoding is supported"),!1;if(u!==e.dataType)return console.error("Invalid data type",u,"expecting",e.dataType),!1;if(vh(c,"AppendedData")){var p=vh(c,"AppendedData"),d=p.getAttribute("encoding"),y=Wd(c,"DataArray"),m=e.binaryBuffer;d==="base64"&&(m=p.textContent.trim().substr(1));for(var _=[],v=0;v<y.length;++v){var g=Number(y[v].getAttribute("offset")),x=0;v===y.length-1?x=m.length||m.byteLength:x=Number(y[v+1].getAttribute("offset")),d==="base64"?_.push(new Uint8Array(Ws.toArrayBuffer(m.substring(g,x)))):_.push(new Uint8Array(m.slice(g,x)))}if(l==="vtkZLibDataCompressor")for(var w=0;w<_.length;++w){var C=_[w],S=Hd(C,h),T=S[1],b=C.length-(S.reduce(function(oe,re){return oe+re},0)-(S[0]+S[1]+S[2]+S[3])),O=null;T>0?S[3]===0?O=new ArrayBuffer(S[2]*T):O=new ArrayBuffer(S[2]*(T-1)+S[3]):O=new ArrayBuffer(0);for(var D=new Uint8Array(O),N={offset:0,uint8:D},R=0;R<T;R++){var E=S[4+R],A=new Uint8Array(C.buffer,b,E);$d(A,N),b+=E}var W=new Uint8Array(D.length+Vr[h]);new Qr[h](W.buffer,0,1)[0]=D.length,W.set(D,Vr[h]),_[w]=W}for(var z=_.reduce(function(oe,re){return oe+re.length},0),F=new ArrayBuffer(z),L=new Uint8Array(F),G=0,H=0;G<_.length;++G)y[G].setAttribute("offset",H),L.set(_[G],H),H+=_[G].length;if(e.binaryBuffer=F,!e.binaryBuffer)return console.error("Processing appended data format: requires binaryBuffer to parse"),!1}t.parseXML(c,u,l,f,h);var $=c.getElementsByTagName(u)[0],J=$.getElementsByTagName("FieldData")[0];if(J)for(var Q=CE(J,l,f,h,e.binaryBuffer),q=0;q<e.output.length;q++)for(var ne=e.output[q].getFieldData(),te=0;te<Q.length;te++)ne.addArray(Q[te]);return!0},t.requestData=function(r,a){t.parseAsArrayBuffer(e.rawDataBuffer)}}var TE={};function bE(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,TE,n),I.obj(t,e),I.get(t,e,["url","baseURL"]),I.setGet(t,e,["dataAccessHelper"]),I.algo(t,e,0,1),SE(t,e)}var vn={extend:bE,processDataArray:Ai,processFieldData:wE,processCells:xE};function EE(t,e){e.classHierarchy.push("vtkXMLImageDataReader"),t.parseXML=function(n,r,a,i,s){for(var o,c=n.getElementsByTagName(e.dataType)[0],u=c.getAttribute("Origin").split(" ").map(function(v){return Number(v)}),l=c.getAttribute("Spacing").split(" ").map(function(v){return Number(v)}),f=(o=c.getAttribute("Direction"))===null||o===void 0?void 0:o.split(" ").map(function(v){return Number(v)}),h=c.getElementsByTagName("Piece"),p=h.length,d=0;d<p;d++){var y=h[d],m=y.getAttribute("Extent").split(" ").map(function(v){return Number(v)}),_=yc.newInstance({origin:u,spacing:l,direction:f,extent:m});vn.processFieldData(_.getNumberOfPoints(),y.getElementsByTagName("PointData")[0],_.getPointData(),a,i,s,e.binaryBuffer),vn.processFieldData(_.getNumberOfCells(),y.getElementsByTagName("CellData")[0],_.getCellData(),a,i,s,e.binaryBuffer),e.output[d]=_}}}var DE={dataType:"ImageData"};function OE(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,DE,n),vn.extend(t,e,n),EE(t,e)}I.newInstance(OE,"vtkXMLImageDataReader");function NE(t,e,n,r,a,i,s){var o=Number(n.getAttribute("NumberOf".concat(e)));if(o>0){var c=n.getElementsByTagName(e)[0].getElementsByTagName("DataArray")[0],u=vn.processDataArray(o,c,r,a,i,s),l=u.values,f=u.numberOfComponents;t["get".concat(e)]().setData(l,f)}return o}function kE(t,e,n,r,a,i,s){var o=Number(n.getAttribute("NumberOf".concat(e)));if(o>0){var c=vn.processCells(o,n.getElementsByTagName(e)[0],r,a,i,s);t["get".concat(e)]().setData(c)}return o}function ME(t,e){e.classHierarchy.push("vtkXMLPolyDataReader"),t.parseXML=function(n,r,a,i,s){for(var o=n.getElementsByTagName(e.dataType)[0],c=o.getElementsByTagName("Piece"),u=c.length,l=function(p){var d=nt.newInstance(),y=c[p],m=NE(d,"Points",y,a,i,s,e.binaryBuffer),_=0;["Verts","Lines","Strips","Polys"].forEach(function(v){_+=kE(d,v,y,a,i,s,e.binaryBuffer)}),vn.processFieldData(m,y.getElementsByTagName("PointData")[0],d.getPointData(),a,i,s,e.binaryBuffer),vn.processFieldData(_,y.getElementsByTagName("CellData")[0],d.getCellData(),a,i,s,e.binaryBuffer),e.output[p]=d},f=0;f<u;f++)l(f)}}var RE={dataType:"PolyData"};function LE(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,RE,n),vn.extend(t,e,n),ME(t,e)}I.newInstance(LE,"vtkXMLPolyDataReader");var Kd={exports:{}},FE="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",AE=FE,BE=AE;function Xd(){}function qd(){}qd.resetWarningCache=Xd;var VE=function(){function t(r,a,i,s,o,c){if(c!==BE){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qd,resetWarningCache:Xd};return n.PropTypes=n,n};Kd.exports=VE();var ee=Kd.exports,UE=I.vtkErrorMacro;function GE(t,e){var n=0;return t.map(function(r,a){return a===n?(n+=r+1,r):r+e})}function bo(t,e,n,r){t.set(GE(e,n),r)}function PE(t,e){e.classHierarchy.push("vtkAppendPolyData"),t.requestData=function(n,r){var a=t.getNumberOfInputPorts();if(!a){UE("No input specified.");return}if(a===1){r[0]=n[0];return}for(var i=nt.newInstance(),s=0,o=0,c=1,u=1,l=0,f=0,h=0,p=0,d=!0,y=!0,m=!0,_=0;_<a;_++){var v=n[_];if(!!v){var g=v.getPoints().getNumberOfPoints();s+=g,l+=v.getVerts().getNumberOfValues(),f+=v.getLines().getNumberOfValues(),h+=v.getStrips().getNumberOfValues(),p+=v.getPolys().getNumberOfValues(),g&&(u&&(u=0,o=v.getPoints().getDataType()),c=v.getPoints().getDataType(),o=o>c?o:c);var x=v.getPointData();x?(d=d&&x.getNormals()!==null,y=y&&x.getTCoords()!==null,m=m&&x.getScalars()!==null):(d=!1,y=!1,m=!1)}}e.outputPointsPrecision===In.SINGLE?o=pt.FLOAT:e.outputPointsPrecision===In.DOUBLE&&(o=pt.DOUBLE);var w=pn.newInstance({dataType:o});w.setNumberOfPoints(s);var C=w.getData(),S=new Uint32Array(l),T=new Uint32Array(f),b=new Uint32Array(h),O=new Uint32Array(p),D=null,N=null,R=null,E=n[a-1];if(d){var A=E.getPointData().getNormals();D=Ee.newInstance({numberOfComponents:3,numberOfTuples:s,size:3*s,dataType:A.getDataType(),name:A.getName()})}if(y){var W=E.getPointData().getTCoords();N=Ee.newInstance({numberOfComponents:2,numberOfTuples:s,size:2*s,dataType:W.getDataType(),name:W.getName()})}if(m){var z=E.getPointData().getScalars();R=Ee.newInstance({numberOfComponents:z.getNumberOfComponents(),numberOfTuples:s,size:s*z.getNumberOfComponents(),dataType:z.getDataType(),name:z.getName()})}s=0,l=0,f=0,h=0,p=0;for(var F=0;F<a;F++){var L=n[F];C.set(L.getPoints().getData(),s*3),bo(S,L.getVerts().getData(),s,l),l+=L.getVerts().getNumberOfValues(),bo(T,L.getLines().getData(),s,f),f+=L.getLines().getNumberOfValues(),bo(b,L.getStrips().getData(),s,h),h+=L.getStrips().getNumberOfValues(),bo(O,L.getPolys().getData(),s,p),p+=L.getPolys().getNumberOfValues();var G=L.getPointData();if(d){var H=G.getNormals();D.getData().set(H.getData(),s*3)}if(y){var $=G.getTCoords();N.getData().set($.getData(),s*2)}if(m){var J=G.getScalars();R.getData().set(J.getData(),s*R.getNumberOfComponents())}s+=L.getPoints().getNumberOfPoints()}i.setPoints(w),i.getVerts().setData(S),i.getLines().setData(T),i.getStrips().setData(b),i.getPolys().setData(O),D&&i.getPointData().setNormals(D),N&&i.getPointData().setTCoords(N),R&&i.getPointData().setScalars(R),r[0]=i}}var jE={outputPointsPrecision:In.DEFAULT};function Yd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,jE,n),I.setGet(t,e,["outputPointsPrecision"]),I.obj(t,e),I.algo(t,e,1,1),PE(t,e)}var zE=I.newInstance(Yd,"vtkAppendPolyData"),Zd={newInstance:zE,extend:Yd};function IE(t,e){e.classHierarchy.push("vtkArrowSource");function n(r,a){if(!e.deleted){var i=PC.newInstance({capping:!0});i.setResolution(e.shaftResolution),i.setRadius(e.shaftRadius),i.setHeight(1-e.tipLength),i.setCenter(0,(1-e.tipLength)*.5,0);var s=i.getOutputData(),o=s.getPoints().getData(),c=s.getPointData().getNormals().getData();Ht.buildFromDegree().rotateZ(-90).apply(o).apply(c);var u=LC.newInstance();u.setResolution(e.tipResolution),u.setHeight(e.tipLength),u.setRadius(e.tipRadius);var l=u.getOutputData(),f=l.getPoints().getData();Ht.buildFromRadian().translate(1-e.tipLength*.5,0,0).apply(f);var h=Zd.newInstance();h.setInputData(s),h.addInputData(l);var p=h.getOutputData(),d=p.getPoints().getData();Ht.buildFromRadian().translate(-.5+e.tipLength*.5,0,0).apply(d),e.invert?(Ht.buildFromRadian().rotateFromDirections([1,0,0],e.direction).scale(-1,-1,-1).apply(d),a[0]=p):(Ht.buildFromRadian().rotateFromDirections([1,0,0],e.direction).scale(1,1,1).apply(d),a[0]=h.getOutputData())}}t.requestData=n}var WE={tipResolution:6,tipRadius:.1,tipLength:.35,shaftResolution:6,shaftRadius:.03,invert:!1,direction:[1,0,0],pointType:"Float64Array"};function Jd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,WE,n),I.obj(t,e),I.setGet(t,e,["tipResolution","tipRadius","tipLength","shaftResolution","shaftRadius","invert"]),I.setGetArray(t,e,["direction"],3),I.algo(t,e,0,1),IE(t,e)}var HE=I.newInstance(Jd,"vtkArrowSource"),F0={newInstance:HE,extend:Jd};function dh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function A0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B0(t){var e,n=t.getPoints().getBounds(),r=[-(n[0]+n[1])*.5,-(n[2]+n[3])*.5,-(n[4]+n[5])*.5];(e=Ht.buildFromDegree()).translate.apply(e,r).apply(t.getPoints().getData())}function V0(t,e,n,r){for(var a=t.getPoints().getData().length,i=new Uint8Array(a),s=0;s<a;)i[s++]=e,i[s++]=n,i[s++]=r;t.getPointData().setScalars(Ee.newInstance({name:"color",numberOfComponents:3,values:i}))}function $E(t,e){e.classHierarchy.push("vtkAxesActor"),t.update=function(){var n=F0.newInstance(A0({direction:[1,0,0]},e.config)).getOutputData();B0(n),V0.apply(void 0,[n].concat(we(e.xAxisColor)));var r=F0.newInstance(A0({direction:[0,1,0]},e.config)).getOutputData();B0(r),V0.apply(void 0,[r].concat(we(e.yAxisColor)));var a=F0.newInstance(A0({direction:[0,0,1]},e.config)).getOutputData();B0(a),V0.apply(void 0,[a].concat(we(e.zAxisColor)));var i=Zd.newInstance();i.setInputData(n),i.addInputData(r),i.addInputData(a);var s=hn.newInstance();s.setInputConnection(i.getOutputPort()),t.setMapper(s)},t.update()}var KE={config:{tipResolution:60,tipRadius:.1,tipLength:.2,shaftResolution:60,shaftRadius:.03,invert:!1},xAxisColor:[255,0,0],yAxisColor:[255,255,0],zAxisColor:[0,128,0]};function Qd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,KE,n),Kr.extend(t,e,n),I.setGet(t,e,["config"]),I.setGetArray(t,e,["xAxisColor","yAxisColor","zAxisColor"],3,255),$E(t,e)}var XE=I.newInstance(Qd,"vtkAxesActor"),qE={newInstance:XE,extend:Qd},Eo=I.vtkDebugMacro;function YE(t,e){e.classHierarchy.push("vtkCamera");var n=new Float64Array(3),r=new Float64Array([0,0,-1]),a=new Float64Array([0,1,0]),i=Me(new Float64Array(16)),s=Me(new Float64Array(16)),o=new Float64Array(3),c=new Float64Array(3),u=new Float64Array(3),l=Me(new Float64Array(16)),f=Me(new Float64Array(16)),h=new Float64Array(3),p=new Float64Array(3);function d(){e.viewPlaneNormal[0]=-e.directionOfProjection[0],e.viewPlaneNormal[1]=-e.directionOfProjection[1],e.viewPlaneNormal[2]=-e.directionOfProjection[2]}t.orthogonalizeViewUp=function(){var y=t.getViewMatrix();e.viewUp[0]=y[4],e.viewUp[1]=y[5],e.viewUp[2]=y[6],t.modified()},t.setPosition=function(y,m,_){y===e.position[0]&&m===e.position[1]&&_===e.position[2]||(e.position[0]=y,e.position[1]=m,e.position[2]=_,t.computeDistance(),t.modified())},t.setFocalPoint=function(y,m,_){y===e.focalPoint[0]&&m===e.focalPoint[1]&&_===e.focalPoint[2]||(e.focalPoint[0]=y,e.focalPoint[1]=m,e.focalPoint[2]=_,t.computeDistance(),t.modified())},t.setDistance=function(y){if(e.distance!==y){e.distance=y,e.distance<1e-20&&(e.distance=1e-20,Eo("Distance is set to minimum."));var m=e.directionOfProjection;e.focalPoint[0]=e.position[0]+m[0]*e.distance,e.focalPoint[1]=e.position[1]+m[1]*e.distance,e.focalPoint[2]=e.position[2]+m[2]*e.distance,t.modified()}},t.computeDistance=function(){var y=e.focalPoint[0]-e.position[0],m=e.focalPoint[1]-e.position[1],_=e.focalPoint[2]-e.position[2];if(e.distance=Math.sqrt(y*y+m*m+_*_),e.distance<1e-20){e.distance=1e-20,Eo("Distance is set to minimum.");var v=e.directionOfProjection;e.focalPoint[0]=e.position[0]+v[0]*e.distance,e.focalPoint[1]=e.position[1]+v[1]*e.distance,e.focalPoint[2]=e.position[2]+v[2]*e.distance}e.directionOfProjection[0]=y/e.distance,e.directionOfProjection[1]=m/e.distance,e.directionOfProjection[2]=_/e.distance,d()},t.dolly=function(y){if(!(y<=0)){var m=e.distance/y;t.setPosition(e.focalPoint[0]-m*e.directionOfProjection[0],e.focalPoint[1]-m*e.directionOfProjection[1],e.focalPoint[2]-m*e.directionOfProjection[2])}},t.roll=function(y){var m=e.position,_=e.focalPoint,v=e.viewUp,g=new Float64Array([v[0],v[1],v[2],0]);Me(l);var x=new Float64Array([_[0]-m[0],_[1]-m[1],_[2]-m[2]]);Dt(l,l,ot(y),x),Zi(g,g,l),e.viewUp[0]=g[0],e.viewUp[1]=g[1],e.viewUp[2]=g[2],t.modified()},t.azimuth=function(y){var m=e.focalPoint;Me(f),rt(f,f,m),Dt(f,f,ot(y),e.viewUp),rt(f,f,[-m[0],-m[1],-m[2]]),Te(h,e.position,f),t.setPosition(h[0],h[1],h[2])},t.yaw=function(y){var m=e.position;Me(f),rt(f,f,m),Dt(f,f,ot(y),e.viewUp),rt(f,f,[-m[0],-m[1],-m[2]]),Te(p,e.focalPoint,f),t.setFocalPoint(p[0],p[1],p[2])},t.elevation=function(y){var m=e.focalPoint,_=t.getViewMatrix(),v=[-_[0],-_[1],-_[2]];Me(f),rt(f,f,m),Dt(f,f,ot(y),v),rt(f,f,[-m[0],-m[1],-m[2]]),Te(h,e.position,f),t.setPosition(h[0],h[1],h[2])},t.pitch=function(y){var m=e.position,_=t.getViewMatrix(),v=[_[0],_[1],_[2]];Me(f),rt(f,f,m),Dt(f,f,ot(y),v),rt(f,f,[-m[0],-m[1],-m[2]]),Te(p,e.focalPoint,f),t.setFocalPoint.apply(t,we(p))},t.zoom=function(y){y<=0||(e.parallelProjection?e.parallelScale/=y:e.viewAngle/=y,t.modified())},t.translate=function(y,m,_){var v=[y,m,_];Qo(e.position,v,e.position),Qo(e.focalPoint,v,e.focalPoint),t.computeDistance(),t.modified()},t.applyTransform=function(y){var m=[].concat(we(e.viewUp),[1]),_=[],v=[],g=[];m[0]+=e.position[0],m[1]+=e.position[1],m[2]+=e.position[2],Zi(_,[].concat(we(e.position),[1]),y),Zi(v,[].concat(we(e.focalPoint),[1]),y),Zi(g,m,y),g[0]-=_[0],g[1]-=_[1],g[2]-=_[2],t.setPosition.apply(t,we(_.slice(0,3))),t.setFocalPoint.apply(t,we(v.slice(0,3))),t.setViewUp.apply(t,we(g.slice(0,3)))},t.getThickness=function(){return e.clippingRange[1]-e.clippingRange[0]},t.setThickness=function(y){var m=y;m<1e-20&&(m=1e-20,Eo("Thickness is set to minimum.")),t.setClippingRange(e.clippingRange[0],e.clippingRange[0]+m)},t.setThicknessFromFocalPoint=function(y){var m=y;m<1e-20&&(m=1e-20,Eo("Thickness is set to minimum.")),t.setClippingRange(e.distance-m/2,e.distance+m/2)},t.setRoll=function(y){},t.getRoll=function(){},t.setObliqueAngles=function(y,m){},t.getOrientation=function(){},t.getOrientationWXYZ=function(){},t.getFrustumPlanes=function(y){},t.getCameraLightTransformMatrix=function(y){return Ft(y,e.cameraLightTransform),y},t.computeCameraLightTransform=function(){Ft(i,t.getViewMatrix()),Zt(i,i),qh(s,[e.distance,e.distance,e.distance]),st(i,i,s),Me(e.cameraLightTransform),rt(e.cameraLightTransform,i,[0,0,-1])},t.deepCopy=function(y){},t.physicalOrientationToWorldDirection=function(y){var m=Ic(y[0],y[1],y[2],y[3]),_=Gn(),v=Ic(0,0,1,0);return P3(_,m),zc(v,m,v),zc(v,v,_),[v[0],v[1],v[2]]},t.getPhysicalToWorldMatrix=function(y){t.getWorldToPhysicalMatrix(y),Zt(y,y)},t.getWorldToPhysicalMatrix=function(y){Me(y);var m=[3];Lt(e.physicalViewNorth,e.physicalViewUp,m),y[0]=m[0],y[1]=m[1],y[2]=m[2],y[4]=e.physicalViewUp[0],y[5]=e.physicalViewUp[1],y[6]=e.physicalViewUp[2],y[8]=-e.physicalViewNorth[0],y[9]=-e.physicalViewNorth[1],y[10]=-e.physicalViewNorth[2],Ze(y,y),$e(o,1/e.physicalScale,1/e.physicalScale,1/e.physicalScale),Vn(y,y,o),rt(y,y,e.physicalTranslation)},t.computeViewParametersFromViewMatrix=function(y){Zt(i,y),Te(o,n,i),t.computeDistance();var m=e.distance;t.setPosition(o[0],o[1],o[2]),Te(c,r,i),ir(c,c,o),or(c,c),t.setDirectionOfProjection(c[0],c[1],c[2]),Te(u,a,i),ir(u,u,o),or(u,u),t.setViewUp(u[0],u[1],u[2]),t.setDistance(m)},t.computeViewParametersFromPhysicalMatrix=function(y){t.getWorldToPhysicalMatrix(i),st(i,y,i),t.computeViewParametersFromViewMatrix(i)},t.setViewMatrix=function(y){e.viewMatrix=y,e.viewMatrix&&(Ft(i,e.viewMatrix),t.computeViewParametersFromViewMatrix(i),Ze(e.viewMatrix,e.viewMatrix))},t.getViewMatrix=function(){if(e.viewMatrix)return e.viewMatrix;a1(i,e.position,e.focalPoint,e.viewUp),Ze(i,i);var y=new Float64Array(16);return Ft(y,i),y},t.setProjectionMatrix=function(y){e.projectionMatrix=y},t.getProjectionMatrix=function(y,m,_){var v=new Float64Array(16);if(Me(v),e.projectionMatrix){var g=1/e.physicalScale;return $e(o,g,g,g),Ft(v,e.projectionMatrix),Vn(v,v,o),Ze(v,v),v}Me(i);var x=e.clippingRange[1]-e.clippingRange[0],w=[e.clippingRange[0]+(m+1)*x/2,e.clippingRange[0]+(_+1)*x/2];if(e.parallelProjection){var C=e.parallelScale*y,S=e.parallelScale,T=(e.windowCenter[0]-1)*C,b=(e.windowCenter[0]+1)*C,O=(e.windowCenter[1]-1)*S,D=(e.windowCenter[1]+1)*S;n1(i,T,b,O,D,w[0],w[1]),Ze(i,i)}else{if(e.useOffAxisProjection)throw new Error("Off-Axis projection is not supported at this time");var N=Math.tan(ot(e.viewAngle)/2),R,E;e.useHorizontalViewAngle===!0?(R=e.clippingRange[0]*N,E=e.clippingRange[0]*N/y):(R=e.clippingRange[0]*N*y,E=e.clippingRange[0]*N);var A=(e.windowCenter[0]-1)*R,W=(e.windowCenter[0]+1)*R,z=(e.windowCenter[1]-1)*E,F=(e.windowCenter[1]+1)*E,L=w[0],G=w[1];i[0]=2*L/(W-A),i[5]=2*L/(F-z),i[2]=(A+W)/(W-A),i[6]=(z+F)/(F-z),i[10]=-(L+G)/(G-L),i[14]=-1,i[11]=-2*L*G/(G-L),i[15]=0}return Ft(v,i),v},t.getCompositeProjectionMatrix=function(y,m,_){var v=t.getViewMatrix(),g=t.getProjectionMatrix(y,m,_);return st(g,v,g),g},t.setDirectionOfProjection=function(y,m,_){if(!(e.directionOfProjection[0]===y&&e.directionOfProjection[1]===m&&e.directionOfProjection[2]===_)){e.directionOfProjection[0]=y,e.directionOfProjection[1]=m,e.directionOfProjection[2]=_;var v=e.directionOfProjection;e.focalPoint[0]=e.position[0]+v[0]*e.distance,e.focalPoint[1]=e.position[1]+v[1]*e.distance,e.focalPoint[2]=e.position[2]+v[2]*e.distance,d()}},t.setDeviceAngles=function(y,m,_,v){var g=[3];Lt(e.physicalViewNorth,e.physicalViewUp,g);var x=Me(new Float64Array(16));Dt(x,x,ot(y),e.physicalViewUp),Dt(x,x,ot(m),g),Dt(x,x,ot(_),e.physicalViewNorth),Dt(x,x,ot(-v),e.physicalViewUp);var w=new Float64Array([-e.physicalViewUp[0],-e.physicalViewUp[1],-e.physicalViewUp[2]]),C=new Float64Array(e.physicalViewNorth);Te(w,w,x),Te(C,C,x),t.setDirectionOfProjection(w[0],w[1],w[2]),t.setViewUp(C[0],C[1],C[2]),t.modified()},t.setOrientationWXYZ=function(y,m,_,v){var g=Me(new Float64Array(16));if(y!==0&&(m!==0||_!==0||v!==0)){var x=ot(y),w=Gn();$u(w,[m,_,v],x),Iu(g,w)}var C=new Float64Array(3);Te(C,[0,0,-1],g);var S=new Float64Array(3);Te(S,[0,1,0],g),t.setDirectionOfProjection.apply(t,we(C)),t.setViewUp.apply(t,we(S)),t.modified()},t.computeClippingRange=function(y){var m=null,_=null;m=e.viewPlaneNormal,_=e.position;for(var v=-m[0],g=-m[1],x=-m[2],w=-(v*_[0]+g*_[1]+x*_[2]),C=[v*y[0]+g*y[2]+x*y[4]+w,1e-18],S=0;S<2;S++)for(var T=0;T<2;T++)for(var b=0;b<2;b++){var O=v*y[b]+g*y[2+T]+x*y[4+S]+w;C[0]=O<C[0]?O:C[0],C[1]=O>C[1]?O:C[1]}return C}}var ZE={position:[0,0,1],focalPoint:[0,0,0],viewUp:[0,1,0],directionOfProjection:[0,0,-1],parallelProjection:!1,useHorizontalViewAngle:!1,viewAngle:30,parallelScale:1,clippingRange:[.01,1000.01],windowCenter:[0,0],viewPlaneNormal:[0,0,1],useOffAxisProjection:!1,screenBottomLeft:[-.5,-.5,-.5],screenBottomRight:[.5,-.5,-.5],screenTopRight:[.5,.5,-.5],freezeFocalPoint:!1,projectionMatrix:null,viewMatrix:null,cameraLightTransform:zu(),physicalTranslation:[0,0,0],physicalScale:1,physicalViewUp:[0,1,0],physicalViewNorth:[0,0,-1]};function eg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ZE,n),I.obj(t,e),I.get(t,e,["distance"]),I.setGet(t,e,["parallelProjection","useHorizontalViewAngle","viewAngle","parallelScale","useOffAxisProjection","freezeFocalPoint","physicalScale"]),I.getArray(t,e,["directionOfProjection","viewPlaneNormal","position","focalPoint"]),I.setGetArray(t,e,["clippingRange","windowCenter"],2),I.setGetArray(t,e,["viewUp","screenBottomLeft","screenBottomRight","screenTopRight","physicalTranslation","physicalViewUp","physicalViewNorth"],3),YE(t,e)}var JE=I.newInstance(eg,"vtkCamera"),QE={newInstance:JE,extend:eg},eD=["HeadLight","CameraLight","SceneLight"];function tD(t,e){e.classHierarchy.push("vtkLight");var n=new Float64Array(3);t.getTransformedPosition=function(){return e.transformMatrix?Te(n,e.position,e.transformMatrix):$e(n,e.position[0],e.position[1],e.position[2]),n},t.getTransformedFocalPoint=function(){return e.transformMatrix?Te(n,e.focalPoint,e.transformMatrix):$e(n,e.focalPoint[0],e.focalPoint[1],e.focalPoint[2]),n},t.getDirection=function(){return e.directionMTime<e.mtime&&(e.direction[0]=e.focalPoint[0]-e.position[0],e.direction[1]=e.focalPoint[1]-e.position[1],e.direction[2]=e.focalPoint[2]-e.position[2],lt(e.direction),e.directionMTime=e.mtime),e.direction},t.setDirectionAngle=function(r,a){var i=ot(r),s=ot(a);t.setPosition(Math.cos(i)*Math.sin(s),Math.sin(i),Math.cos(i)*Math.cos(s)),t.setFocalPoint(0,0,0),t.setPositional(0)},t.setLightTypeToHeadLight=function(){t.setLightType("HeadLight")},t.setLightTypeToCameraLight=function(){t.setLightType("CameraLight")},t.setLightTypeToSceneLight=function(){t.setTransformMatrix(null),t.setLightType("SceneLight")},t.lightTypeIsHeadLight=function(){return e.lightType==="HeadLight"},t.lightTypeIsSceneLight=function(){return e.lightType==="SceneLight"},t.lightTypeIsCameraLight=function(){return e.lightType==="CameraLight"}}var rD={switch:!0,intensity:1,color:[1,1,1],position:[0,0,1],focalPoint:[0,0,0],positional:!1,exponent:1,coneAngle:30,attenuationValues:[1,0,0],transformMatrix:null,lightType:"SceneLight",shadowAttenuation:1,direction:[0,0,0],directionMTime:0};function tg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,rD,n),I.obj(t,e),I.setGet(t,e,["intensity","switch","positional","exponent","coneAngle","transformMatrix","lightType","shadowAttenuation","attenuationValues"]),I.setGetArray(t,e,["color","position","focalPoint","attenuationValues"],3),tD(t,e)}var nD=I.newInstance(tg,"vtkLight"),aD={newInstance:nD,extend:tg,LIGHT_TYPES:eD},Xo=I.vtkErrorMacro;function iD(t){return function(){return Xo("vtkViewport::".concat(t," - NOT IMPLEMENTED"))}}function oD(t,e){e.classHierarchy.push("vtkViewport"),t.getViewProps=function(){return e.props},t.hasViewProp=function(r){return!!e.props.filter(function(a){return a===r}).length},t.addViewProp=function(r){r&&!t.hasViewProp(r)&&(e.props=e.props.concat(r))},t.removeViewProp=function(r){var a=e.props.filter(function(i){return i!==r});e.props.length!==a.length&&(e.props=a)},t.removeAllViewProps=function(){e.props=[]};function n(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.push(r);var i=r.getNestedProps();if(i&&i.length)for(var s=0;s<i.length;s++)n(i[s],a);return a}t.getViewPropsWithNestedProps=function(){for(var r=[],a=0;a<e.props.length;a++)n(e.props[a],r);return r},t.addActor2D=t.addViewProp,t.removeActor2D=function(r){t.removeViewProp(r)},t.getActors2D=function(){return e.actors2D=[],e.props.forEach(function(r){e.actors2D=e.actors2D.concat(r.getActors2D())}),e.actors2D},t.displayToView=function(){return Xo("call displayToView on your view instead")},t.viewToDisplay=function(){return Xo("callviewtodisplay on your view instead")},t.getSize=function(){return Xo("call getSize on your View instead")},t.normalizedDisplayToProjection=function(r,a,i){var s=t.normalizedDisplayToNormalizedViewport(r,a,i);return t.normalizedViewportToProjection(s[0],s[1],s[2])},t.normalizedDisplayToNormalizedViewport=function(r,a,i){var s=[e.viewport[2]-e.viewport[0],e.viewport[3]-e.viewport[1]];return[(r-e.viewport[0])/s[0],(a-e.viewport[1])/s[1],i]},t.normalizedViewportToProjection=function(r,a,i){return[r*2-1,a*2-1,i*2-1]},t.projectionToNormalizedDisplay=function(r,a,i){var s=t.projectionToNormalizedViewport(r,a,i);return t.normalizedViewportToNormalizedDisplay(s[0],s[1],s[2])},t.normalizedViewportToNormalizedDisplay=function(r,a,i){var s=[e.viewport[2]-e.viewport[0],e.viewport[3]-e.viewport[1]];return[r*s[0]+e.viewport[0],a*s[1]+e.viewport[1],i]},t.projectionToNormalizedViewport=function(r,a,i){return[(r+1)*.5,(a+1)*.5,(i+1)*.5]},t.PickPropFrom=iD("PickPropFrom")}var sD={background:[0,0,0],background2:[.2,.2,.2],gradientBackground:!1,viewport:[0,0,1,1],aspect:[1,1],pixelAspect:[1,1],props:[],actors2D:[]};function rg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,sD,n),I.obj(t,e),I.event(t,e,"event"),I.setGetArray(t,e,["viewport"],4),I.setGetArray(t,e,["background","background2"],3),oD(t,e)}var uD=I.newInstance(rg,"vtkViewport"),cD={newInstance:uD,extend:rg},Xa=Pn,en=Le,fD=zi;function gh(t){return function(){return en("vtkRenderer::".concat(t," - NOT IMPLEMENTED"))}}function lD(t,e){e.classHierarchy.push("vtkRenderer");var n={type:"ComputeVisiblePropBoundsEvent",renderer:t},r={type:"ResetCameraClippingRangeEvent",renderer:t},a={type:"ResetCameraEvent",renderer:t};t.updateCamera=function(){return e.activeCamera||(Xa("No cameras are on, creating one."),t.getActiveCameraAndResetIfCreated()),e.activeCamera.render(t),!0},t.updateLightsGeometryToFollowCamera=function(){var i=t.getActiveCameraAndResetIfCreated();e.lights.forEach(function(s){s.lightTypeIsSceneLight()||(s.lightTypeIsHeadLight()?(s.setPositionFrom(i.getPositionByReference()),s.setFocalPointFrom(i.getFocalPointByReference()),s.modified(i.getMTime())):s.lightTypeIsCameraLight()?s.setTransformMatrix(i.getCameraLightTransformMatrix(zu())):en("light has unknown light type",s.get()))})},t.updateLightGeometry=function(){return e.lightFollowCamera?t.updateLightsGeometryToFollowCamera():!0},t.allocateTime=gh("allocateTime"),t.updateGeometry=gh("updateGeometry"),t.getVTKWindow=function(){return e._renderWindow},t.setLayer=function(i){Xa(t.getClassName(),t,"setting Layer to ",i),e.layer!==i&&(e.layer=i,t.modified()),t.setPreserveColorBuffer(!!i)},t.setActiveCamera=function(i){return e.activeCamera===i?!1:(e.activeCamera=i,t.modified(),t.invokeEvent({type:"ActiveCameraEvent",camera:i}),!0)},t.makeCamera=function(){var i=QE.newInstance();return t.invokeEvent({type:"CreateCameraEvent",camera:i}),i},t.getActiveCamera=function(){return e.activeCamera||(e.activeCamera=t.makeCamera()),e.activeCamera},t.getActiveCameraAndResetIfCreated=function(){return e.activeCamera||(t.getActiveCamera(),t.resetCamera()),e.activeCamera},t.getActors=function(){return e.actors=[],e.props.forEach(function(i){e.actors=e.actors.concat(i.getActors())}),e.actors},t.addActor=t.addViewProp,t.removeActor=function(i){e.actors=e.actors.filter(function(s){return s!==i}),t.removeViewProp(i),t.modified()},t.removeAllActors=function(){var i=t.getActors();i.forEach(function(s){t.removeViewProp(s)}),e.actors=[],t.modified()},t.getVolumes=function(){return e.volumes=[],e.props.forEach(function(i){e.volumes=e.volumes.concat(i.getVolumes())}),e.volumes},t.addVolume=t.addViewProp,t.removeVolume=function(i){e.volumes=e.volumes.filter(function(s){return s!==i}),t.removeViewProp(i),t.modified()},t.removeAllVolumes=function(){var i=t.getVolumes();i.forEach(function(s){t.removeViewProp(s)}),e.volumes=[],t.modified()},t.addLight=function(i){e.lights=[].concat(e.lights,i),t.modified()},t.removeLight=function(i){e.lights=e.lights.filter(function(s){return s!==i}),t.modified()},t.removeAllLights=function(){e.lights=[],t.modified()},t.setLightCollection=function(i){e.lights=i,t.modified()},t.makeLight=aD.newInstance,t.createLight=function(){!e.automaticLightCreation||(e._createdLight&&(t.removeLight(e._createdLight),e._createdLight.delete(),e._createdLight=null),e._createdLight=t.makeLight(),t.addLight(e._createdLight),e._createdLight.setLightTypeToHeadLight(),e._createdLight.setPosition(t.getActiveCamera().getPosition()),e._createdLight.setFocalPoint(t.getActiveCamera().getFocalPoint()))},t.normalizedDisplayToWorld=function(i,s,o,c){var u=t.normalizedDisplayToProjection(i,s,o);return u=t.projectionToView(u[0],u[1],u[2],c),t.viewToWorld(u[0],u[1],u[2])},t.worldToNormalizedDisplay=function(i,s,o,c){var u=t.worldToView(i,s,o);return u=t.viewToProjection(u[0],u[1],u[2],c),t.projectionToNormalizedDisplay(u[0],u[1],u[2])},t.viewToWorld=function(i,s,o){if(e.activeCamera===null)return en("ViewToWorld: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];var c=e.activeCamera.getViewMatrix();Zt(c,c),Ze(c,c);var u=new Float64Array([i,s,o]);return Te(u,u,c),u},t.projectionToView=function(i,s,o,c){if(e.activeCamera===null)return en("ProjectionToView: no active camera, cannot compute projection to view, returning 0,0,0"),[0,0,0];var u=e.activeCamera.getProjectionMatrix(c,-1,1);Zt(u,u),Ze(u,u);var l=new Float64Array([i,s,o]);return Te(l,l,u),l},t.worldToView=function(i,s,o){if(e.activeCamera===null)return en("WorldToView: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];var c=e.activeCamera.getViewMatrix();Ze(c,c);var u=new Float64Array([i,s,o]);return Te(u,u,c),u},t.viewToProjection=function(i,s,o,c){if(e.activeCamera===null)return en("ViewToProjection: no active camera, cannot compute view to projection, returning 0,0,0"),[0,0,0];var u=e.activeCamera.getProjectionMatrix(c,-1,1);Ze(u,u);var l=new Float64Array([i,s,o]);return Te(l,l,u),l},t.computeVisiblePropBounds=function(){e.allBounds[0]=Ke.INIT_BOUNDS[0],e.allBounds[1]=Ke.INIT_BOUNDS[1],e.allBounds[2]=Ke.INIT_BOUNDS[2],e.allBounds[3]=Ke.INIT_BOUNDS[3],e.allBounds[4]=Ke.INIT_BOUNDS[4],e.allBounds[5]=Ke.INIT_BOUNDS[5];var i=!0;t.invokeEvent(n);for(var s=0;s<e.props.length;++s){var o=e.props[s];if(o.getVisibility()&&o.getUseBounds()){var c=o.getBounds();c&&Js(c)&&(i=!1,c[0]<e.allBounds[0]&&(e.allBounds[0]=c[0]),c[1]>e.allBounds[1]&&(e.allBounds[1]=c[1]),c[2]<e.allBounds[2]&&(e.allBounds[2]=c[2]),c[3]>e.allBounds[3]&&(e.allBounds[3]=c[3]),c[4]<e.allBounds[4]&&(e.allBounds[4]=c[4]),c[5]>e.allBounds[5]&&(e.allBounds[5]=c[5]))}}return i&&(Fa(e.allBounds),Xa("Can't compute bounds, no 3D props are visible")),e.allBounds},t.resetCamera=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=i||t.computeVisiblePropBounds(),o=[0,0,0];if(!Js(s))return Xa("Cannot reset camera!"),!1;var c=null;if(t.getActiveCamera())c=e.activeCamera.getViewPlaneNormal();else return en("Trying to reset non-existent camera"),!1;e.activeCamera.setViewAngle(30),o[0]=(s[0]+s[1])/2,o[1]=(s[2]+s[3])/2,o[2]=(s[4]+s[5])/2;var u=s[1]-s[0],l=s[3]-s[2],f=s[5]-s[4];u*=u,l*=l,f*=f;var h=u+l+f;h=h===0?1:h,h=Math.sqrt(h)*.5;var p=ot(e.activeCamera.getViewAngle()),d=h,y=h/Math.sin(p*.5),m=e.activeCamera.getViewUp();return Math.abs(Be(m,c))>.999&&(fD("Resetting view-up since view plane normal is parallel"),e.activeCamera.setViewUp(-m[2],m[0],m[1])),e.activeCamera.setFocalPoint(o[0],o[1],o[2]),e.activeCamera.setPosition(o[0]+y*c[0],o[1]+y*c[1],o[2]+y*c[2]),t.resetCameraClippingRange(s),e.activeCamera.setParallelScale(d),e.activeCamera.setPhysicalScale(h),e.activeCamera.setPhysicalTranslation(-o[0],-o[1],-o[2]),t.invokeEvent(a),!0},t.resetCameraClippingRange=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=i||t.computeVisiblePropBounds();if(!Js(s))return Xa("Cannot reset camera clipping range!"),!1;if(t.getActiveCameraAndResetIfCreated(),!e.activeCamera)return en("Trying to reset clipping range of non-existent camera"),!1;var o=e.activeCamera.computeClippingRange(s),c=0;if(e.activeCamera.getParallelProjection())c=.2*e.activeCamera.getParallelScale();else{var u=ot(e.activeCamera.getViewAngle());c=.2*Math.tan(u/2)*o[1]}return o[1]-o[0]<c&&(c=c-o[1]+o[0],o[1]+=c/2,o[0]-=c/2),o[0]<0&&(o[0]=0),o[0]=.99*o[0]-(o[1]-o[0])*e.clippingRangeExpansion,o[1]=1.01*o[1]+(o[1]-o[0])*e.clippingRangeExpansion,o[0]=o[0]>=o[1]?.01*o[1]:o[0],e.nearClippingPlaneTolerance||(e.nearClippingPlaneTolerance=.01),o[0]<e.nearClippingPlaneTolerance*o[1]&&(o[0]=e.nearClippingPlaneTolerance*o[1]),e.activeCamera.setClippingRange(o[0],o[1]),t.invokeEvent(r),!1},t.setRenderWindow=function(i){i!==e._renderWindow&&(e._vtkWindow=i,e._renderWindow=i)},t.visibleActorCount=function(){return e.props.filter(function(i){return i.getVisibility()}).length},t.visibleVolumeCount=t.visibleActorCount,t.getMTime=function(){var i=e.mtime,s=e.activeCamera?e.activeCamera.getMTime():0;s>i&&(i=s);var o=e._createdLight?e._createdLight.getMTime():0;return o>i&&(i=o),i},t.getTransparent=function(){return!!e.preserveColorBuffer},t.isActiveCameraCreated=function(){return!!e.activeCamera}}var hD={pickedProp:null,activeCamera:null,allBounds:[],ambient:[1,1,1],allocatedRenderTime:100,timeFactor:1,automaticLightCreation:!0,twoSidedLighting:!0,lastRenderTimeInSeconds:-1,renderWindow:null,lights:[],actors:[],volumes:[],lightFollowCamera:!0,numberOfPropsRendered:0,propArray:null,pathArray:null,layer:0,preserveColorBuffer:!1,preserveDepthBuffer:!1,computeVisiblePropBounds:Ta(),interactive:!0,nearClippingPlaneTolerance:0,clippingRangeExpansion:.05,erase:!0,draw:!0,useShadows:!1,useDepthPeeling:!1,occlusionRatio:0,maximumNumberOfPeels:4,selector:null,delegate:null,texturedBackground:!1,backgroundTexture:null,pass:0};function ng(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(Object.assign(e,hD,n),cD.extend(t,e,n),e.background||(e.background=[0,0,0,1]);e.background.length<3;)e.background.push(0);e.background.length===3&&e.background.push(1),Mr(t,e,["_renderWindow","allocatedRenderTime","timeFactor","lastRenderTimeInSeconds","numberOfPropsRendered","lastRenderingUsedDepthPeeling","selector"]),Rt(t,e,["twoSidedLighting","lightFollowCamera","automaticLightCreation","erase","draw","nearClippingPlaneTolerance","clippingRangeExpansion","backingStore","interactive","layer","preserveColorBuffer","preserveDepthBuffer","useDepthPeeling","occlusionRatio","maximumNumberOfPeels","delegate","backgroundTexture","texturedBackground","useShadows","pass"]),Os(t,e,["actors","volumes","lights"]),k1(t,e,["background"],4,1),Zu(t,e,["renderWindow"]),lD(t,e)}var pD=ut(ng,"vtkRenderer"),ag={newInstance:pD,extend:ng},vD={TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_RIGHT:"BOTTOM_RIGHT"},Mc={Corners:vD};function yh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var U0=I.vtkErrorMacro,Do=Mc.Corners;function dD(t,e){e.classHierarchy.push("vtkOrientationMarkerWidget");var n=ig({},t),r=[],a=ag.newInstance(),i=new ResizeObserver(function(h){t.updateViewport()}),s=null,o=null,c=null,u=null,l=null;function f(){e._interactor.isAnimating()||t.updateMarkerOrientation()}t.computeViewport=function(){var h=e.parentRenderer||e._interactor.getCurrentRenderer(),p=h.getViewport(),d=We(p,4),y=d[0],m=d[1],_=d[2],v=d[3],g=e._interactor.getView(),x=g.getSize(),w=g.getViewportSize(h),C=We(w,2),S=C[0],T=C[1],b=Math.min(S,T),O=e.viewportSize*b;O=Math.max(Math.min(e.minPixelSize,b),Math.min(e.maxPixelSize,O));var D=O/x[0],N=O/x[1];switch(e.viewportCorner){case Do.TOP_LEFT:return[y,v-N,y+D,v];case Do.TOP_RIGHT:return[_-D,v-N,_,v];case Do.BOTTOM_LEFT:return[y,m,y+D,m+N];case Do.BOTTOM_RIGHT:return[_-D,m,_,m+N];default:return U0("Invalid widget corner"),null}},t.updateViewport=function(){e.enabled&&(a.setViewport.apply(a,we(t.computeViewport())),e._interactor.render())},t.updateMarkerOrientation=function(){var h=e.parentRenderer||e._interactor.getCurrentRenderer(),p=h.getActiveCamera();if(!!p){var d=p.getReferenceByName("position"),y=p.getReferenceByName("focalPoint"),m=p.getReferenceByName("viewUp");if(r[0]!==d[0]||r[1]!==d[1]||r[2]!==d[2]||r[3]!==y[0]||r[4]!==y[1]||r[5]!==y[2]||r[6]!==m[0]||r[7]!==m[1]||r[8]!==m[2]){r[0]=d[0],r[1]=d[1],r[2]=d[2],r[3]=y[0],r[4]=y[1],r[5]=y[2],r[6]=m[0],r[7]=m[1],r[8]=m[2];var _=a.getActiveCamera();_.setPosition(d[0],d[1],d[2]),_.setFocalPoint(y[0],y[1],y[2]),_.setViewUp(m[0],m[1],m[2]),a.resetCamera()}}},t.setEnabled=function(h){if(h){if(e.enabled)return;if(!e.actor){U0("Must set actor before enabling orientation marker.");return}if(!e._interactor){U0("Must set interactor before enabling orientation marker.");return}var p=e.parentRenderer||e._interactor.getCurrentRenderer(),d=p.getRenderWindow();d.addRenderer(a),d.getNumberOfLayers()<2&&d.setNumberOfLayers(2),a.setLayer(d.getNumberOfLayers()-1),a.setInteractive(!1),a.addViewProp(e.actor),e.actor.setVisibility(!0),s=p.onEvent(function(m){m.type==="ActiveCameraEvent"&&(o&&o.unsubscribe(),o=m.camera.onModified(f))}),o=p.getActiveCamera().onModified(f),c=e._interactor.onAnimation(t.updateMarkerOrientation),u=e._interactor.onEndAnimation(t.updateMarkerOrientation),i.observe(e._interactor.getView().getCanvas()),t.updateViewport(),t.updateMarkerOrientation(),e.enabled=!0}else{if(!e.enabled)return;e.enabled=!1,i.disconnect(),s.unsubscribe(),s=null,o.unsubscribe(),o=null,c.unsubscribe(),c=null,u.unsubscribe(),u=null,e.actor.setVisibility(!1),a.removeViewProp(e.actor);var y=e._interactor.findPokedRenderer().getRenderWindow();y&&y.removeRenderer(a)}t.modified()},t.setViewportCorner=function(h){h!==e.viewportCorner&&(e.viewportCorner=h,t.updateViewport())},t.setViewportSize=function(h){var p=Math.min(1,Math.max(0,h));p!==e.viewportSize&&(e.viewportSize=p,t.updateViewport())},t.setActor=function(h){var p=e.enabled;t.setEnabled(!1),e.actor=h,t.setEnabled(p)},t.setParentRenderer=function(h){var p=n.setParentRenderer(h);return p&&t.updateViewport(),p},t.getRenderer=function(){return a},t.delete=function(){n.delete(),l&&(l.unsubscribe(),l=null),s&&(s.unsubscribe(),s=null),o&&(o.unsubscribe(),o=null),c&&(c.unsubscribe(),c=null),u&&(u.unsubscribe(),u=null),i.disconnect()},l=t.onModified(t.updateViewport)}var gD={viewportCorner:Mc.Corners.BOTTOM_LEFT,viewportSize:.2,minPixelSize:50,maxPixelSize:200,parentRenderer:null};function og(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,gD,n),I.obj(t,e),I.get(t,e,["enabled","viewportCorner","viewportSize"]),I.setGet(t,e,["_interactor","minPixelSize","maxPixelSize","parentRenderer"]),I.get(t,e,["actor"]),I.moveToProtected(t,e,["interactor"]),dD(t,e)}var yD=I.newInstance(og,"vtkOrientationMarkerWidget"),mh=ig({newInstance:yD,extend:og},Mc),mD={Unknown:0,LeftController:1,RightController:2},_D={Unknown:0,Trigger:1,TrackPad:2,Grip:3,Thumbstick:4,A:5,B:6,ApplicationMenu:7},xD={Unknown:0,TouchpadX:1,TouchpadY:2,ThumbstickX:3,ThumbstickY:4},Rc={Device:mD,Input:_D,Axis:xD};function _h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_h(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_h(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Oo=Rc.Device,Tn=Rc.Input,No=I.vtkWarningMacro,ko=I.vtkErrorMacro,wD=I.normalizeWheel,CD=I.vtkOnceErrorMacro,oa=new MouseEvent(""),G0={"xr-standard":[Tn.Trigger,Tn.Grip,Tn.TrackPad,Tn.Thumbstick,Tn.A,Tn.B]},Lc=["StartAnimation","Animation","EndAnimation","PointerEnter","PointerLeave","MouseEnter","MouseLeave","StartMouseMove","MouseMove","EndMouseMove","LeftButtonPress","LeftButtonRelease","MiddleButtonPress","MiddleButtonRelease","RightButtonPress","RightButtonRelease","KeyPress","KeyDown","KeyUp","StartMouseWheel","MouseWheel","EndMouseWheel","StartPinch","Pinch","EndPinch","StartPan","Pan","EndPan","StartRotate","Rotate","EndRotate","Button3D","Move3D","StartPointerLock","EndPointerLock","StartInteraction","Interaction","EndInteraction","AnimationFrameRateUpdate"];function qa(t){t.cancelable&&t.preventDefault()}function Mo(t){var e=Object.create(null);return t.forEach(function(n){var r=n.pointerId,a=n.position;e[r]=a}),e}function SD(t,e){e.classHierarchy.push("vtkRenderWindowInteractor");var n=new Set,r=new Map;t.start=function(){!e.initialized&&(t.initialize(),!e.initialized)||t.startEventLoop()},t.setRenderWindow=function(f){ko("you want to call setView(view) instead of setRenderWindow on a vtk.js interactor")},t.setInteractorStyle=function(f){e.interactorStyle!==f&&(e.interactorStyle!=null&&e.interactorStyle.setInteractor(null),e.interactorStyle=f,e.interactorStyle!=null&&e.interactorStyle.getInteractor()!==t&&e.interactorStyle.setInteractor(t))},t.initialize=function(){e.initialized=!0,t.enable(),t.render()},t.enable=function(){return t.setEnabled(!0)},t.disable=function(){return t.setEnabled(!1)},t.startEventLoop=function(){return No("empty event loop")};function a(f,h){e._forcedRenderer||(e.currentRenderer=t.findPokedRenderer(f,h))}t.getCurrentRenderer=function(){return e.currentRenderer||a(0,0),e.currentRenderer};function i(f){var h=e._view.getCanvas(),p=h.getBoundingClientRect(),d=h.width/p.width,y=h.height/p.height,m={x:d*(f.clientX-p.left),y:y*(p.height-f.clientY+p.top),z:0};return(r.size<=1||!e.currentRenderer)&&a(m.x,m.y),m}function s(f){return{controlKey:f.ctrlKey,altKey:f.altKey,shiftKey:f.shiftKey}}function o(f){var h=s(f),p=Je({key:f.key,keyCode:f.charCode},h);return p}function c(f){return f.pointerType||""}t.bindEvents=function(f){e.container=f,f.addEventListener("contextmenu",qa),f.addEventListener("wheel",t.handleWheel),f.addEventListener("DOMMouseScroll",t.handleWheel),f.addEventListener("pointerenter",t.handlePointerEnter),f.addEventListener("pointerleave",t.handlePointerLeave),f.addEventListener("pointermove",t.handlePointerMove,{passive:!1}),f.addEventListener("pointerdown",t.handlePointerDown,{passive:!1}),f.addEventListener("pointerup",t.handlePointerUp),f.addEventListener("pointercancel",t.handlePointerCancel),document.addEventListener("keypress",t.handleKeyPress),document.addEventListener("keydown",t.handleKeyDown),document.addEventListener("keyup",t.handleKeyUp),document.addEventListener("pointerlockchange",t.handlePointerLockChange),f.style.touchAction="none",f.style.userSelect="none",f.style.webkitTapHighlightColor="rgba(0,0,0,0)"},t.unbindEvents=function(){var f=e.container;f.removeEventListener("contextmenu",qa),f.removeEventListener("wheel",t.handleWheel),f.removeEventListener("DOMMouseScroll",t.handleWheel),f.removeEventListener("pointerenter",t.handlePointerEnter),f.removeEventListener("pointerleave",t.handlePointerLeave),f.removeEventListener("pointermove",t.handlePointerMove,{passive:!1}),f.removeEventListener("pointerdown",t.handlePointerDown,{passive:!1}),f.removeEventListener("pointerup",t.handlePointerUp),f.removeEventListener("pointercancel",t.handlePointerCancel),document.removeEventListener("keypress",t.handleKeyPress),document.removeEventListener("keydown",t.handleKeyDown),document.removeEventListener("keyup",t.handleKeyUp),document.removeEventListener("pointerlockchange",t.handlePointerLockChange),e.container=null,r.clear()},t.handleKeyPress=function(f){var h=o(f);t.keyPressEvent(h)},t.handleKeyDown=function(f){var h=o(f);t.keyDownEvent(h)},t.handleKeyUp=function(f){var h=o(f);t.keyUpEvent(h)},t.handlePointerEnter=function(f){var h=Je(Je({},s(f)),{},{position:i(f),deviceType:c(f)});t.pointerEnterEvent(h),h.deviceType==="mouse"&&t.mouseEnterEvent(h)},t.handlePointerLeave=function(f){var h=Je(Je({},s(f)),{},{position:i(f),deviceType:c(f)});t.pointerLeaveEvent(h),h.deviceType==="mouse"&&t.mouseLeaveEvent(h)},t.handlePointerDown=function(f){if(!(f.button>2||t.isPointerLocked()))switch(e.preventDefaultOnPointerDown&&qa(f),f.target.hasPointerCapture(f.pointerId)&&f.target.releasePointerCapture(f.pointerId),e.container.setPointerCapture(f.pointerId),r.has(f.pointerId)&&No("[RenderWindowInteractor] duplicate pointerId detected"),r.set(f.pointerId,{pointerId:f.pointerId,position:i(f)}),f.pointerType){case"pen":case"touch":t.handleTouchStart(f);break;case"mouse":default:t.handleMouseDown(f);break}},t.handlePointerUp=function(f){if(r.has(f.pointerId))switch(e.preventDefaultOnPointerUp&&qa(f),r.delete(f.pointerId),e.container.releasePointerCapture(f.pointerId),f.pointerType){case"pen":case"touch":t.handleTouchEnd(f);break;case"mouse":default:t.handleMouseUp(f);break}},t.handlePointerCancel=function(f){if(r.has(f.pointerId))switch(r.delete(f.pointerId),f.pointerType){case"pen":case"touch":t.handleTouchEnd(f);break;case"mouse":default:t.handleMouseUp(f);break}},t.handlePointerMove=function(f){if(r.has(f.pointerId)){var h=r.get(f.pointerId);h.position=i(f)}switch(f.pointerType){case"pen":case"touch":t.handleTouchMove(f);break;case"mouse":default:t.handleMouseMove(f);break}},t.handleMouseDown=function(f){var h=Je(Je({},s(f)),{},{position:i(f),deviceType:c(f)});switch(f.button){case 0:t.leftButtonPressEvent(h);break;case 1:t.middleButtonPressEvent(h);break;case 2:t.rightButtonPressEvent(h);break;default:ko("Unknown mouse button pressed: ".concat(f.button));break}},t.requestPointerLock=function(){e.container&&e.container.requestPointerLock()},t.exitPointerLock=function(){return document.exitPointerLock()},t.isPointerLocked=function(){return!!e.container&&document.pointerLockElement===e.container},t.handlePointerLockChange=function(){t.isPointerLocked()?t.startPointerLockEvent():t.endPointerLockEvent()};function u(){e._view&&e.enabled&&e.enableRender&&(e.inRender=!0,e._view.traverseAllPasses(),e.inRender=!1),t.invokeRenderEvent()}t.requestAnimation=function(f){if(f===void 0){ko("undefined requester, can not start animating");return}if(n.has(f)){No("requester is already registered for animating");return}n.add(f),!e.animationRequest&&n.size===1&&!e.xrAnimation&&(e._animationStartTime=Date.now(),e._animationFrameCount=0,e.animationRequest=requestAnimationFrame(t.handleAnimation),t.startAnimationEvent())},t.extendAnimation=function(f){var h=Date.now()+f;e._animationExtendedEnd=Math.max(e._animationExtendedEnd,h),!e.animationRequest&&n.size===0&&!e.xrAnimation&&(e._animationStartTime=Date.now(),e._animationFrameCount=0,e.animationRequest=requestAnimationFrame(t.handleAnimation),t.startAnimationEvent())},t.isAnimating=function(){return e.xrAnimation||e.animationRequest!==null},t.cancelAnimation=function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!n.has(f)){if(!h){var p=f&&f.getClassName?f.getClassName():f;No("".concat(p," did not request an animation"))}return}n.delete(f),e.animationRequest&&n.size===0&&Date.now()>e._animationExtendedEnd&&(cancelAnimationFrame(e.animationRequest),e.animationRequest=null,t.endAnimationEvent(),t.render())},t.switchToXRAnimation=function(){e.animationRequest&&(cancelAnimationFrame(e.animationRequest),e.animationRequest=null),e.xrAnimation=!0},t.returnFromXRAnimation=function(){e.xrAnimation=!1,n.size!==0&&(e.recentAnimationFrameRate=10,e.animationRequest=requestAnimationFrame(t.handleAnimation))},t.updateXRGamepads=function(f,h,p){f.inputSources.forEach(function(d){var y=d.gripSpace==null?null:h.getPose(d.gripSpace,p),m=d.gamepad,_=d.handedness;if(m){m.index in e.lastGamepadValues||(e.lastGamepadValues[m.index]={left:{buttons:{}},right:{buttons:{}}});for(var v=0;v<m.buttons.length;++v)v in e.lastGamepadValues[m.index][_].buttons||(e.lastGamepadValues[m.index][_].buttons[v]=!1),e.lastGamepadValues[m.index][_].buttons[v]!==m.buttons[v].pressed&&y!=null&&(t.button3DEvent({gamepad:m,position:y.transform.position,orientation:y.transform.orientation,pressed:m.buttons[v].pressed,device:d.handedness==="left"?Oo.LeftController:Oo.RightController,input:G0[m.mapping]&&G0[m.mapping][v]?G0[m.mapping][v]:Tn.Trigger}),e.lastGamepadValues[m.index][_].buttons[v]=m.buttons[v].pressed),e.lastGamepadValues[m.index][_].buttons[v]&&y!=null&&t.move3DEvent({gamepad:m,position:y.transform.position,orientation:y.transform.orientation,device:d.handedness==="left"?Oo.LeftController:Oo.RightController})}})},t.handleMouseMove=function(f){var h=Je(Je({},s(f)),{},{position:i(f),deviceType:c(f)});e.moveTimeoutID===0?t.startMouseMoveEvent(h):(t.mouseMoveEvent(h),clearTimeout(e.moveTimeoutID)),e.moveTimeoutID=setTimeout(function(){t.endMouseMoveEvent(),e.moveTimeoutID=0},200)},t.handleAnimation=function(){var f=Date.now();e._animationFrameCount++,f-e._animationStartTime>1e3&&e._animationFrameCount>1&&(e.recentAnimationFrameRate=1e3*(e._animationFrameCount-1)/(f-e._animationStartTime),e.lastFrameTime=1/e.recentAnimationFrameRate,t.animationFrameRateUpdateEvent(),e._animationStartTime=f,e._animationFrameCount=1),t.animationEvent(),u(),n.size>0||Date.now()<e._animationExtendedEnd?e.animationRequest=requestAnimationFrame(t.handleAnimation):(cancelAnimationFrame(e.animationRequest),e.animationRequest=null,t.endAnimationEvent(),t.render())},t.handleWheel=function(f){qa(f);var h=Je(Je(Je({},wD(f)),s(f)),{},{position:i(f),deviceType:c(f)});e.wheelTimeoutID===0?t.startMouseWheelEvent(h):(t.mouseWheelEvent(h),clearTimeout(e.wheelTimeoutID)),e.wheelTimeoutID=setTimeout(function(){t.extendAnimation(600),t.endMouseWheelEvent(),e.wheelTimeoutID=0},200)},t.handleMouseUp=function(f){var h=Je(Je({},s(f)),{},{position:i(f),deviceType:c(f)});switch(f.button){case 0:t.leftButtonReleaseEvent(h);break;case 1:t.middleButtonReleaseEvent(h);break;case 2:t.rightButtonReleaseEvent(h);break;default:ko("Unknown mouse button released: ".concat(f.button));break}},t.handleTouchStart=function(f){var h=we(r.values());if(e.recognizeGestures&&h.length>1){var p=Mo(r);if(h.length===2){var d=Je(Je({},s(oa)),{},{position:h[0].position,deviceType:c(f)});t.leftButtonReleaseEvent(d)}t.recognizeGesture("TouchStart",p)}else if(h.length===1){var y=Je(Je({},s(oa)),{},{position:i(f),deviceType:c(f)});t.leftButtonPressEvent(y)}},t.handleTouchMove=function(f){var h=we(r.values());if(e.recognizeGestures&&h.length>1){var p=Mo(r);t.recognizeGesture("TouchMove",p)}else if(h.length===1){var d=Je(Je({},s(oa)),{},{position:h[0].position,deviceType:c(f)});t.mouseMoveEvent(d)}},t.handleTouchEnd=function(f){var h=we(r.values());if(e.recognizeGestures)if(h.length===0){var p=Je(Je({},s(oa)),{},{position:h[0].position,deviceType:c(f)});t.leftButtonReleaseEvent(p)}else if(h.length===1){var d=Mo(r);t.recognizeGesture("TouchEnd",d);var y=Je(Je({},s(oa)),{},{position:h[0].position,deviceType:c(f)});t.leftButtonPressEvent(y)}else{var m=Mo(r);t.recognizeGesture("TouchMove",m)}else if(h.length===1){var _=Je(Je({},s(oa)),{},{position:h[0].position,deviceType:c(f)});t.leftButtonReleaseEvent(_)}},t.setView=function(f){e._view!==f&&(e._view=f,e._view.getRenderable().setInteractor(t),t.modified())},t.getFirstRenderer=function(){var f,h,p;return(f=e._view)===null||f===void 0||(h=f.getRenderable())===null||h===void 0||(p=h.getRenderersByReference())===null||p===void 0?void 0:p[0]},t.findPokedRenderer=function(){var f,h,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e._view)return null;var y=(f=e._view)===null||f===void 0||(h=f.getRenderable())===null||h===void 0?void 0:h.getRenderers();if(!y)return null;y.sort(function(w,C){return w.getLayer()-C.getLayer()});for(var m=null,_=null,v=null,g=y.length;g--;){var x=y[g];if(e._view.isInViewport(p,d,x)&&x.getInteractive()){v=x;break}m===null&&x.getInteractive()&&(m=x),_===null&&e._view.isInViewport(p,d,x)&&(_=x)}return v===null&&(v=m),v===null&&(v=_),v==null&&(v=y[0]),v},t.render=function(){!t.isAnimating()&&!e.inRender&&u()},Lc.forEach(function(f){var h=f.charAt(0).toLowerCase()+f.slice(1);t["".concat(h,"Event")]=function(p){if(!!e.enabled){var d=t.getCurrentRenderer();if(!d){CD(`
          Can not forward events without a current renderer on the interactor.
        `);return}var y=Je({type:f,pokedRenderer:e.currentRenderer,firstRenderer:t.getFirstRenderer()},p);t["invoke".concat(f)](y)}}}),t.recognizeGesture=function(f,h){if(!(Object.keys(h).length>2)){if(e.startingEventPositions||(e.startingEventPositions={}),f==="TouchStart"){Object.keys(h).forEach(function(W){e.startingEventPositions[W]=h[W]}),e.currentGesture="Start";return}if(f==="TouchEnd"){e.currentGesture==="Pinch"&&(t.render(),t.endPinchEvent()),e.currentGesture==="Rotate"&&(t.render(),t.endRotateEvent()),e.currentGesture==="Pan"&&(t.render(),t.endPanEvent()),e.currentGesture="Start",e.startingEventPositions={};return}var p=0,d=[],y=[];Object.keys(h).forEach(function(W){d[p]=h[W],y[p]=e.startingEventPositions[W],p++});var m=Math.sqrt((y[0].x-y[1].x)*(y[0].x-y[1].x)+(y[0].y-y[1].y)*(y[0].y-y[1].y)),_=Math.sqrt((d[0].x-d[1].x)*(d[0].x-d[1].x)+(d[0].y-d[1].y)*(d[0].y-d[1].y)),v=Jo(Math.atan2(y[1].y-y[0].y,y[1].x-y[0].x)),g=Jo(Math.atan2(d[1].y-d[0].y,d[1].x-d[0].x)),x=g-v;g=g+180>=360?g-180:g+180,v=v+180>=360?v-180:v+180,Math.abs(g-v)<Math.abs(x)&&(x=g-v);var w=[];if(w[0]=(d[0].x-y[0].x+d[1].x-y[1].x)/2,w[1]=(d[0].y-y[0].y+d[1].y-y[1].y)/2,f==="TouchMove")if(e.currentGesture==="Start"){var C=.01*Math.sqrt(e.container.clientWidth*e.container.clientWidth+e.container.clientHeight*e.container.clientHeight);C<15&&(C=15);var S=Math.abs(_-m),T=_*3.1415926*Math.abs(x)/360,b=Math.sqrt(w[0]*w[0]+w[1]*w[1]);if(S>C&&S>T&&S>b){e.currentGesture="Pinch";var O={scale:1,touches:h};t.startPinchEvent(O)}else if(T>C&&T>b){e.currentGesture="Rotate";var D={rotation:0,touches:h};t.startRotateEvent(D)}else if(b>C){e.currentGesture="Pan";var N={translation:[0,0],touches:h};t.startPanEvent(N)}}else{if(e.currentGesture==="Rotate"){var R={rotation:x,touches:h};t.rotateEvent(R)}if(e.currentGesture==="Pinch"){var E={scale:_/m,touches:h};t.pinchEvent(E)}if(e.currentGesture==="Pan"){var A={translation:w,touches:h};t.panEvent(A)}}}},t.handleVisibilityChange=function(){e._animationStartTime=Date.now(),e._animationFrameCount=0},t.setCurrentRenderer=function(f){e._forcedRenderer=!!f,e.currentRenderer=f};var l=t.delete;t.delete=function(){for(;n.size;)t.cancelAnimation(n.values().next().value);typeof document.hidden!="undefined"&&document.removeEventListener("visibilitychange",t.handleVisibilityChange),l()},typeof document.hidden!="undefined"&&document.addEventListener("visibilitychange",t.handleVisibilityChange,!1)}var TD={renderWindow:null,interactorStyle:null,picker:null,pickingManager:null,initialized:!1,enabled:!1,enableRender:!0,currentRenderer:null,lightFollowCamera:!0,desiredUpdateRate:30,stillUpdateRate:2,container:null,recognizeGestures:!0,currentGesture:"Start",animationRequest:null,lastFrameTime:.1,recentAnimationFrameRate:10,wheelTimeoutID:0,moveTimeoutID:0,lastGamepadValues:{},preventDefaultOnPointerDown:!1,preventDefaultOnPointerUp:!1};function sg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,TD,n),I.obj(t,e),e._animationExtendedEnd=0,I.event(t,e,"RenderEvent"),Lc.forEach(function(r){return I.event(t,e,r)}),I.get(t,e,["initialized","container","interactorStyle","lastFrameTime","recentAnimationFrameRate","_view"]),I.setGet(t,e,["lightFollowCamera","enabled","enableRender","recognizeGestures","desiredUpdateRate","stillUpdateRate","picker","preventDefaultOnPointerDown","preventDefaultOnPointerUp"]),I.moveToProtected(t,e,["view"]),SD(t,e)}var bD=I.newInstance(sg,"vtkRenderWindowInteractor"),Fc=Je({newInstance:bD,extend:sg,handledEvents:Lc},Rc);function xh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ED=I.vtkErrorMacro,DD=I.VOID;function OD(t,e,n,r){var a=t.getRenderWindow().getViews()[0];return a.worldToDisplay(e,n,r,t)}function ND(t,e,n,r){var a=t.getRenderWindow().getViews()[0];return a.displayToWorld(e,n,r,t)}var kD={computeWorldToDisplay:OD,computeDisplayToWorld:ND};function MD(t,e){e.classHierarchy.push("vtkInteractorObserver");var n=ug({},t);function r(){for(;e.subscribedEvents.length;)e.subscribedEvents.pop().unsubscribe()}function a(){Fc.handledEvents.forEach(function(i){t["handle".concat(i)]&&e.subscribedEvents.push(e._interactor["on".concat(i)](function(s){return e.processEvents?t["handle".concat(i)](s):DD},e.priority))})}t.setInteractor=function(i){i!==e._interactor&&(r(),e._interactor=i,i&&e.enabled&&a(),t.modified())},t.setEnabled=function(i){i!==e.enabled&&(r(),i&&(e._interactor?a():ED(`
          The interactor must be set before subscribing to events
        `)),e.enabled=i,t.modified())},t.computeDisplayToWorld=function(i,s,o,c){return i?e._interactor.getView().displayToWorld(s,o,c,i):null},t.computeWorldToDisplay=function(i,s,o,c){return i?e._interactor.getView().worldToDisplay(s,o,c,i):null},t.setPriority=function(i){var s=n.setPriority(i);s&&e._interactor&&(r(),a())}}var RD={enabled:!0,priority:0,processEvents:!0,subscribedEvents:[]};function cg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,RD,n),I.obj(t,e),I.event(t,e,"InteractionEvent"),I.event(t,e,"StartInteractionEvent"),I.event(t,e,"EndInteractionEvent"),I.get(t,e,["_interactor","enabled"]),I.setGet(t,e,["priority","processEvents"]),I.moveToProtected(t,e,["interactor"]),MD(t,e)}var LD=I.newInstance(cg,"vtkInteractorObserver"),FD=ug({newInstance:LD,extend:cg},kD),AD={IS_START:0,IS_NONE:0,IS_ROTATE:1,IS_PAN:2,IS_SPIN:3,IS_DOLLY:4,IS_CAMERA_POSE:11,IS_WINDOW_LEVEL:1024,IS_SLICE:1025},fg={States:AD};function wh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function BD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var br=fg.States,P0={Rotate:br.IS_ROTATE,Pan:br.IS_PAN,Spin:br.IS_SPIN,Dolly:br.IS_DOLLY,CameraPose:br.IS_CAMERA_POSE,WindowLevel:br.IS_WINDOW_LEVEL,Slice:br.IS_SLICE};function VD(t,e){e.classHierarchy.push("vtkInteractorStyle"),Object.keys(P0).forEach(function(n){I.event(t,e,"Start".concat(n,"Event")),t["start".concat(n)]=function(){e.state===br.IS_NONE&&(e.state=P0[n],e._interactor.requestAnimation(t),t.invokeStartInteractionEvent({type:"StartInteractionEvent"}),t["invokeStart".concat(n,"Event")]({type:"Start".concat(n,"Event")}))},I.event(t,e,"End".concat(n,"Event")),t["end".concat(n)]=function(){e.state===P0[n]&&(e.state=br.IS_NONE,e._interactor.cancelAnimation(t),t.invokeEndInteractionEvent({type:"EndInteractionEvent"}),t["invokeEnd".concat(n,"Event")]({type:"End".concat(n,"Event")}),e._interactor.render())}}),t.handleKeyPress=function(n){var r=e._interactor,a=null;switch(n.key){case"r":case"R":n.pokedRenderer.resetCamera(),r.render();break;case"w":case"W":a=n.pokedRenderer.getActors(),a.forEach(function(i){var s=i.getProperty();s.setRepresentationToWireframe&&s.setRepresentationToWireframe()}),r.render();break;case"s":case"S":a=n.pokedRenderer.getActors(),a.forEach(function(i){var s=i.getProperty();s.setRepresentationToSurface&&s.setRepresentationToSurface()}),r.render();break;case"v":case"V":a=n.pokedRenderer.getActors(),a.forEach(function(i){var s=i.getProperty();s.setRepresentationToPoints&&s.setRepresentationToPoints()}),r.render();break}}}var UD={state:br.IS_NONE,handleObservers:1,autoAdjustCameraClippingRange:1};function lg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,UD,n),FD.extend(t,e,n),VD(t,e)}var GD=I.newInstance(lg,"vtkInteractorStyle"),hg=BD({newInstance:GD,extend:lg},fg);function Ch(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function PD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ch(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ch(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var j0=I.vtkDebugMacro,jD=hg.States,Ya={type:"StartInteractionEvent"},Yr={type:"InteractionEvent"},Za={type:"EndInteractionEvent"};function bu(t,e,n,r,a,i){var s=t.getActiveCamera(),o=s.getFocalPoint();o=e.getInteractorStyle().computeWorldToDisplay(t,o[0],o[1],o[2]);var c=o[2],u=e.getInteractorStyle().computeDisplayToWorld(t,n,r,c),l=e.getInteractorStyle().computeDisplayToWorld(t,a,i,c),f=[l[0]-u[0],l[1]-u[1],l[2]-u[2]];o=s.getFocalPoint();var h=s.getPosition();s.setFocalPoint(f[0]+o[0],f[1]+o[1],f[2]+o[2]),s.setPosition(f[0]+h[0],f[1]+h[1],f[2]+h[2])}function zD(t,e,n,r){var a=n.getActiveCamera();if(a.getParallelProjection()){var i=r.getView(),s=i.getViewportSize(n),o=n.getViewport(),c=i.getSize(),u=s[0],l=s[1],f=u/2,h=l/2,p=e.x-o[0]*c[0],d=e.y-o[1]*c[1];bu(n,r,f,h,p,d),a.setParallelScale(a.getParallelScale()/t),bu(n,r,p,d,f,h)}else{var y=a.getFocalPoint(),m=a.getViewPlaneNormal();y=r.getInteractorStyle().computeWorldToDisplay(n,y[0],y[1],y[2]);var _=r.getInteractorStyle().computeDisplayToWorld(n,e.x,e.y,y[2]);a.setFocalPoint(_[0],_[1],_[2]),a.dolly(t),n.resetCameraClippingRange();var v=a.getPosition();y=a.getFocalPoint();var g=[0,0,0],x=m[0]*(y[0]-v[0])+m[1]*(y[1]-v[1])+m[2]*(y[2]-v[2]);x/=Math.pow(m[0],2)+Math.pow(m[1],2)+Math.pow(m[2],2),g[0]=v[0]+m[0]*x,g[1]=v[1]+m[1]*x,g[2]=v[2]+m[2]*x,a.setFocalPoint(g[0],g[1],g[2]),n.resetCameraClippingRange()}}function ID(t,e,n){if(!Number.isNaN(n)){var r=e.getActiveCamera();r.getParallelProjection()?r.setParallelScale(r.getParallelScale()/n):(r.dolly(n),e.resetCameraClippingRange()),t.getLightFollowCamera()&&e.updateLightsGeometryToFollowCamera()}}var WD={dollyToPosition:zD,translateCamera:bu,dollyByFactor:ID};function HD(t,e){e.classHierarchy.push("vtkInteractorStyleManipulator"),e.mouseManipulators=[],e.keyboardManipulators=[],e.vrManipulators=[],e.gestureManipulators=[],e.currentManipulator=null,e.currentWheelManipulator=null,e.centerOfRotation=[0,0,0],e.rotationFactor=1,t.removeAllManipulators=function(){t.removeAllMouseManipulators(),t.removeAllKeyboardManipulators(),t.removeAllVRManipulators(),t.removeAllGestureManipulators()},t.removeAllMouseManipulators=function(){e.mouseManipulators=[]},t.removeAllKeyboardManipulators=function(){e.keyboardManipulators=[]},t.removeAllVRManipulators=function(){e.vrManipulators=[]},t.removeAllGestureManipulators=function(){e.gestureManipulators=[]};var n=function(i,s){var o=s.indexOf(i);return o===-1?!1:(s.splice(o,1),t.modified(),!0)};t.removeMouseManipulator=function(a){return n(a,e.mouseManipulators)},t.removeKeyboardManipulator=function(a){return n(a,e.keyboardManipulators)},t.removeVRManipulator=function(a){return n(a,e.vrManipulators)},t.removeGestureManipulator=function(a){return n(a,e.gestureManipulators)};var r=function(i,s){var o=s.indexOf(i);return o!==-1?!1:(s.push(i),t.modified(),!0)};t.addMouseManipulator=function(a){return r(a,e.mouseManipulators)},t.addKeyboardManipulator=function(a){return r(a,e.keyboardManipulators)},t.addVRManipulator=function(a){return r(a,e.vrManipulators)},t.addGestureManipulator=function(a){return r(a,e.gestureManipulators)},t.getNumberOfMouseManipulators=function(){return e.mouseManipulators.length},t.getNumberOfKeyboardManipulators=function(){return e.keyboardManipulators.length},t.getNumberOfVRManipulators=function(){return e.vrManipulators.length},t.getNumberOfGestureManipulators=function(){return e.gestureManipulators.length},t.resetCurrentManipulator=function(){e.currentManipulator=null,e.currentWheelManipulator=null},t.handleLeftButtonPress=function(a){e.previousPosition=a.position,t.onButtonDown(1,a)},t.handleMiddleButtonPress=function(a){e.previousPosition=a.position,t.onButtonDown(2,a)},t.handleRightButtonPress=function(a){e.previousPosition=a.position,t.onButtonDown(3,a)},t.handleButton3D=function(a){!a||(e.currentManipulator=t.findVRManipulator(a.device,a.input,a.pressed),e.currentManipulator?(e.currentManipulator.onButton3D(t,a.pokedRenderer,e.state,a.device,a.input,a.pressed),a.pressed?t.startCameraPose():t.endCameraPose()):j0("No manipulator found"))},t.handleMove3D=function(a){e.currentManipulator&&e.state===jD.IS_CAMERA_POSE&&e.currentManipulator.onMove3D(t,a.pokedRenderer,e.state,a)},t.onButtonDown=function(a,i){e.currentManipulator||(e.currentManipulator=t.findMouseManipulator(a,i.shiftKey,i.controlKey,i.altKey),e.currentManipulator?(e.currentManipulator.setCenter&&e.currentManipulator.setCenter(e.centerOfRotation),e.currentManipulator.setRotationFactor&&e.currentManipulator.setRotationFactor(e.rotationFactor),e.currentManipulator.startInteraction(),e.currentManipulator.onButtonDown(e._interactor,i.pokedRenderer,i.position),e._interactor.requestAnimation(t.onButtonDown),t.invokeStartInteractionEvent(Ya)):j0("No manipulator found"))},t.findMouseManipulator=function(a,i,s,o){for(var c=null,u=e.mouseManipulators.length;u--;){var l=e.mouseManipulators[u];l&&l.getButton()===a&&l.getShift()===i&&l.getControl()===s&&l.getAlt()===o&&l.isDragEnabled()&&(c=l)}return c},t.findVRManipulator=function(a,i){for(var s=null,o=e.vrManipulators.length;o--;){var c=e.vrManipulators[o];c&&c.getDevice()===a&&c.getInput()===i&&(s=c)}return s},t.handleLeftButtonRelease=function(){t.onButtonUp(1)},t.handleMiddleButtonRelease=function(){t.onButtonUp(2)},t.handleRightButtonRelease=function(){t.onButtonUp(3)},t.onButtonUp=function(a){!e.currentManipulator||e.currentManipulator.getButton&&e.currentManipulator.getButton()===a&&(e.currentManipulator.onButtonUp(e._interactor),e.currentManipulator.endInteraction(),e.currentManipulator=null,e._interactor.cancelAnimation(t.onButtonDown),t.invokeEndInteractionEvent(Za))},t.handleStartMouseWheel=function(a){if(!e.currentWheelManipulator){for(var i=null,s=e.mouseManipulators.length;s--;){var o=e.mouseManipulators[s];o&&o.isScrollEnabled()&&o.getShift()===a.shiftKey&&o.getControl()===a.controlKey&&o.getAlt()===a.altKey&&(i=o)}i?(e.currentWheelManipulator=i,e.currentWheelManipulator.onStartScroll(e._interactor,a.pokedRenderer,a.spinY),e.currentWheelManipulator.startInteraction(),e._interactor.requestAnimation(t.handleStartMouseWheel),t.invokeStartInteractionEvent(Ya)):j0("No manipulator found")}},t.handleEndMouseWheel=function(){!e.currentWheelManipulator||e.currentWheelManipulator.onEndScroll&&(e.currentWheelManipulator.onEndScroll(e._interactor),e.currentWheelManipulator.endInteraction(),e.currentWheelManipulator=null,e._interactor.cancelAnimation(t.handleStartMouseWheel),t.invokeEndInteractionEvent(Za))},t.handleMouseWheel=function(a){e.currentWheelManipulator&&e.currentWheelManipulator.onScroll&&(e.currentWheelManipulator.onScroll(e._interactor,a.pokedRenderer,a.spinY,e.cachedMousePosition),t.invokeInteractionEvent(Yr))},t.handleMouseMove=function(a){e.cachedMousePosition=a.position,e.currentManipulator&&e.currentManipulator.onMouseMove&&(e.currentManipulator.onMouseMove(e._interactor,a.pokedRenderer,a.position),t.invokeInteractionEvent(Yr))},t.handleKeyPress=function(a){e.keyboardManipulators.filter(function(i){return i.onKeyPress}).forEach(function(i){i.onKeyPress(e._interactor,a.pokedRenderer,a.key),t.invokeInteractionEvent(Yr)})},t.handleKeyDown=function(a){e.keyboardManipulators.filter(function(i){return i.onKeyDown}).forEach(function(i){i.onKeyDown(e._interactor,a.pokedRenderer,a.key),t.invokeInteractionEvent(Yr)})},t.handleKeyUp=function(a){e.keyboardManipulators.filter(function(i){return i.onKeyUp}).forEach(function(i){i.onKeyUp(e._interactor,a.pokedRenderer,a.key),t.invokeInteractionEvent(Yr)})},t.handleStartPinch=function(a){t.startDolly();for(var i=e.gestureManipulators.length;i--;){var s=e.gestureManipulators[i];s&&s.isPinchEnabled()&&(s.onStartPinch(e._interactor,a.scale),s.startInteraction())}e._interactor.requestAnimation(t.handleStartPinch),t.invokeStartInteractionEvent(Ya)},t.handleEndPinch=function(){t.endDolly();for(var a=e.gestureManipulators.length;a--;){var i=e.gestureManipulators[a];i&&i.isPinchEnabled()&&(i.onEndPinch(e._interactor),i.endInteraction())}e._interactor.cancelAnimation(t.handleStartPinch),t.invokeEndInteractionEvent(Za)},t.handleStartRotate=function(a){t.startRotate();for(var i=e.gestureManipulators.length;i--;){var s=e.gestureManipulators[i];s&&s.isRotateEnabled()&&(s.onStartRotate(e._interactor,a.rotation),s.startInteraction())}e._interactor.requestAnimation(t.handleStartRotate),t.invokeStartInteractionEvent(Ya)},t.handleEndRotate=function(){t.endRotate();for(var a=e.gestureManipulators.length;a--;){var i=e.gestureManipulators[a];i&&i.isRotateEnabled()&&(i.onEndRotate(e._interactor),i.endInteraction())}e._interactor.cancelAnimation(t.handleStartRotate),t.invokeEndInteractionEvent(Za)},t.handleStartPan=function(a){t.startPan();for(var i=e.gestureManipulators.length;i--;){var s=e.gestureManipulators[i];s&&s.isPanEnabled()&&(s.onStartPan(e._interactor,a.translation),s.startInteraction())}e._interactor.requestAnimation(t.handleStartPan),t.invokeStartInteractionEvent(Ya)},t.handleEndPan=function(){t.endPan();for(var a=e.gestureManipulators.length;a--;){var i=e.gestureManipulators[a];i&&i.isPanEnabled()&&(i.onEndPan(e._interactor),i.endInteraction())}e._interactor.cancelAnimation(t.handleStartPan),t.invokeEndInteractionEvent(Za)},t.handlePinch=function(a){for(var i=e.gestureManipulators.length,s=0;i--;){var o=e.gestureManipulators[i];o&&o.isPinchEnabled()&&(o.onPinch(e._interactor,a.pokedRenderer,a.scale),s++)}s&&t.invokeInteractionEvent(Yr)},t.handlePan=function(a){for(var i=e.gestureManipulators.length,s=0;i--;){var o=e.gestureManipulators[i];o&&o.isPanEnabled()&&(o.onPan(e._interactor,a.pokedRenderer,a.translation),s++)}s&&t.invokeInteractionEvent(Yr)},t.handleRotate=function(a){for(var i=e.gestureManipulators.length,s=0;i--;){var o=e.gestureManipulators[i];o&&o.isRotateEnabled()&&(o.onRotate(e._interactor,a.pokedRenderer,a.rotation),s++)}s&&t.invokeInteractionEvent(Yr)}}var $D={cachedMousePosition:null,currentManipulator:null,currentWheelManipulator:null,centerOfRotation:[0,0,0],rotationFactor:1};function pg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,$D,n),hg.extend(t,e,n),I.setGet(t,e,["rotationFactor"]),I.get(t,e,["mouseManipulators","keyboardManipulators","vrManipulators","gestureManipulators"]),I.setGetArray(t,e,["centerOfRotation"],3),HD(t,e)}var KD=I.newInstance(pg,"vtkInteractorStyleManipulator"),ds=PD({newInstance:KD,extend:pg},WD);function XD(t,e){e.classHierarchy.push("vtkCompositeCameraManipulator"),t.computeDisplayCenter=function(n,r){var a=n.computeWorldToDisplay(r,e.center[0],e.center[1],e.center[2]);e.displayCenter[0]=a[0],e.displayCenter[1]=a[1]}}var qD={center:[0,0,0],rotationFactor:1,displayCenter:[0,0]};function YD(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,qD,n),I.setGet(t,e,["rotationFactor"]),I.setGetArray(t,e,["displayCenter"],2),I.setGetArray(t,e,["center"],3),XD(t,e)}var Ga={extend:YD};function ZD(t,e){e.classHierarchy.push("vtkCompositeMouseManipulator"),t.startInteraction=function(){},t.endInteraction=function(){},t.onButtonDown=function(n,r,a){},t.onButtonUp=function(n){},t.onMouseMove=function(n,r,a){},t.onStartScroll=function(n,r,a){},t.onScroll=function(n,r,a){},t.onEndScroll=function(n){},t.isDragEnabled=function(){return e.dragEnabled},t.isScrollEnabled=function(){return e.scrollEnabled}}var JD={button:1,shift:!1,control:!1,alt:!1,dragEnabled:!0,scrollEnabled:!1};function QD(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,JD,n),I.setGet(t,e,["button","shift","control","alt"]),I.set(t,e,["dragEnabled","scrollEnabled"]),ZD(t,e)}var Pa={extend:QD};function eO(t,e){e.classHierarchy.push("vtkMouseCameraTrackballRotateManipulator");var n=new Float64Array(3),r=new Float64Array(3),a=new Float64Array(3),i=new Float64Array(16),s=new Float64Array(3),o=new Float64Array(3),c=new Float64Array(3);t.onButtonDown=function(u,l,f){e.previousPosition=f},t.onMouseMove=function(u,l,f){if(!!f){var h=l.getActiveCamera(),p=h.getPosition(),d=h.getFocalPoint();Me(i);var y=e.center,m=e.rotationFactor;e.useFocalPointAsCenterOfRotation&&(y[0]=d[0],y[1]=d[1],y[2]=d[2]);var _=e.previousPosition.x-f.x,v=e.previousPosition.y-f.y,g=u.getView().getViewportSize(l),x=h.getViewUp();if(e.useWorldUpVec){var w=new Float64Array(3);o1(w,e.worldUpVec),X1(w,Be(p,e.worldUpVec)/Be(e.worldUpVec,e.worldUpVec)),Qo(y,w,w),rt(i,i,w),Dt(i,i,ot(360*_/g[0]*m),e.worldUpVec),w[0]=-w[0],w[1]=-w[1],w[2]=-w[2],rt(i,i,w),rt(i,i,y)}else rt(i,i,y),Dt(i,i,ot(360*_/g[0]*m),x);Lt(h.getDirectionOfProjection(),x,s),Dt(i,i,ot(-360*v/g[1]*m),s),o[0]=-y[0],o[1]=-y[1],o[2]=-y[2],rt(i,i,o),Te(n,p,i),Te(r,d,i),c[0]=x[0]+p[0],c[1]=x[1]+p[1],c[2]=x[2]+p[2],Te(a,c,i),h.setPosition(n[0],n[1],n[2]),h.setFocalPoint(r[0],r[1],r[2]),h.setViewUp(a[0]-n[0],a[1]-n[1],a[2]-n[2]),h.orthogonalizeViewUp(),l.resetCameraClippingRange(),u.getLightFollowCamera()&&l.updateLightsGeometryToFollowCamera(),e.previousPosition=f}}}var tO={useWorldUpVec:!1,worldUpVec:[0,1,0],useFocalPointAsCenterOfRotation:!1};function vg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,tO,n),I.obj(t,e),Pa.extend(t,e,n),Ga.extend(t,e,n),I.setGet(t,e,["useWorldUpVec"]),I.setGetArray(t,e,["worldUpVec"],3),I.setGet(t,e,["useFocalPointAsCenterOfRotation"]),eO(t,e)}var rO=I.newInstance(vg,"vtkMouseCameraTrackballRotateManipulator"),dg={newInstance:rO,extend:vg};function nO(t,e){e.classHierarchy.push("vtkMouseCameraTrackballRollManipulator");var n=new Float64Array(3),r=new Float64Array(3),a=new Float64Array(3),i=new Float64Array(16),s=new Float64Array(3),o=new Float64Array(3),c=new Float64Array(3);t.onButtonDown=function(u,l,f){e.previousPosition=f},t.onMouseMove=function(u,l,f){if(!!f){var h=l.getActiveCamera(),p=h.getPosition(),d=h.getFocalPoint(),y=h.getViewUp();n[0]=d[0]-p[0],n[1]=d[1]-p[1],n[2]=d[2]-p[2],t.computeDisplayCenter(u.getInteractorStyle(),l);var m=e.previousPosition.x-e.displayCenter[0],_=f.x-e.displayCenter[0],v=e.previousPosition.y-e.displayCenter[1],g=f.y-e.displayCenter[1];if(!(_===0&&g===0||m===0&&v===0)){var x=Jo((m*g-v*_)/(Math.sqrt(m*m+v*v)*Math.sqrt(_*_+g*g))),w=e.center;Me(i),a[0]=-w[0],a[1]=-w[1],a[2]=-w[2],rt(i,i,w),Dt(i,i,ot(x),n),rt(i,i,a),Te(s,p,i),Te(o,d,i),r[0]=y[0]+p[0],r[1]=y[1]+p[1],r[2]=y[2]+p[2],Te(c,r,i),h.setPosition(s[0],s[1],s[2]),h.setFocalPoint(o[0],o[1],o[2]),h.setViewUp(c[0]-s[0],c[1]-s[1],c[2]-s[2]),h.orthogonalizeViewUp(),l.resetCameraClippingRange(),u.getLightFollowCamera()&&l.updateLightsGeometryToFollowCamera(),e.previousPosition=f}}}}var aO={};function gg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,aO,n),I.obj(t,e),Ga.extend(t,e,n),Pa.extend(t,e,n),nO(t,e)}var iO=I.newInstance(gg,"vtkMouseCameraTrackballRollManipulator"),yg={newInstance:iO,extend:gg};function oO(t,e){return t<e?e:t}function Sh(t){return t*t}function sO(t,e){e.classHierarchy.push("vtkMouseCameraTrackballMultiRotateManipulator");var n=dg.newInstance(),r=yg.newInstance(),a=null;t.onButtonDown=function(i,s,o){var c=i.getView().getViewportSize(s),u=[.5*c[0],.5*c[1]],l=.9*oO(u[0],u[1]),f=Sh(u[0]-o.x)+Sh(u[1]-o.y);l*l>f?a=n:a=r,a.setButton(t.getButton()),a.setShift(t.getShift()),a.setControl(t.getControl()),a.setCenter(t.getCenter()),a.onButtonDown(i,o)},t.onButtonUp=function(i){a&&a.onButtonUp(i)},t.onMouseMove=function(i,s,o){a&&a.onMouseMove(i,s,o)}}var uO={};function mg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,uO,n),I.obj(t,e),Pa.extend(t,e,n),Ga.extend(t,e,n),sO(t,e)}var cO=I.newInstance(mg,"vtkMouseCameraTrackballMultiRotateManipulator"),fO={newInstance:cO,extend:mg};function lO(t,e){e.classHierarchy.push("vtkMouseCameraTrackballPanManipulator"),t.onButtonDown=function(n,r,a){e.previousPosition=a},t.onMouseMove=function(n,r,a){if(!!a){var i=a,s=e.previousPosition;e.previousPosition=a;var o=r.getActiveCamera(),c=o.getPosition(),u=o.getFocalPoint();if(o.getParallelProjection()){o.orthogonalizeViewUp();var l=o.getViewUp(),f=o.getViewPlaneNormal(),h=[0,0,0];Lt(f,l,h);var p=n.getView().getViewportSize(r)[1],d=(i.x-s.x)/p,y=(s.y-i.y)/p,m=o.getParallelScale();d*=m*2,y*=m*2;var _=h[0]*d+l[0]*y;c[0]+=_,u[0]+=_,_=h[1]*d+l[1]*y,c[1]+=_,u[1]+=_,_=h[2]*d+l[2]*y,c[2]+=_,u[2]+=_,o.setPosition(c[0],c[1],c[2]),o.setFocalPoint(u[0],u[1],u[2])}else{var v=e.center,g=n.getInteractorStyle(),x=g.computeWorldToDisplay(r,v[0],v[1],v[2])[2],w=g.computeDisplayToWorld(r,i.x,i.y,x),C=g.computeDisplayToWorld(r,s.x,s.y,x),S=[c[0]+(C[0]-w[0]),c[1]+(C[1]-w[1]),c[2]+(C[2]-w[2])],T=[u[0]+(C[0]-w[0]),u[1]+(C[1]-w[1]),u[2]+(C[2]-w[2])];o.setPosition(S[0],S[1],S[2]),o.setFocalPoint(T[0],T[1],T[2])}r.resetCameraClippingRange(),n.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera()}}}var hO={};function _g(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,hO,n),I.obj(t,e),Ga.extend(t,e,n),Pa.extend(t,e,n),lO(t,e)}var pO=I.newInstance(_g,"vtkMouseCameraTrackballPanManipulator"),vO={newInstance:pO,extend:_g};function dO(t,e){e.classHierarchy.push("vtkMouseCameraTrackballZoomManipulator"),t.onButtonDown=function(n,r,a){e.previousPosition=a;var i=n.getView().getViewportSize(r),s=r.getActiveCamera(),o=e.flipDirection?-1:1;if(s.getParallelProjection())e.zoomScale=1.5/i[1]*o;else{var c=s.getClippingRange();e.zoomScale=1.5*(c[1]/i[1])*o}},t.onMouseMove=function(n,r,a){if(!!a){var i=e.previousPosition.y-a.y,s=r.getActiveCamera();if(s.getParallelProjection()){var o=i*e.zoomScale;s.setParallelScale((1-o)*s.getParallelScale())}else{var c=s.getPosition(),u=s.getFocalPoint(),l=s.getDirectionOfProjection(),f=i*e.zoomScale,h=f*l[0];c[0]+=h,u[0]+=h,h=f*l[1],c[1]+=h,u[1]+=h,h=f*l[2],c[2]+=h,u[2]+=h,s.getFreezeFocalPoint()||s.setFocalPoint(u[0],u[1],u[2]),s.setPosition(c[0],c[1],c[2]),r.resetCameraClippingRange()}n.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera(),e.previousPosition=a}},t.onScroll=function(n,r,a){if(!!a){var i=r.getActiveCamera(),s=1-a/10;i.getParallelProjection()?i.setParallelScale(i.getParallelScale()/s):(i.dolly(s),r.resetCameraClippingRange()),n.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera()}}}var gO={zoomScale:0,flipDirection:!1};function xg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,gO,n),I.obj(t,e),Pa.extend(t,e,n),Ga.extend(t,e,n),I.setGet(t,e,["flipDirection"]),dO(t,e)}var yO=I.newInstance(xg,"vtkMouseCameraTrackballZoomManipulator"),wg={newInstance:yO,extend:xg};function mO(t,e){e.classHierarchy.push("vtkMouseCameraTrackballZoomToMouseManipulator");var n=t.onButtonDown;t.onButtonDown=function(r,a,i){n(r,a,i),e.zoomPosition=i},t.onMouseMove=function(r,a,i){if(!!i){var s=e.previousPosition.y-i.y,o=s*e.zoomScale;ds.dollyToPosition(1-o,e.zoomPosition,a,r),r.getLightFollowCamera()&&a.updateLightsGeometryToFollowCamera(),e.previousPosition=i}},t.onScroll=function(r,a,i,s){if(!(!i||!s)){var o=1-i*.1;ds.dollyToPosition(o,s,a,r),r.getLightFollowCamera()&&a.updateLightsGeometryToFollowCamera()}}}var _O={zoomPosition:null};function Cg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,_O,n),wg.extend(t,e,n),mO(t,e)}var xO=I.newInstance(Cg,"vtkMouseCameraTrackballZoomToMouseManipulator"),wO={newInstance:xO,extend:Cg};function CO(t,e){e.classHierarchy.push("vtkCompositeGestureManipulator"),t.startInteraction=function(){},t.endInteraction=function(){},t.onStartPinch=function(n,r){},t.onStartRotate=function(n,r){},t.onStartPan=function(n,r){},t.onPinch=function(n,r,a){},t.onRotate=function(n,r,a){},t.onPan=function(n,r,a){},t.onEndPinch=function(n){},t.onEndRotate=function(n){},t.onEndPan=function(n){},t.isPinchEnabled=function(){return e.pinchEnabled},t.isPanEnabled=function(){return e.panEnabled},t.isRotateEnabled=function(){return e.rotateEnabled}}var SO={pinchEnabled:!0,panEnabled:!0,rotateEnabled:!0};function TO(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,SO,n),I.set(t,e,["pinchEnabled","panEnabled","rotateEnabled"]),I.setGet(t,e,["interactorStyle"]),CO(t,e)}var bO={extend:TO};function EO(t,e){e.classHierarchy.push("vtkGestureCameraManipulator"),t.onStartPinch=function(n,r){e.previousScale=r},t.onStartRotate=function(n,r){e.previousRotation=r},t.onStartPan=function(n,r){e.previousTranslation=r},t.onPinch=function(n,r,a){ds.dollyByFactor(n,r,a/e.previousScale),e.previousScale=a},t.onPan=function(n,r,a){var i=r.getActiveCamera(),s=n.getInteractorStyle(),o=i.getFocalPoint();o=s.computeWorldToDisplay(r,o[0],o[1],o[2]);var c=o[2],u=a,l=e.previousTranslation,f=s.computeDisplayToWorld(r,o[0]+u[0]-l[0],o[1]+u[1]-l[1],c),h=s.computeDisplayToWorld(r,o[0],o[1],c),p=[];p[0]=h[0]-f[0],p[1]=h[1]-f[1],p[2]=h[2]-f[2],o=i.getFocalPoint();var d=i.getPosition();i.setFocalPoint(p[0]+o[0],p[1]+o[1],p[2]+o[2]),i.setPosition(p[0]+d[0],p[1]+d[1],p[2]+d[2]),n.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera(),i.orthogonalizeViewUp(),e.previousTranslation=a},t.onRotate=function(n,r,a){var i=r.getActiveCamera();i.roll(a-e.previousRotation),i.orthogonalizeViewUp(),e.previousRotation=a}}var DO={};function Sg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,DO,n),I.obj(t,e),bO.extend(t,e,n),Ga.extend(t,e,n),EO(t,e)}var OO=I.newInstance(Sg,"vtkGestureCameraManipulator"),NO={newInstance:OO,extend:Sg};function Th(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Th(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Th(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var kO=[-2,-1,-2,-1],MO={position:"absolute",zIndex:1,border:"2px solid #F44336",backgroundColor:"rgba(0, 0, 0, 0.1)",borderRadius:"4px",boxSizing:"border-box"};function RO(t,e){Object.keys(e).forEach(function(n){t.style[n]=e[n]})}function LO(t,e){e.classHierarchy.push("vtkMouseBoxSelectionManipulator");var n=null,r=null,a=null,i=null,s=null,o=!1;function c(){return!a||!i?kO:[Math.min(a.x,i.x),Math.max(a.x,i.x),Math.min(a.y,i.y),Math.max(a.y,i.y)]}function u(){if(!(!n||!r)){var l=n.getSize(),f=We(l,2),h=f[0],p=f[1],d=r.getBoundingClientRect(),y=d.width,m=d.height,_=c(),v=We(_,4),g=v[0],x=v[1],w=v[2],C=v[3];s.style.left="".concat(y*g/h,"px"),s.style.top="".concat(m-m*C/p,"px"),s.style.width="".concat(y*(x-g)/h,"px"),s.style.height="".concat(m*(C-w)/p,"px")}}t.onButtonDown=function(l,f,h){if(a=h,e.renderSelection){var p;n||(n=l.getView()),!r&&(p=n)!==null&&p!==void 0&&p.getContainer&&(r=n.getContainer()),r||(r=e.container),s||(s=document.createElement("div"),RO(s,e.selectionStyle)),u(),r&&!o&&(o=!0,r.appendChild(s))}},t.onMouseMove=function(l,f,h){!a||!h||(i=h,t.invokeBoxSelectInput({view:n,container:r,selection:c()}),e.renderSelection&&u())},t.onButtonUp=function(l,f){!a||!i||(t.invokeBoxSelectChange({view:n,container:r,selection:c()}),o&&(s.parentElement.removeChild(s),o=!1),n=null,r=null,a=null,i=null)}}function FO(t){return Ro(Ro({renderSelection:!0},t),{},{selectionStyle:Ro(Ro({},MO),t.selectionStyle)})}function Tg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,FO(n)),St(t,e),Pa.extend(t,e,n),eu(t,e,"BoxSelectChange"),eu(t,e,"BoxSelectInput"),Rt(t,e,["renderSelection","selectionStyle","container"]),LO(t,e)}var AO=ut(Tg,"vtkMouseBoxSelectionManipulator"),BO={newInstance:AO,extend:Tg};function bh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mt(this,n)}}var Xr=me.createContext(null),Qt=me.createContext(null),Zn=me.createContext(null),qi=me.createContext(null),Bt=me.createContext(null),UO={None:null,Pan:vO,Zoom:wg,Roll:yg,Rotate:dg,MultiRotate:fO,ZoomToMouse:wO,Select:BO},GO={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},Bi=function(t){kt(n,Vt.exports.Component);var e=VO(n);function n(r){var a;yt(this,n),(a=e.call(this,r)).containerRef=me.createRef(),a.renderWindow=r.renderWindow,a.renderer=r.renderer,a.camera=a.renderer.getActiveCamera(),a.openglRenderWindow=r.renderWindowView,a.interactor=r.interactor,a.defaultStyle=ds.newInstance(),a.style=r.interactive?a.defaultStyle:null,a.axesActor=qE.newInstance(),a.orientationWidget=mh.newInstance({actor:a.axesActor,interactor:a.interactor,parentRenderer:a.renderer}),a.orientationWidget.setViewportCorner(mh.Corners.BOTTOM_LEFT),a.orientationWidget.setViewportSize(.15),a.orientationWidget.setMinPixelSize(100),a.orientationWidget.setMaxPixelSize(300),a.selector=Vs.newInstance({captureZValues:!0}),a.selector.setFieldAssociation(ov.FIELD_ASSOCIATION_POINTS),a.selector.attach(a.openglRenderWindow,a.renderer),a.renderView=function(){a.updateCubeBounds(),a.renderWindow.render()},a.resetCamera=a.resetCamera.bind(_a(a));var i=Ke.newInstance({bounds:[0,0,0,0,0,0]});a.updateCubeBounds=function(){if(a.props.showCubeAxes){i.reset();for(var o=a.renderer.get("props").props,c=0;c<o.length;c++){var u=o[c];u.getVisibility()&&u.getUseBounds()&&u!==a.cubeAxes&&i.addBounds.apply(i,we(u.getBounds()))}a.cubeAxes&&a.cubeAxes.setDataBounds(i.getBounds())}},a.debouncedCubeBounds=ru(a.updateCubeBounds,50),a.setInteractorStyle=function(o){a.props.interactive&&(a.style=o,a.interactor.setInteractorStyle(o))},a.hasFocus=!1,a.handleKey=function(o){a.hasFocus&&o.code==="KeyR"&&a.resetCamera()},a.onEnter=function(){a.hasFocus=!0},a.onLeave=function(){a.hasFocus=!1};var s=function(o,c,u,l){var f=u.x,h=u.y;if(a.props.pickingModes.indexOf(c)!==-1){var p=a.getPointerSizeTolerance(),d=a.pickClosest(Math.floor(f),Math.floor(h),p);o&&o(d[0],l),"setProps"in a.props&&a.props.setProps(Oe({},"".concat(c,"Info"),d[0]))}};return a.hover=ru(function(o,c){var u=o.x,l=o.y;if(a.props.pickingModes.indexOf("hover")!==-1){var f=a.getPointerSizeTolerance(),h=a.pickClosest(Math.floor(u),Math.floor(l),f);a.lastSelection.length===0&&h.length===0||(a.lastSelection=h,a.props.onHover&&a.props.onHover(h[0],c),"setProps"in a.props&&a.props.setProps({hoverInfo:h[0]}))}},10),a.onClick=function(o){return s(a.props.onClick,"click",a.getScreenEventPositionFor(o),o)},a.onMouseDown=function(o){return s(a.props.onMouseDown,"mouseDown",a.getScreenEventPositionFor(o),o)},a.onMouseUp=function(o){return s(a.props.onMouseUp,"mouseUp",a.getScreenEventPositionFor(o),o)},a.onMouseMove=function(o){a.props.pickingModes.indexOf("hover")!==-1&&a.hover(a.getScreenEventPositionFor(o),o)},a.lastSelection=[],a.onBoxSelectChange=function(o){var c=o.selection;if(a.props.pickingModes.indexOf("select")!==-1){var u=We(c,4),l=u[0],f=u[1],h=u[2],p=u[3],d=a.pick(l,h,f,p,!0);a.props.onSelect&&a.props.onSelect(d,event),"setProps"in a.props&&a.props.setProps({selectInfo:d})}},a.props.showCubeAxes&&a.initCubeAxes(),a.subscriptions=[],a.subscriptions.push(a.renderer.onEvent(function(o){var c=o.type;o.renderer&&c==="ComputeVisiblePropBoundsEvent"&&a.debouncedCubeBounds()})),a}return mt(n,[{key:"initCubeAxes",value:function(){this.cubeAxes=wc.newInstance({visibility:!1,dataBounds:[-1,1,-1,1,-1,1]}),Array.from(this.cubeAxes.getActors()).forEach(function(r){return(0,r.setVisibility)(!1)}),this.cubeAxes.setCamera(this.camera),this.renderer.addActor(this.cubeAxes)}},{key:"getPointerSizeTolerance",value:function(){return this.props.pointerSize/2}},{key:"getScreenEventPositionFor",value:function(r){var a=this.openglRenderWindow.getCanvas().getBoundingClientRect(),i=this.openglRenderWindow.getSize(),s=We(i,2),o=s[0],c=s[1],u=o/a.width,l=c/a.height;return{x:u*(r.clientX-a.left),y:l*(a.height-r.clientY+a.top),z:0}}},{key:"render",value:function(){var r=this.props,a=r.id,i=r.children,s=r.style,o=r.className;return me.createElement("div",{key:a,id:a,className:o,style:Ja({position:"relative"},s),onMouseEnter:this.onEnter,onMouseLeave:this.onLeave,onClick:this.onClick,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove},me.createElement("div",{style:GO,ref:this.containerRef}),me.createElement(Xr.Provider,{value:this},i))}},{key:"componentDidMount",value:function(){var r=this,a=this.containerRef.current;document.addEventListener("keyup",this.handleKey),a.addEventListener("mousedown",this.onMouseDown),this.update(this.props),this.resetCamera(),this.firstResetTimeout=setTimeout(function(){return r.resetCamera()},100)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){for(this.debouncedCubeBounds&&this.debouncedCubeBounds.cancel(),this.hover&&this.hover.cancel(),clearTimeout(this.resetCameraTimeout),clearTimeout(this.renderViewTimeout),clearTimeout(this.firstResetTimeout);this.subscriptions.length;)this.subscriptions.pop().unsubscribe();this.containerRef.current.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("keyup",this.handleKey),this.selector.delete(),this.orientationWidget.delete(),this.defaultStyle.delete(),this.defaultStyle=null,this.style=null,this.renderer=null,this.selector=null,this.orientationWidget=null}},{key:"update",value:function(r,a){var i,s,o,c=r.background,u=r.interactorSettings,l=r.interactive,f=r.cameraPosition,h=r.cameraViewUp,p=r.cameraFocalPoint,d=r.cameraParallelProjection,y=r.autoResetCamera,m=r.triggerRender,_=r.triggerResetCamera,v=r.showCubeAxes,g=r.cubeAxesStyle,x=r.showOrientationAxes;!c||a&&c===a.background||this.renderer.setBackground(c),!l||!u||a&&u===a.interactorSettings||(i=this.style,s=u,o=this,i.removeAllMouseManipulators(),s.forEach(function(w){var C=UO[w.action];if(C){var S=w.button,T=w.shift,b=w.control,O=w.alt,D=w.scrollEnabled,N=w.dragEnabled,R=w.useWorldUpVec,E=w.worldUpVec,A=w.useFocalPointAsCenterOfRotation,W=C.newInstance();W.setButton(S),W.setShift(!!T),W.setControl(!!b),W.setAlt(!!O),D!==void 0&&W.setScrollEnabled(D),N!==void 0&&W.setDragEnabled(N),i.addMouseManipulator(W),W.onBoxSelectChange&&o.onBoxSelectChange&&W.onBoxSelectChange(o.onBoxSelectChange),R!==void 0&&W.setUseWorldUpVec(R),E!==void 0&&W.setWorldUpVec(E),A!==void 0&&W.setUseFocalPointAsCenterOfRotation(A)}}),i.addGestureManipulator(NO.newInstance())),!d||a&&d===a.cameraParallelProjection||(this.renderer.getActiveCamera().setParallelProjection(d),a&&y&&this.resetCamera()),(!f||a&&JSON.stringify(f)===JSON.stringify(a.cameraPosition))&&(!h||a&&JSON.stringify(h)===JSON.stringify(a.cameraViewUp))&&(!p||a&&JSON.stringify(p)===JSON.stringify(a.cameraFocalPoint))||(this.renderer.getActiveCamera().set({position:f,viewUp:h,focalPoint:p}),a&&y&&this.resetCamera()),this.props.showCubeAxes&&(this.cubeAxes==null&&this.initCubeAxes(),this.cubeAxes.setVisibility(v)&&(Array.from(this.cubeAxes.getActors()).forEach(function(w){return(0,w.setVisibility)(v)}),this.renderView()),this.cubeAxes.set(g||{})&&this.renderView()),x!==this.orientationWidget.getEnabled()&&this.orientationWidget.setEnabled(x),a&&m!==a.triggerRender&&(this.renderViewTimeout=setTimeout(this.renderView,0)),a&&_!==a.triggerResetCamera&&(this.resetCameraTimeout=setTimeout(this.resetCamera,0))}},{key:"resetCamera",value:function(){this.renderer.resetCamera(),this.props.interactive&&this.style.setCenterOfRotation(this.renderer.getActiveCamera().getFocalPoint()),this.renderWindow.render()}},{key:"pickClosest",value:function(r,a,i){var s=Math.floor(r-i),o=Math.floor(a-i),c=Math.ceil(r+i),u=Math.ceil(a+i);if(this.selector.setArea(s,o,c,u),this.previousSelectedData=null,this.selector.captureBuffers()){var l=[r,a],f=this.selector.getPixelInformation(l,i,[0,0]);if(f==null||f.prop==null)return[];var h=this.openglRenderWindow.displayToWorld(Math.round((s+c)/2),Math.round((o+u)/2),0,this.renderer),p=this.openglRenderWindow.displayToWorld(Math.round((s+c)/2),Math.round((o+u)/2),1,this.renderer),d=[Array.from(h),Array.from(p)],y=Array.from(this.openglRenderWindow.displayToWorld(f.displayPosition[0],f.displayPosition[1],f.zValue,this.renderer)),m=[f.displayPosition[0],f.displayPosition[1],f.zValue],_=[];return _[0]=Ja(Ja({worldPosition:y,displayPosition:m,compositeID:f.compositeID},f.prop.get("representationId")),{},{ray:d}),_}return[]}},{key:"pick",value:function(r,a,i,s){var o=this,c=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(this.selector.setArea(r,a,i,s),this.previousSelectedData=null,this.selector.captureBuffers()){if(this.selections=this.selector.generateSelection(r,a,i,s)||[],c){var u=[Array.from(this.openglRenderWindow.displayToWorld(r,a,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(i,a,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(i,s,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(r,s,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(r,a,1,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(i,a,1,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(i,s,1,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(r,s,1,this.renderer))],l=[];return this.selections.forEach(function(h){var p=h.getProperties().prop,d=p==null?void 0:p.get("representationId").representationId;d&&l.push(d)}),{frustrum:u,representationIds:l}}var f=[Array.from(this.openglRenderWindow.displayToWorld(Math.round((r+i)/2),Math.round((a+s)/2),0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(Math.round((r+i)/2),Math.round((a+s)/2),1,this.renderer))];return this.selections.map(function(h){var p=h.getProperties(),d=p.prop,y=p.compositeID,m=p.displayPosition;return d!=null&&Ja(Ja({worldPosition:Array.from(o.openglRenderWindow.displayToWorld(m[0],m[1],m[2],o.renderer)),displayPosition:m,compositeID:y},d.get("representationId")),{},{ray:f})}).filter(Boolean)}return[]}}]),n}();Bi.defaultProps={style:{width:"100%",height:"100%"},background:[.2,.3,.4],cameraPosition:[0,0,1],cameraViewUp:[0,1,0],cameraFocalPoint:[0,0,0],autoResetCamera:!0,cameraParallelProjection:!1,triggerRender:0,triggerResetCamera:0,interactorSettings:[{button:1,action:"Rotate"},{button:2,action:"Pan"},{button:3,action:"Zoom",scrollEnabled:!0},{button:1,action:"Pan",alt:!0},{button:1,action:"Zoom",control:!0},{button:1,action:"Select",shift:!0},{button:1,action:"Roll",alt:!0,shift:!0}],interactive:!0,pickingModes:[],showCubeAxes:!1,pointerSize:0,showOrientationAxes:!1},Bi.propTypes={id:ee.string,style:ee.object,className:ee.string,background:ee.array,interactorSettings:ee.array,interactive:ee.bool,cameraPosition:ee.array,cameraFocalPoint:ee.array,cameraViewUp:ee.array,cameraParallelProjection:ee.bool,autoResetCamera:ee.bool,triggerRender:ee.number,triggerResetCamera:ee.number,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node]),pickingModes:ee.arrayOf(ee.oneOf(["click","hover","select","mouseDown","mouseUp"])),onClick:ee.func,clickInfo:ee.object,onMouseDown:ee.func,mouseDownInfo:ee.object,onMouseUp:ee.func,mouseUpInfo:ee.object,onHover:ee.func,hoverInfo:ee.object,onSelect:ee.func,selectInfo:ee.object,pointerSize:ee.number,showCubeAxes:ee.bool,cubeAxesStyle:ee.object,showOrientationAxes:ee.bool};var PO={int32:Int32Array,int16:Int16Array,int8:Int8Array,uint32:Uint32Array,uint16:Uint16Array,uint8:Uint8Array,float32:Float32Array,float64:Float64Array};function la(t,e){if(!t)return null;if(Array.isArray(t))return e.from(t);if(t.dtype){var n=t.bvals,r=t.dtype,a=Ws.toArrayBuffer(n);return new PO[r](a)}return t}function bg(t,e){return!(!t||t.length!==2||!e||e.length!==2)&&t[0]===e[0]&&t[1]===e[1]}function Eh(t,e){for(var n in t)if(!(n in e)||t[n]!==e[n])return!1;return!0}function jO(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Dh(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zr(t,e){return Or(t)===Or(e)&&(Dh(t)&&Dh(e)?jO(t,e):Or(t)==="object"&&t&&e?Eh(t,e)&&Eh(e,t):t===e)}var zO={RGB:0,HSV:1,LAB:2,DIVERGING:3},IO={LINEAR:0,LOG10:1},Ac={ColorSpace:zO,Scale:IO};function Oh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function WO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var vr=Ac.ColorSpace,Eg=Ac.Scale,Lo=As.ScalarMappingTarget,HO=I.vtkDebugMacro,Fr=I.vtkErrorMacro,$O=I.vtkWarningMacro;function Nh(t,e){var n=t[0],r=t[1],a=t[2],i=Math.sqrt(n*n+r*r+a*a),s=i>.001?Math.acos(n/i):0,o=s>.001?Math.atan2(a,r):0;e[0]=i,e[1]=s,e[2]=o}function KO(t,e){var n=t[0],r=t[1],a=t[2];e[0]=n*Math.cos(r),e[1]=n*Math.sin(r)*Math.cos(a),e[2]=n*Math.sin(r)*Math.sin(a)}function kh(t,e){if(t[0]>=e-.1)return t[2];var n=t[1]*Math.sqrt(e*e-t[0]*t[0])/(t[0]*Math.sin(t[1]));return t[2]>-.3*Math.PI?t[2]+n:t[2]-n}function XO(t,e){var n=t-e;for(n<0&&(n=-n);n>=2*Math.PI;)n-=2*Math.PI;return n>Math.PI&&(n=2*Math.PI-n),n}function Mh(t,e,n,r){var a=[],i=[];va(e,a),va(n,i);var s=[],o=[];Nh(a,s),Nh(i,o);var c=t;if(s[1]>.05&&o[1]>.05&&XO(s[2],o[2])>.33*Math.PI){var u=Math.max(s[0],o[0]);u=Math.max(88,u),t<.5?(o[0]=u,o[1]=0,o[2]=0,c*=2):(s[0]=u,s[1]=0,s[2]=0,c=2*c-1)}s[1]<.05&&o[1]>.05?s[2]=kh(o,s[0]):o[1]<.05&&s[1]>.05&&(o[2]=kh(s,o[0]));var l=[];l[0]=(1-c)*s[0]+c*o[0],l[1]=(1-c)*s[1]+c*o[1],l[2]=(1-c)*s[2]+c*o[2];var f=[];KO(l,f),iu(f,r)}function qO(t,e){e.classHierarchy.push("vtkColorTransferFunction"),t.getSize=function(){return e.nodes.length},t.addRGBPoint=function(n,r,a,i){return t.addRGBPointLong(n,r,a,i,.5,0)},t.addRGBPointLong=function(n,r,a,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(s<0||s>1)return Fr("Midpoint outside range [0.0, 1.0]"),-1;if(o<0||o>1)return Fr("Sharpness outside range [0.0, 1.0]"),-1;e.allowDuplicateScalars||t.removePoint(n);var c={x:n,r,g:a,b:i,midpoint:s,sharpness:o};e.nodes.push(c),t.sortAndUpdateRange();for(var u=0;u<e.nodes.length&&e.nodes[u].x!==n;u++);return u<e.nodes.length?u:-1},t.addHSVPoint=function(n,r,a,i){return t.addHSVPointLong(n,r,a,i,.5,0)},t.addHSVPointLong=function(n,r,a,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,c=[],u=[r,a,i];return ua(u,c),t.addRGBPoint(n,c[0],c[1],c[2],s,o)},t.setNodes=function(n){if(e.nodes!==n){var r=JSON.stringify(e.nodes);e.nodes=n;var a=JSON.stringify(e.nodes);if(t.sortAndUpdateRange()||r!==a)return t.modified(),!0}return!1},t.sortAndUpdateRange=function(){var n=JSON.stringify(e.nodes);e.nodes.sort(function(i,s){return i.x-s.x});var r=JSON.stringify(e.nodes),a=t.updateRange();return!a&&n!==r?(t.modified(),!0):a},t.updateRange=function(){var n=[2];n[0]=e.mappingRange[0],n[1]=e.mappingRange[1];var r=e.nodes.length;return r?(e.mappingRange[0]=e.nodes[0].x,e.mappingRange[1]=e.nodes[r-1].x):(e.mappingRange[0]=0,e.mappingRange[1]=0),n[0]===e.mappingRange[0]&&n[1]===e.mappingRange[1]?!1:(t.modified(),!0)},t.removePoint=function(n){for(var r=0;r<e.nodes.length&&e.nodes[r].x!==n;r++);var a=r;if(r>=e.nodes.length)return-1;var i=!1;return e.nodes.splice(r,1),(r===0||r===e.nodes.length)&&(i=t.updateRange()),i||t.modified(),a},t.movePoint=function(n,r){if(n!==r){t.removePoint(r);for(var a=0;a<e.nodes.length;a++)if(e.nodes[a].x===n){e.nodes[a].x=r,t.sortAndUpdateRange();break}}},t.removeAllPoints=function(){e.nodes=[],t.sortAndUpdateRange()},t.addRGBSegment=function(n,r,a,i,s,o,c,u){t.sortAndUpdateRange();for(var l=0;l<e.nodes.length;)e.nodes[l].x>=n&&e.nodes[l].x<=s?e.nodes.splice(l,1):l++;t.addRGBPointLong(n,r,a,i,.5,0),t.addRGBPointLong(s,o,c,u,.5,0),t.modified()},t.addHSVSegment=function(n,r,a,i,s,o,c,u){var l=[r,a,i],f=[o,c,u],h=[],p=[];ua(l,h),ua(f,p),t.addRGBSegment(n,h[0],h[1],h[2],s,p[0],p[1],p[2])},t.mapValue=function(n){var r=[];return t.getColor(n,r),[Math.floor(255*r[0]+.5),Math.floor(255*r[1]+.5),Math.floor(255*r[2]+.5),255]},t.getColor=function(n,r){if(e.indexedLookup){var a=t.getSize(),i=t.getAnnotatedValueIndexInternal(n);if(i<0||a===0)t.getNanColor(r);else{var s=[];t.getNodeValue(i%a,s),r[0]=s.r,r[1]=s.g,r[2]=s.b}return}t.getTable(n,n,1,r)},t.getRedValue=function(n){var r=[];return t.getColor(n,r),r[0]},t.getGreenValue=function(n){var r=[];return t.getColor(n,r),r[1]},t.getBlueValue=function(n){var r=[];return t.getColor(n,r),r[2]},t.getTable=function(n,r,a,i){if(es(n)||es(r)){for(var s=0;s<a;s++)i[s*3+0]=e.nanColor[0],i[s*3+1]=e.nanColor[1],i[s*3+2]=e.nanColor[2];return}var o=0,c=e.nodes.length,u=0,l=0,f=0;c!==0&&(u=e.nodes[c-1].r,l=e.nodes[c-1].g,f=e.nodes[c-1].b);var h=0,p=0,d=0,y=[0,0,0],m=[0,0,0],_=0,v=0,g=[],x=e.scale===Eg.LOG10;x&&(x=e.mappingRange[0]>0);var w=0,C=0,S=0;x&&(w=Math.log10(n),C=Math.log10(r));for(var T=0;T<a;T++){var b=3*T;if(a>1?x?(S=w+T/(a-1)*(C-w),h=Math.pow(10,S)):h=n+T/(a-1)*(r-n):x?(S=.5*(w+C),h=Math.pow(10,S)):h=.5*(n+r),e.discretize){var O=e.mappingRange;if(h>=O[0]&&h<=O[1]){var D=e.numberOfValues,N=O[1]-O[0];if(D<=1)h=O[0]+N/2;else{var R=(h-O[0])/N,E=au(D*R);h=O[0]+E/(D-1)*N}}}for(;o<c&&h>e.nodes[o].x;)o++,o<c&&(p=e.nodes[o-1].x,d=e.nodes[o].x,x&&(p=Math.log10(p),d=Math.log10(d)),y[0]=e.nodes[o-1].r,m[0]=e.nodes[o].r,y[1]=e.nodes[o-1].g,m[1]=e.nodes[o].g,y[2]=e.nodes[o-1].b,m[2]=e.nodes[o].b,_=e.nodes[o-1].midpoint,v=e.nodes[o-1].sharpness,_<1e-5&&(_=1e-5),_>.99999&&(_=.99999));if(h>e.mappingRange[1])i[b]=0,i[b+1]=0,i[b+2]=0,e.clamping&&(t.getUseAboveRangeColor()?(i[b]=e.aboveRangeColor[0],i[b+1]=e.aboveRangeColor[1],i[b+2]=e.aboveRangeColor[2]):(i[b]=u,i[b+1]=l,i[b+2]=f));else if(h<e.mappingRange[0]||B5(h)&&h<0)i[b]=0,i[b+1]=0,i[b+2]=0,e.clamping&&(t.getUseBelowRangeColor()?(i[b]=e.belowRangeColor[0],i[b+1]=e.belowRangeColor[1],i[b+2]=e.belowRangeColor[2]):c>0&&(i[b]=e.nodes[0].r,i[b+1]=e.nodes[0].g,i[b+2]=e.nodes[0].b));else if(o===0&&(Math.abs(h-n)<1e-6||e.discretize))c>0?(i[b]=e.nodes[0].r,i[b+1]=e.nodes[0].g,i[b+2]=e.nodes[0].b):(i[b]=0,i[b+1]=0,i[b+2]=0);else{var A=0;if(x?A=(S-p)/(d-p):A=(h-p)/(d-p),A<_?A=.5*A/_:A=.5+.5*(A-_)/(1-_),v>.99)if(A<.5){i[b]=y[0],i[b+1]=y[1],i[b+2]=y[2];continue}else{i[b]=m[0],i[b+1]=m[1],i[b+2]=m[2];continue}if(v<.01){if(e.colorSpace===vr.RGB)i[b]=(1-A)*y[0]+A*m[0],i[b+1]=(1-A)*y[1]+A*m[1],i[b+2]=(1-A)*y[2]+A*m[2];else if(e.colorSpace===vr.HSV){var W=[],z=[];no(y,W),no(m,z),e.hSVWrap&&(W[0]-z[0]>.5||z[0]-W[0]>.5)&&(W[0]>z[0]?W[0]-=1:z[0]-=1);var F=[];F[0]=(1-A)*W[0]+A*z[0],F[0]<0&&(F[0]+=1),F[1]=(1-A)*W[1]+A*z[1],F[2]=(1-A)*W[2]+A*z[2],ua(F,g),i[b]=g[0],i[b+1]=g[1],i[b+2]=g[2]}else if(e.colorSpace===vr.LAB){var L=[],G=[];va(y,L),va(m,G);var H=[];H[0]=(1-A)*L[0]+A*G[0],H[1]=(1-A)*L[1]+A*G[1],H[2]=(1-A)*L[2]+A*G[2],iu(H,g),i[b]=g[0],i[b+1]=g[1],i[b+2]=g[2]}else e.colorSpace===vr.DIVERGING?(Mh(A,y,m,g),i[b]=g[0],i[b+1]=g[1],i[b+2]=g[2]):Fr("ColorSpace set to invalid value.",e.colorSpace);continue}A<.5?A=.5*Math.pow(A*2,1+10*v):A>.5&&(A=1-.5*Math.pow((1-A)*2,1+10*v));var $=A*A,J=$*A,Q=2*J-3*$+1,q=-2*J+3*$,ne=J-2*$+A,te=J-$,oe=void 0,re=void 0;if(e.colorSpace===vr.RGB)for(var B=0;B<3;B++)oe=m[B]-y[B],re=(1-v)*oe,i[b+B]=Q*y[B]+q*m[B]+ne*re+te*re;else if(e.colorSpace===vr.HSV){var k=[],j=[];no(y,k),no(m,j),e.hSVWrap&&(k[0]-j[0]>.5||j[0]-k[0]>.5)&&(k[0]>j[0]?k[0]-=1:j[0]-=1);for(var V=[],M=0;M<3;M++)oe=j[M]-k[M],re=(1-v)*oe,V[M]=Q*k[M]+q*j[M]+ne*re+te*re,M===0&&V[M]<0&&(V[M]+=1);ua(V,g),i[b]=g[0],i[b+1]=g[1],i[b+2]=g[2]}else if(e.colorSpace===vr.LAB){var P=[],U=[];va(y,P),va(m,U);for(var K=[],X=0;X<3;X++)oe=U[X]-P[X],re=(1-v)*oe,K[X]=Q*P[X]+q*U[X]+ne*re+te*re;iu(K,g),i[b]=g[0],i[b+1]=g[1],i[b+2]=g[2]}else e.colorSpace===vr.DIVERGING?(Mh(A,y,m,g),i[b]=g[0],i[b+1]=g[1],i[b+2]=g[2]):Fr("ColorSpace set to invalid value.");for(var Z=0;Z<3;Z++)i[b+Z]=i[b+Z]<0?0:i[b+Z],i[b+Z]=i[b+Z]>1?1:i[b+Z]}}},t.getUint8Table=function(n,r,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t.getMTime()<=e.buildTime&&e.tableSize===a&&e.tableWithAlpha!==i)return e.table;if(e.nodes.length===0)return Fr("Attempting to lookup a value with no points in the function"),e.table;var s=i?4:3;(e.tableSize!==a||e.tableWithAlpha!==i)&&(e.table=new Uint8Array(a*s),e.tableSize=a,e.tableWithAlpha=i);var o=[];t.getTable(n,r,a,o);for(var c=0;c<a;c++)e.table[c*s+0]=Math.floor(o[c*3+0]*255+.5),e.table[c*s+1]=Math.floor(o[c*3+1]*255+.5),e.table[c*s+2]=Math.floor(o[c*3+2]*255+.5),i&&(e.table[c*s+3]=255);return e.buildTime.modified(),e.table},t.buildFunctionFromTable=function(n,r,a,i){var s=0;t.removeAllPoints(),a>1&&(s=(r-n)/(a-1));for(var o=0;o<a;o++){var c={x:n+s*o,r:i[o*3],g:i[o*3+1],b:i[o*3+2],sharpness:0,midpoint:.5};e.nodes.push(c)}t.sortAndUpdateRange()},t.getNodeValue=function(n,r){return n<0||n>=e.nodes.length?(Fr("Index out of range!"),-1):(r[0]=e.nodes[n].x,r[1]=e.nodes[n].r,r[2]=e.nodes[n].g,r[3]=e.nodes[n].b,r[4]=e.nodes[n].midpoint,r[5]=e.nodes[n].sharpness,1)},t.setNodeValue=function(n,r){if(n<0||n>=e.nodes.length)return Fr("Index out of range!"),-1;var a=e.nodes[n].x;return e.nodes[n].x=r[0],e.nodes[n].r=r[1],e.nodes[n].g=r[2],e.nodes[n].b=r[3],e.nodes[n].midpoint=r[4],e.nodes[n].sharpness=r[5],a!==r[0]?t.sortAndUpdateRange():t.modified(),1},t.getNumberOfAvailableColors=function(){return e.indexedLookup&&t.getSize()?t.getSize():e.tableSize?e.tableSize:16777216},t.getIndexedColor=function(n,r){var a=t.getSize();if(a>0&&n>=0){var i=[];t.getNodeValue(n%a,i);for(var s=0;s<3;++s)r[s]=i[s+1];r[3]=1;return}t.getNanColor(r),r[3]=1},t.fillFromDataPointer=function(n,r){if(!(n<=0||!r)){t.removeAllPoints();for(var a=0;a<n;a++)t.addRGBPoint(r[a*4],r[a*4+1],r[a*4+2],r[a*4+3])}},t.setMappingRange=function(n,r){var a=[n,r],i=t.getRange();if(!(i[1]===a[1]&&i[0]===a[0])){if(a[1]===a[0]){Fr("attempt to set zero width color range");return}for(var s=(a[1]-a[0])/(i[1]-i[0]),o=a[0]-i[0]*s,c=0;c<e.nodes.length;++c)e.nodes[c].x=e.nodes[c].x*s+o;e.mappingRange[0]=a[0],e.mappingRange[1]=a[1],t.modified()}},t.adjustRange=function(n){var r=t.getRange(),a=[];r[0]<n[0]?(t.getColor(n[0],a),t.addRGBPoint(n[0],a[0],a[1],a[2])):(t.getColor(r[0],a),t.addRGBPoint(n[0],a[0],a[1],a[2])),r[1]>n[1]?(t.getColor(n[1],a),t.addRGBPoint(n[1],a[0],a[1],a[2])):(t.getColor(r[1],a),t.addRGBPoint(n[1],a[0],a[1],a[2])),t.sortAndUpdateRange();for(var i=0;i<e.nodes.length;)e.nodes[i].x>=n[0]&&e.nodes[i].x<=n[1]?e.nodes.splice(i,1):++i;return 1},t.estimateMinNumberOfSamples=function(n,r){var a=t.findMinimumXDistance();return Math.ceil((r-n)/a)},t.findMinimumXDistance=function(){if(e.nodes.length<2)return-1;for(var n=Number.MAX_VALUE,r=0;r<e.nodes.length-1;r++){var a=e.nodes[r+1].x-e.nodes[r].x;a<n&&(n=a)}return n},t.mapScalarsThroughTable=function(n,r,a,i){if(t.getSize()===0){HO("Transfer Function Has No Points!");return}e.indexedLookup?t.mapDataIndexed(n,r,a,i):t.mapData(n,r,a,i)},t.mapData=function(n,r,a,i){if(t.getSize()===0){$O("Transfer Function Has No Points!");return}var s=Math.floor(t.getAlpha()*255+.5),o=n.getNumberOfTuples(),c=n.getNumberOfComponents(),u=r.getData(),l=n.getData(),f=[];if(a===Lo.RGBA)for(var h=0;h<o;h++){var p=l[h*c+i];t.getColor(p,f),u[h*4]=Math.floor(f[0]*255+.5),u[h*4+1]=Math.floor(f[1]*255+.5),u[h*4+2]=Math.floor(f[2]*255+.5),u[h*4+3]=s}if(a===Lo.RGB)for(var d=0;d<o;d++){var y=l[d*c+i];t.getColor(y,f),u[d*3]=Math.floor(f[0]*255+.5),u[d*3+1]=Math.floor(f[1]*255+.5),u[d*3+2]=Math.floor(f[2]*255+.5)}if(a===Lo.LUMINANCE)for(var m=0;m<o;m++){var _=l[m*c+i];t.getColor(_,f),u[m]=Math.floor(f[0]*76.5+f[1]*150.45+f[2]*28.05+.5)}if(a===Lo.LUMINANCE_ALPHA)for(var v=0;v<o;v++){var g=l[v*c+i];t.getColor(g,f),u[v*2]=Math.floor(f[0]*76.5+f[1]*150.45+f[2]*28.05+.5),u[v*2+1]=s}},t.applyColorMap=function(n){if(n.ColorSpace&&(e.colorSpace=vr[n.ColorSpace.toUpperCase()],e.colorSpace===void 0&&(Fr("ColorSpace ".concat(n.ColorSpace," not supported, using RGB instead")),e.colorSpace=vr.RGB)),n.NanColor)for(e.nanColor=[].concat(n.NanColor);e.nanColor.length<4;)e.nanColor.push(1);if(n.RGBPoints){var r=n.RGBPoints.length;e.nodes=[];for(var a=.5,i=0,s=0;s<r;s+=4)e.nodes.push({x:n.RGBPoints[s],r:n.RGBPoints[s+1],g:n.RGBPoints[s+2],b:n.RGBPoints[s+3],midpoint:a,sharpness:i})}t.sortAndUpdateRange()}}var YO={clamping:!0,colorSpace:vr.RGB,hSVWrap:!0,scale:Eg.LINEAR,nanColor:null,belowRangeColor:null,aboveRangeColor:null,useAboveRangeColor:!1,useBelowRangeColor:!1,allowDuplicateScalars:!1,table:null,tableSize:0,buildTime:null,nodes:null,discretize:!1,numberOfValues:256};function Dg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,YO,n),As.extend(t,e,n),e.table=[],e.nodes=[],e.nanColor=[.5,0,0,1],e.belowRangeColor=[0,0,0,1],e.aboveRangeColor=[1,1,1,1],e.buildTime={},I.obj(e.buildTime),I.get(t,e,["buildTime","mappingRange"]),I.setGet(t,e,["useAboveRangeColor","useBelowRangeColor","colorSpace","discretize","numberOfValues"]),I.setArray(t,e,["nanColor","belowRangeColor","aboveRangeColor"],4),I.getArray(t,e,["nanColor","belowRangeColor","aboveRangeColor"]),qO(t,e)}var ZO=I.newInstance(Dg,"vtkColorTransferFunction"),ja=WO({newInstance:ZO,extend:Dg},Ac),Fo=I.vtkErrorMacro;function JO(t,e){e.classHierarchy.push("vtkPiecewiseFunction"),t.getSize=function(){return e.nodes.length},t.getType=function(){var n,r=0,a=0;e.nodes.length>0&&(r=e.nodes[0].y);for(var i=1;i<e.nodes.length;i++){if(n=e.nodes[i].y,n!==r)if(n>r)switch(a){case 0:case 1:a=1;break;case 2:default:a=3;break}else switch(a){case 0:case 2:a=2;break;case 1:default:a=3;break}if(r=n,a===3)break}switch(a){case 0:return"Constant";case 1:return"NonDecreasing";case 2:return"NonIncreasing";case 3:default:return"Varied"}},t.getDataPointer=function(){var n=e.nodes.length;if(e.function=null,n>0){e.function=[];for(var r=0;r<n;r++)e.function[2*r]=e.nodes[r].x,e.function[2*r+1]=e.nodes[r].y}return e.function},t.getFirstNonZeroValue=function(){if(e.nodes.length===0)return 0;for(var n=1,r=0,a=0;a<e.nodes.length;a++)if(e.nodes[a].y!==0){n=0;break}return n?r=Number.MAX_VALUE:a>0?r=e.nodes[a-1].x:e.clamping?r=-Number.MAX_VALUE:r=e.nodes[0].x,r},t.getNodeValue=function(n,r){var a=e.nodes.length;return n<0||n>=a?(Fo("Index out of range!"),-1):(r[0]=e.nodes[n].x,r[1]=e.nodes[n].y,r[2]=e.nodes[n].midpoint,r[3]=e.nodes[n].sharpness,1)},t.setNodeValue=function(n,r){var a=e.nodes.length;if(n<0||n>=a)return Fo("Index out of range!"),-1;var i=e.nodes[n].x;return e.nodes[n].x=r[0],e.nodes[n].y=r[1],e.nodes[n].midpoint=r[2],e.nodes[n].sharpness=r[3],i!==r[0]?t.sortAndUpdateRange():t.modified(),1},t.addPoint=function(n,r){return t.addPointLong(n,r,.5,0)},t.addPointLong=function(n,r,a,i){if(a<0||a>1)return Fo("Midpoint outside range [0.0, 1.0]"),-1;if(i<0||i>1)return Fo("Sharpness outside range [0.0, 1.0]"),-1;e.allowDuplicateScalars||t.removePoint(n);var s={x:n,y:r,midpoint:a,sharpness:i};e.nodes.push(s),t.sortAndUpdateRange();var o;for(o=0;o<e.nodes.length&&e.nodes[o].x!==n;o++);return o<e.nodes.length?o:-1},t.setNodes=function(n){e.nodes!==n&&(e.nodes=n,t.sortAndUpdateRange())},t.sortAndUpdateRange=function(){e.nodes.sort(function(r,a){return r.x-a.x});var n=t.updateRange();n||t.modified()},t.updateRange=function(){var n=e.range.slice(),r=e.nodes.length;return r?(e.range[0]=e.nodes[0].x,e.range[1]=e.nodes[r-1].x):(e.range[0]=0,e.range[1]=0),n[0]===e.range[0]&&n[1]===e.range[1]?!1:(t.modified(),!0)},t.removePoint=function(n){var r;for(r=0;r<e.nodes.length&&e.nodes[r].x!==n;r++);if(r>=e.nodes.length)return-1;var a=r,i=!1;return e.nodes.splice(r,1),(r===0||r===e.nodes.length)&&(i=t.updateRange()),i||t.modified(),a},t.removeAllPoints=function(){e.nodes=[],t.sortAndUpdateRange()},t.addSegment=function(n,r,a,i){t.sortAndUpdateRange();for(var s=0;s<e.nodes.length;)e.nodes[s].x>=n&&e.nodes[s].x<=a?e.nodes.splice(s,1):s++;t.addPoint(n,r,.5,0),t.addPoint(a,i,.5,0)},t.getValue=function(n){var r=[];return t.getTable(n,n,1,r),r[0]},t.adjustRange=function(n){if(n.length<2)return 0;var r=t.getRange();r[0]<n[0]?t.addPoint(n[0],t.getValue(n[0])):t.addPoint(n[0],t.getValue(r[0])),r[1]>n[1]?t.addPoint(n[1],t.getValue(n[1])):t.addPoint(n[1],t.getValue(r[1])),t.sortAndUpdateRange();for(var a=0;a<e.nodes.length;)e.nodes[a].x>=n[0]&&e.nodes[a].x<=n[1]?e.nodes.splice(a,1):++a;return t.sortAndUpdateRange(),1},t.estimateMinNumberOfSamples=function(n,r){var a=t.findMinimumXDistance();return Math.ceil((r-n)/a)},t.findMinimumXDistance=function(){var n=e.nodes.length;if(n<2)return-1;for(var r=e.nodes[1].x-e.nodes[0].x,a=0;a<n-1;a++){var i=e.nodes[a+1].x-e.nodes[a].x;i<r&&(r=i)}return r},t.getTable=function(n,r,a,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o,c=0,u=e.nodes.length,l=0;u!==0&&(l=e.nodes[u-1].y);var f=0,h=0,p=0,d=0,y=0,m=0,_=0;for(o=0;o<a;o++){var v=s*o;for(a>1?f=n+o/(a-1)*(r-n):f=.5*(n+r);c<u&&f>e.nodes[c].x;)c++,c<u&&(h=e.nodes[c-1].x,p=e.nodes[c].x,d=e.nodes[c-1].y,y=e.nodes[c].y,m=e.nodes[c-1].midpoint,_=e.nodes[c-1].sharpness,m<1e-5&&(m=1e-5),m>.99999&&(m=.99999));if(c>=u)i[v]=e.clamping?l:0;else if(c===0)i[v]=e.clamping?e.nodes[0].y:0;else{var g=(f-h)/(p-h);if(g<m?g=.5*g/m:g=.5+.5*(g-m)/(1-m),_>.99)if(g<.5){i[v]=d;continue}else{i[v]=y;continue}if(_<.01){i[v]=(1-g)*d+g*y;continue}g<.5?g=.5*Math.pow(g*2,1+10*_):g>.5&&(g=1-.5*Math.pow((1-g)*2,1+10*_));var x=g*g,w=x*g,C=2*w-3*x+1,S=-2*w+3*x,T=w-2*x+g,b=w-x,O=y-d,D=(1-_)*O;i[v]=C*d+S*y+T*D+b*D;var N=d<y?d:y,R=d>y?d:y;i[v]=i[v]<N?N:i[v],i[v]=i[v]>R?R:i[v]}}}}var QO={range:[0,0],clamping:!0,allowDuplicateScalars:!1};function Og(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,QO,n),I.obj(t,e),e.nodes=[],I.setGet(t,e,["allowDuplicateScalars","clamping"]),I.setArray(t,e,["range"],2),I.getArray(t,e,["range"]),JO(t,e)}var eN=I.newInstance(Og,"vtkPiecewiseFunction"),gs={newInstance:eN,extend:Og};function Rh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var si=ac.InterpolationType,rN=ac.OpacityMode,z0=I.vtkErrorMacro,qo=4;function nN(t,e){e.classHierarchy.push("vtkVolumeProperty"),t.getMTime=function(){for(var a=e.mtime,i,s=0;s<qo;s++)e.componentData[s].colorChannels===1?e.componentData[s].grayTransferFunction&&(i=e.componentData[s].grayTransferFunction.getMTime(),a=a>i?a:i):e.componentData[s].colorChannels===3&&e.componentData[s].rGBTransferFunction&&(i=e.componentData[s].rGBTransferFunction.getMTime(),a=a>i?a:i),e.componentData[s].scalarOpacity&&(i=e.componentData[s].scalarOpacity.getMTime(),a=a>i?a:i),e.componentData[s].gradientOpacity&&(e.componentData[s].disableGradientOpacity||(i=e.componentData[s].gradientOpacity.getMTime(),a=a>i?a:i));return a},t.getColorChannels=function(a){return a<0||a>3?(z0("Bad index - must be between 0 and 3"),0):e.componentData[a].colorChannels},t.setGrayTransferFunction=function(a,i){var s=!1;return e.componentData[a].grayTransferFunction!==i&&(e.componentData[a].grayTransferFunction=i,s=!0),e.componentData[a].colorChannels!==1&&(e.componentData[a].colorChannels=1,s=!0),s&&t.modified(),s},t.getGrayTransferFunction=function(a){return e.componentData[a].grayTransferFunction===null&&(e.componentData[a].grayTransferFunction=gs.newInstance(),e.componentData[a].grayTransferFunction.addPoint(0,0),e.componentData[a].grayTransferFunction.addPoint(1024,1),e.componentData[a].colorChannels!==1&&(e.componentData[a].colorChannels=1),t.modified()),e.componentData[a].grayTransferFunction},t.setRGBTransferFunction=function(a,i){var s=!1;return e.componentData[a].rGBTransferFunction!==i&&(e.componentData[a].rGBTransferFunction=i,s=!0),e.componentData[a].colorChannels!==3&&(e.componentData[a].colorChannels=3,s=!0),s&&t.modified(),s},t.getRGBTransferFunction=function(a){return e.componentData[a].rGBTransferFunction===null&&(e.componentData[a].rGBTransferFunction=ja.newInstance(),e.componentData[a].rGBTransferFunction.addRGBPoint(0,0,0,0),e.componentData[a].rGBTransferFunction.addRGBPoint(1024,1,1,1),e.componentData[a].colorChannels!==3&&(e.componentData[a].colorChannels=3),t.modified()),e.componentData[a].rGBTransferFunction},t.setScalarOpacity=function(a,i){return e.componentData[a].scalarOpacity!==i?(e.componentData[a].scalarOpacity=i,t.modified(),!0):!1},t.getScalarOpacity=function(a){return e.componentData[a].scalarOpacity===null&&(e.componentData[a].scalarOpacity=gs.newInstance(),e.componentData[a].scalarOpacity.addPoint(0,1),e.componentData[a].scalarOpacity.addPoint(1024,1),t.modified()),e.componentData[a].scalarOpacity},t.setComponentWeight=function(a,i){if(a<0||a>=qo)return z0("Invalid index"),!1;var s=Math.min(1,Math.max(0,i));return e.componentData[a].componentWeight!==s?(e.componentData[a].componentWeight=s,t.modified(),!0):!1},t.getComponentWeight=function(a){return a<0||a>=qo?(z0("Invalid index"),0):e.componentData[a].componentWeight},t.setInterpolationTypeToNearest=function(){return t.setInterpolationType(si.NEAREST)},t.setInterpolationTypeToLinear=function(){return t.setInterpolationType(si.LINEAR)},t.setInterpolationTypeToFastLinear=function(){return t.setInterpolationType(si.FAST_LINEAR)},t.getInterpolationTypeAsString=function(){return I.enumToString(si,e.interpolationType)};var n=["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity","opacityMode"];n.forEach(function(a){var i=I.capitalize(a);t["set".concat(i)]=function(s,o){return e.componentData[s]["".concat(a)]!==o?(e.componentData[s]["".concat(a)]=o,t.modified(),!0):!1}});var r=["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity","opacityMode"];r.forEach(function(a){var i=I.capitalize(a);t["get".concat(i)]=function(s){return e.componentData[s]["".concat(a)]}})}var aN={independentComponents:!0,interpolationType:si.FAST_LINEAR,shade:0,ambient:.1,diffuse:.7,specular:.2,specularPower:10,useLabelOutline:!1,labelOutlineThickness:1};function Ng(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,aN,n),I.obj(t,e),!e.componentData){e.componentData=[];for(var r=0;r<qo;++r)e.componentData.push({colorChannels:1,grayTransferFunction:null,rGBTransferFunction:null,scalarOpacity:null,scalarOpacityUnitDistance:1,opacityMode:rN.FRACTIONAL,gradientOpacityMinimumValue:0,gradientOpacityMinimumOpacity:0,gradientOpacityMaximumValue:1,gradientOpacityMaximumOpacity:1,useGradientOpacity:!1,componentWeight:1})}I.setGet(t,e,["independentComponents","interpolationType","shade","ambient","diffuse","specular","specularPower","useLabelOutline","labelOutlineThickness"]),nN(t,e)}var iN=I.newInstance(Ng,"vtkVolumeProperty"),oN=tN({newInstance:iN,extend:Ng},ac),sN=I.vtkDebugMacro;function uN(t,e){e.classHierarchy.push("vtkVolume"),t.getVolumes=function(){return t},t.makeProperty=oN.newInstance,t.getProperty=function(){return e.property===null&&(e.property=t.makeProperty()),e.property},t.getBounds=function(){if(e.mapper===null)return e.bounds;var n=e.mapper.getBounds();if(!n||n.length!==6)return n;if(n[0]>n[1])return e.mapperBounds=n.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),n;var r=function(o){return o[0].map(function(c,u){return o.map(function(l){return l[u]})})};if(!e.mapperBounds||!r([n,e.mapperBounds]).reduce(function(s,o){return s&&o[0]===o[1]},!0)||t.getMTime()>e.boundsMTime.getMTime()){sN("Recomputing bounds..."),e.mapperBounds=n.map(function(s){return s});var a=[];Ke.getCorners(n,a),t.computeMatrix();var i=new Float64Array(16);Ze(i,e.matrix),a.forEach(function(s){return Te(s,s,i)}),e.bounds[0]=e.bounds[2]=e.bounds[4]=Number.MAX_VALUE,e.bounds[1]=e.bounds[3]=e.bounds[5]=-Number.MAX_VALUE,e.bounds=e.bounds.map(function(s,o){return o%2===0?a.reduce(function(c,u){return c>u[o/2]?u[o/2]:c},s):a.reduce(function(c,u){return c<u[(o-1)/2]?u[(o-1)/2]:c},s)}),e.boundsMTime.modified()}return e.bounds},t.getMTime=function(){var n=e.mtime;if(e.property!==null){var r=e.property.getMTime();n=r>n?r:n}return n},t.getRedrawMTime=function(){var n=e.mtime;if(e.mapper!==null){var r=e.mapper.getMTime();n=r>n?r:n,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),r=e.mapper.getInput().getMTime(),n=r>n?r:n)}return n}}var cN={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1]};function kg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,cN,n),dc.extend(t,e,n),e.boundsMTime={},I.obj(e.boundsMTime),I.set(t,e,["property"]),I.setGet(t,e,["mapper"]),I.getArray(t,e,["bounds"],6),uN(t,e)}var fN=I.newInstance(kg,"vtkVolume"),lN={newInstance:fN,extend:kg},bn=vp.BlendMode,ui=vp.FilterMode;function hN(t,e){e.classHierarchy.push("vtkVolumeMapper"),t.getBounds=function(){var n=t.getInputData();return n?(e.static||t.update(),e.bounds=n.getBounds()):e.bounds=Ta(),e.bounds},t.update=function(){t.getInputData()},t.setBlendModeToComposite=function(){t.setBlendMode(bn.COMPOSITE_BLEND)},t.setBlendModeToMaximumIntensity=function(){t.setBlendMode(bn.MAXIMUM_INTENSITY_BLEND)},t.setBlendModeToMinimumIntensity=function(){t.setBlendMode(bn.MINIMUM_INTENSITY_BLEND)},t.setBlendModeToAverageIntensity=function(){t.setBlendMode(bn.AVERAGE_INTENSITY_BLEND)},t.setBlendModeToAdditiveIntensity=function(){t.setBlendMode(bn.ADDITIVE_INTENSITY_BLEND)},t.getBlendModeAsString=function(){return I.enumToString(bn,e.blendMode)},t.setAverageIPScalarRange=function(n,r){console.warn("setAverageIPScalarRange is deprecated use setIpScalarRange"),t.setIpScalarRange(n,r)},t.getFilterModeAsString=function(){return I.enumToString(ui,e.filterMode)},t.setFilterModeToOff=function(){t.setFilterMode(ui.OFF)},t.setFilterModeToNormalized=function(){t.setFilterMode(ui.NORMALIZED)},t.setFilterModeToRaw=function(){t.setFilterMode(ui.RAW)}}var pN={bounds:[1,-1,1,-1,1,-1],sampleDistance:1,imageSampleDistance:1,maximumSamplesPerRay:1e3,autoAdjustSampleDistances:!0,blendMode:bn.COMPOSITE_BLEND,ipScalarRange:[-1e6,1e6],filterMode:ui.OFF,preferSizeOverAccuracy:!1,computeNormalFromOpacity:!1};function Mg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,pN,n),Ls.extend(t,e,n),I.setGet(t,e,["sampleDistance","imageSampleDistance","maximumSamplesPerRay","autoAdjustSampleDistances","blendMode","filterMode","preferSizeOverAccuracy","computeNormalFromOpacity"]),I.setGetArray(t,e,["ipScalarRange"],2),I.event(t,e,"lightingActivated"),hN(t,e)}var vN=I.newInstance(Mg,"vtkVolumeMapper"),dN={newInstance:vN,extend:Mg},gN=[{Name:"KAAMS",IndexedColors:[1,1,1,1,0,0,0,1,0,0,0,1,1,1,0,1,0,1,0,1,1,.63,.63,1,.67,.5,.33,1,.5,.75,.53,.35,.7,1,.75,.5],Annotations:[0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11]},{ColorSpace:"Diverging",Name:"Cool to Warm",NanColor:[1,1,0],RGBPoints:[0,.23137254902,.298039215686,.752941176471,.5,.865,.865,.865,1,.705882352941,.0156862745098,.149019607843]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Cool to Warm (Extended)",NanColor:[.25,0,0],RGBPoints:[0,0,0,.34902,.03125,.039216,.062745,.380392,.0625,.062745,.117647,.411765,.09375,.090196,.184314,.45098,.125,.12549,.262745,.501961,.15625,.160784,.337255,.541176,.1875,.2,.396078,.568627,.21875,.239216,.454902,.6,.25,.286275,.521569,.65098,.28125,.337255,.592157,.701961,.3125,.388235,.654902,.74902,.34375,.466667,.737255,.819608,.375,.572549,.819608,.878431,.40625,.654902,.866667,.909804,.4375,.752941,.917647,.941176,.46875,.823529,.956863,.968627,.5,.988235,.960784,.901961,.5,.941176,.984314,.988235,.52,.988235,.945098,.85098,.54,.980392,.898039,.784314,.5625,.968627,.835294,.698039,.59375,.94902,.733333,.588235,.625,.929412,.65098,.509804,.65625,.909804,.564706,.435294,.6875,.878431,.458824,.352941,.71875,.839216,.388235,.286275,.75,.760784,.294118,.211765,.78125,.701961,.211765,.168627,.8125,.65098,.156863,.129412,.84375,.6,.094118,.094118,.875,.54902,.066667,.098039,.90625,.501961,.05098,.12549,.9375,.45098,.054902,.172549,.96875,.4,.054902,.192157,1,.34902,.070588,.211765]},{ColorSpace:"Diverging",Name:"Warm to Cool",NanColor:[1,1,0],RGBPoints:[0,.705882352941,.0156862745098,.149019607843,.5,.865,.865,.865,1,.23137254902,.298039215686,.752941176471]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Warm to Cool (Extended)",NanColor:[.250004,0,0],RGBPoints:[0,.34902,0,.129412,.025,.4,.00392157,.101961,.05,.470588,.0156863,.0901961,.075,.54902,.027451,.0705882,.1,.619608,.0627451,.0431373,.125,.690196,.12549,.0627451,.15,.741176,.184314,.0745098,.175,.788235,.266667,.0941176,.2,.811765,.345098,.113725,.225,.831373,.411765,.133333,.25,.85098,.47451,.145098,.275,.870588,.54902,.156863,.3,.878431,.619608,.168627,.325,.890196,.658824,.196078,.35,.909804,.717647,.235294,.375,.929412,.776471,.278431,.395522,.94902,.823529,.321569,.418905,.968627,.87451,.407843,.444278,.980392,.917647,.509804,.470149,.988235,.956863,.643137,.483582,.992157,.964706,.713725,.499,.988235,.980392,.870588,.5,1,1,1,.501,.913725,.988235,.937255,.516418,.827451,.980392,.886275,.531343,.764706,.980392,.866667,.546766,.658824,.980392,.843137,.564179,.572549,.964706,.835294,.587562,.423529,.941176,.87451,.60597,.262745,.901961,.862745,.629851,.0705882,.854902,.870588,.651741,.0509804,.8,.85098,.681592,.0235294,.709804,.831373,.712935,.0313725,.615686,.811765,.75,.0313725,.537255,.788235,.775,.0392157,.466667,.768627,.8,.0509804,.396078,.741176,.825,.054902,.317647,.709804,.85,.054902,.243137,.678431,.875,.0431373,.164706,.639216,.9,.0313725,.0980392,.6,.925,.0392157,.0392157,.560784,.95,.105882,.0509804,.509804,.975,.113725,.0235294,.45098,1,.12549,0,.380392]},{ColorSpace:"RGB",Name:"Rainbow Desaturated",NanColor:[1,1,0],RGBPoints:[0,.278431372549,.278431372549,.858823529412,.143,0,0,.360784313725,.285,0,1,1,.429,0,.501960784314,0,.571,1,1,0,.714,1,.380392156863,0,.857,.419607843137,0,0,1,.878431372549,.301960784314,.301960784314]},{ColorSpace:"RGB",Name:"Cold and Hot",NanColor:[1,1,0],RGBPoints:[0,0,1,1,.45,0,0,1,.5,0,0,.501960784314,.55,1,0,0,1,1,1,0]},{ColorSpace:"RGB",Name:"Black-Body Radiation",NanColor:[0,.498039215686,1],RGBPoints:[0,0,0,0,.4,.901960784314,0,0,.8,.901960784314,.901960784314,0,1,1,1,1]},{ColorSpace:"RGB",Name:"X Ray",NanColor:[1,0,0],RGBPoints:[0,1,1,1,1,0,0,0]},{ColorSpace:"RGB",Name:"Grayscale",NanColor:[1,0,0],RGBPoints:[0,0,0,0,1,1,1,1]},{ColorSpace:"RGB",Name:"BkRd",NanColor:[0,1,1],RGBPoints:[0,0,0,0,1,1,0,0]},{ColorSpace:"RGB",Name:"BkGn",NanColor:[1,0,1],RGBPoints:[0,0,0,0,1,0,1,0]},{ColorSpace:"RGB",Name:"BkBu",NanColor:[1,1,0],RGBPoints:[0,0,0,0,1,0,0,1]},{ColorSpace:"RGB",Name:"BkMa",NanColor:[0,1,0],RGBPoints:[0,0,0,0,1,1,0,1]},{ColorSpace:"RGB",Name:"BkCy",NanColor:[0,1,1],RGBPoints:[0,0,0,0,1,0,1,1]},{ColorSpace:"RGB",Name:"Black, Blue and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,0,0,.501960784314,.666,0,.501960784314,1,1,1,1,1]},{ColorSpace:"RGB",Name:"Black, Orange and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,.501960784314,0,0,.666,1,.501960784314,0,1,1,1,1]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Linear YGB 1211g",NanColor:[.25,0,0],RGBPoints:[0,1,.988235,.968627,.02,1,.952941,.878431,.05,.968627,.905882,.776471,.1,.94902,.898039,.647059,.15,.901961,.878431,.556863,.2,.847059,.858824,.482353,.25,.690196,.819608,.435294,.3,.513725,.768627,.384314,.35,.337255,.721569,.337255,.4,.278431,.658824,.392157,.45,.231373,.639216,.435294,.5,.203922,.6,.486275,.55,.172549,.568627,.537255,.6,.141176,.517647,.54902,.65,.133333,.458824,.541176,.7,.12549,.396078,.529412,.75,.117647,.321569,.521569,.8,.121569,.258824,.509804,.85,.133333,.227451,.501961,.9,.145098,.192157,.490196,.95,.188235,.164706,.470588,1,.258824,.196078,.439216]},{ColorSpace:"CIELAB",Creator:"Francesca Samsel",Name:"Linear Green (Gr4L)",NanColor:[.25,0,0],RGBPoints:[0,.054902,.109804,.121569,.05,.07451,.172549,.180392,.1,.086275,.231373,.219608,.15,.094118,.278431,.25098,.2,.109804,.34902,.278431,.25,.113725,.4,.278431,.3,.117647,.45098,.270588,.35,.117647,.490196,.243137,.4,.113725,.521569,.203922,.45,.109804,.54902,.152941,.5,.082353,.588235,.082353,.55,.109804,.631373,.05098,.6,.211765,.678431,.082353,.65,.317647,.721569,.113725,.7,.431373,.760784,.160784,.75,.556863,.8,.239216,.8,.666667,.839216,.294118,.85,.784314,.878431,.396078,.9,.886275,.921569,.533333,.95,.960784,.94902,.670588,1,1,.984314,.901961]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Linear Blue (8_31f)",NanColor:[.25,0,0],RGBPoints:[0,.960784,1,.980392,.05,.815686,.960784,.913725,.1,.670588,.929412,.870588,.15,.556863,.901961,.843137,.2,.478431,.870588,.823529,.25,.439216,.831373,.803922,.3,.4,.8,.788235,.35,.376471,.768627,.768627,.4,.34902,.709804,.729412,.45,.32549,.654902,.690196,.5,.301961,.607843,.658824,.55,.247059,.545098,.619608,.6,.239216,.494118,.580392,.65,.227451,.439216,.541176,.7,.227451,.403922,.521569,.75,.231373,.368627,.501961,.8,.227451,.321569,.470588,.85,.219608,.282353,.439216,.9,.192157,.235294,.4,.95,.160784,.184314,.34902,1,.133333,.12549,.301961]},{ColorSpace:"HSV",Name:"Blue to Red Rainbow",NanColor:[.498039215686,.498039215686,.498039215686],RGBPoints:[0,0,0,1,1,1,0,0]},{ColorSpace:"HSV",Name:"Red to Blue Rainbow",NanColor:[.498039215686,.498039215686,.498039215686],RGBPoints:[0,1,0,0,1,0,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended White",NanColor:[1,1,0],RGBPoints:[0,1,1,1,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended Grey",NanColor:[1,1,0],RGBPoints:[0,.317647058824,.341176470588,.43137254902,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended Black",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Blue to Yellow",NanColor:[1,0,0],RGBPoints:[0,.0392156862745,.0392156862745,.949019607843,1,.949019607843,.949019607843,.0392156862745]},{ColorSpace:"HSV",Name:"blot",RGBPoints:[0,0,0,1,.166,0,0,1,.167,1,0,1,.332,1,0,1,.333,0,1,1,.5,0,1,1,.501,0,1,0,.666,0,1,0,.667,1,1,0,.832,1,1,0,.833,1,0,0,1,1,0,0]},{ColorSpace:"Lab",Name:"CIELab Blue to Red",NanColor:[1,1,0],RGBPoints:[0,0,.6,.749019607843,1,.76862745098,.466666666667,.341176470588]},{ColorSpace:"RGB",Name:"jet",RGBPoints:[-1,0,0,.5625,-.777778,0,0,1,-.269841,0,1,1,-.015873,.5,1,.5,.238095,1,1,0,.746032,1,0,0,1,.5,0,0]},{ColorSpace:"RGB",Name:"rainbow",RGBPoints:[-1,0,0,1,-.5,0,1,1,0,0,1,0,.5,1,1,0,1,1,0,0]},{ColorSpace:"Lab",Name:"erdc_rainbow_bright",RGBPoints:[-1,.32549,.14902,.960784,-.866221,.297047,.375586,.963836,-.732441,.180302,.536818,.964627,-.598662,.1302,.649207,.929647,-.464883,.0445143,.749654,.855998,-.331104,.0271325,.830713,.721527,-.197324,.259504,.866145,.543555,-.0635452,.428364,.890725,.329819,.0702341,.568503,.898508,.187623,.204013,.738259,.890317,.0825461,.337793,.84546,.86136,.0147555,.471572,.912191,.808018,0,.605351,.962848,.710445,0,.73913,.999469,.600258,.0176284,.87291,.994156,.445975,.193912,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"erdc_rainbow_dark",RGBPoints:[-1,0,0,.423499,-.866221,0,.119346,.529237,-.732441,0,.238691,.634976,-.598662,0,.346852,.68788,-.464883,0,.45022,.718141,-.331104,0,.553554,.664839,-.197324,0,.651082,.519303,-.0635452,.115841,.72479,.352857,.0702341,.326771,.781195,.140187,.204013,.522765,.798524,.0284624,.337793,.703162,.788685,.00885756,.471572,.845118,.751133,0,.605351,.955734,.690825,0,.73913,.995402,.567916,.0618524,.87291,.987712,.403398,.164851,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"nic_CubicL",RGBPoints:[-1,.479965,.0118108,.5307,-.87451,.522213,.0551282,.706919,-.74902,.50839,.237278,.867764,-.623529,.451617,.373834,.987255,-.498039,.39365,.497255,.97506,-.372549,.328631,.599639,.891843,-.247059,.250043,.690286,.778553,-.121569,.249656,.764905,.645857,.00392157,.297954,.821466,.50449,.129412,.337509,.872595,.358447,.254902,.430011,.913789,.297079,.380392,.587191,.931381,.333353,.505882,.727937,.93591,.353742,.631373,.826403,.921081,.365066,.756863,.893201,.846317,.372662,.882353,.965347,.73884,.378506,1,.983235,.597451,.366856]},{ColorSpace:"Lab",Name:"nic_CubicYF",RGBPoints:[-1,.5151,.0482,.6697,-.87451,.520711,.168955,.800574,-.74902,.493694,.278596,.911824,-.623529,.440026,.369475,.984978,-.498039,.398932,.457593,.987053,-.372549,.350651,.540644,.929608,-.247059,.298827,.615625,.857729,-.121569,.239928,.685061,.769531,.00392157,.228832,.739349,.673287,.129412,.263297,.78608,.569988,.254902,.298107,.828337,.460214,.380392,.33092,.864071,.352674,.505882,.38306,.898169,.287309,.631373,.49023,.917481,.307961,.756863,.62372,.926026,.332309,.882353,.717458,.92527,.342476,1,.8,.9255,.3529]},{ColorSpace:"Lab",Name:"gist_earth",RGBPoints:[-1,0,0,0,-.87451,.239216,.027451,.415686,-.74902,.0901961,.254902,.556863,-.623529,.0941176,.352941,.54902,-.498039,.105882,.435294,.533333,-.372549,.12549,.52549,.501961,-.247059,.156863,.596078,.443137,-.121569,.196078,.65098,.380392,.00392157,.282353,.717647,.301961,.129412,.466667,.772549,.27451,.254902,.678431,.784314,.309804,.380392,.901961,.756863,.376471,.505882,.992157,.705882,.521569,.631373,1,.721569,.701961,.756863,1,.784314,.784314,.882353,1,.866667,.866667,1,1,1,1]},{ColorSpace:"Lab",Name:"2hot",RGBPoints:[-1,.0416667,0,0,-.873016,.208333,0,0,-.746032,.375,0,0,-.619048,.541667,0,0,-.492063,.708333,0,0,-.365079,.854137,0,0,-.238095,.937488,.039062,0,-.111111,1,.208333,0,.015873,1,.375,0,.142857,1,.541667,0,.269841,1,.708333,0,.396825,1,.858805,.03125,.52381,1,.947392,.15625,.650794,1,1,.3125,.777778,1,1,.5625,.904762,1,1,.8125,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_red2yellow_BW",RGBPoints:[-1,754296e-12,0,109827e-10,-.87451,.18285,.0264094,0,-.74902,.3066,0,0,-.623529,.422841,0,0,-.498039,.522945,0,0,-.372549,.605721,0,0,-.247059,.672502,.14168,0,-.121569,.728167,.244025,0,.00392157,.781215,.333454,0,.129412,.825,.423586,0,.254902,.855893,.516793,0,.380392,.880491,.608846,0,.505882,.910305,.695505,0,.631373,.94109,.779067,.223528,.756863,.967873,.858572,.473521,.882353,.986815,.933211,.751583,1,1,1,.999997]},{ColorSpace:"Lab",Name:"erdc_marine2gold_BW",RGBPoints:[-1,111641e-12,0,162551e-11,-.87451,.0413146,.0619808,.209857,-.74902,.0185557,.101341,.350684,-.623529,.00486405,.149847,.461054,-.498039,.0836345,.210845,.517906,-.372549,.173222,.276134,.541793,-.247059,.259857,.343877,.535869,-.121569,.362299,.408124,.504293,.00392157,.468266,.468276,.468257,.129412,.582781,.527545,.374914,.254902,.691591,.585251,.274266,.380392,.784454,.645091,.247332,.505882,.862299,.710383,.27518,.631373,.920863,.782923,.351563,.756863,.955792,.859699,.533541,.882353,.976162,.93433,.780671,1,1,1,.999983]},{ColorSpace:"Lab",Name:"erdc_blue2gold_BW",RGBPoints:[-1,0,0,0,-.87451,.0742735,.0440331,.230013,-.74902,.125276,.0258685,.415826,-.623529,.143879,.0163031,.591346,-.498039,.212261,.0627855,.705239,-.372549,.306048,.141178,.763636,-.247059,.391537,.232286,.773263,-.121569,.461734,.336633,.708321,.00392157,.54209,.427581,.590007,.129412,.61704,.508623,.460978,.254902,.702703,.579586,.309117,.380392,.790336,.644811,.170397,.505882,.870173,.710733,.117134,.631373,.93656,.781991,.157144,.756863,.965672,.862068,.409836,.882353,.985751,.936296,.714162,1,1,1,.999999]},{ColorSpace:"Lab",Name:"erdc_sapphire2gold_BW",RGBPoints:[-1,.107704,.107708,.107694,-.87451,.1851,.112354,.308554,-.74902,.236782,.114233,.48788,-.623529,.28296,.126187,.639464,-.498039,.344787,.171643,.739713,-.372549,.413325,.242371,.76913,-.247059,.481863,.3131,.719841,-.121569,.550402,.383829,.612222,.00392157,.61894,.454558,.51126,.129412,.687478,.525287,.39993,.254902,.756017,.596016,.289923,.380392,.824555,.666745,.255498,.505882,.892979,.736822,.27696,.631373,.938851,.804966,.351734,.756863,.966491,.874853,.53572,.882353,.982105,.94153,.782579,1,1,1,.999986]},{ColorSpace:"Lab",Name:"erdc_red2purple_BW",RGBPoints:[-1,0,0,0,-.87451,.167793,.0166271,.0431278,-.74902,.262608,.0107595,.0791181,-.623529,.351902,.0101858,.100926,-.498039,.441257,.0160835,.131919,-.372549,.5221,.0555972,.195625,-.247059,.593852,.104294,.310234,-.121569,.654628,.158115,.448486,.00392157,.707443,.220914,.570253,.129412,.749504,.293268,.67897,.254902,.781587,.370517,.779269,.380392,.809951,.451099,.855831,.505882,.84424,.531462,.900451,.631373,.865174,.620901,.91606,.756863,.875041,.714054,.910284,.882353,.880764,.80554,.896276,1,.887572,.887591,.887556]},{ColorSpace:"Lab",Name:"erdc_purple2pink_BW",RGBPoints:[-1,0,0,0,-.87451,.117562,.0291202,.175876,-.74902,.178368,.0458476,.285454,-.623529,.237731,.0680173,.387717,-.498039,.300877,.0956291,.484802,-.372549,.370929,.136858,.554985,-.247059,.449033,.189273,.58863,-.121569,.529971,.245796,.598587,.00392157,.609914,.300643,.610244,.129412,.697079,.351286,.616371,.254902,.785858,.401991,.617376,.380392,.862517,.45745,.64463,.505882,.91359,.525462,.705336,.631373,.932583,.61064,.767412,.756863,.922478,.706966,.817522,.882353,.901302,.803071,.856311,1,.887571,.887591,.887549]},{ColorSpace:"Lab",Name:"erdc_pbj_lin",RGBPoints:[-1,0,0,0,-.87451,.091821,.0611476,.10617,-.74902,.160311,.0900022,.192713,-.623529,.22484,.12126,.272128,-.498039,.291263,.157469,.340828,-.372549,.360015,.200388,.388903,-.247059,.437497,.250058,.387201,-.121569,.512636,.304969,.355955,.00392157,.582603,.360874,.33488,.129412,.655126,.416374,.306351,.254902,.725889,.473329,.279051,.380392,.778125,.537928,.302697,.505882,.815894,.606931,.382431,.631373,.839159,.679308,.497608,.756863,.854748,.751666,.631792,.882353,.869483,.822508,.768592,1,.887572,.887589,.887565]},{ColorSpace:"Lab",Name:"erdc_blue2green_muted",RGBPoints:[-1,.107704,.107708,.107695,-.87451,.141522,.13066,.270741,-.74902,.180123,.146119,.42308,-.623529,.210161,.169674,.551795,-.498039,.239701,.212939,.634969,-.372549,.253916,.282947,.653641,-.247059,.242791,.366933,.608521,-.121569,.226302,.446776,.52693,.00392157,.236237,.514689,.458798,.129412,.274641,.577589,.376069,.254902,.349625,.633993,.288131,.380392,.4437,.683677,.260497,.505882,.536247,.731214,.285424,.631373,.628472,.777128,.349151,.756863,.718259,.819287,.496825,.882353,.804768,.856164,.703299,1,.887571,.887591,.887548]},{ColorSpace:"Lab",Name:"erdc_blue2green_BW",RGBPoints:[-1,363578e-12,0,529374e-11,-.87451,.0539915,.0577948,.212806,-.74902,.0620393,.0758942,.388959,-.623529,.0697499,.102032,.54177,-.498039,.113295,.156156,.64334,-.372549,.152047,.243196,.670283,-.247059,.158096,.344084,.622864,-.121569,.151142,.43922,.532767,.00392157,.17155,.521588,.457719,.129412,.225861,.599141,.363997,.254902,.32328,.67007,.259083,.380392,.442344,.733697,.223754,.505882,.558409,.794941,.257411,.631373,.673875,.854344,.340822,.756863,.787244,.909326,.524717,.882353,.896483,.958063,.775914,1,1,1,.999982]},{ColorSpace:"Lab",Name:"GREEN-WHITE_LINEAR",RGBPoints:[-1,0,0,0,-.87451,0,.062745,0,-.74902,0,.12549,0,-.623529,0,.188235,0,-.498039,0,.25098,0,-.372549,0,.313725,0,-.247059,0,.376471,0,-.121569,.094118,.439216,0,.00392157,.196078,.501961,0,.129412,.294118,.564706,0,.254902,.396078,.627451,0,.380392,.498039,.690196,0,.505882,.6,.752941,.145098,.631373,.701961,.815686,.364706,.756863,.8,.878431,.580392,.882353,.901961,.941176,.796078,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_green2yellow_BW",RGBPoints:[-1,0,0,0,-.87451,0,.105542,.0603919,-.74902,0,.159454,.104148,-.623529,0,.219502,.15542,-.498039,0,.282276,.203811,-.372549,0,.346331,.235652,-.247059,0,.411765,.235428,-.121569,0,.477177,.217977,.00392157,.0593644,.541635,.21361,.129412,.233081,.604722,.210591,.254902,.369803,.664942,.226536,.380392,.498446,.722367,.288237,.505882,.601929,.782244,.380815,.631373,.703207,.840497,.512134,.756863,.803186,.896433,.674462,.882353,.903834,.950266,.846715,1,1,1,.999981]},{ColorSpace:"Lab",Name:"blue2cyan",RGBPoints:[-1,0,0,0,-.87451,0,.152941,.364706,-.74902,0,.254902,.470588,-.623529,0,.34902,.572549,-.498039,0,.443137,.670588,-.372549,0,.537255,.772549,-.247059,0,.627451,.870588,-.121569,0,.717647,.964706,.00392157,.0784314,.772549,1,.129412,.207843,.858824,1,.254902,.32549,.941176,1,.380392,.45098,1,1,.505882,.560784,1,1,.631373,.662745,1,1,.756863,.760784,1,1,.882353,.870588,1,1,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_blue2cyan_BW",RGBPoints:[-1,405298e-12,0,59012e-10,-.87451,.0207526,.0740933,.18093,-.74902,0,.121033,.30343,-.623529,0,.166892,.416095,-.498039,0,.216768,.524796,-.372549,.0164769,.275471,.608585,-.247059,.0544527,.344824,.659267,-.121569,.0880643,.419118,.688675,.00392157,.127938,.492556,.720256,.129412,.149476,.566946,.756918,.254902,.188961,.641333,.792122,.380392,.245482,.715336,.827609,.505882,.329216,.786235,.874761,.631373,.453558,.852803,.918466,.756863,.626281,.910493,.954,.882353,.82257,.958709,.980146,1,1,1,.999989]},{ColorSpace:"Lab",Name:"erdc_blue_BW",RGBPoints:[-1,0,0,0,-.87451,.0425591,.0763529,.150682,-.74902,.0569472,.119154,.275403,-.623529,.0635978,.164772,.395427,-.498039,.0774342,.213851,.510014,-.372549,.106815,.267034,.615102,-.247059,.122093,.324649,.720068,-.121569,.160851,.387068,.806956,.00392157,.213754,.453516,.878012,.129412,.26722,.524656,.932436,.254902,.326844,.599279,.968038,.380392,.403403,.674712,.984784,.505882,.499703,.745519,1,.631373,.615055,.813983,1,.756863,.74405,.879228,1,.882353,.877909,.941913,1,1,1,1,.999996]},{ColorSpace:"Lab",Name:"BLUE-WHITE",RGBPoints:[-1,0,0,0,-.87451,0,0,.082353,-.74902,0,0,.168627,-.623529,0,0,.254902,-.498039,0,0,.337255,-.372549,0,0,.423529,-.247059,0,0,.509804,-.121569,0,.101961,.592157,.00392157,0,.203922,.678431,.129412,0,.301961,.764706,.254902,0,.403922,.85098,.380392,0,.505882,.933333,.505882,0,.603922,1,.631373,.254902,.705882,1,.756863,.509804,.807843,1,.882353,.764706,.905882,1,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_purple_BW",RGBPoints:[-1,4264e-11,0,620844e-12,-.87451,.100579,.0593111,.145666,-.74902,.167794,.0889224,.254953,-.623529,.231446,.123339,.360511,-.498039,.296699,.163027,.461278,-.372549,.363211,.209286,.55306,-.247059,.431136,.260776,.637195,-.121569,.498202,.320012,.705799,.00392157,.567456,.380459,.778091,.129412,.629381,.445284,.8448,.254902,.688373,.517374,.895694,.380392,.74891,.590906,.93976,.505882,.805017,.667956,.977626,.631373,.850914,.752618,.992396,.756863,.89724,.838454,.994093,.882353,.948461,.922603,.994449,1,1,1,.999967]},{ColorSpace:"Lab",Name:"erdc_magenta_BW",RGBPoints:[-1,0,0,254023e-10,-.87451,.128696,.0456782,.11635,-.74902,.228133,.0476299,.201452,-.623529,.327273,.0374065,.282107,-.498039,.420953,.0408166,.35709,-.372549,.511562,.0642203,.430511,-.247059,.599552,.102686,.504257,-.121569,.684646,.150536,.579429,.00392157,.765817,.205978,.656062,.129412,.839176,.27229,.731807,.254902,.89536,.357594,.797309,.380392,.930238,.457825,.846984,.505882,.945921,.564536,.880571,.631373,.948995,.670753,.902279,.756863,.947124,.772819,.918171,.882353,.947265,.869424,.934352,1,.954719,.95475,.954726]},{ColorSpace:"Lab",Name:"magenta",RGBPoints:[-1,0,0,0,-.87451,.364706,0,.152941,-.74902,.470588,0,.254902,-.623529,.572549,0,.34902,-.498039,.670588,0,.443137,-.372549,.772549,0,.537255,-.247059,.870588,0,.627451,-.121569,.964706,0,.717647,.00392157,1,.0784314,.772549,.129412,1,.207843,.858824,.254902,1,.32549,.941176,.380392,1,.45098,1,.505882,1,.560784,1,.631373,1,.662745,1,.756863,1,.760784,1,.882353,1,.870588,1,1,1,1,1]},{ColorSpace:"Lab",Name:"RED-PURPLE",RGBPoints:[-1,0,0,0,-.87451,.188235,0,.007843,-.74902,.345098,0,.035294,-.623529,.439216,0,.098039,-.498039,.533333,0,.152941,-.372549,.627451,.015686,.211765,-.247059,.721569,.031373,.266667,-.121569,.8,.047059,.329412,.00392157,.862745,.047059,.403922,.129412,.941176,.062745,.466667,.254902,.988235,.078431,.54902,.380392,.988235,.141176,.643137,.505882,.988235,.25098,.729412,.631373,.988235,.376471,.811765,.756863,.988235,.54902,.886275,.882353,.988235,.752941,.952941,1,.996078,.996078,.996078]},{ColorSpace:"Lab",Name:"erdc_red_BW",RGBPoints:[-1,0,0,0,-.87451,.147204,.0480135,.0401815,-.74902,.253411,.0617478,.0301333,-.623529,.356059,.0746331,.0446897,-.498039,.457731,.0934935,.0636931,-.372549,.557199,.122714,.0860013,-.247059,.665179,.144238,.105585,-.121569,.763833,.187056,.138326,.00392157,.847035,.254558,.189407,.129412,.905663,.345937,.258215,.254902,.941431,.447111,.346277,.380392,.962608,.546927,.457571,.505882,.987833,.637276,.569944,.631373,.994202,.732176,.687958,.756863,.993304,.826268,.800567,.882353,.994413,.917205,.906393,1,1,1,.999979]},{ColorSpace:"Lab",Name:"RED_TEMPERATURE",RGBPoints:[-1,0,0,0,-.87451,.090196,0,0,-.74902,.180392,0,0,-.623529,.270588,0,0,-.498039,.360784,0,0,-.372549,.45098,0,0,-.247059,.545098,0,0,-.121569,.635294,0,0,.00392157,.72549,.058824,0,.129412,.815686,.176471,0,.254902,.905882,.294118,0,.380392,1,.411765,0,.505882,1,.533333,.027451,.631373,1,.65098,.27451,.756863,1,.768627,.521569,.882353,1,.886275,.768627,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_orange_BW",RGBPoints:[-1,0,0,253806e-10,-.87451,.135871,.0593824,0,-.74902,.224328,.0907216,0,-.623529,.318083,.119647,0,-.498039,.414443,.150246,0,-.372549,.511077,.184884,0,-.247059,.605501,.226033,0,-.121569,.695274,.275491,0,.00392157,.777826,.334445,0,.129412,.851498,.402441,0,.254902,.915899,.47759,602975e-9,.380392,.971984,.557882,.0361443,.505882,1,.641287,.135967,.631373,1,.725198,.27997,.756863,1,.808205,.438135,.882353,1,.89306,.587036,1,1,.977928,.721599]},{ColorSpace:"Lab",Name:"heated_object",RGBPoints:[-1,0,0,0,-.87451,.34902,.0862745,0,-.74902,.45098,.172549,0,-.623529,.52549,.231373,0,-.498039,.580392,.278431,0,-.372549,.623529,.313725,0,-.247059,.670588,.352941,0,-.121569,.717647,.392157,0,.00392157,.772549,.439216,0,.129412,.839216,.494118,0,.254902,.901961,.541176,0,.380392,.968627,.6,0,.505882,1,.658824,0,.631373,1,.721569,0,.756863,1,.827451,.298039,.882353,1,.976471,.72549,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_gold_BW",RGBPoints:[-1,0,0,190933e-10,-.87451,.128363,.0636265,0,-.74902,.193795,.111057,0,-.623529,.25976,.15987,0,-.498039,.328546,.210589,0,-.372549,.399726,.26332,0,-.247059,.472969,.318261,0,-.121569,.546245,.375827,0,.00392157,.61745,.436719,0,.129412,.685545,.501113,0,.254902,.749578,.568799,0,.380392,.80962,.6394,0,.505882,.865572,.712699,.10257,.631373,.917709,.787569,.233665,.756863,.966914,.863138,.369608,.882353,1,.939405,.496104,1,.999225,1,.612275]},{ColorSpace:"Lab",Name:"erdc_brown_BW",RGBPoints:[-1,33216e-11,0,483629e-11,-.87451,.14693,.0518172,0,-.74902,.225806,.0814996,0,-.623529,.301681,.111452,0,-.498039,.370487,.150664,0,-.372549,.43108,.199477,0,-.247059,.4849,.255107,0,-.121569,.536798,.313486,0,.00392157,.59286,.371167,0,.129412,.653119,.428135,0,.254902,.714589,.485917,.0379541,.380392,.774667,.54565,.116634,.505882,.831222,.608047,.183895,.631373,.880305,.674199,.260298,.756863,.922314,.742472,.367086,.882353,.959408,.811222,.497258,1,.993548,.875183,.622093]},{ColorSpace:"Lab",Name:"copper_Matlab",RGBPoints:[-1,0,0,0,-.87451,.0784314,.0501961,.0313725,-.74902,.156863,.100392,.0627451,-.623529,.235294,.150588,.0941176,-.498039,.313725,.200784,.12549,-.372549,.392157,.25098,.156863,-.247059,.470588,.301176,.188235,-.121569,.54902,.351373,.219608,.00392157,.627451,.401569,.25098,.129412,.705882,.451765,.282353,.254902,.784314,.501961,.313725,.380392,.862745,.552157,.345098,.505882,.941176,.602353,.376471,.631373,1,.652549,.407843,.756863,1,.702745,.439216,.882353,1,.752941,.470588,1,1,.8,.5]},{ColorSpace:"Lab",Name:"pink_Matlab",RGBPoints:[-1,0,0,0,-.87451,.312416,.204524,.204524,-.74902,.441822,.289241,.289241,-.623529,.54112,.354246,.354246,-.498039,.624831,.409048,.409048,-.372549,.698582,.45733,.45733,-.247059,.764404,.502282,.500979,-.121569,.791292,.591516,.54112,.00392157,.817297,.66895,.578481,.129412,.842499,.738308,.613572,.254902,.866968,.801687,.646762,.380392,.890766,.86041,.678329,.505882,.913944,.913944,.711254,.631373,.936549,.936549,.79459,.756863,.958621,.958621,.869979,.882353,.980196,.980196,.939336,1,1,1,1]},{ColorSpace:"Lab",Name:"bone_Matlab",RGBPoints:[-1,0,0,0,-.87451,.054902,.054902,.075817,-.74902,.109804,.109804,.151634,-.623529,.164706,.164706,.227451,-.498039,.219608,.219608,.303268,-.372549,.27451,.27451,.379085,-.247059,.329412,.329902,.454412,-.121569,.384314,.405719,.509314,.00392157,.439216,.481536,.564216,.129412,.494118,.557353,.619118,.254902,.54902,.63317,.67402,.380392,.603922,.708987,.728922,.505882,.660294,.783824,.783824,.631373,.746569,.838725,.838725,.756863,.832843,.893627,.893627,.882353,.919118,.948529,.948529,1,1,1,1]},{ColorSpace:"Lab",Name:"gray_Matlab",RGBPoints:[-1,0,0,0,-.87451,.0627451,.0627451,.0627451,-.74902,.12549,.12549,.12549,-.623529,.188235,.188235,.188235,-.498039,.25098,.25098,.25098,-.372549,.313725,.313725,.313725,-.247059,.376471,.376471,.376471,-.121569,.439216,.439216,.439216,.00392157,.501961,.501961,.501961,.129412,.564706,.564706,.564706,.254902,.627451,.627451,.627451,.380392,.690196,.690196,.690196,.505882,.752941,.752941,.752941,.631373,.815686,.815686,.815686,.756863,.878431,.878431,.878431,.882353,.941176,.941176,.941176,1,1,1,1]},{ColorSpace:"Lab",Name:"Purples",RGBPoints:[-1,.247059,0,.490196,-.87451,.288397,.07677,.525629,-.74902,.32975,.153587,.561092,-.623529,.373057,.236263,.600461,-.498039,.416363,.319,.639923,-.372549,.459669,.405613,.685198,-.247059,.503345,.491534,.730058,-.121569,.562399,.54862,.757616,.00392157,.621453,.606075,.785544,.129412,.680508,.674971,.824914,.254902,.739562,.743406,.863899,.380392,.798616,.800492,.893426,.505882,.85684,.856655,.922491,.631373,.898178,.894056,.942176,.756863,.938654,.930919,.961646,.882353,.964245,.958478,.977393,1,.988235,.984314,.992157]},{ColorSpace:"Lab",Name:"Blues",RGBPoints:[-1,.031373,.188235,.419608,-.87451,.031373,.253195,.516063,-.74902,.031757,.318139,.612149,-.623529,.080969,.38113,.661361,-.498039,.130427,.444152,.710327,-.372549,.195386,.509112,.743791,-.247059,.260715,.573841,.777209,-.121569,.341423,.628958,.808704,.00392157,.422745,.684075,.839892,.129412,.523137,.739193,.861546,.254902,.622684,.793464,.883429,.380392,.701423,.826928,.910988,.505882,.778685,.8603,.937993,.631373,.825928,.891795,.953741,.756863,.87328,.923291,.969489,.882353,.922491,.954787,.985236,1,.968627,.984314,1]},{ColorSpace:"Lab",Name:"Greens",RGBPoints:[-1,0,.266667,.105882,-.87451,0,.347374,.139346,-.74902,538e-6,.427912,.172933,-.623529,.069435,.486967,.222145,-.498039,.138178,.546082,.271326,-.372549,.197232,.609073,.31857,-.247059,.257255,.671742,.365859,-.121569,.357647,.720953,.415071,.00392157,.45767,.769919,.465021,.129412,.546251,.811257,.537855,.254902,.634295,.852211,.610688,.380392,.709097,.883706,.683522,.505882,.78316,.914833,.755894,.631373,.842215,.938454,.818885,.756863,.899977,.961538,.880692,.882353,.935409,.975317,.92203,1,.968627,.988235,.960784]},{ColorSpace:"Lab",Name:"PuBu",RGBPoints:[-1,.301961,0,.294118,-.87451,.404321,.029527,.390573,-.74902,.50599,.059592,.486782,-.623529,.519769,.158016,.551742,-.498039,.533456,.256194,.616301,-.372549,.54133,.33887,.655671,-.247059,.54902,.421592,.695087,-.121569,.54902,.506236,.736424,.00392157,.550127,.590573,.777701,.129412,.585559,.665375,.81707,.254902,.622145,.739023,.855825,.380392,.687105,.784298,.879446,.505882,.752065,.829758,.903253,.631373,.817024,.87897,.930811,.756863,.880907,.927213,.957832,.882353,.926182,.958708,.975548,1,.968627,.988235,.992157]},{ColorSpace:"Lab",Name:"BuPu",RGBPoints:[-1,.007843,.219608,.345098,-.87451,.01178,.286536,.449427,-.74902,.015702,.35328,.553479,-.623529,.01767,.396586,.622376,-.498039,.021115,.4402,.690688,-.372549,.11757,.503191,.722184,-.247059,.214625,.565859,.753633,-.121569,.336671,.615071,.78316,.00392157,.457978,.663975,.812503,.129412,.556401,.703345,.836125,.254902,.65421,.742714,.859669,.380392,.736886,.782084,.881323,.505882,.81827,.821638,.903068,.631373,.873387,.864944,.92669,.756863,.927536,.907605,.949988,.882353,.964937,.9391,.967705,1,1,.968627,.984314]},{ColorSpace:"Lab",Name:"BuGn",RGBPoints:[-1,.031373,.25098,.505882,-.87451,.031373,.329719,.590527,-.74902,.031911,.408397,.674787,-.623529,.100807,.479262,.710219,-.498039,.169704,.550219,.745744,-.372549,.238601,.62699,.787082,-.247059,.307958,.703114,.826759,-.121569,.39654,.752326,.797232,.00392157,.485121,.801046,.767705,.129412,.573702,.83451,.738178,.254902,.661592,.867743,.711034,.380392,.732457,.895302,.74253,.505882,.801845,.922307,.774579,.631373,.841215,.938055,.817885,.756863,.880907,.95391,.861084,.882353,.926182,.971626,.902422,1,.968627,.988235,.941176]},{ColorSpace:"Lab",Name:"GnBu",RGBPoints:[-1,0,.266667,.105882,-.87451,0,.347374,.139346,-.74902,538e-6,.427912,.172933,-.623529,.069435,.486967,.222145,-.498039,.138178,.546175,.272095,-.372549,.197232,.615071,.368551,-.247059,.256609,.683276,.464867,-.121569,.329443,.722645,.555417,.00392157,.403137,.762138,.645413,.129412,.503529,.805444,.718247,.254902,.603922,.848597,.790465,.380392,.704314,.887966,.847551,.505882,.802307,.926321,.903714,.631373,.851519,.944037,.941115,.756863,.899977,.961538,.976901,.882353,.935409,.975317,.984775,1,.968627,.988235,.992157]},{ColorSpace:"Lab",Name:"GnBuPu",RGBPoints:[-1,.003922,.27451,.211765,-.87451,.003922,.349312,.280661,-.74902,.003937,.423852,.349773,-.623529,.005905,.46519,.446228,-.498039,.009443,.506344,.542837,-.372549,.111803,.535871,.649135,-.247059,.214025,.565859,.753633,-.121569,.310481,.615071,.78316,.00392157,.407797,.663975,.812503,.129412,.531811,.703345,.836125,.254902,.65421,.742714,.859669,.380392,.736886,.782084,.881323,.505882,.81827,.821176,.902884,.631373,.873387,.854641,.922568,.756863,.927536,.888535,.942361,.882353,.964937,.929873,.964014,1,1,.968627,.984314]},{ColorSpace:"Lab",Name:"BuGnYl",RGBPoints:[-1,.031373,.113725,.345098,-.87451,.088458,.159,.463206,-.74902,.145052,.204567,.5807,-.623529,.139146,.287243,.620069,-.498039,.13318,.370196,.659562,-.372549,.123337,.470588,.706805,-.247059,.115386,.570335,.753126,-.121569,.186251,.643168,.761,.00392157,.258716,.71514,.768074,.129412,.380761,.760415,.750358,.254902,.503576,.806075,.732795,.380392,.645306,.861192,.719016,.505882,.783899,.91511,.705606,.631373,.858701,.944637,.6997,.756863,.931349,.973303,.698424,.882353,.966782,.987082,.777163,1,1,1,.85098]},{ColorSpace:"Lab",Name:"PuRd",RGBPoints:[-1,.286275,0,.415686,-.87451,.38273,.001968,.441276,-.74902,.479231,.003922,.466774,-.623529,.581592,.003922,.480554,-.498039,.683799,.00549,.494887,-.372549,.776317,.105882,.544098,-.247059,.867866,.206321,.592618,-.121569,.919047,.308681,.612303,.00392157,.968812,.411226,.632603,.129412,.974717,.519493,.671972,.254902,.980546,.626451,.71065,.380392,.984483,.701253,.732303,.505882,.988328,.77504,.755617,.631373,.990296,.828189,.812703,.756863,.992372,.880907,.869035,.882353,.996309,.926182,.912341,1,1,.968627,.952941]},{ColorSpace:"Lab",Name:"RdPu",RGBPoints:[-1,.403922,0,.121569,-.87451,.500377,0,.192434,-.74902,.596909,277e-6,.263037,-.623529,.703206,.035709,.300438,-.498039,.808612,.071296,.338854,-.372549,.857824,.116571,.441215,-.247059,.905513,.163552,.54293,-.121569,.889765,.281661,.617732,.00392157,.873156,.39897,.691611,.129412,.82985,.491488,.736886,.254902,.789081,.583237,.781853,.380392,.810734,.656071,.819254,.505882,.833126,.729181,.85684,.631373,.870527,.80792,.898178,.756863,.907605,.884398,.938331,.882353,.9391,.921799,.958016,1,.968627,.956863,.976471]},{ColorSpace:"Lab",Name:"Oranges",RGBPoints:[-1,.498039,.152941,.015686,-.87451,.57481,.182468,.013718,-.74902,.651765,.212042,.011734,-.623529,.752157,.247474,.007797,-.498039,.851719,.283368,.004475,-.372549,.898962,.348328,.039908,-.247059,.945652,.413426,.076401,-.121569,.969273,.484291,.157109,.00392157,.992157,.554971,.238185,.129412,.992157,.619931,.330704,.254902,.992157,.684967,.423837,.380392,.992157,.751895,.532103,.505882,.992249,.817716,.639354,.631373,.994218,.861023,.725967,.756863,.996186,.903576,.810965,.882353,.998155,.933103,.868051,1,1,.960784,.921569]},{ColorSpace:"Lab",Name:"Reds",RGBPoints:[-1,.403922,0,.05098,-.87451,.525967,.029527,.066728,-.74902,.647643,.058962,.082476,-.623529,.722445,.076678,.098224,-.498039,.797186,.095194,.114187,-.372549,.868051,.164091,.143714,-.247059,.937809,.233541,.173933,-.121569,.96143,.326059,.232987,.00392157,.984375,.418147,.292657,.129412,.986344,.496886,.371396,.254902,.988235,.575702,.450673,.380392,.988235,.656409,.543191,.505882,.98842,.736747,.635894,.631373,.992357,.809581,.732349,.756863,.996186,.880692,.826759,.882353,.998155,.92203,.885813,1,1,.960784,.941176]},{ColorSpace:"Lab",Name:"RdOr",RGBPoints:[-1,.498039,0,0,-.87451,.6004,0,0,-.74902,.702514,738e-6,477e-6,-.623529,.773379,.095225,.061499,-.498039,.843875,.189865,.12283,-.372549,.891119,.294195,.203537,-.247059,.937855,.397924,.283137,-.121569,.963445,.476663,.316601,.00392157,.988297,.555771,.351665,.129412,.990265,.646321,.436309,.254902,.992157,.735256,.519646,.380392,.992157,.784468,.570827,.505882,.992249,.833218,.623483,.631373,.994218,.872587,.706159,.756863,.996186,.911419,.788189,.882353,.998155,.940946,.859054,1,1,.968627,.92549]},{ColorSpace:"Lab",Name:"BrOrYl",RGBPoints:[-1,.4,.145098,.023529,-.87451,.500392,.174625,.019592,-.74902,.600784,.204291,.015656,-.623529,.701176,.251534,.011719,-.498039,.800984,.299146,.008397,-.372549,.863975,.370012,.043829,-.247059,.926321,.441107,.0794,-.121569,.961753,.521815,.120738,.00392157,.996078,.602645,.163122,.129412,.996078,.68729,.237924,.254902,.996078,.771011,.314879,.380392,.996078,.832034,.444798,.505882,.996171,.892042,.572595,.631373,.998139,.931411,.65724,.756863,1,.969489,.741669,.882353,1,.985236,.822376,1,1,1,.898039]},{ColorSpace:"Lab",Name:"RdOrYl",RGBPoints:[-1,.501961,0,.14902,-.87451,.622038,0,.14902,-.74902,.741761,4e-4,.148866,-.623529,.816563,.05158,.129181,-.498039,.890965,.10356,.110235,-.372549,.940177,.205921,.137793,-.247059,.988281,.308789,.165536,-.121569,.99025,.432803,.200969,.00392157,.992218,.555217,.236278,.129412,.994187,.628051,.267774,.254902,.996078,.701038,.301269,.380392,.996078,.777809,.383945,.505882,.996171,.852826,.466621,.631373,.998139,.892195,.549296,.756863,1,.931349,.632188,.882353,1,.966782,.7188,1,1,1,.8]},{ColorSpace:"Lab",Name:"CIELab_blue2red",RGBPoints:[-1,0,.6,.74902,1,.76863,.46667,.34118]},{ColorSpace:"Lab",Name:"blue2yellow",RGBPoints:[-1,0,0,1,0,.5,.5,.5,1,1,1,0]},{ColorSpace:"Lab",Name:"erdc_blue2gold",RGBPoints:[-1,.175119,.0438468,1,-.874016,.22383,.159771,.94557,-.748031,.27254,.233611,.891216,-.622047,.321251,.296526,.836857,-.496063,.369962,.354296,.782359,-.370079,.418672,.409139,.72754,-.244094,.467383,.462152,.672148,-.11811,.51609,.51396,.615825,.00787402,.572863,.55452,.559172,.133858,.630269,.593822,.517729,.259843,.689588,.624668,.47446,.385827,.745394,.656113,.428638,.511811,.798624,.688104,.379105,.637795,.849926,.720593,.323834,.76378,.899765,.753543,.258657,.889764,.948487,.78692,.171778,1,.990413,.816451,.00729848]},{ColorSpace:"Lab",Name:"erdc_blue2yellow",RGBPoints:[-1,.0830122,0,.495617,-.87451,.141973,.0551288,.57363,-.74902,.193048,.110258,.604561,-.623529,.234231,.165386,.57643,-.498039,.275413,.220515,.548299,-.372549,.316596,.275644,.520169,-.247059,.357778,.330773,.492038,-.121569,.398961,.385901,.463908,.00392157,.449929,.438487,.426815,.129412,.511572,.488299,.379944,.254902,.581222,.53603,.325741,.380392,.650871,.583761,.271538,.505882,.720521,.631493,.217335,.631373,.79017,.679224,.163132,.756863,.85982,.726955,.108929,.882353,.910254,.774159,.14112,1,.927513,.81759,.306289]},{ColorSpace:"Lab",Name:"erdc_cyan2orange",RGBPoints:[-1,.0471513,.213874,.414329,-.87451,.0674702,.256648,.439027,-.74902,.0959957,.299331,.462089,-.623529,.132428,.341872,.483212,-.498039,.188743,.38277,.500597,-.372549,.268511,.420229,.512179,-.247059,.352945,.455602,.519101,-.121569,.43893,.489368,.521538,.00392157,.522445,.522495,.522436,.129412,.600089,.555682,.53205,.254902,.67988,.587981,.539163,.380392,.761011,.619586,.544439,.505882,.84278,.650741,.548567,.631373,.910713,.687347,.557822,.756863,.952232,.734972,.577775,.882353,.975642,.789858,.604868,1,.990752,.843643,.632857]},{ColorSpace:"Lab",Name:"erdc_purple2green",RGBPoints:[-1,.235006,.0483128,.530899,-.87451,.302968,.108419,.552391,-.74902,.360241,.166059,.569502,-.623529,.406746,.226782,.579373,-.498039,.444073,.28964,.582094,-.372549,.473648,.353774,.577947,-.247059,.497636,.418154,.567911,-.121569,.519086,.481741,.553968,.00392157,.542884,.542914,.542875,.129412,.566303,.603989,.527499,.254902,.595218,.662965,.516857,.380392,.628641,.720701,.510673,.505882,.665373,.777849,.508165,.631373,.704182,.834921,.508303,.756863,.743846,.892328,.50999,.882353,.783158,.950422,.512181,1,.818617,1,.513888]},{ColorSpace:"Lab",Name:"erdc_purple2green_dark",RGBPoints:[-1,.107656,0,.428682,-.87451,.1924,0,.449799,-.74902,.255118,.0648939,.466726,-.623529,.304256,.133066,.476703,-.498039,.343202,.19716,.479793,-.372549,.373876,.260353,.476241,-.247059,.398497,.322872,.466953,-.121569,.420016,.384252,.453785,.00392157,.44319,.443216,.443186,.129412,.465553,.502139,.428233,.254902,.492959,.559151,.417591,.380392,.524654,.615092,.411016,.505882,.55959,.670583,.40779,.631373,.596614,.726102,.406948,.756863,.634544,.782032,.407439,.882353,.672183,.838703,.408237,1,.706131,.892759,.408452]},{ColorSpace:"Lab",Name:"coolwarm",RGBPoints:[-1,.229806,.298718,.753683,-.875,.303869,.406535,.844959,-.75,.383013,.509419,.917388,-.625,.466667,.604563,.968155,-.5,.552953,.688929,.995376,-.375,.639176,.7596,.998151,-.25,.722193,.813953,.976575,-.125,.798692,.849786,.931689,0,.865395,.86541,.865396,.125,.924128,.827385,.774508,.25,.958853,.769768,.678008,.375,.969954,.694267,.579375,.5,.958003,.602842,.481776,.625,.923945,.497309,.38797,.75,.869187,.378313,.300267,.875,.795632,.241284,.220526,1,.705673,.0155562,.150233]},{ColorSpace:"Lab",Name:"BuRd",RGBPoints:[-1,.019608,.188235,.380392,-.87451,.088504,.321107,.564937,-.74902,.163399,.444983,.697501,-.623529,.247059,.555709,.754095,-.498039,.420684,.676432,.818685,-.372549,.606459,.789773,.880277,-.247059,.761476,.868512,.924567,-.121569,.878047,.925721,.951942,.00392157,.969089,.966474,.964937,.129412,.983852,.897578,.846828,.254902,.982468,.800692,.706113,.380392,.960323,.66782,.536332,.505882,.894579,.503806,.399769,.631373,.81707,.33218,.281046,.756863,.728489,.155017,.197386,.882353,.576932,.055363,.14925,1,.403922,0,.121569]},{ColorSpace:"Lab",Name:"Spectral_lowBlue",RGBPoints:[-1,.368627,.309804,.635294,-.87451,.260361,.450058,.70173,-.74902,.248058,.591311,.717186,-.623529,.376009,.734025,.658132,-.498039,.537947,.814764,.64506,-.372549,.702345,.879585,.636678,-.247059,.84752,.938639,.607151,-.121569,.940408,.976163,.656055,.00392157,.999923,.997616,.745021,.129412,.997463,.921338,.61707,.254902,.995002,.824606,.499885,.380392,.992541,.701576,.39654,.505882,.973472,.547405,.318108,.631373,.937793,.398539,.270127,.756863,.861515,.282891,.299654,.882353,.746482,.144637,.288812,1,.619608,.003922,.258824]},{ColorSpace:"Lab",Name:"GnRP",RGBPoints:[-1,0,.266667,.105882,-.87451,.066436,.394617,.174779,-.74902,.168858,.524567,.25767,-.623529,.323875,.657439,.361015,-.498039,.504883,.772318,.506344,-.372549,.678431,.870127,.654902,-.247059,.803922,.921799,.780392,-.121569,.897116,.951942,.882814,.00392157,.967397,.965936,.967474,.129412,.928028,.879815,.930565,.254902,.866052,.780777,.882891,.380392,.77501,.665129,.821376,.505882,.675663,.537024,.737024,.631373,.57847,.396155,.645982,.756863,.492349,.223914,.547559,.882353,.375548,.096886,.423299,1,.25098,0,.294118]},{ColorSpace:"Lab",Name:"GYPi",RGBPoints:[-1,.152941,.392157,.098039,-.87451,.246444,.505344,.117724,-.74902,.351942,.614533,.161399,-.623529,.474971,.717878,.240138,-.498039,.611995,.811226,.392849,-.372549,.746328,.893118,.565321,-.247059,.859516,.94233,.747405,-.121569,.928105,.96386,.875663,.00392157,.969089,.966859,.968012,.129412,.983852,.910265,.948328,.254902,.979239,.833218,.914648,.380392,.949712,.729873,.862976,.505882,.905652,.58293,.763552,.631373,.85521,.410073,.652211,.756863,.793695,.183699,.531642,.882353,.683737,.063899,.420761,1,.556863,.003922,.321569]},{ColorSpace:"Lab",Name:"GnYlRd",RGBPoints:[-1,0,.407843,.215686,-.87451,.063975,.525952,.277201,-.74902,.177932,.633064,.332718,-.623529,.364937,.724106,.379469,-.498039,.527951,.797155,.40223,-.372549,.678431,.862822,.433449,-.247059,.803922,.916955,.514648,-.121569,.909419,.961861,.625067,.00392157,.999923,.997616,.745021,.129412,.997463,.921338,.61707,.254902,.995002,.824606,.499885,.380392,.992541,.701576,.39654,.505882,.973472,.547405,.318108,.631373,.939023,.389927,.245521,.756863,.867666,.239831,.176624,.882353,.762399,.110727,.151326,1,.647059,0,.14902]},{ColorSpace:"Lab",Name:"GBBr",RGBPoints:[-1,0,.235294,.188235,-.87451,.002461,.338639,.301423,-.74902,.055902,.448981,.417609,-.623529,.183852,.56955,.538178,-.498039,.357785,.700115,.660746,-.372549,.540177,.819531,.77624,-.247059,.714879,.890888,.864821,-.121569,.851134,.934564,.922645,.00392157,.960861,.959785,.95694,.129412,.963322,.927797,.83391,.254902,.939946,.868897,.68935,.380392,.883353,.775394,.517109,.505882,.808074,.625836,.324106,.631373,.717647,.476355,.15494,.756863,.592157,.358247,.06882,.882353,.458593,.26436,.031142,1,.329412,.188235,.019608]},{ColorSpace:"Lab",Name:"PuOr",RGBPoints:[-1,.498039,.231373,.031373,-.87451,.62599,.30273,.026451,-.74902,.746943,.387082,.037524,-.623529,.85767,.490427,.071972,-.498039,.936409,.617762,.236371,-.372549,.992695,.743099,.43291,-.247059,.995156,.841523,.63714,-.121569,.985313,.913802,.813687,.00392157,.966244,.966398,.967705,.129412,.889965,.89504,.938178,.254902,.806151,.804306,.894656,.380392,.712649,.688658,.833141,.505882,.594233,.554325,.744637,.631373,.474894,.404229,.652364,.756863,.366628,.217224,.563783,.882353,.266436,.089965,.434833,1,.176471,0,.294118]},{ColorSpace:"Lab",Name:"PRGn",RGBPoints:[-1,.25098,0,.294118,-.87451,.383852,.103345,.431911,-.74902,.497732,.234679,.55371,-.623529,.583852,.40692,.652134,-.498039,.681968,.545175,.742561,-.372549,.7807,.672357,.825221,-.247059,.871742,.788005,.886736,-.121569,.930488,.885198,.932872,.00392157,.966321,.968089,.965859,.129412,.892503,.950865,.877278,.254902,.796078,.91857,.772549,.380392,.670588,.866897,.647059,.505882,.493195,.765398,.496655,.631373,.314187,.649135,.354556,.756863,.15917,.516263,.251211,.882353,.062284,.386621,.170473,1,0,.266667,.105882]},{ColorSpace:"Lab",Name:"PiYG",RGBPoints:[-1,.556863,.003922,.321569,-.87451,.692195,.067897,.427374,-.74902,.797539,.197847,.539177,-.623529,.859054,.424221,.659746,-.498039,.908574,.592618,.770319,-.372549,.951557,.736332,.866205,-.247059,.981084,.839677,.917878,-.121569,.98293,.913802,.949558,.00392157,.96732,.968474,.965629,.129412,.92549,.963552,.869666,.254902,.852441,.939254,.736025,.380392,.739254,.890042,.553941,.505882,.60323,.805536,.382238,.631373,.467282,.711419,.235217,.756863,.344252,.608074,.156478,.882353,.2406,.49827,.116494,1,.152941,.392157,.098039]},{ColorSpace:"Lab",Name:"OrPu",RGBPoints:[-1,.176471,0,.294118,-.87451,.272434,.095963,.444214,-.74902,.373395,.228912,.56932,-.623529,.481661,.415917,.657901,-.498039,.601922,.562937,.750481,-.372549,.718493,.695886,.836986,-.247059,.811995,.811534,.898501,-.121569,.894733,.8995,.940023,.00392157,.969166,.966859,.963629,.129412,.98639,.910265,.803691,.254902,.995002,.835371,.624375,.380392,.992541,.736947,.420146,.505882,.931949,.609458,.224221,.631373,.85075,.483968,.069819,.756863,.740023,.380623,.035371,.882353,.617993,.29827,.026759,1,.498039,.231373,.031373]},{ColorSpace:"Lab",Name:"BrBG",RGBPoints:[-1,.329412,.188235,.019608,-.87451,.467205,.269435,.031911,-.74902,.6,.365629,.074202,-.623529,.72549,.483737,.160323,-.498039,.812995,.635832,.336409,-.372549,.88689,.781238,.527874,-.247059,.943483,.87474,.700115,-.121569,.963168,.929796,.841599,.00392157,.957247,.959938,.959554,.129412,.84406,.932872,.920185,.254902,.70396,.886428,.859285,.380392,.529258,.815071,.770704,.505882,.346251,.691811,.653057,.631373,.175855,.562015,.530642,.756863,.047905,.441446,.410073,.882353,.002307,.33218,.294348,1,0,.235294,.188235]},{ColorSpace:"Lab",Name:"GyRd",RGBPoints:[-1,.101961,.101961,.101961,-.87451,.227451,.227451,.227451,-.74902,.359939,.359939,.359939,-.623529,.502653,.502653,.502653,-.498039,.631373,.631373,.631373,-.372549,.749865,.749865,.749865,-.247059,.843368,.843368,.843368,-.121569,.926105,.926105,.926105,.00392157,.999846,.997232,.995694,.129412,.994925,.908651,.857901,.254902,.982468,.800692,.706113,.380392,.960323,.66782,.536332,.505882,.894579,.503806,.399769,.631373,.81707,.33218,.281046,.756863,.728489,.155017,.197386,.882353,.576932,.055363,.14925,1,.403922,0,.121569]},{ColorSpace:"Lab",Name:"erdc_divHi_purpleGreen",RGBPoints:[-1,.297553,0,.489074,-.87451,.40259,.151146,.567754,-.74902,.516038,.284843,.658231,-.623529,.629783,.423646,.750938,-.498039,.735198,.563697,.835956,-.372549,.82408,.695541,.903582,-.247059,.889091,.807454,.944862,-.121569,.92334,.886917,.951839,.00392157,.921045,.921084,.921003,.129412,.877324,.907455,.845381,.254902,.797649,.849713,.734695,.380392,.691646,.75964,.600532,.505882,.568981,.649159,.453807,.631373,.438945,.529756,.304259,.756863,.30973,.412001,.158303,.882353,.187078,.305111,.00251458,1,.101655,.220836,0]},{ColorSpace:"Lab",Name:"erdc_divHi_purpleGreen_dim",RGBPoints:[-1,.404088,.131038,.592767,-.87451,.486469,.230957,.651243,-.74902,.575165,.339335,.717723,-.623529,.662741,.454332,.784263,-.498039,.742071,.570213,.842918,-.372549,.806935,.678992,.886227,-.247059,.852219,.771315,.90763,-.121569,.873345,.837327,.901572,.00392157,.866783,.86682,.866745,.129412,.82839,.858225,.796812,.254902,.762578,.814287,.700202,.380392,.676429,.744229,.585735,.505882,.577033,.65732,.461526,.631373,.47128,.562476,.33476,.756863,.365461,.467957,.21076,.882353,.264758,.381138,.0878313,1,.182591,.312249,0]},{ColorSpace:"Lab",Name:"erdc_divLow_icePeach",RGBPoints:[-1,.480048,.817441,.998056,-.87451,.425898,.726921,.883187,-.74902,.366682,.629445,.761936,-.623529,.308756,.531002,.640217,-.498039,.258021,.43705,.523433,-.372549,.219244,.352381,.416348,-.247059,.195127,.281032,.322979,-.121569,.186286,.22627,.246525,.00392157,.192352,.19236,.192364,.129412,.255927,.214469,.191756,.254902,.340459,.254426,.206666,.380392,.444655,.309315,.234029,.505882,.565353,.376004,.270969,.631373,.697917,.450748,.314293,.756863,.836657,.529064,.360227,.882353,.972695,.614884,.413123,1,1,.705904,.472699]},{ColorSpace:"Lab",Name:"erdc_divLow_purpleGreen",RGBPoints:[-1,.956034,.666487,.952663,-.87451,.874457,.572698,.936352,-.74902,.753465,.488253,.909063,-.623529,.63309,.413507,.763833,-.498039,.514491,.345878,.620015,-.372549,.405008,.288141,.484376,-.247059,.311388,.241986,.363556,-.121569,.238722,.209044,.263449,.00392157,.192352,.192366,.192362,.129412,.200379,.233201,.168618,.254902,.230151,.291737,.165227,.380392,.279481,.366076,.178607,.505882,.344927,.453267,.205703,.631373,.421554,.549449,.242643,.756863,.503334,.649999,.284377,.882353,.583497,.749672,.324969,1,.650705,.837228,.356264]},{ColorSpace:"Lab",Name:"Haze_green",RGBPoints:[-1,1,.835294,.886275,-.87451,.937255,.756863,.870443,-.74902,.875817,.666376,.857807,-.623529,.778359,.583007,.808134,-.498039,.676253,.494118,.745098,-.372549,.561365,.390123,.682353,-.247059,.438344,.262745,.621496,-.121569,.321133,.141031,.558751,.00392157,.203922,.0217865,.495861,.129412,.265505,.129412,.433261,.254902,.311692,.255338,.37008,.380392,.356282,.377342,.310821,.505882,.39971,.488889,.258243,.631373,.442556,.604357,.205519,.756863,.48671,.71968,.152941,.882353,.529847,.830356,.100944,1,.572549,.933333,.054902]},{ColorSpace:"Lab",Name:"Haze_lime",RGBPoints:[-1,.704034,.784196,1,-.87451,.633111,.691418,.956078,-.74902,.564021,.600606,.912157,-.623529,.496827,.51189,.868235,-.498039,.43157,.425416,.824314,-.372549,.368248,.341347,.780392,-.247059,.306767,.259855,.736471,-.121569,.246862,.181069,.692549,.00392157,.191619,.109542,.648627,.129412,.257404,.194031,.604706,.254902,.321794,.278775,.560784,.380392,.387909,.364617,.516863,.505882,.456569,.451881,.472941,.631373,.527424,.540773,.42902,.756863,.599759,.631427,.385098,.882353,.673065,.723898,.341176,1,.742751,.812252,.3]},{ColorSpace:"RGB",Name:"Haze",RGBPoints:[-1,1,.835294,.996078,-.00392157,.023529,.141176,.498039,.00392157,.015686,.137255,.494118,1,.984314,.764706,0]},{ColorSpace:"Lab",Name:"Haze_cyan",RGBPoints:[-1,.956863,1,.835294,-.87451,.933188,.921714,.760784,-.74902,.870588,.803486,.671605,-.623529,.807843,.684096,.583297,-.498039,.745098,.569208,.494118,-.372549,.682353,.437763,.390123,-.247059,.621496,.288163,.262745,-.121569,.558751,.144517,.141031,.00392157,.495861,.0217865,.0413943,.129412,.433261,.137255,.129412,.254902,.37008,.263181,.255338,.380392,.306318,.381845,.372694,.505882,.243137,.503994,.494263,.631373,.180392,.629484,.619753,.756863,.117647,.754975,.747131,.882353,.054902,.876398,.866812,1,0,.988235,.976471]},{ColorSpace:"Lab",Name:"nic_Edge",RGBPoints:[-1,.191208,.191208,.191208,-.87451,.239484,.00545035,.614821,-.74902,.220593,.0617459,.863547,-.623529,.17509,.278988,.97794,-.498039,.143526,.576069,.998553,-.372549,.166456,.871883,.96594,-.247059,.376202,.993555,.981833,-.121569,.681996,.991297,.999239,.00392157,.954172,.952734,.94374,.129412,.999735,.99301,.662896,.254902,.979399,.991466,.357973,.380392,.968771,.854967,.162659,.505882,.999245,.556697,.144323,.631373,.973959,.26223,.177946,.756863,.852358,.0526707,.222974,.882353,.593889,.00912724,.238855,1,.191208,.191208,.191208]},{ColorSpace:"Lab",Name:"erdc_iceFire_H",RGBPoints:[-1,405432e-12,0,590122e-11,-.87451,0,.120401,.302675,-.74902,0,.216583,.524574,-.623529,.0552475,.345025,.6595,-.498039,.128047,.492588,.720288,-.372549,.188955,.641309,.792092,-.247059,.327673,.784935,.873434,-.121569,.60824,.892164,.935547,.00392157,.881371,.912178,.818099,.129412,.951407,.835621,.449279,.254902,.904481,.690489,0,.380392,.85407,.510864,0,.505882,.777093,.33018,88199e-8,.631373,.672862,.139087,.00269398,.756863,.508815,0,0,.882353,.299417,366289e-9,547829e-9,1,.0157519,.00332021,455569e-13]},{ColorSpace:"Lab",Name:"erdc_iceFire_L",RGBPoints:[-1,.870485,.913768,.832905,-.87451,.586919,.887865,.934003,-.74902,.31583,.776442,.867858,-.623529,.18302,.632034,.787722,-.498039,.117909,.484134,.713825,-.372549,.0507239,.335979,.654741,-.247059,0,.209874,.511832,-.121569,0,.114689,.28935,.00392157,.0157519,.00332021,455569e-13,.129412,.312914,0,0,.254902,.520865,0,0,.380392,.680105,.15255,.0025996,.505882,.785109,.339479,797922e-9,.631373,.857354,.522494,0,.756863,.910974,.699774,0,.882353,.951921,.842817,.478545,1,.881371,.912178,.818099]},{ColorSpace:"RGB",Name:"hsv",RGBPoints:[-1,1,0,0,-.666666,1,0,1,-.333333,0,0,1,0,0,1,1,.33333,0,1,0,.66666,1,1,0,1,1,0,0]},{ColorSpace:"Lab",Name:"hue_L60",RGBPoints:[-1,.964784,.400592,.349549,-.87451,.964915,.372498,.53785,-.74902,.892353,.401039,.759569,-.623529,.79263,.446956,.903017,-.498039,.682208,.49954,.966673,-.372549,.56392,.553082,.968836,-.247059,.442031,.606396,.901601,-.121569,.305499,.65701,.765784,.00392157,.197251,.687914,.620914,.129412,.193882,.701887,.472654,.254902,.249866,.706123,.320005,.380392,.35132,.697417,.202919,.505882,.498097,.669467,.125232,.631373,.637477,.626239,.107431,.756863,.762115,.56872,.155812,.882353,.889434,.481116,.240445,1,.964784,.400592,.349549]},{IndexedColors:[0,0,0,.8941176470588236,.1019607843137255,.1098039215686274,.2156862745098039,.4941176470588236,.7215686274509804,.3019607843137255,.6862745098039216,.2901960784313726,.596078431372549,.3058823529411765,.6392156862745098,1,.4980392156862745,0,.6509803921568628,.3372549019607843,.1568627450980392],Name:"Spectrum",NanColor:[.6509803921568628,.3372549019607843,.1568627450980392]},{IndexedColors:[.4745098039215686,.09019607843137255,.09019607843137255,.7098039215686275,.00392156862745098,.00392156862745098,.9372549019607843,.2784313725490196,.09803921568627451,.9764705882352941,.5137254901960784,.1411764705882353,1,.7058823529411765,0,1,.8980392156862745,.02352941176470588],Name:"Warm",NanColor:[1,.8980392156862745,.02352941176470588]},{IndexedColors:[.4588235294117647,.6941176470588235,.00392156862745098,.3450980392156863,.5019607843137255,.1607843137254902,.3137254901960784,.8431372549019608,.7490196078431373,.1098039215686274,.5843137254901961,.803921568627451,.2313725490196079,.407843137254902,.6705882352941176,.6039215686274509,.407843137254902,1,.3725490196078431,.2,.5019607843137255],Name:"Cool",NanColor:[.3725490196078431,.2,.5019607843137255]},{IndexedColors:[.2313725490196079,.407843137254902,.6705882352941176,.1098039215686274,.5843137254901961,.803921568627451,.3058823529411765,.8509803921568627,.9176470588235294,.4509803921568628,.6039215686274509,.8352941176470589,.2588235294117647,.2392156862745098,.6627450980392157,.3137254901960784,.3294117647058823,.5294117647058824,.06274509803921569,.1647058823529412,.3215686274509804],Name:"Blues",NanColor:[.06274509803921569,.1647058823529412,.3215686274509804]},{IndexedColors:[.1098039215686274,.5843137254901961,.803921568627451,.2313725490196079,.407843137254902,.6705882352941176,.4,.2431372549019608,.7176470588235294,.6352941176470588,.3294117647058823,.8117647058823529,.8705882352941177,.3803921568627451,.807843137254902,.8627450980392157,.3803921568627451,.5843137254901961,.2392156862745098,.06274509803921569,.3215686274509804],Name:"Wild Flower",NanColor:[.2392156862745098,.06274509803921569,.3215686274509804]},{IndexedColors:[.396078431372549,.4862745098039216,.2156862745098039,.4588235294117647,.6941176470588235,.00392156862745098,.6980392156862745,.7294117647058823,.1882352941176471,1,.8980392156862745,.02352941176470588,1,.7058823529411765,0,.9764705882352941,.5137254901960784,.1411764705882353],Name:"Citrus",NanColor:[.9764705882352941,.5137254901960784,.1411764705882353]},{IndexedColors:[.4980392156862745,.2313725490196079,.03137254901960784,.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333,.1764705882352941,0,.2941176470588235],Name:"Brewer Diverging Purple-Orange (11)",NanColor:[.1764705882352941,0,.2941176470588235]},{IndexedColors:[.4980392156862745,.2313725490196079,.03137254901960784,.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333,.1764705882352941,0,.2941176470588235],Name:"Brewer Diverging Purple-Orange (10)",NanColor:[.1764705882352941,0,.2941176470588235]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (9)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (8)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.9450980392156862,.6392156862745098,.2509803921568627,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6,.5568627450980392,.7647058823529411,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (7)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.9450980392156862,.6392156862745098,.2509803921568627,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6,.5568627450980392,.7647058823529411,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (6)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.9019607843137255,.3803921568627451,.00392156862745098,.9921568627450981,.7215686274509804,.3882352941176471,.9686274509803922,.9686274509803922,.9686274509803922,.6980392156862745,.6705882352941176,.8235294117647058,.3686274509803922,.2352941176470588,.6],Name:"Brewer Diverging Purple-Orange (5)",NanColor:[.3686274509803922,.2352941176470588,.6]},{IndexedColors:[.9019607843137255,.3803921568627451,.00392156862745098,.9921568627450981,.7215686274509804,.3882352941176471,.6980392156862745,.6705882352941176,.8235294117647058,.3686274509803922,.2352941176470588,.6],Name:"Brewer Diverging Purple-Orange (4)",NanColor:[.3686274509803922,.2352941176470588,.6]},{IndexedColors:[.9450980392156862,.6392156862745098,.2509803921568627,.9686274509803922,.9686274509803922,.9686274509803922,.6,.5568627450980392,.7647058823529411],Name:"Brewer Diverging Purple-Orange (3)",NanColor:[.6,.5568627450980392,.7647058823529411]},{IndexedColors:[.6196078431372549,.00392156862745098,.2588235294117647,.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353,.3686274509803922,.3098039215686275,.6352941176470588],Name:"Brewer Diverging Spectral (11)",NanColor:[.3686274509803922,.3098039215686275,.6352941176470588]},{IndexedColors:[.6196078431372549,.00392156862745098,.2588235294117647,.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353,.3686274509803922,.3098039215686275,.6352941176470588],Name:"Brewer Diverging Spectral (10)",NanColor:[.3686274509803922,.3098039215686275,.6352941176470588]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (9)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (8)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9882352941176471,.5529411764705883,.3490196078431372,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6,.8352941176470589,.5803921568627451,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (7)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9882352941176471,.5529411764705883,.3490196078431372,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6,.8352941176470589,.5803921568627451,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (6)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8431372549019608,.09803921568627451,.1098039215686274,.9921568627450981,.6823529411764706,.3803921568627451,1,1,.7490196078431373,.6705882352941176,.8666666666666667,.6431372549019608,.1686274509803922,.5137254901960784,.7294117647058823],Name:"Brewer Diverging Spectral (5)",NanColor:[.1686274509803922,.5137254901960784,.7294117647058823]},{IndexedColors:[.8431372549019608,.09803921568627451,.1098039215686274,.9921568627450981,.6823529411764706,.3803921568627451,.6705882352941176,.8666666666666667,.6431372549019608,.1686274509803922,.5137254901960784,.7294117647058823],Name:"Brewer Diverging Spectral (4)",NanColor:[.1686274509803922,.5137254901960784,.7294117647058823]},{IndexedColors:[.9882352941176471,.5529411764705883,.3490196078431372,1,1,.7490196078431373,.6,.8352941176470589,.5803921568627451],Name:"Brewer Diverging Spectral (3)",NanColor:[.6,.8352941176470589,.5803921568627451]},{IndexedColors:[.3294117647058823,.1882352941176471,.0196078431372549,.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922,0,.2352941176470588,.1882352941176471],Name:"Brewer Diverging Brown-Blue-Green (11)",NanColor:[0,.2352941176470588,.1882352941176471]},{IndexedColors:[.3294117647058823,.1882352941176471,.0196078431372549,.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922,0,.2352941176470588,.1882352941176471],Name:"Brewer Diverging Brown-Blue-Green (10)",NanColor:[0,.2352941176470588,.1882352941176471]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (9)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (8)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.8470588235294118,.7019607843137254,.396078431372549,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.3529411764705883,.7058823529411765,.6745098039215687,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (7)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.8470588235294118,.7019607843137254,.396078431372549,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.3529411764705883,.7058823529411765,.6745098039215687,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (6)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.6509803921568628,.3803921568627451,.1019607843137255,.8745098039215686,.7607843137254902,.4901960784313725,.9607843137254902,.9607843137254902,.9607843137254902,.5019607843137255,.803921568627451,.7568627450980392,.00392156862745098,.5215686274509804,.4431372549019608],Name:"Brewer Diverging Brown-Blue-Green (5)",NanColor:[.00392156862745098,.5215686274509804,.4431372549019608]},{IndexedColors:[.6509803921568628,.3803921568627451,.1019607843137255,.8745098039215686,.7607843137254902,.4901960784313725,.5019607843137255,.803921568627451,.7568627450980392,.00392156862745098,.5215686274509804,.4431372549019608],Name:"Brewer Diverging Brown-Blue-Green (4)",NanColor:[.00392156862745098,.5215686274509804,.4431372549019608]},{IndexedColors:[.8470588235294118,.7019607843137254,.396078431372549,.9607843137254902,.9607843137254902,.9607843137254902,.3529411764705883,.7058823529411765,.6745098039215687],Name:"Brewer Diverging Brown-Blue-Green (3)",NanColor:[.3529411764705883,.7058823529411765,.6745098039215687]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8980392156862745,.9607843137254902,.9764705882352941,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.4274509803921568,.1725490196078431,0,.2666666666666667,.1058823529411765],Name:"Brewer Sequential Blue-Green (9)",NanColor:[0,.2666666666666667,.1058823529411765]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8980392156862745,.9607843137254902,.9764705882352941,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.3450980392156863,.1411764705882353],Name:"Brewer Sequential Blue-Green (8)",NanColor:[0,.3450980392156863,.1411764705882353]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.8,.9254901960784314,.9019607843137255,.8,.9254901960784314,.9019607843137255,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.3450980392156863,.1411764705882353],Name:"Brewer Sequential Blue-Green (7)",NanColor:[0,.3450980392156863,.1411764705882353]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.1725490196078431,.6352941176470588,.3725490196078431,0,.4274509803921568,.1725490196078431],Name:"Brewer Sequential Blue-Green (6)",NanColor:[0,.4274509803921568,.1725490196078431]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.6980392156862745,.8862745098039215,.8862745098039215,.4,.7607843137254902,.6431372549019608,.1725490196078431,.6352941176470588,.3725490196078431,0,.4274509803921568,.1725490196078431],Name:"Brewer Sequential Blue-Green (5)",NanColor:[0,.4274509803921568,.1725490196078431]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.6980392156862745,.8862745098039215,.8862745098039215,.4,.7607843137254902,.6431372549019608,.1372549019607843,.5450980392156862,.2705882352941176],Name:"Brewer Sequential Blue-Green (4)",NanColor:[.1372549019607843,.5450980392156862,.2705882352941176]},{IndexedColors:[.8980392156862745,.9607843137254902,.9764705882352941,.6,.8470588235294118,.788235294117647,.1725490196078431,.6352941176470588,.3725490196078431],Name:"Brewer Sequential Blue-Green (3)",NanColor:[.1725490196078431,.6352941176470588,.3725490196078431]},{IndexedColors:[1,1,.8980392156862745,1,.9686274509803922,.7372549019607844,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.6,.203921568627451,.01568627450980392,.4,.1450980392156863,.02352941176470588],Name:"Brewer Sequential Yellow-Orange-Brown (9)",NanColor:[.4,.1450980392156863,.02352941176470588]},{IndexedColors:[1,1,.8980392156862745,1,.9686274509803922,.7372549019607844,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.5490196078431373,.1764705882352941,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (8)",NanColor:[.5490196078431373,.1764705882352941,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.5490196078431373,.1764705882352941,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (7)",NanColor:[.5490196078431373,.1764705882352941,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.8509803921568627,.3725490196078431,.05490196078431372,.6,.203921568627451,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (6)",NanColor:[.6,.203921568627451,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8509803921568627,.5568627450980392,.996078431372549,.6,.1607843137254902,.8509803921568627,.3725490196078431,.05490196078431372,.6,.203921568627451,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (5)",NanColor:[.6,.203921568627451,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8509803921568627,.5568627450980392,.996078431372549,.6,.1607843137254902,.8,.2980392156862745,.00784313725490196],Name:"Brewer Sequential Yellow-Orange-Brown (4)",NanColor:[.8,.2980392156862745,.00784313725490196]},{IndexedColors:[1,.9686274509803922,.7372549019607844,.996078431372549,.7686274509803922,.3098039215686275,.8509803921568627,.3725490196078431,.05490196078431372],Name:"Brewer Sequential Yellow-Orange-Brown (3)",NanColor:[.8509803921568627,.3725490196078431,.05490196078431372]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8784313725490196,.9254901960784314,.9568627450980393,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.5058823529411764,.05882352941176471,.4862745098039216,.3019607843137255,0,.2941176470588235],Name:"Brewer Sequential Blue-Purple (9)",NanColor:[.3019607843137255,0,.2941176470588235]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8784313725490196,.9254901960784314,.9568627450980393,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.4313725490196079,.00392156862745098,.4196078431372549],Name:"Brewer Sequential Blue-Purple (8)",NanColor:[.4313725490196079,.00392156862745098,.4196078431372549]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.4313725490196079,.00392156862745098,.4196078431372549],Name:"Brewer Sequential Blue-Purple (7)",NanColor:[.4313725490196079,.00392156862745098,.4196078431372549]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.3372549019607843,.6549019607843137,.5058823529411764,.05882352941176471,.4862745098039216],Name:"Brewer Sequential Blue-Purple (6)",NanColor:[.5058823529411764,.05882352941176471,.4862745098039216]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7019607843137254,.803921568627451,.8901960784313725,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.3372549019607843,.6549019607843137,.5058823529411764,.05882352941176471,.4862745098039216],Name:"Brewer Sequential Blue-Purple (5)",NanColor:[.5058823529411764,.05882352941176471,.4862745098039216]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7019607843137254,.803921568627451,.8901960784313725,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.2549019607843137,.615686274509804],Name:"Brewer Sequential Blue-Purple (4)",NanColor:[.5333333333333333,.2549019607843137,.615686274509804]},{IndexedColors:[.8784313725490196,.9254901960784314,.9568627450980393,.6196078431372549,.7372549019607844,.8549019607843137,.5333333333333333,.3372549019607843,.6549019607843137],Name:"Brewer Sequential Blue-Purple (3)",NanColor:[.5333333333333333,.3372549019607843,.6549019607843137]},{IndexedColors:[.4980392156862745,.788235294117647,.4980392156862745,.7450980392156863,.6823529411764706,.8313725490196079,.9921568627450981,.7529411764705882,.5254901960784314,1,1,.6,.2196078431372549,.4235294117647059,.6901960784313725,.9411764705882353,.00784313725490196,.4980392156862745,.7490196078431373,.3568627450980392,.09019607843137255,.4,.4,.4],Name:"Brewer Qualitative Accent",NanColor:[.4,.4,.4]},{IndexedColors:[.1058823529411765,.6196078431372549,.4666666666666667,.8509803921568627,.3725490196078431,.00784313725490196,.4588235294117647,.4392156862745098,.7019607843137254,.9058823529411765,.1607843137254902,.5411764705882353,.4,.6509803921568628,.1176470588235294,.9019607843137255,.6705882352941176,.00784313725490196,.6509803921568628,.4627450980392157,.1137254901960784,.4,.4,.4],Name:"Brewer Qualitative Dark2",NanColor:[.4,.4,.4]},{IndexedColors:[.4,.7607843137254902,.6470588235294118,.9882352941176471,.5529411764705883,.3843137254901961,.5529411764705883,.6274509803921569,.796078431372549,.9058823529411765,.5411764705882353,.7647058823529411,.6509803921568628,.8470588235294118,.3294117647058823,1,.8509803921568627,.1843137254901961,.8980392156862745,.7686274509803922,.5803921568627451,.7019607843137254,.7019607843137254,.7019607843137254],Name:"Brewer Qualitative Set2",NanColor:[.7019607843137254,.7019607843137254,.7019607843137254]},{IndexedColors:[.7019607843137254,.8862745098039215,.803921568627451,.9921568627450981,.803921568627451,.6745098039215687,.796078431372549,.8352941176470589,.9098039215686274,.9568627450980393,.792156862745098,.8941176470588236,.9019607843137255,.9607843137254902,.788235294117647,1,.9490196078431372,.6823529411764706,.9450980392156862,.8862745098039215,.8,.8,.8,.8],Name:"Brewer Qualitative Pastel2",NanColor:[.8,.8,.8]},{IndexedColors:[.984313725490196,.7058823529411765,.6823529411764706,.7019607843137254,.803921568627451,.8901960784313725,.8,.9215686274509803,.7725490196078432,.8705882352941177,.796078431372549,.8941176470588236,.996078431372549,.8509803921568627,.6509803921568628,1,1,.8,.8980392156862745,.8470588235294118,.7411764705882353,.9921568627450981,.8549019607843137,.9254901960784314,.9490196078431372,.9490196078431372,.9490196078431372],Name:"Brewer Qualitative Pastel1",NanColor:[.9490196078431372,.9490196078431372,.9490196078431372]},{IndexedColors:[.8941176470588236,.1019607843137255,.1098039215686274,.2156862745098039,.4941176470588236,.7215686274509804,.3019607843137255,.6862745098039216,.2901960784313726,.596078431372549,.3058823529411765,.6392156862745098,1,.4980392156862745,0,1,1,.2,.6509803921568628,.3372549019607843,.1568627450980392,.9686274509803922,.5058823529411764,.7490196078431373,.6,.6,.6],Name:"Brewer Qualitative Set1",NanColor:[.6,.6,.6]},{IndexedColors:[.6509803921568628,.807843137254902,.8901960784313725,.1215686274509804,.4705882352941176,.7058823529411765,.6980392156862745,.8745098039215686,.5411764705882353,.2,.6274509803921569,.1725490196078431,.984313725490196,.6039215686274509,.6,.8901960784313725,.1019607843137255,.1098039215686274,.9921568627450981,.7490196078431373,.4352941176470588,1,.4980392156862745,0,.792156862745098,.6980392156862745,.8392156862745098,.4156862745098039,.2392156862745098,.6039215686274509,1,1,.6],Name:"Brewer Qualitative Paired",NanColor:[1,1,.6]},{IndexedColors:[.5529411764705883,.8274509803921568,.7803921568627451,1,1,.7019607843137254,.7450980392156863,.7294117647058823,.8549019607843137,.984313725490196,.5019607843137255,.4470588235294118,.5019607843137255,.6941176470588235,.8274509803921568,.9921568627450981,.7058823529411765,.3843137254901961,.7019607843137254,.8705882352941177,.4117647058823529,.9882352941176471,.803921568627451,.8980392156862745,.8509803921568627,.8509803921568627,.8509803921568627,.7372549019607844,.5019607843137255,.7411764705882353,.8,.9215686274509803,.7725490196078432,1,.9294117647058824,.4352941176470588],Name:"Brewer Qualitative Set3",NanColor:[1,.9294117647058824,.4352941176470588]},{IndexedColors:[1,0,0,1,.862745,0,0,.695201,0],Name:"Traffic Lights",NanColor:[.803922,0,.803922]},{IndexedColors:[.908659,.604013,.581857,1,.862745,0,0,.695201,0],Name:"Traffic Lights For Deuteranopes",NanColor:[.803922,0,.803922]},{IndexedColors:[.4196078431372549,0,.07058823529411765,.9019607843137255,.9411764705882353,.0196078431372549,.01568627450980392,.6196078431372549,.00784313725490196],Name:"Traffic Lights For Deuteranopes 2",NanColor:[.803922,0,.803922]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Muted Blue-Green",NanColor:[.25,0,0],RGBPoints:[0,.109804,.27451,.301961,.02,.129412,.309804,.341176,.05,.14902,.341176,.380392,.1,.188235,.403922,.458824,.15,.227451,.447059,.521569,.2,.290196,.494118,.588235,.25,.368627,.552941,.670588,.3,.458824,.619608,.74902,.35,.588235,.713725,.85098,.4,.72549,.815686,.941176,.45,.831373,.882353,.980392,.475,.909804,.933333,1,.5,.980392,.984314,1,.5,.996078,1,.94902,.5,1,1,.980392,.5,.980392,.984314,1,.525,.972549,.988235,.890196,.55,.917647,.960784,.835294,.6,.835294,.921569,.772549,.65,.768627,.901961,.737255,.7,.670588,.831373,.654902,.75,.576471,.760784,.584314,.8,.498039,.678431,.521569,.85,.392157,.560784,.427451,.9,.294118,.45098,.333333,.95,.211765,.34902,.254902,1,.152941,.278431,.196078]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Green-Blue Asymmetric Divergent (62Blbc)",NanColor:[.25,0,0],RGBPoints:[0,.121569,.2,.145098,.05,.196078,.301961,.223529,.1,.258824,.4,.278431,.2,.341176,.54902,.341176,.25,.419608,.619608,.376471,.3,.545098,.701961,.392157,.35,.643137,.780392,.403922,.4,.729412,.819608,.45098,.45,.811765,.870588,.521569,.5,.898039,.909804,.564706,.55,.941176,.92549,.686275,.6,.960784,.94902,.776471,.64,1,1,1,.65,.890196,.988235,.972549,.7,.721569,.894118,.901961,.75,.631373,.823529,.839216,.8,.517647,.662745,.701961,.85,.384314,.494118,.54902,.9,.298039,.360784,.45098,.95,.223529,.25098,.34902,.99,.156863,.172549,.25098,1,.137255,.137255,.188235]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Asymmtrical Earth Tones (6_21b)",NanColor:[.25,0,0],RGBPoints:[0,.141176,.14902,.2,.05,.215686,.258824,.321569,.1,.243137,.368627,.380392,.15,.27451,.439216,.4,.2,.32549,.501961,.384314,.25,.403922,.6,.419608,.3,.486275,.701961,.454902,.35,.556863,.74902,.494118,.4,.670588,.8,.545098,.5,.854902,.901961,.631373,.55,.92549,.941176,.694118,.6,.960784,.94902,.776471,.65,.988235,.968627,.909804,.7,.839216,.815686,.772549,.75,.701961,.662745,.615686,.8,.6,.529412,.478431,.85,.501961,.403922,.360784,.9,.439216,.313725,.290196,1,.301961,.164706,.176471]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Yellow 15",NanColor:[.25,0,0],RGBPoints:[0,1,1,.988235,.002,1,1,.988235,.05,.984314,.988235,.843137,.1,.988235,.988235,.741176,.15,.980392,.968627,.654902,.2,.980392,.945098,.576471,.25,.968627,.905882,.486275,.3,.968627,.862745,.388235,.35,.960784,.803922,.286275,.4,.94902,.741176,.219608,.45,.941176,.678431,.14902,.5,.929412,.607843,.094118,.55,.921569,.545098,.054902,.6,.909804,.486275,.035294,.65,.890196,.411765,.019608,.7,.8,.305882,0,.75,.760784,.239216,0,.8,.678431,.180392,.011765,.85,.6,.121569,.023529,.9,.501961,.054902,.031373,.95,.4,.039216,.058824,1,.301961,.047059,.090196]},{ColorSpace:"Diverging",Name:"Magma (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.001462,466e-6,.013866,.003922,.002258,.001295,.018331,.007843,.003279,.002305,.023708,.011765,.004512,.00349,.029965,.015686,.00595,.004843,.03713,.019608,.007588,.006356,.044973,.023529,.009426,.008022,.052844,.027451,.011465,.009828,.06075,.031373,.013708,.011771,.068667,.035294,.016156,.01384,.076603,.039216,.018815,.016026,.084584,.043137,.021692,.01832,.09261,.047059,.024792,.020715,.100676,.05098,.028123,.023201,.108787,.054902,.031696,.025765,.116965,.058824,.03552,.028397,.125209,.062745,.039608,.03109,.133515,.066667,.04383,.03383,.141886,.070588,.048062,.036607,.150327,.07451,.05232,.039407,.158841,.078431,.056615,.04216,.167446,.082353,.060949,.044794,.176129,.086275,.06533,.047318,.184892,.090196,.069764,.049726,.193735,.094118,.074257,.052017,.20266,.098039,.078815,.054184,.211667,.101961,.083446,.056225,.220755,.105882,.088155,.058133,.229922,.109804,.092949,.059904,.239164,.113725,.097833,.061531,.248477,.117647,.102815,.06301,.257854,.121569,.107899,.064335,.267289,.12549,.113094,.065492,.276784,.129412,.118405,.066479,.286321,.133333,.123833,.067295,.295879,.137255,.12938,.067935,.305443,.141176,.135053,.068391,.315,.145098,.140858,.068654,.324538,.14902,.146785,.068738,.334011,.152941,.152839,.068637,.343404,.156863,.159018,.068354,.352688,.160784,.165308,.067911,.361816,.164706,.171713,.067305,.370771,.168627,.178212,.066576,.379497,.172549,.184801,.065732,.387973,.176471,.19146,.064818,.396152,.180392,.198177,.063862,.404009,.184314,.204935,.062907,.411514,.188235,.211718,.061992,.418647,.192157,.218512,.061158,.425392,.196078,.225302,.060445,.431742,.2,.232077,.059889,.437695,.203922,.238826,.059517,.443256,.207843,.245543,.059352,.448436,.211765,.25222,.059415,.453248,.215686,.258857,.059706,.45771,.219608,.265447,.060237,.46184,.223529,.271994,.060994,.46566,.227451,.278493,.061978,.46919,.231373,.284951,.063168,.472451,.235294,.291366,.064553,.475462,.239216,.29774,.066117,.478243,.243137,.304081,.067835,.480812,.247059,.310382,.069702,.483186,.25098,.316654,.07169,.48538,.254902,.322899,.073782,.487408,.258824,.329114,.075972,.489287,.262745,.335308,.078236,.491024,.266667,.341482,.080564,.492631,.270588,.347636,.082946,.494121,.27451,.353773,.085373,.495501,.278431,.359898,.087831,.496778,.282353,.366012,.090314,.49796,.286275,.372116,.092816,.499053,.290196,.378211,.095332,.500067,.294118,.384299,.097855,.501002,.298039,.390384,.100379,.501864,.301961,.396467,.102902,.502658,.305882,.402548,.10542,.503386,.309804,.408629,.10793,.504052,.313725,.414709,.110431,.504662,.317647,.420791,.11292,.505215,.321569,.426877,.115395,.505714,.32549,.432967,.117855,.50616,.329412,.439062,.120298,.506555,.333333,.445163,.122724,.506901,.337255,.451271,.125132,.507198,.341176,.457386,.127522,.507448,.345098,.463508,.129893,.507652,.34902,.46964,.132245,.507809,.352941,.47578,.134577,.507921,.356863,.481929,.136891,.507989,.360784,.488088,.139186,.508011,.364706,.494258,.141462,.507988,.368627,.500438,.143719,.50792,.372549,.506629,.145958,.507806,.376471,.512831,.148179,.507648,.380392,.519045,.150383,.507443,.384314,.52527,.152569,.507192,.388235,.531507,.154739,.506895,.392157,.537755,.156894,.506551,.396078,.544015,.159033,.506159,.4,.550287,.161158,.505719,.403922,.556571,.163269,.50523,.407843,.562866,.165368,.504692,.411765,.569172,.167454,.504105,.415686,.57549,.16953,.503466,.419608,.581819,.171596,.502777,.423529,.588158,.173652,.502035,.427451,.594508,.175701,.501241,.431373,.600868,.177743,.500394,.435294,.607238,.179779,.499492,.439216,.613617,.181811,.498536,.443137,.620005,.18384,.497524,.447059,.626401,.185867,.496456,.45098,.632805,.187893,.495332,.454902,.639216,.189921,.49415,.458824,.645633,.191952,.49291,.462745,.652056,.193986,.491611,.466667,.658483,.196027,.490253,.470588,.664915,.198075,.488836,.47451,.671349,.200133,.487358,.478431,.677786,.202203,.485819,.482353,.684224,.204286,.484219,.486275,.690661,.206384,.482558,.490196,.697098,.208501,.480835,.494118,.703532,.210638,.479049,.498039,.709962,.212797,.477201,.501961,.716387,.214982,.47529,.505882,.722805,.217194,.473316,.509804,.729216,.219437,.471279,.513725,.735616,.221713,.46918,.517647,.742004,.224025,.467018,.521569,.748378,.226377,.464794,.52549,.754737,.228772,.462509,.529412,.761077,.231214,.460162,.533333,.767398,.233705,.457755,.537255,.773695,.236249,.455289,.541176,.779968,.238851,.452765,.545098,.786212,.241514,.450184,.54902,.792427,.244242,.447543,.552941,.798608,.24704,.444848,.556863,.804752,.249911,.442102,.560784,.810855,.252861,.439305,.564706,.816914,.255895,.436461,.568627,.822926,.259016,.433573,.572549,.828886,.262229,.430644,.576471,.834791,.26554,.427671,.580392,.840636,.268953,.424666,.584314,.846416,.272473,.421631,.588235,.852126,.276106,.418573,.592157,.857763,.279857,.415496,.596078,.86332,.283729,.412403,.6,.868793,.287728,.409303,.603922,.874176,.291859,.406205,.607843,.879464,.296125,.403118,.611765,.884651,.30053,.400047,.615686,.889731,.305079,.397002,.619608,.8947,.309773,.393995,.623529,.899552,.314616,.391037,.627451,.904281,.31961,.388137,.631373,.908884,.324755,.385308,.635294,.913354,.330052,.382563,.639216,.917689,.3355,.379915,.643137,.921884,.341098,.377376,.647059,.925937,.346844,.374959,.65098,.929845,.352734,.372677,.654902,.933606,.358764,.370541,.658824,.937221,.364929,.368567,.662745,.940687,.371224,.366762,.666667,.944006,.377643,.365136,.670588,.94718,.384178,.363701,.67451,.95021,.39082,.362468,.678431,.953099,.397563,.361438,.682353,.955849,.4044,.360619,.686275,.958464,.411324,.360014,.690196,.960949,.418323,.35963,.694118,.96331,.42539,.359469,.698039,.965549,.432519,.359529,.701961,.967671,.439703,.35981,.705882,.96968,.446936,.360311,.709804,.971582,.45421,.36103,.713725,.973381,.46152,.361965,.717647,.975082,.468861,.363111,.721569,.97669,.476226,.364466,.72549,.97821,.483612,.366025,.729412,.979645,.491014,.367783,.733333,.981,.498428,.369734,.737255,.982279,.505851,.371874,.741176,.983485,.51328,.374198,.745098,.984622,.520713,.376698,.74902,.985693,.528148,.379371,.752941,.9867,.535582,.38221,.756863,.987646,.543015,.38521,.760784,.988533,.550446,.388365,.764706,.989363,.557873,.391671,.768627,.990138,.565296,.395122,.772549,.990871,.572706,.398714,.776471,.991558,.580107,.402441,.780392,.992196,.587502,.406299,.784314,.992785,.594891,.410283,.788235,.993326,.602275,.41439,.792157,.993834,.609644,.418613,.796078,.994309,.616999,.42295,.8,.994738,.62435,.427397,.803922,.995122,.631696,.431951,.807843,.99548,.639027,.436607,.811765,.99581,.646344,.441361,.815686,.996096,.653659,.446213,.819608,.996341,.660969,.45116,.823529,.99658,.668256,.456192,.827451,.996775,.675541,.461314,.831373,.996925,.682828,.466526,.835294,.997077,.690088,.471811,.839216,.997186,.697349,.477182,.843137,.997254,.704611,.482635,.847059,.997325,.711848,.488154,.85098,.997351,.719089,.493755,.854902,.997351,.726324,.499428,.858824,.997341,.733545,.505167,.862745,.997285,.740772,.510983,.866667,.997228,.747981,.516859,.870588,.997138,.75519,.522806,.87451,.997019,.762398,.528821,.878431,.996898,.769591,.534892,.882353,.996727,.776795,.541039,.886275,.996571,.783977,.547233,.890196,.996369,.791167,.553499,.894118,.996162,.798348,.55982,.898039,.995932,.805527,.566202,.901961,.99568,.812706,.572645,.905882,.995424,.819875,.57914,.909804,.995131,.827052,.585701,.913725,.994851,.834213,.592307,.917647,.994524,.841387,.598983,.921569,.994222,.84854,.605696,.92549,.993866,.855711,.612482,.929412,.993545,.862859,.619299,.933333,.99317,.870024,.626189,.937255,.992831,.877168,.633109,.941176,.99244,.88433,.640099,.945098,.992089,.89147,.647116,.94902,.991688,.898627,.654202,.952941,.991332,.905763,.661309,.956863,.99093,.912915,.668481,.960784,.99057,.920049,.675675,.964706,.990175,.927196,.682926,.968627,.989815,.934329,.690198,.972549,.989434,.94147,.697519,.976471,.989077,.948604,.704863,.980392,.988717,.955742,.712242,.984314,.988367,.962878,.719649,.988235,.988033,.970012,.727077,.992157,.987691,.977154,.734536,.996078,.987387,.984288,.742002,1,.987053,.991438,.749504]},{ColorSpace:"Diverging",Name:"Inferno (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.001462,466e-6,.013866,.003922,.002267,.00127,.01857,.007843,.003299,.002249,.024239,.011765,.004547,.003392,.030909,.015686,.006006,.004692,.038558,.019608,.007676,.006136,.046836,.023529,.009561,.007713,.055143,.027451,.011663,.009417,.06346,.031373,.013995,.011225,.071862,.035294,.016561,.013136,.080282,.039216,.019373,.015133,.088767,.043137,.022447,.017199,.097327,.047059,.025793,.019331,.10593,.05098,.029432,.021503,.114621,.054902,.033385,.023702,.123397,.058824,.037668,.025921,.132232,.062745,.042253,.028139,.141141,.066667,.046915,.030324,.150164,.070588,.051644,.032474,.159254,.07451,.056449,.034569,.168414,.078431,.06134,.03659,.177642,.082353,.066331,.038504,.186962,.086275,.071429,.040294,.196354,.090196,.076637,.041905,.205799,.094118,.081962,.043328,.215289,.098039,.087411,.044556,.224813,.101961,.09299,.045583,.234358,.105882,.098702,.046402,.243904,.109804,.104551,.047008,.25343,.113725,.110536,.047399,.262912,.117647,.116656,.047574,.272321,.121569,.122908,.047536,.281624,.12549,.129285,.047293,.290788,.129412,.135778,.046856,.299776,.133333,.142378,.046242,.308553,.137255,.149073,.045468,.317085,.141176,.15585,.044559,.325338,.145098,.162689,.043554,.333277,.14902,.169575,.042489,.340874,.152941,.176493,.041402,.348111,.156863,.183429,.040329,.354971,.160784,.190367,.039309,.361447,.164706,.197297,.0384,.367535,.168627,.204209,.037632,.373238,.172549,.211095,.03703,.378563,.176471,.217949,.036615,.383522,.180392,.224763,.036405,.388129,.184314,.231538,.036405,.3924,.188235,.238273,.036621,.396353,.192157,.244967,.037055,.400007,.196078,.25162,.037705,.403378,.2,.258234,.038571,.406485,.203922,.26481,.039647,.409345,.207843,.271347,.040922,.411976,.211765,.27785,.042353,.414392,.215686,.284321,.043933,.416608,.219608,.290763,.045644,.418637,.223529,.297178,.04747,.420491,.227451,.303568,.049396,.422182,.231373,.309935,.051407,.423721,.235294,.316282,.05349,.425116,.239216,.32261,.055634,.426377,.243137,.328921,.057827,.427511,.247059,.335217,.06006,.428524,.25098,.3415,.062325,.429425,.254902,.347771,.064616,.430217,.258824,.354032,.066925,.430906,.262745,.360284,.069247,.431497,.266667,.366529,.071579,.431994,.270588,.372768,.073915,.4324,.27451,.379001,.076253,.432719,.278431,.385228,.078591,.432955,.282353,.391453,.080927,.433109,.286275,.397674,.083257,.433183,.290196,.403894,.08558,.433179,.294118,.410113,.087896,.433098,.298039,.416331,.090203,.432943,.301961,.422549,.092501,.432714,.305882,.428768,.09479,.432412,.309804,.434987,.097069,.432039,.313725,.441207,.099338,.431594,.317647,.447428,.101597,.43108,.321569,.453651,.103848,.430498,.32549,.459875,.106089,.429846,.329412,.4661,.108322,.429125,.333333,.472328,.110547,.428334,.337255,.478558,.112764,.427475,.341176,.484789,.114974,.426548,.345098,.491022,.117179,.425552,.34902,.497257,.119379,.424488,.352941,.503493,.121575,.423356,.356863,.50973,.123769,.422156,.360784,.515967,.12596,.420887,.364706,.522206,.12815,.419549,.368627,.528444,.130341,.418142,.372549,.534683,.132534,.416667,.376471,.54092,.134729,.415123,.380392,.547157,.136929,.413511,.384314,.553392,.139134,.411829,.388235,.559624,.141346,.410078,.392157,.565854,.143567,.408258,.396078,.572081,.145797,.406369,.4,.578304,.148039,.404411,.403922,.584521,.150294,.402385,.407843,.590734,.152563,.40029,.411765,.59694,.154848,.398125,.415686,.603139,.157151,.395891,.419608,.60933,.159474,.393589,.423529,.615513,.161817,.391219,.427451,.621685,.164184,.388781,.431373,.627847,.166575,.386276,.435294,.633998,.168992,.383704,.439216,.640135,.171438,.381065,.443137,.64626,.173914,.378359,.447059,.652369,.176421,.375586,.45098,.658463,.178962,.372748,.454902,.66454,.181539,.369846,.458824,.670599,.184153,.366879,.462745,.676638,.186807,.363849,.466667,.682656,.189501,.360757,.470588,.688653,.192239,.357603,.47451,.694627,.195021,.354388,.478431,.700576,.197851,.351113,.482353,.7065,.200728,.347777,.486275,.712396,.203656,.344383,.490196,.718264,.206636,.340931,.494118,.724103,.20967,.337424,.498039,.729909,.212759,.333861,.501961,.735683,.215906,.330245,.505882,.741423,.219112,.326576,.509804,.747127,.222378,.322856,.513725,.752794,.225706,.319085,.517647,.758422,.229097,.315266,.521569,.76401,.232554,.311399,.52549,.769556,.236077,.307485,.529412,.775059,.239667,.303526,.533333,.780517,.243327,.299523,.537255,.785929,.247056,.295477,.541176,.791293,.250856,.29139,.545098,.796607,.254728,.287264,.54902,.801871,.258674,.283099,.552941,.807082,.262692,.278898,.556863,.812239,.266786,.274661,.560784,.817341,.270954,.27039,.564706,.822386,.275197,.266085,.568627,.827372,.279517,.26175,.572549,.832299,.283913,.257383,.576471,.837165,.288385,.252988,.580392,.841969,.292933,.248564,.584314,.846709,.297559,.244113,.588235,.851384,.30226,.239636,.592157,.855992,.307038,.235133,.596078,.860533,.311892,.230606,.6,.865006,.316822,.226055,.603922,.869409,.321827,.221482,.607843,.873741,.326906,.216886,.611765,.878001,.33206,.212268,.615686,.882188,.337287,.207628,.619608,.886302,.342586,.202968,.623529,.890341,.347957,.198286,.627451,.894305,.353399,.193584,.631373,.898192,.358911,.18886,.635294,.902003,.364492,.184116,.639216,.905735,.37014,.17935,.643137,.90939,.375856,.174563,.647059,.912966,.381636,.169755,.65098,.916462,.387481,.164924,.654902,.919879,.393389,.16007,.658824,.923215,.399359,.155193,.662745,.92647,.405389,.150292,.666667,.929644,.411479,.145367,.670588,.932737,.417627,.140417,.67451,.935747,.423831,.13544,.678431,.938675,.430091,.130438,.682353,.941521,.436405,.125409,.686275,.944285,.442772,.120354,.690196,.946965,.449191,.115272,.694118,.949562,.45566,.110164,.698039,.952075,.462178,.105031,.701961,.954506,.468744,.099874,.705882,.956852,.475356,.094695,.709804,.959114,.482014,.089499,.713725,.961293,.488716,.084289,.717647,.963387,.495462,.079073,.721569,.965397,.502249,.073859,.72549,.967322,.509078,.068659,.729412,.969163,.515946,.063488,.733333,.970919,.522853,.058367,.737255,.97259,.529798,.053324,.741176,.974176,.53678,.048392,.745098,.975677,.543798,.043618,.74902,.977092,.55085,.03905,.752941,.978422,.557937,.034931,.756863,.979666,.565057,.031409,.760784,.980824,.572209,.028508,.764706,.981895,.579392,.02625,.768627,.982881,.586606,.024661,.772549,.983779,.593849,.02377,.776471,.984591,.601122,.023606,.780392,.985315,.608422,.024202,.784314,.985952,.61575,.025592,.788235,.986502,.623105,.027814,.792157,.986964,.630485,.030908,.796078,.987337,.63789,.034916,.8,.987622,.64532,.039886,.803922,.987819,.652773,.045581,.807843,.987926,.66025,.05175,.811765,.987945,.667748,.058329,.815686,.987874,.675267,.065257,.819608,.987714,.682807,.072489,.823529,.987464,.690366,.07999,.827451,.987124,.697944,.087731,.831373,.986694,.70554,.095694,.835294,.986175,.713153,.103863,.839216,.985566,.720782,.112229,.843137,.984865,.728427,.120785,.847059,.984075,.736087,.129527,.85098,.983196,.743758,.138453,.854902,.982228,.751442,.147565,.858824,.981173,.759135,.156863,.862745,.980032,.766837,.166353,.866667,.978806,.774545,.176037,.870588,.977497,.782258,.185923,.87451,.976108,.789974,.196018,.878431,.974638,.797692,.206332,.882353,.973088,.805409,.216877,.886275,.971468,.813122,.227658,.890196,.969783,.820825,.238686,.894118,.968041,.828515,.249972,.898039,.966243,.836191,.261534,.901961,.964394,.843848,.273391,.905882,.962517,.851476,.285546,.909804,.960626,.859069,.29801,.913725,.95872,.866624,.31082,.917647,.956834,.874129,.323974,.921569,.954997,.881569,.337475,.92549,.953215,.888942,.351369,.929412,.951546,.896226,.365627,.933333,.950018,.903409,.380271,.937255,.948683,.910473,.395289,.941176,.947594,.917399,.410665,.945098,.946809,.924168,.426373,.94902,.946392,.930761,.442367,.952941,.946403,.937159,.458592,.956863,.946903,.943348,.47497,.960784,.947937,.949318,.491426,.964706,.949545,.955063,.50786,.968627,.95174,.960587,.524203,.972549,.954529,.965896,.540361,.976471,.957896,.971003,.556275,.980392,.961812,.975924,.571925,.984314,.966249,.980678,.587206,.988235,.971162,.985282,.602154,.992157,.976511,.989753,.61676,.996078,.982257,.994109,.631017,1,.988362,.998364,.644924]},{ColorSpace:"Diverging",Name:"Plasma (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.050383,.029803,.527975,.003922,.063536,.028426,.533124,.007843,.075353,.027206,.538007,.011765,.086222,.026125,.542658,.015686,.096379,.025165,.547103,.019608,.10598,.024309,.551368,.023529,.115124,.023556,.555468,.027451,.123903,.022878,.559423,.031373,.132381,.022258,.56325,.035294,.140603,.021687,.566959,.039216,.148607,.021154,.570562,.043137,.156421,.020651,.574065,.047059,.16407,.020171,.577478,.05098,.171574,.019706,.580806,.054902,.17895,.019252,.584054,.058824,.186213,.018803,.587228,.062745,.193374,.018354,.59033,.066667,.200445,.017902,.593364,.070588,.207435,.017442,.596333,.07451,.21435,.016973,.599239,.078431,.221197,.016497,.602083,.082353,.227983,.016007,.604867,.086275,.234715,.015502,.607592,.090196,.241396,.014979,.610259,.094118,.248032,.014439,.612868,.098039,.254627,.013882,.615419,.101961,.261183,.013308,.617911,.105882,.267703,.012716,.620346,.109804,.274191,.012109,.622722,.113725,.280648,.011488,.625038,.117647,.287076,.010855,.627295,.121569,.293478,.010213,.62949,.12549,.299855,.009561,.631624,.129412,.30621,.008902,.633694,.133333,.312543,.008239,.6357,.137255,.318856,.007576,.63764,.141176,.32515,.006915,.639512,.145098,.331426,.006261,.641316,.14902,.337683,.005618,.643049,.152941,.343925,.004991,.64471,.156863,.35015,.004382,.646298,.160784,.356359,.003798,.64781,.164706,.362553,.003243,.649245,.168627,.368733,.002724,.650601,.172549,.374897,.002245,.651876,.176471,.381047,.001814,.653068,.180392,.387183,.001434,.654177,.184314,.393304,.001114,.655199,.188235,.399411,859e-6,.656133,.192157,.405503,678e-6,.656977,.196078,.41158,577e-6,.65773,.2,.417642,564e-6,.65839,.203922,.423689,646e-6,.658956,.207843,.429719,831e-6,.659425,.211765,.435734,.001127,.659797,.215686,.441732,.00154,.660069,.219608,.447714,.00208,.66024,.223529,.453677,.002755,.66031,.227451,.459623,.003574,.660277,.231373,.46555,.004545,.660139,.235294,.471457,.005678,.659897,.239216,.477344,.00698,.659549,.243137,.48321,.00846,.659095,.247059,.489055,.010127,.658534,.25098,.494877,.01199,.657865,.254902,.500678,.014055,.657088,.258824,.506454,.016333,.656202,.262745,.512206,.018833,.655209,.266667,.517933,.021563,.654109,.270588,.523633,.024532,.652901,.27451,.529306,.027747,.651586,.278431,.534952,.031217,.650165,.282353,.54057,.03495,.64864,.286275,.546157,.038954,.64701,.290196,.551715,.043136,.645277,.294118,.557243,.047331,.643443,.298039,.562738,.051545,.641509,.301961,.568201,.055778,.639477,.305882,.573632,.060028,.637349,.309804,.579029,.064296,.635126,.313725,.584391,.068579,.632812,.317647,.589719,.072878,.630408,.321569,.595011,.07719,.627917,.32549,.600266,.081516,.625342,.329412,.605485,.085854,.622686,.333333,.610667,.090204,.619951,.337255,.615812,.094564,.61714,.341176,.620919,.098934,.614257,.345098,.625987,.103312,.611305,.34902,.631017,.107699,.608287,.352941,.636008,.112092,.605205,.356863,.640959,.116492,.602065,.360784,.645872,.120898,.598867,.364706,.650746,.125309,.595617,.368627,.65558,.129725,.592317,.372549,.660374,.134144,.588971,.376471,.665129,.138566,.585582,.380392,.669845,.142992,.582154,.384314,.674522,.147419,.578688,.388235,.67916,.151848,.575189,.392157,.683758,.156278,.57166,.396078,.688318,.160709,.568103,.4,.69284,.165141,.564522,.403922,.697324,.169573,.560919,.407843,.701769,.174005,.557296,.411765,.706178,.178437,.553657,.415686,.710549,.182868,.550004,.419608,.714883,.187299,.546338,.423529,.719181,.191729,.542663,.427451,.723444,.196158,.538981,.431373,.72767,.200586,.535293,.435294,.731862,.205013,.531601,.439216,.736019,.209439,.527908,.443137,.740143,.213864,.524216,.447059,.744232,.218288,.520524,.45098,.748289,.222711,.516834,.454902,.752312,.227133,.513149,.458824,.756304,.231555,.509468,.462745,.760264,.235976,.505794,.466667,.764193,.240396,.502126,.470588,.76809,.244817,.498465,.47451,.771958,.249237,.494813,.478431,.775796,.253658,.491171,.482353,.779604,.258078,.487539,.486275,.783383,.2625,.483918,.490196,.787133,.266922,.480307,.494118,.790855,.271345,.476706,.498039,.794549,.27577,.473117,.501961,.798216,.280197,.469538,.505882,.801855,.284626,.465971,.509804,.805467,.289057,.462415,.513725,.809052,.293491,.45887,.517647,.812612,.297928,.455338,.521569,.816144,.302368,.451816,.52549,.819651,.306812,.448306,.529412,.823132,.311261,.444806,.533333,.826588,.315714,.441316,.537255,.830018,.320172,.437836,.541176,.833422,.324635,.434366,.545098,.836801,.329105,.430905,.54902,.840155,.33358,.427455,.552941,.843484,.338062,.424013,.556863,.846788,.342551,.420579,.560784,.850066,.347048,.417153,.564706,.853319,.351553,.413734,.568627,.856547,.356066,.410322,.572549,.85975,.360588,.406917,.576471,.862927,.365119,.403519,.580392,.866078,.36966,.400126,.584314,.869203,.374212,.396738,.588235,.872303,.378774,.393355,.592157,.875376,.383347,.389976,.596078,.878423,.387932,.3866,.6,.881443,.392529,.383229,.603922,.884436,.397139,.37986,.607843,.887402,.401762,.376494,.611765,.89034,.406398,.37313,.615686,.89325,.411048,.369768,.619608,.896131,.415712,.366407,.623529,.898984,.420392,.363047,.627451,.901807,.425087,.359688,.631373,.904601,.429797,.356329,.635294,.907365,.434524,.35297,.639216,.910098,.439268,.34961,.643137,.9128,.444029,.346251,.647059,.915471,.448807,.34289,.65098,.918109,.453603,.339529,.654902,.920714,.458417,.336166,.658824,.923287,.463251,.332801,.662745,.925825,.468103,.329435,.666667,.928329,.472975,.326067,.670588,.930798,.477867,.322697,.67451,.933232,.48278,.319325,.678431,.93563,.487712,.315952,.682353,.93799,.492667,.312575,.686275,.940313,.497642,.309197,.690196,.942598,.502639,.305816,.694118,.944844,.507658,.302433,.698039,.947051,.512699,.299049,.701961,.949217,.517763,.295662,.705882,.951344,.52285,.292275,.709804,.953428,.52796,.288883,.713725,.95547,.533093,.28549,.717647,.957469,.53825,.282096,.721569,.959424,.543431,.278701,.72549,.961336,.548636,.275305,.729412,.963203,.553865,.271909,.733333,.965024,.559118,.268513,.737255,.966798,.564396,.265118,.741176,.968526,.5697,.261721,.745098,.970205,.575028,.258325,.74902,.971835,.580382,.254931,.752941,.973416,.585761,.25154,.756863,.974947,.591165,.248151,.760784,.976428,.596595,.244767,.764706,.977856,.602051,.241387,.768627,.979233,.607532,.238013,.772549,.980556,.613039,.234646,.776471,.981826,.618572,.231287,.780392,.983041,.624131,.227937,.784314,.984199,.629718,.224595,.788235,.985301,.63533,.221265,.792157,.986345,.640969,.217948,.796078,.987332,.646633,.214648,.8,.98826,.652325,.211364,.803922,.989128,.658043,.2081,.807843,.989935,.663787,.204859,.811765,.990681,.669558,.201642,.815686,.991365,.675355,.198453,.819608,.991985,.681179,.195295,.823529,.992541,.68703,.19217,.827451,.993032,.692907,.189084,.831373,.993456,.69881,.186041,.835294,.993814,.704741,.183043,.839216,.994103,.710698,.180097,.843137,.994324,.716681,.177208,.847059,.994474,.722691,.174381,.85098,.994553,.728728,.171622,.854902,.994561,.734791,.168938,.858824,.994495,.74088,.166335,.862745,.994355,.746995,.163821,.866667,.994141,.753137,.161404,.870588,.993851,.759304,.159092,.87451,.993482,.765499,.156891,.878431,.993033,.77172,.154808,.882353,.992505,.777967,.152855,.886275,.991897,.784239,.151042,.890196,.991209,.790537,.149377,.894118,.990439,.796859,.14787,.898039,.989587,.803205,.146529,.901961,.988648,.809579,.145357,.905882,.987621,.815978,.144363,.909804,.986509,.822401,.143557,.913725,.985314,.828846,.142945,.917647,.984031,.835315,.142528,.921569,.982653,.841812,.142303,.92549,.98119,.848329,.142279,.929412,.979644,.854866,.142453,.933333,.977995,.861432,.142808,.937255,.976265,.868016,.143351,.941176,.974443,.874622,.144061,.945098,.97253,.88125,.144923,.94902,.970533,.887896,.145919,.952941,.968443,.894564,.147014,.956863,.966271,.901249,.14818,.960784,.964021,.90795,.14937,.964706,.961681,.914672,.15052,.968627,.959276,.921407,.151566,.972549,.956808,.928152,.152409,.976471,.954287,.934908,.152921,.980392,.951726,.941671,.152925,.984314,.949151,.948435,.152178,.988235,.946602,.95519,.150328,.992157,.944152,.961916,.146861,.996078,.941896,.96859,.140956,1,.940015,.975158,.131326]},{ColorSpace:"Diverging",Name:"Viridis (matplotlib)",NanColor:[1,0,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Eric Firing",RGBPoints:[0,.267004,.004874,.329415,.003922,.26851,.009605,.335427,.007843,.269944,.014625,.341379,.011765,.271305,.019942,.347269,.015686,.272594,.025563,.353093,.019608,.273809,.031497,.358853,.023529,.274952,.037752,.364543,.027451,.276022,.044167,.370164,.031373,.277018,.050344,.375715,.035294,.277941,.056324,.381191,.039216,.278791,.062145,.386592,.043137,.279566,.067836,.391917,.047059,.280267,.073417,.397163,.05098,.280894,.078907,.402329,.054902,.281446,.08432,.407414,.058824,.281924,.089666,.412415,.062745,.282327,.094955,.417331,.066667,.282656,.100196,.42216,.070588,.28291,.105393,.426902,.07451,.283091,.110553,.431554,.078431,.283197,.11568,.436115,.082353,.283229,.120777,.440584,.086275,.283187,.125848,.44496,.090196,.283072,.130895,.449241,.094118,.282884,.13592,.453427,.098039,.282623,.140926,.457517,.101961,.28229,.145912,.46151,.105882,.281887,.150881,.465405,.109804,.281412,.155834,.469201,.113725,.280868,.160771,.472899,.117647,.280255,.165693,.476498,.121569,.279574,.170599,.479997,.12549,.278826,.17549,.483397,.129412,.278012,.180367,.486697,.133333,.277134,.185228,.489898,.137255,.276194,.190074,.493001,.141176,.275191,.194905,.496005,.145098,.274128,.199721,.498911,.14902,.273006,.20452,.501721,.152941,.271828,.209303,.504434,.156863,.270595,.214069,.507052,.160784,.269308,.218818,.509577,.164706,.267968,.223549,.512008,.168627,.26658,.228262,.514349,.172549,.265145,.232956,.516599,.176471,.263663,.237631,.518762,.180392,.262138,.242286,.520837,.184314,.260571,.246922,.522828,.188235,.258965,.251537,.524736,.192157,.257322,.25613,.526563,.196078,.255645,.260703,.528312,.2,.253935,.265254,.529983,.203922,.252194,.269783,.531579,.207843,.250425,.27429,.533103,.211765,.248629,.278775,.534556,.215686,.246811,.283237,.535941,.219608,.244972,.287675,.53726,.223529,.243113,.292092,.538516,.227451,.241237,.296485,.539709,.231373,.239346,.300855,.540844,.235294,.237441,.305202,.541921,.239216,.235526,.309527,.542944,.243137,.233603,.313828,.543914,.247059,.231674,.318106,.544834,.25098,.229739,.322361,.545706,.254902,.227802,.326594,.546532,.258824,.225863,.330805,.547314,.262745,.223925,.334994,.548053,.266667,.221989,.339161,.548752,.270588,.220057,.343307,.549413,.27451,.21813,.347432,.550038,.278431,.21621,.351535,.550627,.282353,.214298,.355619,.551184,.286275,.212395,.359683,.55171,.290196,.210503,.363727,.552206,.294118,.208623,.367752,.552675,.298039,.206756,.371758,.553117,.301961,.204903,.375746,.553533,.305882,.203063,.379716,.553925,.309804,.201239,.38367,.554294,.313725,.19943,.387607,.554642,.317647,.197636,.391528,.554969,.321569,.19586,.395433,.555276,.32549,.1941,.399323,.555565,.329412,.192357,.403199,.555836,.333333,.190631,.407061,.556089,.337255,.188923,.41091,.556326,.341176,.187231,.414746,.556547,.345098,.185556,.41857,.556753,.34902,.183898,.422383,.556944,.352941,.182256,.426184,.55712,.356863,.180629,.429975,.557282,.360784,.179019,.433756,.55743,.364706,.177423,.437527,.557565,.368627,.175841,.44129,.557685,.372549,.174274,.445044,.557792,.376471,.172719,.448791,.557885,.380392,.171176,.45253,.557965,.384314,.169646,.456262,.55803,.388235,.168126,.459988,.558082,.392157,.166617,.463708,.558119,.396078,.165117,.467423,.558141,.4,.163625,.471133,.558148,.403922,.162142,.474838,.55814,.407843,.160665,.47854,.558115,.411765,.159194,.482237,.558073,.415686,.157729,.485932,.558013,.419608,.15627,.489624,.557936,.423529,.154815,.493313,.55784,.427451,.153364,.497,.557724,.431373,.151918,.500685,.557587,.435294,.150476,.504369,.55743,.439216,.149039,.508051,.55725,.443137,.147607,.511733,.557049,.447059,.14618,.515413,.556823,.45098,.144759,.519093,.556572,.454902,.143343,.522773,.556295,.458824,.141935,.526453,.555991,.462745,.140536,.530132,.555659,.466667,.139147,.533812,.555298,.470588,.13777,.537492,.554906,.47451,.136408,.541173,.554483,.478431,.135066,.544853,.554029,.482353,.133743,.548535,.553541,.486275,.132444,.552216,.553018,.490196,.131172,.555899,.552459,.494118,.129933,.559582,.551864,.498039,.128729,.563265,.551229,.501961,.127568,.566949,.550556,.505882,.126453,.570633,.549841,.509804,.125394,.574318,.549086,.513725,.124395,.578002,.548287,.517647,.123463,.581687,.547445,.521569,.122606,.585371,.546557,.52549,.121831,.589055,.545623,.529412,.121148,.592739,.544641,.533333,.120565,.596422,.543611,.537255,.120092,.600104,.54253,.541176,.119738,.603785,.5414,.545098,.119512,.607464,.540218,.54902,.119423,.611141,.538982,.552941,.119483,.614817,.537692,.556863,.119699,.61849,.536347,.560784,.120081,.622161,.534946,.564706,.120638,.625828,.533488,.568627,.12138,.629492,.531973,.572549,.122312,.633153,.530398,.576471,.123444,.636809,.528763,.580392,.12478,.640461,.527068,.584314,.126326,.644107,.525311,.588235,.128087,.647749,.523491,.592157,.130067,.651384,.521608,.596078,.132268,.655014,.519661,.6,.134692,.658636,.517649,.603922,.137339,.662252,.515571,.607843,.14021,.665859,.513427,.611765,.143303,.669459,.511215,.615686,.146616,.67305,.508936,.619608,.150148,.676631,.506589,.623529,.153894,.680203,.504172,.627451,.157851,.683765,.501686,.631373,.162016,.687316,.499129,.635294,.166383,.690856,.496502,.639216,.170948,.694384,.493803,.643137,.175707,.6979,.491033,.647059,.180653,.701402,.488189,.65098,.185783,.704891,.485273,.654902,.19109,.708366,.482284,.658824,.196571,.711827,.479221,.662745,.202219,.715272,.476084,.666667,.20803,.718701,.472873,.670588,.214,.722114,.469588,.67451,.220124,.725509,.466226,.678431,.226397,.728888,.462789,.682353,.232815,.732247,.459277,.686275,.239374,.735588,.455688,.690196,.24607,.73891,.452024,.694118,.252899,.742211,.448284,.698039,.259857,.745492,.444467,.701961,.266941,.748751,.440573,.705882,.274149,.751988,.436601,.709804,.281477,.755203,.432552,.713725,.288921,.758394,.428426,.717647,.296479,.761561,.424223,.721569,.304148,.764704,.419943,.72549,.311925,.767822,.415586,.729412,.319809,.770914,.411152,.733333,.327796,.77398,.40664,.737255,.335885,.777018,.402049,.741176,.344074,.780029,.397381,.745098,.35236,.783011,.392636,.74902,.360741,.785964,.387814,.752941,.369214,.788888,.382914,.756863,.377779,.791781,.377939,.760784,.386433,.794644,.372886,.764706,.395174,.797475,.367757,.768627,.404001,.800275,.362552,.772549,.412913,.803041,.357269,.776471,.421908,.805774,.35191,.780392,.430983,.808473,.346476,.784314,.440137,.811138,.340967,.788235,.449368,.813768,.335384,.792157,.458674,.816363,.329727,.796078,.468053,.818921,.323998,.8,.477504,.821444,.318195,.803922,.487026,.823929,.312321,.807843,.496615,.826376,.306377,.811765,.506271,.828786,.300362,.815686,.515992,.831158,.294279,.819608,.525776,.833491,.288127,.823529,.535621,.835785,.281908,.827451,.545524,.838039,.275626,.831373,.555484,.840254,.269281,.835294,.565498,.84243,.262877,.839216,.575563,.844566,.256415,.843137,.585678,.846661,.249897,.847059,.595839,.848717,.243329,.85098,.606045,.850733,.236712,.854902,.616293,.852709,.230052,.858824,.626579,.854645,.223353,.862745,.636902,.856542,.21662,.866667,.647257,.8584,.209861,.870588,.657642,.860219,.203082,.87451,.668054,.861999,.196293,.878431,.678489,.863742,.189503,.882353,.688944,.865448,.182725,.886275,.699415,.867117,.175971,.890196,.709898,.868751,.169257,.894118,.720391,.87035,.162603,.898039,.730889,.871916,.156029,.901961,.741388,.873449,.149561,.905882,.751884,.874951,.143228,.909804,.762373,.876424,.137064,.913725,.772852,.877868,.131109,.917647,.783315,.879285,.125405,.921569,.79376,.880678,.120005,.92549,.804182,.882046,.114965,.929412,.814576,.883393,.110347,.933333,.82494,.88472,.106217,.937255,.83527,.886029,.102646,.941176,.845561,.887322,.099702,.945098,.85581,.888601,.097452,.94902,.866013,.889868,.095953,.952941,.876168,.891125,.09525,.956863,.886271,.892374,.095374,.960784,.89632,.893616,.096335,.964706,.906311,.894855,.098125,.968627,.916242,.896091,.100717,.972549,.926106,.89733,.104071,.976471,.935904,.89857,.108131,.980392,.945636,.899815,.112838,.984314,.9553,.901065,.118128,.988235,.964894,.902323,.123941,.992157,.974417,.90359,.130215,.996078,.983868,.904867,.136897,1,.993248,.906157,.143936]},{ShowIndexedColorActiveValues:1,IndexedColors:[.07,.5,.7,1,1,1,.85,1,1,.8,.5,1,.76,1,0,1,.71,.71,.5,.5,.5,.05,.05,1,1,.05,.05,.7,1,1,.7,.89,.96,.67,.36,.95,.54,1,0,.75,.65,.65,.5,.6,.6,1,.5,0,1,1,.19,.12,.94,.12,.5,.82,.89,.56,.25,.83,.24,1,0,.9,.9,.9,.75,.76,.78,.65,.65,.67,.54,.6,.78,.61,.48,.78,.5,.48,.78,.44,.48,.78,.36,.48,.76,1,.48,.38,.49,.5,.69,.76,.56,.56,.4,.56,.56,.74,.5,.89,1,.63,0,.65,.16,.16,.36,.72,.82,.44,.18,.69,0,1,0,.58,1,1,.58,.88,.88,.45,.76,.79,.33,.71,.71,.23,.62,.62,.14,.56,.56,.04,.49,.55,0,.41,.52,.88,.88,1,1,.85,.56,.65,.46,.45,.4,.5,.5,.62,.39,.71,.83,.48,0,.58,0,.58,.26,.62,.69,.34,.09,.56,0,.79,0,.44,.83,1,1,1,.78,.85,1,.78,.78,1,.78,.64,1,.78,.56,1,.78,.38,1,.78,.27,1,.78,.19,1,.78,.12,1,.78,0,1,.61,0,.9,.46,0,.83,.32,0,.75,.22,0,.67,.14,.3,.76,1,.3,.65,1,.13,.58,.84,.15,.49,.67,.15,.4,.59,.09,.33,.53,.96,.93,.82,.8,.82,.12,.71,.71,.76,.65,.33,.3,.34,.35,.38,.62,.31,.71,.67,.36,0,.46,.31,.27,.26,.51,.59,.26,0,.4,0,.49,0,.44,.67,.98,0,.73,1,0,.63,1,0,.56,1,0,.5,1,0,.42,1,.33,.36,.95,.47,.36,.89,.54,.31,.89,.63,.21,.83,.7,.12,.83,.7,.12,.73,.7,.05,.65,.74,.05,.53,.78,0,.4,.8,0,.35,.82,0,.31,.85,0,.27,.88,0,.22,.9,0,.18,.91,0,.15,.92,0,.14,.93,0,.13,.94,0,.12,.95,0,.11,.96,0,.1,.97,0,.09,.98,0,.08,.99,0,.07,1,0,.06],Annotations:[0,"Xx",1,"H",2,"He",3,"Li",4,"Be",5,"B",6,"C",7,"N",8,"O",9,"F",10,"Ne",11,"Na",12,"Mg",13,"Al",14,"Si",15,"P",16,"S",17,"Cl",18,"Ar",19,"K",20,"Ca",21,"Sc",22,"Ti",23,"V",24,"Cr",25,"Mn",26,"Fe",27,"Co",28,"Ni",29,"Cu",30,"Zn",31,"Ga",32,"Ge",33,"As",34,"Se",35,"Br",36,"Kr",37,"Rb",38,"Sr",39,"Y",40,"Zr",41,"Nb",42,"Mo",43,"Tc",44,"Ru",45,"Rh",46,"Pd",47,"Ag",48,"Cd",49,"In",50,"Sn",51,"Sb",52,"Te",53,"I",54,"Xe",55,"Cs",56,"Ba",57,"La",58,"Ce",59,"Pr",60,"Nd",61,"Pm",62,"Sm",63,"Eu",64,"Gd",65,"Tb",66,"Dy",67,"Ho",68,"Er",69,"Tm",70,"Yb",71,"Lu",72,"Hf",73,"Ta",74,"W",75,"Re",76,"Os",77,"Ir",78,"Pt",79,"Au",80,"Hg",81,"Tl",82,"Pb",83,"Bi",84,"Po",85,"At",86,"Rn",87,"Fr",88,"Ra",89,"Ac",90,"Th",91,"Pa",92,"U",93,"Np",94,"Pu",95,"Am",96,"Cm",97,"Bk",98,"Cf",99,"Es",100,"Fm",101,"Md",102,"No",103,"Lr",104,"Rf",105,"Db",106,"Sg",107,"Bh",108,"Hs",109,"Mt",110,"Ds",111,"Rg",112,"Cn",113,"Uut",114,"Uuq",115,"Uup",116,"Uuh",117,"Uus",118,"Uuo"],Name:"BlueObeliskElements"}],Oa=Object.create(null);gN.filter(function(t){return t.RGBPoints}).filter(function(t){return t.ColorSpace!=="CIELAB"}).forEach(function(t){Oa[t.Name]=t});var Na=Object.keys(Oa);Na.sort();function yN(t){return Oa[t]}function mN(t){!t.RGBPoints||t.ColorSpace==="CIELAB"||(Oa[t.Name]||(Na.push(t.Name),Na.sort()),Oa[t.Name]=t)}function _N(t){var e=Na.indexOf(t);e>-1&&Na.splice(e,1),delete Oa[t]}var ka={addPreset:mN,removePresetByName:_N,getPresetByName:yN,rgbPresetNames:Na};function xN(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mt(this,n)}}var ys=function(t){kt(n,Vt.exports.Component);var e=xN(n);function n(r){var a;return yt(this,n),(a=e.call(this,r)).validData=!1,a.currentVisibility=!0,a.lookupTable=ja.newInstance(),a.piecewiseFunction=gs.newInstance(),a.volume=lN.newInstance({visibility:!1}),a.mapper=dN.newInstance(),a.volume.setMapper(a.mapper),a.volume.getProperty().setRGBTransferFunction(0,a.lookupTable),a.volume.getProperty().setScalarOpacity(0,a.piecewiseFunction),a.volume.getProperty().setInterpolationTypeToLinear(),a}return mt(n,[{key:"render",value:function(){var r=this;return me.createElement(Xr.Consumer,null,function(a){return r.view||(a.renderer.addVolume(r.volume),r.view=a),me.createElement(Qt.Provider,{value:r},me.createElement(Bt.Provider,{value:r.mapper},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children)))})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.view&&this.view.renderer&&(this.view.renderer.removeVolume(this.volume),this.view=null),this.volume.delete(),this.volume=null,this.mapper.delete(),this.mapper=null}},{key:"update",value:function(r,a){var i,s=r.volume,o=r.property,c=r.mapper,u=r.colorMapPreset,l=r.colorDataRange,f=!1;if(!s||a&&s===a.volume||(f=this.volume.set(s)||f),!o||a&&o===a.property||(f=this.volume.getProperty().set(o)||f),!c||a&&c===a.mapper||(f=this.mapper.set(c)||f),u&&(!a||u!==a.colorMapPreset)){var h;f=!0;var p=ka.getPresetByName(u);this.lookupTable.applyColorMap(p),(h=this.lookupTable).setMappingRange.apply(h,we(l)),this.lookupTable.updateRange()}!l||a&&zr(l,a.colorDataRange)||(f=!0,typeof l=="string"?a?this.dataChanged():(this.lookupTable.setMappingRange(0,1),this.lookupTable.updateRange(),this.piecewiseFunction.setNodes([{x:0,y:0,midpoint:.5,sharpness:0},{x:1,y:1,midpoint:.5,sharpness:0}])):((i=this.lookupTable).setMappingRange.apply(i,we(l)),this.lookupTable.updateRange(),this.piecewiseFunction.setNodes([{x:l[0],y:0,midpoint:.5,sharpness:0},{x:l[1],y:1,midpoint:.5,sharpness:0}]))),s&&s.visibility!==void 0&&(this.currentVisibility=s.visibility,f=this.volume.setVisibility(this.currentVisibility&&this.validData)||f),f&&this.dataChanged()}},{key:"dataAvailable",value:function(){this.validData||(this.validData=!0,this.volume.setVisibility(this.currentVisibility),this.dataChanged())}},{key:"dataChanged",value:function(){if(this.props.colorDataRange==="auto"){this.mapper.update();var r,a=this.mapper.getInputData(),i=a&&a.getPointData().getScalars(),s=i&&i.getRange();s&&((r=this.lookupTable).setMappingRange.apply(r,we(s)),this.lookupTable.updateRange(),this.piecewiseFunction.setNodes([{x:s[0],y:0,midpoint:.5,sharpness:0},{x:s[1],y:1,midpoint:.5,sharpness:0}])),this.view&&this.view.renderView()}}}]),n}();ys.defaultProps={colorMapPreset:"erdc_rainbow_bright",colorDataRange:"auto"},ys.propTypes={id:ee.string,mapper:ee.object,volume:ee.object,property:ee.object,colorMapPreset:ee.string,colorDataRange:ee.oneOfType([ee.arrayOf(ee.number),ee.string]),children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};var Yo=S4.InterpolationType,Lh=I.vtkErrorMacro,Zo=4;function wN(t,e){e.classHierarchy.push("vtkImageProperty"),t.getMTime=function(){for(var n=e.mtime,r,a=0;a<Zo;a++)e.componentData[a].rGBTransferFunction&&(r=e.componentData[a].rGBTransferFunction.getMTime(),n=n>r?n:r),e.componentData[a].piecewiseFunction&&(r=e.componentData[a].piecewiseFunction.getMTime(),n=n>r?n:r);return n},t.setRGBTransferFunction=function(n,r){var a=n,i=r;return Number.isInteger(n)||(i=n,a=0),e.componentData[a].rGBTransferFunction!==i?(e.componentData[a].rGBTransferFunction=i,t.modified(),!0):!1},t.getRGBTransferFunction=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.componentData[n].rGBTransferFunction},t.setPiecewiseFunction=function(n,r){var a=n,i=r;return Number.isInteger(n)||(i=n,a=0),e.componentData[a].piecewiseFunction!==i?(e.componentData[a].piecewiseFunction=i,t.modified(),!0):!1},t.getPiecewiseFunction=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.componentData[n].piecewiseFunction},t.setScalarOpacity=function(n,r){var a=n,i=r;return Number.isInteger(n)||(i=n,a=0),t.setPiecewiseFunction(a,i)},t.getScalarOpacity=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t.getPiecewiseFunction(n)},t.setComponentWeight=function(n,r){if(n<0||n>=Zo)return Lh("Invalid index"),!1;var a=Math.min(1,Math.max(0,r));return e.componentData[n].componentWeight!==a?(e.componentData[n].componentWeight=a,t.modified(),!0):!1},t.getComponentWeight=function(n){return n<0||n>=Zo?(Lh("Invalid index"),0):e.componentData[n].componentWeight},t.setInterpolationTypeToNearest=function(){return t.setInterpolationType(Yo.NEAREST)},t.setInterpolationTypeToLinear=function(){return t.setInterpolationType(Yo.LINEAR)},t.getInterpolationTypeAsString=function(){return I.enumToString(Yo,e.interpolationType)}}var CN={independentComponents:!1,interpolationType:Yo.LINEAR,colorWindow:255,colorLevel:127.5,ambient:1,diffuse:0,opacity:1,useLookupTableScalarRange:!1};function Rg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,CN,n),I.obj(t,e),!e.componentData){e.componentData=[];for(var r=0;r<Zo;r++)e.componentData.push({rGBTransferFunction:null,piecewiseFunction:null,componentWeight:1})}I.setGet(t,e,["independentComponents","interpolationType","colorWindow","colorLevel","ambient","diffuse","opacity","useLookupTableScalarRange"]),wN(t,e)}var SN=I.newInstance(Rg,"vtkImageProperty"),TN={newInstance:SN,extend:Rg},bN=I.vtkDebugMacro;function EN(t,e){e.classHierarchy.push("vtkImageSlice"),t.getActors=function(){return t},t.getImages=function(){return t},t.getIsOpaque=function(){if(e.forceOpaque)return!0;if(e.forceTranslucent)return!1;e.property||t.getProperty();var n=e.property.getOpacity()>=1;return n=n&&(!e.mapper||e.mapper.getIsOpaque()),n},t.hasTranslucentPolygonalGeometry=function(){return!1},t.makeProperty=TN.newInstance,t.getProperty=function(){return e.property===null&&(e.property=t.makeProperty()),e.property},t.getBounds=function(){if(e.mapper===null)return e.bounds;var n=e.mapper.getBounds();if(!n||n.length!==6)return n;if(n[0]>n[1])return e.mapperBounds=n.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),n;var r=function(o){return o[0].map(function(c,u){return o.map(function(l){return l[u]})})};if(!e.mapperBounds||!r([n,e.mapperBounds]).reduce(function(s,o){return s&&o[0]===o[1]},!0)||t.getMTime()>e.boundsMTime.getMTime()){bN("Recomputing bounds..."),e.mapperBounds=n.map(function(s){return s});var a=[];Ke.getCorners(n,a),t.computeMatrix();var i=new Float64Array(16);Ze(i,e.matrix),a.forEach(function(s){return Te(s,s,i)}),e.bounds[0]=e.bounds[2]=e.bounds[4]=Number.MAX_VALUE,e.bounds[1]=e.bounds[3]=e.bounds[5]=-Number.MAX_VALUE,e.bounds=e.bounds.map(function(s,o){return o%2===0?a.reduce(function(c,u){return c>u[o/2]?u[o/2]:c},s):a.reduce(function(c,u){return c<u[(o-1)/2]?u[(o-1)/2]:c},s)}),e.boundsMTime.modified()}return e.bounds},t.getBoundsForSlice=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=e.mapper.getBoundsForSlice(n,r);if(!a||a.length!==6||a[0]>a[1])return a;var i=[];Ke.getCorners(a,i),t.computeMatrix();var s=new Float64Array(16);Ze(s,e.matrix),i.forEach(function(c){return Te(c,c,s)});var o=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];return o=o.map(function(c,u){return u%2===0?i.reduce(function(l,f){return l>f[u/2]?f[u/2]:l},c):i.reduce(function(l,f){return l<f[(u-1)/2]?f[(u-1)/2]:l},c)}),o},t.getMinXBound=function(){return t.getBounds(),e.bounds[0]},t.getMaxXBound=function(){return t.getBounds(),e.bounds[1]},t.getMinYBound=function(){return t.getBounds(),e.bounds[2]},t.getMaxYBound=function(){return t.getBounds(),e.bounds[3]},t.getMinZBound=function(){return t.getBounds(),e.bounds[4]},t.getMaxZBound=function(){return t.getBounds(),e.bounds[5]},t.getMTime=function(){var n=e.mtime;if(e.property!==null){var r=e.property.getMTime();n=r>n?r:n}return n},t.getRedrawMTime=function(){var n=e.mtime;if(e.mapper!==null){var r=e.mapper.getMTime();n=r>n?r:n,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),r=e.mapper.getInput().getMTime(),n=r>n?r:n)}if(e.property!==null){var a=e.property.getMTime();n=a>n?a:n,e.property.getRGBTransferFunction()!==null&&(a=e.property.getRGBTransferFunction().getMTime(),n=a>n?a:n)}return n},t.getSupportsSelection=function(){return e.mapper?e.mapper.getSupportsSelection():!1}}var DN={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1]};function Lg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,DN,n),dc.extend(t,e,n),e.boundsMTime={},I.obj(e.boundsMTime),I.set(t,e,["property"]),I.setGet(t,e,["mapper"]),I.getArray(t,e,["bounds"],6),EN(t,e)}var ON=I.newInstance(Lg,"vtkImageSlice"),NN={newInstance:ON,extend:Lg};function Fh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function I0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var kN=Aa.staticOffsetAPI,MN=Aa.otherStaticMethods,RN=I.vtkWarningMacro,je=Ju.SlicingMode;function LN(t,e){e.classHierarchy.push("vtkImageMapper"),t.getSliceAtPosition=function(a){var i=t.getInputData(),s;if(a.length===3)s=a;else if(Number.isFinite(a)){var o=i.getBounds();switch(e.slicingMode){case je.X:s=[a,(o[3]+o[2])/2,(o[5]+o[4])/2];break;case je.Y:s=[(o[1]+o[0])/2,a,(o[5]+o[4])/2];break;case je.Z:s=[(o[1]+o[0])/2,(o[3]+o[2])/2,a];break}}var c=[0,0,0];i.worldToIndex(s,c);var u=i.getExtent(),l=t.getClosestIJKAxis(),f=l.ijkMode,h=0;switch(f){case je.I:h=xa(c[0],u[0],u[1]);break;case je.J:h=xa(c[1],u[2],u[3]);break;case je.K:h=xa(c[2],u[4],u[5]);break;default:return 0}return h},t.setSliceFromCamera=function(a){var i=a.getFocalPoint();switch(e.slicingMode){case je.I:case je.J:case je.K:{var s=t.getSliceAtPosition(i);t.setSlice(s)}break;case je.X:t.setSlice(i[0]);break;case je.Y:t.setSlice(i[1]);break;case je.Z:t.setSlice(i[2]);break}},t.setXSlice=function(a){t.setSlicingMode(je.X),t.setSlice(a)},t.setYSlice=function(a){t.setSlicingMode(je.Y),t.setSlice(a)},t.setZSlice=function(a){t.setSlicingMode(je.Z),t.setSlice(a)},t.setISlice=function(a){t.setSlicingMode(je.I),t.setSlice(a)},t.setJSlice=function(a){t.setSlicingMode(je.J),t.setSlice(a)},t.setKSlice=function(a){t.setSlicingMode(je.K),t.setSlice(a)},t.getSlicingModeNormal=function(){var a=[0,0,0],i=t.getInputData().getDirection(),s=[[i[0],i[1],i[2]],[i[3],i[4],i[5]],[i[6],i[7],i[8]]];switch(e.slicingMode){case je.X:a[0]=1;break;case je.Y:a[1]=1;break;case je.Z:a[2]=1;break;case je.I:ro(s,[1,0,0],a);break;case je.J:ro(s,[0,1,0],a);break;case je.K:ro(s,[0,0,1],a);break}return a};function n(){var a;switch(e.slicingMode){case je.X:a=[1,0,0];break;case je.Y:a=[0,1,0];break;case je.Z:a=[0,0,1];break;default:e.closestIJKAxis={ijkMode:e.slicingMode,flip:!1};return}var i=[0,0,0],s=t.getInputData().getDirection(),o=[[s[0],s[1],s[2]],[s[3],s[4],s[5]],[s[6],s[7],s[8]]];ro(o,a,i);for(var c=0,u=-1,l=!1,f=0;f<i.length;++f){var h=Math.abs(i[f]);h>c&&(c=h,l=i[f]<0,u=f)}if(c!==1){var p="IJKXYZ"[e.slicingMode],d="IJKXYZ"[u];RN("Unaccurate slicing along ".concat(p," axis which ")+"is not aligned with any IJK axis of the image data. "+"Using ".concat(d," axis  as a fallback (").concat(c,"% aligned). ")+"Necessitates slice reformat that is not yet implemented.  You can switch the slicing mode on your mapper to do IJK slicing instead.")}e.closestIJKAxis={ijkMode:u,flip:l}}t.setSlicingMode=function(a){e.slicingMode!==a&&(e.slicingMode=a,t.getInputData()&&n(),t.modified())},t.getClosestIJKAxis=function(){return(e.closestIJKAxis===void 0||e.closestIJKAxis.ijkMode===je.NONE)&&t.getInputData()&&n(),e.closestIJKAxis},t.getBounds=function(){var a=t.getInputData();if(!a)return Ta();if(!e.useCustomExtents)return a.getBounds();var i=e.customDisplayExtent.slice(),s=t.getClosestIJKAxis(),o=s.ijkMode,c=e.slice;switch(o!==e.slicingMode&&(c=t.getSliceAtPosition(e.slice)),o){case je.I:i[0]=c,i[1]=c;break;case je.J:i[2]=c,i[3]=c;break;case je.K:i[4]=c,i[5]=c;break}return a.extentToBounds(i)},t.getBoundsForSlice=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.slice,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=t.getInputData();if(!s)return Ta();var o=s.getSpatialExtent(),c=t.getClosestIJKAxis(),u=c.ijkMode,l=a;switch(u!==e.slicingMode&&(l=t.getSliceAtPosition(a)),u){case je.I:o[0]=l-i,o[1]=l+i;break;case je.J:o[2]=l-i,o[3]=l+i;break;case je.K:o[4]=l-i,o[5]=l+i;break}return s.extentToBounds(o)},t.getIsOpaque=function(){return!0};function r(a,i){var s=t.getInputData(),o=s.getExtent(),c=[o[0],o[2],o[4]],u=t.getClosestIJKAxis(),l=u.ijkMode,f=e.slice;l!==e.slicingMode&&(f=t.getSliceAtPosition(f)),c[l]+=f;var h=[0,0,0];s.indexToWorld(c,h),c[l]+=1;var p=[0,0,0];s.indexToWorld(c,p),p[0]-=h[0],p[1]-=h[1],p[2]-=h[2],or(p,p);var d=zn.intersectWithLine(a,i,h,p);if(d.intersection){var y=d.x,m=[0,0,0];return s.worldToIndex(y,m),{t:d.t,absoluteIJK:m}}return null}t.intersectWithLineForPointPicking=function(a,i){var s=r(a,i);if(s){var o=t.getInputData(),c=o.getExtent(),u=[Math.round(s.absoluteIJK[0]),Math.round(s.absoluteIJK[1]),Math.round(s.absoluteIJK[2])];return u[0]<c[0]||u[0]>c[1]||u[1]<c[2]||u[1]>c[3]||u[2]<c[4]||u[2]>c[5]?null:{t:s.t,ijk:u}}return null},t.intersectWithLineForCellPicking=function(a,i){var s=r(a,i);if(s){var o=t.getInputData(),c=o.getExtent(),u=s.absoluteIJK,l=[Math.floor(u[0]),Math.floor(u[1]),Math.floor(u[2])];if(l[0]<c[0]||l[0]>c[1]-1||l[1]<c[2]||l[1]>c[3]-1||l[2]<c[4]||l[2]>c[5]-1)return null;var f=[u[0]-l[0],u[1]-l[1],u[2]-l[2]];return{t:s.t,ijk:l,pCoords:f}}return null}}var FN={displayExtent:[0,0,0,0,0,0],customDisplayExtent:[0,0,0,0],useCustomExtents:!1,slice:0,slicingMode:je.NONE,closestIJKAxis:{ijkMode:je.NONE,flip:!1},renderToRectangle:!1,sliceAtFocalPoint:!1};function Fg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,FN,n),Ls.extend(t,e,n),I.get(t,e,["slicingMode"]),I.setGet(t,e,["slice","closestIJKAxis","useCustomExtents","renderToRectangle","sliceAtFocalPoint"]),I.setGetArray(t,e,["customDisplayExtent"],4),Aa.implementCoincidentTopologyMethods(t,e),LN(t,e)}var AN=I.newInstance(Fg,"vtkImageMapper"),BN=I0(I0(I0({newInstance:AN,extend:Fg},kN),MN),Ju);function VN(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mt(this,n)}}var Eu=function(t){kt(n,Vt.exports.Component);var e=VN(n);function n(r){var a,i;yt(this,n),(i=e.call(this,r)).validData=!1,i.currentVisibility=!0,i.lookupTable=ja.newInstance();var s=ka.getPresetByName((a=i.props.colorMapPreset)!==null&&a!==void 0?a:"Grayscale");return i.lookupTable.applyColorMap(s),i.piecewiseFunction=gs.newInstance(),i.actor=NN.newInstance({visibility:!1}),i.mapper=BN.newInstance(),i.actor.setMapper(i.mapper),i.actor.getProperty().setRGBTransferFunction(0,i.lookupTable),i.actor.getProperty().setInterpolationTypeToLinear(),i}return mt(n,[{key:"render",value:function(){var r=this;return me.createElement(Xr.Consumer,null,function(a){return r.view||(a.renderer.addActor(r.actor),r.view=a),me.createElement(Qt.Provider,{value:r},me.createElement(Bt.Provider,{value:r.mapper},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children)))})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.view&&this.view.renderer&&this.view.renderer.removeActor(this.actor),this.actor.delete(),this.actor=null,this.mapper.delete(),this.mapper=null}},{key:"update",value:function(r,a){var i,s=r.actor,o=r.property,c=r.mapper,u=r.colorMapPreset,l=r.colorDataRange,f=r.iSlice,h=r.jSlice,p=r.kSlice,d=r.xSlice,y=r.ySlice,m=r.zSlice,_=!1;if(!s||a&&s===a.actor||(_=this.actor.set(s)||_),!o||a&&o===a.property||(_=this.actor.getProperty().set(o)||_),!c||a&&c===a.mapper||(_=this.mapper.set(c)||_),u&&(!a||u!==a.colorMapPreset)){_=!0;var v=ka.getPresetByName(u);this.lookupTable.applyColorMap(v)}!l||a&&zr(l,a.colorDataRange)||(_=!0,typeof l=="string"?a?this.dataChanged():(this.lookupTable.setMappingRange(0,1),this.lookupTable.updateRange(),this.piecewiseFunction.setNodes([{x:0,y:0,midpoint:.5,sharpness:0},{x:1,y:1,midpoint:.5,sharpness:0}])):((i=this.lookupTable).setMappingRange.apply(i,we(l)),this.lookupTable.updateRange(),this.piecewiseFunction.setNodes([{x:l[0],y:0,midpoint:.5,sharpness:0},{x:l[1],y:1,midpoint:.5,sharpness:0}]))),f==null||a&&f===a.iSlice||(_=this.mapper.setISlice(f)||_),h==null||a&&h===a.jSlice||(_=this.mapper.setJSlice(h)||_),p==null||a&&p===a.kSlice||(_=this.mapper.setKSlice(p)||_),d==null||a&&d===a.xSlice||(_=this.mapper.setXSlice(d)||_),y==null||a&&y===a.ySlice||(_=this.mapper.setYSlice(y)||_),m==null||a&&m===a.zSlice||(_=this.mapper.setZSlice(m)||_),s&&s.visibility!==void 0&&(this.currentVisibility=s.visibility,_=this.actor.setVisibility(this.currentVisibility&&this.validData)||_),_&&this.dataChanged()}},{key:"dataAvailable",value:function(){this.validData||(this.validData=!0,this.actor.setVisibility(this.currentVisibility),this.dataChanged())}},{key:"dataChanged",value:function(){if(this.props.colorDataRange==="auto"){var r;this.mapper.update();var a,i=this.mapper.getInputData(),s=i&&((r=i.getPointData())===null||r===void 0?void 0:r.getScalars()),o=s&&s.getRange();o&&((a=this.lookupTable).setMappingRange.apply(a,we(o)),this.lookupTable.updateRange(),this.piecewiseFunction.setNodes([{x:o[0],y:0,midpoint:.5,sharpness:0},{x:o[1],y:1,midpoint:.5,sharpness:0}])),this.view&&this.view.renderView()}}}]),n}();Eu.defaultProps={colorMapPreset:"Grayscale",colorDataRange:"auto"},Eu.propTypes={id:ee.string,mapper:ee.object,actor:ee.object,property:ee.object,colorMapPreset:ee.string,colorDataRange:ee.oneOfType([ee.arrayOf(ee.number),ee.string]),iSlice:ee.number,jSlice:ee.number,kSlice:ee.number,xSlice:ee.number,ySlice:ee.number,zSlice:ee.number,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};var UN=[{ColorSpace:"Diverging",Name:"Cool to Warm",NanColor:[1,1,0],RGBPoints:[0,.23137254902,.298039215686,.752941176471,.5,.865,.865,.865,1,.705882352941,.0156862745098,.149019607843]},{ColorSpace:"Diverging",Name:"Warm to Cool",NanColor:[1,1,0],RGBPoints:[0,.705882352941,.0156862745098,.149019607843,.5,.865,.865,.865,1,.23137254902,.298039215686,.752941176471]},{ColorSpace:"RGB",Name:"Rainbow Desaturated",NanColor:[1,1,0],RGBPoints:[0,.278431372549,.278431372549,.858823529412,.143,0,0,.360784313725,.285,0,1,1,.429,0,.501960784314,0,.571,1,1,0,.714,1,.380392156863,0,.857,.419607843137,0,0,1,.878431372549,.301960784314,.301960784314]},{ColorSpace:"RGB",Name:"Cold and Hot",NanColor:[1,1,0],RGBPoints:[0,0,1,1,.45,0,0,1,.5,0,0,.501960784314,.55,1,0,0,1,1,1,0]},{ColorSpace:"RGB",Name:"Black-Body Radiation",NanColor:[0,.498039215686,1],RGBPoints:[0,0,0,0,.4,.901960784314,0,0,.8,.901960784314,.901960784314,0,1,1,1,1]},{ColorSpace:"RGB",Name:"X Ray",NanColor:[1,0,0],RGBPoints:[0,1,1,1,1,0,0,0]},{ColorSpace:"RGB",Name:"Grayscale",NanColor:[1,0,0],RGBPoints:[0,0,0,0,1,1,1,1]},{ColorSpace:"RGB",Name:"Black, Blue and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,0,0,.501960784314,.666,0,.501960784314,1,1,1,1,1]},{ColorSpace:"RGB",Name:"Black, Orange and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,.501960784314,0,0,.666,1,.501960784314,0,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_rainbow_bright",RGBPoints:[-1,.32549,.14902,.960784,-.866221,.297047,.375586,.963836,-.732441,.180302,.536818,.964627,-.598662,.1302,.649207,.929647,-.464883,.0445143,.749654,.855998,-.331104,.0271325,.830713,.721527,-.197324,.259504,.866145,.543555,-.0635452,.428364,.890725,.329819,.0702341,.568503,.898508,.187623,.204013,.738259,.890317,.0825461,.337793,.84546,.86136,.0147555,.471572,.912191,.808018,0,.605351,.962848,.710445,0,.73913,.999469,.600258,.0176284,.87291,.994156,.445975,.193912,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"erdc_rainbow_dark",RGBPoints:[-1,0,0,.423499,-.866221,0,.119346,.529237,-.732441,0,.238691,.634976,-.598662,0,.346852,.68788,-.464883,0,.45022,.718141,-.331104,0,.553554,.664839,-.197324,0,.651082,.519303,-.0635452,.115841,.72479,.352857,.0702341,.326771,.781195,.140187,.204013,.522765,.798524,.0284624,.337793,.703162,.788685,.00885756,.471572,.845118,.751133,0,.605351,.955734,.690825,0,.73913,.995402,.567916,.0618524,.87291,.987712,.403398,.164851,1,.980407,.247105,.262699]}],Ma=Object.create(null);UN.filter(function(t){return t.RGBPoints}).filter(function(t){return t.ColorSpace!=="CIELAB"}).forEach(function(t){Ma[t.Name]=t});var Ra=Object.keys(Ma);Ra.sort();function GN(t){return Ma[t]}function PN(t){!t.RGBPoints||t.ColorSpace==="CIELAB"||(Ma[t.Name]||(Ra.push(t.Name),Ra.sort()),Ma[t.Name]=t)}function jN(t){var e=Ra.indexOf(t);e>-1&&Ra.splice(e,1),delete Ma[t]}var Ag={addPreset:PN,removePresetByName:jN,getPresetByName:GN,rgbPresetNames:Ra};class zN{constructor(){Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}emit(e,...n){if(!this.__listeners[e])return this;for(const r of this.__listeners[e])r(...n);return this}once(e,n){const r=(...a)=>{this.off(e,r),n(...a)};return this.on(e,r)}on(e,n){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(n),this}off(e,n){return n?this.__listeners[e]=this.__listeners[e].filter(r=>r!==n):this.__listeners[e]=[],this}}var IN=zN;const WN=IN,HN=0,$N=1,KN=1;class XN extends WN{constructor(e){super();this._messageId=1,this._messages=new Map,this._worker=e,this._worker.onmessage=this._onMessage.bind(this),this._id=Math.ceil(Math.random()*1e7)}terminate(){this._worker.terminate()}isFree(){return this._messages.size===0}jobsLength(){return this._messages.size}exec(e,n=null,r=[],a){return new Promise((i,s)=>{const o=this._messageId++;this._messages.set(o,[i,s,a]),this._worker.postMessage([o,n,e],r||[])})}postMessage(e=null,n=[],r){return new Promise((a,i)=>{const s=this._messageId++;this._messages.set(s,[a,i,r]),this._worker.postMessage([s,e],n||[])})}emit(e,...n){this._worker.postMessage({eventName:e,args:n})}_onMessage(e){if(!Array.isArray(e.data)&&e.data.eventName)return super.emit(e.data.eventName,...e.data.args);const[n,...r]=e.data;if(n===$N)this._onEvent(...r);else if(n===HN)this._onResult(...r);else throw new Error(`Wrong message type '${n}'`)}_onResult(e,n,r){const[a,i]=this._messages.get(e);return this._messages.delete(e),n===KN?a(r):i(r)}_onEvent(e,n,r){const[,,a]=this._messages.get(e);a&&a(n,r)}}var qN=XN;function YN(t,e){var n=e===void 0?null:e,r=/(['"])__worker_loader_strict__(['"])/g,a=[],i=t.toString();return i=i.replace(r,"$1use strict$2"),a.push("("+i+")()"),n&&a.push("//# sourceMappingURL="+n+`
`),a}function ZN(t,e){var n=YN(t,e),r=new Blob(n,{type:"application/javascript"});return URL.createObjectURL(r)}function JN(t,e){var n;return function(a){return n=n||ZN(t,e),new Worker(n,a)}}var QN=JN(function(){(function(){var t={exports:{}},e=function(){function S(T,b){for(var O=0;O<b.length;O++){var D=b[O];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}return function(T,b,O){return b&&S(T.prototype,b),O&&S(T,O),T}}();function n(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}var r=function(){function S(){n(this,S),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return e(S,[{key:"emit",value:function(b){if(!this.__listeners[b])return this;for(var O=arguments.length,D=Array(O>1?O-1:0),N=1;N<O;N++)D[N-1]=arguments[N];var R=!0,E=!1,A=void 0;try{for(var W=this.__listeners[b][Symbol.iterator](),z;!(R=(z=W.next()).done);R=!0){var F=z.value;F.apply(void 0,D)}}catch(L){E=!0,A=L}finally{try{!R&&W.return&&W.return()}finally{if(E)throw A}}return this}},{key:"once",value:function(b,O){var D=this,N=function R(){D.off(b,R),O.apply(void 0,arguments)};return this.on(b,N)}},{key:"on",value:function(b,O){return this.__listeners[b]||(this.__listeners[b]=[]),this.__listeners[b].push(O),this}},{key:"off",value:function(b,O){return O?this.__listeners[b]=this.__listeners[b].filter(function(D){return D!==O}):this.__listeners[b]=[],this}}]),S}(),a=r,i=function(){function S(T,b){for(var O=0;O<b.length;O++){var D=b[O];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}return function(T,b,O){return b&&S(T.prototype,b),O&&S(T,O),T}}(),s=function S(T,b,O){T===null&&(T=Function.prototype);var D=Object.getOwnPropertyDescriptor(T,b);if(D===void 0){var N=Object.getPrototypeOf(T);return N===null?void 0:S(N,b,O)}else{if("value"in D)return D.value;var R=D.get;return R===void 0?void 0:R.call(O)}},o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S};function c(S){if(Array.isArray(S)){for(var T=0,b=Array(S.length);T<S.length;T++)b[T]=S[T];return b}else return Array.from(S)}function u(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function l(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:S}function f(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);S.prototype=Object.create(T&&T.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(S,T):S.__proto__=T)}function h(S,T,b){return T in S?Object.defineProperty(S,T,{value:b,enumerable:!0,configurable:!0,writable:!0}):S[T]=b,S}var p=a,d=0,y=1,m=0,_=1,v="main",g=function(T){return(typeof T=="undefined"?"undefined":o(T))==="object"&&T!==null&&typeof T.then=="function"&&typeof T.catch=="function"};function x(S){var T=h({},v,S),b=self.postMessage.bind(self),O=new(function(A){f(W,A);function W(){return u(this,W),l(this,(W.__proto__||Object.getPrototypeOf(W)).apply(this,arguments))}return i(W,[{key:"emit",value:function(F){for(var L=arguments.length,G=Array(L>1?L-1:0),H=1;H<L;H++)G[H-1]=arguments[H];return G.length==1&&G[0]instanceof w?b({eventName:F,args:G},G[0].transferable):b({eventName:F,args:G}),this}},{key:"emitLocally",value:function(F){for(var L,G=arguments.length,H=Array(G>1?G-1:0),$=1;$<G;$++)H[$-1]=arguments[$];(L=s(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"emit",this)).call.apply(L,[this,F].concat(H))}},{key:"operation",value:function(F,L){return T[F]=L,this}}]),W}(p)),D=function(W,z,F){var L=function(J){J&&J instanceof w?R(W,_,J.payload,J.transferable):R(W,_,J)},G=function(J){R(W,m,{message:J.message,stack:J.stack})};try{var H=N(W,z,F);g(H)?H.then(L).catch(G):L(H)}catch($){G($)}},N=function(W,z,F){var L=T[F||v];if(!L)throw new Error("Not found handler for this request");return L(z,E.bind(null,W))},R=function(W,z,F){var L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];b([d,W,z,F],L)},E=function(W,z,F){if(!z)throw new Error("eventName is required");if(typeof z!="string")throw new Error("eventName should be string");b([y,W,z,F])};return self.addEventListener("message",function(A){var W=A.data;Array.isArray(W)?D.apply(void 0,c(W)):W&&W.eventName&&O.emitLocally.apply(O,[W.eventName].concat(c(W.args)))}),O}var w=function S(T,b){u(this,S),this.payload=T,this.transferable=b};t.exports=x,t.exports.TransferableResponse=w;var C=t.exports;C(function(S,T){var b=S.array,O=S.min,D=S.max,N=S.component||0,R=S.numberOfComponents||1,E=S.numberOfBins,A=D-O,W=new Float32Array(E);W.fill(0);for(var z=b.length,F=N;F<z;F+=R){var L=Math.floor((E-1)*(Number(b[F])-O)/A);W[L]+=1}return Promise.resolve(new C.TransferableResponse(W,[W.buffer]))})})()},null);function Ah(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ha(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ah(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ah(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ms=.001,W0={adjustPosition:"-webkit-grab",adjustHeight:"row-resize",adjustBias:"crosshair",adjustWidth:"col-resize",adjustZoom:"col-resize"},Et=[],H0={adjustPosition:function(e,n,r){var a=r.originalXY,i=r.gaussian,s=r.originalGaussian,o=s.position-a[0];return i.position=e+o,!0},adjustHeight:function(e,n,r){var a=r.model,i=r.gaussian;return i.height=1-n,i.height=Math.min(1,Math.max(a.gaussianMinimumHeight,i.height)),!0},adjustBias:function(e,n,r){var a=r.originalXY,i=r.gaussian,s=r.originalGaussian;return i.xBias=s.xBias-(a[0]-e)/i.height,i.yBias=s.yBias+4*(a[1]-n)/i.height,i.xBias=Math.max(-1,Math.min(1,i.xBias)),i.yBias=Math.max(0,Math.min(2,i.yBias)),!0},adjustWidth:function(e,n,r){var a=r.originalXY,i=r.gaussian,s=r.originalGaussian,o=r.gaussianSide;return i.width=o<0?s.width-(a[0]-e):s.width+(a[0]-e),i.width<ms&&(i.width=ms),!0},adjustZoom:function(e,n,r){var a=r.rangeZoom,i=r.publicAPI,s=a[1]-a[0],o=(e-a[0])/s,c=Math.abs(o-a[0]),u=Math.abs(o-a[1]),l=Math.abs(o-.5*(a[0]+a[1]));if(l<Math.min(c,u)){var f=s*.5;a[0]=Math.min(Math.max(o-f,0),a[1]-.1),a[1]=Math.max(Math.min(o+f,1),a[0]+.1)}else c<u?a[0]=Math.min(Math.max(o,0),a[1]-.1):a[1]=Math.max(Math.min(o,1),a[0]+.1);return i.invokeZoomChange(a),!1}};function Nn(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:256,n=[];n.length<e;)n.push(0);for(var r=t.length;r--;)for(var a=t[r],i=a.position,s=a.height,o=a.width,c=a.xBias,u=a.yBias,l=0;l<e;l++){var f=l/(e-1);if(f>i+o||f<i-o){n[l]<0&&(n[l]=0);continue}var h=o<ms?ms:o,p=0;c===0||f===i+c?p=f:f>i+c?h===c?p=i:p=i+(f-i-c)*(h/(h-c)):-h===c?p=i:p=i-(f-i-c)*(h/(h+c));var d=(p-i)/h,y=Math.exp(-(4*d*d)),m=1-d*d,_=1,v=void 0;u<1?v=u*m+(1-u)*y:v=(2-u)*m+(u-1)*_;var g=s*v;g>n[l]&&(n[l]=g)}return n}function ek(t,e,n,r){for(var a=Nn(t,e),i=[],s=(n[1]-n[0])/(a.length-1),o=.5,c=0,u=0;u<a.length;u++){var l=n[0]+s*u,f=a[u];i.push({x:l,y:f,midpoint:o,sharpness:c})}r.setNodes(i)}function pa(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{lineWidth:1,strokeStyle:"#000"},a=e[3],i=e[2]/(n.length-1),s=!!r.fillStyle,o=a+e[1];t.lineWidth=r.lineWidth,t.strokeStyle=r.strokeStyle,t.beginPath(),t.moveTo(e[0],e[1]+e[3]);for(var c=0;c<n.length;c++)t.lineTo(e[0]+c*i,Math.max(e[1],o-n[c]*a));if(s){if(t.fillStyle=r.fillStyle,t.lineTo(e[0]+e[2],e[1]+e[3]),r.clip){t.clip();return}t.fill()}t.stroke()}function tk(t,e,n,r){var a=r||document.createElement("canvas");a.setAttribute("width",e),a.setAttribute("height",256);for(var i=a.getContext("2d"),s=t.getUint8Table(n[0],n[1],e,4),o=i.getImageData(0,0,e,256),c=0;c<256;c++)o.data.set(s,c*4*e);for(var u=256*e*4,l=e*4,f=3;f<u;f+=4)o.data[f]=255-Math.floor(f/l);return i.putImageData(o,0,0),a}function rk(t,e,n){var r=n||document.createElement("canvas");r.setAttribute("width",e),r.setAttribute("height",256);var a=r.getContext("2d");return a.drawImage(t,0,0,t.width,t.height,0,0,e,256),r}function tn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0,1];return[r[0]+(t-n[0])/n[2]*(r[1]-r[0]),(e-n[1])/n[3]]}function ci(t,e){var n=e.map(function(a){return Math.abs(a.position-t)}),r=Math.min.apply(Math,we(n));return n.indexOf(r)}function Ar(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function(n){var r=n.offsetX,a=n.offsetY;e&&n.preventDefault(),t(r,a)}}function nk(){for(var t=Et.length,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Et.push({callbacks:n,timeout:0,deltaT:200,count:0,ready:!1}),t}function ak(){Et.filter(function(t){return t.ready}).forEach(function(t){t.callbacks.forEach(function(e){e.touches===t.touches&&e.clicks===t.count&&e.action.apply(e,we(t.singleTouche))}),t.ts=0,t.count=0,t.touches=0,t.ready=!1})}function Ao(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return function(a){var i=a.target.getBoundingClientRect(),s=Array.prototype.map.call(a.touches,function(c){return[c.pageX-i.left,c.pageY-i.top]}),o=s.reduce(function(c,u){return[c[0]+u[0],c[1]+u[1]]},[0,0]).map(function(c){return c/a.touches.length});a.type==="touchstart"?(clearTimeout(Et[t].timeout),Et[t].ts=a.timeStamp,Et[t].singleTouche=o,Et[t].touches=a.touches.length):a.type==="touchmove"?(Et[t].ts=0,Et[t].count=0,Et[t].ready=!1):a.type==="touchend"&&(a.timeStamp-Et[t].ts<Et[t].deltaT?(Et[t].count+=1,Et[t].ready=!0,r&&a.preventDefault(),Et[t].timeout=setTimeout(ak,Et[t].deltaT)):Et[t].ready=!1),a.touches.length===n&&(e.apply(void 0,we(o)),r&&a.preventDefault())}}function Du(t,e,n){return function(r){return t()?e(r):n(r)}}function Qa(t,e){if(!e)return t;var n=t.length-1,r=e.map(function(a){return Math.round(a*n)});return t.slice(r[0],r[1]+1)}function ik(t,e){return e?(t-e[0])/(e[1]-e[0]):t}var ok={applyGaussianToPiecewiseFunction:ek,computeOpacities:Nn,createListener:Ar,drawChart:pa,findGaussian:ci,listenerSelector:Du,normalizeCoordinates:tn};function sk(t,e){e.classHierarchy.push("vtkPiecewiseGaussianWidget"),e.canvas||(e.canvas=document.createElement("canvas")),t.setContainer=function(a){e.container&&e.container!==a&&e.container.removeChild(e.canvas),e.container!==a&&(e.container=a,e.container&&e.container.appendChild(e.canvas),t.modified())},t.setGaussians=function(a){e.gaussians!==a&&(e.gaussians=a,e.opacities=Nn(e.gaussians,e.piecewiseSize),t.invokeOpacityChange(t),t.modified())},t.addGaussian=function(a,i,s,o,c){var u=e.gaussians.length;return e.gaussians.push({position:a,height:i,width:s,xBias:o,yBias:c}),e.opacities=Nn(e.gaussians,e.piecewiseSize),t.invokeOpacityChange(t),t.modified(),u},t.removeGaussian=function(a){e.gaussians.splice(a,1),e.opacities=Nn(e.gaussians,e.piecewiseSize),t.invokeOpacityChange(t),t.modified()},t.setSize=function(a,i){e.canvas.setAttribute("width",a),e.canvas.setAttribute("height",i),(e.size[0]!==a||e.size[1]!==i)&&(e.size=[a,i],e.colorCanvasMTime=0,t.modified())},t.updateStyle=function(a){e.style=ha(ha({},e.style),a),t.modified()},t.setDataArray=function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.numberOfBinToConsiders,o=s===void 0?1:s,c=i.numberOfBinsToSkip,u=c===void 0?1:c,l=i.numberOfComponents,f=l===void 0?1:l,h=i.component,p=h===void 0?0:h;e.histogram=null,e.histogramArray=a,e.dataRange=T5(a,p,f);var d=We(e.dataRange,2),y=d[0],m=d[1],_=4,v=Math.floor(a.length/_)||1;v+=v%f;for(var g=0,x=[],w=[];g<a.length;){var C=new QN;w.push(C);var S=new qN(C),T=g,b=Math.min(g+v,a.length-1),O=new a.constructor(a.slice(T,b+1));x.push(S.postMessage({array:O,component:p,numberOfComponents:f,min:y,max:m,numberOfBins:e.numberOfBins},[O.buffer])),g+=v}Promise.all(x).then(function(D){w.forEach(function(F){return F.terminate()}),e.histogram=new Float32Array(e.numberOfBins),e.histogram.fill(0),D.forEach(function(F){for(var L=0,G=F.length;L<G;++L)e.histogram[L]+=F[L]});var N=Math.min(o,e.histogram.length-u),R=Array.from(e.histogram);R.sort(function(F,L){return Number(F)-Number(L)});for(var E=0;E<u;E++)R.pop();for(;R.length>N;)R.shift();for(var A=R.reduce(function(F,L){return F+L},0)/N,W=0,z=e.histogram.length;W<z;++W)e.histogram[W]/=A;t.modified(),setTimeout(t.render,0)}),t.modified()},t.onClick=function(a,i){var s=tn(a,i,e.graphArea,e.enableRangeZoom?e.rangeZoom:null),o=We(s,2),c=o[0],u=o[1];if(c<0&&e.style.iconSize>1){for(var l=e.style.iconSize+e.style.padding,f=l,h=0;i>f;)h+=1,f+=l;switch(h){case 0:{var p=t.addGaussian(0,1,.1,0,0),d=e.gaussians[p],y=ha({},d),m=H0.adjustPosition;e.activeGaussian=p,e.selectedGaussian=p,I.setImmediate(function(){t.onDown(a,i),e.dragAction={originalXY:[0,0],action:m,gaussian:d,originalGaussian:y}});break}case 1:{e.selectedGaussian!==-1&&t.removeGaussian(e.selectedGaussian);break}default:e.selectedGaussian=-1,e.dragAction=null}}else if(c<0||c>1||u<0||u>1)e.selectedGaussian=-1,e.dragAction=null;else{var _=ci(c,e.gaussians);_!==e.selectedGaussian&&(e.selectedGaussian=_,t.modified())}return!0},t.onHover=function(a,i){var s=20/e.canvas.height,o=tn(a,i,e.graphArea,e.enableRangeZoom?e.rangeZoom:null),c=We(o,2),u=c[0],l=c[1],f=tn(a,i,e.graphArea),h=We(f,1),p=h[0],d=u<0?e.selectedGaussian:ci(u,e.gaussians);e.canvas.style.cursor="default";var y=e.gaussians[d];if(e.enableRangeZoom&&p>=0&&i<e.graphArea[1]-6){var m=(e.rangeZoom[1]-e.rangeZoom[0])/3;p<e.rangeZoom[0]+m||p>e.rangeZoom[1]-m?e.canvas.style.cursor=W0.adjustZoom:e.canvas.style.cursor=W0.adjustPosition,e.dragAction={rangeZoom:e.rangeZoom,action:H0.adjustZoom}}else if(y&&p>=0){var _=1-l,v=null;_>y.height+s?v="adjustPosition":_>y.height-s?Math.abs(u-y.position)<s?v="adjustHeight":v="adjustPosition":_>y.height*.5+s?v="adjustPosition":_>y.height*.5-s?Math.abs(u-y.position)<s?v="adjustBias":v="adjustPosition":_>s?v="adjustPosition":v="adjustWidth",e.canvas.style.cursor=W0[v];var g=H0[v],x=ha({},y);e.dragAction={originalXY:[u,l],action:g,gaussian:y,originalGaussian:x}}return d!==e.activeGaussian&&(e.activeGaussian=d,t.modified()),!0},t.onDown=function(a,i){e.mouseIsDown||t.invokeAnimation(!0),e.mouseIsDown=!0;var s=tn(a,i,e.graphArea,e.enableRangeZoom?e.rangeZoom:null)[0],o=ci(s,e.gaussians);e.gaussianSide=0;var c=e.gaussians[o];return c&&(e.gaussianSide=c.position-s),o!==e.selectedGaussian&&s>0&&(e.selectedGaussian=o,t.modified()),!0},t.onDrag=function(a,i){if(e.dragAction){var s=tn(a,i,e.graphArea,e.enableRangeZoom?e.rangeZoom:null),o=We(s,2),c=o[0],u=o[1],l=e.dragAction.action;l(c,u,ha({gaussianSide:e.gaussianSide,model:e,publicAPI:t},e.dragAction))&&(e.opacities=Nn(e.gaussians,e.piecewiseSize),t.invokeOpacityChange(t,!0)),t.modified()}return!0},t.onUp=function(a,i){return e.mouseIsDown&&t.invokeAnimation(!1),e.mouseIsDown=!1,!0},t.onLeave=function(a,i){return t.onUp(a,i),e.canvas.style.cursor="default",e.activeGaussian=-1,t.modified(),!0},t.onAddGaussian=function(a,i){var s=tn(a,i,e.graphArea,e.enableRangeZoom?e.rangeZoom:null),o=We(s,2),c=o[0],u=o[1];return c>=0&&t.addGaussian(c,1-u,.1,0,0),!0},t.onRemoveGaussian=function(a,i){var s=tn(a,i,e.graphArea,e.enableRangeZoom?e.rangeZoom:null)[0],o=ci(s,e.gaussians);return s>=0&&o!==-1&&t.removeGaussian(o),!0},t.bindMouseListeners=function(){if(!e.listeners){var a=function(){return!!e.mouseIsDown},i=nk({clicks:1,touches:1,action:t.onClick},{clicks:2,touches:1,action:t.onAddGaussian},{clicks:2,touches:2,action:t.onRemoveGaussian});e.listeners={mousemove:Du(a,Ar(t.onDrag),Ar(t.onHover)),dblclick:Ar(t.onAddGaussian),contextmenu:Ar(t.onRemoveGaussian),click:Ar(t.onClick),mouseup:Ar(t.onUp),mousedown:Ar(t.onDown),mouseout:Ar(t.onLeave),touchstart:Ao(i,I.chain(t.onHover,t.onDown)),touchmove:Du(a,Ao(i,t.onDrag),Ao(i,t.onHover)),touchend:Ao(i,t.onUp,0)},Object.keys(e.listeners).forEach(function(s){e.canvas.addEventListener(s,e.listeners[s],!1)})}},t.unbindMouseListeners=function(){e.listeners&&(Object.keys(e.listeners).forEach(function(a){e.canvas.removeEventListener(a,e.listeners[a])}),delete e.listeners)},t.render=function(){var a=e.canvas.getContext("2d");a.imageSmoothingEnabled=!0;var i=We(e.size,2),s=i[0],o=i[1],c=e.style.padding,u=[Math.floor(e.style.iconSize+c),Math.floor(c),Math.ceil(s-2*c-e.style.iconSize),Math.ceil(o-2*c)],l=e.style.zoomControlHeight;if(e.enableRangeZoom&&(u[1]+=Math.floor(l),u[3]-=Math.floor(l)),e.graphArea=u,a.clearRect(0,0,s,o),a.lineJoin="round",a.fillStyle=e.style.backgroundColor,a.fillRect.apply(a,u),e.style.iconSize>1){var f=Math.round(e.style.iconSize/2-e.style.strokeWidth),h=Math.round(f+c+e.style.strokeWidth);a.beginPath(),a.lineWidth=e.style.buttonStrokeWidth,a.strokeStyle=e.style.buttonStrokeColor,a.arc(h-c/2,h,f,0,2*Math.PI,!1),a.fillStyle=e.style.buttonFillColor,a.fill(),a.stroke(),a.moveTo(h-f+e.style.strokeWidth+2-c/2,h),a.lineTo(h+f-e.style.strokeWidth-2-c/2,h),a.stroke(),a.moveTo(h-c/2,h-f+e.style.strokeWidth+2),a.lineTo(h-c/2,h+f-e.style.strokeWidth-2),a.stroke(),e.selectedGaussian===-1?(a.fillStyle=e.style.buttonDisableFillColor,a.lineWidth=e.style.buttonDisableStrokeWidth,a.strokeStyle=e.style.buttonDisableStrokeColor):(a.fillStyle=e.style.buttonFillColor,a.lineWidth=e.style.buttonStrokeWidth,a.strokeStyle=e.style.buttonStrokeColor),a.beginPath(),a.arc(h-c/2,h+c/2+e.style.iconSize,f,0,2*Math.PI,!1),a.fill(),a.stroke(),a.moveTo(h-f+e.style.strokeWidth+2-c/2,h+c/2+e.style.iconSize),a.lineTo(h+f-e.style.strokeWidth-2-c/2,h+c/2+e.style.iconSize),a.stroke()}if(e.histogram&&pa(a,u,Qa(e.histogram,e.rangeZoom),{lineWidth:1,strokeStyle:e.style.histogramColor,fillStyle:e.style.histogramColor}),pa(a,u,Qa(e.opacities,e.enableRangeZoom&&e.rangeZoom),{lineWidth:e.style.strokeWidth,strokeStyle:e.style.strokeColor}),e.colorTransferFunction&&e.colorTransferFunction.getSize()){var p=e.dataRange||e.colorTransferFunction.getMappingRange();(!e.colorCanvas||e.colorCanvasMTime!==e.colorTransferFunction.getMTime())&&(e.colorCanvasMTime=e.colorTransferFunction.getMTime(),e.colorCanvas=tk(e.colorTransferFunction,u[2],p,e.colorCanvas)),a.save(),pa(a,u,Qa(e.opacities,e.enableRangeZoom&&e.rangeZoom),{lineWidth:1,strokeStyle:"rgba(0,0,0,0)",fillStyle:"rgba(0,0,0,1)",clip:!0}),e.enableRangeZoom?a.drawImage(e.colorCanvas,e.rangeZoom[0]*u[2],0,u[2],u[3],u[0],u[1],u[2]/(e.rangeZoom[1]-e.rangeZoom[0]),u[3]):a.drawImage(e.colorCanvas,u[0],u[1]),a.restore()}else e.backgroundImage&&(e.colorCanvas=rk(e.backgroundImage,u[2],e.colorCanvas),a.save(),pa(a,u,Qa(e.opacities,e.enableRangeZoom&&e.rangeZoom),{lineWidth:1,strokeStyle:"rgba(0,0,0,0)",fillStyle:"rgba(0,0,0,1)",clip:!0}),a.drawImage(e.colorCanvas,u[0],u[1]),a.restore());e.enableRangeZoom&&(a.fillStyle=e.style.zoomControlColor,a.beginPath(),a.rect(u[0]+e.rangeZoom[0]*u[2],0,(e.rangeZoom[1]-e.rangeZoom[0])*u[2],l),a.fill());var d=e.gaussians[e.activeGaussian]||e.gaussians[e.selectedGaussian];if(d){var y=Nn([d],u[2]);pa(a,u,Qa(y,e.enableRangeZoom&&e.rangeZoom),{lineWidth:e.style.activeStrokeWidth,strokeStyle:e.style.activeColor});var m=u[0]+ik(d.position,e.enableRangeZoom&&e.rangeZoom)*u[2],_=u[1]+(1-d.height)*u[3],v=u[1]+(1-.5*d.height)*u[3],g=u[1]+u[3],x=d.width*u[2];e.enableRangeZoom&&(x/=e.rangeZoom[1]-e.rangeZoom[0]),a.lineWidth=e.style.handleWidth,a.strokeStyle=e.style.handleColor,a.fillStyle=e.style.backgroundColor,a.beginPath(),a.moveTo(m,u[1]+(1-d.height)*u[3]),a.lineTo(m,u[1]+u[3]),a.stroke(),a.beginPath(),a.arc(m,_,6,0,2*Math.PI),a.fill(),a.stroke();var w=Math.min(x*.1,d.height*u[3]*.2);a.beginPath(),a.rect(m-w,v-w,w*2,w*2),a.fill(),a.stroke(),a.beginPath();var C=x*.8;a.rect(m-C,g-5,2*C,10),a.fill(),a.stroke()}},t.getOpacityNodes=function(a){for(var i=a||e.dataRange,s=(i[1]-i[0])/(e.opacities.length-1),o=[],c=.5,u=0,l=0;l<e.opacities.length;l++){var f=i[0]+s*l,h=e.opacities[l];o.push({x:f,y:h,midpoint:c,sharpness:u})}return o},t.applyOpacity=function(a,i){var s=t.getOpacityNodes(i);a.setNodes(s)},t.getOpacityRange=function(a){for(var i=a||e.dataRange,s=(i[1]-i[0])/(e.opacities.length-1),o=e.opacities.length-1,c=0,u=0;u<e.opacities.length;u++)e.opacities[u]>0&&(o=Math.min(o,u)),e.opacities[u]>0&&(c=Math.max(c,u));return[i[0]+o*s,i[0]+c*s]};var n=t.setEnableRangeZoom;t.setEnableRangeZoom=function(a){var i=n(a);return i&&(e.colorCanvasMTime=0,e.rangeZoom=[0,1]),i};var r=t.setRangeZoom;t.setRangeZoom=function(){var a=r.apply(void 0,arguments);return a&&(e.colorCanvasMTime=0),a},t.onModified(function(){return t.render()}),t.setSize.apply(t,we(e.size))}var uk={histogram:[],numberOfBins:256,histogramArray:null,dataRange:[0,1],gaussians:[],opacities:[],size:[600,300],piecewiseSize:256,colorCanvasMTime:0,gaussianMinimumHeight:.05,style:{backgroundColor:"rgba(255, 255, 255, 1)",histogramColor:"rgba(200, 200, 200, 0.5)",strokeColor:"rgb(0, 0, 0)",activeColor:"rgb(0, 0, 150)",buttonDisableFillColor:"rgba(255, 255, 255, 0.5)",buttonDisableStrokeColor:"rgba(0, 0, 0, 0.5)",buttonStrokeColor:"rgba(0, 0, 0, 1)",buttonFillColor:"rgba(255, 255, 255, 1)",handleColor:"rgb(0, 150, 0)",strokeWidth:2,activeStrokeWidth:3,buttonStrokeWidth:1.5,handleWidth:3,iconSize:20,padding:10,zoomControlHeight:10,zoomControlColor:"#999"},activeGaussian:-1,selectedGaussian:-1,enableRangeZoom:!0,rangeZoom:[0,1]};function Bg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,uk,n),I.obj(t,e),I.setGet(t,e,["piecewiseSize","numberOfBins","colorTransferFunction","backgroundImage","enableRangeZoom","gaussianMinimumHeight"]),I.setGetArray(t,e,["rangeZoom"],2),I.get(t,e,["size","canvas","gaussians"]),I.event(t,e,"opacityChange"),I.event(t,e,"animation"),I.event(t,e,"zoomChange"),sk(t,e)}var ck=I.newInstance(Bg,"vtkPiecewiseGaussianWidget"),fk=ha({newInstance:ck,extend:Bg},ok),lk='<svg viewBox="0 0 196 196" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M67.77 157.024a86.095 86.095 0 01-2.3 9.306c-.977 3.206-2.44 6.116-4.392 8.73-1.952 2.614-4.531 4.758-7.738 6.43-3.206 1.674-7.284 2.51-12.233 2.51-6.343 0-11.501-1.55-15.474-4.653-3.974-3.102-6.518-7.301-7.633-12.599l16.102-5.228c.279 1.882 1.01 3.485 2.196 4.81 1.185 1.324 2.753 1.986 4.705 1.986 3.067 0 5.262-1.08 6.587-3.24 1.324-2.162 2.265-4.88 2.823-8.156l8.574-48.933h17.565l-8.783 49.037zm58.029-31.053c-1.394-1.883-3.137-3.311-5.228-4.287-2.091-.976-4.426-1.464-7.005-1.464-1.185 0-2.44.157-3.764.47a10.815 10.815 0 00-3.608 1.569 9.806 9.806 0 00-2.718 2.77c-.732 1.116-1.098 2.475-1.098 4.078 0 2.091.819 3.747 2.457 4.967 1.638 1.22 3.921 2.352 6.849 3.398 3.206 1.115 6.064 2.352 8.573 3.712 2.51 1.359 4.636 2.91 6.378 4.652 1.743 1.743 3.067 3.712 3.974 5.908.906 2.196 1.359 4.688 1.359 7.476 0 4.461-.924 8.26-2.77 11.397-1.848 3.136-4.236 5.698-7.163 7.685-2.928 1.986-6.204 3.433-9.829 4.339-3.624.906-7.214 1.359-10.769 1.359-2.649 0-5.298-.244-7.946-.732a42.608 42.608 0 01-7.633-2.143 31.681 31.681 0 01-6.796-3.608c-2.092-1.463-3.869-3.136-5.333-5.018l12.86-10.456c1.465 2.23 3.625 4.043 6.483 5.437 2.858 1.394 5.751 2.091 8.679 2.091 1.533 0 3.014-.157 4.443-.47 1.43-.314 2.701-.837 3.817-1.569a8.267 8.267 0 002.666-2.823c.662-1.15.993-2.527.993-4.13 0-2.579-1.045-4.618-3.136-6.117-2.092-1.498-4.88-2.84-8.365-4.025a58.492 58.492 0 01-6.849-2.823c-2.126-1.046-3.973-2.335-5.541-3.869-1.569-1.533-2.823-3.363-3.764-5.489-.941-2.126-1.412-4.688-1.412-7.685 0-3.764.784-7.162 2.353-10.194a23.324 23.324 0 016.43-7.738c2.719-2.126 5.89-3.764 9.515-4.914 3.624-1.15 7.493-1.725 11.606-1.725 2.16 0 4.356.21 6.587.627a35.853 35.853 0 016.43 1.83 28.502 28.502 0 015.699 2.98c1.742 1.185 3.206 2.544 4.39 4.078L125.8 125.97z" fill="#8A8B8A"/><rect fill="#1C4678" transform="rotate(45 169.749 159.749)" x="152.249" y="142.249" width="35" height="35" rx="17.5"/><path fill="#1C4678" d="M7.775 11l20.483 86.069h22.53l34.24-71.408H63.841L42.91 70.03 28.259 11zM88.663 25.344h50.476l-8.093 16.562-17.246-.049-9.652 54.62H85.609l9.572-54.535H80.99zM141.366 25.344l16.072.066-4.414 24.987h2.388l16.856-25.053h20.975l-22.442 33.403 13.203 54.063h-20.94l-10.652-44.43h-2.296l-5.125 28.135h-21.024l9.763-55.043z"/><path fill="#8A8B8A" d="M3 11h3.182l20.864 85.944h-3.187zM58.102 25.344h2.788L43.747 61.155l-.955-3.866zM88.608 44.469h2.883l-9.157 52.096H79.4zM126.785 44.469h2.924l-9.186 52.046H117.6zM166.38 25.344h3.594l-12.582 18.854 1.316-7.545zM150.902 74.75l8.917 37.613h-3.311l-7.075-29.073z"/></g></svg>',hk='<svg viewBox="0 0 180 180" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="100%" y1="50%" x2="0%" y2="50%" id="a"><stop stop-color="#FFF" offset="0%"/><stop stop-color="#FFF" offset="49.416%"/><stop offset="49.677%"/><stop offset="100%"/></linearGradient></defs><circle cx="90" cy="90" r="80" stroke-width="10" stroke="#000" fill="url(#a)" fill-rule="evenodd"/></svg>',pk='<svg viewBox="0 0 180 180" xmlns="http://www.w3.org/2000/svg"><g stroke="#000" stroke-width="10" fill="none" fill-rule="evenodd" stroke-linecap="square"><path d="M10 90h160M10 133.488V47M170 133.488V47M90 133.488V47"/></g></svg>';function vk(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document=="undefined")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}var dk=`.VolumeController-module_container__2HNSO {
  display: flex;
  align-items: stretch;
  flex-direction: column;
  justify-content: space-between;
  position: absolute;
  top: 5px;
  left: 5px;
  background: rgba(128, 128, 128, 0.5);
  border-radius: 5px;
  padding: 2px;
  border: 0.5px solid black;
  box-sizing: border-box;
}

.VolumeController-module_line__3rtqL {
  display: flex;
  flex-direction: row;
  flex: 1;
  align-items: center;
  justify-content: space-between;
}

.VolumeController-module_button__2T-xL {
  cursor: pointer;
  width: 1rem;
  margin-left: 5px;
  margin-right: 5px;
}

.VolumeController-module_button__2T-xL svg {
  width: 1rem;
  height: 1rem;
}

.VolumeController-module_sliderEntry__27XSC {
  flex: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
}

.VolumeController-module_sliderIcon__U8YAZ {
  height: 1rem;
}

.VolumeController-module_slider__3PS68 {
  flex: 1;
  min-height: 1rem;
  width: 5px;
}

.VolumeController-module_piecewiseEditor__2_jav {
  flex: 1;
}

.VolumeController-module_select__7mbfS {
  flex: 1;
  border: none;
  background: transparent;
  color: white;
  border: none;
  -moz-appearance: none;
  width: 5px;
}

.VolumeController-module_select__7mbfS select:focus {
  outline: none;
  border: none;
}

.VolumeController-module_presets__1h4j5 {
}

.VolumeController-module_shadow__29K9t {
}

.VolumeController-module_buttonDarkBG__3W1zO {
}

.VolumeController-module_presetsDarkBG__2ZI2W {
  color: white;
}

.VolumeController-module_presetsDarkBG__2ZI2W option {
  color: black;
}

.VolumeController-module_shadowDarkBG__WHYZ- {
  color: white;
}

.VolumeController-module_shadowDarkBG__WHYZ- option {
  color: black;
}

.VolumeController-module_buttonBrightBG__2dstz {
}

.VolumeController-module_presetsBrightBG__3_VRC {
  color: black;
}

.VolumeController-module_presetsBrightBG__3_VRC option {
  color: white;
}

.VolumeController-module_shadowBrightBG__YCHpe {
  color: black;
}

.VolumeController-module_shadowBrightBG__YCHpe option {
  color: white;
}
`,pr={container:"VolumeController-module_container__2HNSO",line:"VolumeController-module_line__3rtqL",button:"VolumeController-module_button__2T-xL",sliderEntry:"VolumeController-module_sliderEntry__27XSC",sliderIcon:"VolumeController-module_sliderIcon__U8YAZ VolumeController-module_button__2T-xL",slider:"VolumeController-module_slider__3PS68",piecewiseEditor:"VolumeController-module_piecewiseEditor__2_jav",select:"VolumeController-module_select__7mbfS",presets:"VolumeController-module_presets__1h4j5 VolumeController-module_select__7mbfS",shadow:"VolumeController-module_shadow__29K9t VolumeController-module_select__7mbfS",buttonDarkBG:"VolumeController-module_buttonDarkBG__3W1zO VolumeController-module_button__2T-xL",presetsDarkBG:"VolumeController-module_presetsDarkBG__2ZI2W VolumeController-module_presets__1h4j5 VolumeController-module_select__7mbfS",shadowDarkBG:"VolumeController-module_shadowDarkBG__WHYZ- VolumeController-module_shadow__29K9t VolumeController-module_select__7mbfS",buttonBrightBG:"VolumeController-module_buttonBrightBG__2dstz VolumeController-module_button__2T-xL",presetsBrightBG:"VolumeController-module_presetsBrightBG__3_VRC VolumeController-module_presets__1h4j5 VolumeController-module_select__7mbfS",shadowBrightBG:"VolumeController-module_shadowBrightBG__YCHpe VolumeController-module_shadow__29K9t VolumeController-module_select__7mbfS"};vk(dk);var gk=Ag.rgbPresetNames.map(function(t){return'<option value="'.concat(t,'">').concat(t,"</option>")});function yk(t,e){e.classHierarchy.push("vtkVolumeController"),e.el=document.createElement("div"),e.el.setAttribute("class",pr.container),e.widget=fk.newInstance({numberOfBins:256,size:e.size});function n(){var o=!!Number(e.el.querySelector(".js-shadow").value);e.actor.getProperty().setShade(o),e.renderWindow.render()}function r(){var o=e.actor.getMapper().getInputData();if(!!o){var c=o.getPointData().getScalars()||o.getPointData().getArrays()[0],u=e.rescaleColorMap?e.colorDataRange:c.getRange(),l=Ag.getPresetByName(e.el.querySelector(".js-color-preset").value),f=e.actor.getProperty().getRGBTransferFunction(0);f.applyColorMap(l),f.setMappingRange.apply(f,we(u)),f.updateRange(),e.renderWindow.render()}}function a(){var o=Number(e.el.querySelector(".js-spacing").value),c=e.actor.getMapper().getInputData(),u=.7*Math.sqrt(c.getSpacing().map(function(l){return l*l}).reduce(function(l,f){return l+f},0));e.actor.getMapper().setSampleDistance(u*Math.pow(2,o*3-1.5)),e.renderWindow.render()}function i(){var o=Number(e.el.querySelector(".js-edge").value);if(o===0)e.actor.getProperty().setUseGradientOpacity(0,!1);else{var c=e.actor.getMapper().getInputData(),u=c.getPointData().getScalars()||c.getPointData().getArrays()[0],l=u.getRange();e.actor.getProperty().setUseGradientOpacity(0,!0);var f=Math.max(0,o-.3)/.7;e.actor.getProperty().setGradientOpacityMinimumValue(0,(l[1]-l[0])*.2*f*f),e.actor.getProperty().setGradientOpacityMaximumValue(0,(l[1]-l[0])*1*o*o)}e.renderWindow.render()}t.setupContent=function(o,c,u){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"1",f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"erdc_rainbow_bright";t.setActor(c),t.setRenderWindow(o);var h=e.actor.getMapper().getInputData(),p=h.getPointData().getScalars()||h.getPointData().getArrays()[0],d=e.actor.getProperty().getRGBTransferFunction(0),y=e.actor.getProperty().getScalarOpacity(0),m=u?"DarkBG":"BrightBG",_={};["button","presets","shadow"].forEach(function(T){_[T]=pr["".concat(T).concat(m)]}),e.el.innerHTML=`
      <div class="`.concat(pr.line,`">
        <div class="`).concat(_.button,' js-button">').concat(lk,`</div>
        <select class="`).concat(_.shadow,` js-shadow js-toggle">
          <option value="1">Use Shadow</option>
          <option value="0">No Shadow</option>
        </select>
        <select class="`).concat(_.presets,` js-color-preset js-toggle">
          `).concat(gk,`
        </select>
      </div>
      <div class="`).concat(pr.line,` js-toggle">
        <div class="`).concat(pr.sliderEntry,`">
          <div class="`).concat(pr.sliderIcon,'">').concat(pk,`</div>
          <input type="range" min="0" max="1" value="0.4" step="0.01" class="`).concat(pr.slider,` js-spacing" />
        </div>
        <div class="`).concat(pr.sliderEntry,`">
          <div class="`).concat(pr.sliderIcon,'">').concat(hk,`</div>
          <input type="range" min="0" max="1" value="0.2" step="0.01" class="`).concat(pr.slider,` js-edge" />
        </div>
      </div>
      <div class="`).concat(pr.piecewiseEditor,` js-pwf js-toggle"></div>
    `);var v=e.el.querySelector(".js-button"),g=e.el.querySelector(".js-shadow"),x=e.el.querySelector(".js-color-preset"),w=e.el.querySelector(".js-spacing"),C=e.el.querySelector(".js-edge"),S=e.el.querySelector(".js-pwf");e.widget.updateStyle({backgroundColor:"rgba(255, 255, 255, 0.6)",histogramColor:"rgba(100, 100, 100, 0.5)",strokeColor:"rgb(0, 0, 0)",activeColor:"rgb(255, 255, 255)",handleColor:"rgb(50, 150, 50)",buttonDisableFillColor:"rgba(255, 255, 255, 0.5)",buttonDisableStrokeColor:"rgba(0, 0, 0, 0.5)",buttonStrokeColor:"rgba(0, 0, 0, 1)",buttonFillColor:"rgba(255, 255, 255, 1)",strokeWidth:2,activeStrokeWidth:3,buttonStrokeWidth:1.5,handleWidth:3,iconSize:0,padding:10}),e.widget.addGaussian(.5,1,.5,.5,.4),e.widget.setDataArray(p.getData()),e.widget.setColorTransferFunction(d),e.widget.applyOpacity(y),e.widget.setContainer(S),e.widget.bindMouseListeners(),e.colorDataRange=e.widget.getOpacityRange(),v.addEventListener("click",t.toggleVisibility),g.addEventListener("change",n),x.addEventListener("change",r),w.addEventListener("input",a),C.addEventListener("input",i),e.widget.onOpacityChange(function(){e.widget.applyOpacity(y),e.colorDataRange=e.widget.getOpacityRange(),e.rescaleColorMap&&r(),e.renderWindow.getInteractor().isAnimating()||e.renderWindow.render()}),e.widget.onAnimation(function(T){T?e.renderWindow.getInteractor().requestAnimation(e.widget):(e.renderWindow.getInteractor().cancelAnimation(e.widget),e.renderWindow.render())}),d.onModified(function(){e.widget.render(),e.renderWindow.getInteractor().isAnimating()||e.renderWindow.render()}),g.value=Number(l)?"1":"0",x.value=f,n(),r(),a(),i()},t.setContainer=function(o){e.container&&e.container!==o&&e.container.removeChild(e.el),e.container!==o&&(e.container=o,e.container&&e.container.appendChild(e.el),t.modified())};var s=t.setRescaleColorMap;t.setRescaleColorMap=function(o){return s(o)?(r(),!0):!1},t.toggleVisibility=function(){t.setExpanded(!t.getExpanded())},t.setExpanded=function(o){var c=e.el.querySelectorAll(".js-toggle"),u=c.length;if(e.expanded=o,e.expanded)for(;u--;)c[u].style.display="flex";else for(;u--;)c[u].style.display="none"},t.getExpanded=function(){return e.expanded},t.setSize=e.widget.setSize,t.render=e.widget.render,t.onAnimation=e.widget.onAnimation,t.onModified(t.render),t.setSize.apply(t,we(e.size))}var mk={size:[600,300],expanded:!0,rescaleColorMap:!1};function Vg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,mk,n),I.obj(t,e),I.setGet(t,e,["actor","renderWindow","rescaleColorMap"]),I.get(t,e,["widget"]),yk(t,e)}var _k=I.newInstance(Vg,"vtkVolumeController"),xk={newInstance:_k,extend:Vg};function wk(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mt(this,n)}}var _s=function(t){kt(n,Vt.exports.Component);var e=wk(n);function n(r){var a;yt(this,n),(a=e.call(this,r)).subscriptions=[],a.containerRef=me.createRef();var i=r.size,s=r.rescaleColorMap;return a.controller=xk.newInstance({size:i,rescaleColorMap:s}),a}return mt(n,[{key:"render",value:function(){var r=this;return me.createElement(Xr.Consumer,null,function(a){return me.createElement(Qt.Consumer,null,function(i){return r.view=a,r.representation=i,me.createElement("div",{ref:r.containerRef})})})}},{key:"componentDidMount",value:function(){this.init()}},{key:"componentDidUpdate",value:function(r,a,i){var s;(s=this.controller).setSize.apply(s,we(this.props.size)),this.controller.render()}},{key:"componentWillUnmount",value:function(){for(;this.subscriptions.length;)this.subscriptions.pop().unsubscribe();this.controller.setContainer(null),this.controller.delete(),this.controller=null}},{key:"init",value:function(){var r=this,a=this.containerRef.current,i=this.view,s=i.renderWindow,o=i.props,c=this.representation.volume,u=o.background[0]+o.background[1]+o.background[2]<1.5;if(c&&c.getMapper()&&c.getMapper().getInputData()){var l=c.getMapper().getInputData();this.controller.setContainer(a),this.controller.setupContent(s,c,u),this.controller.render(),this.view.resetCamera(),this.view.renderView(),this.subscriptions.push(l.onModified(function(){return r.onDataChange()},-1))}else setTimeout(function(){return r.init()},100)}},{key:"onDataChange",value:function(){var r=this.controller.getWidget();if(this.representation&&this.representation.volume){var a=this.representation.volume.getMapper().getInputData(),i=a.getPointData().getScalars()||a.getPointData().getArrays()[0];r.setDataArray(i.getData())}}}]),n}();_s.defaultProps={size:[400,150],rescaleColorMap:!0},_s.propTypes={id:ee.string,size:ee.arrayOf(ee.number),rescaleColorMap:ee.bool};function Vi(t){return me.createElement(Zn.Consumer,null,function(e){return me.createElement(qi.Provider,{value:e.getDataSet().getPointData()},t.children)})}Vi.defaultProps={},Vi.propTypes={children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};function Ck(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mt(this,n)}}var xs=function(t){kt(n,Vt.exports.Component);var e=Ck(n);function n(r){var a;return yt(this,n),(a=e.call(this,r)).polydata=nt.newInstance(),a}return mt(n,[{key:"render",value:function(){var r=this;return me.createElement(Qt.Consumer,null,function(a){return me.createElement(Bt.Consumer,null,function(i){return r.representation=a,r.downstream||(r.downstream=i),me.createElement(Zn.Provider,{value:r},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children))})})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.polydata.delete(),this.polydata=null}},{key:"update",value:function(r,a){var i,s=r.connectivity,o=r.points,c=r.verts,u=r.lines,l=r.polys,f=r.strips,h=!1,p=Uint32Array;if(o&&(!a||!zr(o,a.points))){var d=la(o,Float64Array);this.polydata.getPoints().setData(d,3),h=!0,p=d.length>196608?Uint32Array:Uint16Array}if(!c||a&&zr(c,a.verts)||(this.polydata.getVerts().setData(la(c,p)),h=!0),!u||a&&zr(u,a.lines)||(this.polydata.getLines().setData(la(u,p)),h=!0),!l||a&&zr(l,a.polys)||(this.polydata.getPolys().setData(la(l,p)),h=!0),!f||a&&zr(f,a.strips)||(this.polydata.getStrips().setData(la(f,p)),h=!0),s&&(!a||(o==null?void 0:o.length)!==((i=a.points)===null||i===void 0?void 0:i.length)||s!==a.connectivity)){var y=o.length/3;switch(s){case"points":var m=new Uint32Array(y+1);m[0]=y;for(var _=0;_<y;_++)m[_+1]=_;this.polydata.getVerts().setData(m),h=!0;break;case"triangles":for(var v=new Uint32Array(y+y/3),g=0,x=0;x<y;x+=3)v[g++]=3,v[g++]=x+0,v[g++]=x+1,v[g++]=x+2;this.polydata.getPolys().setData(v),h=!0;break;case"strips":var w=new Uint32Array(y+1);w[0]=y;for(var C=0;C<y;C++)w[C+1]=C;this.polydata.getStrips().setData(w),h=!0}}h&&this.modified()}},{key:"getDataSet",value:function(){return this.polydata}},{key:"modified",value:function(){this.polydata.modified(),this.downstream.setInputData(this.polydata,this.props.port),this.representation&&this.polydata.getPoints().getData().length&&(this.representation.dataAvailable(),this.representation.dataChanged())}}]),n}();xs.defaultProps={port:0,points:[],connectivity:"manual"},xs.propTypes={id:ee.string,port:ee.number,points:ee.oneOfType([ee.arrayOf(ee.number),ee.object,ee.instanceOf(Float64Array),ee.instanceOf(Float32Array)]),verts:ee.oneOfType([ee.arrayOf(ee.number),ee.object,ee.instanceOf(Uint8Array),ee.instanceOf(Uint16Array),ee.instanceOf(Uint32Array)]),lines:ee.oneOfType([ee.arrayOf(ee.number),ee.object,ee.instanceOf(Uint8Array),ee.instanceOf(Uint16Array),ee.instanceOf(Uint32Array)]),polys:ee.oneOfType([ee.arrayOf(ee.number),ee.object,ee.instanceOf(Uint8Array),ee.instanceOf(Uint16Array),ee.instanceOf(Uint32Array)]),strips:ee.oneOfType([ee.arrayOf(ee.number),ee.object,ee.instanceOf(Uint8Array),ee.instanceOf(Uint16Array),ee.instanceOf(Uint32Array)]),connectivity:ee.string,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};function Sk(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mt(this,n)}}var Ou=function(t){kt(n,Vt.exports.Component);var e=Sk(n);function n(r){var a;return yt(this,n),(a=e.call(this,r)).reader=null,a}return mt(n,[{key:"render",value:function(){var r=this;return me.createElement(Xr.Consumer,null,function(a){return me.createElement(Qt.Consumer,null,function(i){return r.representation=i,me.createElement(Bt.Consumer,null,function(s){return r.reader||(r.reader=r.createReader(r.props)),r.downstream||(s.setInputConnection(r.reader.getOutputPort(),r.props.port),r.downstream=s),r.view=a,me.createElement(Bt.Provider,{value:r.reader},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children))})})})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.reader.delete(),this.reader=null}},{key:"createReader",value:function(r){var a=r.vtkClass,i=r.options;return Ot({vtkClass:a,progressCallback:i.progressCallback})}},{key:"update",value:function(r,a){var i=this,s=r.vtkClass,o=r.url,c=r.parseAsText,u=r.parseAsArrayBuffer,l=r.options;!s||a&&s===a.vtkClass||(this.reader=this.createReader(r),this.downstream.setInputConnection(this.reader.getOutputPort(),this.props.port)),!o||a&&o===a.url||this.reader.setUrl(o,l).then(function(){i.reader&&(i.representation&&i.representation.dataAvailable(),i.view&&(i.props.resetCameraOnUpdate&&i.view.resetCamera(),i.props.renderOnUpdate&&i.view.renderView()))}),!c||a&&c===a.parseAsText||(this.reader.parseAsText(c),this.representation&&this.representation.dataAvailable()),!u||a&&u===a.parseAsArrayBuffer||(this.reader.parseAsArrayBuffer(Ws.toArrayBuffer(u)),this.representation&&this.representation.dataAvailable()),this.view&&(this.props.resetCameraOnUpdate&&this.view.resetCamera(),this.props.renderOnUpdate&&this.view.renderView())}}]),n}();Ou.defaultProps={port:0,vtkClass:"",renderOnUpdate:!0,resetCameraOnUpdate:!0,options:{binary:!0}},Ou.propTypes={id:ee.string,port:ee.number,vtkClass:ee.string,url:ee.string,parseAsText:ee.string,parseAsArrayBuffer:ee.string,renderOnUpdate:ee.bool,resetCameraOnUpdate:ee.bool,options:ee.object,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};function Tk(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mt(this,n)}}function bk(t,e){e.classHierarchy.push("vtkTrivialProducer"),t.requestData=function(n,r){r.length=n.length;for(var a=0;a<n.length;a++)r[a]=n[a]}}var Ek=I.newInstance(function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,n),I.obj(t,e),I.algo(t,e,1,1),I.event(t,e,"DataAvailable"),bk(t,e)},"vtkTrivialProducer"),Bh={},Nu=function(t){kt(n,Vt.exports.Component);var e=Tk(n);function n(){return yt(this,n),e.apply(this,arguments)}return mt(n,[{key:"getTrivialProducer",value:function(){var r=Bh[this.props.name];return r||(r=Ek(),Bh[this.props.name]=r),r}},{key:"componentDidMount",value:function(){var r=this.getTrivialProducer().getOutputData();r&&!r.isDeleted()&&this.dataAvailable()}},{key:"componentWillUnmount",value:function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}},{key:"render",value:function(){var r=this;return this.update(),me.createElement(Qt.Consumer,null,function(a){return me.createElement(Bt.Consumer,null,function(i){return r.representation=a,r.downstream||(r.downstream=i),me.createElement(Qt.Provider,{value:r},me.createElement(Bt.Provider,{value:r.getTrivialProducer()},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children)))})})}},{key:"update",value:function(){var r=this;this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.subscription=this.getTrivialProducer().onDataAvailable(function(){r.dataAvailable()})}},{key:"dataAvailable",value:function(){this.downstream&&this.downstream.setInputConnection(this.getTrivialProducer().getOutputPort(),this.props.port),this.validData||(this.validData=!0,this.getTrivialProducer().invokeDataAvailable()),this.representation&&this.representation.dataAvailable()}},{key:"dataChanged",value:function(){this.representation&&this.representation.dataChanged()}}]),n}();Nu.defaultProps={port:0,name:"shared"},Nu.propTypes={id:ee.string,port:ee.number,name:ee.string,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};function Ui(){return Ui=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ui.apply(this,arguments)}var Dk=navigator.gpu?"WebGPU":"WebGL",ws=Object.create(null);function Ug(t,e){ws[t]=e}function Ok(){return Object.keys(ws)}function Gg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ws[t]&&ws[t](e)}function Nk(t,e){e.classHierarchy.push("vtkRenderWindow"),t.addRenderer=function(n){t.hasRenderer(n)||(n.setRenderWindow(t),e.renderers.push(n),t.modified())},t.removeRenderer=function(n){e.renderers=e.renderers.filter(function(r){return r!==n}),t.modified()},t.hasRenderer=function(n){return e.renderers.indexOf(n)!==-1},t.newAPISpecificView=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Gg(n||e.defaultViewAPI,r)},t.addView=function(n){t.hasView(n)||(n.setRenderable(t),e.views.push(n),t.modified())},t.removeView=function(n){e.views=e.views.filter(function(r){return r!==n}),t.modified()},t.hasView=function(n){return e.views.indexOf(n)!==-1},t.preRender=function(){e.renderers.forEach(function(n){n.isActiveCameraCreated()||n.resetCamera()})},t.render=function(){t.preRender(),e.interactor?e.interactor.render():e.views.forEach(function(n){return n.traverseAllPasses()})},t.getStatistics=function(){var n={propCount:0,invisiblePropCount:0};return e.renderers.forEach(function(r){var a=r.getViewProps();a.forEach(function(i){if(i.getVisibility()){n.propCount+=1;var s=i.getMapper&&i.getMapper();if(s&&s.getPrimitiveCount){var o=s.getPrimitiveCount();Object.keys(o).forEach(function(c){n[c]||(n[c]=0),n[c]+=o[c]})}}else n.invisiblePropCount+=1})}),n.str=Object.keys(n).map(function(r){return"".concat(r,": ").concat(n[r])}).join(`
`),n},t.captureImages=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return I.setImmediate(t.render),e.views.map(function(a){return a.captureNextImage?a.captureNextImage(n,r):void 0}).filter(function(a){return!!a})}}var kk={defaultViewAPI:Dk,renderers:[],views:[],interactor:null,neverRendered:!0,numberOfLayers:1};function Pg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,kk,n),I.obj(t,e),I.setGet(t,e,["interactor","numberOfLayers","views","defaultViewAPI"]),I.get(t,e,["neverRendered"]),I.getArray(t,e,["renderers"]),I.event(t,e,"completion"),Nk(t,e)}var Mk=I.newInstance(Pg,"vtkRenderWindow"),jg={newInstance:Mk,extend:Pg,registerViewConstructor:Ug,listViewAPIs:Ok,newAPISpecificView:Gg};function Rk(t,e){e.classHierarchy.push("vtkRenderPass"),t.getOperation=function(){return e.currentOperation},t.setCurrentOperation=function(n){e.currentOperation=n,e.currentTraverseOperation="traverse".concat(I.capitalize(e.currentOperation))},t.getTraverseOperation=function(){return e.currentTraverseOperation},t.traverse=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e.deleted||(e.currentParent=r,e.preDelegateOperations.forEach(function(a){t.setCurrentOperation(a),n.traverse(t)}),e.delegates.forEach(function(a){a.traverse(n,t)}),e.postDelegateOperations.forEach(function(a){t.setCurrentOperation(a),n.traverse(t)}))}}var Lk={delegates:[],currentOperation:null,preDelegateOperations:[],postDelegateOperations:[],currentParent:null};function zg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Lk,n),I.obj(t,e),I.get(t,e,["currentOperation"]),I.setGet(t,e,["delegates","currentParent","preDelegateOperations","postDelegateOperations"]),Rk(t,e)}var Fk=I.newInstance(zg,"vtkRenderPass"),Bc={newInstance:Fk,extend:zg},Ak=Wi.Representation,Vh=I.vtkErrorMacro;function Bk(t){var e=ue.substitute(t.Fragment,"//VTK::RenderPassFragmentShader::Impl",`
      float weight = gl_FragData[0].a * pow(max(1.1 - gl_FragCoord.z, 0.0), 2.0);
      gl_FragData[0] = vec4(gl_FragData[0].rgb*weight, gl_FragData[0].a);
      gl_FragData[1].r = weight;
    `,!1);t.Fragment=e.result}var Vk=`//VTK::System::Dec

in vec2 tcoord;

uniform sampler2D translucentRTexture;
uniform sampler2D translucentRGBATexture;

// the output of this shader
//VTK::Output::Dec

void main()
{
  vec4 t1Color = texture(translucentRGBATexture, tcoord);
  float t2Color = texture(translucentRTexture, tcoord).r;
  gl_FragData[0] = vec4(t1Color.rgb/max(t2Color,0.01), 1.0 - t1Color.a);
}
`;function Uk(t,e){e.classHierarchy.push("vtkOpenGLOrderIndependentTranslucentPass"),t.createVertexBuffer=function(){var n=new Float32Array([-1,-1,-1,1,-1,-1,-1,1,-1,1,1,-1]),r=new Float32Array([0,0,1,0,0,1,1,1]),a=new Uint16Array([4,0,1,3,2]),i=Ee.newInstance({numberOfComponents:3,values:n});i.setName("points");var s=Ee.newInstance({numberOfComponents:2,values:r});s.setName("tcoords");var o=Ee.newInstance({numberOfComponents:1,values:a});e.tris.getCABO().createVBO(o,"polys",Ak.SURFACE,{points:i,tcoords:s,cellOffset:0}),e.VBOBuildTime.modified()},t.createFramebuffer=function(n){var r,a=n.getSize(),i=n.getContext();e.framebuffer=ks.newInstance(),e.framebuffer.setOpenGLRenderWindow(n),(r=e.framebuffer).create.apply(r,we(a)),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.bind(),e.translucentRGBATexture=Wt.newInstance(),e.translucentRGBATexture.setInternalFormat(i.RGBA16F),e.translucentRGBATexture.setFormat(i.RGBA),e.translucentRGBATexture.setOpenGLDataType(i.HALF_FLOAT),e.translucentRGBATexture.setOpenGLRenderWindow(n),e.translucentRGBATexture.create2DFromRaw(a[0],a[1],4,"Float32Array",null),e.translucentRTexture=Wt.newInstance(),e.translucentRTexture.setInternalFormat(i.R16F),e.translucentRTexture.setFormat(i.RED),e.translucentRTexture.setOpenGLDataType(i.HALF_FLOAT),e.translucentRTexture.setOpenGLRenderWindow(n),e.translucentRTexture.create2DFromRaw(a[0],a[1],1,"Float32Array",null),e.translucentZTexture=Wt.newInstance(),e.translucentZTexture.setOpenGLRenderWindow(n),e.translucentZTexture.createDepthFromRaw(a[0],a[1],"Float32Array",null),e.framebuffer.setColorBuffer(e.translucentRGBATexture,0),e.framebuffer.setColorBuffer(e.translucentRTexture,1),e.framebuffer.setDepthBuffer(e.translucentZTexture)},t.createCopyShader=function(n){e.copyShader=n.getShaderCache().readyShaderProgramArray(["//VTK::System::Dec","attribute vec4 vertexDC;","attribute vec2 tcoordTC;","varying vec2 tcoord;","void main() { tcoord = tcoordTC; gl_Position = vertexDC; }"].join(`
`),Vk,"")},t.createVBO=function(n){var r=n.getContext();e.tris.setOpenGLRenderWindow(n),t.createVertexBuffer();var a=e.copyShader;e.tris.getCABO().bind(),e.copyVAO.addAttributeArray(a,e.tris.getCABO(),"vertexDC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),r.FLOAT,3,r.FALSE)||Vh("Error setting vertexDC in copy shader VAO."),e.copyVAO.addAttributeArray(a,e.tris.getCABO(),"tcoordTC",e.tris.getCABO().getTCoordOffset(),e.tris.getCABO().getStride(),r.FLOAT,2,r.FALSE)||Vh("Error setting vertexDC in copy shader VAO.")},t.traverse=function(n,r,a){if(!e.deleted){var i=n.getSize(),s=n.getContext();if(e._supported=!1,r.getSelector()||!s||!n.getWebgl2()||!s.getExtension("EXT_color_buffer_half_float")&&!s.getExtension("EXT_color_buffer_float")){t.setCurrentOperation("translucentPass"),r.traverse(t);return}if(e._supported=!0,e.framebuffer===null)t.createFramebuffer(n);else{var o=e.framebuffer.getSize();o===null||o[0]!==i[0]||o[1]!==i[1]?(e.framebuffer.releaseGraphicsResources(),e.translucentRGBATexture.releaseGraphicsResources(n),e.translucentRTexture.releaseGraphicsResources(n),e.translucentZTexture.releaseGraphicsResources(n),t.createFramebuffer(n)):(e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.bind())}s.drawBuffers([s.COLOR_ATTACHMENT0]),s.clearBufferfv(s.COLOR,0,[0,0,0,0]),s.clearBufferfv(s.DEPTH,0,[1]),s.colorMask(!1,!1,!1,!1),a.getOpaqueActorCount()>0&&(a.setCurrentOperation("opaquePass"),r.traverse(a)),s.colorMask(!0,!0,!0,!0),s.drawBuffers([s.COLOR_ATTACHMENT0,s.COLOR_ATTACHMENT1]),s.viewport(0,0,i[0],i[1]),s.scissor(0,0,i[0],i[1]),s.clearBufferfv(s.COLOR,0,[0,0,0,1]),s.clearBufferfv(s.COLOR,1,[0,0,0,0]),s.enable(s.DEPTH_TEST),s.enable(s.BLEND),s.blendFuncSeparate(s.ONE,s.ONE,s.ZERO,s.ONE_MINUS_SRC_ALPHA),t.setCurrentOperation("translucentPass"),r.traverse(t),s.drawBuffers([s.NONE]),e.framebuffer.restorePreviousBindingsAndBuffers(),e.copyShader===null?t.createCopyShader(n):n.getShaderCache().readyShaderProgram(e.copyShader),e.copyVAO||(e.copyVAO=tc.newInstance(),e.copyVAO.setOpenGLRenderWindow(n)),e.copyVAO.bind(),e.VBOBuildTime.getMTime()<t.getMTime()&&t.createVBO(n),s.blendFuncSeparate(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA),s.depthMask(!1),s.depthFunc(s.ALWAYS),s.viewport(0,0,i[0],i[1]),s.scissor(0,0,i[0],i[1]),e.translucentRGBATexture.activate(),e.copyShader.setUniformi("translucentRGBATexture",e.translucentRGBATexture.getTextureUnit()),e.translucentRTexture.activate(),e.copyShader.setUniformi("translucentRTexture",e.translucentRTexture.getTextureUnit()),s.drawArrays(s.TRIANGLES,0,e.tris.getCABO().getElementCount()),s.depthMask(!0),s.depthFunc(s.LEQUAL),e.translucentRGBATexture.deactivate(),e.translucentRTexture.deactivate()}},t.getShaderReplacement=function(){return e._supported?Bk:null},t.releaseGraphicsResources=function(n){e.framebuffer&&(e.framebuffer.releaseGraphicsResources(n),e.framebuffer=null),e.translucentRGBATexture&&(e.translucentRGBATexture.releaseGraphicsResources(n),e.translucentRGBATexture=null),e.translucentRTexture&&(e.translucentRTexture.releaseGraphicsResources(n),e.translucentRTexture=null),e.translucentZTexture&&(e.translucentZTexture.releaseGraphicsResources(n),e.translucentZTexture=null),e.copyVAO&&(e.copyVAO.releaseGraphicsResources(n),e.copyVAO=null),e.copyShader&&(e.copyShader.releaseGraphicsResources(n),e.copyShader=null),e.tris&&(e.tris.releaseGraphicsResources(n),e.tris=null),t.modified()}}var Gk={framebuffer:null,copyShader:null,tris:null};function Ig(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Gk,n),Bc.extend(t,e,n),e.VBOBuildTime={},I.obj(e.VBOBuildTime,{mtime:0}),e.tris=dn.newInstance(),I.get(t,e,["framebuffer"]),Uk(t,e)}var Pk=I.newInstance(Ig,"vtkOpenGLOrderIndependentTranslucentPass"),jk={newInstance:Pk,extend:Ig};function zk(t,e){e.classHierarchy.push("vtkForwardPass"),t.traverse=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!e.deleted){e.currentParent=r,t.setCurrentOperation("buildPass"),n.traverse(t);for(var a=n.getRenderable().getNumberOfLayers(),i=n.getChildren(),s=0;s<a;s++)for(var o=0;o<i.length;o++){var c=i[o],u=n.getRenderable().getRenderers()[o];if(u.getDraw()&&u.getLayer()===s){if(e.opaqueActorCount=0,e.translucentActorCount=0,e.volumeCount=0,e.overlayActorCount=0,t.setCurrentOperation("queryPass"),c.traverse(t),e.opaqueActorCount>0&&e.volumeCount>0||e.depthRequested){var l=n.getFramebufferSize();e.framebuffer===null&&(e.framebuffer=ks.newInstance()),e.framebuffer.setOpenGLRenderWindow(n),e.framebuffer.saveCurrentBindingsAndBuffers();var f=e.framebuffer.getSize();(f===null||f[0]!==l[0]||f[1]!==l[1])&&(e.framebuffer.create(l[0],l[1]),e.framebuffer.populateFramebuffer()),e.framebuffer.bind(),t.setCurrentOperation("opaqueZBufferPass"),c.traverse(t),e.framebuffer.restorePreviousBindingsAndBuffers(),e.depthRequested=!1}t.setCurrentOperation("cameraPass"),c.traverse(t),e.opaqueActorCount>0&&(t.setCurrentOperation("opaquePass"),c.traverse(t)),e.translucentActorCount>0&&(e.translucentPass||(e.translucentPass=jk.newInstance()),e.translucentPass.traverse(n,c,t)),e.volumeCount>0&&(t.setCurrentOperation("volumePass"),c.traverse(t)),e.overlayActorCount>0&&(t.setCurrentOperation("overlayPass"),c.traverse(t))}}}},t.getZBufferTexture=function(){return e.framebuffer?e.framebuffer.getColorTexture():null},t.requestDepth=function(){e.depthRequested=!0},t.incrementOpaqueActorCount=function(){return e.opaqueActorCount++},t.incrementTranslucentActorCount=function(){return e.translucentActorCount++},t.incrementVolumeCount=function(){return e.volumeCount++},t.incrementOverlayActorCount=function(){return e.overlayActorCount++}}var Ik={opaqueActorCount:0,translucentActorCount:0,volumeCount:0,overlayActorCount:0,framebuffer:null,depthRequested:!1};function Wg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Ik,n),Bc.extend(t,e,n),I.get(t,e,["framebuffer","opaqueActorCount","translucentActorCount","volumeCount"]),zk(t,e)}var Wk=I.newInstance(Wg,"vtkForwardPass"),Hk={newInstance:Wk,extend:Wg},Hg={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(n){var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function a(_,v){var g=_[0],x=_[1],w=_[2],C=_[3];g+=(x&w|~x&C)+v[0]-680876936|0,g=(g<<7|g>>>25)+x|0,C+=(g&x|~g&w)+v[1]-389564586|0,C=(C<<12|C>>>20)+g|0,w+=(C&g|~C&x)+v[2]+606105819|0,w=(w<<17|w>>>15)+C|0,x+=(w&C|~w&g)+v[3]-1044525330|0,x=(x<<22|x>>>10)+w|0,g+=(x&w|~x&C)+v[4]-176418897|0,g=(g<<7|g>>>25)+x|0,C+=(g&x|~g&w)+v[5]+1200080426|0,C=(C<<12|C>>>20)+g|0,w+=(C&g|~C&x)+v[6]-1473231341|0,w=(w<<17|w>>>15)+C|0,x+=(w&C|~w&g)+v[7]-45705983|0,x=(x<<22|x>>>10)+w|0,g+=(x&w|~x&C)+v[8]+1770035416|0,g=(g<<7|g>>>25)+x|0,C+=(g&x|~g&w)+v[9]-1958414417|0,C=(C<<12|C>>>20)+g|0,w+=(C&g|~C&x)+v[10]-42063|0,w=(w<<17|w>>>15)+C|0,x+=(w&C|~w&g)+v[11]-1990404162|0,x=(x<<22|x>>>10)+w|0,g+=(x&w|~x&C)+v[12]+1804603682|0,g=(g<<7|g>>>25)+x|0,C+=(g&x|~g&w)+v[13]-40341101|0,C=(C<<12|C>>>20)+g|0,w+=(C&g|~C&x)+v[14]-1502002290|0,w=(w<<17|w>>>15)+C|0,x+=(w&C|~w&g)+v[15]+1236535329|0,x=(x<<22|x>>>10)+w|0,g+=(x&C|w&~C)+v[1]-165796510|0,g=(g<<5|g>>>27)+x|0,C+=(g&w|x&~w)+v[6]-1069501632|0,C=(C<<9|C>>>23)+g|0,w+=(C&x|g&~x)+v[11]+643717713|0,w=(w<<14|w>>>18)+C|0,x+=(w&g|C&~g)+v[0]-373897302|0,x=(x<<20|x>>>12)+w|0,g+=(x&C|w&~C)+v[5]-701558691|0,g=(g<<5|g>>>27)+x|0,C+=(g&w|x&~w)+v[10]+38016083|0,C=(C<<9|C>>>23)+g|0,w+=(C&x|g&~x)+v[15]-660478335|0,w=(w<<14|w>>>18)+C|0,x+=(w&g|C&~g)+v[4]-405537848|0,x=(x<<20|x>>>12)+w|0,g+=(x&C|w&~C)+v[9]+568446438|0,g=(g<<5|g>>>27)+x|0,C+=(g&w|x&~w)+v[14]-1019803690|0,C=(C<<9|C>>>23)+g|0,w+=(C&x|g&~x)+v[3]-187363961|0,w=(w<<14|w>>>18)+C|0,x+=(w&g|C&~g)+v[8]+1163531501|0,x=(x<<20|x>>>12)+w|0,g+=(x&C|w&~C)+v[13]-1444681467|0,g=(g<<5|g>>>27)+x|0,C+=(g&w|x&~w)+v[2]-51403784|0,C=(C<<9|C>>>23)+g|0,w+=(C&x|g&~x)+v[7]+1735328473|0,w=(w<<14|w>>>18)+C|0,x+=(w&g|C&~g)+v[12]-1926607734|0,x=(x<<20|x>>>12)+w|0,g+=(x^w^C)+v[5]-378558|0,g=(g<<4|g>>>28)+x|0,C+=(g^x^w)+v[8]-2022574463|0,C=(C<<11|C>>>21)+g|0,w+=(C^g^x)+v[11]+1839030562|0,w=(w<<16|w>>>16)+C|0,x+=(w^C^g)+v[14]-35309556|0,x=(x<<23|x>>>9)+w|0,g+=(x^w^C)+v[1]-1530992060|0,g=(g<<4|g>>>28)+x|0,C+=(g^x^w)+v[4]+1272893353|0,C=(C<<11|C>>>21)+g|0,w+=(C^g^x)+v[7]-155497632|0,w=(w<<16|w>>>16)+C|0,x+=(w^C^g)+v[10]-1094730640|0,x=(x<<23|x>>>9)+w|0,g+=(x^w^C)+v[13]+681279174|0,g=(g<<4|g>>>28)+x|0,C+=(g^x^w)+v[0]-358537222|0,C=(C<<11|C>>>21)+g|0,w+=(C^g^x)+v[3]-722521979|0,w=(w<<16|w>>>16)+C|0,x+=(w^C^g)+v[6]+76029189|0,x=(x<<23|x>>>9)+w|0,g+=(x^w^C)+v[9]-640364487|0,g=(g<<4|g>>>28)+x|0,C+=(g^x^w)+v[12]-421815835|0,C=(C<<11|C>>>21)+g|0,w+=(C^g^x)+v[15]+530742520|0,w=(w<<16|w>>>16)+C|0,x+=(w^C^g)+v[2]-995338651|0,x=(x<<23|x>>>9)+w|0,g+=(w^(x|~C))+v[0]-198630844|0,g=(g<<6|g>>>26)+x|0,C+=(x^(g|~w))+v[7]+1126891415|0,C=(C<<10|C>>>22)+g|0,w+=(g^(C|~x))+v[14]-1416354905|0,w=(w<<15|w>>>17)+C|0,x+=(C^(w|~g))+v[5]-57434055|0,x=(x<<21|x>>>11)+w|0,g+=(w^(x|~C))+v[12]+1700485571|0,g=(g<<6|g>>>26)+x|0,C+=(x^(g|~w))+v[3]-1894986606|0,C=(C<<10|C>>>22)+g|0,w+=(g^(C|~x))+v[10]-1051523|0,w=(w<<15|w>>>17)+C|0,x+=(C^(w|~g))+v[1]-2054922799|0,x=(x<<21|x>>>11)+w|0,g+=(w^(x|~C))+v[8]+1873313359|0,g=(g<<6|g>>>26)+x|0,C+=(x^(g|~w))+v[15]-30611744|0,C=(C<<10|C>>>22)+g|0,w+=(g^(C|~x))+v[6]-1560198380|0,w=(w<<15|w>>>17)+C|0,x+=(C^(w|~g))+v[13]+1309151649|0,x=(x<<21|x>>>11)+w|0,g+=(w^(x|~C))+v[4]-145523070|0,g=(g<<6|g>>>26)+x|0,C+=(x^(g|~w))+v[11]-1120210379|0,C=(C<<10|C>>>22)+g|0,w+=(g^(C|~x))+v[2]+718787259|0,w=(w<<15|w>>>17)+C|0,x+=(C^(w|~g))+v[9]-343485551|0,x=(x<<21|x>>>11)+w|0,_[0]=g+_[0]|0,_[1]=x+_[1]|0,_[2]=w+_[2]|0,_[3]=C+_[3]|0}function i(_){var v=[],g;for(g=0;g<64;g+=4)v[g>>2]=_.charCodeAt(g)+(_.charCodeAt(g+1)<<8)+(_.charCodeAt(g+2)<<16)+(_.charCodeAt(g+3)<<24);return v}function s(_){var v=[],g;for(g=0;g<64;g+=4)v[g>>2]=_[g]+(_[g+1]<<8)+(_[g+2]<<16)+(_[g+3]<<24);return v}function o(_){var v=_.length,g=[1732584193,-271733879,-1732584194,271733878],x,w,C,S,T,b;for(x=64;x<=v;x+=64)a(g,i(_.substring(x-64,x)));for(_=_.substring(x-64),w=_.length,C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<w;x+=1)C[x>>2]|=_.charCodeAt(x)<<(x%4<<3);if(C[x>>2]|=128<<(x%4<<3),x>55)for(a(g,C),x=0;x<16;x+=1)C[x]=0;return S=v*8,S=S.toString(16).match(/(.*?)(.{0,8})$/),T=parseInt(S[2],16),b=parseInt(S[1],16)||0,C[14]=T,C[15]=b,a(g,C),g}function c(_){var v=_.length,g=[1732584193,-271733879,-1732584194,271733878],x,w,C,S,T,b;for(x=64;x<=v;x+=64)a(g,s(_.subarray(x-64,x)));for(_=x-64<v?_.subarray(x-64):new Uint8Array(0),w=_.length,C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<w;x+=1)C[x>>2]|=_[x]<<(x%4<<3);if(C[x>>2]|=128<<(x%4<<3),x>55)for(a(g,C),x=0;x<16;x+=1)C[x]=0;return S=v*8,S=S.toString(16).match(/(.*?)(.{0,8})$/),T=parseInt(S[2],16),b=parseInt(S[1],16)||0,C[14]=T,C[15]=b,a(g,C),g}function u(_){var v="",g;for(g=0;g<4;g+=1)v+=r[_>>g*8+4&15]+r[_>>g*8&15];return v}function l(_){var v;for(v=0;v<_.length;v+=1)_[v]=u(_[v]);return _.join("")}l(o("hello"))!=="5d41402abc4b2a76b9719d911017c592",typeof ArrayBuffer!="undefined"&&!ArrayBuffer.prototype.slice&&function(){function _(v,g){return v=v|0||0,v<0?Math.max(v+g,0):Math.min(v,g)}ArrayBuffer.prototype.slice=function(v,g){var x=this.byteLength,w=_(v,x),C=x,S,T,b,O;return g!==n&&(C=_(g,x)),w>C?new ArrayBuffer(0):(S=C-w,T=new ArrayBuffer(S),b=new Uint8Array(T),O=new Uint8Array(this,w,S),b.set(O),T)}}();function f(_){return/[\u0080-\uFFFF]/.test(_)&&(_=unescape(encodeURIComponent(_))),_}function h(_,v){var g=_.length,x=new ArrayBuffer(g),w=new Uint8Array(x),C;for(C=0;C<g;C+=1)w[C]=_.charCodeAt(C);return v?w:x}function p(_){return String.fromCharCode.apply(null,new Uint8Array(_))}function d(_,v,g){var x=new Uint8Array(_.byteLength+v.byteLength);return x.set(new Uint8Array(_)),x.set(new Uint8Array(v),_.byteLength),g?x:x.buffer}function y(_){var v=[],g=_.length,x;for(x=0;x<g-1;x+=2)v.push(parseInt(_.substr(x,2),16));return String.fromCharCode.apply(String,v)}function m(){this.reset()}return m.prototype.append=function(_){return this.appendBinary(f(_)),this},m.prototype.appendBinary=function(_){this._buff+=_,this._length+=_.length;var v=this._buff.length,g;for(g=64;g<=v;g+=64)a(this._hash,i(this._buff.substring(g-64,g)));return this._buff=this._buff.substring(g-64),this},m.prototype.end=function(_){var v=this._buff,g=v.length,x,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C;for(x=0;x<g;x+=1)w[x>>2]|=v.charCodeAt(x)<<(x%4<<3);return this._finish(w,g),C=l(this._hash),_&&(C=y(C)),this.reset(),C},m.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},m.prototype.setState=function(_){return this._buff=_.buff,this._length=_.length,this._hash=_.hash,this},m.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},m.prototype._finish=function(_,v){var g=v,x,w,C;if(_[g>>2]|=128<<(g%4<<3),g>55)for(a(this._hash,_),g=0;g<16;g+=1)_[g]=0;x=this._length*8,x=x.toString(16).match(/(.*?)(.{0,8})$/),w=parseInt(x[2],16),C=parseInt(x[1],16)||0,_[14]=w,_[15]=C,a(this._hash,_)},m.hash=function(_,v){return m.hashBinary(f(_),v)},m.hashBinary=function(_,v){var g=o(_),x=l(g);return v?y(x):x},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(_){var v=d(this._buff.buffer,_,!0),g=v.length,x;for(this._length+=_.byteLength,x=64;x<=g;x+=64)a(this._hash,s(v.subarray(x-64,x)));return this._buff=x-64<g?new Uint8Array(v.buffer.slice(x-64)):new Uint8Array(0),this},m.ArrayBuffer.prototype.end=function(_){var v=this._buff,g=v.length,x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w,C;for(w=0;w<g;w+=1)x[w>>2]|=v[w]<<(w%4<<3);return this._finish(x,g),C=l(this._hash),_&&(C=y(C)),this.reset(),C},m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.getState=function(){var _=m.prototype.getState.call(this);return _.buff=p(_.buff),_},m.ArrayBuffer.prototype.setState=function(_){return _.buff=h(_.buff,!0),m.prototype.setState.call(this,_)},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.hash=function(_,v){var g=c(new Uint8Array(_)),x=l(g);return v?y(x):x},m})})(Hg);var $k=Hg.exports,Kk=["lastShaderBound","context","_openGLRenderWindow"];function Xk(t,e){e.classHierarchy.push("vtkShaderCache"),t.replaceShaderValues=function(n,r,a){var i=r;a.length>0&&(i=ue.substitute(i,"VSOut","GSOut").result);var s=e._openGLRenderWindow.getWebgl2(),o=`
`,c=`#version 100
`;s?c=`#version 300 es
#define attribute in
#define textureCube texture
#define texture2D texture
#define textureCubeLod textureLod
#define texture2DLod textureLod
`:(e.context.getExtension("OES_standard_derivatives"),e.context.getExtension("EXT_frag_depth")&&(o=`#extension GL_EXT_frag_depth : enable
`),e.context.getExtension("EXT_shader_texture_lod")&&(o+=`#extension GL_EXT_shader_texture_lod : enable
#define textureCubeLod textureCubeLodEXT
#define texture2DLod texture2DLodEXT`)),i=ue.substitute(i,"//VTK::System::Dec",["".concat(c,`
`),s?"":`#extension GL_OES_standard_derivatives : enable
`,o,"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;var u=ue.substitute(n,"//VTK::System::Dec",["".concat(c,`
`),"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;if(s){u=ue.substitute(u,"varying","out").result,i=ue.substitute(i,"varying","in").result;for(var l="",f=0;i.includes("gl_FragData[".concat(f,"]"));)i=ue.substitute(i,"gl_FragData\\[".concat(f,"\\]"),"fragOutput".concat(f)).result,l+="layout(location = ".concat(f,") out vec4 fragOutput").concat(f,`;
`),f++;i=ue.substitute(i,"//VTK::Output::Dec",l).result}var h=ue.substitute(a,"//VTK::System::Dec",c).result;return{VSSource:u,FSSource:i,GSSource:h}},t.readyShaderProgramArray=function(n,r,a){var i=t.replaceShaderValues(n,r,a),s=t.getShaderProgram(i.VSSource,i.FSSource,i.GSSource);return t.readyShaderProgram(s)},t.readyShaderProgram=function(n){return!n||!n.getCompiled()&&!n.compileShader()||!t.bindShader(n)?null:n},t.getShaderProgram=function(n,r,a){var i="".concat(n).concat(r).concat(a),s=$k.hash(i),o=Object.keys(e.shaderPrograms).indexOf(s);if(o===-1){var c=ue.newInstance();return c.setContext(e.context),c.getVertexShader().setSource(n),c.getFragmentShader().setSource(r),a&&c.getGeometryShader().setSource(a),c.setMd5Hash(s),e.shaderPrograms[s]=c,c}return e.shaderPrograms[s]},t.releaseGraphicsResources=function(n){t.releaseCurrentShader(),Object.keys(e.shaderPrograms).map(function(r){return e.shaderPrograms[r]}).forEach(function(r){return r.releaseGraphicsResources(n)})},t.releaseGraphicsResources=function(){e.astShaderBound&&(e.lastShaderBound.release(),e.lastShaderBound=null)},t.bindShader=function(n){return e.lastShaderBound===n||(e.lastShaderBound&&e.lastShaderBound.release(),n.bind(),e.lastShaderBound=n),1}}var qk={lastShaderBound:null,shaderPrograms:null,context:null};function $g(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,qk,n),e.shaderPrograms={},I.obj(t,e),I.setGet(t,e,Kk),I.moveToProtected(t,e,["openGLRenderWindow"]),Xk(t,e)}var Yk=I.newInstance($g,"vtkShaderCache"),Zk={newInstance:Yk,extend:$g},Jk=I.vtkErrorMacro;function Qk(t,e){e.classHierarchy.push("vtkOpenGLTextureUnitManager"),t.deleteTable=function(){for(var n=0;n<e.numberOfTextureUnits;++n)e.textureUnits[n]===!0&&Jk("some texture units  were not properly released");e.textureUnits=[],e.numberOfTextureUnits=0},t.setContext=function(n){if(e.context!==n){if(e.context!==0&&t.deleteTable(),e.context=n,e.context){e.numberOfTextureUnits=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS);for(var r=0;r<e.numberOfTextureUnits;++r)e.textureUnits[r]=!1}t.modified()}},t.allocate=function(){for(var n=0;n<e.numberOfTextureUnits;n++)if(!t.isAllocated(n))return e.textureUnits[n]=!0,n;return-1},t.allocateUnit=function(n){return t.isAllocated(n)?-1:(e.textureUnits[n]=!0,n)},t.isAllocated=function(n){return e.textureUnits[n]},t.free=function(n){e.textureUnits[n]=!1}}var eM={context:null,numberOfTextureUnits:0,textureUnits:0};function Kg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,eM,n),I.obj(t,e),e.textureUnits=[],I.get(t,e,["numberOfTextureUnits"]),I.setGet(t,e,["context"]),Qk(t,e)}var tM=I.newInstance(Kg,"vtkOpenGLTextureUnitManager"),rM={newInstance:tM,extend:Kg};function nM(t,e){e.classHierarchy.push("vtkRenderWindowViewNode"),t.getViewNodeFactory=function(){return null},t.getAspectRatio=function(){return e.size[0]/e.size[1]},t.getAspectRatioForRenderer=function(n){var r=n.getViewportByReference();return e.size[0]*(r[2]-r[0])/((r[3]-r[1])*e.size[1])},t.isInViewport=function(n,r,a){var i=a.getViewportByReference(),s=t.getFramebufferSize();return i[0]*s[0]<=n&&i[2]*s[0]>=n&&i[1]*s[1]<=r&&i[3]*s[1]>=r},t.getViewportSize=function(n){var r=n.getViewportByReference(),a=t.getFramebufferSize();return[(r[2]-r[0])*a[0],(r[3]-r[1])*a[1]]},t.getViewportCenter=function(n){var r=t.getViewportSize(n);return[r[0]*.5,r[1]*.5]},t.displayToNormalizedDisplay=function(n,r,a){var i=t.getFramebufferSize();return[n/i[0],r/i[1],a]},t.normalizedDisplayToDisplay=function(n,r,a){var i=t.getFramebufferSize();return[n*i[0],r*i[1],a]},t.worldToView=function(n,r,a,i){return i.worldToView(n,r,a)},t.viewToWorld=function(n,r,a,i){return i.viewToWorld(n,r,a)},t.worldToDisplay=function(n,r,a,i){var s=i.worldToView(n,r,a),o=t.getViewportSize(i),c=i.viewToProjection(s[0],s[1],s[2],o[0]/o[1]),u=i.projectionToNormalizedDisplay(c[0],c[1],c[2]);return t.normalizedDisplayToDisplay(u[0],u[1],u[2])},t.displayToWorld=function(n,r,a,i){var s=t.displayToNormalizedDisplay(n,r,a),o=i.normalizedDisplayToProjection(s[0],s[1],s[2]),c=t.getViewportSize(i),u=i.projectionToView(o[0],o[1],o[2],c[0]/c[1]);return i.viewToWorld(u[0],u[1],u[2])},t.normalizedDisplayToViewport=function(n,r,a,i){var s=i.getViewportByReference();s=t.normalizedDisplayToDisplay(s[0],s[1],0);var o=t.normalizedDisplayToDisplay(n,r,a);return[o[0]-s[0]-.5,o[1]-s[1]-.5,a]},t.viewportToNormalizedViewport=function(n,r,a,i){var s=t.getViewportSize(i);return s&&s[0]!==0&&s[1]!==0?[n/(s[0]-1),r/(s[1]-1),a]:[n,r,a]},t.normalizedViewportToViewport=function(n,r,a,i){var s=t.getViewportSize(i);return[n*(s[0]-1),r*(s[1]-1),a]},t.displayToLocalDisplay=function(n,r,a){var i=t.getFramebufferSize();return[n,i[1]-r-1,a]},t.viewportToNormalizedDisplay=function(n,r,a,i){var s=i.getViewportByReference();s=t.normalizedDisplayToDisplay(s[0],s[1],0);var o=n+s[0]+.5,c=r+s[1]+.5;return t.displayToNormalizedDisplay(o,c,a)},t.getPixelData=function(n,r,a,i){I.vtkErrorMacro("not implemented")},t.createSelector=function(){I.vtkErrorMacro("not implemented")}}var aM={size:void 0,selector:void 0};function Xg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,aM,n),e.size||(e.size=[300,300]),I.getArray(t,e,["size"],2),I.get(t,e,["selector"]),Ut.extend(t,e,n),nM(t,e)}var iM=I.newInstance(Xg,"vtkRenderWindowViewNode"),oM={newInstance:iM,extend:Xg},Uh=I.vtkDebugMacro,Gh=I.vtkErrorMacro,sM={position:"absolute",top:0,left:0,width:"100%",height:"100%"},sa={vr:{rescaleFactor:1,translateZ:-.7},ar:{rescaleFactor:.25,translateZ:-.5}};function jt(t,e,n){var r=t.createFramebuffer(),a=t.createTexture();t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,e,2,2,0,e,n,null),t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,a,0);var i=t.checkFramebufferStatus(t.FRAMEBUFFER);return t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindTexture(t.TEXTURE_2D,null),i===t.FRAMEBUFFER_COMPLETE}var Cs=0,Hs=[];function uM(){Cs++,Hs.forEach(function(t){return t(Cs)})}function cM(){Cs--,Hs.forEach(function(t){return t(Cs)})}function fM(t){Hs.push(t)}function lM(t){return Hs.pop()}function hM(t,e){e.classHierarchy.push("vtkOpenGLRenderWindow"),t.getViewNodeFactory=function(){return e.myFactory};var n=[0,0];function r(){e.renderable&&(e.size[0]!==n[0]||e.size[1]!==n[1])&&(n[0]=e.size[0],n[1]=e.size[1],e.canvas.setAttribute("width",e.size[0]),e.canvas.setAttribute("height",e.size[1])),e.viewStream&&e.viewStream.setSize(e.size[0],e.size[1]),e.canvas.style.display=e.useOffScreen?"none":"block",e.el&&(e.el.style.cursor=e.cursorVisibility?e.cursor:"none"),e.containerSize=null}t.onModified(r),t.buildPass=function(i){if(i){if(!e.renderable)return;t.prepareNodes(),t.addMissingNodes(e.renderable.getRenderersByReference()),t.removeUnusedNodes(),t.initialize(),e.children.forEach(function(s){s.setOpenGLRenderWindow(t)})}},t.initialize=function(){if(!e.initialized){e.context=t.get3DContext(),e.textureUnitManager=rM.newInstance(),e.textureUnitManager.setContext(e.context),e.shaderCache.setContext(e.context);var i=e.context;i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA),i.depthFunc(i.LEQUAL),i.enable(i.BLEND),e.initialized=!0}},t.makeCurrent=function(){e.context.makeCurrent()},t.setContainer=function(i){e.el&&e.el!==i&&(e.canvas.parentNode!==e.el&&Gh("Error: canvas parent node does not match container"),e.el.removeChild(e.canvas),e.el.contains(e.bgImage)&&e.el.removeChild(e.bgImage)),e.el!==i&&(e.el=i,e.el&&(e.el.appendChild(e.canvas),e.useBackgroundImage&&e.el.appendChild(e.bgImage)),t.modified())},t.getContainer=function(){return e.el},t.getContainerSize=function(){if(!e.containerSize&&e.el){var i=e.el.getBoundingClientRect(),s=i.width,o=i.height;e.containerSize=[s,o]}return e.containerSize||e.size},t.getFramebufferSize=function(){return e.activeFramebuffer?e.activeFramebuffer.getSize():e.size},t.getPixelData=function(i,s,o,c){var u=new Uint8Array((o-i+1)*(c-s+1)*4);return e.context.readPixels(i,s,o-i+1,c-s+1,e.context.RGBA,e.context.UNSIGNED_BYTE,u),u},t.get3DContext=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{preserveDrawingBuffer:!1,depth:!0,alpha:!0,powerPreference:"high-performance"},s=null;navigator.xr!==void 0&&navigator.xr.isSessionSupported("immersive-vr")&&t.invokeHaveVRDisplay();var o=typeof WebGL2RenderingContext!="undefined";return e.webgl2=!1,e.defaultToWebgl2&&o&&(s=e.canvas.getContext("webgl2",i),s&&(e.webgl2=!0,Uh("using webgl2"))),s||(Uh("using webgl1"),s=e.canvas.getContext("webgl",i)||e.canvas.getContext("experimental-webgl",i)),e.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault()},!1),e.canvas.addEventListener("webglcontextrestored",t.restoreContext,!1),s},t.startXR=function(i){if(navigator.xr===void 0)throw new Error("WebXR is not available");e.xrSessionIsAR=i;var s=i?"immersive-ar":"immersive-vr";if(!navigator.xr.isSessionSupported(s))throw i?new Error("Device does not support AR session"):new Error("VR display is not available");if(e.xrSession===null)navigator.xr.requestSession(s).then(t.enterXR,function(){throw new Error("Failed to create XR session!")});else throw new Error("XR Session already exists!")},t.enterXR=function(){var i=Ca(ar.mark(function s(o){var c,u;return ar.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(e.xrSession=o,e.oldCanvasSize=e.size.slice(),e.xrSession===null){f.next=15;break}return c=t.get3DContext(),f.next=6,c.makeXRCompatible();case 6:u=new global.XRWebGLLayer(e.xrSession,c),t.setSize(u.framebufferWidth,u.framebufferHeight),e.xrSession.updateRenderState({baseLayer:u}),e.xrSession.requestReferenceSpace("local").then(function(h){e.xrReferenceSpace=h}),t.resetXRScene(),e.renderable.getInteractor().switchToXRAnimation(),e.xrSceneFrame=e.xrSession.requestAnimationFrame(t.xrRender),f.next=16;break;case 15:throw new Error("Failed to enter VR with a null xrSession.");case 16:case"end":return f.stop()}},s)}));return function(s){return i.apply(this,arguments)}}(),t.resetXRScene=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sa.vr.rescaleFactor,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sa.vr.translateZ,o=i,c=s;e.xrSessionIsAR&&o===sa.vr.rescaleFactor&&(o=sa.ar.rescaleFactor),e.xrSessionIsAR&&c===sa.vr.translateZ&&(c=sa.ar.translateZ);var u=e.renderable.getRenderers()[0];u.resetCamera();var l=u.getActiveCamera(),f=l.getPhysicalScale(),h=l.getPhysicalTranslation();f/=o,c*=f,h[2]+=c,l.setPhysicalScale(f),l.setPhysicalTranslation(h),l.setClippingRange(.1*f,100*f)},t.stopXR=Ca(ar.mark(function i(){var s,o;return ar.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(navigator.xr!==void 0){u.next=2;break}return u.abrupt("return");case 2:if(e.xrSession===null){u.next=10;break}return e.xrSession.cancelAnimationFrame(e.xrSceneFrame),e.renderable.getInteractor().returnFromXRAnimation(),s=t.get3DContext(),s.bindFramebuffer(s.FRAMEBUFFER,null),u.next=9,e.xrSession.end().catch(function(l){if(!(l instanceof DOMException))throw l});case 9:e.xrSession=null;case 10:e.oldCanvasSize!==void 0&&t.setSize.apply(t,we(e.oldCanvasSize)),o=e.renderable.getRenderers()[0],o.getActiveCamera().setProjectionMatrix(null),o.resetCamera(),o.setViewport(0,0,1,1),t.traverseAllPasses();case 16:case"end":return u.stop()}},i)})),t.xrRender=function(){var i=Ca(ar.mark(function s(o,c){var u,l,f,h,p;return ar.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:u=c.session,e.renderable.getInteractor().updateXRGamepads(u,c,e.xrReferenceSpace),e.xrSceneFrame=e.xrSession.requestAnimationFrame(t.xrRender),l=c.getViewerPose(e.xrReferenceSpace),l&&(f=t.get3DContext(),e.xrSessionIsAR&&e.oldCanvasSize!==void 0&&(f.canvas.width=e.oldCanvasSize[0],f.canvas.height=e.oldCanvasSize[1]),h=u.renderState.baseLayer,f.bindFramebuffer(f.FRAMEBUFFER,h.framebuffer),f.clear(f.COLOR_BUFFER_BIT),f.clear(f.DEPTH_BUFFER_BIT),p=e.renderable.getRenderers()[0],l.views.forEach(function(m){var _=h.getViewport(m);if(f.viewport(_.x,_.y,_.width,_.height),!e.xrSessionIsAR)if(m.eye==="left")p.setViewport(0,0,.5,1);else if(m.eye==="right")p.setViewport(.5,0,1,1);else return;p.getActiveCamera().computeViewParametersFromPhysicalMatrix(m.transform.inverse.matrix),p.getActiveCamera().setProjectionMatrix(m.projectionMatrix),t.traverseAllPasses()}));case 5:case"end":return y.stop()}},s)}));return function(s,o){return i.apply(this,arguments)}}(),t.restoreContext=function(){var i=Bc.newInstance();i.setCurrentOperation("Release"),i.traverse(t,null)},t.activateTexture=function(i){var s=e._textureResourceIds.get(i);if(s!==void 0){e.context.activeTexture(e.context.TEXTURE0+s);return}var o=t.getTextureUnitManager().allocate();if(o<0){Gh("Hardware does not support the number of textures defined.");return}e._textureResourceIds.set(i,o),e.context.activeTexture(e.context.TEXTURE0+o)},t.deactivateTexture=function(i){var s=e._textureResourceIds.get(i);s!==void 0&&(t.getTextureUnitManager().free(s),delete e._textureResourceIds.delete(i))},t.getTextureUnitForTexture=function(i){var s=e._textureResourceIds.get(i);return s!==void 0?s:-1},t.getDefaultTextureInternalFormat=function(i,s,o){if(e.webgl2)switch(i){case pt.UNSIGNED_CHAR:switch(s){case 1:return e.context.R8;case 2:return e.context.RG8;case 3:return e.context.RGB8;case 4:default:return e.context.RGBA8}case pt.FLOAT:default:switch(s){case 1:return e.context.R16F;case 2:return e.context.RG16F;case 3:return e.context.RGB16F;case 4:default:return e.context.RGBA16F}}switch(s){case 1:return e.context.LUMINANCE;case 2:return e.context.LUMINANCE_ALPHA;case 3:return e.context.RGB;case 4:default:return e.context.RGBA}},t.setBackgroundImage=function(i){e.bgImage.src=i.src},t.setUseBackgroundImage=function(i){e.useBackgroundImage=i,e.useBackgroundImage&&!e.el.contains(e.bgImage)?e.el.appendChild(e.bgImage):!e.useBackgroundImage&&e.el.contains(e.bgImage)&&e.el.removeChild(e.bgImage)};function a(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.imageFormat,s=document.createElement("canvas"),o=s.getContext("2d");s.width=e.canvas.width,s.height=e.canvas.height,o.drawImage(e.canvas,0,0);var c=e.canvas.getBoundingClientRect(),u=e.renderable,l=u.getRenderers();l.forEach(function(h){var p=h.getViewProps();p.forEach(function(d){if(d.getContainer)for(var y=d.getContainer(),m=y.getElementsByTagName("canvas"),_=0;_<m.length;_++){var v=m[_],g=v.getBoundingClientRect(),x=g.x-c.x,w=g.y-c.y;o.drawImage(v,x,w)}})});var f=s.toDataURL(i);s.remove(),t.invokeImageReady(f)}t.captureNextImage=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.resetCamera,c=o===void 0?!1:o,u=s.size,l=u===void 0?null:u,f=s.scale,h=f===void 0?1:f;if(e.deleted)return null;e.imageFormat=i;var p=e.notifyStartCaptureImage;return e.notifyStartCaptureImage=!0,e._screenshot={size:!!l||h!==1?l||e.size.map(function(d){return d*h}):null},new Promise(function(d,y){var m=t.onImageReady(function(_){if(e._screenshot.size===null)e.notifyStartCaptureImage=p,m.unsubscribe(),e._screenshot.placeHolder&&(e.size=e._screenshot.originalSize,t.modified(),e._screenshot.cameras&&e._screenshot.cameras.forEach(function(x){var w=x.restoreParamsFn,C=x.arg;return w(C)}),t.traverseAllPasses(),e.el.removeChild(e._screenshot.placeHolder),e._screenshot.placeHolder.remove(),e._screenshot=null),d(_);else{var v=document.createElement("img");if(v.style=sM,v.src=_,e._screenshot.placeHolder=e.el.appendChild(v),e.canvas.style.display="none",e._screenshot.originalSize=e.size,e.size=e._screenshot.size,e._screenshot.size=null,t.modified(),c){var g=c!==!0;e._screenshot.cameras=e.renderable.getRenderers().map(function(x){var w=x.getActiveCamera(),C=w.get("focalPoint","position","parallelScale");return{resetCameraArgs:g?{renderer:x}:void 0,resetCameraFn:g?c:x.resetCamera,restoreParamsFn:w.set,arg:JSON.parse(JSON.stringify(C))}}),e._screenshot.cameras.forEach(function(x){var w=x.resetCameraFn,C=x.resetCameraArgs;return w(C)})}t.traverseAllPasses()}})})},t.getHardwareMaximumLineWidth=function(){var i=t.get3DContext(),s=i.getParameter(i.ALIASED_LINE_WIDTH_RANGE);return s[1]},t.getGLInformations=function(){for(var i=t.get3DContext(),s=i.getExtension("OES_texture_float"),o=i.getExtension("OES_texture_half_float"),c=i.getExtension("WEBGL_debug_renderer_info"),u=i.getExtension("WEBGL_draw_buffers"),l=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),f=[["Max Vertex Attributes","MAX_VERTEX_ATTRIBS",i.getParameter(i.MAX_VERTEX_ATTRIBS)],["Max Varying Vectors","MAX_VARYING_VECTORS",i.getParameter(i.MAX_VARYING_VECTORS)],["Max Vertex Uniform Vectors","MAX_VERTEX_UNIFORM_VECTORS",i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS)],["Max Fragment Uniform Vectors","MAX_FRAGMENT_UNIFORM_VECTORS",i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS)],["Max Fragment Texture Image Units","MAX_TEXTURE_IMAGE_UNITS",i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS)],["Max Vertex Texture Image Units","MAX_VERTEX_TEXTURE_IMAGE_UNITS",i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)],["Max Combined Texture Image Units","MAX_COMBINED_TEXTURE_IMAGE_UNITS",i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS)],["Max 2D Texture Size","MAX_TEXTURE_SIZE",i.getParameter(i.MAX_TEXTURE_SIZE)],["Max Cube Texture Size","MAX_CUBE_MAP_TEXTURE_SIZE",i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE)],["Max Texture Anisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT",l&&i.getParameter(l.MAX_TEXTURE_MAX_ANISOTROPY_EXT)],["Point Size Range","ALIASED_POINT_SIZE_RANGE",i.getParameter(i.ALIASED_POINT_SIZE_RANGE).join(" - ")],["Line Width Range","ALIASED_LINE_WIDTH_RANGE",i.getParameter(i.ALIASED_LINE_WIDTH_RANGE).join(" - ")],["Max Viewport Dimensions","MAX_VIEWPORT_DIMS",i.getParameter(i.MAX_VIEWPORT_DIMS).join(" - ")],["Max Renderbuffer Size","MAX_RENDERBUFFER_SIZE",i.getParameter(i.MAX_RENDERBUFFER_SIZE)],["Framebuffer Red Bits","RED_BITS",i.getParameter(i.RED_BITS)],["Framebuffer Green Bits","GREEN_BITS",i.getParameter(i.GREEN_BITS)],["Framebuffer Blue Bits","BLUE_BITS",i.getParameter(i.BLUE_BITS)],["Framebuffer Alpha Bits","ALPHA_BITS",i.getParameter(i.ALPHA_BITS)],["Framebuffer Depth Bits","DEPTH_BITS",i.getParameter(i.DEPTH_BITS)],["Framebuffer Stencil Bits","STENCIL_BITS",i.getParameter(i.STENCIL_BITS)],["Framebuffer Subpixel Bits","SUBPIXEL_BITS",i.getParameter(i.SUBPIXEL_BITS)],["MSAA Samples","SAMPLES",i.getParameter(i.SAMPLES)],["MSAA Sample Buffers","SAMPLE_BUFFERS",i.getParameter(i.SAMPLE_BUFFERS)],["Supported Formats for UByte Render Targets     ","UNSIGNED_BYTE RENDER TARGET FORMATS",[s&&jt(i,i.RGBA,i.UNSIGNED_BYTE)?"RGBA":"",s&&jt(i,i.RGB,i.UNSIGNED_BYTE)?"RGB":"",s&&jt(i,i.LUMINANCE,i.UNSIGNED_BYTE)?"LUMINANCE":"",s&&jt(i,i.ALPHA,i.UNSIGNED_BYTE)?"ALPHA":"",s&&jt(i,i.LUMINANCE_ALPHA,i.UNSIGNED_BYTE)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Half Float Render Targets","HALF FLOAT RENDER TARGET FORMATS",[o&&jt(i,i.RGBA,o.HALF_FLOAT_OES)?"RGBA":"",o&&jt(i,i.RGB,o.HALF_FLOAT_OES)?"RGB":"",o&&jt(i,i.LUMINANCE,o.HALF_FLOAT_OES)?"LUMINANCE":"",o&&jt(i,i.ALPHA,o.HALF_FLOAT_OES)?"ALPHA":"",o&&jt(i,i.LUMINANCE_ALPHA,o.HALF_FLOAT_OES)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Full Float Render Targets","FLOAT RENDER TARGET FORMATS",[s&&jt(i,i.RGBA,i.FLOAT)?"RGBA":"",s&&jt(i,i.RGB,i.FLOAT)?"RGB":"",s&&jt(i,i.LUMINANCE,i.FLOAT)?"LUMINANCE":"",s&&jt(i,i.ALPHA,i.FLOAT)?"ALPHA":"",s&&jt(i,i.LUMINANCE_ALPHA,i.FLOAT)?"LUMINANCE_ALPHA":""].join(" ")],["Max Multiple Render Targets Buffers","MAX_DRAW_BUFFERS_WEBGL",u?i.getParameter(u.MAX_DRAW_BUFFERS_WEBGL):0],["High Float Precision in Vertex Shader","HIGH_FLOAT VERTEX_SHADER",[i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Vertex Shader","MEDIUM_FLOAT VERTEX_SHADER",[i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Vertex Shader","LOW_FLOAT VERTEX_SHADER",[i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.LOW_FLOAT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Float Precision in Fragment Shader","HIGH_FLOAT FRAGMENT_SHADER",[i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Fragment Shader","MEDIUM_FLOAT FRAGMENT_SHADER",[i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Fragment Shader","LOW_FLOAT FRAGMENT_SHADER",[i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.LOW_FLOAT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Int Precision in Vertex Shader","HIGH_INT VERTEX_SHADER",[i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_INT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_INT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Vertex Shader","MEDIUM_INT VERTEX_SHADER",[i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_INT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Vertex Shader","LOW_INT VERTEX_SHADER",[i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.LOW_INT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.LOW_INT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.LOW_INT).rangeMax,"</sup>)"].join("")],["High Int Precision in Fragment Shader","HIGH_INT FRAGMENT_SHADER",[i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_INT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_INT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Fragment Shader","MEDIUM_INT FRAGMENT_SHADER",[i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_INT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Fragment Shader","LOW_INT FRAGMENT_SHADER",[i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.LOW_INT).precision," (-2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.LOW_INT).rangeMin,"</sup> - 2<sup>",i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.LOW_INT).rangeMax,"</sup>)"].join("")],["Supported Extensions","EXTENSIONS",i.getSupportedExtensions().join("<br/>					    ")],["WebGL Renderer","RENDERER",i.getParameter(i.RENDERER)],["WebGL Vendor","VENDOR",i.getParameter(i.VENDOR)],["WebGL Version","VERSION",i.getParameter(i.VERSION)],["Shading Language Version","SHADING_LANGUAGE_VERSION",i.getParameter(i.SHADING_LANGUAGE_VERSION)],["Unmasked Renderer","UNMASKED_RENDERER",c&&i.getParameter(c.UNMASKED_RENDERER_WEBGL)],["Unmasked Vendor","UNMASKED_VENDOR",c&&i.getParameter(c.UNMASKED_VENDOR_WEBGL)],["WebGL Version","WEBGL_VERSION",e.webgl2?2:1]],h={};f.length;){var p=f.pop(),d=We(p,3),y=d[0],m=d[1],_=d[2];m&&(h[m]={label:y,value:_})}return h},t.traverseAllPasses=function(){if(e.renderPasses)for(var i=0;i<e.renderPasses.length;++i)e.renderPasses[i].traverse(t,null);e.notifyStartCaptureImage&&a()},t.disableCullFace=function(){e.cullFaceEnabled&&(e.context.disable(e.context.CULL_FACE),e.cullFaceEnabled=!1)},t.enableCullFace=function(){e.cullFaceEnabled||(e.context.enable(e.context.CULL_FACE),e.cullFaceEnabled=!0)},t.setViewStream=function(i){if(e.viewStream===i)return!1;if(e.subscription&&(e.subscription.unsubscribe(),e.subscription=null),e.viewStream=i,e.viewStream){var s=e.renderable.getRenderers()[0];s.getBackgroundByReference()[3]=0,t.setUseBackgroundImage(!0),e.subscription=e.viewStream.onImageReady(function(o){return t.setBackgroundImage(o.image)}),e.viewStream.setSize(e.size[0],e.size[1]),e.viewStream.invalidateCache(),e.viewStream.render(),t.modified()}return!0},t.createSelector=function(){var i=Vs.newInstance();return i.setOpenGLRenderWindow(t),i},t.delete=I.chain(t.delete,t.setViewStream,cM)}var pM={cullFaceEnabled:!1,shaderCache:null,initialized:!1,context:null,canvas:null,cursorVisibility:!0,cursor:"pointer",textureUnitManager:null,textureResourceIds:null,containerSize:null,renderPasses:[],notifyStartCaptureImage:!1,webgl2:!1,defaultToWebgl2:!0,activeFramebuffer:null,xrSession:null,xrSessionIsAR:!1,xrReferenceSpace:null,xrSupported:!0,imageFormat:"image/png",useOffScreen:!1,useBackgroundImage:!1};function qg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,pM,n),oM.extend(t,e,n),e.canvas=document.createElement("canvas"),e.canvas.style.width="100%",uM(),e.selector||(e.selector=Vs.newInstance(),e.selector.setOpenGLRenderWindow(t)),e.bgImage=new Image,e.bgImage.style.position="absolute",e.bgImage.style.left="0",e.bgImage.style.top="0",e.bgImage.style.width="100%",e.bgImage.style.height="100%",e.bgImage.style.zIndex="-1",e._textureResourceIds=new Map,e.myFactory=i5.newInstance(),e.myFactory.registerOverride("vtkRenderWindow",Vc),e.shaderCache=Zk.newInstance(),e.shaderCache.setOpenGLRenderWindow(t),e.renderPasses[0]=Hk.newInstance(),I.event(t,e,"imageReady"),I.event(t,e,"haveVRDisplay"),I.get(t,e,["shaderCache","textureUnitManager","webgl2","vrDisplay","useBackgroundImage","xrSupported"]),I.setGet(t,e,["initialized","context","canvas","renderPasses","notifyStartCaptureImage","defaultToWebgl2","cursor","useOffScreen","activeFramebuffer"]),I.setGetArray(t,e,["size"],2),hM(t,e)}var Vc=I.newInstance(qg,"vtkOpenGLRenderWindow");Ug("WebGL",Vc);var Yg={newInstance:Vc,extend:qg,pushMonitorGLContextCount:fM,popMonitorGLContextCount:lM};function vM(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mt(this,n)}}function Ph(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ph(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ph(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Jg=me.createContext(null);function dM(t,e){var n=Zg({},t);return e.forEach(function(r){delete n[r]}),n}var gM={position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none"},Uc=function(t){kt(n,Vt.exports.Component);var e=vM(n);function n(r){var a;return yt(this,n),(a=e.call(this,r)).containerRef=me.createRef(),a.containerToRenderer=new Map,a.renderWindow=jg.newInstance(),a.interactor=null,a.renderWindowView=Yg.newInstance(),a.renderWindow.addView(a.renderWindowView),a.resizeObserver=new ResizeObserver(function(i){a.onResize(i)}),a.interactor=Fc.newInstance(),a.interactor.setView(a.renderWindowView),a.onResize=a.onResize.bind(_a(a)),a.initialized=!1,a}return mt(n,[{key:"componentDidMount",value:function(){if(!this.props.disabled){var r=this.containerRef.current;this.renderWindowView.setContainer(r),this.interactor.initialize(),this.resizeObserver.observe(r),this.resizeRootContainer(),this.initialized=!0,this.update(this.props)}}},{key:"componentDidUpdate",value:function(r){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.initialized&&(this.resizeObserver.disconnect(),this.interactor.getContainer()&&this.interactor.unbindEvents(),this.renderWindowView.setContainer(null)),this.renderWindow.removeView(this.renderWindowView),this.interactor.delete(),this.renderWindow.delete(),this.renderWindowView.delete(),this.interactor=null,this.renderWindow=null,this.renderWindowView=null}},{key:"render",value:function(){var r=this.props,a=r.id,i=r.children,s=r.style,o=r.disabled;return me.createElement("div",Ui({key:a,id:a,style:Zg({position:"relative"},s)},dM(this.props,Object.keys(Qg))),me.createElement("div",{style:gM,ref:this.containerRef}),me.createElement(Jg.Provider,{value:o?null:this},i))}},{key:"bindInteractorEvents",value:function(r){this.interactor&&(this.interactor.getContainer()&&this.interactor.unbindEvents(),r&&this.interactor.bindEvents(r))}},{key:"observeRendererResize",value:function(r,a){this.containerToRenderer.has(r)||(this.containerToRenderer.set(r,a),this.resizeObserver.observe(r))}},{key:"unobserveRendererResize",value:function(r){this.containerToRenderer.delete(r),this.resizeObserver.unobserve(r)}},{key:"resizeRootContainer",value:function(){var r=this.containerRef.current;if(r){var a=window.devicePixelRatio||1,i=r.getBoundingClientRect(),s=i.width,o=i.height,c=Math.floor(s*a),u=Math.floor(o*a);this.renderWindowView.setSize(Math.max(c,10),Math.max(u,10))}}},{key:"onResize",value:function(r){var a=this;r.forEach(function(i){var s=a.containerRef.current;if(i.target===s)a.resizeRootContainer();else if(a.containerToRenderer.has(i.target)){var o=a.containerToRenderer.get(i.target),c=i.target.getBoundingClientRect(),u=a.renderWindowView.getCanvas().getBoundingClientRect(),l=c.top-u.top,f=c.left-u.left,h=f/u.width,p=(f+c.width)/u.width,d=1-(l+c.height)/u.height,y=1-l/u.height;o.setViewport(h,d,p,y)}}),this.renderWindow.render()}},{key:"update",value:function(r,a){var i=r.triggerRender;a&&i!==a.triggerRender&&(this.renderViewTimeout=setTimeout(this.renderWindow.render,0))}}]),n}();Uc.defaultProps={triggerRender:0,disabled:!1};var Qg={id:ee.string,triggerRender:ee.number,disabled:ee.bool,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};Uc.propTypes=Qg;function jh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function yM(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mt(this,n)}}var ku=function(t){kt(n,Vt.exports.Component);var e=yM(n);function n(r){var a;return yt(this,n),(a=e.call(this,r)).renderer=ag.newInstance(),a.view=null,a.resizeObserver=new ResizeObserver(function(){return a.onResize()}),r.root?(a.renderWindow=r.root.renderWindow,a.openglRenderWindow=r.root.renderWindowView,a.interactor=r.root.interactor):(a.renderWindow=jg.newInstance(),a.openglRenderWindow=Yg.newInstance(),a.interactor=Fc.newInstance()),a.onEnter=a.onEnter.bind(_a(a)),a.onResize=a.onResize.bind(_a(a)),a.setViewRef=a.setViewRef.bind(_a(a)),a}return mt(n,[{key:"componentDidMount",value:function(){var r;this.props.root||(this.renderWindow.addView(this.openglRenderWindow),this.props.interactive&&(this.interactor.setView(this.openglRenderWindow),this.interactor.initialize())),this.renderWindow.addRenderer(this.renderer);var a=(r=this.view)===null||r===void 0?void 0:r.containerRef.current;this.view&&a&&(a.addEventListener("pointerenter",this.onEnter),this.props.root?this.props.root.observeRendererResize(a,this.renderer):(this.resizeObserver.observe(a),this.openglRenderWindow.setContainer(a),this.props.interactive&&this.interactor.bindEvents(a),this.interactor.setInteractorStyle(this.view.style),this.onResize()))}},{key:"componentWillUnmount",value:function(){var r,a=(r=this.view)===null||r===void 0?void 0:r.containerRef.current;a.removeEventListener("pointerenter",this.onEnter),this.resizeObserver.disconnect(),this.props.root&&this.props.root.unobserveRendererResize(a),this.renderWindow.isDeleted()||this.renderWindow.removeRenderer(this.renderer),this.props.root?this.bindInteractorEvents(null):(this.interactor.getContainer()&&this.interactor.unbindEvents(),this.openglRenderWindow.setContainer(null),this.renderWindow.isDeleted()||(this.renderWindow.removeView(this.openglRenderWindow),this.renderWindow.delete()),this.interactor.delete(),this.openglRenderWindow.delete()),this.renderer.delete(),this.interactor=null,this.renderWindow=null,this.openglRenderWindow=null}},{key:"render",value:function(){var r=function(a){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?jh(Object(s),!0).forEach(function(o){Oe(a,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):jh(Object(s)).forEach(function(o){Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(s,o))})}return a}({},this.props);return delete r.root,me.createElement(Bi,Ui({renderWindow:this.renderWindow,renderWindowView:this.openglRenderWindow,renderer:this.renderer,interactor:this.interactor,ref:this.setViewRef},r))}},{key:"setViewRef",value:function(r){this.view=r,this.props.forwardedRef&&(this.props.forwardedRef.current=r)}},{key:"bindInteractorEvents",value:function(r){var a=this.interactor.getContainer();a!==r&&(a&&this.interactor.unbindEvents(),r&&this.interactor.bindEvents(r))}},{key:"onEnter",value:function(){var r,a=(r=this.view)===null||r===void 0?void 0:r.containerRef.current;this.props.root&&a&&(this.bindInteractorEvents(a),this.interactor.setCurrentRenderer(this.renderer),this.interactor.setInteractorStyle(this.view.style))}},{key:"onResize",value:function(){var r,a=(r=this.view)===null||r===void 0?void 0:r.containerRef.current;if(a&&!this.props.root){var i=window.devicePixelRatio||1,s=a.getBoundingClientRect(),o=s.width,c=s.height,u=Math.floor(o*i),l=Math.floor(c*i);this.openglRenderWindow.setSize(Math.max(u,10),Math.max(l,10)),this.renderWindow.render()}}}]),n}();ku.defaultProps=Bi.defaultProps,ku.propTypes=Bi.propTypes;var mM=me.forwardRef(function(t,e){return me.createElement(Jg.Consumer,null,function(n){return me.createElement(ku,Ui({forwardedRef:e},t,{root:n}))})});function _M(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mt(this,n)}}var Ss=function(t){kt(n,Vt.exports.Component);var e=_M(n);function n(r){var a;return yt(this,n),(a=e.call(this,r)).validData=!1,a.currentVisibility=!0,a.actor=Kr.newInstance({visibility:!1,representationId:r.id}),a.lookupTable=ja.newInstance(),a.mapper=hn.newInstance({lookupTable:a.lookupTable,useLookupTableScalarRange:!0}),a.actor.setMapper(a.mapper),a.scalarBar=jv.newInstance(),a.scalarBar.setScalarsToColors(a.lookupTable),a.scalarBar.setVisibility(!1),a.subscriptions=[],r.showCubeAxes&&a.initCubeAxes(),a}return mt(n,[{key:"initCubeAxes",value:function(){var r=this;this.cubeAxes=wc.newInstance({visibility:!1,dataBounds:[-1,1,-1,1,-1,1]}),this.cubeAxes.getActors().forEach(function(a){return(0,a.setVisibility)(!1)}),this.subscriptions.push(this.mapper.onModified(function a(){if(r.mapper.getInputData()){r.subscriptions.length===1&&r.subscriptions.push(r.mapper.getInputData().onModified(a));var i=r.mapper.getInputData().getBounds();i[0]<i[1]&&(r.cubeAxes&&r.cubeAxes.setDataBounds(i),r.view&&r.view.renderView())}}))}},{key:"render",value:function(){var r=this;return me.createElement(Xr.Consumer,null,function(a){return r.view||(r.cubeAxes&&(r.cubeAxes.setCamera(a.renderer.getActiveCamera()),a.renderer.addActor(r.cubeAxes)),a.renderer.addActor(r.scalarBar),a.renderer.addActor(r.actor),r.view=a),me.createElement(Qt.Provider,{value:r},me.createElement(Bt.Provider,{value:r.mapper},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children)))})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){for(;this.subscriptions.length;)this.subscriptions.pop().unsubscribe();this.view&&this.view.renderer&&(this.view.renderer.removeActor(this.scalarBar),this.view.renderer.removeActor(this.cubeAxes),this.view.renderer.removeActor(this.actor)),this.scalarBar.delete(),this.scalarBar=null,this.cubeAxes&&(this.cubeAxes.delete(),this.cubeAxes=null),this.actor.delete(),this.actor=null,this.mapper.delete(),this.mapper=null,this.lookupTable.delete(),this.lookupTable=null}},{key:"update",value:function(r,a){var i,s=this,o=r.cubeAxesStyle,c=r.showCubeAxes,u=r.actor,l=r.mapper,f=r.property,h=r.colorMapPreset,p=r.colorDataRange,d=!1;if(!u||a&&u===a.actor||(d=this.actor.set(u)||d),!l||a&&l===a.mapper||(d=this.mapper.set(l)||d),!f||a&&f===a.property||(d=this.actor.getProperty().set(f)||d),h&&(!a||h!==a.colorMapPreset)){var y;d=!0;var m=ka.getPresetByName(h);this.lookupTable.applyColorMap(m),(y=this.lookupTable).setMappingRange.apply(y,we(p)),this.lookupTable.updateRange()}!p||a&&bg(p,a.colorDataRange)||(d=!0,(i=this.lookupTable).setMappingRange.apply(i,we(p)),this.lookupTable.updateRange()),c&&this.cubeAxes==null&&(d=!0,this.initCubeAxes(),!o||a&&o===a.cubeAxesStyle||this.cubeAxes.set(o)),this.cubeAxes!=null&&c!==this.cubeAxes.getVisibility()&&(d=!0,this.cubeAxes.setVisibility(c&&this.validData),this.cubeAxes.getActors().forEach(function(_){return(0,_.setVisibility)(c&&s.validData)})),d=this.scalarBar.setVisibility(r.showScalarBar&&this.validData)||d,d=this.scalarBar.setAxisLabel(r.scalarBarTitle)||d,d=this.scalarBar.set(r.scalarBarStyle||{})||d,u&&u.visibility!==void 0&&(this.currentVisibility=u.visibility,d=this.actor.setVisibility(this.currentVisibility&&this.validData)||d),d&&this.dataChanged()}},{key:"dataAvailable",value:function(){var r=this;this.validData||(this.validData=!0,this.actor.setVisibility(this.currentVisibility),this.scalarBar.setVisibility(this.props.showScalarBar),this.cubeAxes&&(this.cubeAxes.setVisibility(this.props.showCubeAxes),this.cubeAxes.getActors().forEach(function(a){return(0,a.setVisibility)(r.props.showCubeAxes)})),this.dataChanged())}},{key:"dataChanged",value:function(){this.view&&this.view.renderView()}}]),n}();Ss.defaultProps={colorMapPreset:"erdc_rainbow_bright",colorDataRange:[0,1],showCubeAxes:!1,showScalarBar:!1,scalarBarTitle:""},Ss.propTypes={id:ee.string,actor:ee.object,mapper:ee.object,property:ee.object,colorMapPreset:ee.string,colorDataRange:ee.arrayOf(ee.number),showCubeAxes:ee.bool,cubeAxesStyle:ee.object,showScalarBar:ee.bool,scalarBarTitle:ee.string,scalarBarStyle:ee.object,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};var Gc={DISPLAY:0,NORMALIZED_DISPLAY:1,VIEWPORT:2,NORMALIZED_VIEWPORT:3,PROJECTION:4,VIEW:5,WORLD:6},e2={Coordinate:Gc};function zh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ue=e2.Coordinate,Bo=I.vtkErrorMacro;function wM(t,e){e.classHierarchy.push("vtkCoordinate"),t.setValue=function(){if(e.deleted)return Bo("instance deleted - cannot call any method"),!1;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r;if(i.length===1&&Array.isArray(i[0])&&(i=i[0]),i.length===2)return t.setValue(i[0],i[1],0),!0;if(i.length!==3)throw new RangeError("Invalid number of values for array setter");var s=!1;return e.value.forEach(function(o,c){if(o!==i[c]){if(s)return;s=!0}}),s&&(e.value=[].concat(i),t.modified()),!0},t.setCoordinateSystemToDisplay=function(){t.setCoordinateSystem(Ue.DISPLAY)},t.setCoordinateSystemToNormalizedDisplay=function(){t.setCoordinateSystem(Ue.NORMALIZED_DISPLAY)},t.setCoordinateSystemToViewport=function(){t.setCoordinateSystem(Ue.VIEWPORT)},t.setCoordinateSystemToNormalizedViewport=function(){t.setCoordinateSystem(Ue.NORMALIZED_VIEWPORT)},t.setCoordinateSystemToProjection=function(){t.setCoordinateSystem(Ue.PROJECTION)},t.setCoordinateSystemToView=function(){t.setCoordinateSystem(Ue.VIEW)},t.setCoordinateSystemToWorld=function(){t.setCoordinateSystem(Ue.WORLD)},t.getCoordinateSystemAsString=function(){return I.enumToString(Ue,e.coordinateSystem)},t.getComputedWorldValue=function(n){var r=e.computedWorldValue;if(e.computing)return r;e.computing=1,r[0]=e.value[0],r[1]=e.value[1],r[2]=e.value[2];var a=n;if(e.renderer&&(a=e.renderer),!a){if(e.coordinateSystem===Ue.WORLD){if(e.referenceCoordinate){var i=e.referenceCoordinate.getComputedWorldValue(a);r[0]+=i[0],r[1]+=i[1],r[2]+=i[2]}e.computing=0}else Bo("Attempt to compute world coordinates from another coordinate system without a renderer");return r}var s=null;if(a&&a.getRenderWindow().getViews())s=a.getRenderWindow().getViews()[0];else return e.computedWorldValue;var o=s.getViewportSize(a),c=o[0]/o[1];if(e.referenceCoordinate&&e.coordinateSystem!==Ue.WORLD){var u=e.referenceCoordinate.getComputedDoubleDisplayValue(a),l=[u[0],u[1],0];switch(e.coordinateSystem){case Ue.NORMALIZED_DISPLAY:l=s.displayToNormalizedDisplay(l[0],l[1],l[2]);break;case Ue.VIEWPORT:l=s.displayToNormalizedDisplay(l[0],l[1],l[2]),l=s.normalizedDisplayToViewport(l[0],l[1],l[2],a);break;case Ue.NORMALIZED_VIEWPORT:l=s.displayToNormalizedDisplay(l[0],l[1],l[2]),l=s.normalizedDisplayToViewport(l[0],l[1],l[2],a),l=s.viewportToNormalizedViewport(l[0],l[1],l[2],a);break;case Ue.PROJECTION:l=s.displayToNormalizedDisplay(l[0],l[1],l[2]),l=s.normalizedDisplayToViewport(l[0],l[1],l[2],a),l=s.viewportToNormalizedViewport(l[0],l[1],l[2],a),l=a.normalizedViewportToProjection(l[0],l[1],l[2]);break;case Ue.VIEW:l=s.displayToNormalizedDisplay(l[0],l[1],l[2]),l=s.normalizedDisplayToViewport(l[0],l[1],l[2],a),l=s.viewportToNormalizedViewport(l[0],l[1],l[2],a),l=a.normalizedViewportToProjection(l[0],l[1],l[2]),l=a.projectionToView(l[0],l[1],l[2],c);break}r[0]+=l[0],r[1]+=l[1],r[2]+=l[2]}switch(e.coordinateSystem){case Ue.DISPLAY:r=s.displayToNormalizedDisplay(r[0],r[1],r[2]),r=s.normalizedDisplayToViewport(r[0],r[1],r[2],a),r=s.viewportToNormalizedViewport(r[0],r[1],r[2],a),r=a.normalizedViewportToProjection(r[0],r[1],r[2]),r=a.projectionToView(r[0],r[1],r[2],c),r=a.viewToWorld(r[0],r[1],r[2]);break;case Ue.NORMALIZED_DISPLAY:r=s.normalizedDisplayToViewport(r[0],r[1],r[2],a),r=s.viewportToNormalizedViewport(r[0],r[1],r[2],a),r=a.normalizedViewportToProjection(r[0],r[1],r[2]),r=a.projectionToView(r[0],r[1],r[2],c),r=a.viewToWorld(r[0],r[1],r[2]);break;case Ue.VIEWPORT:r=s.viewportToNormalizedViewport(r[0],r[1],r[2],a),r=a.normalizedViewportToProjection(r[0],r[1],r[2]),r=a.projectionToView(r[0],r[1],r[2],c),r=a.viewToWorld(r[0],r[1],r[2]);break;case Ue.NORMALIZED_VIEWPORT:r=a.normalizedViewportToProjection(r[0],r[1],r[2]),r=a.projectionToView(r[0],r[1],r[2],c),r=a.viewToWorld(r[0],r[1],r[2]);break;case Ue.PROJECTION:r=a.projectionToView(r[0],r[1],r[2],c),r=a.viewToWorld(r[0],r[1],r[2]);break;case Ue.VIEW:r=a.viewToWorld(r[0],r[1],r[2]);break}if(e.referenceCoordinate&&e.coordinateSystem===Ue.WORLD){var f=t.getComputedWorldValue(a);r[0]+=f[0],r[1]+=f[1],r[2]+=f[2]}return e.computing=0,e.computedWorldValue=r.slice(0),r},t.getComputedViewportValue=function(n){var r=t.getComputedDoubleViewportValue(n);return[on(r[0]),on(r[1])]},t.getComputedDisplayValue=function(n){var r=t.getComputedDoubleDisplayValue(n);return[au(r[0]),au(r[1])]},t.getComputedLocalDisplayValue=function(n){var r=n;e.renderer&&(r=e.renderer);var a=t.getComputedDisplayValue(r);if(!r)return Bo("Attempt to convert to local display coordinates without a renderer"),a;var i=null;if(r&&r.getRenderWindow().getViews())i=r.getRenderWindow().getViews()[0];else return a;return a=i.displayToLocalDisplay(a[0],a[1],a[2]),[on(a[0]),on(a[1])]},t.getComputedDoubleViewportValue=function(n){var r=n;e.renderer&&(r=e.renderer);var a=t.getComputedDoubleDisplayValue(r);if(!r)return a;var i=null;if(r&&r.getRenderWindow().getViews())i=r.getRenderWindow().getViews()[0];else return a;return a=i.displayToNormalizedDisplay(a[0],a[1],a[2]),a=i.normalizedDisplayToViewport(a[0],a[1],a[2],r),[a[0],a[1]]},t.getComputedDoubleDisplayValue=function(n){if(e.computing)return e.computedDoubleDisplayValue;e.computing=1;var r=e.value.slice(0),a=n;if(e.renderer&&(a=e.renderer),!a){if(e.coordinateSystem===Ue.DISPLAY){if(e.computedDoubleDisplayValue[0]=r[0],e.computedDoubleDisplayValue[1]=r[1],e.referenceCoordinate){var i=e.referenceCoordinate.getComputedDoubleDisplayValue();e.computedDoubleDisplayValue[0]+=i[0],e.computedDoubleDisplayValue[1]+=i[1]}}else e.computedDoubleDisplayValue[0]=Number.MAX_VALUE,e.computedDoubleDisplayValue[1]=Number.MAX_VALUE,Bo("Request for coordinate transformation without required viewport");return e.computedDoubleDisplayValue}var s=null;if(a&&a.getRenderWindow().getViews())s=a.getRenderWindow().getViews()[0];else return r;var o=s.getViewportSize(a),c=o[0]/o[1];switch(e.coordinateSystem){case Ue.WORLD:{if(e.referenceCoordinate){var u=e.referenceCoordinate.getComputedWorldValue(a);r[0]+=u[0],r[1]+=u[1],r[2]+=u[2]}r=a.worldToView(r[0],r[1],r[2]),r=a.viewToProjection(r[0],r[1],r[2],c),r=a.projectionToNormalizedViewport(r[0],r[1],r[2]),r=s.normalizedViewportToViewport(r[0],r[1],r[2],a),r=s.viewportToNormalizedDisplay(r[0],r[1],r[2],a),r=s.normalizedDisplayToDisplay(r[0],r[1],r[2]);break}case Ue.VIEW:{r=a.viewToProjection(r[0],r[1],r[2],c),r=a.projectionToNormalizedViewport(r[0],r[1],r[2]),r=s.normalizedViewportToViewport(r[0],r[1],r[2],a),r=s.viewportToNormalizedDisplay(r[0],r[1],r[2],a),r=s.normalizedDisplayToDisplay(r[0],r[1],r[2]);break}case Ue.PROJECTION:{r=a.projectionToNormalizedViewport(r[0],r[1],r[2]),r=s.normalizedViewportToViewport(r[0],r[1],r[2],a),r=s.viewportToNormalizedDisplay(r[0],r[1],r[2],a),r=s.normalizedDisplayToDisplay(r[0],r[1],r[2]);break}case Ue.NORMALIZED_VIEWPORT:{if(r=s.normalizedViewportToViewport(r[0],r[1],r[2],a),e.referenceCoordinate){var l=e.referenceCoordinate.getComputedDoubleViewportValue(a);r[0]+=l[0],r[1]+=l[1]}r=s.viewportToNormalizedDisplay(r[0],r[1],r[2],a),r=s.normalizedDisplayToDisplay(r[0],r[1],r[2]);break}case Ue.VIEWPORT:{if(e.referenceCoordinate){var f=e.referenceCoordinate.getComputedDoubleViewportValue(a);r[0]+=f[0],r[1]+=f[1]}r=s.viewportToNormalizedDisplay(r[0],r[1],r[2],a),r=s.normalizedDisplayToDisplay(r[0],r[1],r[2]);break}case Ue.NORMALIZED_DISPLAY:r=s.normalizedDisplayToDisplay(r[0],r[1],r[2]);break;case Ue.USERDEFINED:r=e.value.slice(0);break}if(e.referenceCoordinate&&(e.coordinateSystem===Ue.DISPLAY||e.coordinateSystem===Ue.NORMALIZED_DISPLAY)){var h=e.referenceCoordinate.getComputedDoubleDisplayValue(a);r[0]+=h[0],r[1]+=h[1]}return e.computedDoubleDisplayValue[0]=r[0],e.computedDoubleDisplayValue[1]=r[1],e.computing=0,e.computedDoubleDisplayValue},t.getComputedValue=function(n){var r=n;switch(e.renderer&&(r=e.renderer),e.coordinateSystem){case Ue.WORLD:return t.getComputedWorldValue(r);case Ue.VIEW:case Ue.NORMALIZED_VIEWPORT:case Ue.VIEWPORT:{var a=t.getComputedViewportValue(r);e.computedWorldValue[0]=a[0],e.computedWorldValue[1]=a[1];break}case Ue.NORMALIZED_DISPLAY:case Ue.DISPLAY:{var i=e.getComputedDisplayValue(r);e.computedWorldValue[0]=i[0],e.computedWorldValue[1]=i[1];break}}return e.computedWorldValue}}var CM={coordinateSystem:Ue.WORLD,value:[0,0,0],renderer:null,referenceCoordinate:null,computing:0,computedWorldValue:[0,0,0],computedDoubleDisplayValue:[0,0]};function t2(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,CM,n),I.obj(t,e),I.set(t,e,["property"]),I.get(t,e,["value"]),I.setGet(t,e,["coordinateSystem","referenceCoordinate","renderer"]),I.getArray(t,e,["value"],3),wM(t,e)}var SM=I.newInstance(t2,"vtkCoordinate"),Mu=xM({newInstance:SM,extend:t2},e2),Ru=a7.DisplayLocation;function TM(t,e){e.classHierarchy.push("vtkProperty2D"),t.setDisplayLocationToBackground=function(){return t.setDisplayLocation(Ru.BACKGROUND)},t.setDisplayLocationToForeground=function(){return t.setDisplayLocation(Ru.FOREGROUND)},t.setRepresentationToWireframe=function(){return t.setRepresentation($t.WIREFRAME)},t.setRepresentationToSurface=function(){return t.setRepresentation($t.SURFACE)},t.setRepresentationToPoints=function(){return t.setRepresentation($t.POINTS)},t.getRepresentationAsString=function(){return I.enumToString($t,e.representation)}}var bM={color:[1,1,1],opacity:1,pointSize:1,lineWidth:1,representation:$t.SURFACE,displayLocation:Ru.FOREGROUND};function r2(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,bM,n),I.obj(t,e),I.setGet(t,e,["opacity","lineWidth","pointSize","displayLocation","representation"]),I.setGetArray(t,e,["color"],3),TM(t,e)}var EM=I.newInstance(r2,"vtkProperty2D"),DM={newInstance:EM,extend:r2};function OM(t,e){e.classHierarchy.push("vtkActor2D"),t.getActors2D=function(){return t},t.getIsOpaque=function(){e.property||t.getProperty();var n=e.property.getOpacity()>=1;return n=n&&(!e.texture||!e.texture.isTranslucent()),n},t.hasTranslucentPolygonalGeometry=function(){return e.mapper===null?!1:(e.property===null&&t.setProperty(t.makeProperty()),!t.getIsOpaque())},t.makeProperty=DM.newInstance,t.getProperty=function(){return e.property===null&&(e.property=t.makeProperty()),e.property},t.setDisplayPosition=function(n,r){e.positionCoordinate.setCoordinateSystem(Gc.DISPLAY),e.positionCoordinate.setValue(n,r,0)},t.setWidth=function(n){var r=e.position2Coordinate.getValue();e.position2Coordinate.setCoordinateSystemToNormalizedViewport(),e.position2Coordinate.setValue(n,r[1])},t.setHeight=function(n){var r=e.position2Coordinate.getValue();e.position2Coordinate.setCoordinateSystemToNormalizedViewport(),e.position2Coordinate.setValue(r[0],n)},t.getWidth=function(){return e.position2Coordinate.getValue()[0]},t.getHeight=function(){return e.position2Coordinate.getValue()[1]},t.getMTime=function(){var n=e.mtime;if(e.property!==null){var r=e.property.getMTime();n=r>n?r:n}return n=e.positionCoordinate.getMTime()>n?e.positionCoordinate.getMTime():n,n=e.positionCoordinate2.getMTime()>n?e.positionCoordinate2.getMTime():n,n},t.getRedrawMTime=function(){var n=e.mtime;if(e.mapper!==null){var r=e.mapper.getMTime();n=r>n?r:n,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),r=e.mapper.getInput().getMTime(),n=r>n?r:n)}return n},t.getBounds=function(){return typeof t.getMapper().getBounds=="function"?(e.useBounds=!0,t.getMapper().getBounds()):(e.useBounds=!1,[])},t.getActualPositionCoordinate=function(){return e.positionCoordinate},t.getActualPositionCoordinate2=function(){return e.positionCoordinate2}}var NM={mapper:null,property:null,layerNumber:0,positionCoordinate:null,positionCoordinate2:null};function n2(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,NM,n),Qp.extend(t,e,n),e.positionCoordinate=Mu.newInstance(),e.positionCoordinate.setCoordinateSystemToViewport(),e.positionCoordinate2=Mu.newInstance(),e.positionCoordinate2.setCoordinateSystemToNormalizedViewport(),e.positionCoordinate2.setValue(.5,.5),e.positionCoordinate2.setReferenceCoordinate(e.positionCoordinate),I.set(t,e,["property"]),I.setGet(t,e,["mapper"]),OM(t,e)}var kM=I.newInstance(n2,"vtkActor2D"),MM={newInstance:kM,extend:n2};function RM(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mt(this,n)}}var Lu=function(t){kt(n,Vt.exports.Component);var e=RM(n);function n(r){var a,i,s;return yt(this,n),(s=e.call(this,r)).validData=!1,s.currentVisibility=!0,s.actor=MM.newInstance({visibility:!1,representationId:r.id}),s.lookupTable=ja.newInstance(),s.transformCoordinate=Mu.newInstance({coordinateSystem:(a=(i=s.props.transformCoordinate)===null||i===void 0?void 0:i.coordinateSystem)!==null&&a!==void 0?a:Gc.DISPLAY}),s.mapper=Bv.newInstance({lookupTable:s.lookupTable,useLookupTableScalarRange:!1,scalarVisibility:!1,transformCoordinate:s.transformCoordinate}),s.actor.setMapper(s.mapper),s.subscriptions=[],s}return mt(n,[{key:"render",value:function(){var r=this;return me.createElement(Xr.Consumer,null,function(a){return r.view||(a.renderer.addActor2D(r.actor),r.view=a),me.createElement(Qt.Provider,{value:r},me.createElement(Bt.Provider,{value:r.mapper},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children)))})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){for(;this.subscriptions.length;)this.subscriptions.pop().unsubscribe();this.view&&this.view.renderer&&this.view.renderer.removeActor(this.actor),this.actor.delete(),this.actor=null,this.mapper.delete(),this.mapper=null,this.lookupTable.delete(),this.lookupTable=null,this.transformCoordinate.delete(),this.transformCoordinate=null}},{key:"update",value:function(r,a){var i,s=r.actor,o=r.mapper,c=r.property,u=r.colorMapPreset,l=r.colorDataRange,f=r.transformCoordinate,h=!1;if(!s||a&&s===a.actor||(h=this.actor.set(s)||h),!o||a&&o===a.mapper||(h=this.mapper.set(o)||h),!c||a&&c===a.property||(h=this.actor.getProperty().set(c)||h),u&&this.lookupTable&&(!a||u!==a.colorMapPreset)){var p;h=!0;var d=ka.getPresetByName(u);this.lookupTable.applyColorMap(d),(p=this.lookupTable).setMappingRange.apply(p,we(l)),this.lookupTable.updateRange()}!l||!this.lookupTable||a&&bg(l,a.colorDataRange)||(h=!0,(i=this.lookupTable).setMappingRange.apply(i,we(l)),this.lookupTable.updateRange()),!f||!this.transformCoordinate||a&&f===a.transformCoordinate||(h=!0,this.transformCoordinate.set(f)),s&&s.visibility!==void 0&&(this.currentVisibility=s.visibility,h=this.actor.setVisibility(this.currentVisibility&&this.validData)||h),h&&this.dataChanged()}},{key:"dataAvailable",value:function(){this.validData||(this.validData=!0,this.actor.setVisibility(this.currentVisibility),this.dataChanged())}},{key:"dataChanged",value:function(){this.view&&this.view.renderView()}}]),n}();Lu.defaultProps={colorMapPreset:"erdc_rainbow_bright",colorDataRange:[0,1]},Lu.propTypes={id:ee.string,actor:ee.object,mapper:ee.object,property:ee.object,colorMapPreset:ee.string,colorDataRange:ee.arrayOf(ee.number),transformCoordinate:ee.object,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};var LM={DIRECTION:0,ROTATION:1,MATRIX:2},FM={SCALE_BY_CONSTANT:0,SCALE_BY_MAGNITUDE:1,SCALE_BY_COMPONENTS:2},Pc={OrientationModes:LM,ScaleModes:FM};function Ih(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function AM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ih(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ih(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var rn=Pc.OrientationModes,Br=Pc.ScaleModes,BM=I.vtkErrorMacro;function VM(t,e){e.classHierarchy.push("vtkGlyph3DMapper"),t.getOrientationModeAsString=function(){return I.enumToString(rn,e.orientationMode)},t.setOrientationModeToDirection=function(){return t.setOrientationMode(rn.DIRECTION)},t.setOrientationModeToRotation=function(){return t.setOrientationMode(rn.ROTATION)},t.setOrientationModeToMatrix=function(){return t.setOrientationMode(rn.MATRIX)},t.getOrientationArrayData=function(){var n=t.getInputData(0);return!n||!n.getPointData()?null:e.orientationArray?n.getPointData().getArray(e.orientationArray):n.getPointData().getVectors()},t.getScaleModeAsString=function(){return I.enumToString(Br,e.scaleMode)},t.setScaleModeToScaleByMagnitude=function(){return t.setScaleMode(Br.SCALE_BY_MAGNITUDE)},t.setScaleModeToScaleByComponents=function(){return t.setScaleMode(Br.SCALE_BY_COMPONENTS)},t.setScaleModeToScaleByConstant=function(){return t.setScaleMode(Br.SCALE_BY_CONSTANT)},t.getScaleArrayData=function(){var n=t.getInputData(0);return!n||!n.getPointData()?null:e.scaleArray?n.getPointData().getArray(e.scaleArray):n.getPointData().getScalars()},t.getBounds=function(){var n=t.getInputData(0),r=t.getInputData(1);return!n||!r?Ta():(t.buildArrays(),e.bounds)},t.buildArrays=function(){var n=t.getInputData(0),r=t.getInputData(1);if(e.buildTime.getMTime()<r.getMTime()||e.buildTime.getMTime()<n.getMTime()||e.buildTime.getMTime()<t.getMTime()){var a=n.getPoints().getData(),i=t.getScaleArrayData(),s=null,o=0;i&&(s=i.getData(),o=i.getNumberOfComponents()),e.scaling&&i&&e.scaleMode===Br.SCALE_BY_COMPONENTS&&i.getNumberOfComponents()!==3&&(BM("Cannot scale by components since scale array does not have 3 components."),i=null);var c=r.getBounds(),u=[];Ke.getCorners(c,u),e.bounds[0]=Ke.INIT_BOUNDS[0],e.bounds[1]=Ke.INIT_BOUNDS[1],e.bounds[2]=Ke.INIT_BOUNDS[2],e.bounds[3]=Ke.INIT_BOUNDS[3],e.bounds[4]=Ke.INIT_BOUNDS[4],e.bounds[5]=Ke.INIT_BOUNDS[5];var l=new Float64Array(3),f=t.getOrientationArrayData(),h=Me(new Float64Array(16)),p=[],d=[],y=a.length/3;e.matrixArray=new Float32Array(16*y);var m=e.matrixArray.buffer;e.normalArray=new Float32Array(9*y);for(var _=e.normalArray.buffer,v=[],g=0;g<y;++g){var x=new Float32Array(m,g*64,16);if(p[0]=a[g*3],p[1]=a[g*3+1],p[2]=a[g*3+2],rt(x,h,p),f){var w=[];switch(f.getTuple(g,w),e.orientationMode){case rn.MATRIX:{var C=[].concat(we(w.slice(0,3)),[0],we(w.slice(3,6)),[0],we(w.slice(6,9)),[0,0,0,0,1]);st(x,x,C);break}case rn.ROTATION:Es(x,x,w[2]),bs(x,x,w[0]),_i(x,x,w[1]);break;case rn.DIRECTION:if(w[1]===0&&w[2]===0)w[0]<0&&_i(x,x,3.1415926);else{var S=jn(w),T=[];T[0]=(w[0]+S)/2,T[1]=w[1]/2,T[2]=w[2]/2,Dt(x,x,3.1415926,T)}break}}if(e.scaling){if(d[0]=e.scaleFactor,d[1]=e.scaleFactor,d[2]=e.scaleFactor,i)switch(e.scaleMode){case Br.SCALE_BY_MAGNITUDE:for(var b=0;b<o;++b)v[b]=s[g*o+b];d[0]*=jn(v,o),d[1]=d[0],d[2]=d[0];break;case Br.SCALE_BY_COMPONENTS:for(var O=0;O<o;++O)v[O]=s[g*o+O];d[0]*=v[0],d[1]*=v[1],d[2]*=v[2];break;case Br.SCALE_BY_CONSTANT:}d[0]===0&&(d[0]=1e-10),d[1]===0&&(d[1]=1e-10),d[2]===0&&(d[2]=1e-10),Vn(x,x,d)}for(var D=0;D<8;++D)Te(l,u[D],x),l[0]<e.bounds[0]&&(e.bounds[0]=l[0]),l[1]<e.bounds[2]&&(e.bounds[2]=l[1]),l[2]<e.bounds[4]&&(e.bounds[4]=l[2]),l[0]>e.bounds[1]&&(e.bounds[1]=l[0]),l[1]>e.bounds[3]&&(e.bounds[3]=l[1]),l[2]>e.bounds[5]&&(e.bounds[5]=l[2]);var N=new Float32Array(_,g*36,9);Pi(N,x),ji(N,N),ju(N,N)}var R=t.getAbstractScalars(n,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName).scalars;e.useLookupTableScalarRange||t.getLookupTable().setRange(e.scalarRange[0],e.scalarRange[1]),e.colorArray=null;var E=t.getLookupTable();E&&R&&(E.build(),e.colorArray=E.mapScalars(R,e.colorMode,0)),e.buildTime.modified()}},t.getPrimitiveCount=function(){var n=t.getInputData(1),r=t.getInputData().getPoints().getNumberOfValues()/3,a={points:r*n.getPoints().getNumberOfValues()/3,verts:r*(n.getVerts().getNumberOfValues()-n.getVerts().getNumberOfCells()),lines:r*(n.getLines().getNumberOfValues()-2*n.getLines().getNumberOfCells()),triangles:r*(n.getPolys().getNumberOfValues()-3*n.getLines().getNumberOfCells())};return a}}var UM={orient:!0,orientationMode:rn.DIRECTION,orientationArray:null,scaling:!0,scaleFactor:1,scaleMode:Br.SCALE_BY_MAGNITUDE,scaleArray:null,matrixArray:null,normalArray:null,colorArray:null};function a2(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,UM,n),hn.extend(t,e,n),I.algo(t,e,2,0),e.buildTime={},I.obj(e.buildTime,{mtime:0}),e.boundsTime={},I.obj(e.boundsTime,{mtime:0}),I.setGet(t,e,["orient","orientationMode","orientationArray","scaleArray","scaleFactor","scaleMode","scaling"]),I.get(t,e,["colorArray","matrixArray","normalArray","buildTime"]),VM(t,e)}var GM=I.newInstance(a2,"vtkGlyph3DMapper"),PM=AM({newInstance:GM,extend:a2},Pc);function jM(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mt(this,n)}}var Fu=function(t){kt(n,Vt.exports.Component);var e=jM(n);function n(r){var a;return yt(this,n),(a=e.call(this,r)).validData=!1,a.currentVisibility=!0,a.actor=Kr.newInstance({visibility:!1}),a.lookupTable=ja.newInstance(),a.mapper=PM.newInstance({lookupTable:a.lookupTable,useLookupTableScalarRange:!0}),a.actor.setMapper(a.mapper),a}return mt(n,[{key:"render",value:function(){var r=this;return me.createElement(Xr.Consumer,null,function(a){return r.view||(a.renderer.addActor(r.actor),r.view=a),me.createElement(Qt.Provider,{value:r},me.createElement(Bt.Provider,{value:r.mapper},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children)))})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.view&&this.view.renderer&&this.view.renderer.removeActor(this.actor),this.actor.delete(),this.actor=null,this.mapper.delete(),this.mapper=null,this.lookupTable.delete(),this.lookupTable=null}},{key:"update",value:function(r,a){var i,s=r.actor,o=r.mapper,c=r.property,u=r.colorMapPreset,l=r.colorDataRange,f=!1;if(!s||a&&s===a.actor||(f=this.actor.set(s)||f),!o||a&&o===a.mapper||(f=this.mapper.set(o)||f),!c||a&&c===a.property||(f=this.actor.getProperty().set(c)||f),u&&(!a||u!==a.colorMapPreset)){var h;f=!0;var p=ka.getPresetByName(u);this.lookupTable.applyColorMap(p),(h=this.lookupTable).setMappingRange.apply(h,we(l)),this.lookupTable.updateRange()}!l||a&&zr(l,a.colorDataRange)||(f=!0,(i=this.lookupTable).setMappingRange.apply(i,we(l)),this.lookupTable.updateRange()),s&&s.visibility!==void 0&&(this.currentVisibility=s.visibility,f=this.actor.setVisibility(this.currentVisibility&&this.validData)||f),f&&this.dataChanged()}},{key:"dataAvailable",value:function(){this.validData||(this.validData=!0,this.actor.setVisibility(this.currentVisibility),this.dataChanged())}},{key:"dataChanged",value:function(){this.view&&this.view.renderView()}}]),n}();Fu.defaultProps={colorMapPreset:"erdc_rainbow_bright",colorDataRange:[0,1]},Fu.propTypes={id:ee.string,actor:ee.object,mapper:ee.object,property:ee.object,colorMapPreset:ee.string,colorDataRange:ee.arrayOf(ee.number),children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};function zM(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mt(this,n)}}var Ts=function(t){kt(n,Vt.exports.Component);var e=zM(n);function n(r){var a;return yt(this,n),(a=e.call(this,r)).imageData=yc.newInstance(),a}return mt(n,[{key:"render",value:function(){var r=this;return me.createElement(Qt.Consumer,null,function(a){return me.createElement(Bt.Consumer,null,function(i){return r.representation=a,r.downstream||(r.downstream=i),me.createElement(Zn.Provider,{value:r},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children))})})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.imageData.delete(),this.imageData=null}},{key:"update",value:function(r,a){var i=r.dimensions,s=r.spacing,o=r.origin,c=r.direction;this.imageData.set({dimensions:i,spacing:s,origin:o,direction:c})}},{key:"getDataSet",value:function(){return this.imageData}},{key:"modified",value:function(){this.imageData.modified(),this.representation&&this.imageData.getPointData().getScalars()&&(this.downstream.setInputData(this.imageData,this.props.port),this.representation.dataAvailable(),this.representation.dataChanged())}}]),n}();Ts.defaultProps={port:0,dimensions:[1,1,1],spacing:[1,1,1],origin:[0,0,0],direction:[1,0,0,0,1,0,0,0,1]},Ts.propTypes={id:ee.string,port:ee.number,dimensions:ee.arrayOf(ee.number),spacing:ee.arrayOf(ee.number),origin:ee.arrayOf(ee.number),direction:ee.arrayOf(ee.number),children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};function IM(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mt(this,n)}}var Gi=function(t){kt(n,Vt.exports.Component);var e=IM(n);function n(r){var a;return yt(this,n),(a=e.call(this,r)).array=Ee.newInstance({name:"scalars",empty:!0}),a.arrayAttached=!1,a}return mt(n,[{key:"render",value:function(){var r=this;return me.createElement(Zn.Consumer,null,function(a){return r.dataset=a,me.createElement(qi.Consumer,null,function(i){return r.fields||(r.fields=i),me.createElement("div",{key:r.props.id,name:r.props.name})})})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.fields.removeArray(this.array.getName()),this.array.delete(),this.array=null}},{key:"update",value:function(r,a){var i=r.name,s=r.type,o=r.values,c=r.numberOfComponents,u=r.range,l=er[s],f=!1;this.array.setName(i),!s||a&&s===a.type||(f=!0),!c||a&&c===a.numberOfComponents||(f=!0),!o||!f&&a&&o===a.values||(this.array.setData(la(o,l),c),u&&this.array.setRange(u,c),f=!0),this.arrayAttached||(this.fields[this.props.registration](this.array),this.arrayAttached=!0,f=!0),f&&this.dataset&&this.dataset.modified()}}]),n}();Gi.defaultProps={name:"scalars",type:"Float32Array",values:[],numberOfComponents:1,registration:"addArray"},Gi.propTypes={id:ee.string,type:ee.string,name:ee.string,values:ee.oneOfType([ee.arrayOf(ee.number),ee.object,ee.instanceOf(Float64Array),ee.instanceOf(Float32Array),ee.instanceOf(Int32Array),ee.instanceOf(Int16Array),ee.instanceOf(Int8Array),ee.instanceOf(Uint32Array),ee.instanceOf(Uint16Array),ee.instanceOf(Uint8Array)]),numberOfComponents:ee.number,registration:ee.string};function Au(t){return me.createElement(Zn.Consumer,null,function(e){return me.createElement(qi.Provider,{value:e.getDataSet().getFieldData()},t.children)})}Au.defaultProps={},Au.propTypes={children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};function Wh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WM(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mt(this,n)}}var Bu=function(t){kt(n,Vt.exports.Component);var e=WM(n);function n(r){var a;return yt(this,n),(a=e.call(this,r)).algo=null,a}return mt(n,[{key:"render",value:function(){var r=this;return me.createElement(Qt.Consumer,null,function(a){return me.createElement(Bt.Consumer,null,function(i){if(r.representation=a,!r.algo){var s=r.props,o=s.vtkClass,c=s.state;r.algo=Ot($0({vtkClass:o},c))}return r.downstream||(i.setInputConnection(r.algo.getOutputPort(),r.props.port),r.downstream=i),me.createElement(Bt.Provider,{value:r.algo},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children))})})}},{key:"componentDidMount",value:function(){this.update(this.props)}},{key:"componentDidUpdate",value:function(r,a,i){this.update(this.props,r)}},{key:"componentWillUnmount",value:function(){this.algo.delete(),this.algo=null}},{key:"update",value:function(r,a){var i=r.vtkClass,s=r.state;if(i&&(!a||i!==a.vtkClass)){if(this.algo){if(this.algo.getClassName()!==i){var o=this.algo;this.algo=Ot($0({vtkClass:i},s));for(var c=o.getNumberOfInputPorts(),u=0;u<c;u++){var l=o.getInputConnection(u);l?this.algo.setInputConnection(l,u):this.algo.setInputData(o.getInputData(u),u)}}}else this.algo=Ot($0({vtkClass:i},s));this.downstream.setInputConnection(this.algo.getOutputPort(),this.props.port)}!s||a&&zr(s,a.state)||(this.algo.set(s),this.representation&&this.representation.dataChanged()),this.algo.getNumberOfInputPorts()===0&&this.representation&&this.representation.dataAvailable()}}]),n}();Bu.defaultProps={port:0,vtkClass:"vtkConeSource",state:{}},Bu.propTypes={id:ee.string,port:ee.number,vtkClass:ee.string,state:ee.object,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};function Hh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function HM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hh(Object(n),!0).forEach(function(r){Oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Vo=I.vtkWarningMacro;function $M(t,e){e.classHierarchy.push("vtkCalculator"),t.setFormula=function(n){return n===e.formula?!1:(e.formula=n,t.modified(),!0)},t.getFormula=function(){return e.formula},t.augmentInputArrays=function(n,r){var a=r.slice(0);return(n===ct.POINT||n===ct.VERTEX)&&a.push({location:ct.COORDINATE}),a},t.createSimpleFormulaObject=function(n,r,a,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return{getArrays:function(){return{input:t.augmentInputArrays(n,r.map(function(c){return{location:n,name:c}})),output:[{location:n,name:a,attribute:"outputAttributeType"in s?s.outputAttributeType:av.SCALARS,numberOfComponents:"numberOfOutputComponents"in s?s.numberOfOutputComponents:1}]}},evaluate:function(c,u){var l=new Array(c.length),f=c.map(function(g,x){var w=g.getNumberOfComponents(),C=g.getData();return w===1?function(S){return C[S]}:function(S){return g.getTuple(S,l[x])}}),h=u[0],p=h.getData(),d=h.getNumberOfComponents(),y=new Array(d);if(d===1)p.forEach(function(g,x){p[x]=i.apply(void 0,we(f.map(function(w){return w(x)})).concat([x,y]))});else for(var m=h.getNumberOfTuples(),_=function(x){y=i.apply(void 0,we(f.map(function(w){return w(x)})).concat([x,y])),h.setTuple(x,y)},v=0;v<m;++v)_(v)}}},t.setFormulaSimple=function(n,r,a,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return t.setFormula(t.createSimpleFormulaObject(n,r,a,i,s))},t.prepareArrays=function(n,r,a){var i=[],s=[];return n.input.forEach(function(o){if(o.location===ct.COORDINATE)i.push(r.getPoints());else{var c=[[ct.UNIFORM,function(l){return l.getFieldData()}],[ct.POINT,function(l){return l.getPointData()}],[ct.CELL,function(l){return l.getCellData()}],[ct.VERTEX,function(l){return l.getVertexData()}],[ct.EDGE,function(l){return l.getEdgeData()}],[ct.ROW,function(l){return l.getRowData()}]].reduce(function(l,f){return l[f[0]]=f[1],l},{}),u="location"in o&&o.location in c?c[o.location](r):null;u?o.name?i.push(u.getArrayByName(o.name)):"index"in o?i.push(u.getArrayByIndex(o.index)):"attribute"in o&&o.location!==ct.UNIFORM?i.push(u.getActiveAttribute(o.attribute)):(Vo('No matching array for specifier "'.concat(JSON.stringify(o),'".')),i.push(null)):(Vo('Specifier "'.concat(JSON.stringify(o),'" did not provide a usable location.')),i.push(null))}}),n.output.forEach(function(o){var c=HM({},o),u="numberOfComponents"in c?c.numberOfComponents:1;if(o.location===ct.UNIFORM&&"tuples"in c&&(c.size=u*c.tuples),o.location===ct.COORDINATE){var l=r.getPoints(),f=pn.newInstance({dataType:l.getDataType()});f.setNumberOfPoints(l.getNumberOfPoints(),l.getNumberOfComponents()),a.setPoints(f),s.push(f)}else{var h=[[ct.UNIFORM,function(_){return _.getFieldData()},function(_,v){return"tuples"in v?v.tuples:0}],[ct.POINT,function(_){return _.getPointData()},function(_){return _.getPoints().getNumberOfPoints()}],[ct.CELL,function(_){return _.getCellData()},function(_){return _.getNumberOfCells()}],[ct.VERTEX,function(_){return _.getVertexData()},function(_){return _.getNumberOfVertices()}],[ct.EDGE,function(_){return _.getEdgeData()},function(_){return _.getNumberOfEdges()}],[ct.ROW,function(_){return _.getRowData()},function(_){return _.getNumberOfRows()}]].reduce(function(_,v){return _[v[0]]={getData:v[1],getSize:v[2]},_},{}),p=null,d=0;if("location"in o&&o.location in h&&(p=h[o.location].getData(a),d=h[o.location].getSize(r,c)),d<=0)Vo("Output array size could not be determined for ".concat(JSON.stringify(o),".")),s.push(null);else if(p){c.size=u*d;var y=Ee.newInstance(c),m=p.addArray(y);"attribute"in c&&o.location!==ct.UNIFORM&&p.setActiveAttributeByIndex(m,c.attribute),s.push(y)}else Vo('Specifier "'.concat(JSON.stringify(o),'" did not provide a usable location.')),s.push(null)}}),{arraysIn:i,arraysOut:s}},t.requestData=function(n,r){if(!e.formula)return 0;var a=e.formula.getArrays(n),i=Ot({vtkClass:n[0].getClassName()});i.shallowCopy(n[0]),r[0]=i;var s=t.prepareArrays(a,n[0],r[0]);return e.formula.evaluate(s.arraysIn,s.arraysOut),1}}var KM={formula:{getArrays:function(){return{input:[],output:[]}},evaluate:function(){return null}}};function i2(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,KM,n),I.obj(t,e),I.algo(t,e,1,1),$M(t,e)}var XM=I.newInstance(i2,"vtkCalculator"),qM={newInstance:XM,extend:i2};function YM(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ge(t);if(e){var a=Ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mt(this,n)}}var ZM=Xn.FieldDataTypes,Vu=function(t){kt(n,Vt.exports.Component);var e=YM(n);function n(r){var a;return yt(this,n),(a=e.call(this,r)).calculator=qM.newInstance(),a}return mt(n,[{key:"render",value:function(){var r=this,a=this.props,i=a.name,s=a.arrays,o=a.location,c=a.formula;return this.calculator.setFormulaSimple(ZM[o],s,i,c),me.createElement(Bt.Consumer,null,function(u){return r.downstream||(u.setInputConnection(r.calculator.getOutputPort(),r.props.port),r.downstream=u),me.createElement(Bt.Provider,{value:r.calculator},me.createElement("div",{key:r.props.id,id:r.props.id},r.props.children))})}},{key:"componentWillUnmount",value:function(){this.calculator.delete(),this.calculator=null}}]),n}();Vu.defaultProps={port:0,name:"scalars",location:"POINT",arrays:[],formula:function(t){return t[0]}},Vu.propTypes={id:ee.string,port:ee.number,name:ee.string,location:ee.string,arrays:ee.arrayOf(ee.string),formula:ee.func,children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};function Uu(t){return me.createElement(Zn.Consumer,null,function(e){return me.createElement(qi.Provider,{value:e.getDataSet().getCellData()},t.children)})}Uu.defaultProps={},Uu.propTypes={children:ee.oneOfType([ee.arrayOf(ee.node),ee.node])};var Pt={VolumeRepresentation:ys,SliceRepresentation:Eu,VolumeController:_s,PointData:Vi,PolyData:xs,Reader:Ou,ShareDataSet:Nu,View:mM,GeometryRepresentation:Ss,Geometry2DRepresentation:Lu,GlyphRepresentation:Fu,ImageData:Ts,DataArray:Gi,FieldData:Au,Algorithm:Bu,Calculator:Vu,CellData:Uu,MultiViewRoot:Uc};function Gu(t){var e=0,n=null,r=null;return t.rgb&&(n=t.rgb,e=3,r="Uint8Array"),t.rgba&&(n=t.rgb,e=4,r="Uint8Array"),t.scalars&&(n=t.scalars,e=1,r="Float32Array"),console.log("nbComponents",e),me.createElement(Ss,{id:t.id,colorMapPreset:t.colorMapPreset,colorDataRange:t.colorDataRange,property:t.property,showCubeAxes:t.showCubeAxes,cubeAxesStyle:t.cubeAxesStyle,showScalarBar:t.showScalarBar,scalarBarTitle:t.scalarBarTitle,scalarBarStyle:t.scalarBarStyle},me.createElement(xs,{points:t.xyz,connectivity:"points"},e&&me.createElement(Vi,null,me.createElement(Gi,{registration:"setScalars",numberOfComponents:e,values:n,type:r}))))}Gu.defaultProps={xyz:[0,0,0],colorMapPreset:"erdc_rainbow_bright",colorDataRange:[0,1],showCubeAxes:!1,showScalarBar:!1,scalarBarTitle:""},Gu.propTypes={id:ee.string,xyz:ee.arrayOf(ee.number),rgb:ee.arrayOf(ee.number),rgba:ee.arrayOf(ee.number),scalars:ee.arrayOf(ee.number),colorMapPreset:ee.string,colorDataRange:ee.arrayOf(ee.number),property:ee.object,showCubeAxes:ee.bool,cubeAxesStyle:ee.object,showScalarBar:ee.bool,scalarBarTitle:ee.string,scalarBarStyle:ee.object};function Pu(t){var e=0,n=null,r=null;return t.rgb&&(n=t.rgb,e=3,r="Uint8Array"),t.rgba&&(n=t.rgb,e=4,r="Uint8Array"),t.scalars&&(n=t.scalars,e=1,r=t.scalarsType),me.createElement(ys,{id:t.id,colorMapPreset:t.colorMapPreset,colorDataRange:t.colorDataRange,property:t.property,mapper:t.mapper,volume:t.volume},t.volumeController&&me.createElement(_s,{rescaleColorMap:t.rescaleColorMap,size:t.controllerSize}),me.createElement(Ts,{dimensions:t.dimensions,origin:t.origin,spacing:t.spacing},me.createElement(Vi,null,me.createElement(Gi,{registration:"setScalars",numberOfComponents:e,values:n,type:r}))))}Pu.defaultProps={scalarsType:"Float32Array",colorMapPreset:"erdc_rainbow_bright",colorDataRange:"auto",volumeController:!0,rescaleColorMap:!0,controllerSize:[400,150]},Pu.propTypes={id:ee.string,dimensions:ee.arrayOf(ee.number),spacing:ee.arrayOf(ee.number),origin:ee.arrayOf(ee.number),rgb:ee.arrayOf(ee.number),rgba:ee.arrayOf(ee.number),scalars:ee.arrayOf(ee.number),scalarsType:ee.string,mapper:ee.object,volume:ee.object,property:ee.object,colorMapPreset:ee.string,volumeController:ee.bool,controllerSize:ee.arrayOf(ee.number),rescaleColorMap:ee.bool,colorDataRange:ee.oneOfType([ee.arrayOf(ee.number),ee.string])};var o2={PointCloudRepresentation:Gu,VolumeDataRepresentation:Pu},QM=Pt.VolumeRepresentation,eR=Pt.SliceRepresentation,tR=Pt.VolumeController,rR=Pt.PointData,nR=Pt.PolyData,aR=Pt.Reader,iR=Pt.ShareDataSet,oR=Pt.View,sR=Pt.GeometryRepresentation,uR=Pt.Geometry2DRepresentation,cR=Pt.GlyphRepresentation,fR=Pt.ImageData,lR=Pt.DataArray,hR=Pt.Algorithm,pR=Pt.Calculator,vR=Pt.MultiViewRoot,dR=o2.PointCloudRepresentation,gR=o2.VolumeDataRepresentation,yR={ViewContext:Xr,RepresentationContext:Qt,DataSetContext:Zn,FieldsContext:qi,DownstreamContext:Bt};export{Gc as C,nR as D,dR as G,gR as P,aR as R,hR as S,sR as V,$t as a,Vv as b,iR as c,uR as d,pR as f,yR as g,vR as j,QM as l,tR as m,h8 as n,rR as p,eR as s,cR as u,ka as v,fR as w,oR as x,lR as y};
